const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B_2D3zlq.js","assets/vendor-BFl3bqVE.js","assets/index-CZYWMsg6.js","assets/MaterialImportWrapper-B2OEj7AA.js","assets/ui-J3wtD2gz.js","assets/firebase-CTJJwFJC.js","assets/index.es-DeYP4AI7.js","assets/index-Cj8TySqW.js","assets/index-DVQ6PC3S.js","assets/Edit-CnasLcit.js","assets/purify.es-CQJ0hv7W.js","assets/SupplementalMaterials-C7LZLD16.js","assets/MessagesPage-DPIln2GO.js"])))=>i.map(i=>d[i]);
var J9=Object.defineProperty;var eR=(e,n,t)=>n in e?J9(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var et=(e,n,t)=>eR(e,typeof n!="symbol"?n+"":n,t);import{s as lp,r as Q,R as _6,j as h,C as Jr,B as fe,P as Sn,T as de,a as At,b as Xj,u as tR,c as Bd,d as Ud,e as Zj,f as at,g as og,A as vr,h as nR,I as On,i as ov,k as lv,l as uv,m as xc,n as _n,o as cv,p as Jj,q as Cx,t as Si,v as cr,L as Fg,G as xt,w as Xa,x as Za,Q as rR,y as iR,z as Gw,M as eT,D as Dd,E as k6,F as Ki,H as fa,J as Xi,K as Ml,N as ha,S as aR,O as bu,U as es,V as zf,W as wd,X as Ol,Y as Ut,Z as R0,_ as xu,$ as lg,a0 as Wo,a1 as sR,a2 as Sd,a3 as N6,a4 as nl,a5 as oR,a6 as tT,a7 as lR,a8 as Xn,a9 as uR,aa as ms,ab as cR,ac as X0,ad as j6,ae as Z0,af as dR,ag as Ko,ah as fR,ai as Qw,aj as hR,ak as Zr,al as T6,am as KE,an as pR,ao as Ex,ap as mR,aq as gR,ar as Lc,as as Rc,at as Ll,au as bR,av as yR,aw as _d,ax as kd,ay as Ad,az as Cd,aA as xR,aB as Ed,aC as vR,aD as wR,aE as SR,aF as O6,aG as ug,aH as AR,aI as CR,aJ as ER,aK as _x,aL as Pg,aM as _R,aN as kR,aO as NR,aP as jR,aQ as pu,aR as uc,aS as nT,aT as kx,aU as TR,aV as rT,aW as Mc,aX as OR,aY as iT,aZ as IR,a_ as Kw,a$ as DR,b0 as aT,b1 as Xw,b2 as LR,b3 as sT,b4 as XE,b5 as RR,b6 as MR,b7 as FR,b8 as l1,b9 as Qy,ba as PR,bb as zR,bc as ZE,bd as qR,be as JE,bf as oT,bg as BR,bh as vn,bi as lT,bj as uT,bk as cT,bl as dT,bm as fT,bn as hT,bo as UR,bp as $R,bq as HR,br as WR,bs as VR}from"./ui-J3wtD2gz.js";import{r as YR,b as GR,g as ts,a as QR}from"./vendor-BFl3bqVE.js";import{g as KR,G as XR,o as ZR,b as JR,a as e3,s as t3,c as n3,d as r3,P as Zn,e as bn,f as Oa,h as Vf,m as pT,i as Wr,I as i3,j as a3,k as yp,l as Ta,r as vc,u as Yf,n as Gf,p as mT,q as Ma,_ as xn,y as I6,t as pi,K as s3,W as D6,R as tl,v as wi,Q as o3,x as dv,w as fv}from"./firebase-CTJJwFJC.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var _5={exports:{}},u1={},k5={exports:{}},N5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function l3(){return e_||(e_=1,function(e){function n(W,K){var ie=W.length;W.push(K);e:for(;0<ie;){var ue=ie-1>>>1,$=W[ue];if(0<i($,K))W[ue]=K,W[ie]=$,ie=ue;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var K=W[0],ie=W.pop();if(ie!==K){W[0]=ie;e:for(var ue=0,$=W.length,ae=$>>>1;ue<ae;){var U=2*(ue+1)-1,z=W[U],Z=U+1,ee=W[Z];if(0>i(z,ie))Z<$&&0>i(ee,z)?(W[ue]=ee,W[Z]=ie,ue=Z):(W[ue]=z,W[U]=ie,ue=U);else if(Z<$&&0>i(ee,ie))W[ue]=ee,W[Z]=ie,ue=Z;else break e}}return K}function i(W,K){var ie=W.sortIndex-K.sortIndex;return ie!==0?ie:W.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],d=[],f=1,g=null,b=3,m=!1,x=!1,y=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function R(W){for(var K=t(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=W)r(d),K.sortIndex=K.expirationTime,n(u,K);else break;K=t(d)}}function F(W){if(y=!1,R(W),!x)if(t(u)!==null)x=!0,q||(q=!0,O());else{var K=t(d);K!==null&&G(F,K.startTime-W)}}var q=!1,k=-1,L=5,B=-1;function X(){return A?!0:!(e.unstable_now()-B<L)}function j(){if(A=!1,q){var W=e.unstable_now();B=W;var K=!0;try{e:{x=!1,y&&(y=!1,C(k),k=-1),m=!0;var ie=b;try{t:{for(R(W),g=t(u);g!==null&&!(g.expirationTime>W&&X());){var ue=g.callback;if(typeof ue=="function"){g.callback=null,b=g.priorityLevel;var $=ue(g.expirationTime<=W);if(W=e.unstable_now(),typeof $=="function"){g.callback=$,R(W),K=!0;break t}g===t(u)&&r(u),R(W)}else r(u);g=t(u)}if(g!==null)K=!0;else{var ae=t(d);ae!==null&&G(F,ae.startTime-W),K=!1}}break e}finally{g=null,b=ie,m=!1}K=void 0}}finally{K?O():q=!1}}}var O;if(typeof N=="function")O=function(){N(j)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,T=P.port2;P.port1.onmessage=j,O=function(){T.postMessage(null)}}else O=function(){w(j,0)};function G(W,K){k=w(function(){W(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(W){switch(b){case 1:case 2:case 3:var K=3;break;default:K=b}var ie=b;b=K;try{return W()}finally{b=ie}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(W,K){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ie=b;b=W;try{return K()}finally{b=ie}},e.unstable_scheduleCallback=function(W,K,ie){var ue=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ue+ie:ue):ie=ue,W){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ie+$,W={id:f++,callback:K,priorityLevel:W,startTime:ie,expirationTime:$,sortIndex:-1},ie>ue?(W.sortIndex=ie,n(d,W),t(u)===null&&W===t(d)&&(y?(C(k),k=-1):y=!0,G(F,ie-ue))):(W.sortIndex=$,n(u,W),x||m||(x=!0,q||(q=!0,O()))),W},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(W){var K=b;return function(){var ie=b;b=K;try{return W.apply(this,arguments)}finally{b=ie}}}}(N5)),N5}var t_;function u3(){return t_||(t_=1,k5.exports=l3()),k5.exports}var n_;function c3(){if(n_)return u1;n_=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=u3(),n=YR(),t=GR();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(a(o)!==o)throw Error(r(188))}function u(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(r(188));return c!==o?null:o}for(var p=o,v=c;;){var E=p.return;if(E===null)break;var I=E.alternate;if(I===null){if(v=E.return,v!==null){p=v;continue}break}if(E.child===I.child){for(I=E.child;I;){if(I===p)return l(E),o;if(I===v)return l(E),c;I=I.sibling}throw Error(r(188))}if(p.return!==v.return)p=E,v=I;else{for(var J=!1,pe=E.child;pe;){if(pe===p){J=!0,p=E,v=I;break}if(pe===v){J=!0,v=E,p=I;break}pe=pe.sibling}if(!J){for(pe=I.child;pe;){if(pe===p){J=!0,p=I,v=E;break}if(pe===v){J=!0,v=I,p=E;break}pe=pe.sibling}if(!J)throw Error(r(189))}}if(p.alternate!==v)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:c}function d(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=d(o),c!==null)return c;o=o.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),N=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function O(o){return o===null||typeof o!="object"?null:(o=j&&o[j]||o["@@iterator"],typeof o=="function"?o:null)}var P=Symbol.for("react.client.reference");function T(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===P?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case A:return"Profiler";case y:return"StrictMode";case F:return"Suspense";case q:return"SuspenseList";case B:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case m:return"Portal";case N:return(o.displayName||"Context")+".Provider";case C:return(o._context.displayName||"Context")+".Consumer";case R:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return c=o.displayName||null,c!==null?c:T(o.type)||"Memo";case L:c=o._payload,o=o._init;try{return T(o(c))}catch{}}return null}var G=Array.isArray,W=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ue=[],$=-1;function ae(o){return{current:o}}function U(o){0>$||(o.current=ue[$],ue[$]=null,$--)}function z(o,c){$++,ue[$]=o.current,o.current=c}var Z=ae(null),ee=ae(null),se=ae(null),we=ae(null);function xe(o,c){switch(z(se,c),z(ee,o),z(Z,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?CE(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=CE(c),o=EE(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}U(Z),z(Z,o)}function Ee(){U(Z),U(ee),U(se)}function Ie(o){o.memoizedState!==null&&z(we,o);var c=Z.current,p=EE(c,o.type);c!==p&&(z(ee,o),z(Z,p))}function Re(o){ee.current===o&&(U(Z),U(ee)),we.current===o&&(U(we),r1._currentValue=ie)}var We=Object.prototype.hasOwnProperty,Ve=e.unstable_scheduleCallback,V=e.unstable_cancelCallback,Se=e.unstable_shouldYield,te=e.unstable_requestPaint,be=e.unstable_now,ce=e.unstable_getCurrentPriorityLevel,Ae=e.unstable_ImmediatePriority,De=e.unstable_UserBlockingPriority,ze=e.unstable_NormalPriority,Ne=e.unstable_LowPriority,Xe=e.unstable_IdlePriority,lt=e.log,nt=e.unstable_setDisableYieldValue,Fe=null,ve=null;function ke(o){if(typeof lt=="function"&&nt(o),ve&&typeof ve.setStrictMode=="function")try{ve.setStrictMode(Fe,o)}catch{}}var Te=Math.clz32?Math.clz32:Ft,dt=Math.log,Je=Math.LN2;function Ft(o){return o>>>=0,o===0?32:31-(dt(o)/Je|0)|0}var kt=256,Vt=4194304;function Lt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Zt(o,c,p){var v=o.pendingLanes;if(v===0)return 0;var E=0,I=o.suspendedLanes,J=o.pingedLanes;o=o.warmLanes;var pe=v&134217727;return pe!==0?(v=pe&~I,v!==0?E=Lt(v):(J&=pe,J!==0?E=Lt(J):p||(p=pe&~o,p!==0&&(E=Lt(p))))):(pe=v&~I,pe!==0?E=Lt(pe):J!==0?E=Lt(J):p||(p=v&~o,p!==0&&(E=Lt(p)))),E===0?0:c!==0&&c!==E&&(c&I)===0&&(I=E&-E,p=c&-c,I>=p||I===32&&(p&4194048)!==0)?c:E}function nn(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function ln(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pn(){var o=kt;return kt<<=1,(kt&4194048)===0&&(kt=256),o}function zn(){var o=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),o}function Gr(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function ir(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Rn(o,c,p,v,E,I){var J=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var pe=o.entanglements,je=o.expirationTimes,Ze=o.hiddenUpdates;for(p=J&~p;0<p;){var pt=31-Te(p),St=1<<pt;pe[pt]=0,je[pt]=-1;var tt=Ze[pt];if(tt!==null)for(Ze[pt]=null,pt=0;pt<tt.length;pt++){var rt=tt[pt];rt!==null&&(rt.lane&=-536870913)}p&=~St}v!==0&&Gt(o,v,0),I!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=I&~(J&~c))}function Gt(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var v=31-Te(c);o.entangledLanes|=c,o.entanglements[v]=o.entanglements[v]|1073741824|p&4194090}function An(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var v=31-Te(p),E=1<<v;E&c|o[v]&c&&(o[v]|=c),p&=~E}}function ya(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Sr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function oi(){var o=K.p;return o!==0?o:(o=window.event,o===void 0?32:HE(o.type))}function xa(o,c){var p=K.p;try{return K.p=o,c()}finally{K.p=p}}var Dt=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Dt,ar="__reactProps$"+Dt,Mr="__reactContainer$"+Dt,dr="__reactEvents$"+Dt,fr="__reactListeners$"+Dt,$n="__reactHandles$"+Dt,bs="__reactResources$"+Dt,Nr="__reactMarker$"+Dt;function Ia(o){delete o[Hn],delete o[ar],delete o[dr],delete o[fr],delete o[$n]}function Pi(o){var c=o[Hn];if(c)return c;for(var p=o.parentNode;p;){if(c=p[Mr]||p[Hn]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=jE(o);o!==null;){if(p=o[Hn])return p;o=jE(o)}return c}o=p,p=o.parentNode}return null}function zi(o){if(o=o[Hn]||o[Mr]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function Jn(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Ci(o){var c=o[bs];return c||(c=o[bs]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function er(o){o[Nr]=!0}var ro=new Set,Co={};function Fa(o,c){Fr(o,c),Fr(o+"Capture",c)}function Fr(o,c){for(Co[o]=c,o=0;o<c.length;o++)ro.add(c[o])}var il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},Ou={};function Hc(o){return We.call(Ou,o)?!0:We.call(Ul,o)?!1:il.test(o)?Ou[o]=!0:(Ul[o]=!0,!1)}function $s(o,c,p){if(Hc(c))if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+p)}}function ys(o,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+p)}}function Pa(o,c,p,v){if(v===null)o.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(c,p,""+v)}}var xs,rs;function is(o){if(xs===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);xs=c&&c[1]||"",rs=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xs+o+rs}var $l=!1;function io(o,c){if(!o||$l)return"";$l=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var St=function(){throw Error()};if(Object.defineProperty(St.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(St,[])}catch(rt){var tt=rt}Reflect.construct(o,[],St)}else{try{St.call()}catch(rt){tt=rt}o.call(St.prototype)}}else{try{throw Error()}catch(rt){tt=rt}(St=o())&&typeof St.catch=="function"&&St.catch(function(){})}}catch(rt){if(rt&&tt&&typeof rt.stack=="string")return[rt.stack,tt.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=v.DetermineComponentFrameRoot(),J=I[0],pe=I[1];if(J&&pe){var je=J.split(`
`),Ze=pe.split(`
`);for(E=v=0;v<je.length&&!je[v].includes("DetermineComponentFrameRoot");)v++;for(;E<Ze.length&&!Ze[E].includes("DetermineComponentFrameRoot");)E++;if(v===je.length||E===Ze.length)for(v=je.length-1,E=Ze.length-1;1<=v&&0<=E&&je[v]!==Ze[E];)E--;for(;1<=v&&0<=E;v--,E--)if(je[v]!==Ze[E]){if(v!==1||E!==1)do if(v--,E--,0>E||je[v]!==Ze[E]){var pt=`
`+je[v].replace(" at new "," at ");return o.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",o.displayName)),pt}while(1<=v&&0<=E);break}}}finally{$l=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?is(p):""}function Wc(o){switch(o.tag){case 26:case 27:case 5:return is(o.type);case 16:return is("Lazy");case 13:return is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return io(o.type,!1);case 11:return io(o.type.render,!1);case 1:return io(o.type,!0);case 31:return is("Activity");default:return""}}function Pr(o){try{var c="";do c+=Wc(o),o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Ji(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ao(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function al(o){var c=ao(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),v=""+o[c];if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,I=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return E.call(this)},set:function(J){v=""+J,I.call(this,J)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(J){v=""+J},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function za(o){o._valueTracker||(o._valueTracker=al(o))}function Hl(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),v="";return o&&(v=ao(o)?o.checked?"true":"false":o.value),o=v,o!==p?(c.setValue(o),!0):!1}function ea(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var sl=/[\n"\\]/g;function hr(o){return o.replace(sl,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Eo(o,c,p,v,E,I,J,pe){o.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?o.type=J:o.removeAttribute("type"),c!=null?J==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Ji(c)):o.value!==""+Ji(c)&&(o.value=""+Ji(c)):J!=="submit"&&J!=="reset"||o.removeAttribute("value"),c!=null?_o(o,J,Ji(c)):p!=null?_o(o,J,Ji(p)):v!=null&&o.removeAttribute("value"),E==null&&I!=null&&(o.defaultChecked=!!I),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"?o.name=""+Ji(pe):o.removeAttribute("name")}function Wl(o,c,p,v,E,I,J,pe){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.type=I),c!=null||p!=null){if(!(I!=="submit"&&I!=="reset"||c!=null))return;p=p!=null?""+Ji(p):"",c=c!=null?""+Ji(c):p,pe||c===o.value||(o.value=c),o.defaultValue=c}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=pe?o.checked:!!v,o.defaultChecked=!!v,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(o.name=J)}function _o(o,c,p){c==="number"&&ea(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function Hs(o,c,p,v){if(o=o.options,c){c={};for(var E=0;E<p.length;E++)c["$"+p[E]]=!0;for(p=0;p<o.length;p++)E=c.hasOwnProperty("$"+o[p].value),o[p].selected!==E&&(o[p].selected=E),E&&v&&(o[p].defaultSelected=!0)}else{for(p=""+Ji(p),c=null,E=0;E<o.length;E++){if(o[E].value===p){o[E].selected=!0,v&&(o[E].defaultSelected=!0);return}c!==null||o[E].disabled||(c=o[E])}c!==null&&(c.selected=!0)}}function Iu(o,c,p){if(c!=null&&(c=""+Ji(c),c!==o.value&&(o.value=c),p==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=p!=null?""+Ji(p):""}function Ws(o,c,p,v){if(c==null){if(v!=null){if(p!=null)throw Error(r(92));if(G(v)){if(1<v.length)throw Error(r(93));v=v[0]}p=v}p==null&&(p=""),c=p}p=Ji(c),o.defaultValue=p,v=o.textContent,v===p&&v!==""&&v!==null&&(o.value=v)}function qi(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var as=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vs(o,c,p){var v=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":v?o.setProperty(c,p):typeof p!="number"||p===0||as.has(c)?c==="float"?o.cssFloat=p:o[c]=(""+p).trim():o[c]=p+"px"}function Du(o,c,p){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var E in c)v=c[E],c.hasOwnProperty(E)&&p[E]!==v&&vs(o,E,v)}else for(var I in c)c.hasOwnProperty(I)&&vs(o,I,c[I])}function qa(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ol=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ys(o){return ol.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var ll=null;function li(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ei=null,ws=null;function tn(o){var c=zi(o);if(c&&(o=c.stateNode)){var p=o[ar]||null;e:switch(o=c.stateNode,c.type){case"input":if(Eo(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+hr(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var v=p[c];if(v!==o&&v.form===o.form){var E=v[ar]||null;if(!E)throw Error(r(90));Eo(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(c=0;c<p.length;c++)v=p[c],v.form===o.form&&Hl(v)}break e;case"textarea":Iu(o,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Hs(o,!!p.multiple,c,!1)}}}var so=!1;function ul(o,c,p){if(so)return o(c,p);so=!0;try{var v=o(c);return v}finally{if(so=!1,(ei!==null||ws!==null)&&(Gb(),ei&&(c=ei,o=ws,ws=ei=null,tn(c),o)))for(c=0;c<o.length;c++)tn(o[c])}}function Ei(o,c){var p=o.stateNode;if(p===null)return null;var v=p[ar]||null;if(v===null)return null;p=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ko=!1;if(Ba)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){ko=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{ko=!1}var Da=null,$a=null,No=null;function cl(){if(No)return No;var o,c=$a,p=c.length,v,E="value"in Da?Da.value:Da.textContent,I=E.length;for(o=0;o<p&&c[o]===E[o];o++);var J=p-o;for(v=1;v<=J&&c[p-v]===E[I-v];v++);return No=E.slice(o,1<v?1-v:void 0)}function oo(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Ss(){return!0}function H(){return!1}function me(o){function c(p,v,E,I,J){this._reactName=p,this._targetInst=E,this.type=v,this.nativeEvent=I,this.target=J,this.currentTarget=null;for(var pe in o)o.hasOwnProperty(pe)&&(p=o[pe],this[pe]=p?p(I):I[pe]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Ss:H,this.isPropagationStopped=H,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),c}var Oe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ot=me(Oe),Jt=f({},Oe,{view:0,detail:0}),Bt=me(Jt),jn,Cn,pr,pn=f({},Jt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==pr&&(pr&&o.type==="mousemove"?(jn=o.screenX-pr.screenX,Cn=o.screenY-pr.screenY):Cn=jn=0,pr=o),jn)},movementY:function(o){return"movementY"in o?o.movementY:Cn}}),jr=me(pn),va=f({},pn,{dataTransfer:0}),Ar=me(va),Cr=f({},Jt,{relatedTarget:0}),Qr=me(Cr),Ha=f({},Oe,{animationName:0,elapsedTime:0,pseudoElement:0}),Gs=me(Ha),As=f({},Oe,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Gd=me(As),dl=f({},Oe,{data:0}),jo=me(dl),Ip={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gh(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=mh[o])?!!c[o]:!1}function Kd(){return gh}var Am=f({},Jt,{key:function(o){if(o.key){var c=Ip[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=oo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Qd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kd,charCode:function(o){return o.type==="keypress"?oo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?oo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Xd=me(Am),Vc=f({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zd=me(Vc),Lu=f({},Jt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kd}),bh=me(Lu),D=f({},Oe,{propertyName:0,elapsedTime:0,pseudoElement:0}),re=me(D),_e=f({},pn,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=me(_e),Ye=f({},Oe,{newState:0,oldState:0}),ct=me(Ye),Ct=[9,13,27,32],Tt=Ba&&"CompositionEvent"in window,$t=null;Ba&&"documentMode"in document&&($t=document.documentMode);var yn=Ba&&"TextEvent"in window&&!$t,fn=Ba&&(!Tt||$t&&8<$t&&11>=$t),qn=" ",ti=!1;function ui(o,c){switch(o){case"keyup":return Ct.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _i(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ki=!1;function wa(o,c){switch(o){case"compositionend":return _i(c);case"keypress":return c.which!==32?null:(ti=!0,qn);case"textInput":return o=c.data,o===qn&&ti?null:o;default:return null}}function To(o,c){if(ki)return o==="compositionend"||!Tt&&ui(o,c)?(o=cl(),No=$a=Da=null,ki=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return fn&&c.locale!=="ko"?null:c.data;default:return null}}var Qs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oo(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Qs[o.type]:c==="textarea"}function yh(o,c,p,v){ei?ws?ws.push(v):ws=[v]:ei=v,c=ey(c,"onChange"),0<c.length&&(p=new ot("onChange","change",null,p,v),o.push({event:p,listeners:c}))}var Vl=null,Yl=null;function Jd(o){xE(o,0)}function Ru(o){var c=Jn(o);if(Hl(c))return o}function ef(o,c){if(o==="change")return c}var Yc=!1;if(Ba){var ta;if(Ba){var Mu="oninput"in document;if(!Mu){var Gc=document.createElement("div");Gc.setAttribute("oninput","return;"),Mu=typeof Gc.oninput=="function"}ta=Mu}else ta=!1;Yc=ta&&(!document.documentMode||9<document.documentMode)}function Qc(){Vl&&(Vl.detachEvent("onpropertychange",tf),Yl=Vl=null)}function tf(o){if(o.propertyName==="value"&&Ru(Yl)){var c=[];yh(c,Yl,o,li(o)),ul(Jd,c)}}function Cs(o,c,p){o==="focusin"?(Qc(),Vl=c,Yl=p,Vl.attachEvent("onpropertychange",tf)):o==="focusout"&&Qc()}function Cm(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ru(Yl)}function xh(o,c){if(o==="click")return Ru(c)}function Dp(o,c){if(o==="input"||o==="change")return Ru(c)}function lo(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Sa=typeof Object.is=="function"?Object.is:lo;function Fu(o,c){if(Sa(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),v=Object.keys(c);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var E=p[v];if(!We.call(c,E)||!Sa(o[E],c[E]))return!1}return!0}function vh(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Gl(o,c){var p=vh(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=c&&v>=c)return{node:p,offset:c-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=vh(p)}}function Pu(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Pu(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function ss(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=ea(o.document);c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=ea(o.document)}return c}function La(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var zu=Ba&&"documentMode"in document&&11>=document.documentMode,Es=null,Io=null,fl=null,Do=!1;function mi(o,c,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Do||Es==null||Es!==ea(v)||(v=Es,"selectionStart"in v&&La(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),fl&&Fu(fl,v)||(fl=v,v=ey(Io,"onSelect"),0<v.length&&(c=new ot("onSelect","select",null,c,p),o.push({event:c,listeners:v}),c.target=Es)))}function Lo(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var Bi={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionrun:Lo("Transition","TransitionRun"),transitionstart:Lo("Transition","TransitionStart"),transitioncancel:Lo("Transition","TransitionCancel"),transitionend:Lo("Transition","TransitionEnd")},_s={},Kc={};Ba&&(Kc=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function hl(o){if(_s[o])return _s[o];if(!Bi[o])return o;var c=Bi[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in Kc)return _s[o]=c[p];return o}var nf=hl("animationend"),qu=hl("animationiteration"),Bu=hl("animationstart"),Uu=hl("transitionrun"),Xc=hl("transitionstart"),rf=hl("transitioncancel"),$u=hl("transitionend"),Ql=new Map,Zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zc.push("scrollEnd");function gi(o,c){Ql.set(o,c),Fa(c,[o])}var Ks=new WeakMap;function Dn(o,c){if(typeof o=="object"&&o!==null){var p=Ks.get(o);return p!==void 0?p:(c={value:o,source:c,stack:Pr(c)},Ks.set(o,c),c)}return{value:o,source:c,stack:Pr(c)}}var Ln=[],zr=0,Ni=0;function uo(){for(var o=zr,c=Ni=zr=0;c<o;){var p=Ln[c];Ln[c++]=null;var v=Ln[c];Ln[c++]=null;var E=Ln[c];Ln[c++]=null;var I=Ln[c];if(Ln[c++]=null,v!==null&&E!==null){var J=v.pending;J===null?E.next=E:(E.next=J.next,J.next=E),v.pending=E}I!==0&&Lp(p,E,I)}}function Hu(o,c,p,v){Ln[zr++]=o,Ln[zr++]=c,Ln[zr++]=p,Ln[zr++]=v,Ni|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function Wu(o,c,p,v){return Hu(o,c,p,v),Jc(o)}function Kl(o,c){return Hu(o,null,null,c),Jc(o)}function Lp(o,c,p){o.lanes|=p;var v=o.alternate;v!==null&&(v.lanes|=p);for(var E=!1,I=o.return;I!==null;)I.childLanes|=p,v=I.alternate,v!==null&&(v.childLanes|=p),I.tag===22&&(o=I.stateNode,o===null||o._visibility&1||(E=!0)),o=I,I=I.return;return o.tag===3?(I=o.stateNode,E&&c!==null&&(E=31-Te(p),o=I.hiddenUpdates,v=o[E],v===null?o[E]=[c]:v.push(c),c.lane=p|536870912),I):null}function Jc(o){if(50<Qm)throw Qm=0,K2=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Aa={};function co(o,c,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wa(o,c,p,v){return new co(o,c,p,v)}function af(o){return o=o.prototype,!(!o||!o.isReactComponent)}function pl(o,c){var p=o.alternate;return p===null?(p=Wa(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function wh(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function ed(o,c,p,v,E,I){var J=0;if(v=o,typeof o=="function")af(o)&&(J=1);else if(typeof o=="string")J=q9(o,p,Z.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case B:return o=Wa(31,p,c,E),o.elementType=B,o.lanes=I,o;case x:return Xl(p.children,E,I,c);case y:J=8,E|=24;break;case A:return o=Wa(12,p,c,E|2),o.elementType=A,o.lanes=I,o;case F:return o=Wa(13,p,c,E),o.elementType=F,o.lanes=I,o;case q:return o=Wa(19,p,c,E),o.elementType=q,o.lanes=I,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case w:case N:J=10;break e;case C:J=9;break e;case R:J=11;break e;case k:J=14;break e;case L:J=16,v=null;break e}J=29,p=Error(r(130,o===null?"null":typeof o,"")),v=null}return c=Wa(J,p,c,E),c.elementType=o,c.type=v,c.lanes=I,c}function Xl(o,c,p,v){return o=Wa(7,o,v,c),o.lanes=p,o}function Rp(o,c,p){return o=Wa(6,o,null,c),o.lanes=p,o}function Sh(o,c,p){return c=Wa(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Vu=[],Zl=0,sf=null,Mp=0,fo=[],Xs=0,td=null,Jl=1,eu="";function nd(o,c){Vu[Zl++]=Mp,Vu[Zl++]=sf,sf=o,Mp=c}function yb(o,c,p){fo[Xs++]=Jl,fo[Xs++]=eu,fo[Xs++]=td,td=o;var v=Jl;o=eu;var E=32-Te(v)-1;v&=~(1<<E),p+=1;var I=32-Te(c)+E;if(30<I){var J=E-E%5;I=(v&(1<<J)-1).toString(32),v>>=J,E-=J,Jl=1<<32-Te(c)+E|p<<E|v,eu=I+o}else Jl=1<<I|p<<E|v,eu=o}function Ah(o){o.return!==null&&(nd(o,1),yb(o,1,0))}function Ch(o){for(;o===sf;)sf=Vu[--Zl],Vu[Zl]=null,Mp=Vu[--Zl],Vu[Zl]=null;for(;o===td;)td=fo[--Xs],fo[Xs]=null,eu=fo[--Xs],fo[Xs]=null,Jl=fo[--Xs],fo[Xs]=null}var na=null,bi=null,tr=!1,Yu=null,ml=!1,Em=Error(r(519));function rd(o){var c=Error(r(418,""));throw of(Dn(c,o)),Em}function xb(o){var c=o.stateNode,p=o.type,v=o.memoizedProps;switch(c[Hn]=o,c[ar]=v,p){case"dialog":Un("cancel",c),Un("close",c);break;case"iframe":case"object":case"embed":Un("load",c);break;case"video":case"audio":for(p=0;p<Xm.length;p++)Un(Xm[p],c);break;case"source":Un("error",c);break;case"img":case"image":case"link":Un("error",c),Un("load",c);break;case"details":Un("toggle",c);break;case"input":Un("invalid",c),Wl(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),za(c);break;case"select":Un("invalid",c);break;case"textarea":Un("invalid",c),Ws(c,v.value,v.defaultValue,v.children),za(c)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||v.suppressHydrationWarning===!0||AE(c.textContent,p)?(v.popover!=null&&(Un("beforetoggle",c),Un("toggle",c)),v.onScroll!=null&&Un("scroll",c),v.onScrollEnd!=null&&Un("scrollend",c),v.onClick!=null&&(c.onclick=ty),c=!0):c=!1,c||rd(o)}function tu(o){for(na=o.return;na;)switch(na.tag){case 5:case 13:ml=!1;return;case 27:case 3:ml=!0;return;default:na=na.return}}function os(o){if(o!==na)return!1;if(!tr)return tu(o),tr=!0,!1;var c=o.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||f5(o.type,o.memoizedProps)),p=!p),p&&bi&&rd(o),tu(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(p=o.data,p==="/$"){if(c===0){bi=uu(o.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++;o=o.nextSibling}bi=null}}else c===27?(c=bi,Cf(o.type)?(o=g5,g5=null,bi=o):bi=c):bi=na?uu(o.stateNode.nextSibling):null;return!0}function Zs(){bi=na=null,tr=!1}function vb(){var o=Yu;return o!==null&&(mo===null?mo=o:mo.push.apply(mo,o),Yu=null),o}function of(o){Yu===null?Yu=[o]:Yu.push(o)}var gl=ae(null),Ca=null,nu=null;function Gu(o,c,p){z(gl,c._currentValue),c._currentValue=p}function bl(o){o._currentValue=gl.current,U(gl)}function Fp(o,c,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),o===p)break;o=o.return}}function Pp(o,c,p,v){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var I=E.dependencies;if(I!==null){var J=E.child;I=I.firstContext;e:for(;I!==null;){var pe=I;I=E;for(var je=0;je<c.length;je++)if(pe.context===c[je]){I.lanes|=p,pe=I.alternate,pe!==null&&(pe.lanes|=p),Fp(I.return,p,o),v||(J=null);break e}I=pe.next}}else if(E.tag===18){if(J=E.return,J===null)throw Error(r(341));J.lanes|=p,I=J.alternate,I!==null&&(I.lanes|=p),Fp(J,p,o),J=null}else J=E.child;if(J!==null)J.return=E;else for(J=E;J!==null;){if(J===o){J=null;break}if(E=J.sibling,E!==null){E.return=J.return,J=E;break}J=J.return}E=J}}function lf(o,c,p,v){o=null;for(var E=c,I=!1;E!==null;){if(!I){if((E.flags&524288)!==0)I=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var J=E.alternate;if(J===null)throw Error(r(387));if(J=J.memoizedProps,J!==null){var pe=E.type;Sa(E.pendingProps.value,J.value)||(o!==null?o.push(pe):o=[pe])}}else if(E===we.current){if(J=E.alternate,J===null)throw Error(r(387));J.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(r1):o=[r1])}E=E.return}o!==null&&Pp(c,o,p,v),c.flags|=262144}function zp(o){for(o=o.firstContext;o!==null;){if(!Sa(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function yl(o){Ca=o,nu=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ra(o){return qp(Ca,o)}function Qu(o,c){return Ca===null&&yl(o),qp(o,c)}function qp(o,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},nu===null){if(o===null)throw Error(r(308));nu=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else nu=nu.next=c;return p}var w2=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,v){o.push(v)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},wb=e.unstable_scheduleCallback,S2=e.unstable_NormalPriority,ia={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _m(){return{controller:new w2,data:new Map,refCount:0}}function Eh(o){o.refCount--,o.refCount===0&&wb(S2,function(){o.controller.abort()})}var _h=null,km=0,id=0,ru=null;function A2(o,c){if(_h===null){var p=_h=[];km=0,id=r5(),ru={status:"pending",value:void 0,then:function(v){p.push(v)}}}return km++,c.then(Sb,Sb),c}function Sb(){if(--km===0&&_h!==null){ru!==null&&(ru.status="fulfilled");var o=_h;_h=null,id=0,ru=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function Ab(o,c){var p=[],v={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return o.then(function(){v.status="fulfilled",v.value=c;for(var E=0;E<p.length;E++)(0,p[E])(c)},function(E){for(v.status="rejected",v.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),v}var S=W.S;W.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&A2(o,c),S!==null&&S(o,c)};var _=ae(null);function M(){var o=_.current;return o!==null?o:ri.pooledCache}function Y(o,c){c===null?z(_,_.current):z(_,c.pool)}function ne(){var o=M();return o===null?null:{parent:ia._currentValue,pool:o}}var oe=Error(r(460)),le=Error(r(474)),he=Error(r(542)),ye={then:function(){}};function Ce(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Me(){}function Ke(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(Me,Me),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,yt(o),o;default:if(typeof c.status=="string")c.then(Me,Me);else{if(o=ri,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(v){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=v}},function(v){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,yt(o),o}throw Ge=c,oe}}var Ge=null;function $e(){if(Ge===null)throw Error(r(459));var o=Ge;return Ge=null,o}function yt(o){if(o===oe||o===he)throw Error(r(483))}var it=!1;function Pe(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ue(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ht(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function vt(o,c,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Or&2)!==0){var E=v.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),v.pending=c,c=Jc(o),Lp(o,null,p),c}return Hu(o,v,c,p),Jc(o)}function mt(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,An(o,p)}}function Ot(o,c){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var E=null,I=null;if(p=p.firstBaseUpdate,p!==null){do{var J={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};I===null?E=I=J:I=I.next=J,p=p.next}while(p!==null);I===null?E=I=c:I=I.next=c}else E=I=c;p={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:I,shared:v.shared,callbacks:v.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}var Nt=!1;function Qt(){if(Nt){var o=ru;if(o!==null)throw o}}function jt(o,c,p,v){Nt=!1;var E=o.updateQueue;it=!1;var I=E.firstBaseUpdate,J=E.lastBaseUpdate,pe=E.shared.pending;if(pe!==null){E.shared.pending=null;var je=pe,Ze=je.next;je.next=null,J===null?I=Ze:J.next=Ze,J=je;var pt=o.alternate;pt!==null&&(pt=pt.updateQueue,pe=pt.lastBaseUpdate,pe!==J&&(pe===null?pt.firstBaseUpdate=Ze:pe.next=Ze,pt.lastBaseUpdate=je))}if(I!==null){var St=E.baseState;J=0,pt=Ze=je=null,pe=I;do{var tt=pe.lane&-536870913,rt=tt!==pe.lane;if(rt?(Gn&tt)===tt:(v&tt)===tt){tt!==0&&tt===id&&(Nt=!0),pt!==null&&(pt=pt.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var dn=o,rn=pe;tt=c;var Br=p;switch(rn.tag){case 1:if(dn=rn.payload,typeof dn=="function"){St=dn.call(Br,St,tt);break e}St=dn;break e;case 3:dn.flags=dn.flags&-65537|128;case 0:if(dn=rn.payload,tt=typeof dn=="function"?dn.call(Br,St,tt):dn,tt==null)break e;St=f({},St,tt);break e;case 2:it=!0}}tt=pe.callback,tt!==null&&(o.flags|=64,rt&&(o.flags|=8192),rt=E.callbacks,rt===null?E.callbacks=[tt]:rt.push(tt))}else rt={lane:tt,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},pt===null?(Ze=pt=rt,je=St):pt=pt.next=rt,J|=tt;if(pe=pe.next,pe===null){if(pe=E.shared.pending,pe===null)break;rt=pe,pe=rt.next,rt.next=null,E.lastBaseUpdate=rt,E.shared.pending=null}}while(!0);pt===null&&(je=St),E.baseState=je,E.firstBaseUpdate=Ze,E.lastBaseUpdate=pt,I===null&&(E.shared.lanes=0),vf|=J,o.lanes=J,o.memoizedState=St}}function Vn(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function sr(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)Vn(p[o],c)}var In=ae(null),Tn=ae(0);function Er(o,c){o=pd,z(Tn,o),z(In,c),pd=o|c.baseLanes}function or(){z(Tn,pd),z(In,In.current)}function mn(){pd=Tn.current,U(In),U(Tn)}var Tr=0,en=null,un=null,Wn=null,Yn=!1,Ea=!1,aa=!1,ji=0,Ti=0,Ui=null,ho=0;function lr(){throw Error(r(321))}function $i(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!Sa(o[p],c[p]))return!1;return!0}function Ro(o,c,p,v,E,I){return Tr=I,en=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,W.H=o===null||o.memoizedState===null?rC:iC,aa=!1,I=p(v,E),aa=!1,Ea&&(I=ad(c,p,v,E)),Ku(o),I}function Ku(o){W.H=Rb;var c=un!==null&&un.next!==null;if(Tr=0,Wn=un=en=null,Yn=!1,Ti=0,Ui=null,c)throw Error(r(300));o===null||Va||(o=o.dependencies,o!==null&&zp(o)&&(Va=!0))}function ad(o,c,p,v){en=o;var E=0;do{if(Ea&&(Ui=null),Ti=0,Ea=!1,25<=E)throw Error(r(301));if(E+=1,Wn=un=null,o.updateQueue!=null){var I=o.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}W.H=XL,I=c(p,v)}while(Ea);return I}function Xu(){var o=W.H,c=o.useState()[0];return c=typeof c.then=="function"?Zu(c):c,o=o.useState()[0],(un!==null?un.memoizedState:null)!==o&&(en.flags|=1024),c}function ni(){var o=ji!==0;return ji=0,o}function kh(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function Bp(o){if(Yn){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Yn=!1}Tr=0,Wn=un=en=null,Ea=!1,Ti=ji=0,Ui=null}function ls(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?en.memoizedState=Wn=o:Wn=Wn.next=o,Wn}function ci(){if(un===null){var o=en.alternate;o=o!==null?o.memoizedState:null}else o=un.next;var c=Wn===null?en.memoizedState:Wn.next;if(c!==null)Wn=c,un=o;else{if(o===null)throw en.alternate===null?Error(r(467)):Error(r(310));un=o,o={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},Wn===null?en.memoizedState=Wn=o:Wn=Wn.next=o}return Wn}function sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zu(o){var c=Ti;return Ti+=1,Ui===null&&(Ui=[]),o=Ke(Ui,o,c),c=en,(Wn===null?c.memoizedState:Wn.next)===null&&(c=c.alternate,W.H=c===null||c.memoizedState===null?rC:iC),o}function ks(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Zu(o);if(o.$$typeof===N)return ra(o)}throw Error(r(438,String(o)))}function Ju(o){var c=null,p=en.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var v=en.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=sd(),en.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),v=0;v<o;v++)p[v]=X;return c.index++,p}function Ns(o,c){return typeof c=="function"?c(o):c}function Nh(o){var c=ci();return uf(c,un,o)}function uf(o,c,p){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=p;var E=o.baseQueue,I=v.pending;if(I!==null){if(E!==null){var J=E.next;E.next=I.next,I.next=J}c.baseQueue=E=I,v.pending=null}if(I=o.baseState,E===null)o.memoizedState=I;else{c=E.next;var pe=J=null,je=null,Ze=c,pt=!1;do{var St=Ze.lane&-536870913;if(St!==Ze.lane?(Gn&St)===St:(Tr&St)===St){var tt=Ze.revertLane;if(tt===0)je!==null&&(je=je.next={lane:0,revertLane:0,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),St===id&&(pt=!0);else if((Tr&tt)===tt){Ze=Ze.next,tt===id&&(pt=!0);continue}else St={lane:0,revertLane:Ze.revertLane,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},je===null?(pe=je=St,J=I):je=je.next=St,en.lanes|=tt,vf|=tt;St=Ze.action,aa&&p(I,St),I=Ze.hasEagerState?Ze.eagerState:p(I,St)}else tt={lane:St,revertLane:Ze.revertLane,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},je===null?(pe=je=tt,J=I):je=je.next=tt,en.lanes|=St,vf|=St;Ze=Ze.next}while(Ze!==null&&Ze!==c);if(je===null?J=I:je.next=pe,!Sa(I,o.memoizedState)&&(Va=!0,pt&&(p=ru,p!==null)))throw p;o.memoizedState=I,o.baseState=J,o.baseQueue=je,v.lastRenderedState=I}return E===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function Up(o){var c=ci(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var v=p.dispatch,E=p.pending,I=c.memoizedState;if(E!==null){p.pending=null;var J=E=E.next;do I=o(I,J.action),J=J.next;while(J!==E);Sa(I,c.memoizedState)||(Va=!0),c.memoizedState=I,c.baseQueue===null&&(c.baseState=I),p.lastRenderedState=I}return[I,v]}function jh(o,c,p){var v=en,E=ci(),I=tr;if(I){if(p===void 0)throw Error(r(407));p=p()}else p=c();var J=!Sa((un||E).memoizedState,p);J&&(E.memoizedState=p,Va=!0),E=E.queue;var pe=cf.bind(null,v,E,o);if(hf(2048,8,pe,[o]),E.getSnapshot!==c||J||Wn!==null&&Wn.memoizedState.tag&1){if(v.flags|=2048,au(9,Dh(),Th.bind(null,v,E,p,c),null),ri===null)throw Error(r(349));I||(Tr&124)!==0||$p(v,c,p)}return p}function $p(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=en.updateQueue,c===null?(c=sd(),en.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function Th(o,c,p,v){c.value=p,c.getSnapshot=v,Cb(c)&&Eb(o)}function cf(o,c,p){return p(function(){Cb(c)&&Eb(o)})}function Cb(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!Sa(o,p)}catch{return!0}}function Eb(o){var c=Kl(o,2);c!==null&&Bo(c,o,2)}function Oh(o){var c=ls();if(typeof o=="function"){var p=o;if(o=p(),aa){ke(!0);try{p()}finally{ke(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:o},c}function iu(o,c,p,v){return o.baseState=p,uf(o,un,typeof v=="function"?v:Ns)}function C2(o,c,p,v,E){if(Lb(o))throw Error(r(485));if(o=c.action,o!==null){var I={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){I.listeners.push(J)}};W.T!==null?p(!0):I.isTransition=!1,v(I),p=c.pending,p===null?(I.next=c.pending=I,_b(c,I)):(I.next=p.next,c.pending=p.next=I)}}function _b(o,c){var p=c.action,v=c.payload,E=o.state;if(c.isTransition){var I=W.T,J={};W.T=J;try{var pe=p(E,v),je=W.S;je!==null&&je(J,pe),kb(o,c,pe)}catch(Ze){df(o,c,Ze)}finally{W.T=I}}else try{I=p(E,v),kb(o,c,I)}catch(Ze){df(o,c,Ze)}}function kb(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){Nm(o,c,v)},function(v){return df(o,c,v)}):Nm(o,c,p)}function Nm(o,c,p){c.status="fulfilled",c.value=p,jm(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,_b(o,p)))}function df(o,c,p){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=p,jm(c),c=c.next;while(c!==v)}o.action=null}function jm(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function Tm(o,c){return c}function Ih(o,c){if(tr){var p=ri.formState;if(p!==null){e:{var v=en;if(tr){if(bi){t:{for(var E=bi,I=ml;E.nodeType!==8;){if(!I){E=null;break t}if(E=uu(E.nextSibling),E===null){E=null;break t}}I=E.data,E=I==="F!"||I==="F"?E:null}if(E){bi=uu(E.nextSibling),v=E.data==="F!";break e}}rd(v)}v=!1}v&&(c=p[0])}}return p=ls(),p.memoizedState=p.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tm,lastRenderedState:c},p.queue=v,p=eC.bind(null,en,v),v.dispatch=p,v=Oh(!1),I=E2.bind(null,en,!1,v.queue),v=ls(),E={state:c,dispatch:null,action:o,pending:null},v.queue=E,p=C2.bind(null,en,E,I,p),E.dispatch=p,v.memoizedState=o,[c,p,!1]}function Hp(o){var c=ci();return ff(c,un,o)}function ff(o,c,p){if(c=uf(o,c,Tm)[0],o=Nh(Ns)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=Zu(c)}catch(J){throw J===oe?he:J}else v=c;c=ci();var E=c.queue,I=E.dispatch;return p!==c.memoizedState&&(en.flags|=2048,au(9,Dh(),Nb.bind(null,E,p),null)),[v,I,o]}function Nb(o,c){o.action=c}function jb(o){var c=ci(),p=un;if(p!==null)return ff(c,p,o);ci(),c=c.memoizedState,p=ci();var v=p.queue.dispatch;return p.memoizedState=o,[c,v,!1]}function au(o,c,p,v){return o={tag:o,create:p,deps:v,inst:c,next:null},c=en.updateQueue,c===null&&(c=sd(),en.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,c.lastEffect=o),o}function Dh(){return{destroy:void 0,resource:void 0}}function Wp(){return ci().memoizedState}function Mo(o,c,p,v){var E=ls();v=v===void 0?null:v,en.flags|=o,E.memoizedState=au(1|c,Dh(),p,v)}function hf(o,c,p,v){var E=ci();v=v===void 0?null:v;var I=E.memoizedState.inst;un!==null&&v!==null&&$i(v,un.memoizedState.deps)?E.memoizedState=au(c,I,p,v):(en.flags|=o,E.memoizedState=au(1|c,I,p,v))}function Om(o,c){Mo(8390656,8,o,c)}function Tb(o,c){hf(2048,8,o,c)}function Im(o,c){return hf(4,2,o,c)}function od(o,c){return hf(4,4,o,c)}function Ob(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Dm(o,c,p){p=p!=null?p.concat([o]):null,hf(4,4,Ob.bind(null,c,o),p)}function Lm(){}function Rm(o,c){var p=ci();c=c===void 0?null:c;var v=p.memoizedState;return c!==null&&$i(c,v[1])?v[0]:(p.memoizedState=[o,c],o)}function Ib(o,c){var p=ci();c=c===void 0?null:c;var v=p.memoizedState;if(c!==null&&$i(c,v[1]))return v[0];if(v=o(),aa){ke(!0);try{o()}finally{ke(!1)}}return p.memoizedState=[v,c],v}function ld(o,c,p){return p===void 0||(Tr&1073741824)!==0?o.memoizedState=c:(o.memoizedState=p,o=KC(),en.lanes|=o,vf|=o,p)}function Vp(o,c,p,v){return Sa(p,c)?p:In.current!==null?(o=ld(o,p,v),Sa(o,c)||(Va=!0),o):(Tr&42)===0?(Va=!0,o.memoizedState=p):(o=KC(),en.lanes|=o,vf|=o,c)}function Lh(o,c,p,v,E){var I=K.p;K.p=I!==0&&8>I?I:8;var J=W.T,pe={};W.T=pe,E2(o,!1,c,p);try{var je=E(),Ze=W.S;if(Ze!==null&&Ze(pe,je),je!==null&&typeof je=="object"&&typeof je.then=="function"){var pt=Ab(je,v);zm(o,c,pt,qo(o))}else zm(o,c,v,qo(o))}catch(St){zm(o,c,{then:function(){},status:"rejected",reason:St},qo())}finally{K.p=I,W.T=J}}function su(){}function xl(o,c,p,v){if(o.tag!==5)throw Error(r(476));var E=ou(o).queue;Lh(o,E,c,ie,p===null?su:function(){return Rh(o),p(v)})}function ou(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:ie},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Rh(o){var c=ou(o).next.queue;zm(o,c,{},qo())}function Mh(){return ra(r1)}function Mm(){return ci().memoizedState}function Db(){return ci().memoizedState}function Fm(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=qo();o=ht(p);var v=vt(c,o,p);v!==null&&(Bo(v,c,p),mt(v,c,p)),c={cache:_m()},o.payload=c;return}c=c.return}}function Pm(o,c,p){var v=qo();p={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},Lb(o)?tC(c,p):(p=Wu(o,c,p,v),p!==null&&(Bo(p,o,v),nC(p,c,v)))}function eC(o,c,p){var v=qo();zm(o,c,p,v)}function zm(o,c,p,v){var E={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(Lb(o))tC(c,E);else{var I=o.alternate;if(o.lanes===0&&(I===null||I.lanes===0)&&(I=c.lastRenderedReducer,I!==null))try{var J=c.lastRenderedState,pe=I(J,p);if(E.hasEagerState=!0,E.eagerState=pe,Sa(pe,J))return Hu(o,c,E,0),ri===null&&uo(),!1}catch{}finally{}if(p=Wu(o,c,E,v),p!==null)return Bo(p,o,v),nC(p,c,v),!0}return!1}function E2(o,c,p,v){if(v={lane:2,revertLane:r5(),action:v,hasEagerState:!1,eagerState:null,next:null},Lb(o)){if(c)throw Error(r(479))}else c=Wu(o,p,v,2),c!==null&&Bo(c,o,2)}function Lb(o){var c=o.alternate;return o===en||c!==null&&c===en}function tC(o,c){Ea=Yn=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function nC(o,c,p){if((p&4194048)!==0){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,An(o,p)}}var Rb={readContext:ra,use:ks,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useLayoutEffect:lr,useInsertionEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useSyncExternalStore:lr,useId:lr,useHostTransitionStatus:lr,useFormState:lr,useActionState:lr,useOptimistic:lr,useMemoCache:lr,useCacheRefresh:lr},rC={readContext:ra,use:ks,useCallback:function(o,c){return ls().memoizedState=[o,c===void 0?null:c],o},useContext:ra,useEffect:Om,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,Mo(4194308,4,Ob.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Mo(4194308,4,o,c)},useInsertionEffect:function(o,c){Mo(4,2,o,c)},useMemo:function(o,c){var p=ls();c=c===void 0?null:c;var v=o();if(aa){ke(!0);try{o()}finally{ke(!1)}}return p.memoizedState=[v,c],v},useReducer:function(o,c,p){var v=ls();if(p!==void 0){var E=p(c);if(aa){ke(!0);try{p(c)}finally{ke(!1)}}}else E=c;return v.memoizedState=v.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},v.queue=o,o=o.dispatch=Pm.bind(null,en,o),[v.memoizedState,o]},useRef:function(o){var c=ls();return o={current:o},c.memoizedState=o},useState:function(o){o=Oh(o);var c=o.queue,p=eC.bind(null,en,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:Lm,useDeferredValue:function(o,c){var p=ls();return ld(p,o,c)},useTransition:function(){var o=Oh(!1);return o=Lh.bind(null,en,o.queue,!0,!1),ls().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var v=en,E=ls();if(tr){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),ri===null)throw Error(r(349));(Gn&124)!==0||$p(v,c,p)}E.memoizedState=p;var I={value:p,getSnapshot:c};return E.queue=I,Om(cf.bind(null,v,I,o),[o]),v.flags|=2048,au(9,Dh(),Th.bind(null,v,I,p,c),null),p},useId:function(){var o=ls(),c=ri.identifierPrefix;if(tr){var p=eu,v=Jl;p=(v&~(1<<32-Te(v)-1)).toString(32)+p,c=""+c+"R"+p,p=ji++,0<p&&(c+="H"+p.toString(32)),c+=""}else p=ho++,c=""+c+"r"+p.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:Mh,useFormState:Ih,useActionState:Ih,useOptimistic:function(o){var c=ls();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=E2.bind(null,en,!0,p),p.dispatch=c,[o,c]},useMemoCache:Ju,useCacheRefresh:function(){return ls().memoizedState=Fm.bind(null,en)}},iC={readContext:ra,use:ks,useCallback:Rm,useContext:ra,useEffect:Tb,useImperativeHandle:Dm,useInsertionEffect:Im,useLayoutEffect:od,useMemo:Ib,useReducer:Nh,useRef:Wp,useState:function(){return Nh(Ns)},useDebugValue:Lm,useDeferredValue:function(o,c){var p=ci();return Vp(p,un.memoizedState,o,c)},useTransition:function(){var o=Nh(Ns)[0],c=ci().memoizedState;return[typeof o=="boolean"?o:Zu(o),c]},useSyncExternalStore:jh,useId:Mm,useHostTransitionStatus:Mh,useFormState:Hp,useActionState:Hp,useOptimistic:function(o,c){var p=ci();return iu(p,un,o,c)},useMemoCache:Ju,useCacheRefresh:Db},XL={readContext:ra,use:ks,useCallback:Rm,useContext:ra,useEffect:Tb,useImperativeHandle:Dm,useInsertionEffect:Im,useLayoutEffect:od,useMemo:Ib,useReducer:Up,useRef:Wp,useState:function(){return Up(Ns)},useDebugValue:Lm,useDeferredValue:function(o,c){var p=ci();return un===null?ld(p,o,c):Vp(p,un.memoizedState,o,c)},useTransition:function(){var o=Up(Ns)[0],c=ci().memoizedState;return[typeof o=="boolean"?o:Zu(o),c]},useSyncExternalStore:jh,useId:Mm,useHostTransitionStatus:Mh,useFormState:jb,useActionState:jb,useOptimistic:function(o,c){var p=ci();return un!==null?iu(p,un,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:Ju,useCacheRefresh:Db},Yp=null,qm=0;function Mb(o){var c=qm;return qm+=1,Yp===null&&(Yp=[]),Ke(Yp,o,c)}function Bm(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Fb(o,c){throw c.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function aC(o){var c=o._init;return c(o._payload)}function sC(o){function c(He,qe){if(o){var Qe=He.deletions;Qe===null?(He.deletions=[qe],He.flags|=16):Qe.push(qe)}}function p(He,qe){if(!o)return null;for(;qe!==null;)c(He,qe),qe=qe.sibling;return null}function v(He){for(var qe=new Map;He!==null;)He.key!==null?qe.set(He.key,He):qe.set(He.index,He),He=He.sibling;return qe}function E(He,qe){return He=pl(He,qe),He.index=0,He.sibling=null,He}function I(He,qe,Qe){return He.index=Qe,o?(Qe=He.alternate,Qe!==null?(Qe=Qe.index,Qe<qe?(He.flags|=67108866,qe):Qe):(He.flags|=67108866,qe)):(He.flags|=1048576,qe)}function J(He){return o&&He.alternate===null&&(He.flags|=67108866),He}function pe(He,qe,Qe,bt){return qe===null||qe.tag!==6?(qe=Rp(Qe,He.mode,bt),qe.return=He,qe):(qe=E(qe,Qe),qe.return=He,qe)}function je(He,qe,Qe,bt){var zt=Qe.type;return zt===x?pt(He,qe,Qe.props.children,bt,Qe.key):qe!==null&&(qe.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===L&&aC(zt)===qe.type)?(qe=E(qe,Qe.props),Bm(qe,Qe),qe.return=He,qe):(qe=ed(Qe.type,Qe.key,Qe.props,null,He.mode,bt),Bm(qe,Qe),qe.return=He,qe)}function Ze(He,qe,Qe,bt){return qe===null||qe.tag!==4||qe.stateNode.containerInfo!==Qe.containerInfo||qe.stateNode.implementation!==Qe.implementation?(qe=Sh(Qe,He.mode,bt),qe.return=He,qe):(qe=E(qe,Qe.children||[]),qe.return=He,qe)}function pt(He,qe,Qe,bt,zt){return qe===null||qe.tag!==7?(qe=Xl(Qe,He.mode,bt,zt),qe.return=He,qe):(qe=E(qe,Qe),qe.return=He,qe)}function St(He,qe,Qe){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return qe=Rp(""+qe,He.mode,Qe),qe.return=He,qe;if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case b:return Qe=ed(qe.type,qe.key,qe.props,null,He.mode,Qe),Bm(Qe,qe),Qe.return=He,Qe;case m:return qe=Sh(qe,He.mode,Qe),qe.return=He,qe;case L:var bt=qe._init;return qe=bt(qe._payload),St(He,qe,Qe)}if(G(qe)||O(qe))return qe=Xl(qe,He.mode,Qe,null),qe.return=He,qe;if(typeof qe.then=="function")return St(He,Mb(qe),Qe);if(qe.$$typeof===N)return St(He,Qu(He,qe),Qe);Fb(He,qe)}return null}function tt(He,qe,Qe,bt){var zt=qe!==null?qe.key:null;if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return zt!==null?null:pe(He,qe,""+Qe,bt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case b:return Qe.key===zt?je(He,qe,Qe,bt):null;case m:return Qe.key===zt?Ze(He,qe,Qe,bt):null;case L:return zt=Qe._init,Qe=zt(Qe._payload),tt(He,qe,Qe,bt)}if(G(Qe)||O(Qe))return zt!==null?null:pt(He,qe,Qe,bt,null);if(typeof Qe.then=="function")return tt(He,qe,Mb(Qe),bt);if(Qe.$$typeof===N)return tt(He,qe,Qu(He,Qe),bt);Fb(He,Qe)}return null}function rt(He,qe,Qe,bt,zt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return He=He.get(Qe)||null,pe(qe,He,""+bt,zt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case b:return He=He.get(bt.key===null?Qe:bt.key)||null,je(qe,He,bt,zt);case m:return He=He.get(bt.key===null?Qe:bt.key)||null,Ze(qe,He,bt,zt);case L:var Mn=bt._init;return bt=Mn(bt._payload),rt(He,qe,Qe,bt,zt)}if(G(bt)||O(bt))return He=He.get(Qe)||null,pt(qe,He,bt,zt,null);if(typeof bt.then=="function")return rt(He,qe,Qe,Mb(bt),zt);if(bt.$$typeof===N)return rt(He,qe,Qe,Qu(qe,bt),zt);Fb(qe,bt)}return null}function dn(He,qe,Qe,bt){for(var zt=null,Mn=null,Xt=qe,sn=qe=0,Ga=null;Xt!==null&&sn<Qe.length;sn++){Xt.index>sn?(Ga=Xt,Xt=null):Ga=Xt.sibling;var ur=tt(He,Xt,Qe[sn],bt);if(ur===null){Xt===null&&(Xt=Ga);break}o&&Xt&&ur.alternate===null&&c(He,Xt),qe=I(ur,qe,sn),Mn===null?zt=ur:Mn.sibling=ur,Mn=ur,Xt=Ga}if(sn===Qe.length)return p(He,Xt),tr&&nd(He,sn),zt;if(Xt===null){for(;sn<Qe.length;sn++)Xt=St(He,Qe[sn],bt),Xt!==null&&(qe=I(Xt,qe,sn),Mn===null?zt=Xt:Mn.sibling=Xt,Mn=Xt);return tr&&nd(He,sn),zt}for(Xt=v(Xt);sn<Qe.length;sn++)Ga=rt(Xt,He,sn,Qe[sn],bt),Ga!==null&&(o&&Ga.alternate!==null&&Xt.delete(Ga.key===null?sn:Ga.key),qe=I(Ga,qe,sn),Mn===null?zt=Ga:Mn.sibling=Ga,Mn=Ga);return o&&Xt.forEach(function(jf){return c(He,jf)}),tr&&nd(He,sn),zt}function rn(He,qe,Qe,bt){if(Qe==null)throw Error(r(151));for(var zt=null,Mn=null,Xt=qe,sn=qe=0,Ga=null,ur=Qe.next();Xt!==null&&!ur.done;sn++,ur=Qe.next()){Xt.index>sn?(Ga=Xt,Xt=null):Ga=Xt.sibling;var jf=tt(He,Xt,ur.value,bt);if(jf===null){Xt===null&&(Xt=Ga);break}o&&Xt&&jf.alternate===null&&c(He,Xt),qe=I(jf,qe,sn),Mn===null?zt=jf:Mn.sibling=jf,Mn=jf,Xt=Ga}if(ur.done)return p(He,Xt),tr&&nd(He,sn),zt;if(Xt===null){for(;!ur.done;sn++,ur=Qe.next())ur=St(He,ur.value,bt),ur!==null&&(qe=I(ur,qe,sn),Mn===null?zt=ur:Mn.sibling=ur,Mn=ur);return tr&&nd(He,sn),zt}for(Xt=v(Xt);!ur.done;sn++,ur=Qe.next())ur=rt(Xt,He,sn,ur.value,bt),ur!==null&&(o&&ur.alternate!==null&&Xt.delete(ur.key===null?sn:ur.key),qe=I(ur,qe,sn),Mn===null?zt=ur:Mn.sibling=ur,Mn=ur);return o&&Xt.forEach(function(Z9){return c(He,Z9)}),tr&&nd(He,sn),zt}function Br(He,qe,Qe,bt){if(typeof Qe=="object"&&Qe!==null&&Qe.type===x&&Qe.key===null&&(Qe=Qe.props.children),typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case b:e:{for(var zt=Qe.key;qe!==null;){if(qe.key===zt){if(zt=Qe.type,zt===x){if(qe.tag===7){p(He,qe.sibling),bt=E(qe,Qe.props.children),bt.return=He,He=bt;break e}}else if(qe.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===L&&aC(zt)===qe.type){p(He,qe.sibling),bt=E(qe,Qe.props),Bm(bt,Qe),bt.return=He,He=bt;break e}p(He,qe);break}else c(He,qe);qe=qe.sibling}Qe.type===x?(bt=Xl(Qe.props.children,He.mode,bt,Qe.key),bt.return=He,He=bt):(bt=ed(Qe.type,Qe.key,Qe.props,null,He.mode,bt),Bm(bt,Qe),bt.return=He,He=bt)}return J(He);case m:e:{for(zt=Qe.key;qe!==null;){if(qe.key===zt)if(qe.tag===4&&qe.stateNode.containerInfo===Qe.containerInfo&&qe.stateNode.implementation===Qe.implementation){p(He,qe.sibling),bt=E(qe,Qe.children||[]),bt.return=He,He=bt;break e}else{p(He,qe);break}else c(He,qe);qe=qe.sibling}bt=Sh(Qe,He.mode,bt),bt.return=He,He=bt}return J(He);case L:return zt=Qe._init,Qe=zt(Qe._payload),Br(He,qe,Qe,bt)}if(G(Qe))return dn(He,qe,Qe,bt);if(O(Qe)){if(zt=O(Qe),typeof zt!="function")throw Error(r(150));return Qe=zt.call(Qe),rn(He,qe,Qe,bt)}if(typeof Qe.then=="function")return Br(He,qe,Mb(Qe),bt);if(Qe.$$typeof===N)return Br(He,qe,Qu(He,Qe),bt);Fb(He,Qe)}return typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint"?(Qe=""+Qe,qe!==null&&qe.tag===6?(p(He,qe.sibling),bt=E(qe,Qe),bt.return=He,He=bt):(p(He,qe),bt=Rp(Qe,He.mode,bt),bt.return=He,He=bt),J(He)):p(He,qe)}return function(He,qe,Qe,bt){try{qm=0;var zt=Br(He,qe,Qe,bt);return Yp=null,zt}catch(Xt){if(Xt===oe||Xt===he)throw Xt;var Mn=Wa(29,Xt,null,He.mode);return Mn.lanes=bt,Mn.return=He,Mn}finally{}}}var Gp=sC(!0),oC=sC(!1),vl=ae(null),ec=null;function pf(o){var c=o.alternate;z(Ra,Ra.current&1),z(vl,o),ec===null&&(c===null||In.current!==null||c.memoizedState!==null)&&(ec=o)}function lC(o){if(o.tag===22){if(z(Ra,Ra.current),z(vl,o),ec===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(ec=o)}}else mf()}function mf(){z(Ra,Ra.current),z(vl,vl.current)}function ud(o){U(vl),ec===o&&(ec=null),U(Ra)}var Ra=ae(0);function Pb(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||m5(p)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function _2(o,c,p,v){c=o.memoizedState,p=p(v,c),p=p==null?c:f({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var k2={enqueueSetState:function(o,c,p){o=o._reactInternals;var v=qo(),E=ht(v);E.payload=c,p!=null&&(E.callback=p),c=vt(o,E,v),c!==null&&(Bo(c,o,v),mt(c,o,v))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var v=qo(),E=ht(v);E.tag=1,E.payload=c,p!=null&&(E.callback=p),c=vt(o,E,v),c!==null&&(Bo(c,o,v),mt(c,o,v))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=qo(),v=ht(p);v.tag=2,c!=null&&(v.callback=c),c=vt(o,v,p),c!==null&&(Bo(c,o,p),mt(c,o,p))}};function uC(o,c,p,v,E,I,J){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,I,J):c.prototype&&c.prototype.isPureReactComponent?!Fu(p,v)||!Fu(E,I):!0}function cC(o,c,p,v){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,v),c.state!==o&&k2.enqueueReplaceState(c,c.state,null)}function Fh(o,c){var p=c;if("ref"in c){p={};for(var v in c)v!=="ref"&&(p[v]=c[v])}if(o=o.defaultProps){p===c&&(p=f({},p));for(var E in o)p[E]===void 0&&(p[E]=o[E])}return p}var zb=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function dC(o){zb(o)}function fC(o){console.error(o)}function hC(o){zb(o)}function qb(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function pC(o,c,p){try{var v=o.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function N2(o,c,p){return p=ht(p),p.tag=3,p.payload={element:null},p.callback=function(){qb(o,c)},p}function mC(o){return o=ht(o),o.tag=3,o}function gC(o,c,p,v){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var I=v.value;o.payload=function(){return E(I)},o.callback=function(){pC(c,p,v)}}var J=p.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(o.callback=function(){pC(c,p,v),typeof E!="function"&&(wf===null?wf=new Set([this]):wf.add(this));var pe=v.stack;this.componentDidCatch(v.value,{componentStack:pe!==null?pe:""})})}function ZL(o,c,p,v,E){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=p.alternate,c!==null&&lf(c,p,E,!0),p=vl.current,p!==null){switch(p.tag){case 13:return ec===null?Z2():p.alternate===null&&Hi===0&&(Hi=3),p.flags&=-257,p.flags|=65536,p.lanes=E,v===ye?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([v]):c.add(v),e5(o,v,E)),!1;case 22:return p.flags|=65536,v===ye?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([v]):p.add(v)),e5(o,v,E)),!1}throw Error(r(435,p.tag))}return e5(o,v,E),Z2(),!1}if(tr)return c=vl.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,v!==Em&&(o=Error(r(422),{cause:v}),of(Dn(o,p)))):(v!==Em&&(c=Error(r(423),{cause:v}),of(Dn(c,p))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,v=Dn(v,p),E=N2(o.stateNode,v,E),Ot(o,E),Hi!==4&&(Hi=2)),!1;var I=Error(r(520),{cause:v});if(I=Dn(I,p),Gm===null?Gm=[I]:Gm.push(I),Hi!==4&&(Hi=2),c===null)return!0;v=Dn(v,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=E&-E,p.lanes|=o,o=N2(p.stateNode,v,o),Ot(p,o),!1;case 1:if(c=p.type,I=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(wf===null||!wf.has(I))))return p.flags|=65536,E&=-E,p.lanes|=E,E=mC(E),gC(E,o,p,v),Ot(p,E),!1}p=p.return}while(p!==null);return!1}var bC=Error(r(461)),Va=!1;function us(o,c,p,v){c.child=o===null?oC(c,null,p,v):Gp(c,o.child,p,v)}function yC(o,c,p,v,E){p=p.render;var I=c.ref;if("ref"in v){var J={};for(var pe in v)pe!=="ref"&&(J[pe]=v[pe])}else J=v;return yl(c),v=Ro(o,c,p,J,I,E),pe=ni(),o!==null&&!Va?(kh(o,c,E),cd(o,c,E)):(tr&&pe&&Ah(c),c.flags|=1,us(o,c,v,E),c.child)}function xC(o,c,p,v,E){if(o===null){var I=p.type;return typeof I=="function"&&!af(I)&&I.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=I,vC(o,c,I,v,E)):(o=ed(p.type,null,v,c,c.mode,E),o.ref=c.ref,o.return=c,c.child=o)}if(I=o.child,!M2(o,E)){var J=I.memoizedProps;if(p=p.compare,p=p!==null?p:Fu,p(J,v)&&o.ref===c.ref)return cd(o,c,E)}return c.flags|=1,o=pl(I,v),o.ref=c.ref,o.return=c,c.child=o}function vC(o,c,p,v,E){if(o!==null){var I=o.memoizedProps;if(Fu(I,v)&&o.ref===c.ref)if(Va=!1,c.pendingProps=v=I,M2(o,E))(o.flags&131072)!==0&&(Va=!0);else return c.lanes=o.lanes,cd(o,c,E)}return j2(o,c,p,v,E)}function wC(o,c,p){var v=c.pendingProps,E=v.children,I=o!==null?o.memoizedState:null;if(v.mode==="hidden"){if((c.flags&128)!==0){if(v=I!==null?I.baseLanes|p:p,o!==null){for(E=c.child=o.child,I=0;E!==null;)I=I|E.lanes|E.childLanes,E=E.sibling;c.childLanes=I&~v}else c.childLanes=0,c.child=null;return SC(o,c,v,p)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Y(c,I!==null?I.cachePool:null),I!==null?Er(c,I):or(),lC(c);else return c.lanes=c.childLanes=536870912,SC(o,c,I!==null?I.baseLanes|p:p,p)}else I!==null?(Y(c,I.cachePool),Er(c,I),mf(),c.memoizedState=null):(o!==null&&Y(c,null),or(),mf());return us(o,c,E,p),c.child}function SC(o,c,p,v){var E=M();return E=E===null?null:{parent:ia._currentValue,pool:E},c.memoizedState={baseLanes:p,cachePool:E},o!==null&&Y(c,null),or(),lC(c),o!==null&&lf(o,c,v,!0),null}function Bb(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function j2(o,c,p,v,E){return yl(c),p=Ro(o,c,p,v,void 0,E),v=ni(),o!==null&&!Va?(kh(o,c,E),cd(o,c,E)):(tr&&v&&Ah(c),c.flags|=1,us(o,c,p,E),c.child)}function AC(o,c,p,v,E,I){return yl(c),c.updateQueue=null,p=ad(c,v,p,E),Ku(o),v=ni(),o!==null&&!Va?(kh(o,c,I),cd(o,c,I)):(tr&&v&&Ah(c),c.flags|=1,us(o,c,p,I),c.child)}function CC(o,c,p,v,E){if(yl(c),c.stateNode===null){var I=Aa,J=p.contextType;typeof J=="object"&&J!==null&&(I=ra(J)),I=new p(v,I),c.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=k2,c.stateNode=I,I._reactInternals=c,I=c.stateNode,I.props=v,I.state=c.memoizedState,I.refs={},Pe(c),J=p.contextType,I.context=typeof J=="object"&&J!==null?ra(J):Aa,I.state=c.memoizedState,J=p.getDerivedStateFromProps,typeof J=="function"&&(_2(c,p,J,v),I.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(J=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),J!==I.state&&k2.enqueueReplaceState(I,I.state,null),jt(c,v,I,E),Qt(),I.state=c.memoizedState),typeof I.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(o===null){I=c.stateNode;var pe=c.memoizedProps,je=Fh(p,pe);I.props=je;var Ze=I.context,pt=p.contextType;J=Aa,typeof pt=="object"&&pt!==null&&(J=ra(pt));var St=p.getDerivedStateFromProps;pt=typeof St=="function"||typeof I.getSnapshotBeforeUpdate=="function",pe=c.pendingProps!==pe,pt||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(pe||Ze!==J)&&cC(c,I,v,J),it=!1;var tt=c.memoizedState;I.state=tt,jt(c,v,I,E),Qt(),Ze=c.memoizedState,pe||tt!==Ze||it?(typeof St=="function"&&(_2(c,p,St,v),Ze=c.memoizedState),(je=it||uC(c,p,je,v,tt,Ze,J))?(pt||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(c.flags|=4194308)):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=Ze),I.props=v,I.state=Ze,I.context=J,v=je):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{I=c.stateNode,Ue(o,c),J=c.memoizedProps,pt=Fh(p,J),I.props=pt,St=c.pendingProps,tt=I.context,Ze=p.contextType,je=Aa,typeof Ze=="object"&&Ze!==null&&(je=ra(Ze)),pe=p.getDerivedStateFromProps,(Ze=typeof pe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(J!==St||tt!==je)&&cC(c,I,v,je),it=!1,tt=c.memoizedState,I.state=tt,jt(c,v,I,E),Qt();var rt=c.memoizedState;J!==St||tt!==rt||it||o!==null&&o.dependencies!==null&&zp(o.dependencies)?(typeof pe=="function"&&(_2(c,p,pe,v),rt=c.memoizedState),(pt=it||uC(c,p,pt,v,tt,rt,je)||o!==null&&o.dependencies!==null&&zp(o.dependencies))?(Ze||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(v,rt,je),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(v,rt,je)),typeof I.componentDidUpdate=="function"&&(c.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof I.componentDidUpdate!="function"||J===o.memoizedProps&&tt===o.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&tt===o.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=rt),I.props=v,I.state=rt,I.context=je,v=pt):(typeof I.componentDidUpdate!="function"||J===o.memoizedProps&&tt===o.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&tt===o.memoizedState||(c.flags|=1024),v=!1)}return I=v,Bb(o,c),v=(c.flags&128)!==0,I||v?(I=c.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:I.render(),c.flags|=1,o!==null&&v?(c.child=Gp(c,o.child,null,E),c.child=Gp(c,null,p,E)):us(o,c,p,E),c.memoizedState=I.state,o=c.child):o=cd(o,c,E),o}function EC(o,c,p,v){return Zs(),c.flags|=256,us(o,c,p,v),c.child}var T2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function O2(o){return{baseLanes:o,cachePool:ne()}}function I2(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=wl),o}function _C(o,c,p){var v=c.pendingProps,E=!1,I=(c.flags&128)!==0,J;if((J=I)||(J=o!==null&&o.memoizedState===null?!1:(Ra.current&2)!==0),J&&(E=!0,c.flags&=-129),J=(c.flags&32)!==0,c.flags&=-33,o===null){if(tr){if(E?pf(c):mf(),tr){var pe=bi,je;if(je=pe){e:{for(je=pe,pe=ml;je.nodeType!==8;){if(!pe){pe=null;break e}if(je=uu(je.nextSibling),je===null){pe=null;break e}}pe=je}pe!==null?(c.memoizedState={dehydrated:pe,treeContext:td!==null?{id:Jl,overflow:eu}:null,retryLane:536870912,hydrationErrors:null},je=Wa(18,null,null,0),je.stateNode=pe,je.return=c,c.child=je,na=c,bi=null,je=!0):je=!1}je||rd(c)}if(pe=c.memoizedState,pe!==null&&(pe=pe.dehydrated,pe!==null))return m5(pe)?c.lanes=32:c.lanes=536870912,null;ud(c)}return pe=v.children,v=v.fallback,E?(mf(),E=c.mode,pe=Ub({mode:"hidden",children:pe},E),v=Xl(v,E,p,null),pe.return=c,v.return=c,pe.sibling=v,c.child=pe,E=c.child,E.memoizedState=O2(p),E.childLanes=I2(o,J,p),c.memoizedState=T2,v):(pf(c),D2(c,pe))}if(je=o.memoizedState,je!==null&&(pe=je.dehydrated,pe!==null)){if(I)c.flags&256?(pf(c),c.flags&=-257,c=L2(o,c,p)):c.memoizedState!==null?(mf(),c.child=o.child,c.flags|=128,c=null):(mf(),E=v.fallback,pe=c.mode,v=Ub({mode:"visible",children:v.children},pe),E=Xl(E,pe,p,null),E.flags|=2,v.return=c,E.return=c,v.sibling=E,c.child=v,Gp(c,o.child,null,p),v=c.child,v.memoizedState=O2(p),v.childLanes=I2(o,J,p),c.memoizedState=T2,c=E);else if(pf(c),m5(pe)){if(J=pe.nextSibling&&pe.nextSibling.dataset,J)var Ze=J.dgst;J=Ze,v=Error(r(419)),v.stack="",v.digest=J,of({value:v,source:null,stack:null}),c=L2(o,c,p)}else if(Va||lf(o,c,p,!1),J=(p&o.childLanes)!==0,Va||J){if(J=ri,J!==null&&(v=p&-p,v=(v&42)!==0?1:ya(v),v=(v&(J.suspendedLanes|p))!==0?0:v,v!==0&&v!==je.retryLane))throw je.retryLane=v,Kl(o,v),Bo(J,o,v),bC;pe.data==="$?"||Z2(),c=L2(o,c,p)}else pe.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=je.treeContext,bi=uu(pe.nextSibling),na=c,tr=!0,Yu=null,ml=!1,o!==null&&(fo[Xs++]=Jl,fo[Xs++]=eu,fo[Xs++]=td,Jl=o.id,eu=o.overflow,td=c),c=D2(c,v.children),c.flags|=4096);return c}return E?(mf(),E=v.fallback,pe=c.mode,je=o.child,Ze=je.sibling,v=pl(je,{mode:"hidden",children:v.children}),v.subtreeFlags=je.subtreeFlags&65011712,Ze!==null?E=pl(Ze,E):(E=Xl(E,pe,p,null),E.flags|=2),E.return=c,v.return=c,v.sibling=E,c.child=v,v=E,E=c.child,pe=o.child.memoizedState,pe===null?pe=O2(p):(je=pe.cachePool,je!==null?(Ze=ia._currentValue,je=je.parent!==Ze?{parent:Ze,pool:Ze}:je):je=ne(),pe={baseLanes:pe.baseLanes|p,cachePool:je}),E.memoizedState=pe,E.childLanes=I2(o,J,p),c.memoizedState=T2,v):(pf(c),p=o.child,o=p.sibling,p=pl(p,{mode:"visible",children:v.children}),p.return=c,p.sibling=null,o!==null&&(J=c.deletions,J===null?(c.deletions=[o],c.flags|=16):J.push(o)),c.child=p,c.memoizedState=null,p)}function D2(o,c){return c=Ub({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Ub(o,c){return o=Wa(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function L2(o,c,p){return Gp(c,o.child,null,p),o=D2(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function kC(o,c,p){o.lanes|=c;var v=o.alternate;v!==null&&(v.lanes|=c),Fp(o.return,c,p)}function R2(o,c,p,v,E){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:E}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=p,I.tailMode=E)}function NC(o,c,p){var v=c.pendingProps,E=v.revealOrder,I=v.tail;if(us(o,c,v.children,p),v=Ra.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&kC(o,p,c);else if(o.tag===19)kC(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}switch(z(Ra,v),E){case"forwards":for(p=c.child,E=null;p!==null;)o=p.alternate,o!==null&&Pb(o)===null&&(E=p),p=p.sibling;p=E,p===null?(E=c.child,c.child=null):(E=p.sibling,p.sibling=null),R2(c,!1,E,p,I);break;case"backwards":for(p=null,E=c.child,c.child=null;E!==null;){if(o=E.alternate,o!==null&&Pb(o)===null){c.child=E;break}o=E.sibling,E.sibling=p,p=E,E=o}R2(c,!0,p,null,I);break;case"together":R2(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function cd(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),vf|=c.lanes,(p&c.childLanes)===0)if(o!==null){if(lf(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,p=pl(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=pl(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function M2(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&zp(o)))}function JL(o,c,p){switch(c.tag){case 3:xe(c,c.stateNode.containerInfo),Gu(c,ia,o.memoizedState.cache),Zs();break;case 27:case 5:Ie(c);break;case 4:xe(c,c.stateNode.containerInfo);break;case 10:Gu(c,c.type,c.memoizedProps.value);break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(pf(c),c.flags|=128,null):(p&c.child.childLanes)!==0?_C(o,c,p):(pf(c),o=cd(o,c,p),o!==null?o.sibling:null);pf(c);break;case 19:var E=(o.flags&128)!==0;if(v=(p&c.childLanes)!==0,v||(lf(o,c,p,!1),v=(p&c.childLanes)!==0),E){if(v)return NC(o,c,p);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),z(Ra,Ra.current),v)break;return null;case 22:case 23:return c.lanes=0,wC(o,c,p);case 24:Gu(c,ia,o.memoizedState.cache)}return cd(o,c,p)}function jC(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)Va=!0;else{if(!M2(o,p)&&(c.flags&128)===0)return Va=!1,JL(o,c,p);Va=(o.flags&131072)!==0}else Va=!1,tr&&(c.flags&1048576)!==0&&yb(c,Mp,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var v=c.elementType,E=v._init;if(v=E(v._payload),c.type=v,typeof v=="function")af(v)?(o=Fh(v,o),c.tag=1,c=CC(null,c,v,o,p)):(c.tag=0,c=j2(null,c,v,o,p));else{if(v!=null){if(E=v.$$typeof,E===R){c.tag=11,c=yC(null,c,v,o,p);break e}else if(E===k){c.tag=14,c=xC(null,c,v,o,p);break e}}throw c=T(v)||v,Error(r(306,c,""))}}return c;case 0:return j2(o,c,c.type,c.pendingProps,p);case 1:return v=c.type,E=Fh(v,c.pendingProps),CC(o,c,v,E,p);case 3:e:{if(xe(c,c.stateNode.containerInfo),o===null)throw Error(r(387));v=c.pendingProps;var I=c.memoizedState;E=I.element,Ue(o,c),jt(c,v,null,p);var J=c.memoizedState;if(v=J.cache,Gu(c,ia,v),v!==I.cache&&Pp(c,[ia],p,!0),Qt(),v=J.element,I.isDehydrated)if(I={element:v,isDehydrated:!1,cache:J.cache},c.updateQueue.baseState=I,c.memoizedState=I,c.flags&256){c=EC(o,c,v,p);break e}else if(v!==E){E=Dn(Error(r(424)),c),of(E),c=EC(o,c,v,p);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(bi=uu(o.firstChild),na=c,tr=!0,Yu=null,ml=!0,p=oC(c,null,v,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Zs(),v===E){c=cd(o,c,p);break e}us(o,c,v,p)}c=c.child}return c;case 26:return Bb(o,c),o===null?(p=DE(c.type,null,c.pendingProps,null))?c.memoizedState=p:tr||(p=c.type,o=c.pendingProps,v=ny(se.current).createElement(p),v[Hn]=c,v[ar]=o,ds(v,p,o),er(v),c.stateNode=v):c.memoizedState=DE(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ie(c),o===null&&tr&&(v=c.stateNode=TE(c.type,c.pendingProps,se.current),na=c,ml=!0,E=bi,Cf(c.type)?(g5=E,bi=uu(v.firstChild)):bi=E),us(o,c,c.pendingProps.children,p),Bb(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&tr&&((E=v=bi)&&(v=k9(v,c.type,c.pendingProps,ml),v!==null?(c.stateNode=v,na=c,bi=uu(v.firstChild),ml=!1,E=!0):E=!1),E||rd(c)),Ie(c),E=c.type,I=c.pendingProps,J=o!==null?o.memoizedProps:null,v=I.children,f5(E,I)?v=null:J!==null&&f5(E,J)&&(c.flags|=32),c.memoizedState!==null&&(E=Ro(o,c,Xu,null,null,p),r1._currentValue=E),Bb(o,c),us(o,c,v,p),c.child;case 6:return o===null&&tr&&((o=p=bi)&&(p=N9(p,c.pendingProps,ml),p!==null?(c.stateNode=p,na=c,bi=null,o=!0):o=!1),o||rd(c)),null;case 13:return _C(o,c,p);case 4:return xe(c,c.stateNode.containerInfo),v=c.pendingProps,o===null?c.child=Gp(c,null,v,p):us(o,c,v,p),c.child;case 11:return yC(o,c,c.type,c.pendingProps,p);case 7:return us(o,c,c.pendingProps,p),c.child;case 8:return us(o,c,c.pendingProps.children,p),c.child;case 12:return us(o,c,c.pendingProps.children,p),c.child;case 10:return v=c.pendingProps,Gu(c,c.type,v.value),us(o,c,v.children,p),c.child;case 9:return E=c.type._context,v=c.pendingProps.children,yl(c),E=ra(E),v=v(E),c.flags|=1,us(o,c,v,p),c.child;case 14:return xC(o,c,c.type,c.pendingProps,p);case 15:return vC(o,c,c.type,c.pendingProps,p);case 19:return NC(o,c,p);case 31:return v=c.pendingProps,p=c.mode,v={mode:v.mode,children:v.children},o===null?(p=Ub(v,p),p.ref=c.ref,c.child=p,p.return=c,c=p):(p=pl(o.child,v),p.ref=c.ref,c.child=p,p.return=c,c=p),c;case 22:return wC(o,c,p);case 24:return yl(c),v=ra(ia),o===null?(E=M(),E===null&&(E=ri,I=_m(),E.pooledCache=I,I.refCount++,I!==null&&(E.pooledCacheLanes|=p),E=I),c.memoizedState={parent:v,cache:E},Pe(c),Gu(c,ia,E)):((o.lanes&p)!==0&&(Ue(o,c),jt(c,null,null,p),Qt()),E=o.memoizedState,I=c.memoizedState,E.parent!==v?(E={parent:v,cache:v},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),Gu(c,ia,v)):(v=I.cache,Gu(c,ia,v),v!==E.cache&&Pp(c,[ia],p,!0))),us(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function dd(o){o.flags|=4}function TC(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!PE(c)){if(c=vl.current,c!==null&&((Gn&4194048)===Gn?ec!==null:(Gn&62914560)!==Gn&&(Gn&536870912)===0||c!==ec))throw Ge=ye,le;o.flags|=8192}}function $b(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?zn():536870912,o.lanes|=c,Zp|=c)}function Um(o,c){if(!tr)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Oi(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(c)for(var E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=v,o.childLanes=p,c}function e9(o,c,p){var v=c.pendingProps;switch(Ch(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(c),null;case 1:return Oi(c),null;case 3:return p=c.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),bl(ia),Ee(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(os(c)?dd(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,vb())),Oi(c),null;case 26:return p=c.memoizedState,o===null?(dd(c),p!==null?(Oi(c),TC(c,p)):(Oi(c),c.flags&=-16777217)):p?p!==o.memoizedState?(dd(c),Oi(c),TC(c,p)):(Oi(c),c.flags&=-16777217):(o.memoizedProps!==v&&dd(c),Oi(c),c.flags&=-16777217),null;case 27:Re(c),p=se.current;var E=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==v&&dd(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Oi(c),null}o=Z.current,os(c)?xb(c):(o=TE(E,v,p),c.stateNode=o,dd(c))}return Oi(c),null;case 5:if(Re(c),p=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&dd(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Oi(c),null}if(o=Z.current,os(c))xb(c);else{switch(E=ny(se.current),o){case 1:o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof v.is=="string"?E.createElement("select",{is:v.is}):E.createElement("select"),v.multiple?o.multiple=!0:v.size&&(o.size=v.size);break;default:o=typeof v.is=="string"?E.createElement(p,{is:v.is}):E.createElement(p)}}o[Hn]=c,o[ar]=v;e:for(E=c.child;E!==null;){if(E.tag===5||E.tag===6)o.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===c)break e;for(;E.sibling===null;){if(E.return===null||E.return===c)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}c.stateNode=o;e:switch(ds(o,p,v),p){case"button":case"input":case"select":case"textarea":o=!!v.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&dd(c)}}return Oi(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==v&&dd(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(o=se.current,os(c)){if(o=c.stateNode,p=c.memoizedProps,v=null,E=na,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}o[Hn]=c,o=!!(o.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||AE(o.nodeValue,p)),o||rd(c)}else o=ny(o).createTextNode(v),o[Hn]=c,c.stateNode=o}return Oi(c),null;case 13:if(v=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=os(c),v!==null&&v.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Hn]=c}else Zs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Oi(c),E=!1}else E=vb(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(ud(c),c):(ud(c),null)}if(ud(c),(c.flags&128)!==0)return c.lanes=p,c;if(p=v!==null,o=o!==null&&o.memoizedState!==null,p){v=c.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool);var I=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(I=v.memoizedState.cachePool.pool),I!==E&&(v.flags|=2048)}return p!==o&&p&&(c.child.flags|=8192),$b(c,c.updateQueue),Oi(c),null;case 4:return Ee(),o===null&&o5(c.stateNode.containerInfo),Oi(c),null;case 10:return bl(c.type),Oi(c),null;case 19:if(U(Ra),E=c.memoizedState,E===null)return Oi(c),null;if(v=(c.flags&128)!==0,I=E.rendering,I===null)if(v)Um(E,!1);else{if(Hi!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(I=Pb(o),I!==null){for(c.flags|=128,Um(E,!1),o=I.updateQueue,c.updateQueue=o,$b(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)wh(p,o),p=p.sibling;return z(Ra,Ra.current&1|2),c.child}o=o.sibling}E.tail!==null&&be()>Vb&&(c.flags|=128,v=!0,Um(E,!1),c.lanes=4194304)}else{if(!v)if(o=Pb(I),o!==null){if(c.flags|=128,v=!0,o=o.updateQueue,c.updateQueue=o,$b(c,o),Um(E,!0),E.tail===null&&E.tailMode==="hidden"&&!I.alternate&&!tr)return Oi(c),null}else 2*be()-E.renderingStartTime>Vb&&p!==536870912&&(c.flags|=128,v=!0,Um(E,!1),c.lanes=4194304);E.isBackwards?(I.sibling=c.child,c.child=I):(o=E.last,o!==null?o.sibling=I:c.child=I,E.last=I)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=be(),c.sibling=null,o=Ra.current,z(Ra,v?o&1|2:o&1),c):(Oi(c),null);case 22:case 23:return ud(c),mn(),v=c.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(p&536870912)!==0&&(c.flags&128)===0&&(Oi(c),c.subtreeFlags&6&&(c.flags|=8192)):Oi(c),p=c.updateQueue,p!==null&&$b(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048),o!==null&&U(_),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),bl(ia),Oi(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function t9(o,c){switch(Ch(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return bl(ia),Ee(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Re(c),null;case 13:if(ud(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Zs()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return U(Ra),null;case 4:return Ee(),null;case 10:return bl(c.type),null;case 22:case 23:return ud(c),mn(),o!==null&&U(_),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return bl(ia),null;case 25:return null;default:return null}}function OC(o,c){switch(Ch(c),c.tag){case 3:bl(ia),Ee();break;case 26:case 27:case 5:Re(c);break;case 4:Ee();break;case 13:ud(c);break;case 19:U(Ra);break;case 10:bl(c.type);break;case 22:case 23:ud(c),mn(),o!==null&&U(_);break;case 24:bl(ia)}}function $m(o,c){try{var p=c.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var E=v.next;p=E;do{if((p.tag&o)===o){v=void 0;var I=p.create,J=p.inst;v=I(),J.destroy=v}p=p.next}while(p!==E)}}catch(pe){Kr(c,c.return,pe)}}function gf(o,c,p){try{var v=c.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var I=E.next;v=I;do{if((v.tag&o)===o){var J=v.inst,pe=J.destroy;if(pe!==void 0){J.destroy=void 0,E=c;var je=p,Ze=pe;try{Ze()}catch(pt){Kr(E,je,pt)}}}v=v.next}while(v!==I)}}catch(pt){Kr(c,c.return,pt)}}function IC(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{sr(c,p)}catch(v){Kr(o,o.return,v)}}}function DC(o,c,p){p.props=Fh(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(v){Kr(o,c,v)}}function Hm(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof p=="function"?o.refCleanup=p(v):p.current=v}}catch(E){Kr(o,c,E)}}function tc(o,c){var p=o.ref,v=o.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(E){Kr(o,c,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){Kr(o,c,E)}else p.current=null}function LC(o){var c=o.type,p=o.memoizedProps,v=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(E){Kr(o,o.return,E)}}function F2(o,c,p){try{var v=o.stateNode;S9(v,o.type,p,c),v[ar]=c}catch(E){Kr(o,o.return,E)}}function RC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Cf(o.type)||o.tag===4}function P2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||RC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Cf(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function z2(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(o),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=ty));else if(v!==4&&(v===27&&Cf(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(z2(o,c,p),o=o.sibling;o!==null;)z2(o,c,p),o=o.sibling}function Hb(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(v!==4&&(v===27&&Cf(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(Hb(o,c,p),o=o.sibling;o!==null;)Hb(o,c,p),o=o.sibling}function MC(o){var c=o.stateNode,p=o.memoizedProps;try{for(var v=o.type,E=c.attributes;E.length;)c.removeAttributeNode(E[0]);ds(c,v,p),c[Hn]=o,c[ar]=p}catch(I){Kr(o,o.return,I)}}var fd=!1,sa=!1,q2=!1,FC=typeof WeakSet=="function"?WeakSet:Set,Ya=null;function n9(o,c){if(o=o.containerInfo,c5=ly,o=ss(o),La(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var E=v.anchorOffset,I=v.focusNode;v=v.focusOffset;try{p.nodeType,I.nodeType}catch{p=null;break e}var J=0,pe=-1,je=-1,Ze=0,pt=0,St=o,tt=null;t:for(;;){for(var rt;St!==p||E!==0&&St.nodeType!==3||(pe=J+E),St!==I||v!==0&&St.nodeType!==3||(je=J+v),St.nodeType===3&&(J+=St.nodeValue.length),(rt=St.firstChild)!==null;)tt=St,St=rt;for(;;){if(St===o)break t;if(tt===p&&++Ze===E&&(pe=J),tt===I&&++pt===v&&(je=J),(rt=St.nextSibling)!==null)break;St=tt,tt=St.parentNode}St=rt}p=pe===-1||je===-1?null:{start:pe,end:je}}else p=null}p=p||{start:0,end:0}}else p=null;for(d5={focusedElem:o,selectionRange:p},ly=!1,Ya=c;Ya!==null;)if(c=Ya,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,Ya=o;else for(;Ya!==null;){switch(c=Ya,I=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&I!==null){o=void 0,p=c,E=I.memoizedProps,I=I.memoizedState,v=p.stateNode;try{var dn=Fh(p.type,E,p.elementType===p.type);o=v.getSnapshotBeforeUpdate(dn,I),v.__reactInternalSnapshotBeforeUpdate=o}catch(rn){Kr(p,p.return,rn)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,p=o.nodeType,p===9)p5(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":p5(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,Ya=o;break}Ya=c.return}}function PC(o,c,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:bf(o,p),v&4&&$m(5,p);break;case 1:if(bf(o,p),v&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(J){Kr(p,p.return,J)}else{var E=Fh(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(E,c,o.__reactInternalSnapshotBeforeUpdate)}catch(J){Kr(p,p.return,J)}}v&64&&IC(p),v&512&&Hm(p,p.return);break;case 3:if(bf(o,p),v&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{sr(o,c)}catch(J){Kr(p,p.return,J)}}break;case 27:c===null&&v&4&&MC(p);case 26:case 5:bf(o,p),c===null&&v&4&&LC(p),v&512&&Hm(p,p.return);break;case 12:bf(o,p);break;case 13:bf(o,p),v&4&&BC(o,p),v&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=d9.bind(null,p),j9(o,p))));break;case 22:if(v=p.memoizedState!==null||fd,!v){c=c!==null&&c.memoizedState!==null||sa,E=fd;var I=sa;fd=v,(sa=c)&&!I?yf(o,p,(p.subtreeFlags&8772)!==0):bf(o,p),fd=E,sa=I}break;case 30:break;default:bf(o,p)}}function zC(o){var c=o.alternate;c!==null&&(o.alternate=null,zC(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Ia(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var yi=null,po=!1;function hd(o,c,p){for(p=p.child;p!==null;)qC(o,c,p),p=p.sibling}function qC(o,c,p){if(ve&&typeof ve.onCommitFiberUnmount=="function")try{ve.onCommitFiberUnmount(Fe,p)}catch{}switch(p.tag){case 26:sa||tc(p,c),hd(o,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:sa||tc(p,c);var v=yi,E=po;Cf(p.type)&&(yi=p.stateNode,po=!1),hd(o,c,p),Jm(p.stateNode),yi=v,po=E;break;case 5:sa||tc(p,c);case 6:if(v=yi,E=po,yi=null,hd(o,c,p),yi=v,po=E,yi!==null)if(po)try{(yi.nodeType===9?yi.body:yi.nodeName==="HTML"?yi.ownerDocument.body:yi).removeChild(p.stateNode)}catch(I){Kr(p,c,I)}else try{yi.removeChild(p.stateNode)}catch(I){Kr(p,c,I)}break;case 18:yi!==null&&(po?(o=yi,NE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),o1(o)):NE(yi,p.stateNode));break;case 4:v=yi,E=po,yi=p.stateNode.containerInfo,po=!0,hd(o,c,p),yi=v,po=E;break;case 0:case 11:case 14:case 15:sa||gf(2,p,c),sa||gf(4,p,c),hd(o,c,p);break;case 1:sa||(tc(p,c),v=p.stateNode,typeof v.componentWillUnmount=="function"&&DC(p,c,v)),hd(o,c,p);break;case 21:hd(o,c,p);break;case 22:sa=(v=sa)||p.memoizedState!==null,hd(o,c,p),sa=v;break;default:hd(o,c,p)}}function BC(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{o1(o)}catch(p){Kr(c,c.return,p)}}function r9(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new FC),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new FC),c;default:throw Error(r(435,o.tag))}}function B2(o,c){var p=r9(o);c.forEach(function(v){var E=f9.bind(null,o,v);p.has(v)||(p.add(v),v.then(E,E))})}function Fo(o,c){var p=c.deletions;if(p!==null)for(var v=0;v<p.length;v++){var E=p[v],I=o,J=c,pe=J;e:for(;pe!==null;){switch(pe.tag){case 27:if(Cf(pe.type)){yi=pe.stateNode,po=!1;break e}break;case 5:yi=pe.stateNode,po=!1;break e;case 3:case 4:yi=pe.stateNode.containerInfo,po=!0;break e}pe=pe.return}if(yi===null)throw Error(r(160));qC(I,J,E),yi=null,po=!1,I=E.alternate,I!==null&&(I.return=null),E.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)UC(c,o),c=c.sibling}var lu=null;function UC(o,c){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Fo(c,o),Po(o),v&4&&(gf(3,o,o.return),$m(3,o),gf(5,o,o.return));break;case 1:Fo(c,o),Po(o),v&512&&(sa||p===null||tc(p,p.return)),v&64&&fd&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var E=lu;if(Fo(c,o),Po(o),v&512&&(sa||p===null||tc(p,p.return)),v&4){var I=p!==null?p.memoizedState:null;if(v=o.memoizedState,p===null)if(v===null)if(o.stateNode===null){e:{v=o.type,p=o.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":I=E.getElementsByTagName("title")[0],(!I||I[Nr]||I[Hn]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=E.createElement(v),E.head.insertBefore(I,E.querySelector("head > title"))),ds(I,v,p),I[Hn]=o,er(I),v=I;break e;case"link":var J=ME("link","href",E).get(v+(p.href||""));if(J){for(var pe=0;pe<J.length;pe++)if(I=J[pe],I.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&I.getAttribute("rel")===(p.rel==null?null:p.rel)&&I.getAttribute("title")===(p.title==null?null:p.title)&&I.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){J.splice(pe,1);break t}}I=E.createElement(v),ds(I,v,p),E.head.appendChild(I);break;case"meta":if(J=ME("meta","content",E).get(v+(p.content||""))){for(pe=0;pe<J.length;pe++)if(I=J[pe],I.getAttribute("content")===(p.content==null?null:""+p.content)&&I.getAttribute("name")===(p.name==null?null:p.name)&&I.getAttribute("property")===(p.property==null?null:p.property)&&I.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&I.getAttribute("charset")===(p.charSet==null?null:p.charSet)){J.splice(pe,1);break t}}I=E.createElement(v),ds(I,v,p),E.head.appendChild(I);break;default:throw Error(r(468,v))}I[Hn]=o,er(I),v=I}o.stateNode=v}else FE(E,o.type,o.stateNode);else o.stateNode=RE(E,v,o.memoizedProps);else I!==v?(I===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):I.count--,v===null?FE(E,o.type,o.stateNode):RE(E,v,o.memoizedProps)):v===null&&o.stateNode!==null&&F2(o,o.memoizedProps,p.memoizedProps)}break;case 27:Fo(c,o),Po(o),v&512&&(sa||p===null||tc(p,p.return)),p!==null&&v&4&&F2(o,o.memoizedProps,p.memoizedProps);break;case 5:if(Fo(c,o),Po(o),v&512&&(sa||p===null||tc(p,p.return)),o.flags&32){E=o.stateNode;try{qi(E,"")}catch(rt){Kr(o,o.return,rt)}}v&4&&o.stateNode!=null&&(E=o.memoizedProps,F2(o,E,p!==null?p.memoizedProps:E)),v&1024&&(q2=!0);break;case 6:if(Fo(c,o),Po(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,p=o.stateNode;try{p.nodeValue=v}catch(rt){Kr(o,o.return,rt)}}break;case 3:if(ay=null,E=lu,lu=ry(c.containerInfo),Fo(c,o),lu=E,Po(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{o1(c.containerInfo)}catch(rt){Kr(o,o.return,rt)}q2&&(q2=!1,$C(o));break;case 4:v=lu,lu=ry(o.stateNode.containerInfo),Fo(c,o),Po(o),lu=v;break;case 12:Fo(c,o),Po(o);break;case 13:Fo(c,o),Po(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Y2=be()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,B2(o,v)));break;case 22:E=o.memoizedState!==null;var je=p!==null&&p.memoizedState!==null,Ze=fd,pt=sa;if(fd=Ze||E,sa=pt||je,Fo(c,o),sa=pt,fd=Ze,Po(o),v&8192)e:for(c=o.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(p===null||je||fd||sa||Ph(o)),p=null,c=o;;){if(c.tag===5||c.tag===26){if(p===null){je=p=c;try{if(I=je.stateNode,E)J=I.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{pe=je.stateNode;var St=je.memoizedProps.style,tt=St!=null&&St.hasOwnProperty("display")?St.display:null;pe.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(rt){Kr(je,je.return,rt)}}}else if(c.tag===6){if(p===null){je=c;try{je.stateNode.nodeValue=E?"":je.memoizedProps}catch(rt){Kr(je,je.return,rt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=o.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,B2(o,p))));break;case 19:Fo(c,o),Po(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,B2(o,v)));break;case 30:break;case 21:break;default:Fo(c,o),Po(o)}}function Po(o){var c=o.flags;if(c&2){try{for(var p,v=o.return;v!==null;){if(RC(v)){p=v;break}v=v.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var E=p.stateNode,I=P2(o);Hb(o,I,E);break;case 5:var J=p.stateNode;p.flags&32&&(qi(J,""),p.flags&=-33);var pe=P2(o);Hb(o,pe,J);break;case 3:case 4:var je=p.stateNode.containerInfo,Ze=P2(o);z2(o,Ze,je);break;default:throw Error(r(161))}}catch(pt){Kr(o,o.return,pt)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function $C(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;$C(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function bf(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)PC(o,c.alternate,c),c=c.sibling}function Ph(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:gf(4,c,c.return),Ph(c);break;case 1:tc(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&DC(c,c.return,p),Ph(c);break;case 27:Jm(c.stateNode);case 26:case 5:tc(c,c.return),Ph(c);break;case 22:c.memoizedState===null&&Ph(c);break;case 30:Ph(c);break;default:Ph(c)}o=o.sibling}}function yf(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,E=o,I=c,J=I.flags;switch(I.tag){case 0:case 11:case 15:yf(E,I,p),$m(4,I);break;case 1:if(yf(E,I,p),v=I,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Ze){Kr(v,v.return,Ze)}if(v=I,E=v.updateQueue,E!==null){var pe=v.stateNode;try{var je=E.shared.hiddenCallbacks;if(je!==null)for(E.shared.hiddenCallbacks=null,E=0;E<je.length;E++)Vn(je[E],pe)}catch(Ze){Kr(v,v.return,Ze)}}p&&J&64&&IC(I),Hm(I,I.return);break;case 27:MC(I);case 26:case 5:yf(E,I,p),p&&v===null&&J&4&&LC(I),Hm(I,I.return);break;case 12:yf(E,I,p);break;case 13:yf(E,I,p),p&&J&4&&BC(E,I);break;case 22:I.memoizedState===null&&yf(E,I,p),Hm(I,I.return);break;case 30:break;default:yf(E,I,p)}c=c.sibling}}function U2(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&Eh(p))}function $2(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Eh(o))}function nc(o,c,p,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)HC(o,c,p,v),c=c.sibling}function HC(o,c,p,v){var E=c.flags;switch(c.tag){case 0:case 11:case 15:nc(o,c,p,v),E&2048&&$m(9,c);break;case 1:nc(o,c,p,v);break;case 3:nc(o,c,p,v),E&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Eh(o)));break;case 12:if(E&2048){nc(o,c,p,v),o=c.stateNode;try{var I=c.memoizedProps,J=I.id,pe=I.onPostCommit;typeof pe=="function"&&pe(J,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(je){Kr(c,c.return,je)}}else nc(o,c,p,v);break;case 13:nc(o,c,p,v);break;case 23:break;case 22:I=c.stateNode,J=c.alternate,c.memoizedState!==null?I._visibility&2?nc(o,c,p,v):Wm(o,c):I._visibility&2?nc(o,c,p,v):(I._visibility|=2,Qp(o,c,p,v,(c.subtreeFlags&10256)!==0)),E&2048&&U2(J,c);break;case 24:nc(o,c,p,v),E&2048&&$2(c.alternate,c);break;default:nc(o,c,p,v)}}function Qp(o,c,p,v,E){for(E=E&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var I=o,J=c,pe=p,je=v,Ze=J.flags;switch(J.tag){case 0:case 11:case 15:Qp(I,J,pe,je,E),$m(8,J);break;case 23:break;case 22:var pt=J.stateNode;J.memoizedState!==null?pt._visibility&2?Qp(I,J,pe,je,E):Wm(I,J):(pt._visibility|=2,Qp(I,J,pe,je,E)),E&&Ze&2048&&U2(J.alternate,J);break;case 24:Qp(I,J,pe,je,E),E&&Ze&2048&&$2(J.alternate,J);break;default:Qp(I,J,pe,je,E)}c=c.sibling}}function Wm(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,v=c,E=v.flags;switch(v.tag){case 22:Wm(p,v),E&2048&&U2(v.alternate,v);break;case 24:Wm(p,v),E&2048&&$2(v.alternate,v);break;default:Wm(p,v)}c=c.sibling}}var Vm=8192;function Kp(o){if(o.subtreeFlags&Vm)for(o=o.child;o!==null;)WC(o),o=o.sibling}function WC(o){switch(o.tag){case 26:Kp(o),o.flags&Vm&&o.memoizedState!==null&&U9(lu,o.memoizedState,o.memoizedProps);break;case 5:Kp(o);break;case 3:case 4:var c=lu;lu=ry(o.stateNode.containerInfo),Kp(o),lu=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Vm,Vm=16777216,Kp(o),Vm=c):Kp(o));break;default:Kp(o)}}function VC(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Ym(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];Ya=v,GC(v,o)}VC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)YC(o),o=o.sibling}function YC(o){switch(o.tag){case 0:case 11:case 15:Ym(o),o.flags&2048&&gf(9,o,o.return);break;case 3:Ym(o);break;case 12:Ym(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Wb(o)):Ym(o);break;default:Ym(o)}}function Wb(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];Ya=v,GC(v,o)}VC(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:gf(8,c,c.return),Wb(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,Wb(c));break;default:Wb(c)}o=o.sibling}}function GC(o,c){for(;Ya!==null;){var p=Ya;switch(p.tag){case 0:case 11:case 15:gf(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Eh(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,Ya=v;else e:for(p=o;Ya!==null;){v=Ya;var E=v.sibling,I=v.return;if(zC(v),v===p){Ya=null;break e}if(E!==null){E.return=I,Ya=E;break e}Ya=I}}}var i9={getCacheForType:function(o){var c=ra(ia),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p}},a9=typeof WeakMap=="function"?WeakMap:Map,Or=0,ri=null,Bn=null,Gn=0,Ir=0,zo=null,xf=!1,Xp=!1,H2=!1,pd=0,Hi=0,vf=0,zh=0,W2=0,wl=0,Zp=0,Gm=null,mo=null,V2=!1,Y2=0,Vb=1/0,Yb=null,wf=null,cs=0,Sf=null,Jp=null,e0=0,G2=0,Q2=null,QC=null,Qm=0,K2=null;function qo(){if((Or&2)!==0&&Gn!==0)return Gn&-Gn;if(W.T!==null){var o=id;return o!==0?o:r5()}return oi()}function KC(){wl===0&&(wl=(Gn&536870912)===0||tr?Pn():536870912);var o=vl.current;return o!==null&&(o.flags|=32),wl}function Bo(o,c,p){(o===ri&&(Ir===2||Ir===9)||o.cancelPendingCommit!==null)&&(t0(o,0),Af(o,Gn,wl,!1)),ir(o,p),((Or&2)===0||o!==ri)&&(o===ri&&((Or&2)===0&&(zh|=p),Hi===4&&Af(o,Gn,wl,!1)),rc(o))}function XC(o,c,p){if((Or&6)!==0)throw Error(r(327));var v=!p&&(c&124)===0&&(c&o.expiredLanes)===0||nn(o,c),E=v?l9(o,c):J2(o,c,!0),I=v;do{if(E===0){Xp&&!v&&Af(o,c,0,!1);break}else{if(p=o.current.alternate,I&&!s9(p)){E=J2(o,c,!1),I=!1;continue}if(E===2){if(I=c,o.errorRecoveryDisabledLanes&I)var J=0;else J=o.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){c=J;e:{var pe=o;E=Gm;var je=pe.current.memoizedState.isDehydrated;if(je&&(t0(pe,J).flags|=256),J=J2(pe,J,!1),J!==2){if(H2&&!je){pe.errorRecoveryDisabledLanes|=I,zh|=I,E=4;break e}I=mo,mo=E,I!==null&&(mo===null?mo=I:mo.push.apply(mo,I))}E=J}if(I=!1,E!==2)continue}}if(E===1){t0(o,0),Af(o,c,0,!0);break}e:{switch(v=o,I=E,I){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Af(v,c,wl,!xf);break e;case 2:mo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(E=Y2+300-be(),10<E)){if(Af(v,c,wl,!xf),Zt(v,0,!0)!==0)break e;v.timeoutHandle=_E(ZC.bind(null,v,p,mo,Yb,V2,c,wl,zh,Zp,xf,I,2,-0,0),E);break e}ZC(v,p,mo,Yb,V2,c,wl,zh,Zp,xf,I,0,-0,0)}}break}while(!0);rc(o)}function ZC(o,c,p,v,E,I,J,pe,je,Ze,pt,St,tt,rt){if(o.timeoutHandle=-1,St=c.subtreeFlags,(St&8192||(St&16785408)===16785408)&&(n1={stylesheets:null,count:0,unsuspend:B9},WC(c),St=$9(),St!==null)){o.cancelPendingCommit=St(aE.bind(null,o,c,I,p,v,E,J,pe,je,pt,1,tt,rt)),Af(o,I,J,!Ze);return}aE(o,c,I,p,v,E,J,pe,je)}function s9(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var E=p[v],I=E.getSnapshot;E=E.value;try{if(!Sa(I(),E))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Af(o,c,p,v){c&=~W2,c&=~zh,o.suspendedLanes|=c,o.pingedLanes&=~c,v&&(o.warmLanes|=c),v=o.expirationTimes;for(var E=c;0<E;){var I=31-Te(E),J=1<<I;v[I]=-1,E&=~J}p!==0&&Gt(o,p,c)}function Gb(){return(Or&6)===0?(Km(0),!1):!0}function X2(){if(Bn!==null){if(Ir===0)var o=Bn.return;else o=Bn,nu=Ca=null,Bp(o),Yp=null,qm=0,o=Bn;for(;o!==null;)OC(o.alternate,o),o=o.return;Bn=null}}function t0(o,c){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,C9(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),X2(),ri=o,Bn=p=pl(o.current,null),Gn=c,Ir=0,zo=null,xf=!1,Xp=nn(o,c),H2=!1,Zp=wl=W2=zh=vf=Hi=0,mo=Gm=null,V2=!1,(c&8)!==0&&(c|=c&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=c;0<v;){var E=31-Te(v),I=1<<E;c|=o[E],v&=~I}return pd=c,uo(),p}function JC(o,c){en=null,W.H=Rb,c===oe||c===he?(c=$e(),Ir=3):c===le?(c=$e(),Ir=4):Ir=c===bC?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,zo=c,Bn===null&&(Hi=1,qb(o,Dn(c,o.current)))}function eE(){var o=W.H;return W.H=Rb,o===null?Rb:o}function tE(){var o=W.A;return W.A=i9,o}function Z2(){Hi=4,xf||(Gn&4194048)!==Gn&&vl.current!==null||(Xp=!0),(vf&134217727)===0&&(zh&134217727)===0||ri===null||Af(ri,Gn,wl,!1)}function J2(o,c,p){var v=Or;Or|=2;var E=eE(),I=tE();(ri!==o||Gn!==c)&&(Yb=null,t0(o,c)),c=!1;var J=Hi;e:do try{if(Ir!==0&&Bn!==null){var pe=Bn,je=zo;switch(Ir){case 8:X2(),J=6;break e;case 3:case 2:case 9:case 6:vl.current===null&&(c=!0);var Ze=Ir;if(Ir=0,zo=null,n0(o,pe,je,Ze),p&&Xp){J=0;break e}break;default:Ze=Ir,Ir=0,zo=null,n0(o,pe,je,Ze)}}o9(),J=Hi;break}catch(pt){JC(o,pt)}while(!0);return c&&o.shellSuspendCounter++,nu=Ca=null,Or=v,W.H=E,W.A=I,Bn===null&&(ri=null,Gn=0,uo()),J}function o9(){for(;Bn!==null;)nE(Bn)}function l9(o,c){var p=Or;Or|=2;var v=eE(),E=tE();ri!==o||Gn!==c?(Yb=null,Vb=be()+500,t0(o,c)):Xp=nn(o,c);e:do try{if(Ir!==0&&Bn!==null){c=Bn;var I=zo;t:switch(Ir){case 1:Ir=0,zo=null,n0(o,c,I,1);break;case 2:case 9:if(Ce(I)){Ir=0,zo=null,rE(c);break}c=function(){Ir!==2&&Ir!==9||ri!==o||(Ir=7),rc(o)},I.then(c,c);break e;case 3:Ir=7;break e;case 4:Ir=5;break e;case 7:Ce(I)?(Ir=0,zo=null,rE(c)):(Ir=0,zo=null,n0(o,c,I,7));break;case 5:var J=null;switch(Bn.tag){case 26:J=Bn.memoizedState;case 5:case 27:var pe=Bn;if(!J||PE(J)){Ir=0,zo=null;var je=pe.sibling;if(je!==null)Bn=je;else{var Ze=pe.return;Ze!==null?(Bn=Ze,Qb(Ze)):Bn=null}break t}}Ir=0,zo=null,n0(o,c,I,5);break;case 6:Ir=0,zo=null,n0(o,c,I,6);break;case 8:X2(),Hi=6;break e;default:throw Error(r(462))}}u9();break}catch(pt){JC(o,pt)}while(!0);return nu=Ca=null,W.H=v,W.A=E,Or=p,Bn!==null?0:(ri=null,Gn=0,uo(),Hi)}function u9(){for(;Bn!==null&&!Se();)nE(Bn)}function nE(o){var c=jC(o.alternate,o,pd);o.memoizedProps=o.pendingProps,c===null?Qb(o):Bn=c}function rE(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=AC(p,c,c.pendingProps,c.type,void 0,Gn);break;case 11:c=AC(p,c,c.pendingProps,c.type.render,c.ref,Gn);break;case 5:Bp(c);default:OC(p,c),c=Bn=wh(c,pd),c=jC(p,c,pd)}o.memoizedProps=o.pendingProps,c===null?Qb(o):Bn=c}function n0(o,c,p,v){nu=Ca=null,Bp(c),Yp=null,qm=0;var E=c.return;try{if(ZL(o,E,c,p,Gn)){Hi=1,qb(o,Dn(p,o.current)),Bn=null;return}}catch(I){if(E!==null)throw Bn=E,I;Hi=1,qb(o,Dn(p,o.current)),Bn=null;return}c.flags&32768?(tr||v===1?o=!0:Xp||(Gn&536870912)!==0?o=!1:(xf=o=!0,(v===2||v===9||v===3||v===6)&&(v=vl.current,v!==null&&v.tag===13&&(v.flags|=16384))),iE(c,o)):Qb(c)}function Qb(o){var c=o;do{if((c.flags&32768)!==0){iE(c,xf);return}o=c.return;var p=e9(c.alternate,c,pd);if(p!==null){Bn=p;return}if(c=c.sibling,c!==null){Bn=c;return}Bn=c=o}while(c!==null);Hi===0&&(Hi=5)}function iE(o,c){do{var p=t9(o.alternate,o);if(p!==null){p.flags&=32767,Bn=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){Bn=o;return}Bn=o=p}while(o!==null);Hi=6,Bn=null}function aE(o,c,p,v,E,I,J,pe,je){o.cancelPendingCommit=null;do Kb();while(cs!==0);if((Or&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(I=c.lanes|c.childLanes,I|=Ni,Rn(o,p,I,J,pe,je),o===ri&&(Bn=ri=null,Gn=0),Jp=c,Sf=o,e0=p,G2=I,Q2=E,QC=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,h9(ze,function(){return cE(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=W.T,W.T=null,E=K.p,K.p=2,J=Or,Or|=4;try{n9(o,c,p)}finally{Or=J,K.p=E,W.T=v}}cs=1,sE(),oE(),lE()}}function sE(){if(cs===1){cs=0;var o=Sf,c=Jp,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=W.T,W.T=null;var v=K.p;K.p=2;var E=Or;Or|=4;try{UC(c,o);var I=d5,J=ss(o.containerInfo),pe=I.focusedElem,je=I.selectionRange;if(J!==pe&&pe&&pe.ownerDocument&&Pu(pe.ownerDocument.documentElement,pe)){if(je!==null&&La(pe)){var Ze=je.start,pt=je.end;if(pt===void 0&&(pt=Ze),"selectionStart"in pe)pe.selectionStart=Ze,pe.selectionEnd=Math.min(pt,pe.value.length);else{var St=pe.ownerDocument||document,tt=St&&St.defaultView||window;if(tt.getSelection){var rt=tt.getSelection(),dn=pe.textContent.length,rn=Math.min(je.start,dn),Br=je.end===void 0?rn:Math.min(je.end,dn);!rt.extend&&rn>Br&&(J=Br,Br=rn,rn=J);var He=Gl(pe,rn),qe=Gl(pe,Br);if(He&&qe&&(rt.rangeCount!==1||rt.anchorNode!==He.node||rt.anchorOffset!==He.offset||rt.focusNode!==qe.node||rt.focusOffset!==qe.offset)){var Qe=St.createRange();Qe.setStart(He.node,He.offset),rt.removeAllRanges(),rn>Br?(rt.addRange(Qe),rt.extend(qe.node,qe.offset)):(Qe.setEnd(qe.node,qe.offset),rt.addRange(Qe))}}}}for(St=[],rt=pe;rt=rt.parentNode;)rt.nodeType===1&&St.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof pe.focus=="function"&&pe.focus(),pe=0;pe<St.length;pe++){var bt=St[pe];bt.element.scrollLeft=bt.left,bt.element.scrollTop=bt.top}}ly=!!c5,d5=c5=null}finally{Or=E,K.p=v,W.T=p}}o.current=c,cs=2}}function oE(){if(cs===2){cs=0;var o=Sf,c=Jp,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=W.T,W.T=null;var v=K.p;K.p=2;var E=Or;Or|=4;try{PC(o,c.alternate,c)}finally{Or=E,K.p=v,W.T=p}}cs=3}}function lE(){if(cs===4||cs===3){cs=0,te();var o=Sf,c=Jp,p=e0,v=QC;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?cs=5:(cs=0,Jp=Sf=null,uE(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(wf=null),Sr(p),c=c.stateNode,ve&&typeof ve.onCommitFiberRoot=="function")try{ve.onCommitFiberRoot(Fe,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=W.T,E=K.p,K.p=2,W.T=null;try{for(var I=o.onRecoverableError,J=0;J<v.length;J++){var pe=v[J];I(pe.value,{componentStack:pe.stack})}}finally{W.T=c,K.p=E}}(e0&3)!==0&&Kb(),rc(o),E=o.pendingLanes,(p&4194090)!==0&&(E&42)!==0?o===K2?Qm++:(Qm=0,K2=o):Qm=0,Km(0)}}function uE(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Eh(c)))}function Kb(o){return sE(),oE(),lE(),cE()}function cE(){if(cs!==5)return!1;var o=Sf,c=G2;G2=0;var p=Sr(e0),v=W.T,E=K.p;try{K.p=32>p?32:p,W.T=null,p=Q2,Q2=null;var I=Sf,J=e0;if(cs=0,Jp=Sf=null,e0=0,(Or&6)!==0)throw Error(r(331));var pe=Or;if(Or|=4,YC(I.current),HC(I,I.current,J,p),Or=pe,Km(0,!1),ve&&typeof ve.onPostCommitFiberRoot=="function")try{ve.onPostCommitFiberRoot(Fe,I)}catch{}return!0}finally{K.p=E,W.T=v,uE(o,c)}}function dE(o,c,p){c=Dn(p,c),c=N2(o.stateNode,c,2),o=vt(o,c,2),o!==null&&(ir(o,2),rc(o))}function Kr(o,c,p){if(o.tag===3)dE(o,o,p);else for(;c!==null;){if(c.tag===3){dE(c,o,p);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(wf===null||!wf.has(v))){o=Dn(p,o),p=mC(2),v=vt(c,p,2),v!==null&&(gC(p,v,c,o),ir(v,2),rc(v));break}}c=c.return}}function e5(o,c,p){var v=o.pingCache;if(v===null){v=o.pingCache=new a9;var E=new Set;v.set(c,E)}else E=v.get(c),E===void 0&&(E=new Set,v.set(c,E));E.has(p)||(H2=!0,E.add(p),o=c9.bind(null,o,c,p),c.then(o,o))}function c9(o,c,p){var v=o.pingCache;v!==null&&v.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,ri===o&&(Gn&p)===p&&(Hi===4||Hi===3&&(Gn&62914560)===Gn&&300>be()-Y2?(Or&2)===0&&t0(o,0):W2|=p,Zp===Gn&&(Zp=0)),rc(o)}function fE(o,c){c===0&&(c=zn()),o=Kl(o,c),o!==null&&(ir(o,c),rc(o))}function d9(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),fE(o,p)}function f9(o,c){var p=0;switch(o.tag){case 13:var v=o.stateNode,E=o.memoizedState;E!==null&&(p=E.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(c),fE(o,p)}function h9(o,c){return Ve(o,c)}var Xb=null,r0=null,t5=!1,Zb=!1,n5=!1,qh=0;function rc(o){o!==r0&&o.next===null&&(r0===null?Xb=r0=o:r0=r0.next=o),Zb=!0,t5||(t5=!0,m9())}function Km(o,c){if(!n5&&Zb){n5=!0;do for(var p=!1,v=Xb;v!==null;){if(o!==0){var E=v.pendingLanes;if(E===0)var I=0;else{var J=v.suspendedLanes,pe=v.pingedLanes;I=(1<<31-Te(42|o)+1)-1,I&=E&~(J&~pe),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(p=!0,gE(v,I))}else I=Gn,I=Zt(v,v===ri?I:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(I&3)===0||nn(v,I)||(p=!0,gE(v,I));v=v.next}while(p);n5=!1}}function p9(){hE()}function hE(){Zb=t5=!1;var o=0;qh!==0&&(A9()&&(o=qh),qh=0);for(var c=be(),p=null,v=Xb;v!==null;){var E=v.next,I=pE(v,c);I===0?(v.next=null,p===null?Xb=E:p.next=E,E===null&&(r0=p)):(p=v,(o!==0||(I&3)!==0)&&(Zb=!0)),v=E}Km(o)}function pE(o,c){for(var p=o.suspendedLanes,v=o.pingedLanes,E=o.expirationTimes,I=o.pendingLanes&-62914561;0<I;){var J=31-Te(I),pe=1<<J,je=E[J];je===-1?((pe&p)===0||(pe&v)!==0)&&(E[J]=ln(pe,c)):je<=c&&(o.expiredLanes|=pe),I&=~pe}if(c=ri,p=Gn,p=Zt(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,p===0||o===c&&(Ir===2||Ir===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&V(v),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||nn(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(v!==null&&V(v),Sr(p)){case 2:case 8:p=De;break;case 32:p=ze;break;case 268435456:p=Xe;break;default:p=ze}return v=mE.bind(null,o),p=Ve(p,v),o.callbackPriority=c,o.callbackNode=p,c}return v!==null&&v!==null&&V(v),o.callbackPriority=2,o.callbackNode=null,2}function mE(o,c){if(cs!==0&&cs!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Kb()&&o.callbackNode!==p)return null;var v=Gn;return v=Zt(o,o===ri?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(XC(o,v,c),pE(o,be()),o.callbackNode!=null&&o.callbackNode===p?mE.bind(null,o):null)}function gE(o,c){if(Kb())return null;XC(o,c,!0)}function m9(){E9(function(){(Or&6)!==0?Ve(Ae,p9):hE()})}function r5(){return qh===0&&(qh=Pn()),qh}function bE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ys(""+o)}function yE(o,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,o.id&&p.setAttribute("form",o.id),c.parentNode.insertBefore(p,c),o=new FormData(o),p.parentNode.removeChild(p),o}function g9(o,c,p,v,E){if(c==="submit"&&p&&p.stateNode===E){var I=bE((E[ar]||null).action),J=v.submitter;J&&(c=(c=J[ar]||null)?bE(c.formAction):J.getAttribute("formAction"),c!==null&&(I=c,J=null));var pe=new ot("action","action",null,v,E);o.push({event:pe,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(qh!==0){var je=J?yE(E,J):new FormData(E);xl(p,{pending:!0,data:je,method:E.method,action:I},null,je)}}else typeof I=="function"&&(pe.preventDefault(),je=J?yE(E,J):new FormData(E),xl(p,{pending:!0,data:je,method:E.method,action:I},I,je))},currentTarget:E}]})}}for(var i5=0;i5<Zc.length;i5++){var a5=Zc[i5],b9=a5.toLowerCase(),y9=a5[0].toUpperCase()+a5.slice(1);gi(b9,"on"+y9)}gi(nf,"onAnimationEnd"),gi(qu,"onAnimationIteration"),gi(Bu,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(Uu,"onTransitionRun"),gi(Xc,"onTransitionStart"),gi(rf,"onTransitionCancel"),gi($u,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xm));function xE(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],E=v.event;v=v.listeners;e:{var I=void 0;if(c)for(var J=v.length-1;0<=J;J--){var pe=v[J],je=pe.instance,Ze=pe.currentTarget;if(pe=pe.listener,je!==I&&E.isPropagationStopped())break e;I=pe,E.currentTarget=Ze;try{I(E)}catch(pt){zb(pt)}E.currentTarget=null,I=je}else for(J=0;J<v.length;J++){if(pe=v[J],je=pe.instance,Ze=pe.currentTarget,pe=pe.listener,je!==I&&E.isPropagationStopped())break e;I=pe,E.currentTarget=Ze;try{I(E)}catch(pt){zb(pt)}E.currentTarget=null,I=je}}}}function Un(o,c){var p=c[dr];p===void 0&&(p=c[dr]=new Set);var v=o+"__bubble";p.has(v)||(vE(c,o,2,!1),p.add(v))}function s5(o,c,p){var v=0;c&&(v|=4),vE(p,o,v,c)}var Jb="_reactListening"+Math.random().toString(36).slice(2);function o5(o){if(!o[Jb]){o[Jb]=!0,ro.forEach(function(p){p!=="selectionchange"&&(x9.has(p)||s5(p,!1,o),s5(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Jb]||(c[Jb]=!0,s5("selectionchange",!1,c))}}function vE(o,c,p,v){switch(HE(c)){case 2:var E=V9;break;case 8:E=Y9;break;default:E=w5}p=E.bind(null,c,p,o),E=void 0,!ko||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),v?E!==void 0?o.addEventListener(c,p,{capture:!0,passive:E}):o.addEventListener(c,p,!0):E!==void 0?o.addEventListener(c,p,{passive:E}):o.addEventListener(c,p,!1)}function l5(o,c,p,v,E){var I=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var J=v.tag;if(J===3||J===4){var pe=v.stateNode.containerInfo;if(pe===E)break;if(J===4)for(J=v.return;J!==null;){var je=J.tag;if((je===3||je===4)&&J.stateNode.containerInfo===E)return;J=J.return}for(;pe!==null;){if(J=Pi(pe),J===null)return;if(je=J.tag,je===5||je===6||je===26||je===27){v=I=J;continue e}pe=pe.parentNode}}v=v.return}ul(function(){var Ze=I,pt=li(p),St=[];e:{var tt=Ql.get(o);if(tt!==void 0){var rt=ot,dn=o;switch(o){case"keypress":if(oo(p)===0)break e;case"keydown":case"keyup":rt=Xd;break;case"focusin":dn="focus",rt=Qr;break;case"focusout":dn="blur",rt=Qr;break;case"beforeblur":case"afterblur":rt=Qr;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=jr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Ar;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=bh;break;case nf:case qu:case Bu:rt=Gs;break;case $u:rt=re;break;case"scroll":case"scrollend":rt=Bt;break;case"wheel":rt=Le;break;case"copy":case"cut":case"paste":rt=Gd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Zd;break;case"toggle":case"beforetoggle":rt=ct}var rn=(c&4)!==0,Br=!rn&&(o==="scroll"||o==="scrollend"),He=rn?tt!==null?tt+"Capture":null:tt;rn=[];for(var qe=Ze,Qe;qe!==null;){var bt=qe;if(Qe=bt.stateNode,bt=bt.tag,bt!==5&&bt!==26&&bt!==27||Qe===null||He===null||(bt=Ei(qe,He),bt!=null&&rn.push(Zm(qe,bt,Qe))),Br)break;qe=qe.return}0<rn.length&&(tt=new rt(tt,dn,null,p,pt),St.push({event:tt,listeners:rn}))}}if((c&7)===0){e:{if(tt=o==="mouseover"||o==="pointerover",rt=o==="mouseout"||o==="pointerout",tt&&p!==ll&&(dn=p.relatedTarget||p.fromElement)&&(Pi(dn)||dn[Mr]))break e;if((rt||tt)&&(tt=pt.window===pt?pt:(tt=pt.ownerDocument)?tt.defaultView||tt.parentWindow:window,rt?(dn=p.relatedTarget||p.toElement,rt=Ze,dn=dn?Pi(dn):null,dn!==null&&(Br=a(dn),rn=dn.tag,dn!==Br||rn!==5&&rn!==27&&rn!==6)&&(dn=null)):(rt=null,dn=Ze),rt!==dn)){if(rn=jr,bt="onMouseLeave",He="onMouseEnter",qe="mouse",(o==="pointerout"||o==="pointerover")&&(rn=Zd,bt="onPointerLeave",He="onPointerEnter",qe="pointer"),Br=rt==null?tt:Jn(rt),Qe=dn==null?tt:Jn(dn),tt=new rn(bt,qe+"leave",rt,p,pt),tt.target=Br,tt.relatedTarget=Qe,bt=null,Pi(pt)===Ze&&(rn=new rn(He,qe+"enter",dn,p,pt),rn.target=Qe,rn.relatedTarget=Br,bt=rn),Br=bt,rt&&dn)t:{for(rn=rt,He=dn,qe=0,Qe=rn;Qe;Qe=i0(Qe))qe++;for(Qe=0,bt=He;bt;bt=i0(bt))Qe++;for(;0<qe-Qe;)rn=i0(rn),qe--;for(;0<Qe-qe;)He=i0(He),Qe--;for(;qe--;){if(rn===He||He!==null&&rn===He.alternate)break t;rn=i0(rn),He=i0(He)}rn=null}else rn=null;rt!==null&&wE(St,tt,rt,rn,!1),dn!==null&&Br!==null&&wE(St,Br,dn,rn,!0)}}e:{if(tt=Ze?Jn(Ze):window,rt=tt.nodeName&&tt.nodeName.toLowerCase(),rt==="select"||rt==="input"&&tt.type==="file")var zt=ef;else if(Oo(tt))if(Yc)zt=Dp;else{zt=Cm;var Mn=Cs}else rt=tt.nodeName,!rt||rt.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?Ze&&qa(Ze.elementType)&&(zt=ef):zt=xh;if(zt&&(zt=zt(o,Ze))){yh(St,zt,p,pt);break e}Mn&&Mn(o,tt,Ze),o==="focusout"&&Ze&&tt.type==="number"&&Ze.memoizedProps.value!=null&&_o(tt,"number",tt.value)}switch(Mn=Ze?Jn(Ze):window,o){case"focusin":(Oo(Mn)||Mn.contentEditable==="true")&&(Es=Mn,Io=Ze,fl=null);break;case"focusout":fl=Io=Es=null;break;case"mousedown":Do=!0;break;case"contextmenu":case"mouseup":case"dragend":Do=!1,mi(St,p,pt);break;case"selectionchange":if(zu)break;case"keydown":case"keyup":mi(St,p,pt)}var Xt;if(Tt)e:{switch(o){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else ki?ui(o,p)&&(sn="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(sn="onCompositionStart");sn&&(fn&&p.locale!=="ko"&&(ki||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&ki&&(Xt=cl()):(Da=pt,$a="value"in Da?Da.value:Da.textContent,ki=!0)),Mn=ey(Ze,sn),0<Mn.length&&(sn=new jo(sn,o,null,p,pt),St.push({event:sn,listeners:Mn}),Xt?sn.data=Xt:(Xt=_i(p),Xt!==null&&(sn.data=Xt)))),(Xt=yn?wa(o,p):To(o,p))&&(sn=ey(Ze,"onBeforeInput"),0<sn.length&&(Mn=new jo("onBeforeInput","beforeinput",null,p,pt),St.push({event:Mn,listeners:sn}),Mn.data=Xt)),g9(St,o,Ze,p,pt)}xE(St,c)})}function Zm(o,c,p){return{instance:o,listener:c,currentTarget:p}}function ey(o,c){for(var p=c+"Capture",v=[];o!==null;){var E=o,I=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||I===null||(E=Ei(o,p),E!=null&&v.unshift(Zm(o,E,I)),E=Ei(o,c),E!=null&&v.push(Zm(o,E,I))),o.tag===3)return v;o=o.return}return[]}function i0(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function wE(o,c,p,v,E){for(var I=c._reactName,J=[];p!==null&&p!==v;){var pe=p,je=pe.alternate,Ze=pe.stateNode;if(pe=pe.tag,je!==null&&je===v)break;pe!==5&&pe!==26&&pe!==27||Ze===null||(je=Ze,E?(Ze=Ei(p,I),Ze!=null&&J.unshift(Zm(p,Ze,je))):E||(Ze=Ei(p,I),Ze!=null&&J.push(Zm(p,Ze,je)))),p=p.return}J.length!==0&&o.push({event:c,listeners:J})}var v9=/\r\n?/g,w9=/\u0000|\uFFFD/g;function SE(o){return(typeof o=="string"?o:""+o).replace(v9,`
`).replace(w9,"")}function AE(o,c){return c=SE(c),SE(o)===c}function ty(){}function qr(o,c,p,v,E,I){switch(p){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||qi(o,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&qi(o,""+v);break;case"className":ys(o,"class",v);break;case"tabIndex":ys(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":ys(o,p,v);break;case"style":Du(o,v,I);break;case"data":if(c!=="object"){ys(o,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||p!=="href")){o.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Ys(""+v),o.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(p==="formAction"?(c!=="input"&&qr(o,c,"name",E.name,E,null),qr(o,c,"formEncType",E.formEncType,E,null),qr(o,c,"formMethod",E.formMethod,E,null),qr(o,c,"formTarget",E.formTarget,E,null)):(qr(o,c,"encType",E.encType,E,null),qr(o,c,"method",E.method,E,null),qr(o,c,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Ys(""+v),o.setAttribute(p,v);break;case"onClick":v!=null&&(o.onclick=ty);break;case"onScroll":v!=null&&Un("scroll",o);break;case"onScrollEnd":v!=null&&Un("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}p=Ys(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""+v):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":v===!0?o.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,v):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(p,v):o.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(p):o.setAttribute(p,v);break;case"popover":Un("beforetoggle",o),Un("toggle",o),$s(o,"popover",v);break;case"xlinkActuate":Pa(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Pa(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Pa(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Pa(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Pa(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Pa(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":$s(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Vs.get(p)||p,$s(o,p,v))}}function u5(o,c,p,v,E,I){switch(p){case"style":Du(o,v,I);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"children":typeof v=="string"?qi(o,v):(typeof v=="number"||typeof v=="bigint")&&qi(o,""+v);break;case"onScroll":v!=null&&Un("scroll",o);break;case"onScrollEnd":v!=null&&Un("scrollend",o);break;case"onClick":v!=null&&(o.onclick=ty);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),c=p.slice(2,E?p.length-7:void 0),I=o[ar]||null,I=I!=null?I[p]:null,typeof I=="function"&&o.removeEventListener(c,I,E),typeof v=="function")){typeof I!="function"&&I!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(c,v,E);break e}p in o?o[p]=v:v===!0?o.setAttribute(p,""):$s(o,p,v)}}}function ds(o,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Un("error",o),Un("load",o);var v=!1,E=!1,I;for(I in p)if(p.hasOwnProperty(I)){var J=p[I];if(J!=null)switch(I){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:qr(o,c,I,J,p,null)}}E&&qr(o,c,"srcSet",p.srcSet,p,null),v&&qr(o,c,"src",p.src,p,null);return;case"input":Un("invalid",o);var pe=I=J=E=null,je=null,Ze=null;for(v in p)if(p.hasOwnProperty(v)){var pt=p[v];if(pt!=null)switch(v){case"name":E=pt;break;case"type":J=pt;break;case"checked":je=pt;break;case"defaultChecked":Ze=pt;break;case"value":I=pt;break;case"defaultValue":pe=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(r(137,c));break;default:qr(o,c,v,pt,p,null)}}Wl(o,I,pe,je,Ze,J,E,!1),za(o);return;case"select":Un("invalid",o),v=J=I=null;for(E in p)if(p.hasOwnProperty(E)&&(pe=p[E],pe!=null))switch(E){case"value":I=pe;break;case"defaultValue":J=pe;break;case"multiple":v=pe;default:qr(o,c,E,pe,p,null)}c=I,p=J,o.multiple=!!v,c!=null?Hs(o,!!v,c,!1):p!=null&&Hs(o,!!v,p,!0);return;case"textarea":Un("invalid",o),I=E=v=null;for(J in p)if(p.hasOwnProperty(J)&&(pe=p[J],pe!=null))switch(J){case"value":v=pe;break;case"defaultValue":E=pe;break;case"children":I=pe;break;case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(91));break;default:qr(o,c,J,pe,p,null)}Ws(o,v,E,I),za(o);return;case"option":for(je in p)if(p.hasOwnProperty(je)&&(v=p[je],v!=null))switch(je){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:qr(o,c,je,v,p,null)}return;case"dialog":Un("beforetoggle",o),Un("toggle",o),Un("cancel",o),Un("close",o);break;case"iframe":case"object":Un("load",o);break;case"video":case"audio":for(v=0;v<Xm.length;v++)Un(Xm[v],o);break;case"image":Un("error",o),Un("load",o);break;case"details":Un("toggle",o);break;case"embed":case"source":case"link":Un("error",o),Un("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ze in p)if(p.hasOwnProperty(Ze)&&(v=p[Ze],v!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:qr(o,c,Ze,v,p,null)}return;default:if(qa(c)){for(pt in p)p.hasOwnProperty(pt)&&(v=p[pt],v!==void 0&&u5(o,c,pt,v,p,void 0));return}}for(pe in p)p.hasOwnProperty(pe)&&(v=p[pe],v!=null&&qr(o,c,pe,v,p,null))}function S9(o,c,p,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,I=null,J=null,pe=null,je=null,Ze=null,pt=null;for(rt in p){var St=p[rt];if(p.hasOwnProperty(rt)&&St!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":je=St;default:v.hasOwnProperty(rt)||qr(o,c,rt,null,v,St)}}for(var tt in v){var rt=v[tt];if(St=p[tt],v.hasOwnProperty(tt)&&(rt!=null||St!=null))switch(tt){case"type":I=rt;break;case"name":E=rt;break;case"checked":Ze=rt;break;case"defaultChecked":pt=rt;break;case"value":J=rt;break;case"defaultValue":pe=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,c));break;default:rt!==St&&qr(o,c,tt,rt,v,St)}}Eo(o,J,pe,je,Ze,pt,I,E);return;case"select":rt=J=pe=tt=null;for(I in p)if(je=p[I],p.hasOwnProperty(I)&&je!=null)switch(I){case"value":break;case"multiple":rt=je;default:v.hasOwnProperty(I)||qr(o,c,I,null,v,je)}for(E in v)if(I=v[E],je=p[E],v.hasOwnProperty(E)&&(I!=null||je!=null))switch(E){case"value":tt=I;break;case"defaultValue":pe=I;break;case"multiple":J=I;default:I!==je&&qr(o,c,E,I,v,je)}c=pe,p=J,v=rt,tt!=null?Hs(o,!!p,tt,!1):!!v!=!!p&&(c!=null?Hs(o,!!p,c,!0):Hs(o,!!p,p?[]:"",!1));return;case"textarea":rt=tt=null;for(pe in p)if(E=p[pe],p.hasOwnProperty(pe)&&E!=null&&!v.hasOwnProperty(pe))switch(pe){case"value":break;case"children":break;default:qr(o,c,pe,null,v,E)}for(J in v)if(E=v[J],I=p[J],v.hasOwnProperty(J)&&(E!=null||I!=null))switch(J){case"value":tt=E;break;case"defaultValue":rt=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==I&&qr(o,c,J,E,v,I)}Iu(o,tt,rt);return;case"option":for(var dn in p)if(tt=p[dn],p.hasOwnProperty(dn)&&tt!=null&&!v.hasOwnProperty(dn))switch(dn){case"selected":o.selected=!1;break;default:qr(o,c,dn,null,v,tt)}for(je in v)if(tt=v[je],rt=p[je],v.hasOwnProperty(je)&&tt!==rt&&(tt!=null||rt!=null))switch(je){case"selected":o.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:qr(o,c,je,tt,v,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rn in p)tt=p[rn],p.hasOwnProperty(rn)&&tt!=null&&!v.hasOwnProperty(rn)&&qr(o,c,rn,null,v,tt);for(Ze in v)if(tt=v[Ze],rt=p[Ze],v.hasOwnProperty(Ze)&&tt!==rt&&(tt!=null||rt!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,c));break;default:qr(o,c,Ze,tt,v,rt)}return;default:if(qa(c)){for(var Br in p)tt=p[Br],p.hasOwnProperty(Br)&&tt!==void 0&&!v.hasOwnProperty(Br)&&u5(o,c,Br,void 0,v,tt);for(pt in v)tt=v[pt],rt=p[pt],!v.hasOwnProperty(pt)||tt===rt||tt===void 0&&rt===void 0||u5(o,c,pt,tt,v,rt);return}}for(var He in p)tt=p[He],p.hasOwnProperty(He)&&tt!=null&&!v.hasOwnProperty(He)&&qr(o,c,He,null,v,tt);for(St in v)tt=v[St],rt=p[St],!v.hasOwnProperty(St)||tt===rt||tt==null&&rt==null||qr(o,c,St,tt,v,rt)}var c5=null,d5=null;function ny(o){return o.nodeType===9?o:o.ownerDocument}function CE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EE(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function f5(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var h5=null;function A9(){var o=window.event;return o&&o.type==="popstate"?o===h5?!1:(h5=o,!0):(h5=null,!1)}var _E=typeof setTimeout=="function"?setTimeout:void 0,C9=typeof clearTimeout=="function"?clearTimeout:void 0,kE=typeof Promise=="function"?Promise:void 0,E9=typeof queueMicrotask=="function"?queueMicrotask:typeof kE<"u"?function(o){return kE.resolve(null).then(o).catch(_9)}:_E;function _9(o){setTimeout(function(){throw o})}function Cf(o){return o==="head"}function NE(o,c){var p=c,v=0,E=0;do{var I=p.nextSibling;if(o.removeChild(p),I&&I.nodeType===8)if(p=I.data,p==="/$"){if(0<v&&8>v){p=v;var J=o.ownerDocument;if(p&1&&Jm(J.documentElement),p&2&&Jm(J.body),p&4)for(p=J.head,Jm(p),J=p.firstChild;J;){var pe=J.nextSibling,je=J.nodeName;J[Nr]||je==="SCRIPT"||je==="STYLE"||je==="LINK"&&J.rel.toLowerCase()==="stylesheet"||p.removeChild(J),J=pe}}if(E===0){o.removeChild(I),o1(c);return}E--}else p==="$"||p==="$?"||p==="$!"?E++:v=p.charCodeAt(0)-48;else v=0;p=I}while(p);o1(c)}function p5(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":p5(p),Ia(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function k9(o,c,p,v){for(;o.nodeType===1;){var E=p;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[Nr])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(I=o.getAttribute("rel"),I==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(I!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(I=o.getAttribute("src"),(I!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&I&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var I=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===I)return o}else return o;if(o=uu(o.nextSibling),o===null)break}return null}function N9(o,c,p){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=uu(o.nextSibling),o===null))return null;return o}function m5(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function j9(o,c){var p=o.ownerDocument;if(o.data!=="$?"||p.readyState==="complete")c();else{var v=function(){c(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function uu(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var g5=null;function jE(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return o;c--}else p==="/$"&&c++}o=o.previousSibling}return null}function TE(o,c,p){switch(c=ny(p),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Jm(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Ia(o)}var Sl=new Map,OE=new Set;function ry(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var md=K.d;K.d={f:T9,r:O9,D:I9,C:D9,L:L9,m:R9,X:F9,S:M9,M:P9};function T9(){var o=md.f(),c=Gb();return o||c}function O9(o){var c=zi(o);c!==null&&c.tag===5&&c.type==="form"?Rh(c):md.r(o)}var a0=typeof document>"u"?null:document;function IE(o,c,p){var v=a0;if(v&&typeof c=="string"&&c){var E=hr(c);E='link[rel="'+o+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),OE.has(E)||(OE.add(E),o={rel:o,crossOrigin:p,href:c},v.querySelector(E)===null&&(c=v.createElement("link"),ds(c,"link",o),er(c),v.head.appendChild(c)))}}function I9(o){md.D(o),IE("dns-prefetch",o,null)}function D9(o,c){md.C(o,c),IE("preconnect",o,c)}function L9(o,c,p){md.L(o,c,p);var v=a0;if(v&&o&&c){var E='link[rel="preload"][as="'+hr(c)+'"]';c==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+hr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+hr(p.imageSizes)+'"]')):E+='[href="'+hr(o)+'"]';var I=E;switch(c){case"style":I=s0(o);break;case"script":I=o0(o)}Sl.has(I)||(o=f({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:o,as:c},p),Sl.set(I,o),v.querySelector(E)!==null||c==="style"&&v.querySelector(e1(I))||c==="script"&&v.querySelector(t1(I))||(c=v.createElement("link"),ds(c,"link",o),er(c),v.head.appendChild(c)))}}function R9(o,c){md.m(o,c);var p=a0;if(p&&o){var v=c&&typeof c.as=="string"?c.as:"script",E='link[rel="modulepreload"][as="'+hr(v)+'"][href="'+hr(o)+'"]',I=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=o0(o)}if(!Sl.has(I)&&(o=f({rel:"modulepreload",href:o},c),Sl.set(I,o),p.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(t1(I)))return}v=p.createElement("link"),ds(v,"link",o),er(v),p.head.appendChild(v)}}}function M9(o,c,p){md.S(o,c,p);var v=a0;if(v&&o){var E=Ci(v).hoistableStyles,I=s0(o);c=c||"default";var J=E.get(I);if(!J){var pe={loading:0,preload:null};if(J=v.querySelector(e1(I)))pe.loading=5;else{o=f({rel:"stylesheet",href:o,"data-precedence":c},p),(p=Sl.get(I))&&b5(o,p);var je=J=v.createElement("link");er(je),ds(je,"link",o),je._p=new Promise(function(Ze,pt){je.onload=Ze,je.onerror=pt}),je.addEventListener("load",function(){pe.loading|=1}),je.addEventListener("error",function(){pe.loading|=2}),pe.loading|=4,iy(J,c,v)}J={type:"stylesheet",instance:J,count:1,state:pe},E.set(I,J)}}}function F9(o,c){md.X(o,c);var p=a0;if(p&&o){var v=Ci(p).hoistableScripts,E=o0(o),I=v.get(E);I||(I=p.querySelector(t1(E)),I||(o=f({src:o,async:!0},c),(c=Sl.get(E))&&y5(o,c),I=p.createElement("script"),er(I),ds(I,"link",o),p.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function P9(o,c){md.M(o,c);var p=a0;if(p&&o){var v=Ci(p).hoistableScripts,E=o0(o),I=v.get(E);I||(I=p.querySelector(t1(E)),I||(o=f({src:o,async:!0,type:"module"},c),(c=Sl.get(E))&&y5(o,c),I=p.createElement("script"),er(I),ds(I,"link",o),p.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function DE(o,c,p,v){var E=(E=se.current)?ry(E):null;if(!E)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=s0(p.href),p=Ci(E).hoistableStyles,v=p.get(c),v||(v={type:"style",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=s0(p.href);var I=Ci(E).hoistableStyles,J=I.get(o);if(J||(E=E.ownerDocument||E,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(o,J),(I=E.querySelector(e1(o)))&&!I._p&&(J.instance=I,J.state.loading=5),Sl.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Sl.set(o,p),I||z9(E,o,p,J.state))),c&&v===null)throw Error(r(528,""));return J}if(c&&v!==null)throw Error(r(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=o0(p),p=Ci(E).hoistableScripts,v=p.get(c),v||(v={type:"script",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function s0(o){return'href="'+hr(o)+'"'}function e1(o){return'link[rel="stylesheet"]['+o+"]"}function LE(o){return f({},o,{"data-precedence":o.precedence,precedence:null})}function z9(o,c,p,v){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=o.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),ds(c,"link",p),er(c),o.head.appendChild(c))}function o0(o){return'[src="'+hr(o)+'"]'}function t1(o){return"script[async]"+o}function RE(o,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var v=o.querySelector('style[data-href~="'+hr(p.href)+'"]');if(v)return c.instance=v,er(v),v;var E=f({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),er(v),ds(v,"style",E),iy(v,p.precedence,o),c.instance=v;case"stylesheet":E=s0(p.href);var I=o.querySelector(e1(E));if(I)return c.state.loading|=4,c.instance=I,er(I),I;v=LE(p),(E=Sl.get(E))&&b5(v,E),I=(o.ownerDocument||o).createElement("link"),er(I);var J=I;return J._p=new Promise(function(pe,je){J.onload=pe,J.onerror=je}),ds(I,"link",v),c.state.loading|=4,iy(I,p.precedence,o),c.instance=I;case"script":return I=o0(p.src),(E=o.querySelector(t1(I)))?(c.instance=E,er(E),E):(v=p,(E=Sl.get(I))&&(v=f({},p),y5(v,E)),o=o.ownerDocument||o,E=o.createElement("script"),er(E),ds(E,"link",v),o.head.appendChild(E),c.instance=E);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,iy(v,p.precedence,o));return c.instance}function iy(o,c,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,I=E,J=0;J<v.length;J++){var pe=v[J];if(pe.dataset.precedence===c)I=pe;else if(I!==E)break}I?I.parentNode.insertBefore(o,I.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(o,c.firstChild))}function b5(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function y5(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var ay=null;function ME(o,c,p){if(ay===null){var v=new Map,E=ay=new Map;E.set(p,v)}else E=ay,v=E.get(p),v||(v=new Map,E.set(p,v));if(v.has(o))return v;for(v.set(o,null),p=p.getElementsByTagName(o),E=0;E<p.length;E++){var I=p[E];if(!(I[Nr]||I[Hn]||o==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var J=I.getAttribute(c)||"";J=o+J;var pe=v.get(J);pe?pe.push(I):v.set(J,[I])}}return v}function FE(o,c,p){o=o.ownerDocument||o,o.head.insertBefore(p,c==="title"?o.querySelector("head > title"):null)}function q9(o,c,p){if(p===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function PE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var n1=null;function B9(){}function U9(o,c,p){if(n1===null)throw Error(r(475));var v=n1;if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var E=s0(p.href),I=o.querySelector(e1(E));if(I){o=I._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(v.count++,v=sy.bind(v),o.then(v,v)),c.state.loading|=4,c.instance=I,er(I);return}I=o.ownerDocument||o,p=LE(p),(E=Sl.get(E))&&b5(p,E),I=I.createElement("link"),er(I);var J=I;J._p=new Promise(function(pe,je){J.onload=pe,J.onerror=je}),ds(I,"link",p),c.instance=I}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(v.count++,c=sy.bind(v),o.addEventListener("load",c),o.addEventListener("error",c))}}function $9(){if(n1===null)throw Error(r(475));var o=n1;return o.stylesheets&&o.count===0&&x5(o,o.stylesheets),0<o.count?function(c){var p=setTimeout(function(){if(o.stylesheets&&x5(o,o.stylesheets),o.unsuspend){var v=o.unsuspend;o.unsuspend=null,v()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(p)}}:null}function sy(){if(this.count--,this.count===0){if(this.stylesheets)x5(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var oy=null;function x5(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,oy=new Map,c.forEach(H9,o),oy=null,sy.call(o))}function H9(o,c){if(!(c.state.loading&4)){var p=oy.get(o);if(p)var v=p.get(null);else{p=new Map,oy.set(o,p);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<E.length;I++){var J=E[I];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(p.set(J.dataset.precedence,J),v=J)}v&&p.set(null,v)}E=c.instance,J=E.getAttribute("data-precedence"),I=p.get(J)||v,I===v&&p.set(null,E),p.set(J,E),this.count++,v=sy.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),I?I.parentNode.insertBefore(E,I.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),c.state.loading|=4}}var r1={$$typeof:N,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function W9(o,c,p,v,E,I,J,pe){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=I,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function zE(o,c,p,v,E,I,J,pe,je,Ze,pt,St){return o=new W9(o,c,p,J,pe,je,Ze,St),c=1,I===!0&&(c|=24),I=Wa(3,null,null,c),o.current=I,I.stateNode=o,c=_m(),c.refCount++,o.pooledCache=c,c.refCount++,I.memoizedState={element:v,isDehydrated:p,cache:c},Pe(I),o}function qE(o){return o?(o=Aa,o):Aa}function BE(o,c,p,v,E,I){E=qE(E),v.context===null?v.context=E:v.pendingContext=E,v=ht(c),v.payload={element:p},I=I===void 0?null:I,I!==null&&(v.callback=I),p=vt(o,v,c),p!==null&&(Bo(p,o,c),mt(p,o,c))}function UE(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function v5(o,c){UE(o,c),(o=o.alternate)&&UE(o,c)}function $E(o){if(o.tag===13){var c=Kl(o,67108864);c!==null&&Bo(c,o,67108864),v5(o,67108864)}}var ly=!0;function V9(o,c,p,v){var E=W.T;W.T=null;var I=K.p;try{K.p=2,w5(o,c,p,v)}finally{K.p=I,W.T=E}}function Y9(o,c,p,v){var E=W.T;W.T=null;var I=K.p;try{K.p=8,w5(o,c,p,v)}finally{K.p=I,W.T=E}}function w5(o,c,p,v){if(ly){var E=S5(v);if(E===null)l5(o,c,v,uy,p),WE(o,v);else if(Q9(E,o,c,p,v))v.stopPropagation();else if(WE(o,v),c&4&&-1<G9.indexOf(o)){for(;E!==null;){var I=zi(E);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var J=Lt(I.pendingLanes);if(J!==0){var pe=I;for(pe.pendingLanes|=2,pe.entangledLanes|=2;J;){var je=1<<31-Te(J);pe.entanglements[1]|=je,J&=~je}rc(I),(Or&6)===0&&(Vb=be()+500,Km(0))}}break;case 13:pe=Kl(I,2),pe!==null&&Bo(pe,I,2),Gb(),v5(I,2)}if(I=S5(v),I===null&&l5(o,c,v,uy,p),I===E)break;E=I}E!==null&&v.stopPropagation()}else l5(o,c,v,null,p)}}function S5(o){return o=li(o),A5(o)}var uy=null;function A5(o){if(uy=null,o=Pi(o),o!==null){var c=a(o);if(c===null)o=null;else{var p=c.tag;if(p===13){if(o=s(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return uy=o,null}function HE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case Ae:return 2;case De:return 8;case ze:case Ne:return 32;case Xe:return 268435456;default:return 32}default:return 32}}var C5=!1,Ef=null,_f=null,kf=null,i1=new Map,a1=new Map,Nf=[],G9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function WE(o,c){switch(o){case"focusin":case"focusout":Ef=null;break;case"dragenter":case"dragleave":_f=null;break;case"mouseover":case"mouseout":kf=null;break;case"pointerover":case"pointerout":i1.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":a1.delete(c.pointerId)}}function s1(o,c,p,v,E,I){return o===null||o.nativeEvent!==I?(o={blockedOn:c,domEventName:p,eventSystemFlags:v,nativeEvent:I,targetContainers:[E]},c!==null&&(c=zi(c),c!==null&&$E(c)),o):(o.eventSystemFlags|=v,c=o.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),o)}function Q9(o,c,p,v,E){switch(c){case"focusin":return Ef=s1(Ef,o,c,p,v,E),!0;case"dragenter":return _f=s1(_f,o,c,p,v,E),!0;case"mouseover":return kf=s1(kf,o,c,p,v,E),!0;case"pointerover":var I=E.pointerId;return i1.set(I,s1(i1.get(I)||null,o,c,p,v,E)),!0;case"gotpointercapture":return I=E.pointerId,a1.set(I,s1(a1.get(I)||null,o,c,p,v,E)),!0}return!1}function VE(o){var c=Pi(o.target);if(c!==null){var p=a(c);if(p!==null){if(c=p.tag,c===13){if(c=s(p),c!==null){o.blockedOn=c,xa(o.priority,function(){if(p.tag===13){var v=qo();v=ya(v);var E=Kl(p,v);E!==null&&Bo(E,p,v),v5(p,v)}});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function cy(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=S5(o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);ll=v,p.target.dispatchEvent(v),ll=null}else return c=zi(p),c!==null&&$E(c),o.blockedOn=p,!1;c.shift()}return!0}function YE(o,c,p){cy(o)&&p.delete(c)}function K9(){C5=!1,Ef!==null&&cy(Ef)&&(Ef=null),_f!==null&&cy(_f)&&(_f=null),kf!==null&&cy(kf)&&(kf=null),i1.forEach(YE),a1.forEach(YE)}function dy(o,c){o.blockedOn===c&&(o.blockedOn=null,C5||(C5=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,K9)))}var fy=null;function GE(o){fy!==o&&(fy=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){fy===o&&(fy=null);for(var c=0;c<o.length;c+=3){var p=o[c],v=o[c+1],E=o[c+2];if(typeof v!="function"){if(A5(v||p)===null)continue;break}var I=zi(p);I!==null&&(o.splice(c,3),c-=3,xl(I,{pending:!0,data:E,method:p.method,action:v},v,E))}}))}function o1(o){function c(je){return dy(je,o)}Ef!==null&&dy(Ef,o),_f!==null&&dy(_f,o),kf!==null&&dy(kf,o),i1.forEach(c),a1.forEach(c);for(var p=0;p<Nf.length;p++){var v=Nf[p];v.blockedOn===o&&(v.blockedOn=null)}for(;0<Nf.length&&(p=Nf[0],p.blockedOn===null);)VE(p),p.blockedOn===null&&Nf.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var E=p[v],I=p[v+1],J=E[ar]||null;if(typeof I=="function")J||GE(p);else if(J){var pe=null;if(I&&I.hasAttribute("formAction")){if(E=I,J=I[ar]||null)pe=J.formAction;else if(A5(E)!==null)continue}else pe=J.action;typeof pe=="function"?p[v+1]=pe:(p.splice(v,3),v-=3),GE(p)}}}function E5(o){this._internalRoot=o}hy.prototype.render=E5.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var p=c.current,v=qo();BE(p,v,o,c,null,null)},hy.prototype.unmount=E5.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;BE(o.current,2,null,o,null,null),Gb(),c[Mr]=null}};function hy(o){this._internalRoot=o}hy.prototype.unstable_scheduleHydration=function(o){if(o){var c=oi();o={blockedOn:null,target:o,priority:c};for(var p=0;p<Nf.length&&c!==0&&c<Nf[p].priority;p++);Nf.splice(p,0,o),p===0&&VE(o)}};var QE=n.version;if(QE!=="19.1.1")throw Error(r(527,QE,"19.1.1"));K.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=u(c),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var X9={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var py=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!py.isDisabled&&py.supportsFiber)try{Fe=py.inject(X9),ve=py}catch{}}return u1.createRoot=function(o,c){if(!i(o))throw Error(r(299));var p=!1,v="",E=dC,I=fC,J=hC,pe=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(J=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(pe=c.unstable_transitionCallbacks)),c=zE(o,1,!1,null,null,p,v,E,I,J,pe,null),o[Mr]=c.current,o5(o),new E5(c)},u1.hydrateRoot=function(o,c,p){if(!i(o))throw Error(r(299));var v=!1,E="",I=dC,J=fC,pe=hC,je=null,Ze=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(I=p.onUncaughtError),p.onCaughtError!==void 0&&(J=p.onCaughtError),p.onRecoverableError!==void 0&&(pe=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(je=p.unstable_transitionCallbacks),p.formState!==void 0&&(Ze=p.formState)),c=zE(o,1,!0,c,p??null,v,E,I,J,pe,je,Ze),c.context=qE(null),p=c.current,v=qo(),v=ya(v),E=ht(v),E.callback=null,vt(p,E,v),p=v,c.current.lanes=p,ir(c,p),rc(c),o[Mr]=c.current,o5(o),new hy(c)},u1.version="19.1.1",u1}var r_;function d3(){if(r_)return _5.exports;r_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),_5.exports=c3(),_5.exports}var f3=d3();const h3=ts(f3);typeof window<"u"&&(window.styled_default=lp,window.styled=lp);typeof globalThis<"u"&&(globalThis.styled_default=lp,globalThis.styled=lp);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},cg.apply(this,arguments)}var Gh;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gh||(Gh={}));const i_="popstate";function p3(e){e===void 0&&(e={});function n(r,i){let{pathname:a,search:s,hash:l}=r.location;return Zw("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:bT(i)}return g3(n,t,null,e)}function Bs(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function gT(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function m3(){return Math.random().toString(36).substr(2,8)}function a_(e,n){return{usr:e.state,key:e.key,idx:n}}function Zw(e,n,t,r){return t===void 0&&(t=null),cg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?zg(n):n,{state:t,key:n&&n.key||r||m3()})}function bT(e){let{pathname:n="/",search:t="",hash:r=""}=e;return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function zg(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));let r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}function g3(e,n,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l=Gh.Pop,u=null,d=f();d==null&&(d=0,s.replaceState(cg({},s.state,{idx:d}),""));function f(){return(s.state||{idx:null}).idx}function g(){l=Gh.Pop;let A=f(),w=A==null?null:A-d;d=A,u&&u({action:l,location:y.location,delta:w})}function b(A,w){l=Gh.Push;let C=Zw(y.location,A,w);d=f()+1;let N=a_(C,d),R=y.createHref(C);try{s.pushState(N,"",R)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(R)}a&&u&&u({action:l,location:y.location,delta:1})}function m(A,w){l=Gh.Replace;let C=Zw(y.location,A,w);d=f();let N=a_(C,d),R=y.createHref(C);s.replaceState(N,"",R),a&&u&&u({action:l,location:y.location,delta:0})}function x(A){let w=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof A=="string"?A:bT(A);return C=C.replace(/ $/,"%20"),Bs(w,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,w)}let y={get action(){return l},get location(){return e(i,s)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(i_,g),u=A,()=>{i.removeEventListener(i_,g),u=null}},createHref(A){return n(i,A)},createURL:x,encodeLocation(A){let w=x(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:b,replace:m,go(A){return s.go(A)}};return y}var s_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(s_||(s_={}));function b3(e,n,t){return t===void 0&&(t="/"),y3(e,n,t)}function y3(e,n,t,r){let i=typeof n=="string"?zg(n):n,a=vT(i.pathname||"/",t);if(a==null)return null;let s=yT(e);x3(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let d=O3(a);l=N3(s[u],d)}return l}function yT(e,n,t,r){n===void 0&&(n=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,s,l)=>{let u={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};u.relativePath.startsWith("/")&&(Bs(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Jh([r,u.relativePath]),f=t.concat(u);a.children&&a.children.length>0&&(Bs(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),yT(a.children,n,f,d)),!(a.path==null&&!a.index)&&n.push({path:d,score:_3(d,a.index),routesMeta:f})};return e.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let u of xT(a.path))i(a,s,u)}),n}function xT(e){let n=e.split("/");if(n.length===0)return[];let[t,...r]=n,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=xT(r.join("/")),l=[];return l.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...s),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function x3(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:k3(n.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const v3=/^:[\w-]+$/,w3=3,S3=2,A3=1,C3=10,E3=-2,o_=e=>e==="*";function _3(e,n){let t=e.split("/"),r=t.length;return t.some(o_)&&(r+=E3),n&&(r+=S3),t.filter(i=>!o_(i)).reduce((i,a)=>i+(v3.test(a)?w3:a===""?A3:C3),r)}function k3(e,n){return e.length===n.length&&e.slice(0,-1).every((r,i)=>r===n[i])?e[e.length-1]-n[n.length-1]:0}function N3(e,n,t){let{routesMeta:r}=e,i={},a="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,f=a==="/"?n:n.slice(a.length)||"/",g=j3({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),b=u.route;if(!g)return null;Object.assign(i,g.params),s.push({params:i,pathname:Jh([a,g.pathname]),pathnameBase:R3(Jh([a,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(a=Jh([a,g.pathnameBase]))}return s}function j3(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,r]=T3(e.path,e.caseSensitive,e.end),i=n.match(t);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,f,g)=>{let{paramName:b,isOptional:m}=f;if(b==="*"){let y=l[g]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[g];return m&&!x?d[b]=void 0:d[b]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:e}}function T3(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0),gT(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),r]}function O3(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return gT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function vT(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,r=e.charAt(t);return r&&r!=="/"?null:e.slice(t)||"/"}function I3(e,n){n===void 0&&(n="/");let{pathname:t,search:r="",hash:i=""}=typeof e=="string"?zg(e):e;return{pathname:t?t.startsWith("/")?t:D3(t,n):n,search:M3(r),hash:F3(i)}}function D3(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function j5(e,n,t,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function L3(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function wT(e,n){let t=L3(e);return n?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function ST(e,n,t,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=zg(e):(i=cg({},e),Bs(!i.pathname||!i.pathname.includes("?"),j5("?","pathname","search",i)),Bs(!i.pathname||!i.pathname.includes("#"),j5("#","pathname","hash",i)),Bs(!i.search||!i.search.includes("#"),j5("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=t;else{let g=n.length-1;if(!r&&s.startsWith("..")){let b=s.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}l=g>=0?n[g]:"/"}let u=I3(i,l),d=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const Jh=e=>e.join("/").replace(/\/\/+/g,"/"),R3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,F3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function P3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const AT=["post","put","patch","delete"];new Set(AT);const z3=["get",...AT];new Set(z3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Nx.apply(this,arguments)}const L6=Q.createContext(null),q3=Q.createContext(null),qg=Q.createContext(null),R6=Q.createContext(null),oh=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),CT=Q.createContext(null);function Bg(){return Q.useContext(R6)!=null}function Ug(){return Bg()||Bs(!1),Q.useContext(R6).location}function ET(e){Q.useContext(qg).static||Q.useLayoutEffect(e)}function ma(){let{isDataRoute:e}=Q.useContext(oh);return e?J3():B3()}function B3(){Bg()||Bs(!1);let e=Q.useContext(L6),{basename:n,future:t,navigator:r}=Q.useContext(qg),{matches:i}=Q.useContext(oh),{pathname:a}=Ug(),s=JSON.stringify(wT(i,t.v7_relativeSplatPath)),l=Q.useRef(!1);return ET(()=>{l.current=!0}),Q.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let g=ST(d,JSON.parse(s),a,f.relative==="path");e==null&&n!=="/"&&(g.pathname=g.pathname==="/"?n:Jh([n,g.pathname])),(f.replace?r.replace:r.push)(g,f.state,f)},[n,r,s,a,e])}function M6(){let{matches:e}=Q.useContext(oh),n=e[e.length-1];return n?n.params:{}}function U3(e,n){return $3(e)}function $3(e,n,t,r){Bg()||Bs(!1);let{navigator:i}=Q.useContext(qg),{matches:a}=Q.useContext(oh),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let d=Ug(),f;f=d;let g=f.pathname||"/",b=g;if(u!=="/"){let y=u.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=b3(e,{pathname:b});return G3(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Jh([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Jh([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,t,r)}function H3(){let e=Z3(),n=P3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},n),t?Q.createElement("pre",{style:i},t):null,null)}const W3=Q.createElement(H3,null);class V3 extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?Q.createElement(oh.Provider,{value:this.props.routeContext},Q.createElement(CT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y3(e){let{routeContext:n,match:t,children:r}=e,i=Q.useContext(L6);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),Q.createElement(oh.Provider,{value:n},r)}function G3(e,n,t,r){var i;if(n===void 0&&(n=[]),t===void 0&&(t=null),r===void 0&&(r=null),e==null){var a;if(!t)return null;if(t.errors)e=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&n.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let s=e,l=(i=t)==null?void 0:i.errors;if(l!=null){let f=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);f>=0||Bs(!1),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(t&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let g=s[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=f),g.route.id){let{loaderData:b,errors:m}=t,x=g.route.loader&&b[g.route.id]===void 0&&(!m||m[g.route.id]===void 0);if(g.route.lazy||x){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,g,b)=>{let m,x=!1,y=null,A=null;t&&(m=l&&g.route.id?l[g.route.id]:void 0,y=g.route.errorElement||W3,u&&(d<0&&b===0?(eM("route-fallback"),x=!0,A=null):d===b&&(x=!0,A=g.route.hydrateFallbackElement||null)));let w=n.concat(s.slice(0,b+1)),C=()=>{let N;return m?N=y:x?N=A:g.route.Component?N=Q.createElement(g.route.Component,null):g.route.element?N=g.route.element:N=f,Q.createElement(Y3,{match:g,routeContext:{outlet:f,matches:w,isDataRoute:t!=null},children:N})};return t&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?Q.createElement(V3,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}var _T=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_T||{}),kT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kT||{});function Q3(e){let n=Q.useContext(L6);return n||Bs(!1),n}function K3(e){let n=Q.useContext(q3);return n||Bs(!1),n}function X3(e){let n=Q.useContext(oh);return n||Bs(!1),n}function NT(e){let n=X3(),t=n.matches[n.matches.length-1];return t.route.id||Bs(!1),t.route.id}function Z3(){var e;let n=Q.useContext(CT),t=K3(),r=NT();return n!==void 0?n:(e=t.errors)==null?void 0:e[r]}function J3(){let{router:e}=Q3(_T.UseNavigateStable),n=NT(kT.UseNavigateStable),t=Q.useRef(!1);return ET(()=>{t.current=!0}),Q.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Nx({fromRouteId:n},a)))},[e,n])}const l_={};function eM(e,n,t){l_[e]||(l_[e]=!0)}function tM(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function jT(e){let{to:n,replace:t,state:r,relative:i}=e;Bg()||Bs(!1);let{future:a,static:s}=Q.useContext(qg),{matches:l}=Q.useContext(oh),{pathname:u}=Ug(),d=ma(),f=ST(n,wT(l,a.v7_relativeSplatPath),u,i==="path"),g=JSON.stringify(f);return Q.useEffect(()=>d(JSON.parse(g),{replace:t,state:r,relative:i}),[d,g,i,t,r]),null}function nM(e){let{basename:n="/",children:t=null,location:r,navigationType:i=Gh.Pop,navigator:a,static:s=!1,future:l}=e;Bg()&&Bs(!1);let u=n.replace(/^\/*/,"/"),d=Q.useMemo(()=>({basename:u,navigator:a,static:s,future:Nx({v7_relativeSplatPath:!1},l)}),[u,l,a,s]);typeof r=="string"&&(r=zg(r));let{pathname:f="/",search:g="",hash:b="",state:m=null,key:x="default"}=r,y=Q.useMemo(()=>{let A=vT(f,u);return A==null?null:{location:{pathname:A,search:g,hash:b,state:m,key:x},navigationType:i}},[u,f,g,b,m,x,i]);return y==null?null:Q.createElement(qg.Provider,{value:d},Q.createElement(R6.Provider,{children:t,value:y}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jw(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,t)=>{let r=e[t];return n.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function rM(e,n){let t=Jw(e);return n&&n.forEach((r,i)=>{t.has(i)||n.getAll(i).forEach(a=>{t.append(i,a)})}),t}const iM="6";try{window.__reactRouterVersion=iM}catch{}const aM="startTransition",u_=_6[aM];function sM(e){let{basename:n,children:t,future:r,window:i}=e,a=Q.useRef();a.current==null&&(a.current=p3({window:i,v5Compat:!0}));let s=a.current,[l,u]=Q.useState({action:s.action,location:s.location}),{v7_startTransition:d}=r||{},f=Q.useCallback(g=>{d&&u_?u_(()=>u(g)):u(g)},[u,d]);return Q.useLayoutEffect(()=>s.listen(f),[s,f]),Q.useEffect(()=>tM(r),[r]),Q.createElement(nM,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:s,future:r})}var c_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(c_||(c_={}));var d_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(d_||(d_={}));function $g(e){let n=Q.useRef(Jw(e)),t=Q.useRef(!1),r=Ug(),i=Q.useMemo(()=>rM(r.search,t.current?null:n.current),[r.search]),a=ma(),s=Q.useCallback((l,u)=>{const d=Jw(typeof l=="function"?l(i):l);t.current=!0,a("?"+d,u)},[a,i]);return[i,s]}const oM="modulepreload",lM=function(e){return"/nexlab/"+e},f_={},Li=function(n,t,r){let i=Promise.resolve();if(t&&t.length>0){let s=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(t.map(d=>{if(d=lM(d),d in f_)return;f_[d]=!0;const f=d.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const b=document.createElement("link");if(b.rel=f?"stylesheet":oM,f||(b.as="script"),b.crossOrigin="",b.href=d,u&&b.setAttribute("nonce",u),document.head.appendChild(b),f)return new Promise((m,x)=>{b.addEventListener("load",m),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return n().catch(a)})};var Ho=(e=>(e.NETWORK="NETWORK",e.AUTHENTICATION="AUTHENTICATION",e.AUTHORIZATION="AUTHORIZATION",e.VALIDATION="VALIDATION",e.NOT_FOUND="NOT_FOUND",e.SERVER_ERROR="SERVER_ERROR",e.UNKNOWN="UNKNOWN",e))(Ho||{});const h_={"auth/user-not-found":{type:"AUTHENTICATION",message:"No user found with this email address."},"auth/wrong-password":{type:"AUTHENTICATION",message:"Incorrect password. Please try again."},"auth/user-disabled":{type:"AUTHORIZATION",message:"This account has been disabled. Please contact support."},"auth/too-many-requests":{type:"NETWORK",message:"Too many failed attempts. Please try again later."},"auth/network-request-failed":{type:"NETWORK",message:"Network error. Please check your connection and try again."},"permission-denied":{type:"AUTHORIZATION",message:"You do not have permission for this action."},"not-found":{type:"NOT_FOUND",message:"The requested resource was not found."},unavailable:{type:"NETWORK",message:"Service is temporarily unavailable. Please try again."}},Yh=class Yh{constructor(){et(this,"errorQueue",[]);et(this,"maxErrorQueueSize",50)}static getInstance(){return Yh.instance||(Yh.instance=new Yh),Yh.instance}handleError(n,t){const r=this.createAppError(n,t);return this.logError(r),this.queueError(r),r}createAppError(n,t){let r="UNKNOWN",i="An unexpected error occurred.";if(n!=null&&n.code&&h_[n.code]){const a=h_[n.code];r=a.type,i=a.message}else n!=null&&n.message&&(i=n.message,n.message.includes("network")||n.message.includes("fetch")?r="NETWORK":n.message.includes("unauthorized")||n.message.includes("permission")?r="AUTHORIZATION":n.message.includes("not found")?r="NOT_FOUND":n.message.includes("validation")&&(r="VALIDATION"));return{type:r,message:i,originalError:n instanceof Error?n:new Error(String(n)),context:{...t,userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString()},timestamp:new Date,userId:t==null?void 0:t.userId}}logError(n){const t=`[${n.type}] ${n.message}`,r={error:n.originalError,context:n.context,timestamp:n.timestamp};switch(n.type){case"NETWORK":case"NOT_FOUND":console.warn(t,r);break;case"AUTHENTICATION":case"AUTHORIZATION":case"VALIDATION":console.error(t,r);break;case"SERVER_ERROR":case"UNKNOWN":console.error(t,r);break}}queueError(n){this.errorQueue.push(n),this.errorQueue.length>this.maxErrorQueueSize&&this.errorQueue.shift()}getErrorQueue(){return[...this.errorQueue]}clearErrorQueue(){this.errorQueue=[]}getUserFriendlyMessage(n){return n.message}shouldRetry(n){return n.type==="NETWORK"}};et(Yh,"instance");let dg=Yh;const p_=async(e,n)=>{try{return{data:await e()}}catch(t){return{error:dg.getInstance().handleError(t,n)}}},She=()=>{const e=dg.getInstance();return{handleError:(i,a)=>e.handleError(i,a),getUserFriendlyMessage:i=>e.getUserFriendlyMessage(i),shouldRetry:i=>e.shouldRetry(i)}};dg.getInstance();class uM{constructor(){et(this,"auth",null);et(this,"googleProvider",null)}initialize(){this.auth||(Li(()=>Promise.resolve().then(()=>ep),void 0),this.auth=KR(),this.googleProvider=new XR)}async signInWithGoogle(n=!0){var r;this.initialize();const t=await p_(async()=>{const i=n?JR:e3;await t3(this.auth,i),this.googleProvider.setCustomParameters({});const a=await n3(this.auth,this.googleProvider);if(!a.user)throw new Error("No user returned from authentication");return a.user},{operation:"google_sign_in",keepSignedIn:n});if(t.error){const i=(r=t.error.originalError)==null?void 0:r.code;throw console.error("Google Auth Error:",{code:i,message:t.error.message,originalError:t.error.originalError}),i==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled. Please try again and complete the sign-in process. If you only have one Google account logged in, try logging out and back in to your Google account."):i==="auth/popup-blocked"?new Error("Popup was blocked by your browser. Please allow popups for this site and try again."):i==="auth/network-request-failed"?new Error("Network error. Please check your internet connection and try again."):i==="auth/account-exists-with-different-credential"?new Error("An account already exists with this email address. Please use a different sign-in method."):t.error}return t.data}async signOut(){this.initialize();const n=await p_(async()=>{await r3(this.auth)},{operation:"sign_out"});if(n.error)throw n.error}onAuthStateChanged(n){return this.initialize(),ZR(this.auth,n)}getCurrentUser(){return this.initialize(),this.auth.currentUser}getErrorMessage(n){return{"auth/network-request-failed":"Login Failed: Network error, please check your connection.","auth/popup-closed-by-user":"Login Failed: The sign-in popup was closed before completion.","auth/cancelled-popup-request":"Login Failed: Another sign-in request was made before the first one was completed.","auth/popup-blocked":"Login Failed: The sign-in popup was blocked by the browser. Please allow popups for this site.","auth/user-disabled":"Login Failed: This account has been disabled.","auth/user-not-found":"Login Failed: No account found with this email.","auth/wrong-password":"Login Failed: Incorrect password.","auth/too-many-requests":"Login Failed: Too many failed attempts. Please try again later."}[n]||"Login Failed: An unexpected error occurred."}}const TT=new uM;class cM{constructor(){et(this,"db",null);et(this,"publicCourseId");if(this.publicCourseId="rqoyheM9Lf8jGftIoZyT",!this.publicCourseId)throw new Error("Public course ID is not defined in environment variables.")}initialize(){this.db||(Li(()=>Promise.resolve().then(()=>ep),void 0),this.db=Zn())}async getUserDetails(n){this.initialize();try{const t=bn(this.db,"users",n),r=await Oa(t);return r.exists()?{...r.data(),uid:n}:null}catch(t){throw console.error("Error fetching user details:",t),new Error("Failed to fetch user details")}}async createUserDocument(n){this.initialize();try{const t=await this.getPublicCourseInfo(),r=bn(this.db,"users",n.uid),i={isAdmin:!1,isSuperAdmin:!1,lastLogin:Vf(),classes:{[this.publicCourseId]:t}};return await pT(r,i),{uid:n.uid,isAdmin:!1,isSuperAdmin:!1,lastLogin:Vf(),classes:{[this.publicCourseId]:t}}}catch(t){throw console.error("Error creating user document:",t),new Error("Failed to create user document")}}async updateUserLogin(n){this.initialize();try{const t=bn(this.db,"users",n);await Wr(t,{lastLogin:Vf()})}catch(t){throw console.error("Error updating user login:",t),new Error("Failed to update user login")}}async refreshUserDetails(n){return this.getUserDetails(n)}subscribeToUserDetails(n,t){this.initialize();const r=bn(this.db,"users",n);return i3(r,i=>{if(i.exists()){const a=i.data();t({...a,uid:n})}else t(null)},i=>{console.error("Error in user details subscription:",i),t(null)})}async ensurePublicCourseAccess(n,t){this.initialize();try{if(t.classes&&t.classes[this.publicCourseId])return t;const r=await this.getPublicCourseInfo(),i=bn(this.db,"users",n);return await Wr(i,{[`classes.${this.publicCourseId}`]:r}),{...t,classes:{...t.classes||{},[this.publicCourseId]:r}}}catch(r){throw console.error("Error ensuring public course access:",r),new Error("Failed to ensure public course access")}}async getPublicCourseInfo(){this.initialize();try{const n=bn(this.db,"courses",this.publicCourseId),t=await Oa(n);if(!t.exists())throw new Error("Public course document does not exist in the courses collection!");const r=t.data();if(!r||!r.number||!r.title)throw new Error("Public course data is incomplete or invalid.");return{number:r.number,title:r.title,isCourseAdmin:!1}}catch(n){throw console.error("Error fetching public course info:",n),new Error("Failed to fetch public course information")}}}const l0=new cM,dM={apiKey:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",authDomain:"nexlab-prod.firebaseapp.com",projectId:"nexlab-prod",storageBucket:"nexlab-prod.firebasestorage.app",messagingSenderId:"922352392986",appId:"1:922352392986:web:6c4d6e16b5e615bd4daaa3"},F6=a3(dM),OT=Zn(F6),fM=yp(F6),ep=Object.freeze(Object.defineProperty({__proto__:null,app:F6,db:OT,storage:fM},Symbol.toStringTag,{value:"Module"})),IT=Q.createContext(void 0),hM=({children:e})=>{const[n,t]=Q.useState(null),[r,i]=Q.useState(null),[a,s]=Q.useState(!1),[l,u]=Q.useState(!0),[d,f]=Q.useState(null),g=Q.useRef(null);Q.useEffect(()=>{const m=TT.onAuthStateChanged(async x=>{u(!0),f(null),g.current&&(g.current(),g.current=null);try{if(x){console.log("User is signed in with UID:",x.uid);let y=await l0.getUserDetails(x.uid);y?(await l0.updateUserLogin(x.uid),y=await l0.ensurePublicCourseAccess(x.uid,y)):(console.log("User document does not exist. Creating a new one..."),y=await l0.createUserDocument(x)),i(y),s(y.isSuperAdmin||!1);const A=l0.subscribeToUserDetails(x.uid,w=>{console.log("[UserContext] User details updated in real-time:",{uid:w==null?void 0:w.uid,classesCount:w!=null&&w.classes?Object.keys(w.classes).length:0,classes:w!=null&&w.classes?Object.keys(w.classes):[],timestamp:new Date().toISOString()}),w&&(i(w),s(w.isSuperAdmin||!1))});g.current=A}else i(null),s(!1);t(x)}catch(y){console.error("Error managing user authentication:",y),f(y instanceof Error?y:new Error("Failed to manage user authentication")),t(null),i(null),s(!1)}finally{u(!1)}});return()=>{m(),g.current&&(g.current(),g.current=null)}},[]);const b=async()=>{if(!n){console.warn("No user signed in, cannot refresh user details");return}try{const m=await l0.refreshUserDetails(n.uid);m?(i(m),s(m.isSuperAdmin||!1)):(console.error("User document does not exist. Unable to refresh user details."),f(new Error("User document not found")))}catch(m){console.error("Error refreshing user details:",m),f(m instanceof Error?m:new Error("Failed to refresh user details"))}};return h.jsx(IT.Provider,{value:{user:n,userDetails:r,setUserDetails:i,refreshUserDetails:b,loading:l,error:d,isSuperAdmin:a},children:e})},Ai=()=>{const e=Q.useContext(IT);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e},Js=({element:e})=>{const{userDetails:n,loading:t}=Ai();return t?h.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:h.jsx(Jr,{})}):n?h.jsx(e,{}):h.jsx(jT,{to:"/"})};let hv=class extends Q.Component{constructor(){super(...arguments);et(this,"state",{hasError:!1})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:h.jsx(fe,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh",p:4},children:h.jsxs(Sn,{elevation:2,sx:{p:4,textAlign:"center",maxWidth:500,width:"100%"},children:[h.jsx(de,{variant:"h5",color:"error",gutterBottom:!0,children:"Something went wrong"}),h.jsx(de,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"An error occurred while loading this component. Please try refreshing the page."}),h.jsx(At,{variant:"contained",startIcon:h.jsx(Xj,{}),onClick:()=>window.location.reload(),children:"Refresh Page"})]})}):this.props.children}};var c1={},T5={};const pM=QR(tR);var m_;function $d(){return m_||(m_=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=pM}(T5)),T5}var g_;function mM(){if(g_)return c1;g_=1;var e=Bd();Object.defineProperty(c1,"__esModule",{value:!0}),c1.default=void 0;var n=e($d()),t=Ud();return c1.default=(0,n.default)((0,t.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),c1}var gM=mM();const bM=ts(gM);var d1={},b_;function yM(){if(b_)return d1;b_=1;var e=Bd();Object.defineProperty(d1,"__esModule",{value:!0}),d1.default=void 0;var n=e($d()),t=Ud();return d1.default=(0,n.default)((0,t.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),d1}var xM=yM();const vM=ts(xM);var f1={},y_;function wM(){if(y_)return f1;y_=1;var e=Bd();Object.defineProperty(f1,"__esModule",{value:!0}),f1.default=void 0;var n=e($d()),t=Ud();return f1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),f1}var SM=wM();const DT=ts(SM),AM=()=>{const e=ma();return h.jsxs(Sn,{elevation:3,sx:{p:4,m:4,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0",maxWidth:600,mx:"auto",mt:8},children:[h.jsx(bM,{color:"error",sx:{fontSize:64,mb:2}}),h.jsx(de,{variant:"h4",gutterBottom:!0,color:"error",children:"Page Error"}),h.jsx(de,{variant:"body1",sx:{mb:4,color:"text.secondary"},children:"This page encountered an error and cannot be displayed. You can try going back to the previous page or return to the home page."}),h.jsxs(fe,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[h.jsx(At,{variant:"contained",color:"primary",startIcon:h.jsx(vM,{}),onClick:()=>e("/"),children:"Go to Home"}),h.jsx(At,{variant:"outlined",color:"primary",startIcon:h.jsx(DT,{}),onClick:()=>e(-1),children:"Go Back"}),h.jsx(At,{variant:"outlined",color:"secondary",onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})},LT=({children:e,showDetails:n})=>h.jsx(hv,{fallback:h.jsx(AM,{}),children:e}),ge={primary:{50:"#F0F4FF",100:"#E0ECFF",200:"#CDDAFF",300:"#9BB5FF",500:"#0B53C0",600:"#0841A0",700:"#062F80"},secondary:{50:"#F0FDF4",100:"#DCFCE7",200:"#BBF7D0",300:"#86EFAC",500:"#22C55E",600:"#16A34A",700:"#15803D"},neutral:{50:"#FAFAFA",100:"#F5F5F5",200:"#E5E5E5",300:"#D4D4D4",400:"#A3A3A3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717"},success:"#22C55E",warning:"#F59E0B",error:"#EF4444",info:"#3B82F6",background:{primary:"#FFFFFF",secondary:"#F8FAFC",elevated:"#FFFFFF"},surface:{primary:"#FFFFFF",elevated:"#FFFFFF"},text:{primary:"#0F172A",secondary:"#475569",tertiary:"#64748B",disabled:"#94A3B8",inverse:"#FFFFFF"}},Be={fontFamily:{primary:["Inter","system-ui","sans-serif"].join(","),secondary:["Gabarito","system-ui","sans-serif"].join(","),display:["Staatliches","system-ui","sans-serif"].join(",")},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem"},fontWeight:{light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},lineHeight:{tight:1.25,snug:1.375,normal:1.5,relaxed:1.625}},gt={1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",5:"1.25rem",6:"1.5rem",8:"2rem",12:"3rem"},Rt={sm:"0.125rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem",full:"9999px"},Yt={sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",base:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)"},wc={transitions:{fast:"all 150ms cubic-bezier(0.4, 0, 0.2, 1)",normal:"all 300ms cubic-bezier(0.4, 0, 0.2, 1)"}},CM={width:"320px",minWidth:"320px",maxWidth:"320px",backgroundColor:ge.background.secondary,borderRight:`1px solid ${ge.neutral[200]}`},RT=()=>({palette:{primary:{main:ge.primary[500],light:ge.primary[300],dark:ge.primary[700],contrastText:ge.text.inverse},secondary:{main:ge.secondary[500],light:ge.secondary[300],dark:ge.secondary[700],contrastText:ge.text.inverse},error:{main:ge.error,light:"#FEE2E2",dark:"#DC2626"},warning:{main:ge.warning,light:"#FEF3C7",dark:"#D97706"},info:{main:ge.info,light:"#DBEAFE",dark:"#2563EB"},success:{main:ge.success,light:"#D1FAE5",dark:"#059669"},background:{default:ge.background.primary,paper:ge.surface.primary},text:{primary:ge.text.primary,secondary:ge.text.secondary,disabled:ge.text.disabled},grey:{50:ge.neutral[50],100:ge.neutral[100],200:ge.neutral[200],300:ge.neutral[300],400:ge.neutral[400],500:ge.neutral[500],600:ge.neutral[600],700:ge.neutral[700],800:ge.neutral[800],900:ge.neutral[900]}},typography:{fontFamily:Be.fontFamily.primary,h1:{fontFamily:Be.fontFamily.display,fontSize:Be.fontSize["5xl"],fontWeight:Be.fontWeight.bold,lineHeight:Be.lineHeight.tight,color:ge.text.primary},h2:{fontFamily:Be.fontFamily.display,fontSize:Be.fontSize["4xl"],fontWeight:Be.fontWeight.bold,lineHeight:Be.lineHeight.tight,color:ge.text.primary},h3:{fontFamily:Be.fontFamily.display,fontSize:Be.fontSize["3xl"],fontWeight:Be.fontWeight.bold,lineHeight:Be.lineHeight.snug,color:ge.text.primary},h4:{fontFamily:Be.fontFamily.display,fontSize:Be.fontSize["2xl"],fontWeight:Be.fontWeight.semibold,lineHeight:Be.lineHeight.snug,color:ge.text.primary},h5:{fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize.xl,fontWeight:Be.fontWeight.semibold,lineHeight:Be.lineHeight.normal,color:ge.text.primary},h6:{fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize.lg,fontWeight:Be.fontWeight.semibold,lineHeight:Be.lineHeight.normal,color:ge.text.primary},body1:{fontFamily:Be.fontFamily.primary,fontSize:Be.fontSize.base,fontWeight:Be.fontWeight.normal,lineHeight:Be.lineHeight.normal,color:ge.text.primary},body2:{fontFamily:Be.fontFamily.primary,fontSize:Be.fontSize.sm,fontWeight:Be.fontWeight.normal,lineHeight:Be.lineHeight.normal,color:ge.text.secondary},button:{fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize.base,fontWeight:Be.fontWeight.semibold,textTransform:"none"}},shape:{borderRadius:12},shadows:["none",Yt.sm,Yt.base,Yt.md,Yt.lg,Yt.xl,Yt["2xl"],Yt["2xl"],Yt["2xl"],Yt["2xl"],Yt["2xl"],Yt["2xl"],Yt["2xl"],Yt["2xl"],Yt["2xl"],Yt["2xl"],Yt["2xl"],Yt["2xl"],Yt["2xl"],Yt["2xl"],Yt["2xl"],Yt["2xl"],Yt["2xl"],Yt["2xl"],Yt["2xl"]],components:{MuiButton:{styleOverrides:{root:{borderRadius:Rt.xl,padding:`${gt[3]} ${gt[6]}`,fontWeight:Be.fontWeight.semibold,textTransform:"none",transition:wc.transitions.fast,boxShadow:"none","&:hover":{boxShadow:Yt.md,transform:"none !important"}},contained:{backgroundColor:ge.primary[500],"&:hover":{backgroundColor:ge.primary[600]}},outlined:{borderColor:ge.primary[500],color:ge.primary[500],"&:hover":{backgroundColor:ge.primary[50],borderColor:ge.primary[600]}}}},MuiCard:{styleOverrides:{root:{borderRadius:Rt.lg,boxShadow:Yt.md,border:`1px solid ${ge.neutral[200]}`,transition:wc.transitions.fast,"&:hover":{boxShadow:Yt.lg,transform:"translateY(-2px)"}}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:Rt.lg,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:ge.primary[300]},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:ge.primary[500],borderWidth:2}}}}},MuiChip:{styleOverrides:{root:{borderRadius:Rt.full,fontWeight:Be.fontWeight.medium}}},MuiTabs:{styleOverrides:{root:{backgroundColor:ge.background.secondary,borderRadius:Rt.lg,padding:gt[2],"& .MuiTabs-indicator":{display:"none"}}}},MuiTab:{styleOverrides:{root:{borderRadius:Rt.lg,fontWeight:Be.fontWeight.semibold,textTransform:"none",transition:wc.transitions.fast,"&.Mui-selected":{backgroundColor:ge.primary[500],color:ge.text.inverse,boxShadow:Yt.sm},"&:not(.Mui-selected)":{backgroundColor:ge.primary[100],color:ge.primary[700],"&:hover":{backgroundColor:ge.primary[200],transform:"none"}}}}}}}),EM=RT(),ft=Zj(EM);var h1={},x_;function _M(){if(x_)return h1;x_=1;var e=Bd();Object.defineProperty(h1,"__esModule",{value:!0}),h1.default=void 0;var n=e($d()),t=Ud();return h1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),h1}var kM=_M();const NM=ts(kM),v_=e=>{let n;const t=new Set,r=(d,f)=>{const g=typeof d=="function"?d(n):d;if(!Object.is(g,n)){const b=n;n=f??(typeof g!="object"||g===null)?g:Object.assign({},n,g),t.forEach(m=>m(n,b))}},i=()=>n,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(t.add(d),()=>t.delete(d))},u=n=e(r,i,l);return l},jM=e=>e?v_(e):v_,TM=e=>e;function OM(e,n=TM){const t=at.useSyncExternalStore(e.subscribe,()=>n(e.getState()),()=>n(e.getInitialState()));return at.useDebugValue(t),t}const w_=e=>{const n=jM(e),t=r=>OM(n,r);return Object.assign(t,n),t},xp=e=>e?w_(e):w_,IM=()=>Math.random().toString(36).substr(2,9),DM=e=>{switch(e){case Ho.NETWORK:return"";case Ho.AUTHENTICATION:return"";case Ho.AUTHORIZATION:return"";case Ho.VALIDATION:return"";case Ho.NOT_FOUND:return"";case Ho.SERVER_ERROR:return"";default:return""}},LM=e=>{switch(e){case Ho.NETWORK:return 8e3;case Ho.AUTHENTICATION:case Ho.AUTHORIZATION:return 1e4;case Ho.VALIDATION:return 6e3;case Ho.NOT_FOUND:return 5e3;default:return 7e3}},RM=xp((e,n)=>({notifications:[],addNotification:t=>{const r={...t,id:IM(),timestamp:new Date,duration:t.duration??5e3};e(i=>({notifications:[...i.notifications,r]})),r.duration>0&&setTimeout(()=>{n().removeNotification(r.id)},r.duration)},removeNotification:t=>{e(r=>({notifications:r.notifications.filter(i=>i.id!==t)}))},clearAll:()=>{e({notifications:[]})},showError:(t,r)=>{const i=DM(t.type),a=LM(t.type),s=[];t.type===Ho.NETWORK&&s.push({label:"Retry",action:()=>{console.log("Retry requested for:",t)},primary:!0}),n().addNotification({type:"error",title:`${i} ${t.type.replace("_"," ")} Error`,message:t.message,duration:a,actions:r||s,error:t})},showSuccess:(t,r)=>{n().addNotification({type:"success",title:r||" Success",message:t,duration:4e3})},showWarning:(t,r)=>{n().addNotification({type:"warning",title:r||" Warning",message:t,duration:6e3})},showInfo:(t,r)=>{n().addNotification({type:"info",title:r||" Info",message:t,duration:5e3})}})),MM=()=>{const{notifications:e,removeNotification:n}=RM();return e.length===0?null:h.jsx(fe,{sx:{position:"fixed",top:16,right:16,zIndex:9999,maxWidth:400,display:"flex",flexDirection:"column",gap:1},children:e.map(t=>h.jsx(og,{in:!0,timeout:300,children:h.jsx(Sn,{elevation:6,children:h.jsxs(vr,{severity:t.type,sx:{width:"100%","& .MuiAlert-action":{alignItems:"flex-start",padding:"4px 0 0 16px"}},action:h.jsx(On,{size:"small",onClick:()=>n(t.id),sx:{color:"inherit"},children:h.jsx(NM,{fontSize:"small"})}),children:[t.title&&h.jsx(nR,{sx:{fontWeight:"bold",mb:.5},children:t.title}),t.message,t.actions&&t.actions.length>0&&h.jsx(fe,{sx:{mt:1.5,display:"flex",gap:1,flexWrap:"wrap"},children:t.actions.map((r,i)=>h.jsx(At,{size:"small",variant:r.primary?"contained":"outlined",color:t.type==="error"?"error":"primary",onClick:()=>{r.action(),n(t.id)},sx:{minWidth:"auto",fontSize:"0.75rem",padding:"2px 8px"},children:r.label},i))})]})})},t.id))})},FM=({message:e})=>h.jsx(fe,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:gt[12],color:ge.text.secondary},children:h.jsx(de,{variant:"body1",sx:{fontStyle:"italic",textAlign:"center"},children:e})}),PM=()=>h.jsx(fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:gt[12]},children:h.jsx(Jr,{size:40})});function lh({data:e,columns:n,loading:t=!1,emptyMessage:r="No data available",onRowClick:i,stickyHeader:a=!1,maxHeight:s,headerColor:l=ge.primary[500],headerTextColor:u=ge.text.inverse,rowHeight:d="72px",showRowNumbers:f=!1,className:g}){const b=n.length+(f?1:0);return h.jsx(ov,{component:Sn,className:g,sx:{borderRadius:Rt["2xl"],boxShadow:Yt.lg,border:`1px solid ${ge.neutral[200]}`,overflow:"hidden",maxHeight:s},children:h.jsxs(lv,{stickyHeader:a,sx:{"& .MuiTableCell-root":{fontSize:Be.fontSize.base,fontFamily:Be.fontFamily.primary,borderBottom:`1px solid ${ge.neutral[200]}`},"& .MuiTableCell-head":{fontSize:Be.fontSize.lg,fontFamily:Be.fontFamily.display,fontWeight:Be.fontWeight.semibold,backgroundColor:l,color:u,textTransform:"uppercase",letterSpacing:"0.5px"},"& .MuiTableRow-root:hover":{backgroundColor:ge.primary[25],cursor:i?"pointer":"default"}},children:[h.jsx(uv,{children:h.jsxs(xc,{sx:{height:"64px"},children:[f&&h.jsx(_n,{sx:{width:"60px",textAlign:"center"},children:"#"}),n.map(m=>h.jsx(_n,{sx:{width:m.width,textAlign:m.align||"left"},children:m.label},String(m.id)))]})}),h.jsx(cv,{children:t?h.jsx(xc,{children:h.jsx(_n,{colSpan:b,sx:{border:"none",p:0},children:h.jsx(PM,{})})}):e.length===0?h.jsx(xc,{children:h.jsx(_n,{colSpan:b,sx:{border:"none",p:0},children:h.jsx(FM,{message:r})})}):e.map((m,x)=>h.jsxs(xc,{onClick:()=>i==null?void 0:i(m,x),sx:{height:d,transition:wc.transitions.fast,"&:hover":{backgroundColor:ge.primary[25],transform:"translateY(-1px)",boxShadow:Yt.sm}},children:[f&&h.jsx(_n,{sx:{textAlign:"center"},children:h.jsx(de,{variant:"body2",sx:{fontWeight:Be.fontWeight.semibold,color:ge.text.secondary},children:x+1})}),n.map(y=>{const A=m[y.id];return h.jsx(_n,{sx:{textAlign:y.align||"left"},children:y.render?y.render(A,m,x):A},String(y.id))})]},x))})]})})}const Fl=({title:e,subtitle:n})=>{const t=Jj(),r=Cx(t.breakpoints.down("md"));return h.jsxs(fe,{sx:{p:r?gt[4]:gt[6],backgroundColor:ge.primary[100],borderRadius:Rt["2xl"],mb:gt[6],border:`1px solid ${ge.primary[200]}`,boxShadow:Yt.sm},children:[h.jsx(de,{variant:"h2",sx:{fontFamily:Be.fontFamily.display,fontSize:r?Be.fontSize["3xl"]:Be.fontSize["5xl"],fontWeight:Be.fontWeight.bold,color:ge.primary[700],lineHeight:Be.lineHeight.tight,mb:n?gt[2]:0},children:e}),n&&h.jsx(de,{variant:"body1",sx:{fontFamily:Be.fontFamily.primary,fontSize:r?Be.fontSize.base:Be.fontSize.lg,color:ge.text.secondary,lineHeight:Be.lineHeight.relaxed},children:n})]})},uh=({userId:e,userType:n="student",maxLength:t=999})=>{const[r,i]=Q.useState(!1),a=async d=>{d.stopPropagation();try{await navigator.clipboard.writeText(e),i(!0),setTimeout(()=>i(!1),2e3)}catch(f){console.error("Failed to copy:",f)}},s=()=>{switch(n){case"superAdmin":return{backgroundColor:ge.secondary[100],color:ge.secondary[700],borderColor:ge.secondary[300],hoverColor:ge.secondary[200]};case"educator":return{backgroundColor:ge.primary[100],color:ge.primary[700],borderColor:ge.primary[300],hoverColor:ge.primary[200]};default:return{backgroundColor:ge.neutral[100],color:ge.neutral[700],borderColor:ge.neutral[300],hoverColor:ge.neutral[200]}}},l=e.length>t?`${e.substring(0,t)}...`:e,u=s();return h.jsx(Si,{title:r?"Copied!":"Click to Copy",children:h.jsx(fe,{onClick:a,sx:{display:"inline-flex",alignItems:"center",backgroundColor:u.backgroundColor,color:u.color,border:`1px solid ${u.borderColor}`,borderRadius:Rt.full,padding:`${gt[2]} ${gt[3]}`,fontSize:Be.fontSize.sm,fontWeight:Be.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:u.hoverColor,transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:h.jsx(de,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:l})})})},vp=({courseId:e,courseNumber:n,courseTitle:t,variant:r="link",isAdmin:i=!1,showNumber:a=!0,showTitle:s=!0,maxTitleLength:l=50,onClick:u})=>{const d=ma(),f=m=>{if(m.preventDefault(),m.stopPropagation(),u)u();else{const x=window.location.hostname.includes("github.io"),A=`${x?"https://institute-for-future-intelligence.github.io/nexlab":""}/supplemental-materials?course=${e}`;x?window.open(A,"_blank"):d(`/supplemental-materials?course=${e}`)}},g=t.length>l?`${t.substring(0,l)}...`:t,b=()=>i?{backgroundColor:ge.primary[100],color:ge.primary[700],"&:hover":{backgroundColor:ge.primary[200]}}:{backgroundColor:ge.neutral[200],color:ge.neutral[700],"&:hover":{backgroundColor:ge.neutral[300]}};if(r==="chip"){const m=a&&s?`${n} - ${g}`:a?n:s?g:"";return h.jsx(cr,{label:m,size:"small",clickable:!0,onClick:f,sx:{...b(),fontFamily:Be.fontFamily.secondary,fontWeight:Be.fontWeight.medium,fontSize:Be.fontSize.sm,cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%"},title:`${n} - ${t}`})}return r==="text"?h.jsxs(fe,{sx:{display:"flex",flexDirection:"column",gap:gt[1]},children:[a&&h.jsx(de,{variant:"body2",sx:{fontWeight:Be.fontWeight.semibold,color:ge.text.primary,fontSize:Be.fontSize.sm},children:n}),s&&h.jsx(Fg,{component:"button",variant:"body2",onClick:f,sx:{color:ge.primary[600],textDecoration:"none",fontSize:Be.fontSize.sm,fontWeight:Be.fontWeight.medium,textAlign:"left",cursor:"pointer","&:hover":{textDecoration:"underline",color:ge.primary[700]}},title:t,children:g})]}):h.jsx(fe,{onClick:f,sx:{display:"inline-flex",alignItems:"center",backgroundColor:ge.primary[50],border:`1px solid ${ge.primary[200]}`,borderRadius:Rt.lg,padding:`${gt[2]} ${gt[3]}`,cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:ge.primary[100],borderColor:ge.primary[300],transform:"translateY(-1px)",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},title:`${n} - ${t}`,children:h.jsx(de,{variant:"body1",sx:{fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize.base,fontWeight:Be.fontWeight.semibold,color:ge.primary[700],textDecoration:"none",userSelect:"none","&:hover":{textDecoration:"underline"}},children:a&&s?`${n} - ${g}`:a?n:s?g:""})})},MT=({materialId:e,materialTitle:n,maxTitleLength:t=50,variant:r="link",onClick:i})=>{const a=ma(),s=u=>{if(u.preventDefault(),u.stopPropagation(),i)i();else{const d=window.location.hostname.includes("github.io"),g=`${d?"https://institute-for-future-intelligence.github.io/nexlab":""}/view-material/${e}?material=${e}`;d?window.open(g,"_blank"):a(`/view-material/${e}?material=${e}`)}},l=n.length>t?`${n.substring(0,t)}...`:n;return r==="text"?h.jsx(de,{variant:"body2",sx:{color:ge.text.primary,fontSize:Be.fontSize.sm,fontWeight:Be.fontWeight.medium},title:n,children:l}):h.jsx(de,{variant:"body1",onClick:s,sx:{fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize.base,fontWeight:Be.fontWeight.semibold,color:ge.text.primary,cursor:"pointer",textDecoration:"none","&:hover":{color:ge.primary[600],textDecoration:"underline"}},title:n,children:l})},FT=({status:e,size:n="small",variant:t="filled"})=>{const i=(()=>{switch(e){case"superAdmin":return{label:"Super Admin",color:t==="filled"?{backgroundColor:ge.success,color:ge.text.inverse,borderColor:ge.success}:{backgroundColor:"transparent",color:ge.success,borderColor:ge.success}};case"educator":return{label:"Educator",color:t==="filled"?{backgroundColor:ge.primary[500],color:ge.text.inverse,borderColor:ge.primary[500]}:{backgroundColor:"transparent",color:ge.primary[500],borderColor:ge.primary[500]}};case"student":return{label:"Student",color:t==="filled"?{backgroundColor:ge.neutral[400],color:ge.text.inverse,borderColor:ge.neutral[400]}:{backgroundColor:"transparent",color:ge.neutral[600],borderColor:ge.neutral[400]}};default:return{label:"Unknown",color:{backgroundColor:ge.neutral[200],color:ge.neutral[700],borderColor:ge.neutral[300]}}}})();return h.jsx(cr,{label:i.label,size:n,variant:t==="outlined"?"outlined":"filled",sx:{...i.color,fontFamily:Be.fontFamily.secondary,fontWeight:Be.fontWeight.medium,fontSize:n==="small"?Be.fontSize.xs:Be.fontSize.sm,border:`1px solid ${i.color.borderColor}`,"&:hover":{backgroundColor:t==="filled"?i.color.backgroundColor:`${i.color.borderColor}10`}}})},PT=({chatbotId:e,maxLength:n=999})=>{const[t,r]=Q.useState(!1),i=async s=>{s.stopPropagation();try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)}catch(l){console.error("Failed to copy:",l)}},a=e.length>n?`${e.substring(0,n)}...`:e;return h.jsx(Si,{title:t?"Copied!":"Click to Copy",children:h.jsx(fe,{onClick:i,sx:{display:"inline-flex",alignItems:"center",backgroundColor:ge.info+"15",color:ge.info,border:`1px solid ${ge.info}40`,borderRadius:Rt.md,padding:`${gt[2]} ${gt[3]}`,fontSize:Be.fontSize.sm,fontWeight:Be.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:ge.info+"25",transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:h.jsx(de,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:a})})})},zM=({conversationId:e,maxLength:n=999})=>{const[t,r]=Q.useState(!1),i=async s=>{s.stopPropagation();try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)}catch(l){console.error("Failed to copy:",l)}},a=e.length>n?`${e.substring(0,n)}...`:e;return h.jsx(Si,{title:t?"Copied!":"Click to Copy",children:h.jsx(fe,{onClick:i,sx:{display:"inline-flex",alignItems:"center",backgroundColor:ge.warning+"15",color:ge.warning,border:`1px solid ${ge.warning}40`,borderRadius:Rt.full,padding:`${gt[2]} ${gt[3]}`,fontSize:Be.fontSize.sm,fontWeight:Be.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:ge.warning+"25",transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:h.jsx(de,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:a})})})},zT=({courseId:e,maxLength:n=999})=>{const[t,r]=Q.useState(!1),i=async s=>{s.stopPropagation();try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)}catch(l){console.error("Failed to copy:",l)}},a=e.length>n?`${e.substring(0,n)}...`:e;return h.jsx(Si,{title:t?"Copied!":"Click to Copy",children:h.jsx(fe,{onClick:i,sx:{display:"inline-flex",alignItems:"center",backgroundColor:ge.neutral[100],color:ge.neutral[700],border:`1px solid ${ge.neutral[300]}`,borderRadius:Rt.full,padding:`${gt[2]} ${gt[3]}`,fontSize:Be.fontSize.sm,fontWeight:Be.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:ge.neutral[200],transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:h.jsx(de,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:a})})})},qM=({materialId:e,maxLength:n=999})=>{const[t,r]=Q.useState(!1),i=async s=>{s.stopPropagation();try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)}catch(l){console.error("Failed to copy:",l)}},a=e.length>n?`${e.substring(0,n)}...`:e;return h.jsx(Si,{title:t?"Copied!":"Click to Copy",children:h.jsx(fe,{onClick:i,sx:{display:"inline-flex",alignItems:"center",backgroundColor:ge.secondary[50],color:ge.secondary[700],border:`1px solid ${ge.secondary[300]}`,borderRadius:Rt.md,padding:`${gt[2]} ${gt[3]}`,fontSize:Be.fontSize.sm,fontWeight:Be.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:ge.secondary[100],transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:h.jsx(de,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:a})})})};var p1={},S_;function BM(){if(S_)return p1;S_=1;var e=Bd();Object.defineProperty(p1,"__esModule",{value:!0}),p1.default=void 0;var n=e($d()),t=Ud();return p1.default=(0,n.default)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),p1}var UM=BM();const qT=ts(UM);var m1={},A_;function $M(){if(A_)return m1;A_=1;var e=Bd();Object.defineProperty(m1,"__esModule",{value:!0}),m1.default=void 0;var n=e($d()),t=Ud();return m1.default=(0,n.default)((0,t.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),m1}var HM=$M();const WM=ts(HM);var g1={},C_;function VM(){if(C_)return g1;C_=1;var e=Bd();Object.defineProperty(g1,"__esModule",{value:!0}),g1.default=void 0;var n=e($d()),t=Ud();return g1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),g1}var YM=VM();const GM=ts(YM);var b1={},E_;function QM(){if(E_)return b1;E_=1;var e=Bd();Object.defineProperty(b1,"__esModule",{value:!0}),b1.default=void 0;var n=e($d()),t=Ud();return b1.default=(0,n.default)((0,t.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),b1}var KM=QM();const XM=ts(KM),__=e=>e?e instanceof Ta?e.toDate().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):e.seconds?new Date(e.seconds*1e3).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):e instanceof Date?e.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"N/A":"N/A",BT=e=>e?e instanceof Ta?e.toDate().toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):e.seconds?new Date(e.seconds*1e3).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):e instanceof Date?e.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A":"N/A",pv=({label:e,status:n,size:t="small"})=>{const r=()=>{switch(n){case"success":return{backgroundColor:ge.secondary[100],color:ge.secondary[700]};case"warning":return{backgroundColor:"#FEF3C7",color:"#D97706"};case"error":return{backgroundColor:"#FEE2E2",color:"#DC2626"};case"info":return{backgroundColor:ge.primary[100],color:ge.primary[700]};default:return{backgroundColor:ge.neutral[100],color:ge.neutral[700]}}};return h.jsx(cr,{label:e,size:t,sx:{...r(),fontFamily:Be.fontFamily.secondary,fontWeight:Be.fontWeight.medium,fontSize:Be.fontSize.sm}})},Hg=({actions:e})=>h.jsx(fe,{sx:{display:"flex",justifyContent:"center",gap:gt[1]},children:e.map((n,t)=>h.jsx(Si,{title:n.tooltip,children:h.jsx("span",{children:h.jsx(On,{size:"small",onClick:n.onClick,disabled:n.disabled,sx:{color:n.disabled?ge.text.disabled:n.color||ge.primary[600],"&:hover":{backgroundColor:n.disabled?"transparent":n.hoverColor||ge.primary[100]}},children:n.icon})})},t))}),wp=({date:e,format:n="long"})=>h.jsx(de,{variant:"body2",sx:{color:ge.text.secondary,fontSize:Be.fontSize.sm},children:n==="short"?__(e).split(",")[0]:n==="full"?BT(e):__(e)}),Rs=({text:e,maxLength:n=100,variant:t="primary",weight:r="normal"})=>{const i=e.length>n?`${e.substring(0,n)}...`:e,a=()=>{const s={fontSize:Be.fontSize.sm,fontWeight:Be.fontWeight[r]};switch(t){case"secondary":return{...s,color:ge.text.secondary};case"monospace":return{...s,fontFamily:"monospace",color:ge.text.secondary,wordBreak:"break-all"};default:return{...s,color:ge.text.primary}}};return h.jsx(de,{variant:"body2",sx:a(),title:e.length>n?e:void 0,children:i})},Ld={delete:h.jsx(qT,{fontSize:"small"}),view:h.jsx(WM,{fontSize:"small"}),add:h.jsx(GM,{fontSize:"small"})},ZM=()=>{const{userDetails:e}=Ai(),n=ma(),t=e&&!e.isAdmin&&(!e.classes||Object.keys(e.classes).length===0),r=[{title:"My Account",description:"Manage your profile and account settings",icon:h.jsx(Gw,{sx:{fontSize:40}}),path:"/my-profile",color:ge.primary[500],disabled:!1,external:!1},{title:"Messages",description:"View and manage course messages",icon:h.jsx(eT,{sx:{fontSize:40}}),path:"/messages",color:ge.secondary[500],disabled:!1,external:!1}],i=[{title:"Course Materials",description:"View and manage course materials",icon:h.jsx(Dd,{sx:{fontSize:40}}),path:"/supplemental-materials",color:ge.error,disabled:!1,external:!1},{title:"Laboratory Notebook",description:"Access your lab experiments and designs",icon:h.jsx(k6,{sx:{fontSize:40}}),path:"/laboratory-notebooks",color:ge.success,disabled:t,external:!1}];return h.jsxs(fe,{className:"profile-container",children:[h.jsx(Fl,{title:"Welcome!"}),h.jsxs(fe,{sx:{mb:gt[6],p:gt[4],backgroundColor:ge.background.secondary,borderRadius:Rt.xl,border:`1px solid ${ge.neutral[200]}`,boxShadow:Yt.sm,position:"relative",mt:gt[8]},children:[h.jsx(fe,{sx:{position:"absolute",top:"-25px",left:"40px",backgroundColor:ge.warning,borderRadius:`${Rt.lg} ${Rt.lg} 0 0`,px:gt[3],py:gt[1],zIndex:1},children:h.jsx(de,{sx:{color:ge.text.inverse,fontFamily:Be.fontFamily.display,fontSize:"2rem",fontWeight:Be.fontWeight.bold,whiteSpace:"nowrap",lineHeight:1},children:"Getting Started"})}),h.jsxs(xt,{container:!0,spacing:gt[4],sx:{mt:gt[3],mb:gt[4]},children:[h.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(fe,{sx:{height:"100%",p:gt[3],backgroundColor:ge.background.primary,borderRadius:Rt.lg,border:`1px solid ${ge.neutral[200]}`,boxShadow:Yt.sm},children:[h.jsx(de,{variant:"h6",component:"h3",sx:{fontFamily:Be.fontFamily.display,fontSize:"2rem",fontWeight:Be.fontWeight.bold,color:ge.text.primary,mb:gt[3],textAlign:"left"},children:"What is NexLAB?"}),h.jsx(de,{variant:"body1",paragraph:!0,sx:{fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize.lg,color:ge.text.secondary,lineHeight:1.6,textAlign:"left"},children:"NexLAB enhances the Antibody Engineering curriculum with an adaptive content management platform designed for educators, students, and researchers."})]})}),h.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(fe,{sx:{height:"100%",p:gt[3],backgroundColor:ge.background.primary,borderRadius:Rt.lg,border:`1px solid ${ge.neutral[200]}`,boxShadow:Yt.sm},children:[h.jsx(de,{variant:"h6",component:"h3",sx:{fontFamily:Be.fontFamily.display,fontSize:"2rem",fontWeight:Be.fontWeight.bold,color:ge.text.primary,mb:gt[3],textAlign:"left"},children:"Key Features:"}),h.jsxs(fe,{component:"ul",sx:{pl:gt[3],"& li":{fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize.lg,color:ge.text.secondary,lineHeight:1.5,mb:gt[1]}},children:[h.jsx("li",{children:"Electronic Laboratory Notebook using the Design-Build-Test framework"}),h.jsx("li",{children:"Platform for creating and sharing learning materials"}),h.jsx("li",{children:"Student progress tracking and class content efficacy analysis"}),h.jsx("li",{children:"Quiz AI & Chatbot Tools to support interactive learning"})]})]})}),h.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:h.jsx(Xa,{sx:{height:"100%",cursor:"pointer",backgroundColor:ge.background.primary,borderRadius:Rt.xl,border:`1px solid ${ge.neutral[200]}`,boxShadow:Yt.sm,transition:wc.transitions.normal,"&:hover":{transform:"translateY(-8px)",boxShadow:Yt.xl,border:`1px solid ${ge.warning}`}},onClick:()=>window.open("http://localhost:3002/view-material/xsA42JCvfCUtmyoyx45s?material=xsA42JCvfCUtmyoyx45s","_blank"),children:h.jsxs(Za,{sx:{textAlign:"center",p:gt[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[h.jsx(fe,{sx:{color:ge.warning,mb:gt[3],display:"flex",justifyContent:"center"},children:h.jsx(rR,{sx:{fontSize:40}})}),h.jsxs(fe,{sx:{flex:1},children:[h.jsx(de,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:Be.fontWeight.bold,fontFamily:Be.fontFamily.display,fontSize:"2rem",color:ge.text.primary,mb:gt[2]},children:"Quick-Start Guide"}),h.jsx(de,{variant:"body2",sx:{color:ge.text.secondary,fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize.lg,lineHeight:1.5},children:"Get started with public course materials and learn the basics"})]})]})})}),h.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:h.jsx(Xa,{sx:{height:"100%",cursor:"pointer",backgroundColor:ge.background.primary,borderRadius:Rt.xl,border:`1px solid ${ge.neutral[200]}`,boxShadow:Yt.sm,transition:wc.transitions.normal,"&:hover":{transform:"translateY(-8px)",boxShadow:Yt.xl,border:`1px solid ${ge.primary[500]}`}},onClick:()=>window.open("https://www.loom.com/share/f3ca701c66d34f84a13eb7ec12b0c6ec","_blank"),children:h.jsxs(Za,{sx:{textAlign:"center",p:gt[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[h.jsx(fe,{sx:{color:ge.primary[500],mb:gt[3],display:"flex",justifyContent:"center"},children:h.jsx(iR,{sx:{fontSize:40}})}),h.jsxs(fe,{sx:{flex:1},children:[h.jsx(de,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:Be.fontWeight.bold,fontFamily:Be.fontFamily.display,fontSize:"2rem",color:ge.text.primary,mb:gt[2]},children:"Tutorial"}),h.jsx(de,{variant:"body2",sx:{color:ge.text.secondary,fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize.lg,lineHeight:1.5},children:"Watch our introduction video to learn how to use NexLAB"})]})]})})})]})]}),h.jsxs(fe,{sx:{mb:gt[6],p:gt[4],backgroundColor:ge.background.secondary,borderRadius:Rt.xl,border:`1px solid ${ge.neutral[200]}`,boxShadow:Yt.sm,position:"relative",mt:gt[8]},children:[h.jsx(fe,{sx:{position:"absolute",top:"-25px",left:"40px",backgroundColor:ge.primary[500],borderRadius:`${Rt.lg} ${Rt.lg} 0 0`,px:gt[3],py:gt[1],zIndex:1},children:h.jsx(de,{sx:{color:ge.text.inverse,fontFamily:Be.fontFamily.display,fontSize:"2rem",fontWeight:Be.fontWeight.bold,whiteSpace:"nowrap",lineHeight:1},children:"Quick Actions"})}),h.jsx(xt,{container:!0,spacing:gt[4],sx:{mb:gt[4],mt:gt[3]},children:r.map((a,s)=>h.jsx(xt,{item:!0,xs:12,sm:6,md:6,children:h.jsx(Xa,{sx:{height:"100%",cursor:a.disabled?"not-allowed":"pointer",opacity:a.disabled?.6:1,backgroundColor:ge.background.primary,borderRadius:Rt.xl,border:`1px solid ${ge.neutral[200]}`,boxShadow:Yt.sm,transition:wc.transitions.normal,"&:hover":a.disabled?{}:{transform:"translateY(-8px)",boxShadow:Yt.xl,border:`1px solid ${a.color}`}},onClick:()=>{a.disabled||(a.external?window.open(a.path,"_blank"):n(a.path))},children:h.jsxs(Za,{sx:{textAlign:"center",p:gt[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[h.jsx(fe,{sx:{color:a.color,mb:gt[3],display:"flex",justifyContent:"center"},children:a.icon}),h.jsxs(fe,{sx:{flex:1},children:[h.jsx(de,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:Be.fontWeight.bold,fontFamily:Be.fontFamily.display,fontSize:"2rem",color:ge.text.primary,mb:gt[2]},children:a.title}),h.jsx(de,{variant:"body2",sx:{color:ge.text.secondary,fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize.lg,lineHeight:1.5},children:a.description}),a.disabled&&h.jsx(de,{variant:"caption",sx:{mt:gt[2],display:"block",color:ge.error,fontFamily:Be.fontFamily.secondary},children:"Enroll in a course to access this feature"})]})]})})},s))}),h.jsx(xt,{container:!0,spacing:gt[4],children:i.map((a,s)=>h.jsx(xt,{item:!0,xs:12,sm:6,md:6,children:h.jsx(Xa,{sx:{height:"100%",cursor:a.disabled?"not-allowed":"pointer",opacity:a.disabled?.6:1,backgroundColor:ge.background.primary,borderRadius:Rt.xl,border:`1px solid ${ge.neutral[200]}`,boxShadow:Yt.sm,transition:wc.transitions.normal,"&:hover":a.disabled?{}:{transform:"translateY(-8px)",boxShadow:Yt.xl,border:`1px solid ${a.color}`}},onClick:()=>{a.disabled||(a.external?window.open(a.path,"_blank"):n(a.path))},children:h.jsxs(Za,{sx:{textAlign:"center",p:gt[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[h.jsx(fe,{sx:{color:a.color,mb:gt[3],display:"flex",justifyContent:"center"},children:a.icon}),h.jsxs(fe,{sx:{flex:1},children:[h.jsx(de,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:Be.fontWeight.bold,fontFamily:Be.fontFamily.display,fontSize:"2rem",color:ge.text.primary,mb:gt[2]},children:a.title}),h.jsx(de,{variant:"body2",sx:{color:ge.text.secondary,fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize.lg,lineHeight:1.5},children:a.description}),a.disabled&&h.jsx(de,{variant:"caption",sx:{mt:gt[2],display:"block",color:ge.error,fontFamily:Be.fontFamily.secondary},children:"Enroll in a course to access this feature"})]})]})})},s))})]}),!(e!=null&&e.isAdmin)&&h.jsxs(fe,{sx:{mt:gt[6],p:gt[4],backgroundColor:ge.background.secondary,borderRadius:Rt.xl,border:`1px solid ${ge.neutral[200]}`,boxShadow:Yt.sm},children:[h.jsx(de,{variant:"h5",gutterBottom:!0,sx:{fontFamily:Be.fontFamily.display,fontSize:Be.fontSize.xl,fontWeight:Be.fontWeight.bold,color:ge.text.primary,mb:gt[3]},children:"Getting Started"}),h.jsx(de,{variant:"body1",paragraph:!0,sx:{fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize.base,color:ge.text.secondary,lineHeight:1.6,mb:gt[4]},children:`Welcome to NexLab! To get started, you'll need to enroll in a course. Use the "My Account" section to add course access codes provided by your instructor.`}),h.jsx(At,{variant:"contained",onClick:()=>n("/my-profile"),startIcon:h.jsx(Gw,{}),sx:{backgroundColor:ge.primary[500],color:ge.text.inverse,fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize.base,fontWeight:Be.fontWeight.medium,borderRadius:Rt.lg,px:gt[4],py:gt[2],"&:hover":{backgroundColor:ge.primary[600]}},children:"Go to My Account"})]})]})};let my;const JM=new Uint8Array(16);function eF(){if(!my&&(my=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!my))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return my(JM)}const fs=[];for(let e=0;e<256;++e)fs.push((e+256).toString(16).slice(1));function tF(e,n=0){return fs[e[n+0]]+fs[e[n+1]]+fs[e[n+2]]+fs[e[n+3]]+"-"+fs[e[n+4]]+fs[e[n+5]]+"-"+fs[e[n+6]]+fs[e[n+7]]+"-"+fs[e[n+8]]+fs[e[n+9]]+"-"+fs[e[n+10]]+fs[e[n+11]]+fs[e[n+12]]+fs[e[n+13]]+fs[e[n+14]]+fs[e[n+15]]}const nF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),k_={randomUUID:nF};function Ri(e,n,t){if(k_.randomUUID&&!e)return k_.randomUUID();e=e||{};const r=e.random||(e.rng||eF)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,tF(r)}const N_={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},fg=new Map,gy=e=>{const n=fg.get(e);return n?Object.fromEntries(Object.entries(n.stores).map(([t,r])=>[t,r.getState()])):{}},rF=(e,n,t)=>{if(e===void 0)return{type:"untracked",connection:n.connect(t)};const r=fg.get(t.name);if(r)return{type:"tracked",store:e,...r};const i={connection:n.connect(t),stores:{}};return fg.set(t.name,i),{type:"tracked",store:e,...i}},iF=(e,n)=>{if(n===void 0)return;const t=fg.get(e);t&&(delete t.stores[n],Object.keys(t.stores).length===0&&fg.delete(e))},aF=e=>{var n,t;if(!e)return;const r=e.split(`
`),i=r.findIndex(s=>s.includes("api.setState"));if(i<0)return;const a=((n=r[i+1])==null?void 0:n.trim())||"";return(t=/.+ (.+) .+/.exec(a))==null?void 0:t[1]},sF=(e,n={})=>(t,r,i)=>{const{enabled:a,anonymousActionType:s,store:l,...u}=n;let d;try{d=(a??(N_?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return e(t,r,i);const{connection:f,...g}=rF(l,d,u);let b=!0;i.setState=(y,A,w)=>{const C=t(y,A);if(!b)return C;const N=w===void 0?{type:s||aF(new Error().stack)||"anonymous"}:typeof w=="string"?{type:w}:w;return l===void 0?(f==null||f.send(N,r()),C):(f==null||f.send({...N,type:`${l}/${N.type}`},{...gy(u.name),[l]:i.getState()}),C)},i.devtools={cleanup:()=>{f&&typeof f.unsubscribe=="function"&&f.unsubscribe(),iF(u.name,l)}};const m=(...y)=>{const A=b;b=!1,t(...y),b=A},x=e(i.setState,r,i);if(g.type==="untracked"?f==null||f.init(x):(g.stores[g.store]=i,f==null||f.init(Object.fromEntries(Object.entries(g.stores).map(([y,A])=>[y,y===g.store?x:A.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let y=!1;const A=i.dispatch;i.dispatch=(...w)=>{(N_?"production":void 0)!=="production"&&w[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),A(...w)}}return f.subscribe(y=>{var A;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return O5(y.payload,w=>{if(w.type==="__setState"){if(l===void 0){m(w.state);return}Object.keys(w.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const C=w.state[l];if(C==null)return;JSON.stringify(i.getState())!==JSON.stringify(C)&&m(C);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(w)});case"DISPATCH":switch(y.payload.type){case"RESET":return m(x),l===void 0?f==null?void 0:f.init(i.getState()):f==null?void 0:f.init(gy(u.name));case"COMMIT":if(l===void 0){f==null||f.init(i.getState());return}return f==null?void 0:f.init(gy(u.name));case"ROLLBACK":return O5(y.state,w=>{if(l===void 0){m(w),f==null||f.init(i.getState());return}m(w[l]),f==null||f.init(gy(u.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return O5(y.state,w=>{if(l===void 0){m(w);return}JSON.stringify(i.getState())!==JSON.stringify(w[l])&&m(w[l])});case"IMPORT_STATE":{const{nextLiftedState:w}=y.payload,C=(A=w.computedStates.slice(-1)[0])==null?void 0:A.state;if(!C)return;m(l===void 0?C:C[l]),f==null||f.send(null,w);return}case"PAUSE_RECORDING":return b=!b}return}}),x},Wg=sF,O5=(e,n)=>{let t;try{t=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}t!==void 0&&n(t)};function oF(e,n){let t;try{t=e()}catch{return}return{getItem:i=>{var a;const s=u=>u===null?null:JSON.parse(u,void 0),l=(a=t.getItem(i))!=null?a:null;return l instanceof Promise?l.then(s):s(l)},setItem:(i,a)=>t.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>t.removeItem(i)}}const eS=e=>n=>{try{const t=e(n);return t instanceof Promise?t:{then(r){return eS(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return eS(r)(t)}}}},lF=(e,n)=>(t,r,i)=>{let a={storage:oF(()=>localStorage),partialize:y=>y,version:0,merge:(y,A)=>({...A,...y}),...n},s=!1;const l=new Set,u=new Set;let d=a.storage;if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...y)},r,i);const f=()=>{const y=a.partialize({...r()});return d.setItem(a.name,{state:y,version:a.version})},g=i.setState;i.setState=(y,A)=>{g(y,A),f()};const b=e((...y)=>{t(...y),f()},r,i);i.getInitialState=()=>b;let m;const x=()=>{var y,A;if(!d)return;s=!1,l.forEach(C=>{var N;return C((N=r())!=null?N:b)});const w=((A=a.onRehydrateStorage)==null?void 0:A.call(a,(y=r())!=null?y:b))||void 0;return eS(d.getItem.bind(d))(a.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==a.version){if(a.migrate){const N=a.migrate(C.state,C.version);return N instanceof Promise?N.then(R=>[!0,R]):[!0,N]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var N;const[R,F]=C;if(m=a.merge(F,(N=r())!=null?N:b),t(m,!0),R)return f()}).then(()=>{w==null||w(m,void 0),m=r(),s=!0,u.forEach(C=>C(m))}).catch(C=>{w==null||w(void 0,C)})};return i.persist={setOptions:y=>{a={...a,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>x(),hasHydrated:()=>s,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(u.add(y),()=>{u.delete(y)})},a.skipHydration||x(),m||b},mv=lF;var j_;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(j_||(j_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T_;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(T_||(T_={}));var O_;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(O_||(O_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=["user","model","function","system"];var D_;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(D_||(D_={}));var L_;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(L_||(L_={}));var R_;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(R_||(R_={}));var M_;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(M_||(M_={}));var K1;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(K1||(K1={}));var F_;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(F_||(F_={}));var P_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(P_||(P_={}));var z_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(z_||(z_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Error{constructor(n){super(`[GoogleGenerativeAI Error]: ${n}`)}}class u0 extends Ms{constructor(n,t){super(n),this.response=t}}class UT extends Ms{constructor(n,t,r,i){super(n),this.status=t,this.statusText=r,this.errorDetails=i}}class Qf extends Ms{}class $T extends Ms{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="https://generativelanguage.googleapis.com",cF="v1beta",dF="0.24.1",fF="genai-js";var up;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(up||(up={}));class hF{constructor(n,t,r,i,a){this.model=n,this.task=t,this.apiKey=r,this.stream=i,this.requestOptions=a}toString(){var n,t;const r=((n=this.requestOptions)===null||n===void 0?void 0:n.apiVersion)||cF;let a=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||uF}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function pF(e){const n=[];return e!=null&&e.apiClient&&n.push(e.apiClient),n.push(`${fF}/${dF}`),n.join(" ")}async function mF(e){var n;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",pF(e.requestOptions)),t.append("x-goog-api-key",e.apiKey);let r=(n=e.requestOptions)===null||n===void 0?void 0:n.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Qf(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,a]of r.entries()){if(i==="x-goog-api-key")throw new Qf(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Qf(`Header name ${i} can only be set using the apiClient field`);t.append(i,a)}}return t}async function gF(e,n,t,r,i,a){const s=new hF(e,n,t,r,a);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},vF(a)),{method:"POST",headers:await mF(s),body:i})}}async function Vg(e,n,t,r,i,a={},s=fetch){const{url:l,fetchOptions:u}=await gF(e,n,t,r,i,a);return bF(l,u,s)}async function bF(e,n,t=fetch){let r;try{r=await t(e,n)}catch(i){yF(i,e)}return r.ok||await xF(r,e),r}function yF(e,n){let t=e;throw t.name==="AbortError"?(t=new $T(`Request aborted when fetching ${n.toString()}: ${e.message}`),t.stack=e.stack):e instanceof UT||e instanceof Qf||(t=new Ms(`Error fetching from ${n.toString()}: ${e.message}`),t.stack=e.stack),t}async function xF(e,n){let t="",r;try{const i=await e.json();t=i.error.message,i.error.details&&(t+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new UT(`Error fetching from ${n.toString()}: [${e.status} ${e.statusText}] ${t}`,e.status,e.statusText,r)}function vF(e){const n={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const t=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>t.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{t.abort()}),n.signal=t.signal}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Ky(e.candidates[0]))throw new u0(`${Rf(e)}`,e);return wF(e)}else if(e.promptFeedback)throw new u0(`Text not available. ${Rf(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ky(e.candidates[0]))throw new u0(`${Rf(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),q_(e)[0]}else if(e.promptFeedback)throw new u0(`Function call not available. ${Rf(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ky(e.candidates[0]))throw new u0(`${Rf(e)}`,e);return q_(e)}else if(e.promptFeedback)throw new u0(`Function call not available. ${Rf(e)}`,e)},e}function wF(e){var n,t,r,i;const a=[];if(!((t=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||t===void 0)&&t.parts)for(const s of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.text&&a.push(s.text),s.executableCode&&a.push("\n```"+s.executableCode.language+`
`+s.executableCode.code+"\n```\n"),s.codeExecutionResult&&a.push("\n```\n"+s.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function q_(e){var n,t,r,i;const a=[];if(!((t=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||t===void 0)&&t.parts)for(const s of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.functionCall&&a.push(s.functionCall);if(a.length>0)return a}const SF=[K1.RECITATION,K1.SAFETY,K1.LANGUAGE];function Ky(e){return!!e.finishReason&&SF.includes(e.finishReason)}function Rf(e){var n,t,r;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((n=e.promptFeedback)===null||n===void 0)&&n.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((t=e.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const a=e.candidates[0];Ky(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function hg(e){return this instanceof hg?(this.v=e,this):new hg(e)}function AF(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(b){r[b]&&(i[b]=function(m){return new Promise(function(x,y){a.push([b,m,x,y])>1||l(b,m)})})}function l(b,m){try{u(r[b](m))}catch(x){g(a[0][3],x)}}function u(b){b.value instanceof hg?Promise.resolve(b.value.v).then(d,f):g(a[0][2],b)}function d(b){l("next",b)}function f(b){l("throw",b)}function g(b,m){b(m),a.shift(),a.length&&l(a[0][0],a[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function CF(e){const n=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=kF(n),[r,i]=t.tee();return{stream:_F(r),response:EF(i)}}async function EF(e){const n=[],t=e.getReader();for(;;){const{done:r,value:i}=await t.read();if(r)return P6(NF(n));n.push(i)}}function _F(e){return AF(this,arguments,function*(){const t=e.getReader();for(;;){const{value:r,done:i}=yield hg(t.read());if(i)break;yield yield hg(P6(r))}})}function kF(e){const n=e.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return n.read().then(({value:s,done:l})=>{if(l){if(i.trim()){r.error(new Ms("Failed to parse stream"));return}r.close();return}i+=s;let u=i.match(B_),d;for(;u;){try{d=JSON.parse(u[1])}catch{r.error(new Ms(`Error parsing JSON response: "${u[1]}"`));return}r.enqueue(d),i=i.substring(u[0].length),u=i.match(B_)}return a()}).catch(s=>{let l=s;throw l.stack=s.stack,l.name==="AbortError"?l=new $T("Request aborted when reading from the stream"):l=new Ms("Error reading from the stream"),l})}}})}function NF(e){const n=e[e.length-1],t={promptFeedback:n==null?void 0:n.promptFeedback};for(const r of e){if(r.candidates){let i=0;for(const a of r.candidates)if(t.candidates||(t.candidates=[]),t.candidates[i]||(t.candidates[i]={index:i}),t.candidates[i].citationMetadata=a.citationMetadata,t.candidates[i].groundingMetadata=a.groundingMetadata,t.candidates[i].finishReason=a.finishReason,t.candidates[i].finishMessage=a.finishMessage,t.candidates[i].safetyRatings=a.safetyRatings,a.content&&a.content.parts){t.candidates[i].content||(t.candidates[i].content={role:a.content.role||"user",parts:[]});const s={};for(const l of a.content.parts)l.text&&(s.text=l.text),l.functionCall&&(s.functionCall=l.functionCall),l.executableCode&&(s.executableCode=l.executableCode),l.codeExecutionResult&&(s.codeExecutionResult=l.codeExecutionResult),Object.keys(s).length===0&&(s.text=""),t.candidates[i].content.parts.push(s)}i++}r.usageMetadata&&(t.usageMetadata=r.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(e,n,t,r){const i=await Vg(n,up.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(t),r);return CF(i)}async function WT(e,n,t,r){const a=await(await Vg(n,up.GENERATE_CONTENT,e,!1,JSON.stringify(t),r)).json();return{response:P6(a)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function pg(e){let n=[];if(typeof e=="string")n=[{text:e}];else for(const t of e)typeof t=="string"?n.push({text:t}):n.push(t);return jF(n)}function jF(e){const n={role:"user",parts:[]},t={role:"function",parts:[]};let r=!1,i=!1;for(const a of e)"functionResponse"in a?(t.parts.push(a),i=!0):(n.parts.push(a),r=!0);if(r&&i)throw new Ms("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Ms("No content is provided for sending chat message.");return r?n:t}function TF(e,n){var t;let r={model:n==null?void 0:n.model,generationConfig:n==null?void 0:n.generationConfig,safetySettings:n==null?void 0:n.safetySettings,tools:n==null?void 0:n.tools,toolConfig:n==null?void 0:n.toolConfig,systemInstruction:n==null?void 0:n.systemInstruction,cachedContent:(t=n==null?void 0:n.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const i=e.generateContentRequest!=null;if(e.contents){if(i)throw new Qf("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const a=pg(e);r.contents=[a]}return{generateContentRequest:r}}function U_(e){let n;return e.contents?n=e:n={contents:[pg(e)]},e.systemInstruction&&(n.systemInstruction=VT(e.systemInstruction)),n}function OF(e){return typeof e=="string"||Array.isArray(e)?{content:pg(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],IF={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function DF(e){let n=!1;for(const t of e){const{role:r,parts:i}=t;if(!n&&r!=="user")throw new Ms(`First content should be with role 'user', got ${r}`);if(!I_.includes(r))throw new Ms(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(I_)}`);if(!Array.isArray(i))throw new Ms("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Ms("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const u of $_)u in l&&(a[u]+=1);const s=IF[r];for(const l of $_)if(!s.includes(l)&&a[l]>0)throw new Ms(`Content with role '${r}' can't contain '${l}' part`);n=!0}}function H_(e){var n;if(e.candidates===void 0||e.candidates.length===0)return!1;const t=(n=e.candidates[0])===null||n===void 0?void 0:n.content;if(t===void 0||t.parts===void 0||t.parts.length===0)return!1;for(const r of t.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="SILENT_ERROR";class LF{constructor(n,t,r,i={}){this.model=t,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=n,r!=null&&r.history&&(DF(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(n,t={}){var r,i,a,s,l,u;await this._sendPromise;const d=pg(n),f={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,d]},g=Object.assign(Object.assign({},this._requestOptions),t);let b;return this._sendPromise=this._sendPromise.then(()=>WT(this._apiKey,this.model,f,g)).then(m=>{var x;if(H_(m.response)){this._history.push(d);const y=Object.assign({parts:[],role:"model"},(x=m.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(y)}else{const y=Rf(m.response);y&&console.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}b=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,b}async sendMessageStream(n,t={}){var r,i,a,s,l,u;await this._sendPromise;const d=pg(n),f={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,d]},g=Object.assign(Object.assign({},this._requestOptions),t),b=HT(this._apiKey,this.model,f,g);return this._sendPromise=this._sendPromise.then(()=>b).catch(m=>{throw new Error(W_)}).then(m=>m.response).then(m=>{if(H_(m)){this._history.push(d);const x=Object.assign({},m.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=Rf(m);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(m=>{m.message!==W_&&console.error(m)}),b}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RF(e,n,t,r){return(await Vg(n,up.COUNT_TOKENS,e,!1,JSON.stringify(t),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF(e,n,t,r){return(await Vg(n,up.EMBED_CONTENT,e,!1,JSON.stringify(t),r)).json()}async function FF(e,n,t,r){const i=t.requests.map(s=>Object.assign(Object.assign({},s),{model:n}));return(await Vg(n,up.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(n,t,r={}){this.apiKey=n,this._requestOptions=r,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=VT(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(n,t={}){var r;const i=U_(n),a=Object.assign(Object.assign({},this._requestOptions),t);return WT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}async generateContentStream(n,t={}){var r;const i=U_(n),a=Object.assign(Object.assign({},this._requestOptions),t);return HT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}startChat(n){var t;return new LF(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},n),this._requestOptions)}async countTokens(n,t={}){const r=TF(n,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),t);return RF(this.apiKey,this.model,r,i)}async embedContent(n,t={}){const r=OF(n),i=Object.assign(Object.assign({},this._requestOptions),t);return MF(this.apiKey,this.model,r,i)}async batchEmbedContents(n,t={}){const r=Object.assign(Object.assign({},this._requestOptions),t);return FF(this.apiKey,this.model,n,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(n){this.apiKey=n}getGenerativeModel(n,t){if(!n.model)throw new Ms("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new V_(this.apiKey,n,t)}getGenerativeModelFromCachedContent(n,t,r){if(!n.name)throw new Qf("Cached content must contain a `name` field.");if(!n.model)throw new Qf("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const s of i)if(t!=null&&t[s]&&n[s]&&(t==null?void 0:t[s])!==n[s]){if(s==="model"){const l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,u=n.model.startsWith("models/")?n.model.replace("models/",""):n.model;if(l===u)continue}throw new Qf(`Different value for "${s}" specified in modelParams (${t[s]}) and cachedContent (${n[s]})`)}const a=Object.assign(Object.assign({},t),{model:n.model,tools:n.tools,toolConfig:n.toolConfig,systemInstruction:n.systemInstruction,cachedContent:n});return new V_(this.apiKey,a,r)}}var I5={exports:{}},Y_;function PF(){return Y_||(Y_=1,(()=>{var e={d:(a,s)=>{for(var l in s)e.o(s,l)&&!e.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:s[l]})},o:(a,s)=>Object.prototype.hasOwnProperty.call(a,s),r:a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}},n={};function t(a,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}e.r(n),e.d(n,{default:()=>i});var r=function(){function a(){(function(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")})(this,a)}var s,l;return s=a,l=[{key:"changeHeightWidth",value:function(u,d,f,g,b,m){return f>g&&(u=Math.round(u*g/f),f=g),u>d&&(f=Math.round(f*d/u),u=d),b&&f<b&&(u=Math.round(u*b/f),f=b),m&&u<m&&(f=Math.round(f*m/u),u=m),{height:u,width:f}}},{key:"resizeAndRotateImage",value:function(u,d,f,g,b){var m=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,A=x/100,w=document.createElement("canvas"),C=u.width,N=u.height,R=this.changeHeightWidth(N,f,C,d,g,b);!y||y!==90&&y!==270?(w.width=R.width,w.height=R.height):(w.width=R.height,w.height=R.width),C=R.width,N=R.height;var F=w.getContext("2d");return F.fillStyle="rgba(0, 0, 0, 0)",F.fillRect(0,0,C,N),F.imageSmoothingEnabled&&F.imageSmoothingQuality&&(F.imageSmoothingQuality="high"),y&&(F.rotate(y*Math.PI/180),y===90?F.translate(0,-w.width):y===180?F.translate(-w.width,-w.height):y===270?F.translate(-w.height,0):y!==0&&y!==360||F.translate(0,0)),F.drawImage(u,0,0,C,N),w.toDataURL("image/".concat(m),A)}},{key:"b64toByteArrays",value:function(u,d){for(var f=atob(u.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),g=[],b=0;b<f.length;b+=512){for(var m=f.slice(b,b+512),x=new Array(m.length),y=0;y<m.length;y++)x[y]=m.charCodeAt(y);var A=new Uint8Array(x);g.push(A)}return g}},{key:"b64toBlob",value:function(u,d){var f=this.b64toByteArrays(u,d);return new Blob(f,{type:d,lastModified:new Date})}},{key:"b64toFile",value:function(u,d,f){var g=this.b64toByteArrays(u,f);return new File(g,d,{type:f,lastModified:new Date})}},{key:"createResizedImage",value:function(u,d,f,g,b,m,x){var y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",A=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,w=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,C=new FileReader;if(!u)throw Error("File Not Found!");if(u.type&&!u.type.includes("image"))throw Error("File Is NOT Image!");C.readAsDataURL(u),C.onload=function(){var N=new Image;N.src=C.result,N.onload=function(){var R=a.resizeAndRotateImage(N,d,f,A,w,g,b,m),F="image/".concat(g);switch(y){case"blob":var q=a.b64toBlob(R,F);x(q);break;case"base64":x(R);break;case"file":var k=u.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(g.toString()),L=a.b64toFile(R,k,F);x(L);break;default:x(R)}}},C.onerror=function(N){throw Error(N)}}}],l&&t(s,l),a}();const i={imageFileResizer:function(a,s,l,u,d,f,g,b,m,x){return r.createResizedImage(a,s,l,u,d,f,g,b,m,x)}};I5.exports=n})()),I5.exports}var zF=PF();const GT=ts(zF),qF=(e,n=5*1024*1024)=>new Promise((t,r)=>{var b;const i=((b=e.type.split("/")[1])==null?void 0:b.toLowerCase())||"unknown";if(e.size<=n&&(i==="jpeg"||i==="png"||i==="webp")){console.log(` Image already optimized: ${e.size} bytes, format: ${i}`),t({blob:e,format:i==="jpeg"?"jpg":i});return}const a=e.size>n;console.log(` Processing image: ${e.size} bytes, format: ${i}, compress: ${a}`);const s=new File([e],`image.${i}`,{type:e.type});let l="JPEG",u="jpg";(i==="png"||i==="gif")&&(l="PNG",u="png");const d=a?60:75,f=a?600:800,g=setTimeout(()=>{r(new Error("Image compression timed out after 10 seconds"))},1e4);GT.imageFileResizer(s,f,f,l,d,0,m=>{clearTimeout(g),m instanceof Blob?(console.log(` Image compressed: ${e.size}  ${m.size} bytes (${((1-m.size/e.size)*100).toFixed(1)}% reduction)`),t({blob:m,format:u})):r(new Error("Compression failed - unexpected result type"))},"blob")}),BF=async(e,n,t,r=3,i=15e3)=>{const a=yp();for(let s=1;s<=r;s++)try{const{blob:l,format:u}=await qF(e),d=`${n}_${Ri()}.${u}`,f=async()=>{const m=vc(a,`materials/${t}/${d}`),x=await Yf(m,l);return{url:await Gf(x.ref),path:x.ref.fullPath,filename:d,originalSize:e.size,compressedSize:l.size}},g=new Promise((m,x)=>{setTimeout(()=>x(new Error(`Upload timeout after ${i}ms`)),i)}),b=await Promise.race([f(),g]);return console.log(`Successfully uploaded image: ${b.filename} (attempt ${s})`,{originalSize:b.originalSize,compressedSize:b.compressedSize,url:b.url}),{url:b.url,path:b.path}}catch(l){const u=l instanceof Error?l.message:"Unknown error";if(console.warn(`Upload attempt ${s}/${r} failed for ${n}: ${u}`),s===r)throw console.error(`All ${r} upload attempts failed for ${n}:`,l),new Error(`Image upload failed after ${r} attempts: ${u}`);const d=Math.min(1e3*Math.pow(2,s-1),5e3);console.log(`Waiting ${d}ms before retry...`),await new Promise(f=>setTimeout(f,d))}throw new Error("Upload failed - should not reach here")},D5=e=>{const t=`
    <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="#f44336"/>
      <text x="50%" y="45%" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" dominant-baseline="middle">
        Upload Failed
      </text>
      <text x="50%" y="55%" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" dominant-baseline="middle">
        ${e.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30)}
      </text>
    </svg>
  `;try{return`data:image/svg+xml;base64,${btoa(t)}`}catch(r){return console.error("Failed to create fallback placeholder:",r),`data:image/svg+xml,${encodeURIComponent(t)}`}},UF=async(e,n,t,r=3)=>{const i=e.filter(u=>u.imageBlob),a=[];console.log(` Starting batch upload of ${i.length} images (batch size: ${r})`),console.log(" Images to upload:",i.map((u,d)=>{var f,g;return{index:d+1,slideNumber:u.slideNumber,description:u.description,blobSize:(f=u.imageBlob)==null?void 0:f.size,blobType:(g=u.imageBlob)==null?void 0:g.type}}));for(let u=0;u<i.length;u+=r){const d=Math.min(u+r,i.length),f=i.slice(u,d);console.log(`Processing batch ${Math.floor(u/r)+1}/${Math.ceil(i.length/r)} (images ${u+1}-${d})`);const g=f.map(async(b,m)=>{const x=u+m;console.log(` Starting upload for image ${x+1}/${i.length} (slide ${b.slideNumber})`);try{const y=`slide_${b.slideNumber}_image_${x+1}`,A=BF(b.imageBlob,y,n,2,1e4),w=new Promise((N,R)=>{setTimeout(()=>{R(new Error(`Individual image timeout after 15 seconds for image ${x+1}`))},15e3)}),{url:C}=await Promise.race([A,w]);return console.log(` Successfully processed image ${x+1}/${i.length}`),{url:C,title:b.description||`Image from Slide ${b.slideNumber}`,originalFilename:b.filename,slideNumber:b.slideNumber,index:x}}catch(y){return console.error(` Failed to upload image ${x+1}/${i.length} from slide ${b.slideNumber}:`,y),{url:D5(b.description||`Image from Slide ${b.slideNumber}`),title:b.description||`Image from Slide ${b.slideNumber}`,originalFilename:b.filename,slideNumber:b.slideNumber,index:x}}});try{console.log(` Waiting for batch ${Math.floor(u/r)+1} to complete...`);const b=2e4,m=new Promise((y,A)=>{setTimeout(()=>{A(new Error(`Batch ${Math.floor(u/r)+1} timeout after ${b}ms`))},b)}),x=await Promise.race([Promise.allSettled(g),m]);console.log(` Batch ${Math.floor(u/r)+1} completed, processing ${x.length} results...`),x.forEach((y,A)=>{const w=u+A;if(y.status==="fulfilled")a.push(y.value),console.log(` Image ${w+1}/${i.length} uploaded successfully`);else{console.error(` Image ${w+1}/${i.length} failed:`,y.reason);const C=f[A];a.push({url:D5(C.description||`Image from Slide ${C.slideNumber}`),title:C.description||`Image from Slide ${C.slideNumber}`,originalFilename:C.filename,slideNumber:C.slideNumber})}t==null||t(w+1,i.length)})}catch(b){console.error(` Batch ${Math.floor(u/r)+1} failed or timed out:`,b),f.forEach((m,x)=>{const y=u+x;console.log(` Creating fallback for timed out image ${y+1}/${i.length}`),a.push({url:D5(m.description||`Image from Slide ${m.slideNumber}`),title:m.description||`Image from Slide ${m.slideNumber}`,originalFilename:m.filename,slideNumber:m.slideNumber}),t==null||t(y+1,i.length)})}d<i.length&&(console.log(" Waiting 1 second before next batch..."),await new Promise(b=>setTimeout(b,1e3)))}a.sort((u,d)=>(u.index||0)-(d.index||0));const s=a.filter(u=>!u.url.startsWith("data:")).length,l=a.length-s;return console.log(`Upload complete: ${s} successful, ${l} failed out of ${a.length} total`),a};class $F{constructor(n){et(this,"genAI");et(this,"model");et(this,"activeBlobUrls",new Set);this.genAI=new YT(n),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.2,topK:3,topP:.9,maxOutputTokens:16384}})}cleanupBlobUrls(){this.activeBlobUrls.forEach(n=>{URL.revokeObjectURL(n)}),this.activeBlobUrls.clear()}createTrackedBlobUrl(n){const t=URL.createObjectURL(n);return this.activeBlobUrls.add(t),t}async processMaterialContent(n,t,r,i,a,s){if(!(n!=null&&n.trim()))throw new Error("No content provided for processing");a==null||a({stage:"analyzing",percentage:20,currentOperation:"Analyzing document structure..."});const l=n.length,u=Math.ceil(l/4);if(l>15e3||u>4e3){console.log(`Document is large (${l} chars, ~${u} tokens), using chunked processing`);const d=n.substring(0,15e3);return console.log("Truncating input to prevent AI response truncation"),this.processSingleMaterial(d+`

[Content truncated for processing]`,t,r,i,a,s)}return this.processSingleMaterial(n,t,r,i,a,s)}async processSingleMaterial(n,t,r,i,a,s){const l=this.buildMaterialAnalysisPrompt(n,t,r,i,s);a==null||a({stage:"analyzing",percentage:40,currentOperation:"Processing with AI..."});try{const f=(await(await this.model.generateContent(l)).response).text();if(!f||f.trim().length===0)throw new Error("Empty response from AI service");a==null||a({stage:"structuring",percentage:70,currentOperation:"Structuring content..."});let g=f.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();console.log("Raw response text (first 1000 chars):",f.substring(0,1e3)),console.log("Cleaned text (first 1000 chars):",g.substring(0,1e3)),g=this.repairTruncatedJSON(g);let b;try{b=JSON.parse(g)}catch(m){throw console.error("JSON parsing failed:",m),console.error("Raw response text (first 1000 chars):",f.substring(0,1e3)),console.error("Cleaned text (first 1000 chars):",g.substring(0,1e3)),new Error("AI response format invalid - unable to parse JSON")}if(!b||typeof b!="object")throw new Error("AI response is not a valid object");return a==null||a({stage:"complete",percentage:100,currentOperation:"Processing complete!"}),this.validateAndSanitizeMaterialResponse(b,t,r)}catch(u){if(console.error("Material Import AI Error:",u),a==null||a({stage:"error",percentage:0,currentOperation:`Error: ${u instanceof Error?u.message:"Unknown error"}`}),u instanceof Error){if(u.message.includes("API_KEY_INVALID")||u.message.includes("API key"))throw new Error("Invalid API key. Please check your material import API key configuration.");if(u.message.includes("RATE_LIMIT_EXCEEDED"))throw new Error("Rate limit exceeded. Please try again in a few minutes.");if(u.message.includes("SAFETY"))throw new Error("Content flagged by safety filters. Please try with different content.")}throw new Error(`Material processing failed: ${u instanceof Error?u.message:"Unknown error"}`)}}async processLargeMaterial(n,t,r,i,a){a==null||a({stage:"analyzing",percentage:10,currentOperation:"Processing large document with chunking..."});const s=this.chunkMaterialText(n);let l=null;const u=[];a==null||a({stage:"analyzing",percentage:30,currentOperation:`Processing main content (1/${s.length})...`,subSteps:{current:1,total:s.length,description:"Analyzing primary structure"}}),l=await this.processSingleMaterial(s[0],t,r,i);for(let f=1;f<s.length;f++){a==null||a({stage:"analyzing",percentage:30+40*f/s.length,currentOperation:`Processing additional content (${f+1}/${s.length})...`,subSteps:{current:f+1,total:s.length,description:"Extracting supplementary details"}});try{const g=await this.processChunkForAdditionalContent(s[f],t,r);g&&u.push(g)}catch(g){console.warn(`Failed to process chunk ${f+1}:`,g)}}a==null||a({stage:"structuring",percentage:80,currentOperation:"Merging content from all sections..."});const d=this.mergeChunkedMaterialResults(l,u);return a==null||a({stage:"complete",percentage:100,currentOperation:"Large document processing complete!"}),d}buildMaterialAnalysisPrompt(n,t,r,i,a){const s=this.getFileTypeContext(r);return`
Analyze this ${s} educational material and extract structured information for course content management.

File: ${t}
Type: ${r}

CONTENT:
${n}

${a!=null&&a.images&&a.images.length>0?`
DETECTED IMAGES:
${a.images.map((l,u)=>`${u+1}. ${l.description||`Image ${u+1}`}${l.slideNumber?` (Slide ${l.slideNumber})`:""}${l.altText?` - ${l.altText}`:""}`).join(`
`)}

CRITICAL IMAGE PLACEMENT INSTRUCTIONS:
- Each image MUST be placed in the section corresponding to its slide number
- If "Image X (Slide Y)" is detected, place it in the section created from Slide Y content
- Each image should have a unique, descriptive title based on its context
- Include slideNumber property in each image object for proper matching
- DO NOT reuse the same image in multiple sections
`:""}

Please extract and structure this content into a comprehensive educational material format. Focus on:

1. **Document Structure**: Identify main topics, subtopics, and hierarchical organization
2. **Content Quality**: Preserve important educational information and context
3. **Visual Elements**: Note references to images, diagrams, charts (even if not extractable)
4. **Links and Resources**: Extract any URLs, references, or external resources mentioned
5. **Learning Context**: Maintain educational value and logical flow

${s==="presentation slide deck"?`
SPECIAL INSTRUCTIONS FOR PRESENTATIONS:
- Each slide should become a section or subsection
- Preserve slide order and hierarchy
- Note slide titles and main content points
- Identify slide transitions and logical groupings
- Extract speaker notes or additional context if present
`:""}

Return ONLY a JSON object with this exact structure:
{
  "title": "Material title (extracted from content or filename)",
  "description": "Brief description of the material content",
  "header": {
    "title": "Introduction or Overview",
    "content": "HTML formatted introductory content"
  },
  "footer": {
    "title": "Summary or Conclusion", 
    "content": "HTML formatted concluding content"
  },
  "sections": [
    {
      "title": "Section Title",
      "content": "HTML formatted main section content",
      "subsections": [
        {
          "title": "Subsection Title",
          "content": "HTML formatted subsection content",
          "subSubsections": [
            {
              "title": "Sub-subsection Title",
              "content": "HTML formatted detailed content",
              "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 2}],
              "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
            }
          ],
          "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 3}],
          "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
        }
      ],
      "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 4}],
      "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
    }
  ],
  "sourceInfo": {
    "fileName": "${t}",
    "fileType": "${r}",
    "extractedAt": "${new Date().toISOString()}",
    "originalFileReference": "Reference to original file for debugging"
  },
  "images": [{"url": "", "title": "Overall image description", "description": "Context", "slideNumber": 1}],
  "links": [{"title": "Overall link title", "url": "URL", "description": "Link context"}]
}

CRITICAL JSON FORMATTING RULES:
- Return ONLY valid JSON - no comments, no explanations, no additional text
- Use proper HTML tags for content formatting (<p>, <h1>-<h6>, <ul>, <ol>, <li>, <strong>, <em>, <br>)
- Preserve educational structure and hierarchy
- Create logical sections based on content organization
- For images: Use EMPTY STRINGS for URLs ("url": "") with descriptive titles, context, and slideNumber property
-- IMPORTANT: Each image object MUST include "slideNumber" property matching the source slide
-- NEVER use placeholder filenames like "placeholder_image_1.png" - always use empty strings for URLs
- For links: Extract actual URLs when present, provide context
- Complete ALL sections and subsections - do not use comments like "// ... continue"
- Ensure all JSON arrays and objects are properly closed
- Maintain educational value and readability

IMPORTANT: Your response must be complete, valid JSON that can be parsed directly. Do not include any explanatory text, comments, or incomplete sections. End your response when the JSON object is complete.
`}async processChunkForAdditionalContent(n,t,r){const i=`
Extract additional educational content from this section of the material:

File: ${t}
Type: ${r}

CONTENT:
${n}

Focus on extracting any additional sections, detailed information, or supplementary content that should be included in the educational material.

Return ONLY a JSON object with additional sections, images, or links:
{
  "sections": [...],
  "images": [...],
  "links": [...]
}
`;try{const l=(await(await this.model.generateContent(i)).response).text();if(!l||l.trim().length===0)return null;let u;try{u=this.extractValidJSON(l)}catch(d){try{u=this.fallbackJSONExtraction(l)}catch{throw d}}return JSON.parse(u)}catch(a){return console.warn("Failed to process additional content chunk:",a),null}}chunkMaterialText(n,t=25e3){const r=[],i=n.split(`
`);let a="";for(const s of i)a.length+s.length>t&&a.length>0?(r.push(a.trim()),a=s):a+=(a?`
`:"")+s;return a.trim()&&r.push(a.trim()),r.length>0?r:[n]}mergeChunkedMaterialResults(n,t){const r={...n};for(const i of t)i.sections&&Array.isArray(i.sections)&&(r.sections=[...r.sections,...i.sections]),i.images&&Array.isArray(i.images)&&(r.images=[...r.images||[],...i.images]),i.links&&Array.isArray(i.links)&&(r.links=[...r.links||[],...i.links]);return r}extractValidJSON(n){let t=n.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();t=t.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const r=t.indexOf("{");if(r===-1)throw new Error("No JSON object found in response");t=t.substring(r);let i=0,a=-1,s=!1,l=!1;for(let f=0;f<t.length;f++){const g=t[f];if(l){l=!1;continue}if(g==="\\"){l=!0;continue}if(g==='"'&&!l){s=!s;continue}if(!s){if(g==="{")i++;else if(g==="}"&&(i--,i===0)){a=f+1;break}}}if(a===-1)throw new Error("No matching closing brace found for JSON object");let u=t.substring(0,a);u=u.replace(/,(\s*[}\]])/g,"$1"),this.detectTruncatedJSON(u)&&(console.warn("Detected truncated JSON response, attempting repair"),u=this.attemptJSONRepair(u));try{return JSON.parse(u),u}catch(f){console.warn("Initial JSON parsing failed, attempting to fix common issues:",f);const g=this.attemptJSONRepair(u);try{return JSON.parse(g),g}catch(b){throw console.error("JSON repair failed:",b),new Error(`Invalid JSON structure: ${b.message}`)}}}detectTruncatedJSON(n){const t=n.trim(),r=[/"[^"]*$/,/:\s*$/,/,\s*$/,/"[a-zA-Z]+\w*$/,/[a-zA-Z]+\w*$/,/\[\s*$/,/{\s*$/];for(const a of r)if(a.test(t))return console.log(`Truncation detected: ${a.toString()}`),!0;const i=t.charAt(t.length-1);return i!=="}"&&i!=="]"?(console.log(`Truncation detected: JSON doesn't end with } or ], ends with: "${i}"`),!0):!1}detectTruncatedResponse(n){const r=n.trim().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),i=[/"[^"]*$/,/\w+$/,/:\s*$/,/,\s*$/,!r.endsWith("}"),!r.endsWith("]"),r.length<500];for(let a=0;a<i.length-1;a++){const s=i[a];if(s instanceof RegExp&&s.test(r))return!0}return!!(i[i.length-3]||i[i.length-2]||i[i.length-1])}attemptJSONRepair(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const f=d.trim();f.startsWith("//")||f.includes("... (Continue")||f.includes("continue structuring")||f.includes("similarly")||i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,u=(t.match(/\]/g)||[]).length;for(let d=0;d<a-s;d++)t+="}";for(let d=0;d<l-u;d++)t+="]";return t}fallbackJSONExtraction(n){console.log("Attempting fallback JSON extraction...");let t=n.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();t=t.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const r=t.indexOf("{");if(r===-1)throw new Error("No JSON object found in response");t=t.substring(r);const i=[/}\s*$/m,/}\s*\n\s*[A-Z]/m,/}\s*\n\s*This/m,/}\s*\n\s*Note:/m];let a=-1;for(const l of i){const u=t.match(l);if(u&&u.index!==void 0){const d=u.index+u[0].indexOf("}")+1;(a===-1||d<a)&&(a=d)}}a>0&&(t=t.substring(0,a));const s=this.attemptJSONRepair(t);try{return JSON.parse(s),s}catch{return console.log("Attempting aggressive JSON repair..."),this.aggressiveJSONRepair(t)}}aggressiveJSONRepair(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const f=d.trim();if(f.startsWith("//")||f.includes("... (")||f.includes("continue")||f.includes("similarly")||f.includes("Remember to")||f.includes("This structure")||f.length>0&&!f.includes('"')&&!f.includes("{")&&!f.includes("}")&&!f.includes("[")&&!f.includes("]"))break;i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,u=(t.match(/\]/g)||[]).length;for(let d=0;d<a-s;d++)t+=`
}`;for(let d=0;d<l-u;d++)t+=`
]`;return t=t.replace(/,(\s*[}\]])/g,"$1"),t}repairTruncatedJSON(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const f=d.trim();if(f.length===0){i.push(d);continue}if(f.match(/^"[^"]*$/)){i.push('"": ""');break}if(f.match(/:\s*"[^"]*$/)){i.push(f.replace(/:\s*"[^"]*$/,': ""'));break}if(f.match(/^[a-zA-Z]+\w*$/))break;i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1"),t=t.replace(/,\s*$/,"");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,u=(t.match(/\]/g)||[]).length;console.log(`JSON structure analysis: ${a} open braces, ${s} close braces, ${l} open brackets, ${u} close brackets`);for(let d=0;d<l-u;d++)t+=`
]`;for(let d=0;d<a-s;d++)t+=`
}`;return t=t.replace(/,(\s*[}\]])/g,"$1"),console.log("Repaired JSON (first 1000 chars):",t.substring(0,1e3)),t}getFileTypeContext(n){const t=n.toLowerCase();return t.includes("presentation")||t.includes("powerpoint")||t.includes("pptx")?"presentation slide deck":t.includes("pdf")?"PDF document":t.includes("word")||t.includes("docx")?"Word document":"document"}validateAndSanitizeMaterialResponse(n,t,r){var a,s,l,u,d;const i={title:n.title||t.replace(/\.[^/.]+$/,"")||"Untitled Material",description:n.description||"",header:{title:((a=n.header)==null?void 0:a.title)||"Introduction",content:((s=n.header)==null?void 0:s.content)||""},footer:{title:((l=n.footer)==null?void 0:l.title)||"Summary",content:((u=n.footer)==null?void 0:u.content)||""},sections:[],sourceInfo:{fileName:t,fileType:r,extractedAt:new Date().toISOString(),originalFileReference:((d=n.sourceInfo)==null?void 0:d.originalFileReference)||t},images:Array.isArray(n.images)?n.images:[],links:Array.isArray(n.links)?n.links:[]};return Array.isArray(n.sections)&&(i.sections=n.sections.map(f=>({title:f.title||"Section",content:f.content||"",subsections:Array.isArray(f.subsections)?f.subsections.map(g=>({title:g.title||"Subsection",content:g.content||"",subSubsections:Array.isArray(g.subSubsections)?g.subSubsections.map(b=>({title:b.title||"Sub-subsection",content:b.content||"",images:Array.isArray(b.images)?b.images:[],links:Array.isArray(b.links)?b.links:[]})):[],images:Array.isArray(g.images)?g.images:[],links:Array.isArray(g.links)?g.links:[]})):[],images:Array.isArray(f.images)?f.images:[],links:Array.isArray(f.links)?f.links:[]}))),i.sections.length===0&&i.sections.push({title:"Main Content",content:"Content extracted from the uploaded material.",subsections:[],images:[],links:[]}),i}convertToMaterialFormat(n,t,r,i){const a=(u,d=400,f=300)=>{const g=u.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30),b=`
        <svg width="${d}" height="${f}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${g}
          </text>
        </svg>
      `;try{return`data:image/svg+xml;base64,${btoa(b)}`}catch(m){return console.error("Failed to create placeholder image URL:",m),`data:image/svg+xml,${encodeURIComponent(b)}`}},s=u=>{const d=new Map;i!=null&&i.images&&i.images.forEach(m=>{m.slideNumber&&m.imageBlob&&(d.has(m.slideNumber)||d.set(m.slideNumber,[]),d.get(m.slideNumber).push(m))});const f=new Map,g=(u==null?void 0:u.map((m,x)=>{let y="";if(m.slideNumber&&d.has(m.slideNumber)){const w=d.get(m.slideNumber);f.has(m.slideNumber)||f.set(m.slideNumber,new Set);const C=f.get(m.slideNumber);let N=null;if(m.title||m.description){const R=(m.title||m.description).toLowerCase();N=w.find(F=>{const q=(F.description||"").toLowerCase();return!C.has(F.embedId||"")&&q.includes(R.split(" ")[0])})||null}if(N||(N=w.find(R=>!C.has(R.embedId||""))||null),!N&&w.length>0){const R=x%w.length;N=w[R]}N!=null&&N.imageBlob&&(N.embedId&&C.add(N.embedId),y=this.createTrackedBlobUrl(N.imageBlob),console.log(`Using extracted image blob for slide ${m.slideNumber} (${C.size}/${w.length}):`,{slideNumber:m.slideNumber,imageIndex:x,embedId:N.embedId,blobSize:N.imageBlob.size,blobType:N.imageBlob.type,matchedBy:N.description||"position"}))}y||(m.url&&m.url.trim()&&(m.url.startsWith("data:")||m.url.startsWith("http"))&&!m.url.includes("placeholder_image")?y=m.url:y=a(m.title||"Image"));const A={url:y,title:m.title||m.description||"Detected Image"};return console.log("Enhanced image (preview):",A),A}))||[],b=Array.from(d.values()).reduce((m,x)=>m+x.length,0);return console.log(`Enhanced ${g.length} images for material preview (${b} extracted images available across ${d.size} slides)`),g},l=u=>{var d;return{id:Ri(),title:u.title,content:u.content,subsections:((d=u.subsections)==null?void 0:d.map(f=>{var g;return{id:Ri(),title:f.title,content:f.content,subSubsections:((g=f.subSubsections)==null?void 0:g.map(b=>({id:Ri(),title:b.title,content:b.content,images:s(b.images||[]),links:b.links||[]})))||[],images:s(f.images||[]),links:f.links||[]}}))||[],images:s(u.images||[]),links:u.links||[]}};return{course:t,title:n.title,header:n.header,footer:n.footer,sections:n.sections.map(l),author:r,published:!1,sourceInfo:n.sourceInfo}}async convertToMaterialFormatWithImageUpload(n,t,r,i,a,s){var m;let l=[];if(a!=null&&a.images)try{console.log(` Starting image upload process for ${a.images.length} extracted images...`),console.log(" Image metadata:",a.images.map(x=>{var y;return{slideNumber:x.slideNumber,description:x.description,hasBlob:!!x.imageBlob,blobSize:(y=x.imageBlob)==null?void 0:y.size}})),l=await UF(a.images,i,s),console.log(` Successfully uploaded ${l.length} images to Firebase Storage`),console.log(" Uploaded image URLs:",l.map(x=>({title:x.title,url:x.url.substring(0,100)+"...",slideNumber:x.slideNumber})))}catch(x){console.error(" Failed to upload extracted images:",x)}else console.log(" No images to upload - extractionMetadata.images is empty or undefined");const u=(x,y=400,A=300)=>{const w=x.substring(0,30),C=`
        <svg width="${y}" height="${A}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${w}
          </text>
        </svg>
      `;return`data:image/svg+xml;base64,${btoa(C)}`},d=x=>{const y=new Map;l.forEach(C=>{C.slideNumber&&(y.has(C.slideNumber)||y.set(C.slideNumber,[]),y.get(C.slideNumber).push(C))});const A=new Set,w=(x==null?void 0:x.map((C,N)=>{let R=null;if(C.slideNumber&&y.has(C.slideNumber)){const q=y.get(C.slideNumber);if(R=q.find(k=>!A.has(k.url))||null,!R&&q.length>0){const k=N%q.length;R=q[k]}}if(!R){const q=(C.title||C.description||"").toLowerCase().split(" ");R=l.find(k=>{if(A.has(k.url))return!1;const L=k.title.toLowerCase().split(" ");return q.some(B=>B.length>3&&L.some(X=>X.includes(B)))})||null}if(R||(R=l.find(q=>!A.has(q.url))||null),!R&&l.length>0){const q=N%l.length;R=l[q]}R&&A.add(R.url);const F={url:(R==null?void 0:R.url)||(C.url&&C.url.trim()?C.url:u(C.title||"Image")),title:(R==null?void 0:R.title)||C.title||C.description||"Detected Image"};return console.log("Enhanced image with upload:",{...F,url:F.url.substring(0,100)+"...",isUploaded:!!R,imageIndex:N,originalSlideNumber:C.slideNumber,matchedSlideNumber:R==null?void 0:R.slideNumber,matchStrategy:R?R.slideNumber===C.slideNumber?"slideNumber":F.title.includes(C.title||"")?"title":"sequential":"placeholder",usedCount:A.size,totalAvailable:l.length}),F}))||[];return console.log(`Enhanced ${w.length} images for material (${l.length} uploaded, ${A.size} used)`),w},f=x=>{var y;return{id:Ri(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[],subsections:((y=x.subsections)==null?void 0:y.map(g))||[]}},g=x=>{var y;return{id:Ri(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[],subSubsections:((y=x.subSubsections)==null?void 0:y.map(b))||[]}},b=x=>({id:Ri(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[]});return{course:t,title:n.title,header:n.header||{title:"",content:""},footer:n.footer||{title:"",content:""},sections:((m=n.sections)==null?void 0:m.map(f))||[],author:r,published:!1,scheduledTimestamp:null}}}let by=null;const tS=e=>{const n=e||"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0";if(!by&&n&&(by=new $F(n)),!by)throw new Error("Material Import service not initialized. Please configure VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.");return by},HF=async e=>{try{const n=await Li(()=>import("./pdf-VQKGuvxX.js"),[]),t="/nexlab";n.GlobalWorkerOptions.workerSrc=`${t}/js/pdf.worker.min.js`;const r=await e.arrayBuffer(),i=await n.getDocument({data:r}).promise,a=i.numPages;let s="";for(let l=1;l<=a;l++){const f=(await(await i.getPage(l)).getTextContent()).items.filter(g=>g&&typeof g.str=="string").map(g=>g.str).join(" ").trim();f&&(s+=f+`

`)}return{text:s.trim(),metadata:{pageCount:a,wordCount:s.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"PDF.js"}}}catch(n){throw{message:"Failed to extract text from PDF file. Please ensure the PDF contains selectable text.",code:"PDF_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},WF=async e=>{try{const n=await Li(()=>import("./index-B_2D3zlq.js").then(i=>i.i),__vite__mapDeps([0,1])),t=await e.arrayBuffer(),r=await n.extractRawText({arrayBuffer:t});return r.messages&&r.messages.length>0&&console.warn("DOCX extraction warnings:",r.messages),{text:r.value.trim(),metadata:{wordCount:r.value.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"Mammoth"}}}catch(n){throw{message:"Failed to extract text from Word document. Please ensure the file is not corrupted.",code:"DOCX_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},VF=async e=>{var n,t;try{const r=(await Li(async()=>{const{default:g}=await import("./index-CZYWMsg6.js").then(b=>b.i);return{default:g}},__vite__mapDeps([2,1]))).default,i=await e.arrayBuffer(),a=new r(i);let s="",l=0;const u=[],d=Object.keys(a.files).filter(g=>g.startsWith("ppt/slides/slide")&&g.endsWith(".xml"));l=d.length;for(const g of d)try{const b=a.files[g].asText(),m=parseInt(((n=g.match(/slide(\d+)\.xml/))==null?void 0:n[1])||"0"),x=b.matchAll(/<a:blip[^>]*r:embed="([^"]*)"[^>]*>/g);for(const w of x){const C=w[1],N=b.match(new RegExp('<p:cNvPr[^>]*name="([^"]*)"[^>]*>',"i")),R=b.match(new RegExp('<p:cNvPr[^>]*descr="([^"]*)"[^>]*>',"i")),F=b.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();let q=`Image on slide ${m}`;const k=["chart","graph","diagram","figure","table","photo","image","illustration","screenshot","logo","flowchart","timeline","comparison","data","results","example","structure","process"],L=F.toLowerCase().split(/\s+/),B=k.filter(j=>L.some(O=>O.includes(j)));if(B.length>0)q=`${B[0].charAt(0).toUpperCase()+B[0].slice(1)} (Slide ${m})`;else if(F.length>0){const j=L.slice(0,3).join(" ");j.length>5&&(q=`Image: ${j}... (Slide ${m})`)}let X;try{const j=`ppt/slides/_rels/slide${m}.xml.rels`;if(a.files[j]){const P=a.files[j].asText().match(new RegExp(`Id="${C}"[^>]*Target="([^"]*)"`,"i"));if(P){const T=P[1],G=T.startsWith("../")?`ppt/${T.substring(3)}`:`ppt/slides/${T}`;if(a.files[G]){const W=a.files[G].asUint8Array();let K="image/jpeg";const ie=G.toLowerCase();if(ie.includes(".png"))K="image/png";else if(ie.includes(".gif"))K="image/gif";else if(ie.includes(".bmp"))K="image/bmp";else if(ie.includes(".webp"))K="image/webp";else if(ie.includes(".emf")||ie.includes(".wmf")){console.warn(`Skipping unsupported vector image format: ${G}`);continue}X=new Blob([W],{type:K}),console.log(`Extracted image blob for slide ${m}:`,{size:X.size,type:K,path:G})}}}}catch(j){console.warn(`Failed to extract image blob for ${C} on slide ${m}:`,j)}u.push({slideNumber:m,description:(N==null?void 0:N[1])||q,altText:(R==null?void 0:R[1])||void 0,filename:C,embedId:C,imageBlob:X})}const y=b.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();y&&(s+=`
--- Slide ${m} ---
${y}
`);const A=u.filter(w=>w.slideNumber===m);A.length>0&&(s+=`
[IMAGES ON SLIDE ${m}]: `,A.forEach(w=>{s+=`"${w.description}"${w.altText?` (${w.altText})`:""}, `}),s=s.slice(0,-2)+`
`)}catch(b){console.warn(`Failed to extract text from ${g}:`,b)}const f=Object.keys(a.files).filter(g=>g.startsWith("ppt/notesSlides/notesSlide")&&g.endsWith(".xml"));for(const g of f)try{const m=a.files[g].asText().replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();if(m){const x=((t=g.match(/notesSlide(\d+)\.xml/))==null?void 0:t[1])||"unknown";s+=`
--- Notes for Slide ${x} ---
${m}
`}}catch(b){console.warn(`Failed to extract notes from ${g}:`,b)}if(!s.trim())throw new Error("No text content found in PowerPoint file");return{text:s.trim(),metadata:{slideCount:l,wordCount:s.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"PizZip",images:u.length>0?u:void 0}}}catch(r){throw{message:"Failed to extract text from PowerPoint file. Please ensure the file is not corrupted and contains text content.",code:"PPTX_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},YF=async e=>{try{const n=await e.text();return{text:n.trim(),metadata:{wordCount:n.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"Native"}}}catch(n){throw{message:"Failed to extract text from text file",code:"TXT_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},QT=async e=>{if(!e)throw{message:"No file provided",code:"NO_FILE_ERROR"};const n=e.type.toLowerCase(),t=e.name.toLowerCase();try{if(n==="application/pdf"||t.endsWith(".pdf"))return await HF(e);if(n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||t.endsWith(".docx"))return await WF(e);if(n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||t.endsWith(".pptx"))return await VF(e);if(n==="text/plain"||t.endsWith(".txt"))return await YF(e);throw{message:`Unsupported file format: ${n||"unknown"}. Supported formats: PDF (.pdf), Word (.docx), PowerPoint (.pptx), Text (.txt)`,code:"UNSUPPORTED_FORMAT_ERROR"}}catch(r){throw r&&typeof r=="object"&&"code"in r?r:{message:`Failed to extract text from ${e.name}`,code:"GENERIC_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},KT=e=>{const t=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain"],r=[".pdf",".docx",".pptx",".txt"];if(e.size>524288e3)return{isValid:!1,error:`File size (${(e.size/1024/1024).toFixed(1)}MB) exceeds the maximum limit of 500MB.`};const i=e.type.toLowerCase(),a=e.name.toLowerCase(),s=t.includes(i),l=r.some(u=>a.endsWith(u));return!s&&!l?{isValid:!1,error:`Unsupported file format. Please upload files with extensions: ${r.join(", ")}`}:{isValid:!0}},XT=e=>{const n=e.type.toLowerCase(),t=e.name.toLowerCase();return n==="application/pdf"||t.endsWith(".pdf")?"PDF Document":n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||t.endsWith(".docx")?"Word Document":n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||t.endsWith(".pptx")?"PowerPoint Presentation":n==="text/plain"||t.endsWith(".txt")?"Text File":"Unknown Format"},GF=e=>{const n=e.size/1048576,t=e.type.toLowerCase();let r=0;return t==="application/pdf"?r=Math.max(2,n*.5):t==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?r=Math.max(1,n*.3):t==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?r=Math.max(1.5,n*.4):r=Math.max(.5,n*.1),Math.round(r)};class QF{constructor(){et(this,"storage",yp());et(this,"DEFAULT_CHUNK_SIZE",5*1024*1024);et(this,"DEFAULT_MAX_RETRIES",3);et(this,"DEFAULT_TIMEOUT",6e4)}async uploadLargeFile(n,t,r={}){const i=Date.now(),{chunkSize:a=this.DEFAULT_CHUNK_SIZE,maxRetries:s=this.DEFAULT_MAX_RETRIES,timeoutMs:l=this.DEFAULT_TIMEOUT,onProgress:u,onChunkComplete:d}=r,f=500*1024*1024;if(n.size>f)throw new Error(`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`);if(!(n.size>a))return this.uploadStandardFile(n,t,u);console.log(` Starting chunked upload for ${n.name} (${(n.size/1024/1024).toFixed(1)}MB)`),u==null||u({stage:"preparing",percentage:0,bytesUploaded:0,totalBytes:n.size,currentOperation:"Preparing file for chunked upload..."});const b=this.createChunkMetadata(n,a),m=Ri(),x=`${t}_chunks_${m}`;u==null||u({stage:"preparing",percentage:5,totalChunks:b.length,bytesUploaded:0,totalBytes:n.size,currentOperation:`Created ${b.length} chunks for upload...`});try{await this.uploadChunks(n,b,x,{maxRetries:s,timeoutMs:l,onProgress:w=>{const C=this.calculateOverallProgress(b,w);u==null||u({stage:"uploading",percentage:5+C*.85,currentChunk:w.currentChunk,totalChunks:b.length,bytesUploaded:w.bytesUploaded,totalBytes:n.size,currentOperation:w.currentOperation,estimatedTimeRemaining:this.estimateTimeRemaining(i,C)})},onChunkComplete:d}),u==null||u({stage:"assembling",percentage:90,totalChunks:b.length,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Assembling chunks into final file..."});const y=await this.assembleChunks(n,b,t,m);u==null||u({stage:"completed",percentage:100,totalChunks:b.length,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Upload completed successfully!"});const A=Date.now()-i;return console.log(` Chunked upload completed in ${(A/1e3).toFixed(1)}s`),{...y,chunks:b.length,uploadTime:A}}catch(y){throw console.error(" Chunked upload failed:",y),await this.cleanupFailedUpload(b),y}}createChunkMetadata(n,t){const r=[];let i=0;for(;i<n.size;){const a=Math.min(i+t,n.size);r.push({index:r.length,size:a-i,start:i,end:a,retries:0}),i=a}return r}async uploadChunks(n,t,r,i){const{maxRetries:a,timeoutMs:s,onProgress:l,onChunkComplete:u}=i;let d=0;const f=3;for(let g=0;g<t.length;g+=f){const m=t.slice(g,Math.min(g+f,t.length)).map(async x=>{const y=n.slice(x.start,x.end),A=`${r}/chunk_${x.index.toString().padStart(4,"0")}`;let w=null;for(let C=0;C<=a;C++)try{l==null||l({currentChunk:x.index+1,bytesUploaded:d,currentOperation:`Uploading chunk ${x.index+1}/${t.length} (attempt ${C+1})`});const N=await this.uploadSingleChunk(y,A,s);x.uploadUrl=N.url,x.uploadPath=N.path,d+=x.size,u==null||u(x.index,t.length),console.log(` Chunk ${x.index+1}/${t.length} uploaded successfully`);return}catch(N){w=N,x.retries=C+1,C<a&&(console.warn(` Chunk ${x.index+1} failed (attempt ${C+1}), retrying...`),await this.delay(Math.pow(2,C)*1e3))}throw new Error(`Failed to upload chunk ${x.index+1} after ${a+1} attempts: ${w==null?void 0:w.message}`)});await Promise.all(m),g+f<t.length&&await this.delay(500)}}async uploadSingleChunk(n,t,r){const i=vc(this.storage,t),a=async()=>{const l=await Yf(i,n);return{url:await Gf(l.ref),path:l.ref.fullPath}},s=new Promise((l,u)=>{setTimeout(()=>u(new Error(`Chunk upload timeout after ${r}ms`)),r)});return Promise.race([a(),s])}async assembleChunks(n,t,r,i){const a=await this.reconstructFileFromChunks(n,t),s=vc(this.storage,r),l=await Yf(s,a),u=await Gf(l.ref);return await this.cleanupChunks(t),{url:u,path:l.ref.fullPath,name:n.name,type:n.type,size:n.size,uploadedAt:new Date}}async reconstructFileFromChunks(n,t){const r=[];for(const i of t.sort((a,s)=>a.index-s.index))r.push(n.slice(i.start,i.end));return new Blob(r,{type:n.type})}async uploadStandardFile(n,t,r){const i=Date.now(),a=vc(this.storage,t);r==null||r({stage:"uploading",percentage:10,bytesUploaded:0,totalBytes:n.size,currentOperation:"Uploading file..."});const s=await Yf(a,n);r==null||r({stage:"uploading",percentage:90,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Getting download URL..."});const l=await Gf(s.ref);r==null||r({stage:"completed",percentage:100,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Upload completed!"});const u=Date.now()-i;return{url:l,path:s.ref.fullPath,name:n.name,type:n.type,size:n.size,uploadedAt:new Date,chunks:1,uploadTime:u}}calculateOverallProgress(n,t){const r=n.filter(a=>a.uploadUrl).length,i=t.currentChunk?t.bytesUploaded/n.reduce((a,s)=>a+s.size,0):0;return(r+i)/n.length}estimateTimeRemaining(n,t){if(t<=0)return 0;const r=Date.now()-n,i=r/t;return Math.max(0,i-r)}async cleanupChunks(n){const t=n.filter(r=>r.uploadPath).map(async r=>{try{const i=vc(this.storage,r.uploadPath);await mT(i)}catch(i){console.warn(`Failed to cleanup chunk ${r.index}:`,i)}});await Promise.allSettled(t)}async cleanupFailedUpload(n){console.log(" Cleaning up failed chunked upload..."),await this.cleanupChunks(n)}delay(n){return new Promise(t=>setTimeout(t,n))}validateFileForChunkedUpload(n){return n.size>524288e3?{isValid:!1,error:`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(n.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${n.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const G_=new QF;class KF{constructor(){et(this,"storage",yp())}async uploadOriginalFile(n,t,r,i){return n.size>26214400?(console.log(` File is large (${(n.size/1024/1024).toFixed(1)}MB), using chunked upload`),this.uploadOriginalFileEnhanced(n,t,r,i?s=>i(s.percentage):void 0)):this.uploadOriginalFileStandard(n,t,r,i)}async uploadOriginalFileEnhanced(n,t,r,i){const a=G_.validateFileForChunkedUpload(n);if(!a.isValid)throw new Error(a.error);const s=n.name.split(".").pop()||"",l=r||Ri(),u=`${n.name.replace(/\.[^/.]+$/,"")}_${l}.${s}`,d=`original-files/${t}/${u}`;console.log(" Starting enhanced original file upload:",{fileName:u,fileSize:n.size,fileType:n.type,courseId:t,chunked:!0});try{const f=await G_.uploadLargeFile(n,d,{chunkSize:5242880,maxRetries:3,timeoutMs:6e4,onProgress:i,onChunkComplete:(b,m)=>{console.log(` Chunk ${b+1}/${m} completed`)}}),g={name:n.name,type:n.type,size:n.size,url:f.url,uploadedAt:new Date};return console.log(" Enhanced original file uploaded successfully:",{originalName:n.name,storageName:u,url:f.url,size:n.size,chunks:f.chunks,uploadTime:`${(f.uploadTime/1e3).toFixed(1)}s`}),g}catch(f){throw console.error(" Enhanced original file upload failed:",f),new Error(`Failed to upload original file: ${f instanceof Error?f.message:"Unknown error"}`)}}async uploadOriginalFileStandard(n,t,r,i){try{const a=n.name.split(".").pop()||"",s=r||Ri(),l=`${n.name.replace(/\.[^/.]+$/,"")}_${s}.${a}`,u=vc(this.storage,`original-files/${t}/${l}`);console.log(" Starting original file upload:",{fileName:l,fileSize:n.size,fileType:n.type,courseId:t}),i==null||i(10);const d=await Yf(u,n);i==null||i(70);const f=await Gf(d.ref);i==null||i(100);const g={name:n.name,type:n.type,size:n.size,url:f,uploadedAt:new Date};return console.log(" Original file uploaded successfully:",{originalName:n.name,storageName:l,url:f,size:n.size}),g}catch(a){throw console.error(" Original file upload failed:",a),new Error(`Failed to upload original file: ${a instanceof Error?a.message:"Unknown error"}`)}}async deleteOriginalFile(n){try{const r=new URL(n).pathname.match(/\/o\/(.+?)\?/);if(!r)throw new Error("Invalid Firebase Storage URL format");const i=decodeURIComponent(r[1]),a=vc(this.storage,i);await mT(a),console.log(" Original file deleted successfully:",i)}catch(t){console.error(" Original file deletion failed:",t),console.warn("Continuing despite file deletion failure")}}async replaceOriginalFile(n,t,r,i,a){try{return i&&await this.deleteOriginalFile(i),await this.uploadOriginalFile(n,t,r,a)}catch(s){throw console.error(" Original file replacement failed:",s),new Error(`Failed to replace original file: ${s instanceof Error?s.message:"Unknown error"}`)}}getFileExtension(n){var t;return((t=n.split(".").pop())==null?void 0:t.toLowerCase())||""}validateFile(n){return n.size>524288e3?{isValid:!1,error:`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(n.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${n.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const L5=new KF,Q_={isProcessing:!1,progress:null,error:null,uploadedFile:null,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,processingOptions:{maxOutputTokens:4096,topK:1,topP:.1,preserveFormatting:!0,extractImages:!0,extractLinks:!0}},Nd=xp()(Wg((e,n)=>({...Q_,setUploadedFile:t=>{const{originalFileUrl:r}=n();r&&t&&t.name!==r&&L5.deleteOriginalFile(r).catch(i=>{console.warn("Failed to delete previous original file:",i)}),e({uploadedFile:t,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,error:null})},extractTextFromFile:async()=>{const{uploadedFile:t}=n();if(!t){e({error:"No file uploaded"});return}try{const r=KT(t);if(!r.isValid){e({error:r.error||"Invalid file"});return}}catch(r){console.error("File validation error:",r),e({error:"Failed to validate file"});return}e({isProcessing:!0,error:null,progress:{stage:"extracting",percentage:10,currentOperation:`Extracting text from ${XT(t)}...`}});try{const r=await QT(t);if(!r||!r.text||r.text.trim().length===0)throw new Error("No text content could be extracted from the file");const i=r.text.trim().split(/\s+/).length;i<5&&console.warn("Very short text extracted:",{wordCount:i,text:r.text.substring(0,100)}),e({extractedText:r.text,extractionResult:r,progress:{stage:"extracting",percentage:100,currentOperation:"Text extraction complete!"}}),setTimeout(()=>{e({isProcessing:!1,progress:null})},500)}catch(r){console.error("Text extraction error:",r);const i=r;let a="Failed to extract text from file";i.code==="PDF_EXTRACTION_ERROR"?a="Could not extract text from PDF. The file may be image-based or corrupted.":i.code==="DOCX_EXTRACTION_ERROR"?a="Could not extract text from Word document. Please check the file is not corrupted.":i.code==="PPTX_EXTRACTION_ERROR"?a="Could not extract text from PowerPoint presentation. Please ensure it contains text content.":i.message&&(a=i.message),e({error:a,isProcessing:!1,progress:null})}},processWithAI:async(t,r,i)=>{var f;const{uploadedFile:a,extractedText:s,extractionResult:l,processingOptions:u}=n();if(!(t!=null&&t.trim())){e({error:"Course ID is required for AI processing"});return}if(!(r!=null&&r.trim())){e({error:"Author ID is required for AI processing"});return}if(!a||!(s!=null&&s.trim())){e({error:"No file or extracted text available for AI processing"});return}const d=s.trim().split(/\s+/).length;if(d<10){e({error:"Extracted text is too short for meaningful AI processing (minimum 10 words required)"});return}d>5e4&&console.warn("Very large text content detected:",{wordCount:d,fileName:a.name}),e({isProcessing:!0,error:null,progress:{stage:"analyzing",percentage:0,currentOperation:"Initializing AI processing..."}});try{let g;try{g=tS(i)}catch(w){console.error("Service initialization error:",w);let C="Material import service not available.";w instanceof Error&&(w.message.includes("API key")?C="API key not configured. Please set VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.":C=`Service error: ${w.message}`),e({error:C,isProcessing:!1,progress:null});return}const b={maxOutputTokens:Math.min(Math.max(u.maxOutputTokens||16384,8192),32768),topK:Math.min(Math.max(u.topK||3,1),10),topP:Math.min(Math.max(u.topP||.9,.1),1),preserveFormatting:!!u.preserveFormatting,extractImages:!!u.extractImages,extractLinks:!!u.extractLinks},m=12e4,x=new Promise((w,C)=>{setTimeout(()=>C(new Error("AI processing timeout - please try with a smaller file")),m)}),y=await Promise.race([g.processMaterialContent(s,a.name,a.type,b,w=>{w&&typeof w=="object"&&e({progress:w})},l==null?void 0:l.metadata),x]);if(!y||typeof y!="object")throw new Error("Invalid AI processing result received");(f=y.title)!=null&&f.trim()||(console.warn("AI result missing title, using filename as fallback"),y.title=a.name.replace(/\.[^/.]+$/,"")||"Untitled Material"),(!y.sections||!Array.isArray(y.sections)||y.sections.length===0)&&(console.warn("AI result missing sections, creating default section"),y.sections=[{title:"Main Content",content:"Content extracted from uploaded material.",subsections:[],images:[],links:[]}]);const A=g.convertToMaterialFormat(y,t,r,l==null?void 0:l.metadata);e({aiExtractedData:y,convertedMaterial:A,isProcessing:!1,progress:{stage:"complete",percentage:100,currentOperation:"Material processing complete!"}}),setTimeout(()=>{e({progress:null})},1500)}catch(g){console.error("AI processing error:",g);let b="Failed to process material with AI";g instanceof Error&&(g.message.includes("timeout")?b="AI processing timed out. Please try with a smaller file or simpler content.":g.message.includes("API key")||g.message.includes("API_KEY_INVALID")?b="Invalid API key. Please check your API key configuration.":g.message.includes("RATE_LIMIT")||g.message.includes("rate limit")?b="API rate limit exceeded. Please wait a few minutes before trying again.":g.message.includes("SAFETY")||g.message.includes("safety")?b="Content flagged by safety filters. Please try with different content.":g.message.includes("network")||g.message.includes("fetch")?b="Network error. Please check your internet connection and try again.":b=`AI processing failed: ${g.message}`),e({error:b,isProcessing:!1,progress:null})}},uploadOriginalFile:async(t,r)=>{const{uploadedFile:i}=n();if(!i){e({error:"No file selected for upload"});return}try{e({originalFileUploadProgress:0,error:null});const a=i.size>25*1024*1024,s=(i.size/1024/1024).toFixed(1);console.log(` Starting original file upload to Firebase Storage... (${s}MB, ${a?"chunked":"standard"} upload)`);const l=await L5.uploadOriginalFile(i,t,r,u=>{e({originalFileUploadProgress:u})});e({originalFileUrl:l.url,originalFileUploadProgress:null}),console.log(" Original file uploaded successfully:",{url:l.url,size:`${s}MB`,method:a?"chunked":"standard"})}catch(a){throw console.error(" Original file upload failed:",a),e({error:a instanceof Error?a.message:"Failed to upload original file",originalFileUploadProgress:null}),a}},replaceOriginalFile:async(t,r,i)=>{const{uploadedFile:a}=n();if(!a){e({error:"No file selected for replacement"});return}try{e({originalFileUploadProgress:0,error:null}),console.log(" Replacing original file in Firebase Storage...");const s=await L5.replaceOriginalFile(a,t,r,i,l=>{e({originalFileUploadProgress:l})});e({originalFileUrl:s.url,originalFileUploadProgress:null}),console.log(" Original file replaced successfully:",s.url)}catch(s){throw console.error(" Original file replacement failed:",s),e({error:s instanceof Error?s.message:"Failed to replace original file",originalFileUploadProgress:null}),s}},resetImport:()=>{try{tS().cleanupBlobUrls()}catch(t){console.warn("Failed to cleanup blob URLs during reset:",t)}e(Q_)},setProcessingOptions:t=>{e(r=>({processingOptions:{...r.processingOptions,...t}}))},setError:t=>{e({error:t})}}),{name:"material-import-store",partialize:e=>({processingOptions:e.processingOptions})})),XF=()=>{const e=Nd();return{setUploadedFile:e.setUploadedFile,extractTextFromFile:e.extractTextFromFile,processWithAI:e.processWithAI,resetImport:e.resetImport,setProcessingOptions:e.setProcessingOptions,setError:e.setError}},ZF=()=>{const e=Nd();return{isProcessing:e.isProcessing,progress:e.progress,error:e.error,uploadedFile:e.uploadedFile,extractedText:e.extractedText,aiExtractedData:e.aiExtractedData,convertedMaterial:e.convertedMaterial,processingOptions:e.processingOptions}},nS=async(e,n,t,r)=>{const i=Nd.getState(),{aiExtractedData:a,extractionResult:s}=i;if(!a)throw new Error("No AI result available for conversion");return await tS().convertToMaterialFormatWithImageUpload(a,e,n,t,s==null?void 0:s.metadata,r)},JF=()=>{const{extractedText:e,isProcessing:n}=Nd();return!n&&!!(e!=null&&e.trim())},eP=()=>{const{convertedMaterial:e,isProcessing:n}=Nd();return!n&&!!e},Che=Object.freeze(Object.defineProperty({__proto__:null,convertMaterialWithImageUpload:nS,useIsImportComplete:eP,useIsReadyForAI:JF,useMaterialImportActions:XF,useMaterialImportStatus:ZF,useMaterialImportStore:Nd},Symbol.toStringTag,{value:"Module"})),R5=({onDelete:e,itemType:n})=>{const[t,r]=at.useState(!1),i=()=>{r(!0)},a=()=>{r(!1)},s=()=>{e(),a()};return h.jsxs(h.Fragment,{children:[h.jsx(On,{onClick:i,size:"small",children:h.jsx(qT,{})}),h.jsxs(Ki,{open:t,onClose:a,children:[h.jsx(fa,{children:`Delete ${n}`}),h.jsx(Xi,{children:h.jsx(Ml,{children:`Are you sure you want to delete this ${n}? This action cannot be undone.`})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:a,color:"primary",children:"Cancel"}),h.jsx(At,{onClick:s,color:"secondary",children:"Delete"})]})]})]})},ZT=({sections:e,selected:n,onAddSection:t,onAddSubsection:r,onAddSubSubsection:i,onSelectSection:a,onUpdateSectionTitle:s,onUpdateSubsectionTitle:l,onUpdateSubSubsectionTitle:u,onDeleteSection:d,onDeleteSubsection:f,onDeleteSubSubsection:g,isViewMode:b=!1})=>{const[m,x]=Q.useState(null),[y,A]=Q.useState(null),[w,C]=Q.useState(null),[N,R]=Q.useState(""),[F,q]=Q.useState(e.map(()=>!0)),[k,L]=Q.useState(e.reduce(($,ae,U)=>($[U]=ae.subsections.map(()=>!0),$),{}));Q.useEffect(()=>{q(e.map(()=>!0))},[e]),Q.useEffect(()=>{const $=e.reduce((ae,U,z)=>(ae[z]=U.subsections.map(()=>!0),ae),{});L($)},[e]);const B=$=>{const ae=[...F];ae[$]=!ae[$],q(ae)},X=($,ae)=>{const U={...k};U[$][ae]=!U[$][ae],L(U)},j=($,ae)=>{m!==null?s(m,N):y?l(y.section,y.subsection,N):w&&u(w.section,w.subsection,w.subSubsection,N),x($),A(null),C(null),R(ae)},O=$=>{s($,N),x(null),R("")},P=($,ae,U)=>{m!==null?s(m,N):y?l(y.section,y.subsection,N):w&&u(w.section,w.subsection,w.subSubsection,N),x(null),A({section:$,subsection:ae}),C(null),R(U)},T=($,ae)=>{l($,ae,N),A(null),R("")},G=($,ae,U,z)=>{m!==null?s(m,N):y?l(y.section,y.subsection,N):w&&u(w.section,w.subsection,w.subSubsection,N),x(null),A(null),C({section:$,subsection:ae,subSubsection:U}),R(z)},W=($,ae,U)=>{u($,ae,U,N),C(null),R("")},K=($,ae,U,z)=>n.sectionIndex===$&&n.subsectionIndex===ae&&n.subSubsectionIndex===U&&n.type===z,ue=CM||{width:"320px",minWidth:"320px",maxWidth:"320px",backgroundColor:"#F8FAFC",borderRight:"1px solid #E2E8F0"};return h.jsxs(fe,{sx:{width:ue.width,minWidth:ue.minWidth,maxWidth:ue.maxWidth,backgroundColor:ue.backgroundColor,borderRight:ue.borderRight,height:"100%",display:"flex",flexDirection:"column"},children:[h.jsxs(fe,{sx:{p:3,pb:2},children:[h.jsxs(de,{variant:"h6",sx:{fontFamily:ft.typography.h6.fontFamily,fontWeight:ft.typography.h6.fontWeight,color:ft.palette.text.primary,mb:2,display:"flex",alignItems:"center",gap:1},children:[h.jsx(aR,{sx:{fontSize:20}}),"Outline"]}),!b&&h.jsx(At,{variant:"contained",startIcon:h.jsx(bu,{}),onClick:t,sx:{width:"100%",borderRadius:Rt.xl,textTransform:"none",fontWeight:600},children:"Add Section"})]}),h.jsx(es,{}),h.jsx(fe,{sx:{flex:1,overflow:"auto"},children:h.jsxs(zf,{sx:{p:0},children:[h.jsx(wd,{onClick:()=>a("header"),sx:{cursor:"pointer",backgroundColor:K(void 0,void 0,void 0,"header")?ft.palette.primary.light:"transparent",borderLeft:K(void 0,void 0,void 0,"header")?`4px solid ${ft.palette.primary.main}`:"4px solid transparent",transition:ft.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ft.palette.action.hover}},children:h.jsx(Ol,{primary:"Header",sx:{"& .MuiListItemText-primary":{fontFamily:ft.typography.body1.fontFamily,fontWeight:K(void 0,void 0,void 0,"header")?600:400,color:K(void 0,void 0,void 0,"header")?ft.palette.primary.main:ft.palette.text.primary}}})}),e.map(($,ae)=>h.jsxs(fe,{children:[h.jsx(wd,{onClick:()=>a(ae),sx:{cursor:"pointer",backgroundColor:K(ae)?ft.palette.primary.light:"transparent",borderLeft:K(ae)?`4px solid ${ft.palette.primary.main}`:"4px solid transparent",transition:ft.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ft.palette.action.hover}},children:m===ae?h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[h.jsx(Ut,{value:N,onChange:U=>R(U.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&h.jsx(On,{onClick:()=>O(ae),size:"small",color:"primary",children:h.jsx(R0,{})})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ol,{primary:$.title,sx:{"& .MuiListItemText-primary":{fontFamily:ft.typography.body1.fontFamily,fontWeight:K(ae)?600:400,color:K(ae)?ft.palette.primary.main:ft.palette.text.primary}}}),!b&&h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:.5},children:[h.jsx(Si,{title:"Edit Section",arrow:!0,children:h.jsx(On,{onClick:U=>{U.stopPropagation(),j(ae,$.title)},size:"small",sx:{color:ft.palette.primary.main},children:h.jsx(xu,{fontSize:"small"})})}),h.jsx(R5,{onDelete:()=>d(ae),itemType:"section"})]}),$.subsections.length>0&&h.jsx(On,{onClick:U=>{U.stopPropagation(),B(ae)},size:"small",sx:{ml:1},children:F[ae]?h.jsx(lg,{fontSize:"small"}):h.jsx(Wo,{fontSize:"small"})}),!b&&h.jsx(Si,{title:"Add Subsection",arrow:!0,children:h.jsx(On,{onClick:U=>{U.stopPropagation(),r(ae)},size:"small",sx:{color:ft.palette.success.main},children:h.jsx(bu,{fontSize:"small"})})})]})}),h.jsx(og,{in:F[ae],timeout:"auto",unmountOnExit:!0,children:h.jsx(zf,{sx:{pl:2},children:$.subsections.map((U,z)=>h.jsxs(fe,{children:[h.jsx(wd,{onClick:()=>a(ae,z),sx:{cursor:"pointer",backgroundColor:K(ae,z)?ft.palette.primary.light:"transparent",borderLeft:K(ae,z)?`4px solid ${ft.palette.primary.main}`:"4px solid transparent",transition:ft.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ft.palette.action.hover}},children:y&&y.section===ae&&y.subsection===z?h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[h.jsx(Ut,{value:N,onChange:Z=>R(Z.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&h.jsx(On,{onClick:()=>T(ae,z),size:"small",color:"primary",children:h.jsx(R0,{})})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ol,{primary:U.title,sx:{"& .MuiListItemText-primary":{fontFamily:ft.typography.body2.fontFamily,fontWeight:K(ae,z)?600:400,color:K(ae,z)?ft.palette.primary.main:ft.palette.text.primary}}}),!b&&h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:.5},children:[h.jsx(Si,{title:"Edit Subsection",arrow:!0,children:h.jsx(On,{onClick:Z=>{Z.stopPropagation(),P(ae,z,U.title)},size:"small",sx:{color:ft.palette.primary.main},children:h.jsx(xu,{fontSize:"small"})})}),h.jsx(R5,{onDelete:()=>f(ae,z),itemType:"subsection"})]}),U.subSubsections.length>0&&h.jsx(On,{onClick:Z=>{Z.stopPropagation(),X(ae,z)},size:"small",sx:{ml:1},children:k[ae][z]?h.jsx(lg,{fontSize:"small"}):h.jsx(Wo,{fontSize:"small"})}),!b&&h.jsx(Si,{title:"Add Sub-subsection",arrow:!0,children:h.jsx(On,{onClick:Z=>{Z.stopPropagation(),i(ae,z)},size:"small",sx:{color:ft.palette.success.main},children:h.jsx(bu,{fontSize:"small"})})})]})}),h.jsx(og,{in:k[ae][z],timeout:"auto",unmountOnExit:!0,children:h.jsx(zf,{sx:{pl:2},children:U.subSubsections.map((Z,ee)=>h.jsx(wd,{onClick:()=>a(ae,z,ee),sx:{cursor:"pointer",backgroundColor:K(ae,z,ee)?ft.palette.primary.light:"transparent",borderLeft:K(ae,z,ee)?`4px solid ${ft.palette.primary.main}`:"4px solid transparent",transition:ft.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ft.palette.action.hover}},children:w&&w.section===ae&&w.subsection===z&&w.subSubsection===ee?h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[h.jsx(Ut,{value:N,onChange:se=>R(se.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&h.jsx(On,{onClick:()=>W(ae,z,ee),size:"small",color:"primary",children:h.jsx(R0,{})})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ol,{primary:Z.title,sx:{"& .MuiListItemText-primary":{fontFamily:ft.typography.body2.fontFamily,fontWeight:K(ae,z,ee)?600:400,color:K(ae,z,ee)?ft.palette.primary.main:ft.palette.text.secondary,fontSize:"0.875rem"}}}),!b&&h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:.5},children:[h.jsx(Si,{title:"Edit Sub-subsection",arrow:!0,children:h.jsx(On,{onClick:se=>{se.stopPropagation(),G(ae,z,ee,Z.title)},size:"small",sx:{color:ft.palette.primary.main},children:h.jsx(xu,{fontSize:"small"})})}),h.jsx(R5,{onDelete:()=>g(ae,z,ee),itemType:"subSubsection"})]})]})},Z.id))})})]},U.id))})})]},$.id)),h.jsx(wd,{onClick:()=>a("footer"),sx:{cursor:"pointer",backgroundColor:K(void 0,void 0,void 0,"footer")?ft.palette.primary.light:"transparent",borderLeft:K(void 0,void 0,void 0,"footer")?`4px solid ${ft.palette.primary.main}`:"4px solid transparent",transition:ft.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ft.palette.action.hover}},children:h.jsx(Ol,{primary:"Footer",sx:{"& .MuiListItemText-primary":{fontFamily:ft.typography.body1.fontFamily,fontWeight:K(void 0,void 0,void 0,"footer")?600:400,color:K(void 0,void 0,void 0,"footer")?ft.palette.primary.main:ft.palette.text.primary}}})})]})})]})},tP=({returnToSelection:e=!1,courseId:n})=>{const t=ma(),[r]=$g(),i=r.get("course"),a=()=>{const s=n||i;t(e||!s?"/supplemental-materials":`/supplemental-materials?course=${s}`)};return h.jsx(At,{variant:"text",color:"primary",startIcon:h.jsx(DT,{}),onClick:a,className:"supplemental-back-button",children:e?"Course Selection":"Course Materials"})},nP=({sectionId:e,images:n,onImagesChange:t})=>{const[r,i]=Q.useState(!1),[a,s]=Q.useState(""),[l,u]=Q.useState("success"),[d,f]=Q.useState(null),[g,b]=Q.useState(""),m=yp(),x=async R=>{if(R.target.files){const F=Array.from(R.target.files),q=[];for(const k of F)try{const L=await C(k),B=await N(L);q.push({url:B.url,title:`Image ${n.length+q.length+1}`,id:Ri()})}catch{s("Failed to upload images"),u("error"),i(!0)}t([...n,...q]),s("Image(s) uploaded successfully"),u("success"),i(!0)}},y=R=>{f(R),b(R.title)},A=()=>{if(d){const R=n.map(F=>F.url===d.url?{...F,title:g}:F);t(R),f(null),b("")}},w=R=>{const F=n.filter(q=>q.url!==R.url);t(F)},C=R=>new Promise((F,q)=>{R.size>5*1024*1024?GT.imageFileResizer(R,500,500,"JPEG",70,0,k=>{typeof k=="string"?q(new Error("Compression returned a string instead of a file")):F(k)},"file"):F(R)}),N=R=>new Promise((F,q)=>{const k=vc(m,`materials/${e}/${R.name}`);Yf(k,R).then(L=>{Gf(L.ref).then(B=>{F({url:B,path:L.ref.fullPath})})}).catch(L=>q(L))});return h.jsxs(fe,{children:[h.jsxs(fe,{sx:{display:"flex",alignItems:"center",mb:2},children:[h.jsx(sR,{sx:{mr:1,color:ft.palette.primary.main}}),h.jsx(de,{variant:"h6",sx:{fontWeight:600,color:ft.palette.text.primary},children:"Images"}),h.jsx(cr,{label:`${n.length} image${n.length!==1?"s":""}`,size:"small",sx:{ml:2}})]}),h.jsxs(At,{variant:"contained",component:"label",startIcon:h.jsx(bu,{}),sx:{mb:3,textTransform:"none",borderRadius:Rt.xl},children:["Add Images",h.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:x})]}),n.length>0&&h.jsx(xt,{container:!0,spacing:2,children:n.map((R,F)=>h.jsx(xt,{item:!0,xs:12,sm:6,md:4,children:h.jsxs(Xa,{sx:{borderRadius:Rt.xl,border:`1px solid ${ft.palette.divider}`,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:ft.shadows[4],transform:"translateY(-2px)"}},children:[h.jsxs(fe,{sx:{position:"relative"},children:[h.jsx("img",{src:R.url,alt:R.title,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:`${Rt.xl} ${Rt.xl} 0 0`}}),h.jsxs(fe,{sx:{position:"absolute",top:8,right:8,display:"flex",gap:.5},children:[h.jsx(On,{size:"small",onClick:()=>y(R),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:ft.palette.primary.main,color:"white"}},children:h.jsx(xu,{fontSize:"small"})}),h.jsx(On,{size:"small",onClick:()=>w(R),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:ft.palette.error.main,color:"white"}},children:h.jsx(Sd,{fontSize:"small"})})]})]}),h.jsx(Za,{sx:{p:2},children:h.jsx(de,{variant:"body2",sx:{fontWeight:500,color:ft.palette.text.primary,wordBreak:"break-word"},children:R.title})})]})},R.id||F))}),h.jsxs(Ki,{open:!!d,onClose:()=>f(null),maxWidth:"sm",fullWidth:!0,children:[h.jsx(fa,{sx:{pb:1},children:h.jsxs(fe,{sx:{display:"flex",alignItems:"center"},children:[h.jsx(xu,{sx:{mr:1,color:ft.palette.primary.main}}),"Edit Image Title"]})}),h.jsx(Xi,{children:h.jsx(Ut,{fullWidth:!0,label:"Image Title",value:g,onChange:R=>b(R.target.value),variant:"outlined",sx:{mt:2}})}),h.jsxs(ha,{sx:{p:3,pt:1},children:[h.jsx(At,{onClick:()=>f(null),startIcon:h.jsx(N6,{}),sx:{textTransform:"none"},children:"Cancel"}),h.jsx(At,{onClick:A,variant:"contained",startIcon:h.jsx(R0,{}),sx:{textTransform:"none"},children:"Save Changes"})]})]}),h.jsx(nl,{open:r,autoHideDuration:6e3,onClose:()=>i(!1),children:h.jsx(vr,{onClose:()=>i(!1),severity:l,sx:{width:"100%"},children:a})})]})},rP=({links:e,onLinksChange:n})=>{const t=()=>{const s={title:"",url:"",description:""};n([...e,s])},r=s=>{const l=e.filter((u,d)=>d!==s);n(l)},i=(s,l,u)=>{const d=[...e];d[s][l]=u,n(d)},a=s=>{try{return new URL(s),!0}catch{return!1}};return h.jsxs(fe,{children:[h.jsxs(fe,{sx:{display:"flex",alignItems:"center",mb:2},children:[h.jsx(oR,{sx:{mr:1,color:ft.palette.primary.main}}),h.jsx(de,{variant:"h6",sx:{fontWeight:600,color:ft.palette.text.primary},children:"Links"}),h.jsx(cr,{label:`${e.length} link${e.length!==1?"s":""}`,size:"small",sx:{ml:2}})]}),h.jsx(At,{variant:"contained",onClick:t,startIcon:h.jsx(bu,{}),sx:{mb:3,textTransform:"none",borderRadius:Rt.xl},children:"Add Link"}),e.length>0&&h.jsx(fe,{sx:{display:"flex",flexDirection:"column",gap:2},children:e.map((s,l)=>h.jsxs(Xa,{sx:{borderRadius:Rt.xl,border:`1px solid ${ft.palette.divider}`,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:ft.shadows[2]}},children:[h.jsx(Za,{sx:{p:3},children:h.jsxs(xt,{container:!0,spacing:2,children:[h.jsx(xt,{item:!0,xs:12,sm:6,children:h.jsx(Ut,{fullWidth:!0,label:"Link Title",value:s.title,onChange:u=>i(l,"title",u.target.value),variant:"outlined",size:"small",placeholder:"Enter link title",sx:{"& .MuiOutlinedInput-root":{borderRadius:Rt.xl}}})}),h.jsx(xt,{item:!0,xs:12,sm:6,children:h.jsx(Ut,{fullWidth:!0,label:"URL",value:s.url,onChange:u=>i(l,"url",u.target.value),variant:"outlined",size:"small",placeholder:"https://example.com",error:s.url&&!a(s.url),helperText:s.url&&!a(s.url)?"Please enter a valid URL":"",sx:{"& .MuiOutlinedInput-root":{borderRadius:Rt.xl}}})}),h.jsx(xt,{item:!0,xs:12,children:h.jsx(Ut,{fullWidth:!0,label:"Description (Optional)",value:s.description,onChange:u=>i(l,"description",u.target.value),variant:"outlined",size:"small",multiline:!0,rows:2,placeholder:"Enter link description",sx:{"& .MuiOutlinedInput-root":{borderRadius:Rt.xl}}})})]})}),h.jsx(es,{}),h.jsxs(tT,{sx:{p:2,justifyContent:"space-between"},children:[h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.url&&a(s.url)&&h.jsx(Si,{title:"Open link",arrow:!0,children:h.jsx(On,{size:"small",onClick:()=>window.open(s.url,"_blank"),sx:{color:ft.palette.primary.main,"&:hover":{backgroundColor:ft.palette.primary.light}},children:h.jsx(lR,{fontSize:"small"})})}),h.jsxs(de,{variant:"caption",color:"text.secondary",children:["Link ",l+1]})]}),h.jsx(Si,{title:"Delete link",arrow:!0,children:h.jsx(On,{size:"small",onClick:()=>r(l),sx:{color:ft.palette.error.main,"&:hover":{backgroundColor:ft.palette.error.light}},children:h.jsx(Sd,{fontSize:"small"})})})]})]},l))})]})};var JT=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,iP=typeof self=="object"&&self&&self.Object===Object&&self,Bc=JT||iP||Function("return this")(),eh=Bc.Symbol,e7=Object.prototype,aP=e7.hasOwnProperty,sP=e7.toString,y1=eh?eh.toStringTag:void 0;function oP(e){var n=aP.call(e,y1),t=e[y1];try{e[y1]=void 0;var r=!0}catch{}var i=sP.call(e);return r&&(n?e[y1]=t:delete e[y1]),i}var lP=Object.prototype,uP=lP.toString;function cP(e){return uP.call(e)}var dP="[object Null]",fP="[object Undefined]",K_=eh?eh.toStringTag:void 0;function fm(e){return e==null?e===void 0?fP:dP:K_&&K_ in Object(e)?oP(e):cP(e)}function Rd(e){return e!=null&&typeof e=="object"}var cp=Array.isArray;function ch(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function t7(e){return e}var hP="[object AsyncFunction]",pP="[object Function]",mP="[object GeneratorFunction]",gP="[object Proxy]";function z6(e){if(!ch(e))return!1;var n=fm(e);return n==pP||n==mP||n==hP||n==gP}var M5=Bc["__core-js_shared__"],X_=function(){var e=/[^.]+$/.exec(M5&&M5.keys&&M5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function bP(e){return!!X_&&X_ in e}var yP=Function.prototype,xP=yP.toString;function Sp(e){if(e!=null){try{return xP.call(e)}catch{}try{return e+""}catch{}}return""}var vP=/[\\^$.*+?()[\]{}|]/g,wP=/^\[object .+?Constructor\]$/,SP=Function.prototype,AP=Object.prototype,CP=SP.toString,EP=AP.hasOwnProperty,_P=RegExp("^"+CP.call(EP).replace(vP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kP(e){if(!ch(e)||bP(e))return!1;var n=z6(e)?_P:wP;return n.test(Sp(e))}function NP(e,n){return e==null?void 0:e[n]}function Ap(e,n){var t=NP(e,n);return kP(t)?t:void 0}var rS=Ap(Bc,"WeakMap"),Z_=Object.create,jP=function(){function e(){}return function(n){if(!ch(n))return{};if(Z_)return Z_(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}();function TP(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}function OP(e,n){var t=-1,r=e.length;for(n||(n=Array(r));++t<r;)n[t]=e[t];return n}var IP=800,DP=16,LP=Date.now;function RP(e){var n=0,t=0;return function(){var r=LP(),i=DP-(r-t);if(t=r,i>0){if(++n>=IP)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function MP(e){return function(){return e}}var jx=function(){try{var e=Ap(Object,"defineProperty");return e({},"",{}),e}catch{}}(),FP=jx?function(e,n){return jx(e,"toString",{configurable:!0,enumerable:!1,value:MP(n),writable:!0})}:t7,PP=RP(FP);function zP(e,n){for(var t=-1,r=e==null?0:e.length;++t<r&&n(e[t],t,e)!==!1;);return e}var qP=9007199254740991,BP=/^(?:0|[1-9]\d*)$/;function n7(e,n){var t=typeof e;return n=n??qP,!!n&&(t=="number"||t!="symbol"&&BP.test(e))&&e>-1&&e%1==0&&e<n}function q6(e,n,t){n=="__proto__"&&jx?jx(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function Yg(e,n){return e===n||e!==e&&n!==n}var UP=Object.prototype,$P=UP.hasOwnProperty;function r7(e,n,t){var r=e[n];(!($P.call(e,n)&&Yg(r,t))||t===void 0&&!(n in e))&&q6(e,n,t)}function HP(e,n,t,r){var i=!t;t||(t={});for(var a=-1,s=n.length;++a<s;){var l=n[a],u=void 0;u===void 0&&(u=e[l]),i?q6(t,l,u):r7(t,l,u)}return t}var J_=Math.max;function WP(e,n,t){return n=J_(n===void 0?e.length-1:n,0),function(){for(var r=arguments,i=-1,a=J_(r.length-n,0),s=Array(a);++i<a;)s[i]=r[n+i];i=-1;for(var l=Array(n+1);++i<n;)l[i]=r[i];return l[n]=t(s),TP(e,this,l)}}function VP(e,n){return PP(WP(e,n,t7),e+"")}var YP=9007199254740991;function i7(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=YP}function gv(e){return e!=null&&i7(e.length)&&!z6(e)}function GP(e,n,t){if(!ch(t))return!1;var r=typeof n;return(r=="number"?gv(t)&&n7(n,t.length):r=="string"&&n in t)?Yg(t[n],e):!1}function QP(e){return VP(function(n,t){var r=-1,i=t.length,a=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,s&&GP(t[0],t[1],s)&&(a=i<3?void 0:a,i=1),n=Object(n);++r<i;){var l=t[r];l&&e(n,l,r,a)}return n})}var KP=Object.prototype;function B6(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||KP;return e===t}function XP(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}var ZP="[object Arguments]";function ek(e){return Rd(e)&&fm(e)==ZP}var a7=Object.prototype,JP=a7.hasOwnProperty,ez=a7.propertyIsEnumerable,iS=ek(function(){return arguments}())?ek:function(e){return Rd(e)&&JP.call(e,"callee")&&!ez.call(e,"callee")};function tz(){return!1}var s7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,tk=s7&&typeof module=="object"&&module&&!module.nodeType&&module,nz=tk&&tk.exports===s7,nk=nz?Bc.Buffer:void 0,rz=nk?nk.isBuffer:void 0,mg=rz||tz,iz="[object Arguments]",az="[object Array]",sz="[object Boolean]",oz="[object Date]",lz="[object Error]",uz="[object Function]",cz="[object Map]",dz="[object Number]",fz="[object Object]",hz="[object RegExp]",pz="[object Set]",mz="[object String]",gz="[object WeakMap]",bz="[object ArrayBuffer]",yz="[object DataView]",xz="[object Float32Array]",vz="[object Float64Array]",wz="[object Int8Array]",Sz="[object Int16Array]",Az="[object Int32Array]",Cz="[object Uint8Array]",Ez="[object Uint8ClampedArray]",_z="[object Uint16Array]",kz="[object Uint32Array]",di={};di[xz]=di[vz]=di[wz]=di[Sz]=di[Az]=di[Cz]=di[Ez]=di[_z]=di[kz]=!0;di[iz]=di[az]=di[bz]=di[sz]=di[yz]=di[oz]=di[lz]=di[uz]=di[cz]=di[dz]=di[fz]=di[hz]=di[pz]=di[mz]=di[gz]=!1;function Nz(e){return Rd(e)&&i7(e.length)&&!!di[fm(e)]}function U6(e){return function(n){return e(n)}}var o7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,X1=o7&&typeof module=="object"&&module&&!module.nodeType&&module,jz=X1&&X1.exports===o7,F5=jz&&JT.process,J0=function(){try{var e=X1&&X1.require&&X1.require("util").types;return e||F5&&F5.binding&&F5.binding("util")}catch{}}(),rk=J0&&J0.isTypedArray,$6=rk?U6(rk):Nz,Tz=Object.prototype,Oz=Tz.hasOwnProperty;function l7(e,n){var t=cp(e),r=!t&&iS(e),i=!t&&!r&&mg(e),a=!t&&!r&&!i&&$6(e),s=t||r||i||a,l=s?XP(e.length,String):[],u=l.length;for(var d in e)(n||Oz.call(e,d))&&!(s&&(d=="length"||i&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||n7(d,u)))&&l.push(d);return l}function u7(e,n){return function(t){return e(n(t))}}var Iz=u7(Object.keys,Object),Dz=Object.prototype,Lz=Dz.hasOwnProperty;function Rz(e){if(!B6(e))return Iz(e);var n=[];for(var t in Object(e))Lz.call(e,t)&&t!="constructor"&&n.push(t);return n}function Mz(e){return gv(e)?l7(e):Rz(e)}function Fz(e){var n=[];if(e!=null)for(var t in Object(e))n.push(t);return n}var Pz=Object.prototype,zz=Pz.hasOwnProperty;function qz(e){if(!ch(e))return Fz(e);var n=B6(e),t=[];for(var r in e)r=="constructor"&&(n||!zz.call(e,r))||t.push(r);return t}function c7(e){return gv(e)?l7(e,!0):qz(e)}var gg=Ap(Object,"create");function Bz(){this.__data__=gg?gg(null):{},this.size=0}function Uz(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var $z="__lodash_hash_undefined__",Hz=Object.prototype,Wz=Hz.hasOwnProperty;function Vz(e){var n=this.__data__;if(gg){var t=n[e];return t===$z?void 0:t}return Wz.call(n,e)?n[e]:void 0}var Yz=Object.prototype,Gz=Yz.hasOwnProperty;function Qz(e){var n=this.__data__;return gg?n[e]!==void 0:Gz.call(n,e)}var Kz="__lodash_hash_undefined__";function Xz(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=gg&&n===void 0?Kz:n,this}function dp(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}dp.prototype.clear=Bz;dp.prototype.delete=Uz;dp.prototype.get=Vz;dp.prototype.has=Qz;dp.prototype.set=Xz;function Zz(){this.__data__=[],this.size=0}function bv(e,n){for(var t=e.length;t--;)if(Yg(e[t][0],n))return t;return-1}var Jz=Array.prototype,eq=Jz.splice;function tq(e){var n=this.__data__,t=bv(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():eq.call(n,t,1),--this.size,!0}function nq(e){var n=this.__data__,t=bv(n,e);return t<0?void 0:n[t][1]}function rq(e){return bv(this.__data__,e)>-1}function iq(e,n){var t=this.__data__,r=bv(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}function Hd(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Hd.prototype.clear=Zz;Hd.prototype.delete=tq;Hd.prototype.get=nq;Hd.prototype.has=rq;Hd.prototype.set=iq;var bg=Ap(Bc,"Map");function aq(){this.size=0,this.__data__={hash:new dp,map:new(bg||Hd),string:new dp}}function sq(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function yv(e,n){var t=e.__data__;return sq(n)?t[typeof n=="string"?"string":"hash"]:t.map}function oq(e){var n=yv(this,e).delete(e);return this.size-=n?1:0,n}function lq(e){return yv(this,e).get(e)}function uq(e){return yv(this,e).has(e)}function cq(e,n){var t=yv(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}function Cp(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Cp.prototype.clear=aq;Cp.prototype.delete=oq;Cp.prototype.get=lq;Cp.prototype.has=uq;Cp.prototype.set=cq;function dq(e,n){for(var t=-1,r=n.length,i=e.length;++t<r;)e[i+t]=n[t];return e}var d7=u7(Object.getPrototypeOf,Object),fq="[object Object]",hq=Function.prototype,pq=Object.prototype,f7=hq.toString,mq=pq.hasOwnProperty,gq=f7.call(Object);function bq(e){if(!Rd(e)||fm(e)!=fq)return!1;var n=d7(e);if(n===null)return!0;var t=mq.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&f7.call(t)==gq}function yq(){this.__data__=new Hd,this.size=0}function xq(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function vq(e){return this.__data__.get(e)}function wq(e){return this.__data__.has(e)}var Sq=200;function Aq(e,n){var t=this.__data__;if(t instanceof Hd){var r=t.__data__;if(!bg||r.length<Sq-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new Cp(r)}return t.set(e,n),this.size=t.size,this}function Cc(e){var n=this.__data__=new Hd(e);this.size=n.size}Cc.prototype.clear=yq;Cc.prototype.delete=xq;Cc.prototype.get=vq;Cc.prototype.has=wq;Cc.prototype.set=Aq;var h7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ik=h7&&typeof module=="object"&&module&&!module.nodeType&&module,Cq=ik&&ik.exports===h7,ak=Cq?Bc.Buffer:void 0,sk=ak?ak.allocUnsafe:void 0;function p7(e,n){if(n)return e.slice();var t=e.length,r=sk?sk(t):new e.constructor(t);return e.copy(r),r}function Eq(e,n){for(var t=-1,r=e==null?0:e.length,i=0,a=[];++t<r;){var s=e[t];n(s,t,e)&&(a[i++]=s)}return a}function _q(){return[]}var kq=Object.prototype,Nq=kq.propertyIsEnumerable,ok=Object.getOwnPropertySymbols,jq=ok?function(e){return e==null?[]:(e=Object(e),Eq(ok(e),function(n){return Nq.call(e,n)}))}:_q;function Tq(e,n,t){var r=n(e);return cp(e)?r:dq(r,t(e))}function aS(e){return Tq(e,Mz,jq)}var sS=Ap(Bc,"DataView"),oS=Ap(Bc,"Promise"),lS=Ap(Bc,"Set"),lk="[object Map]",Oq="[object Object]",uk="[object Promise]",ck="[object Set]",dk="[object WeakMap]",fk="[object DataView]",Iq=Sp(sS),Dq=Sp(bg),Lq=Sp(oS),Rq=Sp(lS),Mq=Sp(rS),gu=fm;(sS&&gu(new sS(new ArrayBuffer(1)))!=fk||bg&&gu(new bg)!=lk||oS&&gu(oS.resolve())!=uk||lS&&gu(new lS)!=ck||rS&&gu(new rS)!=dk)&&(gu=function(e){var n=fm(e),t=n==Oq?e.constructor:void 0,r=t?Sp(t):"";if(r)switch(r){case Iq:return fk;case Dq:return lk;case Lq:return uk;case Rq:return ck;case Mq:return dk}return n});var Fq=Object.prototype,Pq=Fq.hasOwnProperty;function zq(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&Pq.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var Tx=Bc.Uint8Array;function H6(e){var n=new e.constructor(e.byteLength);return new Tx(n).set(new Tx(e)),n}function qq(e,n){var t=H6(e.buffer);return new e.constructor(t,e.byteOffset,e.byteLength)}var Bq=/\w*$/;function Uq(e){var n=new e.constructor(e.source,Bq.exec(e));return n.lastIndex=e.lastIndex,n}var hk=eh?eh.prototype:void 0,pk=hk?hk.valueOf:void 0;function $q(e){return pk?Object(pk.call(e)):{}}function m7(e,n){var t=n?H6(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Hq="[object Boolean]",Wq="[object Date]",Vq="[object Map]",Yq="[object Number]",Gq="[object RegExp]",Qq="[object Set]",Kq="[object String]",Xq="[object Symbol]",Zq="[object ArrayBuffer]",Jq="[object DataView]",eB="[object Float32Array]",tB="[object Float64Array]",nB="[object Int8Array]",rB="[object Int16Array]",iB="[object Int32Array]",aB="[object Uint8Array]",sB="[object Uint8ClampedArray]",oB="[object Uint16Array]",lB="[object Uint32Array]";function uB(e,n,t){var r=e.constructor;switch(n){case Zq:return H6(e);case Hq:case Wq:return new r(+e);case Jq:return qq(e);case eB:case tB:case nB:case rB:case iB:case aB:case sB:case oB:case lB:return m7(e,t);case Vq:return new r;case Yq:case Kq:return new r(e);case Gq:return Uq(e);case Qq:return new r;case Xq:return $q(e)}}function g7(e){return typeof e.constructor=="function"&&!B6(e)?jP(d7(e)):{}}var cB="[object Map]";function dB(e){return Rd(e)&&gu(e)==cB}var mk=J0&&J0.isMap,fB=mk?U6(mk):dB,hB="[object Set]";function pB(e){return Rd(e)&&gu(e)==hB}var gk=J0&&J0.isSet,mB=gk?U6(gk):pB,gB=1,b7="[object Arguments]",bB="[object Array]",yB="[object Boolean]",xB="[object Date]",vB="[object Error]",y7="[object Function]",wB="[object GeneratorFunction]",SB="[object Map]",AB="[object Number]",x7="[object Object]",CB="[object RegExp]",EB="[object Set]",_B="[object String]",kB="[object Symbol]",NB="[object WeakMap]",jB="[object ArrayBuffer]",TB="[object DataView]",OB="[object Float32Array]",IB="[object Float64Array]",DB="[object Int8Array]",LB="[object Int16Array]",RB="[object Int32Array]",MB="[object Uint8Array]",FB="[object Uint8ClampedArray]",PB="[object Uint16Array]",zB="[object Uint32Array]",ii={};ii[b7]=ii[bB]=ii[jB]=ii[TB]=ii[yB]=ii[xB]=ii[OB]=ii[IB]=ii[DB]=ii[LB]=ii[RB]=ii[SB]=ii[AB]=ii[x7]=ii[CB]=ii[EB]=ii[_B]=ii[kB]=ii[MB]=ii[FB]=ii[PB]=ii[zB]=!0;ii[vB]=ii[y7]=ii[NB]=!1;function Xy(e,n,t,r,i,a){var s,l=n&gB;if(s!==void 0)return s;if(!ch(e))return e;var u=cp(e);if(u)s=zq(e);else{var d=gu(e),f=d==y7||d==wB;if(mg(e))return p7(e,l);if(d==x7||d==b7||f&&!i)s=f?{}:g7(e);else{if(!ii[d])return i?e:{};s=uB(e,d,l)}}a||(a=new Cc);var g=a.get(e);if(g)return g;a.set(e,s),mB(e)?e.forEach(function(x){s.add(Xy(x,n,t,x,e,a))}):fB(e)&&e.forEach(function(x,y){s.set(y,Xy(x,n,t,y,e,a))});var b=aS,m=u?void 0:b(e);return zP(m||e,function(x,y){m&&(y=x,x=e[y]),r7(s,y,Xy(x,n,t,y,e,a))}),s}var qB=1,BB=4;function M0(e){return Xy(e,qB|BB)}var UB="__lodash_hash_undefined__";function $B(e){return this.__data__.set(e,UB),this}function HB(e){return this.__data__.has(e)}function Ox(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new Cp;++n<t;)this.add(e[n])}Ox.prototype.add=Ox.prototype.push=$B;Ox.prototype.has=HB;function WB(e,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}function VB(e,n){return e.has(n)}var YB=1,GB=2;function v7(e,n,t,r,i,a){var s=t&YB,l=e.length,u=n.length;if(l!=u&&!(s&&u>l))return!1;var d=a.get(e),f=a.get(n);if(d&&f)return d==n&&f==e;var g=-1,b=!0,m=t&GB?new Ox:void 0;for(a.set(e,n),a.set(n,e);++g<l;){var x=e[g],y=n[g];if(r)var A=s?r(y,x,g,n,e,a):r(x,y,g,e,n,a);if(A!==void 0){if(A)continue;b=!1;break}if(m){if(!WB(n,function(w,C){if(!VB(m,C)&&(x===w||i(x,w,t,r,a)))return m.push(C)})){b=!1;break}}else if(!(x===y||i(x,y,t,r,a))){b=!1;break}}return a.delete(e),a.delete(n),b}function QB(e){var n=-1,t=Array(e.size);return e.forEach(function(r,i){t[++n]=[i,r]}),t}function KB(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t}var XB=1,ZB=2,JB="[object Boolean]",eU="[object Date]",tU="[object Error]",nU="[object Map]",rU="[object Number]",iU="[object RegExp]",aU="[object Set]",sU="[object String]",oU="[object Symbol]",lU="[object ArrayBuffer]",uU="[object DataView]",bk=eh?eh.prototype:void 0,P5=bk?bk.valueOf:void 0;function cU(e,n,t,r,i,a,s){switch(t){case uU:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case lU:return!(e.byteLength!=n.byteLength||!a(new Tx(e),new Tx(n)));case JB:case eU:case rU:return Yg(+e,+n);case tU:return e.name==n.name&&e.message==n.message;case iU:case sU:return e==n+"";case nU:var l=QB;case aU:var u=r&XB;if(l||(l=KB),e.size!=n.size&&!u)return!1;var d=s.get(e);if(d)return d==n;r|=ZB,s.set(e,n);var f=v7(l(e),l(n),r,i,a,s);return s.delete(e),f;case oU:if(P5)return P5.call(e)==P5.call(n)}return!1}var dU=1,fU=Object.prototype,hU=fU.hasOwnProperty;function pU(e,n,t,r,i,a){var s=t&dU,l=aS(e),u=l.length,d=aS(n),f=d.length;if(u!=f&&!s)return!1;for(var g=u;g--;){var b=l[g];if(!(s?b in n:hU.call(n,b)))return!1}var m=a.get(e),x=a.get(n);if(m&&x)return m==n&&x==e;var y=!0;a.set(e,n),a.set(n,e);for(var A=s;++g<u;){b=l[g];var w=e[b],C=n[b];if(r)var N=s?r(C,w,b,n,e,a):r(w,C,b,e,n,a);if(!(N===void 0?w===C||i(w,C,t,r,a):N)){y=!1;break}A||(A=b=="constructor")}if(y&&!A){var R=e.constructor,F=n.constructor;R!=F&&"constructor"in e&&"constructor"in n&&!(typeof R=="function"&&R instanceof R&&typeof F=="function"&&F instanceof F)&&(y=!1)}return a.delete(e),a.delete(n),y}var mU=1,yk="[object Arguments]",xk="[object Array]",yy="[object Object]",gU=Object.prototype,vk=gU.hasOwnProperty;function bU(e,n,t,r,i,a){var s=cp(e),l=cp(n),u=s?xk:gu(e),d=l?xk:gu(n);u=u==yk?yy:u,d=d==yk?yy:d;var f=u==yy,g=d==yy,b=u==d;if(b&&mg(e)){if(!mg(n))return!1;s=!0,f=!1}if(b&&!f)return a||(a=new Cc),s||$6(e)?v7(e,n,t,r,i,a):cU(e,n,u,t,r,i,a);if(!(t&mU)){var m=f&&vk.call(e,"__wrapped__"),x=g&&vk.call(n,"__wrapped__");if(m||x){var y=m?e.value():e,A=x?n.value():n;return a||(a=new Cc),i(y,A,t,r,a)}}return b?(a||(a=new Cc),pU(e,n,t,r,i,a)):!1}function w7(e,n,t,r,i){return e===n?!0:e==null||n==null||!Rd(e)&&!Rd(n)?e!==e&&n!==n:bU(e,n,t,r,w7,i)}function yU(e){return function(n,t,r){for(var i=-1,a=Object(n),s=r(n),l=s.length;l--;){var u=s[++i];if(t(a[u],u,a)===!1)break}return n}}var xU=yU();function uS(e,n,t){(t!==void 0&&!Yg(e[n],t)||t===void 0&&!(n in e))&&q6(e,n,t)}function vU(e){return Rd(e)&&gv(e)}function cS(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}function wU(e){return HP(e,c7(e))}function SU(e,n,t,r,i,a,s){var l=cS(e,t),u=cS(n,t),d=s.get(u);if(d){uS(e,t,d);return}var f=a?a(l,u,t+"",e,n,s):void 0,g=f===void 0;if(g){var b=cp(u),m=!b&&mg(u),x=!b&&!m&&$6(u);f=u,b||m||x?cp(l)?f=l:vU(l)?f=OP(l):m?(g=!1,f=p7(u,!0)):x?(g=!1,f=m7(u,!0)):f=[]:bq(u)||iS(u)?(f=l,iS(l)?f=wU(l):(!ch(l)||z6(l))&&(f=g7(u))):g=!1}g&&(s.set(u,f),i(f,u,r,a,s),s.delete(u)),uS(e,t,f)}function S7(e,n,t,r,i){e!==n&&xU(n,function(a,s){if(i||(i=new Cc),ch(a))SU(e,n,s,t,S7,r,i);else{var l=r?r(cS(e,s),a,s+"",e,n,i):void 0;l===void 0&&(l=a),uS(e,s,l)}},c7)}function Mf(e,n){return w7(e,n)}var Kf=QP(function(e,n,t){S7(e,n,t)}),Wt=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(Wt||{});class Fc{constructor(n,t,r={}){this.attrName=n,this.keyName=t;const i=Wt.TYPE&Wt.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Wt.LEVEL|i:Wt.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(n){return Array.from(n.attributes).map(t=>t.name)}add(n,t){return this.canAdd(n,t)?(n.setAttribute(this.keyName,t),!0):!1}canAdd(n,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(n){n.removeAttribute(this.keyName)}value(n){const t=n.getAttribute(this.keyName);return this.canAdd(n,t)&&t?t:""}}class F0 extends Error{constructor(n){n="[Parchment] "+n,super(n),this.message=n,this.name=this.constructor.name}}const A7=class dS{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(n,t=!1){if(n==null)return null;if(this.blots.has(n))return this.blots.get(n)||null;if(t){let r=null;try{r=n.parentNode}catch{return null}return this.find(r,t)}return null}create(n,t,r){const i=this.query(t);if(i==null)throw new F0(`Unable to create ${t} blot`);const a=i,s=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:a.create(r),l=new a(n,s,r);return dS.blots.set(l.domNode,l),l}find(n,t=!1){return dS.find(n,t)}query(n,t=Wt.ANY){let r;return typeof n=="string"?r=this.types[n]||this.attributes[n]:n instanceof Text||n.nodeType===Node.TEXT_NODE?r=this.types.text:typeof n=="number"?n&Wt.LEVEL&Wt.BLOCK?r=this.types.block:n&Wt.LEVEL&Wt.INLINE&&(r=this.types.inline):n instanceof Element&&((n.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[n.tagName]),r==null?null:"scope"in r&&t&Wt.LEVEL&r.scope&&t&Wt.TYPE&r.scope?r:null}register(...n){return n.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new F0("Invalid definition");if(r&&t.blotName==="abstract")throw new F0("Cannot register abstract class");const a=r?t.blotName:i?t.attrName:void 0;return this.types[a]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(s=>s.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(s=>{(this.tags[s]==null||t.className==null)&&(this.tags[s]=t)}))),t})}};A7.blots=new WeakMap;let em=A7;function wk(e,n){return(e.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${n}-`)===0)}class AU extends Fc{static keys(n){return(n.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(n,t){return this.canAdd(n,t)?(this.remove(n),n.classList.add(`${this.keyName}-${t}`),!0):!1}remove(n){wk(n,this.keyName).forEach(t=>{n.classList.remove(t)}),n.classList.length===0&&n.removeAttribute("class")}value(n){const t=(wk(n,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(n,t)?t:""}}const Cu=AU;function z5(e){const n=e.split("-"),t=n.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return n[0]+t}class CU extends Fc{static keys(n){return(n.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(n,t){return this.canAdd(n,t)?(n.style[z5(this.keyName)]=t,!0):!1}remove(n){n.style[z5(this.keyName)]="",n.getAttribute("style")||n.removeAttribute("style")}value(n){const t=n.style[z5(this.keyName)];return this.canAdd(n,t)?t:""}}const dh=CU;class EU{constructor(n){this.attributes={},this.domNode=n,this.build()}attribute(n,t){t?n.add(this.domNode,t)&&(n.value(this.domNode)!=null?this.attributes[n.attrName]=n:delete this.attributes[n.attrName]):(n.remove(this.domNode),delete this.attributes[n.attrName])}build(){this.attributes={};const n=em.find(this.domNode);if(n==null)return;const t=Fc.keys(this.domNode),r=Cu.keys(this.domNode),i=dh.keys(this.domNode);t.concat(r).concat(i).forEach(a=>{const s=n.scroll.query(a,Wt.ATTRIBUTE);s instanceof Fc&&(this.attributes[s.attrName]=s)})}copy(n){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);n.format(t,r)})}move(n){this.copy(n),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((n,t)=>(n[t]=this.attributes[t].value(this.domNode),n),{})}}const xv=EU,C7=class{constructor(n,t){this.scroll=n,this.domNode=t,em.blots.set(t,this),this.prev=null,this.next=null}static create(n){if(this.tagName==null)throw new F0("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof n=="string"?(r=n.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof n=="number"&&(r=n),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const n=this.domNode.cloneNode(!1);return this.scroll.create(n)}detach(){this.parent!=null&&this.parent.removeChild(this),em.blots.delete(this.domNode)}deleteAt(n,t){this.isolate(n,t).remove()}formatAt(n,t,r,i){const a=this.isolate(n,t);if(this.scroll.query(r,Wt.BLOT)!=null&&i)a.wrap(r,i);else if(this.scroll.query(r,Wt.ATTRIBUTE)!=null){const s=this.scroll.create(this.statics.scope);a.wrap(s),s.format(r,i)}}insertAt(n,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),a=this.split(n);this.parent.insertBefore(i,a||void 0)}isolate(n,t){const r=this.split(n);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(n=this.parent){return this.parent==null||this===n?0:this.parent.children.offset(this)+this.parent.offset(n)}optimize(n){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(n,t){return n===0?this:this.next}update(n,t){}wrap(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new F0(`Cannot wrap ${n}`);return r.appendChild(this),r}};C7.blotName="abstract";let E7=C7;const _7=class extends E7{static value(n){return!0}index(n,t){return this.domNode===n||this.domNode.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(n,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return n>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};_7.scope=Wt.INLINE_BLOT;let _U=_7;const Fs=_U;class kU{constructor(){this.head=null,this.tail=null,this.length=0}append(...n){if(this.insertBefore(n[0],null),n.length>1){const t=n.slice(1);this.append(...t)}}at(n){const t=this.iterator();let r=t();for(;r&&n>0;)n-=1,r=t();return r}contains(n){const t=this.iterator();let r=t();for(;r;){if(r===n)return!0;r=t()}return!1}indexOf(n){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===n)return i;i+=1,r=t()}return-1}insertBefore(n,t){n!=null&&(this.remove(n),n.next=t,t!=null?(n.prev=t.prev,t.prev!=null&&(t.prev.next=n),t.prev=n,t===this.head&&(this.head=n)):this.tail!=null?(this.tail.next=n,n.prev=this.tail,this.tail=n):(n.prev=null,this.head=this.tail=n),this.length+=1)}offset(n){let t=0,r=this.head;for(;r!=null;){if(r===n)return t;t+=r.length(),r=r.next}return-1}remove(n){this.contains(n)&&(n.prev!=null&&(n.prev.next=n.next),n.next!=null&&(n.next.prev=n.prev),n===this.head&&(this.head=n.next),n===this.tail&&(this.tail=n.prev),this.length-=1)}iterator(n=this.head){return()=>{const t=n;return n!=null&&(n=n.next),t}}find(n,t=!1){const r=this.iterator();let i=r();for(;i;){const a=i.length();if(n<a||t&&n===a&&(i.next==null||i.next.length()!==0))return[i,n];n-=a,i=r()}return[null,0]}forEach(n){const t=this.iterator();let r=t();for(;r;)n(r),r=t()}forEachAt(n,t,r){if(t<=0)return;const[i,a]=this.find(n);let s=n-a;const l=this.iterator(i);let u=l();for(;u&&s<n+t;){const d=u.length();n>s?r(u,n-s,Math.min(t,s+d-n)):r(u,0,Math.min(d,n+t-s)),s+=d,u=l()}}map(n){return this.reduce((t,r)=>(t.push(n(r)),t),[])}reduce(n,t){const r=this.iterator();let i=r();for(;i;)t=n(t,i),i=r();return t}}function Sk(e,n){const t=n.find(e);if(t)return t;try{return n.create(e)}catch{const r=n.create(Wt.INLINE);return Array.from(e.childNodes).forEach(i=>{r.domNode.appendChild(i)}),e.parentNode&&e.parentNode.replaceChild(r.domNode,e),r.attach(),r}}const k7=class Lf extends E7{constructor(n,t){super(n,t),this.uiNode=null,this.build()}appendChild(n){this.insertBefore(n)}attach(){super.attach(),this.children.forEach(n=>{n.attach()})}attachUI(n){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=n,Lf.uiClass&&this.uiNode.classList.add(Lf.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new kU,Array.from(this.domNode.childNodes).filter(n=>n!==this.uiNode).reverse().forEach(n=>{try{const t=Sk(n,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof F0)return;throw t}})}deleteAt(n,t){if(n===0&&t===this.length())return this.remove();this.children.forEachAt(n,t,(r,i,a)=>{r.deleteAt(i,a)})}descendant(n,t=0){const[r,i]=this.children.find(t);return n.blotName==null&&n(r)||n.blotName!=null&&r instanceof n?[r,i]:r instanceof Lf?r.descendant(n,i):[null,-1]}descendants(n,t=0,r=Number.MAX_VALUE){let i=[],a=r;return this.children.forEachAt(t,r,(s,l,u)=>{(n.blotName==null&&n(s)||n.blotName!=null&&s instanceof n)&&i.push(s),s instanceof Lf&&(i=i.concat(s.descendants(n,l,a))),a-=u}),i}detach(){this.children.forEach(n=>{n.detach()}),super.detach()}enforceAllowedChildren(){let n=!1;this.children.forEach(t=>{n||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===Wt.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),n=!0):t instanceof Lf?t.unwrap():t.remove())})}formatAt(n,t,r,i){this.children.forEachAt(n,t,(a,s,l)=>{a.formatAt(s,l,r,i)})}insertAt(n,t,r){const[i,a]=this.children.find(n);if(i)i.insertAt(a,t,r);else{const s=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(s)}}insertBefore(n,t){n.parent!=null&&n.parent.children.remove(n);let r=null;this.children.insertBefore(n,t||null),n.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==n.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(n.domNode,r),n.attach()}length(){return this.children.reduce((n,t)=>n+t.length(),0)}moveChildren(n,t){this.children.forEach(r=>{n.insertBefore(r,t)})}optimize(n){if(super.optimize(n),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(n,t=!1){const[r,i]=this.children.find(n,t),a=[[this,n]];return r instanceof Lf?a.concat(r.path(i,t)):(r!=null&&a.push([r,i]),a)}removeChild(n){this.children.remove(n)}replaceWith(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;return r instanceof Lf&&this.moveChildren(r),super.replaceWith(r)}split(n,t=!1){if(!t){if(n===0)return this;if(n===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(n,this.length(),(i,a,s)=>{const l=i.split(a,t);l!=null&&r.appendChild(l)}),r}splitAfter(n){const t=this.clone();for(;n.next!=null;)t.appendChild(n.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(n,t){const r=[],i=[];n.forEach(a=>{a.target===this.domNode&&a.type==="childList"&&(r.push(...a.addedNodes),i.push(...a.removedNodes))}),i.forEach(a=>{if(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const s=this.scroll.find(a);s!=null&&(s.domNode.parentNode==null||s.domNode.parentNode===this.domNode)&&s.detach()}),r.filter(a=>a.parentNode===this.domNode&&a!==this.uiNode).sort((a,s)=>a===s?0:a.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(a=>{let s=null;a.nextSibling!=null&&(s=this.scroll.find(a.nextSibling));const l=Sk(a,this.scroll);(l.next!==s||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,s||void 0))}),this.enforceAllowedChildren()}};k7.uiClass="";let NU=k7;const vu=NU;function jU(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const t in e)if(e[t]!==n[t])return!1;return!0}const E0=class _0 extends vu{static create(n){return super.create(n)}static formats(n,t){const r=t.query(_0.blotName);if(!(r!=null&&n.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return n.tagName.toLowerCase()}}constructor(n,t){super(n,t),this.attributes=new xv(this.domNode)}format(n,t){if(n===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof _0||(r=r.wrap(_0.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(n,Wt.INLINE);if(r==null)return;r instanceof Fc?this.attributes.attribute(r,t):t&&(n!==this.statics.blotName||this.formats()[n]!==t)&&this.replaceWith(n,t)}}formats(){const n=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(n[this.statics.blotName]=t),n}formatAt(n,t,r,i){this.formats()[r]!=null||this.scroll.query(r,Wt.ATTRIBUTE)?this.isolate(n,t).format(r,i):super.formatAt(n,t,r,i)}optimize(n){super.optimize(n);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof _0&&r.prev===this&&jU(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(n,t){const r=super.replaceWith(n,t);return this.attributes.copy(r),r}update(n,t){super.update(n,t),n.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(n,t){const r=super.wrap(n,t);return r instanceof _0&&this.attributes.move(r),r}};E0.allowedChildren=[E0,Fs],E0.blotName="inline",E0.scope=Wt.INLINE_BLOT,E0.tagName="SPAN";let TU=E0;const W6=TU,k0=class fS extends vu{static create(n){return super.create(n)}static formats(n,t){const r=t.query(fS.blotName);if(!(r!=null&&n.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return n.tagName.toLowerCase()}}constructor(n,t){super(n,t),this.attributes=new xv(this.domNode)}format(n,t){const r=this.scroll.query(n,Wt.BLOCK);r!=null&&(r instanceof Fc?this.attributes.attribute(r,t):n===this.statics.blotName&&!t?this.replaceWith(fS.blotName):t&&(n!==this.statics.blotName||this.formats()[n]!==t)&&this.replaceWith(n,t))}formats(){const n=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(n[this.statics.blotName]=t),n}formatAt(n,t,r,i){this.scroll.query(r,Wt.BLOCK)!=null?this.format(r,i):super.formatAt(n,t,r,i)}insertAt(n,t,r){if(r==null||this.scroll.query(t,Wt.INLINE)!=null)super.insertAt(n,t,r);else{const i=this.split(n);if(i!=null){const a=this.scroll.create(t,r);i.parent.insertBefore(a,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(n,t){const r=super.replaceWith(n,t);return this.attributes.copy(r),r}update(n,t){super.update(n,t),n.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};k0.blotName="block",k0.scope=Wt.BLOCK_BLOT,k0.tagName="P",k0.allowedChildren=[W6,k0,Fs];let OU=k0;const yg=OU,hS=class extends vu{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(n,t){super.deleteAt(n,t),this.enforceAllowedChildren()}formatAt(n,t,r,i){super.formatAt(n,t,r,i),this.enforceAllowedChildren()}insertAt(n,t,r){super.insertAt(n,t,r),this.enforceAllowedChildren()}optimize(n){super.optimize(n),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};hS.blotName="container",hS.scope=Wt.BLOCK_BLOT;let IU=hS;const vv=IU;class DU extends Fs{static formats(n,t){}format(n,t){super.formatAt(0,this.length(),n,t)}formatAt(n,t,r,i){n===0&&t===this.length()?this.format(r,i):super.formatAt(n,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const rl=DU,LU={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},RU=100,N0=class extends vu{constructor(n,t){super(null,t),this.registry=n,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,LU),this.attach()}create(n,t){return this.registry.create(this,n,t)}find(n,t=!1){const r=this.registry.find(n,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(n,t=Wt.ANY){return this.registry.query(n,t)}register(...n){return this.registry.register(...n)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(n,t){this.update(),n===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(n,t)}formatAt(n,t,r,i){this.update(),super.formatAt(n,t,r,i)}insertAt(n,t,r){this.update(),super.insertAt(n,t,r)}optimize(n=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)n.push(i.pop());const a=(u,d=!0)=>{u==null||u===this||u.domNode.parentNode!=null&&(r.has(u.domNode)||r.set(u.domNode,[]),d&&a(u.parent))},s=u=>{r.has(u.domNode)&&(u instanceof vu&&u.children.forEach(s),r.delete(u.domNode),u.optimize(t))};let l=n;for(let u=0;l.length>0;u+=1){if(u>=RU)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(d=>{const f=this.find(d.target,!0);f!=null&&(f.domNode===d.target&&(d.type==="childList"?(a(this.find(d.previousSibling,!1)),Array.from(d.addedNodes).forEach(g=>{const b=this.find(g,!1);a(b,!1),b instanceof vu&&b.children.forEach(m=>{a(m,!1)})})):d.type==="attributes"&&a(f.prev)),a(f))}),this.children.forEach(s),l=Array.from(this.observer.takeRecords()),i=l.slice();i.length>0;)n.push(i.pop())}}update(n,t={}){n=n||this.observer.takeRecords();const r=new WeakMap;n.map(i=>{const a=this.find(i.target,!0);return a==null?null:r.has(a.domNode)?(r.get(a.domNode).push(i),null):(r.set(a.domNode,[i]),a)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(n,t)}};N0.blotName="scroll",N0.defaultChild=yg,N0.allowedChildren=[yg,vv],N0.scope=Wt.BLOCK_BLOT,N0.tagName="DIV";let MU=N0;const V6=MU,pS=class N7 extends Fs{static create(n){return document.createTextNode(n)}static value(n){return n.data}constructor(n,t){super(n,t),this.text=this.statics.value(this.domNode)}deleteAt(n,t){this.domNode.data=this.text=this.text.slice(0,n)+this.text.slice(n+t)}index(n,t){return this.domNode===n?t:-1}insertAt(n,t,r){r==null?(this.text=this.text.slice(0,n)+t+this.text.slice(n),this.domNode.data=this.text):super.insertAt(n,t,r)}length(){return this.text.length}optimize(n){super.optimize(n),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof N7&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(n,t=!1){return[this.domNode,n]}split(n,t=!1){if(!t){if(n===0)return this;if(n===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(n));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(n,t){n.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};pS.blotName="text",pS.scope=Wt.INLINE_BLOT;let FU=pS;const Ix=FU,PU=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Fc,AttributorStore:xv,BlockBlot:yg,ClassAttributor:Cu,ContainerBlot:vv,EmbedBlot:rl,InlineBlot:W6,LeafBlot:Fs,ParentBlot:vu,Registry:em,Scope:Wt,ScrollBlot:V6,StyleAttributor:dh,TextBlot:Ix},Symbol.toStringTag,{value:"Module"}));var xy={exports:{}},q5,Ak;function zU(){if(Ak)return q5;Ak=1;var e=-1,n=1,t=0;function r(j,O,P,T,G){if(j===O)return j?[[t,j]]:[];if(P!=null){var W=B(j,O,P);if(W)return W}var K=l(j,O),ie=j.substring(0,K);j=j.substring(K),O=O.substring(K),K=d(j,O);var ue=j.substring(j.length-K);j=j.substring(0,j.length-K),O=O.substring(0,O.length-K);var $=i(j,O);return ie&&$.unshift([t,ie]),ue&&$.push([t,ue]),C($,G),T&&g($),$}function i(j,O){var P;if(!j)return[[n,O]];if(!O)return[[e,j]];var T=j.length>O.length?j:O,G=j.length>O.length?O:j,W=T.indexOf(G);if(W!==-1)return P=[[n,T.substring(0,W)],[t,G],[n,T.substring(W+G.length)]],j.length>O.length&&(P[0][0]=P[2][0]=e),P;if(G.length===1)return[[e,j],[n,O]];var K=f(j,O);if(K){var ie=K[0],ue=K[1],$=K[2],ae=K[3],U=K[4],z=r(ie,$),Z=r(ue,ae);return z.concat([[t,U]],Z)}return a(j,O)}function a(j,O){for(var P=j.length,T=O.length,G=Math.ceil((P+T)/2),W=G,K=2*G,ie=new Array(K),ue=new Array(K),$=0;$<K;$++)ie[$]=-1,ue[$]=-1;ie[W+1]=0,ue[W+1]=0;for(var ae=P-T,U=ae%2!==0,z=0,Z=0,ee=0,se=0,we=0;we<G;we++){for(var xe=-we+z;xe<=we-Z;xe+=2){var Ee=W+xe,Ie;xe===-we||xe!==we&&ie[Ee-1]<ie[Ee+1]?Ie=ie[Ee+1]:Ie=ie[Ee-1]+1;for(var Re=Ie-xe;Ie<P&&Re<T&&j.charAt(Ie)===O.charAt(Re);)Ie++,Re++;if(ie[Ee]=Ie,Ie>P)Z+=2;else if(Re>T)z+=2;else if(U){var We=W+ae-xe;if(We>=0&&We<K&&ue[We]!==-1){var Ve=P-ue[We];if(Ie>=Ve)return s(j,O,Ie,Re)}}}for(var V=-we+ee;V<=we-se;V+=2){var We=W+V,Ve;V===-we||V!==we&&ue[We-1]<ue[We+1]?Ve=ue[We+1]:Ve=ue[We-1]+1;for(var Se=Ve-V;Ve<P&&Se<T&&j.charAt(P-Ve-1)===O.charAt(T-Se-1);)Ve++,Se++;if(ue[We]=Ve,Ve>P)se+=2;else if(Se>T)ee+=2;else if(!U){var Ee=W+ae-V;if(Ee>=0&&Ee<K&&ie[Ee]!==-1){var Ie=ie[Ee],Re=W+Ie-Ee;if(Ve=P-Ve,Ie>=Ve)return s(j,O,Ie,Re)}}}}return[[e,j],[n,O]]}function s(j,O,P,T){var G=j.substring(0,P),W=O.substring(0,T),K=j.substring(P),ie=O.substring(T),ue=r(G,W),$=r(K,ie);return ue.concat($)}function l(j,O){if(!j||!O||j.charAt(0)!==O.charAt(0))return 0;for(var P=0,T=Math.min(j.length,O.length),G=T,W=0;P<G;)j.substring(W,G)==O.substring(W,G)?(P=G,W=P):T=G,G=Math.floor((T-P)/2+P);return N(j.charCodeAt(G-1))&&G--,G}function u(j,O){var P=j.length,T=O.length;if(P==0||T==0)return 0;P>T?j=j.substring(P-T):P<T&&(O=O.substring(0,P));var G=Math.min(P,T);if(j==O)return G;for(var W=0,K=1;;){var ie=j.substring(G-K),ue=O.indexOf(ie);if(ue==-1)return W;K+=ue,(ue==0||j.substring(G-K)==O.substring(0,K))&&(W=K,K++)}}function d(j,O){if(!j||!O||j.slice(-1)!==O.slice(-1))return 0;for(var P=0,T=Math.min(j.length,O.length),G=T,W=0;P<G;)j.substring(j.length-G,j.length-W)==O.substring(O.length-G,O.length-W)?(P=G,W=P):T=G,G=Math.floor((T-P)/2+P);return R(j.charCodeAt(j.length-G))&&G--,G}function f(j,O){var P=j.length>O.length?j:O,T=j.length>O.length?O:j;if(P.length<4||T.length*2<P.length)return null;function G(Z,ee,se){for(var we=Z.substring(se,se+Math.floor(Z.length/4)),xe=-1,Ee="",Ie,Re,We,Ve;(xe=ee.indexOf(we,xe+1))!==-1;){var V=l(Z.substring(se),ee.substring(xe)),Se=d(Z.substring(0,se),ee.substring(0,xe));Ee.length<Se+V&&(Ee=ee.substring(xe-Se,xe)+ee.substring(xe,xe+V),Ie=Z.substring(0,se-Se),Re=Z.substring(se+V),We=ee.substring(0,xe-Se),Ve=ee.substring(xe+V))}return Ee.length*2>=Z.length?[Ie,Re,We,Ve,Ee]:null}var W=G(P,T,Math.ceil(P.length/4)),K=G(P,T,Math.ceil(P.length/2)),ie;if(!W&&!K)return null;K?W?ie=W[4].length>K[4].length?W:K:ie=K:ie=W;var ue,$,ae,U;j.length>O.length?(ue=ie[0],$=ie[1],ae=ie[2],U=ie[3]):(ae=ie[0],U=ie[1],ue=ie[2],$=ie[3]);var z=ie[4];return[ue,$,ae,U,z]}function g(j){for(var O=!1,P=[],T=0,G=null,W=0,K=0,ie=0,ue=0,$=0;W<j.length;)j[W][0]==t?(P[T++]=W,K=ue,ie=$,ue=0,$=0,G=j[W][1]):(j[W][0]==n?ue+=j[W][1].length:$+=j[W][1].length,G&&G.length<=Math.max(K,ie)&&G.length<=Math.max(ue,$)&&(j.splice(P[T-1],0,[e,G]),j[P[T-1]+1][0]=n,T--,T--,W=T>0?P[T-1]:-1,K=0,ie=0,ue=0,$=0,G=null,O=!0)),W++;for(O&&C(j),w(j),W=1;W<j.length;){if(j[W-1][0]==e&&j[W][0]==n){var ae=j[W-1][1],U=j[W][1],z=u(ae,U),Z=u(U,ae);z>=Z?(z>=ae.length/2||z>=U.length/2)&&(j.splice(W,0,[t,U.substring(0,z)]),j[W-1][1]=ae.substring(0,ae.length-z),j[W+1][1]=U.substring(z),W++):(Z>=ae.length/2||Z>=U.length/2)&&(j.splice(W,0,[t,ae.substring(0,Z)]),j[W-1][0]=n,j[W-1][1]=U.substring(0,U.length-Z),j[W+1][0]=e,j[W+1][1]=ae.substring(Z),W++),W++}W++}}var b=/[^a-zA-Z0-9]/,m=/\s/,x=/[\r\n]/,y=/\n\r?\n$/,A=/^\r?\n\r?\n/;function w(j){function O(Z,ee){if(!Z||!ee)return 6;var se=Z.charAt(Z.length-1),we=ee.charAt(0),xe=se.match(b),Ee=we.match(b),Ie=xe&&se.match(m),Re=Ee&&we.match(m),We=Ie&&se.match(x),Ve=Re&&we.match(x),V=We&&Z.match(y),Se=Ve&&ee.match(A);return V||Se?5:We||Ve?4:xe&&!Ie&&Re?3:Ie||Re?2:xe||Ee?1:0}for(var P=1;P<j.length-1;){if(j[P-1][0]==t&&j[P+1][0]==t){var T=j[P-1][1],G=j[P][1],W=j[P+1][1],K=d(T,G);if(K){var ie=G.substring(G.length-K);T=T.substring(0,T.length-K),G=ie+G.substring(0,G.length-K),W=ie+W}for(var ue=T,$=G,ae=W,U=O(T,G)+O(G,W);G.charAt(0)===W.charAt(0);){T+=G.charAt(0),G=G.substring(1)+W.charAt(0),W=W.substring(1);var z=O(T,G)+O(G,W);z>=U&&(U=z,ue=T,$=G,ae=W)}j[P-1][1]!=ue&&(ue?j[P-1][1]=ue:(j.splice(P-1,1),P--),j[P][1]=$,ae?j[P+1][1]=ae:(j.splice(P+1,1),P--))}P++}}function C(j,O){j.push([t,""]);for(var P=0,T=0,G=0,W="",K="",ie;P<j.length;){if(P<j.length-1&&!j[P][1]){j.splice(P,1);continue}switch(j[P][0]){case n:G++,K+=j[P][1],P++;break;case e:T++,W+=j[P][1],P++;break;case t:var ue=P-G-T-1;if(O){if(ue>=0&&q(j[ue][1])){var $=j[ue][1].slice(-1);if(j[ue][1]=j[ue][1].slice(0,-1),W=$+W,K=$+K,!j[ue][1]){j.splice(ue,1),P--;var ae=ue-1;j[ae]&&j[ae][0]===n&&(G++,K=j[ae][1]+K,ae--),j[ae]&&j[ae][0]===e&&(T++,W=j[ae][1]+W,ae--),ue=ae}}if(F(j[P][1])){var $=j[P][1].charAt(0);j[P][1]=j[P][1].slice(1),W+=$,K+=$}}if(P<j.length-1&&!j[P][1]){j.splice(P,1);break}if(W.length>0||K.length>0){W.length>0&&K.length>0&&(ie=l(K,W),ie!==0&&(ue>=0?j[ue][1]+=K.substring(0,ie):(j.splice(0,0,[t,K.substring(0,ie)]),P++),K=K.substring(ie),W=W.substring(ie)),ie=d(K,W),ie!==0&&(j[P][1]=K.substring(K.length-ie)+j[P][1],K=K.substring(0,K.length-ie),W=W.substring(0,W.length-ie)));var U=G+T;W.length===0&&K.length===0?(j.splice(P-U,U),P=P-U):W.length===0?(j.splice(P-U,U,[n,K]),P=P-U+1):K.length===0?(j.splice(P-U,U,[e,W]),P=P-U+1):(j.splice(P-U,U,[e,W],[n,K]),P=P-U+2)}P!==0&&j[P-1][0]===t?(j[P-1][1]+=j[P][1],j.splice(P,1)):P++,G=0,T=0,W="",K="";break}}j[j.length-1][1]===""&&j.pop();var z=!1;for(P=1;P<j.length-1;)j[P-1][0]===t&&j[P+1][0]===t&&(j[P][1].substring(j[P][1].length-j[P-1][1].length)===j[P-1][1]?(j[P][1]=j[P-1][1]+j[P][1].substring(0,j[P][1].length-j[P-1][1].length),j[P+1][1]=j[P-1][1]+j[P+1][1],j.splice(P-1,1),z=!0):j[P][1].substring(0,j[P+1][1].length)==j[P+1][1]&&(j[P-1][1]+=j[P+1][1],j[P][1]=j[P][1].substring(j[P+1][1].length)+j[P+1][1],j.splice(P+1,1),z=!0)),P++;z&&C(j,O)}function N(j){return j>=55296&&j<=56319}function R(j){return j>=56320&&j<=57343}function F(j){return R(j.charCodeAt(0))}function q(j){return N(j.charCodeAt(j.length-1))}function k(j){for(var O=[],P=0;P<j.length;P++)j[P][1].length>0&&O.push(j[P]);return O}function L(j,O,P,T){return q(j)||F(T)?null:k([[t,j],[e,O],[n,P],[t,T]])}function B(j,O,P){var T=typeof P=="number"?{index:P,length:0}:P.oldRange,G=typeof P=="number"?null:P.newRange,W=j.length,K=O.length;if(T.length===0&&(G===null||G.length===0)){var ie=T.index,ue=j.slice(0,ie),$=j.slice(ie),ae=G?G.index:null;e:{var U=ie+K-W;if(ae!==null&&ae!==U||U<0||U>K)break e;var z=O.slice(0,U),Z=O.slice(U);if(Z!==$)break e;var ee=Math.min(ie,U),se=ue.slice(0,ee),we=z.slice(0,ee);if(se!==we)break e;var xe=ue.slice(ee),Ee=z.slice(ee);return L(se,xe,Ee,$)}e:{if(ae!==null&&ae!==ie)break e;var Ie=ie,z=O.slice(0,Ie),Z=O.slice(Ie);if(z!==ue)break e;var Re=Math.min(W-Ie,K-Ie),We=$.slice($.length-Re),Ve=Z.slice(Z.length-Re);if(We!==Ve)break e;var xe=$.slice(0,$.length-Re),Ee=Z.slice(0,Z.length-Re);return L(ue,xe,Ee,We)}}if(T.length>0&&G&&G.length===0)e:{var se=j.slice(0,T.index),We=j.slice(T.index+T.length),ee=se.length,Re=We.length;if(K<ee+Re)break e;var we=O.slice(0,ee),Ve=O.slice(K-Re);if(se!==we||We!==Ve)break e;var xe=j.slice(ee,W-Re),Ee=O.slice(ee,K-Re);return L(se,xe,Ee,We)}return null}function X(j,O,P,T){return r(j,O,P,T,!0)}return X.INSERT=n,X.DELETE=e,X.EQUAL=t,q5=X,q5}var W1={exports:{}};W1.exports;var Ck;function j7(){return Ck||(Ck=1,function(e,n){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",s="[object Array]",l="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Function]",g="[object GeneratorFunction]",b="[object Map]",m="[object Number]",x="[object Object]",y="[object Promise]",A="[object RegExp]",w="[object Set]",C="[object String]",N="[object Symbol]",R="[object WeakMap]",F="[object ArrayBuffer]",q="[object DataView]",k="[object Float32Array]",L="[object Float64Array]",B="[object Int8Array]",X="[object Int16Array]",j="[object Int32Array]",O="[object Uint8Array]",P="[object Uint8ClampedArray]",T="[object Uint16Array]",G="[object Uint32Array]",W=/[\\^$.*+?()[\]{}|]/g,K=/\w*$/,ie=/^\[object .+?Constructor\]$/,ue=/^(?:0|[1-9]\d*)$/,$={};$[a]=$[s]=$[F]=$[q]=$[l]=$[u]=$[k]=$[L]=$[B]=$[X]=$[j]=$[b]=$[m]=$[x]=$[A]=$[w]=$[C]=$[N]=$[O]=$[P]=$[T]=$[G]=!0,$[d]=$[f]=$[R]=!1;var ae=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,U=typeof self=="object"&&self&&self.Object===Object&&self,z=ae||U||Function("return this")(),Z=n&&!n.nodeType&&n,ee=Z&&!0&&e&&!e.nodeType&&e,se=ee&&ee.exports===Z;function we(H,me){return H.set(me[0],me[1]),H}function xe(H,me){return H.add(me),H}function Ee(H,me){for(var Oe=-1,ot=H?H.length:0;++Oe<ot&&me(H[Oe],Oe,H)!==!1;);return H}function Ie(H,me){for(var Oe=-1,ot=me.length,Jt=H.length;++Oe<ot;)H[Jt+Oe]=me[Oe];return H}function Re(H,me,Oe,ot){for(var Jt=-1,Bt=H?H.length:0;++Jt<Bt;)Oe=me(Oe,H[Jt],Jt,H);return Oe}function We(H,me){for(var Oe=-1,ot=Array(H);++Oe<H;)ot[Oe]=me(Oe);return ot}function Ve(H,me){return H==null?void 0:H[me]}function V(H){var me=!1;if(H!=null&&typeof H.toString!="function")try{me=!!(H+"")}catch{}return me}function Se(H){var me=-1,Oe=Array(H.size);return H.forEach(function(ot,Jt){Oe[++me]=[Jt,ot]}),Oe}function te(H,me){return function(Oe){return H(me(Oe))}}function be(H){var me=-1,Oe=Array(H.size);return H.forEach(function(ot){Oe[++me]=ot}),Oe}var ce=Array.prototype,Ae=Function.prototype,De=Object.prototype,ze=z["__core-js_shared__"],Ne=function(){var H=/[^.]+$/.exec(ze&&ze.keys&&ze.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),Xe=Ae.toString,lt=De.hasOwnProperty,nt=De.toString,Fe=RegExp("^"+Xe.call(lt).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=se?z.Buffer:void 0,ke=z.Symbol,Te=z.Uint8Array,dt=te(Object.getPrototypeOf,Object),Je=Object.create,Ft=De.propertyIsEnumerable,kt=ce.splice,Vt=Object.getOwnPropertySymbols,Lt=ve?ve.isBuffer:void 0,Zt=te(Object.keys,Object),nn=qi(z,"DataView"),ln=qi(z,"Map"),Pn=qi(z,"Promise"),zn=qi(z,"Set"),Gr=qi(z,"WeakMap"),ir=qi(Object,"create"),Rn=ei(nn),Gt=ei(ln),An=ei(Pn),ya=ei(zn),Sr=ei(Gr),oi=ke?ke.prototype:void 0,xa=oi?oi.valueOf:void 0;function Dt(H){var me=-1,Oe=H?H.length:0;for(this.clear();++me<Oe;){var ot=H[me];this.set(ot[0],ot[1])}}function Hn(){this.__data__=ir?ir(null):{}}function ar(H){return this.has(H)&&delete this.__data__[H]}function Mr(H){var me=this.__data__;if(ir){var Oe=me[H];return Oe===r?void 0:Oe}return lt.call(me,H)?me[H]:void 0}function dr(H){var me=this.__data__;return ir?me[H]!==void 0:lt.call(me,H)}function fr(H,me){var Oe=this.__data__;return Oe[H]=ir&&me===void 0?r:me,this}Dt.prototype.clear=Hn,Dt.prototype.delete=ar,Dt.prototype.get=Mr,Dt.prototype.has=dr,Dt.prototype.set=fr;function $n(H){var me=-1,Oe=H?H.length:0;for(this.clear();++me<Oe;){var ot=H[me];this.set(ot[0],ot[1])}}function bs(){this.__data__=[]}function Nr(H){var me=this.__data__,Oe=xs(me,H);if(Oe<0)return!1;var ot=me.length-1;return Oe==ot?me.pop():kt.call(me,Oe,1),!0}function Ia(H){var me=this.__data__,Oe=xs(me,H);return Oe<0?void 0:me[Oe][1]}function Pi(H){return xs(this.__data__,H)>-1}function zi(H,me){var Oe=this.__data__,ot=xs(Oe,H);return ot<0?Oe.push([H,me]):Oe[ot][1]=me,this}$n.prototype.clear=bs,$n.prototype.delete=Nr,$n.prototype.get=Ia,$n.prototype.has=Pi,$n.prototype.set=zi;function Jn(H){var me=-1,Oe=H?H.length:0;for(this.clear();++me<Oe;){var ot=H[me];this.set(ot[0],ot[1])}}function Ci(){this.__data__={hash:new Dt,map:new(ln||$n),string:new Dt}}function er(H){return Ws(this,H).delete(H)}function ro(H){return Ws(this,H).get(H)}function Co(H){return Ws(this,H).has(H)}function Fa(H,me){return Ws(this,H).set(H,me),this}Jn.prototype.clear=Ci,Jn.prototype.delete=er,Jn.prototype.get=ro,Jn.prototype.has=Co,Jn.prototype.set=Fa;function Fr(H){this.__data__=new $n(H)}function il(){this.__data__=new $n}function Ul(H){return this.__data__.delete(H)}function Ou(H){return this.__data__.get(H)}function Hc(H){return this.__data__.has(H)}function $s(H,me){var Oe=this.__data__;if(Oe instanceof $n){var ot=Oe.__data__;if(!ln||ot.length<t-1)return ot.push([H,me]),this;Oe=this.__data__=new Jn(ot)}return Oe.set(H,me),this}Fr.prototype.clear=il,Fr.prototype.delete=Ul,Fr.prototype.get=Ou,Fr.prototype.has=Hc,Fr.prototype.set=$s;function ys(H,me){var Oe=ul(H)||so(H)?We(H.length,String):[],ot=Oe.length,Jt=!!ot;for(var Bt in H)lt.call(H,Bt)&&!(Jt&&(Bt=="length"||ol(Bt,ot)))&&Oe.push(Bt);return Oe}function Pa(H,me,Oe){var ot=H[me];(!(lt.call(H,me)&&tn(ot,Oe))||Oe===void 0&&!(me in H))&&(H[me]=Oe)}function xs(H,me){for(var Oe=H.length;Oe--;)if(tn(H[Oe][0],me))return Oe;return-1}function rs(H,me){return H&&_o(me,cl(me),H)}function is(H,me,Oe,ot,Jt,Bt,jn){var Cn;if(ot&&(Cn=Bt?ot(H,Jt,Bt,jn):ot(H)),Cn!==void 0)return Cn;if(!$a(H))return H;var pr=ul(H);if(pr){if(Cn=Du(H),!me)return Wl(H,Cn)}else{var pn=vs(H),jr=pn==f||pn==g;if(ko(H))return ao(H,me);if(pn==x||pn==a||jr&&!Bt){if(V(H))return Bt?H:{};if(Cn=qa(jr?{}:H),!me)return Hs(H,rs(Cn,H))}else{if(!$[pn])return Bt?H:{};Cn=Vs(H,pn,is,me)}}jn||(jn=new Fr);var va=jn.get(H);if(va)return va;if(jn.set(H,Cn),!pr)var Ar=Oe?Iu(H):cl(H);return Ee(Ar||H,function(Cr,Qr){Ar&&(Qr=Cr,Cr=H[Qr]),Pa(Cn,Qr,is(Cr,me,Oe,ot,Qr,H,jn))}),Cn}function $l(H){return $a(H)?Je(H):{}}function io(H,me,Oe){var ot=me(H);return ul(H)?ot:Ie(ot,Oe(H))}function Wc(H){return nt.call(H)}function Pr(H){if(!$a(H)||ll(H))return!1;var me=Ua(H)||V(H)?Fe:ie;return me.test(ei(H))}function Ji(H){if(!li(H))return Zt(H);var me=[];for(var Oe in Object(H))lt.call(H,Oe)&&Oe!="constructor"&&me.push(Oe);return me}function ao(H,me){if(me)return H.slice();var Oe=new H.constructor(H.length);return H.copy(Oe),Oe}function al(H){var me=new H.constructor(H.byteLength);return new Te(me).set(new Te(H)),me}function za(H,me){var Oe=me?al(H.buffer):H.buffer;return new H.constructor(Oe,H.byteOffset,H.byteLength)}function Hl(H,me,Oe){var ot=me?Oe(Se(H),!0):Se(H);return Re(ot,we,new H.constructor)}function ea(H){var me=new H.constructor(H.source,K.exec(H));return me.lastIndex=H.lastIndex,me}function sl(H,me,Oe){var ot=me?Oe(be(H),!0):be(H);return Re(ot,xe,new H.constructor)}function hr(H){return xa?Object(xa.call(H)):{}}function Eo(H,me){var Oe=me?al(H.buffer):H.buffer;return new H.constructor(Oe,H.byteOffset,H.length)}function Wl(H,me){var Oe=-1,ot=H.length;for(me||(me=Array(ot));++Oe<ot;)me[Oe]=H[Oe];return me}function _o(H,me,Oe,ot){Oe||(Oe={});for(var Jt=-1,Bt=me.length;++Jt<Bt;){var jn=me[Jt],Cn=void 0;Pa(Oe,jn,Cn===void 0?H[jn]:Cn)}return Oe}function Hs(H,me){return _o(H,as(H),me)}function Iu(H){return io(H,cl,as)}function Ws(H,me){var Oe=H.__data__;return Ys(me)?Oe[typeof me=="string"?"string":"hash"]:Oe.map}function qi(H,me){var Oe=Ve(H,me);return Pr(Oe)?Oe:void 0}var as=Vt?te(Vt,Object):oo,vs=Wc;(nn&&vs(new nn(new ArrayBuffer(1)))!=q||ln&&vs(new ln)!=b||Pn&&vs(Pn.resolve())!=y||zn&&vs(new zn)!=w||Gr&&vs(new Gr)!=R)&&(vs=function(H){var me=nt.call(H),Oe=me==x?H.constructor:void 0,ot=Oe?ei(Oe):void 0;if(ot)switch(ot){case Rn:return q;case Gt:return b;case An:return y;case ya:return w;case Sr:return R}return me});function Du(H){var me=H.length,Oe=H.constructor(me);return me&&typeof H[0]=="string"&&lt.call(H,"index")&&(Oe.index=H.index,Oe.input=H.input),Oe}function qa(H){return typeof H.constructor=="function"&&!li(H)?$l(dt(H)):{}}function Vs(H,me,Oe,ot){var Jt=H.constructor;switch(me){case F:return al(H);case l:case u:return new Jt(+H);case q:return za(H,ot);case k:case L:case B:case X:case j:case O:case P:case T:case G:return Eo(H,ot);case b:return Hl(H,ot,Oe);case m:case C:return new Jt(H);case A:return ea(H);case w:return sl(H,ot,Oe);case N:return hr(H)}}function ol(H,me){return me=me??i,!!me&&(typeof H=="number"||ue.test(H))&&H>-1&&H%1==0&&H<me}function Ys(H){var me=typeof H;return me=="string"||me=="number"||me=="symbol"||me=="boolean"?H!=="__proto__":H===null}function ll(H){return!!Ne&&Ne in H}function li(H){var me=H&&H.constructor,Oe=typeof me=="function"&&me.prototype||De;return H===Oe}function ei(H){if(H!=null){try{return Xe.call(H)}catch{}try{return H+""}catch{}}return""}function ws(H){return is(H,!0,!0)}function tn(H,me){return H===me||H!==H&&me!==me}function so(H){return Ba(H)&&lt.call(H,"callee")&&(!Ft.call(H,"callee")||nt.call(H)==a)}var ul=Array.isArray;function Ei(H){return H!=null&&Da(H.length)&&!Ua(H)}function Ba(H){return No(H)&&Ei(H)}var ko=Lt||Ss;function Ua(H){var me=$a(H)?nt.call(H):"";return me==f||me==g}function Da(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=i}function $a(H){var me=typeof H;return!!H&&(me=="object"||me=="function")}function No(H){return!!H&&typeof H=="object"}function cl(H){return Ei(H)?ys(H):Ji(H)}function oo(){return[]}function Ss(){return!1}e.exports=ws}(W1,W1.exports)),W1.exports}var V1={exports:{}};V1.exports;var Ek;function T7(){return Ek||(Ek=1,function(e,n){var t=200,r="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,l="[object Arguments]",u="[object Array]",d="[object AsyncFunction]",f="[object Boolean]",g="[object Date]",b="[object Error]",m="[object Function]",x="[object GeneratorFunction]",y="[object Map]",A="[object Number]",w="[object Null]",C="[object Object]",N="[object Promise]",R="[object Proxy]",F="[object RegExp]",q="[object Set]",k="[object String]",L="[object Symbol]",B="[object Undefined]",X="[object WeakMap]",j="[object ArrayBuffer]",O="[object DataView]",P="[object Float32Array]",T="[object Float64Array]",G="[object Int8Array]",W="[object Int16Array]",K="[object Int32Array]",ie="[object Uint8Array]",ue="[object Uint8ClampedArray]",$="[object Uint16Array]",ae="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,z=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,ee={};ee[P]=ee[T]=ee[G]=ee[W]=ee[K]=ee[ie]=ee[ue]=ee[$]=ee[ae]=!0,ee[l]=ee[u]=ee[j]=ee[f]=ee[O]=ee[g]=ee[b]=ee[m]=ee[y]=ee[A]=ee[C]=ee[F]=ee[q]=ee[k]=ee[X]=!1;var se=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,we=typeof self=="object"&&self&&self.Object===Object&&self,xe=se||we||Function("return this")(),Ee=n&&!n.nodeType&&n,Ie=Ee&&!0&&e&&!e.nodeType&&e,Re=Ie&&Ie.exports===Ee,We=Re&&se.process,Ve=function(){try{return We&&We.binding&&We.binding("util")}catch{}}(),V=Ve&&Ve.isTypedArray;function Se(H,me){for(var Oe=-1,ot=H==null?0:H.length,Jt=0,Bt=[];++Oe<ot;){var jn=H[Oe];me(jn,Oe,H)&&(Bt[Jt++]=jn)}return Bt}function te(H,me){for(var Oe=-1,ot=me.length,Jt=H.length;++Oe<ot;)H[Jt+Oe]=me[Oe];return H}function be(H,me){for(var Oe=-1,ot=H==null?0:H.length;++Oe<ot;)if(me(H[Oe],Oe,H))return!0;return!1}function ce(H,me){for(var Oe=-1,ot=Array(H);++Oe<H;)ot[Oe]=me(Oe);return ot}function Ae(H){return function(me){return H(me)}}function De(H,me){return H.has(me)}function ze(H,me){return H==null?void 0:H[me]}function Ne(H){var me=-1,Oe=Array(H.size);return H.forEach(function(ot,Jt){Oe[++me]=[Jt,ot]}),Oe}function Xe(H,me){return function(Oe){return H(me(Oe))}}function lt(H){var me=-1,Oe=Array(H.size);return H.forEach(function(ot){Oe[++me]=ot}),Oe}var nt=Array.prototype,Fe=Function.prototype,ve=Object.prototype,ke=xe["__core-js_shared__"],Te=Fe.toString,dt=ve.hasOwnProperty,Je=function(){var H=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),Ft=ve.toString,kt=RegExp("^"+Te.call(dt).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vt=Re?xe.Buffer:void 0,Lt=xe.Symbol,Zt=xe.Uint8Array,nn=ve.propertyIsEnumerable,ln=nt.splice,Pn=Lt?Lt.toStringTag:void 0,zn=Object.getOwnPropertySymbols,Gr=Vt?Vt.isBuffer:void 0,ir=Xe(Object.keys,Object),Rn=as(xe,"DataView"),Gt=as(xe,"Map"),An=as(xe,"Promise"),ya=as(xe,"Set"),Sr=as(xe,"WeakMap"),oi=as(Object,"create"),xa=ei(Rn),Dt=ei(Gt),Hn=ei(An),ar=ei(ya),Mr=ei(Sr),dr=Lt?Lt.prototype:void 0,fr=dr?dr.valueOf:void 0;function $n(H){var me=-1,Oe=H==null?0:H.length;for(this.clear();++me<Oe;){var ot=H[me];this.set(ot[0],ot[1])}}function bs(){this.__data__=oi?oi(null):{},this.size=0}function Nr(H){var me=this.has(H)&&delete this.__data__[H];return this.size-=me?1:0,me}function Ia(H){var me=this.__data__;if(oi){var Oe=me[H];return Oe===r?void 0:Oe}return dt.call(me,H)?me[H]:void 0}function Pi(H){var me=this.__data__;return oi?me[H]!==void 0:dt.call(me,H)}function zi(H,me){var Oe=this.__data__;return this.size+=this.has(H)?0:1,Oe[H]=oi&&me===void 0?r:me,this}$n.prototype.clear=bs,$n.prototype.delete=Nr,$n.prototype.get=Ia,$n.prototype.has=Pi,$n.prototype.set=zi;function Jn(H){var me=-1,Oe=H==null?0:H.length;for(this.clear();++me<Oe;){var ot=H[me];this.set(ot[0],ot[1])}}function Ci(){this.__data__=[],this.size=0}function er(H){var me=this.__data__,Oe=ao(me,H);if(Oe<0)return!1;var ot=me.length-1;return Oe==ot?me.pop():ln.call(me,Oe,1),--this.size,!0}function ro(H){var me=this.__data__,Oe=ao(me,H);return Oe<0?void 0:me[Oe][1]}function Co(H){return ao(this.__data__,H)>-1}function Fa(H,me){var Oe=this.__data__,ot=ao(Oe,H);return ot<0?(++this.size,Oe.push([H,me])):Oe[ot][1]=me,this}Jn.prototype.clear=Ci,Jn.prototype.delete=er,Jn.prototype.get=ro,Jn.prototype.has=Co,Jn.prototype.set=Fa;function Fr(H){var me=-1,Oe=H==null?0:H.length;for(this.clear();++me<Oe;){var ot=H[me];this.set(ot[0],ot[1])}}function il(){this.size=0,this.__data__={hash:new $n,map:new(Gt||Jn),string:new $n}}function Ul(H){var me=qi(this,H).delete(H);return this.size-=me?1:0,me}function Ou(H){return qi(this,H).get(H)}function Hc(H){return qi(this,H).has(H)}function $s(H,me){var Oe=qi(this,H),ot=Oe.size;return Oe.set(H,me),this.size+=Oe.size==ot?0:1,this}Fr.prototype.clear=il,Fr.prototype.delete=Ul,Fr.prototype.get=Ou,Fr.prototype.has=Hc,Fr.prototype.set=$s;function ys(H){var me=-1,Oe=H==null?0:H.length;for(this.__data__=new Fr;++me<Oe;)this.add(H[me])}function Pa(H){return this.__data__.set(H,r),this}function xs(H){return this.__data__.has(H)}ys.prototype.add=ys.prototype.push=Pa,ys.prototype.has=xs;function rs(H){var me=this.__data__=new Jn(H);this.size=me.size}function is(){this.__data__=new Jn,this.size=0}function $l(H){var me=this.__data__,Oe=me.delete(H);return this.size=me.size,Oe}function io(H){return this.__data__.get(H)}function Wc(H){return this.__data__.has(H)}function Pr(H,me){var Oe=this.__data__;if(Oe instanceof Jn){var ot=Oe.__data__;if(!Gt||ot.length<t-1)return ot.push([H,me]),this.size=++Oe.size,this;Oe=this.__data__=new Fr(ot)}return Oe.set(H,me),this.size=Oe.size,this}rs.prototype.clear=is,rs.prototype.delete=$l,rs.prototype.get=io,rs.prototype.has=Wc,rs.prototype.set=Pr;function Ji(H,me){var Oe=so(H),ot=!Oe&&tn(H),Jt=!Oe&&!ot&&Ei(H),Bt=!Oe&&!ot&&!Jt&&No(H),jn=Oe||ot||Jt||Bt,Cn=jn?ce(H.length,String):[],pr=Cn.length;for(var pn in H)dt.call(H,pn)&&!(jn&&(pn=="length"||Jt&&(pn=="offset"||pn=="parent")||Bt&&(pn=="buffer"||pn=="byteLength"||pn=="byteOffset")||Vs(pn,pr)))&&Cn.push(pn);return Cn}function ao(H,me){for(var Oe=H.length;Oe--;)if(ws(H[Oe][0],me))return Oe;return-1}function al(H,me,Oe){var ot=me(H);return so(H)?ot:te(ot,Oe(H))}function za(H){return H==null?H===void 0?B:w:Pn&&Pn in Object(H)?vs(H):li(H)}function Hl(H){return $a(H)&&za(H)==l}function ea(H,me,Oe,ot,Jt){return H===me?!0:H==null||me==null||!$a(H)&&!$a(me)?H!==H&&me!==me:sl(H,me,Oe,ot,ea,Jt)}function sl(H,me,Oe,ot,Jt,Bt){var jn=so(H),Cn=so(me),pr=jn?u:qa(H),pn=Cn?u:qa(me);pr=pr==l?C:pr,pn=pn==l?C:pn;var jr=pr==C,va=pn==C,Ar=pr==pn;if(Ar&&Ei(H)){if(!Ei(me))return!1;jn=!0,jr=!1}if(Ar&&!jr)return Bt||(Bt=new rs),jn||No(H)?_o(H,me,Oe,ot,Jt,Bt):Hs(H,me,pr,Oe,ot,Jt,Bt);if(!(Oe&i)){var Cr=jr&&dt.call(H,"__wrapped__"),Qr=va&&dt.call(me,"__wrapped__");if(Cr||Qr){var Ha=Cr?H.value():H,Gs=Qr?me.value():me;return Bt||(Bt=new rs),Jt(Ha,Gs,Oe,ot,Bt)}}return Ar?(Bt||(Bt=new rs),Iu(H,me,Oe,ot,Jt,Bt)):!1}function hr(H){if(!Da(H)||Ys(H))return!1;var me=ko(H)?kt:z;return me.test(ei(H))}function Eo(H){return $a(H)&&Ua(H.length)&&!!ee[za(H)]}function Wl(H){if(!ll(H))return ir(H);var me=[];for(var Oe in Object(H))dt.call(H,Oe)&&Oe!="constructor"&&me.push(Oe);return me}function _o(H,me,Oe,ot,Jt,Bt){var jn=Oe&i,Cn=H.length,pr=me.length;if(Cn!=pr&&!(jn&&pr>Cn))return!1;var pn=Bt.get(H);if(pn&&Bt.get(me))return pn==me;var jr=-1,va=!0,Ar=Oe&a?new ys:void 0;for(Bt.set(H,me),Bt.set(me,H);++jr<Cn;){var Cr=H[jr],Qr=me[jr];if(ot)var Ha=jn?ot(Qr,Cr,jr,me,H,Bt):ot(Cr,Qr,jr,H,me,Bt);if(Ha!==void 0){if(Ha)continue;va=!1;break}if(Ar){if(!be(me,function(Gs,As){if(!De(Ar,As)&&(Cr===Gs||Jt(Cr,Gs,Oe,ot,Bt)))return Ar.push(As)})){va=!1;break}}else if(!(Cr===Qr||Jt(Cr,Qr,Oe,ot,Bt))){va=!1;break}}return Bt.delete(H),Bt.delete(me),va}function Hs(H,me,Oe,ot,Jt,Bt,jn){switch(Oe){case O:if(H.byteLength!=me.byteLength||H.byteOffset!=me.byteOffset)return!1;H=H.buffer,me=me.buffer;case j:return!(H.byteLength!=me.byteLength||!Bt(new Zt(H),new Zt(me)));case f:case g:case A:return ws(+H,+me);case b:return H.name==me.name&&H.message==me.message;case F:case k:return H==me+"";case y:var Cn=Ne;case q:var pr=ot&i;if(Cn||(Cn=lt),H.size!=me.size&&!pr)return!1;var pn=jn.get(H);if(pn)return pn==me;ot|=a,jn.set(H,me);var jr=_o(Cn(H),Cn(me),ot,Jt,Bt,jn);return jn.delete(H),jr;case L:if(fr)return fr.call(H)==fr.call(me)}return!1}function Iu(H,me,Oe,ot,Jt,Bt){var jn=Oe&i,Cn=Ws(H),pr=Cn.length,pn=Ws(me),jr=pn.length;if(pr!=jr&&!jn)return!1;for(var va=pr;va--;){var Ar=Cn[va];if(!(jn?Ar in me:dt.call(me,Ar)))return!1}var Cr=Bt.get(H);if(Cr&&Bt.get(me))return Cr==me;var Qr=!0;Bt.set(H,me),Bt.set(me,H);for(var Ha=jn;++va<pr;){Ar=Cn[va];var Gs=H[Ar],As=me[Ar];if(ot)var Gd=jn?ot(As,Gs,Ar,me,H,Bt):ot(Gs,As,Ar,H,me,Bt);if(!(Gd===void 0?Gs===As||Jt(Gs,As,Oe,ot,Bt):Gd)){Qr=!1;break}Ha||(Ha=Ar=="constructor")}if(Qr&&!Ha){var dl=H.constructor,jo=me.constructor;dl!=jo&&"constructor"in H&&"constructor"in me&&!(typeof dl=="function"&&dl instanceof dl&&typeof jo=="function"&&jo instanceof jo)&&(Qr=!1)}return Bt.delete(H),Bt.delete(me),Qr}function Ws(H){return al(H,cl,Du)}function qi(H,me){var Oe=H.__data__;return ol(me)?Oe[typeof me=="string"?"string":"hash"]:Oe.map}function as(H,me){var Oe=ze(H,me);return hr(Oe)?Oe:void 0}function vs(H){var me=dt.call(H,Pn),Oe=H[Pn];try{H[Pn]=void 0;var ot=!0}catch{}var Jt=Ft.call(H);return ot&&(me?H[Pn]=Oe:delete H[Pn]),Jt}var Du=zn?function(H){return H==null?[]:(H=Object(H),Se(zn(H),function(me){return nn.call(H,me)}))}:oo,qa=za;(Rn&&qa(new Rn(new ArrayBuffer(1)))!=O||Gt&&qa(new Gt)!=y||An&&qa(An.resolve())!=N||ya&&qa(new ya)!=q||Sr&&qa(new Sr)!=X)&&(qa=function(H){var me=za(H),Oe=me==C?H.constructor:void 0,ot=Oe?ei(Oe):"";if(ot)switch(ot){case xa:return O;case Dt:return y;case Hn:return N;case ar:return q;case Mr:return X}return me});function Vs(H,me){return me=me??s,!!me&&(typeof H=="number"||Z.test(H))&&H>-1&&H%1==0&&H<me}function ol(H){var me=typeof H;return me=="string"||me=="number"||me=="symbol"||me=="boolean"?H!=="__proto__":H===null}function Ys(H){return!!Je&&Je in H}function ll(H){var me=H&&H.constructor,Oe=typeof me=="function"&&me.prototype||ve;return H===Oe}function li(H){return Ft.call(H)}function ei(H){if(H!=null){try{return Te.call(H)}catch{}try{return H+""}catch{}}return""}function ws(H,me){return H===me||H!==H&&me!==me}var tn=Hl(function(){return arguments}())?Hl:function(H){return $a(H)&&dt.call(H,"callee")&&!nn.call(H,"callee")},so=Array.isArray;function ul(H){return H!=null&&Ua(H.length)&&!ko(H)}var Ei=Gr||Ss;function Ba(H,me){return ea(H,me)}function ko(H){if(!Da(H))return!1;var me=za(H);return me==m||me==x||me==d||me==R}function Ua(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=s}function Da(H){var me=typeof H;return H!=null&&(me=="object"||me=="function")}function $a(H){return H!=null&&typeof H=="object"}var No=V?Ae(V):Eo;function cl(H){return ul(H)?Ji(H):Wl(H)}function oo(){return[]}function Ss(){return!1}e.exports=Ba}(V1,V1.exports)),V1.exports}var vy={},_k;function qU(){if(_k)return vy;_k=1,Object.defineProperty(vy,"__esModule",{value:!0});const e=j7(),n=T7();var t;return function(r){function i(u={},d={},f=!1){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});let g=e(d);f||(g=Object.keys(g).reduce((b,m)=>(g[m]!=null&&(b[m]=g[m]),b),{}));for(const b in u)u[b]!==void 0&&d[b]===void 0&&(g[b]=u[b]);return Object.keys(g).length>0?g:void 0}r.compose=i;function a(u={},d={}){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});const f=Object.keys(u).concat(Object.keys(d)).reduce((g,b)=>(n(u[b],d[b])||(g[b]=d[b]===void 0?null:d[b]),g),{});return Object.keys(f).length>0?f:void 0}r.diff=a;function s(u={},d={}){u=u||{};const f=Object.keys(d).reduce((g,b)=>(d[b]!==u[b]&&u[b]!==void 0&&(g[b]=d[b]),g),{});return Object.keys(u).reduce((g,b)=>(u[b]!==d[b]&&d[b]===void 0&&(g[b]=null),g),f)}r.invert=s;function l(u,d,f=!1){if(typeof u!="object")return d;if(typeof d!="object")return;if(!f)return d;const g=Object.keys(d).reduce((b,m)=>(u[m]===void 0&&(b[m]=d[m]),b),{});return Object.keys(g).length>0?g:void 0}r.transform=l}(t||(t={})),vy.default=t,vy}var wy={},kk;function O7(){if(kk)return wy;kk=1,Object.defineProperty(wy,"__esModule",{value:!0});var e;return function(n){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}n.length=t}(e||(e={})),wy.default=e,wy}var Sy={},Nk;function BU(){if(Nk)return Sy;Nk=1,Object.defineProperty(Sy,"__esModule",{value:!0});const e=O7();class n{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const a=this.offset,s=e.default.length(i);if(r>=s-a?(r=s-a,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const l={};return i.attributes&&(l.attributes=i.attributes),typeof i.retain=="number"?l.retain=r:typeof i.retain=="object"&&i.retain!==null?l.retain=i.retain:typeof i.insert=="string"?l.insert=i.insert.substr(a,r):l.insert=i.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,a=this.next(),s=this.ops.slice(this.index);return this.offset=r,this.index=i,[a].concat(s)}}else return[]}}return Sy.default=n,Sy}var jk;function UU(){return jk||(jk=1,function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AttributeMap=n.OpIterator=n.Op=void 0;const t=zU(),r=j7(),i=T7(),a=qU();n.AttributeMap=a.default;const s=O7();n.Op=s.default;const l=BU();n.OpIterator=l.default;const u="\0",d=(g,b)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof b!="object"||b===null)throw new Error(`cannot retain a ${typeof b}`);const m=Object.keys(g)[0];if(!m||m!==Object.keys(b)[0])throw new Error(`embed types not matched: ${m} != ${Object.keys(b)[0]}`);return[m,g[m],b[m]]};class f{constructor(b){Array.isArray(b)?this.ops=b:b!=null&&Array.isArray(b.ops)?this.ops=b.ops:this.ops=[]}static registerEmbed(b,m){this.handlers[b]=m}static unregisterEmbed(b){delete this.handlers[b]}static getHandler(b){const m=this.handlers[b];if(!m)throw new Error(`no handlers for embed type "${b}"`);return m}insert(b,m){const x={};return typeof b=="string"&&b.length===0?this:(x.insert=b,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(x.attributes=m),this.push(x))}delete(b){return b<=0?this:this.push({delete:b})}retain(b,m){if(typeof b=="number"&&b<=0)return this;const x={retain:b};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(x.attributes=m),this.push(x)}push(b){let m=this.ops.length,x=this.ops[m-1];if(b=r(b),typeof x=="object"){if(typeof b.delete=="number"&&typeof x.delete=="number")return this.ops[m-1]={delete:x.delete+b.delete},this;if(typeof x.delete=="number"&&b.insert!=null&&(m-=1,x=this.ops[m-1],typeof x!="object"))return this.ops.unshift(b),this;if(i(b.attributes,x.attributes)){if(typeof b.insert=="string"&&typeof x.insert=="string")return this.ops[m-1]={insert:x.insert+b.insert},typeof b.attributes=="object"&&(this.ops[m-1].attributes=b.attributes),this;if(typeof b.retain=="number"&&typeof x.retain=="number")return this.ops[m-1]={retain:x.retain+b.retain},typeof b.attributes=="object"&&(this.ops[m-1].attributes=b.attributes),this}}return m===this.ops.length?this.ops.push(b):this.ops.splice(m,0,b),this}chop(){const b=this.ops[this.ops.length-1];return b&&typeof b.retain=="number"&&!b.attributes&&this.ops.pop(),this}filter(b){return this.ops.filter(b)}forEach(b){this.ops.forEach(b)}map(b){return this.ops.map(b)}partition(b){const m=[],x=[];return this.forEach(y=>{(b(y)?m:x).push(y)}),[m,x]}reduce(b,m){return this.ops.reduce(b,m)}changeLength(){return this.reduce((b,m)=>m.insert?b+s.default.length(m):m.delete?b-m.delete:b,0)}length(){return this.reduce((b,m)=>b+s.default.length(m),0)}slice(b=0,m=1/0){const x=[],y=new l.default(this.ops);let A=0;for(;A<m&&y.hasNext();){let w;A<b?w=y.next(b-A):(w=y.next(m-A),x.push(w)),A+=s.default.length(w)}return new f(x)}compose(b){const m=new l.default(this.ops),x=new l.default(b.ops),y=[],A=x.peek();if(A!=null&&typeof A.retain=="number"&&A.attributes==null){let C=A.retain;for(;m.peekType()==="insert"&&m.peekLength()<=C;)C-=m.peekLength(),y.push(m.next());A.retain-C>0&&x.next(A.retain-C)}const w=new f(y);for(;m.hasNext()||x.hasNext();)if(x.peekType()==="insert")w.push(x.next());else if(m.peekType()==="delete")w.push(m.next());else{const C=Math.min(m.peekLength(),x.peekLength()),N=m.next(C),R=x.next(C);if(R.retain){const F={};if(typeof N.retain=="number")F.retain=typeof R.retain=="number"?C:R.retain;else if(typeof R.retain=="number")N.retain==null?F.insert=N.insert:F.retain=N.retain;else{const k=N.retain==null?"insert":"retain",[L,B,X]=d(N[k],R.retain),j=f.getHandler(L);F[k]={[L]:j.compose(B,X,k==="retain")}}const q=a.default.compose(N.attributes,R.attributes,typeof N.retain=="number");if(q&&(F.attributes=q),w.push(F),!x.hasNext()&&i(w.ops[w.ops.length-1],F)){const k=new f(m.rest());return w.concat(k).chop()}}else typeof R.delete=="number"&&(typeof N.retain=="number"||typeof N.retain=="object"&&N.retain!==null)&&w.push(R)}return w.chop()}concat(b){const m=new f(this.ops.slice());return b.ops.length>0&&(m.push(b.ops[0]),m.ops=m.ops.concat(b.ops.slice(1))),m}diff(b,m){if(this.ops===b.ops)return new f;const x=[this,b].map(N=>N.map(R=>{if(R.insert!=null)return typeof R.insert=="string"?R.insert:u;const F=N===b?"on":"with";throw new Error("diff() called "+F+" non-document")}).join("")),y=new f,A=t(x[0],x[1],m,!0),w=new l.default(this.ops),C=new l.default(b.ops);return A.forEach(N=>{let R=N[1].length;for(;R>0;){let F=0;switch(N[0]){case t.INSERT:F=Math.min(C.peekLength(),R),y.push(C.next(F));break;case t.DELETE:F=Math.min(R,w.peekLength()),w.next(F),y.delete(F);break;case t.EQUAL:F=Math.min(w.peekLength(),C.peekLength(),R);const q=w.next(F),k=C.next(F);i(q.insert,k.insert)?y.retain(F,a.default.diff(q.attributes,k.attributes)):y.push(k).delete(F);break}R-=F}}),y.chop()}eachLine(b,m=`
`){const x=new l.default(this.ops);let y=new f,A=0;for(;x.hasNext();){if(x.peekType()!=="insert")return;const w=x.peek(),C=s.default.length(w)-x.peekLength(),N=typeof w.insert=="string"?w.insert.indexOf(m,C)-C:-1;if(N<0)y.push(x.next());else if(N>0)y.push(x.next(N));else{if(b(y,x.next(1).attributes||{},A)===!1)return;A+=1,y=new f}}y.length()>0&&b(y,{},A)}invert(b){const m=new f;return this.reduce((x,y)=>{if(y.insert)m.delete(s.default.length(y));else{if(typeof y.retain=="number"&&y.attributes==null)return m.retain(y.retain),x+y.retain;if(y.delete||typeof y.retain=="number"){const A=y.delete||y.retain;return b.slice(x,x+A).forEach(C=>{y.delete?m.push(C):y.retain&&y.attributes&&m.retain(s.default.length(C),a.default.invert(y.attributes,C.attributes))}),x+A}else if(typeof y.retain=="object"&&y.retain!==null){const A=b.slice(x,x+1),w=new l.default(A.ops).next(),[C,N,R]=d(y.retain,w.insert),F=f.getHandler(C);return m.retain({[C]:F.invert(N,R)},a.default.invert(y.attributes,w.attributes)),x+1}}return x},0),m.chop()}transform(b,m=!1){if(m=!!m,typeof b=="number")return this.transformPosition(b,m);const x=b,y=new l.default(this.ops),A=new l.default(x.ops),w=new f;for(;y.hasNext()||A.hasNext();)if(y.peekType()==="insert"&&(m||A.peekType()!=="insert"))w.retain(s.default.length(y.next()));else if(A.peekType()==="insert")w.push(A.next());else{const C=Math.min(y.peekLength(),A.peekLength()),N=y.next(C),R=A.next(C);if(N.delete)continue;if(R.delete)w.push(R);else{const F=N.retain,q=R.retain;let k=typeof q=="object"&&q!==null?q:C;if(typeof F=="object"&&F!==null&&typeof q=="object"&&q!==null){const L=Object.keys(F)[0];if(L===Object.keys(q)[0]){const B=f.getHandler(L);B&&(k={[L]:B.transform(F[L],q[L],m)})}}w.retain(k,a.default.transform(N.attributes,R.attributes,m))}}return w.chop()}transformPosition(b,m=!1){m=!!m;const x=new l.default(this.ops);let y=0;for(;x.hasNext()&&y<=b;){const A=x.peekLength(),w=x.peekType();if(x.next(),w==="delete"){b-=Math.min(A,b-y);continue}else w==="insert"&&(y<b||!m)&&(b+=A);y+=A}return b}}f.Op=s.default,f.OpIterator=l.default,f.AttributeMap=a.default,f.handlers={},n.default=f,e.exports=f,e.exports.default=f}(xy,xy.exports)),xy.exports}var Dl=UU();const Ht=ts(Dl);class Eu extends rl{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Eu.blotName="break";Eu.tagName="BR";let Su=class extends Ix{};const $U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function wv(e){return e.replace(/[&<>"']/g,n=>$U[n])}const lc=class lc extends W6{static compare(n,t){const r=lc.order.indexOf(n),i=lc.order.indexOf(t);return r>=0||i>=0?r-i:n===t?0:n<t?-1:1}formatAt(n,t,r,i){if(lc.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Wt.BLOT)){const a=this.isolate(n,t);i&&a.wrap(r,i)}else super.formatAt(n,t,r,i)}optimize(n){if(super.optimize(n),this.parent instanceof lc&&lc.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};et(lc,"allowedChildren",[lc,Eu,rl,Su]),et(lc,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Pc=lc;const Tk=1;class gs extends yg{constructor(){super(...arguments);et(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=I7(this)),this.cache.delta}deleteAt(t,r){super.deleteAt(t,r),this.cache={}}formatAt(t,r,i,a){r<=0||(this.scroll.query(i,Wt.BLOCK)?t+r===this.length()&&this.format(i,a):super.formatAt(t,Math.min(r,this.length()-t-1),i,a),this.cache={})}insertAt(t,r,i){if(i!=null){super.insertAt(t,r,i),this.cache={};return}if(r.length===0)return;const a=r.split(`
`),s=a.shift();s.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});let l=this;a.reduce((u,d)=>(l=l.split(u,!0),l.insertAt(0,d),d.length),t+s.length)}insertBefore(t,r){const{head:i}=this.children;super.insertBefore(t,r),i instanceof Eu&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Tk),this.cache.length}moveChildren(t,r){super.moveChildren(t,r),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(t===0||t>=this.length()-Tk)){const a=this.clone();return t===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const i=super.split(t,r);return this.cache={},i}}gs.blotName="block";gs.tagName="P";gs.defaultChild=Eu;gs.allowedChildren=[Eu,Pc,rl,Su];class Il extends rl{attach(){super.attach(),this.attributes=new xv(this.domNode)}delta(){return new Ht().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(n,t){const r=this.scroll.query(n,Wt.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(n,t,r,i){this.format(r,i)}insertAt(n,t,r){if(r!=null){super.insertAt(n,t,r);return}const i=t.split(`
`),a=i.pop(),s=i.map(u=>{const d=this.scroll.create(gs.blotName);return d.insertAt(0,u),d}),l=this.split(n);s.forEach(u=>{this.parent.insertBefore(u,l)}),a&&this.parent.insertBefore(this.scroll.create("text",a),l)}}Il.scope=Wt.BLOCK_BLOT;function I7(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(Fs).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),El(r,{},n)),new Ht).insert(`
`,El(e))}function El(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(n={...n,...e.formats()},t&&delete n["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?n:El(e.parent,n,t)}const Al=class Al extends rl{static value(){}constructor(n,t,r){super(n,t),this.selection=r,this.textNode=document.createTextNode(Al.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(n,t){if(this.savedLength!==0){super.format(n,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==Wt.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Al.CONTENTS.length,r.optimize(),r.formatAt(i,Al.CONTENTS.length,n,t),this.savedLength=0)}index(n,t){return n===this.textNode?0:super.index(n,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const n=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof Su?this.prev:null,r=t?t.length():0,i=this.next instanceof Su?this.next:null,a=i?i.text:"",{textNode:s}=this,l=s.data.split(Al.CONTENTS).join("");s.data=Al.CONTENTS;let u;if(t)u=t,(l||i)&&(t.insertAt(t.length(),l+a),i&&i.remove());else if(i)u=i,i.insertAt(0,l);else{const d=document.createTextNode(l);u=this.scroll.create(d),this.parent.insertBefore(u,this)}if(this.remove(),n){const d=(b,m)=>t&&b===t.domNode?m:b===s?r+m-1:i&&b===i.domNode?r+l.length+m:null,f=d(n.start.node,n.start.offset),g=d(n.end.node,n.end.offset);if(f!==null&&g!==null)return{startNode:u.domNode,startOffset:f,endNode:u.domNode,endOffset:g}}return null}update(n,t){if(n.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(n){super.optimize(n);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Al.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};et(Al,"blotName","cursor"),et(Al,"className","ql-cursor"),et(Al,"tagName","span"),et(Al,"CONTENTS","\uFEFF");let tm=Al;var B5={exports:{}},Ok;function HU(){return Ok||(Ok=1,function(e){var n=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function a(u,d,f,g,b){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,g||u,b),x=t?t+d:d;return u._events[x]?u._events[x].fn?u._events[x]=[u._events[x],m]:u._events[x].push(m):(u._events[x]=m,u._eventsCount++),u}function s(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,g;if(this._eventsCount===0)return d;for(g in f=this._events)n.call(f,g)&&d.push(t?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=t?t+d:d,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,m=g.length,x=new Array(m);b<m;b++)x[b]=g[b].fn;return x},l.prototype.listenerCount=function(d){var f=t?t+d:d,g=this._events[f];return g?g.fn?1:g.length:0},l.prototype.emit=function(d,f,g,b,m,x){var y=t?t+d:d;if(!this._events[y])return!1;var A=this._events[y],w=arguments.length,C,N;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),w){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,f),!0;case 3:return A.fn.call(A.context,f,g),!0;case 4:return A.fn.call(A.context,f,g,b),!0;case 5:return A.fn.call(A.context,f,g,b,m),!0;case 6:return A.fn.call(A.context,f,g,b,m,x),!0}for(N=1,C=new Array(w-1);N<w;N++)C[N-1]=arguments[N];A.fn.apply(A.context,C)}else{var R=A.length,F;for(N=0;N<R;N++)switch(A[N].once&&this.removeListener(d,A[N].fn,void 0,!0),w){case 1:A[N].fn.call(A[N].context);break;case 2:A[N].fn.call(A[N].context,f);break;case 3:A[N].fn.call(A[N].context,f,g);break;case 4:A[N].fn.call(A[N].context,f,g,b);break;default:if(!C)for(F=1,C=new Array(w-1);F<w;F++)C[F-1]=arguments[F];A[N].fn.apply(A[N].context,C)}}return!0},l.prototype.on=function(d,f,g){return a(this,d,f,g,!1)},l.prototype.once=function(d,f,g){return a(this,d,f,g,!0)},l.prototype.removeListener=function(d,f,g,b){var m=t?t+d:d;if(!this._events[m])return this;if(!f)return s(this,m),this;var x=this._events[m];if(x.fn)x.fn===f&&(!b||x.once)&&(!g||x.context===g)&&s(this,m);else{for(var y=0,A=[],w=x.length;y<w;y++)(x[y].fn!==f||b&&!x[y].once||g&&x[y].context!==g)&&A.push(x[y]);A.length?this._events[m]=A.length===1?A[0]:A:s(this,m)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=t?t+d:d,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,e.exports=l}(B5)),B5.exports}var WU=HU();const VU=ts(WU),mS=new WeakMap,gS=["error","warn","log","info"];let bS="warn";function D7(e){if(bS&&gS.indexOf(e)<=gS.indexOf(bS)){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];console[e](...t)}}function Wd(e){return gS.reduce((n,t)=>(n[t]=D7.bind(console,t,e),n),{})}Wd.level=e=>{bS=e};D7.level=Wd.level;const U5=Wd("quill:events"),YU=["selectionchange","mousedown","mouseup","click"];YU.forEach(e=>{document.addEventListener(e,function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const a=mS.get(i);a&&a.emitter&&a.emitter.handleDOM(...t)})})});class Pt extends VU{constructor(){super(),this.domListeners={},this.on("error",U5.error)}emit(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return U5.log.call(U5,...t),super.emit(...t)}handleDOM(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[n.type]||[]).forEach(a=>{let{node:s,handler:l}=a;(n.target===s||s.contains(n.target))&&l(n,...r)})}listenDOM(n,t,r){this.domListeners[n]||(this.domListeners[n]=[]),this.domListeners[n].push({node:t,handler:r})}}et(Pt,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),et(Pt,"sources",{API:"api",SILENT:"silent",USER:"user"});const $5=Wd("quill:selection");class fp{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=n,this.length=t}}class GU{constructor(n,t){this.emitter=t,this.scroll=n,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new fp(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Pt.sources.USER),1)}),this.emitter.on(Pt.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(Pt.events.SCROLL_UPDATE,(i,a)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const s=a.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(s?Pt.sources.SILENT:i)}catch{}})}),this.emitter.on(Pt.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:a,startOffset:s,endNode:l,endOffset:u}=i.range;this.setNativeRange(a,s,l,u),this.update(Pt.sources.SILENT)}}),this.update(Pt.sources.SILENT)}handleComposition(){this.emitter.on(Pt.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Pt.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const n=this.cursor.restore();if(!n)return;setTimeout(()=>{this.setNativeRange(n.startNode,n.startOffset,n.endNode,n.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Pt.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(n,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(n,Wt.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof Fs){const a=i.split(r.start.offset);i.parent.insertBefore(this.cursor,a)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(n,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();n=Math.min(n,r-1),t=Math.min(n+t,r-1)-n;let i,[a,s]=this.scroll.leaf(n);if(a==null)return null;if(t>0&&s===a.length()){const[f]=this.scroll.leaf(n+1);if(f){const[g]=this.scroll.line(n),[b]=this.scroll.line(n+1);g===b&&(a=f,s=0)}}[i,s]=a.position(s,!0);const l=document.createRange();if(t>0)return l.setStart(i,s),[a,s]=this.scroll.leaf(n+t),a==null?null:([i,s]=a.position(s,!0),l.setEnd(i,s),l.getBoundingClientRect());let u="left",d;if(i instanceof Text){if(!i.data.length)return null;s<i.data.length?(l.setStart(i,s),l.setEnd(i,s+1)):(l.setStart(i,s-1),l.setEnd(i,s),u="right"),d=l.getBoundingClientRect()}else{if(!(a.domNode instanceof Element))return null;d=a.domNode.getBoundingClientRect(),s>0&&(u="right")}return{bottom:d.top+d.height,height:d.height,left:d[u],right:d[u],top:d.top,width:0}}getNativeRange(){const n=document.getSelection();if(n==null||n.rangeCount<=0)return null;const t=n.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return $5.info("getNativeRange",r),r}getRange(){const n=this.scroll.domNode;if("isConnected"in n&&!n.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&H5(this.root,document.activeElement)}normalizedToRange(n){const t=[[n.start.node,n.start.offset]];n.native.collapsed||t.push([n.end.node,n.end.offset]);const r=t.map(s=>{const[l,u]=s,d=this.scroll.find(l,!0),f=d.offset(this.scroll);return u===0?f:d instanceof Fs?f+d.index(l,u):f+d.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),a=Math.min(i,...r);return new fp(a,i-a)}normalizeNative(n){if(!H5(this.root,n.startContainer)||!n.collapsed&&!H5(this.root,n.endContainer))return null;const t={start:{node:n.startContainer,offset:n.startOffset},end:{node:n.endContainer,offset:n.endOffset},native:n};return[t.start,t.end].forEach(r=>{let{node:i,offset:a}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>a)i=i.childNodes[a],a=0;else if(i.childNodes.length===a)i=i.lastChild,i instanceof Text?a=i.data.length:i.childNodes.length>0?a=i.childNodes.length:a=i.childNodes.length+1;else break;r.node=i,r.offset=a}),t}rangeToNative(n){const t=this.scroll.length(),r=(i,a)=>{i=Math.min(t-1,i);const[s,l]=this.scroll.leaf(i);return s?s.position(l,a):[null,-1]};return[...r(n.index,!1),...r(n.index+n.length,!0)]}setNativeRange(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if($5.info("setNativeRange",n,t,r,i),n!=null&&(this.root.parentNode==null||n.parentNode==null||r.parentNode==null))return;const s=document.getSelection();if(s!=null)if(n!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||a||n!==l.startContainer||t!==l.startOffset||r!==l.endContainer||i!==l.endOffset){n instanceof Element&&n.tagName==="BR"&&(t=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const u=document.createRange();u.setStart(n,t),u.setEnd(r,i),s.removeAllRanges(),s.addRange(u)}}else s.removeAllRanges(),this.root.blur()}setRange(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pt.sources.API;if(typeof t=="string"&&(r=t,t=!1),$5.info("setRange",n),n!=null){const i=this.rangeToNative(n);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pt.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!Mf(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const s=this.cursor.restore();s&&this.setNativeRange(s.startNode,s.startOffset,s.endNode,s.endOffset)}const a=[Pt.events.SELECTION_CHANGE,M0(this.lastRange),M0(t),n];this.emitter.emit(Pt.events.EDITOR_CHANGE,...a),n!==Pt.sources.SILENT&&this.emitter.emit(...a)}}}function H5(e,n){try{n.parentNode}catch{return!1}return e.contains(n)}const QU=/^[ -~]*$/;class KU{constructor(n){this.scroll=n,this.delta=this.getDelta()}applyDelta(n){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=Ik(n),i=new Ht;return ZU(r.ops.slice()).reduce((s,l)=>{const u=Dl.Op.length(l);let d=l.attributes||{},f=!1,g=!1;if(l.insert!=null){if(i.retain(u),typeof l.insert=="string"){const x=l.insert;g=!x.endsWith(`
`)&&(t<=s||!!this.scroll.descendant(Il,s)[0]),this.scroll.insertAt(s,x);const[y,A]=this.scroll.line(s);let w=Kf({},El(y));if(y instanceof gs){const[C]=y.descendant(Fs,A);C&&(w=Kf(w,El(C)))}d=Dl.AttributeMap.diff(w,d)||{}}else if(typeof l.insert=="object"){const x=Object.keys(l.insert)[0];if(x==null)return s;const y=this.scroll.query(x,Wt.INLINE)!=null;if(y)(t<=s||this.scroll.descendant(Il,s)[0])&&(g=!0);else if(s>0){const[A,w]=this.scroll.descendant(Fs,s-1);A instanceof Su?A.value()[w]!==`
`&&(f=!0):A instanceof rl&&A.statics.scope===Wt.INLINE_BLOT&&(f=!0)}if(this.scroll.insertAt(s,x,l.insert[x]),y){const[A]=this.scroll.descendant(Fs,s);if(A){const w=Kf({},El(A));d=Dl.AttributeMap.diff(w,d)||{}}}}t+=u}else if(i.push(l),l.retain!==null&&typeof l.retain=="object"){const x=Object.keys(l.retain)[0];if(x==null)return s;this.scroll.updateEmbedAt(s,x,l.retain[x])}Object.keys(d).forEach(x=>{this.scroll.formatAt(s,u,x,d[x])});const b=f?1:0,m=g?1:0;return t+=b+m,i.retain(b),i.delete(m),s+u+b+m},0),i.reduce((s,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(s,l.delete),s):s+Dl.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(n,t){return this.scroll.deleteAt(n,t),this.update(new Ht().retain(n).delete(t))}formatLine(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(a=>{this.scroll.lines(n,Math.max(t,1)).forEach(s=>{s.format(a,r[a])})}),this.scroll.optimize();const i=new Ht().retain(n).retain(t,M0(r));return this.update(i)}formatText(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(a=>{this.scroll.formatAt(n,t,a,r[a])});const i=new Ht().retain(n).retain(t,M0(r));return this.update(i)}getContents(n,t){return this.delta.slice(n,n+t)}getDelta(){return this.scroll.lines().reduce((n,t)=>n.concat(t.delta()),new Ht)}getFormat(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(n).forEach(l=>{const[u]=l;u instanceof gs?r.push(u):u instanceof Fs&&i.push(u)}):(r=this.scroll.lines(n,t),i=this.scroll.descendants(Fs,n,t));const[a,s]=[r,i].map(l=>{const u=l.shift();if(u==null)return{};let d=El(u);for(;Object.keys(d).length>0;){const f=l.shift();if(f==null)return d;d=XU(El(f),d)}return d});return{...a,...s}}getHTML(n,t){const[r,i]=this.scroll.line(n);if(r){const a=r.length();return r.length()>=i+t&&!(i===0&&t===a)?xg(r,i,t,!0):xg(this.scroll,n,t,!0)}return""}getText(n,t){return this.getContents(n,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(n,t){const r=Ik(t),i=new Ht().retain(n).concat(r);return this.scroll.insertContents(n,r),this.update(i)}insertEmbed(n,t,r){return this.scroll.insertAt(n,t,r),this.update(new Ht().retain(n).insert({[t]:r}))}insertText(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(n,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(n,t.length,i,r[i])}),this.update(new Ht().retain(n).insert(t,M0(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const n=this.scroll.children.head;if((n==null?void 0:n.statics.blotName)!==gs.blotName)return!1;const t=n;return t.children.length>1?!1:t.children.head instanceof Eu}removeFormat(n,t){const r=this.getText(n,t),[i,a]=this.scroll.line(n+t);let s=0,l=new Ht;i!=null&&(s=i.length()-a,l=i.delta().slice(a,a+s-1).insert(`
`));const d=this.getContents(n,t+s).diff(new Ht().insert(r).concat(l)),f=new Ht().retain(n).concat(d);return this.applyDelta(f)}update(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(QU)&&this.scroll.find(t[0].target)){const a=this.scroll.find(t[0].target),s=El(a),l=a.offset(this.scroll),u=t[0].oldValue.replace(tm.CONTENTS,""),d=new Ht().insert(u),f=new Ht().insert(a.value()),g=r&&{oldRange:Dk(r.oldRange,-l),newRange:Dk(r.newRange,-l)};n=new Ht().retain(l).concat(d.diff(f,g)).reduce((m,x)=>x.insert?m.insert(x.insert,s):m.push(x),new Ht),this.delta=i.compose(n)}else this.delta=this.getDelta(),(!n||!Mf(i.compose(n),this.delta))&&(n=i.diff(this.delta,r));return n}}function j0(e,n,t){if(e.length===0){const[m]=W5(t.pop());return n<=0?`</li></${m}>`:`</li></${m}>${j0([],n-1,t)}`}const[{child:r,offset:i,length:a,indent:s,type:l},...u]=e,[d,f]=W5(l);if(s>n)return t.push(l),s===n+1?`<${d}><li${f}>${xg(r,i,a)}${j0(u,s,t)}`:`<${d}><li>${j0(e,n+1,t)}`;const g=t[t.length-1];if(s===n&&l===g)return`</li><li${f}>${xg(r,i,a)}${j0(u,s,t)}`;const[b]=W5(t.pop());return`</li></${b}>${j0(e,n-1,t)}`}function xg(e,n,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(n,t);if(e instanceof Su)return wv(e.value().slice(n,n+t)).replaceAll(" ","&nbsp;");if(e instanceof vu){if(e.statics.blotName==="list-container"){const d=[];return e.children.forEachAt(n,t,(f,g,b)=>{const m="formats"in f&&typeof f.formats=="function"?f.formats():{};d.push({child:f,offset:g,length:b,indent:m.indent||0,type:m.list})}),j0(d,-1,[])}const i=[];if(e.children.forEachAt(n,t,(d,f,g)=>{i.push(xg(d,f,g))}),r||e.statics.blotName==="list")return i.join("");const{outerHTML:a,innerHTML:s}=e.domNode,[l,u]=a.split(`>${s}<`);return l==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${u}`:`${l}>${i.join("")}<${u}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function XU(e,n){return Object.keys(n).reduce((t,r)=>{if(e[r]==null)return t;const i=n[r];return i===e[r]?t[r]=i:Array.isArray(i)?i.indexOf(e[r])<0?t[r]=i.concat([e[r]]):t[r]=i:t[r]=[i,e[r]],t},{})}function W5(e){const n=e==="ordered"?"ol":"ul";switch(e){case"checked":return[n,' data-list="checked"'];case"unchecked":return[n,' data-list="unchecked"'];default:return[n,""]}}function Ik(e){return e.reduce((n,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return n.insert(r,t.attributes)}return n.push(t)},new Ht)}function Dk(e,n){let{index:t,length:r}=e;return new fp(t+n,r)}function ZU(e){const n=[];return e.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,a)=>{a&&n.push({insert:`
`,attributes:t.attributes}),i&&n.push({insert:i,attributes:t.attributes})}):n.push(t)}),n}class _u{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=n,this.options=t}}et(_u,"DEFAULTS",{});const Ay="\uFEFF";class Y6 extends rl{constructor(n,t){super(n,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(Ay),this.rightGuard=document.createTextNode(Ay),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(n,t){return n===this.leftGuard?0:n===this.rightGuard?1:super.index(n,t)}restore(n){let t=null,r;const i=n.data.split(Ay).join("");if(n===this.leftGuard)if(this.prev instanceof Su){const a=this.prev.length();this.prev.insertAt(a,i),t={startNode:this.prev.domNode,startOffset:a+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else n===this.rightGuard&&(this.next instanceof Su?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return n.data=Ay,t}update(n,t){n.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class JU{constructor(n,t){et(this,"isComposing",!1);this.scroll=n,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",n=>{this.isComposing||this.handleCompositionStart(n)}),this.scroll.domNode.addEventListener("compositionend",n=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(n)})})}handleCompositionStart(n){const t=n.target instanceof Node?this.scroll.find(n.target,!0):null;t&&!(t instanceof Y6)&&(this.emitter.emit(Pt.events.COMPOSITION_BEFORE_START,n),this.scroll.batchStart(),this.emitter.emit(Pt.events.COMPOSITION_START,n),this.isComposing=!0)}handleCompositionEnd(n){this.emitter.emit(Pt.events.COMPOSITION_BEFORE_END,n),this.scroll.batchEnd(),this.emitter.emit(Pt.events.COMPOSITION_END,n),this.isComposing=!1}}const ag=class ag{constructor(n,t){et(this,"modules",{});this.quill=n,this.options=t}init(){Object.keys(this.options.modules).forEach(n=>{this.modules[n]==null&&this.addModule(n)})}addModule(n){const t=this.quill.constructor.import(`modules/${n}`);return this.modules[n]=new t(this.quill,this.options.modules[n]||{}),this.modules[n]}};et(ag,"DEFAULTS",{modules:{}}),et(ag,"themes",{default:ag});let nm=ag;const e$=e=>e.parentElement||e.getRootNode().host||null,t$=e=>{const n=e.getBoundingClientRect(),t="offsetWidth"in e&&Math.abs(n.width)/e.offsetWidth||1,r="offsetHeight"in e&&Math.abs(n.height)/e.offsetHeight||1;return{top:n.top,right:n.left+e.clientWidth*t,bottom:n.top+e.clientHeight*r,left:n.left}},Cy=e=>{const n=parseInt(e,10);return Number.isNaN(n)?0:n},Lk=(e,n,t,r,i,a)=>e<t&&n>r?0:e<t?-(t-e+i):n>r?n-e>r-t?e+i-t:n-r+a:0,n$=(e,n)=>{var a,s,l;const t=e.ownerDocument;let r=n,i=e;for(;i;){const u=i===t.body,d=u?{top:0,right:((a=window.visualViewport)==null?void 0:a.width)??t.documentElement.clientWidth,bottom:((s=window.visualViewport)==null?void 0:s.height)??t.documentElement.clientHeight,left:0}:t$(i),f=getComputedStyle(i),g=Lk(r.left,r.right,d.left,d.right,Cy(f.scrollPaddingLeft),Cy(f.scrollPaddingRight)),b=Lk(r.top,r.bottom,d.top,d.bottom,Cy(f.scrollPaddingTop),Cy(f.scrollPaddingBottom));if(g||b)if(u)(l=t.defaultView)==null||l.scrollBy(g,b);else{const{scrollLeft:m,scrollTop:x}=i;b&&(i.scrollTop+=b),g&&(i.scrollLeft+=g);const y=i.scrollLeft-m,A=i.scrollTop-x;r={left:r.left-y,top:r.top-A,right:r.right-y,bottom:r.bottom-A}}i=u||f.position==="fixed"?null:e$(i)}},r$=100,i$=["block","break","cursor","inline","scroll","text"],a$=(e,n,t)=>{const r=new em;return i$.forEach(i=>{const a=n.query(i);a&&r.register(a)}),e.forEach(i=>{let a=n.query(i);a||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let s=0;for(;a;)if(r.register(a),a="blotName"in a?a.requiredContainer??null:null,s+=1,s>r$){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},P0=Wd("quill"),Ey=new em;vu.uiClass="ql-ui";const hu=class hu{static debug(n){n===!0&&(n="log"),Wd.level(n)}static find(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return mS.get(n)||Ey.find(n,t)}static import(n){return this.imports[n]==null&&P0.error(`Cannot import ${n}. Are you sure it was registered?`),this.imports[n]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const n=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in n?n.attrName:n.blotName;typeof r=="string"?this.register(`formats/${r}`,n,t):Object.keys(n).forEach(i=>{this.register(i,n[i],t)})}else{const n=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[n]!=null&&!r&&P0.warn(`Overwriting ${n} with`,t),this.imports[n]=t,(n.startsWith("blots/")||n.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&Ey.register(t),typeof t.register=="function"&&t.register(Ey)}}constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=s$(n,t),this.container=this.options.container,this.container==null){P0.error("Invalid Quill container",n);return}this.options.debug&&hu.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",mS.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Pt;const i=V6.blotName,a=this.options.registry.query(i);if(!a||!("blotName"in a))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new a(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new KU(this.scroll),this.selection=new GU(this.scroll,this.emitter),this.composition=new JU(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Pt.events.EDITOR_CHANGE,s=>{s===Pt.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Pt.events.SCROLL_UPDATE,(s,l)=>{const u=this.selection.lastRange,[d]=this.selection.getRange(),f=u&&d?{oldRange:u,newRange:d}:void 0;cu.call(this,()=>this.editor.update(null,l,f),s)}),this.emitter.on(Pt.events.SCROLL_EMBED_UPDATE,(s,l)=>{const u=this.selection.lastRange,[d]=this.selection.getRange(),f=u&&d?{oldRange:u,newRange:d}:void 0;cu.call(this,()=>{const g=new Ht().retain(s.offset(this)).retain({[s.statics.blotName]:l});return this.editor.update(g,[],f)},hu.sources.USER)}),r){const s=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(s)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof n=="string"){const r=n;n=document.createElement("div"),n.classList.add(r)}return this.container.insertBefore(n,t),n}blur(){this.selection.setRange(null)}deleteText(n,t,r){return[n,t,,r]=gd(n,t,r),cu.call(this,()=>this.editor.deleteText(n,t),r,n,-1*t)}disable(){this.enable(!1)}editReadOnly(n){this.allowReadOnlyEdits=!0;const t=n();return this.allowReadOnlyEdits=!1,t}enable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(n),this.container.classList.toggle("ql-disabled",!n)}focus(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),n.preventScroll||this.scrollSelectionIntoView()}format(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pt.sources.API;return cu.call(this,()=>{const i=this.getSelection(!0);let a=new Ht;if(i==null)return a;if(this.scroll.query(n,Wt.BLOCK))a=this.editor.formatLine(i.index,i.length,{[n]:t});else{if(i.length===0)return this.selection.format(n,t),a;a=this.editor.formatText(i.index,i.length,{[n]:t})}return this.setSelection(i,Pt.sources.SILENT),a},r)}formatLine(n,t,r,i,a){let s;return[n,t,s,a]=gd(n,t,r,i,a),cu.call(this,()=>this.editor.formatLine(n,t,s),a,n,0)}formatText(n,t,r,i,a){let s;return[n,t,s,a]=gd(n,t,r,i,a),cu.call(this,()=>this.editor.formatText(n,t,s),a,n,0)}getBounds(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof n=="number"?r=this.selection.getBounds(n,t):r=this.selection.getBounds(n.index,n.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-n;return[n,t]=gd(n,t),this.editor.getContents(n,t)}getFormat(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof n=="number"?this.editor.getFormat(n,t):this.editor.getFormat(n.index,n.length)}getIndex(n){return n.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(n){return this.scroll.leaf(n)}getLine(n){return this.scroll.line(n)}getLines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof n!="number"?this.scroll.lines(n.index,n.length):this.scroll.lines(n,t)}getModule(n){return this.theme.modules[n]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(t=t??this.getLength()-n),[n,t]=gd(n,t),this.editor.getHTML(n,t)}getText(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(t=t??this.getLength()-n),[n,t]=gd(n,t),this.editor.getText(n,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(n,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:hu.sources.API;return cu.call(this,()=>this.editor.insertEmbed(n,t,r),i,n)}insertText(n,t,r,i,a){let s;return[n,,s,a]=gd(n,0,r,i,a),cu.call(this,()=>this.editor.insertText(n,t,s),a,n,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(n,t,r){return[n,t,,r]=gd(n,t,r),cu.call(this,()=>this.editor.removeFormat(n,t),r,n)}scrollRectIntoView(n){n$(this.root,n)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const n=this.selection.lastRange,t=n&&this.selection.getBounds(n.index,n.length);t&&this.scrollRectIntoView(t)}setContents(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pt.sources.API;return cu.call(this,()=>{n=new Ht(n);const r=this.getLength(),i=this.editor.deleteText(0,r),a=this.editor.insertContents(0,n),s=this.editor.deleteText(this.getLength()-1,1);return i.compose(a).compose(s)},t)}setSelection(n,t,r){n==null?this.selection.setRange(null,t||hu.sources.API):([n,t,,r]=gd(n,t,r),this.selection.setRange(new fp(Math.max(0,n),t),r),r!==Pt.sources.SILENT&&this.scrollSelectionIntoView())}setText(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pt.sources.API;const r=new Ht().insert(n);return this.setContents(r,t)}update(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pt.sources.USER;const t=this.scroll.update(n);return this.selection.update(n),t}updateContents(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pt.sources.API;return cu.call(this,()=>(n=new Ht(n),this.editor.applyDelta(n)),t,!0)}};et(hu,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Ey,theme:"default"}),et(hu,"events",Pt.events),et(hu,"sources",Pt.sources),et(hu,"version","2.0.3"),et(hu,"imports",{delta:Ht,parchment:PU,"core/module":_u,"core/theme":nm});let wt=hu;function Rk(e){return typeof e=="string"?document.querySelector(e):e}function V5(e){return Object.entries(e??{}).reduce((n,t)=>{let[r,i]=t;return{...n,[r]:i===!0?{}:i}},{})}function Mk(e){return Object.fromEntries(Object.entries(e).filter(n=>n[1]!==void 0))}function s$(e,n){const t=Rk(e);if(!t)throw new Error("Invalid Quill container");const i=!n.theme||n.theme===wt.DEFAULTS.theme?nm:wt.import(`themes/${n.theme}`);if(!i)throw new Error(`Invalid theme ${n.theme}. Did you register it?`);const{modules:a,...s}=wt.DEFAULTS,{modules:l,...u}=i.DEFAULTS;let d=V5(n.modules);d!=null&&d.toolbar&&d.toolbar.constructor!==Object&&(d={...d,toolbar:{container:d.toolbar}});const f=Kf({},V5(a),V5(l),d),g={...s,...Mk(u),...Mk(n)};let b=n.registry;return b?n.formats&&P0.warn('Ignoring "formats" option because "registry" is specified'):b=n.formats?a$(n.formats,g.registry,P0):g.registry,{...g,registry:b,container:t,theme:i,modules:Object.entries(f).reduce((m,x)=>{let[y,A]=x;if(!A)return m;const w=wt.import(`modules/${y}`);return w==null?(P0.error(`Cannot load ${y} module. Are you sure you registered it?`),m):{...m,[y]:Kf({},w.DEFAULTS||{},A)}},{}),bounds:Rk(g.bounds)}}function cu(e,n,t,r){if(!this.isEnabled()&&n===Pt.sources.USER&&!this.allowReadOnlyEdits)return new Ht;let i=t==null?null:this.getSelection();const a=this.editor.delta,s=e();if(i!=null&&(t===!0&&(t=i.index),r==null?i=Fk(i,s,n):r!==0&&(i=Fk(i,t,r,n)),this.setSelection(i,Pt.sources.SILENT)),s.length()>0){const l=[Pt.events.TEXT_CHANGE,s,a,n];this.emitter.emit(Pt.events.EDITOR_CHANGE,...l),n!==Pt.sources.SILENT&&this.emitter.emit(...l)}return s}function gd(e,n,t,r,i){let a={};return typeof e.index=="number"&&typeof e.length=="number"?typeof n!="number"?(i=r,r=t,t=n,n=e.length,e=e.index):(n=e.length,e=e.index):typeof n!="number"&&(i=r,r=t,t=n,n=0),typeof t=="object"?(a=t,i=r):typeof t=="string"&&(r!=null?a[t]=r:i=t),i=i||Pt.sources.API,[e,n,a,i]}function Fk(e,n,t,r){const i=typeof t=="number"?t:0;if(e==null)return null;let a,s;return n&&typeof n.transformPosition=="function"?[a,s]=[e.index,e.index+e.length].map(l=>n.transformPosition(l,r!==Pt.sources.USER)):[a,s]=[e.index,e.index+e.length].map(l=>l<n||l===n&&r===Pt.sources.USER?l:i>=0?l+i:Math.max(n,l+i)),new fp(a,s-a)}class Ep extends vv{}function Pk(e){return e instanceof gs||e instanceof Il}function zk(e){return typeof e.updateContent=="function"}class T0 extends V6{constructor(n,t,r){let{emitter:i}=r;super(n,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",a=>this.handleDragStart(a))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const n=this.batch;this.batch=!1,this.update(n)}emitMount(n){this.emitter.emit(Pt.events.SCROLL_BLOT_MOUNT,n)}emitUnmount(n){this.emitter.emit(Pt.events.SCROLL_BLOT_UNMOUNT,n)}emitEmbedUpdate(n,t){this.emitter.emit(Pt.events.SCROLL_EMBED_UPDATE,n,t)}deleteAt(n,t){const[r,i]=this.line(n),[a]=this.line(n+t);if(super.deleteAt(n,t),a!=null&&r!==a&&i>0){if(r instanceof Il||a instanceof Il){this.optimize();return}const s=a.children.head instanceof Eu?null:a.children.head;r.moveChildren(a,s),r.remove()}this.optimize()}enable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",n?"true":"false")}formatAt(n,t,r,i){super.formatAt(n,t,r,i),this.optimize()}insertAt(n,t,r){if(n>=this.length())if(r==null||this.scroll.query(t,Wt.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(n,t,r);this.optimize()}insertBefore(n,t){if(n.statics.scope===Wt.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(n),super.insertBefore(r,t)}else super.insertBefore(n,t)}insertContents(n,t){const r=this.deltaToRenderBlocks(t.concat(new Ht().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const a=r.shift();if(a){const u=a.type==="block"&&(a.delta.length()===0||!this.descendant(Il,n)[0]&&n<this.length()),d=a.type==="block"?a.delta:new Ht().insert({[a.key]:a.value});Y5(this,n,d);const f=a.type==="block"?1:0,g=n+d.length()+f;u&&this.insertAt(g-1,`
`);const b=El(this.line(n)[0]),m=Dl.AttributeMap.diff(b,a.attributes)||{};Object.keys(m).forEach(x=>{this.formatAt(g-1,1,x,m[x])}),n=g}let[s,l]=this.children.find(n);if(r.length&&(s&&(s=s.split(l),l=0),r.forEach(u=>{if(u.type==="block"){const d=this.createBlock(u.attributes,s||void 0);Y5(d,0,u.delta)}else{const d=this.create(u.key,u.value);this.insertBefore(d,s||void 0),Object.keys(u.attributes).forEach(f=>{d.format(f,u.attributes[f])})}})),i.type==="block"&&i.delta.length()){const u=s?s.offset(s.scroll)+l:this.length();Y5(this,u,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(n){const t=this.path(n).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof Fs?[r,i]:[null,-1]}line(n){return n===this.length()?this.line(n-1):this.descendant(Pk,n)}lines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,a,s)=>{let l=[],u=s;return i.children.forEachAt(a,s,(d,f,g)=>{Pk(d)?l.push(d):d instanceof vv&&(l=l.concat(r(d,f,u))),u-=g}),l};return r(this,n,t)}optimize(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(n,t),n.length>0&&this.emitter.emit(Pt.events.SCROLL_OPTIMIZE,n,t))}path(n){return super.path(n).slice(1)}remove(){}update(n){if(this.batch){Array.isArray(n)&&(this.batch=this.batch.concat(n));return}let t=Pt.sources.USER;typeof n=="string"&&(t=n),Array.isArray(n)||(n=this.observer.takeRecords()),n=n.filter(r=>{let{target:i}=r;const a=this.find(i,!0);return a&&!zk(a)}),n.length>0&&this.emitter.emit(Pt.events.SCROLL_BEFORE_UPDATE,t,n),super.update(n.concat([])),n.length>0&&this.emitter.emit(Pt.events.SCROLL_UPDATE,t,n)}updateEmbedAt(n,t,r){const[i]=this.descendant(a=>a instanceof Il,n);i&&i.statics.blotName===t&&zk(i)&&i.updateContent(r)}handleDragStart(n){n.preventDefault()}deltaToRenderBlocks(n){const t=[];let r=new Ht;return n.forEach(i=>{const a=i==null?void 0:i.insert;if(a)if(typeof a=="string"){const s=a.split(`
`);s.slice(0,-1).forEach(u=>{r.insert(u,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new Ht});const l=s[s.length-1];l&&r.insert(l,i.attributes)}else{const s=Object.keys(a)[0];if(!s)return;this.query(s,Wt.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new Ht,t.push({type:"blockEmbed",key:s,value:a[s],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(n,t){let r;const i={};Object.entries(n).forEach(l=>{let[u,d]=l;this.query(u,Wt.BLOCK&Wt.BLOT)!=null?r=u:i[u]=d});const a=this.create(r||this.statics.defaultChild.blotName,r?n[r]:void 0);this.insertBefore(a,t||void 0);const s=a.length();return Object.entries(i).forEach(l=>{let[u,d]=l;a.formatAt(0,s,u,d)}),a}}et(T0,"blotName","scroll"),et(T0,"className","ql-editor"),et(T0,"tagName","DIV"),et(T0,"defaultChild",gs),et(T0,"allowedChildren",[gs,Il,Ep]);function Y5(e,n,t){t.reduce((r,i)=>{const a=Dl.Op.length(i);let s=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const l=i.insert;e.insertAt(r,l);const[u]=e.descendant(Fs,r),d=El(u);s=Dl.AttributeMap.diff(d,s)||{}}else if(typeof i.insert=="object"){const l=Object.keys(i.insert)[0];if(l==null)return r;if(e.insertAt(r,l,i.insert[l]),e.scroll.query(l,Wt.INLINE)!=null){const[d]=e.descendant(Fs,r),f=El(d);s=Dl.AttributeMap.diff(f,s)||{}}}}return Object.keys(s).forEach(l=>{e.formatAt(r,a,l,s[l])}),r+a},n)}const G6={scope:Wt.BLOCK,whitelist:["right","center","justify"]},o$=new Fc("align","align",G6),L7=new Cu("align","ql-align",G6),R7=new dh("align","text-align",G6);class M7 extends dh{value(n){let t=super.value(n);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const l$=new Cu("color","ql-color",{scope:Wt.INLINE}),Q6=new M7("color","color",{scope:Wt.INLINE}),u$=new Cu("background","ql-bg",{scope:Wt.INLINE}),K6=new M7("background","background-color",{scope:Wt.INLINE});class _p extends Ep{static create(n){const t=super.create(n);return t.setAttribute("spellcheck","false"),t}code(n,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(n,n+t)}html(n,t){return`<pre>
${wv(this.code(n,t))}
</pre>`}}class Us extends gs{static register(){wt.register(_p)}}et(Us,"TAB","  ");class X6 extends Pc{}X6.blotName="code";X6.tagName="CODE";Us.blotName="code-block";Us.className="ql-code-block";Us.tagName="DIV";_p.blotName="code-block-container";_p.className="ql-code-block-container";_p.tagName="DIV";_p.allowedChildren=[Us];Us.allowedChildren=[Su,Eu,tm];Us.requiredContainer=_p;const Z6={scope:Wt.BLOCK,whitelist:["rtl"]},F7=new Fc("direction","dir",Z6),P7=new Cu("direction","ql-direction",Z6),z7=new dh("direction","direction",Z6),q7={scope:Wt.INLINE,whitelist:["serif","monospace"]},B7=new Cu("font","ql-font",q7);class c$ extends dh{value(n){return super.value(n).replace(/["']/g,"")}}const U7=new c$("font","font-family",q7),$7=new Cu("size","ql-size",{scope:Wt.INLINE,whitelist:["small","large","huge"]}),H7=new dh("size","font-size",{scope:Wt.INLINE,whitelist:["10px","18px","32px"]}),d$=Wd("quill:keyboard"),f$=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Sv extends _u{static match(n,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==n[r]&&t[r]!==null)?!1:t.key===n.key||t.key===n.which}constructor(n,t){super(n,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=p$(n);if(i==null){d$.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(s=>{const l={...i,key:s,...t,...r};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",n=>{if(n.defaultPrevented||n.isComposing||n.keyCode===229&&(n.key==="Enter"||n.key==="Backspace"))return;const i=(this.bindings[n.key]||[]).concat(this.bindings[n.which]||[]).filter(w=>Sv.match(n,w));if(i.length===0)return;const a=wt.find(n.target,!0);if(a&&a.scroll!==this.quill.scroll)return;const s=this.quill.getSelection();if(s==null||!this.quill.hasFocus())return;const[l,u]=this.quill.getLine(s.index),[d,f]=this.quill.getLeaf(s.index),[g,b]=s.length===0?[d,f]:this.quill.getLeaf(s.index+s.length),m=d instanceof Ix?d.value().slice(0,f):"",x=g instanceof Ix?g.value().slice(b):"",y={collapsed:s.length===0,empty:s.length===0&&l.length()<=1,format:this.quill.getFormat(s),line:l,offset:u,prefix:m,suffix:x,event:n};i.some(w=>{if(w.collapsed!=null&&w.collapsed!==y.collapsed||w.empty!=null&&w.empty!==y.empty||w.offset!=null&&w.offset!==y.offset)return!1;if(Array.isArray(w.format)){if(w.format.every(C=>y.format[C]==null))return!1}else if(typeof w.format=="object"&&!Object.keys(w.format).every(C=>w.format[C]===!0?y.format[C]!=null:w.format[C]===!1?y.format[C]==null:Mf(w.format[C],y.format[C])))return!1;return w.prefix!=null&&!w.prefix.test(y.prefix)||w.suffix!=null&&!w.suffix.test(y.suffix)?!1:w.handler.call(this,s,y,w)!==!0})&&n.preventDefault()})}handleBackspace(n,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(n.index===0||this.quill.getLength()<=1)return;let i={};const[a]=this.quill.getLine(n.index);let s=new Ht().retain(n.index-r).delete(r);if(t.offset===0){const[l]=this.quill.getLine(n.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const d=a.formats(),f=this.quill.getFormat(n.index-1,1);if(i=Dl.AttributeMap.diff(d,f)||{},Object.keys(i).length>0){const g=new Ht().retain(n.index+a.length()-2).retain(1,i);s=s.compose(g)}}}this.quill.updateContents(s,wt.sources.USER),this.quill.focus()}handleDelete(n,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(n.index>=this.quill.getLength()-r)return;let i={};const[a]=this.quill.getLine(n.index);let s=new Ht().retain(n.index).delete(r);if(t.offset>=a.length()-1){const[l]=this.quill.getLine(n.index+1);if(l){const u=a.formats(),d=this.quill.getFormat(n.index,1);i=Dl.AttributeMap.diff(u,d)||{},Object.keys(i).length>0&&(s=s.retain(l.length()-1).retain(1,i))}}this.quill.updateContents(s,wt.sources.USER),this.quill.focus()}handleDeleteRange(n){J6({range:n,quill:this.quill}),this.quill.focus()}handleEnter(n,t){const r=Object.keys(t.format).reduce((a,s)=>(this.quill.scroll.query(s,Wt.BLOCK)&&!Array.isArray(t.format[s])&&(a[s]=t.format[s]),a),{}),i=new Ht().retain(n.index).delete(n.length).insert(`
`,r);this.quill.updateContents(i,wt.sources.USER),this.quill.setSelection(n.index+1,wt.sources.SILENT),this.quill.focus()}}const h$={bindings:{bold:G5("bold"),italic:G5("italic"),underline:G5("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,n){return n.collapsed&&n.offset!==0?!0:(this.quill.format("indent","+1",wt.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,n){return n.collapsed&&n.offset!==0?!0:(this.quill.format("indent","-1",wt.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,n){n.format.indent!=null?this.quill.format("indent","-1",wt.sources.USER):n.format.list!=null&&this.quill.format("list",!1,wt.sources.USER)}},"indent code-block":qk(!0),"outdent code-block":qk(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,wt.sources.USER)}},tab:{key:"Tab",handler(e,n){if(n.format.table)return!0;this.quill.history.cutoff();const t=new Ht().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(t,wt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,wt.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,wt.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,n){const t={list:!1};n.format.indent&&(t.indent=!1),this.quill.formatLine(e.index,e.length,t,wt.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[n,t]=this.quill.getLine(e.index),r={...n.formats(),list:"checked"},i=new Ht().retain(e.index).insert(`
`,r).retain(n.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,wt.sources.USER),this.quill.setSelection(e.index+1,wt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,n){const[t,r]=this.quill.getLine(e.index),i=new Ht().retain(e.index).insert(`
`,n.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,wt.sources.USER),this.quill.setSelection(e.index+1,wt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const n=this.quill.getModule("table");if(n){const[t,r,i,a]=n.getTable(e),s=m$(t,r,i,a);if(s==null)return;let l=t.offset();if(s<0){const u=new Ht().retain(l).insert(`
`);this.quill.updateContents(u,wt.sources.USER),this.quill.setSelection(e.index+1,e.length,wt.sources.SILENT)}else if(s>0){l+=t.length();const u=new Ht().retain(l).insert(`
`);this.quill.updateContents(u,wt.sources.USER),this.quill.setSelection(l,wt.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,n){const{event:t,line:r}=n,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,wt.sources.USER):this.quill.setSelection(i+r.length(),wt.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,n){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=n.prefix,[r,i]=this.quill.getLine(e.index);if(i>t)return!0;let a;switch(n.prefix.trim()){case"[]":case"[ ]":a="unchecked";break;case"[x]":a="checked";break;case"-":case"*":a="bullet";break;default:a="ordered"}this.quill.insertText(e.index," ",wt.sources.USER),this.quill.history.cutoff();const s=new Ht().retain(e.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:a});return this.quill.updateContents(s,wt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-t,wt.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[n,t]=this.quill.getLine(e.index);let r=2,i=n;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const a=new Ht().retain(e.index+n.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,wt.sources.USER),this.quill.setSelection(e.index-1,wt.sources.SILENT),!1}return!0}},"embed left":_y("ArrowLeft",!1),"embed left shift":_y("ArrowLeft",!0),"embed right":_y("ArrowRight",!1),"embed right shift":_y("ArrowRight",!0),"table down":Bk(!1),"table up":Bk(!0)}};Sv.DEFAULTS=h$;function qk(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(n,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:a}=i;if(n.length===0&&!r.shiftKey){this.quill.insertText(n.index,a,wt.sources.USER),this.quill.setSelection(n.index+a.length,wt.sources.SILENT);return}const s=n.length===0?this.quill.getLines(n.index,1):this.quill.getLines(n);let{index:l,length:u}=n;s.forEach((d,f)=>{e?(d.insertAt(0,a),f===0?l+=a.length:u+=a.length):d.domNode.textContent.startsWith(a)&&(d.deleteAt(0,a.length),f===0?l-=a.length:u-=a.length)}),this.quill.update(wt.sources.USER),this.quill.setSelection(l,u,wt.sources.SILENT)}}}function _y(e,n){return{key:e,shiftKey:n,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;e==="ArrowRight"&&(i+=r.length+1);const[a]=this.quill.getLeaf(i);return a instanceof rl?(e==="ArrowLeft"?n?this.quill.setSelection(r.index-1,r.length+1,wt.sources.USER):this.quill.setSelection(r.index-1,wt.sources.USER):n?this.quill.setSelection(r.index,r.length+1,wt.sources.USER):this.quill.setSelection(r.index+r.length+1,wt.sources.USER),!1):!0}}}function G5(e){return{key:e[0],shortKey:!0,handler(n,t){this.quill.format(e,!t.format[e],wt.sources.USER)}}}function Bk(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(n,t){const r=e?"prev":"next",i=t.line,a=i.parent[r];if(a!=null){if(a.statics.blotName==="table-row"){let s=a.children.head,l=i;for(;l.prev!=null;)l=l.prev,s=s.next;const u=s.offset(this.quill.scroll)+Math.min(t.offset,s.length()-1);this.quill.setSelection(u,0,wt.sources.USER)}}else{const s=i.table()[r];s!=null&&(e?this.quill.setSelection(s.offset(this.quill.scroll)+s.length()-1,0,wt.sources.USER):this.quill.setSelection(s.offset(this.quill.scroll),0,wt.sources.USER))}return!1}}}function p$(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=M0(e);else return null;return e.shortKey&&(e[f$]=e.shortKey,delete e.shortKey),e}function J6(e){let{quill:n,range:t}=e;const r=n.getLines(t);let i={};if(r.length>1){const a=r[0].formats(),s=r[r.length-1].formats();i=Dl.AttributeMap.diff(s,a)||{}}n.deleteText(t,wt.sources.USER),Object.keys(i).length>0&&n.formatLine(t.index,1,i,wt.sources.USER),n.setSelection(t.index,wt.sources.SILENT)}function m$(e,n,t,r){return n.prev==null&&n.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:n.prev==null?-1:n.next==null?1:null}const g$=/font-weight:\s*normal/,b$=["P","OL","UL"],Uk=e=>e&&b$.includes(e.tagName),y$=e=>{Array.from(e.querySelectorAll("br")).filter(n=>Uk(n.previousElementSibling)&&Uk(n.nextElementSibling)).forEach(n=>{var t;(t=n.parentNode)==null||t.removeChild(n)})},x$=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(n=>{var t;return(t=n.getAttribute("style"))==null?void 0:t.match(g$)}).forEach(n=>{var r;const t=e.createDocumentFragment();t.append(...n.childNodes),(r=n.parentNode)==null||r.replaceChild(t,n)})};function v$(e){e.querySelector('[id^="docs-internal-guid-"]')&&(x$(e),y$(e))}const w$=/\bmso-list:[^;]*ignore/i,S$=/\bmso-list:[^;]*\bl(\d+)/i,A$=/\bmso-list:[^;]*\blevel(\d+)/i,C$=(e,n)=>{const t=e.getAttribute("style"),r=t==null?void 0:t.match(S$);if(!r)return null;const i=Number(r[1]),a=t==null?void 0:t.match(A$),s=a?Number(a[1]):1,l=new RegExp(`@list l${i}:level${s}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),u=n.match(l),d=u&&u[1]==="bullet"?"bullet":"ordered";return{id:i,indent:s,type:d,element:e}},E$=e=>{var s,l;const n=Array.from(e.querySelectorAll("[style*=mso-list]")),t=[],r=[];n.forEach(u=>{(u.getAttribute("style")||"").match(w$)?t.push(u):r.push(u)}),t.forEach(u=>{var d;return(d=u.parentNode)==null?void 0:d.removeChild(u)});const i=e.documentElement.innerHTML,a=r.map(u=>C$(u,i)).filter(u=>u);for(;a.length;){const u=[];let d=a.shift();for(;d;)u.push(d),d=a.length&&((s=a[0])==null?void 0:s.element)===d.element.nextElementSibling&&a[0].id===d.id?a.shift():null;const f=document.createElement("ul");u.forEach(m=>{const x=document.createElement("li");x.setAttribute("data-list",m.type),m.indent>1&&x.setAttribute("class",`ql-indent-${m.indent-1}`),x.innerHTML=m.element.innerHTML,f.appendChild(x)});const g=(l=u[0])==null?void 0:l.element,{parentNode:b}=g??{};g&&(b==null||b.replaceChild(f,g)),u.slice(1).forEach(m=>{let{element:x}=m;b==null||b.removeChild(x)})}};function _$(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&E$(e)}const k$=[_$,v$],N$=e=>{e.documentElement&&k$.forEach(n=>{n(e)})},j$=Wd("quill:clipboard"),T$=[[Node.TEXT_NODE,U$],[Node.TEXT_NODE,Hk],["br",R$],[Node.ELEMENT_NODE,Hk],[Node.ELEMENT_NODE,L$],[Node.ELEMENT_NODE,D$],[Node.ELEMENT_NODE,q$],["li",P$],["ol, ul",z$],["pre",M$],["tr",B$],["b",Q5("bold")],["i",Q5("italic")],["strike",Q5("strike")],["style",F$]],O$=[o$,F7].reduce((e,n)=>(e[n.keyName]=n,e),{}),$k=[R7,K6,Q6,z7,U7,H7].reduce((e,n)=>(e[n.keyName]=n,e),{});class W7 extends _u{constructor(n,t){super(n,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],T$.concat(this.options.matchers??[]).forEach(r=>{let[i,a]=r;this.addMatcher(i,a)})}addMatcher(n,t){this.matchers.push([n,t])}convert(n){let{html:t,text:r}=n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[Us.blotName])return new Ht().insert(r||"",{[Us.blotName]:i[Us.blotName]});if(!t)return new Ht().insert(r||"",i);const a=this.convertHTML(t);return Gg(a,`
`)&&(a.ops[a.ops.length-1].attributes==null||i.table)?a.compose(new Ht().retain(a.length()-1).delete(1)):a}normalizeHTML(n){N$(n)}convertHTML(n){const t=new DOMParser().parseFromString(n,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[a,s]=this.prepareMatching(r,i);return eA(this.quill.scroll,r,a,s,i)}dangerouslyPasteHTML(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wt.sources.API;if(typeof n=="string"){const i=this.convert({html:n,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,wt.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new Ht().retain(n).concat(i),r),this.quill.setSelection(n+i.length(),wt.sources.SILENT)}}onCaptureCopy(n){var s,l;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n.defaultPrevented)return;n.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:a}=this.onCopy(r,t);(s=n.clipboardData)==null||s.setData("text/plain",a),(l=n.clipboardData)==null||l.setData("text/html",i),t&&J6({range:r,quill:this.quill})}normalizeURIList(n){return n.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(n){var s,l,u,d,f;if(n.defaultPrevented||!this.quill.isEnabled())return;n.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=(s=n.clipboardData)==null?void 0:s.getData("text/html");let i=(l=n.clipboardData)==null?void 0:l.getData("text/plain");if(!r&&!i){const g=(u=n.clipboardData)==null?void 0:u.getData("text/uri-list");g&&(i=this.normalizeURIList(g))}const a=Array.from(((d=n.clipboardData)==null?void 0:d.files)||[]);if(!r&&a.length>0){this.quill.uploader.upload(t,a);return}if(r&&a.length>0){const g=new DOMParser().parseFromString(r,"text/html");if(g.body.childElementCount===1&&((f=g.body.firstElementChild)==null?void 0:f.tagName)==="IMG"){this.quill.uploader.upload(t,a);return}}this.onPaste(t,{html:r,text:i})}onCopy(n){const t=this.quill.getText(n);return{html:this.quill.getSemanticHTML(n),text:t}}onPaste(n,t){let{text:r,html:i}=t;const a=this.quill.getFormat(n.index),s=this.convert({text:r,html:i},a);j$.log("onPaste",s,{text:r,html:i});const l=new Ht().retain(n.index).delete(n.length).concat(s);this.quill.updateContents(l,wt.sources.USER),this.quill.setSelection(l.length()-n.length,wt.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(n,t){const r=[],i=[];return this.matchers.forEach(a=>{const[s,l]=a;switch(s){case Node.TEXT_NODE:i.push(l);break;case Node.ELEMENT_NODE:r.push(l);break;default:Array.from(n.querySelectorAll(s)).forEach(u=>{if(t.has(u)){const d=t.get(u);d==null||d.push(l)}else t.set(u,[l])});break}}),[r,i]}}et(W7,"DEFAULTS",{matchers:[]});function kp(e,n,t,r){return r.query(n)?e.reduce((i,a)=>{if(!a.insert)return i;if(a.attributes&&a.attributes[n])return i.push(a);const s=t?{[n]:t}:{};return i.insert(a.insert,{...s,...a.attributes})},new Ht):e}function Gg(e,n){let t="";for(let r=e.ops.length-1;r>=0&&t.length<n.length;--r){const i=e.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*n.length)===n}function qf(e,n){if(!(e instanceof Element))return!1;const t=n.query(e);return t&&t.prototype instanceof rl?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function I$(e,n){return e.previousElementSibling&&e.nextElementSibling&&!qf(e.previousElementSibling,n)&&!qf(e.nextElementSibling,n)}const ky=new WeakMap;function V7(e){return e==null?!1:(ky.has(e)||(e.tagName==="PRE"?ky.set(e,!0):ky.set(e,V7(e.parentNode))),ky.get(e))}function eA(e,n,t,r,i){return n.nodeType===n.TEXT_NODE?r.reduce((a,s)=>s(n,a,e),new Ht):n.nodeType===n.ELEMENT_NODE?Array.from(n.childNodes||[]).reduce((a,s)=>{let l=eA(e,s,t,r,i);return s.nodeType===n.ELEMENT_NODE&&(l=t.reduce((u,d)=>d(s,u,e),l),l=(i.get(s)||[]).reduce((u,d)=>d(s,u,e),l)),a.concat(l)},new Ht):new Ht}function Q5(e){return(n,t,r)=>kp(t,e,!0,r)}function D$(e,n,t){const r=Fc.keys(e),i=Cu.keys(e),a=dh.keys(e),s={};return r.concat(i).concat(a).forEach(l=>{let u=t.query(l,Wt.ATTRIBUTE);u!=null&&(s[u.attrName]=u.value(e),s[u.attrName])||(u=O$[l],u!=null&&(u.attrName===l||u.keyName===l)&&(s[u.attrName]=u.value(e)||void 0),u=$k[l],u!=null&&(u.attrName===l||u.keyName===l)&&(u=$k[l],s[u.attrName]=u.value(e)||void 0))}),Object.entries(s).reduce((l,u)=>{let[d,f]=u;return kp(l,d,f,t)},n)}function L$(e,n,t){const r=t.query(e);if(r==null)return n;if(r.prototype instanceof rl){const i={},a=r.value(e);if(a!=null)return i[r.blotName]=a,new Ht().insert(i,r.formats(e,t))}else if(r.prototype instanceof yg&&!Gg(n,`
`)&&n.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return kp(n,r.blotName,r.formats(e,t),t);return n}function R$(e,n){return Gg(n,`
`)||n.insert(`
`),n}function M$(e,n,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(e,t):!0;return kp(n,"code-block",i,t)}function F$(){return new Ht}function P$(e,n,t){const r=t.query(e);if(r==null||r.blotName!=="list"||!Gg(n,`
`))return n;let i=-1,a=e.parentNode;for(;a!=null;)["OL","UL"].includes(a.tagName)&&(i+=1),a=a.parentNode;return i<=0?n:n.reduce((s,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?s.push(l):s.insert(l.insert,{indent:i,...l.attributes||{}}):s,new Ht)}function z$(e,n,t){const r=e;let i=r.tagName==="OL"?"ordered":"bullet";const a=r.getAttribute("data-checked");return a&&(i=a==="true"?"checked":"unchecked"),kp(n,"list",i,t)}function Hk(e,n,t){if(!Gg(n,`
`)){if(qf(e,t)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return n.insert(`
`);if(n.length()>0&&e.nextSibling){let r=e.nextSibling;for(;r!=null;){if(qf(r,t))return n.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof Il)return n.insert(`
`);r=r.firstChild}}}return n}function q$(e,n,t){var a;const r={},i=e.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((a=i.fontWeight)!=null&&a.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),n=Object.entries(r).reduce((s,l)=>{let[u,d]=l;return kp(s,u,d,t)},n),parseFloat(i.textIndent||0)>0?new Ht().insert("	").concat(n):n}function B$(e,n,t){var i,a;const r=((i=e.parentElement)==null?void 0:i.tagName)==="TABLE"?e.parentElement:(a=e.parentElement)==null?void 0:a.parentElement;if(r!=null){const l=Array.from(r.querySelectorAll("tr")).indexOf(e)+1;return kp(n,"table",l,t)}return n}function U$(e,n,t){var i;let r=e.data;if(((i=e.parentElement)==null?void 0:i.tagName)==="O:P")return n.insert(r.trim());if(!V7(e)){if(r.trim().length===0&&r.includes(`
`)&&!I$(e,t))return n;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(e.previousSibling==null&&e.parentElement!=null&&qf(e.parentElement,t)||e.previousSibling instanceof Element&&qf(e.previousSibling,t))&&(r=r.replace(/^ /,"")),(e.nextSibling==null&&e.parentElement!=null&&qf(e.parentElement,t)||e.nextSibling instanceof Element&&qf(e.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return n.insert(r)}class Y7 extends _u{constructor(t,r){super(t,r);et(this,"lastRecorded",0);et(this,"ignoreChange",!1);et(this,"stack",{undo:[],redo:[]});et(this,"currentRange",null);this.quill.on(wt.events.EDITOR_CHANGE,(i,a,s,l)=>{i===wt.events.SELECTION_CHANGE?a&&l!==wt.sources.SILENT&&(this.currentRange=a):i===wt.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===wt.sources.USER?this.record(a,s):this.transform(a)),this.currentRange=yS(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(t,r){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const a=this.quill.getContents(),s=i.delta.invert(a);this.stack[r].push({delta:s,range:yS(i.range,s)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,wt.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,r){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(r),a=this.currentRange;const s=Date.now();if(this.lastRecorded+this.options.delay>s&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(i=i.compose(l.delta),a=l.range)}else this.lastRecorded=s;i.length()!==0&&(this.stack.undo.push({delta:i,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){Wk(this.stack.undo,t),Wk(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,wt.sources.USER);else{const r=H$(this.quill.scroll,t.delta);this.quill.setSelection(r,wt.sources.USER)}}}et(Y7,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function Wk(e,n){let t=n;for(let r=e.length-1;r>=0;r-=1){const i=e[r];e[r]={delta:t.transform(i.delta,!0),range:i.range&&yS(i.range,t)},t=i.delta.transform(t),e[r].delta.length()===0&&e.splice(r,1)}}function $$(e,n){const t=n.ops[n.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>e.query(r,Wt.BLOCK)!=null):!1}function H$(e,n){const t=n.reduce((i,a)=>i+(a.delete||0),0);let r=n.length()-t;return $$(e,n)&&(r-=1),r}function yS(e,n){if(!e)return e;const t=n.transformPosition(e.index),r=n.transformPosition(e.index+e.length);return{index:t,length:r-t}}class G7 extends _u{constructor(n,t){super(n,t),n.root.addEventListener("drop",r=>{var s;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(l.offsetNode,l.offset),i.setEnd(l.offsetNode,l.offset)}const a=i&&n.selection.normalizeNative(i);if(a){const l=n.selection.normalizedToRange(a);(s=r.dataTransfer)!=null&&s.files&&this.upload(l,r.dataTransfer.files)}})}upload(n,t){const r=[];Array.from(t).forEach(i=>{var a;i&&((a=this.options.mimetypes)!=null&&a.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,n,r)}}G7.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,n){if(!this.quill.scroll.query("image"))return;const t=n.map(r=>new Promise(i=>{const a=new FileReader;a.onload=()=>{i(a.result)},a.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((a,s)=>a.insert({image:s}),new Ht().retain(e.index).delete(e.length));this.quill.updateContents(i,Pt.sources.USER),this.quill.setSelection(e.index+r.length,Pt.sources.SILENT)})}};const W$=["insertText","insertReplacementText"];class V$ extends _u{constructor(n,t){super(n,t),n.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||n.on(wt.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(n){J6({range:n,quill:this.quill})}replaceText(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n.length===0)return!1;if(t){const r=this.quill.getFormat(n.index,1);this.deleteRange(n),this.quill.updateContents(new Ht().retain(n.index).insert(t,r),wt.sources.USER)}else this.deleteRange(n);return this.quill.setSelection(n.index+t.length,0,wt.sources.SILENT),!0}handleBeforeInput(n){if(this.quill.composition.isComposing||n.defaultPrevented||!W$.includes(n.inputType))return;const t=n.getTargetRanges?n.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=Y$(n);if(r==null)return;const i=this.quill.selection.normalizeNative(t),a=i?this.quill.selection.normalizedToRange(i):null;a&&this.replaceText(a,r)&&n.preventDefault()}handleCompositionStart(){const n=this.quill.getSelection();n&&this.replaceText(n)}}function Y$(e){var n;return typeof e.data=="string"?e.data:(n=e.dataTransfer)!=null&&n.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const G$=/Mac/i.test(navigator.platform),Q$=100,K$=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||G$&&e.key==="a"&&e.ctrlKey===!0);class X$ extends _u{constructor(t,r){super(t,r);et(this,"isListening",!1);et(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,r){let{line:i,event:a}=r;if(!(i instanceof vu)||!i.uiNode)return!0;const s=getComputedStyle(i.domNode).direction==="rtl";return s&&a.key!=="ArrowRight"||!s&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(a.shiftKey?1:0),wt.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&K$(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+Q$,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const r=t.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof vu)||!i.uiNode)return;const a=document.createRange();a.setStartAfter(i.uiNode),a.setEndAfter(i.uiNode),t.removeAllRanges(),t.addRange(a)}}wt.register({"blots/block":gs,"blots/block/embed":Il,"blots/break":Eu,"blots/container":Ep,"blots/cursor":tm,"blots/embed":Y6,"blots/inline":Pc,"blots/scroll":T0,"blots/text":Su,"modules/clipboard":W7,"modules/history":Y7,"modules/keyboard":Sv,"modules/uploader":G7,"modules/input":V$,"modules/uiNode":X$});class Z$ extends Cu{add(n,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(n)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(n),!0):super.add(n,r.toString())}canAdd(n,t){return super.canAdd(n,t)||super.canAdd(n,parseInt(t,10))}value(n){return parseInt(super.value(n),10)||void 0}}const J$=new Z$("indent","ql-indent",{scope:Wt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class xS extends gs{}et(xS,"blotName","blockquote"),et(xS,"tagName","blockquote");class vS extends gs{static formats(n){return this.tagName.indexOf(n.tagName)+1}}et(vS,"blotName","header"),et(vS,"tagName",["H1","H2","H3","H4","H5","H6"]);class Qg extends Ep{}Qg.blotName="list-container";Qg.tagName="OL";class Kg extends gs{static create(n){const t=super.create();return t.setAttribute("data-list",n),t}static formats(n){return n.getAttribute("data-list")||void 0}static register(){wt.register(Qg)}constructor(n,t){super(n,t);const r=t.ownerDocument.createElement("span"),i=a=>{if(!n.isEnabled())return;const s=this.statics.formats(t,n);s==="checked"?(this.format("list","unchecked"),a.preventDefault()):s==="unchecked"&&(this.format("list","checked"),a.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(n,t){n===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(n,t)}}Kg.blotName="list";Kg.tagName="LI";Qg.allowedChildren=[Kg];Kg.requiredContainer=Qg;class vg extends Pc{static create(){return super.create()}static formats(){return!0}optimize(n){super.optimize(n),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}et(vg,"blotName","bold"),et(vg,"tagName",["STRONG","B"]);class wS extends vg{}et(wS,"blotName","italic"),et(wS,"tagName",["EM","I"]);class Bf extends Pc{static create(n){const t=super.create(n);return t.setAttribute("href",this.sanitize(n)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(n){return n.getAttribute("href")}static sanitize(n){return Q7(n,this.PROTOCOL_WHITELIST)?n:this.SANITIZED_URL}format(n,t){n!==this.statics.blotName||!t?super.format(n,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}et(Bf,"blotName","link"),et(Bf,"tagName","A"),et(Bf,"SANITIZED_URL","about:blank"),et(Bf,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Q7(e,n){const t=document.createElement("a");t.href=e;const r=t.href.slice(0,t.href.indexOf(":"));return n.indexOf(r)>-1}class SS extends Pc{static create(n){return n==="super"?document.createElement("sup"):n==="sub"?document.createElement("sub"):super.create(n)}static formats(n){if(n.tagName==="SUB")return"sub";if(n.tagName==="SUP")return"super"}}et(SS,"blotName","script"),et(SS,"tagName",["SUB","SUP"]);class AS extends vg{}et(AS,"blotName","strike"),et(AS,"tagName",["S","STRIKE"]);class CS extends Pc{}et(CS,"blotName","underline"),et(CS,"tagName","U");class Zy extends Y6{static create(n){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(n);return typeof n=="string"&&(window.katex.render(n,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",n)),t}static value(n){return n.getAttribute("data-value")}html(){const{formula:n}=this.value();return`<span>${n}</span>`}}et(Zy,"blotName","formula"),et(Zy,"className","ql-formula"),et(Zy,"tagName","SPAN");const Vk=["alt","height","width"];var Gy;let eH=(Gy=class extends rl{static create(n){const t=super.create(n);return typeof n=="string"&&t.setAttribute("src",this.sanitize(n)),t}static formats(n){return Vk.reduce((t,r)=>(n.hasAttribute(r)&&(t[r]=n.getAttribute(r)),t),{})}static match(n){return/\.(jpe?g|gif|png)$/.test(n)||/^data:image\/.+;base64/.test(n)}static sanitize(n){return Q7(n,["http","https","data"])?n:"//:0"}static value(n){return n.getAttribute("src")}format(n,t){Vk.indexOf(n)>-1?t?this.domNode.setAttribute(n,t):this.domNode.removeAttribute(n):super.format(n,t)}},et(Gy,"blotName","image"),et(Gy,"tagName","IMG"),Gy);const Yk=["height","width"];class Jy extends Il{static create(n){const t=super.create(n);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(n)),t}static formats(n){return Yk.reduce((t,r)=>(n.hasAttribute(r)&&(t[r]=n.getAttribute(r)),t),{})}static sanitize(n){return Bf.sanitize(n)}static value(n){return n.getAttribute("src")}format(n,t){Yk.indexOf(n)>-1?t?this.domNode.setAttribute(n,t):this.domNode.removeAttribute(n):super.format(n,t)}html(){const{video:n}=this.value();return`<a href="${n}">${n}</a>`}}et(Jy,"blotName","video"),et(Jy,"className","ql-video"),et(Jy,"tagName","IFRAME");const Y1=new Cu("code-token","hljs",{scope:Wt.INLINE});class Md extends Pc{static formats(n,t){for(;n!=null&&n!==t.domNode;){if(n.classList&&n.classList.contains(Us.className))return super.formats(n,t);n=n.parentNode}}constructor(n,t,r){super(n,t,r),Y1.add(this.domNode,r)}format(n,t){n!==Md.blotName?super.format(n,t):t?Y1.add(this.domNode,t):(Y1.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Y1.value(this.domNode)||this.unwrap()}}Md.blotName="code-token";Md.className="ql-token";class _l extends Us{static create(n){const t=super.create(n);return typeof n=="string"&&t.setAttribute("data-language",n),t}static formats(n){return n.getAttribute("data-language")||"plain"}static register(){}format(n,t){n===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(n,t)}replaceWith(n,t){return this.formatAt(0,this.length(),Md.blotName,!1),super.replaceWith(n,t)}}class Z1 extends _p{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(n,t){n===_l.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(n,t)}))}formatAt(n,t,r,i){r===_l.blotName&&(this.forceNext=!0),super.formatAt(n,t,r,i)}highlight(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(s=>s!==this.uiNode).map(s=>s.textContent).join(`
`)}
`,a=_l.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const s=this.children.reduce((u,d)=>u.concat(I7(d,!1)),new Ht),l=n(i,a);s.diff(l).reduce((u,d)=>{let{retain:f,attributes:g}=d;return f?(g&&Object.keys(g).forEach(b=>{[_l.blotName,Md.blotName].includes(b)&&this.formatAt(u,f,b,g[b])}),u+f):u},0)}this.cachedText=i,this.forceNext=!1}}html(n,t){const[r]=this.children.find(n);return`<pre data-language="${r?_l.formats(r.domNode):"plain"}">
${wv(this.code(n,t))}
</pre>`}optimize(n){if(super.optimize(n),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=_l.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}Z1.allowedChildren=[_l];_l.requiredContainer=Z1;_l.allowedChildren=[Md,tm,Su,Eu];const tH=(e,n,t)=>{if(typeof e.versionString=="string"){const r=e.versionString.split(".")[0];if(parseInt(r,10)>=11)return e.highlight(t,{language:n}).value}return e.highlight(n,t).value};class K7 extends _u{static register(){wt.register(Md,!0),wt.register(_l,!0),wt.register(Z1,!0)}constructor(n,t){if(super(n,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:a}=i;return r[a]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(wt.events.SCROLL_BLOT_MOUNT,n=>{if(!(n instanceof Z1))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:a}=r;const s=t.ownerDocument.createElement("option");s.textContent=a,s.setAttribute("value",i),t.appendChild(s)}),t.addEventListener("change",()=>{n.format(_l.blotName,t.value),this.quill.root.focus(),this.highlight(n,!0)}),n.uiNode==null&&(n.attachUI(t),n.children.head&&(t.value=_l.formats(n.children.head.domNode)))})}initTimer(){let n=null;this.quill.on(wt.events.SCROLL_OPTIMIZE,()=>{n&&clearTimeout(n),n=setTimeout(()=>{this.highlight(),n=null},this.options.interval)})}highlight(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(wt.sources.USER);const r=this.quill.getSelection();(n==null?this.quill.scroll.descendants(Z1):[n]).forEach(a=>{a.highlight(this.highlightBlot,t)}),this.quill.update(wt.sources.SILENT),r!=null&&this.quill.setSelection(r,wt.sources.SILENT)}highlightBlot(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return wv(n).split(`
`).reduce((i,a,s)=>(s!==0&&i.insert(`
`,{[Us.blotName]:t}),i.insert(a)),new Ht);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(Us.className),r.innerHTML=tH(this.options.hljs,t,n),eA(this.quill.scroll,r,[(i,a)=>{const s=Y1.value(i);return s?a.compose(new Ht().retain(a.length(),{[Md.blotName]:s})):a}],[(i,a)=>i.data.split(`
`).reduce((s,l,u)=>(u!==0&&s.insert(`
`,{[Us.blotName]:t}),s.insert(l)),a)],new WeakMap)}}K7.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const sg=class sg extends gs{static create(n){const t=super.create();return n?t.setAttribute("data-row",n):t.setAttribute("data-row",tA()),t}static formats(n){if(n.hasAttribute("data-row"))return n.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(n,t){n===sg.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(n,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};et(sg,"blotName","table"),et(sg,"tagName","TD");let yu=sg;class Fd extends Ep{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const n=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return n.table===t.table&&n.table===r.table&&n.table===i.table}return!1}optimize(n){super.optimize(n),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const a=this.splitAfter(t);a&&a.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}et(Fd,"blotName","table-row"),et(Fd,"tagName","TR");class Ec extends Ep{}et(Ec,"blotName","table-body"),et(Ec,"tagName","TBODY");class rm extends Ep{balanceCells(){const n=this.descendants(Fd),t=n.reduce((r,i)=>Math.max(i.children.length,r),0);n.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=yu.formats(r.children.head.domNode));const a=this.scroll.create(yu.blotName,i);r.appendChild(a),a.optimize()})})}cells(n){return this.rows().map(t=>t.children.at(n))}deleteColumn(n){const[t]=this.descendant(Ec);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(n);i!=null&&i.remove()})}insertColumn(n){const[t]=this.descendant(Ec);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(n),a=yu.formats(r.children.head.domNode),s=this.scroll.create(yu.blotName,a);r.insertBefore(s,i)})}insertRow(n){const[t]=this.descendant(Ec);if(t==null||t.children.head==null)return;const r=tA(),i=this.scroll.create(Fd.blotName);t.children.head.children.forEach(()=>{const s=this.scroll.create(yu.blotName,r);i.appendChild(s)});const a=t.children.at(n);t.insertBefore(i,a)}rows(){const n=this.children.head;return n==null?[]:n.children.map(t=>t)}}et(rm,"blotName","table-container"),et(rm,"tagName","TABLE");rm.allowedChildren=[Ec];Ec.requiredContainer=rm;Ec.allowedChildren=[Fd];Fd.requiredContainer=Ec;Fd.allowedChildren=[yu];yu.requiredContainer=Fd;function tA(){return`row-${Math.random().toString(36).slice(2,6)}`}class nH extends _u{static register(){wt.register(yu),wt.register(Fd),wt.register(Ec),wt.register(rm)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(rm).forEach(n=>{n.balanceCells()})}deleteColumn(){const[n,,t]=this.getTable();t!=null&&(n.deleteColumn(t.cellOffset()),this.quill.update(wt.sources.USER))}deleteRow(){const[,n]=this.getTable();n!=null&&(n.remove(),this.quill.update(wt.sources.USER))}deleteTable(){const[n]=this.getTable();if(n==null)return;const t=n.offset();n.remove(),this.quill.update(wt.sources.USER),this.quill.setSelection(t,wt.sources.SILENT)}getTable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(n==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(n.index);if(t==null||t.statics.blotName!==yu.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(n){const t=this.quill.getSelection();if(!t)return;const[r,i,a]=this.getTable(t);if(a==null)return;const s=a.cellOffset();r.insertColumn(s+n),this.quill.update(wt.sources.USER);let l=i.rowOffset();n===0&&(l+=1),this.quill.setSelection(t.index+l,t.length,wt.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(n){const t=this.quill.getSelection();if(!t)return;const[r,i,a]=this.getTable(t);if(a==null)return;const s=i.rowOffset();r.insertRow(s+n),this.quill.update(wt.sources.USER),n>0?this.quill.setSelection(t,wt.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,wt.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(n,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(n).fill(0).reduce(a=>{const s=new Array(t).fill(`
`).join("");return a.insert(s,{table:tA()})},new Ht().retain(r.index));this.quill.updateContents(i,wt.sources.USER),this.quill.setSelection(r.index,wt.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(wt.events.SCROLL_OPTIMIZE,n=>{n.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(wt.events.TEXT_CHANGE,(r,i,a)=>{a===wt.sources.USER&&this.balanceTables()}),!0):!1)})}}const Gk=Wd("quill:toolbar");class nA extends _u{constructor(n,t){var r,i;if(super(n,t),Array.isArray(this.options.container)){const a=document.createElement("div");a.setAttribute("role","toolbar"),rH(a,this.options.container),(i=(r=n.container)==null?void 0:r.parentNode)==null||i.insertBefore(a,n.container),this.container=a}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Gk.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(a=>{var l;const s=(l=this.options.handlers)==null?void 0:l[a];s&&this.addHandler(a,s)}),Array.from(this.container.querySelectorAll("button, select")).forEach(a=>{this.attach(a)}),this.quill.on(wt.events.EDITOR_CHANGE,()=>{const[a]=this.quill.selection.getRange();this.update(a)})}addHandler(n,t){this.handlers[n]=t}attach(n){let t=Array.from(n.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),n.tagName==="BUTTON"&&n.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){Gk.warn("ignoring attaching to nonexistent format",t,n);return}const r=n.tagName==="SELECT"?"change":"click";n.addEventListener(r,i=>{let a;if(n.tagName==="SELECT"){if(n.selectedIndex<0)return;const l=n.options[n.selectedIndex];l.hasAttribute("selected")?a=!1:a=l.value||!1}else n.classList.contains("ql-active")?a=!1:a=n.value||!n.hasAttribute("value"),i.preventDefault();this.quill.focus();const[s]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,a);else if(this.quill.scroll.query(t).prototype instanceof rl){if(a=prompt(`Enter ${t}`),!a)return;this.quill.updateContents(new Ht().retain(s.index).delete(s.length).insert({[t]:a}),wt.sources.USER)}else this.quill.format(t,a,wt.sources.USER);this.update(s)}),this.controls.push([t,n])}update(n){const t=n==null?{}:this.quill.getFormat(n);this.controls.forEach(r=>{const[i,a]=r;if(a.tagName==="SELECT"){let s=null;if(n==null)s=null;else if(t[i]==null)s=a.querySelector("option[selected]");else if(!Array.isArray(t[i])){let l=t[i];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),s=a.querySelector(`option[value="${l}"]`)}s==null?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(n==null)a.classList.remove("ql-active"),a.setAttribute("aria-pressed","false");else if(a.hasAttribute("value")){const s=t[i],l=s===a.getAttribute("value")||s!=null&&s.toString()===a.getAttribute("value")||s==null&&!a.getAttribute("value");a.classList.toggle("ql-active",l),a.setAttribute("aria-pressed",l.toString())}else{const s=t[i]!=null;a.classList.toggle("ql-active",s),a.setAttribute("aria-pressed",s.toString())}})}}nA.DEFAULTS={};function Qk(e,n,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${n}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${n}: ${t}`)):r.setAttribute("aria-label",n),e.appendChild(r)}function rH(e,n){Array.isArray(n[0])||(n=[n]),n.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")Qk(r,i);else{const a=Object.keys(i)[0],s=i[a];Array.isArray(s)?iH(r,a,s):Qk(r,a,s)}}),e.appendChild(r)})}function iH(e,n,t){const r=document.createElement("select");r.classList.add(`ql-${n}`),t.forEach(i=>{const a=document.createElement("option");i!==!1?a.setAttribute("value",String(i)):a.setAttribute("selected","selected"),r.appendChild(a)}),e.appendChild(r)}nA.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const n=this.quill.getFormat();Object.keys(n).forEach(t=>{this.quill.scroll.query(t,Wt.INLINE)!=null&&this.quill.format(t,!1,wt.sources.USER)})}else this.quill.removeFormat(e.index,e.length,wt.sources.USER)},direction(e){const{align:n}=this.quill.getFormat();e==="rtl"&&n==null?this.quill.format("align","right",wt.sources.USER):!e&&n==="right"&&this.quill.format("align",!1,wt.sources.USER),this.quill.format("direction",e,wt.sources.USER)},indent(e){const n=this.quill.getSelection(),t=this.quill.getFormat(n),r=parseInt(t.indent||0,10);if(e==="+1"||e==="-1"){let i=e==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,wt.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,wt.sources.USER)},list(e){const n=this.quill.getSelection(),t=this.quill.getFormat(n);e==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,wt.sources.USER):this.quill.format("list","unchecked",wt.sources.USER):this.quill.format("list",e,wt.sources.USER)}}};const aH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',sH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',oH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',lH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',uH='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',cH='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',dH='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',fH='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Kk='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',hH='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',pH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',mH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',gH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',bH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',yH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',xH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',vH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',wH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',SH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',AH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',CH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',EH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',_H='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',kH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',NH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',jH='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',TH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',OH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',IH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',DH='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',LH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',RH='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',MH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',wg={align:{"":aH,center:sH,right:oH,justify:lH},background:uH,blockquote:cH,bold:dH,clean:fH,code:Kk,"code-block":Kk,color:hH,direction:{"":pH,rtl:mH},formula:gH,header:{1:bH,2:yH,3:xH,4:vH,5:wH,6:SH},italic:AH,image:CH,indent:{"+1":EH,"-1":_H},link:kH,list:{bullet:NH,check:jH,ordered:TH},script:{sub:OH,super:IH},strike:DH,table:LH,underline:RH,video:MH},FH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Xk=0;function Zk(e,n){e.setAttribute(n,`${e.getAttribute(n)!=="true"}`)}class Av{constructor(n){this.select=n,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Zk(this.label,"aria-expanded"),Zk(this.options,"aria-hidden")}buildItem(n){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=n.getAttribute("value");return r&&t.setAttribute("data-value",r),n.textContent&&t.setAttribute("data-label",n.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const n=document.createElement("span");return n.classList.add("ql-picker-label"),n.innerHTML=FH,n.tabIndex="0",n.setAttribute("role","button"),n.setAttribute("aria-expanded","false"),this.container.appendChild(n),n}buildOptions(){const n=document.createElement("span");n.classList.add("ql-picker-options"),n.setAttribute("aria-hidden","true"),n.tabIndex="-1",n.id=`ql-picker-options-${Xk}`,Xk+=1,this.label.setAttribute("aria-controls",n.id),this.options=n,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);n.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(n)}buildPicker(){Array.from(this.select.attributes).forEach(n=>{this.container.setAttribute(n.name,n.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");n!==r&&(r!=null&&r.classList.remove("ql-selected"),n!=null&&(n.classList.add("ql-selected"),this.select.selectedIndex=Array.from(n.parentNode.children).indexOf(n),n.hasAttribute("data-value")?this.label.setAttribute("data-value",n.getAttribute("data-value")):this.label.removeAttribute("data-value"),n.hasAttribute("data-label")?this.label.setAttribute("data-label",n.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let n;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];n=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=n!=null&&n!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class X7 extends Av{constructor(n,t){super(n),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(n){const t=super.buildItem(n);return t.style.backgroundColor=n.getAttribute("value")||"",t}selectItem(n,t){super.selectItem(n,t);const r=this.label.querySelector(".ql-color-label"),i=n&&n.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class Z7 extends Av{constructor(n,t){super(n),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(n,t){super.selectItem(n,t);const r=n||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const PH=e=>{const{overflowY:n}=getComputedStyle(e,null);return n!=="visible"&&n!=="clip"};class J7{constructor(n,t){this.quill=n,this.boundsContainer=t||document.body,this.root=n.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,PH(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(n){const t=n.left+n.width/2-this.root.offsetWidth/2,r=n.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect();let s=0;if(a.right>i.right&&(s=i.right-a.right,this.root.style.left=`${t+s}px`),a.left<i.left&&(s=i.left-a.left,this.root.style.left=`${t+s}px`),a.bottom>i.bottom){const l=a.bottom-a.top,u=n.bottom-n.top+l;this.root.style.top=`${r-u}px`,this.root.classList.add("ql-flip")}return s}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const zH=[!1,"center","right","justify"],qH=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],BH=[!1,"serif","monospace"],UH=["1","2","3",!1],$H=["small",!1,"large","huge"];class Xg extends nm{constructor(n,t){super(n,t);const r=i=>{if(!document.body.contains(n.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(a=>{a.container.contains(i.target)||a.close()})};n.emitter.listenDOM("click",document.body,r)}addModule(n){const t=super.addModule(n);return n==="toolbar"&&this.extendToolbar(t),t}buildButtons(n,t){Array.from(n).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(a=>{if(a.startsWith("ql-")&&(a=a.slice(3),t[a]!=null))if(a==="direction")r.innerHTML=t[a][""]+t[a].rtl;else if(typeof t[a]=="string")r.innerHTML=t[a];else{const s=r.value||"";s!=null&&t[a][s]&&(r.innerHTML=t[a][s])}})})}buildPickers(n,t){this.pickers=Array.from(n).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&x1(i,zH),typeof t.align=="object"))return new Z7(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const a=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&x1(i,qH,a==="background"?"#ffffff":"#000000"),new X7(i,t[a])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?x1(i,BH):i.classList.contains("ql-header")?x1(i,UH):i.classList.contains("ql-size")&&x1(i,$H)),new Av(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(Pt.events.EDITOR_CHANGE,r)}}Xg.DEFAULTS=Kf({},nm.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const n=this.quill.getSelection(!0);this.quill.uploader.upload(n,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class eO extends J7{constructor(n,t){super(n,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",n=>{n.key==="Enter"?(this.save(),n.preventDefault()):n.key==="Escape"&&(this.cancel(),n.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:n!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${n}`)||""),this.root.setAttribute("data-mode",n)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:n}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,Pt.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,Pt.sources.USER)),this.quill.root.scrollTop=t;break}case"video":n=HH(n);case"formula":{if(!n)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),n,Pt.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",Pt.sources.USER),this.quill.setSelection(r+2,Pt.sources.USER)}break}}this.textbox.value="",this.hide()}}function HH(e){let n=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return n?`${n[1]||"https"}://www.youtube.com/embed/${n[2]}?showinfo=0`:(n=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${n[1]||"https"}://player.vimeo.com/video/${n[2]}/`:e}function x1(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;n.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),e.appendChild(i)})}const WH=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class tO extends eO{constructor(n,t){super(n,t),this.quill.on(Pt.events.EDITOR_CHANGE,(r,i,a,s)=>{if(r===Pt.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&s===Pt.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(i.index,i.length);if(l.length===1){const u=this.quill.getBounds(i);u!=null&&this.position(u)}else{const u=l[l.length-1],d=this.quill.getIndex(u),f=Math.min(u.length()-1,i.index+i.length-d),g=this.quill.getBounds(new fp(d,f));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Pt.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const n=this.quill.getSelection();if(n!=null){const t=this.quill.getBounds(n);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(n){const t=super.position(n),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}et(tO,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class nO extends Xg{constructor(n,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=WH),super(n,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(n){this.tooltip=new tO(this.quill,this.options.bounds),n.container!=null&&(this.tooltip.root.appendChild(n.container),this.buildButtons(n.container.querySelectorAll("button"),wg),this.buildPickers(n.container.querySelectorAll("select"),wg))}}nO.DEFAULTS=Kf({},Xg.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,wt.sources.USER)}}}}});const VH=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class rO extends eO{constructor(){super(...arguments);et(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,Pt.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(Pt.events.SELECTION_CHANGE,(t,r,i)=>{if(t!=null){if(t.length===0&&i===Pt.sources.USER){const[a,s]=this.quill.scroll.descendant(Bf,t.index);if(a!=null){this.linkRange=new fp(t.index-s,a.length());const l=Bf.formats(a.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const u=this.quill.getBounds(this.linkRange);u!=null&&this.position(u);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}et(rO,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class iO extends Xg{constructor(n,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=VH),super(n,t),this.quill.container.classList.add("ql-snow")}extendToolbar(n){n.container!=null&&(n.container.classList.add("ql-snow"),this.buildButtons(n.container.querySelectorAll("button"),wg),this.buildPickers(n.container.querySelectorAll("select"),wg),this.tooltip=new rO(this.quill,this.options.bounds),n.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{n.handlers.link.call(n,!r.format.link)}))}}iO.DEFAULTS=Kf({},Xg.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const n=this.quill.getSelection();if(n==null||n.length===0)return;let t=this.quill.getText(n);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,wt.sources.USER)}}}}});wt.register({"attributors/attribute/direction":F7,"attributors/class/align":L7,"attributors/class/background":u$,"attributors/class/color":l$,"attributors/class/direction":P7,"attributors/class/font":B7,"attributors/class/size":$7,"attributors/style/align":R7,"attributors/style/background":K6,"attributors/style/color":Q6,"attributors/style/direction":z7,"attributors/style/font":U7,"attributors/style/size":H7},!0);wt.register({"formats/align":L7,"formats/direction":P7,"formats/indent":J$,"formats/background":K6,"formats/color":Q6,"formats/font":B7,"formats/size":$7,"formats/blockquote":xS,"formats/code-block":Us,"formats/header":vS,"formats/list":Kg,"formats/bold":vg,"formats/code":X6,"formats/italic":wS,"formats/link":Bf,"formats/script":SS,"formats/strike":AS,"formats/underline":CS,"formats/formula":Zy,"formats/image":eH,"formats/video":Jy,"modules/syntax":K7,"modules/table":nH,"modules/toolbar":nA,"themes/bubble":nO,"themes/snow":iO,"ui/icons":wg,"ui/picker":Av,"ui/icon-picker":Z7,"ui/color-picker":X7,"ui/tooltip":J7},!0);class Cv extends at.Component{constructor(n){super(n),this.editingAreaRef=Q.createRef(),this.containerRef=Q.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,i,a,s)=>{var l,u;r==="text-change"?(l=this.onEditorChangeText)==null||l.call(this,this.editor.root.innerHTML,i,s,this.unprivilegedEditor):r==="selection-change"&&((u=this.onEditorChangeSelection)==null||u.call(this,i,s,this.unprivilegedEditor))};const t=this.isControlled()?n.value:n.defaultValue;this.value=t??""}validateProps(n){if(at.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(at.Children.count(n.children)){const t=at.Children.only(n.children);if((t==null?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(n,t){if(this.validateProps(n),!this.editor||this.state.generation!==t.generation)return!0;if("value"in n){const r=this.getEditorContents(),i=n.value??"";this.isEqualValue(i,r)||this.setEditorContents(this.editor,i)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!Mf(n[r],this.props[r]))}shouldComponentRegenerate(n){return this.dirtyProps.some(t=>!Mf(n[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(n,t){if(this.editor&&this.shouldComponentRegenerate(n)){const r=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){const{delta:r,selection:i}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const a=this.editor;a.setContents(r),Jk(()=>this.setEditorSelection(a,i))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var r,i;if(!this.editor)return;this.unhookEditor(this.editor);const n=(r=this.props.modules)==null?void 0:r.toolbar;if(!(typeof n=="object"&&n&&"container"in n&&typeof n.container=="string"||typeof n=="string")){const a=(i=this.containerRef.current)==null?void 0:i.querySelector(".ql-toolbar");a&&a.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(n,t){const r=new wt(n,t);return t.tabIndex!=null&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r}hookEditor(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)}unhookEditor(n){n.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(n){return n&&n.ops}isEqualValue(n,t){return this.isDelta(n)&&this.isDelta(t)?Mf(n.ops,t.ops):Mf(n,t)}setEditorContents(n,t){this.value=t;const r=this.getEditorSelection();typeof t=="string"?n.setContents(n.clipboard.convert({html:t})):n.setContents(t),Jk(()=>this.setEditorSelection(n,r))}setEditorSelection(n,t){if(this.selection=t,t){const r=n.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),n.setSelection(t)}}setEditorTabIndex(n,t){var r;(r=n==null?void 0:n.scroll)!=null&&r.domNode&&(n.scroll.domNode.tabIndex=t)}setEditorReadOnly(n,t){t?n.disable():n.enable()}makeUnprivilegedEditor(n){const t=n;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const n=this.editingAreaRef.current;if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n}renderEditingArea(){const{children:n,preserveWhitespace:t}=this.props,{generation:r}=this.state,i={key:r,ref:this.editingAreaRef};return at.Children.count(n)?at.cloneElement(at.Children.only(n),i):t?at.createElement("pre",{...i}):at.createElement("div",{...i})}render(){return at.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(n,t,r,i){var s,l;if(!this.editor)return;const a=this.isDelta(this.value)?i.getContents():i.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=a,(l=(s=this.props).onChange)==null||l.call(s,n,t,r,i))}onEditorChangeSelection(n,t,r){var l,u,d,f,g,b;if(!this.editor)return;const i=this.getEditorSelection(),a=!i&&n,s=i&&!n;Mf(n,i)||(this.selection=n,(u=(l=this.props).onChangeSelection)==null||u.call(l,n,t,r),a?(f=(d=this.props).onFocus)==null||f.call(d,n,t,r):s&&((b=(g=this.props).onBlur)==null||b.call(g,i,t,r)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}Cv.displayName="React Quill";Cv.Quill=wt;Cv.defaultProps={theme:"snow",modules:{},readOnly:!1};function Jk(e){Promise.resolve().then(e)}const YH=({content:e,onChange:n})=>{const t=a=>{n(a)},r={toolbar:[[{header:[1,2,3,!1]}],["bold","italic"],["blockquote",{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},i=["header","bold","italic","blockquote","list","link"];return h.jsx(Cv,{value:e,onChange:t,modules:r,formats:i,theme:"snow",placeholder:"Start writing...",style:{backgroundColor:"white",borderRadius:"4px",minHeight:"150px"}})},GH=(e,n={enabled:!0,priority:"low"})=>{const t=Q.useCallback(r=>{!n.enabled||r.length===0||r.forEach((i,a)=>{if(!i||i.startsWith("data:"))return;const s=new Image;"loading"in s&&(s.loading="lazy");const l=n.priority==="low"?a*100:0;setTimeout(()=>{s.src=i,s.onload=()=>{console.log(` Preloaded image: ${i.substring(0,50)}...`)},s.onerror=u=>{console.error(` Failed to preload image: ${i}`,u),console.error("Image details:",{url:i,naturalWidth:s.naturalWidth,naturalHeight:s.naturalHeight,complete:s.complete})}},l)})},[n.enabled,n.priority]);return Q.useEffect(()=>{t(e)},[e,t]),{preloadImages:t}},aO=(e,n,t=!0)=>{const{preloadImages:r}=GH([],{enabled:t,priority:"low"});Q.useEffect(()=>{var s,l;if(!t||!e.length)return;const i=[];if(n>0){const u=e[n-1];u!=null&&u.images&&i.push(...u.images.map(d=>d.url)),(s=u==null?void 0:u.subsections)==null||s.forEach(d=>{var f;d.images&&i.push(...d.images.map(g=>g.url)),(f=d==null?void 0:d.subSubsections)==null||f.forEach(g=>{g.images&&i.push(...g.images.map(b=>b.url))})})}if(n<e.length-1){const u=e[n+1];u!=null&&u.images&&i.push(...u.images.map(d=>d.url)),(l=u==null?void 0:u.subsections)==null||l.forEach(d=>{var f;d.images&&i.push(...d.images.map(g=>g.url)),(f=d==null?void 0:d.subSubsections)==null||f.forEach(g=>{g.images&&i.push(...g.images.map(b=>b.url))})})}const a=Array.from(new Set(i.filter(Boolean)));a.length>0&&(console.log(`Preloading ${a.length} images from adjacent sections`),r(a))},[e,n,t,r])},QH=({value:e,onChange:n,disabled:t=!1})=>{const[r,i]=Q.useState([]),[a,s]=Q.useState(!0),{userDetails:l}=Ai();Q.useEffect(()=>{if(console.log("User Details in CourseDropdown:",l),l!=null&&l.classes){const d=Object.entries(l.classes).filter(([f,g])=>g.isCourseAdmin||l.isSuperAdmin).map(([f,g])=>({id:f,number:g.number,title:g.title}));console.log("Filtered Courses for Dropdown:",d),i(d)}else i([]);s(!1)},[l]);const u=r.some(d=>d.id===e);return a?h.jsx(fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:h.jsx(Jr,{})}):h.jsx(Ut,{select:!0,label:"Select Course",value:u?e:"",onChange:d=>n(d.target.value),fullWidth:!0,disabled:t,sx:{mb:2},error:!u&&e!=="",helperText:!u&&e!==""?"Invalid course selected":"",children:r.length>0?r.map(d=>h.jsxs(Xn,{value:d.id,children:[d.number," - ",d.title]},d.id)):h.jsx(Xn,{disabled:!0,children:"No courses available"})})};function Mt(e){const n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new e.constructor(+e):typeof e=="number"||n==="[object Number]"||typeof e=="string"||n==="[object String]"?new Date(e):new Date(NaN)}function Lr(e,n){return e instanceof Date?new e.constructor(n):new Date(n)}function wu(e,n){const t=Mt(e);return isNaN(n)?Lr(e,NaN):(n&&t.setDate(t.getDate()+n),t)}function Au(e,n){const t=Mt(e);if(isNaN(n))return Lr(e,NaN);if(!n)return t;const r=t.getDate(),i=Lr(e,t.getTime());i.setMonth(t.getMonth()+n+1,0);const a=i.getDate();return r>=a?i:(t.setFullYear(i.getFullYear(),i.getMonth(),r),t)}function rA(e,n){const t=+Mt(e);return Lr(e,t+n)}const sO=6048e5,KH=864e5,Ev=6e4,_v=36e5,XH=1e3;function ZH(e,n){return rA(e,n*_v)}let JH={};function Np(){return JH}function Pd(e,n){var l,u,d,f;const t=Np(),r=(n==null?void 0:n.weekStartsOn)??((u=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??t.weekStartsOn??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=Mt(e),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function im(e){return Pd(e,{weekStartsOn:1})}function oO(e){const n=Mt(e),t=n.getFullYear(),r=Lr(e,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=im(r),a=Lr(e,0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);const s=im(a);return n.getTime()>=i.getTime()?t+1:n.getTime()>=s.getTime()?t:t-1}function hp(e){const n=Mt(e);return n.setHours(0,0,0,0),n}function Dx(e){const n=Mt(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function am(e,n){const t=hp(e),r=hp(n),i=+t-Dx(t),a=+r-Dx(r);return Math.round((i-a)/KH)}function eW(e){const n=oO(e),t=Lr(e,0);return t.setFullYear(n,0,4),t.setHours(0,0,0,0),im(t)}function ES(e,n){return rA(e,n*Ev)}function iA(e,n){const t=n*3;return Au(e,t)}function tW(e,n){return rA(e,n*1e3)}function Lx(e,n){const t=n*7;return wu(e,t)}function jd(e,n){return Au(e,n*12)}function e8(e){let n;return e.forEach(function(t){const r=Mt(t);(n===void 0||n<r||isNaN(Number(r)))&&(n=r)}),n||new Date(NaN)}function t8(e){let n;return e.forEach(t=>{const r=Mt(t);(!n||n>r||isNaN(+r))&&(n=r)}),n||new Date(NaN)}function nW(e,n){const t=hp(e),r=hp(n);return+t==+r}function Td(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Rx(e){if(!Td(e)&&typeof e!="number")return!1;const n=Mt(e);return!isNaN(Number(n))}function Mx(e,n){const t=Mt(e),r=Mt(n),i=t.getFullYear()-r.getFullYear(),a=t.getMonth()-r.getMonth();return i*12+a}function tp(e){const n=Mt(e);return Math.trunc(n.getMonth()/3)+1}function Fx(e,n){const t=Mt(e),r=Mt(n),i=t.getFullYear()-r.getFullYear(),a=tp(t)-tp(r);return i*4+a}function Px(e,n){const t=Mt(e),r=Mt(n);return t.getFullYear()-r.getFullYear()}function rW(e,n){const t=Mt(e),r=Mt(n),i=n8(t,r),a=Math.abs(am(t,r));t.setDate(t.getDate()-i*a);const s=+(n8(t,r)===-i),l=i*(a-s);return l===0?0:l}function n8(e,n){const t=e.getFullYear()-n.getFullYear()||e.getMonth()-n.getMonth()||e.getDate()-n.getDate()||e.getHours()-n.getHours()||e.getMinutes()-n.getMinutes()||e.getSeconds()-n.getSeconds()||e.getMilliseconds()-n.getMilliseconds();return t<0?-1:t>0?1:t}function lO(e){const n=Mt(e);return n.setHours(23,59,59,999),n}function uO(e){const n=Mt(e),t=n.getMonth();return n.setFullYear(n.getFullYear(),t+1,0),n.setHours(23,59,59,999),n}function _S(e){const n=Mt(e),t=n.getMonth(),r=t-t%3;return n.setMonth(r,1),n.setHours(0,0,0,0),n}function cO(e){const n=Mt(e);return n.setDate(1),n.setHours(0,0,0,0),n}function dO(e){const n=Mt(e),t=n.getFullYear();return n.setFullYear(t+1,0,0),n.setHours(23,59,59,999),n}function kv(e){const n=Mt(e),t=Lr(e,0);return t.setFullYear(n.getFullYear(),0,1),t.setHours(0,0,0,0),t}function iW(e,n){var l,u;const t=Np(),r=t.weekStartsOn??((u=(l=t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,i=Mt(e),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const aW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sW=(e,n,t)=>{let r;const i=aW[e];return typeof i=="string"?r=i:n===1?r=i.one:r=i.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function K5(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const oW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cW={date:K5({formats:oW,defaultWidth:"full"}),time:K5({formats:lW,defaultWidth:"full"}),dateTime:K5({formats:uW,defaultWidth:"full"})},dW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fW=(e,n,t,r)=>dW[e];function v1(e){return(n,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=t!=null&&t.width?String(t.width):s;i=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=t!=null&&t.width?String(t.width):e.defaultWidth;i=e.values[l]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(n):n;return i[a]}}const hW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xW=(e,n)=>{const t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},vW={ordinalNumber:xW,era:v1({values:hW,defaultWidth:"wide"}),quarter:v1({values:pW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:v1({values:mW,defaultWidth:"wide"}),day:v1({values:gW,defaultWidth:"wide"}),dayPeriod:v1({values:bW,defaultWidth:"wide",formattingValues:yW,defaultFormattingWidth:"wide"})};function w1(e){return(n,t={})=>{const r=t.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=n.match(i);if(!a)return null;const s=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?SW(l,g=>g.test(s)):wW(l,g=>g.test(s));let d;d=e.valueCallback?e.valueCallback(u):u,d=t.valueCallback?t.valueCallback(d):d;const f=n.slice(s.length);return{value:d,rest:f}}}function wW(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function SW(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function AW(e){return(n,t={})=>{const r=n.match(e.matchPattern);if(!r)return null;const i=r[0],a=n.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=t.valueCallback?t.valueCallback(s):s;const l=n.slice(i.length);return{value:s,rest:l}}}const CW=/^(\d+)(th|st|nd|rd)?/i,EW=/\d+/i,_W={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kW={any:[/^b/i,/^(a|c)/i]},NW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jW={any:[/1/i,/2/i,/3/i,/4/i]},TW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},IW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},LW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MW={ordinalNumber:AW({matchPattern:CW,parsePattern:EW,valueCallback:e=>parseInt(e,10)}),era:w1({matchPatterns:_W,defaultMatchWidth:"wide",parsePatterns:kW,defaultParseWidth:"any"}),quarter:w1({matchPatterns:NW,defaultMatchWidth:"wide",parsePatterns:jW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:w1({matchPatterns:TW,defaultMatchWidth:"wide",parsePatterns:OW,defaultParseWidth:"any"}),day:w1({matchPatterns:IW,defaultMatchWidth:"wide",parsePatterns:DW,defaultParseWidth:"any"}),dayPeriod:w1({matchPatterns:LW,defaultMatchWidth:"any",parsePatterns:RW,defaultParseWidth:"any"})},fO={code:"en-US",formatDistance:sW,formatLong:cW,formatRelative:fW,localize:vW,match:MW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function FW(e){const n=Mt(e);return am(n,kv(n))+1}function aA(e){const n=Mt(e),t=+im(n)-+eW(n);return Math.round(t/sO)+1}function sA(e,n){var f,g,b,m;const t=Mt(e),r=t.getFullYear(),i=Np(),a=(n==null?void 0:n.firstWeekContainsDate)??((g=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(b=i.locale)==null?void 0:b.options)==null?void 0:m.firstWeekContainsDate)??1,s=Lr(e,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const l=Pd(s,n),u=Lr(e,0);u.setFullYear(r,0,a),u.setHours(0,0,0,0);const d=Pd(u,n);return t.getTime()>=l.getTime()?r+1:t.getTime()>=d.getTime()?r:r-1}function PW(e,n){var l,u,d,f;const t=Np(),r=(n==null?void 0:n.firstWeekContainsDate)??((u=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??t.firstWeekContainsDate??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=sA(e,n),a=Lr(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Pd(a,n)}function hO(e,n){const t=Mt(e),r=+Pd(t,n)-+PW(t,n);return Math.round(r/sO)+1}function Dr(e,n){const t=e<0?"-":"",r=Math.abs(e).toString().padStart(n,"0");return t+r}const Tf={y(e,n){const t=e.getFullYear(),r=t>0?t:1-t;return Dr(n==="yy"?r%100:r,n.length)},M(e,n){const t=e.getMonth();return n==="M"?String(t+1):Dr(t+1,2)},d(e,n){return Dr(e.getDate(),n.length)},a(e,n){const t=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,n){return Dr(e.getHours()%12||12,n.length)},H(e,n){return Dr(e.getHours(),n.length)},m(e,n){return Dr(e.getMinutes(),n.length)},s(e,n){return Dr(e.getSeconds(),n.length)},S(e,n){const t=n.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Dr(i,n.length)}},c0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},r8={G:function(e,n,t){const r=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Tf.y(e,n)},Y:function(e,n,t,r){const i=sA(e,r),a=i>0?i:1-i;if(n==="YY"){const s=a%100;return Dr(s,2)}return n==="Yo"?t.ordinalNumber(a,{unit:"year"}):Dr(a,n.length)},R:function(e,n){const t=oO(e);return Dr(t,n.length)},u:function(e,n){const t=e.getFullYear();return Dr(t,n.length)},Q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Dr(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Dr(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){const r=e.getMonth();switch(n){case"M":case"MM":return Tf.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){const r=e.getMonth();switch(n){case"L":return String(r+1);case"LL":return Dr(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){const i=hO(e,r);return n==="wo"?t.ordinalNumber(i,{unit:"week"}):Dr(i,n.length)},I:function(e,n,t){const r=aA(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):Dr(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):Tf.d(e,n)},D:function(e,n,t){const r=FW(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Dr(r,n.length)},E:function(e,n,t){const r=e.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Dr(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Dr(a,n.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,t){const r=e.getDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return Dr(i,n.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){const i=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,t){const r=e.getHours();let i;switch(r===12?i=c0.noon:r===0?i=c0.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,t){const r=e.getHours();let i;switch(r>=17?i=c0.evening:r>=12?i=c0.afternoon:r>=4?i=c0.morning:i=c0.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){let r=e.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Tf.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):Tf.H(e,n)},K:function(e,n,t){const r=e.getHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Dr(r,n.length)},k:function(e,n,t){let r=e.getHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):Dr(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):Tf.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):Tf.s(e,n)},S:function(e,n){return Tf.S(e,n)},X:function(e,n,t){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return a8(r);case"XXXX":case"XX":return Hh(r);case"XXXXX":case"XXX":default:return Hh(r,":")}},x:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"x":return a8(r);case"xxxx":case"xx":return Hh(r);case"xxxxx":case"xxx":default:return Hh(r,":")}},O:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+i8(r,":");case"OOOO":default:return"GMT"+Hh(r,":")}},z:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+i8(r,":");case"zzzz":default:return"GMT"+Hh(r,":")}},t:function(e,n,t){const r=Math.trunc(e.getTime()/1e3);return Dr(r,n.length)},T:function(e,n,t){const r=e.getTime();return Dr(r,n.length)}};function i8(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+n+Dr(a,2)}function a8(e,n){return e%60===0?(e>0?"-":"+")+Dr(Math.abs(e)/60,2):Hh(e,n)}function Hh(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Dr(Math.trunc(r/60),2),a=Dr(r%60,2);return t+i+n+a}const s8=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},pO=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},zW=(e,n)=>{const t=e.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return s8(e,n);let a;switch(r){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",s8(r,n)).replace("{{time}}",pO(i,n))},zx={p:pO,P:zW},qW=/^D+$/,BW=/^Y+$/,UW=["D","DD","YY","YYYY"];function mO(e){return qW.test(e)}function gO(e){return BW.test(e)}function kS(e,n,t){const r=$W(e,n,t);if(console.warn(r),UW.includes(e))throw new RangeError(r)}function $W(e,n,t){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const HW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,WW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,VW=/^'([^]*?)'?$/,YW=/''/g,GW=/[a-zA-Z]/;function o8(e,n,t){var f,g,b,m,x,y,A,w;const r=Np(),i=(t==null?void 0:t.locale)??r.locale??fO,a=(t==null?void 0:t.firstWeekContainsDate)??((g=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(b=r.locale)==null?void 0:b.options)==null?void 0:m.firstWeekContainsDate)??1,s=(t==null?void 0:t.weekStartsOn)??((y=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((w=(A=r.locale)==null?void 0:A.options)==null?void 0:w.weekStartsOn)??0,l=Mt(e);if(!Rx(l))throw new RangeError("Invalid time value");let u=n.match(WW).map(C=>{const N=C[0];if(N==="p"||N==="P"){const R=zx[N];return R(C,i.formatLong)}return C}).join("").match(HW).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const N=C[0];if(N==="'")return{isToken:!1,value:QW(C)};if(r8[N])return{isToken:!0,value:C};if(N.match(GW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:C}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const d={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return u.map(C=>{if(!C.isToken)return C.value;const N=C.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&gO(N)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&mO(N))&&kS(N,n,String(e));const R=r8[N[0]];return R(l,N,i.localize,d)}).join("")}function QW(e){const n=e.match(VW);return n?n[1].replace(YW,"'"):e}function l8(e){return Mt(e).getDate()}function KW(e){return Mt(e).getDay()}function XW(e){const n=Mt(e),t=n.getFullYear(),r=n.getMonth(),i=Lr(e,0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function ZW(){return Object.assign({},Np())}function _c(e){return Mt(e).getHours()}function JW(e){let t=Mt(e).getDay();return t===0&&(t=7),t}function kc(e){return Mt(e).getMinutes()}function to(e){return Mt(e).getMonth()}function Od(e){return Mt(e).getSeconds()}function NS(e){return Mt(e).getTime()}function Fn(e){return Mt(e).getFullYear()}function th(e,n){const t=Mt(e),r=Mt(n);return t.getTime()>r.getTime()}function pp(e,n){const t=Mt(e),r=Mt(n);return+t<+r}function eV(e,n){const t=Mt(e),r=Mt(n);return+t==+r}function tV(e,n){const t=n instanceof Date?Lr(n,0):new n(0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}const nV=10;class bO{constructor(){et(this,"subPriority",0)}validate(n,t){return!0}}class rV extends bO{constructor(n,t,r,i,a){super(),this.value=n,this.validateValue=t,this.setValue=r,this.priority=i,a&&(this.subPriority=a)}validate(n,t){return this.validateValue(n,this.value,t)}set(n,t,r){return this.setValue(n,t,this.value,r)}}class iV extends bO{constructor(){super(...arguments);et(this,"priority",nV);et(this,"subPriority",-1)}set(t,r){return r.timestampIsSet?t:Lr(t,tV(t,Date))}}let wr=class{run(n,t,r,i){const a=this.parse(n,t,r,i);return a?{setter:new rV(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(n,t,r){return!0}};class aV extends wr{constructor(){super(...arguments);et(this,"priority",140);et(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const ca={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},pc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function da(e,n){return e&&{value:n(e.value),rest:e.rest}}function Mi(e,n){const t=n.match(e);return t?{value:parseInt(t[0],10),rest:n.slice(t[0].length)}:null}function mc(e,n){const t=n.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:n.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,s=t[5]?parseInt(t[5],10):0;return{value:r*(i*_v+a*Ev+s*XH),rest:n.slice(t[0].length)}}function yO(e){return Mi(ca.anyDigitsSigned,e)}function Zi(e,n){switch(e){case 1:return Mi(ca.singleDigit,n);case 2:return Mi(ca.twoDigits,n);case 3:return Mi(ca.threeDigits,n);case 4:return Mi(ca.fourDigits,n);default:return Mi(new RegExp("^\\d{1,"+e+"}"),n)}}function qx(e,n){switch(e){case 1:return Mi(ca.singleDigitSigned,n);case 2:return Mi(ca.twoDigitsSigned,n);case 3:return Mi(ca.threeDigitsSigned,n);case 4:return Mi(ca.fourDigitsSigned,n);default:return Mi(new RegExp("^-?\\d{1,"+e+"}"),n)}}function oA(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function xO(e,n){const t=n>0,r=t?n:1-n;let i;if(r<=50)i=e||100;else{const a=r+50,s=Math.trunc(a/100)*100,l=e>=a%100;i=e+s-(l?100:0)}return t?i:1-i}function vO(e){return e%400===0||e%4===0&&e%100!==0}class sV extends wr{constructor(){super(...arguments);et(this,"priority",130);et(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const a=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return da(Zi(4,t),a);case"yo":return da(i.ordinalNumber(t,{unit:"year"}),a);default:return da(Zi(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const a=t.getFullYear();if(i.isTwoDigitYear){const l=xO(i.year,a);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const s=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class oV extends wr{constructor(){super(...arguments);et(this,"priority",130);et(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const a=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return da(Zi(4,t),a);case"Yo":return da(i.ordinalNumber(t,{unit:"year"}),a);default:return da(Zi(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,a){const s=sA(t,a);if(i.isTwoDigitYear){const u=xO(i.year,s);return t.setFullYear(u,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Pd(t,a)}const l=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(l,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Pd(t,a)}}class lV extends wr{constructor(){super(...arguments);et(this,"priority",130);et(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return qx(r==="R"?4:r.length,t)}set(t,r,i){const a=Lr(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),im(a)}}class uV extends wr{constructor(){super(...arguments);et(this,"priority",130);et(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return qx(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class cV extends wr{constructor(){super(...arguments);et(this,"priority",120);et(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return Zi(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class dV extends wr{constructor(){super(...arguments);et(this,"priority",120);et(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return Zi(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class fV extends wr{constructor(){super(...arguments);et(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);et(this,"priority",110)}parse(t,r,i){const a=s=>s-1;switch(r){case"M":return da(Mi(ca.month,t),a);case"MM":return da(Zi(2,t),a);case"Mo":return da(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class hV extends wr{constructor(){super(...arguments);et(this,"priority",110);et(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const a=s=>s-1;switch(r){case"L":return da(Mi(ca.month,t),a);case"LL":return da(Zi(2,t),a);case"Lo":return da(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function pV(e,n,t){const r=Mt(e),i=hO(r,t)-n;return r.setDate(r.getDate()-i*7),r}class mV extends wr{constructor(){super(...arguments);et(this,"priority",100);et(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return Mi(ca.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Zi(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,a){return Pd(pV(t,i,a),a)}}function gV(e,n){const t=Mt(e),r=aA(t)-n;return t.setDate(t.getDate()-r*7),t}class bV extends wr{constructor(){super(...arguments);et(this,"priority",100);et(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return Mi(ca.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Zi(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return im(gV(t,i))}}const yV=[31,28,31,30,31,30,31,31,30,31,30,31],xV=[31,29,31,30,31,30,31,31,30,31,30,31];class vV extends wr{constructor(){super(...arguments);et(this,"priority",90);et(this,"subPriority",1);et(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return Mi(ca.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Zi(r.length,t)}}validate(t,r){const i=t.getFullYear(),a=vO(i),s=t.getMonth();return a?r>=1&&r<=xV[s]:r>=1&&r<=yV[s]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class wV extends wr{constructor(){super(...arguments);et(this,"priority",90);et(this,"subpriority",1);et(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return Mi(ca.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Zi(r.length,t)}}validate(t,r){const i=t.getFullYear();return vO(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function lA(e,n,t){var g,b,m,x;const r=Np(),i=(t==null?void 0:t.weekStartsOn)??((b=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((x=(m=r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,a=Mt(e),s=a.getDay(),u=(n%7+7)%7,d=7-i,f=n<0||n>6?n-(s+d)%7:(u+d)%7-(s+d)%7;return wu(a,f)}class SV extends wr{constructor(){super(...arguments);et(this,"priority",90);et(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=lA(t,i,a),t.setHours(0,0,0,0),t}}class AV extends wr{constructor(){super(...arguments);et(this,"priority",90);et(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,a){const s=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return da(Zi(r.length,t),s);case"eo":return da(i.ordinalNumber(t,{unit:"day"}),s);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=lA(t,i,a),t.setHours(0,0,0,0),t}}class CV extends wr{constructor(){super(...arguments);et(this,"priority",90);et(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,a){const s=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return da(Zi(r.length,t),s);case"co":return da(i.ordinalNumber(t,{unit:"day"}),s);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=lA(t,i,a),t.setHours(0,0,0,0),t}}function EV(e,n){const t=Mt(e),r=JW(t),i=n-r;return wu(t,i)}class _V extends wr{constructor(){super(...arguments);et(this,"priority",90);et(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const a=s=>s===0?7:s;switch(r){case"i":case"ii":return Zi(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return da(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return da(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return da(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return da(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=EV(t,i),t.setHours(0,0,0,0),t}}class kV extends wr{constructor(){super(...arguments);et(this,"priority",80);et(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(oA(i),0,0,0),t}}class NV extends wr{constructor(){super(...arguments);et(this,"priority",80);et(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(oA(i),0,0,0),t}}class jV extends wr{constructor(){super(...arguments);et(this,"priority",80);et(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(oA(i),0,0,0),t}}class TV extends wr{constructor(){super(...arguments);et(this,"priority",70);et(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return Mi(ca.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Zi(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class OV extends wr{constructor(){super(...arguments);et(this,"priority",70);et(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return Mi(ca.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Zi(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class IV extends wr{constructor(){super(...arguments);et(this,"priority",70);et(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return Mi(ca.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Zi(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class DV extends wr{constructor(){super(...arguments);et(this,"priority",70);et(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return Mi(ca.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Zi(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}}class LV extends wr{constructor(){super(...arguments);et(this,"priority",60);et(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return Mi(ca.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Zi(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class RV extends wr{constructor(){super(...arguments);et(this,"priority",50);et(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return Mi(ca.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Zi(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class MV extends wr{constructor(){super(...arguments);et(this,"priority",30);et(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=a=>Math.trunc(a*Math.pow(10,-r.length+3));return da(Zi(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class FV extends wr{constructor(){super(...arguments);et(this,"priority",10);et(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return mc(pc.basicOptionalMinutes,t);case"XX":return mc(pc.basic,t);case"XXXX":return mc(pc.basicOptionalSeconds,t);case"XXXXX":return mc(pc.extendedOptionalSeconds,t);case"XXX":default:return mc(pc.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Lr(t,t.getTime()-Dx(t)-i)}}class PV extends wr{constructor(){super(...arguments);et(this,"priority",10);et(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return mc(pc.basicOptionalMinutes,t);case"xx":return mc(pc.basic,t);case"xxxx":return mc(pc.basicOptionalSeconds,t);case"xxxxx":return mc(pc.extendedOptionalSeconds,t);case"xxx":default:return mc(pc.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Lr(t,t.getTime()-Dx(t)-i)}}class zV extends wr{constructor(){super(...arguments);et(this,"priority",40);et(this,"incompatibleTokens","*")}parse(t){return yO(t)}set(t,r,i){return[Lr(t,i*1e3),{timestampIsSet:!0}]}}class qV extends wr{constructor(){super(...arguments);et(this,"priority",20);et(this,"incompatibleTokens","*")}parse(t){return yO(t)}set(t,r,i){return[Lr(t,i),{timestampIsSet:!0}]}}const BV={G:new aV,y:new sV,Y:new oV,R:new lV,u:new uV,Q:new cV,q:new dV,M:new fV,L:new hV,w:new mV,I:new bV,d:new vV,D:new wV,E:new SV,e:new AV,c:new CV,i:new _V,a:new kV,b:new NV,B:new jV,h:new TV,H:new OV,K:new IV,k:new DV,m:new LV,s:new RV,S:new MV,X:new FV,x:new PV,t:new zV,T:new qV},UV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$V=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HV=/^'([^]*?)'?$/,WV=/''/g,VV=/\S/,YV=/[a-zA-Z]/;function X5(e,n,t,r){var y,A,w,C,N,R,F,q;const i=ZW(),a=(r==null?void 0:r.locale)??i.locale??fO,s=(r==null?void 0:r.firstWeekContainsDate)??((A=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:A.firstWeekContainsDate)??i.firstWeekContainsDate??((C=(w=i.locale)==null?void 0:w.options)==null?void 0:C.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((R=(N=r==null?void 0:r.locale)==null?void 0:N.options)==null?void 0:R.weekStartsOn)??i.weekStartsOn??((q=(F=i.locale)==null?void 0:F.options)==null?void 0:q.weekStartsOn)??0;if(n==="")return e===""?Mt(t):Lr(t,NaN);const u={firstWeekContainsDate:s,weekStartsOn:l,locale:a},d=[new iV],f=n.match($V).map(k=>{const L=k[0];if(L in zx){const B=zx[L];return B(k,a.formatLong)}return k}).join("").match(UV),g=[];for(let k of f){!(r!=null&&r.useAdditionalWeekYearTokens)&&gO(k)&&kS(k,n,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&mO(k)&&kS(k,n,e);const L=k[0],B=BV[L];if(B){const{incompatibleTokens:X}=B;if(Array.isArray(X)){const O=g.find(P=>X.includes(P.token)||P.token===L);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${k}\` at the same time`)}else if(B.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${k}\` and any other token at the same time`);g.push({token:L,fullToken:k});const j=B.run(e,k,a.match,u);if(!j)return Lr(t,NaN);d.push(j.setter),e=j.rest}else{if(L.match(YV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");if(k==="''"?k="'":L==="'"&&(k=GV(k)),e.indexOf(k)===0)e=e.slice(k.length);else return Lr(t,NaN)}}if(e.length>0&&VV.test(e))return Lr(t,NaN);const b=d.map(k=>k.priority).sort((k,L)=>L-k).filter((k,L,B)=>B.indexOf(k)===L).map(k=>d.filter(L=>L.priority===k).sort((L,B)=>B.subPriority-L.subPriority)).map(k=>k[0]);let m=Mt(t);if(isNaN(m.getTime()))return Lr(t,NaN);const x={};for(const k of b){if(!k.validate(m,u))return Lr(t,NaN);const L=k.set(m,x,u);Array.isArray(L)?(m=L[0],Object.assign(x,L[1])):m=L}return Lr(t,m)}function GV(e){return e.match(HV)[1].replace(WV,"'")}function QV(e,n){const t=Mt(e),r=Mt(n);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function KV(e,n){const t=_S(e),r=_S(n);return+t==+r}function XV(e,n){const t=Mt(e),r=Mt(n);return t.getFullYear()===r.getFullYear()}function Sg(e,n){const t=+Mt(e),[r,i]=[+Mt(n.start),+Mt(n.end)].sort((a,s)=>a-s);return t>=r&&t<=i}function ZV(e,n){return wu(e,-1)}function JV(e,n){const r=rY(e);let i;if(r.date){const u=iY(r.date,2);i=aY(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let s=0,l;if(r.time&&(s=sY(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(l=oY(r.timezone),isNaN(l))return new Date(NaN)}else{const u=new Date(a+s),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(a+s+l)}const Ny={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},eY=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,tY=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,nY=/^([+-])(\d{2})(?::?(\d{2}))?$/;function rY(e){const n={},t=e.split(Ny.dateTimeDelimiter);let r;if(t.length>2)return n;if(/:/.test(t[0])?r=t[0]:(n.date=t[0],r=t[1],Ny.timeZoneDelimiter.test(n.date)&&(n.date=e.split(Ny.timeZoneDelimiter)[0],r=e.substr(n.date.length,e.length))),r){const i=Ny.timezone.exec(r);i?(n.time=r.replace(i[1],""),n.timezone=i[1]):n.time=r}return n}function iY(e,n){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),r=e.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function aY(e,n){if(n===null)return new Date(NaN);const t=e.match(eY);if(!t)return new Date(NaN);const r=!!t[4],i=S1(t[1]),a=S1(t[2])-1,s=S1(t[3]),l=S1(t[4]),u=S1(t[5])-1;if(r)return fY(n,l,u)?lY(n,l,u):new Date(NaN);{const d=new Date(0);return!cY(n,a,s)||!dY(n,i)?new Date(NaN):(d.setUTCFullYear(n,a,Math.max(i,s)),d)}}function S1(e){return e?parseInt(e):1}function sY(e){const n=e.match(tY);if(!n)return NaN;const t=Z5(n[1]),r=Z5(n[2]),i=Z5(n[3]);return hY(t,r,i)?t*_v+r*Ev+i*1e3:NaN}function Z5(e){return e&&parseFloat(e.replace(",","."))||0}function oY(e){if(e==="Z")return 0;const n=e.match(nY);if(!n)return 0;const t=n[1]==="+"?-1:1,r=parseInt(n[2]),i=n[3]&&parseInt(n[3])||0;return pY(r,i)?t*(r*_v+i*Ev):NaN}function lY(e,n,t){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=(n-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const uY=[31,null,31,30,31,30,31,31,30,31,30,31];function wO(e){return e%400===0||e%4===0&&e%100!==0}function cY(e,n,t){return n>=0&&n<=11&&t>=1&&t<=(uY[n]||(wO(e)?29:28))}function dY(e,n){return n>=1&&n<=(wO(e)?366:365)}function fY(e,n,t){return n>=1&&n<=53&&t>=0&&t<=6}function hY(e,n,t){return e===24?n===0&&t===0:t>=0&&t<60&&n>=0&&n<60&&e>=0&&e<25}function pY(e,n){return n>=0&&n<=59}function $o(e,n){const t=Mt(e),r=t.getFullYear(),i=t.getDate(),a=Lr(e,0);a.setFullYear(r,n,15),a.setHours(0,0,0,0);const s=XW(a);return t.setMonth(n,Math.min(i,s)),t}function mY(e,n){let t=Mt(e);return isNaN(+t)?Lr(e,NaN):(n.year!=null&&t.setFullYear(n.year),n.month!=null&&(t=$o(t,n.month)),n.date!=null&&t.setDate(n.date),n.hours!=null&&t.setHours(n.hours),n.minutes!=null&&t.setMinutes(n.minutes),n.seconds!=null&&t.setSeconds(n.seconds),n.milliseconds!=null&&t.setMilliseconds(n.milliseconds),t)}function ex(e,n){const t=Mt(e);return t.setHours(n),t}function tx(e,n){const t=Mt(e);return t.setMinutes(n),t}function O0(e,n){const t=Mt(e),r=Math.trunc(t.getMonth()/3)+1,i=n-r;return $o(t,t.getMonth()+i*3)}function nx(e,n){const t=Mt(e);return t.setSeconds(n),t}function cc(e,n){const t=Mt(e);return isNaN(+t)?Lr(e,NaN):(t.setFullYear(n),t)}function np(e,n){return Au(e,-n)}function SO(e,n){return iA(e,-1)}function u8(e,n){return Lx(e,-1)}function sm(e,n){return jd(e,-n)}function Nv(){return typeof window<"u"}function hm(e){return AO(e)?(e.nodeName||"").toLowerCase():"#document"}function Xo(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function Uc(e){var n;return(n=(AO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function AO(e){return Nv()?e instanceof Node||e instanceof Xo(e).Node:!1}function no(e){return Nv()?e instanceof Element||e instanceof Xo(e).Element:!1}function zc(e){return Nv()?e instanceof HTMLElement||e instanceof Xo(e).HTMLElement:!1}function c8(e){return!Nv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xo(e).ShadowRoot}const gY=new Set(["inline","contents"]);function Zg(e){const{overflow:n,overflowX:t,overflowY:r,display:i}=Rl(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+t)&&!gY.has(i)}const bY=new Set(["table","td","th"]);function yY(e){return bY.has(hm(e))}const xY=[":popover-open",":modal"];function jv(e){return xY.some(n=>{try{return e.matches(n)}catch{return!1}})}const vY=["transform","translate","scale","rotate","perspective"],wY=["transform","translate","scale","rotate","perspective","filter"],SY=["paint","layout","strict","content"];function uA(e){const n=cA(),t=no(e)?Rl(e):e;return vY.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||wY.some(r=>(t.willChange||"").includes(r))||SY.some(r=>(t.contain||"").includes(r))}function AY(e){let n=nh(e);for(;zc(n)&&!om(n);){if(uA(n))return n;if(jv(n))return null;n=nh(n)}return null}function cA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const CY=new Set(["html","body","#document"]);function om(e){return CY.has(hm(e))}function Rl(e){return Xo(e).getComputedStyle(e)}function Tv(e){return no(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function nh(e){if(hm(e)==="html")return e;const n=e.assignedSlot||e.parentNode||c8(e)&&e.host||Uc(e);return c8(n)?n.host:n}function CO(e){const n=nh(e);return om(n)?e.ownerDocument?e.ownerDocument.body:e.body:zc(n)&&Zg(n)?n:CO(n)}function Ag(e,n,t){var r;n===void 0&&(n=[]),t===void 0&&(t=!0);const i=CO(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),s=Xo(i);if(a){const l=jS(s);return n.concat(s,s.visualViewport||[],Zg(i)?i:[],l&&t?Ag(l):[])}return n.concat(i,Ag(i,[],t))}function jS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const lm=Math.min,rp=Math.max,Bx=Math.round,jy=Math.floor,Nc=e=>({x:e,y:e}),EY={left:"right",right:"left",bottom:"top",top:"bottom"},_Y={start:"end",end:"start"};function kY(e,n,t){return rp(e,lm(n,t))}function Ov(e,n){return typeof e=="function"?e(n):e}function um(e){return e.split("-")[0]}function Jg(e){return e.split("-")[1]}function NY(e){return e==="x"?"y":"x"}function dA(e){return e==="y"?"height":"width"}const jY=new Set(["top","bottom"]);function Qh(e){return jY.has(um(e))?"y":"x"}function fA(e){return NY(Qh(e))}function TY(e,n,t){t===void 0&&(t=!1);const r=Jg(e),i=fA(e),a=dA(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[a]>n.floating[a]&&(s=Ux(s)),[s,Ux(s)]}function OY(e){const n=Ux(e);return[TS(e),n,TS(n)]}function TS(e){return e.replace(/start|end/g,n=>_Y[n])}const d8=["left","right"],f8=["right","left"],IY=["top","bottom"],DY=["bottom","top"];function LY(e,n,t){switch(e){case"top":case"bottom":return t?n?f8:d8:n?d8:f8;case"left":case"right":return n?IY:DY;default:return[]}}function RY(e,n,t,r){const i=Jg(e);let a=LY(um(e),t==="start",r);return i&&(a=a.map(s=>s+"-"+i),n&&(a=a.concat(a.map(TS)))),a}function Ux(e){return e.replace(/left|right|bottom|top/g,n=>EY[n])}function MY(e){return{top:0,right:0,bottom:0,left:0,...e}}function EO(e){return typeof e!="number"?MY(e):{top:e,right:e,bottom:e,left:e}}function $x(e){const{x:n,y:t,width:r,height:i}=e;return{width:r,height:i,top:t,left:n,right:n+r,bottom:t+i,x:n,y:t}}var FY=typeof document<"u",PY=function(){},Hx=FY?Q.useLayoutEffect:PY;const zY={..._6},qY=zY.useInsertionEffect,BY=qY||(e=>e());function UY(e){const n=Q.useRef(()=>{});return BY(()=>{n.current=e}),Q.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.current==null?void 0:n.current(...r)},[])}function h8(e,n,t){let{reference:r,floating:i}=e;const a=Qh(n),s=fA(n),l=dA(s),u=um(n),d=a==="y",f=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,b=r[l]/2-i[l]/2;let m;switch(u){case"top":m={x:f,y:r.y-i.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:g};break;case"left":m={x:r.x-i.width,y:g};break;default:m={x:r.x,y:r.y}}switch(Jg(n)){case"start":m[s]-=b*(t&&d?-1:1);break;case"end":m[s]+=b*(t&&d?-1:1);break}return m}const $Y=async(e,n,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=t,l=a.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(n));let d=await s.getElementRects({reference:e,floating:n,strategy:i}),{x:f,y:g}=h8(d,r,u),b=r,m={},x=0;for(let y=0;y<l.length;y++){const{name:A,fn:w}=l[y],{x:C,y:N,data:R,reset:F}=await w({x:f,y:g,initialPlacement:r,placement:b,strategy:i,middlewareData:m,rects:d,platform:s,elements:{reference:e,floating:n}});f=C??f,g=N??g,m={...m,[A]:{...m[A],...R}},F&&x<=50&&(x++,typeof F=="object"&&(F.placement&&(b=F.placement),F.rects&&(d=F.rects===!0?await s.getElementRects({reference:e,floating:n,strategy:i}):F.rects),{x:f,y:g}=h8(d,b,u)),y=-1)}return{x:f,y:g,placement:b,strategy:i,middlewareData:m}};async function HY(e,n){var t;n===void 0&&(n={});const{x:r,y:i,platform:a,rects:s,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:g="floating",altBoundary:b=!1,padding:m=0}=Ov(n,e),x=EO(m),A=l[b?g==="floating"?"reference":"floating":g],w=$x(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(A)))==null||t?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),C=g==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),R=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},F=$x(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:N,strategy:u}):C);return{top:(w.top-F.top+x.top)/R.y,bottom:(F.bottom-w.bottom+x.bottom)/R.y,left:(w.left-F.left+x.left)/R.x,right:(F.right-w.right+x.right)/R.x}}const WY=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:r,placement:i,rects:a,platform:s,elements:l,middlewareData:u}=n,{element:d,padding:f=0}=Ov(e,n)||{};if(d==null)return{};const g=EO(f),b={x:t,y:r},m=fA(i),x=dA(m),y=await s.getDimensions(d),A=m==="y",w=A?"top":"left",C=A?"bottom":"right",N=A?"clientHeight":"clientWidth",R=a.reference[x]+a.reference[m]-b[m]-a.floating[x],F=b[m]-a.reference[m],q=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d));let k=q?q[N]:0;(!k||!await(s.isElement==null?void 0:s.isElement(q)))&&(k=l.floating[N]||a.floating[x]);const L=R/2-F/2,B=k/2-y[x]/2-1,X=lm(g[w],B),j=lm(g[C],B),O=X,P=k-y[x]-j,T=k/2-y[x]/2+L,G=kY(O,T,P),W=!u.arrow&&Jg(i)!=null&&T!==G&&a.reference[x]/2-(T<O?X:j)-y[x]/2<0,K=W?T<O?T-O:T-P:0;return{[m]:b[m]+K,data:{[m]:G,centerOffset:T-G-K,...W&&{alignmentOffset:K}},reset:W}}}),VY=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:l,platform:u,elements:d}=n,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...A}=Ov(e,n);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const w=um(i),C=Qh(l),N=um(l)===l,R=await(u.isRTL==null?void 0:u.isRTL(d.floating)),F=b||(N||!y?[Ux(l)]:OY(l)),q=x!=="none";!b&&q&&F.push(...RY(l,y,x,R));const k=[l,...F],L=await HY(n,A),B=[];let X=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&B.push(L[w]),g){const T=TY(i,s,R);B.push(L[T[0]],L[T[1]])}if(X=[...X,{placement:i,overflows:B}],!B.every(T=>T<=0)){var j,O;const T=(((j=a.flip)==null?void 0:j.index)||0)+1,G=k[T];if(G&&(!(g==="alignment"?C!==Qh(G):!1)||X.every(ie=>ie.overflows[0]>0&&Qh(ie.placement)===C)))return{data:{index:T,overflows:X},reset:{placement:G}};let W=(O=X.filter(K=>K.overflows[0]<=0).sort((K,ie)=>K.overflows[1]-ie.overflows[1])[0])==null?void 0:O.placement;if(!W)switch(m){case"bestFit":{var P;const K=(P=X.filter(ie=>{if(q){const ue=Qh(ie.placement);return ue===C||ue==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(ue=>ue>0).reduce((ue,$)=>ue+$,0)]).sort((ie,ue)=>ie[1]-ue[1])[0])==null?void 0:P[0];K&&(W=K);break}case"initialPlacement":W=l;break}if(i!==W)return{reset:{placement:W}}}return{}}}},YY=new Set(["left","top"]);async function GY(e,n){const{placement:t,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=um(t),l=Jg(t),u=Qh(t)==="y",d=YY.has(s)?-1:1,f=a&&u?-1:1,g=Ov(n,e);let{mainAxis:b,crossAxis:m,alignmentAxis:x}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),u?{x:m*f,y:b*d}:{x:b*d,y:m*f}}const QY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,r;const{x:i,y:a,placement:s,middlewareData:l}=n,u=await GY(n,e);return s===((t=l.offset)==null?void 0:t.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:s}}}}};function _O(e){const n=Rl(e);let t=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const i=zc(e),a=i?e.offsetWidth:t,s=i?e.offsetHeight:r,l=Bx(t)!==a||Bx(r)!==s;return l&&(t=a,r=s),{width:t,height:r,$:l}}function hA(e){return no(e)?e:e.contextElement}function z0(e){const n=hA(e);if(!zc(n))return Nc(1);const t=n.getBoundingClientRect(),{width:r,height:i,$:a}=_O(n);let s=(a?Bx(t.width):t.width)/r,l=(a?Bx(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const KY=Nc(0);function kO(e){const n=Xo(e);return!cA()||!n.visualViewport?KY:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function XY(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==Xo(e)?!1:n}function mp(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=!1);const i=e.getBoundingClientRect(),a=hA(e);let s=Nc(1);n&&(r?no(r)&&(s=z0(r)):s=z0(e));const l=XY(a,t,r)?kO(a):Nc(0);let u=(i.left+l.x)/s.x,d=(i.top+l.y)/s.y,f=i.width/s.x,g=i.height/s.y;if(a){const b=Xo(a),m=r&&no(r)?Xo(r):r;let x=b,y=jS(x);for(;y&&r&&m!==x;){const A=z0(y),w=y.getBoundingClientRect(),C=Rl(y),N=w.left+(y.clientLeft+parseFloat(C.paddingLeft))*A.x,R=w.top+(y.clientTop+parseFloat(C.paddingTop))*A.y;u*=A.x,d*=A.y,f*=A.x,g*=A.y,u+=N,d+=R,x=Xo(y),y=jS(x)}}return $x({width:f,height:g,x:u,y:d})}function pA(e,n){const t=Tv(e).scrollLeft;return n?n.left+t:mp(Uc(e)).left+t}function NO(e,n,t){t===void 0&&(t=!1);const r=e.getBoundingClientRect(),i=r.left+n.scrollLeft-(t?0:pA(e,r)),a=r.top+n.scrollTop;return{x:i,y:a}}function ZY(e){let{elements:n,rect:t,offsetParent:r,strategy:i}=e;const a=i==="fixed",s=Uc(r),l=n?jv(n.floating):!1;if(r===s||l&&a)return t;let u={scrollLeft:0,scrollTop:0},d=Nc(1);const f=Nc(0),g=zc(r);if((g||!g&&!a)&&((hm(r)!=="body"||Zg(s))&&(u=Tv(r)),zc(r))){const m=mp(r);d=z0(r),f.x=m.x+r.clientLeft,f.y=m.y+r.clientTop}const b=s&&!g&&!a?NO(s,u,!0):Nc(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-u.scrollLeft*d.x+f.x+b.x,y:t.y*d.y-u.scrollTop*d.y+f.y+b.y}}function JY(e){return Array.from(e.getClientRects())}function eG(e){const n=Uc(e),t=Tv(e),r=e.ownerDocument.body,i=rp(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),a=rp(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+pA(e);const l=-t.scrollTop;return Rl(r).direction==="rtl"&&(s+=rp(n.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:l}}function tG(e,n){const t=Xo(e),r=Uc(e),i=t.visualViewport;let a=r.clientWidth,s=r.clientHeight,l=0,u=0;if(i){a=i.width,s=i.height;const d=cA();(!d||d&&n==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:a,height:s,x:l,y:u}}const nG=new Set(["absolute","fixed"]);function rG(e,n){const t=mp(e,!0,n==="fixed"),r=t.top+e.clientTop,i=t.left+e.clientLeft,a=zc(e)?z0(e):Nc(1),s=e.clientWidth*a.x,l=e.clientHeight*a.y,u=i*a.x,d=r*a.y;return{width:s,height:l,x:u,y:d}}function p8(e,n,t){let r;if(n==="viewport")r=tG(e,t);else if(n==="document")r=eG(Uc(e));else if(no(n))r=rG(n,t);else{const i=kO(e);r={x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}}return $x(r)}function jO(e,n){const t=nh(e);return t===n||!no(t)||om(t)?!1:Rl(t).position==="fixed"||jO(t,n)}function iG(e,n){const t=n.get(e);if(t)return t;let r=Ag(e,[],!1).filter(l=>no(l)&&hm(l)!=="body"),i=null;const a=Rl(e).position==="fixed";let s=a?nh(e):e;for(;no(s)&&!om(s);){const l=Rl(s),u=uA(s);!u&&l.position==="fixed"&&(i=null),(a?!u&&!i:!u&&l.position==="static"&&!!i&&nG.has(i.position)||Zg(s)&&!u&&jO(e,s))?r=r.filter(f=>f!==s):i=l,s=nh(s)}return n.set(e,r),r}function aG(e){let{element:n,boundary:t,rootBoundary:r,strategy:i}=e;const s=[...t==="clippingAncestors"?jv(n)?[]:iG(n,this._c):[].concat(t),r],l=s[0],u=s.reduce((d,f)=>{const g=p8(n,f,i);return d.top=rp(g.top,d.top),d.right=lm(g.right,d.right),d.bottom=lm(g.bottom,d.bottom),d.left=rp(g.left,d.left),d},p8(n,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function sG(e){const{width:n,height:t}=_O(e);return{width:n,height:t}}function oG(e,n,t){const r=zc(n),i=Uc(n),a=t==="fixed",s=mp(e,!0,a,n);let l={scrollLeft:0,scrollTop:0};const u=Nc(0);function d(){u.x=pA(i)}if(r||!r&&!a)if((hm(n)!=="body"||Zg(i))&&(l=Tv(n)),r){const m=mp(n,!0,a,n);u.x=m.x+n.clientLeft,u.y=m.y+n.clientTop}else i&&d();a&&!r&&i&&d();const f=i&&!r&&!a?NO(i,l):Nc(0),g=s.left+l.scrollLeft-u.x-f.x,b=s.top+l.scrollTop-u.y-f.y;return{x:g,y:b,width:s.width,height:s.height}}function J5(e){return Rl(e).position==="static"}function m8(e,n){if(!zc(e)||Rl(e).position==="fixed")return null;if(n)return n(e);let t=e.offsetParent;return Uc(e)===t&&(t=t.ownerDocument.body),t}function TO(e,n){const t=Xo(e);if(jv(e))return t;if(!zc(e)){let i=nh(e);for(;i&&!om(i);){if(no(i)&&!J5(i))return i;i=nh(i)}return t}let r=m8(e,n);for(;r&&yY(r)&&J5(r);)r=m8(r,n);return r&&om(r)&&J5(r)&&!uA(r)?t:r||AY(e)||t}const lG=async function(e){const n=this.getOffsetParent||TO,t=this.getDimensions,r=await t(e.floating);return{reference:oG(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function uG(e){return Rl(e).direction==="rtl"}const cG={convertOffsetParentRelativeRectToViewportRelativeRect:ZY,getDocumentElement:Uc,getClippingRect:aG,getOffsetParent:TO,getElementRects:lG,getClientRects:JY,getDimensions:sG,getScale:z0,isElement:no,isRTL:uG};function OO(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function dG(e,n){let t=null,r;const i=Uc(e);function a(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function s(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),a();const d=e.getBoundingClientRect(),{left:f,top:g,width:b,height:m}=d;if(l||n(),!b||!m)return;const x=jy(g),y=jy(i.clientWidth-(f+b)),A=jy(i.clientHeight-(g+m)),w=jy(f),N={rootMargin:-x+"px "+-y+"px "+-A+"px "+-w+"px",threshold:rp(0,lm(1,u))||1};let R=!0;function F(q){const k=q[0].intersectionRatio;if(k!==u){if(!R)return s();k?s(!1,k):r=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!OO(d,e.getBoundingClientRect())&&s(),R=!1}try{t=new IntersectionObserver(F,{...N,root:i.ownerDocument})}catch{t=new IntersectionObserver(F,N)}t.observe(e)}return s(!0),a}function fG(e,n,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=hA(e),f=i||a?[...d?Ag(d):[],...Ag(n)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",t,{passive:!0}),a&&w.addEventListener("resize",t)});const g=d&&l?dG(d,t):null;let b=-1,m=null;s&&(m=new ResizeObserver(w=>{let[C]=w;C&&C.target===d&&m&&(m.unobserve(n),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var N;(N=m)==null||N.observe(n)})),t()}),d&&!u&&m.observe(d),m.observe(n));let x,y=u?mp(e):null;u&&A();function A(){const w=mp(e);y&&!OO(y,w)&&t(),y=w,x=requestAnimationFrame(A)}return t(),()=>{var w;f.forEach(C=>{i&&C.removeEventListener("scroll",t),a&&C.removeEventListener("resize",t)}),g==null||g(),(w=m)==null||w.disconnect(),m=null,u&&cancelAnimationFrame(x)}}const hG=QY,pG=VY,g8=WY,mG=(e,n,t)=>{const r=new Map,i={platform:cG,...t},a={...i.platform,_c:r};return $Y(e,n,{...i,platform:a})};var gG=typeof document<"u",bG=function(){},rx=gG?Q.useLayoutEffect:bG;function Wx(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,r,i;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(r=t;r--!==0;)if(!Wx(e[r],n[r]))return!1;return!0}if(i=Object.keys(e),t=i.length,t!==Object.keys(n).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(n,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Wx(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}function IO(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function b8(e,n){const t=IO(e);return Math.round(n*t)/t}function ew(e){const n=Q.useRef(e);return rx(()=>{n.current=e}),n}function yG(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:u,open:d}=e,[f,g]=Q.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[b,m]=Q.useState(r);Wx(b,r)||m(r);const[x,y]=Q.useState(null),[A,w]=Q.useState(null),C=Q.useCallback(ie=>{ie!==q.current&&(q.current=ie,y(ie))},[]),N=Q.useCallback(ie=>{ie!==k.current&&(k.current=ie,w(ie))},[]),R=a||x,F=s||A,q=Q.useRef(null),k=Q.useRef(null),L=Q.useRef(f),B=u!=null,X=ew(u),j=ew(i),O=ew(d),P=Q.useCallback(()=>{if(!q.current||!k.current)return;const ie={placement:n,strategy:t,middleware:b};j.current&&(ie.platform=j.current),mG(q.current,k.current,ie).then(ue=>{const $={...ue,isPositioned:O.current!==!1};T.current&&!Wx(L.current,$)&&(L.current=$,uR.flushSync(()=>{g($)}))})},[b,n,t,j,O]);rx(()=>{d===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,g(ie=>({...ie,isPositioned:!1})))},[d]);const T=Q.useRef(!1);rx(()=>(T.current=!0,()=>{T.current=!1}),[]),rx(()=>{if(R&&(q.current=R),F&&(k.current=F),R&&F){if(X.current)return X.current(R,F,P);P()}},[R,F,P,X,B]);const G=Q.useMemo(()=>({reference:q,floating:k,setReference:C,setFloating:N}),[C,N]),W=Q.useMemo(()=>({reference:R,floating:F}),[R,F]),K=Q.useMemo(()=>{const ie={position:t,left:0,top:0};if(!W.floating)return ie;const ue=b8(W.floating,f.x),$=b8(W.floating,f.y);return l?{...ie,transform:"translate("+ue+"px, "+$+"px)",...IO(W.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ue,top:$}},[t,l,W.floating,f.x,f.y]);return Q.useMemo(()=>({...f,update:P,refs:G,elements:W,floatingStyles:K}),[f,P,G,W,K])}const xG=e=>{function n(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:r,padding:i}=typeof e=="function"?e(t):e;return r&&n(r)?r.current!=null?g8({element:r.current,padding:i}).fn(t):{}:r?g8({element:r,padding:i}).fn(t):{}}}},vG=(e,n)=>({...hG(e),options:[e,n]}),wG=(e,n)=>({...pG(e),options:[e,n]}),SG=(e,n)=>({...xG(e),options:[e,n]}),AG={..._6};let y8=!1,CG=0;const x8=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+CG++;function EG(){const[e,n]=Q.useState(()=>y8?x8():void 0);return Hx(()=>{e==null&&n(x8())},[]),Q.useEffect(()=>{y8=!0},[]),e}const _G=AG.useId,DO=_G||EG,kG=Q.forwardRef(function(n,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:a,shift:s}},width:l=14,height:u=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:g,stroke:b,d:m,style:{transform:x,...y}={},...A}=n,w=DO(),[C,N]=Q.useState(!1);if(Hx(()=>{if(!i)return;Rl(i).direction==="rtl"&&N(!0)},[i]),!i)return null;const[R,F]=r.split("-"),q=R==="top"||R==="bottom";let k=g;(q&&s!=null&&s.x||!q&&s!=null&&s.y)&&(k=null);const L=f*2,B=L/2,X=l/2*(d/-8+1),j=u/2*d/4,O=!!m,P=k&&F==="end"?"bottom":"top";let T=k&&F==="end"?"right":"left";k&&C&&(T=F==="end"?"left":"right");const G=(a==null?void 0:a.x)!=null?k||a.x:"",W=(a==null?void 0:a.y)!=null?k||a.y:"",K=m||"M0,0"+(" H"+l)+(" L"+(l-X)+","+(u-j))+(" Q"+l/2+","+u+" "+X+","+(u-j))+" Z",ie={top:O?"rotate(180deg)":"",left:O?"rotate(90deg)":"rotate(-90deg)",bottom:O?"":"rotate(180deg)",right:O?"rotate(-90deg)":"rotate(90deg)"}[R];return h.jsxs("svg",{...A,"aria-hidden":!0,ref:t,width:O?l:l+L,height:l,viewBox:"0 0 "+l+" "+(u>l?u:l),style:{position:"absolute",pointerEvents:"none",[T]:G,[P]:W,[R]:q||O?"100%":"calc(100% - "+L/2+"px)",transform:[ie,x].filter(ue=>!!ue).join(" "),...y},children:[L>0&&h.jsx("path",{clipPath:"url(#"+w+")",fill:"none",stroke:b,strokeWidth:L+(m?0:1),d:K}),h.jsx("path",{stroke:L&&!m?A.fill:"none",d:K}),h.jsx("clipPath",{id:w,children:h.jsx("rect",{x:-B,y:B*(O?-1:1),width:l+L,height:l})})]})});function NG(){const e=new Map;return{emit(n,t){var r;(r=e.get(n))==null||r.forEach(i=>i(t))},on(n,t){e.has(n)||e.set(n,new Set),e.get(n).add(t)},off(n,t){var r;(r=e.get(n))==null||r.delete(t)}}}const jG=Q.createContext(null),TG=Q.createContext(null),OG=()=>{var e;return((e=Q.useContext(jG))==null?void 0:e.id)||null},IG=()=>Q.useContext(TG);function DG(e){const{open:n=!1,onOpenChange:t,elements:r}=e,i=DO(),a=Q.useRef({}),[s]=Q.useState(()=>NG()),l=OG()!=null,[u,d]=Q.useState(r.reference),f=UY((m,x,y)=>{a.current.openEvent=m?x:void 0,s.emit("openchange",{open:m,event:x,reason:y,nested:l}),t==null||t(m,x,y)}),g=Q.useMemo(()=>({setPositionReference:d}),[]),b=Q.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return Q.useMemo(()=>({dataRef:a,open:n,onOpenChange:f,elements:b,events:s,floatingId:i,refs:g}),[n,f,b,s,i,g])}function LG(e){e===void 0&&(e={});const{nodeId:n}=e,t=DG({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||t,i=r.elements,[a,s]=Q.useState(null),[l,u]=Q.useState(null),f=(i==null?void 0:i.domReference)||a,g=Q.useRef(null),b=IG();Hx(()=>{f&&(g.current=f)},[f]);const m=yG({...e,elements:{...i,...l&&{reference:l}}}),x=Q.useCallback(N=>{const R=no(N)?{getBoundingClientRect:()=>N.getBoundingClientRect(),getClientRects:()=>N.getClientRects(),contextElement:N}:N;u(R),m.refs.setReference(R)},[m.refs]),y=Q.useCallback(N=>{(no(N)||N===null)&&(g.current=N,s(N)),(no(m.refs.reference.current)||m.refs.reference.current===null||N!==null&&!no(N))&&m.refs.setReference(N)},[m.refs]),A=Q.useMemo(()=>({...m.refs,setReference:y,setPositionReference:x,domReference:g}),[m.refs,y,x]),w=Q.useMemo(()=>({...m.elements,domReference:f}),[m.elements,f]),C=Q.useMemo(()=>({...m,...r,refs:A,elements:w,nodeId:n}),[m,A,w,n,r]);return Hx(()=>{r.dataRef.current.floatingContext=C;const N=b==null?void 0:b.nodesRef.current.find(R=>R.id===n);N&&(N.context=C)}),Q.useMemo(()=>({...m,context:C,refs:A,elements:w}),[m,A,w,C])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var OS=function(n,t){return OS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},OS(n,t)};function ns(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");OS(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var rr=function(){return rr=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},rr.apply(this,arguments)};function Sc(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}var RG=function(e){var n=e.showTimeSelectOnly,t=n===void 0?!1:n,r=e.showTime,i=r===void 0?!1:r,a=e.className,s=e.children,l=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return at.createElement("div",{className:a,role:"dialog","aria-label":l,"aria-modal":"true"},s)},MG=function(e,n){var t=Q.useRef(null),r=Q.useRef(e);r.current=e;var i=Q.useCallback(function(a){var s;t.current&&!t.current.contains(a.target)&&(n&&a.target instanceof HTMLElement&&a.target.classList.contains(n)||(s=r.current)===null||s===void 0||s.call(r,a))},[n]);return Q.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},Iv=function(e){var n=e.children,t=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,s=e.ignoreClass,l=MG(t,s);return at.createElement("div",{className:r,style:a,ref:function(u){l.current=u,i&&(i.current=u)}},n)},It;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(It||(It={}));function LO(){var e=typeof window<"u"?window:globalThis;return e}var eb=12,FG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Rr(e){if(e==null)return new Date;var n=typeof e=="string"?JV(e):Mt(e);return xd(n)?n:new Date}function tw(e,n,t,r,i){var a,s=null,l=ip(t)||ip(J1()),u=!0;if(Array.isArray(n))return n.forEach(function(f){var g=X5(e,f,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(u=xd(g,i)&&e===hi(g,f,t)),xd(g,i)&&u&&(s=g)}),s;if(s=X5(e,n,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)u=xd(s)&&e===hi(s,n,t);else if(!xd(s)){var d=((a=n.match(FG))!==null&&a!==void 0?a:[]).map(function(f){var g=f[0];if(g==="p"||g==="P"){var b=zx[g];return l?b(f,l.formatLong):g}return f}).join("");e.length>0&&(s=X5(e,d.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),xd(s)||(s=new Date(e))}return xd(s)&&u?s:null}function xd(e,n){return Rx(e)&&!pp(e,n??new Date("1/1/1800"))}function hi(e,n,t){if(t==="en")return o8(e,n,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?ip(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!r&&J1()&&ip(J1())&&(r=ip(J1())),o8(e,n,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Cl(e,n){var t=n.dateFormat,r=n.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return e&&hi(e,i,r)||""}function PG(e,n,t){if(!e)return"";var r=Cl(e,t),i=n?Cl(n,t):"";return"".concat(r," - ").concat(i)}function zG(e,n){if(!(e!=null&&e.length))return"";var t=e[0]?Cl(e[0],n):"";if(e.length===1)return t;if(e.length===2&&e[1]){var r=Cl(e[1],n);return"".concat(t,", ").concat(r)}var i=e.length-1;return"".concat(t," (+").concat(i,")")}function nw(e,n){var t=n.hour,r=t===void 0?0:t,i=n.minute,a=i===void 0?0:i,s=n.second,l=s===void 0?0:s;return ex(tx(nx(e,l),a),r)}function qG(e){return aA(e)}function BG(e,n){return hi(e,"ddd",n)}function ix(e){return hp(e)}function Xf(e,n,t){var r=ip(n||J1());return Pd(e,{locale:r,weekStartsOn:t})}function Id(e){return cO(e)}function G1(e){return kv(e)}function v8(e){return _S(e)}function w8(){return hp(Rr())}function S8(e){return lO(e)}function UG(e){return iW(e)}function $G(e){return uO(e)}function dc(e,n){return e&&n?XV(e,n):!e&&!n}function eo(e,n){return e&&n?QV(e,n):!e&&!n}function Vx(e,n){return e&&n?KV(e,n):!e&&!n}function Kn(e,n){return e&&n?nW(e,n):!e&&!n}function Kh(e,n){return e&&n?eV(e,n):!e&&!n}function Q1(e,n,t){var r,i=hp(n),a=lO(t);try{r=Sg(e,{start:i,end:a})}catch{r=!1}return r}function J1(){var e=LO();return e.__localeId__}function ip(e){if(typeof e=="string"){var n=LO();return n.__localeData__?n.__localeData__[e]:void 0}else return e}function HG(e,n,t){return n(hi(e,"EEEE",t))}function WG(e,n){return hi(e,"EEEEEE",n)}function VG(e,n){return hi(e,"EEE",n)}function mA(e,n){return hi($o(Rr(),e),"LLLL",n)}function RO(e,n){return hi($o(Rr(),e),"LLL",n)}function YG(e,n){return hi(O0(Rr(),e),"QQQ",n)}function kl(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.excludeDateIntervals,l=t.includeDates,u=t.includeDateIntervals,d=t.filterDate;return tb(e,{minDate:r,maxDate:i})||a&&a.some(function(f){return f instanceof Date?Kn(e,f):Kn(e,f.date)})||s&&s.some(function(f){var g=f.start,b=f.end;return Sg(e,{start:g,end:b})})||l&&!l.some(function(f){return Kn(e,f)})||u&&!u.some(function(f){var g=f.start,b=f.end;return Sg(e,{start:g,end:b})})||d&&!d(Rr(e))||!1}function gA(e,n){var t=n===void 0?{}:n,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var s=a.start,l=a.end;return Sg(e,{start:s,end:l})}):r&&r.some(function(a){var s;return a instanceof Date?Kn(e,a):Kn(e,(s=a.date)!==null&&s!==void 0?s:new Date)})||!1}function MO(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate;return tb(e,{minDate:r?cO(r):void 0,maxDate:i?uO(i):void 0})||(a==null?void 0:a.some(function(u){return eo(e,u instanceof Date?u:u.date)}))||s&&!s.some(function(u){return eo(e,u)})||l&&!l(Rr(e))||!1}function Ty(e,n,t,r){var i=Fn(e),a=to(e),s=Fn(n),l=to(n),u=Fn(r);return i===s&&i===u?a<=t&&t<=l:i<s?u===i&&a<=t||u===s&&l>=t||u<s&&u>i:!1}function GG(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates;return tb(e,{minDate:r,maxDate:i})||a&&a.some(function(l){return eo(l instanceof Date?l:l.date,e)})||s&&!s.some(function(l){return eo(l,e)})||!1}function Oy(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate;return tb(e,{minDate:r,maxDate:i})||(a==null?void 0:a.some(function(u){return Vx(e,u instanceof Date?u:u.date)}))||s&&!s.some(function(u){return Vx(e,u)})||l&&!l(Rr(e))||!1}function Iy(e,n,t){if(!n||!t||!Rx(n)||!Rx(t))return!1;var r=Fn(n),i=Fn(t);return r<=e&&i>=e}function ax(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate,u=new Date(e,0,1);return tb(u,{minDate:r?kv(r):void 0,maxDate:i?dO(i):void 0})||(a==null?void 0:a.some(function(d){return dc(u,d instanceof Date?d:d.date)}))||s&&!s.some(function(d){return dc(u,d)})||l&&!l(Rr(u))||!1}function Dy(e,n,t,r){var i=Fn(e),a=tp(e),s=Fn(n),l=tp(n),u=Fn(r);return i===s&&i===u?a<=t&&t<=l:i<s?u===i&&a<=t||u===s&&l>=t||u<s&&u>i:!1}function tb(e,n){var t,r=n===void 0?{}:n,i=r.minDate,a=r.maxDate;return(t=i&&am(e,i)<0||a&&am(e,a)>0)!==null&&t!==void 0?t:!1}function A8(e,n){return n.some(function(t){return _c(t)===_c(e)&&kc(t)===kc(e)&&Od(t)===Od(e)})}function C8(e,n){var t=n===void 0?{}:n,r=t.excludeTimes,i=t.includeTimes,a=t.filterTime;return r&&A8(e,r)||i&&!A8(e,i)||a&&!a(e)||!1}function E8(e,n){var t=n.minTime,r=n.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=Rr();i=ex(i,_c(e)),i=tx(i,kc(e)),i=nx(i,Od(e));var a=Rr();a=ex(a,_c(t)),a=tx(a,kc(t)),a=nx(a,Od(t));var s=Rr();s=ex(s,_c(r)),s=tx(s,kc(r)),s=nx(s,Od(r));var l;try{l=!Sg(i,{start:a,end:s})}catch{l=!1}return l}function _8(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=np(e,1);return r&&Mx(r,a)>0||i&&i.every(function(s){return Mx(s,a)>0})||!1}function k8(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=Au(e,1);return r&&Mx(a,r)>0||i&&i.every(function(s){return Mx(a,s)>0})||!1}function QG(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=kv(e),s=SO(a);return r&&Fx(r,s)>0||i&&i.every(function(l){return Fx(l,s)>0})||!1}function KG(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=dO(e),s=iA(a,1);return r&&Fx(s,r)>0||i&&i.every(function(l){return Fx(s,l)>0})||!1}function N8(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=sm(e,1);return r&&Px(r,a)>0||i&&i.every(function(s){return Px(s,a)>0})||!1}function XG(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.yearItemNumber,a=i===void 0?eb:i,s=G1(sm(e,a)),l=Uf(s,a).endPeriod,u=r&&Fn(r);return u&&u>l||!1}function j8(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=jd(e,1);return r&&Px(a,r)>0||i&&i.every(function(s){return Px(a,s)>0})||!1}function ZG(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.yearItemNumber,a=i===void 0?eb:i,s=jd(e,a),l=Uf(s,a).startPeriod,u=r&&Fn(r);return u&&u<l||!1}function FO(e){var n=e.minDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return am(i,n)>=0});return t8(r)}else return t?t8(t):n}function PO(e){var n=e.maxDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return am(i,n)<=0});return e8(r)}else return t?e8(t):n}function T8(e,n){var t;e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--highlighted");for(var r=new Map,i=0,a=e.length;i<a;i++){var s=e[i];if(Td(s)){var l=hi(s,"MM.dd.yyyy"),u=r.get(l)||[];u.includes(n)||(u.push(n),r.set(l,u))}else if(typeof s=="object"){var d=Object.keys(s),f=(t=d[0])!==null&&t!==void 0?t:"",g=s[f];if(typeof f=="string"&&Array.isArray(g))for(var b=0,m=g.length;b<m;b++){var x=g[b];if(x){var l=hi(x,"MM.dd.yyyy"),u=r.get(l)||[];u.includes(f)||(u.push(f),r.set(l,u))}}}}return r}function JG(e,n){return e.length!==n.length?!1:e.every(function(t,r){return t===n[r]})}function eQ(e,n){e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(r){var i=r.date,a=r.holidayName;if(Td(i)){var s=hi(i,"MM.dd.yyyy"),l=t.get(s)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===n&&JG(l.holidayNames,[a]))){l.className=n;var u=l.holidayNames;l.holidayNames=u?Sc(Sc([],u,!0),[a],!1):[a],t.set(s,l)}}}),t}function tQ(e,n,t,r,i){for(var a=i.length,s=[],l=0;l<a;l++){var u=e,d=i[l];d&&(u=ZH(u,_c(d)),u=ES(u,kc(d)),u=tW(u,Od(d)));var f=ES(e,(t+1)*r);th(u,n)&&pp(u,f)&&d!=null&&s.push(d)}return s}function O8(e){return e<10?"0".concat(e):"".concat(e)}function Uf(e,n){n===void 0&&(n=eb);var t=Math.ceil(Fn(e)/n)*n,r=t-(n-1);return{startPeriod:r,endPeriod:t}}function nQ(e){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+n)/36e5)}function I8(e){var n=e.getSeconds(),t=e.getMilliseconds();return Mt(e.getTime()-n*1e3-t)}function rQ(e,n){return I8(e).getTime()===I8(n).getTime()}function D8(e){if(!Td(e))throw new Error("Invalid date");var n=new Date(e);return n.setHours(0,0,0,0),n}function L8(e,n){if(!Td(e)||!Td(n))throw new Error("Invalid date received");var t=D8(e),r=D8(n);return pp(t,r)}function zO(e){return e.key===It.Space}var iQ=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.inputRef=at.createRef(),r.onTimeChange=function(i){var a,s;r.setState({time:i});var l=r.props.date,u=l instanceof Date&&!isNaN(+l),d=u?l:new Date;if(i!=null&&i.includes(":")){var f=i.split(":"),g=f[0],b=f[1];d.setHours(Number(g)),d.setMinutes(Number(b))}(s=(a=r.props).onChange)===null||s===void 0||s.call(a,d)},r.renderTimeInput=function(){var i=r.state.time,a=r.props,s=a.date,l=a.timeString,u=a.customTimeInput;return u?Q.cloneElement(u,{date:s,value:i,onChange:r.onTimeChange}):at.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var d;(d=r.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:i,onChange:function(d){r.onTimeChange(d.target.value||l)}})},r.state={time:r.props.timeString},r}return n.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},n.prototype.render=function(){return at.createElement("div",{className:"react-datepicker__input-time-container"},at.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),at.createElement("div",{className:"react-datepicker-time__input-container"},at.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},n}(Q.Component),aQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=Q.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,a,s=r.key;s===It.Space&&(r.preventDefault(),r.key=It.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},t.isSameDay=function(r){return Kn(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),kl(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return gA(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Kn(t.props.day,Xf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&Kn(r,Xf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,a=r.highlightDates;if(!a)return!1;var s=hi(i,"MM.dd.yyyy");return a.get(s)},t.getHolidaysClass=function(){var r,i=t.props,a=i.day,s=i.holidays;if(!s)return[void 0];var l=hi(a,"MM.dd.yyyy");return s.has(l)?[(r=s.get(l))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Q1(i,a,s)},t.isInSelectingRange=function(){var r,i=t.props,a=i.day,s=i.selectsStart,l=i.selectsEnd,u=i.selectsRange,d=i.selectsDisabledDaysInRange,f=i.startDate,g=i.endDate,b=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(s||l||u)||!b||!d&&t.isDisabled()?!1:s&&g&&(pp(b,g)||Kh(b,g))?Q1(a,b,g):l&&f&&(th(b,f)||Kh(b,f))||u&&f&&!g&&(th(b,f)||Kh(b,f))?Q1(a,f,b):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.startDate,l=i.selectsStart,u=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l?Kn(a,u):Kn(a,s)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.endDate,l=i.selectsEnd,u=i.selectsRange,d=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l||u?Kn(a,d):Kn(a,s)},t.isRangeStart=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Kn(a,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Kn(s,i)},t.isWeekend=function(){var r=KW(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===to(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(to(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Rr())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return ms("react-datepicker__day",i,"react-datepicker__day--"+BG(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,a=r.ariaLabelPrefixWhenEnabled,s=a===void 0?"Choose":a,l=r.ariaLabelPrefixWhenDisabled,u=l===void 0?"Not available":l,d=t.isDisabled()||t.isExcluded()?u:s;return"".concat(d," ").concat(hi(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,a=r.holidays,s=a===void 0?new Map:a,l=r.excludeDates,u=hi(i,"MM.dd.yyyy"),d=[];return s.has(u)&&d.push.apply(d,s.get(u).holidayNames),t.isExcluded()&&d.push(l==null?void 0:l.filter(function(f){return f instanceof Date?Kn(f,i):Kn(f==null?void 0:f.date,i)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),d.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&Kn(i,r))?0:-1;return a},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(l8(t.props.day),t.props.day):l8(t.props.day)},t.render=function(){return at.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&at.createElement("span",{className:"overlay"},t.getTitle()))},t}return n.prototype.componentDidMount=function(){this.handleFocusDay()},n.prototype.componentDidUpdate=function(){this.handleFocusDay()},n.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},n.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},n.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},n}(Q.Component),sQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=Q.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,a,s=r.key;s===It.Space&&(r.preventDefault(),r.key=It.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Kn(t.props.date,t.props.selected)&&Kn(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Kn(t.props.date,t.props.selected)&&Kn(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Kn(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},n.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},n.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.isWeekDisabled,a=t.ariaLabelPrefix,s=a===void 0?n.defaultProps.ariaLabelPrefix:a,l=t.onClick,u={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!i,"react-datepicker__week-number--selected":!!l&&Kn(this.props.date,this.props.selected)};return at.createElement("div",{ref:this.weekNumberEl,className:ms(u),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},n}(Q.Component),oQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(r){return kl(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,a){for(var s,l,u,d=new Date(r),f=0;f<7;f++){var g=new Date(r);g.setDate(g.getDate()+f);var b=!t.isDisabled(g);if(b){d=g;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,i,a),t.props.showWeekPicker&&t.handleDayClick(d,a),((s=t.props.shouldCloseOnSelect)!==null&&s!==void 0?s:n.defaultProps.shouldCloseOnSelect)&&((u=(l=t.props).setOpen)===null||u===void 0||u.call(l,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):qG(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),i=wu(r,6),a=new Date(r);a<=i;){if(!t.isDisabled(a))return!1;a=wu(a,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),i=[],a=t.formatWeekNumber(r);if(t.props.showWeekNumber){var s=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,a):void 0;i.push(at.createElement(sQ,rr({key:"W"},n.defaultProps,t.props,{weekNumber:a,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:s})))}return i.concat([0,1,2,3,4,5,6].map(function(l){var u=wu(r,l);return at.createElement(aQ,rr({},n.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:u.valueOf(),day:u,onClick:t.handleDayClick.bind(t,u),onMouseEnter:t.handleDayMouseEnter.bind(t,u)}))}))},t.startOfWeek=function(){return Xf(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Kn(t.startOfWeek(),t.props.selected)&&Kn(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Kn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return at.createElement("div",{className:ms(t)},this.renderDays())},n}(Q.Component),A1,lQ=6,q0={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},rw=(A1={},A1[q0.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},A1[q0.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},A1[q0.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},A1),Ly=1;function R8(e,n){return e?q0.FOUR_COLUMNS:n?q0.TWO_COLUMNS:q0.THREE_COLUMNS}var uQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=Sc([],Array(12),!0).map(function(){return Q.createRef()}),t.QUARTER_REFS=Sc([],Array(4),!0).map(function(){return Q.createRef()}),t.isDisabled=function(r){return kl(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return gA(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var a,s;(s=(a=t.props).onDayClick)===null||s===void 0||s.call(a,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,a;(a=(i=t.props).onDayMouseEnter)===null||a===void 0||a.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:eo($o(a,r),s)},t.isRangeStartQuarter=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:Vx(O0(a,r),s)},t.isRangeEndMonth=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:eo($o(a,r),l)},t.isRangeEndQuarter=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:Vx(O0(a,r),l)},t.isInSelectingRangeMonth=function(r){var i,a=t.props,s=a.day,l=a.selectsStart,u=a.selectsEnd,d=a.selectsRange,f=a.startDate,g=a.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||u||d)||!b?!1:l&&g?Ty(b,g,r,s):u&&f||d&&f&&!g?Ty(f,b,r,s):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,s=a.day,l=a.startDate,u=a.selectsStart,d=$o(s,r),f=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return u?eo(d,f):eo(d,l)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,s=a.day,l=a.endDate,u=a.selectsEnd,d=a.selectsRange,f=$o(s,r),g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return u||d?eo(f,g):eo(f,l)},t.isInSelectingRangeQuarter=function(r){var i,a=t.props,s=a.day,l=a.selectsStart,u=a.selectsEnd,d=a.selectsRange,f=a.startDate,g=a.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||u||d)||!b?!1:l&&g?Dy(b,g,r,s):u&&f||d&&f&&!g?Dy(f,b,r,s):!1},t.isWeekInMonth=function(r){var i=t.props.day,a=wu(r,6);return eo(r,i)||eo(a,i)},t.isCurrentMonth=function(r,i){return Fn(r)===Fn(Rr())&&i===to(Rr())},t.isCurrentQuarter=function(r,i){return Fn(r)===Fn(Rr())&&i===tp(Rr())},t.isSelectedMonth=function(r,i,a){return to(a)===i&&Fn(r)===Fn(a)},t.isSelectMonthInList=function(r,i,a){return a.some(function(s){return t.isSelectedMonth(r,i,s)})},t.isSelectedQuarter=function(r,i,a){return tp(r)===i&&Fn(r)===Fn(a)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,a=0,s=!1,l=Xf(Id(t.props.day),t.props.locale,t.props.calendarStartDay),u=function(x){return t.props.showWeekPicker?Xf(x,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(x){return t.props.showWeekPicker?Xf(x,t.props.locale,t.props.calendarStartDay):t.props.selected},f=t.props.selected?d(t.props.selected):void 0,g=t.props.preSelection?u(t.props.preSelection):void 0;r.push(at.createElement(oQ,rr({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:l,month:to(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:f,preSelection:g,showWeekNumber:t.props.showWeekNumbers}))),!s;){a++,l=Lx(l,1);var b=i&&a>=lQ,m=!i&&!t.isWeekInMonth(l);if(b||m)if(t.props.peekNextMonth)s=!0;else break}return r},t.onMonthClick=function(r,i){var a=t.isMonthDisabledForLabelDate(i),s=a.isDisabled,l=a.labelDate;s||t.handleDayClick(Id(l),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),a=i.isDisabled,s=i.labelDate;a||t.handleDayMouseEnter(Id(s))},t.handleMonthNavigation=function(r,i){var a,s,l,u;(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(u=(l=t.MONTH_REFS[r])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()},t.handleKeyboardNavigation=function(r,i,a){var s,l=t.props,u=l.selected,d=l.preSelection,f=l.setPreSelection,g=l.minDate,b=l.maxDate,m=l.showFourColumnMonthYearPicker,x=l.showTwoColumnMonthYearPicker;if(d){var y=R8(m,x),A=t.getVerticalOffset(y),w=(s=rw[y])===null||s===void 0?void 0:s.grid,C=function(k,L,B){var X,j,O=L,P=B;switch(k){case It.ArrowRight:O=Au(L,Ly),P=B===11?0:B+Ly;break;case It.ArrowLeft:O=np(L,Ly),P=B===0?11:B-Ly;break;case It.ArrowUp:O=np(L,A),P=!((X=w==null?void 0:w[0])===null||X===void 0)&&X.includes(B)?B+12-A:B-A;break;case It.ArrowDown:O=Au(L,A),P=!((j=w==null?void 0:w[w.length-1])===null||j===void 0)&&j.includes(B)?B-12+A:B+A;break}return{newCalculatedDate:O,newCalculatedMonth:P}},N=function(k,L,B){for(var X=40,j=k,O=!1,P=0,T=C(j,L,B),G=T.newCalculatedDate,W=T.newCalculatedMonth;!O;){if(P>=X){G=L,W=B;break}if(g&&G<g){j=It.ArrowRight;var K=C(j,G,W);G=K.newCalculatedDate,W=K.newCalculatedMonth}if(b&&G>b){j=It.ArrowLeft;var K=C(j,G,W);G=K.newCalculatedDate,W=K.newCalculatedMonth}if(GG(G,t.props)){var K=C(j,G,W);G=K.newCalculatedDate,W=K.newCalculatedMonth}else O=!0;P++}return{newCalculatedDate:G,newCalculatedMonth:W}};if(i===It.Enter){t.isMonthDisabled(a)||(t.onMonthClick(r,a),f==null||f(u));return}var R=N(i,d,a),F=R.newCalculatedDate,q=R.newCalculatedMonth;switch(i){case It.ArrowRight:case It.ArrowLeft:case It.ArrowUp:case It.ArrowDown:t.handleMonthNavigation(q,F);break}}},t.getVerticalOffset=function(r){var i,a;return(a=(i=rw[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(r,i){var a=t.props,s=a.disabledKeyboardNavigation,l=a.handleOnMonthKeyDown,u=r.key;u!==It.Tab&&r.preventDefault(),s||t.handleKeyboardNavigation(r,u,i),l&&l(r)},t.onQuarterClick=function(r,i){var a=O0(t.props.day,i);Oy(a,t.props)||t.handleDayClick(v8(a),r)},t.onQuarterMouseEnter=function(r){var i=O0(t.props.day,r);Oy(i,t.props)||t.handleDayMouseEnter(v8(i))},t.handleQuarterNavigation=function(r,i){var a,s,l,u;t.isDisabled(i)||t.isExcluded(i)||((s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(u=(l=t.QUARTER_REFS[r-1])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())},t.onQuarterKeyDown=function(r,i){var a,s,l=r.key;if(!t.props.disabledKeyboardNavigation)switch(l){case It.Enter:t.onQuarterClick(r,i),(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,t.props.selected);break;case It.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,iA(t.props.preSelection,1));break;case It.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,SO(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var i,a=t.props,s=a.day,l=a.minDate,u=a.maxDate,d=a.excludeDates,f=a.includeDates,g=$o(s,r);return{isDisabled:(i=(l||u||d||f)&&MO(g,t.props))!==null&&i!==void 0?i:!1,labelDate:g}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate,u=i.preSelection,d=i.monthClassName,f=d?d($o(a,r)):void 0,g=t.getSelection();return ms("react-datepicker__month-text","react-datepicker__month-".concat(r),f,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":g?t.isSelectMonthInList(a,r,g):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&u&&t.isSelectedMonth(a,r,u)&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":s&&l?Ty(s,l,r,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(a,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=to(t.props.preSelection),a=t.isMonthDisabledForLabelDate(i).isDisabled,s=r===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=tp(t.props.preSelection),a=Oy(t.props.day,t.props),s=r===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getAriaLabel=function(r){var i=t.props,a=i.chooseDayAriaLabelPrefix,s=a===void 0?"Choose":a,l=i.disabledDayAriaLabelPrefix,u=l===void 0?"Not available":l,d=i.day,f=i.locale,g=$o(d,r),b=t.isDisabled(g)||t.isExcluded(g)?u:s;return"".concat(b," ").concat(hi(g,"MMMM yyyy",f))},t.getQuarterClassNames=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate,u=i.selected,d=i.minDate,f=i.maxDate,g=i.excludeDates,b=i.includeDates,m=i.filterDate,x=i.preSelection,y=i.disabledKeyboardNavigation,A=(d||f||g||b||m)&&Oy(O0(a,r),t.props);return ms("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":A,"react-datepicker__quarter-text--selected":u?t.isSelectedQuarter(a,r,u):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&x&&t.isSelectedQuarter(a,r,x)&&!A,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":s&&l?Dy(s,l,r,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r)})},t.getMonthContent=function(r){var i=t.props,a=i.showFullMonthYearPicker,s=i.renderMonthContent,l=i.locale,u=i.day,d=RO(r,l),f=mA(r,l);return s?s(r,d,f,u):a?f:d},t.getQuarterContent=function(r){var i,a=t.props,s=a.renderQuarterContent,l=a.locale,u=YG(r,l);return(i=s==null?void 0:s(r,u))!==null&&i!==void 0?i:u},t.renderMonths=function(){var r,i=t.props,a=i.showTwoColumnMonthYearPicker,s=i.showFourColumnMonthYearPicker,l=i.day,u=i.selected,d=(r=rw[R8(s,a)])===null||r===void 0?void 0:r.grid;return d==null?void 0:d.map(function(f,g){return at.createElement("div",{className:"react-datepicker__month-wrapper",key:g},f.map(function(b,m){return at.createElement("div",{ref:t.MONTH_REFS[b],key:m,onClick:function(x){t.onMonthClick(x,b)},onKeyDown:function(x){zO(x)&&(x.preventDefault(),x.key=It.Enter),t.onMonthKeyDown(x,b)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(b)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(b)}:void 0,tabIndex:Number(t.getTabIndex(b)),className:t.getMonthClassNames(b),"aria-disabled":t.isMonthDisabled(b),role:"option","aria-label":t.getAriaLabel(b),"aria-current":t.isCurrentMonth(l,b)?"date":void 0,"aria-selected":u?t.isSelectedMonth(l,b,u):void 0},t.getMonthContent(b))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,a=r.selected,s=[1,2,3,4];return at.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(l,u){return at.createElement("div",{key:u,ref:t.QUARTER_REFS[u],role:"option",onClick:function(d){t.onQuarterClick(d,l)},onKeyDown:function(d){t.onQuarterKeyDown(d,l)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(l)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(l)}:void 0,className:t.getQuarterClassNames(l),"aria-selected":a?t.isSelectedQuarter(i,l,a):void 0,tabIndex:Number(t.getQuarterTabIndex(l)),"aria-current":t.isCurrentQuarter(i,l)?"date":void 0},t.getQuarterContent(l))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,a=r.selectsStart,s=r.selectsEnd,l=r.showMonthYearPicker,u=r.showQuarterYearPicker,d=r.showWeekPicker;return ms("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||s)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":u},{"react-datepicker__weekPicker":d})},t}return n.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,a=t.selectsMultiple;if(a)return i;if(r)return[r]},n.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,a=t.day,s=t.ariaLabelPrefix,l=s===void 0?"Month ":s,u=l?l.trim()+" ":"";return at.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(hi(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},n}(Q.Component),cQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,i){return at.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?at.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return n.prototype.render=function(){return at.createElement(Iv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},n}(Q.Component),dQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,a){return at.createElement("option",{key:i,value:a},i)})},t.renderSelectMode=function(r){return at.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return at.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},at.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),at.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return at.createElement(cQ,rr({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,a=[t.renderReadView(!i,r)];return i&&a.unshift(t.renderDropdown(r)),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return RO(a,t.props.locale)}:function(a){return mA(a,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return at.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},n}(Q.Component);function fQ(e,n){for(var t=[],r=Id(e),i=Id(n);!th(r,i);)t.push(Rr(r)),r=Au(r,1);return t}var hQ=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var a=NS(i),s=dc(r.props.date,i)&&eo(r.props.date,i);return at.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":s?"true":void 0},s?at.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",hi(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:fQ(r.props.minDate,r.props.maxDate)},r}return n.prototype.render=function(){var t=ms({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return at.createElement(Iv,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(Q.Component),pQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Id(t.props.minDate),i=Id(t.props.maxDate),a=[];!th(r,i);){var s=NS(r);a.push(at.createElement("option",{key:s,value:s},hi(r,t.props.dateFormat,t.props.locale))),r=Au(r,1)}return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return at.createElement("select",{value:NS(Id(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=hi(t.props.date,t.props.dateFormat,t.props.locale);return at.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},at.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),at.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return at.createElement(hQ,rr({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=Rr(r);dc(t.props.date,i)&&eo(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return at.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(Q.Component),mQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&n.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(r){var i,a;(t.props.minTime||t.props.maxTime)&&E8(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&C8(r,t.props)||(a=(i=t.props).onChange)===null||a===void 0||a.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&rQ(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&E8(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&C8(r,t.props)},t.liClasses=function(r){var i,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(_c(r)*3600+kc(r)*60+Od(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:n.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(r,i){var a,s;r.key===It.Space&&(r.preventDefault(),r.key=It.Enter),(r.key===It.ArrowUp||r.key===It.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===It.ArrowDown||r.key===It.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===It.Enter&&t.handleClick(i),(s=(a=t.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},t.renderTimes=function(){for(var r,i=[],a=typeof t.props.format=="string"?t.props.format:"p",s=(r=t.props.intervals)!==null&&r!==void 0?r:n.defaultProps.intervals,l=t.props.selected||t.props.openToDate||Rr(),u=ix(l),d=t.props.injectTimes&&t.props.injectTimes.sort(function(A,w){return A.getTime()-w.getTime()}),f=60*nQ(l),g=f/s,b=0;b<g;b++){var m=ES(u,b*s);if(i.push(m),d){var x=tQ(u,m,b,s,d);i=i.concat(x)}}var y=i.reduce(function(A,w){return w.getTime()<=l.getTime()?w:A},i[0]);return i.map(function(A){return at.createElement("li",{key:A.valueOf(),onClick:t.handleClick.bind(t,A),className:t.liClasses(A),ref:function(w){A===y&&(t.centerLi=w)},onKeyDown:function(w){t.handleOnKeyDown(w,A)},tabIndex:A===y?0:-1,role:"option","aria-selected":t.isSelectedTime(A)?"true":void 0,"aria-disabled":t.isDisabledTime(A)?"true":void 0},hi(A,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?at.createElement(at.Fragment,null):at.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},at.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},n.prototype.render=function(){var t=this,r,i=this.state.height;return at.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:n.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),at.createElement("div",{className:"react-datepicker__time"},at.createElement("div",{className:"react-datepicker__time-box"},at.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},n.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},n}(Q.Component),M8=3,gQ=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.YEAR_REFS=Sc([],Array(r.props.yearItemNumber),!0).map(function(){return Q.createRef()}),r.isDisabled=function(i){return kl(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return gA(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var a=function(){var s,l;(l=(s=r.YEAR_REFS[i])===null||s===void 0?void 0:s.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(i,a){r.props.onDayClick&&r.props.onDayClick(i,a)},r.handleYearNavigation=function(i,a){var s,l,u,d,f=r.props,g=f.date,b=f.yearItemNumber;if(!(g===void 0||b===void 0)){var m=Uf(g,b).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((l=(s=r.props).setPreSelection)===null||l===void 0||l.call(s,a),i-m<0?r.updateFocusOnPaginate(b-(m-i)):i-m>=b?r.updateFocusOnPaginate(Math.abs(b-(i-m))):(d=(u=r.YEAR_REFS[i-m])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus())}},r.isSameDay=function(i,a){return Kn(i,a)},r.isCurrentYear=function(i){return i===Fn(Rr())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&dc(cc(Rr(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&dc(cc(Rr(),i),r.props.endDate)},r.isInRange=function(i){return Iy(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var a=r.props,s=a.selectsStart,l=a.selectsEnd,u=a.selectsRange,d=a.startDate,f=a.endDate;return!(s||l||u)||!r.selectingDate()?!1:s&&f?Iy(i,r.selectingDate(),f):l&&d||u&&d&&!f?Iy(i,d,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var a;if(!r.isInSelectingRange(i))return!1;var s=r.props,l=s.startDate,u=s.selectsStart,d=cc(Rr(),i);return u?dc(d,(a=r.selectingDate())!==null&&a!==void 0?a:null):dc(d,l??null)},r.isSelectingRangeEnd=function(i){var a;if(!r.isInSelectingRange(i))return!1;var s=r.props,l=s.endDate,u=s.selectsEnd,d=s.selectsRange,f=cc(Rr(),i);return u||d?dc(f,(a=r.selectingDate())!==null&&a!==void 0?a:null):dc(f,l??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var a=r.props,s=a.minDate,l=a.maxDate,u=a.excludeDates,d=a.includeDates,f=a.filterDate,g=G1(cc(r.props.date,i)),b=(s||l||u||d||f)&&ax(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Kn(g,G1(r.props.selected))&&Kn(g,G1(r.props.preSelection))&&!b}},r.onYearClick=function(i,a){var s=r.props.date;s!==void 0&&r.handleYearClick(G1(cc(s,a)),i)},r.onYearKeyDown=function(i,a){var s,l,u=i.key,d=r.props,f=d.date,g=d.yearItemNumber,b=d.handleOnKeyDown;if(u!==It.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(u){case It.Enter:if(r.props.selected==null)break;r.onYearClick(i,a),(l=(s=r.props).setPreSelection)===null||l===void 0||l.call(s,r.props.selected);break;case It.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,jd(r.props.preSelection,1));break;case It.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,sm(r.props.preSelection,1));break;case It.ArrowUp:{if(f===void 0||g===void 0||r.props.preSelection==null)break;var m=Uf(f,g).startPeriod,x=M8,y=a-x;if(y<m){var A=g%x;a>=m&&a<m+A?x=A:x+=A,y=a-x}r.handleYearNavigation(y,sm(r.props.preSelection,x));break}case It.ArrowDown:{if(f===void 0||g===void 0||r.props.preSelection==null)break;var w=Uf(f,g).endPeriod,x=M8,y=a+x;if(y>w){var A=g%x;a<=w&&a>w-A?x=A:x+=A,y=a+x}r.handleYearNavigation(y,jd(r.props.preSelection,x));break}}b&&b(i)},r.getYearClassNames=function(i){var a=r.props,s=a.date,l=a.minDate,u=a.maxDate,d=a.selected,f=a.excludeDates,g=a.includeDates,b=a.filterDate,m=a.yearClassName;return ms("react-datepicker__year-text","react-datepicker__year-".concat(i),s?m==null?void 0:m(cc(s,i)):void 0,{"react-datepicker__year-text--selected":d?i===Fn(d):void 0,"react-datepicker__year-text--disabled":(l||u||f||g||b)&&ax(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=Fn(r.props.preSelection),s=ax(i,r.props);return i===a&&!s?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return n.prototype.render=function(){var t=this,r=[],i=this.props,a=i.date,s=i.yearItemNumber,l=i.onYearMouseEnter,u=i.onYearMouseLeave;if(a===void 0)return null;for(var d=Uf(a,s),f=d.startPeriod,g=d.endPeriod,b=function(y){r.push(at.createElement("div",{ref:m.YEAR_REFS[y-f],onClick:function(A){t.onYearClick(A,y)},onKeyDown:function(A){zO(A)&&(A.preventDefault(),A.key=It.Enter),t.onYearKeyDown(A,y)},tabIndex:Number(m.getYearTabIndex(y)),className:m.getYearClassNames(y),onMouseEnter:m.props.usePointerEvent?void 0:function(A){return l(A,y)},onPointerEnter:m.props.usePointerEvent?function(A){return l(A,y)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(A){return u(A,y)},onPointerLeave:m.props.usePointerEvent?function(A){return u(A,y)}:void 0,key:y,"aria-current":m.isCurrentYear(y)?"date":void 0},m.getYearContent(y)))},m=this,x=f;x<=g;x++)b(x);return at.createElement("div",{className:"react-datepicker__year"},at.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},n}(Q.Component);function bQ(e,n,t,r){for(var i=[],a=0;a<2*n+1;a++){var s=e+n-a,l=!0;t&&(l=Fn(t)<=s),r&&l&&(l=Fn(r)>=s),l&&i.push(s)}return i}var yQ=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;r.renderOptions=function(){var l=r.props.year,u=r.state.yearsList.map(function(g){return at.createElement("div",{className:l===g?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:g,onClick:r.onChange.bind(r,g),"aria-selected":l===g?"true":void 0},l===g?at.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",g)}),d=r.props.minDate?Fn(r.props.minDate):null,f=r.props.maxDate?Fn(r.props.maxDate):null;return(!f||!r.state.yearsList.find(function(g){return g===f}))&&u.unshift(at.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},at.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!r.state.yearsList.find(function(g){return g===d}))&&u.push(at.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},at.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),u},r.onChange=function(l){r.props.onChange(l)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(l){var u=r.state.yearsList.map(function(d){return d+l});r.setState({yearsList:u})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,s=i||(a?10:5);return r.state={yearsList:bQ(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=Q.createRef(),r}return n.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(a){return a.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},n.prototype.render=function(){var t=ms({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return at.createElement(Iv,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(Q.Component),xQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?Fn(t.props.minDate):1900,i=t.props.maxDate?Fn(t.props.maxDate):2100,a=[],s=r;s<=i;s++)a.push(at.createElement("option",{key:s,value:s},s));return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return at.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return at.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},at.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),at.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return at.createElement(yQ,rr({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var a;(a=t.onSelect)===null||a===void 0||a.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var a,s;(s=(a=t.props).onSelect)===null||s===void 0||s.call(a,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return at.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(Q.Component),vQ=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],wQ=function(e){var n=(e.className||"").split(/\s+/);return vQ.some(function(t){return n.indexOf(t)>=0})},SQ=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var a,s;wQ(i.target)&&((s=(a=r.props).onDropdownFocus)===null||s===void 0||s.call(a,i))},r.getDateInView=function(){var i=r.props,a=i.preSelection,s=i.selected,l=i.openToDate,u=FO(r.props),d=PO(r.props),f=Rr(),g=l||s||a;return g||(u&&pp(f,u)?u:d&&th(f,d)?d:f)},r.increaseMonth=function(){r.setState(function(i){var a=i.date;return{date:Au(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var a=i.date;return{date:np(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,a,s){r.props.onSelect(i,a,s),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,a){r.setState({selectingDate:cc(Rr(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,a)},r.handleYearMouseLeave=function(i,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,a)},r.handleYearChange=function(i){var a,s,l,u;(s=(a=r.props).onYearChange)===null||s===void 0||s.call(a,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(u=(l=r.props).setOpen)===null||u===void 0||u.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!kl(i,r.props))return i;for(var a=Id(i),s=$G(i),l=rW(s,a),u=null,d=0;d<=l;d++){var f=wu(a,d);if(!kl(f,r.props)){u=f;break}}return u},r.handleMonthChange=function(i){var a,s,l,u=(a=r.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;r.handleCustomMonthChange(u),r.props.adjustDateOnChange&&(r.props.onSelect(u),(l=(s=r.props).setOpen)===null||l===void 0||l.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(u)},r.handleCustomMonthChange=function(i){var a,s;(s=(a=r.props).onMonthChange)===null||s===void 0||s.call(a,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(a){var s=a.date;return{date:cc(s,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(a){var s=a.date;return{date:$o(s,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(a){var s=a.date;return{date:cc($o(s,to(i)),Fn(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var a=Xf(i,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push(at.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(l){var u=wu(a,l),d=r.formatWeekday(u,r.props.locale),f=r.props.weekDayClassName?r.props.weekDayClassName(u):void 0;return at.createElement("div",{key:l,"aria-label":hi(u,"EEEE",r.props.locale),className:ms("react-datepicker__day-name",f)},d)}))},r.formatWeekday=function(i,a){return r.props.formatWeekDay?HG(i,r.props.formatWeekDay,a):r.props.useWeekdaysShort?VG(i,a):WG(i,a)},r.decreaseYear=function(){r.setState(function(i){var a,s=i.date;return{date:sm(s,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,a,s;if(!r.props.renderCustomHeader){var l=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,u=r.props.showPreviousMonths?l-1:0,d=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:u,f=np(r.state.date,d),g;switch(!0){case r.props.showMonthYearPicker:g=N8(r.state.date,r.props);break;case r.props.showYearPicker:g=XG(r.state.date,r.props);break;case r.props.showQuarterYearPicker:g=QG(r.state.date,r.props);break;default:g=_8(f,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&g||r.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],x=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(x=r.decreaseYear),g&&r.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),x=void 0);var y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,A=r.props,w=A.previousMonthButtonLabel,C=w===void 0?n.defaultProps.previousMonthButtonLabel:w,N=A.previousYearButtonLabel,R=N===void 0?n.defaultProps.previousYearButtonLabel:N,F=r.props,q=F.previousMonthAriaLabel,k=q===void 0?typeof C=="string"?C:"Previous Month":q,L=F.previousYearAriaLabel,B=L===void 0?typeof R=="string"?R:"Previous Year":L;return at.createElement("button",{type:"button",className:m.join(" "),onClick:x,onKeyDown:r.props.handleOnKeyDown,"aria-label":y?B:k},at.createElement("span",{className:b.join(" ")},y?R:C))}}},r.increaseYear=function(){r.setState(function(i){var a,s=i.date;return{date:jd(s,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=j8(r.state.date,r.props);break;case r.props.showYearPicker:a=ZG(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=KG(r.state.date,r.props);break;default:a=k8(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var u=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(u=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),u=void 0);var d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,f=r.props,g=f.nextMonthButtonLabel,b=g===void 0?n.defaultProps.nextMonthButtonLabel:g,m=f.nextYearButtonLabel,x=m===void 0?n.defaultProps.nextYearButtonLabel:m,y=r.props,A=y.nextMonthAriaLabel,w=A===void 0?typeof b=="string"?b:"Next Month":A,C=y.nextYearAriaLabel,N=C===void 0?typeof x=="string"?x:"Next Year":C;return at.createElement("button",{type:"button",className:s.join(" "),onClick:u,onKeyDown:r.props.handleOnKeyDown,"aria-label":d?N:w},at.createElement("span",{className:l.join(" ")},d?x:b))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),at.createElement("h2",{className:a.join(" ")},hi(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return at.createElement(xQ,rr({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Fn(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return at.createElement(dQ,rr({},n.defaultProps,r.props,{month:to(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return at.createElement(pQ,rr({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(w8(),i),r.props.setPreSelection&&r.props.setPreSelection(w8())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return at.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var a=i.monthDate,s=i.i;return at.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),at.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),at.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderCustomHeader=function(i){var a,s,l=i.monthDate,u=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var d=_8(r.state.date,r.props),f=k8(r.state.date,r.props),g=N8(r.state.date,r.props),b=j8(r.state.date,r.props),m=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return at.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(s=(a=r.props).renderCustomHeader)===null||s===void 0?void 0:s.call(a,rr(rr({},r.state),{customHeaderCount:u,monthDate:l,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:f,prevYearButtonDisabled:g,nextYearButtonDisabled:b})),m&&at.createElement("div",{className:"react-datepicker__day-names"},r.header(l)))},r.renderYearHeader=function(i){var a=i.monthDate,s=r.props,l=s.showYearPicker,u=s.yearItemNumber,d=u===void 0?n.defaultProps.yearItemNumber:u,f=Uf(a,d),g=f.startPeriod,b=f.endPeriod;return at.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(g," - ").concat(b):Fn(a))},r.renderHeader=function(i){var a=i.monthDate,s=i.i,l=s===void 0?0:s,u={monthDate:a,i:l};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(u);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(u);default:return r.renderDefaultHeader(u)}},r.renderMonths=function(){var i,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],l=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,u=r.props.showPreviousMonths?l-1:0,d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?jd(r.state.date,u):np(r.state.date,u),f=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:u,g=0;g<l;++g){var b=g-f+u,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?jd(d,b):Au(d,b),x="month-".concat(g),y=g<l-1,A=g>0;s.push(at.createElement("div",{key:x,ref:function(w){r.monthContainer=w??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:m,i:g}),at.createElement(uQ,rr({},n.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:m,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:g,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:A}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return at.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),at.createElement(gQ,rr({},n.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return at.createElement(mQ,rr({},n.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,a=i&&xd(i)&&!!r.props.selected,s=a?"".concat(O8(i.getHours()),":").concat(O8(i.getMinutes())):"";if(r.props.showTimeInput)return at.createElement(iQ,rr({},n.defaultProps,r.props,{date:i,timeString:s,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,a=Uf(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:n.defaultProps.yearItemNumber),s=a.startPeriod,l=a.endPeriod,u;return r.props.showYearPicker?u="".concat(s," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?u=Fn(r.state.date):u="".concat(mA(to(r.state.date),r.props.locale)," ").concat(Fn(r.state.date)),at.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&u)},r.renderChildren=function(){if(r.props.children)return at.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=Q.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(n,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:eb}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},n.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!Kn(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!eo(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Kn(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},n.prototype.render=function(){var t=this.props.container||RG;return at.createElement(Iv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},at.createElement(t,{className:ms("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},n}(Q.Component),AQ=function(e){var n=e.icon,t=e.className,r=t===void 0?"":t,i=e.onClick,a="react-datepicker__calendar-icon";return typeof n=="string"?at.createElement("i",{className:"".concat(a," ").concat(n," ").concat(r),"aria-hidden":"true",onClick:i}):at.isValidElement(n)?at.cloneElement(n,{className:"".concat(n.props.className||""," ").concat(a," ").concat(r),onClick:function(s){typeof n.props.onClick=="function"&&n.props.onClick(s),typeof i=="function"&&i(s)}}):at.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},at.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},qO=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return n.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},n.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},n.prototype.render=function(){return cR.createPortal(this.props.children,this.el)},n}(Q.Component),CQ="[tabindex], a, button, input, select, textarea",EQ=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},BO=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(CQ),1,-1).filter(EQ)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=Q.createRef(),r}return n.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:n.defaultProps.enableTabLoop)?at.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},at.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,at.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},n.defaultProps={enableTabLoop:!0},n}(Q.Component);function _Q(e){var n=function(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=Q.useRef(null),s=LG(rr({open:!i,whileElementsMounted:fG,placement:t.popperPlacement,middleware:Sc([wG({padding:15}),vG(10),SG({element:a})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),l=rr(rr({},t),{hidePopper:i,popperProps:rr(rr({},s),{arrowRef:a})});return at.createElement(e,rr({},l))};return n}var kQ=function(e){ns(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(n,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t=this.props,r=t.className,i=t.wrapperClassName,a=t.hidePopper,s=a===void 0?n.defaultProps.hidePopper:a,l=t.popperComponent,u=t.targetComponent,d=t.enableTabLoop,f=t.popperOnKeyDown,g=t.portalId,b=t.portalHost,m=t.popperProps,x=t.showArrow,y=void 0;if(!s){var A=ms("react-datepicker-popper",r);y=at.createElement(BO,{enableTabLoop:d},at.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:A,"data-placement":m.placement,onKeyDown:f},l,x&&at.createElement(kG,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=Q.createElement(this.props.popperContainer,{},y)),g&&!s&&(y=at.createElement(qO,{portalId:g,portalHost:b},y));var w=ms("react-datepicker-wrapper",i);return at.createElement(at.Fragment,null,at.createElement("div",{ref:m.refs.setReference,className:w},u),y)},n}(Q.Component),NQ=_Q(kQ),F8="react-datepicker-ignore-onclickoutside";function jQ(e,n){return e&&n?to(e)!==to(n)||Fn(e)!==Fn(n):e!==n}var iw="Date input not valid.",TQ=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Rr()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,s){var l=new Date(s.date);return xd(l)?Sc(Sc([],a,!0),[rr(rr({},s),{date:l})],!1):a},[])},r.calcInitialState=function(){var i,a=r.getPreSelection(),s=FO(r.props),l=PO(r.props),u=s&&pp(a,ix(s))?s:l&&th(a,S8(l))?l:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:u,highlightDates:T8(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(rr(rr({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(rr(rr({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.safeFocus=function(){setTimeout(function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},0)},r.safeBlur=function(){setTimeout(function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i)},0)},r.setFocus=function(){r.safeFocus()},r.setBlur=function(){r.safeBlur(),r.cancelFocusInput()},r.setOpen=function(i,a){a===void 0&&(a=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:aw},function(){i||r.setState(function(s){return{focused:a?s.focused:!1}},function(){!a&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Td(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var a,s,l=r.state.wasHidden,u=l?r.state.open:!0;l&&r.resetHiddenStatus(),!r.state.preventFocus&&u&&((s=(a=r.props).onFocus)===null||s===void 0||s.call(a,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var a,s;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((s=(a=r.props).onBlur)===null||s===void 0||s.call(a,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var a,s;r.props.inline||r.setOpen(!1),(s=(a=r.props).onClickOutside)===null||s===void 0||s.call(a,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,a,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var u=s[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,s),!u||typeof u.isDefaultPrevented!="function"||u.isDefaultPrevented()))){r.setState({inputValue:(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:null,lastPreSelectChange:OQ});var d=r.props,f=d.dateFormat,g=f===void 0?n.defaultProps.dateFormat:f,b=d.strictParsing,m=b===void 0?n.defaultProps.strictParsing:b,x=d.selectsRange,y=d.startDate,A=d.endDate,w=(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:"";if(x){var C=w.split("-",2).map(function(X){return X.trim()}),N=C[0],R=C[1],F=tw(N??"",g,r.props.locale,m),q=tw(R??"",g,r.props.locale,m),k=(y==null?void 0:y.getTime())!==(F==null?void 0:F.getTime()),L=(A==null?void 0:A.getTime())!==(q==null?void 0:q.getTime());if(!k&&!L||F&&kl(F,r.props)||q&&kl(q,r.props))return;(a=(i=r.props).onChange)===null||a===void 0||a.call(i,[F,q],u)}else{var B=tw(w,g,r.props.locale,m,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&B&&!Kn(B,r.props.selected)&&(B=mY(r.props.selected,{hours:_c(B),minutes:kc(B),seconds:Od(B)})),(B||!w)&&r.setSelected(B,u,!0)}}},r.handleSelect=function(i,a,s){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(a),r.setSelected(i,a,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var l=r.props,u=l.startDate,d=l.endDate;u&&!d&&(r.props.swapRange||!L8(i,u))&&r.setOpen(!1)}},r.setSelected=function(i,a,s,l){var u,d,f=i;if(r.props.showYearPicker){if(f!==null&&ax(Fn(f),r.props))return}else if(r.props.showMonthYearPicker){if(f!==null&&MO(f,r.props))return}else if(f!==null&&kl(f,r.props))return;var g=r.props,b=g.onChange,m=g.selectsRange,x=g.startDate,y=g.endDate,A=g.selectsMultiple,w=g.selectedDates,C=g.minTime,N=g.swapRange;if(!Kh(r.props.selected,f)||r.props.allowSameDay||m||A)if(f!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(f=nw(f,{hour:_c(r.props.selected),minute:kc(r.props.selected),second:Od(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&C&&(f=nw(f,{hour:C.getHours(),minute:C.getMinutes(),second:C.getSeconds()})),r.props.inline||r.setState({preSelection:f}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:l})),m){var R=!x&&!y,F=x&&!y,q=x&&y;R?b==null||b([f,null],a):F&&(f===null?b==null||b([null,null],a):L8(f,x)?N?b==null||b([f,x],a):b==null||b([f,null],a):b==null||b([x,f],a)),q&&(b==null||b([f,null],a))}else if(A){if(f!==null)if(!(w!=null&&w.length))b==null||b([f],a);else{var k=w.some(function(B){return Kn(B,f)});if(k){var L=w.filter(function(B){return!Kn(B,f)});b==null||b(L,a)}else b==null||b(Sc(Sc([],w,!0),[f],!1),a)}}else b==null||b(f,a);s||((d=(u=r.props).onSelect)===null||d===void 0||d.call(u,f,a),r.setState({inputValue:null}))},r.setPreSelection=function(i){var a=Td(r.props.minDate),s=Td(r.props.maxDate),l=!0;if(i){var u=ix(i);if(a&&s)l=Q1(i,r.props.minDate,r.props.maxDate);else if(a){var d=ix(r.props.minDate);l=th(i,d)||Kh(u,d)}else if(s){var f=S8(r.props.maxDate);l=pp(i,f)||Kh(u,f)}}l&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var a,s;if(!(r.props.selectsRange||r.props.selectsMultiple)){var l=r.props.selected?r.props.selected:r.getPreSelection(),u=r.props.selected?i:nw(l,{hour:_c(i),minute:kc(i)});r.setState({preSelection:u}),(s=(a=r.props).onChange)===null||s===void 0||s.call(a,u),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(i=r.props).onInputClick)===null||a===void 0||a.call(i)},r.onInputKeyDown=function(i){var a,s,l,u,d,f;(s=(a=r.props).onKeyDown)===null||s===void 0||s.call(a,i);var g=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(g===It.ArrowDown||g===It.ArrowUp||g===It.Enter)&&((l=r.onInputClick)===null||l===void 0||l.call(r));return}if(r.state.open){if(g===It.ArrowDown||g===It.ArrowUp){i.preventDefault();var b=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((u=r.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(b);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var x=Rr(r.state.preSelection);g===It.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===aw?(r.handleSelect(x,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(x)):r.setOpen(!1)):g===It.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):g===It.Tab&&r.setOpen(!1),r.inputOk()||(f=(d=r.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:iw})}},r.onPortalKeyDown=function(i){var a=i.key;a===It.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var a,s,l,u,d,f,g=r.props,b=g.minDate,m=g.maxDate,x=g.disabledKeyboardNavigation,y=g.showWeekPicker,A=g.shouldCloseOnSelect,w=g.locale,C=g.calendarStartDay,N=g.adjustDateOnChange,R=g.inline;if((s=(a=r.props).onKeyDown)===null||s===void 0||s.call(a,i),!x){var F=i.key,q=i.shiftKey,k=Rr(r.state.preSelection),L=function(G,W){var K=W;switch(G){case It.ArrowRight:K=y?Lx(W,1):wu(W,1);break;case It.ArrowLeft:K=y?u8(W):ZV(W);break;case It.ArrowUp:K=u8(W);break;case It.ArrowDown:K=Lx(W,1);break;case It.PageUp:K=q?sm(W,1):np(W,1);break;case It.PageDown:K=q?jd(W,1):Au(W,1);break;case It.Home:K=Xf(W,w,C);break;case It.End:K=UG(W);break}return K},B=function(G,W){for(var K=40,ie=G,ue=!1,$=0,ae=L(G,W);!ue;){if($>=K){ae=W;break}b&&ae<b&&(ie=It.ArrowRight,ae=kl(b,r.props)?L(ie,ae):b),m&&ae>m&&(ie=It.ArrowLeft,ae=kl(m,r.props)?L(ie,ae):m),kl(ae,r.props)?((ie===It.PageUp||ie===It.Home)&&(ie=It.ArrowRight),(ie===It.PageDown||ie===It.End)&&(ie=It.ArrowLeft),ae=L(ie,ae)):ue=!0,$++}return ae};if(F===It.Enter){i.preventDefault(),r.handleSelect(k,i),!A&&r.setPreSelection(k);return}else if(F===It.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(u=(l=r.props).onInputError)===null||u===void 0||u.call(l,{code:1,msg:iw});return}var X=null;switch(F){case It.ArrowLeft:case It.ArrowRight:case It.ArrowUp:case It.ArrowDown:case It.PageUp:case It.PageDown:case It.Home:case It.End:X=B(F,k);break}if(!X){(f=(d=r.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:iw});return}if(i.preventDefault(),r.setState({lastPreSelectChange:aw}),N&&r.setSelected(X),r.setPreSelection(X),R){var j=to(k),O=to(X),P=Fn(k),T=Fn(X);j!==O||P!==T?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var a=i.key;a===It.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var a=r.props,s=a.selectsRange,l=a.onChange;s?l==null||l([null,null],i):l==null||l(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,a;return!r.props.inline&&!r.isCalendarOpen()?null:at.createElement(SQ,rr({showMonthYearDropdown:void 0,ref:function(s){r.calendar=s}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:n.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:eQ(r.modifyHolidays()),outsideClickIgnoreClass:F8,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:n.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,a=i.dateFormat,s=a===void 0?n.defaultProps.dateFormat:a,l=i.locale,u=r.props.showTimeInput||r.props.showTimeSelect,d=u?"PPPPp":"PPPP",f;return r.props.selectsRange?f="Selected start date: ".concat(Cl(r.props.startDate,{dateFormat:d,locale:l}),". ").concat(r.props.endDate?"End date: "+Cl(r.props.endDate,{dateFormat:d,locale:l}):""):r.props.showTimeSelectOnly?f="Selected time: ".concat(Cl(r.props.selected,{dateFormat:s,locale:l})):r.props.showYearPicker?f="Selected year: ".concat(Cl(r.props.selected,{dateFormat:"yyyy",locale:l})):r.props.showMonthYearPicker?f="Selected month: ".concat(Cl(r.props.selected,{dateFormat:"MMMM yyyy",locale:l})):r.props.showQuarterYearPicker?f="Selected quarter: ".concat(Cl(r.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):f="Selected date: ".concat(Cl(r.props.selected,{dateFormat:d,locale:l})),at.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},f)},r.renderDateInput=function(){var i,a,s,l=ms(r.props.className,(i={},i[F8]=r.state.open,i)),u=r.props.customInput||at.createElement("input",{type:"text"}),d=r.props.customInputRef||"ref",f=r.props,g=f.dateFormat,b=g===void 0?n.defaultProps.dateFormat:g,m=f.locale,x=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?PG(r.props.startDate,r.props.endDate,{dateFormat:b,locale:m}):r.props.selectsMultiple?zG((s=r.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:b,locale:m}):Cl(r.props.selected,{dateFormat:b,locale:m});return Q.cloneElement(u,(a={},a[d]=function(y){r.input=y},a.value=x,a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=ms(u.props.className,l),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var i=r.props,a=i.isClearable,s=i.disabled,l=i.selected,u=i.startDate,d=i.endDate,f=i.clearButtonTitle,g=i.clearButtonClassName,b=g===void 0?"":g,m=i.ariaLabelClose,x=m===void 0?"Close":m,y=i.selectedDates;return a&&(l!=null||u!=null||d!=null||y!=null&&y.length)?at.createElement("button",{type:"button",className:ms("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":x,onClick:r.onClearClick,title:f,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(n,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:eb,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.componentDidUpdate=function(t,r){var i,a,s,l;t.inline&&jQ(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:T8(this.props.highlightDates)}),!r.focused&&!Kh(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),r.open===!0&&this.state.open===!1&&((l=(s=this.props).onCalendarClose)===null||l===void 0||l.call(s)))},n.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,a=t.calendarIconClassname,s=t.calendarIconClassName,l=t.toggleCalendarOnIconClick,u=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),at.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&at.createElement(AQ,rr({icon:i,className:ms(s,!s&&a,u&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},n.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?at.createElement(BO,{enableTabLoop:this.props.enableTabLoop},at.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=at.createElement(qO,rr({portalId:this.props.portalId},this.props),r)),at.createElement("div",null,this.renderInputContainer(),r)}return at.createElement(NQ,rr({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},n}(Q.Component),OQ="input",aw="navigate";const IQ=e=>h.jsx(Ut,{...e,sx:{width:"100%","& .MuiOutlinedInput-root":{borderRadius:Rt.xl,backgroundColor:ft.palette.background.paper,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:ft.palette.primary.main},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:ft.palette.primary.main,borderWidth:2}},"& .MuiInputBase-input":{color:ft.palette.text.primary,fontSize:"1rem",padding:"12px 14px"},"& .MuiInputLabel-root":{color:ft.palette.text.secondary,"&.Mui-focused":{color:ft.palette.primary.main}}}}),UO=at.forwardRef((e,n)=>h.jsx(IQ,{...e,inputRef:n,fullWidth:!0}));UO.displayName="CustomInput";const DQ=({value:e,onChange:n})=>{const t=r=>r?r.toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return h.jsxs(Sn,{elevation:2,sx:{p:3,mb:3,backgroundColor:ft.palette.background.paper,borderRadius:Rt.xl,border:`1px solid ${ft.palette.divider}`},children:[h.jsxs(fe,{sx:{display:"flex",alignItems:"center",mb:2},children:[h.jsx(X0,{sx:{mr:1,color:ft.palette.primary.main}}),h.jsx(de,{variant:"h6",sx:{fontWeight:600,color:ft.palette.text.primary},children:"Schedule Publish"})]}),h.jsx(de,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose when you want this material to be automatically published."}),h.jsx(TQ,{selected:e,onChange:r=>n(r),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"MMM d, yyyy h:mm aa",minDate:new Date,customInput:h.jsx(UO,{label:"Select Date & Time"}),placeholderText:"Click to select date and time"}),e&&h.jsx(fe,{sx:{mt:2},children:h.jsx(cr,{icon:h.jsx(X0,{}),label:`Scheduled for ${t(e)}`,color:"primary",variant:"outlined",sx:{backgroundColor:ft.palette.primary.light,color:ft.palette.primary.main,borderColor:ft.palette.primary.main}})})]})},LQ=Q.lazy(()=>Li(()=>import("./MaterialImportWrapper-B2OEj7AA.js"),__vite__mapDeps([3,4,1,5]))),$O=({materialData:e})=>{var nt;const n=ma(),{userDetails:t}=Ai(),r=Zn(),{uploadedFile:i,uploadOriginalFile:a,originalFileUrl:s,originalFileUploadProgress:l}=Nd(),[u]=$g(),d=u.get("course"),f=u.get("mode")||"manual",[g,b]=Q.useState((e==null?void 0:e.course)||d||""),[m,x]=Q.useState((e==null?void 0:e.id)||null),[y,A]=Q.useState((e==null?void 0:e.title)||""),[w,C]=Q.useState((e==null?void 0:e.header)||{title:"Header",content:""}),[N,R]=Q.useState((e==null?void 0:e.footer)||{title:"Footer",content:""}),[F,q]=Q.useState((e==null?void 0:e.sections)||[{id:Ri(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[k,L]=Q.useState({sectionIndex:0}),[B,X]=Q.useState(!1),[j,O]=Q.useState(""),[P,T]=Q.useState("success"),[G,W]=Q.useState(!1),[K,ie]=Q.useState(((nt=e==null?void 0:e.scheduledTimestamp)==null?void 0:nt.toDate())||null),[ue,$]=Q.useState(!1),[ae,U]=Q.useState(f),[z,Z]=Q.useState(!1),[ee,se]=Q.useState(null),[we,xe]=Q.useState(!1),[Ee,Ie]=Q.useState(null),[Re,We]=Q.useState(!1);aO(F,k.sectionIndex||0,F.length>1),Q.useEffect(()=>{const Fe=ve=>{ve.key==="ArrowLeft"||ve.key};return window.addEventListener("keydown",Fe),()=>window.removeEventListener("keydown",Fe)},[k,F]);const Ve=async(Fe,ve=!1,ke)=>{Fe.preventDefault();try{const Te=F.some(dt=>{var Je,Ft;return((Je=dt.images)==null?void 0:Je.some(kt=>kt.url.startsWith("blob:")))||((Ft=dt.subsections)==null?void 0:Ft.some(kt=>{var Vt;return(Vt=kt.images)==null?void 0:Vt.some(Lt=>Lt.url.startsWith("blob:"))}))});if(z&&Te){console.log(" Starting AI material creation with image upload...");const dt=await Ma(xn(r,"materials"),{course:g,title:y,header:w,footer:N,sections:[],author:(t==null?void 0:t.uid)||"",timestamp:Vf(),published:!1,scheduledTimestamp:ke?Ta.fromDate(ke):null});console.log(" Material created with ID:",dt.id),x(dt.id),console.log(" Starting image upload process...");const Je=await nS(g,(t==null?void 0:t.uid)||"",dt.id,(Vt,Lt)=>{console.log(` Image upload progress: ${Vt}/${Lt}`),se({completed:Vt,total:Lt})});console.log(" Image upload complete, updating material..."),await Wr(dt,{sections:Je,published:ve,scheduledTimestamp:ke?Ta.fromDate(ke):null}),se(null),Z(!1);const{resetImport:Ft}=Nd.getState();Ft(),O(ve?"Material published successfully!":ke?"Material scheduled successfully!":"Material saved successfully!"),T("success"),X(!0),(ve||ke)&&n(`/supplemental-materials?course=${g}`)}else{const dt={course:g,title:y,header:w,footer:N,sections:F,author:(t==null?void 0:t.uid)||"",timestamp:Vf(),published:ve,scheduledTimestamp:ke?Ta.fromDate(ke):null,...s&&{originalFile:{url:s}}};if(m)await Wr(bn(r,"materials",m),dt),O(ve?"Material updated and published!":ke?"Material updated and scheduled!":"Material updated successfully!");else{const Je=await Ma(xn(r,"materials"),dt);x(Je.id),O(ve?"Material created and published!":ke?"Material created and scheduled!":"Material created successfully!")}T("success"),X(!0),(ve||ke)&&n(`/supplemental-materials?course=${g}`)}}catch(Te){console.error("Error saving material:",Te),O("Error saving material. Please try again."),T("error"),X(!0)}},V=(Fe,ve,ke)=>{L({sectionIndex:typeof Fe=="number"?Fe:void 0,subsectionIndex:ve,subSubsectionIndex:ke,type:typeof Fe=="string"?Fe:void 0})},Se=()=>{var Fe,ve,ke;if(k.type==="header")return w.content;if(k.type==="footer")return N.content;if(k.sectionIndex!==void 0){const Te=F[k.sectionIndex];return k.subSubsectionIndex!==void 0?((ve=(Fe=Te==null?void 0:Te.subsections[k.subsectionIndex])==null?void 0:Fe.subSubsections[k.subSubsectionIndex])==null?void 0:ve.content)||"":k.subsectionIndex!==void 0?((ke=Te==null?void 0:Te.subsections[k.subsectionIndex])==null?void 0:ke.content)||"":(Te==null?void 0:Te.content)||""}return""},te=()=>{var Fe,ve,ke;if(k.type==="header")return w.title;if(k.type==="footer")return N.title;if(k.sectionIndex!==void 0){const Te=F[k.sectionIndex];return k.subSubsectionIndex!==void 0?((ve=(Fe=Te==null?void 0:Te.subsections[k.subsectionIndex])==null?void 0:Fe.subSubsections[k.subSubsectionIndex])==null?void 0:ve.title)||"":k.subsectionIndex!==void 0?((ke=Te==null?void 0:Te.subsections[k.subsectionIndex])==null?void 0:ke.title)||"":(Te==null?void 0:Te.title)||""}return""},be=Fe=>{k.type==="header"?C(ve=>({...ve,content:Fe})):k.type==="footer"?R(ve=>({...ve,content:Fe})):k.sectionIndex!==void 0&&q(ve=>{const ke=[...ve],Te=ke[k.sectionIndex];return k.subSubsectionIndex!==void 0?Te.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].content=Fe:k.subsectionIndex!==void 0?Te.subsections[k.subsectionIndex].content=Fe:Te.content=Fe,ke})},ce=Fe=>{ue&&K?Ve(Fe,!1,K):$(!0)},Ae=Fe=>{k.type==="header"?C(ve=>({...ve,title:Fe})):k.type==="footer"?R(ve=>({...ve,title:Fe})):k.sectionIndex!==void 0&&q(ve=>{const ke=[...ve],Te=ke[k.sectionIndex];return k.subSubsectionIndex!==void 0?Te.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].title=Fe:k.subsectionIndex!==void 0?Te.subsections[k.subsectionIndex].title=Fe:Te.title=Fe,ke})},De=()=>{var Fe,ve,ke;if(k.type==="header"||k.type==="footer")return[];if(k.sectionIndex!==void 0){const Te=F[k.sectionIndex];return k.subSubsectionIndex!==void 0?((ve=(Fe=Te==null?void 0:Te.subsections[k.subsectionIndex])==null?void 0:Fe.subSubsections[k.subSubsectionIndex])==null?void 0:ve.images)||[]:k.subsectionIndex!==void 0?((ke=Te==null?void 0:Te.subsections[k.subsectionIndex])==null?void 0:ke.images)||[]:(Te==null?void 0:Te.images)||[]}return[]},ze=()=>{var Fe,ve,ke;if(k.type==="header"||k.type==="footer")return[];if(k.sectionIndex!==void 0){const Te=F[k.sectionIndex];return k.subSubsectionIndex!==void 0?((ve=(Fe=Te==null?void 0:Te.subsections[k.subsectionIndex])==null?void 0:Fe.subSubsections[k.subSubsectionIndex])==null?void 0:ve.links)||[]:k.subsectionIndex!==void 0?((ke=Te==null?void 0:Te.subsections[k.subsectionIndex])==null?void 0:ke.links)||[]:(Te==null?void 0:Te.links)||[]}return[]},Ne=Fe=>{k.type==="header"||k.type==="footer"||k.sectionIndex!==void 0&&q(ve=>{const ke=[...ve],Te=ke[k.sectionIndex];return k.subSubsectionIndex!==void 0?Te.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].images=Fe:k.subsectionIndex!==void 0?Te.subsections[k.subsectionIndex].images=Fe:Te.images=Fe,ke})},Xe=Fe=>{k.type==="header"||k.type==="footer"||k.sectionIndex!==void 0&&q(ve=>{const ke=[...ve],Te=ke[k.sectionIndex];return k.subSubsectionIndex!==void 0?Te.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].links=Fe:k.subsectionIndex!==void 0?Te.subsections[k.subsectionIndex].links=Fe:Te.links=Fe,ke})},lt=()=>k.type==="header"?"header":k.type==="footer"?"footer":k.sectionIndex!==void 0?k.subSubsectionIndex!==void 0?`section-${k.sectionIndex}-subsection-${k.subsectionIndex}-subsubsection-${k.subSubsectionIndex}`:k.subsectionIndex!==void 0?`section-${k.sectionIndex}-subsection-${k.subsectionIndex}`:`section-${k.sectionIndex}`:"unknown";return h.jsxs(fe,{sx:{display:"flex",flexGrow:1,flexDirection:"column",minHeight:"100vh"},children:[h.jsxs(Sn,{elevation:1,sx:{p:3,mb:2,backgroundColor:ft.palette.background.paper,borderRadius:0},children:[h.jsxs(fe,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",md:"center"},mb:3,gap:2},children:[h.jsx(tP,{courseId:(e==null?void 0:e.course)||g}),h.jsxs(fe,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,alignItems:"center",width:{xs:"100%",md:"auto"}},children:[h.jsxs(j6,{value:ae,exclusive:!0,onChange:(Fe,ve)=>ve&&U(ve),size:"small",sx:{backgroundColor:ft.palette.background.paper,borderRadius:Rt.xl,width:{xs:"100%",sm:"auto"},"& .MuiToggleButton-root":{borderRadius:Rt.xl,textTransform:"none",fontWeight:600,flex:{xs:1,sm:"none"},"&.Mui-selected":{backgroundColor:ft.palette.primary.main,color:ft.palette.primary.contrastText}}},children:[h.jsxs(Z0,{value:"manual",children:[h.jsx(xu,{sx:{mr:1}}),"Manual"]}),h.jsxs(Z0,{value:"ai",children:[h.jsx(dR,{sx:{mr:1}}),"AI Import"]})]}),h.jsx(fe,{sx:{width:{xs:"100%",sm:"200px",md:"250px"}},children:h.jsx(QH,{value:g,onChange:b,disabled:!!m})})]})]}),h.jsx(Ut,{fullWidth:!0,label:"Material Title",value:y,onChange:Fe=>A(Fe.target.value),variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:Rt.xl}}})]}),h.jsxs(fe,{sx:{display:"flex",flexGrow:1,minHeight:0},children:[h.jsx(hv,{children:h.jsx(ZT,{sections:F,selected:k,onAddSection:()=>{const Fe={id:Ri(),title:`Section ${F.length+1}`,content:"",subsections:[],images:[],links:[]};q(ve=>[...ve,Fe]),L({sectionIndex:F.length})},onAddSubsection:Fe=>{q(ve=>{const ke=[...ve],Te=ke[Fe].subsections,dt={id:Ri(),title:`Subsection ${Te.length+1}`,content:"",subSubsections:[],images:[],links:[]};return ke[Fe].subsections=[...Te,dt],ke})},onAddSubSubsection:(Fe,ve)=>{q(ke=>{const Te=[...ke],dt=Te[Fe].subsections[ve].subSubsections,Je={id:Ri(),title:`Sub-subsection ${dt.length+1}`,content:"",images:[],links:[]};return Te[Fe].subsections[ve].subSubsections=[...dt,Je],Te})},onSelectSection:V,onUpdateSectionTitle:(Fe,ve)=>{q(ke=>{const Te=[...ke];return Te[Fe].title=ve,Te})},onUpdateSubsectionTitle:(Fe,ve,ke)=>{q(Te=>{const dt=[...Te];return dt[Fe].subsections[ve].title=ke,dt})},onUpdateSubSubsectionTitle:(Fe,ve,ke,Te)=>{q(dt=>{const Je=[...dt];return Je[Fe].subsections[ve].subSubsections[ke].title=Te,Je})},onDeleteSection:Fe=>{q(ve=>ve.filter((ke,Te)=>Te!==Fe)),L({sectionIndex:0})},onDeleteSubsection:(Fe,ve)=>{q(ke=>{const Te=[...ke];return Te[Fe].subsections=Te[Fe].subsections.filter((dt,Je)=>Je!==ve),Te})},onDeleteSubSubsection:(Fe,ve,ke)=>{q(Te=>{const dt=[...Te];return dt[Fe].subsections[ve].subSubsections=dt[Fe].subsections[ve].subSubsections.filter((Je,Ft)=>Ft!==ke),dt})},isViewMode:!1})}),h.jsx(fe,{sx:{flexGrow:1,p:4,overflow:"auto"},children:ae==="ai"?h.jsx(Q.Suspense,{fallback:h.jsx(Jr,{}),children:h.jsx(LQ,{courseId:g,authorId:(t==null?void 0:t.uid)||"",imageUploadProgress:ee,isSaving:we,onMaterialReady:async Fe=>{console.log(" AI Material ready callback triggered:",Fe);try{xe(!0),se({completed:0,total:1});const ve=Ri(),ke=await nS(g,(t==null?void 0:t.uid)||"",ve,(Je,Ft)=>{console.log(` Image upload progress: ${Je}/${Ft}`),se({completed:Je,total:Ft})});console.log(" Material with images converted:",ke);const Te={...ke,sections:Array.isArray(ke.sections)?ke.sections:[]},dt=await Ma(xn(r,"materials"),{...Te,timestamp:Vf(),scheduledTimestamp:null});console.log(" Material saved to Firestore with ID:",dt.id),await Wr(dt,{id:dt.id}),console.log(" Material updated with correct ID:",dt.id),O("AI-imported material saved successfully!"),T("success"),X(!0),Z(!1),Nd.getState().resetImport(),U("manual"),xe(!1),se(null),n(`/edit-material/${dt.id}`)}catch(ve){console.error(" Failed to save AI material:",ve),O("Failed to save AI-imported material. Please try again."),T("error"),X(!0),xe(!1),se(null)}},onCancel:()=>U("manual"),onError:(Fe,ve)=>{console.error("Material Import Error:",Fe,ve),O(`Import error: ${Fe.message}`),T("error"),X(!0)}})}):h.jsxs(fe,{children:[h.jsx(Ut,{fullWidth:!0,label:"Section Title",value:te(),onChange:Fe=>Ae(Fe.target.value),variant:"outlined",sx:{mb:3}}),h.jsx(Sn,{elevation:0,sx:{p:3,mb:3,backgroundColor:ft.palette.background.paper,borderRadius:Rt.xl,border:`1px solid ${ft.palette.divider}`},children:h.jsx(YH,{content:Se(),onChange:be})}),k.sectionIndex!==void 0&&h.jsxs(fe,{sx:{mb:3},children:[h.jsx(Sn,{elevation:0,sx:{p:3,mb:2,backgroundColor:ft.palette.background.paper,borderRadius:Rt.xl,border:`1px solid ${ft.palette.divider}`},children:h.jsx(nP,{sectionId:lt(),images:De(),onImagesChange:Ne})}),h.jsx(Sn,{elevation:0,sx:{p:3,backgroundColor:ft.palette.background.paper,borderRadius:Rt.xl,border:`1px solid ${ft.palette.divider}`},children:h.jsx(rP,{links:ze(),onLinksChange:Xe})})]}),ue&&h.jsx(fe,{sx:{mb:3},children:h.jsx(DQ,{value:K,onChange:ie})}),ee&&h.jsx(fe,{sx:{mb:3},children:h.jsxs(Sn,{elevation:1,sx:{p:2,backgroundColor:ft.palette.background.paper,borderRadius:Rt.xl,border:`1px solid ${ft.palette.divider}`},children:[h.jsxs(de,{variant:"body2",sx:{mb:1,color:ft.palette.text.secondary},children:["Uploading images... (",ee.completed," of ",ee.total,")"]}),h.jsx(Ko,{variant:"determinate",value:ee.completed/ee.total*100,sx:{borderRadius:Rt.xl,height:8,backgroundColor:ft.palette.grey[200],"& .MuiLinearProgress-bar":{borderRadius:Rt.xl,backgroundColor:ft.palette.primary.main}}})]})}),h.jsxs(fe,{sx:{display:"flex",gap:2,justifyContent:"flex-end",flexWrap:"wrap"},children:[h.jsx(At,{variant:"outlined",onClick:Fe=>Ve(Fe,!1),startIcon:h.jsx(R0,{}),sx:{textTransform:"none"},children:"Save Draft"}),h.jsx(At,{variant:"contained",onClick:Fe=>Ve(Fe,!0),startIcon:h.jsx(fR,{}),sx:{textTransform:"none"},children:"Publish"}),h.jsx(At,{variant:"outlined",onClick:ce,startIcon:h.jsx(X0,{}),sx:{textTransform:"none",borderColor:ft.palette.primary.main,color:ft.palette.primary.main,"&:hover":{backgroundColor:ft.palette.primary.main,color:ft.palette.primary.contrastText}},children:"Schedule Publish"})]})]})})]}),h.jsx(nl,{open:B,autoHideDuration:6e3,onClose:()=>X(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:h.jsx(vr,{onClose:()=>X(!1),severity:P,sx:{width:"100%"},children:j})})]})},RQ=()=>{const{id:e}=M6(),n=Zn(),{userDetails:t}=Ai(),[r,i]=Q.useState(null),a=Q.useMemo(()=>t!=null&&t.classes?Object.entries(t.classes).filter(([l,u])=>u.isCourseAdmin).map(([l])=>l):[],[t==null?void 0:t.classes]);Q.useEffect(()=>{e&&(async()=>{try{const u=bn(n,"materials",e),d=await Oa(u);if(d.exists()){const f={id:d.id,...d.data()};console.log("Material data from Firestore:",f),console.log("Sections type:",typeof f.sections),console.log("Sections value:",f.sections),Array.isArray(f.sections)||(console.warn("Sections is not an array, initializing as empty array. Original value:",f.sections),f.sections=[]),f.sections=f.sections.map(g=>({id:g.id||Ri(),title:g.title||"Untitled Section",content:g.content||"",images:Array.isArray(g.images)?g.images.map(m=>({...m,title:m.title||""})):[],links:Array.isArray(g.links)?g.links:[],subsections:Array.isArray(g.subsections)?g.subsections.map(m=>({id:m.id||Ri(),title:m.title||"Untitled Subsection",content:m.content||"",images:Array.isArray(m.images)?m.images.map(x=>({...x,title:x.title||""})):[],links:Array.isArray(m.links)?m.links:[],subSubsections:Array.isArray(m.subSubsections)?m.subSubsections.map(x=>({id:x.id||Ri(),title:x.title||"Untitled Sub-subsection",content:x.content||"",images:Array.isArray(x.images)?x.images.map(y=>({...y,title:y.title||""})):[],links:Array.isArray(x.links)?x.links:[]})):[]})):[]})),f.course=a.includes(f.course)?f.course:a[0]||"",i(f)}}catch(u){console.error("Error fetching material:",u)}})()},[e,n,t,a]);const s=async l=>{try{if(e){const u=bn(n,"materials",e);await Wr(u,{...l})}}catch(u){console.error("Error updating material:",u)}};return r?h.jsx($O,{materialData:r,onSubmit:s}):h.jsx(fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:h.jsx(Jr,{})})},P8=({children:e,...n})=>h.jsx(fe,{...n,sx:{marginBottom:4,textAlign:"center",position:"relative"},children:e}),MQ=({src:e,alt:n,...t})=>h.jsx("img",{src:e,alt:n,...t,style:{maxWidth:"100%",maxHeight:"500px",marginBottom:8,borderRadius:8,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease-in-out",...t.style},onMouseEnter:r=>{r.currentTarget.style.transform="scale(1.02)",r.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.15)"},onMouseLeave:r=>{r.currentTarget.style.transform="scale(1)",r.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}}),FQ=e=>h.jsx(hR,{...e,sx:{borderRadius:1,marginBottom:1}}),PQ=({src:e,alt:n,title:t})=>{const[r,i]=Q.useState(!1),[a,s]=Q.useState(!1),[l]=Q.useState(0);return Q.useEffect(()=>{i(!1),s(!1);const u=new Image;return u.src=e,u.onload=()=>{console.log(` SmartImage loaded: ${e.substring(0,50)}...`),i(!0)},u.onerror=d=>{console.error(` SmartImage failed to load: ${e}`,d),console.error("Image details:",{src:e,naturalWidth:u.naturalWidth,naturalHeight:u.naturalHeight,complete:u.complete}),console.error("Image load failed. URL accessible via curl but blocked in browser."),console.error("This is likely a Firebase Storage CORS configuration issue."),console.error(`Fix: Configure CORS to allow ${window.location.origin}`),s(!0)},()=>{u.onload=null,u.onerror=null}},[e,l]),a?h.jsxs(P8,{children:[h.jsxs(fe,{sx:{width:"100%",maxWidth:400,height:200,bgcolor:"#ffebee",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #f44336",p:2},children:[h.jsx(de,{variant:"body2",color:"error",gutterBottom:!0,children:"Image failed to load"}),h.jsx(de,{variant:"caption",color:"text.secondary",sx:{textAlign:"center",wordBreak:"break-all"},children:t}),h.jsxs(de,{variant:"caption",color:"text.secondary",sx:{mt:1,fontSize:"0.7rem"},children:["URL: ",e.substring(0,60),"..."]})]}),h.jsx(de,{variant:"body2",sx:{fontStyle:"italic",mt:1},children:t})]}):h.jsxs(P8,{children:[!r&&h.jsx(FQ,{variant:"rectangular",width:"100%",height:300,sx:{maxWidth:400}}),h.jsx(Qw,{in:r,timeout:500,children:h.jsx(fe,{sx:{display:r?"block":"none"},children:h.jsx(MQ,{src:e,alt:n,loading:"lazy"})})}),r&&h.jsx(Qw,{in:r,timeout:700,children:h.jsx(de,{variant:"body2",sx:{fontStyle:"italic",color:"text.secondary"},children:t})})]})},sw=({images:e})=>h.jsx(fe,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:e.map((n,t)=>h.jsx(PQ,{src:n.url,alt:`Image ${t+1}`,title:n.title,index:t},`${n.url}-${t}`))}),zQ=e=>!e.startsWith("http://")&&!e.startsWith("https://")?`https://${e}`:e,qQ=({links:e})=>e.length===0?null:h.jsxs(fe,{sx:{mt:2,width:"50%"},children:[h.jsx(de,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),h.jsxs(fe,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[h.jsx(de,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),h.jsx(de,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),h.jsx(de,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),e.map((n,t)=>h.jsx(fe,{children:h.jsxs(fe,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[h.jsx(de,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:n.title}),h.jsx(Fg,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:zQ(n.url),target:"_blank",rel:"noopener",children:n.url}),h.jsx(de,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:n.description})]})},t))]});var Ps=Uint8Array,Go=Uint16Array,bA=Int32Array,Dv=new Ps([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Lv=new Ps([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),IS=new Ps([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),HO=function(e,n){for(var t=new Go(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];for(var i=new bA(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return{b:t,r:i}},WO=HO(Dv,2),VO=WO.b,DS=WO.r;VO[28]=258,DS[258]=28;var YO=HO(Lv,0),BQ=YO.b,z8=YO.r,LS=new Go(32768);for(var fi=0;fi<32768;++fi){var Of=(fi&43690)>>1|(fi&21845)<<1;Of=(Of&52428)>>2|(Of&13107)<<2,Of=(Of&61680)>>4|(Of&3855)<<4,LS[fi]=((Of&65280)>>8|(Of&255)<<8)>>1}var jc=function(e,n,t){for(var r=e.length,i=0,a=new Go(n);i<r;++i)e[i]&&++a[e[i]-1];var s=new Go(n);for(i=1;i<n;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(t){l=new Go(1<<n);var u=15-n;for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],f=n-e[i],g=s[e[i]-1]++<<f,b=g|(1<<f)-1;g<=b;++g)l[LS[g]>>u]=d}else for(l=new Go(r),i=0;i<r;++i)e[i]&&(l[i]=LS[s[e[i]-1]++]>>15-e[i]);return l},rh=new Ps(288);for(var fi=0;fi<144;++fi)rh[fi]=8;for(var fi=144;fi<256;++fi)rh[fi]=9;for(var fi=256;fi<280;++fi)rh[fi]=7;for(var fi=280;fi<288;++fi)rh[fi]=8;var Cg=new Ps(32);for(var fi=0;fi<32;++fi)Cg[fi]=5;var UQ=jc(rh,9,0),$Q=jc(rh,9,1),HQ=jc(Cg,5,0),WQ=jc(Cg,5,1),ow=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]>n&&(n=e[t]);return n},du=function(e,n,t){var r=n/8|0;return(e[r]|e[r+1]<<8)>>(n&7)&t},lw=function(e,n){var t=n/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(n&7)},yA=function(e){return(e+7)/8|0},GO=function(e,n,t){return(t==null||t>e.length)&&(t=e.length),new Ps(e.subarray(n,t))},VQ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],mu=function(e,n,t){var r=new Error(n||VQ[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,mu),!t)throw r;return r},YQ=function(e,n,t,r){var i=e.length,a=0;if(!i||n.f&&!n.l)return t||new Ps(0);var s=!t,l=s||n.i!=2,u=n.i;s&&(t=new Ps(i*3));var d=function(Re){var We=t.length;if(Re>We){var Ve=new Ps(Math.max(We*2,Re));Ve.set(t),t=Ve}},f=n.f||0,g=n.p||0,b=n.b||0,m=n.l,x=n.d,y=n.m,A=n.n,w=i*8;do{if(!m){f=du(e,g,1);var C=du(e,g+1,3);if(g+=3,C)if(C==1)m=$Q,x=WQ,y=9,A=5;else if(C==2){var q=du(e,g,31)+257,k=du(e,g+10,15)+4,L=q+du(e,g+5,31)+1;g+=14;for(var B=new Ps(L),X=new Ps(19),j=0;j<k;++j)X[IS[j]]=du(e,g+j*3,7);g+=k*3;for(var O=ow(X),P=(1<<O)-1,T=jc(X,O,1),j=0;j<L;){var G=T[du(e,g,P)];g+=G&15;var N=G>>4;if(N<16)B[j++]=N;else{var W=0,K=0;for(N==16?(K=3+du(e,g,3),g+=2,W=B[j-1]):N==17?(K=3+du(e,g,7),g+=3):N==18&&(K=11+du(e,g,127),g+=7);K--;)B[j++]=W}}var ie=B.subarray(0,q),ue=B.subarray(q);y=ow(ie),A=ow(ue),m=jc(ie,y,1),x=jc(ue,A,1)}else mu(1);else{var N=yA(g)+4,R=e[N-4]|e[N-3]<<8,F=N+R;if(F>i){u&&mu(0);break}l&&d(b+R),t.set(e.subarray(N,F),b),n.b=b+=R,n.p=g=F*8,n.f=f;continue}if(g>w){u&&mu(0);break}}l&&d(b+131072);for(var $=(1<<y)-1,ae=(1<<A)-1,U=g;;U=g){var W=m[lw(e,g)&$],z=W>>4;if(g+=W&15,g>w){u&&mu(0);break}if(W||mu(2),z<256)t[b++]=z;else if(z==256){U=g,m=null;break}else{var Z=z-254;if(z>264){var j=z-257,ee=Dv[j];Z=du(e,g,(1<<ee)-1)+VO[j],g+=ee}var se=x[lw(e,g)&ae],we=se>>4;se||mu(3),g+=se&15;var ue=BQ[we];if(we>3){var ee=Lv[we];ue+=lw(e,g)&(1<<ee)-1,g+=ee}if(g>w){u&&mu(0);break}l&&d(b+131072);var xe=b+Z;if(b<ue){var Ee=a-ue,Ie=Math.min(ue,xe);for(Ee+b<0&&mu(3);b<Ie;++b)t[b]=r[Ee+b]}for(;b<xe;++b)t[b]=t[b-ue]}}n.l=m,n.p=U,n.b=b,n.f=f,m&&(f=1,n.m=y,n.d=x,n.n=A)}while(!f);return b!=t.length&&s?GO(t,0,b):t.subarray(0,b)},bd=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8},C1=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8,e[r+2]|=t>>16},uw=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]});var i=t.length,a=t.slice();if(!i)return{t:KO,l:0};if(i==1){var s=new Ps(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(F,q){return F.f-q.f}),t.push({s:-1,f:25001});var l=t[0],u=t[1],d=0,f=1,g=2;for(t[0]={s:-1,f:l.f+u.f,l,r:u};f!=i-1;)l=t[t[d].f<t[g].f?d++:g++],u=t[d!=f&&t[d].f<t[g].f?d++:g++],t[f++]={s:-1,f:l.f+u.f,l,r:u};for(var b=a[0].s,r=1;r<i;++r)a[r].s>b&&(b=a[r].s);var m=new Go(b+1),x=RS(t[f-1],m,0);if(x>n){var r=0,y=0,A=x-n,w=1<<A;for(a.sort(function(q,k){return m[k.s]-m[q.s]||q.f-k.f});r<i;++r){var C=a[r].s;if(m[C]>n)y+=w-(1<<x-m[C]),m[C]=n;else break}for(y>>=A;y>0;){var N=a[r].s;m[N]<n?y-=1<<n-m[N]++-1:++r}for(;r>=0&&y;--r){var R=a[r].s;m[R]==n&&(--m[R],++y)}x=n}return{t:new Ps(m),l:x}},RS=function(e,n,t){return e.s==-1?Math.max(RS(e.l,n,t+1),RS(e.r,n,t+1)):n[e.s]=t},q8=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new Go(++n),r=0,i=e[0],a=1,s=function(u){t[r++]=u},l=1;l<=n;++l)if(e[l]==i&&l!=n)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[l]}return{c:t.subarray(0,r),n}},E1=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r];return t},QO=function(e,n,t){var r=t.length,i=yA(n+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=t[a];return(i+4+r)*8},B8=function(e,n,t,r,i,a,s,l,u,d,f){bd(n,f++,t),++i[256];for(var g=uw(i,15),b=g.t,m=g.l,x=uw(a,15),y=x.t,A=x.l,w=q8(b),C=w.c,N=w.n,R=q8(y),F=R.c,q=R.n,k=new Go(19),L=0;L<C.length;++L)++k[C[L]&31];for(var L=0;L<F.length;++L)++k[F[L]&31];for(var B=uw(k,7),X=B.t,j=B.l,O=19;O>4&&!X[IS[O-1]];--O);var P=d+5<<3,T=E1(i,rh)+E1(a,Cg)+s,G=E1(i,b)+E1(a,y)+s+14+3*O+E1(k,X)+2*k[16]+3*k[17]+7*k[18];if(u>=0&&P<=T&&P<=G)return QO(n,f,e.subarray(u,u+d));var W,K,ie,ue;if(bd(n,f,1+(G<T)),f+=2,G<T){W=jc(b,m,0),K=b,ie=jc(y,A,0),ue=y;var $=jc(X,j,0);bd(n,f,N-257),bd(n,f+5,q-1),bd(n,f+10,O-4),f+=14;for(var L=0;L<O;++L)bd(n,f+3*L,X[IS[L]]);f+=3*O;for(var ae=[C,F],U=0;U<2;++U)for(var z=ae[U],L=0;L<z.length;++L){var Z=z[L]&31;bd(n,f,$[Z]),f+=X[Z],Z>15&&(bd(n,f,z[L]>>5&127),f+=z[L]>>12)}}else W=UQ,K=rh,ie=HQ,ue=Cg;for(var L=0;L<l;++L){var ee=r[L];if(ee>255){var Z=ee>>18&31;C1(n,f,W[Z+257]),f+=K[Z+257],Z>7&&(bd(n,f,ee>>23&31),f+=Dv[Z]);var se=ee&31;C1(n,f,ie[se]),f+=ue[se],se>3&&(C1(n,f,ee>>5&8191),f+=Lv[se])}else C1(n,f,W[ee]),f+=K[ee]}return C1(n,f,W[256]),f+K[256]},GQ=new bA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),KO=new Ps(0),QQ=function(e,n,t,r,i,a){var s=a.z||e.length,l=new Ps(r+s+5*(1+Math.ceil(s/7e3))+i),u=l.subarray(r,l.length-i),d=a.l,f=(a.r||0)&7;if(n){f&&(u[0]=a.r>>3);for(var g=GQ[n-1],b=g>>13,m=g&8191,x=(1<<t)-1,y=a.p||new Go(32768),A=a.h||new Go(x+1),w=Math.ceil(t/3),C=2*w,N=function(V){return(e[V]^e[V+1]<<w^e[V+2]<<C)&x},R=new bA(25e3),F=new Go(288),q=new Go(32),k=0,L=0,B=a.i||0,X=0,j=a.w||0,O=0;B+2<s;++B){var P=N(B),T=B&32767,G=A[P];if(y[T]=G,A[P]=T,j<=B){var W=s-B;if((k>7e3||X>24576)&&(W>423||!d)){f=B8(e,u,0,R,F,q,L,X,O,B-O,f),X=k=L=0,O=B;for(var K=0;K<286;++K)F[K]=0;for(var K=0;K<30;++K)q[K]=0}var ie=2,ue=0,$=m,ae=T-G&32767;if(W>2&&P==N(B-ae))for(var U=Math.min(b,W)-1,z=Math.min(32767,B),Z=Math.min(258,W);ae<=z&&--$&&T!=G;){if(e[B+ie]==e[B+ie-ae]){for(var ee=0;ee<Z&&e[B+ee]==e[B+ee-ae];++ee);if(ee>ie){if(ie=ee,ue=ae,ee>U)break;for(var se=Math.min(ae,ee-2),we=0,K=0;K<se;++K){var xe=B-ae+K&32767,Ee=y[xe],Ie=xe-Ee&32767;Ie>we&&(we=Ie,G=xe)}}}T=G,G=y[T],ae+=T-G&32767}if(ue){R[X++]=268435456|DS[ie]<<18|z8[ue];var Re=DS[ie]&31,We=z8[ue]&31;L+=Dv[Re]+Lv[We],++F[257+Re],++q[We],j=B+ie,++k}else R[X++]=e[B],++F[e[B]]}}for(B=Math.max(B,j);B<s;++B)R[X++]=e[B],++F[e[B]];f=B8(e,u,d,R,F,q,L,X,O,B-O,f),d||(a.r=f&7|u[f/8|0]<<3,f-=7,a.h=A,a.p=y,a.i=B,a.w=j)}else{for(var B=a.w||0;B<s+d;B+=65535){var Ve=B+65535;Ve>=s&&(u[f/8|0]=d,Ve=s),f=QO(u,f+1,e.subarray(B,Ve))}a.i=s}return GO(l,0,r+yA(f)+i)},XO=function(){var e=1,n=0;return{p:function(t){for(var r=e,i=n,a=t.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,n=i},d:function(){return e%=65521,n%=65521,(e&255)<<24|(e&65280)<<8|(n&255)<<8|n>>8}}},KQ=function(e,n,t,r,i){if(!i&&(i={l:1},n.dictionary)){var a=n.dictionary.subarray(-32768),s=new Ps(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return QQ(e,n.level==null?6:n.level,n.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+n.mem,t,r,i)},ZO=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8},XQ=function(e,n){var t=n.level,r=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=r<<6|(n.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,n.dictionary){var i=XO();i.p(n.dictionary),ZO(e,2,i.d())}},ZQ=function(e,n){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&mu(6,"invalid zlib data"),(e[1]>>5&1)==1&&mu(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function MS(e,n){n||(n={});var t=XO();t.p(e);var r=KQ(e,n,n.dictionary?6:2,4);return XQ(r,n),ZO(r,r.length-4,t.d()),r}function JQ(e,n){return YQ(e.subarray(ZQ(e),-4),{i:2},n,n)}var eK=typeof TextDecoder<"u"&&new TextDecoder,tK=0;try{eK.decode(KO,{stream:!0}),tK=1}catch{}var cn=function(){return typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this}();function cw(){cn.console&&typeof cn.console.log=="function"&&cn.console.log.apply(cn.console,arguments)}var Xr={log:cw,warn:function(e){cn.console&&(typeof cn.console.warn=="function"?cn.console.warn.apply(cn.console,arguments):cw.call(null,arguments))},error:function(e){cn.console&&(typeof cn.console.error=="function"?cn.console.error.apply(cn.console,arguments):cw(e))}};function dw(e,n,t){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Wh(r.response,n,t)},r.onerror=function(){Xr.error("could not download file")},r.send()}function U8(e){var n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function Ry(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var eg,FS,Wh=cn.saveAs||((typeof window>"u"?"undefined":Zr(window))!=="object"||window!==cn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,n,t){var r=cn.URL||cn.webkitURL,i=document.createElement("a");n=n||e.name||"download",i.download=n,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?U8(i.href)?dw(e,n,t):Ry(i,i.target="_blank"):Ry(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Ry(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,t){if(n=n||e.name||"download",typeof e=="string")if(U8(e))dw(e,n,t);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Ry(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Zr(a)!=="object"&&(Xr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,t),n)}:function(e,n,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return dw(e,n,t);var i=e.type==="application/octet-stream",a=/constructor/i.test(cn.HTMLElement)||cn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Zr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},l.readAsDataURL(e)}else{var u=cn.URL||cn.webkitURL,d=u.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function JO(e){var n;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,a=t[r].process,s=i.exec(e);s&&(n=a(s),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+l+u+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function fw(e,n){var t=e[0],r=e[1],i=e[2],a=e[3];t=js(t,r,i,a,n[0],7,-680876936),a=js(a,t,r,i,n[1],12,-389564586),i=js(i,a,t,r,n[2],17,606105819),r=js(r,i,a,t,n[3],22,-1044525330),t=js(t,r,i,a,n[4],7,-176418897),a=js(a,t,r,i,n[5],12,1200080426),i=js(i,a,t,r,n[6],17,-1473231341),r=js(r,i,a,t,n[7],22,-45705983),t=js(t,r,i,a,n[8],7,1770035416),a=js(a,t,r,i,n[9],12,-1958414417),i=js(i,a,t,r,n[10],17,-42063),r=js(r,i,a,t,n[11],22,-1990404162),t=js(t,r,i,a,n[12],7,1804603682),a=js(a,t,r,i,n[13],12,-40341101),i=js(i,a,t,r,n[14],17,-1502002290),t=Ts(t,r=js(r,i,a,t,n[15],22,1236535329),i,a,n[1],5,-165796510),a=Ts(a,t,r,i,n[6],9,-1069501632),i=Ts(i,a,t,r,n[11],14,643717713),r=Ts(r,i,a,t,n[0],20,-373897302),t=Ts(t,r,i,a,n[5],5,-701558691),a=Ts(a,t,r,i,n[10],9,38016083),i=Ts(i,a,t,r,n[15],14,-660478335),r=Ts(r,i,a,t,n[4],20,-405537848),t=Ts(t,r,i,a,n[9],5,568446438),a=Ts(a,t,r,i,n[14],9,-1019803690),i=Ts(i,a,t,r,n[3],14,-187363961),r=Ts(r,i,a,t,n[8],20,1163531501),t=Ts(t,r,i,a,n[13],5,-1444681467),a=Ts(a,t,r,i,n[2],9,-51403784),i=Ts(i,a,t,r,n[7],14,1735328473),t=Os(t,r=Ts(r,i,a,t,n[12],20,-1926607734),i,a,n[5],4,-378558),a=Os(a,t,r,i,n[8],11,-2022574463),i=Os(i,a,t,r,n[11],16,1839030562),r=Os(r,i,a,t,n[14],23,-35309556),t=Os(t,r,i,a,n[1],4,-1530992060),a=Os(a,t,r,i,n[4],11,1272893353),i=Os(i,a,t,r,n[7],16,-155497632),r=Os(r,i,a,t,n[10],23,-1094730640),t=Os(t,r,i,a,n[13],4,681279174),a=Os(a,t,r,i,n[0],11,-358537222),i=Os(i,a,t,r,n[3],16,-722521979),r=Os(r,i,a,t,n[6],23,76029189),t=Os(t,r,i,a,n[9],4,-640364487),a=Os(a,t,r,i,n[12],11,-421815835),i=Os(i,a,t,r,n[15],16,530742520),t=Is(t,r=Os(r,i,a,t,n[2],23,-995338651),i,a,n[0],6,-198630844),a=Is(a,t,r,i,n[7],10,1126891415),i=Is(i,a,t,r,n[14],15,-1416354905),r=Is(r,i,a,t,n[5],21,-57434055),t=Is(t,r,i,a,n[12],6,1700485571),a=Is(a,t,r,i,n[3],10,-1894986606),i=Is(i,a,t,r,n[10],15,-1051523),r=Is(r,i,a,t,n[1],21,-2054922799),t=Is(t,r,i,a,n[8],6,1873313359),a=Is(a,t,r,i,n[15],10,-30611744),i=Is(i,a,t,r,n[6],15,-1560198380),r=Is(r,i,a,t,n[13],21,1309151649),t=Is(t,r,i,a,n[4],6,-145523070),a=Is(a,t,r,i,n[11],10,-1120210379),i=Is(i,a,t,r,n[2],15,718787259),r=Is(r,i,a,t,n[9],21,-343485551),e[0]=$f(t,e[0]),e[1]=$f(r,e[1]),e[2]=$f(i,e[2]),e[3]=$f(a,e[3])}function Rv(e,n,t,r,i,a){return n=$f($f(n,e),$f(r,a)),$f(n<<i|n>>>32-i,t)}function js(e,n,t,r,i,a,s){return Rv(n&t|~n&r,e,n,i,a,s)}function Ts(e,n,t,r,i,a,s){return Rv(n&r|t&~r,e,n,i,a,s)}function Os(e,n,t,r,i,a,s){return Rv(n^t^r,e,n,i,a,s)}function Is(e,n,t,r,i,a,s){return Rv(t^(n|~r),e,n,i,a,s)}function eI(e){var n,t=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=e.length;n+=64)fw(r,nK(e.substring(n-64,n)));e=e.substring(n-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)i[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(fw(r,i),n=0;n<16;n++)i[n]=0;return i[14]=8*t,fw(r,i),r}function nK(e){var n,t=[];for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}eg=cn.atob.bind(cn),FS=cn.btoa.bind(cn);var $8="0123456789abcdef".split("");function rK(e){for(var n="",t=0;t<4;t++)n+=$8[e>>8*t+4&15]+$8[e>>8*t&15];return n}function iK(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function PS(e){return eI(e).map(iK).join("")}var aK=function(e){for(var n=0;n<e.length;n++)e[n]=rK(e[n]);return e.join("")}(eI("hello"))!="5d41402abc4b2a76b9719d911017c592";function $f(e,n){if(aK){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}return e+n&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function zS(e,n){var t,r,i,a;if(e!==t){for(var s=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),l=[],u=0;u<256;u++)l[u]=u;var d=0;for(u=0;u<256;u++){var f=l[u];d=(d+f+s.charCodeAt(u))%256,l[u]=l[d],l[d]=f}t=e,r=l}else l=r;var g=n.length,b=0,m=0,x="";for(u=0;u<g;u++)m=(m+(f=l[b=(b+1)%256]))%256,l[b]=l[m],l[m]=f,s=l[(l[b]+l[m])%256],x+=String.fromCharCode(n.charCodeAt(u)^s);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var H8={print:4,modify:8,copy:16,"annot-forms":32};function I0(e,n,t,r){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(H8.perm!==void 0)throw new Error("Invalid permission: "+l);i+=H8[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(n+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=PS(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=zS(this.encryptionKey,this.padding)}function D0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var n="",t=e.length,r=0;r<t;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?n+="#"+("0"+i.toString(16)).slice(-2):n+=e[r]}return n}function W8(e){if(Zr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(t)||(n[t]={});var a=Math.random().toString(35);return n[t][a]=[r,!!i],a},this.unsubscribe=function(t){for(var r in n)if(n[r][t])return delete n[r][t],Object.keys(n[r]).length===0&&delete n[r],!0;return!1},this.publish=function(t){if(n.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in n[t]){var s=n[t][a];try{s[0].apply(e,r)}catch(l){cn.console&&Xr.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function Yx(e){if(!(this instanceof Yx))return new Yx(e);var n="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&n.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function tI(e,n){this.gState=e,this.matrix=n,this.id="",this.objectNumber=-1}function Vh(e,n,t,r,i){if(!(this instanceof Vh))return new Vh(e,n,t,r,i);this.type=e==="axial"?2:3,this.coords=n,this.colors=t,tI.call(this,r,i)}function L0(e,n,t,r,i){if(!(this instanceof L0))return new L0(e,n,t,r,i);this.boundingBox=e,this.xStep=n,this.yStep=t,this.stream="",this.cloneIndex=0,tI.call(this,r,i)}function on(e){var n,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,u=16,d="S",f=null;Zr(e=e||{})==="object"&&(t=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(n=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),d=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,b={},m={internal:{},__private__:{}};m.__private__.PubSub=W8;var x="1.3",y=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(D){x=D};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return A};var w=m.__private__.getPageFormat=function(D){return A[D]};i=i||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},N=C.COMPAT;function R(){this.saveGraphicsState(),te(new Dt(Je,0,0,-Je,0,Lu()*Je).toString()+" cm"),this.setFontSize(this.getFontSize()/Je),d="n",N=C.ADVANCED}function F(){this.restoreGraphicsState(),d="S",N=C.COMPAT}var q=m.__private__.combineFontStyleAndFontWeight=function(D,re){if(D=="bold"&&re=="normal"||D=="bold"&&re==400||D=="normal"&&re=="italic"||D=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(D=re==400||re==="normal"?D==="italic"?"italic":"normal":re!=700&&re!=="bold"||D!=="normal"?(re==700?"bold":re)+""+D:"bold"),D};m.advancedAPI=function(D){var re=N===C.COMPAT;return re&&R.call(this),typeof D!="function"||(D(this),re&&F.call(this)),this},m.compatAPI=function(D){var re=N===C.ADVANCED;return re&&F.call(this),typeof D!="function"||(D(this),re&&R.call(this)),this},m.isAdvancedAPI=function(){return N===C.ADVANCED};var k,L=function(D){if(N!==C.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=m.roundToPrecision=m.__private__.roundToPrecision=function(D,re){var _e=n||re;if(isNaN(D)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(_e).replace(/0+$/,"")};k=m.hpf=m.__private__.hpf=typeof u=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return B(D,u)}:u==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return B(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return B(D,16)};var X=m.f2=m.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return B(D,2)},j=m.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return B(D,3)},O=m.scale=m.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return N===C.COMPAT?D*Je:N===C.ADVANCED?D:void 0},P=function(D){return N===C.COMPAT?Lu()-D:N===C.ADVANCED?D:void 0},T=function(D){return O(P(D))};m.__private__.setPrecision=m.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(n=parseInt(D,10))};var G,W="00000000000000000000000000000000",K=m.__private__.getFileId=function(){return W},ie=m.__private__.setFileId=function(D){return W=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(li=new I0(f.userPermissions,f.userPassword,f.ownerPassword,W)),W};m.setFileId=function(D){return ie(D),this},m.getFileId=function(){return K()};var ue=m.__private__.convertDateToPDFDate=function(D){var re=D.getTimezoneOffset(),_e=re<0?"+":"-",Le=Math.floor(Math.abs(re/60)),Ye=Math.abs(re%60),ct=[_e,Z(Le),"'",Z(Ye),"'"].join("");return["D:",D.getFullYear(),Z(D.getMonth()+1),Z(D.getDate()),Z(D.getHours()),Z(D.getMinutes()),Z(D.getSeconds()),ct].join("")},$=m.__private__.convertPDFDateToDate=function(D){var re=parseInt(D.substr(2,4),10),_e=parseInt(D.substr(6,2),10)-1,Le=parseInt(D.substr(8,2),10),Ye=parseInt(D.substr(10,2),10),ct=parseInt(D.substr(12,2),10),Ct=parseInt(D.substr(14,2),10);return new Date(re,_e,Le,Ye,ct,Ct,0)},ae=m.__private__.setCreationDate=function(D){var re;if(D===void 0&&(D=new Date),D instanceof Date)re=ue(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=D}return G=re},U=m.__private__.getCreationDate=function(D){var re=G;return D==="jsDate"&&(re=$(G)),re};m.setCreationDate=function(D){return ae(D),this},m.getCreationDate=function(D){return U(D)};var z,Z=m.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},ee=m.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},se=0,we=[],xe=[],Ee=0,Ie=[],Re=[],We=!1,Ve=xe,V=function(){se=0,Ee=0,xe=[],we=[],Ie=[],Nr=fr(),Ia=fr()};m.__private__.setCustomOutputDestination=function(D){We=!0,Ve=D};var Se=function(D){We||(Ve=D)};m.__private__.resetCustomOutputDestination=function(){We=!1,Ve=xe};var te=m.__private__.out=function(D){return D=D.toString(),Ee+=D.length+1,Ve.push(D),Ve},be=m.__private__.write=function(D){return te(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},ce=m.__private__.getArrayBuffer=function(D){for(var re=D.length,_e=new ArrayBuffer(re),Le=new Uint8Array(_e);re--;)Le[re]=D.charCodeAt(re);return _e},Ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ae};var De=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(D){return De=N===C.ADVANCED?D/Je:D,this};var ze,Ne=m.__private__.getFontSize=m.getFontSize=function(){return N===C.COMPAT?De:De*Je},Xe=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(D){return Xe=D,this},m.__private__.getR2L=m.getR2L=function(){return Xe};var lt,nt=m.__private__.setZoomMode=function(D){var re=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))ze=D;else if(isNaN(D)){if(re.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');ze=D}else ze=parseInt(D,10)};m.__private__.getZoomMode=function(){return ze};var Fe,ve=m.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');lt=D};m.__private__.getPageMode=function(){return lt};var ke=m.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');Fe=D};m.__private__.getLayoutMode=function(){return Fe},m.__private__.setDisplayMode=m.setDisplayMode=function(D,re,_e){return nt(D),ke(re),ve(_e),this};var Te={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(D){if(Object.keys(Te).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Te[D]},m.__private__.getDocumentProperties=function(){return Te},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(D){for(var re in Te)Te.hasOwnProperty(re)&&D[re]&&(Te[re]=D[re]);return this},m.__private__.setDocumentProperty=function(D,re){if(Object.keys(Te).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Te[D]=re};var dt,Je,Ft,kt,Vt,Lt={},Zt={},nn=[],ln={},Pn={},zn={},Gr={},ir=null,Rn=0,Gt=[],An=new W8(m),ya=e.hotfixes||[],Sr={},oi={},xa=[],Dt=function D(re,_e,Le,Ye,ct,Ct){if(!(this instanceof D))return new D(re,_e,Le,Ye,ct,Ct);isNaN(re)&&(re=1),isNaN(_e)&&(_e=0),isNaN(Le)&&(Le=0),isNaN(Ye)&&(Ye=1),isNaN(ct)&&(ct=0),isNaN(Ct)&&(Ct=0),this._matrix=[re,_e,Le,Ye,ct,Ct]};Object.defineProperty(Dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Dt.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(D)},Dt.prototype.multiply=function(D){var re=D.sx*this.sx+D.shy*this.shx,_e=D.sx*this.shy+D.shy*this.sy,Le=D.shx*this.sx+D.sy*this.shx,Ye=D.shx*this.shy+D.sy*this.sy,ct=D.tx*this.sx+D.ty*this.shx+this.tx,Ct=D.tx*this.shy+D.ty*this.sy+this.ty;return new Dt(re,_e,Le,Ye,ct,Ct)},Dt.prototype.decompose=function(){var D=this.sx,re=this.shy,_e=this.shx,Le=this.sy,Ye=this.tx,ct=this.ty,Ct=Math.sqrt(D*D+re*re),Tt=(D/=Ct)*_e+(re/=Ct)*Le;_e-=D*Tt,Le-=re*Tt;var $t=Math.sqrt(_e*_e+Le*Le);return Tt/=$t,D*(Le/=$t)<re*(_e/=$t)&&(D=-D,re=-re,Tt=-Tt,Ct=-Ct),{scale:new Dt(Ct,0,0,$t,0,0),translate:new Dt(1,0,0,1,Ye,ct),rotate:new Dt(D,re,-re,D,0,0),skew:new Dt(1,0,Tt,1,0,0)}},Dt.prototype.toString=function(D){return this.join(" ")},Dt.prototype.inversed=function(){var D=this.sx,re=this.shy,_e=this.shx,Le=this.sy,Ye=this.tx,ct=this.ty,Ct=1/(D*Le-re*_e),Tt=Le*Ct,$t=-re*Ct,yn=-_e*Ct,fn=D*Ct;return new Dt(Tt,$t,yn,fn,-Tt*Ye-yn*ct,-$t*Ye-fn*ct)},Dt.prototype.applyToPoint=function(D){var re=D.x*this.sx+D.y*this.shx+this.tx,_e=D.x*this.shy+D.y*this.sy+this.ty;return new Qd(re,_e)},Dt.prototype.applyToRectangle=function(D){var re=this.applyToPoint(D),_e=this.applyToPoint(new Qd(D.x+D.w,D.y+D.h));return new mh(re.x,re.y,_e.x-re.x,_e.y-re.y)},Dt.prototype.clone=function(){var D=this.sx,re=this.shy,_e=this.shx,Le=this.sy,Ye=this.tx,ct=this.ty;return new Dt(D,re,_e,Le,Ye,ct)},m.Matrix=Dt;var Hn=m.matrixMult=function(D,re){return re.multiply(D)},ar=new Dt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=ar;var Mr=function(D,re){if(!Pn[D]){var _e=(re instanceof Vh?"Sh":"P")+(Object.keys(ln).length+1).toString(10);re.id=_e,Pn[D]=_e,ln[_e]=re,An.publish("addPattern",re)}};m.ShadingPattern=Vh,m.TilingPattern=L0,m.addShadingPattern=function(D,re){return L("addShadingPattern()"),Mr(D,re),this},m.beginTilingPattern=function(D){L("beginTilingPattern()"),Kd(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},m.endTilingPattern=function(D,re){L("endTilingPattern()"),re.stream=Re[z].join(`
`),Mr(D,re),An.publish("endTilingPattern",re),xa.pop().restore()};var dr=m.__private__.newObject=function(){var D=fr();return $n(D,!0),D},fr=m.__private__.newObjectDeferred=function(){return se++,we[se]=function(){return Ee},se},$n=function(D,re){return re=typeof re=="boolean"&&re,we[D]=Ee,re&&te(D+" 0 obj"),D},bs=m.__private__.newAdditionalObject=function(){var D={objId:fr(),content:""};return Ie.push(D),D},Nr=fr(),Ia=fr(),Pi=m.__private__.decodeColorString=function(D){var re=D.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length===5&&(re[4]==="k"||re[4]==="K")&&(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var _e=parseFloat(re[0]);re=[_e,_e,_e,"r"]}for(var Le="#",Ye=0;Ye<3;Ye++)Le+=("0"+Math.floor(255*parseFloat(re[Ye])).toString(16)).slice(-2);return Le},zi=m.__private__.encodeColorString=function(D){var re;typeof D=="string"&&(D={ch1:D});var _e=D.ch1,Le=D.ch2,Ye=D.ch3,ct=D.ch4,Ct=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var Tt=new JO(_e);if(Tt.ok)_e=Tt.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var $t=parseInt(_e.substr(1),16);_e=$t>>16&255,Le=$t>>8&255,Ye=255&$t}if(Le===void 0||ct===void 0&&_e===Le&&Le===Ye)if(typeof _e=="string")re=_e+" "+Ct[0];else switch(D.precision){case 2:re=X(_e/255)+" "+Ct[0];break;case 3:default:re=j(_e/255)+" "+Ct[0]}else if(ct===void 0||Zr(ct)==="object"){if(ct&&!isNaN(ct.a)&&ct.a===0)return re=["1.","1.","1.",Ct[1]].join(" ");if(typeof _e=="string")re=[_e,Le,Ye,Ct[1]].join(" ");else switch(D.precision){case 2:re=[X(_e/255),X(Le/255),X(Ye/255),Ct[1]].join(" ");break;default:case 3:re=[j(_e/255),j(Le/255),j(Ye/255),Ct[1]].join(" ")}}else if(typeof _e=="string")re=[_e,Le,Ye,ct,Ct[2]].join(" ");else switch(D.precision){case 2:re=[X(_e),X(Le),X(Ye),X(ct),Ct[2]].join(" ");break;case 3:default:re=[j(_e),j(Le),j(Ye),j(ct),Ct[2]].join(" ")}return re},Jn=m.__private__.getFilters=function(){return s},Ci=m.__private__.putStream=function(D){var re=(D=D||{}).data||"",_e=D.filters||Jn(),Le=D.alreadyAppliedFilters||[],Ye=D.addLength1||!1,ct=re.length,Ct=D.objectId,Tt=function(ki){return ki};if(f!==null&&Ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Tt=li.encryptor(Ct,0));var $t={};_e===!0&&(_e=["FlateEncode"]);var yn=D.additionalKeyValues||[],fn=($t=on.API.processDataByFilters!==void 0?on.API.processDataByFilters(re,_e):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(Le)?Le.join(" "):Le.toString());if($t.data.length!==0&&(yn.push({key:"Length",value:$t.data.length}),Ye===!0&&yn.push({key:"Length1",value:ct})),fn.length!=0)if(fn.split("/").length-1==1)yn.push({key:"Filter",value:fn});else{yn.push({key:"Filter",value:"["+fn+"]"});for(var qn=0;qn<yn.length;qn+=1)if(yn[qn].key==="DecodeParms"){for(var ti=[],ui=0;ui<$t.reverseChain.split("/").length-1;ui+=1)ti.push("null");ti.push(yn[qn].value),yn[qn].value="["+ti.join(" ")+"]"}}te("<<");for(var _i=0;_i<yn.length;_i++)te("/"+yn[_i].key+" "+yn[_i].value);te(">>"),$t.data.length!==0&&(te("stream"),te(Tt($t.data)),te("endstream"))},er=m.__private__.putPage=function(D){var re=D.number,_e=D.data,Le=D.objId,Ye=D.contentsObjId;$n(Le,!0),te("<</Type /Page"),te("/Parent "+D.rootDictionaryObjId+" 0 R"),te("/Resources "+D.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(k(D.mediaBox.bottomLeftX))+" "+parseFloat(k(D.mediaBox.bottomLeftY))+" "+k(D.mediaBox.topRightX)+" "+k(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&te("/CropBox ["+k(D.cropBox.bottomLeftX)+" "+k(D.cropBox.bottomLeftY)+" "+k(D.cropBox.topRightX)+" "+k(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&te("/BleedBox ["+k(D.bleedBox.bottomLeftX)+" "+k(D.bleedBox.bottomLeftY)+" "+k(D.bleedBox.topRightX)+" "+k(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&te("/TrimBox ["+k(D.trimBox.bottomLeftX)+" "+k(D.trimBox.bottomLeftY)+" "+k(D.trimBox.topRightX)+" "+k(D.trimBox.topRightY)+"]"),D.artBox!==null&&te("/ArtBox ["+k(D.artBox.bottomLeftX)+" "+k(D.artBox.bottomLeftY)+" "+k(D.artBox.topRightX)+" "+k(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&te("/UserUnit "+D.userUnit),An.publish("putPage",{objId:Le,pageContext:Gt[re],pageNumber:re,page:_e}),te("/Contents "+Ye+" 0 R"),te(">>"),te("endobj");var ct=_e.join(`
`);return N===C.ADVANCED&&(ct+=`
Q`),$n(Ye,!0),Ci({data:ct,filters:Jn(),objectId:Ye}),te("endobj"),Le},ro=m.__private__.putPages=function(){var D,re,_e=[];for(D=1;D<=Rn;D++)Gt[D].objId=fr(),Gt[D].contentsObjId=fr();for(D=1;D<=Rn;D++)_e.push(er({number:D,data:Re[D],objId:Gt[D].objId,contentsObjId:Gt[D].contentsObjId,mediaBox:Gt[D].mediaBox,cropBox:Gt[D].cropBox,bleedBox:Gt[D].bleedBox,trimBox:Gt[D].trimBox,artBox:Gt[D].artBox,userUnit:Gt[D].userUnit,rootDictionaryObjId:Nr,resourceDictionaryObjId:Ia}));$n(Nr,!0),te("<</Type /Pages");var Le="/Kids [";for(re=0;re<Rn;re++)Le+=_e[re]+" 0 R ";te(Le+"]"),te("/Count "+Rn),te(">>"),te("endobj"),An.publish("postPutPages")},Co=function(D){An.publish("putFont",{font:D,out:te,newObject:dr,putStream:Ci}),D.isAlreadyPutted!==!0&&(D.objectNumber=dr(),te("<<"),te("/Type /Font"),te("/BaseFont /"+D0(D.postScriptName)),te("/Subtype /Type1"),typeof D.encoding=="string"&&te("/Encoding /"+D.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},Fa=function(){for(var D in Lt)Lt.hasOwnProperty(D)&&(g===!1||g===!0&&b.hasOwnProperty(D))&&Co(Lt[D])},Fr=function(D){D.objectNumber=dr();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[k(D.x),k(D.y),k(D.x+D.width),k(D.y+D.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var _e=D.pages[1].join(`
`);Ci({data:_e,additionalKeyValues:re,objectId:D.objectNumber}),te("endobj")},il=function(){for(var D in Sr)Sr.hasOwnProperty(D)&&Fr(Sr[D])},Ul=function(D,re){var _e,Le=[],Ye=1/(re-1);for(_e=0;_e<1;_e+=Ye)Le.push(_e);if(Le.push(1),D[0].offset!=0){var ct={offset:0,color:D[0].color};D.unshift(ct)}if(D[D.length-1].offset!=1){var Ct={offset:1,color:D[D.length-1].color};D.push(Ct)}for(var Tt="",$t=0,yn=0;yn<Le.length;yn++){for(_e=Le[yn];_e>D[$t+1].offset;)$t++;var fn=D[$t].offset,qn=(_e-fn)/(D[$t+1].offset-fn),ti=D[$t].color,ui=D[$t+1].color;Tt+=ee(Math.round((1-qn)*ti[0]+qn*ui[0]).toString(16))+ee(Math.round((1-qn)*ti[1]+qn*ui[1]).toString(16))+ee(Math.round((1-qn)*ti[2]+qn*ui[2]).toString(16))}return Tt.trim()},Ou=function(D,re){re||(re=21);var _e=dr(),Le=Ul(D.colors,re),Ye=[];Ye.push({key:"FunctionType",value:"0"}),Ye.push({key:"Domain",value:"[0.0 1.0]"}),Ye.push({key:"Size",value:"["+re+"]"}),Ye.push({key:"BitsPerSample",value:"8"}),Ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ci({data:Le,additionalKeyValues:Ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),te("endobj"),D.objectNumber=dr(),te("<< /ShadingType "+D.type),te("/ColorSpace /DeviceRGB");var ct="/Coords ["+k(parseFloat(D.coords[0]))+" "+k(parseFloat(D.coords[1]))+" ";D.type===2?ct+=k(parseFloat(D.coords[2]))+" "+k(parseFloat(D.coords[3])):ct+=k(parseFloat(D.coords[2]))+" "+k(parseFloat(D.coords[3]))+" "+k(parseFloat(D.coords[4]))+" "+k(parseFloat(D.coords[5])),te(ct+="]"),D.matrix&&te("/Matrix ["+D.matrix.toString()+"]"),te("/Function "+_e+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},Hc=function(D,re){var _e=fr(),Le=dr();re.push({resourcesOid:_e,objectOid:Le}),D.objectNumber=Le;var Ye=[];Ye.push({key:"Type",value:"/Pattern"}),Ye.push({key:"PatternType",value:"1"}),Ye.push({key:"PaintType",value:"1"}),Ye.push({key:"TilingType",value:"1"}),Ye.push({key:"BBox",value:"["+D.boundingBox.map(k).join(" ")+"]"}),Ye.push({key:"XStep",value:k(D.xStep)}),Ye.push({key:"YStep",value:k(D.yStep)}),Ye.push({key:"Resources",value:_e+" 0 R"}),D.matrix&&Ye.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Ci({data:D.stream,additionalKeyValues:Ye,objectId:D.objectNumber}),te("endobj")},$s=function(D){var re;for(re in ln)ln.hasOwnProperty(re)&&(ln[re]instanceof Vh?Ou(ln[re]):ln[re]instanceof L0&&Hc(ln[re],D))},ys=function(D){for(var re in D.objectNumber=dr(),te("<<"),D)switch(re){case"opacity":te("/ca "+X(D[re]));break;case"stroke-opacity":te("/CA "+X(D[re]))}te(">>"),te("endobj")},Pa=function(){var D;for(D in zn)zn.hasOwnProperty(D)&&ys(zn[D])},xs=function(){for(var D in te("/XObject <<"),Sr)Sr.hasOwnProperty(D)&&Sr[D].objectNumber>=0&&te("/"+D+" "+Sr[D].objectNumber+" 0 R");An.publish("putXobjectDict"),te(">>")},rs=function(){li.oid=dr(),te("<<"),te("/Filter /Standard"),te("/V "+li.v),te("/R "+li.r),te("/U <"+li.toHexString(li.U)+">"),te("/O <"+li.toHexString(li.O)+">"),te("/P "+li.P),te(">>"),te("endobj")},is=function(){for(var D in te("/Font <<"),Lt)Lt.hasOwnProperty(D)&&(g===!1||g===!0&&b.hasOwnProperty(D))&&te("/"+D+" "+Lt[D].objectNumber+" 0 R");te(">>")},$l=function(){if(Object.keys(ln).length>0){for(var D in te("/Shading <<"),ln)ln.hasOwnProperty(D)&&ln[D]instanceof Vh&&ln[D].objectNumber>=0&&te("/"+D+" "+ln[D].objectNumber+" 0 R");An.publish("putShadingPatternDict"),te(">>")}},io=function(D){if(Object.keys(ln).length>0){for(var re in te("/Pattern <<"),ln)ln.hasOwnProperty(re)&&ln[re]instanceof m.TilingPattern&&ln[re].objectNumber>=0&&ln[re].objectNumber<D&&te("/"+re+" "+ln[re].objectNumber+" 0 R");An.publish("putTilingPatternDict"),te(">>")}},Wc=function(){if(Object.keys(zn).length>0){var D;for(D in te("/ExtGState <<"),zn)zn.hasOwnProperty(D)&&zn[D].objectNumber>=0&&te("/"+D+" "+zn[D].objectNumber+" 0 R");An.publish("putGStateDict"),te(">>")}},Pr=function(D){$n(D.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),is(),$l(),io(D.objectOid),Wc(),xs(),te(">>"),te("endobj")},Ji=function(){var D=[];Fa(),Pa(),il(),$s(D),An.publish("putResources"),D.forEach(Pr),Pr({resourcesOid:Ia,objectOid:Number.MAX_SAFE_INTEGER}),An.publish("postPutResources")},ao=function(){An.publish("putAdditionalObjects");for(var D=0;D<Ie.length;D++){var re=Ie[D];$n(re.objId,!0),te(re.content),te("endobj")}An.publish("postPutAdditionalObjects")},al=function(D){Zt[D.fontName]=Zt[D.fontName]||{},Zt[D.fontName][D.fontStyle]=D.id},za=function(D,re,_e,Le,Ye){var ct={id:"F"+(Object.keys(Lt).length+1).toString(10),postScriptName:D,fontName:re,fontStyle:_e,encoding:Le,isStandardFont:Ye||!1,metadata:{}};return An.publish("addFont",{font:ct,instance:this}),Lt[ct.id]=ct,al(ct),ct.id},Hl=function(D){for(var re=0,_e=Ae.length;re<_e;re++){var Le=za.call(this,D[re][0],D[re][1],D[re][2],Ae[re][3],!0);g===!1&&(b[Le]=!0);var Ye=D[re][0].split("-");al({id:Le,fontName:Ye[0],fontStyle:Ye[1]||""})}An.publish("addFonts",{fonts:Lt,dictionary:Zt})},ea=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(Le){var re=Le.stack||"";~re.indexOf(" at ")&&(re=re.split(" at ")[1]);var _e="Error in function "+re.split(`
`)[0].split("<")[0]+": "+Le.message;if(!cn.console)throw new Error(_e);cn.console.error(_e,Le),cn.alert&&alert(_e)}},D.foo.bar=D,D.foo},sl=function(D,re){var _e,Le,Ye,ct,Ct,Tt,$t,yn,fn;if(Ye=(re=re||{}).sourceEncoding||"Unicode",Ct=re.outputEncoding,(re.autoencode||Ct)&&Lt[dt].metadata&&Lt[dt].metadata[Ye]&&Lt[dt].metadata[Ye].encoding&&(ct=Lt[dt].metadata[Ye].encoding,!Ct&&Lt[dt].encoding&&(Ct=Lt[dt].encoding),!Ct&&ct.codePages&&(Ct=ct.codePages[0]),typeof Ct=="string"&&(Ct=ct[Ct]),Ct)){for($t=!1,Tt=[],_e=0,Le=D.length;_e<Le;_e++)(yn=Ct[D.charCodeAt(_e)])?Tt.push(String.fromCharCode(yn)):Tt.push(D[_e]),Tt[_e].charCodeAt(0)>>8&&($t=!0);D=Tt.join("")}for(_e=D.length;$t===void 0&&_e!==0;)D.charCodeAt(_e-1)>>8&&($t=!0),_e--;if(!$t)return D;for(Tt=re.noBOM?[]:[254,255],_e=0,Le=D.length;_e<Le;_e++){if((fn=(yn=D.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Tt.push(fn),Tt.push(yn-(fn<<8))}return String.fromCharCode.apply(void 0,Tt)},hr=m.__private__.pdfEscape=m.pdfEscape=function(D,re){return sl(D,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Eo=m.__private__.beginPage=function(D){Re[++Rn]=[],Gt[Rn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Hs(Rn),Se(Re[z])},Wl=function(D,re){var _e,Le,Ye;switch(t=re||t,typeof D=="string"&&(_e=w(D.toLowerCase()),Array.isArray(_e)&&(Le=_e[0],Ye=_e[1])),Array.isArray(D)&&(Le=D[0]*Je,Ye=D[1]*Je),isNaN(Le)&&(Le=i[0],Ye=i[1]),(Le>14400||Ye>14400)&&(Xr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Le=Math.min(14400,Le),Ye=Math.min(14400,Ye)),i=[Le,Ye],t.substr(0,1)){case"l":Ye>Le&&(i=[Ye,Le]);break;case"p":Le>Ye&&(i=[Ye,Le])}Eo(i),Bt(ot),te(Cr),dl!==0&&te(dl+" J"),jo!==0&&te(jo+" j"),An.publish("addPage",{pageNumber:Rn})},_o=function(D){D>0&&D<=Rn&&(Re.splice(D,1),Gt.splice(D,1),Rn--,z>Rn&&(z=Rn),this.setPage(z))},Hs=function(D){D>0&&D<=Rn&&(z=D)},Iu=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Re.length-1},Ws=function(D,re,_e){var Le,Ye=void 0;return _e=_e||{},D=D!==void 0?D:Lt[dt].fontName,re=re!==void 0?re:Lt[dt].fontStyle,Le=D.toLowerCase(),Zt[Le]!==void 0&&Zt[Le][re]!==void 0?Ye=Zt[Le][re]:Zt[D]!==void 0&&Zt[D][re]!==void 0?Ye=Zt[D][re]:_e.disableWarning===!1&&Xr.warn("Unable to look up font label for font '"+D+"', '"+re+"'. Refer to getFontList() for available fonts."),Ye||_e.noFallback||(Ye=Zt.times[re])==null&&(Ye=Zt.times.normal),Ye},qi=m.__private__.putInfo=function(){var D=dr(),re=function(Le){return Le};for(var _e in f!==null&&(re=li.encryptor(D,0)),te("<<"),te("/Producer ("+hr(re("jsPDF "+on.version))+")"),Te)Te.hasOwnProperty(_e)&&Te[_e]&&te("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+hr(re(Te[_e]))+")");te("/CreationDate ("+hr(re(G))+")"),te(">>"),te("endobj")},as=m.__private__.putCatalog=function(D){var re=(D=D||{}).rootDictionaryObjId||Nr;switch(dr(),te("<<"),te("/Type /Catalog"),te("/Pages "+re+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+ze;_e.substr(_e.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&te("/OpenAction [3 0 R /XYZ null null "+X(ze)+"]")}switch(Fe||(Fe="continuous"),Fe){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}lt&&te("/PageMode /"+lt),An.publish("putCatalog"),te(">>"),te("endobj")},vs=m.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(se+1)),te("/Root "+se+" 0 R"),te("/Info "+(se-1)+" 0 R"),f!==null&&te("/Encrypt "+li.oid+" 0 R"),te("/ID [ <"+W+"> <"+W+"> ]"),te(">>")},Du=m.__private__.putHeader=function(){te("%PDF-"+x),te("%")},qa=m.__private__.putXRef=function(){var D="0000000000";te("xref"),te("0 "+(se+1)),te("0000000000 65535 f ");for(var re=1;re<=se;re++)typeof we[re]=="function"?te((D+we[re]()).slice(-10)+" 00000 n "):we[re]!==void 0?te((D+we[re]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Vs=m.__private__.buildDocument=function(){V(),Se(xe),An.publish("buildDocument"),Du(),ro(),ao(),Ji(),f!==null&&rs(),qi(),as();var D=Ee;return qa(),vs(),te("startxref"),te(""+D),te("%%EOF"),Se(Re[z]),xe.join(`
`)},ol=m.__private__.getBlob=function(D){return new Blob([ce(D)],{type:"application/pdf"})},Ys=m.output=m.__private__.output=ea(function(D,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",D){case void 0:return Vs();case"save":m.save(re.filename);break;case"arraybuffer":return ce(Vs());case"blob":return ol(Vs());case"bloburi":case"bloburl":if(cn.URL!==void 0&&typeof cn.URL.createObjectURL=="function")return cn.URL&&cn.URL.createObjectURL(ol(Vs()))||void 0;Xr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Le=Vs();try{_e=FS(Le)}catch{_e=FS(unescape(encodeURIComponent(Le)))}return"data:application/pdf;filename="+re.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var Ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(Ye=re.pdfObjectUrl,ct="");var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ye+'"'+ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",Tt=cn.open();return Tt!==null&&Tt.document.write(Ct),Tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',yn=cn.open();if(yn!==null){yn.document.write($t);var fn=this;yn.document.documentElement.querySelector("#pdfViewer").onload=function(){yn.document.title=re.filename,yn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(fn.output("bloburl"))}}return yn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(cn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var qn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',ti=cn.open();if(ti!==null&&(ti.document.write(qn),ti.document.title=re.filename),ti||typeof safari>"u")return ti;break;case"datauri":case"dataurl":return cn.document.location.href=this.output("datauristring",re);default:return null}}),ll=function(D){return Array.isArray(ya)===!0&&ya.indexOf(D)>-1};switch(r){case"pt":Je=1;break;case"mm":Je=72/25.4;break;case"cm":Je=72/2.54;break;case"in":Je=72;break;case"px":Je=ll("px_scaling")==1?.75:96/72;break;case"pc":case"em":Je=12;break;case"ex":Je=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Je=r}var li=null;ae(),ie();var ei=function(D){return f!==null?li.encryptor(D,0):function(re){return re}},ws=m.__private__.getPageInfo=m.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Gt[D].objId,pageNumber:D,pageContext:Gt[D]}},tn=m.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in Gt)if(Gt[re].objId===D)break;return ws(re)},so=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Gt[z].objId,pageNumber:z,pageContext:Gt[z]}};m.addPage=function(){return Wl.apply(this,arguments),this},m.setPage=function(){return Hs.apply(this,arguments),Se.call(this,Re[z]),this},m.insertPage=function(D){return this.addPage(),this.movePage(z,D),this},m.movePage=function(D,re){var _e,Le;if(D>re){_e=Re[D],Le=Gt[D];for(var Ye=D;Ye>re;Ye--)Re[Ye]=Re[Ye-1],Gt[Ye]=Gt[Ye-1];Re[re]=_e,Gt[re]=Le,this.setPage(re)}else if(D<re){_e=Re[D],Le=Gt[D];for(var ct=D;ct<re;ct++)Re[ct]=Re[ct+1],Gt[ct]=Gt[ct+1];Re[re]=_e,Gt[re]=Le,this.setPage(re)}return this},m.deletePage=function(){return _o.apply(this,arguments),this},m.__private__.text=m.text=function(D,re,_e,Le,Ye){var ct,Ct,Tt,$t,yn,fn,qn,ti,ui,_i=(Le=Le||{}).scope||this;if(typeof D=="number"&&typeof re=="number"&&(typeof _e=="string"||Array.isArray(_e))){var ki=_e;_e=re,re=D,D=ki}if(arguments[3]instanceof Dt?(L("The transform parameter of text() with a Matrix value"),ui=Ye):(Tt=arguments[4],$t=arguments[5],Zr(qn=arguments[3])==="object"&&qn!==null||(typeof Tt=="string"&&($t=Tt,Tt=null),typeof qn=="string"&&($t=qn,qn=null),typeof qn=="number"&&(Tt=qn,qn=null),Le={flags:qn,angle:Tt,align:$t})),isNaN(re)||isNaN(_e)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return _i;var wa="",To=!1,Qs=typeof Le.lineHeightFactor=="number"?Le.lineHeightFactor:Oe,Oo=_i.internal.scaleFactor;function yh(Dn){return Dn=Dn.split("	").join(Array(Le.TabLen||9).join(" ")),hr(Dn,qn)}function Vl(Dn){for(var Ln,zr=Dn.concat(),Ni=[],uo=zr.length;uo--;)typeof(Ln=zr.shift())=="string"?Ni.push(Ln):Array.isArray(Dn)&&(Ln.length===1||Ln[1]===void 0&&Ln[2]===void 0)?Ni.push(Ln[0]):Ni.push([Ln[0],Ln[1],Ln[2]]);return Ni}function Yl(Dn,Ln){var zr;if(typeof Dn=="string")zr=Ln(Dn)[0];else if(Array.isArray(Dn)){for(var Ni,uo,Hu=Dn.concat(),Wu=[],Kl=Hu.length;Kl--;)typeof(Ni=Hu.shift())=="string"?Wu.push(Ln(Ni)[0]):Array.isArray(Ni)&&typeof Ni[0]=="string"&&(uo=Ln(Ni[0],Ni[1],Ni[2]),Wu.push([uo[0],uo[1],uo[2]]));zr=Wu}return zr}var Jd=!1,Ru=!0;if(typeof D=="string")Jd=!0;else if(Array.isArray(D)){var ef=D.concat();Ct=[];for(var Yc,ta=ef.length;ta--;)(typeof(Yc=ef.shift())!="string"||Array.isArray(Yc)&&typeof Yc[0]!="string")&&(Ru=!1);Jd=Ru}if(Jd===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Mu=De/_i.internal.scaleFactor,Gc=Mu*(Qs-1);switch(Le.baseline){case"bottom":_e-=Gc;break;case"top":_e+=Mu-Gc;break;case"hanging":_e+=Mu-2*Gc;break;case"middle":_e+=Mu/2-Gc}if((fn=Le.maxWidth||0)>0&&(typeof D=="string"?D=_i.splitTextToSize(D,fn):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(Dn,Ln){return Dn.concat(_i.splitTextToSize(Ln,fn))},[]))),ct={text:D,x:re,y:_e,options:Le,mutex:{pdfEscape:hr,activeFontKey:dt,fonts:Lt,activeFontSize:De}},An.publish("preProcessText",ct),D=ct.text,Tt=(Le=ct.options).angle,!(ui instanceof Dt)&&Tt&&typeof Tt=="number"){Tt*=Math.PI/180,Le.rotationDirection===0&&(Tt=-Tt),N===C.ADVANCED&&(Tt=-Tt);var Qc=Math.cos(Tt),tf=Math.sin(Tt);ui=new Dt(Qc,tf,-tf,Qc,0,0)}else Tt&&Tt instanceof Dt&&(ui=Tt);N!==C.ADVANCED||ui||(ui=ar),(yn=Le.charSpace||As)!==void 0&&(wa+=k(O(yn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ti=Le.horizontalScale)!==void 0&&(wa+=k(100*ti)+` Tz
`),Le.lang;var Cs=-1,Cm=Le.renderingMode!==void 0?Le.renderingMode:Le.stroke,xh=_i.internal.getCurrentPageInfo().pageContext;switch(Cm){case 0:case!1:case"fill":Cs=0;break;case 1:case!0:case"stroke":Cs=1;break;case 2:case"fillThenStroke":Cs=2;break;case 3:case"invisible":Cs=3;break;case 4:case"fillAndAddForClipping":Cs=4;break;case 5:case"strokeAndAddPathForClipping":Cs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Cs=6;break;case 7:case"addToPathForClipping":Cs=7}var Dp=xh.usedRenderingMode!==void 0?xh.usedRenderingMode:-1;Cs!==-1?wa+=Cs+` Tr
`:Dp!==-1&&(wa+=`0 Tr
`),Cs!==-1&&(xh.usedRenderingMode=Cs),$t=Le.align||"left";var lo,Sa=De*Qs,Fu=_i.internal.pageSize.getWidth(),vh=Lt[dt];yn=Le.charSpace||As,fn=Le.maxWidth||0,qn=Object.assign({autoencode:!0,noBOM:!0},Le.flags);var Gl=[],Pu=function(Dn){return _i.getStringUnitWidth(Dn,{font:vh,charSpace:yn,fontSize:De,doKerning:!1})*De/Oo};if(Object.prototype.toString.call(D)==="[object Array]"){var ss;Ct=Vl(D),$t!=="left"&&(lo=Ct.map(Pu));var La,zu=0;if($t==="right"){re-=lo[0],D=[],ta=Ct.length;for(var Es=0;Es<ta;Es++)Es===0?(La=pn(re),ss=jr(_e)):(La=O(zu-lo[Es]),ss=-Sa),D.push([Ct[Es],La,ss]),zu=lo[Es]}else if($t==="center"){re-=lo[0]/2,D=[],ta=Ct.length;for(var Io=0;Io<ta;Io++)Io===0?(La=pn(re),ss=jr(_e)):(La=O((zu-lo[Io])/2),ss=-Sa),D.push([Ct[Io],La,ss]),zu=lo[Io]}else if($t==="left"){D=[],ta=Ct.length;for(var fl=0;fl<ta;fl++)D.push(Ct[fl])}else if($t==="justify"&&vh.encoding==="Identity-H"){D=[],ta=Ct.length,fn=fn!==0?fn:Fu;for(var Do=0,mi=0;mi<ta;mi++)if(ss=mi===0?jr(_e):-Sa,La=mi===0?pn(re):Do,mi<ta-1){var Lo=O((fn-lo[mi])/(Ct[mi].split(" ").length-1)),Bi=Ct[mi].split(" ");D.push([Bi[0]+" ",La,ss]),Do=0;for(var _s=1;_s<Bi.length;_s++){var Kc=(Pu(Bi[_s-1]+" "+Bi[_s])-Pu(Bi[_s]))*Oo+Lo;_s==Bi.length-1?D.push([Bi[_s],Kc,0]):D.push([Bi[_s]+" ",Kc,0]),Do-=Kc}}else D.push([Ct[mi],La,ss]);D.push(["",Do,0])}else{if($t!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],ta=Ct.length,fn=fn!==0?fn:Fu,mi=0;mi<ta;mi++)ss=mi===0?jr(_e):-Sa,La=mi===0?pn(re):0,mi<ta-1?Gl.push(k(O((fn-lo[mi])/(Ct[mi].split(" ").length-1)))):Gl.push(0),D.push([Ct[mi],La,ss])}}var hl=typeof Le.R2L=="boolean"?Le.R2L:Xe;hl===!0&&(D=Yl(D,function(Dn,Ln,zr){return[Dn.split("").reverse().join(""),Ln,zr]})),ct={text:D,x:re,y:_e,options:Le,mutex:{pdfEscape:hr,activeFontKey:dt,fonts:Lt,activeFontSize:De}},An.publish("postProcessText",ct),D=ct.text,To=ct.mutex.isHex||!1;var nf=Lt[dt].encoding;nf!=="WinAnsiEncoding"&&nf!=="StandardEncoding"||(D=Yl(D,function(Dn,Ln,zr){return[yh(Dn),Ln,zr]})),Ct=Vl(D),D=[];for(var qu,Bu,Uu,Xc=0,rf=1,$u=Array.isArray(Ct[0])?rf:Xc,Ql="",Zc=function(Dn,Ln,zr){var Ni="";return zr instanceof Dt?(zr=typeof Le.angle=="number"?Hn(zr,new Dt(1,0,0,1,Dn,Ln)):Hn(new Dt(1,0,0,1,Dn,Ln),zr),N===C.ADVANCED&&(zr=Hn(new Dt(1,0,0,-1,0,0),zr)),Ni=zr.join(" ")+` Tm
`):Ni=k(Dn)+" "+k(Ln)+` Td
`,Ni},gi=0;gi<Ct.length;gi++){switch(Ql="",$u){case rf:Uu=(To?"<":"(")+Ct[gi][0]+(To?">":")"),qu=parseFloat(Ct[gi][1]),Bu=parseFloat(Ct[gi][2]);break;case Xc:Uu=(To?"<":"(")+Ct[gi]+(To?">":")"),qu=pn(re),Bu=jr(_e)}Gl!==void 0&&Gl[gi]!==void 0&&(Ql=Gl[gi]+` Tw
`),gi===0?D.push(Ql+Zc(qu,Bu,ui)+Uu):$u===Xc?D.push(Ql+Uu):$u===rf&&D.push(Ql+Zc(qu,Bu,ui)+Uu)}D=$u===Xc?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Ks=`BT
/`;return Ks+=dt+" "+De+` Tf
`,Ks+=k(De*Qs)+` TL
`,Ks+=Ha+`
`,Ks+=wa,Ks+=D,te(Ks+="ET"),b[dt]=!0,_i};var ul=m.__private__.clip=m.clip=function(D){return te(D==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return ul("evenodd")},m.__private__.discardPath=m.discardPath=function(){return te("n"),this};var Ei=m.__private__.isValidStyle=function(D){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(re=!0),re};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(D){return Ei(D)&&(d=D),this};var Ba=m.__private__.getStyle=m.getStyle=function(D){var re=d;switch(D){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=D}return re},ko=m.close=function(){return te("h"),this};m.stroke=function(){return te("S"),this},m.fill=function(D){return Ua("f",D),this},m.fillEvenOdd=function(D){return Ua("f*",D),this},m.fillStroke=function(D){return Ua("B",D),this},m.fillStrokeEvenOdd=function(D){return Ua("B*",D),this};var Ua=function(D,re){Zr(re)==="object"?No(re,D):te(D)},Da=function(D){D===null||N===C.ADVANCED&&D===void 0||(D=Ba(D),te(D))};function $a(D,re,_e,Le,Ye){var ct=new L0(re||this.boundingBox,_e||this.xStep,Le||this.yStep,this.gState,Ye||this.matrix);ct.stream=this.stream;var Ct=D+"$$"+this.cloneIndex+++"$$";return Mr(Ct,ct),ct}var No=function(D,re){var _e=Pn[D.key],Le=ln[_e];if(Le instanceof Vh)te("q"),te(cl(re)),Le.gState&&m.setGState(Le.gState),te(D.matrix.toString()+" cm"),te("/"+_e+" sh"),te("Q");else if(Le instanceof L0){var Ye=new Dt(1,0,0,-1,0,Lu());D.matrix&&(Ye=Ye.multiply(D.matrix||ar),_e=$a.call(Le,D.key,D.boundingBox,D.xStep,D.yStep,Ye).id),te("q"),te("/Pattern cs"),te("/"+_e+" scn"),Le.gState&&m.setGState(Le.gState),te(re),te("Q")}},cl=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},oo=m.moveTo=function(D,re){return te(k(O(D))+" "+k(T(re))+" m"),this},Ss=m.lineTo=function(D,re){return te(k(O(D))+" "+k(T(re))+" l"),this},H=m.curveTo=function(D,re,_e,Le,Ye,ct){return te([k(O(D)),k(T(re)),k(O(_e)),k(T(Le)),k(O(Ye)),k(T(ct)),"c"].join(" ")),this};m.__private__.line=m.line=function(D,re,_e,Le,Ye){if(isNaN(D)||isNaN(re)||isNaN(_e)||isNaN(Le)||!Ei(Ye))throw new Error("Invalid arguments passed to jsPDF.line");return N===C.COMPAT?this.lines([[_e-D,Le-re]],D,re,[1,1],Ye||"S"):this.lines([[_e-D,Le-re]],D,re,[1,1]).stroke()},m.__private__.lines=m.lines=function(D,re,_e,Le,Ye,ct){var Ct,Tt,$t,yn,fn,qn,ti,ui,_i,ki,wa,To;if(typeof D=="number"&&(To=_e,_e=re,re=D,D=To),Le=Le||[1,1],ct=ct||!1,isNaN(re)||isNaN(_e)||!Array.isArray(D)||!Array.isArray(Le)||!Ei(Ye)||typeof ct!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(oo(re,_e),Ct=Le[0],Tt=Le[1],yn=D.length,ki=re,wa=_e,$t=0;$t<yn;$t++)(fn=D[$t]).length===2?(ki=fn[0]*Ct+ki,wa=fn[1]*Tt+wa,Ss(ki,wa)):(qn=fn[0]*Ct+ki,ti=fn[1]*Tt+wa,ui=fn[2]*Ct+ki,_i=fn[3]*Tt+wa,ki=fn[4]*Ct+ki,wa=fn[5]*Tt+wa,H(qn,ti,ui,_i,ki,wa));return ct&&ko(),Da(Ye),this},m.path=function(D){for(var re=0;re<D.length;re++){var _e=D[re],Le=_e.c;switch(_e.op){case"m":oo(Le[0],Le[1]);break;case"l":Ss(Le[0],Le[1]);break;case"c":H.apply(this,Le);break;case"h":ko()}}return this},m.__private__.rect=m.rect=function(D,re,_e,Le,Ye){if(isNaN(D)||isNaN(re)||isNaN(_e)||isNaN(Le)||!Ei(Ye))throw new Error("Invalid arguments passed to jsPDF.rect");return N===C.COMPAT&&(Le=-Le),te([k(O(D)),k(T(re)),k(O(_e)),k(O(Le)),"re"].join(" ")),Da(Ye),this},m.__private__.triangle=m.triangle=function(D,re,_e,Le,Ye,ct,Ct){if(isNaN(D)||isNaN(re)||isNaN(_e)||isNaN(Le)||isNaN(Ye)||isNaN(ct)||!Ei(Ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-D,Le-re],[Ye-_e,ct-Le],[D-Ye,re-ct]],D,re,[1,1],Ct,!0),this},m.__private__.roundedRect=m.roundedRect=function(D,re,_e,Le,Ye,ct,Ct){if(isNaN(D)||isNaN(re)||isNaN(_e)||isNaN(Le)||isNaN(Ye)||isNaN(ct)||!Ei(Ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Tt=4/3*(Math.SQRT2-1);return Ye=Math.min(Ye,.5*_e),ct=Math.min(ct,.5*Le),this.lines([[_e-2*Ye,0],[Ye*Tt,0,Ye,ct-ct*Tt,Ye,ct],[0,Le-2*ct],[0,ct*Tt,-Ye*Tt,ct,-Ye,ct],[2*Ye-_e,0],[-Ye*Tt,0,-Ye,-ct*Tt,-Ye,-ct],[0,2*ct-Le],[0,-ct*Tt,Ye*Tt,-ct,Ye,-ct]],D+Ye,re,[1,1],Ct,!0),this},m.__private__.ellipse=m.ellipse=function(D,re,_e,Le,Ye){if(isNaN(D)||isNaN(re)||isNaN(_e)||isNaN(Le)||!Ei(Ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ct=4/3*(Math.SQRT2-1)*_e,Ct=4/3*(Math.SQRT2-1)*Le;return oo(D+_e,re),H(D+_e,re-Ct,D+ct,re-Le,D,re-Le),H(D-ct,re-Le,D-_e,re-Ct,D-_e,re),H(D-_e,re+Ct,D-ct,re+Le,D,re+Le),H(D+ct,re+Le,D+_e,re+Ct,D+_e,re),Da(Ye),this},m.__private__.circle=m.circle=function(D,re,_e,Le){if(isNaN(D)||isNaN(re)||isNaN(_e)||!Ei(Le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,re,_e,_e,Le)},m.setFont=function(D,re,_e){return _e&&(re=q(re,_e)),dt=Ws(D,re,{disableWarning:!1}),this};var me=m.__private__.getFont=m.getFont=function(){return Lt[Ws.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var D,re,_e={};for(D in Zt)if(Zt.hasOwnProperty(D))for(re in _e[D]=[],Zt[D])Zt[D].hasOwnProperty(re)&&_e[D].push(re);return _e},m.addFont=function(D,re,_e,Le,Ye){var ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ct.indexOf(arguments[3])!==-1?Ye=arguments[3]:arguments[3]&&ct.indexOf(arguments[3])==-1&&(_e=q(_e,Le)),Ye=Ye||"Identity-H",za.call(this,D,re,_e,Ye)};var Oe,ot=e.lineWidth||.200025,Jt=m.__private__.getLineWidth=m.getLineWidth=function(){return ot},Bt=m.__private__.setLineWidth=m.setLineWidth=function(D){return ot=D,te(k(O(D))+" w"),this};m.__private__.setLineDash=on.API.setLineDash=on.API.setLineDashPattern=function(D,re){if(D=D||[],re=re||0,isNaN(re)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(_e){return k(O(_e))}).join(" "),re=k(O(re)),te("["+D+"] "+re+" d"),this};var jn=m.__private__.getLineHeight=m.getLineHeight=function(){return De*Oe};m.__private__.getLineHeight=m.getLineHeight=function(){return De*Oe};var Cn=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(Oe=D),this},pr=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Oe};Cn(e.lineHeight);var pn=m.__private__.getHorizontalCoordinate=function(D){return O(D)},jr=m.__private__.getVerticalCoordinate=function(D){return N===C.ADVANCED?D:Gt[z].mediaBox.topRightY-Gt[z].mediaBox.bottomLeftY-O(D)},va=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(D){return k(pn(D))},Ar=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(D){return k(jr(D))},Cr=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Pi(Cr)},m.__private__.setStrokeColor=m.setDrawColor=function(D,re,_e,Le){return Cr=zi({ch1:D,ch2:re,ch3:_e,ch4:Le,pdfColorType:"draw",precision:2}),te(Cr),this};var Qr=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Pi(Qr)},m.__private__.setFillColor=m.setFillColor=function(D,re,_e,Le){return Qr=zi({ch1:D,ch2:re,ch3:_e,ch4:Le,pdfColorType:"fill",precision:2}),te(Qr),this};var Ha=e.textColor||"0 g",Gs=m.__private__.getTextColor=m.getTextColor=function(){return Pi(Ha)};m.__private__.setTextColor=m.setTextColor=function(D,re,_e,Le){return Ha=zi({ch1:D,ch2:re,ch3:_e,ch4:Le,pdfColorType:"text",precision:3}),this};var As=e.charSpace,Gd=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(As||0)};m.__private__.setCharSpace=m.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return As=D,this};var dl=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(D){var re=m.CapJoinStyles[D];if(re===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dl=re,te(re+" J"),this};var jo=0;m.__private__.setLineJoin=m.setLineJoin=function(D){var re=m.CapJoinStyles[D];if(re===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jo=re,te(re+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(k(O(D))+" M"),this},m.GState=Yx,m.setGState=function(D){(D=typeof D=="string"?zn[Gr[D]]:Ip(null,D)).equals(ir)||(te("/"+D.id+" gs"),ir=D)};var Ip=function(D,re){if(!D||!Gr[D]){var _e=!1;for(var Le in zn)if(zn.hasOwnProperty(Le)&&zn[Le].equals(re)){_e=!0;break}if(_e)re=zn[Le];else{var Ye="GS"+(Object.keys(zn).length+1).toString(10);zn[Ye]=re,re.id=Ye}return D&&(Gr[D]=re.id),An.publish("addGState",re),re}};m.addGState=function(D,re){return Ip(D,re),this},m.saveGraphicsState=function(){return te("q"),nn.push({key:dt,size:De,color:Ha}),this},m.restoreGraphicsState=function(){te("Q");var D=nn.pop();return dt=D.key,De=D.size,Ha=D.color,ir=null,this},m.setCurrentTransformationMatrix=function(D){return te(D.toString()+" cm"),this},m.comment=function(D){return te("#"+D),this};var Qd=function(D,re){var _e=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(ct){isNaN(ct)||(_e=parseFloat(ct))}});var Le=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Le},set:function(ct){isNaN(ct)||(Le=parseFloat(ct))}});var Ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ye},set:function(ct){Ye=ct.toString()}}),this},mh=function(D,re,_e,Le){Qd.call(this,D,re),this.type="rect";var Ye=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ye},set:function(Ct){isNaN(Ct)||(Ye=parseFloat(Ct))}});var ct=Le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ct},set:function(Ct){isNaN(Ct)||(ct=parseFloat(Ct))}}),this},gh=function(){this.page=Rn,this.currentPage=z,this.pages=Re.slice(0),this.pagesContext=Gt.slice(0),this.x=Ft,this.y=kt,this.matrix=Vt,this.width=Vc(z),this.height=Lu(z),this.outputDestination=Ve,this.id="",this.objectNumber=-1};gh.prototype.restore=function(){Rn=this.page,z=this.currentPage,Gt=this.pagesContext,Re=this.pages,Ft=this.x,kt=this.y,Vt=this.matrix,Zd(z,this.width),bh(z,this.height),Ve=this.outputDestination};var Kd=function(D,re,_e,Le,Ye){xa.push(new gh),Rn=z=0,Re=[],Ft=D,kt=re,Vt=Ye,Eo([_e,Le])},Am=function(D){if(oi[D])xa.pop().restore();else{var re=new gh,_e="Xo"+(Object.keys(Sr).length+1).toString(10);re.id=_e,oi[D]=_e,Sr[_e]=re,An.publish("addFormObject",re),xa.pop().restore()}};for(var Xd in m.beginFormObject=function(D,re,_e,Le,Ye){return Kd(D,re,_e,Le,Ye),this},m.endFormObject=function(D){return Am(D),this},m.doFormObject=function(D,re){var _e=Sr[oi[D]];return te("q"),te(re.toString()+" cm"),te("/"+_e.id+" Do"),te("Q"),this},m.getFormObject=function(D){var re=Sr[oi[D]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},m.save=function(D,re){return D=D||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(Wh(ol(Vs()),D),typeof Wh.unload=="function"&&cn.setTimeout&&setTimeout(Wh.unload,911),this):new Promise(function(_e,Le){try{var Ye=Wh(ol(Vs()),D);typeof Wh.unload=="function"&&cn.setTimeout&&setTimeout(Wh.unload,911),_e(Ye)}catch(ct){Le(ct.message)}})},on.API)on.API.hasOwnProperty(Xd)&&(Xd==="events"&&on.API.events.length?function(D,re){var _e,Le,Ye;for(Ye=re.length-1;Ye!==-1;Ye--)_e=re[Ye][0],Le=re[Ye][1],D.subscribe.apply(D,[_e].concat(typeof Le=="function"?[Le]:Le))}(An,on.API.events):m[Xd]=on.API[Xd]);var Vc=m.getPageWidth=function(D){return(Gt[D=D||z].mediaBox.topRightX-Gt[D].mediaBox.bottomLeftX)/Je},Zd=m.setPageWidth=function(D,re){Gt[D].mediaBox.topRightX=re*Je+Gt[D].mediaBox.bottomLeftX},Lu=m.getPageHeight=function(D){return(Gt[D=D||z].mediaBox.topRightY-Gt[D].mediaBox.bottomLeftY)/Je},bh=m.setPageHeight=function(D,re){Gt[D].mediaBox.topRightY=re*Je+Gt[D].mediaBox.bottomLeftY};return m.internal={pdfEscape:hr,getStyle:Ba,getFont:me,getFontSize:Ne,getCharSpace:Gd,getTextColor:Gs,getLineHeight:jn,getLineHeightFactor:pr,getLineWidth:Jt,write:be,getHorizontalCoordinate:pn,getVerticalCoordinate:jr,getCoordinateString:va,getVerticalCoordinateString:Ar,collections:{},newObject:dr,newAdditionalObject:bs,newObjectDeferred:fr,newObjectDeferredBegin:$n,getFilters:Jn,putStream:Ci,events:An,scaleFactor:Je,pageSize:{getWidth:function(){return Vc(z)},setWidth:function(D){Zd(z,D)},getHeight:function(){return Lu(z)},setHeight:function(D){bh(z,D)}},encryptionOptions:f,encryption:li,getEncryptor:ei,output:Ys,getNumberOfPages:Iu,pages:Re,out:te,f2:X,f3:j,getPageInfo:ws,getPageInfoByObjId:tn,getCurrentPageInfo:so,getPDFVersion:y,Point:Qd,Rectangle:mh,Matrix:Dt,hasHotfix:ll},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Vc(z)},set:function(D){Zd(z,D)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Lu(z)},set:function(D){bh(z,D)},enumerable:!0,configurable:!0}),Hl.call(m,Ae),dt="F1",Wl(i,t),An.publish("initialized"),m}I0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},I0.prototype.toHexString=function(e){return e.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I0.prototype.hexToBytes=function(e){for(var n=[],t=0;t<e.length;t+=2)n.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return n.join("")},I0.prototype.processOwnerPassword=function(e,n){return zS(PS(n).substr(0,5),e)},I0.prototype.encryptor=function(e,n){var t=PS(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&n,n>>8&255)).substr(0,10);return function(r){return zS(t,r)}},Yx.prototype.equals=function(e){var n,t="id,objectNumber,equals";if(!e||Zr(e)!==Zr(this))return!1;var r=0;for(n in this)if(!(t.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!e.hasOwnProperty(n)||this[n]!==e[n])return!1;r++}for(n in e)e.hasOwnProperty(n)&&t.indexOf(n)<0&&r--;return r===0},on.API={events:[]},on.version="3.0.1";var Qi=on.API,xA=1,jp=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},d0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},wn=function(e){return e.toFixed(2)},If=function(e){return e.toFixed(5)};Qi.__acroform__={};var Ao=function(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e},V8=function(e){return e*xA},sc=function(e){var n=new rI,t=qt.internal.getHeight(e)||0,r=qt.internal.getWidth(e)||0;return n.BBox=[0,0,Number(wn(r)),Number(wn(t))],n},sK=Qi.__acroform__.setBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<n},oK=Qi.__acroform__.clearBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<n)},lK=Qi.__acroform__.getBit=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<n)==0?0:1},oa=Qi.__acroform__.getBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return lK(e,n-1)},la=Qi.__acroform__.setBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return sK(e,n-1)},ua=Qi.__acroform__.clearBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return oK(e,n-1)},uK=Qi.__acroform__.calculateCoordinates=function(e,n){var t=n.internal.getHorizontalCoordinate,r=n.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],l=e[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=r(a+l)||0,u.upperRight_X=t(i+s)||0,u.upperRight_Y=r(a)||0,[Number(wn(u.lowerLeft_X)),Number(wn(u.lowerLeft_Y)),Number(wn(u.upperRight_X)),Number(wn(u.upperRight_Y))]},cK=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var n=[],t=e._V||e.DV,r=qS(e,t),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(e.scope.__private__.encodeColorString(e.color)),n.push("/"+i+" "+wn(r.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(r.text),n.push("ET"),n.push("Q"),n.push("EMC");var a=sc(e);return a.scope=e.scope,a.stream=n.join(`
`),a}},qS=function(e,n){var t=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(n=(n=n.substr(0,1)=="("?n.substr(1):n).substr(n.length-1)==")"?n.substr(0,n.length-1):n).split(" ");i=e.multiline?i.map(function(j){return j.split(`
`)}):i.map(function(j){return[j]});var a=t,s=qt.internal.getHeight(e)||0;s=s<0?-s:s;var l=qt.internal.getWidth(e)||0;l=l<0?-l:l;var u=function(j,O,P){if(j+1<i.length){var T=O+" "+i[j+1][0];return My(T,e,P).width<=l-4}return!1};a++;e:for(;a>0;){n="",a--;var d,f,g=My("3",e,a).height,b=e.multiline?s-a:(s-g)/2,m=b+=2,x=0,y=0,A=0;if(a<=0){n=`(...) Tj
`,n+="% Width of Text: "+My(n,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var w="",C=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var R=!1;if(i[N].length!==1&&A!==i[N].length-1){if((g+2)*(C+2)+2>s)continue e;w+=i[N][A],R=!0,y=N,N--}else{w=(w+=i[N][A]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var F=parseInt(N),q=u(F,w,a),k=N>=i.length-1;if(q&&!k){w+=" ",A=0;continue}if(q||k){if(k)y=F;else if(e.multiline&&(g+2)*(C+2)+2>s)continue e}else{if(!e.multiline||(g+2)*(C+2)+2>s)continue e;y=F}}for(var L="",B=x;B<=y;B++){var X=i[B];if(e.multiline){if(B===y){L+=X[A]+" ",A=(A+1)%X.length;continue}if(B===x){L+=X[X.length-1]+" ";continue}}L+=X[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,f=My(L,e,a).width,e.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;case"left":default:d=2}n+=wn(d)+" "+wn(m)+` Td
`,n+="("+jp(L)+`) Tj
`,n+=-wn(d)+` 0 Td
`,m=-(a+2),f=0,x=R?y:y+1,C++,w=""}break}return r.text=n,r.fontSize=a,r},My=function(e,n,t){var r=n.scope.internal.getFont(n.fontName,n.fontStyle),i=n.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:n.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},dK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},fK=function(e,n){var t={type:"reference",object:e};n.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&n.internal.getPageInfo(e.page).pageContext.annotations.push(t)},hK=function(e,n){for(var t in e)if(e.hasOwnProperty(t)){var r=t,i=e[t];n.internal.newObjectDeferredBegin(i.objId,!0),Zr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},pK=function(e,n){if(n.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ku.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(dK)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");xA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new iI,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&fK(a,t)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(t){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var l=r[s],u=[],d=l.Rect;if(l.Rect&&(l.Rect=uK(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=qt.createDefaultAppearanceStream(l),Zr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=cK(l);u.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var g="";for(var b in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(b)){var m=l.appearanceStreamContent[b];if(g+="/"+b+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var s in m)if(m.hasOwnProperty(s)){var x=m[s];typeof x=="function"&&(x=x.call(i,l)),g+="/"+s+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(i,l)),g+="/"+s+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);g+=">>"}u.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:l.objId}),i.internal.out("endobj")}a&&hK(i.internal.acroformPlugin.xForms,i)})(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},nI=Qi.__acroform__.arrayToPdfArray=function(e,n,t){var r=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Zr(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(n!==void 0&&t&&(r=t.internal.getEncryptor(n)),i+="("+jp(r(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},hw=function(e,n,t){var r=function(i){return i};return n!==void 0&&t&&(r=t.internal.getEncryptor(n)),(e=e||"").toString(),e="("+jp(r(e))+")"},Ac=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ac.prototype.toString=function(){return this.objId+" 0 R"},Ac.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ac.prototype.getKeyValueListForStream=function(){var e=[],n=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in n)if(Object.getOwnPropertyDescriptor(this,n[t]).configurable===!1){var r=n[t],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:nI(i,this.objId,this.scope)}):i instanceof Ac?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var rI=function(){Ac.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Ao(rI,Ac);var iI=function(){Ac.call(this);var e,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+jp(t(e))+")"}},set:function(t){e=t}})};Ao(iI,Ac);var ku=function e(){Ac.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');n=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!oa(n,3)},set:function(w){w?this.F=la(n,3):this.F=ua(n,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Gx)return;a="FieldObject"+e.FieldNum++}var w=function(C){return C};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+jp(w(a))+")"},set:function(w){a=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(w){a=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/xA:d},set:function(w){d=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Gx||this instanceof ap))return hw(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=w}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ka?b:hw(b,this.objId,this.scope)},set:function(w){w=w.toString(),b=this instanceof Ka?w:w.substr(0,1)==="("?d0(w.substr(1,w.length-2)):d0(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ka?d0(b.substr(1,b.length-1)):b},set:function(w){w=w.toString(),b=this instanceof Ka?"/"+w:w}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ka?m:hw(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof Ka?w:w.substr(0,1)==="("?d0(w.substr(1,w.length-2)):d0(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ka?d0(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof Ka?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(w){w=!!w,y=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(w){x=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,1)},set:function(w){w?this.Ff=la(this.Ff,1):this.Ff=ua(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,2)},set:function(w){w?this.Ff=la(this.Ff,2):this.Ff=ua(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,3)},set:function(w){w?this.Ff=la(this.Ff,3):this.Ff=ua(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');A=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(A){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};Ao(ku,Ac);var B0=function(){ku.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return nI(n,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(a,s,l){l||(l=1);for(var u,d=[];u=s.exec(a);)d.push(u[l]);return d}(r,/\((.*?)\)/g)),n=i}}),this.getOptions=function(){return n},this.setOptions=function(t){n=t,this.sort&&n.sort()},this.addOption=function(t){t=(t=t||"").toString(),n.push(t),this.sort&&n.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();n.indexOf(t)!==-1&&(n.splice(n.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,18)},set:function(t){t?this.Ff=la(this.Ff,18):this.Ff=ua(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=la(this.Ff,19):this.Ff=ua(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,20)},set:function(t){t?(this.Ff=la(this.Ff,20),n.sort()):this.Ff=ua(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,22)},set:function(t){t?this.Ff=la(this.Ff,22):this.Ff=ua(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,23)},set:function(t){t?this.Ff=la(this.Ff,23):this.Ff=ua(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,27)},set:function(t){t?this.Ff=la(this.Ff,27):this.Ff=ua(this.Ff,27)}}),this.hasAppearanceStream=!1};Ao(B0,ku);var U0=function(){B0.call(this),this.fontName="helvetica",this.combo=!1};Ao(U0,B0);var $0=function(){U0.call(this),this.combo=!0};Ao($0,U0);var sx=function(){$0.call(this),this.edit=!0};Ao(sx,$0);var Ka=function(){ku.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,15)},set:function(t){t?this.Ff=la(this.Ff,15):this.Ff=ua(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,16)},set:function(t){t?this.Ff=la(this.Ff,16):this.Ff=ua(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,17)},set:function(t){t?this.Ff=la(this.Ff,17):this.Ff=ua(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,26)},set:function(t){t?this.Ff=la(this.Ff,26):this.Ff=ua(this.Ff,26)}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(n).length!==0){var r,i=[];for(r in i.push("<<"),n)i.push("/"+r+" ("+jp(t(n[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Zr(t)==="object"&&(n=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(t){typeof t=="string"&&(n.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Ao(Ka,ku);var ox=function(){Ka.call(this),this.pushButton=!0};Ao(ox,Ka);var H0=function(){Ka.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n!==void 0?n:[]}})};Ao(H0,Ka);var Gx=function(){var e,n;ku.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(i){n=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+jp(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Zr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=qt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ao(Gx,ku),H0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var t=this.Kids[n];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},H0.prototype.createOption=function(e){var n=new Gx;return n.Parent=this,n.optionName=e,this.Kids.push(n),mK.call(this.scope,n),n};var lx=function(){Ka.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=qt.CheckBox.createAppearanceStream()};Ao(lx,Ka);var ap=function(){ku.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,13)},set:function(n){n?this.Ff=la(this.Ff,13):this.Ff=ua(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,21)},set:function(n){n?this.Ff=la(this.Ff,21):this.Ff=ua(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,23)},set:function(n){n?this.Ff=la(this.Ff,23):this.Ff=ua(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,24)},set:function(n){n?this.Ff=la(this.Ff,24):this.Ff=ua(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,25)},set:function(n){n?this.Ff=la(this.Ff,25):this.Ff=ua(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,26)},set:function(n){n?this.Ff=la(this.Ff,26):this.Ff=ua(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){Number.isInteger(n)&&(e=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ao(ap,ku);var ux=function(){ap.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,14)},set:function(e){e?this.Ff=la(this.Ff,14):this.Ff=ua(this.Ff,14)}}),this.password=!0};Ao(ux,ap);var qt={CheckBox:{createAppearanceStream:function(){return{N:{On:qt.CheckBox.YesNormal},D:{On:qt.CheckBox.YesPushDown,Off:qt.CheckBox.OffPushDown}}},YesPushDown:function(e){var n=sc(e);n.scope=e.scope;var t=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=qS(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+wn(qt.internal.getWidth(e))+" "+wn(qt.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+wn(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),n.stream=t.join(`
`),n},YesNormal:function(e){var n=sc(e);n.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=qt.internal.getHeight(e),s=qt.internal.getWidth(e),l=qS(e,e.caption);return i.push("1 g"),i.push("0 0 "+wn(s)+" "+wn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+wn(s-1)+" "+wn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+wn(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),n.stream=i.join(`
`),n},OffPushDown:function(e){var n=sc(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+wn(qt.internal.getWidth(e))+" "+wn(qt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}},RadioButton:{Circle:{createAppearanceStream:function(e){var n={D:{Off:qt.RadioButton.Circle.OffPushDown},N:{}};return n.N[e]=qt.RadioButton.Circle.YesNormal,n.D[e]=qt.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(e){var n=sc(e);n.scope=e.scope;var t=[],r=qt.internal.getWidth(e)<=qt.internal.getHeight(e)?qt.internal.getWidth(e)/4:qt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=qt.internal.Bezier_C,a=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+If(qt.internal.getWidth(e)/2)+" "+If(qt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=sc(e);n.scope=e.scope;var t=[],r=qt.internal.getWidth(e)<=qt.internal.getHeight(e)?qt.internal.getWidth(e)/4:qt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*qt.internal.Bezier_C).toFixed(5)),s=Number((r*qt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+If(qt.internal.getWidth(e)/2)+" "+If(qt.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+If(qt.internal.getWidth(e)/2)+" "+If(qt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},OffPushDown:function(e){var n=sc(e);n.scope=e.scope;var t=[],r=qt.internal.getWidth(e)<=qt.internal.getHeight(e)?qt.internal.getWidth(e)/4:qt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*qt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+If(qt.internal.getWidth(e)/2)+" "+If(qt.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n}},Cross:{createAppearanceStream:function(e){var n={D:{Off:qt.RadioButton.Cross.OffPushDown},N:{}};return n.N[e]=qt.RadioButton.Cross.YesNormal,n.D[e]=qt.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(e){var n=sc(e);n.scope=e.scope;var t=[],r=qt.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+wn(qt.internal.getWidth(e)-2)+" "+wn(qt.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(wn(r.x1.x)+" "+wn(r.x1.y)+" m"),t.push(wn(r.x2.x)+" "+wn(r.x2.y)+" l"),t.push(wn(r.x4.x)+" "+wn(r.x4.y)+" m"),t.push(wn(r.x3.x)+" "+wn(r.x3.y)+" l"),t.push("s"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=sc(e);n.scope=e.scope;var t=qt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+wn(qt.internal.getWidth(e))+" "+wn(qt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+wn(qt.internal.getWidth(e)-2)+" "+wn(qt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(wn(t.x1.x)+" "+wn(t.x1.y)+" m"),r.push(wn(t.x2.x)+" "+wn(t.x2.y)+" l"),r.push(wn(t.x4.x)+" "+wn(t.x4.y)+" m"),r.push(wn(t.x3.x)+" "+wn(t.x3.y)+" l"),r.push("s"),r.push("Q"),n.stream=r.join(`
`),n},OffPushDown:function(e){var n=sc(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+wn(qt.internal.getWidth(e))+" "+wn(qt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}}},createDefaultAppearanceStream:function(e){var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+n+" "+e.fontSize+" Tf "+t}};qt.internal={Bezier_C:.551915024494,calculateCross:function(e){var n=qt.internal.getWidth(e),t=qt.internal.getHeight(e),r=Math.min(n,t);return{x1:{x:(n-r)/2,y:(t-r)/2+r},x2:{x:(n-r)/2+r,y:(t-r)/2},x3:{x:(n-r)/2,y:(t-r)/2},x4:{x:(n-r)/2+r,y:(t-r)/2+r}}}},qt.internal.getWidth=function(e){var n=0;return Zr(e)==="object"&&(n=V8(e.Rect[2])),n},qt.internal.getHeight=function(e){var n=0;return Zr(e)==="object"&&(n=V8(e.Rect[3])),n};var mK=Qi.addField=function(e){if(pK(this,e),!(e instanceof ku))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=e).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Qi.AcroFormChoiceField=B0,Qi.AcroFormListBox=U0,Qi.AcroFormComboBox=$0,Qi.AcroFormEditBox=sx,Qi.AcroFormButton=Ka,Qi.AcroFormPushButton=ox,Qi.AcroFormRadioButton=H0,Qi.AcroFormCheckBox=lx,Qi.AcroFormTextField=ap,Qi.AcroFormPasswordField=ux,Qi.AcroFormAppearance=qt,Qi.AcroForm={ChoiceField:B0,ListBox:U0,ComboBox:$0,EditBox:sx,Button:Ka,PushButton:ox,RadioButton:H0,CheckBox:lx,TextField:ap,PasswordField:ux,Appearance:qt},on.AcroForm={ChoiceField:B0,ListBox:U0,ComboBox:$0,EditBox:sx,Button:Ka,PushButton:ox,RadioButton:H0,CheckBox:lx,TextField:ap,PasswordField:ux,Appearance:qt};on.AcroForm;function aI(e){return e.reduce(function(n,t,r){return n[t]=r,n},{})}(function(e){e.__addimage__={};var n="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(j,O){var P,T,G,W,K,ie=n;if((O=O||n)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(q(j))for(K in t)for(G=t[K],P=0;P<G.length;P+=1){for(W=!0,T=0;T<G[P].length;T+=1)if(G[P][T]!==void 0&&G[P][T]!==j[T]){W=!1;break}if(W===!0){ie=K;break}}else for(K in t)for(G=t[K],P=0;P<G.length;P+=1){for(W=!0,T=0;T<G[P].length;T+=1)if(G[P][T]!==void 0&&G[P][T]!==j.charCodeAt(T)){W=!1;break}if(W===!0){ie=K;break}}return ie===n&&O!==n&&(ie=O),ie},i=function j(O){for(var P=this.internal.write,T=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:O.width}),W.push({key:"Height",value:O.height}),O.colorSpace===A.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===A.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var K="",ie=0,ue=O.transparency.length;ie<ue;ie++)K+=O.transparency[ie]+" "+O.transparency[ie]+" ";W.push({key:"Mask",value:"["+K+"]"})}O.sMask!==void 0&&W.push({key:"SMask",value:O.objectId+1+" 0 R"});var $=O.filter!==void 0?["/"+O.filter]:void 0;if(T({data:O.data,additionalKeyValues:W,alreadyAppliedFilters:$,objectId:O.objectId}),P("endobj"),"sMask"in O&&O.sMask!==void 0){var ae="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,U={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:ae,data:O.sMask};"filter"in O&&(U.filter=O.filter),j.call(this,U)}if(O.colorSpace===A.INDEXED){var z=this.internal.newObject();T({data:L(new Uint8Array(O.palette)),objectId:z}),P("endobj")}},a=function(){var j=this.internal.collections.addImage_images;for(var O in j)i.call(this,j[O])},s=function(){var j,O=this.internal.collections.addImage_images,P=this.internal.write;for(var T in O)P("/I"+(j=O[T]).index,j.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var j=this.internal.collections.addImage_images;return l.call(this),j},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(j){return typeof e["process"+j.toUpperCase()]=="function"},g=function(j){return Zr(j)==="object"&&j.nodeType===1},b=function(j,O){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var P=""+j.getAttribute("src");if(P.indexOf("data:image/")===0)return eg(unescape(P).split("base64,").pop());var T=e.loadFile(P,!0);if(T!==void 0)return T}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var G;switch(O){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return eg(j.toDataURL(G,1).split("base64,").pop())}},m=function(j){var O=this.internal.collections.addImage_images;if(O){for(var P in O)if(j===O[P].alias)return O[P]}},x=function(j,O,P){return j||O||(j=-96,O=-96),j<0&&(j=-1*P.width*72/j/this.internal.scaleFactor),O<0&&(O=-1*P.height*72/O/this.internal.scaleFactor),j===0&&(j=O*P.width/P.height),O===0&&(O=j*P.height/P.width),[j,O]},y=function(j,O,P,T,G,W){var K=x.call(this,P,T,G),ie=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,$=u.call(this);if(P=K[0],T=K[1],$[G.index]=G,W){W*=Math.PI/180;var ae=Math.cos(W),U=Math.sin(W),z=function(ee){return ee.toFixed(4)},Z=[z(ae),z(U),z(-1*U),z(ae),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,ie(j),ue(O+T),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([ie(P),"0","0",ie(T),"0","0","cm"].join(" "))):this.internal.write([ie(P),"0","0",ie(T),ie(j),ue(O+T),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(j){var O,P,T=0;if(typeof j=="string")for(P=j.length,O=0;O<P;O++)T=(T<<5)-T+j.charCodeAt(O),T|=0;else if(q(j))for(P=j.byteLength/2,O=0;O<P;O++)T=(T<<5)-T+j[O],T|=0;return T},N=e.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var O=!0;return j.length===0&&(O=!1),j.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(O=!1),O},R=e.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var O=j.indexOf(",");return O<0?null:j.substring(0,O).trim().endsWith("base64")?j.substring(O+1):null},F=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(j){return F()&&j instanceof ArrayBuffer};var q=e.__addimage__.isArrayBufferView=function(j){return F()&&typeof Uint32Array<"u"&&(j instanceof Int8Array||j instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array)},k=e.__addimage__.binaryStringToUint8Array=function(j){for(var O=j.length,P=new Uint8Array(O),T=0;T<O;T++)P[T]=j.charCodeAt(T);return P},L=e.__addimage__.arrayBufferToBinaryString=function(j){for(var O="",P=q(j)?j:new Uint8Array(j),T=0;T<P.length;T+=8192)O+=String.fromCharCode.apply(null,P.subarray(T,T+8192));return O};e.addImage=function(){var j,O,P,T,G,W,K,ie,ue;if(typeof arguments[1]=="number"?(O=n,P=arguments[1],T=arguments[2],G=arguments[3],W=arguments[4],K=arguments[5],ie=arguments[6],ue=arguments[7]):(O=arguments[1],P=arguments[2],T=arguments[3],G=arguments[4],W=arguments[5],K=arguments[6],ie=arguments[7],ue=arguments[8]),Zr(j=arguments[0])==="object"&&!g(j)&&"imageData"in j){var $=j;j=$.imageData,O=$.format||O||n,P=$.x||P||0,T=$.y||T||0,G=$.w||$.width||G,W=$.h||$.height||W,K=$.alias||K,ie=$.compression||ie,ue=$.rotation||$.angle||ue}var ae=this.internal.getFilters();if(ie===void 0&&ae.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(P)||isNaN(T))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var U=B.call(this,j,O,K,ie);return y.call(this,P,T,G,W,U,ue),this};var B=function(j,O,P,T){var G,W,K;if(typeof j=="string"&&r(j)===n){j=unescape(j);var ie=X(j,!1);(ie!==""||(ie=e.loadFile(j,!0))!==void 0)&&(j=ie)}if(g(j)&&(j=b(j,O)),O=r(j,O),!f(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((K=P)==null||K.length===0)&&(P=function(ue){return typeof ue=="string"||q(ue)?C(ue):q(ue.data)?C(ue.data):null}(j)),(G=m.call(this,P))||(F()&&(j instanceof Uint8Array||O==="RGBA"||(W=j,j=k(j))),G=this["process"+O.toUpperCase()](j,d.call(this),P,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in e.image_compression?ue:w.NONE}(T),W)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},X=e.__addimage__.convertBase64ToBinaryString=function(j,O){O=typeof O!="boolean"||O;var P,T="";if(typeof j=="string"){var G;P=(G=R(j))!==null&&G!==void 0?G:j;try{T=eg(P)}catch(W){if(O)throw N(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return T};e.getImageProperties=function(j){var O,P,T="";if(g(j)&&(j=b(j)),typeof j=="string"&&r(j)===n&&((T=X(j,!1))===""&&(T=e.loadFile(j)||""),j=T),P=r(j),!f(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(!F()||j instanceof Uint8Array||(j=k(j)),!(O=this["process"+P.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=P,O}})(on.API),function(e){var n=function(t){if(t!==void 0&&t!="")return!0};on.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var r,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,f=!1,g=0;g<d.length&&!f;g++)switch((r=d[g]).type){case"link":(n(r.options.url)||n(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var b=0;b<d.length;b++){r=d[b];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(y.objId),C=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+m(w(r.contents))+")",a+=" /Popup "+A.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+m(w(C))+") >>",y.content=a;var N=y.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(a+=" /Open true"),a+=" >>",A.content=a,this.internal.write(y.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(x(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var F=this.annotations._nameMap[r.options.name];r.options.pageNumber=F.page,r.options.top=F.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var q=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+q+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},e.link=function(t,r,i,a,s){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(t),y:d(r),w:u(t+i),h:d(r+a)},options:s,type:"link"})},e.textWithLink=function(t,r,i,a){var s,l,u=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var f=this.splitTextToSize(t,l).length;s=Math.ceil(d*f)}else l=u,s=d;return this.text(t,r,i,a),i+=.2*d,a.align==="center"&&(r-=u/2),a.align==="right"&&(r-=u),this.link(r,i-d,l,s,a),u},e.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(on.API),function(e){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(y){return n[y.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=e.__arabicParser__.isArabicEndLetter=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(y){return s(y)&&i.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(y){var A=0,w=t,C="",N=0;for(A=0;A<y.length;A+=1)w[y.charCodeAt(A)]!==void 0?(N++,typeof(w=w[y.charCodeAt(A)])=="number"&&(C+=String.fromCharCode(w),w=t,N=0),A===y.length-1&&(w=t,C+=y.charAt(A-(N-1)),A-=N-1,N=0)):(w=t,C+=y.charAt(A-N),A-=N,N=0);return C};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var b=e.__arabicParser__.getCorrectForm=function(y,A,w){return s(y)?a(y)===!1?-1:!d(y)||!s(A)&&!s(w)||!s(w)&&l(A)||l(y)&&!s(A)||l(y)&&u(A)||l(y)&&l(A)?0:f(y)&&s(A)&&!l(A)&&s(w)&&d(w)?3:l(y)||!s(w)?1:2:-1},m=function(y){var A=0,w=0,C=0,N="",R="",F="",q=(y=y||"").split("\\s+"),k=[];for(A=0;A<q.length;A+=1){for(k.push(""),w=0;w<q[A].length;w+=1)N=q[A][w],R=q[A][w-1],F=q[A][w+1],s(N)?(C=b(N,R,F),k[A]+=C!==-1?String.fromCharCode(n[N.charCodeAt(0)][C]):N):k[A]+=N;k[A]=g(k[A])}return k.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var y,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(A)){var C=0;for(w=[],C=0;C<A.length;C+=1)Array.isArray(A[C])?w.push([m(A[C][0]),A[C][1],A[C][2]]):w.push([m(A[C])]);y=w}else y=m(A);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",x])}(on.API),on.API.autoPrint=function(e){var n;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})}return this},function(e){var n=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])}(on.API),function(e){var n={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(y){b=y}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(y){x=y}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,d){r.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),g=d.font||this.getFont(),b=d.scaleFactor||this.internal.scaleFactor,m=0,x=0,y=0,A=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var w=d.maxWidth;w>0?typeof u=="string"?u=this.splitTextToSize(u,w):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(N,R){return N.concat(A.splitTextToSize(R,w))},[])):u=Array.isArray(u)?u:[u];for(var C=0;C<u.length;C++)m<(y=this.getStringUnitWidth(u[C],{font:g})*f)&&(m=y);return m!==0&&(x=u.length),{w:m/=b,h:Math.max((x*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/b,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,g=this.internal.__cell__.margins||n,b=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=g.top,m&&b&&(this.printHeaderRow(u.lineNumber,!0),u.y+=b[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};e.table=function(u,d,f,g,b){if(r.call(this),!f)throw new Error("No data for PDF table.");var m,x,y,A,w=[],C=[],N=[],R={},F={},q=[],k=[],L=(b=b||{}).autoSize||!1,B=b.printHeaders!==!1,X=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,j=b.margins||Object.assign({width:this.getPageWidth()},n),O=typeof b.padding=="number"?b.padding:3,P=b.headerBackgroundColor||"#c8c8c8",T=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=T,this.setFontSize(X),g==null)C=w=Object.keys(f[0]),N=w.map(function(){return"left"});else if(Array.isArray(g)&&Zr(g[0])==="object")for(w=g.map(function($){return $.name}),C=g.map(function($){return $.prompt||$.name||""}),N=g.map(function($){return $.align||"left"}),m=0;m<g.length;m+=1)F[g[m].name]=g[m].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(C=w=g,N=w.map(function(){return"left"}));if(L||Array.isArray(g)&&typeof g[0]=="string")for(m=0;m<w.length;m+=1){for(R[A=w[m]]=f.map(function($){return $[A]}),this.setFont(void 0,"bold"),q.push(this.getTextDimensions(C[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=R[A],this.setFont(void 0,"normal"),y=0;y<x.length;y+=1)q.push(this.getTextDimensions(x[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[A]=Math.max.apply(null,q)+O+O,q=[]}if(B){var G={};for(m=0;m<w.length;m+=1)G[w[m]]={},G[w[m]].text=C[m],G[w[m]].align=N[m];var W=l.call(this,G,F);k=w.map(function($){return new a(u,d,F[$],W,G[$].text,void 0,G[$].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var K=g.reduce(function($,ae){return $[ae.name]=ae.align,$},{});for(m=0;m<f.length;m+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:m,data:f[m]},this);var ie=l.call(this,f[m],F);for(y=0;y<w.length;y+=1){var ue=f[m][w[y]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:m,col:y,data:ue},this),s.call(this,new a(u,d,F[w[y]],ie,ue,m+2,K[w[y]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var l=function(u,d){var f=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(u).map(function(m){var x=u[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[m]-f-f)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/b+f+f},this).reduce(function(m,x){return Math.max(m,x)},0)};e.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){f=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,b.push(f)),f.lineNumber=u;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,f),this.setTextColor(x)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}}(on.API);var sI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},oI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],BS=aI(oI),lI=[100,200,300,400,500,600,700,800,900],gK=aI(lI);function US(e){var n=e.family.replace(/"|'/g,"").toLowerCase(),t=function(a){return sI[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof BS[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:n,style:t,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:n,style:[i,t,r].join(" ")}}}function Y8(e,n,t,r){var i;for(i=t;i>=0&&i<n.length;i+=r)if(e[n[i]])return e[n[i]];for(i=t;i>=0&&i<n.length;i-=r)if(e[n[i]])return e[n[i]]}var bK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},G8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Q8(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function yK(e,n,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},bK,t.genericFontFamilies||{}),a=null,s=null,l=0;l<n.length;++l)if(i[(a=US(n[l])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){s=e[a.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+Q8(a)+"' and default family '"+r+"'.");if(s=function(u,d){if(d[u])return d[u];var f=BS[u],g=f<=BS.normal?-1:1,b=Y8(d,oI,f,g);if(!b)throw new Error("Could not find a matching font-stretch value for "+u);return b}(a.stretch,s),s=function(u,d){if(d[u])return d[u];for(var f=sI[u],g=0;g<f.length;++g)if(d[f[g]])return d[f[g]];throw new Error("Could not find a matching font-style for "+u)}(a.style,s),!(s=function(u,d){if(d[u])return d[u];if(u===400&&d[500])return d[500];if(u===500&&d[400])return d[400];var f=gK[u],g=Y8(d,lI,f,u<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+u);return g}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+Q8(a)+"'.");return s}function K8(e){return e.trimLeft()}function xK(e,n){for(var t=0;t<e.length;){if(e.charAt(t)===n)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function vK(e){var n=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return n===null?null:[n[0],e.substring(n[0].length)]}var Fy,X8,Z8,pw=["times"];(function(e){var n,t,r,i,a,s,l,u,d,f=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new u,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new s,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new s,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),n=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,d=new f}]);var g=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=U;Object.defineProperty(this,"pdf",{get:function(){return z}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Se){Z=!!Se}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(Se){ee=!!Se}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Se){isNaN(Se)||(se=Se)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(Se){isNaN(Se)||(we=Se)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Se){var te;typeof Se=="number"?te=[Se,Se,Se,Se]:((te=new Array(4))[0]=Se[0],te[1]=Se.length>=2?Se[1]:te[0],te[2]=Se.length>=3?Se[2]:te[0],te[3]=Se.length>=4?Se[3]:te[1]),d.margin=te}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Se){xe=Se}});var Ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ee},set:function(Se){Ee=Se}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(Se){Ie=Se}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Se){Se instanceof f&&(d=Se)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Se){d.path=Se}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(Se){Re=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var te;te=b(Se),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var te=b(Se);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var We=null;function Ve(Se,te){if(We===null){var be=function(ce){var Ae=[];return Object.keys(ce).forEach(function(De){ce[De].forEach(function(ze){var Ne=null;switch(ze){case"bold":Ne={family:De,weight:"bold"};break;case"italic":Ne={family:De,style:"italic"};break;case"bolditalic":Ne={family:De,weight:"bold",style:"italic"};break;case"":case"normal":Ne={family:De}}Ne!==null&&(Ne.ref={name:De,style:ze},Ae.push(Ne))})}),Ae}(Se.getFontList());We=function(ce){for(var Ae={},De=0;De<ce.length;++De){var ze=US(ce[De]),Ne=ze.family,Xe=ze.stretch,lt=ze.style,nt=ze.weight;Ae[Ne]=Ae[Ne]||{},Ae[Ne][Xe]=Ae[Ne][Xe]||{},Ae[Ne][Xe][lt]=Ae[Ne][Xe][lt]||{},Ae[Ne][Xe][lt][nt]=ze}return Ae}(be.concat(te))}return We}var V=null;Object.defineProperty(this,"fontFaces",{get:function(){return V},set:function(Se){We=null,V=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var te;if(this.ctx.font=Se,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var be=te[1];te[2];var ce=te[3],Ae=te[4];te[5];var De=te[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ae)[2];Ae=Math.floor(ze==="px"?parseFloat(Ae)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(Ae)*this.pdf.getFontSize():parseFloat(Ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ae);var Ne=function(Te){var dt,Je,Ft=[],kt=Te.trim();if(kt==="")return pw;if(kt in G8)return[G8[kt]];for(;kt!=="";){switch(Je=null,dt=(kt=K8(kt)).charAt(0)){case'"':case"'":Je=xK(kt.substring(1),dt);break;default:Je=vK(kt)}if(Je===null||(Ft.push(Je[0]),(kt=K8(Je[1]))!==""&&kt.charAt(0)!==","))return pw;kt=kt.replace(/^,/,"")}return Ft}(De);if(this.fontFaces){var Xe=yK(Ve(this.pdf,this.fontFaces),Ne.map(function(Te){return{family:Te,stretch:"normal",weight:ce,style:be}}));this.pdf.setFont(Xe.ref.name,Xe.ref.style)}else{var lt="";(ce==="bold"||parseInt(ce,10)>=700||be==="bold")&&(lt="bold"),be==="italic"&&(lt+="italic"),lt.length===0&&(lt="normal");for(var nt="",Fe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ve=0;ve<Ne.length;ve++){if(this.pdf.internal.getFont(Ne[ve],lt,{noFallback:!0,disableWarning:!0})!==void 0){nt=Ne[ve];break}if(lt==="bolditalic"&&this.pdf.internal.getFont(Ne[ve],"bold",{noFallback:!0,disableWarning:!0})!==void 0)nt=Ne[ve],lt="bold";else if(this.pdf.internal.getFont(Ne[ve],"normal",{noFallback:!0,disableWarning:!0})!==void 0){nt=Ne[ve],lt="normal";break}}if(nt===""){for(var ke=0;ke<Ne.length;ke++)if(Fe[Ne[ke]]){nt=Fe[Ne[ke]];break}}nt=nt===""?"Times":nt,this.pdf.setFont(nt,lt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};g.prototype.setLineDash=function(U){this.lineDash=U},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){R.call(this,"fill",!1)},g.prototype.stroke=function(){R.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(U,z){if(isNaN(U)||isNaN(z))throw Xr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new s(U,z));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(U,z)},g.prototype.closePath=function(){var U=new s(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Zr(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){U=new s(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(U.x,U.y)},g.prototype.lineTo=function(U,z){if(isNaN(U)||isNaN(z))throw Xr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new s(U,z));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},g.prototype.quadraticCurveTo=function(U,z,Z,ee){if(isNaN(Z)||isNaN(ee)||isNaN(U)||isNaN(z))throw Xr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new s(Z,ee)),we=this.ctx.transform.applyToPoint(new s(U,z));this.path.push({type:"qct",x1:we.x,y1:we.y,x:se.x,y:se.y}),this.ctx.lastPoint=new s(se.x,se.y)},g.prototype.bezierCurveTo=function(U,z,Z,ee,se,we){if(isNaN(se)||isNaN(we)||isNaN(U)||isNaN(z)||isNaN(Z)||isNaN(ee))throw Xr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new s(se,we)),Ee=this.ctx.transform.applyToPoint(new s(U,z)),Ie=this.ctx.transform.applyToPoint(new s(Z,ee));this.path.push({type:"bct",x1:Ee.x,y1:Ee.y,x2:Ie.x,y2:Ie.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new s(xe.x,xe.y)},g.prototype.arc=function(U,z,Z,ee,se,we){if(isNaN(U)||isNaN(z)||isNaN(Z)||isNaN(ee)||isNaN(se))throw Xr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new s(U,z));U=xe.x,z=xe.y;var Ee=this.ctx.transform.applyToPoint(new s(0,Z)),Ie=this.ctx.transform.applyToPoint(new s(0,0));Z=Math.sqrt(Math.pow(Ee.x-Ie.x,2)+Math.pow(Ee.y-Ie.y,2))}Math.abs(se-ee)>=2*Math.PI&&(ee=0,se=2*Math.PI),this.path.push({type:"arc",x:U,y:z,radius:Z,startAngle:ee,endAngle:se,counterclockwise:we})},g.prototype.arcTo=function(U,z,Z,ee,se){throw new Error("arcTo not implemented.")},g.prototype.rect=function(U,z,Z,ee){if(isNaN(U)||isNaN(z)||isNaN(Z)||isNaN(ee))throw Xr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,z),this.lineTo(U+Z,z),this.lineTo(U+Z,z+ee),this.lineTo(U,z+ee),this.lineTo(U,z),this.lineTo(U+Z,z),this.lineTo(U,z)},g.prototype.fillRect=function(U,z,Z,ee){if(isNaN(U)||isNaN(z)||isNaN(Z)||isNaN(ee))throw Xr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,z,Z,ee),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},g.prototype.strokeRect=function(U,z,Z,ee){if(isNaN(U)||isNaN(z)||isNaN(Z)||isNaN(ee))throw Xr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(U,z,Z,ee),this.stroke())},g.prototype.clearRect=function(U,z,Z,ee){if(isNaN(U)||isNaN(z)||isNaN(Z)||isNaN(ee))throw Xr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,z,Z,ee))},g.prototype.save=function(U){U=typeof U!="boolean"||U;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},g.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(z),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(U){var z,Z,ee,se;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))z=0,Z=0,ee=0,se=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(we!==null)z=parseInt(we[1]),Z=parseInt(we[2]),ee=parseInt(we[3]),se=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)z=parseInt(we[1]),Z=parseInt(we[2]),ee=parseInt(we[3]),se=parseFloat(we[4]);else{if(se=1,typeof U=="string"&&U.charAt(0)!=="#"){var xe=new JO(U);U=xe.ok?xe.toHex():"#000000"}U.length===4?(z=U.substring(1,2),z+=z,Z=U.substring(2,3),Z+=Z,ee=U.substring(3,4),ee+=ee):(z=U.substring(1,3),Z=U.substring(3,5),ee=U.substring(5,7)),z=parseInt(z,16),Z=parseInt(Z,16),ee=parseInt(ee,16)}}return{r:z,g:Z,b:ee,a:se,style:U}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(U,z,Z,ee){if(isNaN(z)||isNaN(Z)||typeof U!="string")throw Xr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!m.call(this)){var se=ie(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;O.call(this,{text:U,x:z,y:Z,scale:we,angle:se,align:this.textAlign,maxWidth:ee})}},g.prototype.strokeText=function(U,z,Z,ee){if(isNaN(z)||isNaN(Z)||typeof U!="string")throw Xr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ee=isNaN(ee)?void 0:ee;var se=ie(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;O.call(this,{text:U,x:z,y:Z,scale:we,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:ee})}},g.prototype.measureText=function(U){if(typeof U!="string")throw Xr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,Z=this.pdf.internal.scaleFactor,ee=z.internal.getFontSize(),se=z.getStringUnitWidth(U)*ee/z.internal.scaleFactor,we=function(xe){var Ee=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this};return new we({width:se*=Math.round(96*Z/72*1e4)/1e4})},g.prototype.scale=function(U,z){if(isNaN(U)||isNaN(z))throw Xr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new u(U,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},g.prototype.rotate=function(U){if(isNaN(U))throw Xr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new u(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},g.prototype.translate=function(U,z){if(isNaN(U)||isNaN(z))throw Xr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new u(1,0,0,1,U,z);this.ctx.transform=this.ctx.transform.multiply(Z)},g.prototype.transform=function(U,z,Z,ee,se,we){if(isNaN(U)||isNaN(z)||isNaN(Z)||isNaN(ee)||isNaN(se)||isNaN(we))throw Xr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new u(U,z,Z,ee,se,we);this.ctx.transform=this.ctx.transform.multiply(xe)},g.prototype.setTransform=function(U,z,Z,ee,se,we){U=isNaN(U)?1:U,z=isNaN(z)?0:z,Z=isNaN(Z)?0:Z,ee=isNaN(ee)?1:ee,se=isNaN(se)?0:se,we=isNaN(we)?0:we,this.ctx.transform=new u(U,z,Z,ee,se,we)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(U,z,Z,ee,se,we,xe,Ee,Ie){var Re=this.pdf.getImageProperties(U),We=1,Ve=1,V=1,Se=1;ee!==void 0&&Ee!==void 0&&(V=Ee/ee,Se=Ie/se,We=Re.width/ee*Ee/ee,Ve=Re.height/se*Ie/se),we===void 0&&(we=z,xe=Z,z=0,Z=0),ee!==void 0&&Ee===void 0&&(Ee=ee,Ie=se),ee===void 0&&Ee===void 0&&(Ee=Re.width,Ie=Re.height);for(var te,be=this.ctx.transform.decompose(),ce=ie(be.rotate.shx),Ae=new u,De=(Ae=(Ae=(Ae=Ae.multiply(be.translate)).multiply(be.skew)).multiply(be.scale)).applyToRectangle(new l(we-z*V,xe-Z*Se,ee*We,se*Ve)),ze=A.call(this,De),Ne=[],Xe=0;Xe<ze.length;Xe+=1)Ne.indexOf(ze[Xe])===-1&&Ne.push(ze[Xe]);if(N(Ne),this.autoPaging)for(var lt=Ne[0],nt=Ne[Ne.length-1],Fe=lt;Fe<nt+1;Fe++){this.pdf.setPage(Fe);var ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ke=Fe===1?this.posY+this.margin[0]:this.margin[0],Te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Je=Fe===1?0:Te+(Fe-2)*dt;if(this.ctx.clip_path.length!==0){var Ft=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(te,this.posX+this.margin[3],-Je+ke+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=Ft}var kt=JSON.parse(JSON.stringify(De));kt=C([kt],this.posX+this.margin[3],-Je+ke+this.ctx.prevPageLastElemOffset)[0];var Vt=(Fe>lt||Fe<nt)&&y.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ve,dt,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",kt.x,kt.y,kt.w,kt.h,null,null,ce),Vt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",De.x,De.y,De.w,De.h,null,null,ce)};var A=function(U,z,Z){var ee=[];z=z||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":ee.push(Math.floor((U.y+se)/Z)+1);break;case"arc":ee.push(Math.floor((U.y+se-U.radius)/Z)+1),ee.push(Math.floor((U.y+se+U.radius)/Z)+1);break;case"qct":var we=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);ee.push(Math.floor((we.y+se)/Z)+1),ee.push(Math.floor((we.y+we.h+se)/Z)+1);break;case"bct":var xe=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);ee.push(Math.floor((xe.y+se)/Z)+1),ee.push(Math.floor((xe.y+xe.h+se)/Z)+1);break;case"rect":ee.push(Math.floor((U.y+se)/Z)+1),ee.push(Math.floor((U.y+U.h+se)/Z)+1)}for(var Ee=0;Ee<ee.length;Ee+=1)for(;this.pdf.internal.getNumberOfPages()<ee[Ee];)w.call(this);return ee},w=function(){var U=this.fillStyle,z=this.strokeStyle,Z=this.font,ee=this.lineCap,se=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=z,this.font=Z,this.lineCap=ee,this.lineWidth=se,this.lineJoin=we},C=function(U,z,Z){for(var ee=0;ee<U.length;ee++)switch(U[ee].type){case"bct":U[ee].x2+=z,U[ee].y2+=Z;case"qct":U[ee].x1+=z,U[ee].y1+=Z;case"mt":case"lt":case"arc":default:U[ee].x+=z,U[ee].y+=Z}return U},N=function(U){return U.sort(function(z,Z){return z-Z})},R=function(U,z){for(var Z,ee,se=this.fillStyle,we=this.strokeStyle,xe=this.lineCap,Ee=this.lineWidth,Ie=Math.abs(Ee*this.ctx.transform.scaleX),Re=this.lineJoin,We=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),V=[],Se=0;Se<Ve.length;Se++)if(Ve[Se].x!==void 0)for(var te=A.call(this,Ve[Se]),be=0;be<te.length;be+=1)V.indexOf(te[be])===-1&&V.push(te[be]);for(var ce=0;ce<V.length;ce++)for(;this.pdf.internal.getNumberOfPages()<V[ce];)w.call(this);if(N(V),this.autoPaging)for(var Ae=V[0],De=V[V.length-1],ze=Ae;ze<De+1;ze++){this.pdf.setPage(ze),this.fillStyle=se,this.strokeStyle=we,this.lineCap=xe,this.lineWidth=Ie,this.lineJoin=Re;var Ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=ze===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=ze===1?0:lt+(ze-2)*nt;if(this.ctx.clip_path.length!==0){var ve=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Z,this.posX+this.margin[3],-Fe+Xe+this.ctx.prevPageLastElemOffset),F.call(this,U,!0),this.path=ve}if(ee=JSON.parse(JSON.stringify(We)),this.path=C(ee,this.posX+this.margin[3],-Fe+Xe+this.ctx.prevPageLastElemOffset),z===!1||ze===0){var ke=(ze>Ae||ze<De)&&y.call(this);ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,nt,null).clip().discardPath()),F.call(this,U,z),ke&&this.pdf.restoreGraphicsState()}this.lineWidth=Ee}else this.lineWidth=Ie,F.call(this,U,z),this.lineWidth=Ee;this.path=We},F=function(U,z){if((U!=="stroke"||z||!x.call(this))&&(U==="stroke"||z||!m.call(this))){for(var Z,ee,se=[],we=this.path,xe=0;xe<we.length;xe++){var Ee=we[xe];switch(Ee.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:Ee,deltas:[],abs:[]});break;case"lt":var Ie=se.length;if(we[xe-1]&&!isNaN(we[xe-1].x)&&(Z=[Ee.x-we[xe-1].x,Ee.y-we[xe-1].y],Ie>0)){for(;Ie>=0;Ie--)if(se[Ie-1].close!==!0&&se[Ie-1].begin!==!0){se[Ie-1].deltas.push(Z),se[Ie-1].abs.push(Ee);break}}break;case"bct":Z=[Ee.x1-we[xe-1].x,Ee.y1-we[xe-1].y,Ee.x2-we[xe-1].x,Ee.y2-we[xe-1].y,Ee.x-we[xe-1].x,Ee.y-we[xe-1].y],se[se.length-1].deltas.push(Z);break;case"qct":var Re=we[xe-1].x+2/3*(Ee.x1-we[xe-1].x),We=we[xe-1].y+2/3*(Ee.y1-we[xe-1].y),Ve=Ee.x+2/3*(Ee.x1-Ee.x),V=Ee.y+2/3*(Ee.y1-Ee.y),Se=Ee.x,te=Ee.y;Z=[Re-we[xe-1].x,We-we[xe-1].y,Ve-we[xe-1].x,V-we[xe-1].y,Se-we[xe-1].x,te-we[xe-1].y],se[se.length-1].deltas.push(Z);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(Ee)}}ee=z?null:U==="stroke"?"stroke":"fill";for(var be=!1,ce=0;ce<se.length;ce++)if(se[ce].arc)for(var Ae=se[ce].abs,De=0;De<Ae.length;De++){var ze=Ae[De];ze.type==="arc"?L.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,z,!be):P.call(this,ze.x,ze.y),be=!0}else if(se[ce].close===!0)this.pdf.internal.out("h"),be=!1;else if(se[ce].begin!==!0){var Ne=se[ce].start.x,Xe=se[ce].start.y;T.call(this,se[ce].deltas,Ne,Xe),be=!0}ee&&B.call(this,ee),z&&X.call(this)}},q=function(U){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-Z;case"top":return U+z-Z;case"hanging":return U+z-2*Z;case"middle":return U+z/2-Z;case"ideographic":return U;case"alphabetic":default:return U}},k=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(z,Z){this.colorStops.push([z,Z])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(U,z,Z,ee,se,we,xe,Ee,Ie){for(var Re=W.call(this,Z,ee,se,we),We=0;We<Re.length;We++){var Ve=Re[We];We===0&&(Ie?j.call(this,Ve.x1+U,Ve.y1+z):P.call(this,Ve.x1+U,Ve.y1+z)),G.call(this,U,z,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}Ee?X.call(this):B.call(this,xe)},B=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(U,z){this.pdf.internal.out(t(U)+" "+r(z)+" m")},O=function(U){var z;switch(U.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var Z=this.pdf.getTextDimensions(U.text),ee=q.call(this,U.y),se=k.call(this,ee)-Z.h,we=this.ctx.transform.applyToPoint(new s(U.x,ee)),xe=this.ctx.transform.decompose(),Ee=new u;Ee=(Ee=(Ee=Ee.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var Ie,Re,We,Ve=this.ctx.transform.applyToRectangle(new l(U.x,ee,Z.w,Z.h)),V=Ee.applyToRectangle(new l(U.x,se,Z.w,Z.h)),Se=A.call(this,V),te=[],be=0;be<Se.length;be+=1)te.indexOf(Se[be])===-1&&te.push(Se[be]);if(N(te),this.autoPaging)for(var ce=te[0],Ae=te[te.length-1],De=ce;De<Ae+1;De++){this.pdf.setPage(De);var ze=De===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[2],lt=Xe-this.margin[0],nt=this.pdf.internal.pageSize.width-this.margin[1],Fe=nt-this.margin[3],ve=De===1?0:Ne+(De-2)*lt;if(this.ctx.clip_path.length!==0){var ke=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Ie,this.posX+this.margin[3],-1*ve+ze),F.call(this,"fill",!0),this.path=ke}var Te=C([JSON.parse(JSON.stringify(V))],this.posX+this.margin[3],-ve+ze+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*U.scale),We=this.lineWidth,this.lineWidth=We*U.scale);var dt=this.autoPaging!=="text";if(dt||Te.y+Te.h<=Xe){if(dt||Te.y>=ze&&Te.x<=nt){var Je=dt?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||nt-Te.x)[0],Ft=C([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-ve+ze+this.ctx.prevPageLastElemOffset)[0],kt=dt&&(De>ce||De<Ae)&&y.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,lt,null).clip().discardPath()),this.pdf.text(Je,Ft.x,Ft.y,{angle:U.angle,align:z,renderingMode:U.renderingMode}),kt&&this.pdf.restoreGraphicsState()}}else Te.y<Xe&&(this.ctx.prevPageLastElemOffset+=Xe-Te.y);U.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=We)}else U.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*U.scale),We=this.lineWidth,this.lineWidth=We*U.scale),this.pdf.text(U.text,we.x+this.posX,we.y+this.posY,{angle:U.angle,align:z,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=We)},P=function(U,z,Z,ee){Z=Z||0,ee=ee||0,this.pdf.internal.out(t(U+Z)+" "+r(z+ee)+" l")},T=function(U,z,Z){return this.pdf.lines(U,z,Z,null,null)},G=function(U,z,Z,ee,se,we,xe,Ee){this.pdf.internal.out([n(i(Z+U)),n(a(ee+z)),n(i(se+U)),n(a(we+z)),n(i(xe+U)),n(a(Ee+z)),"c"].join(" "))},W=function(U,z,Z,ee){for(var se=2*Math.PI,we=Math.PI/2;z>Z;)z-=se;var xe=Math.abs(Z-z);xe<se&&ee&&(xe=se-xe);for(var Ee=[],Ie=ee?-1:1,Re=z;xe>1e-5;){var We=Re+Ie*Math.min(xe,we);Ee.push(K.call(this,U,Re,We)),xe-=Math.abs(We-Re),Re=We}return Ee},K=function(U,z,Z){var ee=(Z-z)/2,se=U*Math.cos(ee),we=U*Math.sin(ee),xe=se,Ee=-we,Ie=xe*xe+Ee*Ee,Re=Ie+xe*se+Ee*we,We=4/3*(Math.sqrt(2*Ie*Re)-Re)/(xe*we-Ee*se),Ve=xe-We*Ee,V=Ee+We*xe,Se=Ve,te=-V,be=ee+z,ce=Math.cos(be),Ae=Math.sin(be);return{x1:U*Math.cos(z),y1:U*Math.sin(z),x2:Ve*ce-V*Ae,y2:Ve*Ae+V*ce,x3:Se*ce-te*Ae,y3:Se*Ae+te*ce,x4:U*Math.cos(Z),y4:U*Math.sin(Z)}},ie=function(U){return 180*U/Math.PI},ue=function(U,z,Z,ee,se,we){var xe=U+.5*(Z-U),Ee=z+.5*(ee-z),Ie=se+.5*(Z-se),Re=we+.5*(ee-we),We=Math.min(U,se,xe,Ie),Ve=Math.max(U,se,xe,Ie),V=Math.min(z,we,Ee,Re),Se=Math.max(z,we,Ee,Re);return new l(We,V,Ve-We,Se-V)},$=function(U,z,Z,ee,se,we,xe,Ee){var Ie,Re,We,Ve,V,Se,te,be,ce,Ae,De,ze,Ne,Xe,lt=Z-U,nt=ee-z,Fe=se-Z,ve=we-ee,ke=xe-se,Te=Ee-we;for(Re=0;Re<41;Re++)ce=(te=(We=U+(Ie=Re/40)*lt)+Ie*((V=Z+Ie*Fe)-We))+Ie*(V+Ie*(se+Ie*ke-V)-te),Ae=(be=(Ve=z+Ie*nt)+Ie*((Se=ee+Ie*ve)-Ve))+Ie*(Se+Ie*(we+Ie*Te-Se)-be),Re==0?(De=ce,ze=Ae,Ne=ce,Xe=Ae):(De=Math.min(De,ce),ze=Math.min(ze,Ae),Ne=Math.max(Ne,ce),Xe=Math.max(Xe,Ae));return new l(Math.round(De),Math.round(ze),Math.round(Ne-De),Math.round(Xe-ze))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,z,Z=(U=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:z}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(on.API),function(e){var n=function(a){var s,l,u,d,f,g,b,m,x,y;for(l=[],u=0,d=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(f=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(g=(f=((f=((f=((f=(f-(y=f%85))/85)-(x=f%85))/85)-(m=f%85))/85)-(b=f%85))/85)%85,l.push(g+33,b+33,m+33,x+33,y+33)):l.push(122);return function(A,w){for(var C=w;C>0;C--)A.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},t=function(a){var s,l,u,d,f,g=String,b="length",m=255,x="charCodeAt",y="slice",A="replace";for(a[y](-2),a=a[y](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),u=[],d=0,f=(a+=s="uuuuu"[y](a[b]%5||5))[b];f>d;d+=5)l=52200625*(a[x](d)-33)+614125*(a[x](d+1)-33)+7225*(a[x](d+2)-33)+85*(a[x](d+3)-33)+(a[x](d+4)-33),u.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(w,C){for(var N=C;N>0;N--)w.pop()}(u,s[b]),g.fromCharCode.apply(g,u)},r=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},i=function(a){for(var s=new Uint8Array(a.length),l=a.length;l--;)s[l]=a.charCodeAt(l);return a=(s=MS(s)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,s){var l=0,u=a||"",d=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=n(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(on.API),function(e){e.loadFile=function(n,t,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(u,d,f){var g=new XMLHttpRequest,b=0,m=function(x){var y=x.length,A=[],w=String.fromCharCode;for(b=0;b<y;b+=1)A.push(w(255&x.charCodeAt(b)));return A.join("")};if(g.open("GET",u,!d),g.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(g.onload=function(){g.status===200?f(m(this.responseText)):f(void 0)}),g.send(null),d&&g.status===200)return m(g.responseText)}(i,a,s)}catch{}return l}(n,t,r)},e.loadImageFile=e.loadFile}(on.API),function(e){function n(){return(cn.html2canvas?Promise.resolve(cn.html2canvas):Li(()=>import("./html2canvas.esm-DadlvMMh.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(cn.DOMPurify?Promise.resolve(cn.DOMPurify):Li(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var l=Zr(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var u=document.createElement(s);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},a=function s(l){var u=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),d=s.convert(Promise.resolve(),u);return d=(d=d.setProgress(1,s,1,[s])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,l){return s.__proto__=l||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(u){return this.set({src:i("div",{innerHTML:s,dompurify:u})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function u(d,f){for(var g=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),b=d.firstChild;b;b=b.nextSibling)f!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||g.appendChild(u(b,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(g.width=d.width,g.height=d.height,g.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(g.value=d.value),g.addEventListener("load",function(){g.scrollTop=d.scrollTop,g.scrollLeft=d.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(n).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(n).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var b=0;b<d.length;++b){var m=d[b],x=m.src.find(function(y){return y.format==="truetype"});x&&u.addFont(x.url,m.ref.name,m.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},a.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(r(s)!=="object")return this;var l=Object.keys(s||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=s[u]};switch(u){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[u]=s[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(s,l){return this.then(function(){var u=s in a.template.prop?this.prop[s]:this.opt[s];return l?l(u):u})},a.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(s=s||on.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,l,u,d){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,l,u,d){return this.setProgress(s?this.progress.val+s:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(s,l){var u=this;return this.thenCore(s,l,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,d),g}).then(d,f).then(function(g){return u.updateProgress(1),g})})},a.prototype.thenCore=function(s,l,u){u=u||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),f=u.call(d,s,l);return a.convert(f,this.__proto__)},a.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},a.prototype.thenList=function(s){var l=this;return s.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return a.convert(l,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,on.getPageSize=function(s,l,u){if(Zr(s)==="object"){var d=s;s=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",s=(""+(s||"P")).toLowerCase();var f,g=(""+u).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var m,x=0,y=0;if(b.hasOwnProperty(g))x=b[g][1]/f,y=b[g][0]/f;else try{x=u[1],y=u[0]}catch{throw new Error("Invalid format: "+u)}if(s==="p"||s==="portrait")s="p",y>x&&(m=y,y=x,x=m);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",x>y&&(m=y,y=x,x=m)}return{width:y,height:x,unit:l,k:f,orientation:s}},e.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(US):null;var u=new a(l);return l.worker?u:u.from(s).doCallback()}}(on.API),on.API.addJS=function(e){return Z8=e,this.internal.events.subscribe("postPutResources",function(){Fy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Fy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),X8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Z8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Fy!==void 0&&X8!==void 0&&this.internal.out("/Names <</JavaScript "+Fy+" 0 R>>")}),this},function(e){var n;e.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=r.exec(s);if(l!=null){var u=l[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(a=0;a<d;a++){var g=t.internal.newObject();f.push(g);var b=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<f.length;a++)t.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");t.internal.write(" ] >>","endobj"),n=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+n+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var u=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(on.API),function(e){var n=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,r,i,a,s,l){var u,d=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(u=function(g){for(var b,m=256*g.charCodeAt(4)+g.charCodeAt(5),x=g.length,y={width:0,height:0,numcomponents:1},A=4;A<x;A+=2){if(A+=m,n.indexOf(g.charCodeAt(A+1))!==-1){b=256*g.charCodeAt(A+5)+g.charCodeAt(A+6),y={width:256*g.charCodeAt(A+7)+g.charCodeAt(A+8),height:b,numcomponents:g.charCodeAt(A+9)};break}m=256*g.charCodeAt(A+2)+g.charCodeAt(A+3)}return y}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:t,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:d,index:r,alias:i}}return f}}(on.API);var f0,Py,J8,e4,t4,wK=function(){var e,n,t;function r(a){var s,l,u,d,f,g,b,m,x,y,A,w,C,N;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(s=this.readUInt32(),x=(function(){var R,F;for(F=[],R=0;R<4;++R)F.push(String.fromCharCode(this.data[this.pos++]));return F}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,g.delay=1e3*f/d,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,s-=4),a=(g!=null?g.data:void 0)||this.imgData,w=0;0<=s?w<s:w>s;0<=s?++w:--w)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((y=u-this.transparency.indexed.length)>0)for(C=0;0<=y?C<y:C>y;0<=y?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":b=(A=this.read(s)).indexOf(0),m=String.fromCharCode.apply(String,A.slice(0,b)),this.text[m]=String.fromCharCode.apply(String,A.slice(b+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var s,l;for(l=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),u=0,d=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function f(g,b,m,x){var y,A,w,C,N,R,F,q,k,L,B,X,j,O,P,T,G,W,K,ie,ue,$=Math.ceil((d.width-g)/m),ae=Math.ceil((d.height-b)/x),U=d.width==$&&d.height==ae;for(O=s*$,X=U?l:new Uint8Array(O*ae),R=a.length,j=0,A=0;j<ae&&u<R;){switch(a[u++]){case 0:for(C=G=0;G<O;C=G+=1)X[A++]=a[u++];break;case 1:for(C=W=0;W<O;C=W+=1)y=a[u++],N=C<s?0:X[A-s],X[A++]=(y+N)%256;break;case 2:for(C=K=0;K<O;C=K+=1)y=a[u++],w=(C-C%s)/s,P=j&&X[(j-1)*O+w*s+C%s],X[A++]=(P+y)%256;break;case 3:for(C=ie=0;ie<O;C=ie+=1)y=a[u++],w=(C-C%s)/s,N=C<s?0:X[A-s],P=j&&X[(j-1)*O+w*s+C%s],X[A++]=(y+Math.floor((N+P)/2))%256;break;case 4:for(C=ue=0;ue<O;C=ue+=1)y=a[u++],w=(C-C%s)/s,N=C<s?0:X[A-s],j===0?P=T=0:(P=X[(j-1)*O+w*s+C%s],T=w&&X[(j-1)*O+(w-1)*s+C%s]),F=N+P-T,q=Math.abs(F-N),L=Math.abs(F-P),B=Math.abs(F-T),k=q<=L&&q<=B?N:L<=B?P:T,X[A++]=(y+k)%256;break;default:throw new Error("Invalid filter algorithm: "+a[u-1])}if(!U){var z=((b+j*x)*d.width+g)*s,Z=j*O;for(C=0;C<$;C+=1){for(var ee=0;ee<s;ee+=1)l[z++]=X[Z++];z+=(m-1)*s}}j++}}return a=JQ(a),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),l},r.prototype.decodePalette=function(){var a,s,l,u,d,f,g,b,m;for(l=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+l.length),u=0,a=0,s=g=0,b=l.length;g<b;s=g+=3)d[u++]=l[s],d[u++]=l[s+1],d[u++]=l[s+2],d[u++]=(m=f[a++])!=null?m:255;return d},r.prototype.copyToImageData=function(a,s){var l,u,d,f,g,b,m,x,y,A,w;if(u=this.colors,y=null,l=this.hasAlphaChannel,this.palette.length&&(y=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),u=4,l=!0),x=(d=a.data||a).length,g=y||s,f=b=0,u===1)for(;f<x;)m=y?4*s[f/4]:b,A=g[m++],d[f++]=A,d[f++]=A,d[f++]=A,d[f++]=l?g[m++]:255,b=m;else for(;f<x;)m=y?4*s[f/4]:b,d[f++]=g[m++],d[f++]=g[m++],d[f++]=g[m++],d[f++]=l?g[m++]:255,b=m},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(cn)==="[object Window]"){try{n=cn.document.createElement("canvas"),t=n.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var s;if(i()===!0)return t.width=a.width,t.height=a.height,t.clearRect(0,0,a.width,a.height),t.putImageData(a,0,0),(s=new Image).src=n.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var s,l,u,d,f,g,b,m;if(this.animation){for(m=[],l=f=0,g=(b=this.animation.frames).length;f<g;l=++f)s=b[l],u=a.createImageData(s.width,s.height),d=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(u,d),s.imageData=u,m.push(s.image=e(u));return m}},r.prototype.renderFrame=function(a,s){var l,u,d;return l=(u=this.animation.frames)[s],d=u[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?a.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&a.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(a){var s,l,u,d,f,g,b=this;return l=0,g=this.animation,d=g.numFrames,u=g.frames,f=g.numPlays,(s=function(){var m,x;if(m=l++%d,x=u[m],b.renderFrame(a,m),d>1&&l/d<f)return b.animation._timeout=setTimeout(s,x.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var s,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function SK(e){var n=0;if(e[n++]!==71||e[n++]!==73||e[n++]!==70||e[n++]!==56||(e[n++]+1&253)!=56||e[n++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=e[n++]|e[n++]<<8,r=e[n++]|e[n++]<<8,i=e[n++],a=i>>7,s=1<<(7&i)+1;e[n++],e[n++];var l=null,u=null;a&&(l=n,u=s,n+=3*s);var d=!0,f=[],g=0,b=null,m=0,x=null;for(this.width=t,this.height=r;d&&n<e.length;)switch(e[n++]){case 33:switch(e[n++]){case 255:if(e[n]!==11||e[n+1]==78&&e[n+2]==69&&e[n+3]==84&&e[n+4]==83&&e[n+5]==67&&e[n+6]==65&&e[n+7]==80&&e[n+8]==69&&e[n+9]==50&&e[n+10]==46&&e[n+11]==48&&e[n+12]==3&&e[n+13]==1&&e[n+16]==0)n+=14,x=e[n++]|e[n++]<<8,n++;else for(n+=12;;){if(!((j=e[n++])>=0))throw Error("Invalid block size");if(j===0)break;n+=j}break;case 249:if(e[n++]!==4||e[n+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[n++];g=e[n++]|e[n++]<<8,b=e[n++],(1&y)==0&&(b=null),m=y>>2&7,n++;break;case 254:for(;;){if(!((j=e[n++])>=0))throw Error("Invalid block size");if(j===0)break;n+=j}break;default:throw new Error("Unknown graphic control label: 0x"+e[n-1].toString(16))}break;case 44:var A=e[n++]|e[n++]<<8,w=e[n++]|e[n++]<<8,C=e[n++]|e[n++]<<8,N=e[n++]|e[n++]<<8,R=e[n++],F=R>>6&1,q=1<<(7&R)+1,k=l,L=u,B=!1;R>>7&&(B=!0,k=n,L=q,n+=3*q);var X=n;for(n++;;){var j;if(!((j=e[n++])>=0))throw Error("Invalid block size");if(j===0)break;n+=j}f.push({x:A,y:w,width:C,height:N,has_local_palette:B,palette_offset:k,palette_size:L,data_offset:X,data_length:n-X,transparent_index:b,interlaced:!!F,delay:g,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[n-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return x},this.frameInfo=function(O){if(O<0||O>=f.length)throw new Error("Frame index out of range.");return f[O]},this.decodeAndBlitFrameBGRA=function(O,P){var T=this.frameInfo(O),G=T.width*T.height,W=new Uint8Array(G);n4(e,T.data_offset,W,G);var K=T.palette_offset,ie=T.transparent_index;ie===null&&(ie=256);var ue=T.width,$=t-ue,ae=ue,U=4*(T.y*t+T.x),z=4*((T.y+T.height)*t+T.x),Z=U,ee=4*$;T.interlaced===!0&&(ee+=4*t*7);for(var se=8,we=0,xe=W.length;we<xe;++we){var Ee=W[we];if(ae===0&&(ae=ue,(Z+=ee)>=z&&(ee=4*$+4*t*(se-1),Z=U+(ue+$)*(se<<1),se>>=1)),Ee===ie)Z+=4;else{var Ie=e[K+3*Ee],Re=e[K+3*Ee+1],We=e[K+3*Ee+2];P[Z++]=We,P[Z++]=Re,P[Z++]=Ie,P[Z++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(O,P){var T=this.frameInfo(O),G=T.width*T.height,W=new Uint8Array(G);n4(e,T.data_offset,W,G);var K=T.palette_offset,ie=T.transparent_index;ie===null&&(ie=256);var ue=T.width,$=t-ue,ae=ue,U=4*(T.y*t+T.x),z=4*((T.y+T.height)*t+T.x),Z=U,ee=4*$;T.interlaced===!0&&(ee+=4*t*7);for(var se=8,we=0,xe=W.length;we<xe;++we){var Ee=W[we];if(ae===0&&(ae=ue,(Z+=ee)>=z&&(ee=4*$+4*t*(se-1),Z=U+(ue+$)*(se<<1),se>>=1)),Ee===ie)Z+=4;else{var Ie=e[K+3*Ee],Re=e[K+3*Ee+1],We=e[K+3*Ee+2];P[Z++]=Ie,P[Z++]=Re,P[Z++]=We,P[Z++]=255}--ae}}}function n4(e,n,t,r){for(var i=e[n++],a=1<<i,s=a+1,l=s+1,u=i+1,d=(1<<u)-1,f=0,g=0,b=0,m=e[n++],x=new Int32Array(4096),y=null;;){for(;f<16&&m!==0;)g|=e[n++]<<f,f+=8,m===1?m=e[n++]:--m;if(f<u)break;var A=g&d;if(g>>=u,f-=u,A!==a){if(A===s)break;for(var w=A<l?A:y,C=0,N=w;N>a;)N=x[N]>>8,++C;var R=N;if(b+C+(w!==A?1:0)>r)return void Xr.log("Warning, gif stream longer than expected.");t[b++]=R;var F=b+=C;for(w!==A&&(t[b++]=R),N=w;C--;)N=x[N],t[--F]=255&N,N>>=8;y!==null&&l<4096&&(x[l++]=y<<8|R,l>=d+1&&u<12&&(++u,d=d<<1|1)),y=A}else l=s+1,d=(1<<(u=i+1))-1,y=null}return b!==r&&Xr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function mw(e){var n,t,r,i,a,s=Math.floor,l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(64),g=new Array(65535),b=new Array(65535),m=new Array(64),x=new Array(64),y=[],A=0,w=7,C=new Array(64),N=new Array(64),R=new Array(64),F=new Array(256),q=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(U,z){for(var Z=0,ee=0,se=new Array,we=1;we<=16;we++){for(var xe=1;xe<=U[we];xe++)se[z[ee]]=[],se[z[ee]][0]=Z,se[z[ee]][1]=we,ee++,Z++;Z*=2}return se}function K(U){for(var z=U[0],Z=U[1]-1;Z>=0;)z&1<<Z&&(A|=1<<w),Z--,--w<0&&(A==255?(ie(255),ie(0)):ie(A),w=7,A=0)}function ie(U){y.push(U)}function ue(U){ie(U>>8&255),ie(255&U)}function $(U,z,Z,ee,se){for(var we,xe=se[0],Ee=se[240],Ie=function(Ae,De){var ze,Ne,Xe,lt,nt,Fe,ve,ke,Te,dt,Je=0;for(Te=0;Te<8;++Te){ze=Ae[Je],Ne=Ae[Je+1],Xe=Ae[Je+2],lt=Ae[Je+3],nt=Ae[Je+4],Fe=Ae[Je+5],ve=Ae[Je+6];var Ft=ze+(ke=Ae[Je+7]),kt=ze-ke,Vt=Ne+ve,Lt=Ne-ve,Zt=Xe+Fe,nn=Xe-Fe,ln=lt+nt,Pn=lt-nt,zn=Ft+ln,Gr=Ft-ln,ir=Vt+Zt,Rn=Vt-Zt;Ae[Je]=zn+ir,Ae[Je+4]=zn-ir;var Gt=.707106781*(Rn+Gr);Ae[Je+2]=Gr+Gt,Ae[Je+6]=Gr-Gt;var An=.382683433*((zn=Pn+nn)-(Rn=Lt+kt)),ya=.5411961*zn+An,Sr=1.306562965*Rn+An,oi=.707106781*(ir=nn+Lt),xa=kt+oi,Dt=kt-oi;Ae[Je+5]=Dt+ya,Ae[Je+3]=Dt-ya,Ae[Je+1]=xa+Sr,Ae[Je+7]=xa-Sr,Je+=8}for(Je=0,Te=0;Te<8;++Te){ze=Ae[Je],Ne=Ae[Je+8],Xe=Ae[Je+16],lt=Ae[Je+24],nt=Ae[Je+32],Fe=Ae[Je+40],ve=Ae[Je+48];var Hn=ze+(ke=Ae[Je+56]),ar=ze-ke,Mr=Ne+ve,dr=Ne-ve,fr=Xe+Fe,$n=Xe-Fe,bs=lt+nt,Nr=lt-nt,Ia=Hn+bs,Pi=Hn-bs,zi=Mr+fr,Jn=Mr-fr;Ae[Je]=Ia+zi,Ae[Je+32]=Ia-zi;var Ci=.707106781*(Jn+Pi);Ae[Je+16]=Pi+Ci,Ae[Je+48]=Pi-Ci;var er=.382683433*((Ia=Nr+$n)-(Jn=dr+ar)),ro=.5411961*Ia+er,Co=1.306562965*Jn+er,Fa=.707106781*(zi=$n+dr),Fr=ar+Fa,il=ar-Fa;Ae[Je+40]=il+ro,Ae[Je+24]=il-ro,Ae[Je+8]=Fr+Co,Ae[Je+56]=Fr-Co,Je++}for(Te=0;Te<64;++Te)dt=Ae[Te]*De[Te],m[Te]=dt>0?dt+.5|0:dt-.5|0;return m}(U,z),Re=0;Re<64;++Re)x[k[Re]]=Ie[Re];var We=x[0]-Z;Z=x[0],We==0?K(ee[0]):(K(ee[b[we=32767+We]]),K(g[we]));for(var Ve=63;Ve>0&&x[Ve]==0;)Ve--;if(Ve==0)return K(xe),Z;for(var V,Se=1;Se<=Ve;){for(var te=Se;x[Se]==0&&Se<=Ve;)++Se;var be=Se-te;if(be>=16){V=be>>4;for(var ce=1;ce<=V;++ce)K(Ee);be&=15}we=32767+x[Se],K(se[(be<<4)+b[we]]),K(g[we]),Se++}return Ve!=63&&K(xe),Z}function ae(U){U=Math.min(Math.max(U,1),100),a!=U&&(function(z){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var se=s((Z[ee]*z+50)/100);se=Math.min(Math.max(se,1),255),l[k[ee]]=se}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var Ee=s((we[xe]*z+50)/100);Ee=Math.min(Math.max(Ee,1),255),u[k[xe]]=Ee}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,We=0;We<8;We++)for(var Ve=0;Ve<8;Ve++)d[Re]=1/(l[k[Re]]*Ie[We]*Ie[Ve]*8),f[Re]=1/(u[k[Re]]*Ie[We]*Ie[Ve]*8),Re++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),a=U)}this.encode=function(U,z){z&&ae(z),y=new Array,A=0,w=7,ue(65496),ue(65504),ue(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),ue(1),ue(1),ie(0),ie(0),function(){ue(65499),ue(132),ie(0);for(var Ne=0;Ne<64;Ne++)ie(l[Ne]);ie(1);for(var Xe=0;Xe<64;Xe++)ie(u[Xe])}(),function(Ne,Xe){ue(65472),ue(17),ie(8),ue(Xe),ue(Ne),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(U.width,U.height),function(){ue(65476),ue(418),ie(0);for(var Ne=0;Ne<16;Ne++)ie(L[Ne+1]);for(var Xe=0;Xe<=11;Xe++)ie(B[Xe]);ie(16);for(var lt=0;lt<16;lt++)ie(X[lt+1]);for(var nt=0;nt<=161;nt++)ie(j[nt]);ie(1);for(var Fe=0;Fe<16;Fe++)ie(O[Fe+1]);for(var ve=0;ve<=11;ve++)ie(P[ve]);ie(17);for(var ke=0;ke<16;ke++)ie(T[ke+1]);for(var Te=0;Te<=161;Te++)ie(G[Te])}(),ue(65498),ue(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var Z=0,ee=0,se=0;A=0,w=7,this.encode.displayName="_encode_";for(var we,xe,Ee,Ie,Re,We,Ve,V,Se,te=U.data,be=U.width,ce=U.height,Ae=4*be,De=0;De<ce;){for(we=0;we<Ae;){for(Re=Ae*De+we,Ve=-1,V=0,Se=0;Se<64;Se++)We=Re+(V=Se>>3)*Ae+(Ve=4*(7&Se)),De+V>=ce&&(We-=Ae*(De+1+V-ce)),we+Ve>=Ae&&(We-=we+Ve-Ae+4),xe=te[We++],Ee=te[We++],Ie=te[We++],C[Se]=(q[xe]+q[Ee+256>>0]+q[Ie+512>>0]>>16)-128,N[Se]=(q[xe+768>>0]+q[Ee+1024>>0]+q[Ie+1280>>0]>>16)-128,R[Se]=(q[xe+1280>>0]+q[Ee+1536>>0]+q[Ie+1792>>0]>>16)-128;Z=$(C,d,Z,n,r),ee=$(N,f,ee,t,i),se=$(R,f,se,t,i),we+=32}De+=8}if(w>=0){var ze=[];ze[1]=w+1,ze[0]=(1<<w+1)-1,K(ze)}return ue(65497),new Uint8Array(y)},e=e||50,function(){for(var U=String.fromCharCode,z=0;z<256;z++)F[z]=U(z)}(),n=W(L,B),t=W(O,P),r=W(X,j),i=W(T,G),function(){for(var U=1,z=2,Z=1;Z<=15;Z++){for(var ee=U;ee<z;ee++)b[32767+ee]=Z,g[32767+ee]=[],g[32767+ee][1]=Z,g[32767+ee][0]=ee;for(var se=-(z-1);se<=-U;se++)b[32767+se]=Z,g[32767+se]=[],g[32767+se][1]=Z,g[32767+se][0]=z-1+se;U<<=1,z<<=1}}(),function(){for(var U=0;U<256;U++)q[U]=19595*U,q[U+256>>0]=38470*U,q[U+512>>0]=7471*U+32768,q[U+768>>0]=-11059*U,q[U+1024>>0]=-21709*U,q[U+1280>>0]=32768*U+8421375,q[U+1536>>0]=-27439*U,q[U+1792>>0]=-5329*U}(),ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function fu(e,n){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function r4(e){function n(L){if(!L)throw Error("assert :P")}function t(L,B,X){for(var j=0;4>j;j++)if(L[B+j]!=X.charCodeAt(j))return!0;return!1}function r(L,B,X,j,O){for(var P=0;P<O;P++)L[B+P]=X[j+P]}function i(L,B,X,j){for(var O=0;O<j;O++)L[B+O]=X}function a(L){return new Int32Array(L)}function s(L,B){for(var X=[],j=0;j<L;j++)X.push(new B);return X}function l(L,B){var X=[];return function j(O,P,T){for(var G=T[P],W=0;W<G&&(O.push(T.length>P+1?[]:new B),!(T.length<P+1));W++)j(O[W],P+1,T)}(X,0,L),X}var u=function(){var L=this;function B(S,_){for(var M=1<<_-1>>>0;S&M;)M>>>=1;return M?(S&M-1)+M:S}function X(S,_,M,Y,ne){n(!(Y%M));do S[_+(Y-=M)]=ne;while(0<Y)}function j(S,_,M,Y,ne){if(n(2328>=ne),512>=ne)var oe=a(512);else if((oe=a(ne))==null)return 0;return function(le,he,ye,Ce,Me,Ke){var Ge,$e,yt=he,it=1<<ye,Pe=a(16),Ue=a(16);for(n(Me!=0),n(Ce!=null),n(le!=null),n(0<ye),$e=0;$e<Me;++$e){if(15<Ce[$e])return 0;++Pe[Ce[$e]]}if(Pe[0]==Me)return 0;for(Ue[1]=0,Ge=1;15>Ge;++Ge){if(Pe[Ge]>1<<Ge)return 0;Ue[Ge+1]=Ue[Ge]+Pe[Ge]}for($e=0;$e<Me;++$e)Ge=Ce[$e],0<Ce[$e]&&(Ke[Ue[Ge]++]=$e);if(Ue[15]==1)return(Ce=new O).g=0,Ce.value=Ke[0],X(le,yt,1,it,Ce),it;var ht,vt=-1,mt=it-1,Ot=0,Nt=1,Qt=1,jt=1<<ye;for($e=0,Ge=1,Me=2;Ge<=ye;++Ge,Me<<=1){if(Nt+=Qt<<=1,0>(Qt-=Pe[Ge]))return 0;for(;0<Pe[Ge];--Pe[Ge])(Ce=new O).g=Ge,Ce.value=Ke[$e++],X(le,yt+Ot,Me,jt,Ce),Ot=B(Ot,Ge)}for(Ge=ye+1,Me=2;15>=Ge;++Ge,Me<<=1){if(Nt+=Qt<<=1,0>(Qt-=Pe[Ge]))return 0;for(;0<Pe[Ge];--Pe[Ge]){if(Ce=new O,(Ot&mt)!=vt){for(yt+=jt,ht=1<<(vt=Ge)-ye;15>vt&&!(0>=(ht-=Pe[vt]));)++vt,ht<<=1;it+=jt=1<<(ht=vt-ye),le[he+(vt=Ot&mt)].g=ht+ye,le[he+vt].value=yt-he-vt}Ce.g=Ge-ye,Ce.value=Ke[$e++],X(le,yt+(Ot>>ye),Me,jt,Ce),Ot=B(Ot,Ge)}}return Nt!=2*Ue[15]-1?0:it}(S,_,M,Y,ne,oe)}function O(){this.value=this.g=0}function P(){this.value=this.g=0}function T(){this.G=s(5,O),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ta,P)}function G(S,_,M,Y){n(S!=null),n(_!=null),n(2147483648>Y),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=_,S.pa=M,S.Jd=_,S.Yc=M+Y,S.Zc=4<=Y?M+Y-4+1:M,we(S)}function W(S,_){for(var M=0;0<_--;)M|=Ee(S,128)<<_;return M}function K(S,_){var M=W(S,_);return xe(S)?-M:M}function ie(S,_,M,Y){var ne,oe=0;for(n(S!=null),n(_!=null),n(4294967288>Y),S.Sb=Y,S.Ra=0,S.u=0,S.h=0,4<Y&&(Y=4),ne=0;ne<Y;++ne)oe+=_[M+ne]<<8*ne;S.Ra=oe,S.bb=Y,S.oa=_,S.pa=M}function ue(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Qc-8>>>0,++S.bb,S.u-=8;Z(S)&&(S.h=1,S.u=0)}function $(S,_){if(n(0<=_),!S.h&&_<=Gc){var M=z(S)&Mu[_];return S.u+=_,ue(S),M}return S.h=1,S.u=0}function ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(S){return S.Ra>>>(S.u&Qc-1)>>>0}function Z(S){return n(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Qc}function ee(S,_){S.u=_,S.h=Z(S)}function se(S){S.u>=tf&&(n(S.u>=tf),ue(S))}function we(S){n(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(n(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function xe(S){return W(S,1)}function Ee(S,_){var M=S.Ca;0>S.b&&we(S);var Y=S.b,ne=M*_>>>8,oe=(S.I>>>Y>ne)+0;for(oe?(M-=ne,S.I-=ne+1<<Y>>>0):M=ne+1,Y=M,ne=0;256<=Y;)ne+=8,Y>>=8;return Y=7^ne+Cs[Y],S.b-=Y,S.Ca=(M<<Y)-1,oe}function Ie(S,_,M){S[_+0]=M>>24&255,S[_+1]=M>>16&255,S[_+2]=M>>8&255,S[_+3]=M>>0&255}function Re(S,_){return S[_+0]<<0|S[_+1]<<8}function We(S,_){return Re(S,_)|S[_+2]<<16}function Ve(S,_){return Re(S,_)|Re(S,_+2)<<16}function V(S,_){var M=1<<_;return n(S!=null),n(0<_),S.X=a(M),S.X==null?0:(S.Mb=32-_,S.Xa=_,1)}function Se(S,_){n(S!=null),n(_!=null),n(S.Xa==_.Xa),r(_.X,0,S.X,0,1<<_.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function be(S,_,M,Y){n(M!=null),n(Y!=null);var ne=M[0],oe=Y[0];return ne==0&&(ne=(S*oe+_/2)/_),oe==0&&(oe=(_*ne+S/2)/S),0>=ne||0>=oe?0:(M[0]=ne,Y[0]=oe,1)}function ce(S,_){return S+(1<<_)-1>>>_}function Ae(S,_){return((4278255360&S)+(4278255360&_)>>>0&4278255360)+((16711935&S)+(16711935&_)>>>0&16711935)>>>0}function De(S,_){L[_]=function(M,Y,ne,oe,le,he,ye){var Ce;for(Ce=0;Ce<le;++Ce){var Me=L[S](he[ye+Ce-1],ne,oe+Ce);he[ye+Ce]=Ae(M[Y+Ce],Me)}}}function ze(){this.ud=this.hd=this.jd=0}function Ne(S,_){return((4278124286&(S^_))>>>1)+(S&_)>>>0}function Xe(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function lt(S,_){return Xe(S+(S-_+.5>>1))}function nt(S,_,M){return Math.abs(_-M)-Math.abs(S-M)}function Fe(S,_,M,Y,ne,oe,le){for(Y=oe[le-1],M=0;M<ne;++M)oe[le+M]=Y=Ae(S[_+M],Y)}function ve(S,_,M,Y,ne){var oe;for(oe=0;oe<M;++oe){var le=S[_+oe],he=le>>8&255,ye=16711935&(ye=(ye=16711935&le)+((he<<16)+he));Y[ne+oe]=(4278255360&le)+ye>>>0}}function ke(S,_){_.jd=S>>0&255,_.hd=S>>8&255,_.ud=S>>16&255}function Te(S,_,M,Y,ne,oe){var le;for(le=0;le<Y;++le){var he=_[M+le],ye=he>>>8,Ce=he,Me=255&(Me=(Me=he>>>16)+((S.jd<<24>>24)*(ye<<24>>24)>>>5));Ce=255&(Ce=(Ce=Ce+((S.hd<<24>>24)*(ye<<24>>24)>>>5))+((S.ud<<24>>24)*(Me<<24>>24)>>>5)),ne[oe+le]=(4278255360&he)+(Me<<16)+Ce}}function dt(S,_,M,Y,ne){L[_]=function(oe,le,he,ye,Ce,Me,Ke,Ge,$e){for(ye=Ke;ye<Ge;++ye)for(Ke=0;Ke<$e;++Ke)Ce[Me++]=ne(he[Y(oe[le++])])},L[S]=function(oe,le,he,ye,Ce,Me,Ke){var Ge=8>>oe.b,$e=oe.Ea,yt=oe.K[0],it=oe.w;if(8>Ge)for(oe=(1<<oe.b)-1,it=(1<<Ge)-1;le<he;++le){var Pe,Ue=0;for(Pe=0;Pe<$e;++Pe)Pe&oe||(Ue=Y(ye[Ce++])),Me[Ke++]=ne(yt[Ue&it]),Ue>>=Ge}else L["VP8LMapColor"+M](ye,Ce,yt,it,Me,Ke,le,he,$e)}}function Je(S,_,M,Y,ne){for(M=_+M;_<M;){var oe=S[_++];Y[ne++]=oe>>16&255,Y[ne++]=oe>>8&255,Y[ne++]=oe>>0&255}}function Ft(S,_,M,Y,ne){for(M=_+M;_<M;){var oe=S[_++];Y[ne++]=oe>>16&255,Y[ne++]=oe>>8&255,Y[ne++]=oe>>0&255,Y[ne++]=oe>>24&255}}function kt(S,_,M,Y,ne){for(M=_+M;_<M;){var oe=(le=S[_++])>>16&240|le>>12&15,le=le>>0&240|le>>28&15;Y[ne++]=oe,Y[ne++]=le}}function Vt(S,_,M,Y,ne){for(M=_+M;_<M;){var oe=(le=S[_++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;Y[ne++]=oe,Y[ne++]=le}}function Lt(S,_,M,Y,ne){for(M=_+M;_<M;){var oe=S[_++];Y[ne++]=oe>>0&255,Y[ne++]=oe>>8&255,Y[ne++]=oe>>16&255}}function Zt(S,_,M,Y,ne,oe){if(oe==0)for(M=_+M;_<M;)Ie(Y,((oe=S[_++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ne+=32;else r(Y,ne,S,_,M)}function nn(S,_){L[_][0]=L[S+"0"],L[_][1]=L[S+"1"],L[_][2]=L[S+"2"],L[_][3]=L[S+"3"],L[_][4]=L[S+"4"],L[_][5]=L[S+"5"],L[_][6]=L[S+"6"],L[_][7]=L[S+"7"],L[_][8]=L[S+"8"],L[_][9]=L[S+"9"],L[_][10]=L[S+"10"],L[_][11]=L[S+"11"],L[_][12]=L[S+"12"],L[_][13]=L[S+"13"],L[_][14]=L[S+"0"],L[_][15]=L[S+"0"]}function ln(S){return S==Sh||S==Vu||S==Zl||S==sf}function Pn(){this.eb=[],this.size=this.A=this.fb=0}function zn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pn,this.f.kb=new zn,this.sd=null}function ir(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Gt(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function An(S,_){var M=S.T,Y=_.ba.f.RGBA,ne=Y.eb,oe=Y.fb+S.ka*Y.A,le=Ca[_.ba.S],he=S.y,ye=S.O,Ce=S.f,Me=S.N,Ke=S.ea,Ge=S.W,$e=_.cc,yt=_.dc,it=_.Mc,Pe=_.Nc,Ue=S.ka,ht=S.ka+S.T,vt=S.U,mt=vt+1>>1;for(Ue==0?le(he,ye,null,null,Ce,Me,Ke,Ge,Ce,Me,Ke,Ge,ne,oe,null,null,vt):(le(_.ec,_.fc,he,ye,$e,yt,it,Pe,Ce,Me,Ke,Ge,ne,oe-Y.A,ne,oe,vt),++M);Ue+2<ht;Ue+=2)$e=Ce,yt=Me,it=Ke,Pe=Ge,Me+=S.Rc,Ge+=S.Rc,oe+=2*Y.A,le(he,(ye+=2*S.fa)-S.fa,he,ye,$e,yt,it,Pe,Ce,Me,Ke,Ge,ne,oe-Y.A,ne,oe,vt);return ye+=S.fa,S.j+ht<S.o?(r(_.ec,_.fc,he,ye,vt),r(_.cc,_.dc,Ce,Me,mt),r(_.Mc,_.Nc,Ke,Ge,mt),M--):1&ht||le(he,ye,null,null,Ce,Me,Ke,Ge,Ce,Me,Ke,Ge,ne,oe+Y.A,null,null,vt),M}function ya(S,_,M){var Y=S.F,ne=[S.J];if(Y!=null){var oe=S.U,le=_.ba.S,he=le==ed||le==Zl;_=_.ba.f.RGBA;var ye=[0],Ce=S.ka;ye[0]=S.T,S.Kb&&(Ce==0?--ye[0]:(--Ce,ne[0]-=S.width),S.j+S.ka+S.T==S.o&&(ye[0]=S.o-S.j-Ce));var Me=_.eb;Ce=_.fb+Ce*_.A,S=Ln(Y,ne[0],S.width,oe,ye,Me,Ce+(he?0:3),_.A),n(M==ye),S&&ln(le)&&Ks(Me,Ce,he,oe,ye,_.A)}return 0}function Sr(S){var _=S.ma,M=_.ba.S,Y=11>M,ne=M==af||M==wh||M==ed||M==Xl||M==12||ln(M);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Ru(_.Oa,S,ne?11:12))return 0;if(ne&&ln(M)&&Ct(),S.da)alert("todo:use_scaling");else{if(Y){if(_.Ib=Gt,S.Kb){if(M=S.U+1>>1,_.memory=a(S.U+2*M),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+S.U,_.Mc=_.cc,_.Nc=_.dc+M,_.Ib=An,Ct()}}else alert("todo:EmitYUV");ne&&(_.Jb=ya,Y&&Ye())}if(Y&&!wb){for(S=0;256>S;++S)S2[S]=89858*(S-128)+ra>>yl,Eh[S]=-22014*(S-128)+ra,_m[S]=-45773*(S-128),ia[S]=113618*(S-128)+ra>>yl;for(S=Qu;S<qp;++S)_=76283*(S-16)+ra>>yl,_h[S-Qu]=Qs(_,255),km[S-Qu]=Qs(_+8>>4,15);wb=1}return 1}function oi(S){var _=S.ma,M=S.U,Y=S.T;return n(!(1&S.ka)),0>=M||0>=Y?0:(M=_.Ib(S,_),_.Jb!=null&&_.Jb(S,_,M),_.Dc+=M,1)}function xa(S){S.ma.memory=null}function Dt(S,_,M,Y){return $(S,8)!=47?0:(_[0]=$(S,14)+1,M[0]=$(S,14)+1,Y[0]=$(S,1),$(S,3)!=0?0:!S.h)}function Hn(S,_){if(4>S)return S+1;var M=S-2>>1;return(2+(1&S)<<M)+$(_,M)+1}function ar(S,_){return 120<_?_-120:1<=(M=((M=eu[_-1])>>4)*S+(8-(15&M)))?M:1;var M}function Mr(S,_,M){var Y=z(M),ne=S[_+=255&Y].g-8;return 0<ne&&(ee(M,M.u+8),Y=z(M),_+=S[_].value,_+=Y&(1<<ne)-1),ee(M,M.u+S[_].g),S[_].value}function dr(S,_,M){return M.g+=S.g,M.value+=S.value<<_>>>0,n(8>=M.g),S.g}function fr(S,_,M){var Y=S.xc;return n((_=Y==0?0:S.vc[S.md*(M>>Y)+(_>>Y)])<S.Wb),S.Ya[_]}function $n(S,_,M,Y){var ne=S.ab,oe=S.c*_,le=S.C;_=le+_;var he=M,ye=Y;for(Y=S.Ta,M=S.Ua;0<ne--;){var Ce=S.gc[ne],Me=le,Ke=_,Ge=he,$e=ye,yt=(ye=Y,he=M,Ce.Ea);switch(n(Me<Ke),n(Ke<=Ce.nc),Ce.hc){case 2:Dp(Ge,$e,(Ke-Me)*yt,ye,he);break;case 0:var it=Me,Pe=Ke,Ue=ye,ht=he,vt=(jt=Ce).Ea;it==0&&(Cm(Ge,$e,null,null,1,Ue,ht),Fe(Ge,$e+1,0,0,vt-1,Ue,ht+1),$e+=vt,ht+=vt,++it);for(var mt=1<<jt.b,Ot=mt-1,Nt=ce(vt,jt.b),Qt=jt.K,jt=jt.w+(it>>jt.b)*Nt;it<Pe;){var Vn=Qt,sr=jt,In=1;for(xh(Ge,$e,Ue,ht-vt,1,Ue,ht);In<vt;){var Tn=(In&~Ot)+mt;Tn>vt&&(Tn=vt),(0,Gl[Vn[sr++]>>8&15])(Ge,$e+ +In,Ue,ht+In-vt,Tn-In,Ue,ht+In),In=Tn}$e+=vt,ht+=vt,++it&Ot||(jt+=Nt)}Ke!=Ce.nc&&r(ye,he-yt,ye,he+(Ke-Me-1)*yt,yt);break;case 1:for(yt=Ge,Pe=$e,vt=(Ge=Ce.Ea)-(ht=Ge&~(Ue=($e=1<<Ce.b)-1)),it=ce(Ge,Ce.b),mt=Ce.K,Ce=Ce.w+(Me>>Ce.b)*it;Me<Ke;){for(Ot=mt,Nt=Ce,Qt=new ze,jt=Pe+ht,Vn=Pe+Ge;Pe<jt;)ke(Ot[Nt++],Qt),Pu(Qt,yt,Pe,$e,ye,he),Pe+=$e,he+=$e;Pe<Vn&&(ke(Ot[Nt++],Qt),Pu(Qt,yt,Pe,vt,ye,he),Pe+=vt,he+=vt),++Me&Ue||(Ce+=it)}break;case 3:if(Ge==ye&&$e==he&&0<Ce.b){for(Pe=ye,Ge=yt=he+(Ke-Me)*yt-(ht=(Ke-Me)*ce(Ce.Ea,Ce.b)),$e=ye,Ue=he,it=[],ht=(vt=ht)-1;0<=ht;--ht)it[ht]=$e[Ue+ht];for(ht=vt-1;0<=ht;--ht)Pe[Ge+ht]=it[ht];lo(Ce,Me,Ke,ye,yt,ye,he)}else lo(Ce,Me,Ke,Ge,$e,ye,he)}he=Y,ye=M}ye!=M&&r(Y,M,he,ye,oe)}function bs(S,_){var M=S.V,Y=S.Ba+S.c*S.C,ne=_-S.C;if(n(_<=S.l.o),n(16>=ne),0<ne){var oe=S.l,le=S.Ta,he=S.Ua,ye=oe.width;if($n(S,ne,M,Y),ne=he=[he],n((M=S.C)<(Y=_)),n(oe.v<oe.va),Y>oe.o&&(Y=oe.o),M<oe.j){var Ce=oe.j-M;M=oe.j,ne[0]+=Ce*ye}if(M>=Y?M=0:(ne[0]+=4*oe.v,oe.ka=M-oe.j,oe.U=oe.va-oe.v,oe.T=Y-M,M=1),M){if(he=he[0],11>(M=S.ca).S){var Me=M.f.RGBA,Ke=(Y=M.S,ne=oe.U,oe=oe.T,Ce=Me.eb,Me.A),Ge=oe;for(Me=Me.fb+S.Ma*Me.A;0<Ge--;){var $e=le,yt=he,it=ne,Pe=Ce,Ue=Me;switch(Y){case Wa:ss($e,yt,it,Pe,Ue);break;case af:La($e,yt,it,Pe,Ue);break;case Sh:La($e,yt,it,Pe,Ue),Ks(Pe,Ue,0,it,1,0);break;case pl:Io($e,yt,it,Pe,Ue);break;case wh:Zt($e,yt,it,Pe,Ue,1);break;case Vu:Zt($e,yt,it,Pe,Ue,1),Ks(Pe,Ue,0,it,1,0);break;case ed:Zt($e,yt,it,Pe,Ue,0);break;case Zl:Zt($e,yt,it,Pe,Ue,0),Ks(Pe,Ue,1,it,1,0);break;case Xl:zu($e,yt,it,Pe,Ue);break;case sf:zu($e,yt,it,Pe,Ue),Dn(Pe,Ue,it,1,0);break;case Rp:Es($e,yt,it,Pe,Ue);break;default:n(0)}he+=ye,Me+=Ke}S.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");n(S.Ma<=M.height)}}S.C=_,n(S.C<=S.i)}function Nr(S){var _;if(0<S.ua)return 0;for(_=0;_<S.Wb;++_){var M=S.Ya[_].G,Y=S.Ya[_].H;if(0<M[1][Y[1]+0].g||0<M[2][Y[2]+0].g||0<M[3][Y[3]+0].g)return 0}return 1}function Ia(S,_,M,Y,ne,oe){if(S.Z!=0){var le=S.qd,he=S.rd;for(n(gl[S.Z]!=null);_<M;++_)gl[S.Z](le,he,Y,ne,Y,ne,oe),le=Y,he=ne,ne+=oe;S.qd=le,S.rd=he}}function Pi(S,_){var M=S.l.ma,Y=M.Z==0||M.Z==1?S.l.j:S.C;if(Y=S.C<Y?Y:S.C,n(_<=S.l.o),_>Y){var ne=S.l.width,oe=M.ca,le=M.tb+ne*Y,he=S.V,ye=S.Ba+S.c*Y,Ce=S.gc;n(S.ab==1),n(Ce[0].hc==3),Fu(Ce[0],Y,_,he,ye,oe,le),Ia(M,Y,_,oe,le,ne)}S.C=S.Ma=_}function zi(S,_,M,Y,ne,oe,le){var he=S.$/Y,ye=S.$%Y,Ce=S.m,Me=S.s,Ke=M+S.$,Ge=Ke;ne=M+Y*ne;var $e=M+Y*oe,yt=280+Me.ua,it=S.Pb?he:16777216,Pe=0<Me.ua?Me.Wa:null,Ue=Me.wc,ht=Ke<$e?fr(Me,ye,he):null;n(S.C<oe),n($e<=ne);var vt=!1;e:for(;;){for(;vt||Ke<$e;){var mt=0;if(he>=it){var Ot=Ke-M;n((it=S).Pb),it.wd=it.m,it.xd=Ot,0<it.s.ua&&Se(it.s.Wa,it.s.vb),it=he+yb}if(ye&Ue||(ht=fr(Me,ye,he)),n(ht!=null),ht.Qb&&(_[Ke]=ht.qb,vt=!0),!vt)if(se(Ce),ht.jc){mt=Ce,Ot=_;var Nt=Ke,Qt=ht.pd[z(mt)&ta-1];n(ht.jc),256>Qt.g?(ee(mt,mt.u+Qt.g),Ot[Nt]=Qt.value,mt=0):(ee(mt,mt.u+Qt.g-256),n(256<=Qt.value),mt=Qt.value),mt==0&&(vt=!0)}else mt=Mr(ht.G[0],ht.H[0],Ce);if(Ce.h)break;if(vt||256>mt){if(!vt)if(ht.nd)_[Ke]=(ht.qb|mt<<8)>>>0;else{if(se(Ce),vt=Mr(ht.G[1],ht.H[1],Ce),se(Ce),Ot=Mr(ht.G[2],ht.H[2],Ce),Nt=Mr(ht.G[3],ht.H[3],Ce),Ce.h)break;_[Ke]=(Nt<<24|vt<<16|mt<<8|Ot)>>>0}if(vt=!1,++Ke,++ye>=Y&&(ye=0,++he,le!=null&&he<=oe&&!(he%16)&&le(S,he),Pe!=null))for(;Ge<Ke;)mt=_[Ge++],Pe.X[(506832829*mt&4294967295)>>>Pe.Mb]=mt}else if(280>mt){if(mt=Hn(mt-256,Ce),Ot=Mr(ht.G[4],ht.H[4],Ce),se(Ce),Ot=ar(Y,Ot=Hn(Ot,Ce)),Ce.h)break;if(Ke-M<Ot||ne-Ke<mt)break e;for(Nt=0;Nt<mt;++Nt)_[Ke+Nt]=_[Ke+Nt-Ot];for(Ke+=mt,ye+=mt;ye>=Y;)ye-=Y,++he,le!=null&&he<=oe&&!(he%16)&&le(S,he);if(n(Ke<=ne),ye&Ue&&(ht=fr(Me,ye,he)),Pe!=null)for(;Ge<Ke;)mt=_[Ge++],Pe.X[(506832829*mt&4294967295)>>>Pe.Mb]=mt}else{if(!(mt<yt))break e;for(vt=mt-280,n(Pe!=null);Ge<Ke;)mt=_[Ge++],Pe.X[(506832829*mt&4294967295)>>>Pe.Mb]=mt;mt=Ke,n(!(vt>>>(Ot=Pe).Xa)),_[mt]=Ot.X[vt],vt=!0}vt||n(Ce.h==Z(Ce))}if(S.Pb&&Ce.h&&Ke<ne)n(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&Se(S.s.vb,S.s.Wa);else{if(Ce.h)break e;le!=null&&le(S,he>oe?oe:he),S.a=0,S.$=Ke-M}return 1}return S.a=3,0}function Jn(S){n(S!=null),S.vc=null,S.yc=null,S.Ya=null;var _=S.Wa;_!=null&&(_.X=null),S.vb=null,n(S!=null)}function Ci(){var S=new Am;return S==null?null:(S.a=0,S.xb=of,nn("Predictor","VP8LPredictors"),nn("Predictor","VP8LPredictors_C"),nn("PredictorAdd","VP8LPredictorsAdd"),nn("PredictorAdd","VP8LPredictorsAdd_C"),Dp=ve,Pu=Te,ss=Je,La=Ft,zu=kt,Es=Vt,Io=Lt,L.VP8LMapColor32b=Sa,L.VP8LMapColor8b=vh,S)}function er(S,_,M,Y,ne){var oe=1,le=[S],he=[_],ye=Y.m,Ce=Y.s,Me=null,Ke=0;e:for(;;){if(M)for(;oe&&$(ye,1);){var Ge=le,$e=he,yt=Y,it=1,Pe=yt.m,Ue=yt.gc[yt.ab],ht=$(Pe,2);if(yt.Oc&1<<ht)oe=0;else{switch(yt.Oc|=1<<ht,Ue.hc=ht,Ue.Ea=Ge[0],Ue.nc=$e[0],Ue.K=[null],++yt.ab,n(4>=yt.ab),ht){case 0:case 1:Ue.b=$(Pe,3)+2,it=er(ce(Ue.Ea,Ue.b),ce(Ue.nc,Ue.b),0,yt,Ue.K),Ue.K=Ue.K[0];break;case 3:var vt,mt=$(Pe,8)+1,Ot=16<mt?0:4<mt?1:2<mt?2:3;if(Ge[0]=ce(Ue.Ea,Ot),Ue.b=Ot,vt=it=er(mt,1,0,yt,Ue.K)){var Nt,Qt=mt,jt=Ue,Vn=1<<(8>>jt.b),sr=a(Vn);if(sr==null)vt=0;else{var In=jt.K[0],Tn=jt.w;for(sr[0]=jt.K[0][0],Nt=1;Nt<1*Qt;++Nt)sr[Nt]=Ae(In[Tn+Nt],sr[Nt-1]);for(;Nt<4*Vn;++Nt)sr[Nt]=0;jt.K[0]=null,jt.K[0]=sr,vt=1}}it=vt;break;case 2:break;default:n(0)}oe=it}}if(le=le[0],he=he[0],oe&&$(ye,1)&&!(oe=1<=(Ke=$(ye,4))&&11>=Ke)){Y.a=3;break e}var Er;if(Er=oe)t:{var or,mn,Tr,en=Y,un=le,Wn=he,Yn=Ke,Ea=M,aa=en.m,ji=en.s,Ti=[null],Ui=1,ho=0,lr=nd[Yn];n:for(;;){if(Ea&&$(aa,1)){var $i=$(aa,3)+2,Ro=ce(un,$i),Ku=ce(Wn,$i),ad=Ro*Ku;if(!er(Ro,Ku,0,en,Ti))break n;for(Ti=Ti[0],ji.xc=$i,or=0;or<ad;++or){var Xu=Ti[or]>>8&65535;Ti[or]=Xu,Xu>=Ui&&(Ui=Xu+1)}}if(aa.h)break n;for(mn=0;5>mn;++mn){var ni=Xs[mn];!mn&&0<Yn&&(ni+=1<<Yn),ho<ni&&(ho=ni)}var kh=s(Ui*lr,O),Bp=Ui,ls=s(Bp,T);if(ls==null)var ci=null;else n(65536>=Bp),ci=ls;var sd=a(ho);if(ci==null||sd==null||kh==null){en.a=1;break n}var Zu=kh;for(or=Tr=0;or<Ui;++or){var ks=ci[or],Ju=ks.G,Ns=ks.H,Nh=0,uf=1,Up=0;for(mn=0;5>mn;++mn){ni=Xs[mn],Ju[mn]=Zu,Ns[mn]=Tr,!mn&&0<Yn&&(ni+=1<<Yn);i:{var jh,$p=ni,Th=en,cf=sd,Cb=Zu,Eb=Tr,Oh=0,iu=Th.m,C2=$(iu,1);if(i(cf,0,0,$p),C2){var _b=$(iu,1)+1,kb=$(iu,1),Nm=$(iu,kb==0?1:8);cf[Nm]=1,_b==2&&(cf[Nm=$(iu,8)]=1);var df=1}else{var jm=a(19),Tm=$(iu,4)+4;if(19<Tm){Th.a=3;var Ih=0;break i}for(jh=0;jh<Tm;++jh)jm[Jl[jh]]=$(iu,3);var Hp=void 0,ff=void 0,Nb=Th,jb=jm,au=$p,Dh=cf,Wp=0,Mo=Nb.m,hf=8,Om=s(128,O);r:for(;j(Om,0,7,jb,19);){if($(Mo,1)){var Tb=2+2*$(Mo,3);if((Hp=2+$(Mo,Tb))>au)break r}else Hp=au;for(ff=0;ff<au&&Hp--;){se(Mo);var Im=Om[0+(127&z(Mo))];ee(Mo,Mo.u+Im.g);var od=Im.value;if(16>od)Dh[ff++]=od,od!=0&&(hf=od);else{var Ob=od==16,Dm=od-16,Lm=fo[Dm],Rm=$(Mo,Mp[Dm])+Lm;if(ff+Rm>au)break r;for(var Ib=Ob?hf:0;0<Rm--;)Dh[ff++]=Ib}}Wp=1;break r}Wp||(Nb.a=3),df=Wp}(df=df&&!iu.h)&&(Oh=j(Cb,Eb,8,cf,$p)),df&&Oh!=0?Ih=Oh:(Th.a=3,Ih=0)}if(Ih==0)break n;if(uf&&td[mn]==1&&(uf=Zu[Tr].g==0),Nh+=Zu[Tr].g,Tr+=Ih,3>=mn){var ld,Vp=sd[0];for(ld=1;ld<ni;++ld)sd[ld]>Vp&&(Vp=sd[ld]);Up+=Vp}}if(ks.nd=uf,ks.Qb=0,uf&&(ks.qb=(Ju[3][Ns[3]+0].value<<24|Ju[1][Ns[1]+0].value<<16|Ju[2][Ns[2]+0].value)>>>0,Nh==0&&256>Ju[0][Ns[0]+0].value&&(ks.Qb=1,ks.qb+=Ju[0][Ns[0]+0].value<<8)),ks.jc=!ks.Qb&&6>Up,ks.jc){var Lh,su=ks;for(Lh=0;Lh<ta;++Lh){var xl=Lh,ou=su.pd[xl],Rh=su.G[0][su.H[0]+xl];256<=Rh.value?(ou.g=Rh.g+256,ou.value=Rh.value):(ou.g=0,ou.value=0,xl>>=dr(Rh,8,ou),xl>>=dr(su.G[1][su.H[1]+xl],16,ou),xl>>=dr(su.G[2][su.H[2]+xl],0,ou),dr(su.G[3][su.H[3]+xl],24,ou))}}}ji.vc=Ti,ji.Wb=Ui,ji.Ya=ci,ji.yc=kh,Er=1;break t}Er=0}if(!(oe=Er)){Y.a=3;break e}if(0<Ke){if(Ce.ua=1<<Ke,!V(Ce.Wa,Ke)){Y.a=1,oe=0;break e}}else Ce.ua=0;var Mh=Y,Mm=le,Db=he,Fm=Mh.s,Pm=Fm.xc;if(Mh.c=Mm,Mh.i=Db,Fm.md=ce(Mm,Pm),Fm.wc=Pm==0?-1:(1<<Pm)-1,M){Y.xb=vb;break e}if((Me=a(le*he))==null){Y.a=1,oe=0;break e}oe=(oe=zi(Y,Me,0,le,he,he,null))&&!ye.h;break e}return oe?(ne!=null?ne[0]=Me:(n(Me==null),n(M)),Y.$=0,M||Jn(Ce)):Jn(Ce),oe}function ro(S,_){var M=S.c*S.i,Y=M+_+16*_;return n(S.c<=_),S.V=a(Y),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+M+_,1)}function Co(S,_){var M=S.C,Y=_-M,ne=S.V,oe=S.Ba+S.c*M;for(n(_<=S.l.o);0<Y;){var le=16<Y?16:Y,he=S.l.ma,ye=S.l.width,Ce=ye*le,Me=he.ca,Ke=he.tb+ye*M,Ge=S.Ta,$e=S.Ua;$n(S,le,ne,oe),zr(Ge,$e,Me,Ke,Ce),Ia(he,M,M+le,Me,Ke,ye),Y-=le,ne+=le*S.c,M+=le}n(M==_),S.C=S.Ma=_}function Fa(){this.ub=this.yd=this.td=this.Rb=0}function Fr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function il(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ul(){this.Yb=function(){var S=[];return function _(M,Y,ne){for(var oe=ne[Y],le=0;le<oe&&(M.push(ne.length>Y+1?[]:0),!(ne.length<Y+1));le++)_(M[le],Y+1,ne)}(S,0,[3,11]),S}()}function Ou(){this.jb=a(3),this.Wc=l([4,8],Ul),this.Xc=l([4,17],Ul)}function Hc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function $s(){this.ld=this.La=this.dd=this.tc=0}function ys(){this.Na=this.la=0}function Pa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xs(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function rs(){this.uc=this.M=this.Nb=0,this.wa=Array(new $s),this.Y=0,this.ya=Array(new xs),this.aa=0,this.l=new io}function is(){this.y=a(16),this.f=a(8),this.ea=a(8)}function $l(){this.cb=this.a=0,this.sc="",this.m=new ae,this.Od=new Fa,this.Kc=new Fr,this.ed=new Hc,this.Qa=new il,this.Ic=this.$c=this.Aa=0,this.D=new rs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ae),this.ia=0,this.pb=s(4,Pa),this.Pa=new Ou,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new is),this.Hd=0,this.rb=Array(new ys),this.sb=0,this.wa=Array(new $s),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xs),this.L=this.aa=0,this.gd=l([4,2],$s),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function io(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Wc(){var S=new $l;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,na||(na=al)),S}function Pr(S,_,M){return S.a==0&&(S.a=_,S.sc=M,S.cb=0),0}function Ji(S,_,M){return 3<=M&&S[_+0]==157&&S[_+1]==1&&S[_+2]==42}function ao(S,_){if(S==null)return 0;if(S.a=0,S.sc="OK",_==null)return Pr(S,2,"null VP8Io passed to VP8GetHeaders()");var M=_.data,Y=_.w,ne=_.ha;if(4>ne)return Pr(S,7,"Truncated header.");var oe=M[Y+0]|M[Y+1]<<8|M[Y+2]<<16,le=S.Od;if(le.Rb=!(1&oe),le.td=oe>>1&7,le.yd=oe>>4&1,le.ub=oe>>5,3<le.td)return Pr(S,3,"Incorrect keyframe parameters.");if(!le.yd)return Pr(S,4,"Frame not displayable.");Y+=3,ne-=3;var he=S.Kc;if(le.Rb){if(7>ne)return Pr(S,7,"cannot parse picture header");if(!Ji(M,Y,ne))return Pr(S,3,"Bad code word");he.c=16383&(M[Y+4]<<8|M[Y+3]),he.Td=M[Y+4]>>6,he.i=16383&(M[Y+6]<<8|M[Y+5]),he.Ud=M[Y+6]>>6,Y+=7,ne-=7,S.za=he.c+15>>4,S.Ub=he.i+15>>4,_.width=he.c,_.height=he.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((oe=S.Pa).jb,0,255,oe.jb.length),n((oe=S.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,i(oe.Zb,0,0,oe.Zb.length),i(oe.Lb,0,0,oe.Lb)}if(le.ub>ne)return Pr(S,7,"bad partition length");G(oe=S.m,M,Y,le.ub),Y+=le.ub,ne-=le.ub,le.Rb&&(he.Ld=xe(oe),he.Kd=xe(oe)),he=S.Qa;var ye,Ce=S.Pa;if(n(oe!=null),n(he!=null),he.Cb=xe(oe),he.Cb){if(he.Bb=xe(oe),xe(oe)){for(he.Fb=xe(oe),ye=0;4>ye;++ye)he.Zb[ye]=xe(oe)?K(oe,7):0;for(ye=0;4>ye;++ye)he.Lb[ye]=xe(oe)?K(oe,6):0}if(he.Bb)for(ye=0;3>ye;++ye)Ce.jb[ye]=xe(oe)?W(oe,8):255}else he.Bb=0;if(oe.Ka)return Pr(S,3,"cannot parse segment header");if((he=S.ed).zd=xe(oe),he.Tb=W(oe,6),he.wb=W(oe,3),he.Pc=xe(oe),he.Pc&&xe(oe)){for(Ce=0;4>Ce;++Ce)xe(oe)&&(he.vd[Ce]=K(oe,6));for(Ce=0;4>Ce;++Ce)xe(oe)&&(he.od[Ce]=K(oe,6))}if(S.L=he.Tb==0?0:he.zd?1:2,oe.Ka)return Pr(S,3,"cannot parse filter header");var Me=ne;if(ne=ye=Y,Y=ye+Me,he=Me,S.Xb=(1<<W(S.m,2))-1,Me<3*(Ce=S.Xb))M=7;else{for(ye+=3*Ce,he-=3*Ce,Me=0;Me<Ce;++Me){var Ke=M[ne+0]|M[ne+1]<<8|M[ne+2]<<16;Ke>he&&(Ke=he),G(S.Jc[+Me],M,ye,Ke),ye+=Ke,he-=Ke,ne+=3}G(S.Jc[+Ce],M,ye,he),M=ye<Y?0:5}if(M!=0)return Pr(S,M,"cannot parse partitions");for(M=W(ye=S.m,7),ne=xe(ye)?K(ye,4):0,Y=xe(ye)?K(ye,4):0,he=xe(ye)?K(ye,4):0,Ce=xe(ye)?K(ye,4):0,ye=xe(ye)?K(ye,4):0,Me=S.Qa,Ke=0;4>Ke;++Ke){if(Me.Cb){var Ge=Me.Zb[Ke];Me.Fb||(Ge+=M)}else{if(0<Ke){S.pb[Ke]=S.pb[0];continue}Ge=M}var $e=S.pb[Ke];$e.Sc[0]=Ah[Qs(Ge+ne,127)],$e.Sc[1]=Ch[Qs(Ge+0,127)],$e.Eb[0]=2*Ah[Qs(Ge+Y,127)],$e.Eb[1]=101581*Ch[Qs(Ge+he,127)]>>16,8>$e.Eb[1]&&($e.Eb[1]=8),$e.Qc[0]=Ah[Qs(Ge+Ce,117)],$e.Qc[1]=Ch[Qs(Ge+ye,127)],$e.lc=Ge+ye}if(!le.Rb)return Pr(S,4,"Not a key frame.");for(xe(oe),le=S.Pa,M=0;4>M;++M){for(ne=0;8>ne;++ne)for(Y=0;3>Y;++Y)for(he=0;11>he;++he)Ce=Ee(oe,rd[M][ne][Y][he])?W(oe,8):ml[M][ne][Y][he],le.Wc[M][ne].Yb[Y][he]=Ce;for(ne=0;17>ne;++ne)le.Xc[M][ne]=le.Wc[M][xb[ne]]}return S.kc=xe(oe),S.kc&&(S.Bd=W(oe,8)),S.cb=1}function al(S,_,M,Y,ne,oe,le){var he=_[ne].Yb[M];for(M=0;16>ne;++ne){if(!Ee(S,he[M+0]))return ne;for(;!Ee(S,he[M+1]);)if(he=_[++ne].Yb[0],M=0,ne==16)return 16;var ye=_[ne+1].Yb;if(Ee(S,he[M+2])){var Ce=S,Me=0;if(Ee(Ce,(Ge=he)[(Ke=M)+3]))if(Ee(Ce,Ge[Ke+6])){for(he=0,Ke=2*(Me=Ee(Ce,Ge[Ke+8]))+(Ge=Ee(Ce,Ge[Ke+9+Me])),Me=0,Ge=bi[Ke];Ge[he];++he)Me+=Me+Ee(Ce,Ge[he]);Me+=3+(8<<Ke)}else Ee(Ce,Ge[Ke+7])?(Me=7+2*Ee(Ce,165),Me+=Ee(Ce,145)):Me=5+Ee(Ce,159);else Me=Ee(Ce,Ge[Ke+4])?3+Ee(Ce,Ge[Ke+5]):2;he=ye[2]}else Me=1,he=ye[1];ye=le+tr[ne],0>(Ce=S).b&&we(Ce);var Ke,Ge=Ce.b,$e=(Ke=Ce.Ca>>1)-(Ce.I>>Ge)>>31;--Ce.b,Ce.Ca+=$e,Ce.Ca|=1,Ce.I-=(Ke+1&$e)<<Ge,oe[ye]=((Me^$e)-$e)*Y[(0<ne)+0]}return 16}function za(S){var _=S.rb[S.sb-1];_.la=0,_.Na=0,i(S.zc,0,0,S.zc.length),S.ja=0}function Hl(S,_){if(S==null)return 0;if(_==null)return Pr(S,2,"NULL VP8Io parameter in VP8Decode().");if(!S.cb&&!ao(S,_))return 0;if(n(S.cb),_.ac==null||_.ac(_)){_.ob&&(S.L=0);var M=ru[S.L];if(S.L==2?(S.yb=0,S.zb=0):(S.yb=_.v-M>>4,S.zb=_.j-M>>4,0>S.yb&&(S.yb=0),0>S.zb&&(S.zb=0)),S.Va=_.o+15+M>>4,S.Hb=_.va+15+M>>4,S.Hb>S.za&&(S.Hb=S.za),S.Va>S.Ub&&(S.Va=S.Ub),0<S.L){var Y=S.ed;for(M=0;4>M;++M){var ne;if(S.Qa.Cb){var oe=S.Qa.Lb[M];S.Qa.Fb||(oe+=Y.Tb)}else oe=Y.Tb;for(ne=0;1>=ne;++ne){var le=S.gd[M][ne],he=oe;if(Y.Pc&&(he+=Y.vd[0],ne&&(he+=Y.od[0])),0<(he=0>he?0:63<he?63:he)){var ye=he;0<Y.wb&&(ye=4<Y.wb?ye>>2:ye>>1)>9-Y.wb&&(ye=9-Y.wb),1>ye&&(ye=1),le.dd=ye,le.tc=2*he+ye,le.ld=40<=he?2:15<=he?1:0}else le.tc=0;le.La=ne}}}M=0}else Pr(S,6,"Frame setup failed"),M=S.a;if(M=M==0){if(M){S.$c=0,0<S.Aa||(S.Ic=Sb);e:{M=S.Ic,Y=4*(ye=S.za);var Ce=32*ye,Me=ye+1,Ke=0<S.L?ye*(0<S.Aa?2:1):0,Ge=(S.Aa==2?2:1)*ye;if((le=Y+832+(ne=3*(16*M+ru[S.L])/2*Ce)+(oe=S.Fa!=null&&0<S.Fa.length?S.Kc.c*S.Kc.i:0))!=le)M=0;else{if(le>S.Vb){if(S.Vb=0,S.Ec=a(le),S.Fc=0,S.Ec==null){M=Pr(S,1,"no memory during frame initialization.");break e}S.Vb=le}le=S.Ec,he=S.Fc,S.Ac=le,S.Bc=he,he+=Y,S.Gd=s(Ce,is),S.Hd=0,S.rb=s(Me+1,ys),S.sb=1,S.wa=Ke?s(Ke,$s):null,S.Y=0,S.D.Nb=0,S.D.wa=S.wa,S.D.Y=S.Y,0<S.Aa&&(S.D.Y+=ye),n(!0),S.oc=le,S.pc=he,he+=832,S.ya=s(Ge,xs),S.aa=0,S.D.ya=S.ya,S.D.aa=S.aa,S.Aa==2&&(S.D.aa+=ye),S.R=16*ye,S.B=8*ye,ye=(Ce=ru[S.L])*S.R,Ce=Ce/2*S.B,S.sa=le,S.ta=he+ye,S.qa=S.sa,S.ra=S.ta+16*M*S.R+Ce,S.Ha=S.qa,S.Ia=S.ra+8*M*S.B+Ce,S.$c=0,he+=ne,S.mb=oe?le:null,S.nb=oe?he:null,n(he+oe<=S.Fc+S.Vb),za(S),i(S.Ac,S.Bc,0,Y),M=1}}if(M){if(_.ka=0,_.y=S.sa,_.O=S.ta,_.f=S.qa,_.N=S.ra,_.ea=S.Ha,_.Vd=S.Ia,_.fa=S.R,_.Rc=S.B,_.F=null,_.J=0,!Kl){for(M=-255;255>=M;++M)Ni[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)uo[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)Hu[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)Wu[255+M]=0>M?0:255<M?255:M;Kl=1}fl=qi,Do=_o,Lo=Hs,Bi=Iu,_s=Ws,mi=Wl,Kc=Qr,hl=Ha,nf=Gd,qu=dl,Bu=Gs,Uu=As,Xc=jo,rf=Ip,$u=pr,Ql=pn,Zc=jr,gi=va,os[0]=Ei,os[1]=vs,os[2]=so,os[3]=ul,os[4]=Ba,os[5]=Ua,os[6]=ko,os[7]=Da,os[8]=No,os[9]=$a,tu[0]=ll,tu[1]=qa,tu[2]=Vs,tu[3]=ol,tu[4]=li,tu[5]=ei,tu[6]=ws,Zs[0]=H,Zs[1]=Du,Zs[2]=cl,Zs[3]=oo,Zs[4]=Oe,Zs[5]=me,Zs[6]=ot,M=1}else M=0}M&&(M=function($e,yt){for($e.M=0;$e.M<$e.Va;++$e.M){var it,Pe=$e.Jc[$e.M&$e.Xb],Ue=$e.m,ht=$e;for(it=0;it<ht.za;++it){var vt=Ue,mt=ht,Ot=mt.Ac,Nt=mt.Bc+4*it,Qt=mt.zc,jt=mt.ya[mt.aa+it];if(mt.Qa.Bb?jt.$b=Ee(vt,mt.Pa.jb[0])?2+Ee(vt,mt.Pa.jb[2]):Ee(vt,mt.Pa.jb[1]):jt.$b=0,mt.kc&&(jt.Ad=Ee(vt,mt.Bd)),jt.Za=!Ee(vt,145)+0,jt.Za){var Vn=jt.Ob,sr=0;for(mt=0;4>mt;++mt){var In,Tn=Qt[0+mt];for(In=0;4>In;++In){Tn=Em[Ot[Nt+In]][Tn];for(var Er=Yu[Ee(vt,Tn[0])];0<Er;)Er=Yu[2*Er+Ee(vt,Tn[Er])];Tn=-Er,Ot[Nt+In]=Tn}r(Vn,sr,Ot,Nt,4),sr+=4,Qt[0+mt]=Tn}}else Tn=Ee(vt,156)?Ee(vt,128)?1:3:Ee(vt,163)?2:0,jt.Ob[0]=Tn,i(Ot,Nt,Tn,4),i(Qt,0,Tn,4);jt.Dd=Ee(vt,142)?Ee(vt,114)?Ee(vt,183)?1:3:2:0}if(ht.m.Ka)return Pr($e,7,"Premature end-of-partition0 encountered.");for(;$e.ja<$e.za;++$e.ja){if(ht=Pe,vt=(Ue=$e).rb[Ue.sb-1],Ot=Ue.rb[Ue.sb+Ue.ja],it=Ue.ya[Ue.aa+Ue.ja],Nt=Ue.kc?it.Ad:0)vt.la=Ot.la=0,it.Za||(vt.Na=Ot.Na=0),it.Hc=0,it.Gc=0,it.ia=0;else{var or,mn;if(vt=Ot,Ot=ht,Nt=Ue.Pa.Xc,Qt=Ue.ya[Ue.aa+Ue.ja],jt=Ue.pb[Qt.$b],mt=Qt.ad,Vn=0,sr=Ue.rb[Ue.sb-1],Tn=In=0,i(mt,Vn,0,384),Qt.Za)var Tr=0,en=Nt[3];else{Er=a(16);var un=vt.Na+sr.Na;if(un=na(Ot,Nt[1],un,jt.Eb,0,Er,0),vt.Na=sr.Na=(0<un)+0,1<un)fl(Er,0,mt,Vn);else{var Wn=Er[0]+3>>3;for(Er=0;256>Er;Er+=16)mt[Vn+Er]=Wn}Tr=1,en=Nt[0]}var Yn=15&vt.la,Ea=15&sr.la;for(Er=0;4>Er;++Er){var aa=1&Ea;for(Wn=mn=0;4>Wn;++Wn)Yn=Yn>>1|(aa=(un=na(Ot,en,un=aa+(1&Yn),jt.Sc,Tr,mt,Vn))>Tr)<<7,mn=mn<<2|(3<un?3:1<un?2:mt[Vn+0]!=0),Vn+=16;Yn>>=4,Ea=Ea>>1|aa<<7,In=(In<<8|mn)>>>0}for(en=Yn,Tr=Ea>>4,or=0;4>or;or+=2){for(mn=0,Yn=vt.la>>4+or,Ea=sr.la>>4+or,Er=0;2>Er;++Er){for(aa=1&Ea,Wn=0;2>Wn;++Wn)un=aa+(1&Yn),Yn=Yn>>1|(aa=0<(un=na(Ot,Nt[2],un,jt.Qc,0,mt,Vn)))<<3,mn=mn<<2|(3<un?3:1<un?2:mt[Vn+0]!=0),Vn+=16;Yn>>=2,Ea=Ea>>1|aa<<5}Tn|=mn<<4*or,en|=Yn<<4<<or,Tr|=(240&Ea)<<or}vt.la=en,sr.la=Tr,Qt.Hc=In,Qt.Gc=Tn,Qt.ia=43690&Tn?0:jt.ia,Nt=!(In|Tn)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[it.$b][it.Za],Ue.wa[Ue.Y+Ue.ja].La|=!Nt),ht.Ka)return Pr($e,7,"Premature end-of-file encountered.")}if(za($e),Ue=yt,ht=1,it=(Pe=$e).D,vt=0<Pe.L&&Pe.M>=Pe.zb&&Pe.M<=Pe.Va,Pe.Aa==0)e:{if(it.M=Pe.M,it.uc=vt,Yl(Pe,it),ht=1,it=(mn=Pe.D).Nb,vt=(Tn=ru[Pe.L])*Pe.R,Ot=Tn/2*Pe.B,Er=16*it*Pe.R,Wn=8*it*Pe.B,Nt=Pe.sa,Qt=Pe.ta-vt+Er,jt=Pe.qa,mt=Pe.ra-Ot+Wn,Vn=Pe.Ha,sr=Pe.Ia-Ot+Wn,Ea=(Yn=mn.M)==0,In=Yn>=Pe.Va-1,Pe.Aa==2&&Yl(Pe,mn),mn.uc)for(aa=(un=Pe).D.M,n(un.D.uc),mn=un.yb;mn<un.Hb;++mn){Tr=mn,en=aa;var ji=(Ti=(ni=un).D).Nb;or=ni.R;var Ti=Ti.wa[Ti.Y+Tr],Ui=ni.sa,ho=ni.ta+16*ji*or+16*Tr,lr=Ti.dd,$i=Ti.tc;if($i!=0)if(n(3<=$i),ni.L==1)0<Tr&&Ql(Ui,ho,or,$i+4),Ti.La&&gi(Ui,ho,or,$i),0<en&&$u(Ui,ho,or,$i+4),Ti.La&&Zc(Ui,ho,or,$i);else{var Ro=ni.B,Ku=ni.qa,ad=ni.ra+8*ji*Ro+8*Tr,Xu=ni.Ha,ni=ni.Ia+8*ji*Ro+8*Tr;ji=Ti.ld,0<Tr&&(hl(Ui,ho,or,$i+4,lr,ji),qu(Ku,ad,Xu,ni,Ro,$i+4,lr,ji)),Ti.La&&(Uu(Ui,ho,or,$i,lr,ji),rf(Ku,ad,Xu,ni,Ro,$i,lr,ji)),0<en&&(Kc(Ui,ho,or,$i+4,lr,ji),nf(Ku,ad,Xu,ni,Ro,$i+4,lr,ji)),Ti.La&&(Bu(Ui,ho,or,$i,lr,ji),Xc(Ku,ad,Xu,ni,Ro,$i,lr,ji))}}if(Pe.ia&&alert("todo:DitherRow"),Ue.put!=null){if(mn=16*Yn,Yn=16*(Yn+1),Ea?(Ue.y=Pe.sa,Ue.O=Pe.ta+Er,Ue.f=Pe.qa,Ue.N=Pe.ra+Wn,Ue.ea=Pe.Ha,Ue.W=Pe.Ia+Wn):(mn-=Tn,Ue.y=Nt,Ue.O=Qt,Ue.f=jt,Ue.N=mt,Ue.ea=Vn,Ue.W=sr),In||(Yn-=Tn),Yn>Ue.o&&(Yn=Ue.o),Ue.F=null,Ue.J=null,Pe.Fa!=null&&0<Pe.Fa.length&&mn<Yn&&(Ue.J=bh(Pe,Ue,mn,Yn-mn),Ue.F=Pe.mb,Ue.F==null&&Ue.F.length==0)){ht=Pr(Pe,3,"Could not decode alpha data.");break e}mn<Ue.j&&(Tn=Ue.j-mn,mn=Ue.j,n(!(1&Tn)),Ue.O+=Pe.R*Tn,Ue.N+=Pe.B*(Tn>>1),Ue.W+=Pe.B*(Tn>>1),Ue.F!=null&&(Ue.J+=Ue.width*Tn)),mn<Yn&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=mn-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=Yn-mn,ht=Ue.put(Ue))}it+1!=Pe.Ic||In||(r(Pe.sa,Pe.ta-vt,Nt,Qt+16*Pe.R,vt),r(Pe.qa,Pe.ra-Ot,jt,mt+8*Pe.B,Ot),r(Pe.Ha,Pe.Ia-Ot,Vn,sr+8*Pe.B,Ot))}if(!ht)return Pr($e,6,"Output aborted.")}return 1}(S,_)),_.bc!=null&&_.bc(_),M&=1}return M?(S.cb=0,M):0}function ea(S,_,M,Y,ne){ne=S[_+M+32*Y]+(ne>>3),S[_+M+32*Y]=-256&ne?0>ne?0:255:ne}function sl(S,_,M,Y,ne,oe){ea(S,_,0,M,Y+ne),ea(S,_,1,M,Y+oe),ea(S,_,2,M,Y-oe),ea(S,_,3,M,Y-ne)}function hr(S){return(20091*S>>16)+S}function Eo(S,_,M,Y){var ne,oe=0,le=a(16);for(ne=0;4>ne;++ne){var he=S[_+0]+S[_+8],ye=S[_+0]-S[_+8],Ce=(35468*S[_+4]>>16)-hr(S[_+12]),Me=hr(S[_+4])+(35468*S[_+12]>>16);le[oe+0]=he+Me,le[oe+1]=ye+Ce,le[oe+2]=ye-Ce,le[oe+3]=he-Me,oe+=4,_++}for(ne=oe=0;4>ne;++ne)he=(S=le[oe+0]+4)+le[oe+8],ye=S-le[oe+8],Ce=(35468*le[oe+4]>>16)-hr(le[oe+12]),ea(M,Y,0,0,he+(Me=hr(le[oe+4])+(35468*le[oe+12]>>16))),ea(M,Y,1,0,ye+Ce),ea(M,Y,2,0,ye-Ce),ea(M,Y,3,0,he-Me),oe++,Y+=32}function Wl(S,_,M,Y){var ne=S[_+0]+4,oe=35468*S[_+4]>>16,le=hr(S[_+4]),he=35468*S[_+1]>>16;sl(M,Y,0,ne+le,S=hr(S[_+1]),he),sl(M,Y,1,ne+oe,S,he),sl(M,Y,2,ne-oe,S,he),sl(M,Y,3,ne-le,S,he)}function _o(S,_,M,Y,ne){Eo(S,_,M,Y),ne&&Eo(S,_+16,M,Y+4)}function Hs(S,_,M,Y){Do(S,_+0,M,Y,1),Do(S,_+32,M,Y+128,1)}function Iu(S,_,M,Y){var ne;for(S=S[_+0]+4,ne=0;4>ne;++ne)for(_=0;4>_;++_)ea(M,Y,_,ne,S)}function Ws(S,_,M,Y){S[_+0]&&Bi(S,_+0,M,Y),S[_+16]&&Bi(S,_+16,M,Y+4),S[_+32]&&Bi(S,_+32,M,Y+128),S[_+48]&&Bi(S,_+48,M,Y+128+4)}function qi(S,_,M,Y){var ne,oe=a(16);for(ne=0;4>ne;++ne){var le=S[_+0+ne]+S[_+12+ne],he=S[_+4+ne]+S[_+8+ne],ye=S[_+4+ne]-S[_+8+ne],Ce=S[_+0+ne]-S[_+12+ne];oe[0+ne]=le+he,oe[8+ne]=le-he,oe[4+ne]=Ce+ye,oe[12+ne]=Ce-ye}for(ne=0;4>ne;++ne)le=(S=oe[0+4*ne]+3)+oe[3+4*ne],he=oe[1+4*ne]+oe[2+4*ne],ye=oe[1+4*ne]-oe[2+4*ne],Ce=S-oe[3+4*ne],M[Y+0]=le+he>>3,M[Y+16]=Ce+ye>>3,M[Y+32]=le-he>>3,M[Y+48]=Ce-ye>>3,Y+=64}function as(S,_,M){var Y,ne=_-32,oe=Aa,le=255-S[ne-1];for(Y=0;Y<M;++Y){var he,ye=oe,Ce=le+S[_-1];for(he=0;he<M;++he)S[_+he]=ye[Ce+S[ne+he]];_+=32}}function vs(S,_){as(S,_,4)}function Du(S,_){as(S,_,8)}function qa(S,_){as(S,_,16)}function Vs(S,_){var M;for(M=0;16>M;++M)r(S,_+32*M,S,_-32,16)}function ol(S,_){var M;for(M=16;0<M;--M)i(S,_,S[_-1],16),_+=32}function Ys(S,_,M){var Y;for(Y=0;16>Y;++Y)i(_,M+32*Y,S,16)}function ll(S,_){var M,Y=16;for(M=0;16>M;++M)Y+=S[_-1+32*M]+S[_+M-32];Ys(Y>>5,S,_)}function li(S,_){var M,Y=8;for(M=0;16>M;++M)Y+=S[_-1+32*M];Ys(Y>>4,S,_)}function ei(S,_){var M,Y=8;for(M=0;16>M;++M)Y+=S[_+M-32];Ys(Y>>4,S,_)}function ws(S,_){Ys(128,S,_)}function tn(S,_,M){return S+2*_+M+2>>2}function so(S,_){var M,Y=_-32;for(Y=new Uint8Array([tn(S[Y-1],S[Y+0],S[Y+1]),tn(S[Y+0],S[Y+1],S[Y+2]),tn(S[Y+1],S[Y+2],S[Y+3]),tn(S[Y+2],S[Y+3],S[Y+4])]),M=0;4>M;++M)r(S,_+32*M,Y,0,Y.length)}function ul(S,_){var M=S[_-1],Y=S[_-1+32],ne=S[_-1+64],oe=S[_-1+96];Ie(S,_+0,16843009*tn(S[_-1-32],M,Y)),Ie(S,_+32,16843009*tn(M,Y,ne)),Ie(S,_+64,16843009*tn(Y,ne,oe)),Ie(S,_+96,16843009*tn(ne,oe,oe))}function Ei(S,_){var M,Y=4;for(M=0;4>M;++M)Y+=S[_+M-32]+S[_-1+32*M];for(Y>>=3,M=0;4>M;++M)i(S,_+32*M,Y,4)}function Ba(S,_){var M=S[_-1+0],Y=S[_-1+32],ne=S[_-1+64],oe=S[_-1-32],le=S[_+0-32],he=S[_+1-32],ye=S[_+2-32],Ce=S[_+3-32];S[_+0+96]=tn(Y,ne,S[_-1+96]),S[_+1+96]=S[_+0+64]=tn(M,Y,ne),S[_+2+96]=S[_+1+64]=S[_+0+32]=tn(oe,M,Y),S[_+3+96]=S[_+2+64]=S[_+1+32]=S[_+0+0]=tn(le,oe,M),S[_+3+64]=S[_+2+32]=S[_+1+0]=tn(he,le,oe),S[_+3+32]=S[_+2+0]=tn(ye,he,le),S[_+3+0]=tn(Ce,ye,he)}function ko(S,_){var M=S[_+1-32],Y=S[_+2-32],ne=S[_+3-32],oe=S[_+4-32],le=S[_+5-32],he=S[_+6-32],ye=S[_+7-32];S[_+0+0]=tn(S[_+0-32],M,Y),S[_+1+0]=S[_+0+32]=tn(M,Y,ne),S[_+2+0]=S[_+1+32]=S[_+0+64]=tn(Y,ne,oe),S[_+3+0]=S[_+2+32]=S[_+1+64]=S[_+0+96]=tn(ne,oe,le),S[_+3+32]=S[_+2+64]=S[_+1+96]=tn(oe,le,he),S[_+3+64]=S[_+2+96]=tn(le,he,ye),S[_+3+96]=tn(he,ye,ye)}function Ua(S,_){var M=S[_-1+0],Y=S[_-1+32],ne=S[_-1+64],oe=S[_-1-32],le=S[_+0-32],he=S[_+1-32],ye=S[_+2-32],Ce=S[_+3-32];S[_+0+0]=S[_+1+64]=oe+le+1>>1,S[_+1+0]=S[_+2+64]=le+he+1>>1,S[_+2+0]=S[_+3+64]=he+ye+1>>1,S[_+3+0]=ye+Ce+1>>1,S[_+0+96]=tn(ne,Y,M),S[_+0+64]=tn(Y,M,oe),S[_+0+32]=S[_+1+96]=tn(M,oe,le),S[_+1+32]=S[_+2+96]=tn(oe,le,he),S[_+2+32]=S[_+3+96]=tn(le,he,ye),S[_+3+32]=tn(he,ye,Ce)}function Da(S,_){var M=S[_+0-32],Y=S[_+1-32],ne=S[_+2-32],oe=S[_+3-32],le=S[_+4-32],he=S[_+5-32],ye=S[_+6-32],Ce=S[_+7-32];S[_+0+0]=M+Y+1>>1,S[_+1+0]=S[_+0+64]=Y+ne+1>>1,S[_+2+0]=S[_+1+64]=ne+oe+1>>1,S[_+3+0]=S[_+2+64]=oe+le+1>>1,S[_+0+32]=tn(M,Y,ne),S[_+1+32]=S[_+0+96]=tn(Y,ne,oe),S[_+2+32]=S[_+1+96]=tn(ne,oe,le),S[_+3+32]=S[_+2+96]=tn(oe,le,he),S[_+3+64]=tn(le,he,ye),S[_+3+96]=tn(he,ye,Ce)}function $a(S,_){var M=S[_-1+0],Y=S[_-1+32],ne=S[_-1+64],oe=S[_-1+96];S[_+0+0]=M+Y+1>>1,S[_+2+0]=S[_+0+32]=Y+ne+1>>1,S[_+2+32]=S[_+0+64]=ne+oe+1>>1,S[_+1+0]=tn(M,Y,ne),S[_+3+0]=S[_+1+32]=tn(Y,ne,oe),S[_+3+32]=S[_+1+64]=tn(ne,oe,oe),S[_+3+64]=S[_+2+64]=S[_+0+96]=S[_+1+96]=S[_+2+96]=S[_+3+96]=oe}function No(S,_){var M=S[_-1+0],Y=S[_-1+32],ne=S[_-1+64],oe=S[_-1+96],le=S[_-1-32],he=S[_+0-32],ye=S[_+1-32],Ce=S[_+2-32];S[_+0+0]=S[_+2+32]=M+le+1>>1,S[_+0+32]=S[_+2+64]=Y+M+1>>1,S[_+0+64]=S[_+2+96]=ne+Y+1>>1,S[_+0+96]=oe+ne+1>>1,S[_+3+0]=tn(he,ye,Ce),S[_+2+0]=tn(le,he,ye),S[_+1+0]=S[_+3+32]=tn(M,le,he),S[_+1+32]=S[_+3+64]=tn(Y,M,le),S[_+1+64]=S[_+3+96]=tn(ne,Y,M),S[_+1+96]=tn(oe,ne,Y)}function cl(S,_){var M;for(M=0;8>M;++M)r(S,_+32*M,S,_-32,8)}function oo(S,_){var M;for(M=0;8>M;++M)i(S,_,S[_-1],8),_+=32}function Ss(S,_,M){var Y;for(Y=0;8>Y;++Y)i(_,M+32*Y,S,8)}function H(S,_){var M,Y=8;for(M=0;8>M;++M)Y+=S[_+M-32]+S[_-1+32*M];Ss(Y>>4,S,_)}function me(S,_){var M,Y=4;for(M=0;8>M;++M)Y+=S[_+M-32];Ss(Y>>3,S,_)}function Oe(S,_){var M,Y=4;for(M=0;8>M;++M)Y+=S[_-1+32*M];Ss(Y>>3,S,_)}function ot(S,_){Ss(128,S,_)}function Jt(S,_,M){var Y=S[_-M],ne=S[_+0],oe=3*(ne-Y)+Lp[1020+S[_-2*M]-S[_+M]],le=Jc[112+(oe+4>>3)];S[_-M]=Aa[255+Y+Jc[112+(oe+3>>3)]],S[_+0]=Aa[255+ne-le]}function Bt(S,_,M,Y){var ne=S[_+0],oe=S[_+M];return co[255+S[_-2*M]-S[_-M]]>Y||co[255+oe-ne]>Y}function jn(S,_,M,Y){return 4*co[255+S[_-M]-S[_+0]]+co[255+S[_-2*M]-S[_+M]]<=Y}function Cn(S,_,M,Y,ne){var oe=S[_-3*M],le=S[_-2*M],he=S[_-M],ye=S[_+0],Ce=S[_+M],Me=S[_+2*M],Ke=S[_+3*M];return 4*co[255+he-ye]+co[255+le-Ce]>Y?0:co[255+S[_-4*M]-oe]<=ne&&co[255+oe-le]<=ne&&co[255+le-he]<=ne&&co[255+Ke-Me]<=ne&&co[255+Me-Ce]<=ne&&co[255+Ce-ye]<=ne}function pr(S,_,M,Y){var ne=2*Y+1;for(Y=0;16>Y;++Y)jn(S,_+Y,M,ne)&&Jt(S,_+Y,M)}function pn(S,_,M,Y){var ne=2*Y+1;for(Y=0;16>Y;++Y)jn(S,_+Y*M,1,ne)&&Jt(S,_+Y*M,1)}function jr(S,_,M,Y){var ne;for(ne=3;0<ne;--ne)pr(S,_+=4*M,M,Y)}function va(S,_,M,Y){var ne;for(ne=3;0<ne;--ne)pn(S,_+=4,M,Y)}function Ar(S,_,M,Y,ne,oe,le,he){for(oe=2*oe+1;0<ne--;){if(Cn(S,_,M,oe,le))if(Bt(S,_,M,he))Jt(S,_,M);else{var ye=S,Ce=_,Me=M,Ke=ye[Ce-2*Me],Ge=ye[Ce-Me],$e=ye[Ce+0],yt=ye[Ce+Me],it=ye[Ce+2*Me],Pe=27*(ht=Lp[1020+3*($e-Ge)+Lp[1020+Ke-yt]])+63>>7,Ue=18*ht+63>>7,ht=9*ht+63>>7;ye[Ce-3*Me]=Aa[255+ye[Ce-3*Me]+ht],ye[Ce-2*Me]=Aa[255+Ke+Ue],ye[Ce-Me]=Aa[255+Ge+Pe],ye[Ce+0]=Aa[255+$e-Pe],ye[Ce+Me]=Aa[255+yt-Ue],ye[Ce+2*Me]=Aa[255+it-ht]}_+=Y}}function Cr(S,_,M,Y,ne,oe,le,he){for(oe=2*oe+1;0<ne--;){if(Cn(S,_,M,oe,le))if(Bt(S,_,M,he))Jt(S,_,M);else{var ye=S,Ce=_,Me=M,Ke=ye[Ce-Me],Ge=ye[Ce+0],$e=ye[Ce+Me],yt=Jc[112+((it=3*(Ge-Ke))+4>>3)],it=Jc[112+(it+3>>3)],Pe=yt+1>>1;ye[Ce-2*Me]=Aa[255+ye[Ce-2*Me]+Pe],ye[Ce-Me]=Aa[255+Ke+it],ye[Ce+0]=Aa[255+Ge-yt],ye[Ce+Me]=Aa[255+$e-Pe]}_+=Y}}function Qr(S,_,M,Y,ne,oe){Ar(S,_,M,1,16,Y,ne,oe)}function Ha(S,_,M,Y,ne,oe){Ar(S,_,1,M,16,Y,ne,oe)}function Gs(S,_,M,Y,ne,oe){var le;for(le=3;0<le;--le)Cr(S,_+=4*M,M,1,16,Y,ne,oe)}function As(S,_,M,Y,ne,oe){var le;for(le=3;0<le;--le)Cr(S,_+=4,1,M,16,Y,ne,oe)}function Gd(S,_,M,Y,ne,oe,le,he){Ar(S,_,ne,1,8,oe,le,he),Ar(M,Y,ne,1,8,oe,le,he)}function dl(S,_,M,Y,ne,oe,le,he){Ar(S,_,1,ne,8,oe,le,he),Ar(M,Y,1,ne,8,oe,le,he)}function jo(S,_,M,Y,ne,oe,le,he){Cr(S,_+4*ne,ne,1,8,oe,le,he),Cr(M,Y+4*ne,ne,1,8,oe,le,he)}function Ip(S,_,M,Y,ne,oe,le,he){Cr(S,_+4,1,ne,8,oe,le,he),Cr(M,Y+4,1,ne,8,oe,le,he)}function Qd(){this.ba=new Gr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function mh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function gh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Kd(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new T,this.yc=new O}function Am(){this.xb=this.a=0,this.l=new io,this.ca=new Gr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Kd,this.ab=0,this.gc=s(4,gh),this.Oc=0}function Xd(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new io,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Vc(S,_,M,Y,ne,oe,le){for(S=S==null?0:S[_+0],_=0;_<le;++_)ne[oe+_]=S+M[Y+_]&255,S=ne[oe+_]}function Zd(S,_,M,Y,ne,oe,le){var he;if(S==null)Vc(null,null,M,Y,ne,oe,le);else for(he=0;he<le;++he)ne[oe+he]=S[_+he]+M[Y+he]&255}function Lu(S,_,M,Y,ne,oe,le){if(S==null)Vc(null,null,M,Y,ne,oe,le);else{var he,ye=S[_+0],Ce=ye,Me=ye;for(he=0;he<le;++he)Ce=Me+(ye=S[_+he])-Ce,Me=M[Y+he]+(-256&Ce?0>Ce?0:255:Ce)&255,Ce=ye,ne[oe+he]=Me}}function bh(S,_,M,Y){var ne=_.width,oe=_.o;if(n(S!=null&&_!=null),0>M||0>=Y||M+Y>oe)return null;if(!S.Cc){if(S.ga==null){var le;if(S.ga=new Xd,(le=S.ga==null)||(le=_.width*_.o,n(S.Gb.length==0),S.Gb=a(le),S.Uc=0,S.Gb==null?le=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,le=1),le=!le),!le){le=S.ga;var he=S.Fa,ye=S.P,Ce=S.qc,Me=S.mb,Ke=S.nb,Ge=ye+1,$e=Ce-1,yt=le.l;if(n(he!=null&&Me!=null&&_!=null),gl[0]=null,gl[1]=Vc,gl[2]=Zd,gl[3]=Lu,le.ca=Me,le.tb=Ke,le.c=_.width,le.i=_.height,n(0<le.c&&0<le.i),1>=Ce)_=0;else if(le.$a=he[ye+0]>>0&3,le.Z=he[ye+0]>>2&3,le.Lc=he[ye+0]>>4&3,ye=he[ye+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||ye)_=0;else if(yt.put=oi,yt.ac=Sr,yt.bc=xa,yt.ma=le,yt.width=_.width,yt.height=_.height,yt.Da=_.Da,yt.v=_.v,yt.va=_.va,yt.j=_.j,yt.o=_.o,le.$a)e:{n(le.$a==1),_=Ci();t:for(;;){if(_==null){_=0;break e}if(n(le!=null),le.mc=_,_.c=le.c,_.i=le.i,_.l=le.l,_.l.ma=le,_.l.width=le.c,_.l.height=le.i,_.a=0,ie(_.m,he,Ge,$e),!er(le.c,le.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Nr(_.s)?(le.ic=1,he=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(he),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(le.ic=0,_=ro(_,le.c)),!_))break t;_=1;break e}le.mc=null,_=0}else _=$e>=le.c*le.i;le=!_}if(le)return null;S.ga.Lc!=1?S.Ga=0:Y=oe-M}n(S.ga!=null),n(M+Y<=oe);e:{if(_=(he=S.ga).c,oe=he.l.o,he.$a==0){if(Ge=S.rc,$e=S.Vc,yt=S.Fa,ye=S.P+1+M*_,Ce=S.mb,Me=S.nb+M*_,n(ye<=S.P+S.qc),he.Z!=0)for(n(gl[he.Z]!=null),le=0;le<Y;++le)gl[he.Z](Ge,$e,yt,ye,Ce,Me,_),Ge=Ce,$e=Me,Me+=_,ye+=_;else for(le=0;le<Y;++le)r(Ce,Me,yt,ye,_),Ge=Ce,$e=Me,Me+=_,ye+=_;S.rc=Ge,S.Vc=$e}else{if(n(he.mc!=null),_=M+Y,n((le=he.mc)!=null),n(_<=le.i),le.C>=_)_=1;else if(he.ic||Ye(),he.ic){he=le.V,Ge=le.Ba,$e=le.c;var it=le.i,Pe=(yt=1,ye=le.$/$e,Ce=le.$%$e,Me=le.m,Ke=le.s,le.$),Ue=$e*it,ht=$e*_,vt=Ke.wc,mt=Pe<ht?fr(Ke,Ce,ye):null;n(Pe<=Ue),n(_<=it),n(Nr(Ke));t:for(;;){for(;!Me.h&&Pe<ht;){if(Ce&vt||(mt=fr(Ke,Ce,ye)),n(mt!=null),se(Me),256>(it=Mr(mt.G[0],mt.H[0],Me)))he[Ge+Pe]=it,++Pe,++Ce>=$e&&(Ce=0,++ye<=_&&!(ye%16)&&Pi(le,ye));else{if(!(280>it)){yt=0;break t}it=Hn(it-256,Me);var Ot,Nt=Mr(mt.G[4],mt.H[4],Me);if(se(Me),!(Pe>=(Nt=ar($e,Nt=Hn(Nt,Me)))&&Ue-Pe>=it)){yt=0;break t}for(Ot=0;Ot<it;++Ot)he[Ge+Pe+Ot]=he[Ge+Pe+Ot-Nt];for(Pe+=it,Ce+=it;Ce>=$e;)Ce-=$e,++ye<=_&&!(ye%16)&&Pi(le,ye);Pe<ht&&Ce&vt&&(mt=fr(Ke,Ce,ye))}n(Me.h==Z(Me))}Pi(le,ye>_?_:ye);break t}!yt||Me.h&&Pe<Ue?(yt=0,le.a=Me.h?5:3):le.$=Pe,_=yt}else _=zi(le,le.V,le.Ba,le.c,le.i,_,Co);if(!_){Y=0;break e}}M+Y>=oe&&(S.Cc=1),Y=1}if(!Y)return null;if(S.Cc&&((Y=S.ga)!=null&&(Y.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+M*ne}function D(S,_,M,Y,ne,oe){for(;0<ne--;){var le,he=S,ye=_+(M?1:0),Ce=S,Me=_+(M?0:3);for(le=0;le<Y;++le){var Ke=Ce[Me+4*le];Ke!=255&&(Ke*=32897,he[ye+4*le+0]=he[ye+4*le+0]*Ke>>23,he[ye+4*le+1]=he[ye+4*le+1]*Ke>>23,he[ye+4*le+2]=he[ye+4*le+2]*Ke>>23)}_+=oe}}function re(S,_,M,Y,ne){for(;0<Y--;){var oe;for(oe=0;oe<M;++oe){var le=S[_+2*oe+0],he=15&(Ce=S[_+2*oe+1]),ye=4369*he,Ce=(240&Ce|Ce>>4)*ye>>16;S[_+2*oe+0]=(240&le|le>>4)*ye>>16&240|(15&le|le<<4)*ye>>16>>4&15,S[_+2*oe+1]=240&Ce|he}_+=ne}}function _e(S,_,M,Y,ne,oe,le,he){var ye,Ce,Me=255;for(Ce=0;Ce<ne;++Ce){for(ye=0;ye<Y;++ye){var Ke=S[_+ye];oe[le+4*ye]=Ke,Me&=Ke}_+=M,le+=he}return Me!=255}function Le(S,_,M,Y,ne){var oe;for(oe=0;oe<ne;++oe)M[Y+oe]=S[_+oe]>>8}function Ye(){Ks=D,Dn=re,Ln=_e,zr=Le}function ct(S,_,M){L[S]=function(Y,ne,oe,le,he,ye,Ce,Me,Ke,Ge,$e,yt,it,Pe,Ue,ht,vt){var mt,Ot=vt-1>>1,Nt=he[ye+0]|Ce[Me+0]<<16,Qt=Ke[Ge+0]|$e[yt+0]<<16;n(Y!=null);var jt=3*Nt+Qt+131074>>2;for(_(Y[ne+0],255&jt,jt>>16,it,Pe),oe!=null&&(jt=3*Qt+Nt+131074>>2,_(oe[le+0],255&jt,jt>>16,Ue,ht)),mt=1;mt<=Ot;++mt){var Vn=he[ye+mt]|Ce[Me+mt]<<16,sr=Ke[Ge+mt]|$e[yt+mt]<<16,In=Nt+Vn+Qt+sr+524296,Tn=In+2*(Vn+Qt)>>3;jt=Tn+Nt>>1,Nt=(In=In+2*(Nt+sr)>>3)+Vn>>1,_(Y[ne+2*mt-1],255&jt,jt>>16,it,Pe+(2*mt-1)*M),_(Y[ne+2*mt-0],255&Nt,Nt>>16,it,Pe+(2*mt-0)*M),oe!=null&&(jt=In+Qt>>1,Nt=Tn+sr>>1,_(oe[le+2*mt-1],255&jt,jt>>16,Ue,ht+(2*mt-1)*M),_(oe[le+2*mt+0],255&Nt,Nt>>16,Ue,ht+(2*mt+0)*M)),Nt=Vn,Qt=sr}1&vt||(jt=3*Nt+Qt+131074>>2,_(Y[ne+vt-1],255&jt,jt>>16,it,Pe+(vt-1)*M),oe!=null&&(jt=3*Qt+Nt+131074>>2,_(oe[le+vt-1],255&jt,jt>>16,Ue,ht+(vt-1)*M)))}}function Ct(){Ca[Wa]=nu,Ca[af]=bl,Ca[pl]=Gu,Ca[wh]=Fp,Ca[ed]=Pp,Ca[Xl]=lf,Ca[Rp]=zp,Ca[Sh]=bl,Ca[Vu]=Fp,Ca[Zl]=Pp,Ca[sf]=lf}function Tt(S){return S&-16384?0>S?0:255:S>>w2}function $t(S,_){return Tt((19077*S>>8)+(26149*_>>8)-14234)}function yn(S,_,M){return Tt((19077*S>>8)-(6419*_>>8)-(13320*M>>8)+8708)}function fn(S,_){return Tt((19077*S>>8)+(33050*_>>8)-17685)}function qn(S,_,M,Y,ne){Y[ne+0]=$t(S,M),Y[ne+1]=yn(S,_,M),Y[ne+2]=fn(S,_)}function ti(S,_,M,Y,ne){Y[ne+0]=fn(S,_),Y[ne+1]=yn(S,_,M),Y[ne+2]=$t(S,M)}function ui(S,_,M,Y,ne){var oe=yn(S,_,M);_=oe<<3&224|fn(S,_)>>3,Y[ne+0]=248&$t(S,M)|oe>>5,Y[ne+1]=_}function _i(S,_,M,Y,ne){var oe=240&fn(S,_)|15;Y[ne+0]=240&$t(S,M)|yn(S,_,M)>>4,Y[ne+1]=oe}function ki(S,_,M,Y,ne){Y[ne+0]=255,qn(S,_,M,Y,ne+1)}function wa(S,_,M,Y,ne){ti(S,_,M,Y,ne),Y[ne+3]=255}function To(S,_,M,Y,ne){qn(S,_,M,Y,ne),Y[ne+3]=255}function Qs(S,_){return 0>S?0:S>_?_:S}function Oo(S,_,M){L[S]=function(Y,ne,oe,le,he,ye,Ce,Me,Ke){for(var Ge=Me+(-2&Ke)*M;Me!=Ge;)_(Y[ne+0],oe[le+0],he[ye+0],Ce,Me),_(Y[ne+1],oe[le+0],he[ye+0],Ce,Me+M),ne+=2,++le,++ye,Me+=2*M;1&Ke&&_(Y[ne+0],oe[le+0],he[ye+0],Ce,Me)}}function yh(S,_,M){return M==0?S==0?_==0?6:5:_==0?4:0:M}function Vl(S,_,M,Y,ne){switch(S>>>30){case 3:Do(_,M,Y,ne,0);break;case 2:mi(_,M,Y,ne);break;case 1:Bi(_,M,Y,ne)}}function Yl(S,_){var M,Y,ne=_.M,oe=_.Nb,le=S.oc,he=S.pc+40,ye=S.oc,Ce=S.pc+584,Me=S.oc,Ke=S.pc+600;for(M=0;16>M;++M)le[he+32*M-1]=129;for(M=0;8>M;++M)ye[Ce+32*M-1]=129,Me[Ke+32*M-1]=129;for(0<ne?le[he-1-32]=ye[Ce-1-32]=Me[Ke-1-32]=129:(i(le,he-32-1,127,21),i(ye,Ce-32-1,127,9),i(Me,Ke-32-1,127,9)),Y=0;Y<S.za;++Y){var Ge=_.ya[_.aa+Y];if(0<Y){for(M=-1;16>M;++M)r(le,he+32*M-4,le,he+32*M+12,4);for(M=-1;8>M;++M)r(ye,Ce+32*M-4,ye,Ce+32*M+4,4),r(Me,Ke+32*M-4,Me,Ke+32*M+4,4)}var $e=S.Gd,yt=S.Hd+Y,it=Ge.ad,Pe=Ge.Hc;if(0<ne&&(r(le,he-32,$e[yt].y,0,16),r(ye,Ce-32,$e[yt].f,0,8),r(Me,Ke-32,$e[yt].ea,0,8)),Ge.Za){var Ue=le,ht=he-32+16;for(0<ne&&(Y>=S.za-1?i(Ue,ht,$e[yt].y[15],4):r(Ue,ht,$e[yt+1].y,0,4)),M=0;4>M;M++)Ue[ht+128+M]=Ue[ht+256+M]=Ue[ht+384+M]=Ue[ht+0+M];for(M=0;16>M;++M,Pe<<=2)Ue=le,ht=he+id[M],os[Ge.Ob[M]](Ue,ht),Vl(Pe,it,16*+M,Ue,ht)}else if(Ue=yh(Y,ne,Ge.Ob[0]),tu[Ue](le,he),Pe!=0)for(M=0;16>M;++M,Pe<<=2)Vl(Pe,it,16*+M,le,he+id[M]);for(M=Ge.Gc,Ue=yh(Y,ne,Ge.Dd),Zs[Ue](ye,Ce),Zs[Ue](Me,Ke),Pe=it,Ue=ye,ht=Ce,255&(Ge=M>>0)&&(170&Ge?Lo(Pe,256,Ue,ht):_s(Pe,256,Ue,ht)),Ge=Me,Pe=Ke,255&(M>>=8)&&(170&M?Lo(it,320,Ge,Pe):_s(it,320,Ge,Pe)),ne<S.Ub-1&&(r($e[yt].y,0,le,he+480,16),r($e[yt].f,0,ye,Ce+224,8),r($e[yt].ea,0,Me,Ke+224,8)),M=8*oe*S.B,$e=S.sa,yt=S.ta+16*Y+16*oe*S.R,it=S.qa,Ge=S.ra+8*Y+M,Pe=S.Ha,Ue=S.Ia+8*Y+M,M=0;16>M;++M)r($e,yt+M*S.R,le,he+32*M,16);for(M=0;8>M;++M)r(it,Ge+M*S.B,ye,Ce+32*M,8),r(Pe,Ue+M*S.B,Me,Ke+32*M,8)}}function Jd(S,_,M,Y,ne,oe,le,he,ye){var Ce=[0],Me=[0],Ke=0,Ge=ye!=null?ye.kd:0,$e=ye??new mh;if(S==null||12>M)return 7;$e.data=S,$e.w=_,$e.ha=M,_=[_],M=[M],$e.gb=[$e.gb];e:{var yt=_,it=M,Pe=$e.gb;if(n(S!=null),n(it!=null),n(Pe!=null),Pe[0]=0,12<=it[0]&&!t(S,yt[0],"RIFF")){if(t(S,yt[0]+8,"WEBP")){Pe=3;break e}var Ue=Ve(S,yt[0]+4);if(12>Ue||4294967286<Ue){Pe=3;break e}if(Ge&&Ue>it[0]-8){Pe=7;break e}Pe[0]=Ue,yt[0]+=12,it[0]-=12}Pe=0}if(Pe!=0)return Pe;for(Ue=0<$e.gb[0],M=M[0];;){e:{var ht=S;it=_,Pe=M;var vt=Ce,mt=Me,Ot=yt=[0];if((jt=Ke=[Ke])[0]=0,8>Pe[0])Pe=7;else{if(!t(ht,it[0],"VP8X")){if(Ve(ht,it[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var Nt=Ve(ht,it[0]+8),Qt=1+We(ht,it[0]+12);if(2147483648<=Qt*(ht=1+We(ht,it[0]+15))){Pe=3;break e}Ot!=null&&(Ot[0]=Nt),vt!=null&&(vt[0]=Qt),mt!=null&&(mt[0]=ht),it[0]+=18,Pe[0]-=18,jt[0]=1}Pe=0}}if(Ke=Ke[0],yt=yt[0],Pe!=0)return Pe;if(it=!!(2&yt),!Ue&&Ke)return 3;if(oe!=null&&(oe[0]=!!(16&yt)),le!=null&&(le[0]=it),he!=null&&(he[0]=0),le=Ce[0],yt=Me[0],Ke&&it&&ye==null){Pe=0;break}if(4>M){Pe=7;break}if(Ue&&Ke||!Ue&&!Ke&&!t(S,_[0],"ALPH")){M=[M],$e.na=[$e.na],$e.P=[$e.P],$e.Sa=[$e.Sa];e:{Nt=S,Pe=_,Ue=M;var jt=$e.gb;vt=$e.na,mt=$e.P,Ot=$e.Sa,Qt=22,n(Nt!=null),n(Ue!=null),ht=Pe[0];var Vn=Ue[0];for(n(vt!=null),n(Ot!=null),vt[0]=null,mt[0]=null,Ot[0]=0;;){if(Pe[0]=ht,Ue[0]=Vn,8>Vn){Pe=7;break e}var sr=Ve(Nt,ht+4);if(4294967286<sr){Pe=3;break e}var In=8+sr+1&-2;if(Qt+=In,0<jt&&Qt>jt){Pe=3;break e}if(!t(Nt,ht,"VP8 ")||!t(Nt,ht,"VP8L")){Pe=0;break e}if(Vn[0]<In){Pe=7;break e}t(Nt,ht,"ALPH")||(vt[0]=Nt,mt[0]=ht+8,Ot[0]=sr),ht+=In,Vn-=In}}if(M=M[0],$e.na=$e.na[0],$e.P=$e.P[0],$e.Sa=$e.Sa[0],Pe!=0)break}M=[M],$e.Ja=[$e.Ja],$e.xa=[$e.xa];e:if(jt=S,Pe=_,Ue=M,vt=$e.gb[0],mt=$e.Ja,Ot=$e.xa,Nt=Pe[0],ht=!t(jt,Nt,"VP8 "),Qt=!t(jt,Nt,"VP8L"),n(jt!=null),n(Ue!=null),n(mt!=null),n(Ot!=null),8>Ue[0])Pe=7;else{if(ht||Qt){if(jt=Ve(jt,Nt+4),12<=vt&&jt>vt-12){Pe=3;break e}if(Ge&&jt>Ue[0]-8){Pe=7;break e}mt[0]=jt,Pe[0]+=8,Ue[0]-=8,Ot[0]=Qt}else Ot[0]=5<=Ue[0]&&jt[Nt+0]==47&&!(jt[Nt+4]>>5),mt[0]=Ue[0];Pe=0}if(M=M[0],$e.Ja=$e.Ja[0],$e.xa=$e.xa[0],_=_[0],Pe!=0)break;if(4294967286<$e.Ja)return 3;if(he==null||it||(he[0]=$e.xa?2:1),le=[le],yt=[yt],$e.xa){if(5>M){Pe=7;break}he=le,Ge=yt,it=oe,S==null||5>M?S=0:5<=M&&S[_+0]==47&&!(S[_+4]>>5)?(Ue=[0],jt=[0],vt=[0],ie(mt=new U,S,_,M),Dt(mt,Ue,jt,vt)?(he!=null&&(he[0]=Ue[0]),Ge!=null&&(Ge[0]=jt[0]),it!=null&&(it[0]=vt[0]),S=1):S=0):S=0}else{if(10>M){Pe=7;break}he=yt,S==null||10>M||!Ji(S,_+3,M-3)?S=0:(Ge=S[_+0]|S[_+1]<<8|S[_+2]<<16,it=16383&(S[_+7]<<8|S[_+6]),S=16383&(S[_+9]<<8|S[_+8]),1&Ge||3<(Ge>>1&7)||!(Ge>>4&1)||Ge>>5>=$e.Ja||!it||!S?S=0:(le&&(le[0]=it),he&&(he[0]=S),S=1))}if(!S||(le=le[0],yt=yt[0],Ke&&(Ce[0]!=le||Me[0]!=yt)))return 3;ye!=null&&(ye[0]=$e,ye.offset=_-ye.w,n(4294967286>_-ye.w),n(ye.offset==ye.ha-M));break}return Pe==0||Pe==7&&Ke&&ye==null?(oe!=null&&(oe[0]|=$e.na!=null&&0<$e.na.length),Y!=null&&(Y[0]=le),ne!=null&&(ne[0]=yt),0):Pe}function Ru(S,_,M){var Y=_.width,ne=_.height,oe=0,le=0,he=Y,ye=ne;if(_.Da=S!=null&&0<S.Da,_.Da&&(he=S.cd,ye=S.bd,oe=S.v,le=S.j,11>M||(oe&=-2,le&=-2),0>oe||0>le||0>=he||0>=ye||oe+he>Y||le+ye>ne))return 0;if(_.v=oe,_.j=le,_.va=oe+he,_.o=le+ye,_.U=he,_.T=ye,_.da=S!=null&&0<S.da,_.da){if(!be(he,ye,M=[S.ib],oe=[S.hb]))return 0;_.ib=M[0],_.hb=oe[0]}return _.ob=S!=null&&S.ob,_.Kb=S==null||!S.Sd,_.da&&(_.ob=_.ib<3*Y/4&&_.hb<3*ne/4,_.Kb=0),1}function ef(S){if(S==null)return 2;if(11>S.S){var _=S.f.RGBA;_.fb+=(S.height-1)*_.A,_.A=-_.A}else _=S.f.kb,S=S.height,_.O+=(S-1)*_.fa,_.fa=-_.fa,_.N+=(S-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(S-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(S-1)*_.lb,_.lb=-_.lb);return 0}function Yc(S,_,M,Y){if(Y==null||0>=S||0>=_)return 2;if(M!=null){if(M.Da){var ne=M.cd,oe=M.bd,le=-2&M.v,he=-2&M.j;if(0>le||0>he||0>=ne||0>=oe||le+ne>S||he+oe>_)return 2;S=ne,_=oe}if(M.da){if(!be(S,_,ne=[M.ib],oe=[M.hb]))return 2;S=ne[0],_=oe[0]}}Y.width=S,Y.height=_;e:{var ye=Y.width,Ce=Y.height;if(S=Y.S,0>=ye||0>=Ce||!(S>=Wa&&13>S))S=2;else{if(0>=Y.Rd&&Y.sd==null){le=oe=ne=_=0;var Me=(he=ye*Ab[S])*Ce;if(11>S||(oe=(Ce+1)/2*(_=(ye+1)/2),S==12&&(le=(ne=ye)*Ce)),(Ce=a(Me+2*oe+le))==null){S=1;break e}Y.sd=Ce,11>S?((ye=Y.f.RGBA).eb=Ce,ye.fb=0,ye.A=he,ye.size=Me):((ye=Y.f.kb).y=Ce,ye.O=0,ye.fa=he,ye.Fd=Me,ye.f=Ce,ye.N=0+Me,ye.Ab=_,ye.Cd=oe,ye.ea=Ce,ye.W=0+Me+oe,ye.Db=_,ye.Ed=oe,S==12&&(ye.F=Ce,ye.J=0+Me+2*oe),ye.Tc=le,ye.lb=ne)}if(_=1,ne=Y.S,oe=Y.width,le=Y.height,ne>=Wa&&13>ne)if(11>ne)S=Y.f.RGBA,_&=(he=Math.abs(S.A))*(le-1)+oe<=S.size,_&=he>=oe*Ab[ne],_&=S.eb!=null;else{S=Y.f.kb,he=(oe+1)/2,Me=(le+1)/2,ye=Math.abs(S.fa),Ce=Math.abs(S.Ab);var Ke=Math.abs(S.Db),Ge=Math.abs(S.lb),$e=Ge*(le-1)+oe;_&=ye*(le-1)+oe<=S.Fd,_&=Ce*(Me-1)+he<=S.Cd,_=(_&=Ke*(Me-1)+he<=S.Ed)&ye>=oe&Ce>=he&Ke>=he,_&=S.y!=null,_&=S.f!=null,_&=S.ea!=null,ne==12&&(_&=Ge>=oe,_&=$e<=S.Tc,_&=S.F!=null)}else _=0;S=_?0:2}}return S!=0||M!=null&&M.fd&&(S=ef(Y)),S}var ta=64,Mu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Gc=24,Qc=32,tf=8,Cs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];De("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(S){return S},L.Predictor2=function(S,_,M){return _[M+0]},L.Predictor3=function(S,_,M){return _[M+1]},L.Predictor4=function(S,_,M){return _[M-1]},L.Predictor5=function(S,_,M){return Ne(Ne(S,_[M+1]),_[M+0])},L.Predictor6=function(S,_,M){return Ne(S,_[M-1])},L.Predictor7=function(S,_,M){return Ne(S,_[M+0])},L.Predictor8=function(S,_,M){return Ne(_[M-1],_[M+0])},L.Predictor9=function(S,_,M){return Ne(_[M+0],_[M+1])},L.Predictor10=function(S,_,M){return Ne(Ne(S,_[M-1]),Ne(_[M+0],_[M+1]))},L.Predictor11=function(S,_,M){var Y=_[M+0];return 0>=nt(Y>>24&255,S>>24&255,(_=_[M-1])>>24&255)+nt(Y>>16&255,S>>16&255,_>>16&255)+nt(Y>>8&255,S>>8&255,_>>8&255)+nt(255&Y,255&S,255&_)?Y:S},L.Predictor12=function(S,_,M){var Y=_[M+0];return(Xe((S>>24&255)+(Y>>24&255)-((_=_[M-1])>>24&255))<<24|Xe((S>>16&255)+(Y>>16&255)-(_>>16&255))<<16|Xe((S>>8&255)+(Y>>8&255)-(_>>8&255))<<8|Xe((255&S)+(255&Y)-(255&_)))>>>0},L.Predictor13=function(S,_,M){var Y=_[M-1];return(lt((S=Ne(S,_[M+0]))>>24&255,Y>>24&255)<<24|lt(S>>16&255,Y>>16&255)<<16|lt(S>>8&255,Y>>8&255)<<8|lt(S>>0&255,Y>>0&255))>>>0};var Cm=L.PredictorAdd0;L.PredictorAdd1=Fe,De("Predictor2","PredictorAdd2"),De("Predictor3","PredictorAdd3"),De("Predictor4","PredictorAdd4"),De("Predictor5","PredictorAdd5"),De("Predictor6","PredictorAdd6"),De("Predictor7","PredictorAdd7"),De("Predictor8","PredictorAdd8"),De("Predictor9","PredictorAdd9"),De("Predictor10","PredictorAdd10"),De("Predictor11","PredictorAdd11"),De("Predictor12","PredictorAdd12"),De("Predictor13","PredictorAdd13");var xh=L.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var Dp,lo=L.ColorIndexInverseTransform,Sa=L.MapARGB,Fu=L.VP8LColorIndexInverseTransformAlpha,vh=L.MapAlpha,Gl=L.VP8LPredictorsAdd=[];Gl.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Pu,ss,La,zu,Es,Io,fl,Do,mi,Lo,Bi,_s,Kc,hl,nf,qu,Bu,Uu,Xc,rf,$u,Ql,Zc,gi,Ks,Dn,Ln,zr,Ni=a(511),uo=a(2041),Hu=a(225),Wu=a(767),Kl=0,Lp=uo,Jc=Hu,Aa=Wu,co=Ni,Wa=0,af=1,pl=2,wh=3,ed=4,Xl=5,Rp=6,Sh=7,Vu=8,Zl=9,sf=10,Mp=[2,3,7],fo=[3,3,11],Xs=[280,256,256,256,40],td=[0,1,1,1,0],Jl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],eu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],nd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],yb=8,Ah=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ch=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],na=null,bi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],tr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Yu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ml=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Em=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],rd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],xb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],tu=[],os=[],Zs=[],vb=1,of=2,gl=[],Ca=[];ct("UpsampleRgbLinePair",qn,3),ct("UpsampleBgrLinePair",ti,3),ct("UpsampleRgbaLinePair",To,4),ct("UpsampleBgraLinePair",wa,4),ct("UpsampleArgbLinePair",ki,4),ct("UpsampleRgba4444LinePair",_i,2),ct("UpsampleRgb565LinePair",ui,2);var nu=L.UpsampleRgbLinePair,Gu=L.UpsampleBgrLinePair,bl=L.UpsampleRgbaLinePair,Fp=L.UpsampleBgraLinePair,Pp=L.UpsampleArgbLinePair,lf=L.UpsampleRgba4444LinePair,zp=L.UpsampleRgb565LinePair,yl=16,ra=1<<yl-1,Qu=-227,qp=482,w2=6,wb=0,S2=a(256),ia=a(256),_m=a(256),Eh=a(256),_h=a(qp-Qu),km=a(qp-Qu);Oo("YuvToRgbRow",qn,3),Oo("YuvToBgrRow",ti,3),Oo("YuvToRgbaRow",To,4),Oo("YuvToBgraRow",wa,4),Oo("YuvToArgbRow",ki,4),Oo("YuvToRgba4444Row",_i,2),Oo("YuvToRgb565Row",ui,2);var id=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ru=[0,2,8],A2=[8,7,6,4,4,2,2,2,1,1,1,1],Sb=1;this.WebPDecodeRGBA=function(S,_,M,Y,ne){var oe=af,le=new Qd,he=new Gr;le.ba=he,he.S=oe,he.width=[he.width],he.height=[he.height];var ye=he.width,Ce=he.height,Me=new ir;if(Me==null||S==null)var Ke=2;else n(Me!=null),Ke=Jd(S,_,M,Me.width,Me.height,Me.Pd,Me.Qd,Me.format,null);if(Ke!=0?ye=0:(ye!=null&&(ye[0]=Me.width[0]),Ce!=null&&(Ce[0]=Me.height[0]),ye=1),ye){he.width=he.width[0],he.height=he.height[0],Y!=null&&(Y[0]=he.width),ne!=null&&(ne[0]=he.height);e:{if(Y=new io,(ne=new mh).data=S,ne.w=_,ne.ha=M,ne.kd=1,_=[0],n(ne!=null),((S=Jd(ne.data,ne.w,ne.ha,null,null,null,_,null,ne))==0||S==7)&&_[0]&&(S=4),(_=S)==0){if(n(le!=null),Y.data=ne.data,Y.w=ne.w+ne.offset,Y.ha=ne.ha-ne.offset,Y.put=oi,Y.ac=Sr,Y.bc=xa,Y.ma=le,ne.xa){if((S=Ci())==null){le=1;break e}if(function(Ge,$e){var yt=[0],it=[0],Pe=[0];t:for(;;){if(Ge==null)return 0;if($e==null)return Ge.a=2,0;if(Ge.l=$e,Ge.a=0,ie(Ge.m,$e.data,$e.w,$e.ha),!Dt(Ge.m,yt,it,Pe)){Ge.a=3;break t}if(Ge.xb=of,$e.width=yt[0],$e.height=it[0],!er(yt[0],it[0],1,Ge,null))break t;return 1}return n(Ge.a!=0),0}(S,Y)){if(Y=(_=Yc(Y.width,Y.height,le.Oa,le.ba))==0){t:{Y=S;n:for(;;){if(Y==null){Y=0;break t}if(n(Y.s.yc!=null),n(Y.s.Ya!=null),n(0<Y.s.Wb),n((M=Y.l)!=null),n((ne=M.ma)!=null),Y.xb!=0){if(Y.ca=ne.ba,Y.tb=ne.tb,n(Y.ca!=null),!Ru(ne.Oa,M,wh)){Y.a=2;break n}if(!ro(Y,M.width)||M.da)break n;if((M.da||ln(Y.ca.S))&&Ye(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&Ye()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!V(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break n}Y.xb=0}if(!zi(Y,Y.V,Y.Ba,Y.c,Y.i,M.o,bs))break n;ne.Dc=Y.Ma,Y=1;break t}n(Y.a!=0),Y=0}Y=!Y}Y&&(_=S.a)}else _=S.a}else{if((S=new Wc)==null){le=1;break e}if(S.Fa=ne.na,S.P=ne.P,S.qc=ne.Sa,ao(S,Y)){if((_=Yc(Y.width,Y.height,le.Oa,le.ba))==0){if(S.Aa=0,M=le.Oa,n((ne=S)!=null),M!=null){if(0<(ye=0>(ye=M.Md)?0:100<ye?255:255*ye/100)){for(Ce=Me=0;4>Ce;++Ce)12>(Ke=ne.pb[Ce]).lc&&(Ke.ia=ye*A2[0>Ke.lc?0:Ke.lc]>>3),Me|=Ke.ia;Me&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=M.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}Hl(S,Y)||(_=S.a)}}else _=S.a}_==0&&le.Oa!=null&&le.Oa.fd&&(_=ef(le.ba))}le=_}oe=le!=0?null:11>oe?he.f.RGBA.eb:he.f.kb.y}else oe=null;return oe};var Ab=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(L,B){for(var X="",j=0;j<4;j++)X+=String.fromCharCode(L[B++]);return X}function f(L,B){return(L[B+0]<<0|L[B+1]<<8|L[B+2]<<16)>>>0}function g(L,B){return(L[B+0]<<0|L[B+1]<<8|L[B+2]<<16|L[B+3]<<24)>>>0}new u;var b=[0],m=[0],x=[],y=new u,A=e,w=function(L,B){var X={},j=0,O=!1,P=0,T=0;if(X.frames=[],!function(z,Z,ee,se){for(var we=0;we<se;we++)if(z[Z+we]!=ee.charCodeAt(we))return!0;return!1}(L,B,"RIFF",4)){for(g(L,B+=4),B+=8;B<L.length;){var G=d(L,B),W=g(L,B+=4);B+=4;var K=W+(1&W);switch(G){case"VP8 ":case"VP8L":X.frames[j]===void 0&&(X.frames[j]={}),($=X.frames[j]).src_off=O?T:B-8,$.src_size=P+W+8,j++,O&&(O=!1,P=0,T=0);break;case"VP8X":($=X.header={}).feature_flags=L[B];var ie=B+4;$.canvas_width=1+f(L,ie),ie+=3,$.canvas_height=1+f(L,ie),ie+=3;break;case"ALPH":O=!0,P=K+8,T=B-8;break;case"ANIM":($=X.header).bgcolor=g(L,B),ie=B+4,$.loop_count=(ae=L)[(U=ie)+0]<<0|ae[U+1]<<8,ie+=2;break;case"ANMF":var ue,$;($=X.frames[j]={}).offset_x=2*f(L,B),B+=3,$.offset_y=2*f(L,B),B+=3,$.width=1+f(L,B),B+=3,$.height=1+f(L,B),B+=3,$.duration=f(L,B),B+=3,ue=L[B++],$.dispose=1&ue,$.blend=ue>>1&1}G!="ANMF"&&(B+=K)}var ae,U;return X}}(A,0);w.response=A,w.rgbaoutput=!0,w.dataurl=!1;var C=w.header?w.header:null,N=w.frames?w.frames:null;if(C){C.loop_counter=C.loop_count,b=[C.canvas_height],m=[C.canvas_width];for(var R=0;R<N.length&&N[R].blend!=0;R++);}var F=N[0],q=y.WebPDecodeRGBA(A,F.src_off,F.src_size,m,b);F.rgba=q,F.imgwidth=m[0],F.imgheight=b[0];for(var k=0;k<m[0]*b[0]*4;k++)x[k]=q[k];return this.width=m,this.height=b,this.data=x,this}(function(e){var n=function(){return typeof MS=="function"},t=function(b,m,x,y){var A=4,w=s;switch(y){case e.image_compression.FAST:A=1,w=a;break;case e.image_compression.MEDIUM:A=6,w=l;break;case e.image_compression.SLOW:A=9,w=u}b=r(b,m,x,w);var C=MS(b,{level:A});return e.__addimage__.arrayBufferToBinaryString(C)},r=function(b,m,x,y){for(var A,w,C,N=b.length/m,R=new Uint8Array(b.length+N),F=f(),q=0;q<N;q+=1){if(C=q*m,A=b.subarray(C,C+m),y)R.set(y(A,x,w),C+q);else{for(var k,L=F.length,B=[];k<L;k+=1)B[k]=F[k](A,x,w);var X=g(B.concat());R.set(B[X],C+q)}w=A}return R},i=function(b){var m=Array.apply([],b);return m.unshift(0),m},a=function(b,m){var x,y=[],A=b.length;y[0]=1;for(var w=0;w<A;w+=1)x=b[w-m]||0,y[w+1]=b[w]-x+256&255;return y},s=function(b,m,x){var y,A=[],w=b.length;A[0]=2;for(var C=0;C<w;C+=1)y=x&&x[C]||0,A[C+1]=b[C]-y+256&255;return A},l=function(b,m,x){var y,A,w=[],C=b.length;w[0]=3;for(var N=0;N<C;N+=1)y=b[N-m]||0,A=x&&x[N]||0,w[N+1]=b[N]+256-(y+A>>>1)&255;return w},u=function(b,m,x){var y,A,w,C,N=[],R=b.length;N[0]=4;for(var F=0;F<R;F+=1)y=b[F-m]||0,A=x&&x[F]||0,w=x&&x[F-m]||0,C=d(y,A,w),N[F+1]=b[F]-C+256&255;return N},d=function(b,m,x){if(b===m&&m===x)return b;var y=Math.abs(m-x),A=Math.abs(b-x),w=Math.abs(b+m-x-x);return y<=A&&y<=w?b:A<=w?m:x},f=function(){return[i,a,s,l,u]},g=function(b){var m=b.map(function(x){return x.reduce(function(y,A){return y+Math.abs(A)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(b,m,x,y){var A,w,C,N,R,F,q,k,L,B,X,j,O,P,T,G=this.decode.FLATE_DECODE,W="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(C=new wK(b)).imgData,w=C.bits,A=C.colorSpace,R=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){L=(k=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,X=new Uint8Array(L*C.colors),B=new Uint8Array(L);var K,ie=C.pixelBitlength-C.bits;for(P=0,T=0;P<L;P++){for(O=k[P],K=0;K<ie;)X[T++]=O>>>K&255,K+=C.bits;B[P]=O>>>K&255}}if(C.bits===16){L=(k=new Uint32Array(C.decodePixels().buffer)).length,X=new Uint8Array(L*(32/C.pixelBitlength)*C.colors),B=new Uint8Array(L*(32/C.pixelBitlength)),j=C.colors>1,P=0,T=0;for(var ue=0;P<L;)O=k[P++],X[T++]=O>>>0&255,j&&(X[T++]=O>>>16&255,O=k[P++],X[T++]=O>>>0&255),B[ue++]=O>>>16&255;w=8}y!==e.image_compression.NONE&&n()?(b=t(X,C.width*C.colors,C.colors,y),q=t(B,C.width,1,y)):(b=X,q=B,G=void 0)}if(C.colorType===3&&(A=this.color_spaces.INDEXED,F=C.palette,C.transparency.indexed)){var $=C.transparency.indexed,ae=0;for(P=0,L=$.length;P<L;++P)ae+=$[P];if((ae/=255)===L-1&&$.indexOf(0)!==-1)N=[$.indexOf(0)];else if(ae!==L){for(k=C.decodePixels(),B=new Uint8Array(k.length),P=0,L=k.length;P<L;P++)B[P]=$[k[P]];q=t(B,C.width,1)}}var U=function(z){var Z;switch(z){case e.image_compression.FAST:Z=11;break;case e.image_compression.MEDIUM:Z=13;break;case e.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(y);return G===this.decode.FLATE_DECODE&&(W="/Predictor "+U+" "),W+="/Colors "+R+" /BitsPerComponent "+w+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(q&&this.__addimage__.isArrayBuffer(q)||this.__addimage__.isArrayBufferView(q))&&(q=this.__addimage__.arrayBufferToBinaryString(q)),{alias:x,data:b,index:m,filter:G,decodeParameters:W,transparency:N,palette:F,sMask:q,predictor:U,width:C.width,height:C.height,bitsPerComponent:w,colorSpace:A}}}})(on.API),function(e){e.processGIF89A=function(n,t,r,i){var a=new SK(n),s=a.width,l=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:s,height:l},f=new mw(100).encode(d,100);return e.processJPEG.call(this,f,t,r,i)},e.processGIF87A=e.processGIF89A}(on.API),fu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var n=0;n<e;n++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:i,green:r,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,n=this.width*this.height*4;this.data=new Uint8Array(n),this[e]()}catch(t){Xr.log("bit decode error:"+t)}},fu.prototype.bit1=function(){var e,n=Math.ceil(this.width/8),t=n%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<n;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var u=this.palette[a>>7-l&1];this.data[s+4*l]=u.blue,this.data[s+4*l+1]=u.green,this.data[s+4*l+2]=u.red,this.data[s+4*l+3]=255}t!==0&&(this.pos+=4-t)}},fu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),n=e%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=a>>4,u=15&a,d=this.palette[l];if(this.data[s]=d.blue,this.data[s+1]=d.green,this.data[s+2]=d.red,this.data[s+3]=255,2*i+1>=this.width)break;d=this.palette[u],this.data[s+4]=d.blue,this.data[s+4+1]=d.green,this.data[s+4+2]=d.red,this.data[s+4+3]=255}n!==0&&(this.pos+=4-n)}},fu.prototype.bit8=function(){for(var e=this.width%4,n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},fu.prototype.bit15=function(){for(var e=this.width%3,n=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&n)/n*255|0,l=(a>>5&n)/n*255|0,u=(a>>10&n)/n*255|0,d=a>>15?255:0,f=r*this.width*4+4*i;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=s,this.data[f+3]=d}this.pos+=e}},fu.prototype.bit16=function(){for(var e=this.width%3,n=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&n)/n*255|0,u=(s>>5&t)/t*255|0,d=(s>>11)/n*255|0,f=i*this.width*4+4*a;this.data[f]=d,this.data[f+1]=u,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},fu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*t;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},fu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*t;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=s}},fu.prototype.getData=function(){return this.data},function(e){e.processBMP=function(n,t,r,i){var a=new fu(n,!1),s=a.width,l=a.height,u={data:a.getData(),width:s,height:l},d=new mw(100).encode(u,100);return e.processJPEG.call(this,d,t,r,i)}}(on.API),r4.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(n,t,r,i){var a=new r4(n),s=a.width,l=a.height,u={data:a.getData(),width:s,height:l},d=new mw(100).encode(u,100);return e.processJPEG.call(this,d,t,r,i)}}(on.API),on.API.processRGBA=function(e,n,t){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,u=0,d=0;d<i;d+=4){var f=r[d],g=r[d+1],b=r[d+2],m=r[d+3];a[l++]=f,a[l++]=g,a[l++]=b,s[u++]=m}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:x,index:n,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},on.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},f0=on.API,Py=f0.getCharWidthsArray=function(e,n){var t,r,i=(n=n||{}).font||this.internal.getFont(),a=n.fontSize||this.internal.getFontSize(),s=n.charSpace||this.internal.getCharSpace(),l=n.widths?n.widths:i.metadata.Unicode.widths,u=l.fof?l.fof:1,d=n.kerning?n.kerning:i.metadata.Unicode.kerning,f=d.fof?d.fof:1,g=n.doKerning!==!1,b=0,m=e.length,x=0,y=l[0]||u,A=[];for(t=0;t<m;t++)r=e.charCodeAt(t),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(b=g&&Zr(d[r])==="object"&&!isNaN(parseInt(d[r][x],10))?d[r][x]/f:0,A.push((l[r]||y)/u+b)),x=r;return A},J8=f0.getStringUnitWidth=function(e,n){var t=(n=n||{}).fontSize||this.internal.getFontSize(),r=n.font||this.internal.getFont(),i=n.charSpace||this.internal.getCharSpace();return f0.processArabic&&(e=f0.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,t,i)/t:Py.apply(this,arguments).reduce(function(a,s){return a+s},0)},e4=function(e,n,t,r){for(var i=[],a=0,s=e.length,l=0;a!==s&&l+n[a]<t;)l+=n[a],a++;i.push(e.slice(0,a));var u=a;for(l=0;a!==s;)l+n[a]>r&&(i.push(e.slice(u,a)),l=0,u=a),l+=n[a],a++;return u!==a&&i.push(e.slice(u,a)),i},t4=function(e,n,t){t||(t={});var r,i,a,s,l,u,d,f=[],g=[f],b=t.textIndent||0,m=0,x=0,y=e.split(" "),A=Py.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var w=Array(u).join(" "),C=[];y.map(function(R){(R=R.split(/\s*\n/)).length>1?C=C.concat(R.map(function(F,q){return(q&&F.length?`
`:"")+F})):C.push(R[0])}),y=C,u=J8.apply(this,[w,t])}for(a=0,s=y.length;a<s;a++){var N=0;if(r=y[a],u&&r[0]==`
`&&(r=r.substr(1),N=1),b+m+(x=(i=Py.apply(this,[r,t])).reduce(function(R,F){return R+F},0))>n||N){if(x>n){for(l=e4.apply(this,[r,i,n-(b+m),n]),f.push(l.shift()),f=[l.pop()];l.length;)g.push([l.shift()]);x=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(R,F){return R+F},0)}else f=[r];g.push(f),b=x+u,m=A}else f.push(r),b+=m+x,m=A}return d=u?function(R,F){return(F?w:"")+R.join(" ")}:function(R){return R.join(" ")},g.map(d)},f0.splitTextToSize=function(e,n,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var g=this.internal.getFont(f.fontName,f.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*n/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var l,u,d=[];for(l=0,u=r.length;l<u;l++)d=d.concat(t4.apply(this,[r[l],s,a]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var n="klmnopqrstuvwxyz",t={},r={},i=0;i<n.length;i++)t[n[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=n[i];var a=function(g){return"0x"+parseInt(g,10).toString(16)},s=e.__fontmetrics__.compress=function(g){var b,m,x,y,A=["{"];for(var w in g){if(b=g[w],isNaN(parseInt(w,10))?m="'"+w+"'":(w=parseInt(w,10),m=(m=a(w).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof b=="number")b<0?(x=a(b).slice(3),y="-"):(x=a(b).slice(2),y=""),x=y+x.slice(0,-1)+r[x.slice(-1)];else{if(Zr(b)!=="object")throw new Error("Don't know what to do with value type "+Zr(b)+".");x=s(b)}A.push(m+x)}return A.push("}"),A.join("")},l=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,m,x,y,A={},w=1,C=A,N=[],R="",F="",q=g.length-1,k=1;k<q;k+=1)(y=g[k])=="'"?b?(x=b.join(""),b=void 0):b=[]:b?b.push(y):y=="{"?(N.push([C,x]),C={},x=void 0):y=="}"?((m=N.pop())[0][m[1]]=C,x=void 0,C=m[0]):y=="-"?w=-1:x===void 0?t.hasOwnProperty(y)?(R+=t[y],x=parseInt(R,16)*w,w=1,R=""):R+=y:t.hasOwnProperty(y)?(F+=t[y],C[x]=parseInt(F,16)*w,w=1,x=void 0,F=""):F+=y;return A},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var b=g.font,m=f.Unicode[b.postScriptName];m&&(b.metadata.Unicode={},b.metadata.Unicode.widths=m.widths,b.metadata.Unicode.kerning=m.kerning);var x=d.Unicode[b.postScriptName];x&&(b.metadata.Unicode.encoding=x,b.encoding=x.codePages[0])}])}(on.API),function(e){var n=function(t){for(var r=t.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=t.charCodeAt(a);return i};e.API.events.push(["addFont",function(t){var r=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?n(l):n(eg(l)),s.metadata=e.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(on),function(e){function n(){return(cn.canvg?Promise.resolve(cn.canvg):Li(()=>import("./index.es-DeYP4AI7.js"),__vite__mapDeps([6,4,1]))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}on.API.addSvgAsImage=function(t,r,i,a,s,l,u,d){if(isNaN(r)||isNaN(i))throw Xr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Xr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=a,f.height=s;var g=f.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,f.width,f.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return n().then(function(x){return x.fromString(g,t,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(b)}).then(function(){m.addImage(f.toDataURL("image/jpeg",1),r,i,a,s,u,d)})}}(),on.API.putTotalPages=function(e){var n,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(n,t);return this},on.API.viewerPreferences=function(e,n){var t;e=e||{},n=n||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),u=[],d=0,f=0,g=0;function b(x,y){var A,w=!1;for(A=0;A<x.length;A+=1)x[A]===y&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,e==="reset"||n===!0){var m=l.length;for(g=0;g<m;g+=1)t[l[g]].value=t[l[g]].defaultValue,t[l[g]].explicitSet=!1}if(Zr(e)==="object"){for(i in e)if(a=e[i],b(l,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&b(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(d=0;d<a.length;d+=1)if(r=!0,a[d].length===1&&typeof a[d][0]=="number")u.push(String(a[d]-1));else if(a[d].length>1){for(f=0;f<a[d].length;f+=1)typeof a[d][f]!="number"&&(r=!1);r===!0&&u.push([a[d][0]-1,a[d][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,y=[];for(x in t)t[x].explicitSet===!0&&(t[x].type==="name"?y.push("/"+x+" /"+t[x].value):y.push("/"+x+" "+t[x].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(e){var n=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+s.length+l.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",n)),this}}(on.API),function(e){var n=e.API,t=n.pdfEscape16=function(a,s){for(var l,u=s.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],g=0,b=a.length;g<b;++g){if(l=s.metadata.characterToGlyph(a.charCodeAt(g)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(g),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},r=function(a){var s,l,u,d,f,g,b;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],g=0,b=(l=Object.keys(a).sort(function(m,x){return m-x})).length;g<b;g++)s=l[g],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(d=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),u.push("<"+s+"><"+d+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};n.events.push(["putFont",function(a){(function(s){var l=s.font,u=s.out,d=s.newObject,f=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var g=l.metadata.Unicode.widths,b=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",x=0;x<b.length;x++)m+=String.fromCharCode(b[x]);var y=d();f({data:m,addLength1:!0,objectId:y}),u("endobj");var A=d();f({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),u("endobj");var w=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+D0(l.fontName)),u("/FontFile2 "+y+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var C=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+D0(l.fontName)),u("/FontDescriptor "+w+" 0 R"),u("/W "+e.API.PDFObject.convert(g)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+A+" 0 R"),u("/BaseFont /"+D0(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+C+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]),n.events.push(["putFont",function(a){(function(s){var l=s.font,u=s.out,d=s.newObject,f=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var g=l.metadata.rawData,b="",m=0;m<g.length;m++)b+=String.fromCharCode(g[m]);var x=d();f({data:b,addLength1:!0,objectId:x}),u("endobj");var y=d();f({data:r(l.metadata.toUnicode),addLength1:!0,objectId:y}),u("endobj");var A=d();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+x+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+D0(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=d();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+D0(l.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",u=a.x,d=a.y,f=a.options||{},g=a.mutex||{},b=g.pdfEscape,m=g.activeFontKey,x=g.fonts,y=m,A="",w=0,C="",N=x[y].encoding;if(x[y].encoding!=="Identity-H")return{text:l,x:u,y:d,options:f,mutex:g};for(C=l,y=m,Array.isArray(l)&&(C=l[0]),w=0;w<C.length;w+=1)x[y].metadata.hasOwnProperty("cmap")&&(s=x[y].metadata.cmap.unicode.codeMap[C[w].charCodeAt(0)]),s||C[w].charCodeAt(0)<256&&x[y].metadata.hasOwnProperty("Unicode")?A+=C[w]:A+="";var R="";return parseInt(y.slice(1))<14||N==="WinAnsiEncoding"?R=b(A,y).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(R=t(A,x[y])),g.isHex=!0,{text:R,x:u,y:d,options:f,mutex:g}};n.events.push(["postProcessText",function(a){var s=a.text||"",l=[],u={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var d=0;for(d=0;d<s.length;d+=1)Array.isArray(s[d])&&s[d].length===3?l.push([i(Object.assign({},u,{text:s[d][0]})).text,s[d][1],s[d][2]]):l.push(i(Object.assign({},u,{text:s[d]})).text);a.text=l}else a.text=i(Object.assign({},u,{text:s})).text}])}(on),function(e){var n=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0},e.addFileToVFS=function(t,r){return n.call(this),this.internal.vFS[t]=r,this},e.getFileFromVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(on.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,s,l,u,d,f,g=n,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,N=0;this.__bidiEngine__={};var R=function(j){var O=j.charCodeAt(),P=O>>8,T=y[P];return T!==void 0?g[256*T+(255&O)]:P===252||P===253?"AL":w.test(P)?"L":P===8?"R":"N"},F=function(j){for(var O,P=0;P<j.length;P++){if((O=R(j.charAt(P)))==="L")return!1;if(O==="R")return!0}return!1},q=function(j,O,P,T){var G,W,K,ie,ue=O[T];switch(ue){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(ue="AN");break;case"AL":C=!0,ue="R";break;case"WS":ue="N";break;case"CS":T<1||T+1>=O.length||(G=P[T-1])!=="EN"&&G!=="AN"||(W=O[T+1])!=="EN"&&W!=="AN"?ue="N":C&&(W="AN"),ue=W===G?W:"N";break;case"ES":ue=(G=T>0?P[T-1]:"B")==="EN"&&T+1<O.length&&O[T+1]==="EN"?"EN":"N";break;case"ET":if(T>0&&P[T-1]==="EN"){ue="EN";break}if(C){ue="N";break}for(K=T+1,ie=O.length;K<ie&&O[K]==="ET";)K++;ue=K<ie&&O[K]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(ie=O.length,K=T+1;K<ie&&O[K]==="NSM";)K++;if(K<ie){var $=j[T],ae=$>=1425&&$<=2303||$===64286;if(G=O[K],ae&&(G==="R"||G==="AL")){ue="R";break}}}ue=T<1||(G=O[T-1])==="B"?"N":P[T-1];break;case"B":C=!1,i=!0,ue=N;break;case"S":a=!0,ue="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":ue="N"}return ue},k=function(j,O,P){var T=j.split("");return P&&L(T,P,{hiLevel:N}),T.reverse(),O&&O.reverse(),T.join("")},L=function(j,O,P){var T,G,W,K,ie,ue=-1,$=j.length,ae=0,U=[],z=N?m:b,Z=[];for(C=!1,i=!1,a=!1,G=0;G<$;G++)Z[G]=R(j[G]);for(W=0;W<$;W++){if(ie=ae,U[W]=q(j,Z,U,W),T=240&(ae=z[ie][x[U[W]]]),ae&=15,O[W]=K=z[ae][5],T>0)if(T===16){for(G=ue;G<W;G++)O[G]=1;ue=-1}else ue=-1;if(z[ae][6])ue===-1&&(ue=W);else if(ue>-1){for(G=ue;G<W;G++)O[G]=K;ue=-1}Z[W]==="B"&&(O[W]=0),P.hiLevel|=K}a&&function(ee,se,we){for(var xe=0;xe<we;xe++)if(ee[xe]==="S"){se[xe]=N;for(var Ee=xe-1;Ee>=0&&ee[Ee]==="WS";Ee--)se[Ee]=N}}(Z,O,$)},B=function(j,O,P,T,G){if(!(G.hiLevel<j)){if(j===1&&N===1&&!i)return O.reverse(),void(P&&P.reverse());for(var W,K,ie,ue,$=O.length,ae=0;ae<$;){if(T[ae]>=j){for(ie=ae+1;ie<$&&T[ie]>=j;)ie++;for(ue=ae,K=ie-1;ue<K;ue++,K--)W=O[ue],O[ue]=O[K],O[K]=W,P&&(W=P[ue],P[ue]=P[K],P[K]=W);ae=ie}ae++}}},X=function(j,O,P){var T=j.split(""),G={hiLevel:N};return P||(P=[]),L(T,P,G),function(W,K,ie){if(ie.hiLevel!==0&&f)for(var ue,$=0;$<W.length;$++)K[$]===1&&(ue=A.indexOf(W[$]))>=0&&(W[$]=A[ue+1])}(T,P,G),B(2,T,O,P,G),B(1,T,O,P,G),T.join("")};return this.__bidiEngine__.doBidiReorder=function(j,O,P){if(function(G,W){if(W)for(var K=0;K<G.length;K++)W[K]=K;l===void 0&&(l=F(G)),d===void 0&&(d=F(G))}(j,O),s||!u||d)if(s&&u&&l^d)N=l?1:0,j=k(j,O,P);else if(!s&&u&&d)N=l?1:0,j=X(j,O,P),j=k(j,O);else if(!s||l||u||d){if(s&&!u&&l^d)j=k(j,O),l?(N=0,j=X(j,O,P)):(N=1,j=X(j,O,P),j=k(j,O));else if(s&&l&&!u&&d)N=1,j=X(j,O,P),j=k(j,O);else if(!s&&!u&&l^d){var T=f;l?(N=1,j=X(j,O,P),N=0,f=!1,j=X(j,O,P),f=T):(N=0,j=X(j,O,P),j=k(j,O),N=1,f=!1,j=X(j,O,P),f=T,j=k(j,O))}}else N=0,j=X(j,O,P);else N=l?1:0,j=X(j,O,P);return j},this.__bidiEngine__.setOptions=function(j){j&&(s=j.isInputVisual,u=j.isOutputVisual,l=j.isInputRtl,d=j.isOutputRtl,f=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([t.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([t.doBidiReorder(i[l])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(on),on.API.TTFFont=function(){function e(n){var t;if(this.rawData=n,t=this.contents=new ih(n),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new FK(this),this.registerTTF()}return e.open=function(n){return new e(n)},e.prototype.parse=function(){return this.directory=new AK(this.contents),this.head=new EK(this),this.name=new TK(this),this.cmap=new uI(this),this.toUnicode={},this.hhea=new _K(this),this.maxp=new OK(this),this.hmtx=new IK(this),this.post=new NK(this),this.os2=new kK(this),this.loca=new MK(this),this.glyf=new DK(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var n,t,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,u,d;for(d=[],s=0,l=(u=this.bbox).length;s<l;s++)n=u[s],d.push(Math.round(n*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(n){var t;return((t=this.cmap.unicode)!=null?t.codeMap[n]:void 0)||0},e.prototype.widthOfGlyph=function(n){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*t},e.prototype.widthOfString=function(n,t,r){var i,a,s,l;for(s=0,a=0,l=(n=""+n).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=n.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},e.prototype.lineHeight=function(n,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*n},e}();var Nu,ih=function(){function e(n){this.data=n??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(n){return this.data[this.pos++]=n},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},e.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},e.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},e.prototype.readString=function(n){var t,r;for(r=[],t=0;0<=n?t<n:t>n;t=0<=n?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(n){var t,r,i;for(i=[],t=0,r=n.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(n.charCodeAt(t)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(n){return this.writeInt16(n)},e.prototype.readLongLong=function(){var n,t,r,i,a,s,l,u;return n=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^u)+1):72057594037927940*n+281474976710656*t+1099511627776*r+4294967296*i+16777216*a+65536*s+256*l+u},e.prototype.writeLongLong=function(n){var t,r;return t=Math.floor(n/4294967296),r=4294967295&n,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(n){return this.writeInt32(n)},e.prototype.read=function(n){var t,r;for(t=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(n){var t,r,i,a;for(a=[],r=0,i=n.length;r<i;r++)t=n[r],a.push(this.writeByte(t));return a},e}(),AK=function(){var e;function n(t){var r,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return n.prototype.encode=function(t){var r,i,a,s,l,u,d,f,g,b,m,x,y;for(y in m=Object.keys(t).length,u=Math.log(2),g=16*Math.floor(Math.log(m)/u),s=Math.floor(g/u),f=16*m-g,(i=new ih).writeInt(this.scalarType),i.writeShort(m),i.writeShort(g),i.writeShort(s),i.writeShort(f),a=16*m,d=i.pos+a,l=null,x=[],t)for(b=t[y],i.writeString(y),i.writeInt(e(b)),i.writeInt(d),i.writeInt(b.length),x=x.concat(b),y==="head"&&(l=d),d+=b.length;d%4;)x.push(0),d++;return i.write(x),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(t){var r,i,a,s;for(t=cI.call(t);t.length%4;)t.push(0);for(a=new ih(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},n}(),CK={}.hasOwnProperty,$c=function(e,n){for(var t in n)CK.call(n,t)&&(e[t]=n[t]);function r(){this.constructor=e}return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Nu=function(){function e(n){var t;this.file=n,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var EK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,Nu),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var r;return(r=new ih).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},n}(),i4=function(){function e(n,t){var r,i,a,s,l,u,d,f,g,b,m,x,y,A,w,C,N;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=t+n.readInt(),g=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=n.readByte();break;case 4:for(m=n.readUInt16(),b=m/2,n.pos+=6,a=function(){var R,F;for(F=[],u=R=0;0<=b?R<b:R>b;u=0<=b?++R:--R)F.push(n.readUInt16());return F}(),n.pos+=2,y=function(){var R,F;for(F=[],u=R=0;0<=b?R<b:R>b;u=0<=b?++R:--R)F.push(n.readUInt16());return F}(),d=function(){var R,F;for(F=[],u=R=0;0<=b?R<b:R>b;u=0<=b?++R:--R)F.push(n.readUInt16());return F}(),f=function(){var R,F;for(F=[],u=R=0;0<=b?R<b:R>b;u=0<=b?++R:--R)F.push(n.readUInt16());return F}(),i=(this.length-n.pos+this.offset)/2,l=function(){var R,F;for(F=[],u=R=0;0<=i?R<i:R>i;u=0<=i?++R:--R)F.push(n.readUInt16());return F}(),u=w=0,N=a.length;w<N;u=++w)for(A=a[u],r=C=x=y[u];x<=A?C<=A:C>=A;r=x<=A?++C:--C)f[u]===0?s=r+d[u]:(s=l[f[u]/2+(r-x)-(b-u)]||0)!==0&&(s+=d[u]),this.codeMap[r]=65535&s}n.pos=g}return e.encode=function(n,t){var r,i,a,s,l,u,d,f,g,b,m,x,y,A,w,C,N,R,F,q,k,L,B,X,j,O,P,T,G,W,K,ie,ue,$,ae,U,z,Z,ee,se,we,xe,Ee,Ie,Re,We;switch(T=new ih,s=Object.keys(n).sort(function(Ve,V){return Ve-V}),t){case"macroman":for(y=0,A=function(){var Ve=[];for(x=0;x<256;++x)Ve.push(0);return Ve}(),C={0:0},a={},G=0,ue=s.length;G<ue;G++)C[Ee=n[i=s[G]]]==null&&(C[Ee]=++y),a[i]={old:n[i],new:C[n[i]]},A[i]=C[n[i]];return T.writeUInt16(1),T.writeUInt16(0),T.writeUInt32(12),T.writeUInt16(0),T.writeUInt16(262),T.writeUInt16(0),T.write(A),{charMap:a,subtable:T.data,maxGlyphID:y+1};case"unicode":for(O=[],g=[],N=0,C={},r={},w=d=null,W=0,$=s.length;W<$;W++)C[F=n[i=s[W]]]==null&&(C[F]=++N),r[i]={old:F,new:C[F]},l=C[F]-i,w!=null&&l===d||(w&&g.push(w),O.push(i),d=l),w=i;for(w&&g.push(w),g.push(65535),O.push(65535),X=2*(B=O.length),L=2*Math.pow(Math.log(B)/Math.LN2,2),b=Math.log(L/2)/Math.LN2,k=2*B-L,u=[],q=[],m=[],x=K=0,ae=O.length;K<ae;x=++K){if(j=O[x],f=g[x],j===65535){u.push(0),q.push(0);break}if(j-(P=r[j].new)>=32768)for(u.push(0),q.push(2*(m.length+B-x)),i=ie=j;j<=f?ie<=f:ie>=f;i=j<=f?++ie:--ie)m.push(r[i].new);else u.push(P-j),q.push(0)}for(T.writeUInt16(3),T.writeUInt16(1),T.writeUInt32(12),T.writeUInt16(4),T.writeUInt16(16+8*B+2*m.length),T.writeUInt16(0),T.writeUInt16(X),T.writeUInt16(L),T.writeUInt16(b),T.writeUInt16(k),we=0,U=g.length;we<U;we++)i=g[we],T.writeUInt16(i);for(T.writeUInt16(0),xe=0,z=O.length;xe<z;xe++)i=O[xe],T.writeUInt16(i);for(Ie=0,Z=u.length;Ie<Z;Ie++)l=u[Ie],T.writeUInt16(l);for(Re=0,ee=q.length;Re<ee;Re++)R=q[Re],T.writeUInt16(R);for(We=0,se=m.length;We<se;We++)y=m[We],T.writeUInt16(y);return{charMap:r,subtable:T.data,maxGlyphID:N+1}}},e}(),uI=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,Nu),n.prototype.tag="cmap",n.prototype.parse=function(t){var r,i,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new i4(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},n.encode=function(t,r){var i,a;return r==null&&(r="macroman"),i=i4.encode(t,r),(a=new ih).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},n}(),_K=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,Nu),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n}(),kK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,Nu),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n}(),NK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,Nu),n.prototype.tag="post",n.prototype.parse=function(t){var r,i,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var s;for(i=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var l,u,d;for(d=[],s=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;s=0<=u?++l:--l)d.push(t.readUInt32());return d}).call(this)}},n}(),jK=function(e,n){this.raw=e,this.length=e.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},TK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,Nu),n.prototype.tag="name",n.prototype.parse=function(t){var r,i,a,s,l,u,d,f,g,b,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(d={},s=g=0,b=i.length;g<b;s=++g)a=i[s],t.pos=a.offset,f=t.readString(a.length),l=new jK(f,a),d[m=a.nameID]==null&&(d[m]=[]),d[a.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},n}(),OK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,Nu),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n}(),IK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,Nu),n.prototype.tag="hmtx",n.prototype.parse=function(t){var r,i,a,s,l,u,d;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,g;for(g=[],r=f=0;0<=a?f<a:f>a;r=0<=a?++f:--f)g.push(t.readInt16());return g}(),this.widths=(function(){var f,g,b,m;for(m=[],f=0,g=(b=this.metrics).length;f<g;f++)s=b[f],m.push(s.advance);return m}).call(this),i=this.widths[this.widths.length-1],d=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)d.push(this.widths.push(i));return d},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n}(),cI=[].slice,DK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,Nu),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var r,i,a,s,l,u,d,f,g,b;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(t),(a=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,l=(u=new ih(r.read(a))).readShort(),f=u.readShort(),b=u.readShort(),d=u.readShort(),g=u.readShort(),this.cache[t]=l===-1?new RK(u,f,b,d,g):new LK(u,l,f,b,d,g),this.cache[t]))},n.prototype.encode=function(t,r,i){var a,s,l,u,d;for(l=[],s=[],u=0,d=r.length;u<d;u++)a=t[r[u]],s.push(l.length),a&&(l=l.concat(a.encode(i)));return s.push(l.length),{table:l,offsets:s}},n}(),LK=function(){function e(n,t,r,i,a,s){this.raw=n,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),RK=function(){function e(n,t,r,i,a){var s,l;for(this.raw=n,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return e.prototype.encode=function(){var n,t,r;for(t=new ih(cI.call(this.raw.data)),n=0,r=this.glyphIDs.length;n<r;++n)t.pos=this.glyphOffsets[n];return t.data},e}(),MK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,Nu),n.prototype.tag="loca",n.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(t.readUInt32());return s}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,l=0;l<i.length;++l)if(i[l]=a,s<r.length&&r[s]==l){++s,i[l]=a;var u=this.offsets[l],d=this.offsets[l+1]-u;d>0&&(a+=d)}for(var f=new Array(4*i.length),g=0;g<i.length;++g)f[4*g+3]=255&i[g],f[4*g+2]=(65280&i[g])>>8,f[4*g+1]=(16711680&i[g])>>16,f[4*g]=(4278190080&i[g])>>24;return f},n}(),FK=function(){function e(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var n,t,r,i,a;for(t in i=this.font.cmap.tables[0].codeMap,n={},a=this.subset)r=a[t],n[t]=i[r];return n},e.prototype.glyphsFor=function(n){var t,r,i,a,s,l,u;for(i={},s=0,l=n.length;s<l;s++)i[a=n[s]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(r=i[a])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(a in u=this.glyphsFor(t))r=u[a],i[a]=r;return i},e.prototype.encode=function(n,t){var r,i,a,s,l,u,d,f,g,b,m,x,y,A,w;for(i in r=uI.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(n),m={0:0},w=r.charMap)m[(u=w[i]).old]=u.new;for(x in b=r.maxGlyphID,s)x in m||(m[x]=b++);return f=function(C){var N,R;for(N in R={},C)R[C[N]]=N;return R}(m),g=Object.keys(f).sort(function(C,N){return C-N}),y=function(){var C,N,R;for(R=[],C=0,N=g.length;C<N;C++)l=g[C],R.push(f[l]);return R}(),a=this.font.glyf.encode(s,y,m),d=this.font.loca.encode(a.offsets,y),A={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e}();on.API.PDFObject=function(){var e;function n(){}return e=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},n.convert=function(t){var r,i,a,s;if(Array.isArray(t))return"["+function(){var l,u,d;for(d=[],l=0,u=t.length;l<u;l++)r=t[l],d.push(n.convert(r));return d}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)s=t[i],a.push("/"+i+" "+n.convert(s));return a.push(">>"),a.join(`
`)}return""+t},n}();const PK=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),zK=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var gw;const qK=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),a4=(gw=String.fromCodePoint)!==null&&gw!==void 0?gw:function(e){let n="";return e>65535&&(e-=65536,n+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),n+=String.fromCharCode(e),n};function BK(e){var n;return e>=55296&&e<=57343||e>1114111?65533:(n=qK.get(e))!==null&&n!==void 0?n:e}var Ja;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Ja||(Ja={}));const UK=32;var Hf;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Hf||(Hf={}));function $S(e){return e>=Ja.ZERO&&e<=Ja.NINE}function $K(e){return e>=Ja.UPPER_A&&e<=Ja.UPPER_F||e>=Ja.LOWER_A&&e<=Ja.LOWER_F}function HK(e){return e>=Ja.UPPER_A&&e<=Ja.UPPER_Z||e>=Ja.LOWER_A&&e<=Ja.LOWER_Z||$S(e)}function WK(e){return e===Ja.EQUALS||HK(e)}var Qa;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Qa||(Qa={}));var gc;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(gc||(gc={}));class VK{constructor(n,t,r){this.decodeTree=n,this.emitCodePoint=t,this.errors=r,this.state=Qa.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=gc.Strict}startEntity(n){this.decodeMode=n,this.state=Qa.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(n,t){switch(this.state){case Qa.EntityStart:return n.charCodeAt(t)===Ja.NUM?(this.state=Qa.NumericStart,this.consumed+=1,this.stateNumericStart(n,t+1)):(this.state=Qa.NamedEntity,this.stateNamedEntity(n,t));case Qa.NumericStart:return this.stateNumericStart(n,t);case Qa.NumericDecimal:return this.stateNumericDecimal(n,t);case Qa.NumericHex:return this.stateNumericHex(n,t);case Qa.NamedEntity:return this.stateNamedEntity(n,t)}}stateNumericStart(n,t){return t>=n.length?-1:(n.charCodeAt(t)|UK)===Ja.LOWER_X?(this.state=Qa.NumericHex,this.consumed+=1,this.stateNumericHex(n,t+1)):(this.state=Qa.NumericDecimal,this.stateNumericDecimal(n,t))}addToNumericResult(n,t,r,i){if(t!==r){const a=r-t;this.result=this.result*Math.pow(i,a)+Number.parseInt(n.substr(t,a),i),this.consumed+=a}}stateNumericHex(n,t){const r=t;for(;t<n.length;){const i=n.charCodeAt(t);if($S(i)||$K(i))t+=1;else return this.addToNumericResult(n,r,t,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(n,r,t,16),-1}stateNumericDecimal(n,t){const r=t;for(;t<n.length;){const i=n.charCodeAt(t);if($S(i))t+=1;else return this.addToNumericResult(n,r,t,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(n,r,t,10),-1}emitNumericEntity(n,t){var r;if(this.consumed<=t)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(n===Ja.SEMI)this.consumed+=1;else if(this.decodeMode===gc.Strict)return 0;return this.emitCodePoint(BK(this.result),this.consumed),this.errors&&(n!==Ja.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(n,t){const{decodeTree:r}=this;let i=r[this.treeIndex],a=(i&Hf.VALUE_LENGTH)>>14;for(;t<n.length;t++,this.excess++){const s=n.charCodeAt(t);if(this.treeIndex=YK(r,i,this.treeIndex+Math.max(1,a),s),this.treeIndex<0)return this.result===0||this.decodeMode===gc.Attribute&&(a===0||WK(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],a=(i&Hf.VALUE_LENGTH)>>14,a!==0){if(s===Ja.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==gc.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var n;const{result:t,decodeTree:r}=this,i=(r[t]&Hf.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,i,this.consumed),(n=this.errors)===null||n===void 0||n.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(n,t,r){const{decodeTree:i}=this;return this.emitCodePoint(t===1?i[n]&~Hf.VALUE_LENGTH:i[n+1],r),t===3&&this.emitCodePoint(i[n+2],r),r}end(){var n;switch(this.state){case Qa.NamedEntity:return this.result!==0&&(this.decodeMode!==gc.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Qa.NumericDecimal:return this.emitNumericEntity(0,2);case Qa.NumericHex:return this.emitNumericEntity(0,3);case Qa.NumericStart:return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Qa.EntityStart:return 0}}}function YK(e,n,t,r){const i=(n&Hf.BRANCH_LENGTH)>>7,a=n&Hf.JUMP_TABLE;if(i===0)return a!==0&&r===a?t:-1;if(a){const u=r-a;return u<0||u>=i?-1:e[t+u]-1}let s=t,l=s+i-1;for(;s<=l;){const u=s+l>>>1,d=e[u];if(d<r)s=u+1;else if(d>r)l=u-1;else return e[u+i]}return-1}var an;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(an||(an={}));var Et;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(Et||(Et={}));function yd(e){return e===an.Space||e===an.NewLine||e===an.Tab||e===an.FormFeed||e===an.CarriageReturn}function zy(e){return e===an.Slash||e===an.Gt||yd(e)}function GK(e){return e>=an.LowerA&&e<=an.LowerZ||e>=an.UpperA&&e<=an.UpperZ}var bc;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(bc||(bc={}));const _a={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class QK{constructor({xmlMode:n=!1,decodeEntities:t=!0},r){this.cbs=r,this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Et.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=n,this.decodeEntities=t,this.entityDecoder=new VK(n?zK:PK,(i,a)=>this.emitCodePoint(i,a))}reset(){this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Et.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(n){this.offset+=this.buffer.length,this.buffer=n,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(n){n===an.Lt||!this.decodeEntities&&this.fastForwardTo(an.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Et.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&n===an.Amp&&this.startEntity()}stateSpecialStartSequence(n){const t=this.sequenceIndex===this.currentSequence.length;if(!(t?zy(n):(n|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!t){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Et.InTagName,this.stateInTagName(n)}stateInSpecialTag(n){if(this.sequenceIndex===this.currentSequence.length){if(n===an.Gt||yd(n)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const r=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=r}this.isSpecial=!1,this.sectionStart=t+2,this.stateInClosingTagName(n);return}this.sequenceIndex=0}(n|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===_a.TitleEnd?this.decodeEntities&&n===an.Amp&&this.startEntity():this.fastForwardTo(an.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(n===an.Lt)}stateCDATASequence(n){n===_a.Cdata[this.sequenceIndex]?++this.sequenceIndex===_a.Cdata.length&&(this.state=Et.InCommentLike,this.currentSequence=_a.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Et.InDeclaration,this.stateInDeclaration(n))}fastForwardTo(n){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===n)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(n){n===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===_a.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Et.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):n!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(n){return this.xmlMode?!zy(n):GK(n)}startSpecial(n,t){this.isSpecial=!0,this.currentSequence=n,this.sequenceIndex=t,this.state=Et.SpecialStartSequence}stateBeforeTagName(n){if(n===an.ExclamationMark)this.state=Et.BeforeDeclaration,this.sectionStart=this.index+1;else if(n===an.Questionmark)this.state=Et.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(n)){const t=n|32;this.sectionStart=this.index,this.xmlMode?this.state=Et.InTagName:t===_a.ScriptEnd[2]?this.state=Et.BeforeSpecialS:t===_a.TitleEnd[2]||t===_a.XmpEnd[2]?this.state=Et.BeforeSpecialT:this.state=Et.InTagName}else n===an.Slash?this.state=Et.BeforeClosingTagName:(this.state=Et.Text,this.stateText(n))}stateInTagName(n){zy(n)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n))}stateBeforeClosingTagName(n){yd(n)||(n===an.Gt?this.state=Et.Text:(this.state=this.isTagStartChar(n)?Et.InClosingTagName:Et.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(n){(n===an.Gt||yd(n))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.AfterClosingTagName,this.stateAfterClosingTagName(n))}stateAfterClosingTagName(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(n){n===an.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Et.InSpecialTag,this.sequenceIndex=0):this.state=Et.Text,this.sectionStart=this.index+1):n===an.Slash?this.state=Et.InSelfClosingTag:yd(n)||(this.state=Et.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(n){n===an.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Et.Text,this.sectionStart=this.index+1,this.isSpecial=!1):yd(n)||(this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n))}stateInAttributeName(n){(n===an.Eq||zy(n))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Et.AfterAttributeName,this.stateAfterAttributeName(n))}stateAfterAttributeName(n){n===an.Eq?this.state=Et.BeforeAttributeValue:n===an.Slash||n===an.Gt?(this.cbs.onattribend(bc.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n)):yd(n)||(this.cbs.onattribend(bc.NoValue,this.sectionStart),this.state=Et.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(n){n===an.DoubleQuote?(this.state=Et.InAttributeValueDq,this.sectionStart=this.index+1):n===an.SingleQuote?(this.state=Et.InAttributeValueSq,this.sectionStart=this.index+1):yd(n)||(this.sectionStart=this.index,this.state=Et.InAttributeValueNq,this.stateInAttributeValueNoQuotes(n))}handleInAttributeValue(n,t){n===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===an.DoubleQuote?bc.Double:bc.Single,this.index+1),this.state=Et.BeforeAttributeName):this.decodeEntities&&n===an.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(n){this.handleInAttributeValue(n,an.DoubleQuote)}stateInAttributeValueSingleQuotes(n){this.handleInAttributeValue(n,an.SingleQuote)}stateInAttributeValueNoQuotes(n){yd(n)||n===an.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(bc.Unquoted,this.index),this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n)):this.decodeEntities&&n===an.Amp&&this.startEntity()}stateBeforeDeclaration(n){n===an.OpeningSquareBracket?(this.state=Et.CDATASequence,this.sequenceIndex=0):this.state=n===an.Dash?Et.BeforeComment:Et.InDeclaration}stateInDeclaration(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeComment(n){n===an.Dash?(this.state=Et.InCommentLike,this.currentSequence=_a.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Et.InDeclaration}stateInSpecialComment(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(n){const t=n|32;t===_a.ScriptEnd[3]?this.startSpecial(_a.ScriptEnd,4):t===_a.StyleEnd[3]?this.startSpecial(_a.StyleEnd,4):(this.state=Et.InTagName,this.stateInTagName(n))}stateBeforeSpecialT(n){switch(n|32){case _a.TitleEnd[3]:{this.startSpecial(_a.TitleEnd,4);break}case _a.TextareaEnd[3]:{this.startSpecial(_a.TextareaEnd,4);break}case _a.XmpEnd[3]:{this.startSpecial(_a.XmpEnd,4);break}default:this.state=Et.InTagName,this.stateInTagName(n)}}startEntity(){this.baseState=this.state,this.state=Et.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?gc.Strict:this.baseState===Et.Text||this.baseState===Et.InSpecialTag?gc.Legacy:gc.Attribute)}stateInEntity(){const n=this.entityDecoder.write(this.buffer,this.index-this.offset);n>=0?(this.state=this.baseState,n===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Et.Text||this.state===Et.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const n=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Et.Text:{this.stateText(n);break}case Et.SpecialStartSequence:{this.stateSpecialStartSequence(n);break}case Et.InSpecialTag:{this.stateInSpecialTag(n);break}case Et.CDATASequence:{this.stateCDATASequence(n);break}case Et.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(n);break}case Et.InAttributeName:{this.stateInAttributeName(n);break}case Et.InCommentLike:{this.stateInCommentLike(n);break}case Et.InSpecialComment:{this.stateInSpecialComment(n);break}case Et.BeforeAttributeName:{this.stateBeforeAttributeName(n);break}case Et.InTagName:{this.stateInTagName(n);break}case Et.InClosingTagName:{this.stateInClosingTagName(n);break}case Et.BeforeTagName:{this.stateBeforeTagName(n);break}case Et.AfterAttributeName:{this.stateAfterAttributeName(n);break}case Et.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(n);break}case Et.BeforeAttributeValue:{this.stateBeforeAttributeValue(n);break}case Et.BeforeClosingTagName:{this.stateBeforeClosingTagName(n);break}case Et.AfterClosingTagName:{this.stateAfterClosingTagName(n);break}case Et.BeforeSpecialS:{this.stateBeforeSpecialS(n);break}case Et.BeforeSpecialT:{this.stateBeforeSpecialT(n);break}case Et.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(n);break}case Et.InSelfClosingTag:{this.stateInSelfClosingTag(n);break}case Et.InDeclaration:{this.stateInDeclaration(n);break}case Et.BeforeDeclaration:{this.stateBeforeDeclaration(n);break}case Et.BeforeComment:{this.stateBeforeComment(n);break}case Et.InProcessingInstruction:{this.stateInProcessingInstruction(n);break}case Et.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===Et.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const n=this.buffer.length+this.offset;this.sectionStart>=n||(this.state===Et.InCommentLike?this.currentSequence===_a.CdataEnd?this.cbs.oncdata(this.sectionStart,n,0):this.cbs.oncomment(this.sectionStart,n,0):this.state===Et.InTagName||this.state===Et.BeforeAttributeName||this.state===Et.BeforeAttributeValue||this.state===Et.AfterAttributeName||this.state===Et.InAttributeName||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueNq||this.state===Et.InClosingTagName||this.cbs.ontext(this.sectionStart,n))}emitCodePoint(n,t){this.baseState!==Et.Text&&this.baseState!==Et.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.onattribentity(n)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.ontextentity(n,this.sectionStart))}}const h0=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Ur=new Set(["p"]),s4=new Set(["thead","tbody"]),o4=new Set(["dd","dt"]),l4=new Set(["rt","rp"]),KK=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Ur],["h1",Ur],["h2",Ur],["h3",Ur],["h4",Ur],["h5",Ur],["h6",Ur],["select",h0],["input",h0],["output",h0],["button",h0],["datalist",h0],["textarea",h0],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",o4],["dt",o4],["address",Ur],["article",Ur],["aside",Ur],["blockquote",Ur],["details",Ur],["div",Ur],["dl",Ur],["fieldset",Ur],["figcaption",Ur],["figure",Ur],["footer",Ur],["form",Ur],["header",Ur],["hr",Ur],["main",Ur],["nav",Ur],["ol",Ur],["pre",Ur],["section",Ur],["table",Ur],["ul",Ur],["rt",l4],["rp",l4],["tbody",s4],["tfoot",s4]]),XK=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),u4=new Set(["math","svg"]),c4=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),ZK=/\s|\//;class JK{constructor(n,t={}){var r,i,a,s,l,u;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=n??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=t.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(i=t.lowerCaseAttributeNames)!==null&&i!==void 0?i:this.htmlMode,this.recognizeSelfClosing=(a=t.recognizeSelfClosing)!==null&&a!==void 0?a:!this.htmlMode,this.tokenizer=new((s=t.Tokenizer)!==null&&s!==void 0?s:QK)(this.options,this),this.foreignContext=[!this.htmlMode],(u=(l=this.cbs).onparserinit)===null||u===void 0||u.call(l,this)}ontext(n,t){var r,i;const a=this.getSlice(n,t);this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,a),this.startIndex=t}ontextentity(n,t){var r,i;this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,a4(n)),this.startIndex=t}isVoidElement(n){return this.htmlMode&&XK.has(n)}onopentagname(n,t){this.endIndex=t;let r=this.getSlice(n,t);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(n){var t,r,i,a;this.openTagStart=this.startIndex,this.tagname=n;const s=this.htmlMode&&KK.get(n);if(s)for(;this.stack.length>0&&s.has(this.stack[0]);){const l=this.stack.shift();(r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,l,!0)}this.isVoidElement(n)||(this.stack.unshift(n),this.htmlMode&&(u4.has(n)?this.foreignContext.unshift(!0):c4.has(n)&&this.foreignContext.unshift(!1))),(a=(i=this.cbs).onopentagname)===null||a===void 0||a.call(i,n),this.cbs.onopentag&&(this.attribs={})}endOpenTag(n){var t,r;this.startIndex=this.openTagStart,this.attribs&&((r=(t=this.cbs).onopentag)===null||r===void 0||r.call(t,this.tagname,this.attribs,n),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(n){this.endIndex=n,this.endOpenTag(!1),this.startIndex=n+1}onclosetag(n,t){var r,i,a,s,l,u,d,f;this.endIndex=t;let g=this.getSlice(n,t);if(this.lowerCaseTagNames&&(g=g.toLowerCase()),this.htmlMode&&(u4.has(g)||c4.has(g))&&this.foreignContext.shift(),this.isVoidElement(g))this.htmlMode&&g==="br"&&((s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,"br"),(u=(l=this.cbs).onopentag)===null||u===void 0||u.call(l,"br",{},!0),(f=(d=this.cbs).onclosetag)===null||f===void 0||f.call(d,"br",!1));else{const b=this.stack.indexOf(g);if(b!==-1)for(let m=0;m<=b;m++){const x=this.stack.shift();(i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,x,m!==b)}else this.htmlMode&&g==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(n){this.endIndex=n,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=n+1):this.onopentagend(n)}closeCurrentTag(n){var t,r;const i=this.tagname;this.endOpenTag(n),this.stack[0]===i&&((r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,i,!n),this.stack.shift())}onattribname(n,t){this.startIndex=n;const r=this.getSlice(n,t);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(n,t){this.attribvalue+=this.getSlice(n,t)}onattribentity(n){this.attribvalue+=a4(n)}onattribend(n,t){var r,i;this.endIndex=t,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,n===bc.Double?'"':n===bc.Single?"'":n===bc.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(n){const t=n.search(ZK);let r=t<0?n:n.substr(0,t);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(n,t){this.endIndex=t;const r=this.getSlice(n,t);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${i}`,`!${r}`)}this.startIndex=t+1}onprocessinginstruction(n,t){this.endIndex=t;const r=this.getSlice(n,t);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${i}`,`?${r}`)}this.startIndex=t+1}oncomment(n,t,r){var i,a,s,l;this.endIndex=t,(a=(i=this.cbs).oncomment)===null||a===void 0||a.call(i,this.getSlice(n,t-r)),(l=(s=this.cbs).oncommentend)===null||l===void 0||l.call(s),this.startIndex=t+1}oncdata(n,t,r){var i,a,s,l,u,d,f,g,b,m;this.endIndex=t;const x=this.getSlice(n,t-r);!this.htmlMode||this.options.recognizeCDATA?((a=(i=this.cbs).oncdatastart)===null||a===void 0||a.call(i),(l=(s=this.cbs).ontext)===null||l===void 0||l.call(s,x),(d=(u=this.cbs).oncdataend)===null||d===void 0||d.call(u)):((g=(f=this.cbs).oncomment)===null||g===void 0||g.call(f,`[CDATA[${x}]]`),(m=(b=this.cbs).oncommentend)===null||m===void 0||m.call(b)),this.startIndex=t+1}onend(){var n,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(t=(n=this.cbs).onend)===null||t===void 0||t.call(n)}reset(){var n,t,r,i;(t=(n=this.cbs).onreset)===null||t===void 0||t.call(n),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(n){this.reset(),this.end(n)}getSlice(n,t){for(;n-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(n-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,t-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(n){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".write() after done!"));return}this.buffers.push(n),this.tokenizer.running&&(this.tokenizer.write(n),this.writeIndex++)}end(n){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".end() after done!"));return}n&&this.write(n),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(n){this.write(n)}done(n){this.end(n)}}var kr;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(kr||(kr={}));function cx(e){return e.type===kr.Tag||e.type===kr.Script||e.type===kr.Style}kr.Root;kr.Text;kr.Directive;kr.Comment;kr.Script;kr.Style;kr.Tag;kr.CDATA;kr.Doctype;let dI=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(n){this.parent=n}get previousSibling(){return this.prev}set previousSibling(n){this.prev=n}get nextSibling(){return this.next}set nextSibling(n){this.next=n}cloneNode(n=!1){return xI(this,n)}};class vA extends dI{constructor(n){super(),this.data=n}get nodeValue(){return this.data}set nodeValue(n){this.data=n}}let HS=class extends vA{constructor(){super(...arguments),this.type=kr.Text}get nodeType(){return 3}};class fI extends vA{constructor(){super(...arguments),this.type=kr.Comment}get nodeType(){return 8}}class hI extends vA{constructor(n,t){super(t),this.name=n,this.type=kr.Directive}get nodeType(){return 1}}class wA extends dI{constructor(n){super(),this.children=n}get firstChild(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(n){this.children=n}}class pI extends wA{constructor(){super(...arguments),this.type=kr.CDATA}get nodeType(){return 4}}class WS extends wA{constructor(){super(...arguments),this.type=kr.Root}get nodeType(){return 9}}let mI=class extends wA{constructor(n,t,r=[],i=n==="script"?kr.Script:n==="style"?kr.Style:kr.Tag){super(r),this.name=n,this.attribs=t,this.type=i}get nodeType(){return 1}get tagName(){return this.name}set tagName(n){this.name=n}get attributes(){return Object.keys(this.attribs).map(n=>{var t,r;return{name:n,value:this.attribs[n],namespace:(t=this["x-attribsNamespace"])===null||t===void 0?void 0:t[n],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[n]}})}};function gI(e){return cx(e)}function bI(e){return e.type===kr.CDATA}function yI(e){return e.type===kr.Text}function eX(e){return e.type===kr.Comment}function tX(e){return e.type===kr.Directive}function nX(e){return e.type===kr.Root}function xI(e,n=!1){let t;if(yI(e))t=new HS(e.data);else if(eX(e))t=new fI(e.data);else if(gI(e)){const r=n?bw(e.children):[],i=new mI(e.name,{...e.attribs},r);r.forEach(a=>a.parent=i),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]={...e["x-attribsPrefix"]}),t=i}else if(bI(e)){const r=n?bw(e.children):[],i=new pI(r);r.forEach(a=>a.parent=i),t=i}else if(nX(e)){const r=n?bw(e.children):[],i=new WS(r);r.forEach(a=>a.parent=i),e["x-mode"]&&(i["x-mode"]=e["x-mode"]),t=i}else if(tX(e)){const r=new hI(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),t=r}else throw new Error(`Not implemented yet: ${e.type}`);return t.startIndex=e.startIndex,t.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(t.sourceCodeLocation=e.sourceCodeLocation),t}function bw(e){const n=e.map(t=>xI(t,!0));for(let t=1;t<n.length;t++)n[t].prev=n[t-1],n[t-1].next=n[t];return n}const d4={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class rX{constructor(n,t,r){this.dom=[],this.root=new WS(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof t=="function"&&(r=t,t=d4),typeof n=="object"&&(t=n,n=void 0),this.callback=n??null,this.options=t??d4,this.elementCB=r??null}onparserinit(n){this.parser=n}onreset(){this.dom=[],this.root=new WS(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(n){this.handleCallback(n)}onclosetag(){this.lastNode=null;const n=this.tagStack.pop();this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(n)}onopentag(n,t){const r=this.options.xmlMode?kr.Tag:void 0,i=new mI(n,t,void 0,r);this.addNode(i),this.tagStack.push(i)}ontext(n){const{lastNode:t}=this;if(t&&t.type===kr.Text)t.data+=n,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{const r=new HS(n);this.addNode(r),this.lastNode=r}}oncomment(n){if(this.lastNode&&this.lastNode.type===kr.Comment){this.lastNode.data+=n;return}const t=new fI(n);this.addNode(t),this.lastNode=t}oncommentend(){this.lastNode=null}oncdatastart(){const n=new HS(""),t=new pI([n]);this.addNode(t),n.parent=t,this.lastNode=n}oncdataend(){this.lastNode=null}onprocessinginstruction(n,t){const r=new hI(n,t);this.addNode(r)}handleCallback(n){if(typeof this.callback=="function")this.callback(n,this.dom);else if(n)throw n}addNode(n){const t=this.tagStack[this.tagStack.length-1],r=t.children[t.children.length-1];this.options.withStartIndices&&(n.startIndex=this.parser.startIndex),this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),t.children.push(n),r&&(n.prev=r,r.next=n),n.parent=t,this.lastNode=null}}function vd(e){return Array.isArray(e)?e.map(vd).join(""):gI(e)?e.name==="br"?`
`:vd(e.children):bI(e)?vd(e.children):yI(e)?e.data:""}function iX(e,n){const t=new rX(void 0,n);return new JK(t,n).end(e),t.root}const aX=async(e,n)=>{var m,x,y,A,w,C,N,R;if(!e)return;const t=new on("p","mm","a4",!0);let r=10;const i=297,a=F=>{r+F*6>i-20&&(t.addPage(),r=10)},s=e.sections.length+e.sections.reduce((F,q)=>F+q.subsections.length,0)+e.sections.reduce((F,q)=>F+q.subsections.reduce((k,L)=>k+L.subSubsections.length,0),0)+e.sections.reduce((F,q)=>{var k;return F+(((k=q.images)==null?void 0:k.length)||0)+q.subsections.reduce((L,B)=>{var X;return L+(((X=B.images)==null?void 0:X.length)||0)+B.subSubsections.reduce((j,O)=>{var P;return j+(((P=O.images)==null?void 0:P.length)||0)},0)},0)},0);let l=0;const u=()=>{l+=1,n(Math.round(l/s*100))},d=async(F,q=150,k=150)=>new Promise(L=>{const B=new Image;B.crossOrigin="anonymous",B.src=F.url,B.onload=()=>{const X=B.width/B.height;let j=q,O=k;X>1?O=q/X:j=k*X,a(O+15);const P=(210-j)/2;if(t.addImage(B,"JPEG",P,r,j,O),r+=O+5,F.title){t.setFont("helvetica","italic"),t.setFontSize(10);const G=(210-t.getTextWidth(F.title))/2;t.text(F.title,G,r),t.setFont("helvetica","normal"),r+=6}u(),L()},B.onerror=()=>{console.warn(`Image failed to load: ${F.url}`),u(),L()}}),f=(F,q=10,k=12)=>{var X;const L=iX(F),B=(j,O=0,P=!1)=>{var T,G,W,K,ie,ue,$;if(j){if(cx(j)){const ae=j,U=ae.name.toLowerCase();switch(U){case"p":r+=6,(T=ae.children)==null||T.forEach(z=>B(z,O)),r+=6;break;case"br":r+=6;break;case"strong":case"b":case"i":case"em":t.setFont("helvetica",U==="strong"||U==="b"?"bold":"italic"),(G=ae.children)==null||G.forEach(z=>B(z,O)),t.setFont("helvetica","normal");break;case"ul":case"ol":r+=4,(W=ae.children)==null||W.forEach(z=>B(z,O+1,!0));break;case"li":{const z=O===1?"-":"--";let Z="";(K=ae.children)==null||K.forEach(ee=>{if(cx(ee)){const se=ee;se.name==="strong"||se.name==="b"?(t.setFont("helvetica","bold"),Z+=` ${vd(se)}`,t.setFont("helvetica","normal")):se.name!=="ul"&&se.name!=="ol"&&(Z+=` ${vd(se)}`)}else ee.type==="text"&&"data"in ee&&(Z+=` ${ee.data.trim()}`)}),Z=Z.trim(),Z&&(O===0?g(`${z} ${Z}`,q,k+2,!0):g(`${z} ${Z}`,q+O*8,k),r+=6),(ie=ae.children)==null||ie.forEach(ee=>{if(cx(ee)){const se=ee;["ul","ol"].includes(se.name)&&B(se,O+1,!0)}});break}case"a":(ue=ae.attribs)!=null&&ue.href&&b(vd(ae),ae.attribs.href);break;case"h1":g(vd(ae),q,20,!0),r+=8;break;case"h2":g(vd(ae),q,18,!0),r+=8;break;case"h3":g(vd(ae),q,16,!0),r+=6;break;default:($=ae.children)==null||$.forEach(z=>B(z,O))}}else if(j.type==="text"&&"data"in j){const ae=j.data.trim();ae&&g(ae,q+O*8,k)}}};(X=L.children)==null||X.forEach(j=>B(j))},g=(F,q,k=12,L=!1,B=[0,0,0],X=!1,j=200)=>{if(!F)return;t.setFontSize(k),t.setTextColor(B[0],B[1],B[2]),t.setFont("helvetica",L?X?"bolditalic":"bold":X?"italic":"normal"),t.splitTextToSize(F,j-q).forEach(P=>{a(1),t.text(P,q,r),r+=6})},b=(F,q)=>{a(1),t.setTextColor(10,104,71),t.textWithLink(F,10,r,{url:q}),r+=6};(m=e.header)!=null&&m.content&&(g("Header:",10,12,!0),f(e.header.content),r+=5),e.title&&(g(e.title,10,18,!0,[10,104,71]),r+=5);for(const F of e.sections){if(g(F.title,10,16,!0),f(F.content),(x=F.images)!=null&&x.length)for(const q of F.images)await d(q);u();for(const q of F.subsections){if(g(q.title,12,14,!0),f(q.content,12),(y=q.images)!=null&&y.length)for(const k of q.images)await d(k);u();for(const k of q.subSubsections){if(g(k.title,14,12,!0),f(k.content,14),(A=k.images)!=null&&A.length)for(const L of k.images)await d(L);u(),(w=k.links)!=null&&w.length&&(g("Links:",14,12,!0),k.links.forEach(L=>b(L.title,L.url)))}(C=q.links)!=null&&C.length&&(g("Links:",12,12,!0),q.links.forEach(k=>b(k.title,k.url)))}(N=F.links)!=null&&N.length&&(g("Links:",10,12,!0),F.links.forEach(q=>b(q.title,q.url))),r+=5}(R=e.footer)!=null&&R.content&&(g("Footer:",10,12,!0),f(e.footer.content)),t.save(`${e.title||"Material"}.pdf`),n(100)},sX=()=>{var R,F,q,k,L,B,X,j,O,P,T,G,W,K,ie,ue,$,ae,U,z,Z,ee,se,we,xe,Ee,Ie,Re,We,Ve,V,Se,te,be,ce,Ae,De,ze,Ne,Xe,lt,nt;const{id:e}=M6(),[n,t]=$g(),r=Zn(),[i,a]=Q.useState(null),[s,l]=Q.useState({sectionIndex:0}),[u,d]=Q.useState(null),[f,g]=Q.useState(0),[b,m]=Q.useState(!0);aO((i==null?void 0:i.sections)||[],s.sectionIndex||0,!!i),Q.useEffect(()=>{g(Fe=>Fe+1)},[s]);const x=async()=>{if(i!=null&&i.originalFile)try{console.log(" Starting original file download:",i.originalFile.name);const Fe=document.createElement("a");Fe.href=i.originalFile.url,Fe.download=i.originalFile.name,Fe.target="_blank",document.body.appendChild(Fe),Fe.click(),document.body.removeChild(Fe),console.log(" Original file download initiated")}catch(Fe){console.error(" Original file download failed:",Fe)}};Q.useEffect(()=>{e&&(async()=>{var ve,ke;try{m(!0);const Te=bn(r,"materials",e),dt=await Oa(Te);if(dt.exists()){const Je={id:dt.id,...dt.data()};console.log("Material data from Firestore:",Je),console.log("Sections type:",typeof Je.sections),console.log("Sections value:",Je.sections),Array.isArray(Je.sections)||(console.warn("Sections is not an array, initializing as empty array. Original value:",Je.sections),Je.sections=[]),Je.sections=Je.sections.map(Ft=>({id:Ft.id||Ri(),title:Ft.title||"Untitled Section",content:Ft.content||"",images:Array.isArray(Ft.images)?Ft.images.map(Vt=>({...Vt,title:Vt.title||""})):[],links:Array.isArray(Ft.links)?Ft.links:[],subsections:Array.isArray(Ft.subsections)?Ft.subsections.map(Vt=>({id:Vt.id||Ri(),title:Vt.title||"Untitled Subsection",content:Vt.content||"",images:Array.isArray(Vt.images)?Vt.images.map(Lt=>({...Lt,title:Lt.title||""})):[],links:Array.isArray(Vt.links)?Vt.links:[],subSubsections:Array.isArray(Vt.subSubsections)?Vt.subSubsections.map(Lt=>({id:Lt.id||Ri(),title:Lt.title||"Untitled Sub-subsection",content:Lt.content||"",images:Array.isArray(Lt.images)?Lt.images.map(Zt=>({...Zt,title:Zt.title||""})):[],links:Array.isArray(Lt.links)?Lt.links:[]})):[]})):[]})),console.log("Loaded material from database:",{title:Je.title,sectionsCount:((ve=Je.sections)==null?void 0:ve.length)||0,sectionsWithImages:((ke=Je.sections)==null?void 0:ke.filter(Ft=>{var kt;return((kt=Ft.images)==null?void 0:kt.length)>0}).length)||0}),a(Je)}}catch(Te){console.error("Error fetching material:",Te)}finally{m(!1)}})()},[e,r]),Q.useEffect(()=>{e&&n.get("material")!==e&&(console.log(" Updating URL: Adding material ID to query parameters:",e),t(Fe=>{const ve=new URLSearchParams(Fe);return ve.set("material",e),ve},{replace:!0}))},[e,n,t]);const y=(Fe,ve,ke)=>{l({sectionIndex:typeof Fe=="number"?Fe:void 0,subsectionIndex:ve,subSubsectionIndex:ke,type:typeof Fe=="string"?Fe:void 0})},A=Fe=>{var Je,Ft,kt,Vt,Lt,Zt,nn,ln,Pn,zn,Gr,ir,Rn,Gt,An,ya,Sr,oi,xa,Dt,Hn,ar,Mr,dr,fr,$n,bs;const{sectionIndex:ve,subsectionIndex:ke,subSubsectionIndex:Te,type:dt}=s;if(Fe==="prev")if(Te!==void 0&&Te>0)l({sectionIndex:ve,subsectionIndex:ke,subSubsectionIndex:Te-1});else if(Te!==void 0&&Te===0)l({sectionIndex:ve,subsectionIndex:ke});else if(ke!==void 0&&ke>0)l({sectionIndex:ve,subsectionIndex:ke-1});else if(ke!==void 0&&ke===0)l({sectionIndex:ve});else if(ve>0){const Nr=i==null?void 0:i.sections[ve-1];l({sectionIndex:ve-1,subsectionIndex:(Je=Nr==null?void 0:Nr.subsections)!=null&&Je.length?Nr.subsections.length-1:void 0,subSubsectionIndex:(Ft=Nr==null?void 0:Nr.subsections)!=null&&Ft.length?((Vt=(kt=Nr.subsections[Nr.subsections.length-1])==null?void 0:kt.subSubsections)==null?void 0:Vt.length)-1:void 0})}else dt==="footer"?l({sectionIndex:((i==null?void 0:i.sections.length)??1)-1,type:"footer"}):ve===void 0&&dt==="header"&&l({sectionIndex:((i==null?void 0:i.sections.length)??1)-1});else Fe==="next"&&(Te===void 0&&ke!==void 0&&((ln=(nn=(Zt=(Lt=i==null?void 0:i.sections[ve??0])==null?void 0:Lt.subsections)==null?void 0:Zt[ke])==null?void 0:nn.subSubsections)!=null&&ln.length)?l({sectionIndex:ve,subsectionIndex:ke,subSubsectionIndex:0}):Te!==void 0&&Te<(((ir=(Gr=(zn=(Pn=i==null?void 0:i.sections[ve??0])==null?void 0:Pn.subsections)==null?void 0:zn[ke??0])==null?void 0:Gr.subSubsections)==null?void 0:ir.length)??1)-1?l({sectionIndex:ve,subsectionIndex:ke,subSubsectionIndex:Te+1}):Te!==void 0&&Te===(((ya=(An=(Gt=(Rn=i==null?void 0:i.sections[ve??0])==null?void 0:Rn.subsections)==null?void 0:Gt[ke??0])==null?void 0:An.subSubsections)==null?void 0:ya.length)??1)-1&&(ke??0)<(((oi=(Sr=i==null?void 0:i.sections[ve??0])==null?void 0:Sr.subsections)==null?void 0:oi.length)??1)-1?l({sectionIndex:ve,subsectionIndex:(ke??0)+1}):ke===void 0&&((Dt=(xa=i==null?void 0:i.sections[ve??0])==null?void 0:xa.subsections)!=null&&Dt.length)?l({sectionIndex:ve,subsectionIndex:0}):ke!==void 0&&ke<(((ar=(Hn=i==null?void 0:i.sections[ve??0])==null?void 0:Hn.subsections)==null?void 0:ar.length)??1)-1?l({sectionIndex:ve,subsectionIndex:ke+1}):ke!==void 0&&ke===(((dr=(Mr=i==null?void 0:i.sections[ve??0])==null?void 0:Mr.subsections)==null?void 0:dr.length)??1)-1&&(ve??0)<(((fr=i==null?void 0:i.sections)==null?void 0:fr.length)??1)-1?l({sectionIndex:(ve??0)+1}):(ve??0)<((($n=i==null?void 0:i.sections)==null?void 0:$n.length)??1)-1?l({sectionIndex:(ve??0)+1}):ve===(((bs=i==null?void 0:i.sections)==null?void 0:bs.length)??1)-1&&ke===void 0&&l({sectionIndex:void 0,type:"footer"}))};if(b)return h.jsx(fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:h.jsx(Jr,{size:60,sx:{color:ft.palette.primary.main}})});if(!i)return h.jsx(T6,{maxWidth:"md",children:h.jsxs(fe,{sx:{textAlign:"center",py:8,px:4,backgroundColor:ft.palette.background.paper,borderRadius:Rt["2xl"],border:`1px solid ${ft.palette.divider}`},children:[h.jsx(de,{variant:"h5",sx:{fontFamily:ft.typography.h5.fontFamily,fontWeight:ft.typography.h5.fontWeight,color:ft.palette.text.secondary,mb:2},children:"Material Not Found"}),h.jsx(de,{variant:"body1",sx:{color:ft.palette.text.secondary},children:"The requested material could not be found or you don't have permission to view it."})]})});const w=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((q=(F=(R=i.sections[s.sectionIndex])==null?void 0:R.subsections[s.subsectionIndex])==null?void 0:F.subSubsections[s.subSubsectionIndex])==null?void 0:q.content)||"":s.subsectionIndex!==void 0?((L=(k=i.sections[s.sectionIndex])==null?void 0:k.subsections[s.subsectionIndex])==null?void 0:L.content)||"":((B=i.sections[s.sectionIndex])==null?void 0:B.content)||"":"",C=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((O=(j=(X=i.sections[s.sectionIndex])==null?void 0:X.subsections[s.subsectionIndex])==null?void 0:j.subSubsections[s.subSubsectionIndex])==null?void 0:O.title)||"":s.subsectionIndex!==void 0?((T=(P=i.sections[s.sectionIndex])==null?void 0:P.subsections[s.subsectionIndex])==null?void 0:T.title)||"":((G=i.sections[s.sectionIndex])==null?void 0:G.title)||"":"",N=s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((ie=(K=(W=i.sections[s.sectionIndex])==null?void 0:W.subsections[s.subsectionIndex])==null?void 0:K.subSubsections[s.subSubsectionIndex])==null?void 0:ie.links)||[]:s.subsectionIndex!==void 0?(($=(ue=i.sections[s.sectionIndex])==null?void 0:ue.subsections[s.subsectionIndex])==null?void 0:$.links)||[]:((ae=i.sections[s.sectionIndex])==null?void 0:ae.links)||[]:[];return h.jsxs(fe,{sx:{display:"flex",flexGrow:1,flexDirection:"column",minHeight:"100vh"},children:[h.jsxs(Sn,{elevation:1,sx:{p:3,mb:2,backgroundColor:ft.palette.background.paper,borderRadius:0},children:[h.jsx(fe,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:h.jsxs(fe,{sx:{display:"flex",gap:2,alignItems:"center"},children:[h.jsx(cr,{label:i.published?"Published":i.scheduledTimestamp?"Scheduled":"Draft",color:i.published?"success":i.scheduledTimestamp?"info":"warning",variant:"outlined",sx:{fontWeight:600}}),h.jsxs(fe,{sx:{display:"flex",gap:1},children:[(i==null?void 0:i.originalFile)&&h.jsx(Si,{title:`Download original file: ${i.originalFile.name}`,arrow:!0,children:h.jsx(At,{variant:"outlined",startIcon:h.jsx(pR,{}),endIcon:h.jsx(KE,{}),onClick:x,sx:{borderRadius:"12px",textTransform:"none",fontWeight:600},children:"PPTX"})}),h.jsx(At,{variant:"outlined",startIcon:h.jsx(Ex,{}),endIcon:h.jsx(KE,{}),onClick:async()=>{i&&(d(0),await aX(i,d),d(null))},disabled:u!==null,sx:{borderRadius:"12px",textTransform:"none",fontWeight:600},children:u!==null?"Generating...":"PDF"})]})]})}),u!==null&&h.jsx(fe,{sx:{width:"100%",mt:2},children:h.jsx(Ko,{variant:"determinate",value:u,sx:{borderRadius:Rt.xl,height:8}})})]}),h.jsxs(fe,{sx:{display:"flex",flexGrow:1,minHeight:0},children:[h.jsx(hv,{children:h.jsx(ZT,{sections:i.sections,selected:s,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:y,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),h.jsxs(fe,{sx:{flexGrow:1,p:4,overflow:"auto"},children:[h.jsx(Sn,{elevation:0,sx:{p:3,mb:3,backgroundColor:ft.palette.background.paper,borderRadius:Rt.xl,border:`1px solid ${ft.palette.divider}`},children:h.jsx(de,{dangerouslySetInnerHTML:{__html:i.header.content.replace(/\n/g,"<br />")},sx:{fontFamily:ft.typography.body1.fontFamily,color:ft.palette.text.secondary,lineHeight:1.6}})}),h.jsx(de,{variant:"h3",align:"center",sx:{fontFamily:ft.typography.h3.fontFamily,fontWeight:ft.typography.h3.fontWeight,color:ft.palette.text.primary,mb:4},children:i.title}),C&&h.jsx(de,{variant:"h4",align:"center",sx:{fontFamily:ft.typography.h4.fontFamily,fontWeight:ft.typography.h4.fontWeight,color:ft.palette.text.primary,mb:4},children:C}),s.type!=="header"&&s.type!=="footer"&&h.jsx(Qw,{in:!0,timeout:400,children:h.jsxs(fe,{children:[h.jsxs(Sn,{elevation:0,sx:{p:4,mb:3,backgroundColor:ft.palette.background.paper,borderRadius:Rt.xl,border:`1px solid ${ft.palette.divider}`},children:[h.jsx(de,{dangerouslySetInnerHTML:{__html:w.replace(/\n/g,"<br />")},sx:{fontFamily:ft.typography.body1.fontFamily,color:ft.palette.text.primary,lineHeight:1.7,"& p":{mb:2}}}),h.jsx(fe,{sx:{mt:3},children:s.sectionIndex!==void 0&&h.jsx(h.Fragment,{children:s.subSubsectionIndex!==void 0?(((we=(se=(ee=(Z=(z=(U=i.sections[s.sectionIndex])==null?void 0:U.subsections)==null?void 0:z[s.subsectionIndex])==null?void 0:Z.subSubsections)==null?void 0:ee[s.subSubsectionIndex])==null?void 0:se.images)==null?void 0:we.length)||0)>0&&h.jsx(sw,{images:((We=(Re=(Ie=(Ee=(xe=i.sections[s.sectionIndex])==null?void 0:xe.subsections)==null?void 0:Ee[s.subsectionIndex])==null?void 0:Ie.subSubsections)==null?void 0:Re[s.subSubsectionIndex])==null?void 0:We.images)||[]}):s.subsectionIndex!==void 0?(((te=(Se=(V=(Ve=i.sections[s.sectionIndex])==null?void 0:Ve.subsections)==null?void 0:V[s.subsectionIndex])==null?void 0:Se.images)==null?void 0:te.length)||0)>0&&h.jsx(sw,{images:((Ae=(ce=(be=i.sections[s.sectionIndex])==null?void 0:be.subsections)==null?void 0:ce[s.subsectionIndex])==null?void 0:Ae.images)||[]}):(((ze=(De=i.sections[s.sectionIndex])==null?void 0:De.images)==null?void 0:ze.length)||0)>0&&h.jsx(sw,{images:((Ne=i.sections[s.sectionIndex])==null?void 0:Ne.images)||[]})})})]}),N.length>0&&h.jsx(qQ,{links:N})]})},f),h.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[h.jsx(Si,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:h.jsx("span",{children:h.jsx(On,{onClick:()=>A("prev"),disabled:s.sectionIndex===0&&s.subsectionIndex===void 0&&s.type==="header",sx:{backgroundColor:ft.palette.primary.main,color:ft.palette.primary.contrastText,"&:hover":{backgroundColor:ft.palette.primary.dark},"&:disabled":{backgroundColor:ft.palette.action.disabled,color:ft.palette.action.disabled}},children:h.jsx(mR,{})})})}),h.jsx(Si,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:h.jsx("span",{children:h.jsx(On,{onClick:()=>A("next"),disabled:s.sectionIndex===(((Xe=i.sections)==null?void 0:Xe.length)??1)-1&&(s.subsectionIndex===void 0||s.subsectionIndex===(((nt=(lt=i.sections[s.sectionIndex])==null?void 0:lt.subsections)==null?void 0:nt.length)??1)-1)&&s.type==="footer",sx:{backgroundColor:ft.palette.primary.main,color:ft.palette.primary.contrastText,"&:hover":{backgroundColor:ft.palette.primary.dark},"&:disabled":{backgroundColor:ft.palette.action.disabled,color:ft.palette.action.disabled}},children:h.jsx(gR,{})})})})]}),h.jsx(Sn,{elevation:0,sx:{p:3,mt:4,backgroundColor:ft.palette.background.paper,borderRadius:Rt.xl,border:`1px solid ${ft.palette.divider}`},children:h.jsx(de,{dangerouslySetInnerHTML:{__html:i.footer.content.replace(/\n/g,"<br />")},sx:{fontFamily:ft.typography.body1.fontFamily,color:ft.palette.text.secondary,lineHeight:1.6}})})]})]})]})},vI=({value:e,onChange:n})=>{const[t,r]=Q.useState([]),{userDetails:i}=Ai();return Q.useEffect(()=>{if(i!=null&&i.classes){const a=Object.entries(i.classes).filter(([s,l])=>l.isCourseAdmin||i.isSuperAdmin).map(([s,l])=>({id:s,number:l.number,title:l.title}));r(a)}else r([])},[i]),h.jsxs(Lc,{fullWidth:!0,sx:{mb:2},children:[h.jsx(Rc,{id:"course-selector-label",children:"Course"}),h.jsx(Ll,{labelId:"course-selector-label",value:e,onChange:a=>n(a.target.value),label:"Course",children:t.length>0?t.map(a=>h.jsx(Xn,{value:a.id,children:`${a.number} - ${a.title}`},a.id)):h.jsx(Xn,{disabled:!0,children:"No courses available"})}),!e&&h.jsx(bR,{children:"Please select a course"})]})},oX=()=>{const[e,n]=Q.useState(""),[t,r]=Q.useState(""),[i,a]=Q.useState([{title:"",url:""}]),[s,l]=Q.useState(""),u=ma(),d=Zn(),f=async()=>{if(!s){alert("Please select a course to post the message.");return}try{await Ma(xn(d,"messages"),{title:e,description:t,links:i,course:s,postedOn:Vf(),isPinned:!1}),u("/")}catch(x){console.error("Error adding message: ",x)}},g=()=>u("/"),b=(x,y,A)=>{const w=[...i];w[x][y]=A,a(w)},m=()=>a([...i,{title:"",url:""}]);return h.jsx(T6,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:h.jsxs(Sn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[h.jsx(de,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Add New Message"}),h.jsx(es,{sx:{mb:3,backgroundColor:"#DADADA"}}),h.jsxs(fe,{sx:{mt:4},children:[h.jsx(vI,{value:s,onChange:l}),h.jsx(Ut,{label:"Subject",fullWidth:!0,value:e,onChange:x=>n(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),h.jsx(Ut,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:t,onChange:x=>r(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),h.jsx(de,{variant:"h6",sx:{mb:2},children:""}),i.map((x,y)=>h.jsxs(fe,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[h.jsx(Ut,{label:`URL Title ${y+1}`,fullWidth:!0,value:x.title,onChange:A=>b(y,"title",A.target.value),sx:{mb:1}}),h.jsx(Ut,{label:`URL Link ${y+1}`,fullWidth:!0,value:x.url,onChange:A=>b(y,"url",A.target.value)})]},y)),h.jsx(At,{variant:"outlined",onClick:m,startIcon:h.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),h.jsx(es,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),h.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(At,{variant:"outlined",onClick:g,className:"cancel-button",children:"Cancel"}),h.jsx(At,{variant:"outlined",onClick:f,className:"save-button",children:"Save"})]})]})]})})},lX=()=>{const{id:e}=M6(),[n,t]=Q.useState(""),[r,i]=Q.useState(""),[a,s]=Q.useState([{title:"",url:""}]),[l,u]=Q.useState(""),d=ma(),f=Zn();Q.useEffect(()=>{(async()=>{try{const A=bn(f,"messages",e),w=await Oa(A);if(w.exists()){const C=w.data();t(C.title),i(C.description),s(C.links||[{title:"",url:""}]),u(C.course||"")}}catch(A){console.error("Error fetching message: ",A)}})()},[f,e]);const g=async()=>{try{if(!l){alert("Please select a valid course to update the message.");return}const y=bn(f,"messages",e);await Wr(y,{title:n,description:r,links:a,course:l,lastUpdatedOn:Vf()}),d("/")}catch(y){console.error("Error editing message: ",y)}},b=()=>d("/"),m=(y,A,w)=>{const C=[...a];C[y][A]=w,s(C)},x=()=>s([...a,{title:"",url:""}]);return h.jsx(T6,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:h.jsxs(Sn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[h.jsx(de,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Edit Message"}),h.jsx(es,{sx:{mb:3,backgroundColor:"#DADADA"}}),h.jsxs(fe,{sx:{mt:4},children:[h.jsx(vI,{value:l,onChange:u}),h.jsx(Ut,{label:"Subject",fullWidth:!0,value:n,onChange:y=>t(y.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),h.jsx(Ut,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:r,onChange:y=>i(y.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),h.jsx(de,{variant:"h6",sx:{mb:2},children:""}),a.map((y,A)=>h.jsxs(fe,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[h.jsx(Ut,{label:`URL Title ${A+1}`,fullWidth:!0,value:y.title,onChange:w=>m(A,"title",w.target.value),sx:{mb:1}}),h.jsx(Ut,{label:`URL Link ${A+1}`,fullWidth:!0,value:y.url,onChange:w=>m(A,"url",w.target.value)})]},A)),h.jsx(At,{variant:"outlined",onClick:x,startIcon:h.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),h.jsx(es,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),h.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(At,{variant:"outlined",onClick:b,className:"cancel-button",children:"Cancel"}),h.jsx(At,{variant:"outlined",onClick:g,className:"save-button",children:"Save"})]})]})]})})},uX=({users:e,loading:n=!1})=>{const t=a=>a.isSuperAdmin?"superAdmin":a.isAdmin?"educator":"student",r=a=>{if(!a||Object.keys(a).length===0)return h.jsx(fe,{sx:{fontStyle:"italic",color:ge.text.disabled},children:"None"});const s=Object.entries(a);return h.jsx(fe,{sx:{display:"flex",flexDirection:"column",gap:gt[1]},children:s.map(([l,u])=>h.jsx(vp,{courseId:l,courseNumber:u.number,courseTitle:u.title,variant:"link",maxTitleLength:999},l))})},i=[{id:"id",label:"User ID",width:"25%",render:(a,s)=>h.jsx(uh,{userId:a,userType:t(s)})},{id:"isAdmin",label:"Status",width:"15%",render:(a,s)=>h.jsx(FT,{status:t(s)})},{id:"lastLogin",label:"Last Login",width:"20%",render:a=>h.jsx(wp,{date:a,format:"full"})},{id:"classes",label:"Courses",width:"40%",render:a=>r(a)}];return h.jsx(lh,{data:e,columns:i,loading:n,emptyMessage:"No users found.",showRowNumbers:!0})},cX=({userId:e,onUserDeleted:n})=>{const[t,r]=Q.useState(!1),[i,a]=Q.useState(!1),s=Zn(),l=()=>{r(!0)},u=()=>{r(!1)},d=async()=>{a(!0);try{const f=bn(s,"users",e);await I6(f),n(!0)}catch(f){console.error("Error deleting user:",f),n(!1)}a(!1),r(!1)};return h.jsxs(h.Fragment,{children:[h.jsx(At,{variant:"text",color:"error",onClick:l,children:"Delete User Account"}),h.jsxs(Ki,{open:t,onClose:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[h.jsx(fa,{id:"alert-dialog-title",children:"Confirm Deletion"}),h.jsx(Xi,{children:h.jsx(Ml,{id:"alert-dialog-description",children:"Are you sure you want to delete this user account? This action cannot be undone."})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:u,color:"primary",disabled:i,children:"Cancel"}),h.jsx(At,{onClick:d,color:"error",autoFocus:!0,disabled:i,children:i?h.jsx(Jr,{size:24}):"Delete"})]})]})]})},dX=({userId:e,userClasses:n,courses:t,onCourseAssigned:r})=>{const[i,a]=Q.useState(""),[s,l]=Q.useState(!1),[u,d]=Q.useState(!1),[f,g]=Q.useState(""),[b,m]=Q.useState(!1),[x,y]=Q.useState(!1),[A,w]=Q.useState(!1),[C,N]=Q.useState(!1),R=Zn(),F=async()=>{if(!e||!i){g("Please enter a User ID and select a course."),w(!1),m(!0);return}d(!0);try{const B=bn(R,"users",e),X=t.find(j=>j.id===i);if(X){const j=bn(R,"courses",i),O=await Oa(j),P=O.exists()?O.data():null,T=(P==null?void 0:P.courseCreatedAt)||(P==null?void 0:P.createdAt)||(P==null?void 0:P.timestamp)||new Date;await Wr(B,{[`classes.${i}`]:{number:X.number,title:X.title,isCourseAdmin:s,courseCreatedAt:T,enrolledAt:new Date}}),g(`Course ${X.title} assigned successfully to user ${e}${s?" as Course Admin.":"."}`),r(i,{number:X.number,title:X.title,isCourseAdmin:s}),N(!0),setTimeout(()=>N(!1),1e3),y(!1),a(""),l(!1),w(!0)}else g("Selected course not found."),w(!1)}catch(B){console.error("Error assigning course:",B),g("Error assigning course."),w(!1)}d(!1),m(!0)},q=()=>{m(!1)},k=()=>y(!0),L=()=>y(!1);return h.jsxs(h.Fragment,{children:[h.jsxs(fe,{sx:{display:"flex",alignItems:"center",mt:2,p:2,borderRadius:2,transition:"background-color 0.3s ease",backgroundColor:C?"#e8f5e8":"transparent",border:C?"2px solid #4caf50":"2px solid transparent"},children:[h.jsx(de,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Courses:"}),h.jsx(fe,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:n&&Object.keys(n).length>0?Object.values(n).map((B,X)=>h.jsx(cr,{label:`${B.isCourseAdmin?"[Course Admin] ":""}${B.number} - ${B.title}`,style:{backgroundColor:B.isCourseAdmin?"#ffcccb":"#d4edda",color:B.isCourseAdmin?"#b71c1c":"#155724",margin:"4px"}},X)):h.jsx(de,{children:"No courses assigned."})}),h.jsxs(Lc,{sx:{minWidth:200,mr:2},children:[h.jsx(Rc,{children:"Course"}),h.jsx(Ll,{value:i,onChange:B=>a(B.target.value),children:t.map(B=>h.jsx(Xn,{value:B.id,children:`${B.number} - ${B.title}`},B.id))})]}),h.jsxs(Lc,{sx:{mr:2},children:[h.jsx(Rc,{children:"Role"}),h.jsxs(Ll,{value:s?"admin":"student",onChange:B=>l(B.target.value==="admin"),children:[h.jsx(Xn,{value:"admin",children:"Course Admin"}),h.jsx(Xn,{value:"student",children:"Student"})]})]}),h.jsx(At,{variant:"contained",color:"primary",onClick:k,disabled:u||!i,children:u?h.jsx(Jr,{size:24}):"Assign Course"})]}),h.jsx(nl,{open:b,autoHideDuration:6e3,onClose:q,children:h.jsx(vr,{onClose:q,severity:A?"success":"error",children:f})}),h.jsxs(Ki,{open:x,onClose:L,"aria-labelledby":"assign-dialog-title",children:[h.jsx(fa,{id:"assign-dialog-title",children:"Assign Course"}),h.jsx(Xi,{children:h.jsxs(Ml,{children:["Are you sure you want to assign the course ",i," to this user",s?" as a Course Admin?":"?"]})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:L,color:"primary",children:"Cancel"}),h.jsx(At,{onClick:F,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},fX=()=>{const[e,n]=Q.useState(""),[t,r]=Q.useState(!1),[i,a]=Q.useState(!1),[s,l]=Q.useState(void 0),[u,d]=Q.useState(!1),[f,g]=Q.useState(""),[b,m]=Q.useState(!1),[x,y]=Q.useState(!1),[A,w]=Q.useState(!1),[C,N]=Q.useState([]),[R,F]=Q.useState(""),[q,k]=Q.useState([]),L=Zn(),[B,X]=Q.useState("");ma(),Q.useEffect(()=>{(async()=>{try{const Z=xn(L,"courses"),se=(await pi(Z)).docs.map(we=>({id:we.id,number:we.data().number,title:we.data().title}));k(se)}catch(Z){console.error("Error fetching courses:",Z)}})()},[L]);const j=async()=>{if(e){d(!0),a(!1);try{const z=bn(L,"users",e),Z=await Oa(z);if(Z.exists()){const ee=Z.data();r(ee.isAdmin),l(ee.classes),a(!0)}else g("User not found."),m(!0)}catch(z){console.error("Error fetching user:",z),g("Error fetching user."),m(!0)}d(!1)}},O=Q.useCallback(async()=>{d(!0);try{const z=xn(L,"users"),ee=(await pi(z)).docs.map(se=>({id:se.id,...se.data()}));N(ee)}catch(z){console.error("Error fetching users:",z),g("Error fetching users."),m(!0)}d(!1)},[L]);Q.useEffect(()=>{O()},[O]);const P=async()=>{try{const z=bn(L,"users",e);await Wr(z,{isAdmin:A}),g(`User ${A?"granted":"revoked"} admin privileges successfully.`),r(A);const Z=C.map(ee=>ee.id===e?{...ee,isAdmin:A}:ee);N(Z)}catch(z){console.error("Error updating user:",z),g("Error updating user.")}m(!0),y(!1)},T=z=>{z.preventDefault(),i?(w(!t),y(!0)):(g("User not found."),m(!0))},G=()=>{m(!1)},W=()=>{y(!1)},K=z=>{F(z.target.value)},ie=z=>R?z.classes&&R in z.classes:!0,ue=z=>B==="superAdmin"?z.isSuperAdmin:B==="educator"?z.isAdmin&&!z.isSuperAdmin:B==="student"?!z.isAdmin&&!z.isSuperAdmin:!0,$=z=>z.filter(Z=>ie(Z)&&ue(Z)),ae=z=>{z?(g("User account deleted successfully."),a(!1),n(""),O()):g("Error deleting user account."),m(!0)},U=(z,Z)=>{l(ee=>({...ee,[z]:Z}))};return h.jsxs(fe,{sx:{padding:3},children:[h.jsx(Fl,{title:"User Management"}),h.jsx(de,{variant:"body1",gutterBottom:!0,children:"Use this page to view and manage user permissions. Enter the User ID to grant or revoke admin privileges, or delete user account."}),h.jsx(fe,{sx:{display:"flex",justifyContent:"flex-start"},children:h.jsxs("form",{onSubmit:T,children:[h.jsx(Ut,{label:"User ID",value:e,onChange:z=>n(z.target.value),fullWidth:!0,required:!0,margin:"normal",onKeyPress:z=>{z.key==="Enter"&&(j(),z.preventDefault())},sx:{minWidth:"300px"}}),u?h.jsx(Jr,{}):i&&h.jsxs(Sn,{variant:"outlined",sx:{padding:2,borderRadius:"15px",mb:1},children:[h.jsxs(fe,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #e0e0e0",padding:"16px",borderRadius:"8px",backgroundColor:"#f9f9f9",mb:2},children:[h.jsxs(fe,{sx:{display:"flex",alignItems:"center"},children:[h.jsx(de,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Status:"}),h.jsx(cr,{label:t?"Educator (Admin)":"Student (Non-Admin)",color:t?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",backgroundColor:t?"#1976d2":"#e0e0e0",color:t?"#fff":"#000"}})]}),h.jsx(At,{type:"submit",variant:"contained",color:t?"secondary":"primary",sx:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",borderRadius:"8px",fontWeight:"bold",boxShadow:"none","&:hover":{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)"}},children:t?"Revoke Educator Access":"Grant Educator Access"})]}),h.jsx(dX,{userId:e,userClasses:s,courses:q,onCourseAssigned:U}),h.jsx(cX,{userId:e,onUserDeleted:ae})]})]})}),h.jsx(de,{variant:"h5",component:"h2",gutterBottom:!0,children:"Current Users"}),h.jsxs(Lc,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[h.jsx(Rc,{children:"Filter by Course"}),h.jsxs(Ll,{value:R,onChange:K,children:[h.jsx(Xn,{value:"",children:"All Courses"}),q.map(z=>h.jsx(Xn,{value:z.id,children:z.number},z.id))]})]}),h.jsxs(Lc,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[h.jsx(Rc,{children:"User Status"}),h.jsxs(Ll,{value:B,onChange:z=>X(z.target.value),children:[h.jsx(Xn,{value:"",children:"All Statuses"}),h.jsx(Xn,{value:"superAdmin",children:"Super Admin"}),h.jsx(Xn,{value:"educator",children:"Educator"}),h.jsx(Xn,{value:"student",children:"Student"})]})]}),h.jsx(uX,{users:$(C)}),h.jsxs(Ki,{open:x,onClose:W,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[h.jsx(fa,{id:"alert-dialog-title",children:t?"Revoke Admin Privileges":"Grant Admin Privileges"}),h.jsx(Xi,{children:h.jsxs(Ml,{id:"alert-dialog-description",children:["Are you sure you want to ",t?"revoke":"grant"," admin privileges for this user?"]})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:W,color:"primary",children:"Cancel"}),h.jsx(At,{onClick:P,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),h.jsx(nl,{open:b,autoHideDuration:6e3,onClose:G,children:h.jsx(vr,{onClose:G,severity:"info",children:f})})]})},hX=({onCourseAdded:e})=>{const[n,t]=Q.useState(""),{userDetails:r,setUserDetails:i}=Ai(),a=Zn(),s=u=>{t(u.target.value)},l=async()=>{try{const f=(await pi(xn(a,"courses"))).docs.map(g=>({id:g.id,passcode:g.data().passcode,number:g.data().number,title:g.data().title})).find(g=>g.passcode===n);if(f){if(r)if((r.classes||{})[f.id])e(`Course access for ${f.number} is already added to your account!`,"info");else{const b=bn(a,"users",r.uid),m=bn(a,"courses",f.id),x=await Oa(m),y=x.exists()?x.data():null,A=(y==null?void 0:y.courseCreatedAt)||(y==null?void 0:y.createdAt)||(y==null?void 0:y.timestamp)||new Date;await Wr(b,{[`classes.${f.id}`]:{number:f.number,title:f.title,isCourseAdmin:!1,courseCreatedAt:A,enrolledAt:new Date}});const w=await Oa(b);if(w.exists()){const C=w.data();i({...C,uid:r.uid})}e(`Course access for ${f.number} added to your account successfully!`,"success"),t("")}}else e("Invalid passcode. Course not found.","error")}catch(u){console.error("Error updating document: ",u),e("Error adding course access to your account.","error")}};return h.jsx("div",{children:h.jsxs(xt,{container:!0,spacing:2,sx:{maxWidth:"50%"},children:[h.jsx(xt,{item:!0,xs:10,children:h.jsx(Ut,{label:"Enter Course Passcode",value:n,onChange:s,fullWidth:!0,sx:{mb:2}})}),h.jsx(xt,{item:!0,xs:2,sx:{display:"flex",alignItems:"center"},children:h.jsx(At,{variant:"contained",onClick:l,children:"Add Course"})})]})})};var _1={},f4;function pX(){if(f4)return _1;f4=1;var e=Bd();Object.defineProperty(_1,"__esModule",{value:!0}),_1.default=void 0;var n=e($d()),t=Ud();return _1.default=(0,n.default)((0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),_1}var mX=pX();const gX=ts(mX),bX=({userDetails:e})=>{const n=()=>e.isSuperAdmin?"superAdmin":e.isAdmin?"educator":"student",t=()=>n(),r=()=>e!=null&&e.classes?h.jsx(fe,{sx:{border:`1px solid ${ge.neutral[200]}`,borderRadius:Rt.md,overflow:"hidden"},children:Object.entries(e.classes).map(([i,a],s)=>h.jsxs(fe,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:gt[3],backgroundColor:s%2===0?ge.background.primary:ge.neutral[50],borderBottom:s<Object.keys(e.classes).length-1?`1px solid ${ge.neutral[200]}`:"none","&:hover":{backgroundColor:ge.primary[50]}},children:[h.jsx(fe,{sx:{flex:1},children:h.jsx(vp,{courseId:i,courseNumber:a.number,courseTitle:a.title,variant:"link",maxTitleLength:30})}),a.isCourseAdmin&&h.jsx(fe,{sx:{ml:gt[2],px:gt[2],py:gt[1],backgroundColor:ge.success[100],color:ge.success[700],borderRadius:Rt.sm,fontSize:Be.fontSize.xs,fontWeight:Be.fontWeight.semibold,fontFamily:Be.fontFamily.secondary},children:"Admin"})]},i))}):h.jsx(fe,{sx:{p:gt[3],textAlign:"center",backgroundColor:ge.neutral[50],borderRadius:Rt.md,border:`1px solid ${ge.neutral[200]}`},children:h.jsx(de,{variant:"body2",sx:{color:ge.text.secondary,fontStyle:"italic",fontFamily:Be.fontFamily.secondary},children:"No courses enrolled"})});return h.jsxs(Sn,{elevation:0,sx:{padding:gt[6],borderRadius:Rt.xl,backgroundColor:ge.background.primary,border:`1px solid ${ge.neutral[200]}`,boxShadow:Yt.lg,maxWidth:"600px",margin:"auto",transition:"all 0.2s ease","&:hover":{boxShadow:Yt.xl,transform:"translateY(-2px)"}},children:[h.jsx(fe,{sx:{display:"flex",justifyContent:"center",mb:gt[4]},children:h.jsx(yR,{sx:{width:80,height:80,bgcolor:ge.primary[500],border:`3px solid ${ge.primary[100]}`,boxShadow:Yt.md},children:h.jsx(gX,{sx:{fontSize:48,color:ge.text.inverse}})})}),h.jsxs(fe,{sx:{display:"flex",flexDirection:"column",gap:gt[4]},children:[h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:gt[3]},children:[h.jsx(de,{sx:{fontWeight:Be.fontWeight.semibold,fontFamily:Be.fontFamily.secondary,color:ge.text.primary,minWidth:"100px"},children:"User ID:"}),h.jsx(uh,{userId:e.uid,userType:n(),maxLength:999})]}),h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:gt[3]},children:[h.jsx(de,{sx:{fontWeight:Be.fontWeight.semibold,fontFamily:Be.fontFamily.secondary,color:ge.text.primary,minWidth:"100px"},children:"Status:"}),h.jsx(FT,{status:t(),size:"medium"})]}),h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:gt[3]},children:[h.jsx(de,{sx:{fontWeight:Be.fontWeight.semibold,fontFamily:Be.fontFamily.secondary,color:ge.text.primary,minWidth:"100px"},children:"Last Login:"}),h.jsx(de,{variant:"body2",sx:{fontFamily:"monospace",fontSize:Be.fontSize.sm,color:ge.text.secondary,backgroundColor:ge.neutral[100],padding:`${gt[2]} ${gt[3]}`,borderRadius:Rt.md,border:`1px solid ${ge.neutral[300]}`},children:BT(e.lastLogin)})]})]}),h.jsx(es,{sx:{my:gt[4],borderColor:ge.neutral[200]}}),h.jsxs(fe,{children:[h.jsx(de,{sx:{fontWeight:Be.fontWeight.semibold,fontFamily:Be.fontFamily.secondary,color:ge.text.primary,mb:gt[3],fontSize:Be.fontSize.lg},children:"Enrolled Courses:"}),r()]})]})},yX=()=>{const{userDetails:e,setUserDetails:n}=Ai(),[t,r]=Q.useState(!1),[i,a]=Q.useState(!1),[s,l]=Q.useState(!1),[u,d]=Q.useState(""),[f,g]=Q.useState("success"),b=ma(),m=Zn(),x=()=>{e!=null&&e.isAdmin||b("/request-educator-permissions")},y=(N,R)=>{l(!0),d(N),g(R),R==="success"&&e&&(async()=>{const q=bn(m,"users",e.uid),k=await Oa(q);if(k.exists()){const L=k.data();n({...L,uid:e.uid})}})()},A=()=>{r(!t)},w=()=>{a(!i)},C=()=>{l(!1)};return h.jsxs(fe,{sx:{minHeight:"100vh",backgroundColor:ge.background.secondary,padding:gt[4]},children:[h.jsx(Fl,{title:"My Account",subtitle:"Manage your account settings, course enrollments, and permissions"}),e&&h.jsx(fe,{sx:{mb:gt[6]},children:h.jsx(bX,{userDetails:e})}),!(e!=null&&e.isAdmin)&&h.jsxs(fe,{sx:{mb:gt[4],p:gt[4],backgroundColor:ge.background.primary,borderRadius:Rt.lg,border:`1px solid ${ge.neutral[200]}`,boxShadow:Yt.sm},children:[h.jsx(_d,{control:h.jsx(kd,{checked:t,onChange:A,sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:ge.primary[600]},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:ge.primary[600]}}}),label:h.jsx(de,{sx:{fontFamily:Be.fontFamily.secondary,fontWeight:Be.fontWeight.semibold,color:ge.text.primary},children:"Enroll in a Course (As a Student)"})}),t&&h.jsxs(fe,{sx:{mt:gt[3]},children:[h.jsx(de,{variant:"body1",sx:{mb:gt[3],color:ge.text.secondary,fontFamily:Be.fontFamily.secondary},children:"Use the area below to add a course access to your account."}),h.jsx(hX,{onCourseAdded:y})]})]}),h.jsxs(fe,{sx:{mb:gt[4],p:gt[4],backgroundColor:ge.background.primary,borderRadius:Rt.lg,border:`1px solid ${ge.neutral[200]}`,boxShadow:Yt.sm},children:[h.jsx(_d,{control:h.jsx(kd,{checked:i,onChange:w,sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:ge.primary[600]},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:ge.primary[600]}}}),label:h.jsx(de,{sx:{fontFamily:Be.fontFamily.secondary,fontWeight:Be.fontWeight.semibold,color:ge.text.primary},children:"Advanced"})}),i&&h.jsx(fe,{sx:{mt:gt[3]},children:h.jsx(At,{variant:e!=null&&e.isAdmin?"outlined":"contained",onClick:x,disabled:e==null?void 0:e.isAdmin,sx:{fontFamily:Be.fontFamily.secondary,fontWeight:Be.fontWeight.medium,borderRadius:Rt.md,textTransform:"none",px:gt[4],py:gt[2],...e!=null&&e.isAdmin?{borderColor:ge.success[500],color:ge.success[700],backgroundColor:ge.success[50],"&:hover":{backgroundColor:ge.success[100]}}:{backgroundColor:ge.primary[600],color:ge.text.inverse,"&:hover":{backgroundColor:ge.primary[700]}}},children:e!=null&&e.isAdmin?h.jsxs(de,{sx:{fontFamily:Be.fontFamily.secondary,fontWeight:Be.fontWeight.medium,display:"flex",alignItems:"center",gap:gt[2]},children:[h.jsx("span",{children:""}),"Educator Account Approved"]}):"Request Educator Permissions"})})]}),h.jsx(nl,{open:s,autoHideDuration:6e3,onClose:C,children:h.jsx(vr,{onClose:C,severity:f,sx:{width:"100%",fontFamily:Be.fontFamily.secondary},children:u})})]})},xX=({selectedCourse:e,selectedCourseDetails:n,onStudentChange:t})=>{const[r,i]=Q.useState(""),[a,s]=Q.useState(!1),[l,u]=Q.useState(""),[d,f]=Q.useState(!1),[g,b]=Q.useState(!1),m=Zn(),x=async()=>{if(!r||!e){u("Please enter a Student ID and select a course."),f(!0);return}s(!0);try{const C=bn(m,"users",r),N=await Oa(C);if(N.exists()){const F=N.data().classes||{};e in F?b(!0):(u(`Student ${r} is not enrolled in course ${(n==null?void 0:n.number)||e}, cannot remove.`),f(!0))}else u(`Student ${r} does not exist.`),f(!0)}catch(C){console.error("Error checking student course:",C),u("Error checking student course."),f(!0)}s(!1)},y=async()=>{s(!0);try{const C=bn(m,"users",r);await Wr(C,{[`classes.${e}`]:s3()}),u(`Student ${r} removed from course ${(n==null?void 0:n.number)||e}.`),i(""),t()}catch(C){console.error("Error updating student course:",C),u("Error updating student course.")}s(!1),f(!0),b(!1)},A=()=>{f(!1)},w=()=>{b(!1)};return h.jsxs(fe,{sx:{mt:4},children:[h.jsxs(de,{variant:"h6",component:"h2",children:["Remove Students from ",n?`${n.number}`:e]}),h.jsxs(fe,{sx:{display:"flex",alignItems:"center",mt:2},children:[h.jsx(Ut,{label:"Student ID",value:r,onChange:C=>i(C.target.value),fullWidth:!0,required:!0,margin:"normal",sx:{mr:2}}),h.jsx(At,{variant:"contained",color:"primary",onClick:x,disabled:a,children:a?h.jsx(Jr,{size:24}):"Remove"})]}),h.jsx(nl,{open:d,autoHideDuration:6e3,onClose:A,children:h.jsx(vr,{onClose:A,severity:"info",children:l})}),h.jsxs(Ki,{open:g,onClose:w,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[h.jsx(fa,{id:"confirm-dialog-title",children:"Confirm Removal"}),h.jsx(Xi,{children:h.jsx(Ml,{id:"confirm-dialog-description",children:"Are you sure you want to remove the student from the course? This action cannot be undone."})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:w,color:"primary",children:"Cancel"}),h.jsx(At,{onClick:y,color:"secondary",autoFocus:!0,children:"Confirm"})]})]})]})},vX=e=>e?typeof e=="object"&&"toDate"in e?e.toDate().toLocaleString():typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3).toLocaleString():"N/A":"No data available",Rhe=e=>e?typeof e=="object"&&"toDate"in e?e.toDate():typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3):null:null,wX=({students:e,selectedCourse:n})=>{const t=()=>{if(e.length>0){const r=["User ID","Courses","Last Login"],i=e.map(d=>[`"${d.id||d.uid}"`,`"${d.classes?Object.values(d.classes).map(f=>`${f.number} - ${f.title}`).join(", "):"None"}"`,`"${vX(d.lastLogin)}"`]),a=[r.join(","),...i.map(d=>d.join(","))].join(`
`),s=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(s),u=document.createElement("a");u.href=l,u.setAttribute("download",`${n}_students.csv`),document.body.appendChild(u),u.click(),document.body.removeChild(u)}};return h.jsx(fe,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:h.jsx(At,{variant:"contained",color:"primary",onClick:t,disabled:e.length===0,sx:{background:"linear-gradient(45deg, #3f51b5 30%, #1e88e5 90%)",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",padding:"0 30px",fontSize:"16px",fontWeight:"bold",textTransform:"none","&:hover":{background:"linear-gradient(45deg, #1e88e5 30%, #3f51b5 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)"}},children:"Export as CSV"})})},SX=({students:e,loading:n=!1})=>{const t=[{id:"uid",label:"Student ID",width:"60%",render:r=>h.jsx(uh,{userId:r,userType:"student"})},{id:"lastLogin",label:"Last Login",width:"40%",render:r=>h.jsx(wp,{date:r,format:"full"})}];return h.jsx(lh,{data:e,columns:t,loading:n,emptyMessage:"No students are currently enrolled in this course.",showRowNumbers:!0})},AX=({userClasses:e,selectedCourse:n,onCourseChange:t})=>h.jsx(fe,{sx:{mb:3},children:h.jsxs(Lc,{fullWidth:!0,variant:"outlined",children:[h.jsx(Rc,{id:"course-selector-label",children:"Select a Course"}),h.jsx(Ll,{"aria-label":"Select a course",labelId:"course-selector-label",value:n,onChange:r=>t(r.target.value),label:"Select a Course",children:Object.entries(e).map(([r,i])=>h.jsx(Xn,{value:r,children:`${i.number} - ${i.title}`},r))})]})}),CX=({selectedCourse:e,selectedCourseDetails:n,onCourseUpdate:t})=>{const[r,i]=Q.useState(!1),[a,s]=Q.useState(""),[l,u]=Q.useState(""),d=Zn(),{userDetails:f,refreshUserDetails:g}=Ai(),b=()=>{n&&(s(n.number||""),u(n.title||"")),i(!0)},m=()=>{i(!1),x()},x=()=>{s(""),u("")},y=async()=>{if(!e||!(f!=null&&f.uid)){console.error("Selected course or user details are missing.");return}try{const A=bn(d,"courses",e);await Wr(A,{number:a,title:l});const w=bn(d,"users",f.uid),C=await Oa(w);if(C.exists()){const N=C.data();if(N.classes&&N.classes[e]){const R=N.classes[e],F={...N.classes,[e]:{...R,number:a,title:l}};await Wr(w,{classes:F})}}await g(),t(),m()}catch(A){console.error("Error updating course:",A)}};return h.jsxs(fe,{sx:{mt:2},children:[h.jsx(At,{variant:"outlined",onClick:b,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#4CAF50",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#388E3C",transform:"scale(1.03)"}},children:"Edit Course Details"}),h.jsxs(Ki,{open:r,onClose:m,children:[h.jsx(fa,{children:"Edit Course Details"}),h.jsxs(Xi,{children:[h.jsx(Ut,{label:"Course Number",value:a,onChange:A=>s(A.target.value),fullWidth:!0,sx:{mb:2}}),h.jsx(Ut,{label:"Course Title",value:l,onChange:A=>u(A.target.value),fullWidth:!0})]}),h.jsxs(ha,{children:[h.jsx(At,{onClick:m,children:"Cancel"}),h.jsx(At,{onClick:y,variant:"contained",color:"primary",disabled:!a||!l,children:"Save"})]})]})]})},EX=({selectedCourse:e,onInfoUpdate:n})=>{var P,T,G,W,K,ie,ue,$,ae,U,z,Z,ee;const[t,r]=Q.useState(!1),[i,a]=Q.useState(!1),[s,l]=Q.useState(null),[u,d]=Q.useState({}),[f,g]=Q.useState("contact"),b=Zn();Q.useEffect(()=>{t&&e&&m()},[t,e]);const m=async()=>{try{a(!0);const se=bn(b,"courses",e),we=await Oa(se);if(we.exists()){const xe=we.data();d(xe.additionalInfo||{})}}catch(se){console.error("Error fetching course info:",se),l("Failed to load course information")}finally{a(!1)}},x=()=>{r(!0),l(null)},y=()=>{r(!1),l(null)},A=async()=>{try{a(!0);const se=bn(b,"courses",e);await Wr(se,{additionalInfo:{...u,lastUpdated:new Date}}),n(),y()}catch(se){console.error("Error updating course info:",se),l("Failed to save course information")}finally{a(!1)}},w=(se,we)=>{d(xe=>({...xe,contactInfo:{...xe.contactInfo,[se]:we}}))},C=(se,we)=>{d(xe=>({...xe,policies:{...xe.policies,[se]:we}}))},N=()=>{d(se=>({...se,textbooks:[...se.textbooks||[],{title:"",author:"",edition:"",isbn:"",required:!0}]}))},R=(se,we,xe)=>{d(Ee=>{var Ie;return{...Ee,textbooks:(Ie=Ee.textbooks)==null?void 0:Ie.map((Re,We)=>We===se?{...Re,[we]:xe}:Re)}})},F=se=>{d(we=>{var xe;return{...we,textbooks:(xe=we.textbooks)==null?void 0:xe.filter((Ee,Ie)=>Ie!==se)}})},q=()=>{d(se=>({...se,gradingPolicy:[...se.gradingPolicy||[],{component:"",percentage:0,description:""}]}))},k=(se,we,xe)=>{d(Ee=>{var Ie;return{...Ee,gradingPolicy:(Ie=Ee.gradingPolicy)==null?void 0:Ie.map((Re,We)=>We===se?{...Re,[we]:xe}:Re)}})},L=se=>{d(we=>{var xe;return{...we,gradingPolicy:(xe=we.gradingPolicy)==null?void 0:xe.filter((Ee,Ie)=>Ie!==se)}})},B=(se,we)=>{d(xe=>{var Ee;return{...xe,[se]:{...xe[se],[we]:[...((Ee=xe[se])==null?void 0:Ee[we])||[],""]}}})},X=(se,we,xe,Ee)=>{d(Ie=>{var Re;return{...Ie,[se]:{...Ie[se],[we]:(((Re=Ie[se])==null?void 0:Re[we])||[]).map((We,Ve)=>Ve===xe?Ee:We)}}})},j=(se,we,xe)=>{d(Ee=>{var Ie;return{...Ee,[se]:{...Ee[se],[we]:(((Ie=Ee[se])==null?void 0:Ie[we])||[]).filter((Re,We)=>We!==xe)}}})},O=se=>(we,xe)=>{g(xe?se:!1)};return h.jsxs(fe,{sx:{mt:2},children:[h.jsx(At,{variant:"outlined",onClick:x,startIcon:h.jsx(xu,{}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#2196F3",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#1976D2",transform:"scale(1.03)"}},children:"Edit Additional Info"}),h.jsxs(Ki,{open:t,onClose:y,maxWidth:"md",fullWidth:!0,children:[h.jsx(fa,{children:h.jsx(de,{variant:"h5",children:"Edit Additional Course Information"})}),h.jsxs(Xi,{sx:{minHeight:"500px"},children:[s&&h.jsx(vr,{severity:"error",sx:{mb:2},children:s}),h.jsxs(Ad,{expanded:f==="contact",onChange:O("contact"),children:[h.jsx(Cd,{expandIcon:h.jsx(Wo,{}),children:h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(xR,{color:"primary"}),h.jsx(de,{variant:"h6",children:"Contact Information"})]})}),h.jsx(Ed,{children:h.jsxs(xt,{container:!0,spacing:2,children:[h.jsx(xt,{item:!0,xs:12,md:6,children:h.jsx(Ut,{label:"Email",fullWidth:!0,value:((P=u.contactInfo)==null?void 0:P.email)||"",onChange:se=>w("email",se.target.value)})}),h.jsx(xt,{item:!0,xs:12,md:6,children:h.jsx(Ut,{label:"Phone",fullWidth:!0,value:((T=u.contactInfo)==null?void 0:T.phone)||"",onChange:se=>w("phone",se.target.value)})}),h.jsx(xt,{item:!0,xs:12,md:6,children:h.jsx(Ut,{label:"Office",fullWidth:!0,value:((G=u.contactInfo)==null?void 0:G.office)||"",onChange:se=>w("office",se.target.value)})}),h.jsx(xt,{item:!0,xs:12,md:6,children:h.jsx(Ut,{label:"Office Hours",fullWidth:!0,value:((W=u.contactInfo)==null?void 0:W.officeHours)||"",onChange:se=>w("officeHours",se.target.value)})}),h.jsx(xt,{item:!0,xs:12,children:h.jsx(Ut,{label:"Website",fullWidth:!0,value:((K=u.contactInfo)==null?void 0:K.website)||"",onChange:se=>w("website",se.target.value)})})]})})]}),h.jsxs(Ad,{expanded:f==="textbooks",onChange:O("textbooks"),children:[h.jsx(Cd,{expandIcon:h.jsx(Wo,{}),children:h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(vR,{color:"primary"}),h.jsx(de,{variant:"h6",children:"Textbooks & Resources"})]})}),h.jsxs(Ed,{children:[h.jsx(fe,{sx:{mb:2},children:h.jsx(At,{startIcon:h.jsx(bu,{}),onClick:N,variant:"outlined",children:"Add Textbook"})}),(ie=u.textbooks)==null?void 0:ie.map((se,we)=>h.jsx(fe,{sx:{mb:3,p:2,border:"1px solid #ddd",borderRadius:1},children:h.jsxs(xt,{container:!0,spacing:2,children:[h.jsx(xt,{item:!0,xs:12,children:h.jsx(Ut,{label:"Title",fullWidth:!0,value:se.title,onChange:xe=>R(we,"title",xe.target.value)})}),h.jsx(xt,{item:!0,xs:12,md:4,children:h.jsx(Ut,{label:"Author",fullWidth:!0,value:se.author||"",onChange:xe=>R(we,"author",xe.target.value)})}),h.jsx(xt,{item:!0,xs:12,md:4,children:h.jsx(Ut,{label:"Edition",fullWidth:!0,value:se.edition||"",onChange:xe=>R(we,"edition",xe.target.value)})}),h.jsx(xt,{item:!0,xs:12,md:4,children:h.jsx(Ut,{label:"ISBN",fullWidth:!0,value:se.isbn||"",onChange:xe=>R(we,"isbn",xe.target.value)})}),h.jsx(xt,{item:!0,xs:12,children:h.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx(_d,{control:h.jsx(kd,{checked:se.required,onChange:xe=>R(we,"required",xe.target.checked)}),label:"Required"}),h.jsx(On,{onClick:()=>F(we),color:"error",children:h.jsx(Sd,{})})]})})]})},we))]})]}),h.jsxs(Ad,{expanded:f==="grading",onChange:O("grading"),children:[h.jsx(Cd,{expandIcon:h.jsx(Wo,{}),children:h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(wR,{color:"primary"}),h.jsx(de,{variant:"h6",children:"Grading Policy"})]})}),h.jsxs(Ed,{children:[h.jsx(fe,{sx:{mb:2},children:h.jsx(At,{startIcon:h.jsx(bu,{}),onClick:q,variant:"outlined",children:"Add Grading Component"})}),(ue=u.gradingPolicy)==null?void 0:ue.map((se,we)=>h.jsx(fe,{sx:{mb:2,p:2,border:"1px solid #ddd",borderRadius:1},children:h.jsxs(xt,{container:!0,spacing:2,children:[h.jsx(xt,{item:!0,xs:12,md:4,children:h.jsx(Ut,{label:"Component",fullWidth:!0,value:se.component,onChange:xe=>k(we,"component",xe.target.value)})}),h.jsx(xt,{item:!0,xs:12,md:3,children:h.jsx(Ut,{label:"Percentage",type:"number",fullWidth:!0,value:se.percentage,onChange:xe=>k(we,"percentage",parseInt(xe.target.value)||0),inputProps:{min:0,max:100}})}),h.jsx(xt,{item:!0,xs:12,md:4,children:h.jsx(Ut,{label:"Description",fullWidth:!0,value:se.description||"",onChange:xe=>k(we,"description",xe.target.value)})}),h.jsx(xt,{item:!0,xs:12,md:1,children:h.jsx(On,{onClick:()=>L(we),color:"error",children:h.jsx(Sd,{})})})]})},we))]})]}),h.jsxs(Ad,{expanded:f==="policies",onChange:O("policies"),children:[h.jsx(Cd,{expandIcon:h.jsx(Wo,{}),children:h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(SR,{color:"primary"}),h.jsx(de,{variant:"h6",children:"Course Policies"})]})}),h.jsx(Ed,{children:h.jsx(xt,{container:!0,spacing:2,children:[{key:"attendance",label:"Attendance Policy"},{key:"lateWork",label:"Late Work Policy"},{key:"academicIntegrity",label:"Academic Integrity"},{key:"accommodations",label:"Accommodations"},{key:"communication",label:"Communication Policy"},{key:"safety",label:"Safety Policy"},{key:"groupWork",label:"Group Work Policy"},{key:"makeupPolicy",label:"Make-up Policy"}].map(({key:se,label:we})=>{var xe;return h.jsx(xt,{item:!0,xs:12,children:h.jsx(Ut,{label:we,multiline:!0,rows:3,fullWidth:!0,value:((xe=u.policies)==null?void 0:xe[se])||"",onChange:Ee=>C(se,Ee.target.value)})},se)})})})]}),h.jsxs(Ad,{expanded:f==="lab",onChange:O("lab"),children:[h.jsx(Cd,{expandIcon:h.jsx(Wo,{}),children:h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(k6,{color:"primary"}),h.jsx(de,{variant:"h6",children:"Laboratory Information"})]})}),h.jsx(Ed,{children:h.jsxs(xt,{container:!0,spacing:3,children:[h.jsxs(xt,{item:!0,xs:12,children:[h.jsx(de,{variant:"subtitle2",sx:{mb:1},children:"Safety Requirements"}),h.jsx(fe,{sx:{mb:2},children:h.jsx(At,{startIcon:h.jsx(bu,{}),onClick:()=>B("labSpecific","safetyRequirements"),size:"small",variant:"outlined",children:"Add Safety Requirement"})}),(ae=($=u.labSpecific)==null?void 0:$.safetyRequirements)==null?void 0:ae.map((se,we)=>h.jsxs(fe,{sx:{display:"flex",gap:1,mb:1},children:[h.jsx(Ut,{fullWidth:!0,size:"small",value:se,onChange:xe=>X("labSpecific","safetyRequirements",we,xe.target.value),placeholder:"Safety requirement"}),h.jsx(On,{onClick:()=>j("labSpecific","safetyRequirements",we),color:"error",size:"small",children:h.jsx(Sd,{})})]},we))]}),h.jsxs(xt,{item:!0,xs:12,md:6,children:[h.jsx(de,{variant:"subtitle2",sx:{mb:1},children:"Required Equipment"}),h.jsx(fe,{sx:{mb:2},children:h.jsx(At,{startIcon:h.jsx(bu,{}),onClick:()=>B("labSpecific","requiredEquipment"),size:"small",variant:"outlined",children:"Add Equipment"})}),(z=(U=u.labSpecific)==null?void 0:U.requiredEquipment)==null?void 0:z.map((se,we)=>h.jsxs(fe,{sx:{display:"flex",gap:1,mb:1},children:[h.jsx(Ut,{fullWidth:!0,size:"small",value:se,onChange:xe=>X("labSpecific","requiredEquipment",we,xe.target.value),placeholder:"Equipment item"}),h.jsx(On,{onClick:()=>j("labSpecific","requiredEquipment",we),color:"error",size:"small",children:h.jsx(Sd,{})})]},we))]}),h.jsxs(xt,{item:!0,xs:12,md:6,children:[h.jsx(de,{variant:"subtitle2",sx:{mb:1},children:"Dress Code"}),h.jsx(fe,{sx:{mb:2},children:h.jsx(At,{startIcon:h.jsx(bu,{}),onClick:()=>B("labSpecific","dresscode"),size:"small",variant:"outlined",children:"Add Dress Code Item"})}),(ee=(Z=u.labSpecific)==null?void 0:Z.dresscode)==null?void 0:ee.map((se,we)=>h.jsxs(fe,{sx:{display:"flex",gap:1,mb:1},children:[h.jsx(Ut,{fullWidth:!0,size:"small",value:se,onChange:xe=>X("labSpecific","dresscode",we,xe.target.value),placeholder:"Dress code requirement"}),h.jsx(On,{onClick:()=>j("labSpecific","dresscode",we),color:"error",size:"small",children:h.jsx(Sd,{})})]},we))]})]})})]})]}),h.jsxs(ha,{children:[h.jsx(At,{onClick:y,children:"Cancel"}),h.jsx(At,{onClick:A,variant:"contained",disabled:i,children:i?"Saving...":"Save Changes"})]})]})]})},_X=async(e,n,t)=>{const r=yp(),i=e.name.split(".").pop()||"txt",a=`${e.name.replace(/\.[^/.]+$/,"")}_${Ri()}.${i}`,s=`syllabi/${n}/${a}`,l=vc(r,s);try{const u=await Yf(l,e),d=await Gf(u.ref),f={originalFilename:e.name,fileSize:e.size,fileType:e.type||"application/octet-stream",uploadedAt:new Date,uploadedBy:n,courseId:t};return console.log(`Successfully uploaded syllabus file: ${a}`,{size:e.size,type:e.type,url:d}),{url:d,path:u.ref.fullPath,metadata:f}}catch(u){throw console.error("Failed to upload syllabus file:",u),new Error(`Failed to upload syllabus file: ${u instanceof Error?u.message:"Unknown error"}`)}},h4=e=>{switch(e.toLowerCase()){case"application/pdf":return"PDF Document";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"Word Document";case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return"PowerPoint Presentation";case"text/plain":return"Text File";default:return"Document"}},p4=e=>{if(e===0)return"0 Bytes";const n=1024,t=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(2))+" "+t[r]},kX=({courseId:e})=>{const[n,t]=Q.useState(null),[r,i]=Q.useState(!0),[a,s]=Q.useState(null),[l,u]=Q.useState(!1),d=Zn();Q.useEffect(()=>{e&&(async()=>{try{i(!0);const m=bn(d,"courses",e),x=await Oa(m);if(x.exists()){const y=x.data();t(y.syllabusFile||null)}else s("Course not found")}catch(m){console.error("Error fetching syllabus file:",m),s("Failed to load syllabus file information")}finally{i(!1)}})()},[e,d]);const f=()=>{n!=null&&n.url&&window.open(n.url,"_blank")},g=()=>{u(!0)};return r?h.jsx(fe,{sx:{display:"flex",justifyContent:"center",p:2},children:h.jsx(Jr,{size:24})}):a?h.jsx(vr,{severity:"error",sx:{mb:2},children:a}):n?h.jsxs(Sn,{sx:{p:3,mb:3,backgroundColor:"info.50"},children:[h.jsxs(de,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[h.jsx(Ex,{color:"primary"}),"Original Syllabus Document"]}),h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[h.jsx(de,{variant:"body1",sx:{flexGrow:1},children:h.jsx("strong",{children:n.metadata.originalFilename})}),h.jsxs(de,{variant:"body2",color:"text.secondary",children:[h4(n.metadata.fileType),"  ",p4(n.metadata.fileSize)]})]}),h.jsxs(de,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Uploaded: ",new Date(n.metadata.uploadedAt).toLocaleDateString()]}),h.jsxs(fe,{sx:{display:"flex",gap:2},children:[h.jsx(At,{variant:"outlined",startIcon:h.jsx(O6,{}),onClick:g,size:"small",children:"View Details"}),h.jsx(At,{variant:"contained",startIcon:h.jsx(ug,{}),onClick:f,size:"small",children:"Download"})]}),h.jsxs(Ki,{open:l,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[h.jsxs(fa,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Ex,{}),"Syllabus File Details"]}),h.jsx(Xi,{children:h.jsxs(fe,{sx:{mb:2},children:[h.jsx(de,{variant:"body2",color:"text.secondary",children:h.jsx("strong",{children:"Filename:"})}),h.jsx(de,{variant:"body1",sx:{mb:2},children:n.metadata.originalFilename}),h.jsx(de,{variant:"body2",color:"text.secondary",children:h.jsx("strong",{children:"File Type:"})}),h.jsx(de,{variant:"body1",sx:{mb:2},children:h4(n.metadata.fileType)}),h.jsx(de,{variant:"body2",color:"text.secondary",children:h.jsx("strong",{children:"File Size:"})}),h.jsx(de,{variant:"body1",sx:{mb:2},children:p4(n.metadata.fileSize)}),h.jsx(de,{variant:"body2",color:"text.secondary",children:h.jsx("strong",{children:"Uploaded:"})}),h.jsx(de,{variant:"body1",sx:{mb:2},children:new Date(n.metadata.uploadedAt).toLocaleString()}),h.jsx(de,{variant:"body2",color:"text.secondary",children:h.jsx("strong",{children:"Storage Path:"})}),h.jsx(de,{variant:"body2",sx:{fontFamily:"monospace",backgroundColor:"grey.100",p:1,borderRadius:1},children:n.path})]})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:()=>u(!1),children:"Close"}),h.jsx(At,{onClick:f,variant:"contained",startIcon:h.jsx(ug,{}),children:"Download File"})]})]})]}):null},NX=({selectedCourse:e,onCourseDelete:n})=>{const[t,r]=Q.useState(!1),i=Zn(),{refreshUserDetails:a}=Ai(),s=()=>r(!0),l=()=>r(!1),u=async()=>{if(e)try{const d=D6(i),f=bn(i,"courses",e);d.delete(f);const g=xn(i,"users");(await pi(g)).forEach(m=>{const x=bn(i,"users",m.id),y=m.data().classes||{};y&&y[e]&&(delete y[e],d.update(x,{classes:y}))}),await d.commit(),await a(),n(),l()}catch(d){console.error("Error deleting course:",d)}};return h.jsxs(fe,{sx:{mt:2},children:[h.jsx(At,{variant:"contained",onClick:s,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#F44336",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#D32F2F",transform:"scale(1.03)"}},children:"Delete Course"}),h.jsxs(Ki,{open:t,onClose:l,children:[h.jsx(fa,{children:"Confirm Delete"}),h.jsx(Xi,{children:h.jsx(Ml,{children:"Are you sure you want to delete this course? This action cannot be undone."})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:l,children:"Cancel"}),h.jsx(At,{onClick:u,variant:"contained",color:"error",children:"Delete"})]})]})]})},jX=({text:e,tooltipText:n="Click to Copy",successText:t="Copied!"})=>{const[r,i]=Q.useState(!1),a=()=>{navigator.clipboard.writeText(e).then(()=>{i(!0),setTimeout(()=>i(!1),2e3)}).catch(s=>console.error("Could not copy text: ",s))};return h.jsx(Si,{title:r?t:n,enterDelay:300,leaveDelay:200,children:h.jsx(cr,{label:e,variant:"outlined",onClick:a,sx:{borderRadius:"15px",fontSize:"16px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",fontFamily:"Gabarito, sans-serif"}})})},TX=()=>{const{userDetails:e}=Ai(),[n,t]=Q.useState(""),[r,i]=Q.useState([]),[a,s]=Q.useState(null),[l,u]=Q.useState(!1),[d,f]=Q.useState(""),[g,b]=Q.useState("success"),m=Zn();Q.useEffect(()=>{(async()=>{if(e!=null&&e.isAdmin){const w=tl(xn(m,"courses"),wi("courseAdmin","array-contains",e.uid)),N=(await pi(w)).docs.map(R=>({id:R.id,number:R.data().number,title:R.data().title,passcode:R.data().passcode}));i(N)}})()},[m,e]);const x=A=>{const w=A.target.value;t(w);const C=r.find(N=>N.id===w);C?(s(C.passcode),f(`Passcode for course "${C.number} - ${C.title}" retrieved successfully.`),b("success"),u(!0)):(s(null),f("Course not found."),b("error"),u(!0))},y=()=>{u(!1)};return h.jsxs(fe,{sx:{mt:4},children:[h.jsx(de,{variant:"subtitle1",component:"h2",sx:{mb:2},children:"Retrieve Course Passcode"}),h.jsx(xt,{container:!0,spacing:2,sx:{maxWidth:"75%"},children:h.jsxs(xt,{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[h.jsx(Ut,{select:!0,label:"Select Course Number",value:n,onChange:x,fullWidth:!0,sx:{mb:2,mr:2},children:r.map(A=>h.jsx(Xn,{value:A.id,children:`${A.number} - ${A.title}`},A.id))}),a&&h.jsxs(fe,{sx:{display:"flex",alignItems:"center",ml:2},children:[h.jsx(de,{variant:"body1",sx:{mr:1},children:"Passcode:"}),h.jsx(jX,{text:`${a}`})]})]})}),h.jsx(nl,{open:l,autoHideDuration:6e3,onClose:y,children:h.jsx(vr,{onClose:y,severity:g,sx:{width:"100%"},children:d})})]})},OX=()=>{const{userDetails:e}=Ai(),[n,t]=Q.useState([]),[r,i]=Q.useState(""),[a,s]=Q.useState(!1),[l,u]=Q.useState(!1),[d,f]=Q.useState(!1),g=Zn(),b=ma(),x=e!=null&&e.classes?Object.entries(e.classes).filter(([N,R])=>R.isCourseAdmin).reduce((N,[R,F])=>({...N,[R]:F}),{}):{};Q.useEffect(()=>{x[r]||i(Object.keys(x)[0]||"")},[x,r]),Q.useEffect(()=>{(async()=>{if(r)try{const R=tl(xn(g,"users"),wi("isAdmin","==",!1)),k=(await pi(R)).docs.map(L=>({uid:L.id,...L.data()})).filter(L=>L.classes&&L.classes[r]);t(k)}catch(R){console.error("Error fetching students:",R)}})()},[r,g]);const y=N=>{i(N)},A=()=>{b("/request-new-course")},w=x[r];w&&`${w.number}${w.title}`;const C=!!(r&&w);return h.jsxs(fe,{className:"profile-container",sx:{p:4},children:[h.jsx(Fl,{title:"Course Management"}),h.jsxs(fe,{sx:{mb:4,p:3,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[h.jsx(de,{variant:"h6",sx:{fontFamily:"Staatliches, sans-serif",mb:2,color:"#0B53C0"},children:"Select a Course"}),Object.keys(x).length>0?h.jsx(AX,{userClasses:x,selectedCourse:r,onCourseChange:y}):h.jsx(de,{variant:"body1",sx:{color:"#9E9E9E"},children:"No courses available for selection."})]}),h.jsx(fe,{children:C&&h.jsxs(h.Fragment,{children:[h.jsx(kX,{courseId:r}),h.jsxs(fe,{sx:{flex:2,display:"flex",justifyContent:"flex-end",gap:2},children:[h.jsx(CX,{selectedCourse:r,selectedCourseDetails:w,onCourseUpdate:()=>{}}),h.jsx(EX,{selectedCourse:r,onInfoUpdate:()=>{}}),h.jsx(NX,{selectedCourse:r,onCourseDelete:()=>i("")})]})]})}),C&&h.jsxs(Sn,{elevation:0,sx:{p:gt[6],mb:gt[6],borderRadius:Rt.xl,backgroundColor:ge.background.secondary,border:`1px solid ${ge.neutral[200]}`},children:[h.jsx(de,{variant:"h5",component:"h2",sx:{fontFamily:Be.fontFamily.display,fontWeight:Be.fontWeight.bold,mb:gt[4],color:ge.primary[500]},children:"Students Enrolled in Course"}),h.jsx(fe,{sx:{mb:gt[4]},children:h.jsx(SX,{students:n,loading:!1})}),n.length>0&&h.jsx(wX,{students:n,selectedCourse:r}),n.length>0&&h.jsxs(Sn,{sx:{mt:4,p:3,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[h.jsx(_d,{control:h.jsx(kd,{checked:d,onChange:()=>f(N=>!N)}),label:"Remove Student(s) from the Course"}),d&&h.jsx(xX,{selectedCourse:r,selectedCourseDetails:w,onStudentChange:()=>{}})]})]}),h.jsxs(fe,{sx:{display:"flex",gap:4,mb:4},children:[h.jsxs(fe,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[h.jsx(_d,{control:h.jsx(kd,{checked:l,onChange:()=>u(N=>!N)}),label:"Retrieve Course Passcode"}),l&&h.jsx(fe,{sx:{mt:2},children:h.jsx(TX,{})})]}),h.jsxs(fe,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[h.jsx(_d,{control:h.jsx(kd,{checked:a,onChange:()=>s(N=>!N)}),label:"Request Creating a New Course"}),a&&h.jsx(fe,{sx:{mt:2},children:h.jsx(At,{variant:"contained",onClick:A,sx:{backgroundColor:"#4CAF50",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",textTransform:"none","&:hover":{backgroundColor:"#388E3C"}},children:"Request New Course"})})]})]})]})};class IX{constructor(n){et(this,"genAI");et(this,"model");this.genAI=new YT(n),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.1,topK:1,topP:.8,maxOutputTokens:16384}})}async processSyllabusText(n,t,r){return n.length>3e4?(console.log("Large document detected, using chunked processing"),this.processLargeDocument(n,t,r)):this.processSingleDocument(n,t,r)}async processSingleDocument(n,t,r){const i=this.buildSyllabusAnalysisPrompt(n,t);try{const l=(await(await this.model.generateContent(i)).response).text();if(!l||l.trim().length===0)throw new Error("Empty response from AI service");const u=l.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();let d;try{d=JSON.parse(u)}catch(f){throw console.error("JSON parsing failed:",f),console.error("Raw response text:",l),console.error("Cleaned text:",u),new Error("AI response format invalid - unable to parse JSON")}if(!d||typeof d!="object")throw new Error("AI response is not a valid object");return d.courseInfo||(console.warn("Missing courseInfo in AI response, using defaults"),d.courseInfo={}),this.validateAndSanitizeResponse(d)}catch(a){if(console.error("Gemini API Error:",a),a instanceof Error){if(a.message.includes("AI response")||a.message.includes("JSON parsing"))throw a;if(a.message.includes("API key"))throw new Error("Invalid or missing Gemini API key. Please check your environment configuration.");if(a.message.includes("quota")||a.message.includes("rate limit"))throw new Error("API rate limit exceeded. Please try again later.")}throw new Error(`Failed to process syllabus with AI: ${a instanceof Error?a.message:"Unknown error"}`)}}async processLargeDocument(n,t,r){const a=this.chunkText(n,35e3);console.log(`Processing ${a.length} chunks for large document`);const s=await this.processSingleDocument(a[0],t,r),l=await Promise.allSettled(a.slice(1).map(u=>this.processChunkForDetails(u,t)));return this.mergeChunkedResults(s,l)}chunkText(n,t){const r=[],i=n.split(`
`);let a="";const s=["schedule","session","unit","week","topic","assignment","objective","learning outcome","reading","textbook","prerequisite"];for(let l=0;l<i.length;l++){const u=i[l],d=i[l+1]||"",f=s.some(g=>u.toLowerCase().includes(g)||d.toLowerCase().includes(g));a.length+u.length>t&&a.length>0&&(f||a.length>t*.8)?(r.push(a.trim()),a=u):a+=`
`+u}return a.trim()&&r.push(a.trim()),r}async processChunkForDetails(n,t){const r=`
Extract additional course details from this syllabus section. Focus heavily on:
- ALL schedule items, sessions, units, weeks, and topics
- Session numbers, titles, and descriptions
- Learning outcomes for each session
- Reading assignments and resources
- Assignment details and due dates
- Any additional objectives or policies

IMPORTANT: Extract ALL schedule/session information - do not limit the number of items.
Convert session numbers to week numbers (Session 1 = Week 1, etc.).

Return JSON with only the fields you can extract from this section:
${n}
`;try{const l=(await(await this.model.generateContent(r)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(l)}catch(i){return console.warn("Failed to process chunk:",i),{}}}mergeChunkedResults(n,t){const r={...n};return t.forEach(i=>{if(i.status==="fulfilled"&&i.value){const a=i.value;if(a.learningObjectives&&(r.learningObjectives=[...r.learningObjectives,...a.learningObjectives]),a.schedule){const s=new Set(r.schedule.map(u=>`${u.week}-${u.topic}`)),l=a.schedule.filter(u=>!s.has(`${u.week}-${u.topic}`));r.schedule=[...r.schedule,...l]}a.assignments&&(r.assignments=[...r.assignments,...a.assignments]),a.prerequisites&&(r.prerequisites=[...r.prerequisites,...a.prerequisites]),a.contactInfo&&(r.contactInfo={...r.contactInfo,...a.contactInfo}),a.policies&&(r.policies={...r.policies,...a.policies}),a.additionalResources&&(r.additionalResources={...r.additionalResources,...a.additionalResources})}}),r.learningObjectives=[...new Set(r.learningObjectives)],r.prerequisites=[...new Set(r.prerequisites)],r.schedule=r.schedule.sort((i,a)=>i.week-a.week),r}buildSyllabusAnalysisPrompt(n,t){return`
You are an expert educational content analyzer. Analyze the following course syllabus and extract structured information in JSON format.

IMPORTANT INSTRUCTIONS:
1. Return ONLY valid JSON - no markdown, no explanations, no additional text
2. If information is not available, use null or empty arrays/objects
3. Be thorough but accurate - don't invent information
4. For percentages in grading, ensure they are numbers (not strings)
5. For week numbers, ensure they are integers
6. Extract all learning objectives, even if they're not numbered
7. Look for course schedules in various formats (weekly, by date, by topic, by session/unit)
8. IMPORTANT: Extract ALL schedule items, sessions, units, and topics - do not limit to just a few weeks
9. For session-based schedules, convert sessions to week numbers (e.g., Session 1 = Week 1)
10. LABORATORY COURSES: Pay special attention to safety requirements, lab equipment, dress codes, group work policies, and experiment-based schedules
11. Identify course type: determine if this is a lecture, lab, seminar, or hybrid course based on content

Required JSON structure:
{
  "courseInfo": {
    "title": "string",
    "number": "string (e.g., CS 350, BIOL 301, CHEM 315)",
    "description": "string",
    "instructor": "string or null",
    "department": "string or null",
    "institution": "string or null",
    "credits": "number or null",
    "meetingTimes": "string or null (include lab times if applicable)",
    "semester": "string or null",
    "year": "string or null",
    "courseType": "lecture|lab|seminar|hybrid",
    "location": "string or null (lab room, classroom, etc.)"
  },
  "learningObjectives": [
    "string (each objective as separate item)"
  ],
  "schedule": [
    {
      "week": "number",
      "topic": "string",
      "description": "string or null",
      "readings": ["string"] or null,
      "assignments": ["string"] or null,
      "dueDate": "string or null",
      "notes": "string or null",
      "experimentType": "string or null (for lab courses)",
      "equipmentNeeded": ["string"] or null
    }
  ],
  "prerequisites": [
    "string (each prerequisite course/requirement)"
  ],
  "textbooks": [
    {
      "title": "string",
      "author": "string or null",
      "edition": "string or null",
      "isbn": "string or null",
      "required": "boolean"
    }
  ],
  "gradingPolicy": [
    {
      "component": "string (e.g., Exams, Homework, Projects)",
      "percentage": "number (e.g., 40, not '40%')",
      "description": "string or null"
    }
  ],
  "assignments": [
    {
      "name": "string",
      "description": "string",
      "type": "string (exam|project|homework|quiz|presentation|lab_report|lab_practical)",
      "dueDate": "string or null",
      "points": "number or null",
      "weight": "number or null (for weighted assignments)"
    }
  ],
  "policies": {
    "attendance": "string or null",
    "lateWork": "string or null",
    "academicIntegrity": "string or null",
    "accommodations": "string or null",
    "communication": "string or null",
    "safety": "string or null (lab safety requirements)",
    "groupWork": "string or null (partner/group work policies)",
    "makeupPolicy": "string or null (make-up lab/exam policies)"
  },
  "contactInfo": {
    "email": "string or null",
    "phone": "string or null",
    "office": "string or null",
    "officeHours": "string or null",
    "website": "string or null"
  },
  "additionalResources": {
    "software": ["string"] or null,
    "equipment": ["string"] or null,
    "websites": ["string"] or null,
    "tutoring": "string or null",
    "learningPlatform": "string or null (Moodle, Blackboard, etc.)"
  },
  "labSpecific": {
    "safetyRequirements": ["string"] or null,
    "requiredEquipment": ["string"] or null,
    "dresscode": ["string"] or null,
    "notebookRequirements": "string or null",
    "groupWorkStructure": "string or null",
    "makeupPolicy": "string or null"
  }
}

${t?`File name: ${t}`:""}

Syllabus content to analyze:
${n}
`}validateAndSanitizeResponse(n){var r,i,a,s,l,u,d,f,g,b,m,x,y,A;const t={courseInfo:{title:"Course Title",number:"COURSE 101",description:"Course description not available"},learningObjectives:[],schedule:[],prerequisites:[],textbooks:[],gradingPolicy:[],assignments:[],policies:{},contactInfo:{},additionalResources:{}};try{return{courseInfo:{...t.courseInfo,...n.courseInfo},learningObjectives:Array.isArray(n.learningObjectives)?n.learningObjectives:[],schedule:Array.isArray(n.schedule)?n.schedule.map((C,N)=>({week:typeof C.week=="number"?C.week:N+1,topic:C.topic||`Week ${N+1} Topic`,description:C.description||null,readings:Array.isArray(C.readings)?C.readings:null,assignments:Array.isArray(C.assignments)?C.assignments:null,dueDate:C.dueDate||null,notes:C.notes||null})):[],prerequisites:Array.isArray(n.prerequisites)?n.prerequisites:[],textbooks:Array.isArray(n.textbooks)?n.textbooks.map(C=>({title:C.title||"Unknown Textbook",author:C.author||null,edition:C.edition||null,isbn:C.isbn||null,required:typeof C.required=="boolean"?C.required:!0})):[],gradingPolicy:Array.isArray(n.gradingPolicy)?n.gradingPolicy.map(C=>({component:C.component||"Unknown Component",percentage:typeof C.percentage=="number"?C.percentage:0,description:C.description||null})):[],assignments:Array.isArray(n.assignments)?n.assignments.map(C=>({name:C.name||"Assignment",description:C.description||"",type:C.type||"homework",dueDate:C.dueDate||null,points:typeof C.points=="number"?C.points:null})):[],policies:{attendance:((r=n.policies)==null?void 0:r.attendance)||null,lateWork:((i=n.policies)==null?void 0:i.lateWork)||null,academicIntegrity:((a=n.policies)==null?void 0:a.academicIntegrity)||null,accommodations:((s=n.policies)==null?void 0:s.accommodations)||null,communication:((l=n.policies)==null?void 0:l.communication)||null},contactInfo:{email:((u=n.contactInfo)==null?void 0:u.email)||null,phone:((d=n.contactInfo)==null?void 0:d.phone)||null,office:((f=n.contactInfo)==null?void 0:f.office)||null,officeHours:((g=n.contactInfo)==null?void 0:g.officeHours)||null,website:((b=n.contactInfo)==null?void 0:b.website)||null},additionalResources:{software:Array.isArray((m=n.additionalResources)==null?void 0:m.software)?n.additionalResources.software:null,equipment:Array.isArray((x=n.additionalResources)==null?void 0:x.equipment)?n.additionalResources.equipment:null,websites:Array.isArray((y=n.additionalResources)==null?void 0:y.websites)?n.additionalResources.websites:null,tutoring:((A=n.additionalResources)==null?void 0:A.tutoring)||null}}}catch(w){return console.error("Error validating AI response:",w),t}}async generateCourseMaterials(n,t){const r=`
Based on the following course information, generate detailed course materials in JSON format.

CRITICAL REQUIREMENTS:
1. Return ONLY valid JSON - absolutely NO explanatory text, comments, or additional content
2. Do not add any text before or after the JSON array
3. Do not include comments like "// ..." in the JSON
4. Generate materials for ALL available weeks/sessions from the course information

Create materials for:
1. Course Overview (with detailed description, objectives, and policies)  
2. Weekly/session materials for ALL weeks found in the schedule
3. Assignment descriptions where applicable

Course Information:
${JSON.stringify(n,null,2)}

Generate materials for ${(t==null?void 0:t.includeWeeks)||n.schedule.length} weeks/sessions.

Return ONLY a JSON array of materials with this structure:
[
  {
    "id": "unique-id",
    "title": "Material Title",
    "type": "overview|weekly|assignment|resource",
    "header": {"title": "string", "content": "string"},
    "sections": [
      {
        "id": "section-id",
        "title": "Section Title",
        "content": "HTML formatted content",
        "subsections": [
          {
            "id": "subsection-id",
            "title": "Subsection Title",
            "content": "HTML formatted content"
          }
        ]
      }
    ],
    "footer": {"title": "string", "content": "string"},
    "published": false,
    "scheduledTimestamp": "ISO date string or null"
  }
]
`;try{const s=(await(await this.model.generateContent(r)).response).text();if(!s||s.trim().length===0)return console.warn("Empty response from AI service for material generation"),[];let l=s.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();const u=l.lastIndexOf("]");u!==-1&&(l=l.substring(0,u+1));let d;try{d=JSON.parse(l)}catch(f){return console.error("JSON parsing failed for material generation:",f),console.error("Raw response text:",s),console.error("Cleaned text:",l),console.warn("Falling back to empty materials array"),[]}return Array.isArray(d)?d:(console.warn("AI response is not an array, wrapping in array:",d),d?[d]:[])}catch(i){return console.error("Error generating materials:",i),[]}}}let qy=null;const m4=e=>{const n="AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8";if(!qy&&n&&(qy=new IX(n)),!qy)throw new Error("Gemini service not initialized. Please configure VITE_GEMINI_API_KEY environment variable.");return qy},Bh=()=>Math.random().toString(36).substr(2,9),DX=e=>e.length?`<ul>${e.map(t=>`<li>${t}</li>`).join("")}</ul>`:"<p>No objectives specified</p>",LX=e=>e.length?`<ul>${e.map(t=>`<li>${t}</li>`).join("")}</ul>`:"<p>No readings assigned</p>",Tp=xp()(Wg(mv((e,n)=>({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null,setUploadedFile:t=>e({uploadedFile:t}),setUploadProgress:t=>e({uploadProgress:t}),setExtractedText:t=>e({extractedText:t}),setStoredSyllabusFile:t=>e({storedSyllabusFile:t}),setAIExtractedInfo:t=>e({aiExtractedInfo:t}),setUseAIProcessing:t=>e({useAIProcessing:t}),setParsedCourseInfo:t=>e({parsedCourseInfo:t}),setGeneratedMaterials:t=>e({generatedMaterials:t}),setCurrentStep:t=>e({currentStep:t}),setIsProcessing:t=>e({isProcessing:t}),setError:t=>e({error:t}),setProcessingProgress:t=>e({processingProgress:t}),uploadSyllabus:async(t,r)=>{const i=KT(t);if(!i.isValid){e({error:i.error,currentStep:"upload"});return}const a=GF(t);e({uploadedFile:t,uploadProgress:0,error:null,extractionMetadata:{fileName:t.name,fileSize:t.size,fileType:XT(t),estimatedProcessingTime:a},processingProgress:{stage:"uploading",percentage:0,currentOperation:"Preparing file for processing..."}});try{for(let s=0;s<=100;s+=20)e({uploadProgress:s,processingProgress:{stage:"uploading",percentage:s,currentOperation:s===100?"Upload complete, starting text extraction...":`Uploading file... ${s}%`}}),await new Promise(l=>setTimeout(l,100));if(e({currentStep:"processing",isProcessing:!0,processingProgress:{stage:"extracting",percentage:0,currentOperation:"Extracting text from document..."}}),await n().extractTextFromFile(),r)try{e({processingProgress:{stage:"uploading",percentage:90,currentOperation:"Storing syllabus file..."}});const s=await _X(t,r);e({storedSyllabusFile:s}),console.log("Syllabus file stored successfully:",s.url)}catch(s){console.warn("Failed to store syllabus file, continuing with processing:",s)}e({processingProgress:{stage:"analyzing",percentage:0,currentOperation:n().useAIProcessing?"Analyzing syllabus with AI...":"Parsing syllabus content..."}}),await n().parseSyllabus()}catch(s){e({error:s instanceof Error?s.message:"Failed to upload file",currentStep:"upload"})}},extractTextFromFile:async()=>{const{uploadedFile:t}=n();if(!t){e({error:"No file uploaded"});return}e({isProcessing:!0,error:null});try{const r=await QT(t);e({extractedText:r.text,extractionMetadata:{...n().extractionMetadata,...r.metadata},isProcessing:!1})}catch(r){e({error:r.message||"Failed to extract text from file",isProcessing:!1})}},parseSyllabus:async()=>{const{extractedText:t,uploadedFile:r,useAIProcessing:i}=n();if(!t){e({error:"No text to parse"});return}e({isProcessing:!0,error:null});try{let a;if(i)try{e({processingProgress:{stage:"analyzing",percentage:25,currentOperation:"Sending syllabus to AI for analysis..."}});const l=await m4().processSyllabusText(t,r==null?void 0:r.name);e({processingProgress:{stage:"analyzing",percentage:75,currentOperation:"Processing AI analysis results..."}}),e({aiExtractedInfo:l}),a={suggestedTitle:l.courseInfo.title||"Course Title",suggestedNumber:l.courseInfo.number||"COURSE 101",suggestedDescription:l.courseInfo.description||"Course description not available",objectives:l.learningObjectives.length>0?l.learningObjectives:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:l.schedule.map(u=>({week:u.week,topic:u.topic,description:u.description,readings:u.readings||[],assignments:u.assignments||[],date:u.dueDate?new Date(u.dueDate):void 0})),prerequisites:l.prerequisites,textbook:l.textbooks.length>0?l.textbooks[0].title:"",grading:l.gradingPolicy.map(u=>`${u.component}: ${u.percentage}%`).join(", "),instructor:l.courseInfo.instructor,department:l.courseInfo.department,institution:l.courseInfo.institution,credits:l.courseInfo.credits,semester:l.courseInfo.semester,year:l.courseInfo.year,contactInfo:l.contactInfo,policies:l.policies,textbooks:l.textbooks,gradingComponents:l.gradingPolicy,assignments:l.assignments}}catch(s){console.warn("AI processing failed, falling back to pattern-based parsing:",s),e({error:`AI analysis failed: ${s instanceof Error?s.message:"Unknown error"}. Using pattern-based parsing instead.`,processingProgress:{stage:"analyzing",percentage:50,currentOperation:"AI failed, using pattern-based parsing..."}}),a=await n().fallbackParsing(t)}else a=await n().fallbackParsing(t);e({parsedCourseInfo:a}),e({processingProgress:{stage:"generating",percentage:0,currentOperation:"Generating course materials..."}}),await n().generateMaterials()}catch(a){e({error:a instanceof Error?a.message:"Failed to parse syllabus",isProcessing:!1})}},fallbackParsing:async t=>{var g,b;const r=t.split(`
`).filter(m=>m.trim()),i=r.find(m=>{const x=m.toLowerCase();return(x.includes("course")||x.includes("class"))&&(x.includes("title")||x.includes("name")||m.includes(":"))}),a=r.find(m=>{const x=m.toLowerCase();return x.includes("description")||x.includes("overview")||x.includes("about this course")}),s=r.find(m=>/[A-Z]{2,4}\s*\d{3,4}/.test(m)||m.toLowerCase().includes("course number")),l=r.findIndex(m=>{const x=m.toLowerCase();return x.includes("objective")||x.includes("learning outcome")||x.includes("goals")||x.includes("by the end of this course")}),u=[];if(l!==-1)for(let m=l+1;m<r.length&&m<l+15;m++){const x=r[m].trim();x&&(x.startsWith("-")||x.startsWith("")||x.match(/^\d+\./)||x.startsWith("*"))?u.push(x.replace(/^[-\d.*]\s*/,"")):x&&u.length===0&&u.push(x)}const d=[];for(let m=1;m<=16;m++){const x=new RegExp(`week\\s*${m}|${m}\\s*week`,"i"),y=r.find(A=>x.test(A));if(y){const A=y.replace(/week\s*\d+:?\s*/i,"").trim()||`Week ${m} Topic`;d.push({week:m,topic:A,description:`Content and activities for week ${m}`,readings:[],assignments:[]})}else d.push({week:m,topic:`Week ${m} Topic`,description:`Content for week ${m}`,readings:[],assignments:[]})}let f="COURSE 101";if(s){const m=s.match(/[A-Z]{2,4}\s*\d{3,4}/);m&&(f=m[0])}return{suggestedTitle:i&&((g=i.split(":").slice(-1)[0])==null?void 0:g.trim())||"Course Title",suggestedNumber:f,suggestedDescription:a&&((b=a.split(":").slice(-1)[0])==null?void 0:b.trim())||t.substring(0,300)+"...",objectives:u.length>0?u:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:d.slice(0,15),prerequisites:[],textbook:"",grading:""}},generateMaterials:async()=>{const{parsedCourseInfo:t,aiExtractedInfo:r,useAIProcessing:i}=n();if(!t){e({error:"No parsed course info available"});return}e({isProcessing:!0,error:null});try{let a=[];if(i&&r)try{const l=await m4().generateCourseMaterials(r,{includeWeeks:r.schedule.length,materialTypes:["overview","weekly","assignment"]});l&&l.length>0?a=l.map(u=>({id:u.id||Bh(),title:u.title||"Generated Material",header:u.header||{title:"Header",content:`<p>${u.title||"Material"}</p>`},footer:u.footer||{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:u.sections||[],published:u.published||!1,scheduledTimestamp:u.scheduledTimestamp?new Date(u.scheduledTimestamp):void 0})):(console.warn("AI material generation returned empty results, using fallback"),a=n().generateFallbackMaterials(t))}catch(s){console.warn("AI material generation failed, using fallback:",s),e({error:`AI material generation failed: ${s instanceof Error?s.message:"Unknown error"}. Using fallback material generation instead.`,processingProgress:{stage:"generating",percentage:75,currentOperation:"AI material generation failed, using fallback..."}}),a=n().generateFallbackMaterials(t)}else a=n().generateFallbackMaterials(t);e({generatedMaterials:a,isProcessing:!1,currentStep:"review",processingProgress:{stage:"complete",percentage:100,currentOperation:"Processing complete! Review your course materials below."}})}catch(a){e({error:a instanceof Error?a.message:"Failed to generate materials",isProcessing:!1})}},generateFallbackMaterials:t=>{const r=[];return r.push({id:Bh(),title:`${t.suggestedNumber} - Course Overview`,header:{title:"Course Overview",content:`<p>${t.suggestedTitle}</p>`},footer:{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:[{id:Bh(),title:"Course Description",content:`<p>${t.suggestedDescription}</p>`,subsections:[],images:[],links:[]},{id:Bh(),title:"Learning Objectives",content:DX(t.objectives),subsections:[],images:[],links:[]}],published:!1}),t.schedule.slice(0,6).forEach(i=>{r.push({id:Bh(),title:`Week ${i.week}: ${i.topic}`,header:{title:`Week ${i.week}`,content:`<p>${i.topic}</p>`},footer:{title:"Footer",content:"<p>Review materials before next class</p>"},sections:[{id:Bh(),title:"Overview",content:`<p>${i.description||`Topics and activities for week ${i.week}`}</p>`,subsections:i.readings&&i.readings.length>0?[{id:Bh(),title:"Required Readings",content:LX(i.readings),subSubsections:[],images:[],links:[]}]:[],images:[],links:[]}],published:!1,scheduledTimestamp:i.date})}),r},editMaterial:(t,r)=>{const{generatedMaterials:i}=n(),a=[...i];a[t]={...a[t],...r},e({generatedMaterials:a})},editCourseInfo:t=>{const{parsedCourseInfo:r}=n();r&&e({parsedCourseInfo:{...r,...t}})},reset:()=>e({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null})}),{name:"syllabus-store",partialize:e=>({extractedText:e.extractedText,extractionMetadata:e.extractionMetadata,storedSyllabusFile:e.storedSyllabusFile,aiExtractedInfo:e.aiExtractedInfo,useAIProcessing:e.useAIProcessing,parsedCourseInfo:e.parsedCourseInfo,generatedMaterials:e.generatedMaterials,currentStep:e.currentStep})}))),k1={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},N1={GEMINI_API_KEY:"VITE_GEMINI_API_KEY",ENABLE_AI_PROCESSING:"VITE_ENABLE_AI_PROCESSING",MAX_RETRIES:"VITE_AI_MAX_RETRIES",TIMEOUT:"VITE_AI_TIMEOUT",FALLBACK_TO_PATTERN:"VITE_AI_FALLBACK_TO_PATTERN"},RX=()=>({geminiApiKey:k1[N1.GEMINI_API_KEY],enableAIProcessing:k1[N1.ENABLE_AI_PROCESSING]!=="false",maxRetries:parseInt(k1[N1.MAX_RETRIES]||"3",10),timeout:parseInt(k1[N1.TIMEOUT]||"30000",10),fallbackToPatternParsing:k1[N1.FALLBACK_TO_PATTERN]!=="false"}),wI=e=>{const n=[];return e.enableAIProcessing&&!e.geminiApiKey&&n.push("Gemini API key is required when AI processing is enabled"),(e.maxRetries<0||e.maxRetries>10)&&n.push("Max retries must be between 0 and 10"),(e.timeout<1e3||e.timeout>12e4)&&n.push("Timeout must be between 1 second and 2 minutes"),{isValid:n.length===0,errors:n}},SI=()=>{const e=RX(),n=wI(e);return{config:e,...n}},g4=({onUploadComplete:e,apiKey:n,educatorUid:t})=>{const{uploadedFile:r,uploadProgress:i,error:a,isProcessing:s,useAIProcessing:l,processingProgress:u,uploadSyllabus:d,setUploadedFile:f,setError:g}=Tp(),[b,m]=Q.useState(!1),x=Q.useMemo(()=>["text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],[]),y=Q.useMemo(()=>[".txt",".pdf",".docx"],[]),A=Q.useCallback(async L=>{const X=(j=>{if(!x.includes(j.type))return`Unsupported file type. Please upload ${y.join(", ")} files.`;const O=10*1024*1024;return j.size>O?"File size too large. Please upload files smaller than 10MB.":null})(L);if(X){g(X);return}try{await d(L,t),e==null||e(L)}catch(j){console.error("Upload error:",j)}},[d,e,g,x,y,n,t]),w=Q.useCallback(L=>{L.preventDefault(),m(!1);const B=Array.from(L.dataTransfer.files);B.length>0&&A(B[0])},[A]),C=Q.useCallback(L=>{L.preventDefault(),m(!0)},[]),N=Q.useCallback(L=>{L.preventDefault(),m(!1)},[]),R=Q.useCallback(L=>{const B=L.target.files;B&&B.length>0&&A(B[0]),L.target.value=""},[A]),F=Q.useCallback(()=>{f(null),g(null)},[f,g]),q=L=>{if(L===0)return"0 Bytes";const B=1024,X=["Bytes","KB","MB","GB"],j=Math.floor(Math.log(L)/Math.log(B));return parseFloat((L/Math.pow(B,j)).toFixed(2))+" "+X[j]},k=()=>h.jsx(CR,{color:"primary"});return h.jsxs(fe,{sx:{width:"100%",maxWidth:600,mx:"auto"},children:[!r&&h.jsxs(Sn,{sx:{p:4,border:"2px dashed",borderColor:b?"primary.main":"grey.300",backgroundColor:b?"primary.50":"background.paper",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center","&:hover":{borderColor:"primary.main",backgroundColor:"primary.50"}},onDragOver:C,onDragLeave:N,onDrop:w,onClick:()=>{var L;return(L=document.getElementById("syllabus-file-input"))==null?void 0:L.click()},children:[h.jsx(AR,{sx:{fontSize:48,color:b?"primary.main":"grey.400",mb:2}}),h.jsx(de,{variant:"h6",gutterBottom:!0,children:"Upload Your Syllabus"}),h.jsx(de,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Drag and drop your syllabus file here, or click to browse"}),h.jsx(fe,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center"},children:y.map(L=>h.jsx(cr,{label:L.toUpperCase(),size:"small",variant:"outlined",color:"primary"},L))}),h.jsx(de,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Maximum file size: 10MB"}),h.jsx("input",{id:"syllabus-file-input",type:"file",accept:x.join(","),onChange:R,style:{display:"none"}})]}),r&&h.jsxs(Sn,{sx:{p:3,mb:2},children:[h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:2},children:[k(),h.jsxs(fe,{sx:{flexGrow:1},children:[h.jsx(de,{variant:"subtitle1",sx:{fontWeight:500},children:r.name}),h.jsx(de,{variant:"body2",color:"text.secondary",children:q(r.size)})]}),!s&&h.jsx(On,{onClick:F,color:"error",size:"small",children:h.jsx(Sd,{})})]}),i>0&&i<100&&h.jsxs(fe,{sx:{mt:2},children:[h.jsx(Ko,{variant:"determinate",value:i,sx:{height:6,borderRadius:3}}),h.jsxs(de,{variant:"caption",sx:{mt:1,display:"block"},children:["Uploading... ",i,"%"]})]}),s&&h.jsx(fe,{sx:{mt:2},children:u?h.jsxs(h.Fragment,{children:[h.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[h.jsx(cr,{label:u.stage.charAt(0).toUpperCase()+u.stage.slice(1),size:"small",color:"primary",variant:"outlined"}),h.jsxs(de,{variant:"caption",color:"text.secondary",children:[u.percentage,"%"]})]}),h.jsx(Ko,{variant:"determinate",value:u.percentage,sx:{height:6,borderRadius:3,mb:1}}),h.jsx(de,{variant:"caption",sx:{display:"block",color:"text.secondary"},children:u.currentOperation})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ko,{sx:{height:6,borderRadius:3}}),h.jsx(de,{variant:"caption",sx:{mt:1,display:"block"},children:l?"AI is analyzing your syllabus...":"Processing syllabus..."})]})})]}),a&&h.jsx(vr,{severity:"error",sx:{mt:2},onClose:()=>g(null),children:a}),h.jsxs(Sn,{sx:{p:2,mt:2,backgroundColor:"info.50"},children:[h.jsx(de,{variant:"body2",color:"info.main",sx:{fontWeight:500,mb:1},children:" Tips for best results:"}),h.jsxs(de,{variant:"body2",color:"text.secondary",component:"ul",sx:{m:0,pl:2},children:[h.jsx("li",{children:"Include course objectives and weekly schedule"}),h.jsx("li",{children:"List reading assignments and materials"}),h.jsx("li",{children:"Text files (.txt) work best for parsing"}),h.jsx("li",{children:"Ensure text is well-structured with clear headings"})]})]})]})},MX=({onContinue:e})=>{var C;const{parsedCourseInfo:n,editCourseInfo:t,error:r,isProcessing:i,currentStep:a}=Tp(),[s,l]=Q.useState(!1),[u,d]=Q.useState(null);if(!n)return h.jsx(vr,{severity:"warning",children:"No course information available. Please upload and process a syllabus first."});if(i||a==="processing")return h.jsx(vr,{severity:"info",children:h.jsx(de,{variant:"body2",children:" Processing complete! Preparing course information for review..."})});const f=()=>{d({...n}),l(!0)},g=()=>{u&&(t(u),l(!1),d(null))},b=()=>{l(!1),d(null)},m=()=>{u&&d({...u,objectives:[...u.objectives,"New objective"]})},x=N=>{if(u){const R=u.objectives.filter((F,q)=>q!==N);d({...u,objectives:R})}},y=(N,R)=>{if(u){const F=[...u.objectives];F[N]=R,d({...u,objectives:F})}},A=(N,R,F)=>{if(u){const q=[...u.schedule];q[N]={...q[N],[R]:F},d({...u,schedule:q})}},w=s?u:n;return w?h.jsx(fe,{sx:{maxWidth:800,mx:"auto"},children:h.jsxs(Sn,{sx:{p:3},children:[h.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[h.jsx(de,{variant:"h5",component:"h2",children:"Course Information Preview"}),s?h.jsxs(fe,{sx:{display:"flex",gap:1},children:[h.jsx(At,{startIcon:h.jsx(R0,{}),onClick:g,variant:"contained",color:"primary",children:"Save"}),h.jsx(At,{startIcon:h.jsx(N6,{}),onClick:b,variant:"outlined",children:"Cancel"})]}):h.jsx(At,{startIcon:h.jsx(xu,{}),onClick:f,variant:"outlined",children:"Edit Details"})]}),r&&h.jsx(vr,{severity:"error",sx:{mb:3},children:r}),h.jsxs(xt,{container:!0,spacing:3,children:[h.jsx(xt,{item:!0,xs:12,md:6,children:h.jsx(Ut,{fullWidth:!0,label:"Course Number",value:w.suggestedNumber,onChange:N=>s&&u&&d({...u,suggestedNumber:N.target.value}),disabled:!s,variant:s?"outlined":"filled"})}),h.jsx(xt,{item:!0,xs:12,md:6,children:h.jsx(Ut,{fullWidth:!0,label:"Course Title",value:w.suggestedTitle,onChange:N=>s&&u&&d({...u,suggestedTitle:N.target.value}),disabled:!s,variant:s?"outlined":"filled"})}),h.jsx(xt,{item:!0,xs:12,children:h.jsx(Ut,{fullWidth:!0,multiline:!0,rows:4,label:"Course Description",value:w.suggestedDescription,onChange:N=>s&&u&&d({...u,suggestedDescription:N.target.value}),disabled:!s,variant:s?"outlined":"filled"})})]}),h.jsx(es,{sx:{my:3}}),h.jsxs(fe,{sx:{mb:3},children:[h.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[h.jsxs(de,{variant:"h6",children:["Learning Objectives (",w.objectives.length,")"]}),s&&h.jsx(On,{onClick:m,color:"primary",children:h.jsx(bu,{})})]}),h.jsx(fe,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.objectives.map((N,R)=>h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsxs(de,{variant:"body2",sx:{minWidth:24,color:"text.secondary"},children:[R+1,"."]}),s?h.jsxs(h.Fragment,{children:[h.jsx(Ut,{fullWidth:!0,multiline:!0,value:N,onChange:F=>y(R,F.target.value),size:"small"}),h.jsx(On,{onClick:()=>x(R),color:"error",size:"small",children:h.jsx(Sd,{})})]}):h.jsx(de,{variant:"body2",children:N})]},R))})]}),h.jsx(es,{sx:{my:3}}),h.jsxs(Ad,{children:[h.jsx(Cd,{expandIcon:h.jsx(Wo,{}),children:h.jsxs(de,{variant:"h6",children:["Course Schedule (",w.schedule.length," weeks)"]})}),h.jsx(Ed,{children:h.jsx(fe,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.schedule.map((N,R)=>h.jsx(Sn,{sx:{p:2,backgroundColor:"grey.50"},children:h.jsxs(xt,{container:!0,spacing:2,alignItems:"center",children:[h.jsx(xt,{item:!0,xs:12,sm:1,children:h.jsx(cr,{label:`W${N.week}`,size:"small",color:"primary"})}),h.jsx(xt,{item:!0,xs:12,sm:5,children:s?h.jsx(Ut,{fullWidth:!0,size:"small",label:"Topic",value:N.topic,onChange:F=>A(R,"topic",F.target.value)}):h.jsx(de,{variant:"body2",sx:{fontWeight:500},children:N.topic})}),h.jsx(xt,{item:!0,xs:12,sm:6,children:s?h.jsx(Ut,{fullWidth:!0,size:"small",label:"Description",value:N.description||"",onChange:F=>A(R,"description",F.target.value)}):h.jsx(de,{variant:"body2",color:"text.secondary",children:N.description||"No description"})})]})},R))})})]}),(((C=w.prerequisites)==null?void 0:C.length)||w.textbook||w.grading)&&h.jsxs(h.Fragment,{children:[h.jsx(es,{sx:{my:3}}),h.jsx(de,{variant:"h6",sx:{mb:2},children:"Additional Information"}),h.jsxs(xt,{container:!0,spacing:2,children:[w.prerequisites&&w.prerequisites.length>0&&h.jsxs(xt,{item:!0,xs:12,md:4,children:[h.jsx(de,{variant:"subtitle2",sx:{mb:1},children:"Prerequisites:"}),h.jsx(de,{variant:"body2",color:"text.secondary",children:w.prerequisites.join(", ")})]}),w.textbook&&h.jsxs(xt,{item:!0,xs:12,md:4,children:[h.jsx(de,{variant:"subtitle2",sx:{mb:1},children:"Textbook:"}),h.jsx(de,{variant:"body2",color:"text.secondary",children:w.textbook})]}),w.grading&&h.jsxs(xt,{item:!0,xs:12,md:4,children:[h.jsx(de,{variant:"subtitle2",sx:{mb:1},children:"Grading:"}),h.jsx(de,{variant:"body2",color:"text.secondary",children:w.grading})]})]})]}),e&&h.jsx(fe,{sx:{mt:4,textAlign:"right"},children:h.jsx(At,{variant:"contained",color:"primary",size:"large",onClick:e,disabled:s,children:"Continue to Materials Preview"})})]})}):null},FX=({onContinue:e,onBack:n})=>{const{generatedMaterials:t,editMaterial:r,error:i}=Tp(),[a,s]=Q.useState(null),[l,u]=Q.useState(null);if(!t.length)return h.jsx(vr,{severity:"warning",children:"No materials generated. Please go back and process a syllabus first."});const d=w=>{s({index:w,material:{...t[w]}})},f=()=>{a&&(r(a.index,a.material),s(null))},g=()=>{s(null)},b=w=>{u(w)},m=w=>{const C=t[w];r(w,{published:!C.published})},x=(w,C=150)=>{const N=w.replace(/<[^>]*>/g,"");return N.length>C?N.substring(0,C)+"...":N},y=w=>w.toLowerCase().includes("overview")?h.jsx(Dd,{color:"primary"}):w.toLowerCase().includes("week")?h.jsx(X0,{color:"secondary"}):h.jsx(Dd,{color:"action"}),A=t.filter(w=>w.published).length;return h.jsxs(fe,{sx:{maxWidth:1e3,mx:"auto"},children:[h.jsxs(Sn,{sx:{p:3,mb:3},children:[h.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[h.jsx(de,{variant:"h5",component:"h2",children:"Generated Course Materials"}),h.jsx(cr,{label:`${A}/${t.length} will be published`,color:"primary",variant:"outlined"})]}),h.jsx(de,{variant:"body2",color:"text.secondary",children:"Review and customize the course materials generated from your syllabus. You can edit content, toggle publication status, and organize materials before creating your course."}),i&&h.jsx(vr,{severity:"error",sx:{mt:2},children:i})]}),h.jsx(xt,{container:!0,spacing:3,children:t.map((w,C)=>h.jsx(xt,{item:!0,xs:12,md:6,lg:4,children:h.jsxs(Xa,{sx:{height:"100%",display:"flex",flexDirection:"column",border:w.published?"2px solid":"1px solid",borderColor:w.published?"success.main":"divider"},children:[h.jsxs(Za,{sx:{flexGrow:1},children:[h.jsxs(fe,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[y(w.title),h.jsxs(fe,{sx:{flexGrow:1},children:[h.jsx(de,{variant:"h6",component:"h3",sx:{fontSize:"1rem",lineHeight:1.3,mb:1},children:w.title}),h.jsxs(fe,{sx:{display:"flex",gap:1,alignItems:"center"},children:[h.jsx(_d,{control:h.jsx(kd,{checked:w.published,onChange:()=>m(C),size:"small"}),label:h.jsx(de,{variant:"caption",children:w.published?"Publish":"Draft"}),sx:{mr:0}}),w.scheduledTimestamp&&h.jsx(cr,{label:"Scheduled",size:"small",variant:"outlined",color:"info"})]})]})]}),h.jsxs(de,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[h.jsx("strong",{children:"Sections:"})," ",w.sections.length]}),w.sections[0]&&h.jsxs(fe,{sx:{mb:2},children:[h.jsx(de,{variant:"subtitle2",sx:{mb:1},children:w.sections[0].title}),h.jsx(de,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem",fontStyle:"italic"},children:x(w.sections[0].content)})]})]}),h.jsxs(tT,{children:[h.jsx(At,{size:"small",startIcon:h.jsx(O6,{}),onClick:()=>b(w),children:"Preview"}),h.jsx(At,{size:"small",startIcon:h.jsx(xu,{}),onClick:()=>d(C),children:"Edit"})]})]})},w.id))}),h.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[n&&h.jsx(At,{variant:"outlined",onClick:n,size:"large",children:"Back to Course Info"}),e&&h.jsxs(At,{variant:"contained",color:"primary",onClick:e,size:"large",disabled:A===0,children:["Create Course with ",A," Materials"]})]}),h.jsxs(Ki,{open:a!==null,onClose:g,maxWidth:"md",fullWidth:!0,children:[h.jsxs(fa,{children:["Edit Material: ",a==null?void 0:a.material.title]}),h.jsx(Xi,{children:a&&h.jsxs(fe,{sx:{pt:1},children:[h.jsx(Ut,{fullWidth:!0,label:"Material Title",value:a.material.title,onChange:w=>s({...a,material:{...a.material,title:w.target.value}}),sx:{mb:3}}),h.jsx(de,{variant:"h6",sx:{mb:2},children:"Header"}),h.jsx(Ut,{fullWidth:!0,label:"Header Title",value:a.material.header.title,onChange:w=>s({...a,material:{...a.material,header:{...a.material.header,title:w.target.value}}}),sx:{mb:2}}),h.jsx(Ut,{fullWidth:!0,multiline:!0,rows:2,label:"Header Content",value:a.material.header.content,onChange:w=>s({...a,material:{...a.material,header:{...a.material.header,content:w.target.value}}}),sx:{mb:3}}),h.jsx(de,{variant:"h6",sx:{mb:2},children:"Sections"}),a.material.sections.map((w,C)=>h.jsxs(Ad,{sx:{mb:2},children:[h.jsx(Cd,{expandIcon:h.jsx(Wo,{}),children:h.jsx(de,{children:w.title})}),h.jsxs(Ed,{children:[h.jsx(Ut,{fullWidth:!0,label:"Section Title",value:w.title,onChange:N=>{const R=[...a.material.sections];R[C]={...R[C],title:N.target.value},s({...a,material:{...a.material,sections:R}})},sx:{mb:2}}),h.jsx(Ut,{fullWidth:!0,multiline:!0,rows:4,label:"Section Content",value:w.content,onChange:N=>{const R=[...a.material.sections];R[C]={...R[C],content:N.target.value},s({...a,material:{...a.material,sections:R}})}})]})]},w.id))]})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:g,children:"Cancel"}),h.jsx(At,{onClick:f,variant:"contained",children:"Save Changes"})]})]}),h.jsxs(Ki,{open:l!==null,onClose:()=>u(null),maxWidth:"md",fullWidth:!0,children:[h.jsx(fa,{children:l==null?void 0:l.title}),h.jsx(Xi,{children:l&&h.jsxs(fe,{sx:{pt:1},children:[h.jsxs(Sn,{sx:{p:2,mb:3,backgroundColor:"primary.50"},children:[h.jsx(de,{variant:"h6",color:"primary",children:l.header.title}),h.jsx(de,{variant:"body2",sx:{mt:1},children:l.header.content.replace(/<[^>]*>/g,"")})]}),l.sections.map(w=>h.jsxs(fe,{sx:{mb:3},children:[h.jsx(de,{variant:"h6",sx:{mb:2},children:w.title}),h.jsx(de,{variant:"body1",sx:{mb:2},children:w.content.replace(/<[^>]*>/g,"")}),w.subsections.map(C=>h.jsxs(fe,{sx:{ml:2,mb:2},children:[h.jsx(de,{variant:"subtitle1",sx:{mb:1},children:C.title}),h.jsx(de,{variant:"body2",color:"text.secondary",children:C.content.replace(/<[^>]*>/g,"")})]},C.id))]},w.id)),h.jsx(Sn,{sx:{p:2,backgroundColor:"grey.50"},children:h.jsx(de,{variant:"body2",color:"text.secondary",children:l.footer.content.replace(/<[^>]*>/g,"")})})]})}),h.jsx(ha,{children:h.jsx(At,{onClick:()=>u(null),children:"Close"})})]})]})},PX=({onConfigChange:e,compact:n=!1})=>{const{useAIProcessing:t,setUseAIProcessing:r}=Tp(),[i,a]=Q.useState(null);Q.useEffect(()=>{const{config:f,isValid:g,errors:b}=SI();a({config:f,isValid:g,errors:b})},[]);const s=f=>{if(r(f),i){const g={...i.config,enableAIProcessing:f},b=wI(g);a({config:g,...b}),e==null||e(g)}},l=()=>i?i.isValid&&t?h.jsx(Pg,{color:"success"}):!i.isValid&&t?h.jsx(_R,{color:"error"}):h.jsx(_x,{color:"action"}):h.jsx(_x,{color:"action"}),u=()=>t?i?i.isValid?"AI processing ready - enhanced syllabus analysis enabled":`Configuration issues: ${i.errors.join(", ")}`:"Loading configuration...":"AI processing disabled - using pattern-based parsing",d=()=>t?i?i.isValid?"success":"error":"info":"warning";return n?h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:2},children:[l(),h.jsx(_d,{control:h.jsx(kd,{checked:t,onChange:f=>s(f.target.checked),size:"small"}),label:"AI Processing"}),h.jsx(Si,{title:u(),children:h.jsx(ER,{fontSize:"small",color:"action"})})]}):h.jsx(Sn,{sx:{p:2,mb:2},children:h.jsxs(Ad,{children:[h.jsx(Cd,{expandIcon:h.jsx(Wo,{}),children:h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[l(),h.jsxs(fe,{sx:{flexGrow:1},children:[h.jsx(de,{variant:"subtitle1",sx:{fontWeight:500},children:"AI-Powered Processing Settings"}),h.jsx(de,{variant:"caption",color:"text.secondary",children:u()})]}),h.jsx(cr,{label:t?"Enabled":"Disabled",color:t?"success":"default",size:"small"})]})}),h.jsx(Ed,{children:h.jsxs(xt,{container:!0,spacing:3,children:[h.jsx(xt,{item:!0,xs:12,children:h.jsx(_d,{control:h.jsx(kd,{checked:t,onChange:f=>s(f.target.checked)}),label:h.jsxs(fe,{children:[h.jsx(de,{variant:"body2",sx:{fontWeight:500},children:"Enable AI-Powered Analysis"}),h.jsx(de,{variant:"caption",color:"text.secondary",children:"Use Google Gemini to extract structured information from syllabi"})]})})}),t&&h.jsx(xt,{item:!0,xs:12,children:h.jsxs(Sn,{sx:{p:2,backgroundColor:i!=null&&i.isValid?"success.50":"error.50",border:"1px solid",borderColor:i!=null&&i.isValid?"success.200":"error.200"},children:[h.jsx(de,{variant:"subtitle2",sx:{mb:1,color:i!=null&&i.isValid?"success.main":"error.main"},children:i!=null&&i.isValid?" API Configuration":" API Configuration"}),h.jsx(de,{variant:"body2",color:"text.secondary",children:i!=null&&i.isValid?"Gemini API key is configured and ready for use.":"Gemini API key is required. Please add VITE_GEMINI_API_KEY to your environment variables."})]})}),h.jsx(xt,{item:!0,xs:12,children:h.jsxs(vr,{severity:d(),sx:{mb:2},children:[h.jsx(de,{variant:"body2",children:u()}),(i==null?void 0:i.errors)&&i.errors.length>0&&h.jsx(fe,{sx:{mt:1},children:i.errors.map((f,g)=>h.jsxs(de,{variant:"caption",display:"block",children:[" ",f]},g))})]})}),t&&(i==null?void 0:i.isValid)&&h.jsx(xt,{item:!0,xs:12,children:h.jsxs(Sn,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200"},children:[h.jsx(de,{variant:"subtitle2",sx:{mb:1,color:"primary.main"},children:" Enhanced Features with AI:"}),h.jsxs(xt,{container:!0,spacing:1,children:[h.jsxs(xt,{item:!0,xs:12,sm:6,children:[h.jsx(de,{variant:"caption",display:"block",children:" Intelligent course information extraction"}),h.jsx(de,{variant:"caption",display:"block",children:" Automatic learning objectives identification"}),h.jsx(de,{variant:"caption",display:"block",children:" Smart schedule parsing and organization"})]}),h.jsxs(xt,{item:!0,xs:12,sm:6,children:[h.jsx(de,{variant:"caption",display:"block",children:" Grading policy analysis"}),h.jsx(de,{variant:"caption",display:"block",children:" Assignment and due date extraction"}),h.jsx(de,{variant:"caption",display:"block",children:" Enhanced material generation"})]})]})]})}),!t&&h.jsx(xt,{item:!0,xs:12,children:h.jsxs(Sn,{sx:{p:2,backgroundColor:"warning.50",border:"1px solid",borderColor:"warning.200"},children:[h.jsx(de,{variant:"subtitle2",sx:{mb:1,color:"warning.main"},children:" Pattern-Based Processing:"}),h.jsx(de,{variant:"caption",color:"text.secondary",children:"Using traditional text parsing methods. Results may be less accurate than AI processing. Enable AI processing for better extraction accuracy."})]})})]})})]})})},AI=({onComplete:e,onCancel:n,educatorUid:t})=>{const{currentStep:r,setCurrentStep:i,parsedCourseInfo:a,generatedMaterials:s,isProcessing:l,error:u,useAIProcessing:d,processingProgress:f,reset:g}=Tp(),[b,m]=Q.useState(null);at.useEffect(()=>{const{config:q}=SI();m(q)},[]);const x=[{label:"Upload Syllabus",description:"Upload your syllabus document"},{label:"Review Course Info",description:"Verify and edit course information"},{label:"Review Materials",description:"Customize generated course materials"}],y=()=>{switch(r){case"upload":case"processing":return 0;case"review":return 1;case"editing":return 2;case"complete":return 2;default:return 0}},A=()=>{i("editing")},w=()=>{i("review")},C=()=>{if(a&&s.length>0){const q=s.filter(k=>k.published);e==null||e({courseInfo:a,materials:q})}},N=()=>{g(),n==null||n()},R=q=>{m(q)},F=()=>{switch(r){case"upload":case"processing":return h.jsx(g4,{onUploadComplete:()=>{},educatorUid:t});case"review":return h.jsx(MX,{onContinue:A});case"editing":case"complete":return h.jsx(FX,{onContinue:C,onBack:w});default:return h.jsx(g4,{onUploadComplete:()=>{},educatorUid:t})}};return h.jsxs(fe,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:3},children:[h.jsxs(Sn,{sx:{p:3,mb:4},children:[h.jsx(de,{variant:"h4",component:"h1",gutterBottom:!0,children:"Import Course from Syllabus"}),h.jsx(de,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Upload your syllabus document and we'll automatically create a course structure with organized materials based on your content."}),h.jsx(kR,{activeStep:y(),alternativeLabel:!0,children:x.map(q=>h.jsx(NR,{children:h.jsxs(jR,{children:[h.jsx(de,{variant:"body2",sx:{fontWeight:500},children:q.label}),h.jsx(de,{variant:"caption",color:"text.secondary",children:q.description})]})},q.label))})]}),r==="upload"&&h.jsx(PX,{onConfigChange:R,compact:!1}),u&&h.jsx(vr,{severity:"error",sx:{mb:3},onClose:()=>{},children:u}),l&&h.jsx(vr,{severity:"info",sx:{mb:3},children:h.jsx(de,{variant:"body2",children:d?" AI is analyzing your syllabus for enhanced data extraction... This usually takes 10-30 seconds.":" Processing your syllabus with pattern-based analysis... This usually takes a moment."})}),h.jsx(fe,{sx:{minHeight:400},children:F()}),r!=="upload"&&n&&h.jsx(fe,{sx:{display:"flex",justifyContent:"center",mt:3},children:h.jsx(At,{variant:"outlined",color:"secondary",onClick:N,size:"small",children:"Cancel & Return to Manual Entry"})})]})},Qx=e=>{if(e==null)return null;if(e instanceof Date)return e;if(Array.isArray(e))return e.map(Qx).filter(n=>n!=null);if(typeof e=="object"){const n={};return Object.keys(e).forEach(t=>{const r=e[t];if(r!==void 0){const i=Qx(r);i!=null&&(n[t]=i)}}),n}return e},zX=()=>{const{userDetails:e}=Ai(),n=ma(),t=Zn(),[r,i]=Q.useState(""),[a,s]=Q.useState(""),[l,u]=Q.useState(""),[d,f]=Q.useState(""),[g,b]=Q.useState(""),[m,x]=Q.useState(""),[y,A]=Q.useState(""),[w,C]=Q.useState("primary"),[N,R]=Q.useState("manual"),{parsedCourseInfo:F,generatedMaterials:q,reset:k,currentStep:L}=Tp(),[B,X]=Q.useState(!1),[j,O]=Q.useState(!1),[P,T]=Q.useState("");Q.useEffect(()=>{(N==="manual"||w==="co-instructor")&&k()},[N,w,k]),Q.useEffect(()=>{w==="primary"&&N==="syllabus"&&F&&(b(F.suggestedNumber||""),x(F.suggestedTitle||""),A(F.suggestedDescription||""))},[w,N,F]);const G=Z=>ee=>{Z(ee.target.value)},W=Z=>{const ee=Z.target.value;C(ee),ee==="co-instructor"&&(R("manual"),b(""),x(""),A(""))},K=(Z,ee)=>{ee!==null&&(R(ee),ee==="syllabus"&&(b(""),x(""),A("")))},ie=()=>{if(!r||!a||!l||!d||!g||!m)return"Please fill in all required fields.";if(w==="primary"){if(N==="manual"&&!y)return"Please provide a course description.";if(N==="syllabus"){if(!F)return"Please complete the syllabus import process first.";if(!y)return"Please ensure course description is properly filled from your syllabus."}}return null},ue=Z=>{console.log("Syllabus import completed for educator request:",Z)},$=async()=>{const Z=ie();if(Z){T(Z),O(!0);return}X(!0);try{const ee={uid:(e==null?void 0:e.uid)||"",firstName:r||"",lastName:a||"",institution:l||"",email:d||"",courseNumber:g||"",courseTitle:m||"",courseDescription:w==="primary"?y||"":"CO-INSTRUCTOR REQUEST",requestType:w||"primary",status:"pending",timestamp:new Date,syllabusImported:!1};if(w==="primary"&&N==="syllabus"&&F&&q.length>0){const Ee={parsedCourseInfo:F,generatedMaterials:q.filter(Re=>Re.published)},Ie=Qx(Ee);ee.syllabusImported=!0,ee.syllabusData=Ie}const se=Qx(ee);console.log("Submitting clean educator request document:",se);const we=await Ma(xn(t,"educatorRequests"),se),xe={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Educator Request Submitted${w==="primary"&&N==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new educator request has been submitted:</p>
            <p><strong>Name:</strong> ${r} ${a}</p>
            <p><strong>Email:</strong> ${d}</p>
            <p><strong>Institution:</strong> ${l}</p>
            <p><strong>Course:</strong> ${g} - ${m}</p>
            <p><strong>Request Type:</strong> ${w}</p>
            ${w==="primary"?`<p><strong>Course Creation Method:</strong> ${N==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>`:""}
            ${w==="primary"&&N==="syllabus"&&q.length>0?`<p><strong>Generated Materials:</strong> ${q.filter(Ee=>Ee.published).length} materials ready for publication</p>`:""}
            <p><strong>Description:</strong> ${y}</p>
            <p><strong>Request ID:</strong> ${we.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/educator-requests">
            Click here to review the request.
            </a></p>
          `}};await Ma(xn(t,"mail"),xe),T(w==="primary"&&N==="syllabus"&&q.length>0?`Your educator request has been submitted for review with ${q.filter(Ee=>Ee.published).length} auto-generated course materials.`:"Your request has been submitted for review."),i(""),s(""),u(""),f(""),b(""),x(""),A(""),C("primary"),R("manual"),N==="syllabus"&&k(),O(!0),setTimeout(()=>{n("/my-profile")},3e3)}catch(ee){console.error("Error submitting request: ",ee),ee instanceof Error&&console.error("Error details:",{message:ee.message,name:ee.name,stack:ee.stack}),T("Error submitting your request. Please try again."),O(!0)}finally{X(!1)}},ae=()=>{O(!1)},U=w==="primary"&&N==="syllabus"&&L!=="upload"&&!F,z=w==="primary"&&N==="syllabus"&&(L==="review"||L==="editing"||L==="complete")&&F;return h.jsx(fe,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:h.jsxs(fe,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[h.jsx(de,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Educator Permissions"}),h.jsxs(xt,{item:!0,xs:12,sx:{mb:3},children:[h.jsx(pu,{htmlFor:"request-type",required:!0,children:"Request Type"}),h.jsxs(Ll,{id:"request-type",name:"request-type",value:w,onChange:W,fullWidth:!0,required:!0,disabled:B,sx:{mt:1},children:[h.jsx(Xn,{value:"primary",children:"I am a primary course instructor, I want to create a new course"}),h.jsx(Xn,{value:"co-instructor",children:"I am a co-instructor, I want to be added to an existing course"})]})]}),h.jsx(de,{variant:"h6",component:"h2",sx:{mb:2},children:"Personal Information"}),h.jsxs(xt,{container:!0,spacing:3,children:[h.jsxs(xt,{item:!0,xs:12,md:6,children:[h.jsx(pu,{htmlFor:"first-name",required:!0,children:"First Name"}),h.jsx(uc,{id:"first-name",name:"first-name",value:r,onChange:G(i),placeholder:"John",fullWidth:!0,required:!0,disabled:B})]}),h.jsxs(xt,{item:!0,xs:12,md:6,children:[h.jsx(pu,{htmlFor:"last-name",required:!0,children:"Last Name"}),h.jsx(uc,{id:"last-name",name:"last-name",value:a,onChange:G(s),placeholder:"Doe",fullWidth:!0,required:!0,disabled:B})]}),h.jsxs(xt,{item:!0,xs:12,children:[h.jsx(pu,{htmlFor:"institution",required:!0,children:"Institution Affiliation"}),h.jsx(uc,{id:"institution",name:"institution",value:l,onChange:G(u),placeholder:"University Name",fullWidth:!0,required:!0,disabled:B})]}),h.jsxs(xt,{item:!0,xs:12,children:[h.jsx(pu,{htmlFor:"email",required:!0,children:"Institutional Email"}),h.jsx(uc,{id:"email",name:"email",value:d,onChange:G(f),placeholder:"name@institution.edu",fullWidth:!0,required:!0,disabled:B}),h.jsx(de,{variant:"caption",sx:{mt:1},children:"Please use your institutional email to confirm your affiliation."})]})]}),h.jsx(es,{sx:{my:4}}),h.jsx(de,{variant:"h6",component:"h2",sx:{mb:2},children:w==="primary"?"New Course Details":"Existing Course Details"}),w==="primary"&&h.jsxs(Sn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[h.jsx(de,{variant:"subtitle1",sx:{mb:2},children:"How would you like to create your course?"}),h.jsxs(j6,{value:N,exclusive:!0,onChange:K,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[h.jsxs(Z0,{value:"manual","aria-label":"manual entry",children:[h.jsx(xu,{sx:{mr:1}}),"Manual Entry"]}),h.jsxs(Z0,{value:"syllabus","aria-label":"syllabus import",children:[h.jsx(nT,{sx:{mr:1}}),"Import from Syllabus"]})]}),h.jsx(de,{variant:"body2",color:"text.secondary",children:N==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),w==="primary"&&N==="syllabus"&&h.jsx(fe,{sx:{mb:4},children:h.jsx(AI,{onComplete:ue,onCancel:()=>R("manual")})}),(w==="co-instructor"||w==="primary"&&N==="manual")&&h.jsxs(xt,{container:!0,spacing:3,sx:{mb:4},children:[h.jsxs(xt,{item:!0,xs:12,md:6,children:[h.jsx(pu,{htmlFor:"course-number",required:!0,children:"Course Number"}),h.jsx(uc,{id:"course-number",name:"course-number",value:g,onChange:G(b),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:B})]}),h.jsxs(xt,{item:!0,xs:12,md:6,children:[h.jsx(pu,{htmlFor:"course-title",required:!0,children:"Course Title"}),h.jsx(uc,{id:"course-title",name:"course-title",value:m,onChange:G(x),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:B})]}),w==="primary"&&h.jsxs(xt,{item:!0,xs:12,children:[h.jsx(pu,{htmlFor:"course-description",required:!0,children:"Course Description"}),h.jsx(uc,{id:"course-description",name:"course-description",value:y,onChange:G(A),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:B})]})]}),(w==="co-instructor"||w==="primary"&&N==="manual"||z)&&h.jsxs(fe,{sx:{mt:4},children:[h.jsx(At,{variant:"contained",color:"primary",onClick:$,fullWidth:!0,className:"submit-button",sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},disabled:B||U,children:B?h.jsxs(h.Fragment,{children:[h.jsx(Jr,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${w==="primary"&&N==="syllabus"&&q.length>0?` with ${q.filter(Z=>Z.published).length} Materials`:""}`}),h.jsxs(de,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",h.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),h.jsxs(Ki,{open:j,onClose:ae,children:[h.jsx(fa,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(Pg,{sx:{color:"green",fontSize:50,marginRight:1}})}),h.jsx(Xi,{children:h.jsx(Ml,{sx:{textAlign:"center"},children:P})}),h.jsx(ha,{children:h.jsx(At,{onClick:ae,color:"primary",autoFocus:!0,children:"Close"})})]})]})})},qX=({requests:e,loading:n=!1,onApprove:t,onDeny:r})=>{const i=s=>{switch(s.toLowerCase()){case"approved":return"success";case"pending":return"warning";case"denied":return"error";default:return"default"}},a=[{id:"firstName",label:"Name",width:"15%",render:(s,l)=>h.jsx(Rs,{text:`${s} ${l.lastName}`,weight:"semibold"})},{id:"uid",label:"User ID",width:"15%",render:s=>h.jsx(uh,{userId:s,userType:"student"})},{id:"institution",label:"Institution",width:"15%",render:s=>h.jsx(Rs,{text:s,maxLength:30})},{id:"email",label:"Email",width:"15%",render:s=>h.jsx(Rs,{text:s,maxLength:30,variant:"monospace"})},{id:"courseNumber",label:"Course",width:"15%",render:(s,l)=>h.jsx(vp,{courseId:l.courseId||"",courseNumber:s,courseTitle:l.courseTitle,variant:"link",maxTitleLength:30})},{id:"timestamp",label:"Submitted",width:"12%",render:s=>h.jsx(wp,{date:new Date(s.seconds*1e3),format:"full"})},{id:"status",label:"Status",width:"8%",render:s=>h.jsx(pv,{label:s,status:i(s)})},{id:"actions",label:"Actions",width:"10%",align:"center",render:(s,l)=>{const u=l.status==="pending";return h.jsx(Hg,{actions:[{icon:Ld.add,tooltip:u?"Approve Request":"Already processed",onClick:()=>t(l.id),disabled:!u,color:ge.success,hoverColor:ge.success+"20"},{icon:Ld.delete,tooltip:u?"Deny Request":"Already processed",onClick:()=>r(l.id),disabled:!u,color:ge.error,hoverColor:ge.error+"20"}]})}}];return h.jsx(lh,{data:e,columns:a,loading:n,emptyMessage:"No educator permission requests found.",maxHeight:"600px",stickyHeader:!0})},BX=()=>{const[e,n]=Q.useState([]),[t,r]=Q.useState([]),[i,a]=Q.useState(""),[s,l]=Q.useState(!1),[u,d]=Q.useState(""),[f,g]=Q.useState("success"),[b,m]=Q.useState(!1),[x,y]=Q.useState(null),[A,w]=Q.useState(null),[C,N]=Q.useState(null),R=Zn();ma(),Q.useEffect(()=>{(async()=>{const P=(await pi(xn(R,"educatorRequests"))).docs.map(W=>({id:W.id,...W.data()})),G=(await pi(xn(R,"courses"))).docs.map(W=>({id:W.id,...W.data()}));n(P),r(G)})()},[R]);function F(){const j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let O="";for(let P=0;P<28;P++)O+=j.charAt(Math.floor(Math.random()*j.length));return O}const q=async()=>{var j,O;if(!(!A||!C)){if(!C.courseNumber||!C.courseTitle){d("Course number or title is missing. Cannot approve request."),g("error"),l(!0);return}if(C.requestType==="co-instructor"&&!i){d("Please select a course for the co-instructor request."),g("error"),l(!0);return}if(C.status!=="pending"){d("This request has already been processed."),g("warning"),l(!0);return}try{const P=bn(R,"users",C.uid);if(C.requestType==="primary"){const T=F(),G=await Ma(xn(R,"courses"),{number:C.courseNumber,title:C.courseTitle,passcode:T,courseAdmin:[C.uid],createdAt:new Date,courseCreatedAt:new Date}),W=await Oa(P),K=W.exists()?((j=W.data())==null?void 0:j.classes)||{}:{};await Wr(P,{isAdmin:!0,classes:{...K,[G.id]:{number:C.courseNumber,title:C.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}}),await Wr(bn(R,"educatorRequests",A),{status:"approved",courseId:G.id,passcode:T})}else if(C.requestType==="co-instructor"){if(!i){d("Please select a course for the co-instructor request."),g("error"),l(!0);return}const T=bn(R,"courses",i);await Wr(T,{courseAdmin:o3(C.uid)});const G=await Oa(P),W=G.exists()?((O=G.data())==null?void 0:O.classes)||{}:{};await Wr(P,{isAdmin:!0,classes:{...W,[i]:{number:C.courseNumber,title:C.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}}),await Wr(bn(R,"educatorRequests",A),{status:"approved",courseId:i})}d("Request approved, and user promoted to educator."),g("success"),n(T=>T.map(G=>G.id===A?{...G,status:"approved"}:G))}catch(P){console.error("Error approving request: ",P),d("Error approving the request. Please try again."),g("error")}l(!0),B()}},k=async()=>{if(A){try{await Wr(bn(R,"educatorRequests",A),{status:"denied"}),d("Request denied."),g("success"),n(e.map(j=>j.id===A?{...j,status:"denied"}:j))}catch(j){console.error("Error denying request: ",j),d("Error denying the request. Please try again."),g("error")}l(!0),B()}},L=(j,O,P)=>{y(j),w(O),N(P),a(""),m(!0)},B=()=>{m(!1),y(null),w(null),N(null)},X=()=>{l(!1)};return h.jsxs(fe,{sx:{p:gt[6],backgroundColor:ge.background.primary,minHeight:"100vh"},children:[h.jsx(Fl,{title:"Educator Permission Requests"}),h.jsx(de,{variant:"body1",sx:{mb:gt[4],color:ge.text.secondary},children:"Review and manage educator permission requests from users seeking to become course instructors."}),h.jsx(qX,{requests:e,loading:!1,onApprove:j=>{const O=e.find(P=>P.id===j);O&&L("approve",j,O)},onDeny:j=>L("deny",j,null)}),h.jsx(nl,{open:s,autoHideDuration:6e3,onClose:X,children:h.jsx(vr,{onClose:X,severity:f,sx:{width:"100%"},children:u})}),h.jsxs(Ki,{open:b,onClose:B,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[h.jsx(fa,{id:"confirmation-dialog-title",children:x==="approve"?"Confirm Approval":"Confirm Denial"}),h.jsxs(Xi,{children:[h.jsxs(Ml,{id:"confirmation-dialog-description",children:["Are you sure you want to ",x," this request for ",C==null?void 0:C.firstName," ",C==null?void 0:C.lastName,"?"]}),x==="approve"&&(C==null?void 0:C.requestType)==="co-instructor"&&h.jsxs(fe,{sx:{mt:2},children:[h.jsx(de,{children:"Select Course:"}),h.jsx(Ll,{fullWidth:!0,value:i,onChange:j=>a(j.target.value),children:t.map(j=>h.jsx(Xn,{value:j.id,children:`${j.number} - ${j.title}`},j.id))})]})]}),h.jsxs(ha,{children:[h.jsx(At,{onClick:B,color:"primary",children:"Cancel"}),h.jsx(At,{onClick:x==="approve"?q:k,color:"primary",variant:"contained",autoFocus:!0,disabled:(C==null?void 0:C.requestType)==="co-instructor"&&!i,children:"Confirm"})]})]})]})},Kx=e=>{if(e==null)return null;if(e instanceof Date)return e;if(Array.isArray(e))return e.map(Kx).filter(n=>n!=null);if(typeof e=="object"){const n={};return Object.keys(e).forEach(t=>{const r=e[t];if(r!==void 0){const i=Kx(r);i!=null&&(n[t]=i)}}),n}return e},UX=()=>{const{userDetails:e}=Ai(),n=ma(),t=Zn(),[r,i]=Q.useState("manual"),[a,s]=Q.useState(""),[l,u]=Q.useState(""),[d,f]=Q.useState(""),{parsedCourseInfo:g,generatedMaterials:b,aiExtractedInfo:m,storedSyllabusFile:x,reset:y,currentStep:A}=Tp(),[w,C]=Q.useState(!1),[N,R]=Q.useState(!1),[F,q]=Q.useState("");Q.useEffect(()=>{r==="manual"&&y()},[r,y]),Q.useEffect(()=>{r==="syllabus"&&g&&(s(g.suggestedNumber||""),u(g.suggestedTitle||""),f(g.suggestedDescription||""))},[r,g]);const k=G=>W=>{G(W.target.value)},L=(G,W)=>{W!==null&&(i(W),W==="syllabus"&&(s(""),u(""),f("")))},B=()=>{if(r==="manual"){if(!a||!l||!d)return"Please fill in all required fields."}else if(r==="syllabus"){if(!g)return"Please complete the syllabus import process first.";if(!a||!l||!d)return"Please ensure course information is properly filled from your syllabus."}return null},X=G=>{console.log("Syllabus import completed:",G),j()},j=async()=>{const G=B();if(G){q(G),R(!0);return}C(!0);try{const W={uid:(e==null?void 0:e.uid)||"",courseNumber:a||"",courseTitle:l||"",courseDescription:d||"",status:"pending",timestamp:new Date,syllabusImported:!1};if(r==="syllabus"&&g&&b.length>0){const $={parsedCourseInfo:g,generatedMaterials:b.filter(U=>U.published),additionalInfo:m?{contactInfo:m.contactInfo,policies:m.policies,additionalResources:m.additionalResources,labSpecific:m.labSpecific,textbooks:m.textbooks,gradingPolicy:m.gradingPolicy,assignments:m.assignments,prerequisites:m.prerequisites}:null,syllabusFile:x?{url:x.url,path:x.path,metadata:x.metadata}:null},ae=Kx($);W.syllabusImported=!0,W.syllabusData=ae}const K=Kx(W);console.log("Submitting clean request document:",K);const ie=await Ma(xn(t,"courseRequests"),K),ue={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Course Request Submitted${r==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new course request has been submitted:</p>
            <p><strong>Educator ID:</strong> ${(e==null?void 0:e.uid)||"Unknown"}</p>
            <p><strong>Course:</strong> ${a} - ${l}</p>
            <p><strong>Description:</strong> ${d}</p>
            <p><strong>Creation Method:</strong> ${r==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>
            ${r==="syllabus"&&b.length>0?`<p><strong>Generated Materials:</strong> ${b.filter($=>$.published).length} materials ready for publication</p>`:""}
            <p><strong>Request ID:</strong> ${ie.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/course-requests">
            Click here to review the request.
            </a></p>
          `}};await Ma(xn(t,"mail"),ue),q(r==="syllabus"?`Your course request has been submitted for review with ${b.filter($=>$.published).length} auto-generated materials.`:"Your course request has been submitted for review."),s(""),u(""),f(""),r==="syllabus"&&y(),R(!0),setTimeout(()=>{n("/course-management")},3e3)}catch(W){console.error("Error submitting course request: ",W),W instanceof Error&&console.error("Error details:",{message:W.message,name:W.name,stack:W.stack}),q("Error submitting your course request. Please try again."),R(!0)}finally{C(!1)}},O=()=>{R(!1)},P=r==="syllabus"&&A!=="upload"&&!g,T=r==="syllabus"&&(A==="review"||A==="editing"||A==="complete")&&g;return h.jsx(fe,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:h.jsxs(fe,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[h.jsx(de,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Creating a New Course"}),h.jsxs(Sn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[h.jsx(de,{variant:"h6",sx:{mb:2},children:"How would you like to create your course?"}),h.jsxs(j6,{value:r,exclusive:!0,onChange:L,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[h.jsxs(Z0,{value:"manual","aria-label":"manual entry",children:[h.jsx(xu,{sx:{mr:1}}),"Manual Entry"]}),h.jsxs(Z0,{value:"syllabus","aria-label":"syllabus import",children:[h.jsx(nT,{sx:{mr:1}}),"Import from Syllabus"]})]}),h.jsx(de,{variant:"body2",color:"text.secondary",children:r==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),r==="syllabus"&&h.jsx(fe,{sx:{mb:4},children:h.jsx(AI,{onComplete:X,onCancel:()=>i("manual"),educatorUid:e==null?void 0:e.uid})}),r==="manual"&&h.jsxs(xt,{container:!0,spacing:3,children:[h.jsxs(xt,{item:!0,xs:12,md:6,children:[h.jsx(pu,{htmlFor:"course-number",required:!0,children:"Course Number"}),h.jsx(uc,{id:"course-number",name:"course-number",value:a,onChange:k(s),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:w})]}),h.jsxs(xt,{item:!0,xs:12,md:6,children:[h.jsx(pu,{htmlFor:"course-title",required:!0,children:"Course Title"}),h.jsx(uc,{id:"course-title",name:"course-title",value:l,onChange:k(u),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:w})]}),h.jsxs(xt,{item:!0,xs:12,children:[h.jsx(pu,{htmlFor:"course-description",required:!0,children:"Course Description"}),h.jsx(uc,{id:"course-description",name:"course-description",value:d,onChange:k(f),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:w})]})]}),(r==="manual"||T)&&h.jsxs(fe,{sx:{mt:4},children:[h.jsx(At,{variant:"contained",color:"primary",onClick:j,fullWidth:!0,className:"submit-button",disabled:w||P,sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},children:w?h.jsxs(h.Fragment,{children:[h.jsx(Jr,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${r==="syllabus"&&b.length>0?` with ${b.filter(G=>G.published).length} Materials`:""}`}),h.jsxs(de,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",h.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),h.jsxs(Ki,{open:N,onClose:O,children:[h.jsx(fa,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(Pg,{sx:{color:"green",fontSize:50,marginRight:1}})}),h.jsx(Xi,{children:h.jsx(Ml,{sx:{textAlign:"center"},children:F})}),h.jsx(ha,{children:h.jsx(At,{onClick:O,color:"primary",autoFocus:!0,children:"Close"})})]})]})})},$X=({requests:e,loading:n=!1,onApprove:t,onDeny:r,onViewSyllabus:i})=>{const a=u=>{switch(u.toLowerCase()){case"approved":return"success";case"pending":return"warning";case"denied":return"error";default:return"default"}},s=u=>u.syllabusImported?"Syllabus Import":"Manual Creation",l=[{id:"uid",label:"Educator ID",width:"15%",render:u=>h.jsx(uh,{userId:u,userType:"educator"})},{id:"courseNumber",label:"Course",width:"25%",render:(u,d)=>h.jsx(vp,{courseId:d.id||"",courseNumber:u,courseTitle:d.courseTitle,variant:"link",maxTitleLength:35})},{id:"courseDescription",label:"Description",width:"20%",render:u=>h.jsx(Rs,{text:u,maxLength:60,variant:"secondary"})},{id:"syllabusImported",label:"Creation Method",width:"12%",render:(u,d)=>h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Rs,{text:s(d)}),u&&i&&h.jsx(Si,{title:"View Syllabus Data",children:h.jsx(On,{size:"small",onClick:()=>i(d),sx:{color:ge.primary[600],"&:hover":{backgroundColor:ge.primary[100]}},children:h.jsx(Ex,{fontSize:"small"})})})]})},{id:"timestamp",label:"Submitted",width:"10%",render:u=>h.jsx(wp,{date:new Date(u.seconds*1e3),format:"full"})},{id:"status",label:"Status",width:"8%",render:u=>h.jsx(pv,{label:u,status:a(u)})},{id:"actions",label:"Actions",width:"10%",align:"center",render:(u,d)=>{const f=d.status==="pending";return h.jsx(Hg,{actions:[{icon:Ld.add,tooltip:f?"Approve Request":"Already processed",onClick:()=>t(d.id),disabled:!f,color:ge.success,hoverColor:ge.success+"20"},{icon:Ld.delete,tooltip:f?"Deny Request":"Already processed",onClick:()=>r(d.id),disabled:!f,color:ge.error,hoverColor:ge.error+"20"}]})}}];return h.jsx(lh,{data:e,columns:l,loading:n,emptyMessage:"No course creation requests found.",stickyHeader:!1})},HX=()=>{var k,L,B,X;const[e,n]=Q.useState([]),[t,r]=Q.useState(!1),[i,a]=Q.useState(""),[s,l]=Q.useState("success"),[u,d]=Q.useState(!1),[f,g]=Q.useState(null),[b,m]=Q.useState(null),[x,y]=Q.useState(null),A=Zn();Q.useEffect(()=>{(async()=>{try{const P=(await pi(xn(A,"courseRequests"))).docs.map(T=>({id:T.id,...T.data()}));P.sort((T,G)=>T.status==="pending"&&G.status!=="pending"||T.status==="approved"&&G.status==="denied"?-1:T.status==="denied"&&G.status==="approved"?1:0),n(P)}catch(O){console.error("Error fetching course requests: ",O)}})()},[A]);function w(){const j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let O="";for(let P=0;P<28;P++)O+=j.charAt(Math.floor(Math.random()*j.length));return O}const C=async()=>{var j,O,P,T;if(!(!b||!x)){try{const G=w(),W={number:x.courseNumber,title:x.courseTitle,description:x.courseDescription,passcode:G,courseAdmin:[x.uid],createdAt:new Date,courseCreatedAt:new Date};if(x.syllabusImported&&((j=x.syllabusData)!=null&&j.additionalInfo)){const z=x.syllabusData.additionalInfo;W.additionalInfo={contactInfo:z.contactInfo||{},policies:z.policies||{},additionalResources:z.additionalResources||{},labSpecific:z.labSpecific||{},textbooks:z.textbooks||[],gradingPolicy:z.gradingPolicy||[],assignments:z.assignments||[],prerequisites:z.prerequisites||[],lastUpdated:new Date}}x.syllabusImported&&((O=x.syllabusData)!=null&&O.syllabusFile)&&(W.syllabusFile=x.syllabusData.syllabusFile);const K=await Ma(xn(A,"courses"),W),ie=bn(A,"users",x.uid),ue=await Oa(ie),$=ue.exists()?((P=ue.data())==null?void 0:P.classes)||{}:{};await Wr(ie,{classes:{...$,[K.id]:{number:x.courseNumber,title:x.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}});let ae=0;if(x.syllabusImported&&((T=x.syllabusData)!=null&&T.generatedMaterials)){const z=D6(A);x.syllabusData.generatedMaterials.forEach(Z=>{const ee=bn(xn(A,"materials")),se={title:Z.title||"Untitled Material",header:Z.header||{title:"",content:""},footer:Z.footer||{title:"",content:""},sections:(Z.sections||[]).map(we=>({...we,images:we.images||[],links:we.links||[],subsections:(we.subsections||[]).map(xe=>({...xe,images:xe.images||[],links:xe.links||[],subSubsections:(xe.subSubsections||[]).map(Ee=>({...Ee,images:Ee.images||[],links:Ee.links||[]}))}))})),published:!0,course:K.id,author:x.uid,timestamp:Ta.now(),createdAt:new Date,updatedAt:new Date};Z.scheduledTimestamp&&(se.scheduledTimestamp=Ta.fromDate(Z.scheduledTimestamp)),z.set(ee,se),ae++}),await z.commit(),console.log(`Created ${ae} materials from syllabus`)}await Wr(bn(A,"courseRequests",b),{status:"approved",courseId:K.id,passcode:G});const U={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"Your Course Request Has Been Approved",html:`
            <p>Your course request has been approved:</p>
            <p><strong>Course:</strong> ${x.courseNumber} - ${x.courseTitle}</p>
            <p><strong>Passcode:</strong> ${G}</p>
            ${x.syllabusImported&&ae>0?`<p><strong>Materials Created:</strong> ${ae} materials have been automatically added to your course from your syllabus import.</p>`:""}
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/supplemental-materials">
            Click here to view your course.
            </a></p>
          `}};await Ma(xn(A,"mail"),U),a(`Course request approved, course added${ae>0?` with ${ae} materials`:""}.`),l("success"),n(z=>z.map(Z=>Z.id===b?{...Z,status:"approved"}:Z))}catch(G){console.error("Error approving request: ",G),a("Error approving the request. Please try again."),l("error")}r(!0),F()}},N=async()=>{if(b){try{await Wr(bn(A,"courseRequests",b),{status:"denied"}),a("Course request denied."),l("success"),n(e.map(j=>j.id===b?{...j,status:"denied"}:j))}catch(j){console.error("Error denying request: ",j),a("Error denying the request. Please try again."),l("error")}r(!0),F()}},R=(j,O,P)=>{g(j),m(O),y(P),d(!0)},F=()=>{d(!1),g(null),m(null),y(null)},q=()=>{r(!1)};return h.jsxs(fe,{sx:{p:gt[6],backgroundColor:ge.background.primary,minHeight:"100vh"},children:[h.jsx(Fl,{title:"Course Creation Requests"}),h.jsx(de,{variant:"body1",sx:{mb:gt[4],color:ge.text.secondary},children:"Review and approve course creation requests from educators."}),h.jsx($X,{requests:e,loading:!1,onApprove:j=>{const O=e.find(P=>P.id===j);O&&R("approve",j,O)},onDeny:j=>{const O=e.find(P=>P.id===j);O&&R("deny",j,O)},onViewSyllabus:j=>{var O;(O=j.syllabusData)!=null&&O.syllabusFile&&typeof j.syllabusData.syllabusFile=="object"&&j.syllabusData.syllabusFile!==null&&"url"in j.syllabusData.syllabusFile&&window.open(j.syllabusData.syllabusFile.url,"_blank")}}),h.jsxs(Ki,{open:u,onClose:F,children:[h.jsx(fa,{children:f==="approve"?"Approve Course Request":"Deny Course Request"}),h.jsx(Xi,{children:h.jsx(Ml,{children:f==="approve"?h.jsxs(h.Fragment,{children:["Are you sure you want to approve this course request?",(x==null?void 0:x.syllabusImported)&&h.jsxs(fe,{sx:{mt:2,p:2,backgroundColor:"#ECF4FE",borderRadius:1},children:[h.jsx(de,{variant:"body2",sx:{fontWeight:"bold"},children:" Syllabus Import Detected"}),h.jsxs(de,{variant:"body2",children:["This request includes ",((L=(k=x==null?void 0:x.syllabusData)==null?void 0:k.generatedMaterials)==null?void 0:L.length)||0," auto-generated materials that will be added to the course."]}),((B=x==null?void 0:x.syllabusData)==null?void 0:B.syllabusFile)&&h.jsxs(fe,{sx:{mt:1},children:[h.jsxs(de,{variant:"body2",sx:{mb:1},children:[h.jsx("strong",{children:"Syllabus File:"})," ",x.syllabusData.syllabusFile.metadata.originalFilename," ","(",(x.syllabusData.syllabusFile.metadata.fileSize/1024/1024).toFixed(2)," MB)"]}),h.jsx(At,{size:"small",variant:"outlined",startIcon:h.jsx(ug,{}),onClick:()=>{var j;(j=x.syllabusData)!=null&&j.syllabusFile&&"url"in x.syllabusData.syllabusFile&&window.open(x.syllabusData.syllabusFile.url,"_blank")},sx:{mt:.5},children:"View/Download Syllabus"})]}),((X=x==null?void 0:x.syllabusData)==null?void 0:X.additionalInfo)&&h.jsxs(de,{variant:"body2",sx:{mt:1},children:[h.jsx("strong",{children:"Additional Info:"})," Contact info, policies, textbooks, and other course details extracted"]})]})]}):"Are you sure you want to deny this course request?"})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:F,color:"primary",children:"Cancel"}),h.jsx(At,{onClick:f==="approve"?C:N,color:f==="approve"?"success":"error",variant:"contained",children:f==="approve"?"Approve":"Deny"})]})]}),h.jsx(nl,{open:t,autoHideDuration:6e3,onClose:q,children:h.jsx(vr,{onClose:q,severity:s,sx:{width:"100%"},children:i})})]})},WX=({courses:e,loading:n=!1,onAddSuperAdmin:t,onDeleteCourse:r,userUid:i})=>{const a=u=>!!i&&u.courseAdmin.includes(i),s=u=>u.length===0?h.jsx(Rs,{text:"No admins assigned",variant:"secondary"}):h.jsx(fe,{sx:{display:"flex",flexDirection:"column",gap:gt[1]},children:u.map((d,f)=>h.jsx(uh,{userId:d,userType:"educator"},f))}),l=[{id:"number",label:"Course",width:"35%",render:(u,d)=>{const f=a(d);return h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:gt[2]},children:[h.jsx(vp,{courseId:d.id,courseNumber:u,courseTitle:d.title,variant:"link",maxTitleLength:999}),f&&h.jsx(cr,{label:"ADMIN",size:"small",sx:{backgroundColor:ge.success,color:ge.text.inverse,fontSize:Be.fontSize.xs,fontWeight:Be.fontWeight.bold,height:"20px"}})]})}},{id:"id",label:"Course ID",width:"20%",render:u=>h.jsx(zT,{courseId:u})},{id:"courseAdmin",label:"Course Admins",width:"25%",render:u=>s(u)},{id:"actions",label:"Actions",width:"15%",align:"center",render:(u,d)=>{const f=a(d);return h.jsx(Hg,{actions:[{icon:Ld.add,tooltip:f?"Already an instructor":"Add yourself as an instructor",onClick:()=>t(d.id),disabled:f,color:ge.success,hoverColor:ge.success+"20"},{icon:Ld.delete,tooltip:f?"Delete this course":"You are not authorized to delete this course",onClick:()=>r(d.id),disabled:!f,color:ge.error,hoverColor:ge.error+"20"}]})}}];return h.jsx(lh,{data:e,columns:l,loading:n,emptyMessage:"No courses found.",stickyHeader:!1,showRowNumbers:!0})},VX=()=>{const e=Zn(),{userDetails:n}=Ai(),[t,r]=Q.useState([]),[i,a]=Q.useState(!0),[s,l]=Q.useState(!1),[u,d]=Q.useState(""),[f,g]=Q.useState("info"),[b,m]=Q.useState(!1),[x,y]=Q.useState(""),[A,w]=Q.useState("");ma(),Q.useEffect(()=>{(async()=>{a(!0);try{const X=(await pi(xn(e,"courses"))).docs.map(j=>{const O=j.data();return{id:j.id,title:O.title||"Untitled",number:O.number||"N/A",courseAdmin:O.courseAdmin||[]}});r(X)}catch(B){console.error("Error fetching courses: ",B)}finally{a(!1)}})()},[e]);const C=async L=>{if(!n){F("User details are not available.","error");return}const B=t.find(X=>X.id===L);if(B&&n)try{if(B.courseAdmin.includes(n.uid)){F("You are already an admin for this course.","warning");return}const X=bn(e,"courses",L),j=[...B.courseAdmin,n.uid];await Wr(X,{courseAdmin:j});const O=await Oa(X),P=O.exists()?O.data():null,T=(P==null?void 0:P.courseCreatedAt)||(P==null?void 0:P.createdAt)||(P==null?void 0:P.timestamp)||new Date,G=bn(e,"users",n.uid);await Wr(G,{[`classes.${L}`]:{number:B.number,title:B.title,isCourseAdmin:!0,courseCreatedAt:T,enrolledAt:new Date}}),r(t.map(W=>W.id===L?{...W,courseAdmin:j}:W)),F("You have been successfully added as an admin to this course.","success")}catch(X){console.error("Error adding super-admin to course: ",X),F("Failed to add admin to course.","error")}},N=L=>{w(L),m(!0)},R=async()=>{if(n&&x===n.uid){const L=t.find(B=>B.id===A);if(L&&L.courseAdmin.includes(n.uid))try{await I6(bn(e,"courses",A));const B=await pi(xn(e,"users")),X=D6(e);B.forEach(j=>{const O=bn(e,"users",j.id),T={...j.data().classes};delete T[A],X.update(O,{classes:T})}),await X.commit(),r(t.filter(j=>j.id!==A)),F("Course deleted successfully.","success")}catch(B){console.error("Error deleting course: ",B),F("Failed to delete course.","error")}finally{m(!1),y("")}else F("You are not authorized to delete this course.","warning"),m(!1)}else F("User ID does not match. Please try again.","error")},F=(L,B)=>{d(L),g(B),l(!0)},q=(L,B)=>{B!=="clickaway"&&l(!1)},k=()=>{m(!1),y("")};return h.jsxs(fe,{sx:{p:gt[6],backgroundColor:ge.background.primary,minHeight:"100vh"},children:[h.jsx(Fl,{title:"Super Admin Course Management"}),h.jsx(de,{variant:"body1",sx:{mb:gt[4],color:ge.text.secondary},children:"Manage all courses in the system. Add yourself as an instructor or delete courses you manage."}),h.jsx(WX,{courses:t,loading:i,onAddSuperAdmin:C,onDeleteCourse:N,userUid:n==null?void 0:n.uid}),h.jsx(nl,{open:s,autoHideDuration:6e3,onClose:q,children:h.jsx(vr,{onClose:q,severity:f,sx:{width:"100%"},children:u})}),h.jsxs(Ki,{open:b,onClose:k,children:[h.jsx(fa,{children:"Confirm Delete"}),h.jsxs(Xi,{children:[h.jsx(Ml,{children:"To confirm the deletion of this course, please enter your User ID:"}),h.jsx(Ut,{autoFocus:!0,margin:"dense",id:"userId",label:"User ID",type:"text",fullWidth:!0,variant:"outlined",value:x,onChange:L=>y(L.target.value)})]}),h.jsxs(ha,{children:[h.jsx(At,{onClick:k,color:"primary",children:"Cancel"}),h.jsx(At,{onClick:R,color:"primary",children:"Confirm"})]})]})]})},YX=({requests:e,loading:n=!1})=>{const t=i=>{switch(i.toLowerCase()){case"approved":return"success";case"pending":return"warning";case"denied":return"error";default:return"default"}},r=[{id:"title",label:"Title",width:"25%",render:i=>h.jsx(Rs,{text:i,maxLength:50,weight:"semibold"})},{id:"courseNumber",label:"Course",width:"20%",render:(i,a)=>h.jsx(vp,{courseId:a.courseId||"",courseNumber:i,courseTitle:a.courseTitle,variant:"link",maxTitleLength:30})},{id:"materialTitle",label:"Material",width:"20%",render:(i,a)=>i&&a.materialId?h.jsx(MT,{materialId:a.materialId,materialTitle:i,variant:"link",maxTitleLength:999}):h.jsx(Rs,{text:"N/A",variant:"secondary"})},{id:"timestamp",label:"Submitted",width:"15%",render:i=>h.jsx(wp,{date:new Date(i),format:"full"})},{id:"status",label:"Status",width:"10%",render:i=>h.jsx(pv,{label:i,status:t(i)})},{id:"files",label:"Files",width:"10%",render:i=>h.jsxs(fe,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[i&&i.length>0?i.slice(0,2).map((a,s)=>h.jsxs(Fg,{href:a,target:"_blank",rel:"noopener noreferrer",sx:{fontSize:"0.75rem",color:ge.primary[600],textDecoration:"none","&:hover":{textDecoration:"underline"}},children:["File ",s+1]},s)):h.jsx(Rs,{text:"No files",variant:"secondary"}),i&&i.length>2&&h.jsx(Rs,{text:`+${i.length-2} more`,variant:"secondary"})]})}];return h.jsx(lh,{data:e,columns:r,loading:n,emptyMessage:"No chatbot requests found. Submit your first request to get started!",maxHeight:"600px",stickyHeader:!0})},GX=()=>{const{userDetails:e}=Ai(),[n,t]=Q.useState([]),[r,i]=Q.useState(!0);return Q.useEffect(()=>{(async()=>{if(!(e!=null&&e.uid))return;const s=Zn(),l=xn(s,"chatbotRequests"),u=tl(l,wi("educatorId","==",e.uid));try{const f=(await pi(u)).docs.map(g=>({id:g.id,...g.data()}));t(f)}catch(d){console.error("Error fetching chatbot requests:",d)}finally{i(!1)}})()},[e==null?void 0:e.uid]),r?h.jsx(fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:h.jsx(Jr,{})}):n.length===0?h.jsx(de,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):h.jsxs(fe,{sx:{mt:gt[6]},children:[h.jsx(de,{variant:"h5",sx:{mb:gt[4],fontFamily:Be.fontFamily.display,fontWeight:Be.fontWeight.bold,color:ge.primary[500]},children:"Your Chatbot Requests"}),h.jsx(YX,{requests:n,loading:r})]})},QX=()=>{const e=ma();return h.jsxs(fe,{className:"profile-container",sx:{p:4},children:[h.jsx(Fl,{title:"Chatbot Management"}),h.jsx(de,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Manage your chatbots or create new chatbot requests."}),h.jsx(At,{variant:"contained",onClick:()=>e("/request-chatbot"),sx:{mt:2},className:"submit-button",children:"Request a New Chatbot"}),h.jsx(GX,{})]})},KX=({folderPath:e,onUploadComplete:n})=>{const[t,r]=Q.useState(!1),[i,a]=Q.useState([]),[s,l]=Q.useState(null),u=5*1024*1024,d=[".pdf",".ppt",".pptx",".doc",".docx",".txt"],f=async g=>{if(!g.target.files)return;const b=Array.from(g.target.files),m=yp(),x=[];r(!0),l(null);try{for(const y of b){const A=y.name.slice(y.name.lastIndexOf(".")).toLowerCase();if(!d.includes(A)){l(`File ${y.name} is not a supported format.`);continue}if(y.size>u){l(`File ${y.name} exceeds the 5 MB limit and cannot be uploaded.`);continue}const w=vc(m,`${e}/files/${y.name}`);await Yf(w,y);const C=await Gf(w);x.push(C)}a(y=>[...y,...b]),n(x)}catch(y){console.error("Error uploading files:",y),l("Failed to upload files. Please try again.")}finally{r(!1)}};return h.jsxs(fe,{children:[h.jsx("input",{type:"file",accept:".pdf,.ppt,.pptx,.doc,.docx,.txt",multiple:!0,onChange:f,style:{display:"none"},id:"file-upload"}),h.jsx("label",{htmlFor:"file-upload",children:h.jsx(At,{variant:"contained",component:"span",disabled:t,startIcon:t?h.jsx(Jr,{size:20}):null,children:t?"Uploading...":"Select and Upload Files"})}),s&&h.jsx(vr,{severity:"error",sx:{mt:2},children:s}),h.jsx(fe,{sx:{marginTop:2},children:i.map((g,b)=>h.jsx(de,{children:g.name},b))})]})},XX=xp()(Wg((e,n)=>({materials:[],selectedCourse:null,loading:!1,error:null,isEditing:!1,selectedMaterial:null,setMaterials:t=>e({materials:t}),addMaterial:t=>e(r=>({materials:[...r.materials,t]})),updateMaterial:(t,r)=>e(i=>({materials:i.materials.map(a=>a.id===t?{...a,...r}:a)})),deleteMaterial:t=>e(r=>({materials:r.materials.filter(i=>i.id!==t)})),setSelectedCourse:t=>e({selectedCourse:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),setIsEditing:t=>e({isEditing:t}),setSelectedMaterial:t=>e({selectedMaterial:t}),fetchMaterials:async t=>{e({loading:!0,error:null});try{const{db:r}=await Li(async()=>{const{db:f}=await Promise.resolve().then(()=>ep);return{db:f}},void 0),{collection:i,query:a,where:s,onSnapshot:l,orderBy:u}=await Li(async()=>{const{collection:f,query:g,where:b,onSnapshot:m,orderBy:x}=await import("./firebase-CTJJwFJC.js").then(y=>y.B);return{collection:f,query:g,where:b,onSnapshot:m,orderBy:x}},[]),d=a(i(r,"materials"),s("course","==",t),u("timestamp","desc"));return new Promise(f=>{l(d,g=>{const b=g.docs.map(m=>({id:m.id,...m.data()}));e({materials:b,loading:!1}),f(void 0)})})}catch(r){e({error:r instanceof Error?r.message:"Failed to fetch materials",loading:!1})}},publishMaterial:async t=>{try{const{db:r}=await Li(async()=>{const{db:s}=await Promise.resolve().then(()=>ep);return{db:s}},void 0),{doc:i,updateDoc:a}=await Li(async()=>{const{doc:s,updateDoc:l}=await import("./firebase-CTJJwFJC.js").then(u=>u.B);return{doc:s,updateDoc:l}},[]);await a(i(r,"materials",t),{published:!0}),n().updateMaterial(t,{published:!0})}catch{e({error:"Failed to publish material"})}},unpublishMaterial:async t=>{try{const{db:r}=await Li(async()=>{const{db:s}=await Promise.resolve().then(()=>ep);return{db:s}},void 0),{doc:i,updateDoc:a}=await Li(async()=>{const{doc:s,updateDoc:l}=await import("./firebase-CTJJwFJC.js").then(u=>u.B);return{doc:s,updateDoc:l}},[]);await a(i(r,"materials",t),{published:!1}),n().updateMaterial(t,{published:!1})}catch{e({error:"Failed to unpublish material"})}}}))),ZX=()=>{const{userDetails:e}=Ai(),n=ma(),t=Zn(),[r,i]=Q.useState(""),[a,s]=Q.useState(""),[l,u]=Q.useState(""),[d,f]=Q.useState([]),[g,b]=Q.useState(!1),[m,x]=Q.useState(""),[y,A]=Q.useState("success"),{materials:w,loading:C,error:N,fetchMaterials:R}=XX();Q.useEffect(()=>{u(""),a&&R(a)},[a,R]);const F=L=>{f(B=>[...B,...L])},q=async()=>{var P;if(!r||!a||!l||d.length===0){x("Please fill all required fields and upload at least one file."),A("error"),b(!0);return}const L=(P=e==null?void 0:e.classes)==null?void 0:P[a];if(!L||!L.isCourseAdmin){x("You are not authorized to request a chatbot for this course."),A("error"),b(!0);return}const B=(L==null?void 0:L.number)??"N/A",X=(L==null?void 0:L.title)??"Untitled Course",j=w.find(T=>T.id===l);if(!j){x("Selected material details could not be found."),A("error"),b(!0);return}const{title:O}=j;try{const T=await Ma(xn(t,"chatbotRequests"),{educatorId:e==null?void 0:e.uid,courseId:a,courseNumber:B,courseTitle:X,materialId:l,materialTitle:O,title:r,files:d,status:"pending",timestamp:new Date().toISOString()});await Ma(xn(t,"mail"),{to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"New Chatbot Request Submitted",html:`
            <p>A new chatbot request has been submitted:</p>
            <p><strong>Title:</strong> ${r}</p>
            <p><strong>Educator ID:</strong> ${e==null?void 0:e.uid}</p>
            <p><strong>Course:</strong> ${B} - ${X}</p>
            <p><strong>Material:</strong> ${O}</p>
            <p><strong>Request ID:</strong> ${T.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/super-admin-chatbot-requests">
            Click here to review the request.
            </a></p>
          `}}),x("Chatbot request submitted successfully!"),A("success"),b(!0),setTimeout(()=>n("/chatbot-management"),1500)}catch(T){console.error("Error submitting chatbot request:",T),x("Failed to submit the chatbot request. Please try again."),A("error"),b(!0)}},k=()=>{b(!1)};return h.jsxs(fe,{className:"profile-container",sx:{p:4},children:[h.jsx(Fl,{title:"Request to Create a Chatbot"}),h.jsx(de,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Fill out the form below to request a chatbot. Please upload all related materials for the chatbot's knowledge base."}),h.jsx(Ut,{label:"Chatbot Title",value:r,onChange:L=>i(L.target.value),fullWidth:!0,margin:"normal",required:!0,className:"form-field"}),h.jsx(Ut,{label:"Course ID",value:a,onChange:L=>s(L.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,helperText:"Only courses where you are an admin are available for chatbot requests.",className:"form-field",children:Object.keys((e==null?void 0:e.classes)||{}).filter(L=>{var B,X;return(X=(B=e==null?void 0:e.classes)==null?void 0:B[L])==null?void 0:X.isCourseAdmin}).map(L=>{var B,X;return h.jsx(Xn,{value:L,children:((X=(B=e==null?void 0:e.classes)==null?void 0:B[L])==null?void 0:X.title)||"Untitled Course"},L)})}),h.jsx(Ut,{label:"Material",value:l,onChange:L=>u(L.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,disabled:!a||C,helperText:a?N||(C?"Loading materials...":w.length===0?"No materials available for this course.":""):"Please select a course first.",children:a?C?h.jsxs(Xn,{disabled:!0,children:[h.jsx(Jr,{size:20,sx:{marginRight:2}}),"Loading..."]}):w.length===0?h.jsx(Xn,{disabled:!0,children:"No materials found"}):w.map(L=>h.jsx(Xn,{value:L.id,children:L.title},L.id)):h.jsx(Xn,{disabled:!0,children:"Please select a course first"})}),h.jsxs(fe,{sx:{mt:3},children:[h.jsx(de,{variant:"body1",className:"profile-text",sx:{mb:2},children:"Upload your files below (PDF, PPT, DOC/DOCX, TXT formats only):"}),h.jsx(KX,{folderPath:`chatbotRequests/${e==null?void 0:e.uid}`,onUploadComplete:F})]}),h.jsx(At,{variant:"contained",onClick:q,sx:{mt:4},className:"submit-button",children:"Submit Request"}),h.jsx(nl,{open:g,autoHideDuration:6e3,onClose:k,children:h.jsx(vr,{severity:y,onClose:k,children:m})})]})},JX=({conversations:e,loading:n=!1,onViewHistory:t,onDeleteConversation:r,loadingMap:i})=>{const a=[{id:"id",label:"Conversation ID",width:"25%",render:s=>h.jsx(zM,{conversationId:s})},{id:"userId",label:"User ID",width:"25%",render:s=>h.jsx(uh,{userId:s,userType:"student"})},{id:"chatbotId",label:"Chatbot ID",width:"25%",render:s=>h.jsx(PT,{chatbotId:s})},{id:"startedAt",label:"Started At",width:"15%",render:s=>h.jsx(wp,{date:new Date(s),format:"full"})},{id:"actions",label:"Actions",width:"10%",align:"center",render:(s,l)=>{const u=i[l.id];return h.jsx(Hg,{actions:[{icon:Ld.view,tooltip:u?"Loading...":"View Conversation History",onClick:()=>t(l.chatbotId,l.id,{userId:l.userId,startedAt:l.startedAt}),disabled:u,color:ge.primary[600],hoverColor:ge.primary[100]},{icon:Ld.delete,tooltip:u?"Loading...":"Delete Conversation",onClick:()=>r(l.id),disabled:u,color:ge.error,hoverColor:ge.error+"20"}]})}}];return h.jsx(lh,{data:e,columns:a,loading:n,emptyMessage:"No conversations available to display.",stickyHeader:!1,showRowNumbers:!0})};function CI(e,n){return function(){return e.apply(n,arguments)}}const{toString:eZ}=Object.prototype,{getPrototypeOf:SA}=Object,{iterator:Mv,toStringTag:EI}=Symbol,Fv=(e=>n=>{const t=eZ.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ju=e=>(e=e.toLowerCase(),n=>Fv(n)===e),Pv=e=>n=>typeof n===e,{isArray:pm}=Array,Eg=Pv("undefined");function tZ(e){return e!==null&&!Eg(e)&&e.constructor!==null&&!Eg(e.constructor)&&bo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _I=ju("ArrayBuffer");function nZ(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&_I(e.buffer),n}const rZ=Pv("string"),bo=Pv("function"),kI=Pv("number"),zv=e=>e!==null&&typeof e=="object",iZ=e=>e===!0||e===!1,dx=e=>{if(Fv(e)!=="object")return!1;const n=SA(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(EI in e)&&!(Mv in e)},aZ=ju("Date"),sZ=ju("File"),oZ=ju("Blob"),lZ=ju("FileList"),uZ=e=>zv(e)&&bo(e.pipe),cZ=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||bo(e.append)&&((n=Fv(e))==="formdata"||n==="object"&&bo(e.toString)&&e.toString()==="[object FormData]"))},dZ=ju("URLSearchParams"),[fZ,hZ,pZ,mZ]=["ReadableStream","Request","Response","Headers"].map(ju),gZ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nb(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),pm(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let l;for(r=0;r<s;r++)l=a[r],n.call(null,e[l],l,e)}}function NI(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const Xh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,jI=e=>!Eg(e)&&e!==Xh;function VS(){const{caseless:e}=jI(this)&&this||{},n={},t=(r,i)=>{const a=e&&NI(n,i)||i;dx(n[a])&&dx(r)?n[a]=VS(n[a],r):dx(r)?n[a]=VS({},r):pm(r)?n[a]=r.slice():n[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&nb(arguments[r],t);return n}const bZ=(e,n,t,{allOwnKeys:r}={})=>(nb(n,(i,a)=>{t&&bo(i)?e[a]=CI(i,t):e[a]=i},{allOwnKeys:r}),e),yZ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),xZ=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},vZ=(e,n,t,r)=>{let i,a,s;const l={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,n))&&!l[s]&&(n[s]=e[s],l[s]=!0);e=t!==!1&&SA(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},wZ=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},SZ=e=>{if(!e)return null;if(pm(e))return e;let n=e.length;if(!kI(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},AZ=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&SA(Uint8Array)),CZ=(e,n)=>{const r=(e&&e[Mv]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;n.call(e,a[0],a[1])}},EZ=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},_Z=ju("HTMLFormElement"),kZ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),b4=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),NZ=ju("RegExp"),TI=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};nb(t,(i,a)=>{let s;(s=n(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},jZ=e=>{TI(e,(n,t)=>{if(bo(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(bo(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},TZ=(e,n)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return pm(e)?r(e):r(String(e).split(n)),t},OZ=()=>{},IZ=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function DZ(e){return!!(e&&bo(e.append)&&e[EI]==="FormData"&&e[Mv])}const LZ=e=>{const n=new Array(10),t=(r,i)=>{if(zv(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const a=pm(r)?[]:{};return nb(r,(s,l)=>{const u=t(s,i+1);!Eg(u)&&(a[l]=u)}),n[i]=void 0,a}}return r};return t(e,0)},RZ=ju("AsyncFunction"),MZ=e=>e&&(zv(e)||bo(e))&&bo(e.then)&&bo(e.catch),OI=((e,n)=>e?setImmediate:n?((t,r)=>(Xh.addEventListener("message",({source:i,data:a})=>{i===Xh&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Xh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",bo(Xh.postMessage)),FZ=typeof queueMicrotask<"u"?queueMicrotask.bind(Xh):typeof process<"u"&&process.nextTick||OI,PZ=e=>e!=null&&bo(e[Mv]),st={isArray:pm,isArrayBuffer:_I,isBuffer:tZ,isFormData:cZ,isArrayBufferView:nZ,isString:rZ,isNumber:kI,isBoolean:iZ,isObject:zv,isPlainObject:dx,isReadableStream:fZ,isRequest:hZ,isResponse:pZ,isHeaders:mZ,isUndefined:Eg,isDate:aZ,isFile:sZ,isBlob:oZ,isRegExp:NZ,isFunction:bo,isStream:uZ,isURLSearchParams:dZ,isTypedArray:AZ,isFileList:lZ,forEach:nb,merge:VS,extend:bZ,trim:gZ,stripBOM:yZ,inherits:xZ,toFlatObject:vZ,kindOf:Fv,kindOfTest:ju,endsWith:wZ,toArray:SZ,forEachEntry:CZ,matchAll:EZ,isHTMLForm:_Z,hasOwnProperty:b4,hasOwnProp:b4,reduceDescriptors:TI,freezeMethods:jZ,toObjectSet:TZ,toCamelCase:kZ,noop:OZ,toFiniteNumber:IZ,findKey:NI,global:Xh,isContextDefined:jI,isSpecCompliantForm:DZ,toJSONObject:LZ,isAsyncFn:RZ,isThenable:MZ,setImmediate:OI,asap:FZ,isIterable:PZ};function kn(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}st.inherits(kn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:st.toJSONObject(this.config),code:this.code,status:this.status}}});const II=kn.prototype,DI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{DI[e]={value:e}});Object.defineProperties(kn,DI);Object.defineProperty(II,"isAxiosError",{value:!0});kn.from=(e,n,t,r,i,a)=>{const s=Object.create(II);return st.toFlatObject(e,s,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),kn.call(s,e.message,n,t,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const zZ=null;function YS(e){return st.isPlainObject(e)||st.isArray(e)}function LI(e){return st.endsWith(e,"[]")?e.slice(0,-2):e}function y4(e,n,t){return e?e.concat(n).map(function(i,a){return i=LI(i),!t&&a?"["+i+"]":i}).join(t?".":""):n}function qZ(e){return st.isArray(e)&&!e.some(YS)}const BZ=st.toFlatObject(st,{},null,function(n){return/^is[A-Z]/.test(n)});function qv(e,n,t){if(!st.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=st.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,A){return!st.isUndefined(A[y])});const r=t.metaTokens,i=t.visitor||f,a=t.dots,s=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&st.isSpecCompliantForm(n);if(!st.isFunction(i))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(st.isDate(x))return x.toISOString();if(st.isBoolean(x))return x.toString();if(!u&&st.isBlob(x))throw new kn("Blob is not supported. Use a Buffer instead.");return st.isArrayBuffer(x)||st.isTypedArray(x)?u&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function f(x,y,A){let w=x;if(x&&!A&&typeof x=="object"){if(st.endsWith(y,"{}"))y=r?y:y.slice(0,-2),x=JSON.stringify(x);else if(st.isArray(x)&&qZ(x)||(st.isFileList(x)||st.endsWith(y,"[]"))&&(w=st.toArray(x)))return y=LI(y),w.forEach(function(N,R){!(st.isUndefined(N)||N===null)&&n.append(s===!0?y4([y],R,a):s===null?y:y+"[]",d(N))}),!1}return YS(x)?!0:(n.append(y4(A,y,a),d(x)),!1)}const g=[],b=Object.assign(BZ,{defaultVisitor:f,convertValue:d,isVisitable:YS});function m(x,y){if(!st.isUndefined(x)){if(g.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));g.push(x),st.forEach(x,function(w,C){(!(st.isUndefined(w)||w===null)&&i.call(n,w,st.isString(C)?C.trim():C,y,b))===!0&&m(w,y?y.concat(C):[C])}),g.pop()}}if(!st.isObject(e))throw new TypeError("data must be an object");return m(e),n}function x4(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function AA(e,n){this._pairs=[],e&&qv(e,this,n)}const RI=AA.prototype;RI.append=function(n,t){this._pairs.push([n,t])};RI.toString=function(n){const t=n?function(r){return n.call(this,r,x4)}:x4;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function UZ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function MI(e,n,t){if(!n)return e;const r=t&&t.encode||UZ;st.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(n,t):a=st.isURLSearchParams(n)?n.toString():new AA(n,t).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class v4{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){st.forEach(this.handlers,function(r){r!==null&&n(r)})}}const FI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$Z=typeof URLSearchParams<"u"?URLSearchParams:AA,HZ=typeof FormData<"u"?FormData:null,WZ=typeof Blob<"u"?Blob:null,VZ={isBrowser:!0,classes:{URLSearchParams:$Z,FormData:HZ,Blob:WZ},protocols:["http","https","file","blob","url","data"]},CA=typeof window<"u"&&typeof document<"u",GS=typeof navigator=="object"&&navigator||void 0,YZ=CA&&(!GS||["ReactNative","NativeScript","NS"].indexOf(GS.product)<0),GZ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",QZ=CA&&window.location.href||"http://localhost",KZ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:CA,hasStandardBrowserEnv:YZ,hasStandardBrowserWebWorkerEnv:GZ,navigator:GS,origin:QZ},Symbol.toStringTag,{value:"Module"})),zs={...KZ,...VZ};function XZ(e,n){return qv(e,new zs.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return zs.isNode&&st.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function ZZ(e){return st.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function JZ(e){const n={},t=Object.keys(e);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],n[a]=e[a];return n}function PI(e){function n(t,r,i,a){let s=t[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),u=a>=t.length;return s=!s&&st.isArray(i)?i.length:s,u?(st.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!st.isObject(i[s]))&&(i[s]=[]),n(t,r,i[s],a)&&st.isArray(i[s])&&(i[s]=JZ(i[s])),!l)}if(st.isFormData(e)&&st.isFunction(e.entries)){const t={};return st.forEachEntry(e,(r,i)=>{n(ZZ(r),i,t,0)}),t}return null}function eJ(e,n,t){if(st.isString(e))try{return(n||JSON.parse)(e),st.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(e)}const rb={transitional:FI,adapter:["xhr","http","fetch"],transformRequest:[function(n,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=st.isObject(n);if(a&&st.isHTMLForm(n)&&(n=new FormData(n)),st.isFormData(n))return i?JSON.stringify(PI(n)):n;if(st.isArrayBuffer(n)||st.isBuffer(n)||st.isStream(n)||st.isFile(n)||st.isBlob(n)||st.isReadableStream(n))return n;if(st.isArrayBufferView(n))return n.buffer;if(st.isURLSearchParams(n))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return XZ(n,this.formSerializer).toString();if((l=st.isFileList(n))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return qv(l?{"files[]":n}:n,u&&new u,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),eJ(n)):n}],transformResponse:[function(n){const t=this.transitional||rb.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(st.isResponse(n)||st.isReadableStream(n))return n;if(n&&st.isString(n)&&(r&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(n)}catch(l){if(s)throw l.name==="SyntaxError"?kn.from(l,kn.ERR_BAD_RESPONSE,this,null,this.response):l}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zs.classes.FormData,Blob:zs.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};st.forEach(["delete","get","head","post","put","patch"],e=>{rb.headers[e]={}});const tJ=st.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nJ=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||n[t]&&tJ[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},w4=Symbol("internals");function j1(e){return e&&String(e).trim().toLowerCase()}function fx(e){return e===!1||e==null?e:st.isArray(e)?e.map(fx):String(e)}function rJ(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const iJ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function yw(e,n,t,r,i){if(st.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!st.isString(n)){if(st.isString(r))return n.indexOf(r)!==-1;if(st.isRegExp(r))return r.test(n)}}function aJ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function sJ(e,n){const t=st.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,a,s){return this[r].call(this,n,i,a,s)},configurable:!0})})}let yo=class{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function a(l,u,d){const f=j1(u);if(!f)throw new Error("header name must be a non-empty string");const g=st.findKey(i,f);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||u]=fx(l))}const s=(l,u)=>st.forEach(l,(d,f)=>a(d,f,u));if(st.isPlainObject(n)||n instanceof this.constructor)s(n,t);else if(st.isString(n)&&(n=n.trim())&&!iJ(n))s(nJ(n),t);else if(st.isObject(n)&&st.isIterable(n)){let l={},u,d;for(const f of n){if(!st.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[d=f[0]]=(u=l[d])?st.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}s(l,t)}else n!=null&&a(t,n,r);return this}get(n,t){if(n=j1(n),n){const r=st.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return rJ(i);if(st.isFunction(t))return t.call(this,i,r);if(st.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=j1(n),n){const r=st.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||yw(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function a(s){if(s=j1(s),s){const l=st.findKey(r,s);l&&(!t||yw(r,r[l],l,t))&&(delete r[l],i=!0)}}return st.isArray(n)?n.forEach(a):a(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!n||yw(this,this[a],a,n,!0))&&(delete this[a],i=!0)}return i}normalize(n){const t=this,r={};return st.forEach(this,(i,a)=>{const s=st.findKey(r,a);if(s){t[s]=fx(i),delete t[a];return}const l=n?aJ(a):String(a).trim();l!==a&&delete t[a],t[l]=fx(i),r[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return st.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&st.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const r=(this[w4]=this[w4]={accessors:{}}).accessors,i=this.prototype;function a(s){const l=j1(s);r[l]||(sJ(i,s),r[l]=!0)}return st.isArray(n)?n.forEach(a):a(n),this}};yo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);st.reduceDescriptors(yo.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});st.freezeMethods(yo);function xw(e,n){const t=this||rb,r=n||t,i=yo.from(r.headers);let a=r.data;return st.forEach(e,function(l){a=l.call(t,a,i.normalize(),n?n.status:void 0)}),i.normalize(),a}function zI(e){return!!(e&&e.__CANCEL__)}function mm(e,n,t){kn.call(this,e??"canceled",kn.ERR_CANCELED,n,t),this.name="CanceledError"}st.inherits(mm,kn,{__CANCEL__:!0});function qI(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new kn("Request failed with status code "+t.status,[kn.ERR_BAD_REQUEST,kn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function oJ(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function lJ(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,a=0,s;return n=n!==void 0?n:1e3,function(u){const d=Date.now(),f=r[a];s||(s=d),t[i]=u,r[i]=d;let g=a,b=0;for(;g!==i;)b+=t[g++],g=g%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-s<n)return;const m=f&&d-f;return m?Math.round(b*1e3/m):void 0}}function uJ(e,n){let t=0,r=1e3/n,i,a;const s=(d,f=Date.now())=>{t=f,i=null,a&&(clearTimeout(a),a=null),e.apply(null,d)};return[(...d)=>{const f=Date.now(),g=f-t;g>=r?s(d,f):(i=d,a||(a=setTimeout(()=>{a=null,s(i)},r-g)))},()=>i&&s(i)]}const Xx=(e,n,t=3)=>{let r=0;const i=lJ(50,250);return uJ(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,u=s-r,d=i(u),f=s<=l;r=s;const g={loaded:s,total:l,progress:l?s/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&f?(l-s)/d:void 0,event:a,lengthComputable:l!=null,[n?"download":"upload"]:!0};e(g)},t)},S4=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},A4=e=>(...n)=>st.asap(()=>e(...n)),cJ=zs.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,zs.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(zs.origin),zs.navigator&&/(msie|trident)/i.test(zs.navigator.userAgent)):()=>!0,dJ=zs.hasStandardBrowserEnv?{write(e,n,t,r,i,a){const s=[e+"="+encodeURIComponent(n)];st.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),st.isString(r)&&s.push("path="+r),st.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fJ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function hJ(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function BI(e,n,t){let r=!fJ(n);return e&&(r||t==!1)?hJ(e,n):n}const C4=e=>e instanceof yo?{...e}:e;function gp(e,n){n=n||{};const t={};function r(d,f,g,b){return st.isPlainObject(d)&&st.isPlainObject(f)?st.merge.call({caseless:b},d,f):st.isPlainObject(f)?st.merge({},f):st.isArray(f)?f.slice():f}function i(d,f,g,b){if(st.isUndefined(f)){if(!st.isUndefined(d))return r(void 0,d,g,b)}else return r(d,f,g,b)}function a(d,f){if(!st.isUndefined(f))return r(void 0,f)}function s(d,f){if(st.isUndefined(f)){if(!st.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function l(d,f,g){if(g in n)return r(d,f);if(g in e)return r(void 0,d)}const u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(d,f,g)=>i(C4(d),C4(f),g,!0)};return st.forEach(Object.keys(Object.assign({},e,n)),function(f){const g=u[f]||i,b=g(e[f],n[f],f);st.isUndefined(b)&&g!==l||(t[f]=b)}),t}const UI=e=>{const n=gp({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=n;n.headers=s=yo.from(s),n.url=MI(BI(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(st.isFormData(t)){if(zs.hasStandardBrowserEnv||zs.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((u=s.getContentType())!==!1){const[d,...f]=u?u.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...f].join("; "))}}if(zs.hasStandardBrowserEnv&&(r&&st.isFunction(r)&&(r=r(n)),r||r!==!1&&cJ(n.url))){const d=i&&a&&dJ.read(a);d&&s.set(i,d)}return n},pJ=typeof XMLHttpRequest<"u",mJ=pJ&&function(e){return new Promise(function(t,r){const i=UI(e);let a=i.data;const s=yo.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=i,f,g,b,m,x;function y(){m&&m(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function w(){if(!A)return;const N=yo.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),F={data:!l||l==="text"||l==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:N,config:e,request:A};qI(function(k){t(k),y()},function(k){r(k),y()},F),A=null}"onloadend"in A?A.onloadend=w:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(w)},A.onabort=function(){A&&(r(new kn("Request aborted",kn.ECONNABORTED,e,A)),A=null)},A.onerror=function(){r(new kn("Network Error",kn.ERR_NETWORK,e,A)),A=null},A.ontimeout=function(){let R=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const F=i.transitional||FI;i.timeoutErrorMessage&&(R=i.timeoutErrorMessage),r(new kn(R,F.clarifyTimeoutError?kn.ETIMEDOUT:kn.ECONNABORTED,e,A)),A=null},a===void 0&&s.setContentType(null),"setRequestHeader"in A&&st.forEach(s.toJSON(),function(R,F){A.setRequestHeader(F,R)}),st.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),l&&l!=="json"&&(A.responseType=i.responseType),d&&([b,x]=Xx(d,!0),A.addEventListener("progress",b)),u&&A.upload&&([g,m]=Xx(u),A.upload.addEventListener("progress",g),A.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(f=N=>{A&&(r(!N||N.type?new mm(null,e,A):N),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const C=oJ(i.url);if(C&&zs.protocols.indexOf(C)===-1){r(new kn("Unsupported protocol "+C+":",kn.ERR_BAD_REQUEST,e));return}A.send(a||null)})},gJ=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const a=function(d){if(!i){i=!0,l();const f=d instanceof Error?d:this.reason;r.abort(f instanceof kn?f:new mm(f instanceof Error?f.message:f))}};let s=n&&setTimeout(()=>{s=null,a(new kn(`timeout ${n} of ms exceeded`,kn.ETIMEDOUT))},n);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>st.asap(l),u}},bJ=function*(e,n){let t=e.byteLength;if(t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},yJ=async function*(e,n){for await(const t of xJ(e))yield*bJ(t,n)},xJ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},E4=(e,n,t,r)=>{const i=yJ(e,n);let a=0,s,l=u=>{s||(s=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await i.next();if(d){l(),u.close();return}let g=f.byteLength;if(t){let b=a+=g;t(b)}u.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},Bv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$I=Bv&&typeof ReadableStream=="function",vJ=Bv&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),HI=(e,...n)=>{try{return!!e(...n)}catch{return!1}},wJ=$I&&HI(()=>{let e=!1;const n=new Request(zs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),_4=64*1024,QS=$I&&HI(()=>st.isReadableStream(new Response("").body)),Zx={stream:QS&&(e=>e.body)};Bv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!Zx[n]&&(Zx[n]=st.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new kn(`Response type '${n}' is not supported`,kn.ERR_NOT_SUPPORT,r)})})})(new Response);const SJ=async e=>{if(e==null)return 0;if(st.isBlob(e))return e.size;if(st.isSpecCompliantForm(e))return(await new Request(zs.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(st.isArrayBufferView(e)||st.isArrayBuffer(e))return e.byteLength;if(st.isURLSearchParams(e)&&(e=e+""),st.isString(e))return(await vJ(e)).byteLength},AJ=async(e,n)=>{const t=st.toFiniteNumber(e.getContentLength());return t??SJ(n)},CJ=Bv&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:f,withCredentials:g="same-origin",fetchOptions:b}=UI(e);d=d?(d+"").toLowerCase():"text";let m=gJ([i,a&&a.toAbortSignal()],s),x;const y=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let A;try{if(u&&wJ&&t!=="get"&&t!=="head"&&(A=await AJ(f,r))!==0){let F=new Request(n,{method:"POST",body:r,duplex:"half"}),q;if(st.isFormData(r)&&(q=F.headers.get("content-type"))&&f.setContentType(q),F.body){const[k,L]=S4(A,Xx(A4(u)));r=E4(F.body,_4,k,L)}}st.isString(g)||(g=g?"include":"omit");const w="credentials"in Request.prototype;x=new Request(n,{...b,signal:m,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:w?g:void 0});let C=await fetch(x,b);const N=QS&&(d==="stream"||d==="response");if(QS&&(l||N&&y)){const F={};["status","statusText","headers"].forEach(B=>{F[B]=C[B]});const q=st.toFiniteNumber(C.headers.get("content-length")),[k,L]=l&&S4(q,Xx(A4(l),!0))||[];C=new Response(E4(C.body,_4,k,()=>{L&&L(),y&&y()}),F)}d=d||"text";let R=await Zx[st.findKey(Zx,d)||"text"](C,e);return!N&&y&&y(),await new Promise((F,q)=>{qI(F,q,{data:R,headers:yo.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:x})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new kn("Network Error",kn.ERR_NETWORK,e,x),{cause:w.cause||w}):kn.from(w,w&&w.code,e,x)}}),KS={http:zZ,xhr:mJ,fetch:CJ};st.forEach(KS,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const k4=e=>`- ${e}`,EJ=e=>st.isFunction(e)||e===null||e===!1,WI={getAdapter:e=>{e=st.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let a=0;a<n;a++){t=e[a];let s;if(r=t,!EJ(t)&&(r=KS[(s=String(t)).toLowerCase()],r===void 0))throw new kn(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(k4).join(`
`):" "+k4(a[0]):"as no adapter specified";throw new kn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:KS};function vw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new mm(null,e)}function N4(e){return vw(e),e.headers=yo.from(e.headers),e.data=xw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),WI.getAdapter(e.adapter||rb.adapter)(e).then(function(r){return vw(e),r.data=xw.call(e,e.transformResponse,r),r.headers=yo.from(r.headers),r},function(r){return zI(r)||(vw(e),r&&r.response&&(r.response.data=xw.call(e,e.transformResponse,r.response),r.response.headers=yo.from(r.response.headers))),Promise.reject(r)})}const VI="1.10.0",Uv={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Uv[e]=function(r){return typeof r===e||"a"+(n<1?"n ":" ")+e}});const j4={};Uv.transitional=function(n,t,r){function i(a,s){return"[Axios v"+VI+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,l)=>{if(n===!1)throw new kn(i(s," has been removed"+(t?" in "+t:"")),kn.ERR_DEPRECATED);return t&&!j4[s]&&(j4[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),n?n(a,s,l):!0}};Uv.spelling=function(n){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${n}`),!0)};function _J(e,n,t){if(typeof e!="object")throw new kn("options must be an object",kn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=n[a];if(s){const l=e[a],u=l===void 0||s(l,a,e);if(u!==!0)throw new kn("option "+a+" must be "+u,kn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new kn("Unknown option "+a,kn.ERR_BAD_OPTION)}}const hx={assertOptions:_J,validators:Uv},ic=hx.validators;let sp=class{constructor(n){this.defaults=n||{},this.interceptors={request:new v4,response:new v4}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=gp(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&hx.assertOptions(r,{silentJSONParsing:ic.transitional(ic.boolean),forcedJSONParsing:ic.transitional(ic.boolean),clarifyTimeoutError:ic.transitional(ic.boolean)},!1),i!=null&&(st.isFunction(i)?t.paramsSerializer={serialize:i}:hx.assertOptions(i,{encode:ic.function,serialize:ic.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),hx.assertOptions(t,{baseUrl:ic.spelling("baseURL"),withXsrfToken:ic.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&st.merge(a.common,a[t.method]);a&&st.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),t.headers=yo.concat(s,a);const l=[];let u=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(u=u&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let f,g=0,b;if(!u){const x=[N4.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),b=x.length,f=Promise.resolve(t);g<b;)f=f.then(x[g++],x[g++]);return f}b=l.length;let m=t;for(g=0;g<b;){const x=l[g++],y=l[g++];try{m=x(m)}catch(A){y.call(this,A);break}}try{f=N4.call(this,m)}catch(x){return Promise.reject(x)}for(g=0,b=d.length;g<b;)f=f.then(d[g++],d[g++]);return f}getUri(n){n=gp(this.defaults,n);const t=BI(n.baseURL,n.url,n.allowAbsoluteUrls);return MI(t,n.params,n.paramsSerializer)}};st.forEach(["delete","get","head","options"],function(n){sp.prototype[n]=function(t,r){return this.request(gp(r||{},{method:n,url:t,data:(r||{}).data}))}});st.forEach(["post","put","patch"],function(n){function t(r){return function(a,s,l){return this.request(gp(l||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}sp.prototype[n]=t(),sp.prototype[n+"Form"]=t(!0)});let kJ=class YI{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(l=>{r.subscribe(l),a=l}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},n(function(a,s,l){r.reason||(r.reason=new mm(a,s,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new YI(function(i){n=i}),cancel:n}}};function NJ(e){return function(t){return e.apply(null,t)}}function jJ(e){return st.isObject(e)&&e.isAxiosError===!0}const XS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(XS).forEach(([e,n])=>{XS[n]=e});function GI(e){const n=new sp(e),t=CI(sp.prototype.request,n);return st.extend(t,sp.prototype,n,{allOwnKeys:!0}),st.extend(t,n,null,{allOwnKeys:!0}),t.create=function(i){return GI(gp(e,i))},t}const pa=GI(rb);pa.Axios=sp;pa.CanceledError=mm;pa.CancelToken=kJ;pa.isCancel=zI;pa.VERSION=VI;pa.toFormData=qv;pa.AxiosError=kn;pa.Cancel=pa.CanceledError;pa.all=function(n){return Promise.all(n)};pa.spread=NJ;pa.isAxiosError=jJ;pa.mergeConfig=gp;pa.AxiosHeaders=yo;pa.formToJSON=e=>PI(st.isHTMLForm(e)?new FormData(e):e);pa.getAdapter=WI.getAdapter;pa.HttpStatusCode=XS;pa.default=pa;const{Axios:Phe,AxiosError:zhe,CanceledError:qhe,isCancel:Bhe,CancelToken:Uhe,VERSION:$he,all:Hhe,Cancel:Whe,isAxiosError:Vhe,spread:Yhe,toFormData:Ghe,AxiosHeaders:Qhe,HttpStatusCode:Khe,formToJSON:Xhe,getAdapter:Zhe,mergeConfig:Jhe}=pa;function By(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ww={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var T4;function TJ(){return T4||(T4=1,function(e,n){(function(t){e.exports=t()})(function(){return function t(r,i,a){function s(d,f){if(!i[d]){if(!r[d]){var g=typeof By=="function"&&By;if(!f&&g)return g(d,!0);if(l)return l(d,!0);var b=new Error("Cannot find module '"+d+"'");throw b.code="MODULE_NOT_FOUND",b}var m=i[d]={exports:{}};r[d][0].call(m.exports,function(x){var y=r[d][1][x];return s(y||x)},m,m.exports,t,r,i,a)}return i[d].exports}for(var l=typeof By=="function"&&By,u=0;u<a.length;u++)s(a[u]);return s}({1:[function(t,r,i){var a=t("./utils"),s=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var d,f,g,b,m,x,y,A=[],w=0,C=u.length,N=C,R=a.getTypeOf(u)!=="string";w<u.length;)N=C-w,g=R?(d=u[w++],f=w<C?u[w++]:0,w<C?u[w++]:0):(d=u.charCodeAt(w++),f=w<C?u.charCodeAt(w++):0,w<C?u.charCodeAt(w++):0),b=d>>2,m=(3&d)<<4|f>>4,x=1<N?(15&f)<<2|g>>6:64,y=2<N?63&g:64,A.push(l.charAt(b)+l.charAt(m)+l.charAt(x)+l.charAt(y));return A.join("")},i.decode=function(u){var d,f,g,b,m,x,y=0,A=0,w="data:";if(u.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var C,N=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===l.charAt(64)&&N--,u.charAt(u.length-2)===l.charAt(64)&&N--,N%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=s.uint8array?new Uint8Array(0|N):new Array(0|N);y<u.length;)d=l.indexOf(u.charAt(y++))<<2|(b=l.indexOf(u.charAt(y++)))>>4,f=(15&b)<<4|(m=l.indexOf(u.charAt(y++)))>>2,g=(3&m)<<6|(x=l.indexOf(u.charAt(y++))),C[A++]=d,m!==64&&(C[A++]=f),x!==64&&(C[A++]=g);return C}},{"./support":30,"./utils":32}],2:[function(t,r,i){var a=t("./external"),s=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function d(f,g,b,m,x){this.compressedSize=f,this.uncompressedSize=g,this.crc32=b,this.compression=m,this.compressedContent=x}d.prototype={getContentWorker:function(){var f=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),g=this;return f.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(f,g,b){return f.pipe(new l).pipe(new u("uncompressedSize")).pipe(g.compressWorker(b)).pipe(new u("compressedSize")).withStreamInfo("compression",g)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var a=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var a=t("./utils"),s=function(){for(var l,u=[],d=0;d<256;d++){l=d;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;u[d]=l}return u}();r.exports=function(l,u){return l!==void 0&&l.length?a.getTypeOf(l)!=="string"?function(d,f,g,b){var m=s,x=b+g;d^=-1;for(var y=b;y<x;y++)d=d>>>8^m[255&(d^f[y])];return-1^d}(0|u,l,l.length,0):function(d,f,g,b){var m=s,x=b+g;d^=-1;for(var y=b;y<x;y++)d=d>>>8^m[255&(d^f.charCodeAt(y))];return-1^d}(0|u,l,l.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var a=null;a=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:a}},{lie:37}],7:[function(t,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),l=t("./utils"),u=t("./stream/GenericWorker"),d=a?"uint8array":"array";function f(g,b){u.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=b,this.meta={}}i.magic="\b\0",l.inherits(f,u),f.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(d,g.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(b){g.push({data:b,meta:g.meta})}},i.compressWorker=function(g){return new f("Deflate",g)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function a(m,x){var y,A="";for(y=0;y<x;y++)A+=String.fromCharCode(255&m),m>>>=8;return A}function s(m,x,y,A,w,C){var N,R,F=m.file,q=m.compression,k=C!==d.utf8encode,L=l.transformTo("string",C(F.name)),B=l.transformTo("string",d.utf8encode(F.name)),X=F.comment,j=l.transformTo("string",C(X)),O=l.transformTo("string",d.utf8encode(X)),P=B.length!==F.name.length,T=O.length!==X.length,G="",W="",K="",ie=F.dir,ue=F.date,$={crc32:0,compressedSize:0,uncompressedSize:0};x&&!y||($.crc32=m.crc32,$.compressedSize=m.compressedSize,$.uncompressedSize=m.uncompressedSize);var ae=0;x&&(ae|=8),k||!P&&!T||(ae|=2048);var U=0,z=0;ie&&(U|=16),w==="UNIX"?(z=798,U|=function(ee,se){var we=ee;return ee||(we=se?16893:33204),(65535&we)<<16}(F.unixPermissions,ie)):(z=20,U|=function(ee){return 63&(ee||0)}(F.dosPermissions)),N=ue.getUTCHours(),N<<=6,N|=ue.getUTCMinutes(),N<<=5,N|=ue.getUTCSeconds()/2,R=ue.getUTCFullYear()-1980,R<<=4,R|=ue.getUTCMonth()+1,R<<=5,R|=ue.getUTCDate(),P&&(W=a(1,1)+a(f(L),4)+B,G+="up"+a(W.length,2)+W),T&&(K=a(1,1)+a(f(j),4)+O,G+="uc"+a(K.length,2)+K);var Z="";return Z+=`
\0`,Z+=a(ae,2),Z+=q.magic,Z+=a(N,2),Z+=a(R,2),Z+=a($.crc32,4),Z+=a($.compressedSize,4),Z+=a($.uncompressedSize,4),Z+=a(L.length,2),Z+=a(G.length,2),{fileRecord:g.LOCAL_FILE_HEADER+Z+L+G,dirRecord:g.CENTRAL_FILE_HEADER+a(z,2)+Z+a(j.length,2)+"\0\0\0\0"+a(U,4)+a(A,4)+L+G+j}}var l=t("../utils"),u=t("../stream/GenericWorker"),d=t("../utf8"),f=t("../crc32"),g=t("../signature");function b(m,x,y,A){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=y,this.encodeFileName=A,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(b,u),b.prototype.push=function(m){var x=m.meta.percent||0,y=this.entriesCount,A=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,u.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:y?(x+100*(y-A-1))/y:100}}))},b.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var x=this.streamFiles&&!m.file.dir;if(x){var y=s(m,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(m){this.accumulate=!1;var x=this.streamFiles&&!m.file.dir,y=s(m,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),x)this.push({data:function(A){return g.DATA_DESCRIPTOR+a(A.crc32,4)+a(A.compressedSize,4)+a(A.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var m=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var y=this.bytesWritten-m,A=function(w,C,N,R,F){var q=l.transformTo("string",F(R));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(w,2)+a(w,2)+a(C,4)+a(N,4)+a(q.length,2)+q}(this.dirRecords.length,y,m,this.zipComment,this.encodeFileName);this.push({data:A,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(m){this._sources.push(m);var x=this;return m.on("data",function(y){x.processChunk(y)}),m.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),m.on("error",function(y){x.error(y)}),this},b.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(m){var x=this._sources;if(!u.prototype.error.call(this,m))return!1;for(var y=0;y<x.length;y++)try{x[y].error(m)}catch{}return!0},b.prototype.lock=function(){u.prototype.lock.call(this);for(var m=this._sources,x=0;x<m.length;x++)m[x].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var a=t("../compressions"),s=t("./ZipFileWorker");i.generateWorker=function(l,u,d){var f=new s(u.streamFiles,d,u.platform,u.encodeFileName),g=0;try{l.forEach(function(b,m){g++;var x=function(C,N){var R=C||N,F=a[R];if(!F)throw new Error(R+" is not a valid compression method !");return F}(m.options.compression,u.compression),y=m.options.compressionOptions||u.compressionOptions||{},A=m.dir,w=m.date;m._compressWorker(x,y).withStreamInfo("file",{name:b,dir:A,date:w,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(f)}),f.entriesCount=g}catch(b){f.error(b)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}(a.prototype=t("./object")).loadAsync=t("./load"),a.support=t("./support"),a.defaults=t("./defaults"),a.version="3.10.1",a.loadAsync=function(s,l){return new a().loadAsync(s,l)},a.external=t("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var a=t("./utils"),s=t("./external"),l=t("./utf8"),u=t("./zipEntries"),d=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function g(b){return new s.Promise(function(m,x){var y=b.decompressed.getContentWorker().pipe(new d);y.on("error",function(A){x(A)}).on("end",function(){y.streamInfo.crc32!==b.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(b,m){var x=this;return m=a.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),f.isNode&&f.isStream(b)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",b,!0,m.optimizedBinaryString,m.base64).then(function(y){var A=new u(m);return A.load(y),A}).then(function(y){var A=[s.Promise.resolve(y)],w=y.files;if(m.checkCRC32)for(var C=0;C<w.length;C++)A.push(g(w[C]));return s.Promise.all(A)}).then(function(y){for(var A=y.shift(),w=A.files,C=0;C<w.length;C++){var N=w[C],R=N.fileNameStr,F=a.resolve(N.fileNameStr);x.file(F,N.decompressed,{binary:!0,optimizedBinaryString:!0,date:N.date,dir:N.dir,comment:N.fileCommentStr.length?N.fileCommentStr:null,unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions,createFolders:m.createFolders}),N.dir||(x.file(F).unsafeOriginalName=R)}return A.zipComment.length&&(x.comment=A.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var a=t("../utils"),s=t("../stream/GenericWorker");function l(u,d){s.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(d)}a.inherits(l,s),l.prototype._bindStream=function(u){var d=this;(this._stream=u).pause(),u.on("data",function(f){d.push({data:f,meta:{percent:0}})}).on("error",function(f){d.isPaused?this.generatedError=f:d.error(f)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},l.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var a=t("readable-stream").Readable;function s(l,u,d){a.call(this,u),this._helper=l;var f=this;l.on("data",function(g,b){f.push(g)||f._helper.pause(),d&&d(b)}).on("error",function(g){f.emit("error",g)}).on("end",function(){f.push(null)})}t("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(t,r,i){function a(F,q,k){var L,B=l.getTypeOf(q),X=l.extend(k||{},f);X.date=X.date||new Date,X.compression!==null&&(X.compression=X.compression.toUpperCase()),typeof X.unixPermissions=="string"&&(X.unixPermissions=parseInt(X.unixPermissions,8)),X.unixPermissions&&16384&X.unixPermissions&&(X.dir=!0),X.dosPermissions&&16&X.dosPermissions&&(X.dir=!0),X.dir&&(F=w(F)),X.createFolders&&(L=A(F))&&C.call(this,L,!0);var j=B==="string"&&X.binary===!1&&X.base64===!1;k&&k.binary!==void 0||(X.binary=!j),(q instanceof g&&q.uncompressedSize===0||X.dir||!q||q.length===0)&&(X.base64=!1,X.binary=!0,q="",X.compression="STORE",B="string");var O=null;O=q instanceof g||q instanceof u?q:x.isNode&&x.isStream(q)?new y(F,q):l.prepareContent(F,q,X.binary,X.optimizedBinaryString,X.base64);var P=new b(F,O,X);this.files[F]=P}var s=t("./utf8"),l=t("./utils"),u=t("./stream/GenericWorker"),d=t("./stream/StreamHelper"),f=t("./defaults"),g=t("./compressedObject"),b=t("./zipObject"),m=t("./generate"),x=t("./nodejsUtils"),y=t("./nodejs/NodejsStreamInputAdapter"),A=function(F){F.slice(-1)==="/"&&(F=F.substring(0,F.length-1));var q=F.lastIndexOf("/");return 0<q?F.substring(0,q):""},w=function(F){return F.slice(-1)!=="/"&&(F+="/"),F},C=function(F,q){return q=q!==void 0?q:f.createFolders,F=w(F),this.files[F]||a.call(this,F,null,{dir:!0,createFolders:q}),this.files[F]};function N(F){return Object.prototype.toString.call(F)==="[object RegExp]"}var R={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(F){var q,k,L;for(q in this.files)L=this.files[q],(k=q.slice(this.root.length,q.length))&&q.slice(0,this.root.length)===this.root&&F(k,L)},filter:function(F){var q=[];return this.forEach(function(k,L){F(k,L)&&q.push(L)}),q},file:function(F,q,k){if(arguments.length!==1)return F=this.root+F,a.call(this,F,q,k),this;if(N(F)){var L=F;return this.filter(function(X,j){return!j.dir&&L.test(X)})}var B=this.files[this.root+F];return B&&!B.dir?B:null},folder:function(F){if(!F)return this;if(N(F))return this.filter(function(B,X){return X.dir&&F.test(B)});var q=this.root+F,k=C.call(this,q),L=this.clone();return L.root=k.name,L},remove:function(F){F=this.root+F;var q=this.files[F];if(q||(F.slice(-1)!=="/"&&(F+="/"),q=this.files[F]),q&&!q.dir)delete this.files[F];else for(var k=this.filter(function(B,X){return X.name.slice(0,F.length)===F}),L=0;L<k.length;L++)delete this.files[k[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(F){var q,k={};try{if((k=l.extend(F||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");l.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var L=k.comment||this.comment||"";q=m.generateWorker(this,k,L)}catch(B){(q=new u("error")).error(B)}return new d(q,k.type||"string",k.mimeType)},generateAsync:function(F,q){return this.generateInternalStream(F).accumulate(q)},generateNodeStream:function(F,q){return(F=F||{}).type||(F.type="nodebuffer"),this.generateInternalStream(F).toNodejsStream(q)}};r.exports=R},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var a=t("./DataReader");function s(l){a.call(this,l);for(var u=0;u<this.data.length;u++)l[u]=255&l[u]}t("../utils").inherits(s,a),s.prototype.byteAt=function(l){return this.data[this.zero+l]},s.prototype.lastIndexOfSignature=function(l){for(var u=l.charCodeAt(0),d=l.charCodeAt(1),f=l.charCodeAt(2),g=l.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===u&&this.data[b+1]===d&&this.data[b+2]===f&&this.data[b+3]===g)return b-this.zero;return-1},s.prototype.readAndCheckSignature=function(l){var u=l.charCodeAt(0),d=l.charCodeAt(1),f=l.charCodeAt(2),g=l.charCodeAt(3),b=this.readData(4);return u===b[0]&&d===b[1]&&f===b[2]&&g===b[3]},s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var a=t("../utils");function s(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var u,d=0;for(this.checkOffset(l),u=this.index+l-1;u>=this.index;u--)d=(d<<8)+this.byteAt(u);return this.index+=l,d},readString:function(l){return a.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=s},{"../utils":32}],19:[function(t,r,i){var a=t("./Uint8ArrayReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var a=t("./DataReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},s.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},s.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},s.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var a=t("./ArrayReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var a=t("../utils"),s=t("../support"),l=t("./ArrayReader"),u=t("./StringReader"),d=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");r.exports=function(g){var b=a.getTypeOf(g);return a.checkSupport(b),b!=="string"||s.uint8array?b==="nodebuffer"?new d(g):s.uint8array?new f(a.transformTo("uint8array",g)):new l(a.transformTo("array",g)):new u(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var a=t("./GenericWorker"),s=t("../utils");function l(u){a.call(this,"ConvertWorker to "+u),this.destType=u}s.inherits(l,a),l.prototype.processChunk=function(u){this.push({data:s.transformTo(this.destType,u.data),meta:u.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var a=t("./GenericWorker"),s=t("../crc32");function l(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,a),l.prototype.processChunk=function(u){this.streamInfo.crc32=s(u.data,this.streamInfo.crc32||0),this.push(u)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var a=t("../utils"),s=t("./GenericWorker");function l(u){s.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}a.inherits(l,s),l.prototype.processChunk=function(u){if(u){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+u.data.length}s.prototype.processChunk.call(this,u)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var a=t("../utils"),s=t("./GenericWorker");function l(u){s.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(f){d.dataIsReady=!0,d.data=f,d.max=f&&f.length||0,d.type=a.getTypeOf(f),d.isPaused||d._tickAndRepeat()},function(f){d.error(f)})}a.inherits(l,s),l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,d);break;case"uint8array":u=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":u=this.data.slice(this.index,d)}return this.index=d,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,l){return this._listeners[s].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,l){if(this._listeners[s])for(var u=0;u<this._listeners[s].length;u++)this._listeners[s][u].call(this,l)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var l=this;return s.on("data",function(u){l.processChunk(u)}),s.on("end",function(){l.end()}),s.on("error",function(u){l.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,l){return this.extraStreamInfo[s]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(t,r,i){var a=t("../utils"),s=t("./ConvertWorker"),l=t("./GenericWorker"),u=t("../base64"),d=t("../support"),f=t("../external"),g=null;if(d.nodestream)try{g=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(x,y){return new f.Promise(function(A,w){var C=[],N=x._internalType,R=x._outputType,F=x._mimeType;x.on("data",function(q,k){C.push(q),y&&y(k)}).on("error",function(q){C=[],w(q)}).on("end",function(){try{var q=function(k,L,B){switch(k){case"blob":return a.newBlob(a.transformTo("arraybuffer",L),B);case"base64":return u.encode(L);default:return a.transformTo(k,L)}}(R,function(k,L){var B,X=0,j=null,O=0;for(B=0;B<L.length;B++)O+=L[B].length;switch(k){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(j=new Uint8Array(O),B=0;B<L.length;B++)j.set(L[B],X),X+=L[B].length;return j;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+k+"'")}}(N,C),F);A(q)}catch(k){w(k)}C=[]}).resume()})}function m(x,y,A){var w=y;switch(y){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=y,this._mimeType=A,a.checkSupport(w),this._worker=x.pipe(new s(w)),x.lock()}catch(C){this._worker=new l("error"),this._worker.error(C)}}m.prototype={accumulate:function(x){return b(this,x)},on:function(x,y){var A=this;return x==="data"?this._worker.on(x,function(w){y.call(A,w.data,w.meta)}):this._worker.on(x,function(){a.delay(y,arguments,A)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},x)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var a=t("./utils"),s=t("./support"),l=t("./nodejsUtils"),u=t("./stream/GenericWorker"),d=new Array(256),f=0;f<256;f++)d[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;d[254]=d[254]=1;function g(){u.call(this,"utf-8 decode"),this.leftOver=null}function b(){u.call(this,"utf-8 encode")}i.utf8encode=function(m){return s.nodebuffer?l.newBufferFrom(m,"utf-8"):function(x){var y,A,w,C,N,R=x.length,F=0;for(C=0;C<R;C++)(64512&(A=x.charCodeAt(C)))==55296&&C+1<R&&(64512&(w=x.charCodeAt(C+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),C++),F+=A<128?1:A<2048?2:A<65536?3:4;for(y=s.uint8array?new Uint8Array(F):new Array(F),C=N=0;N<F;C++)(64512&(A=x.charCodeAt(C)))==55296&&C+1<R&&(64512&(w=x.charCodeAt(C+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),C++),A<128?y[N++]=A:(A<2048?y[N++]=192|A>>>6:(A<65536?y[N++]=224|A>>>12:(y[N++]=240|A>>>18,y[N++]=128|A>>>12&63),y[N++]=128|A>>>6&63),y[N++]=128|63&A);return y}(m)},i.utf8decode=function(m){return s.nodebuffer?a.transformTo("nodebuffer",m).toString("utf-8"):function(x){var y,A,w,C,N=x.length,R=new Array(2*N);for(y=A=0;y<N;)if((w=x[y++])<128)R[A++]=w;else if(4<(C=d[w]))R[A++]=65533,y+=C-1;else{for(w&=C===2?31:C===3?15:7;1<C&&y<N;)w=w<<6|63&x[y++],C--;1<C?R[A++]=65533:w<65536?R[A++]=w:(w-=65536,R[A++]=55296|w>>10&1023,R[A++]=56320|1023&w)}return R.length!==A&&(R.subarray?R=R.subarray(0,A):R.length=A),a.applyFromCharCode(R)}(m=a.transformTo(s.uint8array?"uint8array":"array",m))},a.inherits(g,u),g.prototype.processChunk=function(m){var x=a.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=x;(x=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),x.set(y,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var A=function(C,N){var R;for((N=N||C.length)>C.length&&(N=C.length),R=N-1;0<=R&&(192&C[R])==128;)R--;return R<0||R===0?N:R+d[C[R]]>N?R:N}(x),w=x;A!==x.length&&(s.uint8array?(w=x.subarray(0,A),this.leftOver=x.subarray(A,x.length)):(w=x.slice(0,A),this.leftOver=x.slice(A,x.length))),this.push({data:i.utf8decode(w),meta:m.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,a.inherits(b,u),b.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var a=t("./support"),s=t("./base64"),l=t("./nodejsUtils"),u=t("./external");function d(y){return y}function f(y,A){for(var w=0;w<y.length;++w)A[w]=255&y.charCodeAt(w);return A}t("setimmediate"),i.newBlob=function(y,A){i.checkSupport("blob");try{return new Blob([y],{type:A})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(y),w.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(y,A,w){var C=[],N=0,R=y.length;if(R<=w)return String.fromCharCode.apply(null,y);for(;N<R;)A==="array"||A==="nodebuffer"?C.push(String.fromCharCode.apply(null,y.slice(N,Math.min(N+w,R)))):C.push(String.fromCharCode.apply(null,y.subarray(N,Math.min(N+w,R)))),N+=w;return C.join("")},stringifyByChar:function(y){for(var A="",w=0;w<y.length;w++)A+=String.fromCharCode(y[w]);return A},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function b(y){var A=65536,w=i.getTypeOf(y),C=!0;if(w==="uint8array"?C=g.applyCanBeUsed.uint8array:w==="nodebuffer"&&(C=g.applyCanBeUsed.nodebuffer),C)for(;1<A;)try{return g.stringifyByChunk(y,w,A)}catch{A=Math.floor(A/2)}return g.stringifyByChar(y)}function m(y,A){for(var w=0;w<y.length;w++)A[w]=y[w];return A}i.applyFromCharCode=b;var x={};x.string={string:d,array:function(y){return f(y,new Array(y.length))},arraybuffer:function(y){return x.string.uint8array(y).buffer},uint8array:function(y){return f(y,new Uint8Array(y.length))},nodebuffer:function(y){return f(y,l.allocBuffer(y.length))}},x.array={string:b,array:d,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(y)}},x.arraybuffer={string:function(y){return b(new Uint8Array(y))},array:function(y){return m(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:d,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(new Uint8Array(y))}},x.uint8array={string:b,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:d,nodebuffer:function(y){return l.newBufferFrom(y)}},x.nodebuffer={string:b,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return x.nodebuffer.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:d},i.transformTo=function(y,A){if(A=A||"",!y)return A;i.checkSupport(y);var w=i.getTypeOf(A);return x[w][y](A)},i.resolve=function(y){for(var A=y.split("/"),w=[],C=0;C<A.length;C++){var N=A[C];N==="."||N===""&&C!==0&&C!==A.length-1||(N===".."?w.pop():w.push(N))}return w.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":a.nodebuffer&&l.isBuffer(y)?"nodebuffer":a.uint8array&&y instanceof Uint8Array?"uint8array":a.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!a[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var A,w,C="";for(w=0;w<(y||"").length;w++)C+="\\x"+((A=y.charCodeAt(w))<16?"0":"")+A.toString(16).toUpperCase();return C},i.delay=function(y,A,w){setImmediate(function(){y.apply(w||null,A||[])})},i.inherits=function(y,A){function w(){}w.prototype=A.prototype,y.prototype=new w},i.extend=function(){var y,A,w={};for(y=0;y<arguments.length;y++)for(A in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],A)&&w[A]===void 0&&(w[A]=arguments[y][A]);return w},i.prepareContent=function(y,A,w,C,N){return u.Promise.resolve(A).then(function(R){return a.blob&&(R instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(R))!==-1)&&typeof FileReader<"u"?new u.Promise(function(F,q){var k=new FileReader;k.onload=function(L){F(L.target.result)},k.onerror=function(L){q(L.target.error)},k.readAsArrayBuffer(R)}):R}).then(function(R){var F=i.getTypeOf(R);return F?(F==="arraybuffer"?R=i.transformTo("uint8array",R):F==="string"&&(N?R=s.decode(R):w&&C!==!0&&(R=function(q){return f(q,a.uint8array?new Uint8Array(q.length):new Array(q.length))}(R))),R):u.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var a=t("./reader/readerFor"),s=t("./utils"),l=t("./signature"),u=t("./zipEntry"),d=t("./support");function f(g){this.files=[],this.loadOptions=g}f.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(b)+", expected "+s.pretty(g)+")")}},isSignature:function(g,b){var m=this.reader.index;this.reader.setIndex(g);var x=this.reader.readString(4)===b;return this.reader.setIndex(m),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),b=d.uint8array?"uint8array":"array",m=s.transformTo(b,g);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,b,m,x=this.zip64EndOfCentralSize-44;0<x;)g=this.reader.readInt(2),b=this.reader.readInt(4),m=this.reader.readData(b),this.zip64ExtensibleData[g]={id:g,length:b,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,b;for(g=0;g<this.files.length;g++)b=this.files[g],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(g=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var b=g;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var x=b-m;if(0<x)this.isSignature(b,l.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(g){this.reader=a(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var a=t("./reader/readerFor"),s=t("./utils"),l=t("./compressedObject"),u=t("./crc32"),d=t("./utf8"),f=t("./compressions"),g=t("./support");function b(m,x){this.options=m,this.loadOptions=x}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var x,y;if(m.skip(22),this.fileNameLength=m.readInt(2),y=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(A){for(var w in f)if(Object.prototype.hasOwnProperty.call(f,w)&&f[w].magic===A)return f[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,x,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var x=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(x),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var x,y,A,w=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<w;)x=m.readInt(2),y=m.readInt(2),A=m.readData(y),this.extraFields[x]={id:x,length:y,value:A};m.setIndex(w)},handleUTF8:function(){var m=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var y=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var w=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var x=a(m.value);return x.readInt(1)!==1||u(this.fileName)!==x.readInt(4)?null:d.utf8decode(x.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var x=a(m.value);return x.readInt(1)!==1||u(this.fileComment)!==x.readInt(4)?null:d.utf8decode(x.readData(m.length-5))}return null}},r.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function a(x,y,A){this.name=x,this.dir=A.dir,this.date=A.date,this.comment=A.comment,this.unixPermissions=A.unixPermissions,this.dosPermissions=A.dosPermissions,this._data=y,this._dataBinary=A.binary,this.options={compression:A.compression,compressionOptions:A.compressionOptions}}var s=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),u=t("./utf8"),d=t("./compressedObject"),f=t("./stream/GenericWorker");a.prototype={internalStream:function(x){var y=null,A="string";try{if(!x)throw new Error("No output type specified.");var w=(A=x.toLowerCase())==="string"||A==="text";A!=="binarystring"&&A!=="text"||(A="string"),y=this._decompressWorker();var C=!this._dataBinary;C&&!w&&(y=y.pipe(new u.Utf8EncodeWorker)),!C&&w&&(y=y.pipe(new u.Utf8DecodeWorker))}catch(N){(y=new f("error")).error(N)}return new s(y,A,"")},async:function(x,y){return this.internalStream(x).accumulate(y)},nodeStream:function(x,y){return this.internalStream(x||"nodebuffer").toNodejsStream(y)},_compressWorker:function(x,y){if(this._data instanceof d&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var A=this._decompressWorker();return this._dataBinary||(A=A.pipe(new u.Utf8EncodeWorker)),d.createWorkerFrom(A,x,y)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof f?this._data:new l(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<g.length;m++)a.prototype[g[m]]=b;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(a){var s,l,u=a.MutationObserver||a.WebKitMutationObserver;if(u){var d=0,f=new u(x),g=a.document.createTextNode("");f.observe(g,{characterData:!0}),s=function(){g.data=d=++d%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var y=a.document.createElement("script");y.onreadystatechange=function(){x(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},a.document.documentElement.appendChild(y)}:function(){setTimeout(x,0)};else{var b=new a.MessageChannel;b.port1.onmessage=x,s=function(){b.port2.postMessage(0)}}var m=[];function x(){var y,A;l=!0;for(var w=m.length;w;){for(A=m,m=[],y=-1;++y<w;)A[y]();w=m.length}l=!1}r.exports=function(y){m.push(y)!==1||l||s()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var a=t("immediate");function s(){}var l={},u=["REJECTED"],d=["FULFILLED"],f=["PENDING"];function g(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,w!==s&&y(this,w)}function b(w,C,N){this.promise=w,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}function m(w,C,N){a(function(){var R;try{R=C(N)}catch(F){return l.reject(w,F)}R===w?l.reject(w,new TypeError("Cannot resolve promise with itself")):l.resolve(w,R)})}function x(w){var C=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof C=="function")return function(){C.apply(w,arguments)}}function y(w,C){var N=!1;function R(k){N||(N=!0,l.reject(w,k))}function F(k){N||(N=!0,l.resolve(w,k))}var q=A(function(){C(F,R)});q.status==="error"&&R(q.value)}function A(w,C){var N={};try{N.value=w(C),N.status="success"}catch(R){N.status="error",N.value=R}return N}(r.exports=g).prototype.finally=function(w){if(typeof w!="function")return this;var C=this.constructor;return this.then(function(N){return C.resolve(w()).then(function(){return N})},function(N){return C.resolve(w()).then(function(){throw N})})},g.prototype.catch=function(w){return this.then(null,w)},g.prototype.then=function(w,C){if(typeof w!="function"&&this.state===d||typeof C!="function"&&this.state===u)return this;var N=new this.constructor(s);return this.state!==f?m(N,this.state===d?w:C,this.outcome):this.queue.push(new b(N,w,C)),N},b.prototype.callFulfilled=function(w){l.resolve(this.promise,w)},b.prototype.otherCallFulfilled=function(w){m(this.promise,this.onFulfilled,w)},b.prototype.callRejected=function(w){l.reject(this.promise,w)},b.prototype.otherCallRejected=function(w){m(this.promise,this.onRejected,w)},l.resolve=function(w,C){var N=A(x,C);if(N.status==="error")return l.reject(w,N.value);var R=N.value;if(R)y(w,R);else{w.state=d,w.outcome=C;for(var F=-1,q=w.queue.length;++F<q;)w.queue[F].callFulfilled(C)}return w},l.reject=function(w,C){w.state=u,w.outcome=C;for(var N=-1,R=w.queue.length;++N<R;)w.queue[N].callRejected(C);return w},g.resolve=function(w){return w instanceof this?w:l.resolve(new this(s),w)},g.reject=function(w){var C=new this(s);return l.reject(C,w)},g.all=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=w.length,R=!1;if(!N)return this.resolve([]);for(var F=new Array(N),q=0,k=-1,L=new this(s);++k<N;)B(w[k],k);return L;function B(X,j){C.resolve(X).then(function(O){F[j]=O,++q!==N||R||(R=!0,l.resolve(L,F))},function(O){R||(R=!0,l.reject(L,O))})}},g.race=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=w.length,R=!1;if(!N)return this.resolve([]);for(var F=-1,q=new this(s);++F<N;)k=w[F],C.resolve(k).then(function(L){R||(R=!0,l.resolve(q,L))},function(L){R||(R=!0,l.reject(q,L))});var k;return q}},{immediate:36}],38:[function(t,r,i){var a={};(0,t("./lib/utils/common").assign)(a,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var a=t("./zlib/deflate"),s=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/messages"),d=t("./zlib/zstream"),f=Object.prototype.toString,g=0,b=-1,m=0,x=8;function y(w){if(!(this instanceof y))return new y(w);this.options=s.assign({level:b,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},w||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var N=a.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(N!==g)throw new Error(u[N]);if(C.header&&a.deflateSetHeader(this.strm,C.header),C.dictionary){var R;if(R=typeof C.dictionary=="string"?l.string2buf(C.dictionary):f.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(N=a.deflateSetDictionary(this.strm,R))!==g)throw new Error(u[N]);this._dict_set=!0}}function A(w,C){var N=new y(C);if(N.push(w,!0),N.err)throw N.msg||u[N.err];return N.result}y.prototype.push=function(w,C){var N,R,F=this.strm,q=this.options.chunkSize;if(this.ended)return!1;R=C===~~C?C:C===!0?4:0,typeof w=="string"?F.input=l.string2buf(w):f.call(w)==="[object ArrayBuffer]"?F.input=new Uint8Array(w):F.input=w,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new s.Buf8(q),F.next_out=0,F.avail_out=q),(N=a.deflate(F,R))!==1&&N!==g)return this.onEnd(N),!(this.ended=!0);F.avail_out!==0&&(F.avail_in!==0||R!==4&&R!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(F.output,F.next_out))):this.onData(s.shrinkBuf(F.output,F.next_out)))}while((0<F.avail_in||F.avail_out===0)&&N!==1);return R===4?(N=a.deflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===g):R!==2||(this.onEnd(g),!(F.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Deflate=y,i.deflate=A,i.deflateRaw=function(w,C){return(C=C||{}).raw=!0,A(w,C)},i.gzip=function(w,C){return(C=C||{}).gzip=!0,A(w,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var a=t("./zlib/inflate"),s=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/constants"),d=t("./zlib/messages"),f=t("./zlib/zstream"),g=t("./zlib/gzheader"),b=Object.prototype.toString;function m(y){if(!(this instanceof m))return new m(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var A=this.options;A.raw&&0<=A.windowBits&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),!(0<=A.windowBits&&A.windowBits<16)||y&&y.windowBits||(A.windowBits+=32),15<A.windowBits&&A.windowBits<48&&(15&A.windowBits)==0&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var w=a.inflateInit2(this.strm,A.windowBits);if(w!==u.Z_OK)throw new Error(d[w]);this.header=new g,a.inflateGetHeader(this.strm,this.header)}function x(y,A){var w=new m(A);if(w.push(y,!0),w.err)throw w.msg||d[w.err];return w.result}m.prototype.push=function(y,A){var w,C,N,R,F,q,k=this.strm,L=this.options.chunkSize,B=this.options.dictionary,X=!1;if(this.ended)return!1;C=A===~~A?A:A===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof y=="string"?k.input=l.binstring2buf(y):b.call(y)==="[object ArrayBuffer]"?k.input=new Uint8Array(y):k.input=y,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new s.Buf8(L),k.next_out=0,k.avail_out=L),(w=a.inflate(k,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&B&&(q=typeof B=="string"?l.string2buf(B):b.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,w=a.inflateSetDictionary(this.strm,q)),w===u.Z_BUF_ERROR&&X===!0&&(w=u.Z_OK,X=!1),w!==u.Z_STREAM_END&&w!==u.Z_OK)return this.onEnd(w),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&w!==u.Z_STREAM_END&&(k.avail_in!==0||C!==u.Z_FINISH&&C!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(N=l.utf8border(k.output,k.next_out),R=k.next_out-N,F=l.buf2string(k.output,N),k.next_out=R,k.avail_out=L-R,R&&s.arraySet(k.output,k.output,N,R,0),this.onData(F)):this.onData(s.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(X=!0)}while((0<k.avail_in||k.avail_out===0)&&w!==u.Z_STREAM_END);return w===u.Z_STREAM_END&&(C=u.Z_FINISH),C===u.Z_FINISH?(w=a.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===u.Z_OK):C!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(k.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=m,i.inflate=x,i.inflateRaw=function(y,A){return(A=A||{}).raw=!0,x(y,A)},i.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var f=d.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var g in f)f.hasOwnProperty(g)&&(u[g]=f[g])}}return u},i.shrinkBuf=function(u,d){return u.length===d?u:u.subarray?u.subarray(0,d):(u.length=d,u)};var s={arraySet:function(u,d,f,g,b){if(d.subarray&&u.subarray)u.set(d.subarray(f,f+g),b);else for(var m=0;m<g;m++)u[b+m]=d[f+m]},flattenChunks:function(u){var d,f,g,b,m,x;for(d=g=0,f=u.length;d<f;d++)g+=u[d].length;for(x=new Uint8Array(g),d=b=0,f=u.length;d<f;d++)m=u[d],x.set(m,b),b+=m.length;return x}},l={arraySet:function(u,d,f,g,b){for(var m=0;m<g;m++)u[b+m]=d[f+m]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(a)},{}],42:[function(t,r,i){var a=t("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var u=new a.Buf8(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function f(g,b){if(b<65537&&(g.subarray&&l||!g.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(g,b));for(var m="",x=0;x<b;x++)m+=String.fromCharCode(g[x]);return m}u[254]=u[254]=1,i.string2buf=function(g){var b,m,x,y,A,w=g.length,C=0;for(y=0;y<w;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),y++),C+=m<128?1:m<2048?2:m<65536?3:4;for(b=new a.Buf8(C),y=A=0;A<C;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),y++),m<128?b[A++]=m:(m<2048?b[A++]=192|m>>>6:(m<65536?b[A++]=224|m>>>12:(b[A++]=240|m>>>18,b[A++]=128|m>>>12&63),b[A++]=128|m>>>6&63),b[A++]=128|63&m);return b},i.buf2binstring=function(g){return f(g,g.length)},i.binstring2buf=function(g){for(var b=new a.Buf8(g.length),m=0,x=b.length;m<x;m++)b[m]=g.charCodeAt(m);return b},i.buf2string=function(g,b){var m,x,y,A,w=b||g.length,C=new Array(2*w);for(m=x=0;m<w;)if((y=g[m++])<128)C[x++]=y;else if(4<(A=u[y]))C[x++]=65533,m+=A-1;else{for(y&=A===2?31:A===3?15:7;1<A&&m<w;)y=y<<6|63&g[m++],A--;1<A?C[x++]=65533:y<65536?C[x++]=y:(y-=65536,C[x++]=55296|y>>10&1023,C[x++]=56320|1023&y)}return f(C,x)},i.utf8border=function(g,b){var m;for((b=b||g.length)>g.length&&(b=g.length),m=b-1;0<=m&&(192&g[m])==128;)m--;return m<0||m===0?b:m+u[g[m]]>b?m:b}},{"./common":41}],43:[function(t,r,i){r.exports=function(a,s,l,u){for(var d=65535&a|0,f=a>>>16&65535|0,g=0;l!==0;){for(l-=g=2e3<l?2e3:l;f=f+(d=d+s[u++]|0)|0,--g;);d%=65521,f%=65521}return d|f<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var a=function(){for(var s,l=[],u=0;u<256;u++){s=u;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;l[u]=s}return l}();r.exports=function(s,l,u,d){var f=a,g=d+u;s^=-1;for(var b=d;b<g;b++)s=s>>>8^f[255&(s^l[b])];return-1^s}},{}],46:[function(t,r,i){var a,s=t("../utils/common"),l=t("./trees"),u=t("./adler32"),d=t("./crc32"),f=t("./messages"),g=0,b=4,m=0,x=-2,y=-1,A=4,w=2,C=8,N=9,R=286,F=30,q=19,k=2*R+1,L=15,B=3,X=258,j=X+B+1,O=42,P=113,T=1,G=2,W=3,K=4;function ie(V,Se){return V.msg=f[Se],Se}function ue(V){return(V<<1)-(4<V?9:0)}function $(V){for(var Se=V.length;0<=--Se;)V[Se]=0}function ae(V){var Se=V.state,te=Se.pending;te>V.avail_out&&(te=V.avail_out),te!==0&&(s.arraySet(V.output,Se.pending_buf,Se.pending_out,te,V.next_out),V.next_out+=te,Se.pending_out+=te,V.total_out+=te,V.avail_out-=te,Se.pending-=te,Se.pending===0&&(Se.pending_out=0))}function U(V,Se){l._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,Se),V.block_start=V.strstart,ae(V.strm)}function z(V,Se){V.pending_buf[V.pending++]=Se}function Z(V,Se){V.pending_buf[V.pending++]=Se>>>8&255,V.pending_buf[V.pending++]=255&Se}function ee(V,Se){var te,be,ce=V.max_chain_length,Ae=V.strstart,De=V.prev_length,ze=V.nice_match,Ne=V.strstart>V.w_size-j?V.strstart-(V.w_size-j):0,Xe=V.window,lt=V.w_mask,nt=V.prev,Fe=V.strstart+X,ve=Xe[Ae+De-1],ke=Xe[Ae+De];V.prev_length>=V.good_match&&(ce>>=2),ze>V.lookahead&&(ze=V.lookahead);do if(Xe[(te=Se)+De]===ke&&Xe[te+De-1]===ve&&Xe[te]===Xe[Ae]&&Xe[++te]===Xe[Ae+1]){Ae+=2,te++;do;while(Xe[++Ae]===Xe[++te]&&Xe[++Ae]===Xe[++te]&&Xe[++Ae]===Xe[++te]&&Xe[++Ae]===Xe[++te]&&Xe[++Ae]===Xe[++te]&&Xe[++Ae]===Xe[++te]&&Xe[++Ae]===Xe[++te]&&Xe[++Ae]===Xe[++te]&&Ae<Fe);if(be=X-(Fe-Ae),Ae=Fe-X,De<be){if(V.match_start=Se,ze<=(De=be))break;ve=Xe[Ae+De-1],ke=Xe[Ae+De]}}while((Se=nt[Se&lt])>Ne&&--ce!=0);return De<=V.lookahead?De:V.lookahead}function se(V){var Se,te,be,ce,Ae,De,ze,Ne,Xe,lt,nt=V.w_size;do{if(ce=V.window_size-V.lookahead-V.strstart,V.strstart>=nt+(nt-j)){for(s.arraySet(V.window,V.window,nt,nt,0),V.match_start-=nt,V.strstart-=nt,V.block_start-=nt,Se=te=V.hash_size;be=V.head[--Se],V.head[Se]=nt<=be?be-nt:0,--te;);for(Se=te=nt;be=V.prev[--Se],V.prev[Se]=nt<=be?be-nt:0,--te;);ce+=nt}if(V.strm.avail_in===0)break;if(De=V.strm,ze=V.window,Ne=V.strstart+V.lookahead,Xe=ce,lt=void 0,lt=De.avail_in,Xe<lt&&(lt=Xe),te=lt===0?0:(De.avail_in-=lt,s.arraySet(ze,De.input,De.next_in,lt,Ne),De.state.wrap===1?De.adler=u(De.adler,ze,lt,Ne):De.state.wrap===2&&(De.adler=d(De.adler,ze,lt,Ne)),De.next_in+=lt,De.total_in+=lt,lt),V.lookahead+=te,V.lookahead+V.insert>=B)for(Ae=V.strstart-V.insert,V.ins_h=V.window[Ae],V.ins_h=(V.ins_h<<V.hash_shift^V.window[Ae+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[Ae+B-1])&V.hash_mask,V.prev[Ae&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=Ae,Ae++,V.insert--,!(V.lookahead+V.insert<B)););}while(V.lookahead<j&&V.strm.avail_in!==0)}function we(V,Se){for(var te,be;;){if(V.lookahead<j){if(se(V),V.lookahead<j&&Se===g)return T;if(V.lookahead===0)break}if(te=0,V.lookahead>=B&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+B-1])&V.hash_mask,te=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),te!==0&&V.strstart-te<=V.w_size-j&&(V.match_length=ee(V,te)),V.match_length>=B)if(be=l._tr_tally(V,V.strstart-V.match_start,V.match_length-B),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=B){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+B-1])&V.hash_mask,te=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else be=l._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(be&&(U(V,!1),V.strm.avail_out===0))return T}return V.insert=V.strstart<B-1?V.strstart:B-1,Se===b?(U(V,!0),V.strm.avail_out===0?W:K):V.last_lit&&(U(V,!1),V.strm.avail_out===0)?T:G}function xe(V,Se){for(var te,be,ce;;){if(V.lookahead<j){if(se(V),V.lookahead<j&&Se===g)return T;if(V.lookahead===0)break}if(te=0,V.lookahead>=B&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+B-1])&V.hash_mask,te=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=B-1,te!==0&&V.prev_length<V.max_lazy_match&&V.strstart-te<=V.w_size-j&&(V.match_length=ee(V,te),V.match_length<=5&&(V.strategy===1||V.match_length===B&&4096<V.strstart-V.match_start)&&(V.match_length=B-1)),V.prev_length>=B&&V.match_length<=V.prev_length){for(ce=V.strstart+V.lookahead-B,be=l._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-B),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=ce&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+B-1])&V.hash_mask,te=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=B-1,V.strstart++,be&&(U(V,!1),V.strm.avail_out===0))return T}else if(V.match_available){if((be=l._tr_tally(V,0,V.window[V.strstart-1]))&&U(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return T}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(be=l._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<B-1?V.strstart:B-1,Se===b?(U(V,!0),V.strm.avail_out===0?W:K):V.last_lit&&(U(V,!1),V.strm.avail_out===0)?T:G}function Ee(V,Se,te,be,ce){this.good_length=V,this.max_lazy=Se,this.nice_length=te,this.max_chain=be,this.func=ce}function Ie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*k),this.dyn_dtree=new s.Buf16(2*(2*F+1)),this.bl_tree=new s.Buf16(2*(2*q+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(L+1),this.heap=new s.Buf16(2*R+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*R+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Re(V){var Se;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=w,(Se=V.state).pending=0,Se.pending_out=0,Se.wrap<0&&(Se.wrap=-Se.wrap),Se.status=Se.wrap?O:P,V.adler=Se.wrap===2?0:1,Se.last_flush=g,l._tr_init(Se),m):ie(V,x)}function We(V){var Se=Re(V);return Se===m&&function(te){te.window_size=2*te.w_size,$(te.head),te.max_lazy_match=a[te.level].max_lazy,te.good_match=a[te.level].good_length,te.nice_match=a[te.level].nice_length,te.max_chain_length=a[te.level].max_chain,te.strstart=0,te.block_start=0,te.lookahead=0,te.insert=0,te.match_length=te.prev_length=B-1,te.match_available=0,te.ins_h=0}(V.state),Se}function Ve(V,Se,te,be,ce,Ae){if(!V)return x;var De=1;if(Se===y&&(Se=6),be<0?(De=0,be=-be):15<be&&(De=2,be-=16),ce<1||N<ce||te!==C||be<8||15<be||Se<0||9<Se||Ae<0||A<Ae)return ie(V,x);be===8&&(be=9);var ze=new Ie;return(V.state=ze).strm=V,ze.wrap=De,ze.gzhead=null,ze.w_bits=be,ze.w_size=1<<ze.w_bits,ze.w_mask=ze.w_size-1,ze.hash_bits=ce+7,ze.hash_size=1<<ze.hash_bits,ze.hash_mask=ze.hash_size-1,ze.hash_shift=~~((ze.hash_bits+B-1)/B),ze.window=new s.Buf8(2*ze.w_size),ze.head=new s.Buf16(ze.hash_size),ze.prev=new s.Buf16(ze.w_size),ze.lit_bufsize=1<<ce+6,ze.pending_buf_size=4*ze.lit_bufsize,ze.pending_buf=new s.Buf8(ze.pending_buf_size),ze.d_buf=1*ze.lit_bufsize,ze.l_buf=3*ze.lit_bufsize,ze.level=Se,ze.strategy=Ae,ze.method=te,We(V)}a=[new Ee(0,0,0,0,function(V,Se){var te=65535;for(te>V.pending_buf_size-5&&(te=V.pending_buf_size-5);;){if(V.lookahead<=1){if(se(V),V.lookahead===0&&Se===g)return T;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var be=V.block_start+te;if((V.strstart===0||V.strstart>=be)&&(V.lookahead=V.strstart-be,V.strstart=be,U(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-j&&(U(V,!1),V.strm.avail_out===0))return T}return V.insert=0,Se===b?(U(V,!0),V.strm.avail_out===0?W:K):(V.strstart>V.block_start&&(U(V,!1),V.strm.avail_out),T)}),new Ee(4,4,8,4,we),new Ee(4,5,16,8,we),new Ee(4,6,32,32,we),new Ee(4,4,16,16,xe),new Ee(8,16,32,32,xe),new Ee(8,16,128,128,xe),new Ee(8,32,128,256,xe),new Ee(32,128,258,1024,xe),new Ee(32,258,258,4096,xe)],i.deflateInit=function(V,Se){return Ve(V,Se,C,15,8,0)},i.deflateInit2=Ve,i.deflateReset=We,i.deflateResetKeep=Re,i.deflateSetHeader=function(V,Se){return V&&V.state?V.state.wrap!==2?x:(V.state.gzhead=Se,m):x},i.deflate=function(V,Se){var te,be,ce,Ae;if(!V||!V.state||5<Se||Se<0)return V?ie(V,x):x;if(be=V.state,!V.output||!V.input&&V.avail_in!==0||be.status===666&&Se!==b)return ie(V,V.avail_out===0?-5:x);if(be.strm=V,te=be.last_flush,be.last_flush=Se,be.status===O)if(be.wrap===2)V.adler=0,z(be,31),z(be,139),z(be,8),be.gzhead?(z(be,(be.gzhead.text?1:0)+(be.gzhead.hcrc?2:0)+(be.gzhead.extra?4:0)+(be.gzhead.name?8:0)+(be.gzhead.comment?16:0)),z(be,255&be.gzhead.time),z(be,be.gzhead.time>>8&255),z(be,be.gzhead.time>>16&255),z(be,be.gzhead.time>>24&255),z(be,be.level===9?2:2<=be.strategy||be.level<2?4:0),z(be,255&be.gzhead.os),be.gzhead.extra&&be.gzhead.extra.length&&(z(be,255&be.gzhead.extra.length),z(be,be.gzhead.extra.length>>8&255)),be.gzhead.hcrc&&(V.adler=d(V.adler,be.pending_buf,be.pending,0)),be.gzindex=0,be.status=69):(z(be,0),z(be,0),z(be,0),z(be,0),z(be,0),z(be,be.level===9?2:2<=be.strategy||be.level<2?4:0),z(be,3),be.status=P);else{var De=C+(be.w_bits-8<<4)<<8;De|=(2<=be.strategy||be.level<2?0:be.level<6?1:be.level===6?2:3)<<6,be.strstart!==0&&(De|=32),De+=31-De%31,be.status=P,Z(be,De),be.strstart!==0&&(Z(be,V.adler>>>16),Z(be,65535&V.adler)),V.adler=1}if(be.status===69)if(be.gzhead.extra){for(ce=be.pending;be.gzindex<(65535&be.gzhead.extra.length)&&(be.pending!==be.pending_buf_size||(be.gzhead.hcrc&&be.pending>ce&&(V.adler=d(V.adler,be.pending_buf,be.pending-ce,ce)),ae(V),ce=be.pending,be.pending!==be.pending_buf_size));)z(be,255&be.gzhead.extra[be.gzindex]),be.gzindex++;be.gzhead.hcrc&&be.pending>ce&&(V.adler=d(V.adler,be.pending_buf,be.pending-ce,ce)),be.gzindex===be.gzhead.extra.length&&(be.gzindex=0,be.status=73)}else be.status=73;if(be.status===73)if(be.gzhead.name){ce=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>ce&&(V.adler=d(V.adler,be.pending_buf,be.pending-ce,ce)),ae(V),ce=be.pending,be.pending===be.pending_buf_size)){Ae=1;break}Ae=be.gzindex<be.gzhead.name.length?255&be.gzhead.name.charCodeAt(be.gzindex++):0,z(be,Ae)}while(Ae!==0);be.gzhead.hcrc&&be.pending>ce&&(V.adler=d(V.adler,be.pending_buf,be.pending-ce,ce)),Ae===0&&(be.gzindex=0,be.status=91)}else be.status=91;if(be.status===91)if(be.gzhead.comment){ce=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>ce&&(V.adler=d(V.adler,be.pending_buf,be.pending-ce,ce)),ae(V),ce=be.pending,be.pending===be.pending_buf_size)){Ae=1;break}Ae=be.gzindex<be.gzhead.comment.length?255&be.gzhead.comment.charCodeAt(be.gzindex++):0,z(be,Ae)}while(Ae!==0);be.gzhead.hcrc&&be.pending>ce&&(V.adler=d(V.adler,be.pending_buf,be.pending-ce,ce)),Ae===0&&(be.status=103)}else be.status=103;if(be.status===103&&(be.gzhead.hcrc?(be.pending+2>be.pending_buf_size&&ae(V),be.pending+2<=be.pending_buf_size&&(z(be,255&V.adler),z(be,V.adler>>8&255),V.adler=0,be.status=P)):be.status=P),be.pending!==0){if(ae(V),V.avail_out===0)return be.last_flush=-1,m}else if(V.avail_in===0&&ue(Se)<=ue(te)&&Se!==b)return ie(V,-5);if(be.status===666&&V.avail_in!==0)return ie(V,-5);if(V.avail_in!==0||be.lookahead!==0||Se!==g&&be.status!==666){var ze=be.strategy===2?function(Ne,Xe){for(var lt;;){if(Ne.lookahead===0&&(se(Ne),Ne.lookahead===0)){if(Xe===g)return T;break}if(Ne.match_length=0,lt=l._tr_tally(Ne,0,Ne.window[Ne.strstart]),Ne.lookahead--,Ne.strstart++,lt&&(U(Ne,!1),Ne.strm.avail_out===0))return T}return Ne.insert=0,Xe===b?(U(Ne,!0),Ne.strm.avail_out===0?W:K):Ne.last_lit&&(U(Ne,!1),Ne.strm.avail_out===0)?T:G}(be,Se):be.strategy===3?function(Ne,Xe){for(var lt,nt,Fe,ve,ke=Ne.window;;){if(Ne.lookahead<=X){if(se(Ne),Ne.lookahead<=X&&Xe===g)return T;if(Ne.lookahead===0)break}if(Ne.match_length=0,Ne.lookahead>=B&&0<Ne.strstart&&(nt=ke[Fe=Ne.strstart-1])===ke[++Fe]&&nt===ke[++Fe]&&nt===ke[++Fe]){ve=Ne.strstart+X;do;while(nt===ke[++Fe]&&nt===ke[++Fe]&&nt===ke[++Fe]&&nt===ke[++Fe]&&nt===ke[++Fe]&&nt===ke[++Fe]&&nt===ke[++Fe]&&nt===ke[++Fe]&&Fe<ve);Ne.match_length=X-(ve-Fe),Ne.match_length>Ne.lookahead&&(Ne.match_length=Ne.lookahead)}if(Ne.match_length>=B?(lt=l._tr_tally(Ne,1,Ne.match_length-B),Ne.lookahead-=Ne.match_length,Ne.strstart+=Ne.match_length,Ne.match_length=0):(lt=l._tr_tally(Ne,0,Ne.window[Ne.strstart]),Ne.lookahead--,Ne.strstart++),lt&&(U(Ne,!1),Ne.strm.avail_out===0))return T}return Ne.insert=0,Xe===b?(U(Ne,!0),Ne.strm.avail_out===0?W:K):Ne.last_lit&&(U(Ne,!1),Ne.strm.avail_out===0)?T:G}(be,Se):a[be.level].func(be,Se);if(ze!==W&&ze!==K||(be.status=666),ze===T||ze===W)return V.avail_out===0&&(be.last_flush=-1),m;if(ze===G&&(Se===1?l._tr_align(be):Se!==5&&(l._tr_stored_block(be,0,0,!1),Se===3&&($(be.head),be.lookahead===0&&(be.strstart=0,be.block_start=0,be.insert=0))),ae(V),V.avail_out===0))return be.last_flush=-1,m}return Se!==b?m:be.wrap<=0?1:(be.wrap===2?(z(be,255&V.adler),z(be,V.adler>>8&255),z(be,V.adler>>16&255),z(be,V.adler>>24&255),z(be,255&V.total_in),z(be,V.total_in>>8&255),z(be,V.total_in>>16&255),z(be,V.total_in>>24&255)):(Z(be,V.adler>>>16),Z(be,65535&V.adler)),ae(V),0<be.wrap&&(be.wrap=-be.wrap),be.pending!==0?m:1)},i.deflateEnd=function(V){var Se;return V&&V.state?(Se=V.state.status)!==O&&Se!==69&&Se!==73&&Se!==91&&Se!==103&&Se!==P&&Se!==666?ie(V,x):(V.state=null,Se===P?ie(V,-3):m):x},i.deflateSetDictionary=function(V,Se){var te,be,ce,Ae,De,ze,Ne,Xe,lt=Se.length;if(!V||!V.state||(Ae=(te=V.state).wrap)===2||Ae===1&&te.status!==O||te.lookahead)return x;for(Ae===1&&(V.adler=u(V.adler,Se,lt,0)),te.wrap=0,lt>=te.w_size&&(Ae===0&&($(te.head),te.strstart=0,te.block_start=0,te.insert=0),Xe=new s.Buf8(te.w_size),s.arraySet(Xe,Se,lt-te.w_size,te.w_size,0),Se=Xe,lt=te.w_size),De=V.avail_in,ze=V.next_in,Ne=V.input,V.avail_in=lt,V.next_in=0,V.input=Se,se(te);te.lookahead>=B;){for(be=te.strstart,ce=te.lookahead-(B-1);te.ins_h=(te.ins_h<<te.hash_shift^te.window[be+B-1])&te.hash_mask,te.prev[be&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=be,be++,--ce;);te.strstart=be,te.lookahead=B-1,se(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=B-1,te.match_available=0,V.next_in=ze,V.input=Ne,V.avail_in=De,te.wrap=Ae,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(a,s){var l,u,d,f,g,b,m,x,y,A,w,C,N,R,F,q,k,L,B,X,j,O,P,T,G;l=a.state,u=a.next_in,T=a.input,d=u+(a.avail_in-5),f=a.next_out,G=a.output,g=f-(s-a.avail_out),b=f+(a.avail_out-257),m=l.dmax,x=l.wsize,y=l.whave,A=l.wnext,w=l.window,C=l.hold,N=l.bits,R=l.lencode,F=l.distcode,q=(1<<l.lenbits)-1,k=(1<<l.distbits)-1;e:do{N<15&&(C+=T[u++]<<N,N+=8,C+=T[u++]<<N,N+=8),L=R[C&q];t:for(;;){if(C>>>=B=L>>>24,N-=B,(B=L>>>16&255)===0)G[f++]=65535&L;else{if(!(16&B)){if((64&B)==0){L=R[(65535&L)+(C&(1<<B)-1)];continue t}if(32&B){l.mode=12;break e}a.msg="invalid literal/length code",l.mode=30;break e}X=65535&L,(B&=15)&&(N<B&&(C+=T[u++]<<N,N+=8),X+=C&(1<<B)-1,C>>>=B,N-=B),N<15&&(C+=T[u++]<<N,N+=8,C+=T[u++]<<N,N+=8),L=F[C&k];n:for(;;){if(C>>>=B=L>>>24,N-=B,!(16&(B=L>>>16&255))){if((64&B)==0){L=F[(65535&L)+(C&(1<<B)-1)];continue n}a.msg="invalid distance code",l.mode=30;break e}if(j=65535&L,N<(B&=15)&&(C+=T[u++]<<N,(N+=8)<B&&(C+=T[u++]<<N,N+=8)),m<(j+=C&(1<<B)-1)){a.msg="invalid distance too far back",l.mode=30;break e}if(C>>>=B,N-=B,(B=f-g)<j){if(y<(B=j-B)&&l.sane){a.msg="invalid distance too far back",l.mode=30;break e}if(P=w,(O=0)===A){if(O+=x-B,B<X){for(X-=B;G[f++]=w[O++],--B;);O=f-j,P=G}}else if(A<B){if(O+=x+A-B,(B-=A)<X){for(X-=B;G[f++]=w[O++],--B;);if(O=0,A<X){for(X-=B=A;G[f++]=w[O++],--B;);O=f-j,P=G}}}else if(O+=A-B,B<X){for(X-=B;G[f++]=w[O++],--B;);O=f-j,P=G}for(;2<X;)G[f++]=P[O++],G[f++]=P[O++],G[f++]=P[O++],X-=3;X&&(G[f++]=P[O++],1<X&&(G[f++]=P[O++]))}else{for(O=f-j;G[f++]=G[O++],G[f++]=G[O++],G[f++]=G[O++],2<(X-=3););X&&(G[f++]=G[O++],1<X&&(G[f++]=G[O++]))}break}}break}}while(u<d&&f<b);u-=X=N>>3,C&=(1<<(N-=X<<3))-1,a.next_in=u,a.next_out=f,a.avail_in=u<d?d-u+5:5-(u-d),a.avail_out=f<b?b-f+257:257-(f-b),l.hold=C,l.bits=N}},{}],49:[function(t,r,i){var a=t("../utils/common"),s=t("./adler32"),l=t("./crc32"),u=t("./inffast"),d=t("./inftrees"),f=1,g=2,b=0,m=-2,x=1,y=852,A=592;function w(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function N(O){var P;return O&&O.state?(P=O.state,O.total_in=O.total_out=P.total=0,O.msg="",P.wrap&&(O.adler=1&P.wrap),P.mode=x,P.last=0,P.havedict=0,P.dmax=32768,P.head=null,P.hold=0,P.bits=0,P.lencode=P.lendyn=new a.Buf32(y),P.distcode=P.distdyn=new a.Buf32(A),P.sane=1,P.back=-1,b):m}function R(O){var P;return O&&O.state?((P=O.state).wsize=0,P.whave=0,P.wnext=0,N(O)):m}function F(O,P){var T,G;return O&&O.state?(G=O.state,P<0?(T=0,P=-P):(T=1+(P>>4),P<48&&(P&=15)),P&&(P<8||15<P)?m:(G.window!==null&&G.wbits!==P&&(G.window=null),G.wrap=T,G.wbits=P,R(O))):m}function q(O,P){var T,G;return O?(G=new C,(O.state=G).window=null,(T=F(O,P))!==b&&(O.state=null),T):m}var k,L,B=!0;function X(O){if(B){var P;for(k=new a.Buf32(512),L=new a.Buf32(32),P=0;P<144;)O.lens[P++]=8;for(;P<256;)O.lens[P++]=9;for(;P<280;)O.lens[P++]=7;for(;P<288;)O.lens[P++]=8;for(d(f,O.lens,0,288,k,0,O.work,{bits:9}),P=0;P<32;)O.lens[P++]=5;d(g,O.lens,0,32,L,0,O.work,{bits:5}),B=!1}O.lencode=k,O.lenbits=9,O.distcode=L,O.distbits=5}function j(O,P,T,G){var W,K=O.state;return K.window===null&&(K.wsize=1<<K.wbits,K.wnext=0,K.whave=0,K.window=new a.Buf8(K.wsize)),G>=K.wsize?(a.arraySet(K.window,P,T-K.wsize,K.wsize,0),K.wnext=0,K.whave=K.wsize):(G<(W=K.wsize-K.wnext)&&(W=G),a.arraySet(K.window,P,T-G,W,K.wnext),(G-=W)?(a.arraySet(K.window,P,T-G,G,0),K.wnext=G,K.whave=K.wsize):(K.wnext+=W,K.wnext===K.wsize&&(K.wnext=0),K.whave<K.wsize&&(K.whave+=W))),0}i.inflateReset=R,i.inflateReset2=F,i.inflateResetKeep=N,i.inflateInit=function(O){return q(O,15)},i.inflateInit2=q,i.inflate=function(O,P){var T,G,W,K,ie,ue,$,ae,U,z,Z,ee,se,we,xe,Ee,Ie,Re,We,Ve,V,Se,te,be,ce=0,Ae=new a.Buf8(4),De=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return m;(T=O.state).mode===12&&(T.mode=13),ie=O.next_out,W=O.output,$=O.avail_out,K=O.next_in,G=O.input,ue=O.avail_in,ae=T.hold,U=T.bits,z=ue,Z=$,Se=b;e:for(;;)switch(T.mode){case x:if(T.wrap===0){T.mode=13;break}for(;U<16;){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}if(2&T.wrap&&ae===35615){Ae[T.check=0]=255&ae,Ae[1]=ae>>>8&255,T.check=l(T.check,Ae,2,0),U=ae=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&ae)<<8)+(ae>>8))%31){O.msg="incorrect header check",T.mode=30;break}if((15&ae)!=8){O.msg="unknown compression method",T.mode=30;break}if(U-=4,V=8+(15&(ae>>>=4)),T.wbits===0)T.wbits=V;else if(V>T.wbits){O.msg="invalid window size",T.mode=30;break}T.dmax=1<<V,O.adler=T.check=1,T.mode=512&ae?10:12,U=ae=0;break;case 2:for(;U<16;){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}if(T.flags=ae,(255&T.flags)!=8){O.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){O.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=ae>>8&1),512&T.flags&&(Ae[0]=255&ae,Ae[1]=ae>>>8&255,T.check=l(T.check,Ae,2,0)),U=ae=0,T.mode=3;case 3:for(;U<32;){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}T.head&&(T.head.time=ae),512&T.flags&&(Ae[0]=255&ae,Ae[1]=ae>>>8&255,Ae[2]=ae>>>16&255,Ae[3]=ae>>>24&255,T.check=l(T.check,Ae,4,0)),U=ae=0,T.mode=4;case 4:for(;U<16;){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}T.head&&(T.head.xflags=255&ae,T.head.os=ae>>8),512&T.flags&&(Ae[0]=255&ae,Ae[1]=ae>>>8&255,T.check=l(T.check,Ae,2,0)),U=ae=0,T.mode=5;case 5:if(1024&T.flags){for(;U<16;){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}T.length=ae,T.head&&(T.head.extra_len=ae),512&T.flags&&(Ae[0]=255&ae,Ae[1]=ae>>>8&255,T.check=l(T.check,Ae,2,0)),U=ae=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(ue<(ee=T.length)&&(ee=ue),ee&&(T.head&&(V=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),a.arraySet(T.head.extra,G,K,ee,V)),512&T.flags&&(T.check=l(T.check,G,ee,K)),ue-=ee,K+=ee,T.length-=ee),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(ue===0)break e;for(ee=0;V=G[K+ee++],T.head&&V&&T.length<65536&&(T.head.name+=String.fromCharCode(V)),V&&ee<ue;);if(512&T.flags&&(T.check=l(T.check,G,ee,K)),ue-=ee,K+=ee,V)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(ue===0)break e;for(ee=0;V=G[K+ee++],T.head&&V&&T.length<65536&&(T.head.comment+=String.fromCharCode(V)),V&&ee<ue;);if(512&T.flags&&(T.check=l(T.check,G,ee,K)),ue-=ee,K+=ee,V)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;U<16;){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}if(ae!==(65535&T.check)){O.msg="header crc mismatch",T.mode=30;break}U=ae=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),O.adler=T.check=0,T.mode=12;break;case 10:for(;U<32;){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}O.adler=T.check=w(ae),U=ae=0,T.mode=11;case 11:if(T.havedict===0)return O.next_out=ie,O.avail_out=$,O.next_in=K,O.avail_in=ue,T.hold=ae,T.bits=U,2;O.adler=T.check=1,T.mode=12;case 12:if(P===5||P===6)break e;case 13:if(T.last){ae>>>=7&U,U-=7&U,T.mode=27;break}for(;U<3;){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}switch(T.last=1&ae,U-=1,3&(ae>>>=1)){case 0:T.mode=14;break;case 1:if(X(T),T.mode=20,P!==6)break;ae>>>=2,U-=2;break e;case 2:T.mode=17;break;case 3:O.msg="invalid block type",T.mode=30}ae>>>=2,U-=2;break;case 14:for(ae>>>=7&U,U-=7&U;U<32;){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}if((65535&ae)!=(ae>>>16^65535)){O.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&ae,U=ae=0,T.mode=15,P===6)break e;case 15:T.mode=16;case 16:if(ee=T.length){if(ue<ee&&(ee=ue),$<ee&&(ee=$),ee===0)break e;a.arraySet(W,G,K,ee,ie),ue-=ee,K+=ee,$-=ee,ie+=ee,T.length-=ee;break}T.mode=12;break;case 17:for(;U<14;){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}if(T.nlen=257+(31&ae),ae>>>=5,U-=5,T.ndist=1+(31&ae),ae>>>=5,U-=5,T.ncode=4+(15&ae),ae>>>=4,U-=4,286<T.nlen||30<T.ndist){O.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;U<3;){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}T.lens[De[T.have++]]=7&ae,ae>>>=3,U-=3}for(;T.have<19;)T.lens[De[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,te={bits:T.lenbits},Se=d(0,T.lens,0,19,T.lencode,0,T.work,te),T.lenbits=te.bits,Se){O.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;Ee=(ce=T.lencode[ae&(1<<T.lenbits)-1])>>>16&255,Ie=65535&ce,!((xe=ce>>>24)<=U);){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}if(Ie<16)ae>>>=xe,U-=xe,T.lens[T.have++]=Ie;else{if(Ie===16){for(be=xe+2;U<be;){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}if(ae>>>=xe,U-=xe,T.have===0){O.msg="invalid bit length repeat",T.mode=30;break}V=T.lens[T.have-1],ee=3+(3&ae),ae>>>=2,U-=2}else if(Ie===17){for(be=xe+3;U<be;){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}U-=xe,V=0,ee=3+(7&(ae>>>=xe)),ae>>>=3,U-=3}else{for(be=xe+7;U<be;){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}U-=xe,V=0,ee=11+(127&(ae>>>=xe)),ae>>>=7,U-=7}if(T.have+ee>T.nlen+T.ndist){O.msg="invalid bit length repeat",T.mode=30;break}for(;ee--;)T.lens[T.have++]=V}}if(T.mode===30)break;if(T.lens[256]===0){O.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,te={bits:T.lenbits},Se=d(f,T.lens,0,T.nlen,T.lencode,0,T.work,te),T.lenbits=te.bits,Se){O.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,te={bits:T.distbits},Se=d(g,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,te),T.distbits=te.bits,Se){O.msg="invalid distances set",T.mode=30;break}if(T.mode=20,P===6)break e;case 20:T.mode=21;case 21:if(6<=ue&&258<=$){O.next_out=ie,O.avail_out=$,O.next_in=K,O.avail_in=ue,T.hold=ae,T.bits=U,u(O,Z),ie=O.next_out,W=O.output,$=O.avail_out,K=O.next_in,G=O.input,ue=O.avail_in,ae=T.hold,U=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;Ee=(ce=T.lencode[ae&(1<<T.lenbits)-1])>>>16&255,Ie=65535&ce,!((xe=ce>>>24)<=U);){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}if(Ee&&(240&Ee)==0){for(Re=xe,We=Ee,Ve=Ie;Ee=(ce=T.lencode[Ve+((ae&(1<<Re+We)-1)>>Re)])>>>16&255,Ie=65535&ce,!(Re+(xe=ce>>>24)<=U);){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}ae>>>=Re,U-=Re,T.back+=Re}if(ae>>>=xe,U-=xe,T.back+=xe,T.length=Ie,Ee===0){T.mode=26;break}if(32&Ee){T.back=-1,T.mode=12;break}if(64&Ee){O.msg="invalid literal/length code",T.mode=30;break}T.extra=15&Ee,T.mode=22;case 22:if(T.extra){for(be=T.extra;U<be;){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}T.length+=ae&(1<<T.extra)-1,ae>>>=T.extra,U-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;Ee=(ce=T.distcode[ae&(1<<T.distbits)-1])>>>16&255,Ie=65535&ce,!((xe=ce>>>24)<=U);){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}if((240&Ee)==0){for(Re=xe,We=Ee,Ve=Ie;Ee=(ce=T.distcode[Ve+((ae&(1<<Re+We)-1)>>Re)])>>>16&255,Ie=65535&ce,!(Re+(xe=ce>>>24)<=U);){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}ae>>>=Re,U-=Re,T.back+=Re}if(ae>>>=xe,U-=xe,T.back+=xe,64&Ee){O.msg="invalid distance code",T.mode=30;break}T.offset=Ie,T.extra=15&Ee,T.mode=24;case 24:if(T.extra){for(be=T.extra;U<be;){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}T.offset+=ae&(1<<T.extra)-1,ae>>>=T.extra,U-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){O.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if($===0)break e;if(ee=Z-$,T.offset>ee){if((ee=T.offset-ee)>T.whave&&T.sane){O.msg="invalid distance too far back",T.mode=30;break}se=ee>T.wnext?(ee-=T.wnext,T.wsize-ee):T.wnext-ee,ee>T.length&&(ee=T.length),we=T.window}else we=W,se=ie-T.offset,ee=T.length;for($<ee&&(ee=$),$-=ee,T.length-=ee;W[ie++]=we[se++],--ee;);T.length===0&&(T.mode=21);break;case 26:if($===0)break e;W[ie++]=T.length,$--,T.mode=21;break;case 27:if(T.wrap){for(;U<32;){if(ue===0)break e;ue--,ae|=G[K++]<<U,U+=8}if(Z-=$,O.total_out+=Z,T.total+=Z,Z&&(O.adler=T.check=T.flags?l(T.check,W,Z,ie-Z):s(T.check,W,Z,ie-Z)),Z=$,(T.flags?ae:w(ae))!==T.check){O.msg="incorrect data check",T.mode=30;break}U=ae=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;U<32;){if(ue===0)break e;ue--,ae+=G[K++]<<U,U+=8}if(ae!==(4294967295&T.total)){O.msg="incorrect length check",T.mode=30;break}U=ae=0}T.mode=29;case 29:Se=1;break e;case 30:Se=-3;break e;case 31:return-4;case 32:default:return m}return O.next_out=ie,O.avail_out=$,O.next_in=K,O.avail_in=ue,T.hold=ae,T.bits=U,(T.wsize||Z!==O.avail_out&&T.mode<30&&(T.mode<27||P!==4))&&j(O,O.output,O.next_out,Z-O.avail_out)?(T.mode=31,-4):(z-=O.avail_in,Z-=O.avail_out,O.total_in+=z,O.total_out+=Z,T.total+=Z,T.wrap&&Z&&(O.adler=T.check=T.flags?l(T.check,W,Z,O.next_out-Z):s(T.check,W,Z,O.next_out-Z)),O.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(z==0&&Z===0||P===4)&&Se===b&&(Se=-5),Se)},i.inflateEnd=function(O){if(!O||!O.state)return m;var P=O.state;return P.window&&(P.window=null),O.state=null,b},i.inflateGetHeader=function(O,P){var T;return O&&O.state?(2&(T=O.state).wrap)==0?m:((T.head=P).done=!1,b):m},i.inflateSetDictionary=function(O,P){var T,G=P.length;return O&&O.state?(T=O.state).wrap!==0&&T.mode!==11?m:T.mode===11&&s(1,P,G,0)!==T.check?-3:j(O,P,G,G)?(T.mode=31,-4):(T.havedict=1,b):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var a=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,g,b,m,x,y,A,w){var C,N,R,F,q,k,L,B,X,j=w.bits,O=0,P=0,T=0,G=0,W=0,K=0,ie=0,ue=0,$=0,ae=0,U=null,z=0,Z=new a.Buf16(16),ee=new a.Buf16(16),se=null,we=0;for(O=0;O<=15;O++)Z[O]=0;for(P=0;P<m;P++)Z[g[b+P]]++;for(W=j,G=15;1<=G&&Z[G]===0;G--);if(G<W&&(W=G),G===0)return x[y++]=20971520,x[y++]=20971520,w.bits=1,0;for(T=1;T<G&&Z[T]===0;T++);for(W<T&&(W=T),O=ue=1;O<=15;O++)if(ue<<=1,(ue-=Z[O])<0)return-1;if(0<ue&&(f===0||G!==1))return-1;for(ee[1]=0,O=1;O<15;O++)ee[O+1]=ee[O]+Z[O];for(P=0;P<m;P++)g[b+P]!==0&&(A[ee[g[b+P]]++]=P);if(k=f===0?(U=se=A,19):f===1?(U=s,z-=257,se=l,we-=257,256):(U=u,se=d,-1),O=T,q=y,ie=P=ae=0,R=-1,F=($=1<<(K=W))-1,f===1&&852<$||f===2&&592<$)return 1;for(;;){for(L=O-ie,X=A[P]<k?(B=0,A[P]):A[P]>k?(B=se[we+A[P]],U[z+A[P]]):(B=96,0),C=1<<O-ie,T=N=1<<K;x[q+(ae>>ie)+(N-=C)]=L<<24|B<<16|X|0,N!==0;);for(C=1<<O-1;ae&C;)C>>=1;if(C!==0?(ae&=C-1,ae+=C):ae=0,P++,--Z[O]==0){if(O===G)break;O=g[b+A[P]]}if(W<O&&(ae&F)!==R){for(ie===0&&(ie=W),q+=T,ue=1<<(K=O-ie);K+ie<G&&!((ue-=Z[K+ie])<=0);)K++,ue<<=1;if($+=1<<K,f===1&&852<$||f===2&&592<$)return 1;x[R=ae&F]=W<<24|K<<16|q-y|0}}return ae!==0&&(x[q+ae]=O-ie<<24|64<<16|0),w.bits=W,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var a=t("../utils/common"),s=0,l=1;function u(ce){for(var Ae=ce.length;0<=--Ae;)ce[Ae]=0}var d=0,f=29,g=256,b=g+1+f,m=30,x=19,y=2*b+1,A=15,w=16,C=7,N=256,R=16,F=17,q=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(b+2));u(j);var O=new Array(2*m);u(O);var P=new Array(512);u(P);var T=new Array(256);u(T);var G=new Array(f);u(G);var W,K,ie,ue=new Array(m);function $(ce,Ae,De,ze,Ne){this.static_tree=ce,this.extra_bits=Ae,this.extra_base=De,this.elems=ze,this.max_length=Ne,this.has_stree=ce&&ce.length}function ae(ce,Ae){this.dyn_tree=ce,this.max_code=0,this.stat_desc=Ae}function U(ce){return ce<256?P[ce]:P[256+(ce>>>7)]}function z(ce,Ae){ce.pending_buf[ce.pending++]=255&Ae,ce.pending_buf[ce.pending++]=Ae>>>8&255}function Z(ce,Ae,De){ce.bi_valid>w-De?(ce.bi_buf|=Ae<<ce.bi_valid&65535,z(ce,ce.bi_buf),ce.bi_buf=Ae>>w-ce.bi_valid,ce.bi_valid+=De-w):(ce.bi_buf|=Ae<<ce.bi_valid&65535,ce.bi_valid+=De)}function ee(ce,Ae,De){Z(ce,De[2*Ae],De[2*Ae+1])}function se(ce,Ae){for(var De=0;De|=1&ce,ce>>>=1,De<<=1,0<--Ae;);return De>>>1}function we(ce,Ae,De){var ze,Ne,Xe=new Array(A+1),lt=0;for(ze=1;ze<=A;ze++)Xe[ze]=lt=lt+De[ze-1]<<1;for(Ne=0;Ne<=Ae;Ne++){var nt=ce[2*Ne+1];nt!==0&&(ce[2*Ne]=se(Xe[nt]++,nt))}}function xe(ce){var Ae;for(Ae=0;Ae<b;Ae++)ce.dyn_ltree[2*Ae]=0;for(Ae=0;Ae<m;Ae++)ce.dyn_dtree[2*Ae]=0;for(Ae=0;Ae<x;Ae++)ce.bl_tree[2*Ae]=0;ce.dyn_ltree[2*N]=1,ce.opt_len=ce.static_len=0,ce.last_lit=ce.matches=0}function Ee(ce){8<ce.bi_valid?z(ce,ce.bi_buf):0<ce.bi_valid&&(ce.pending_buf[ce.pending++]=ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0}function Ie(ce,Ae,De,ze){var Ne=2*Ae,Xe=2*De;return ce[Ne]<ce[Xe]||ce[Ne]===ce[Xe]&&ze[Ae]<=ze[De]}function Re(ce,Ae,De){for(var ze=ce.heap[De],Ne=De<<1;Ne<=ce.heap_len&&(Ne<ce.heap_len&&Ie(Ae,ce.heap[Ne+1],ce.heap[Ne],ce.depth)&&Ne++,!Ie(Ae,ze,ce.heap[Ne],ce.depth));)ce.heap[De]=ce.heap[Ne],De=Ne,Ne<<=1;ce.heap[De]=ze}function We(ce,Ae,De){var ze,Ne,Xe,lt,nt=0;if(ce.last_lit!==0)for(;ze=ce.pending_buf[ce.d_buf+2*nt]<<8|ce.pending_buf[ce.d_buf+2*nt+1],Ne=ce.pending_buf[ce.l_buf+nt],nt++,ze===0?ee(ce,Ne,Ae):(ee(ce,(Xe=T[Ne])+g+1,Ae),(lt=k[Xe])!==0&&Z(ce,Ne-=G[Xe],lt),ee(ce,Xe=U(--ze),De),(lt=L[Xe])!==0&&Z(ce,ze-=ue[Xe],lt)),nt<ce.last_lit;);ee(ce,N,Ae)}function Ve(ce,Ae){var De,ze,Ne,Xe=Ae.dyn_tree,lt=Ae.stat_desc.static_tree,nt=Ae.stat_desc.has_stree,Fe=Ae.stat_desc.elems,ve=-1;for(ce.heap_len=0,ce.heap_max=y,De=0;De<Fe;De++)Xe[2*De]!==0?(ce.heap[++ce.heap_len]=ve=De,ce.depth[De]=0):Xe[2*De+1]=0;for(;ce.heap_len<2;)Xe[2*(Ne=ce.heap[++ce.heap_len]=ve<2?++ve:0)]=1,ce.depth[Ne]=0,ce.opt_len--,nt&&(ce.static_len-=lt[2*Ne+1]);for(Ae.max_code=ve,De=ce.heap_len>>1;1<=De;De--)Re(ce,Xe,De);for(Ne=Fe;De=ce.heap[1],ce.heap[1]=ce.heap[ce.heap_len--],Re(ce,Xe,1),ze=ce.heap[1],ce.heap[--ce.heap_max]=De,ce.heap[--ce.heap_max]=ze,Xe[2*Ne]=Xe[2*De]+Xe[2*ze],ce.depth[Ne]=(ce.depth[De]>=ce.depth[ze]?ce.depth[De]:ce.depth[ze])+1,Xe[2*De+1]=Xe[2*ze+1]=Ne,ce.heap[1]=Ne++,Re(ce,Xe,1),2<=ce.heap_len;);ce.heap[--ce.heap_max]=ce.heap[1],function(ke,Te){var dt,Je,Ft,kt,Vt,Lt,Zt=Te.dyn_tree,nn=Te.max_code,ln=Te.stat_desc.static_tree,Pn=Te.stat_desc.has_stree,zn=Te.stat_desc.extra_bits,Gr=Te.stat_desc.extra_base,ir=Te.stat_desc.max_length,Rn=0;for(kt=0;kt<=A;kt++)ke.bl_count[kt]=0;for(Zt[2*ke.heap[ke.heap_max]+1]=0,dt=ke.heap_max+1;dt<y;dt++)ir<(kt=Zt[2*Zt[2*(Je=ke.heap[dt])+1]+1]+1)&&(kt=ir,Rn++),Zt[2*Je+1]=kt,nn<Je||(ke.bl_count[kt]++,Vt=0,Gr<=Je&&(Vt=zn[Je-Gr]),Lt=Zt[2*Je],ke.opt_len+=Lt*(kt+Vt),Pn&&(ke.static_len+=Lt*(ln[2*Je+1]+Vt)));if(Rn!==0){do{for(kt=ir-1;ke.bl_count[kt]===0;)kt--;ke.bl_count[kt]--,ke.bl_count[kt+1]+=2,ke.bl_count[ir]--,Rn-=2}while(0<Rn);for(kt=ir;kt!==0;kt--)for(Je=ke.bl_count[kt];Je!==0;)nn<(Ft=ke.heap[--dt])||(Zt[2*Ft+1]!==kt&&(ke.opt_len+=(kt-Zt[2*Ft+1])*Zt[2*Ft],Zt[2*Ft+1]=kt),Je--)}}(ce,Ae),we(Xe,ve,ce.bl_count)}function V(ce,Ae,De){var ze,Ne,Xe=-1,lt=Ae[1],nt=0,Fe=7,ve=4;for(lt===0&&(Fe=138,ve=3),Ae[2*(De+1)+1]=65535,ze=0;ze<=De;ze++)Ne=lt,lt=Ae[2*(ze+1)+1],++nt<Fe&&Ne===lt||(nt<ve?ce.bl_tree[2*Ne]+=nt:Ne!==0?(Ne!==Xe&&ce.bl_tree[2*Ne]++,ce.bl_tree[2*R]++):nt<=10?ce.bl_tree[2*F]++:ce.bl_tree[2*q]++,Xe=Ne,ve=(nt=0)===lt?(Fe=138,3):Ne===lt?(Fe=6,3):(Fe=7,4))}function Se(ce,Ae,De){var ze,Ne,Xe=-1,lt=Ae[1],nt=0,Fe=7,ve=4;for(lt===0&&(Fe=138,ve=3),ze=0;ze<=De;ze++)if(Ne=lt,lt=Ae[2*(ze+1)+1],!(++nt<Fe&&Ne===lt)){if(nt<ve)for(;ee(ce,Ne,ce.bl_tree),--nt!=0;);else Ne!==0?(Ne!==Xe&&(ee(ce,Ne,ce.bl_tree),nt--),ee(ce,R,ce.bl_tree),Z(ce,nt-3,2)):nt<=10?(ee(ce,F,ce.bl_tree),Z(ce,nt-3,3)):(ee(ce,q,ce.bl_tree),Z(ce,nt-11,7));Xe=Ne,ve=(nt=0)===lt?(Fe=138,3):Ne===lt?(Fe=6,3):(Fe=7,4)}}u(ue);var te=!1;function be(ce,Ae,De,ze){Z(ce,(d<<1)+(ze?1:0),3),function(Ne,Xe,lt,nt){Ee(Ne),z(Ne,lt),z(Ne,~lt),a.arraySet(Ne.pending_buf,Ne.window,Xe,lt,Ne.pending),Ne.pending+=lt}(ce,Ae,De)}i._tr_init=function(ce){te||(function(){var Ae,De,ze,Ne,Xe,lt=new Array(A+1);for(Ne=ze=0;Ne<f-1;Ne++)for(G[Ne]=ze,Ae=0;Ae<1<<k[Ne];Ae++)T[ze++]=Ne;for(T[ze-1]=Ne,Ne=Xe=0;Ne<16;Ne++)for(ue[Ne]=Xe,Ae=0;Ae<1<<L[Ne];Ae++)P[Xe++]=Ne;for(Xe>>=7;Ne<m;Ne++)for(ue[Ne]=Xe<<7,Ae=0;Ae<1<<L[Ne]-7;Ae++)P[256+Xe++]=Ne;for(De=0;De<=A;De++)lt[De]=0;for(Ae=0;Ae<=143;)j[2*Ae+1]=8,Ae++,lt[8]++;for(;Ae<=255;)j[2*Ae+1]=9,Ae++,lt[9]++;for(;Ae<=279;)j[2*Ae+1]=7,Ae++,lt[7]++;for(;Ae<=287;)j[2*Ae+1]=8,Ae++,lt[8]++;for(we(j,b+1,lt),Ae=0;Ae<m;Ae++)O[2*Ae+1]=5,O[2*Ae]=se(Ae,5);W=new $(j,k,g+1,b,A),K=new $(O,L,0,m,A),ie=new $(new Array(0),B,0,x,C)}(),te=!0),ce.l_desc=new ae(ce.dyn_ltree,W),ce.d_desc=new ae(ce.dyn_dtree,K),ce.bl_desc=new ae(ce.bl_tree,ie),ce.bi_buf=0,ce.bi_valid=0,xe(ce)},i._tr_stored_block=be,i._tr_flush_block=function(ce,Ae,De,ze){var Ne,Xe,lt=0;0<ce.level?(ce.strm.data_type===2&&(ce.strm.data_type=function(nt){var Fe,ve=4093624447;for(Fe=0;Fe<=31;Fe++,ve>>>=1)if(1&ve&&nt.dyn_ltree[2*Fe]!==0)return s;if(nt.dyn_ltree[18]!==0||nt.dyn_ltree[20]!==0||nt.dyn_ltree[26]!==0)return l;for(Fe=32;Fe<g;Fe++)if(nt.dyn_ltree[2*Fe]!==0)return l;return s}(ce)),Ve(ce,ce.l_desc),Ve(ce,ce.d_desc),lt=function(nt){var Fe;for(V(nt,nt.dyn_ltree,nt.l_desc.max_code),V(nt,nt.dyn_dtree,nt.d_desc.max_code),Ve(nt,nt.bl_desc),Fe=x-1;3<=Fe&&nt.bl_tree[2*X[Fe]+1]===0;Fe--);return nt.opt_len+=3*(Fe+1)+5+5+4,Fe}(ce),Ne=ce.opt_len+3+7>>>3,(Xe=ce.static_len+3+7>>>3)<=Ne&&(Ne=Xe)):Ne=Xe=De+5,De+4<=Ne&&Ae!==-1?be(ce,Ae,De,ze):ce.strategy===4||Xe===Ne?(Z(ce,2+(ze?1:0),3),We(ce,j,O)):(Z(ce,4+(ze?1:0),3),function(nt,Fe,ve,ke){var Te;for(Z(nt,Fe-257,5),Z(nt,ve-1,5),Z(nt,ke-4,4),Te=0;Te<ke;Te++)Z(nt,nt.bl_tree[2*X[Te]+1],3);Se(nt,nt.dyn_ltree,Fe-1),Se(nt,nt.dyn_dtree,ve-1)}(ce,ce.l_desc.max_code+1,ce.d_desc.max_code+1,lt+1),We(ce,ce.dyn_ltree,ce.dyn_dtree)),xe(ce),ze&&Ee(ce)},i._tr_tally=function(ce,Ae,De){return ce.pending_buf[ce.d_buf+2*ce.last_lit]=Ae>>>8&255,ce.pending_buf[ce.d_buf+2*ce.last_lit+1]=255&Ae,ce.pending_buf[ce.l_buf+ce.last_lit]=255&De,ce.last_lit++,Ae===0?ce.dyn_ltree[2*De]++:(ce.matches++,Ae--,ce.dyn_ltree[2*(T[De]+g+1)]++,ce.dyn_dtree[2*U(Ae)]++),ce.last_lit===ce.lit_bufsize-1},i._tr_align=function(ce){Z(ce,2,3),ee(ce,N,j),function(Ae){Ae.bi_valid===16?(z(Ae,Ae.bi_buf),Ae.bi_buf=0,Ae.bi_valid=0):8<=Ae.bi_valid&&(Ae.pending_buf[Ae.pending++]=255&Ae.bi_buf,Ae.bi_buf>>=8,Ae.bi_valid-=8)}(ce)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(a){(function(s,l){if(!s.setImmediate){var u,d,f,g,b=1,m={},x=!1,y=s.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(s);A=A&&A.setTimeout?A:s,u={}.toString.call(s.process)==="[object process]"?function(R){process.nextTick(function(){C(R)})}:function(){if(s.postMessage&&!s.importScripts){var R=!0,F=s.onmessage;return s.onmessage=function(){R=!1},s.postMessage("","*"),s.onmessage=F,R}}()?(g="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",N,!1):s.attachEvent("onmessage",N),function(R){s.postMessage(g+R,"*")}):s.MessageChannel?((f=new MessageChannel).port1.onmessage=function(R){C(R.data)},function(R){f.port2.postMessage(R)}):y&&"onreadystatechange"in y.createElement("script")?(d=y.documentElement,function(R){var F=y.createElement("script");F.onreadystatechange=function(){C(R),F.onreadystatechange=null,d.removeChild(F),F=null},d.appendChild(F)}):function(R){setTimeout(C,0,R)},A.setImmediate=function(R){typeof R!="function"&&(R=new Function(""+R));for(var F=new Array(arguments.length-1),q=0;q<F.length;q++)F[q]=arguments[q+1];var k={callback:R,args:F};return m[b]=k,u(b),b++},A.clearImmediate=w}function w(R){delete m[R]}function C(R){if(x)setTimeout(C,0,R);else{var F=m[R];if(F){x=!0;try{(function(q){var k=q.callback,L=q.args;switch(L.length){case 0:k();break;case 1:k(L[0]);break;case 2:k(L[0],L[1]);break;case 3:k(L[0],L[1],L[2]);break;default:k.apply(l,L)}})(F)}finally{w(R),x=!1}}}}function N(R){R.source===s&&typeof R.data=="string"&&R.data.indexOf(g)===0&&C(+R.data.slice(g.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(ww)),ww.exports}var OJ=TJ();const IJ=ts(OJ),DJ=async(e,n,t)=>{const r=new IJ,i=["timestamp,question,answer"];n.forEach(({timestamp:u,question:d,answer:f})=>{i.push(`"${new Date(u).toLocaleString()}","${d.replace(/"/g,'""')}","${f.replace(/"/g,'""')}"`)}),r.file(`${e}.csv`,i.join(`
`)),r.file(`${e}_metadata.json`,JSON.stringify(t,null,4));const a=await r.generateAsync({type:"blob"}),s=URL.createObjectURL(a),l=document.createElement("a");l.href=s,l.download=`${e}.zip`,document.body.appendChild(l),l.click(),document.body.removeChild(l)},LJ=lp(fe)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"600px",maxHeight:"80vh",overflowY:"auto",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0px 5px 15px rgba(0,0,0,0.2)",padding:"20px"}),RJ=lp(fe)({marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"}),MJ=({open:e,onClose:n,conversationHistory:t,conversationId:r,conversationHistoryError:i,chatbotDetails:a,userId:s,startedAt:l})=>{const u=async()=>{const d={conversationId:r,userId:s,chatbotId:a.chatbotId,chatbotTitle:a.chatbotTitle,startedAt:new Date(l).toLocaleString(),courseTitle:a.courseTitle,courseId:a.courseId,materialTitle:a.materialTitle,materialId:a.materialId,materialLink:a.materialLink,chatbotCreatedBy:a.chatbotCreatedBy,chatbotCreatedAt:new Date(a.chatbotCreatedAt).toLocaleString()};await DJ(r,t,d)};return h.jsx(kx,{open:e,onClose:n,children:h.jsxs(LJ,{children:[h.jsxs(RJ,{children:[h.jsxs(de,{variant:"h6",children:["Conversation History for ",r]}),h.jsx(Si,{title:"Download ZIP",children:h.jsx(On,{onClick:u,"aria-label":"Download as ZIP",children:h.jsx(XM,{})})})]}),i&&h.jsx(de,{color:"error",sx:{marginBottom:"20px"},children:i}),t.length===0?h.jsx(de,{children:"No messages found in this conversation."}):h.jsx(zf,{children:t.map((d,f)=>h.jsx(wd,{sx:{padding:"10px 0"},children:h.jsx(Ol,{primary:`Q: ${d.question}`,secondary:`A: ${d.answer} (${new Date(d.timestamp).toLocaleString()})`})},f))}),h.jsx(At,{variant:"contained",onClick:n,style:{marginTop:"20px",backgroundColor:"#000",color:"#fff"},children:"Close"})]})})},FJ=({totalItems:e,itemsPerPage:n,currentPage:t,onPageChange:r})=>{const i=Math.ceil(e/n),a=()=>{t>1&&r(t-1)},s=()=>{t<i&&r(t+1)};return h.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[h.jsx(At,{variant:"outlined",disabled:t===1,onClick:a,children:"Previous"}),h.jsxs(de,{variant:"body1",children:["Page ",t," of ",i]}),h.jsx(At,{variant:"outlined",disabled:t===i,onClick:s,children:"Next"})]})},PJ=({chatbotId:e})=>{const n=Zn(),[t,r]=Q.useState(null),[i,a]=Q.useState(!0),[s,l]=Q.useState(null);if(Q.useEffect(()=>{e!=="All"&&(async()=>{a(!0),l(null);try{const C=tl(xn(n,"chatbots"),wi("chatbotId","==",e)),N=await pi(C);N.empty?l("Chatbot details not found!"):r(N.docs[0].data())}catch(C){console.error("Error fetching chatbot details:",C),l("Failed to fetch chatbot details.")}finally{a(!1)}})()},[n,e]),i)return h.jsx(fe,{sx:{mt:3},children:h.jsx(Jr,{})});if(s)return h.jsx(de,{variant:"body1",color:"error",sx:{mt:3},children:s});if(!t)return null;const{title:u="N/A",courseId:d,createdBy:f="Unknown",timestamp:g,material:b}=t,m=(d==null?void 0:d.title)||"N/A",x=(b==null?void 0:b.title)||"N/A",y=(b==null?void 0:b.id)||"N/A",A=`https://institute-for-future-intelligence.github.io/nexlab/view-material/${y}`;return h.jsxs(fe,{sx:{mt:3,p:2,border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[h.jsx(de,{variant:"h6",children:"Chatbot Details"}),h.jsxs(de,{variant:"body1",children:[h.jsx("strong",{children:"Title:"})," ",u]}),h.jsxs(de,{variant:"body1",children:[h.jsx("strong",{children:"Course:"})," ",m]}),h.jsxs(de,{variant:"body1",children:[h.jsx("strong",{children:"Material:"})," ",y!=="N/A"?h.jsx(Fg,{href:A,target:"_blank",rel:"noopener noreferrer",children:x}):x]}),h.jsx(es,{sx:{my:2}}),h.jsxs(de,{variant:"body1",children:[h.jsx("strong",{children:"Created By:"})," ",f]}),h.jsxs(de,{variant:"body1",children:[h.jsx("strong",{children:"Created At:"})," ",g?new Date(g).toLocaleString():"N/A"]})]})},O4=lp(At)({width:100,height:40,display:"flex",alignItems:"center",justifyContent:"center"}),zJ=({open:e,onClose:n,onConfirm:t,conversationId:r,deleting:i})=>h.jsxs(Ki,{open:e,onClose:n,children:[h.jsx(fa,{children:"Confirm Deletion"}),h.jsx(Xi,{children:h.jsxs(Ml,{children:["Are you sure you want to delete the conversation with ID: ",h.jsx("strong",{children:r}),"? This action cannot be undone."]})}),h.jsxs(ha,{children:[h.jsx(O4,{onClick:n,color:"primary",variant:"outlined",children:"Cancel"}),h.jsx(O4,{onClick:t,color:"error",disabled:i,children:i?h.jsx(Jr,{size:20,color:"inherit"}):"Delete"})]})]}),qJ=()=>{const e=Zn(),[n,t]=Q.useState([]),[r,i]=Q.useState([]),[a,s]=Q.useState(1),[l]=Q.useState(10),[u,d]=Q.useState(!0),[f,g]=Q.useState(null),[b,m]=Q.useState([]),[x,y]=Q.useState(null),[A,w]=Q.useState(!1),[C,N]=Q.useState(null),[R,F]=Q.useState({}),q="https://rag-flask-api.onrender.com",[k,L]=Q.useState([]),[B,X]=Q.useState([]),[j,O]=Q.useState("All"),[P,T]=Q.useState("All"),[G,W]=Q.useState(null),[K,ie]=Q.useState(null),[ue,$]=Q.useState(!1),[ae,U]=Q.useState(null),[z,Z]=Q.useState(!1),[ee,se]=Q.useState({open:!1,message:"",type:"success"}),we=()=>{se(te=>({...te,open:!1}))};Q.useEffect(()=>{(async()=>{try{const ce=(await pi(xn(e,"conversations"))).docs.map(ze=>({id:ze.id,...ze.data()}));t(ce);const Ae=Array.from(new Set(ce.map(ze=>ze.chatbotId)));L(ce.length>0?["All",...Ae]:[]);const De=Array.from(new Set(ce.map(ze=>ze.userId)));X(ce.length>0?["All",...De]:[]),i(ce)}catch(be){console.error("Error fetching chatbot conversations:",be),g("Failed to load conversations. Please try again later.")}finally{d(!1)}})()},[e]);const xe=(te,be)=>{te==="chatbot"?O(be):T(be);const ce=te==="chatbot"?be:j,Ae=te==="user"?be:P;let De=n;ce!=="All"&&(De=De.filter(ze=>ze.chatbotId===ce)),Ae!=="All"&&(De=De.filter(ze=>ze.userId===Ae)),i(De),ce==="All"&&Ae==="All"&&i(n),s(1)},Ee=async(te,be,ce,Ae)=>{var De,ze,Ne,Xe,lt;F(nt=>({...nt,[be]:!0})),y(null);try{const nt=await pa.get(`${q}/conversations/${te}/${be}`);m(nt.data);const ke=(await(async()=>{try{const Te=new Map;return(await pi(xn(e,"chatbots"))).forEach(Je=>{Te.set(Je.data().chatbotId,Je.data())}),Te}catch(Te){return console.error("Error fetching chatbots:",Te),new Map}})()).get(te);W(ke?{chatbotId:te,chatbotTitle:ke.title||"N/A",courseTitle:((De=ke.courseId)==null?void 0:De.title)||"N/A",courseId:((ze=ke.courseId)==null?void 0:ze.id)||"N/A",materialTitle:((Ne=ke.material)==null?void 0:Ne.title)||"N/A",materialId:((Xe=ke.material)==null?void 0:Xe.id)||"N/A",materialLink:`https://institute-for-future-intelligence.github.io/nexlab/view-material/${((lt=ke.material)==null?void 0:lt.id)||""}`,chatbotCreatedBy:ke.createdBy||"Unknown",chatbotCreatedAt:ke.timestamp||"N/A"}:null),ie({userId:ce,startedAt:Ae}),N({chatbotId:te,conversationId:be}),w(!0)}catch(nt){console.error("Error fetching conversation or chatbot details:",nt),y("Failed to fetch conversation history or chatbot details.")}finally{F(nt=>({...nt,[be]:!1}))}},Ie=a*l,Re=Ie-l,We=r.slice(Re,Ie);if(u)return h.jsx(fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:h.jsx(Jr,{})});if(f)return h.jsx(fe,{sx:{textAlign:"center",mt:4},children:h.jsx(de,{variant:"h6",color:"error",children:f})});const Ve=te=>{U(te),$(!0)},V=()=>{$(!1),U(null)},Se=async()=>{if(ae){Z(!0);try{await I6(bn(e,"conversations",ae)),t(te=>te.filter(be=>be.id!==ae)),i(te=>te.filter(be=>be.id!==ae)),se({open:!0,message:"Conversation deleted successfully.",type:"success"}),V()}catch(te){console.error("Error deleting conversation:",te),se({open:!0,message:"Failed to delete the conversation. Please try again.",type:"error"})}finally{Z(!1),V()}}};return h.jsxs(fe,{className:"profile-container",sx:{p:4},children:[h.jsx(Fl,{title:"Chatbot Conversations"}),h.jsxs(fe,{sx:{display:"flex",gap:2,mb:3},children:[h.jsxs(Lc,{sx:{minWidth:200},children:[h.jsx(Rc,{id:"filter-chatbot-id",children:"Filter by Chatbot ID"}),h.jsx(Ll,{labelId:"filter-chatbot-id",value:j,onChange:te=>xe("chatbot",te.target.value),children:k.length>0?k.map(te=>h.jsx(Xn,{value:te,children:te},te)):h.jsx(Xn,{value:"",disabled:!0,children:"No Chatbots Available"})})]}),h.jsxs(Lc,{sx:{minWidth:200},children:[h.jsx(Rc,{id:"filter-user-id",children:"Filter by User ID"}),h.jsx(Ll,{labelId:"filter-user-id",value:P,onChange:te=>xe("user",te.target.value),children:B.map(te=>h.jsx(Xn,{value:te,children:te},te))})]})]}),j!=="All"&&h.jsx(PJ,{chatbotId:j}),h.jsxs(fe,{className:"profile-container",sx:{p:4},children:[h.jsx(JX,{conversations:We,onViewHistory:(te,be,ce)=>Ee(te,be,ce.userId,ce.startedAt),onDeleteConversation:Ve,loadingMap:R,loading:u}),h.jsx(zJ,{open:ue,onClose:V,onConfirm:Se,conversationId:ae||"",deleting:z})]}),h.jsx(FJ,{totalItems:r.length,itemsPerPage:l,currentPage:a,onPageChange:s}),C&&G&&K&&h.jsx(MJ,{open:A,onClose:()=>{w(!1),N(null)},conversationHistory:b,conversationId:C.conversationId,conversationHistoryError:x,chatbotDetails:G,userId:K.userId,startedAt:K.startedAt}),h.jsx(nl,{open:ee.open,autoHideDuration:3e3,onClose:we,message:ee.message,anchorOrigin:{vertical:"top",horizontal:"center"},ContentProps:{style:{backgroundColor:ee.type==="success"?"#4caf50":"#f44336"}}})]})},BJ=({requests:e,loading:n=!1,onApprove:t,chatbotIdMap:r,onChatbotIdChange:i})=>{const[a,s]=Q.useState(0),[l,u]=Q.useState(10),d=A=>{switch(A.toLowerCase()){case"approved":return"success";case"pending":return"warning";case"denied":return"error";default:return"default"}},f=A=>A.charAt(0).toUpperCase()+A.slice(1),g=(A,w)=>A==="approved"?"Approved":A==="denied"?"Denied":"Enter ID",b=[{id:"title",label:"Title",width:"15%",render:A=>h.jsx(Rs,{text:A,maxLength:999,weight:"semibold"})},{id:"courseNumber",label:"Course",width:"18%",render:(A,w)=>h.jsxs(fe,{sx:{display:"flex",flexDirection:"column",gap:gt[1]},children:[h.jsx(vp,{courseId:w.courseId,courseNumber:A,courseTitle:w.courseTitle,variant:"link",maxTitleLength:999}),h.jsx(zT,{courseId:w.courseId})]})},{id:"materialTitle",label:"Material",width:"15%",render:(A,w)=>h.jsxs(fe,{sx:{display:"flex",flexDirection:"column",gap:gt[1]},children:[A&&w.materialId?h.jsx(MT,{materialId:w.materialId,materialTitle:A,variant:"link",maxTitleLength:999}):h.jsx(Rs,{text:"N/A",variant:"secondary"}),w.materialId&&h.jsx(qM,{materialId:w.materialId})]})},{id:"educatorId",label:"Educator",width:"12%",render:A=>h.jsx(uh,{userId:A,userType:"educator"})},{id:"timestamp",label:"Submitted",width:"10%",render:A=>h.jsx(wp,{date:new Date(A),format:"full"})},{id:"status",label:"Status",width:"8%",render:A=>h.jsx(pv,{label:f(A),status:d(A)})},{id:"files",label:"Files",width:"8%",render:A=>h.jsxs(fe,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[A&&A.length>0?A.slice(0,2).map((w,C)=>h.jsxs(Fg,{href:w,target:"_blank",rel:"noopener noreferrer",sx:{fontSize:"0.7rem",color:ge.primary[600],textDecoration:"none","&:hover":{textDecoration:"underline"}},children:["File ",C+1]},C)):h.jsx(Rs,{text:"No files",variant:"secondary"}),A&&A.length>2&&h.jsx(Rs,{text:`+${A.length-2}`,variant:"secondary"})]})},{id:"chatbotId",label:"Chatbot ID",width:"12%",render:(A,w)=>w.status==="pending"?h.jsx(Ut,{size:"small",variant:"outlined",placeholder:"Enter ID",value:r[w.id]||"",onChange:N=>i(w.id,N.target.value),sx:{width:"100%","& .MuiOutlinedInput-root":{fontSize:Be.fontSize.xs,height:"32px",fontFamily:"monospace"}}}):A?h.jsx(PT,{chatbotId:A}):h.jsx(Rs,{text:"Not assigned",variant:"secondary"})},{id:"actions",label:"Action",width:"8%",align:"center",render:(A,w)=>{var R;const C=w.status==="pending",N=(R=r[w.id])==null?void 0:R.trim();return C?h.jsx(Hg,{actions:[{icon:Ld.add,tooltip:N?"Approve Request":"Enter Chatbot ID first",onClick:()=>t(w.id,r[w.id]),disabled:!N,color:ge.success,hoverColor:ge.success+"20"}]}):h.jsx(Rs,{text:g(w.status),variant:"secondary",weight:"medium"})}}],m=(A,w)=>{s(w)},x=A=>{u(parseInt(A.target.value,10)),s(0)},y=e.slice(a*l,a*l+l);return h.jsxs(fe,{children:[h.jsx(lh,{data:y,columns:b,loading:n,emptyMessage:"No chatbot requests found.",stickyHeader:!1}),e.length>0&&h.jsx(Sn,{elevation:0,sx:{borderRadius:0,borderTop:`1px solid ${ge.neutral[200]}`},children:h.jsx(TR,{rowsPerPageOptions:[5,10,25,50],component:"div",count:e.length,rowsPerPage:l,page:a,onPageChange:m,onRowsPerPageChange:x,sx:{"& .MuiTablePagination-toolbar":{paddingLeft:gt[4],paddingRight:gt[4]},"& .MuiTablePagination-selectLabel, & .MuiTablePagination-displayedRows":{color:ge.text.secondary,fontSize:Be.fontSize.sm}}})})]})},UJ=()=>{const[e,n]=Q.useState([]),[t,r]=Q.useState(!0),[i,a]=Q.useState({}),[s,l]=Q.useState(!1),[u,d]=Q.useState(""),[f,g]=Q.useState("success");Q.useEffect(()=>{(async()=>{const A=Zn(),w=xn(A,"chatbotRequests");try{const N=(await pi(w)).docs.map(R=>({id:R.id,...R.data()}));n(N)}catch(C){console.error("Error fetching chatbot requests:",C)}finally{r(!1)}})()},[]);const b=async y=>{const A=i[y];if(!A){d("Please assign a Chatbot ID before approving the request."),g("error"),l(!0);return}try{const w=Zn(),C=bn(w,"chatbotRequests",y),N=await Oa(C);if(!N.exists()){d("Request not found. Please refresh the page."),g("error"),l(!0);return}const R=N.data();if(R.status!=="pending"){d("This request has already been processed."),g("warning"),l(!0);return}await Wr(C,{status:"approved",chatbotId:A});const F={chatbotId:A,title:R.title,courseId:{id:R.courseId,number:R.courseNumber,title:R.courseTitle},material:{id:R.materialId||null,title:R.materialTitle||"N/A"},createdBy:R.educatorId,files:R.files,timestamp:new Date().toISOString()};await Ma(xn(w,"chatbots"),F),n(q=>q.map(k=>k.id===y?{...k,status:"approved",chatbotId:A}:k)),d("Chatbot request approved and chatbot created successfully!"),g("success"),l(!0)}catch(w){console.error("Error approving chatbot request or creating chatbot:",w),d("Failed to approve the request and create the chatbot. Please try again."),g("error"),l(!0)}},m=()=>{l(!1)},x=(y,A)=>{a(w=>({...w,[y]:A}))};return t?h.jsx(fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:h.jsx(Jr,{})}):e.length===0?h.jsx(de,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):h.jsxs(fe,{sx:{p:gt[6],backgroundColor:ge.background.primary,minHeight:"100vh"},children:[h.jsx(Fl,{title:"Chatbot Requests Management"}),h.jsx(de,{variant:"body1",sx:{mb:gt[4],color:ge.text.secondary},children:"Manage chatbot requests submitted by educators. Approve requests and assign Chatbot IDs."}),h.jsx(BJ,{requests:e,loading:t,onApprove:b,chatbotIdMap:i,onChatbotIdChange:x}),h.jsx(nl,{open:s,autoHideDuration:6e3,onClose:m,children:h.jsx(vr,{onClose:m,severity:f,sx:{width:"100%"},children:u})})]})},_g=Zn(),kg={CHATBOTS:"chatbots",QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents",USERS:"users"},$J=async()=>{var e,n,t,r;try{console.log(" Loading chatbots with quiz information...");const i=tl(xn(_g,kg.CHATBOTS),dv("timestamp","desc")),a=await pi(i),s=[];for(const l of a.docs){const u=l.data(),d={chatbotId:u.chatbotId,title:u.title||"Untitled Chatbot",materialTitle:((e=u.material)==null?void 0:e.title)||"Unknown Material",materialId:((n=u.material)==null?void 0:n.id)||"",courseId:((t=u.courseId)==null?void 0:t.id)||"",courseTitle:((r=u.courseId)==null?void 0:r.title)||"Unknown Course",createdBy:u.createdBy||"",timestamp:u.timestamp||new Date().toISOString(),quizId:null,hasQuiz:!0};s.push(d)}for(const l of s)try{const u=tl(xn(_g,kg.QUIZ_SESSIONS),wi("chatbotId","==",l.chatbotId),fv(1)),d=await pi(u);if(!d.empty){const f=d.docs[0].data();l.quizId=f.quizId||null}}catch(u){console.warn(` Could not fetch quiz ID for chatbot ${l.chatbotId}:`,u),l.quizId=null}return console.log(` Loaded ${s.length} chatbots with quiz information`),s}catch(i){throw console.error(" Error loading chatbots with quizzes:",i),i}},HJ=async(e={},n=100,t)=>{var r,i;try{console.log(" Loading enhanced quiz sessions with filters:",e);const a=xn(_g,kg.QUIZ_SESSIONS),s=[];e.chatbotId&&s.push(wi("chatbotId","==",e.chatbotId)),e.difficulty&&e.difficulty!=="all"&&s.push(wi("difficulty","==",e.difficulty)),e.completionStatus&&e.completionStatus!=="all"&&s.push(wi("completed","==",e.completionStatus==="completed")),e.userId&&s.push(wi("userId","==",e.userId)),e.dateRange&&(s.push(wi("startedAt",">=",Ta.fromDate(new Date(e.dateRange.start)))),s.push(wi("startedAt","<=",Ta.fromDate(new Date(e.dateRange.end))))),s.push(dv("startedAt","desc")),s.push(fv(n));const l=tl(a,...s),u=await pi(l),d=[],f=new Map;for(const m of u.docs){const x=m.data();let y=f.get(x.userId);if(!y){const R=x.userId.length>12?`${x.userId.substring(0,8)}...${x.userId.slice(-4)}`:x.userId.substring(0,12);y={email:R,displayName:`User ${R}`},f.set(x.userId,y)}let A,w;if(x.startedAt&&x.submittedAt){const R=x.startedAt.toMillis(),F=x.submittedAt.toMillis(),q=Math.round((F-R)/1e3),k=Math.floor(q/60),L=q%60;A=q,w=`${k}m ${L}s`}const C=Object.keys(x.finalAnswers||{}).length,N={id:m.id,quizId:x.quizId,chatbotId:x.chatbotId,userId:x.userId,userEmail:y.email,userName:y.displayName,difficulty:x.difficulty,startedAt:x.startedAt.toDate().toISOString(),submittedAt:(r=x.submittedAt)==null?void 0:r.toDate().toISOString(),closedAt:(i=x.closedAt)==null?void 0:i.toDate().toISOString(),completed:x.completed,answers:x.finalAnswers||{},summary:x.summary,questionsAttempted:C,timeSpent:A,timeSpentFormatted:w};d.push(N)}const g=u.docs.length===n,b=u.docs.length>0?u.docs[u.docs.length-1]:void 0;return console.log(` Loaded ${d.length} enhanced quiz sessions`),{sessions:d,hasMore:g,lastDoc:b}}catch(a){throw console.error(" Error loading enhanced quiz sessions:",a),a}},WJ=async e=>{var n;try{console.log(" Loading quiz pool for quiz:",e);const t=tl(xn(_g,kg.QUIZ_SESSIONS),wi("quizId","==",e),dv("startedAt","desc"),fv(50)),r=await pi(t),i=new Set,a=new Map;for(const g of r.docs){const b=g.data();(n=b.summary)!=null&&n.items&&Object.keys(b.summary.items).forEach(m=>{i.add(m)}),b.finalAnswers&&Object.entries(b.finalAnswers).forEach(([m,x])=>{i.add(m),a.has(m)||a.set(m,x)})}const s=Array.from(i).map(g=>{const b=a.get(g)||"",m=b.length>0?`Question about: ${b.split(" ").slice(0,10).join(" ")}${b.split(" ").length>10?"...":""}`:"Question text not available";return{questionId:g,question:m,category:"Biology Fundamentals",difficulty:"medium",maxScore:100}}),l=s.length>0?s:[{questionId:"no-sessions-found",question:"No quiz sessions found for this quiz ID. Question IDs will appear here once students take quizzes.",category:"Biology Fundamentals",difficulty:"medium",maxScore:100}],u={},d={easy:0,medium:0,hard:0};l.forEach(g=>{u[g.category]=(u[g.category]||0)+1,d[g.difficulty]=(d[g.difficulty]||0)+1});const f={quizId:e,chatbotId:e,questions:l,categoryCounts:u,difficultyBreakdown:d,totalQuestions:l.length,lastUpdated:new Date().toISOString()};return console.log(` Loaded quiz pool with ${l.length} real question IDs from ${r.docs.length} sessions`),f}catch(t){throw console.error(" Error loading quiz pool:",t),t}},VJ=e=>{try{console.log(" Generating quiz analytics from",e.length,"sessions");const n=e.filter(f=>f.completed&&f.summary),t=e.length,r=t>0?n.length/t*100:0,i=n.length>0?n.reduce((f,g)=>{var b;return f+(((b=g.summary)==null?void 0:b.percent)||0)},0)/n.length:0,a=e.filter(f=>f.timeSpent).length>0?Math.round(e.filter(f=>f.timeSpent).reduce((f,g)=>f+(g.timeSpent||0),0)/e.filter(f=>f.timeSpent).length):0,s={easy:0,medium:0,hard:0};e.forEach(f=>{s[f.difficulty]=(s[f.difficulty]||0)+1});const l={};n.forEach(f=>{var g;(g=f.summary)!=null&&g.items&&Object.values(f.summary.items).forEach(b=>{const m="Mixed Questions";l[m]||(l[m]={averageScore:0,totalAttempts:0,successRate:0}),l[m].totalAttempts+=1,l[m].averageScore+=b.score,b.verdict==="correct"&&(l[m].successRate+=1)})}),Object.keys(l).forEach(f=>{const g=l[f];g.totalAttempts>0&&(g.averageScore=g.averageScore/g.totalAttempts,g.successRate=g.successRate/g.totalAttempts*100)});const u={daily:{},weekly:{},monthly:{}};e.forEach(f=>{const g=new Date(f.startedAt),b=g.toISOString().split("T")[0],m=`${g.getFullYear()}-W${Math.ceil(g.getDate()/7)}`,x=`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}`;u.daily[b]=(u.daily[b]||0)+1,u.weekly[m]=(u.weekly[m]||0)+1,u.monthly[x]=(u.monthly[x]||0)+1});const d={totalSessions:t,completionRate:r,averageScore:i,averageTimeSpent:a,difficultyDistribution:s,categoryPerformance:l,timeBasedStats:u};return console.log(" Generated quiz analytics:",d),d}catch(n){throw console.error(" Error generating quiz analytics:",n),n}},YJ=async e=>{var n;try{console.log(" Exporting quiz session data for:",e);const t=await Oa(bn(_g,kg.QUIZ_SESSIONS,e));if(!t.exists())throw new Error("Quiz session not found");const r=t.data(),i={sessionId:e,quizId:r.quizId,chatbotId:r.chatbotId,userId:r.userId,difficulty:r.difficulty,startedAt:r.startedAt.toDate().toISOString(),submittedAt:(n=r.submittedAt)==null?void 0:n.toDate().toISOString(),completed:r.completed,answers:r.finalAnswers||{},summary:r.summary,exportedAt:new Date().toISOString()},a=JSON.stringify(i,null,2),s=new Blob([a],{type:"application/json"});return console.log(" Quiz session data exported successfully"),s}catch(t){throw console.error(" Error exporting quiz session data:",t),t}},I4={difficulty:"all",completionStatus:"all"},QI=xp()(Wg(mv((e,n)=>({courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:I4,selectedSession:null,loadChatbotsWithQuizzes:async()=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading chatbots with quizzes...");const t=await $J(),r=new Map;t.forEach(a=>{r.has(a.courseId)||r.set(a.courseId,{courseId:a.courseId,courseTitle:a.courseTitle,chatbotCount:0,quizCount:0});const s=r.get(a.courseId);s.chatbotCount++,a.quizId&&s.quizCount++});const i=Array.from(r.values()).sort((a,s)=>a.courseTitle.localeCompare(s.courseTitle));e({chatbotsWithQuizzes:t,courses:i,filteredChatbots:t,loading:!1}),console.log(` Loaded ${t.length} chatbots with quiz information from ${i.length} courses`)}catch(t){console.error(" Failed to load chatbots with quizzes:",t),e({error:t instanceof Error?t.message:"Failed to load chatbots",loading:!1})}},selectCourse:t=>{console.log(" Quiz Management Store: Selecting course:",t==null?void 0:t.courseId);const{chatbotsWithQuizzes:r}=n(),i=t?r.filter(a=>a.courseId===t.courseId):r;e({selectedCourse:t,filteredChatbots:i,selectedChatbot:null,selectedSession:null,quizSessions:[]})},selectChatbot:t=>{console.log(" Quiz Management Store: Selecting chatbot:",t==null?void 0:t.chatbotId),e({selectedChatbot:t,selectedSession:null,filters:{...n().filters,chatbotId:t==null?void 0:t.chatbotId}}),t&&n().loadQuizSessions(t.chatbotId)},loadQuizSessions:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz sessions for chatbot:",t);const r=n().filters,i=t?{...r,chatbotId:t}:r,a=await HJ(i);e({quizSessions:a.sessions,loading:!1}),n().generateAnalytics(),console.log(` Loaded ${a.sessions.length} enhanced quiz sessions`)}catch(r){console.error(" Failed to load quiz sessions:",r),e({error:r instanceof Error?r.message:"Failed to load quiz sessions",loading:!1})}},loadQuizPool:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz pool for:",t);const r=await WJ(t);e(i=>({quizPools:{...i.quizPools,[t]:r},loading:!1})),console.log(` Loaded quiz pool with ${r.totalQuestions} questions`)}catch(r){console.error(" Failed to load quiz pool:",r),e({error:r instanceof Error?r.message:"Failed to load quiz pool",loading:!1})}},updateFilters:t=>{const r={...n().filters,...t};console.log(" Quiz Management Store: Updating filters:",r),e({filters:r}),n().loadQuizSessions(r.chatbotId)},selectSession:t=>{console.log(" Quiz Management Store: Selecting session:",t==null?void 0:t.id),e({selectedSession:t})},generateAnalytics:()=>{try{const{quizSessions:t}=n();console.log(" Quiz Management Store: Generating analytics from",t.length,"sessions");const r=VJ(t);e({analytics:r}),console.log(" Generated quiz analytics successfully")}catch(t){console.error(" Failed to generate analytics:",t),e({error:t instanceof Error?t.message:"Failed to generate analytics"})}},exportSessionData:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Exporting session data for:",t);const r=await YJ(t),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=`quiz-session-${t}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i),e({loading:!1}),console.log(" Quiz session data exported successfully")}catch(r){console.error(" Failed to export session data:",r),e({error:r instanceof Error?r.message:"Failed to export session data",loading:!1})}},clearError:()=>{e({error:null})},reset:()=>{console.log(" Quiz Management Store: Resetting store state"),e({chatbotsWithQuizzes:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:I4,selectedSession:null})}}),{name:"quiz-management-store",partialize:e=>({filters:e.filters,selectedChatbot:e.selectedChatbot}),merge:(e,n)=>({...n,...e||{},courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,selectedSession:null})}),{name:"quiz-management-store"})),GJ=({courses:e,selectedCourse:n,onSelect:t,loading:r=!1})=>h.jsx(fe,{children:h.jsx(rT,{value:n,onChange:(i,a)=>t(a),options:e,getOptionLabel:i=>i.courseTitle,loading:r,renderInput:i=>h.jsx(Ut,{...i,label:"Select Course",placeholder:"Choose a course to filter materials...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...i.InputProps,endAdornment:h.jsxs(h.Fragment,{children:[r?h.jsx(Jr,{color:"inherit",size:20}):null,i.InputProps.endAdornment]})}}),renderOption:(i,a)=>{const{...s}=i;return h.jsx(fe,{component:"li",...s,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:h.jsxs(fe,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[h.jsx(Dd,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),h.jsxs(fe,{sx:{flex:1,minWidth:0},children:[h.jsx(de,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:a.courseTitle}),h.jsxs(de,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[h.jsx(Mc,{sx:{fontSize:14,mr:.5}}),a.chatbotCount," material",a.chatbotCount!==1?"s":"","  ",a.quizCount," quiz",a.quizCount!==1?"zes":""," available"]})]}),h.jsxs(fe,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[h.jsx(cr,{label:`${a.chatbotCount} Material${a.chatbotCount!==1?"s":""}`,size:"small",sx:{backgroundColor:"#CDDAFF",color:"#0B53C0",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),a.quizCount>0&&h.jsx(cr,{label:`${a.quizCount} Quiz${a.quizCount!==1?"zes":""}`,size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}})]})]})},a.courseId)},PaperComponent:i=>h.jsx(Sn,{...i,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(i,a)=>i.courseId===a.courseId,noOptionsText:r?"Loading courses...":"No courses found.",clearOnBlur:!0,selectOnFocus:!0})}),QJ=({chatbots:e,selectedChatbot:n,onSelect:t,loading:r=!1})=>h.jsxs(fe,{children:[h.jsx(rT,{value:n,onChange:(i,a)=>t(a),options:e,getOptionLabel:i=>i.title,loading:r,renderInput:i=>h.jsx(Ut,{...i,label:"Select Chatbot & Material",placeholder:"Choose a chatbot to view its quiz data...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...i.InputProps,endAdornment:h.jsxs(h.Fragment,{children:[r?h.jsx(Jr,{color:"inherit",size:20}):null,i.InputProps.endAdornment]})}}),renderOption:(i,a)=>{const{...s}=i;return h.jsx(fe,{component:"li",...s,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:h.jsxs(fe,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[h.jsx(Mc,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),h.jsxs(fe,{sx:{flex:1,minWidth:0},children:[h.jsx(de,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:a.title}),h.jsxs(de,{variant:"body2",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[h.jsx(OR,{sx:{fontSize:14,mr:.5}}),a.materialTitle]}),h.jsxs(de,{variant:"caption",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#888888",display:"flex",alignItems:"center",mt:.25},children:[h.jsx(Dd,{sx:{fontSize:12,mr:.5}}),a.courseTitle]})]}),h.jsxs(fe,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[a.quizId&&h.jsx(cr,{label:"Quiz Available",size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),h.jsxs(de,{variant:"caption",sx:{fontFamily:"monospace",color:a.quizId?"#0B53C0":"#888888",fontSize:"0.7rem",backgroundColor:a.quizId?"#F0F4FF":"#F5F5F5",padding:"2px 6px",borderRadius:"4px",border:`1px solid ${a.quizId?"#CDDAFF":"#E0E0E0"}`},children:["Quiz: ",a.quizId?a.quizId.substring(0,8)+"...":"N/A"]}),h.jsxs(de,{variant:"caption",sx:{fontFamily:"monospace",color:"#888888",fontSize:"0.65rem"},children:["ChatBot: ",a.chatbotId.substring(0,8),"..."]})]})]})},a.chatbotId)},PaperComponent:i=>h.jsx(Sn,{...i,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(i,a)=>i.chatbotId===a.chatbotId,noOptionsText:r?"Loading chatbots...":"No chatbots found. Create a chatbot first to see quiz data.",clearOnBlur:!0,handleHomeEndKeys:!0}),e.length===0&&!r&&h.jsx(fe,{sx:{mt:2,p:2,bgcolor:"info.light",borderRadius:1},children:h.jsxs(de,{variant:"body2",color:"info.contrastText",children:[h.jsx("strong",{children:"No chatbots available."})," You need to create chatbots first before you can manage quiz sessions. Each chatbot automatically has an associated quiz with predefined questions."]})})]}),KJ=({sessions:e,loading:n=!1,onViewDetails:t,onExportSession:r})=>{const i=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),a=l=>{switch(l){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},s=l=>l>=80?"success":l>=60?"warning":"error";return n?h.jsxs(fe,{sx:{width:"100%",mt:2},children:[h.jsx(Ko,{}),h.jsx(de,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz sessions..."})]}):e.length===0?h.jsxs(fe,{sx:{textAlign:"center",py:8},children:[h.jsx(Mc,{sx:{fontSize:64,color:"text.secondary",mb:2}}),h.jsx(de,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No quiz sessions found"}),h.jsx(de,{variant:"body2",color:"text.secondary",children:"No quiz sessions have been completed for this chatbot yet. Students need to take quizzes to see data here."})]}):h.jsx(ov,{component:Sn,variant:"outlined",children:h.jsxs(lv,{children:[h.jsx(uv,{children:h.jsxs(xc,{children:[h.jsx(_n,{children:h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Mc,{fontSize:"small"}),"Session ID"]})}),h.jsx(_n,{children:h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(iT,{fontSize:"small"}),"User ID"]})}),h.jsx(_n,{children:h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(IR,{fontSize:"small"}),"Date & Time"]})}),h.jsx(_n,{children:"Difficulty"}),h.jsx(_n,{children:"Status"}),h.jsx(_n,{align:"center",children:"Questions"}),h.jsx(_n,{align:"center",children:"Time Spent"}),h.jsx(_n,{align:"center",children:"Score"}),h.jsx(_n,{align:"center",children:"Performance"}),h.jsx(_n,{align:"center",children:"Actions"})]})}),h.jsx(cv,{children:e.map(l=>h.jsxs(xc,{hover:!0,children:[h.jsx(_n,{children:h.jsx(de,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:l.id})}),h.jsx(_n,{children:h.jsx(de,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:l.userId})}),h.jsx(_n,{children:h.jsxs(fe,{children:[h.jsx(de,{variant:"body2",children:i(l.startedAt)}),l.submittedAt&&h.jsxs(de,{variant:"caption",color:"text.secondary",children:["Submitted: ",i(l.submittedAt)]})]})}),h.jsx(_n,{children:h.jsx(cr,{label:l.difficulty.charAt(0).toUpperCase()+l.difficulty.slice(1),color:a(l.difficulty),size:"small"})}),h.jsx(_n,{children:h.jsx(cr,{label:l.completed?"Completed":"In Progress",color:l.completed?"success":"warning",size:"small",variant:l.completed?"filled":"outlined"})}),h.jsxs(_n,{align:"center",children:[h.jsx(de,{variant:"body2",fontWeight:"medium",children:l.questionsAttempted}),h.jsx(de,{variant:"caption",color:"text.secondary",children:"attempted"})]}),h.jsx(_n,{align:"center",children:l.timeSpentFormatted?h.jsxs(fe,{children:[h.jsx(de,{variant:"body2",fontWeight:"medium",children:l.timeSpentFormatted}),h.jsx(de,{variant:"caption",color:"text.secondary",children:"duration"})]}):h.jsx(de,{variant:"body2",color:"text.secondary",children:"-"})}),h.jsx(_n,{align:"center",children:l.summary?h.jsxs(fe,{children:[h.jsxs(de,{variant:"body2",fontWeight:"bold",children:[l.summary.total_score,"/",l.summary.total_max]}),h.jsx(de,{variant:"caption",color:"text.secondary",children:"points"})]}):h.jsx(de,{variant:"body2",color:"text.secondary",children:"-"})}),h.jsx(_n,{align:"center",children:l.summary?h.jsx(cr,{label:`${Math.round(l.summary.percent)}%`,color:s(l.summary.percent),size:"small"}):h.jsx(de,{variant:"body2",color:"text.secondary",children:"-"})}),h.jsx(_n,{align:"center",children:h.jsxs(Kw,{direction:"row",spacing:1,justifyContent:"center",children:[h.jsx(Si,{title:"View Details",children:h.jsx(On,{size:"small",onClick:()=>t(l),color:"primary",children:h.jsx(O6,{fontSize:"small"})})}),h.jsx(Si,{title:"Export Data",children:h.jsx(On,{size:"small",onClick:()=>r(l.id),color:"secondary",children:h.jsx(ug,{fontSize:"small"})})})]})})]},l.id))})]})})},XJ=({analytics:e})=>{const n=i=>{switch(i){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},t=i=>i>=70?"success":i>=50?"warning":"error",r=i=>{if(i===0)return"0s";const a=Math.floor(i/60),s=i%60;return a===0?`${s}s`:s===0?`${a}m`:`${a}m ${s}s`};return h.jsx(Xa,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:h.jsxs(Za,{sx:{p:3},children:[h.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[h.jsx(DR,{color:"primary"}),"Quiz Analytics & Insights"]}),h.jsxs(xt,{container:!0,spacing:3,sx:{mb:4},children:[h.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(fe,{sx:{textAlign:"center",p:2,bgcolor:"#CDDAFF",borderRadius:2,border:"1px solid #0B53C0"},children:[h.jsx(Mc,{sx:{fontSize:40,color:"#0B53C0",mb:1}}),h.jsx(de,{variant:"h4",sx:{color:"#0B53C0",fontFamily:"Staatliches, sans-serif"},children:e.totalSessions}),h.jsx(de,{variant:"body2",sx:{color:"#0B53C0",fontFamily:"Gabarito, sans-serif"},children:"Total Sessions"})]})}),h.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(fe,{sx:{textAlign:"center",p:2,bgcolor:"#C8E6C9",borderRadius:2,border:"1px solid #2E7D32"},children:[h.jsx(Pg,{sx:{fontSize:40,color:"#2E7D32",mb:1}}),h.jsxs(de,{variant:"h4",sx:{color:"#2E7D32",fontFamily:"Staatliches, sans-serif"},children:[Math.round(e.completionRate),"%"]}),h.jsx(de,{variant:"body2",sx:{color:"#2E7D32",fontFamily:"Gabarito, sans-serif"},children:"Completion Rate"})]})}),h.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(fe,{sx:{textAlign:"center",p:2,bgcolor:"#E3F2FD",borderRadius:2,border:"1px solid #1565C0"},children:[h.jsx(aT,{sx:{fontSize:40,color:"#1565C0",mb:1}}),h.jsxs(de,{variant:"h4",sx:{color:"#1565C0",fontFamily:"Staatliches, sans-serif"},children:[Math.round(e.averageScore),"%"]}),h.jsx(de,{variant:"body2",sx:{color:"#1565C0",fontFamily:"Gabarito, sans-serif"},children:"Average Score"})]})}),h.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(fe,{sx:{textAlign:"center",p:2,bgcolor:"#FFF3E0",borderRadius:2,border:"1px solid #F57C00"},children:[h.jsx(X0,{sx:{fontSize:40,color:"#F57C00",mb:1}}),h.jsx(de,{variant:"h4",sx:{color:"#F57C00",fontFamily:"Staatliches, sans-serif"},children:r(e.averageTimeSpent)}),h.jsx(de,{variant:"body2",sx:{color:"#F57C00",fontFamily:"Gabarito, sans-serif"},children:"Avg. Time Spent"})]})})]}),h.jsx(es,{sx:{my:3}}),h.jsxs(xt,{container:!0,spacing:4,children:[h.jsxs(xt,{item:!0,xs:12,md:6,children:[h.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Mc,{color:"primary"}),"Difficulty Distribution"]}),h.jsx(fe,{sx:{mt:2},children:Object.entries(e.difficultyDistribution).map(([i,a])=>{const s=e.totalSessions>0?a/e.totalSessions*100:0;return h.jsxs(fe,{sx:{mb:2},children:[h.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(cr,{label:i.charAt(0).toUpperCase()+i.slice(1),color:n(i),size:"small"}),h.jsxs(de,{variant:"body2",children:[a," sessions"]})]}),h.jsxs(de,{variant:"body2",color:"text.secondary",children:[Math.round(s),"%"]})]}),h.jsx(Ko,{variant:"determinate",value:s,color:n(i),sx:{height:8,borderRadius:4}})]},i)})})]}),h.jsxs(xt,{item:!0,xs:12,md:6,children:[h.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Dd,{color:"primary"}),"Bloom's Taxonomy Performance"]}),h.jsx(fe,{sx:{mt:2},children:Object.entries(e.categoryPerformance).map(([i,a])=>h.jsxs(fe,{sx:{mb:2},children:[h.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[h.jsxs(fe,{children:[h.jsx(de,{variant:"body2",fontWeight:"medium",children:i}),h.jsxs(de,{variant:"caption",color:"text.secondary",children:[a.totalAttempts," attempts"]})]}),h.jsxs(fe,{sx:{textAlign:"right"},children:[h.jsxs(de,{variant:"body2",fontWeight:"medium",children:[Math.round(a.averageScore),"%"]}),h.jsx(cr,{label:`${a.successRate}% success`,color:t(a.successRate),size:"small",variant:"outlined"})]})]}),h.jsx(Ko,{variant:"determinate",value:a.successRate,color:t(a.successRate),sx:{height:6,borderRadius:3}})]},i))})]})]})]})})},ZJ=({quizId:e,open:n,onClose:t})=>{const{quizPools:r,loading:i}=QI(),a=r[e],s=u=>({Remember:"success",Understand:"info",Apply:"primary",Analyze:"warning",Evaluate:"error",Create:"secondary"})[u]||"primary",l=u=>{const d=["Remember","Understand","Apply","Analyze","Evaluate","Create"],f=u.split("").reduce((g,b)=>g+b.charCodeAt(0),0);return d[f%d.length]};return i?h.jsx(Ki,{open:n,onClose:t,maxWidth:"md",fullWidth:!0,children:h.jsx(Xi,{children:h.jsxs(fe,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:4},children:[h.jsx(Ko,{sx:{width:"100%",mb:2}}),h.jsx(de,{variant:"body1",children:"Loading quiz questions..."})]})})}):a?h.jsxs(Ki,{open:n,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[h.jsx(fa,{children:h.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs(fe,{children:[h.jsx(de,{variant:"h5",component:"div",children:"Quiz Question Pool"}),h.jsxs(de,{variant:"body2",color:"text.secondary",children:["Quiz ID: ",e.substring(0,16),"..."]})]}),h.jsx(On,{onClick:t,edge:"end",children:h.jsx(Xw,{})})]})}),h.jsxs(Xi,{dividers:!0,children:[h.jsx(Xa,{sx:{mb:3},children:h.jsxs(Za,{children:[h.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(aT,{color:"primary"}),"Pool Statistics"]}),h.jsxs(xt,{container:!0,spacing:3,children:[h.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(fe,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[h.jsx(de,{variant:"h4",color:"primary.contrastText",children:a.totalQuestions}),h.jsx(de,{variant:"body2",color:"primary.contrastText",children:"Total Questions"})]})}),h.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(fe,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[h.jsx(de,{variant:"h4",color:"success.contrastText",children:a.difficultyBreakdown.easy||0}),h.jsx(de,{variant:"body2",color:"success.contrastText",children:"Easy Questions"})]})}),h.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(fe,{sx:{textAlign:"center",p:2,bgcolor:"warning.light",borderRadius:1},children:[h.jsx(de,{variant:"h4",color:"warning.contrastText",children:a.difficultyBreakdown.medium||0}),h.jsx(de,{variant:"body2",color:"warning.contrastText",children:"Medium Questions"})]})}),h.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(fe,{sx:{textAlign:"center",p:2,bgcolor:"error.light",borderRadius:1},children:[h.jsx(de,{variant:"h4",color:"error.contrastText",children:a.difficultyBreakdown.hard||0}),h.jsx(de,{variant:"body2",color:"error.contrastText",children:"Hard Questions"})]})})]})]})}),h.jsx(Xa,{sx:{mb:3},children:h.jsxs(Za,{children:[h.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(LR,{color:"primary"}),"Bloom's Taxonomy Categories"]}),h.jsx(xt,{container:!0,spacing:2,children:Object.entries(a.categoryCounts).map(([u,d])=>{const f=d/a.totalQuestions*100;return h.jsx(xt,{item:!0,xs:12,sm:6,md:4,children:h.jsxs(fe,{sx:{p:2,border:"1px solid",borderColor:"grey.300",borderRadius:1},children:[h.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[h.jsx(cr,{label:u,color:s(u),size:"small"}),h.jsxs(de,{variant:"body2",fontWeight:"bold",children:[d," questions"]})]}),h.jsx(Ko,{variant:"determinate",value:f,color:s(u),sx:{height:6,borderRadius:3}}),h.jsxs(de,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:[Math.round(f),"% of total"]})]})},u)})})]})}),h.jsx(Xa,{children:h.jsxs(Za,{children:[h.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(sT,{color:"primary"}),"Quiz Questions"]}),h.jsx(de,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"All available question IDs from the quiz pool. Questions are categorized using Bloom's taxonomy levels and automatically selected based on quiz difficulty mode."}),h.jsx(ov,{component:Sn,variant:"outlined",children:h.jsxs(lv,{children:[h.jsx(uv,{children:h.jsxs(xc,{children:[h.jsx(_n,{children:"Question ID"}),h.jsx(_n,{children:"Question"}),h.jsx(_n,{align:"center",children:"Bloom's Taxonomy Category"})]})}),h.jsx(cv,{children:a.questions.map((u,d)=>{const f=l(u.category);return h.jsxs(xc,{hover:!0,children:[h.jsx(_n,{children:h.jsx(de,{variant:"body2",fontFamily:"monospace",children:u.questionId})}),h.jsx(_n,{children:h.jsx(de,{variant:"body2",sx:{maxWidth:400},children:u.question.length>120?`${u.question.substring(0,120)}...`:u.question})}),h.jsx(_n,{align:"center",children:h.jsx(cr,{label:f,color:s(f),size:"small"})})]},u.questionId)})})]})})]})}),h.jsx(es,{sx:{my:3}}),h.jsxs(fe,{sx:{p:2,bgcolor:"info.light",borderRadius:1},children:[h.jsxs(de,{variant:"body2",color:"info.contrastText",children:[h.jsx("strong",{children:"Quiz Question Pool:"})," This shows the available questions that can be selected for quizzes. When students take a quiz, questions are automatically chosen from this pool based on the selected difficulty mode: Easy (~5 questions), Medium (~8 questions), Hard (~10 questions)."]}),h.jsxs(de,{variant:"caption",color:"info.contrastText",sx:{mt:1,display:"block"},children:[h.jsx("strong",{children:"Note:"})," This is placeholder data for demonstration. Actual questions will be loaded from the quiz API."]})]})]}),h.jsx(ha,{children:h.jsx(At,{onClick:t,variant:"contained",children:"Close"})})]}):h.jsxs(Ki,{open:n,onClose:t,maxWidth:"md",fullWidth:!0,children:[h.jsx(fa,{children:h.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx(de,{variant:"h6",children:"Quiz Pool"}),h.jsx(On,{onClick:t,edge:"end",children:h.jsx(Xw,{})})]})}),h.jsx(Xi,{children:h.jsxs(fe,{sx:{textAlign:"center",py:4},children:[h.jsx(de,{variant:"h6",color:"text.secondary",children:"Quiz pool not found"}),h.jsxs(de,{variant:"body2",color:"text.secondary",children:["Unable to load questions for quiz ID: ",e]})]})}),h.jsx(ha,{children:h.jsx(At,{onClick:t,children:"Close"})})]})},JJ=({session:e,open:n,onClose:t})=>{const r=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),i=u=>{switch(u){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},a=u=>u==="correct"?"success":"error",s=u=>{const d=e.answers[u];if(!d)return"Question text not available";const f=d.split(" ");return f.length>15?`Question about: ${f.slice(0,15).join(" ")}...`:`Question about: ${d.substring(0,100)}${d.length>100?"...":""}`},l=()=>{const u={sessionId:e.id,quizId:e.quizId,chatbotId:e.chatbotId,student:{userId:e.userId,name:e.userName,email:e.userEmail},quiz:{difficulty:e.difficulty,startedAt:e.startedAt,submittedAt:e.submittedAt,completed:e.completed,timeSpent:e.timeSpent},answers:e.answers,summary:e.summary,exportedAt:new Date().toISOString()},d=JSON.stringify(u,null,2),f=new Blob([d],{type:"application/json"}),g=URL.createObjectURL(f),b=document.createElement("a");b.href=g,b.download=`quiz-session-${e.id}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(g)};return h.jsxs(Ki,{open:n,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[h.jsx(fa,{children:h.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs(fe,{children:[h.jsx(de,{variant:"h5",component:"div",children:"Quiz Session Details"}),h.jsxs(de,{variant:"body2",color:"text.secondary",children:["Session ID: ",e.id]})]}),h.jsx(On,{onClick:t,edge:"end",children:h.jsx(Xw,{})})]})}),h.jsxs(Xi,{dividers:!0,children:[h.jsx(Xa,{sx:{mb:3},children:h.jsxs(Za,{children:[h.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(iT,{color:"primary"}),"User Information"]}),h.jsx(xt,{container:!0,spacing:2,children:h.jsxs(xt,{item:!0,xs:12,children:[h.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),h.jsx(de,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all"},children:e.userId})]})})]})}),h.jsx(Xa,{sx:{mb:3},children:h.jsxs(Za,{children:[h.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Mc,{color:"primary"}),"Quiz Information"]}),h.jsxs(xt,{container:!0,spacing:2,children:[h.jsxs(xt,{item:!0,xs:12,md:6,children:[h.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Quiz ID"}),h.jsx(de,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:e.quizId})]}),h.jsxs(xt,{item:!0,xs:12,md:6,children:[h.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Chatbot ID"}),h.jsx(de,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:e.chatbotId})]}),h.jsxs(xt,{item:!0,xs:12,md:6,children:[h.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Difficulty"}),h.jsx(cr,{label:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1),color:i(e.difficulty),size:"small"})]}),h.jsxs(xt,{item:!0,xs:12,md:6,children:[h.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Status"}),h.jsx(cr,{label:e.completed?"Completed":"In Progress",color:e.completed?"success":"warning",size:"small"})]}),h.jsxs(xt,{item:!0,xs:12,md:6,children:[h.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Questions Attempted"}),h.jsxs(de,{variant:"body1",children:[e.questionsAttempted," questions answered"]})]}),h.jsxs(xt,{item:!0,xs:12,md:6,children:[h.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Quiz Mode"}),h.jsx(de,{variant:"body1",children:e.difficulty==="easy"?"~5 questions (Remember/Understand focus)":e.difficulty==="medium"?"~8 questions (Mixed difficulty)":"~10 questions (Analyze/Evaluate focus)"})]})]})]})}),h.jsx(Xa,{sx:{mb:3},children:h.jsxs(Za,{children:[h.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(X0,{color:"primary"}),"Session Timeline"]}),h.jsxs(xt,{container:!0,spacing:2,children:[h.jsxs(xt,{item:!0,xs:12,md:4,children:[h.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Started At"}),h.jsx(de,{variant:"body1",children:r(e.startedAt)})]}),e.submittedAt&&h.jsxs(xt,{item:!0,xs:12,md:4,children:[h.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Submitted At"}),h.jsx(de,{variant:"body1",children:r(e.submittedAt)})]}),e.timeSpentFormatted&&h.jsxs(xt,{item:!0,xs:12,md:4,children:[h.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Time Spent"}),h.jsx(de,{variant:"body1",children:e.timeSpentFormatted})]})]})]})}),e.summary&&h.jsx(Xa,{sx:{mb:3},children:h.jsxs(Za,{children:[h.jsx(de,{variant:"h6",gutterBottom:!0,children:"Quiz Results"}),h.jsxs(xt,{container:!0,spacing:2,sx:{mb:3},children:[h.jsx(xt,{item:!0,xs:12,md:4,children:h.jsxs(fe,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[h.jsx(de,{variant:"h4",color:"primary.contrastText",children:e.summary.total_score}),h.jsx(de,{variant:"body2",color:"primary.contrastText",children:"Total Score"})]})}),h.jsx(xt,{item:!0,xs:12,md:4,children:h.jsxs(fe,{sx:{textAlign:"center",p:2,bgcolor:"info.light",borderRadius:1},children:[h.jsx(de,{variant:"h4",color:"info.contrastText",children:e.summary.total_max}),h.jsx(de,{variant:"body2",color:"info.contrastText",children:"Maximum Score"})]})}),h.jsx(xt,{item:!0,xs:12,md:4,children:h.jsxs(fe,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[h.jsxs(de,{variant:"h4",color:"success.contrastText",children:[Math.round(e.summary.percent),"%"]}),h.jsx(de,{variant:"body2",color:"success.contrastText",children:"Percentage"})]})})]}),h.jsx(es,{sx:{my:2}}),h.jsx(de,{variant:"h6",gutterBottom:!0,children:"Question Results"}),h.jsx(ov,{component:Sn,variant:"outlined",children:h.jsxs(lv,{size:"small",children:[h.jsx(uv,{children:h.jsxs(xc,{children:[h.jsx(_n,{children:"Question"}),h.jsx(_n,{align:"center",children:"Score"}),h.jsx(_n,{align:"center",children:"Max Score"}),h.jsx(_n,{align:"center",children:"Verdict"}),h.jsx(_n,{children:"Reasoning"})]})}),h.jsx(cv,{children:Object.entries(e.summary.items).map(([u,d])=>h.jsxs(xc,{children:[h.jsxs(_n,{children:[h.jsx(de,{variant:"body2",sx:{mb:1},children:s(u)}),h.jsxs(de,{variant:"caption",color:"text.secondary",fontFamily:"monospace",children:["ID: ",u]})]}),h.jsx(_n,{align:"center",children:h.jsx(de,{variant:"body2",fontWeight:"bold",children:d.score})}),h.jsx(_n,{align:"center",children:h.jsx(de,{variant:"body2",children:d.max_score})}),h.jsx(_n,{align:"center",children:(()=>{let f;return d.verdict==="correct"?f="correct":d.verdict==="incorrect"?f="incorrect":f=d.score>=d.max_score*.7?"correct":"incorrect",h.jsx(cr,{label:f,color:a(f),size:"small",icon:f==="correct"?h.jsx(Pg,{}):h.jsx(N6,{})})})()}),h.jsx(_n,{children:h.jsx(de,{variant:"body2",children:d.reasoning||"No reasoning provided"})})]},u))})]})})]})}),Object.keys(e.answers).length>0&&h.jsx(Xa,{children:h.jsxs(Za,{children:[h.jsx(de,{variant:"h6",gutterBottom:!0,children:"User Answers"}),Object.entries(e.answers).map(([u,d],f)=>h.jsxs(Ad,{children:[h.jsx(Cd,{expandIcon:h.jsx(Wo,{}),children:h.jsxs(de,{variant:"subtitle1",children:["Question ",f+1," (",u,")"]})}),h.jsx(Ed,{children:h.jsx(fe,{sx:{p:2,bgcolor:"grey.50",borderRadius:1},children:h.jsx(de,{variant:"body1",sx:{whiteSpace:"pre-wrap"},children:d})})})]},u))]})})]}),h.jsxs(ha,{children:[h.jsx(At,{startIcon:h.jsx(ug,{}),onClick:l,variant:"outlined",children:"Export Session Data"}),h.jsx(At,{onClick:t,variant:"contained",children:"Close"})]})]})},eee=()=>{ma();const{userDetails:e}=Ai(),{courses:n,selectedCourse:t,chatbotsWithQuizzes:r,filteredChatbots:i,selectedChatbot:a,quizSessions:s,analytics:l,loading:u,error:d,filters:f,selectedSession:g,loadChatbotsWithQuizzes:b,selectCourse:m,selectChatbot:x,loadQuizSessions:y,loadQuizPool:A,updateFilters:w,selectSession:C,exportSessionData:N,clearError:R}=QI(),[F,q]=Q.useState(!1),[k,L]=Q.useState(!1),[B,X]=Q.useState("");Q.useEffect(()=>{console.log(" Enhanced Quiz Management Page: Initializing..."),b()},[b]);const j=$=>{m($),$&&console.log(" Selected course:",$.courseTitle,"with",$.chatbotCount,"chatbots")},O=$=>{x($),$&&console.log(" Selected chatbot:",$.title,"with quiz ID:",$.quizId)},P=$=>{C($),q(!0)},T=async $=>{await A($),L(!0)},G=()=>{b(),a&&y(a.chatbotId)},W=async $=>{await N($)},K=$=>{w({difficulty:$})},ie=$=>{w({completionStatus:$})},ue=$=>{X($),w({userId:$||void 0})};return u&&r.length===0?h.jsxs(fe,{sx:{width:"100%",mt:2},children:[h.jsx(Ko,{}),h.jsx(de,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz management data..."})]}):h.jsxs(fe,{className:"profile-container",children:[h.jsx(Fl,{title:"Quiz Management"}),h.jsx(fe,{sx:{mb:4},children:h.jsx(fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:h.jsx(fe,{children:h.jsx(Kw,{direction:"row",spacing:2,children:h.jsx(Si,{title:"Refresh Data",children:h.jsx("span",{children:h.jsx(On,{onClick:G,disabled:u,children:h.jsx(Xj,{})})})})})})})}),d&&h.jsx(vr,{severity:"error",sx:{mb:3},onClose:R,children:d}),h.jsx(Xa,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:h.jsxs(Za,{sx:{p:3},children:[h.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[h.jsx(Dd,{color:"primary"}),"Course & Quiz Selection"]}),h.jsx(de,{variant:"body2",sx:{mb:3,fontFamily:"Gabarito, sans-serif",color:"#666666"},children:"First select a course to filter materials, then choose a specific chatbot to view its quiz sessions and manage quiz data."}),h.jsx(fe,{sx:{mb:3},children:h.jsx(GJ,{courses:n,selectedCourse:t,onSelect:j,loading:u})}),h.jsx(fe,{children:h.jsx(QJ,{chatbots:i,selectedChatbot:a,onSelect:O,loading:u})}),a&&h.jsxs(fe,{sx:{mt:3,p:2,bgcolor:"#F0F4FF",borderRadius:2,border:"1px solid #CDDAFF"},children:[h.jsxs(xt,{container:!0,spacing:2,children:[h.jsxs(xt,{item:!0,xs:12,md:6,children:[h.jsx(de,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Material"}),h.jsx(de,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:a.materialTitle})]}),h.jsxs(xt,{item:!0,xs:12,md:3,children:[h.jsx(de,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Course"}),h.jsx(de,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:a.courseTitle})]}),h.jsxs(xt,{item:!0,xs:12,md:3,children:[h.jsx(de,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Quiz ID"}),h.jsx(de,{variant:"body1",fontFamily:"monospace",sx:{fontSize:"0.875rem",wordBreak:"break-all",lineHeight:1.2},children:a.quizId||"No Quiz ID Available"})]})]}),h.jsxs(fe,{sx:{mt:2,display:"flex",gap:2},children:[h.jsx(At,{variant:"outlined",startIcon:h.jsx(sT,{}),onClick:()=>a.quizId&&T(a.quizId),size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0","&:hover":{backgroundColor:"#0B53C0",color:"#FFFFFF"}},children:"View Quiz Questions"}),h.jsx(XE,{badgeContent:s.length,color:"primary",children:h.jsx(At,{variant:"outlined",size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0"},children:"Quiz Sessions"})})]})]})]})}),l&&h.jsx(XJ,{analytics:l}),a&&h.jsx(Xa,{sx:{backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:h.jsxs(Za,{sx:{p:3},children:[h.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[h.jsxs(de,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[h.jsx(Mc,{color:"primary"}),"Quiz Sessions",h.jsx(XE,{badgeContent:s.length,color:"primary",sx:{ml:1}})]}),h.jsxs(Kw,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[h.jsx(Ut,{size:"small",label:"Filter by User ID",placeholder:"Enter user ID...",value:B,onChange:$=>ue($.target.value),sx:{minWidth:200}}),h.jsxs(Lc,{size:"small",sx:{minWidth:120},children:[h.jsx(Rc,{children:"Difficulty"}),h.jsxs(Ll,{value:f.difficulty||"all",label:"Difficulty",onChange:$=>K($.target.value),children:[h.jsx(Xn,{value:"all",children:"All Levels"}),h.jsx(Xn,{value:"easy",children:"Easy"}),h.jsx(Xn,{value:"medium",children:"Medium"}),h.jsx(Xn,{value:"hard",children:"Hard"})]})]}),h.jsxs(Lc,{size:"small",sx:{minWidth:120},children:[h.jsx(Rc,{children:"Status"}),h.jsxs(Ll,{value:f.completionStatus||"all",label:"Status",onChange:$=>ie($.target.value),children:[h.jsx(Xn,{value:"all",children:"All Sessions"}),h.jsx(Xn,{value:"completed",children:"Completed"}),h.jsx(Xn,{value:"incomplete",children:"In Progress"})]})]})]})]}),h.jsx(KJ,{sessions:s,loading:u,onViewDetails:P,onExportSession:W})]})}),g&&h.jsx(JJ,{session:g,open:F,onClose:()=>q(!1)}),(a==null?void 0:a.quizId)&&h.jsx(ZJ,{quizId:a.quizId,open:k,onClose:()=>L(!1)})]})},tee=Q.lazy(()=>Li(()=>import("./index-Cj8TySqW.js"),__vite__mapDeps([7,4,1,5]))),nee=Q.lazy(()=>Li(()=>import("./index-DVQ6PC3S.js"),__vite__mapDeps([8,4,1,5,9,10]))),ree=Q.lazy(()=>Li(()=>import("./SupplementalMaterials-C7LZLD16.js"),__vite__mapDeps([11,4,1,5]))),iee=Q.lazy(()=>Li(()=>import("./MessagesPage-DPIln2GO.js"),__vite__mapDeps([12,4,1,5,9]))),Uy=({element:e})=>h.jsx(LT,{children:h.jsx(Js,{element:e})}),aee=({element:e})=>h.jsx(hv,{children:e}),see=(e,n)=>[{path:"/",element:e?h.jsx(LT,{children:h.jsx(ZM,{})}):h.jsx(aee,{element:h.jsx(tee,{})})},{path:"/messages",element:h.jsx(Uy,{element:iee})},{path:"/laboratory-notebooks",element:h.jsx(Uy,{element:nee})},{path:"/supplemental-materials",element:h.jsx(Uy,{element:ree})},{path:"/my-profile",element:h.jsx(Uy,{element:yX})},{path:"/add-material",element:h.jsx(Js,{element:$O})},{path:"/edit-material/:id",element:h.jsx(Js,{element:RQ})},{path:"/view-material/:id",element:h.jsx(Js,{element:sX})},{path:"/add-message",element:h.jsx(Js,{element:oX})},{path:"/edit-message/:id",element:h.jsx(Js,{element:lX})},{path:"/chatbot-management",element:h.jsx(Js,{element:QX})},{path:"/course-management",element:h.jsx(Js,{element:OX})},{path:"/request-chatbot",element:h.jsx(Js,{element:ZX})},{path:"/quiz-management",element:h.jsx(Js,{element:eee})},{path:"/request-educator-permissions",element:h.jsx(Js,{element:zX})},{path:"/educator-requests",element:h.jsx(Js,{element:BX})},{path:"/request-new-course",element:h.jsx(UX,{})},{path:"/course-requests",element:h.jsx(HX,{})},{path:"/super-admin-course-management",element:h.jsx(VX,{})},{path:"/super-admin-chatbot-requests",element:h.jsx(Js,{element:UJ})},...n?[{path:"/user-management",element:h.jsx(Js,{element:fX})},{path:"/chatbot-conversations",element:h.jsx(Js,{element:qJ})}]:[],{path:"*",element:h.jsx(jT,{to:"/"})}],oee=Zj(RT()),lee=xp()(mv((e,n)=>({isOpen:!0,isMobile:!1,messagesExpanded:!1,setOpen:t=>e({isOpen:t}),setMobile:t=>e({isMobile:t}),toggleMessages:()=>e(t=>({messagesExpanded:!t.messagesExpanded})),toggleSidebar:()=>e(t=>({isOpen:!t.isOpen}))}),{name:"nexlab-sidebar-storage",partialize:e=>({isOpen:e.isOpen,messagesExpanded:e.messagesExpanded})})),uee=()=>{const e=Jj(),n=Cx(e.breakpoints.down("md"));return{...lee(),isMobile:n}},cee=({children:e})=>{const n=ma(),t=Ug(),{userDetails:r,isSuperAdmin:i}=Ai(),{isOpen:a,isMobile:s,messagesExpanded:l,setOpen:u,toggleMessages:d,toggleSidebar:f}=uee(),g=C=>{n(C),s&&u(!1)},b=C=>t.pathname===C,m=[{title:"Home",icon:h.jsx(RR,{}),path:"/",roles:["student","educator","superadmin"],color:ge.primary[500]},{title:"My Account",icon:h.jsx(Gw,{}),path:"/my-profile",roles:["student","educator","superadmin"],color:ge.primary[500]},{title:"Messages",icon:h.jsx(eT,{}),path:"/messages",roles:["student","educator","superadmin"],expandable:!0,color:ge.info},{title:"Course Materials",icon:h.jsx(Dd,{}),path:"/supplemental-materials",roles:["student","educator","superadmin"],color:ge.warning},{title:"Laboratory Notebook",icon:h.jsx(k6,{}),path:"/laboratory-notebooks",roles:["student","educator","superadmin"],disabled:r&&!r.isAdmin&&(!r.classes||Object.keys(r.classes).length===0),color:ge.secondary[500]}],x=[{title:"Course Management",icon:h.jsx(_x,{}),path:"/course-management",roles:["educator","superadmin"],color:ge.primary[600]},{title:"Chatbot Management",icon:h.jsx(ZE,{}),path:"/chatbot-management",roles:["educator","superadmin"],color:ge.secondary[600]},{title:"Quiz Management",icon:h.jsx(Mc,{}),path:"/quiz-management",roles:["educator","superadmin"],color:ge.warning},{title:"Request Chatbot",icon:h.jsx(ZE,{}),path:"/request-chatbot",roles:["educator","superadmin"],color:ge.info}],y=[{title:"User Management",icon:h.jsx(qR,{}),path:"/user-management",roles:["superadmin"],color:ge.error},{title:"Educator Requests",icon:h.jsx(JE,{}),path:"/educator-requests",roles:["superadmin"],color:ge.info},{title:"Course Requests",icon:h.jsx(_x,{}),path:"/course-requests",roles:["superadmin"],color:ge.primary[600]},{title:"Super Admin Chatbot Requests",icon:h.jsx(JE,{}),path:"/super-admin-chatbot-requests",roles:["superadmin"],color:ge.warning},{title:"Chatbot Conversations",icon:h.jsx(oT,{}),path:"/chatbot-conversations",roles:["superadmin"],color:ge.primary[700]},{title:"Super Admin Course Management",icon:h.jsx(BR,{}),path:"/super-admin-course-management",roles:["superadmin"],color:ge.secondary[700]}],A=C=>{const N=b(C.path),R=i?"superadmin":r!=null&&r.isAdmin?"educator":"student";if(!C.roles.includes(R))return null;const q=h.jsxs(l1,{onClick:()=>{C.expandable&&a?d():g(C.path)},disabled:C.disabled,sx:{minHeight:56,justifyContent:a?"initial":"center",px:a?3:2,mx:1,borderRadius:Rt.lg,backgroundColor:N?C.color:"transparent",color:N?ge.text.inverse:ge.text.primary,fontFamily:Be.fontFamily.display,fontWeight:N?Be.fontWeight.bold:Be.fontWeight.medium,fontSize:Be.fontSize.lg,transition:"all 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94)",boxShadow:N?Yt.sm:"none","&:hover":{backgroundColor:N?C.color:ge.neutral[100],transform:"translateY(-1px)",boxShadow:N?Yt.md:Yt.sm},"&:disabled":{opacity:.5,cursor:"not-allowed"}},children:[h.jsx(Qy,{sx:{minWidth:0,mr:a?2:"auto",justifyContent:"center",color:N?ge.text.inverse:C.color,transition:"all 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94)"},children:C.icon}),a&&h.jsx(Ol,{primary:C.title,sx:{opacity:a?1:0,transform:a?"translateX(0)":"translateX(-20px)",transition:"opacity 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94)","& .MuiListItemText-primary":{fontSize:Be.fontSize.lg,fontWeight:N?Be.fontWeight.bold:Be.fontWeight.medium,fontFamily:Be.fontFamily.display}}}),C.expandable&&a&&h.jsx(fe,{sx:{ml:"auto"},children:l?h.jsx(lg,{}):h.jsx(Wo,{})})]});return C.disabled&&a?h.jsx(Si,{title:"Enroll in a course to access this feature",placement:"right",children:h.jsx("span",{children:q})}):q},w=h.jsxs(fe,{sx:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:ge.background.secondary,borderRight:`1px solid ${ge.neutral[200]}`},children:[h.jsxs(fe,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:a?3:2,minHeight:80,backgroundColor:ge.background.primary,borderBottom:`1px solid ${ge.neutral[200]}`,boxShadow:Yt.sm},children:[a&&h.jsx(fe,{sx:{display:"flex",alignItems:"center",gap:2,flex:1},children:h.jsx(fe,{sx:{flex:1}})}),h.jsx(On,{onClick:f,sx:{backgroundColor:ge.primary[100],color:ge.primary[600],"&:hover":{backgroundColor:ge.primary[200],transform:"scale(1.08) rotate(5deg)",boxShadow:Yt.md},"&:active":{transform:"scale(0.95)"},transition:"all 250ms cubic-bezier(0.34, 1.56, 0.64, 1)",borderRadius:Rt.lg,zIndex:1001},children:a?h.jsx(MR,{}):h.jsx(FR,{})})]}),h.jsxs(fe,{sx:{flexGrow:1,overflow:"auto",py:2,"&::-webkit-scrollbar":{width:a?"8px":"6px",transition:"width 300ms ease"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:a?ge.neutral[300]:ge.neutral[200],borderRadius:"4px",transition:"background 300ms ease","&:hover":{background:a?ge.neutral[400]:ge.neutral[300]}},"&::-webkit-scrollbar-thumb:hover":{background:a?ge.neutral[400]:ge.neutral[300]},scrollbarWidth:"thin",scrollbarColor:`${a?ge.neutral[300]:ge.neutral[200]} transparent`},children:[h.jsx(zf,{sx:{px:1},children:m.map((C,N)=>h.jsxs(wd,{disablePadding:!0,sx:{display:"block",mb:.5},children:[A(C),C.expandable&&a&&h.jsx(og,{in:l,timeout:"auto",unmountOnExit:!0,children:h.jsxs(zf,{component:"div",disablePadding:!0,sx:{mt:1},children:[h.jsx(l1,{sx:{pl:6,mx:1,borderRadius:Rt.lg,backgroundColor:ge.neutral[50],"&:hover":{backgroundColor:ge.neutral[100]}},onClick:()=>g("/messages"),children:h.jsx(Ol,{primary:"View Messages",sx:{"& .MuiListItemText-primary":{fontSize:Be.fontSize.sm,fontFamily:Be.fontFamily.secondary}}})}),h.jsx(l1,{sx:{pl:6,mx:1,borderRadius:Rt.lg,backgroundColor:ge.neutral[50],"&:hover":{backgroundColor:ge.neutral[100]}},onClick:()=>g("/add-message"),children:h.jsx(Ol,{primary:"Add Message",sx:{"& .MuiListItemText-primary":{fontSize:Be.fontSize.sm,fontFamily:Be.fontFamily.secondary}}})})]})})]},N))}),(r==null?void 0:r.isAdmin)&&h.jsxs(h.Fragment,{children:[h.jsx(es,{sx:{my:3,mx:2,borderColor:ge.neutral[200]}}),h.jsx(fe,{sx:{px:3,py:1},children:a&&h.jsx(de,{variant:"caption",sx:{fontFamily:Be.fontFamily.display,fontWeight:Be.fontWeight.bold,color:ge.warning,fontSize:Be.fontSize.xs,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Educator Tools"})}),h.jsx(zf,{sx:{px:1},children:x.map((C,N)=>h.jsx(wd,{disablePadding:!0,sx:{display:"block",mb:.5},children:A(C)},`educator-${N}`))})]}),i&&h.jsxs(h.Fragment,{children:[h.jsx(es,{sx:{my:3,mx:2,borderColor:ge.neutral[200]}}),h.jsx(fe,{sx:{px:3,py:1},children:a&&h.jsx(de,{variant:"caption",sx:{fontFamily:Be.fontFamily.display,fontWeight:Be.fontWeight.bold,color:ge.error,fontSize:Be.fontSize.xs,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Super Admin Tools"})}),h.jsx(zf,{sx:{px:1},children:y.map((C,N)=>h.jsx(wd,{disablePadding:!0,sx:{display:"block",mb:.5},children:A(C)},`superadmin-${N}`))})]}),h.jsxs(fe,{sx:{mt:"auto",p:2,borderTop:`1px solid ${ge.neutral[200]}`,backgroundColor:ge.background.primary},children:[h.jsx(fe,{sx:{mb:2},children:h.jsxs(l1,{onClick:()=>{window.open("https://help.waveshi.org","_blank","noopener,noreferrer")},sx:{borderRadius:Rt.lg,backgroundColor:ge.secondary[50],color:ge.secondary[700],fontFamily:Be.fontFamily.display,fontWeight:Be.fontWeight.medium,fontSize:Be.fontSize.lg,"&:hover":{backgroundColor:ge.secondary[100],transform:"translateY(-1px)",boxShadow:Yt.sm},transition:wc.transitions.normal},children:[h.jsx(Qy,{sx:{color:ge.secondary[600]},children:h.jsx(PR,{})}),a&&h.jsx(Ol,{primary:"Provide Feedback",sx:{"& .MuiListItemText-primary":{fontSize:Be.fontSize.lg,fontWeight:Be.fontWeight.medium,fontFamily:Be.fontFamily.display}}})]})}),h.jsxs(l1,{onClick:async()=>{try{await TT.signOut()}catch(C){console.error("Logout failed:",C)}},sx:{borderRadius:Rt.lg,backgroundColor:ge.error+"20",color:ge.error,fontFamily:Be.fontFamily.display,fontWeight:Be.fontWeight.medium,fontSize:Be.fontSize.lg,"&:hover":{backgroundColor:ge.error+"30",transform:"translateY(-1px)",boxShadow:Yt.sm},transition:wc.transitions.normal},children:[h.jsx(Qy,{sx:{color:ge.error},children:h.jsx(zR,{})}),a&&h.jsx(Ol,{primary:"Logout",sx:{"& .MuiListItemText-primary":{fontSize:Be.fontSize.lg,fontWeight:Be.fontWeight.medium,fontFamily:Be.fontFamily.display}}})]})]})]})]});return h.jsxs(fe,{sx:{display:"flex",height:"100%",width:"100%"},children:[h.jsx(fe,{sx:{width:a?320:100,height:"100%",flexShrink:0,transition:"width 400ms cubic-bezier(0.25, 0.46, 0.45, 0.94), box-shadow 300ms ease-out",backgroundColor:ge.primary[100],borderRight:`1px solid ${ge.primary[200]}`,boxShadow:a?Yt.xl:Yt.md,overflow:"hidden",position:"relative",zIndex:1e3,"&::-webkit-scrollbar":{width:a?"8px":"6px",transition:"width 300ms ease"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:a?ge.neutral[300]:ge.neutral[200],borderRadius:"4px",transition:"background 300ms ease","&:hover":{background:a?ge.neutral[400]:ge.neutral[300]}},scrollbarWidth:"thin",scrollbarColor:`${a?ge.neutral[300]:ge.neutral[200]} transparent`},children:w}),h.jsx(fe,{sx:{flexGrow:1,height:"100%",backgroundColor:"#F0F4FF",overflow:"auto",transition:"margin-left 400ms cubic-bezier(0.25, 0.46, 0.45, 0.94)"},children:e})]})},dee=()=>h.jsx(fe,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",padding:gt[4],backgroundColor:ge.primary[100],borderBottom:`1px solid ${ge.primary[200]}`,boxShadow:Yt.sm,height:"12.5vh",minHeight:90},children:h.jsxs(fe,{sx:{display:"flex",alignItems:"center",gap:gt[4],width:"100%"},children:[h.jsx("img",{src:"/nexlab/nexlab-logo.png",alt:"NexLab Logo",style:{height:85,borderRadius:Rt.lg}}),h.jsx(fe,{className:"divider",sx:{height:"85px",borderLeft:`2px solid ${ge.primary[500]}`,marginRight:gt[5]}}),h.jsx(de,{variant:"h4",component:"p",sx:{color:ge.primary[700],fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize["2xl"],fontWeight:Be.fontWeight.normal,whiteSpace:"nowrap",flex:1},children:"Next-Generation Experiments and Learning for Advanced Biotech"})]})}),fee=()=>h.jsxs(fe,{sx:{backgroundColor:ge.primary[100],borderTop:`1px solid ${ge.primary[200]}`,height:"10vh",minHeight:70,display:"flex",flexDirection:"column",justifyContent:"center"},children:[h.jsx(es,{}),h.jsxs(fe,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,px:gt[4],gap:gt[4]},children:[h.jsx(fe,{sx:{flex:.25,display:"flex",justifyContent:"center"},children:h.jsx("img",{src:"/nexlab/FooterLogoLong.png",alt:"Partner Logos",style:{height:60,borderRadius:Rt.lg,border:`1px solid ${ge.primary[700]}`,opacity:.8}})}),h.jsx(fe,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${ge.primary[500]}`,opacity:.8}}),h.jsx(fe,{sx:{flex:.4},children:h.jsx(de,{variant:"body2",sx:{color:ge.primary[700],fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize.sm,lineHeight:1.4,opacity:.8},children:"This project is supported by the National Science Foundation (NSF) under grant number #2300976. Any opinions, findings, and conclusions or recommendations expressed in this material, however, are those of the authors and do not necessarily reflect the views of NSF."})}),h.jsx(fe,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${ge.primary[500]}`,opacity:.8}}),h.jsxs(fe,{sx:{flex:.1},children:[h.jsx(de,{variant:"body2",sx:{color:ge.primary[700],fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize.sm,lineHeight:1.4,opacity:.8,mb:1},children:"Legal:"}),h.jsxs(de,{variant:"body2",sx:{color:ge.primary[700],fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize.sm,lineHeight:1.4,opacity:.8},children:[h.jsx("a",{href:"https://intofuture.org/nexlab-privacy.html",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline",opacity:.8},children:"Privacy Policy"}),"  ",h.jsx("a",{href:"https://intofuture.org/nexlab-terms.html",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline",opacity:.8},children:"Terms of Service"})]})]}),h.jsx(fe,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${ge.primary[500]}`,opacity:.8}}),h.jsx(fe,{sx:{flex:.25},children:h.jsx(de,{variant:"body2",sx:{color:ge.primary[700],fontFamily:Be.fontFamily.secondary,fontSize:Be.fontSize.sm,lineHeight:1.4,opacity:.8},children:" 2025 Institute for Future Intelligence and Kapi'olani Community College Antibody Engineering & Research Projects."})})]})]}),D4=["http","https","mailto","tel"];function hee(e){const n=(e||"").trim(),t=n.charAt(0);if(t==="#"||t==="/")return n;const r=n.indexOf(":");if(r===-1)return n;let i=-1;for(;++i<D4.length;){const a=D4[i];if(r===a.length&&n.slice(0,a.length).toLowerCase()===a)return n}return i=n.indexOf("?"),i!==-1&&r>i||(i=n.indexOf("#"),i!==-1&&r>i)?n:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Sw,L4;function pee(){return L4||(L4=1,Sw=function(n){return n!=null&&n.constructor!=null&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}),Sw}var mee=pee();const KI=ts(mee);function tg(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?R4(e.position):"start"in e||"end"in e?R4(e):"line"in e||"column"in e?ZS(e):""}function ZS(e){return M4(e&&e.line)+":"+M4(e&&e.column)}function R4(e){return ZS(e&&e.start)+"-"+ZS(e&&e.end)}function M4(e){return e&&typeof e=="number"?e:1}class Pl extends Error{constructor(n,t,r){const i=[null,null];let a={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){const s=r.indexOf(":");s===-1?i[1]=r:(i[0]=r.slice(0,s),i[1]=r.slice(s+1))}t&&("type"in t||"position"in t?t.position&&(a=t.position):"start"in t||"end"in t?a=t:("line"in t||"column"in t)&&(a.start=t)),this.name=tg(t)||"1:1",this.message=typeof n=="object"?n.message:n,this.stack="",typeof n=="object"&&n.stack&&(this.stack=n.stack),this.reason=this.message,this.fatal,this.line=a.start.line,this.column=a.start.column,this.position=a,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Pl.prototype.file="";Pl.prototype.name="";Pl.prototype.reason="";Pl.prototype.message="";Pl.prototype.stack="";Pl.prototype.fatal=null;Pl.prototype.column=null;Pl.prototype.line=null;Pl.prototype.source=null;Pl.prototype.ruleId=null;Pl.prototype.position=null;const oc={basename:gee,dirname:bee,extname:yee,join:xee,sep:"/"};function gee(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');ib(e);let t=0,r=-1,i=e.length,a;if(n===void 0||n.length===0||n.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(a){t=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let s=-1,l=n.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(a){t=i+1;break}}else s<0&&(a=!0,s=i+1),l>-1&&(e.charCodeAt(i)===n.charCodeAt(l--)?l<0&&(r=i):(l=-1,r=s));return t===r?r=s:r<0&&(r=e.length),e.slice(t,r)}function bee(e){if(ib(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.charCodeAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.charCodeAt(0)===47?"/":".":n===1&&e.charCodeAt(0)===47?"//":e.slice(0,n)}function yee(e){ib(e);let n=e.length,t=-1,r=0,i=-1,a=0,s;for(;n--;){const l=e.charCodeAt(n);if(l===47){if(s){r=n+1;break}continue}t<0&&(s=!0,t=n+1),l===46?i<0?i=n:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||t<0||a===0||a===1&&i===t-1&&i===r+1?"":e.slice(i,t)}function xee(...e){let n=-1,t;for(;++n<e.length;)ib(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":vee(t)}function vee(e){ib(e);const n=e.charCodeAt(0)===47;let t=wee(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.charCodeAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function wee(e,n){let t="",r=0,i=-1,a=0,s=-1,l,u;for(;++s<=e.length;){if(s<e.length)l=e.charCodeAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(u=t.lastIndexOf("/"),u!==t.length-1){u<0?(t="",r=0):(t=t.slice(0,u),r=t.length-1-t.lastIndexOf("/")),i=s,a=0;continue}}else if(t.length>0){t="",r=0,i=s,a=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(i+1,s):t=e.slice(i+1,s),r=s-i-1;i=s,a=0}else l===46&&a>-1?a++:a=-1}return t}function ib(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const See={cwd:Aee};function Aee(){return"/"}function JS(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function Cee(e){if(typeof e=="string")e=new URL(e);else if(!JS(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return Eee(e)}function Eee(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const n=e.pathname;let t=-1;for(;++t<n.length;)if(n.charCodeAt(t)===37&&n.charCodeAt(t+1)===50){const r=n.charCodeAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}const Aw=["history","path","basename","stem","extname","dirname"];class XI{constructor(n){let t;n?typeof n=="string"||_ee(n)?t={value:n}:JS(n)?t={path:n}:t=n:t={},this.data={},this.messages=[],this.history=[],this.cwd=See.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<Aw.length;){const a=Aw[r];a in t&&t[a]!==void 0&&t[a]!==null&&(this[a]=a==="history"?[...t[a]]:t[a])}let i;for(i in t)Aw.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(n){JS(n)&&(n=Cee(n)),Ew(n,"path"),this.path!==n&&this.history.push(n)}get dirname(){return typeof this.path=="string"?oc.dirname(this.path):void 0}set dirname(n){F4(this.basename,"dirname"),this.path=oc.join(n||"",this.basename)}get basename(){return typeof this.path=="string"?oc.basename(this.path):void 0}set basename(n){Ew(n,"basename"),Cw(n,"basename"),this.path=oc.join(this.dirname||"",n)}get extname(){return typeof this.path=="string"?oc.extname(this.path):void 0}set extname(n){if(Cw(n,"extname"),F4(this.dirname,"extname"),n){if(n.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=oc.join(this.dirname,this.stem+(n||""))}get stem(){return typeof this.path=="string"?oc.basename(this.path,this.extname):void 0}set stem(n){Ew(n,"stem"),Cw(n,"stem"),this.path=oc.join(this.dirname||"",n+(this.extname||""))}toString(n){return(this.value||"").toString(n||void 0)}message(n,t,r){const i=new Pl(n,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(n,t,r){const i=this.message(n,t,r);return i.fatal=null,i}fail(n,t,r){const i=this.message(n,t,r);throw i.fatal=!0,i}}function Cw(e,n){if(e&&e.includes(oc.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+oc.sep+"`")}function Ew(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function F4(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function _ee(e){return KI(e)}function P4(e){if(e)throw e}var _w,z4;function kee(){if(z4)return _w;z4=1;var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):n.call(d)==="[object Array]"},a=function(d){if(!d||n.call(d)!=="[object Object]")return!1;var f=e.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!g)return!1;var b;for(b in d);return typeof b>"u"||e.call(d,b)},s=function(d,f){t&&f.name==="__proto__"?t(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},l=function(d,f){if(f==="__proto__")if(e.call(d,f)){if(r)return r(d,f).value}else return;return d[f]};return _w=function u(){var d,f,g,b,m,x,y=arguments[0],A=1,w=arguments.length,C=!1;for(typeof y=="boolean"&&(C=y,y=arguments[1]||{},A=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});A<w;++A)if(d=arguments[A],d!=null)for(f in d)g=l(y,f),b=l(d,f),y!==b&&(C&&b&&(a(b)||(m=i(b)))?(m?(m=!1,x=g&&i(g)?g:[]):x=g&&a(g)?g:{},s(y,{name:f,newValue:u(C,x,b)})):typeof b<"u"&&s(y,{name:f,newValue:b}));return y},_w}var Nee=kee();const q4=ts(Nee);function e6(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function jee(){const e=[],n={run:t,use:r};return n;function t(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(u,...d){const f=e[++a];let g=-1;if(u){s(u);return}for(;++g<i.length;)(d[g]===null||d[g]===void 0)&&(d[g]=i[g]);i=d,f?Tee(f,l)(...d):s(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),n}}function Tee(e,n){let t;return r;function r(...s){const l=e.length>s.length;let u;l&&s.push(i);try{u=e.apply(this,s)}catch(d){const f=d;if(l&&t)throw f;return i(f)}l||(u&&u.then&&typeof u.then=="function"?u.then(a,i):u instanceof Error?i(u):a(u))}function i(s,...l){t||(t=!0,n(s,...l))}function a(s){i(null,s)}}const Oee=JI().freeze(),ZI={}.hasOwnProperty;function JI(){const e=jee(),n=[];let t={},r,i=-1;return a.data=s,a.Parser=void 0,a.Compiler=void 0,a.freeze=l,a.attachers=n,a.use=u,a.parse=d,a.stringify=f,a.run=g,a.runSync=b,a.process=m,a.processSync=x,a;function a(){const y=JI();let A=-1;for(;++A<n.length;)y.use(...n[A]);return y.data(q4(!0,{},t)),y}function s(y,A){return typeof y=="string"?arguments.length===2?(jw("data",r),t[y]=A,a):ZI.call(t,y)&&t[y]||null:y?(jw("data",r),t=y,a):t}function l(){if(r)return a;for(;++i<n.length;){const[y,...A]=n[i];if(A[0]===!1)continue;A[0]===!0&&(A[0]=void 0);const w=y.call(a,...A);typeof w=="function"&&e.use(w)}return r=!0,i=Number.POSITIVE_INFINITY,a}function u(y,...A){let w;if(jw("use",r),y!=null)if(typeof y=="function")F(y,...A);else if(typeof y=="object")Array.isArray(y)?R(y):N(y);else throw new TypeError("Expected usable value, not `"+y+"`");return w&&(t.settings=Object.assign(t.settings||{},w)),a;function C(q){if(typeof q=="function")F(q);else if(typeof q=="object")if(Array.isArray(q)){const[k,...L]=q;F(k,...L)}else N(q);else throw new TypeError("Expected usable value, not `"+q+"`")}function N(q){R(q.plugins),q.settings&&(w=Object.assign(w||{},q.settings))}function R(q){let k=-1;if(q!=null)if(Array.isArray(q))for(;++k<q.length;){const L=q[k];C(L)}else throw new TypeError("Expected a list of plugins, not `"+q+"`")}function F(q,k){let L=-1,B;for(;++L<n.length;)if(n[L][0]===q){B=n[L];break}B?(e6(B[1])&&e6(k)&&(k=q4(!0,B[1],k)),B[1]=k):n.push([...arguments])}}function d(y){a.freeze();const A=T1(y),w=a.Parser;return kw("parse",w),B4(w,"parse")?new w(String(A),A).parse():w(String(A),A)}function f(y,A){a.freeze();const w=T1(A),C=a.Compiler;return Nw("stringify",C),U4(y),B4(C,"compile")?new C(y,w).compile():C(y,w)}function g(y,A,w){if(U4(y),a.freeze(),!w&&typeof A=="function"&&(w=A,A=void 0),!w)return new Promise(C);C(null,w);function C(N,R){e.run(y,T1(A),F);function F(q,k,L){k=k||y,q?R(q):N?N(k):w(null,k,L)}}}function b(y,A){let w,C;return a.run(y,A,N),$4("runSync","run",C),w;function N(R,F){P4(R),w=F,C=!0}}function m(y,A){if(a.freeze(),kw("process",a.Parser),Nw("process",a.Compiler),!A)return new Promise(w);w(null,A);function w(C,N){const R=T1(y);a.run(a.parse(R),R,(q,k,L)=>{if(q||!k||!L)F(q);else{const B=a.stringify(k,L);B==null||(Lee(B)?L.value=B:L.result=B),F(q,L)}});function F(q,k){q||!k?N(q):C?C(k):A(null,k)}}}function x(y){let A;a.freeze(),kw("processSync",a.Parser),Nw("processSync",a.Compiler);const w=T1(y);return a.process(w,C),$4("processSync","process",A),w;function C(N){A=!0,P4(N)}}}function B4(e,n){return typeof e=="function"&&e.prototype&&(Iee(e.prototype)||n in e.prototype)}function Iee(e){let n;for(n in e)if(ZI.call(e,n))return!0;return!1}function kw(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function Nw(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function jw(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function U4(e){if(!e6(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function $4(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function T1(e){return Dee(e)?e:new XI(e)}function Dee(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Lee(e){return typeof e=="string"||KI(e)}const Ree={};function Mee(e,n){const t=Ree,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return eD(e,r,i)}function eD(e,n,t){if(Fee(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return H4(e.children,n,t)}return Array.isArray(e)?H4(e,n,t):""}function H4(e,n,t){const r=[];let i=-1;for(;++i<e.length;)r[i]=eD(e[i],n,t);return r.join("")}function Fee(e){return!!(e&&typeof e=="object")}function qc(e,n,t,r){const i=e.length;let a=0,s;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,t=t>0?t:0,r.length<1e4)s=Array.from(r),s.unshift(n,t),e.splice(...s);else for(t&&e.splice(n,t);a<r.length;)s=r.slice(a,a+1e4),s.unshift(n,0),e.splice(...s),a+=1e4,n+=1e4}function Nl(e,n){return e.length>0?(qc(e,e.length,0,n),e):n}const W4={}.hasOwnProperty;function Pee(e){const n={};let t=-1;for(;++t<e.length;)zee(n,e[t]);return n}function zee(e,n){let t;for(t in n){const i=(W4.call(e,t)?e[t]:void 0)||(e[t]={}),a=n[t];let s;if(a)for(s in a){W4.call(i,s)||(i[s]=[]);const l=a[s];qee(i[s],Array.isArray(l)?l:l?[l]:[])}}}function qee(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);qc(e,0,0,r)}const Bee=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,yc=fh(/[A-Za-z]/),Qo=fh(/[\dA-Za-z]/),Uee=fh(/[#-'*+\--9=?A-Z^-~]/);function t6(e){return e!==null&&(e<32||e===127)}const n6=fh(/\d/),$ee=fh(/[\dA-Fa-f]/),Hee=fh(/[!-/:-@[-`{-~]/);function hn(e){return e!==null&&e<-2}function xo(e){return e!==null&&(e<0||e===32)}function xr(e){return e===-2||e===-1||e===32}const Wee=fh(Bee),Vee=fh(/\s/);function fh(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function si(e,n,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(u){return xr(u)?(e.enter(t),l(u)):n(u)}function l(u){return xr(u)&&a++<i?(e.consume(u),l):(e.exit(t),n(u))}}const Yee={tokenize:Gee};function Gee(e){const n=e.attempt(this.parser.constructs.contentInitial,r,i);let t;return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),si(e,n,"linePrefix")}function i(l){return e.enter("paragraph"),a(l)}function a(l){const u=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=u),t=u,s(l)}function s(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return hn(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),s)}}const Qee={tokenize:Kee},V4={tokenize:Xee};function Kee(e){const n=this,t=[];let r=0,i,a,s;return l;function l(N){if(r<t.length){const R=t[r];return n.containerState=R[1],e.attempt(R[0].continuation,u,d)(N)}return d(N)}function u(N){if(r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,i&&C();const R=n.events.length;let F=R,q;for(;F--;)if(n.events[F][0]==="exit"&&n.events[F][1].type==="chunkFlow"){q=n.events[F][1].end;break}w(r);let k=R;for(;k<n.events.length;)n.events[k][1].end=Object.assign({},q),k++;return qc(n.events,F+1,0,n.events.slice(R)),n.events.length=k,d(N)}return l(N)}function d(N){if(r===t.length){if(!i)return b(N);if(i.currentConstruct&&i.currentConstruct.concrete)return x(N);n.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(V4,f,g)(N)}function f(N){return i&&C(),w(r),b(N)}function g(N){return n.parser.lazy[n.now().line]=r!==t.length,s=n.now().offset,x(N)}function b(N){return n.containerState={},e.attempt(V4,m,x)(N)}function m(N){return r++,t.push([n.currentConstruct,n.containerState]),b(N)}function x(N){if(N===null){i&&C(),w(0),e.consume(N);return}return i=i||n.parser.flow(n.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),y(N)}function y(N){if(N===null){A(e.exit("chunkFlow"),!0),w(0),e.consume(N);return}return hn(N)?(e.consume(N),A(e.exit("chunkFlow")),r=0,n.interrupt=void 0,l):(e.consume(N),y)}function A(N,R){const F=n.sliceStream(N);if(R&&F.push(null),N.previous=a,a&&(a.next=N),a=N,i.defineSkip(N.start),i.write(F),n.parser.lazy[N.start.line]){let q=i.events.length;for(;q--;)if(i.events[q][1].start.offset<s&&(!i.events[q][1].end||i.events[q][1].end.offset>s))return;const k=n.events.length;let L=k,B,X;for(;L--;)if(n.events[L][0]==="exit"&&n.events[L][1].type==="chunkFlow"){if(B){X=n.events[L][1].end;break}B=!0}for(w(r),q=k;q<n.events.length;)n.events[q][1].end=Object.assign({},X),q++;qc(n.events,L+1,0,n.events.slice(k)),n.events.length=q}}function w(N){let R=t.length;for(;R-- >N;){const F=t[R];n.containerState=F[1],F[0].exit.call(n,e)}t.length=N}function C(){i.write([null]),a=void 0,i=void 0,n.containerState._closeFlow=void 0}}function Xee(e,n,t){return si(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Y4(e){if(e===null||xo(e)||Vee(e))return 1;if(Wee(e))return 2}function EA(e,n,t){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(n=a(n,t),r.push(a))}return n}const r6={name:"attention",tokenize:Jee,resolveAll:Zee};function Zee(e,n){let t=-1,r,i,a,s,l,u,d,f;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const g=Object.assign({},e[r][1].end),b=Object.assign({},e[t][1].start);G4(g,-u),G4(b,u),s={type:u>1?"strongSequence":"emphasisSequence",start:g,end:Object.assign({},e[r][1].end)},l={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[t][1].start),end:b},a={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[t][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},l.end)},e[r][1].end=Object.assign({},s.start),e[t][1].start=Object.assign({},l.end),d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Nl(d,[["enter",e[r][1],n],["exit",e[r][1],n]])),d=Nl(d,[["enter",i,n],["enter",s,n],["exit",s,n],["enter",a,n]]),d=Nl(d,EA(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),d=Nl(d,[["exit",a,n],["enter",l,n],["exit",l,n],["exit",i,n]]),e[t][1].end.offset-e[t][1].start.offset?(f=2,d=Nl(d,[["enter",e[t][1],n],["exit",e[t][1],n]])):f=0,qc(e,r-1,t-r+3,d),t=r+d.length-f-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function Jee(e,n){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Y4(r);let a;return s;function s(u){return a=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===a)return e.consume(u),l;const d=e.exit("attentionSequence"),f=Y4(u),g=!f||f===2&&i||t.includes(u),b=!i||i===2&&f||t.includes(r);return d._open=!!(a===42?g:g&&(i||!b)),d._close=!!(a===42?b:b&&(f||!g)),n(u)}}function G4(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const ete={name:"autolink",tokenize:tte};function tte(e,n,t){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return yc(m)?(e.consume(m),s):d(m)}function s(m){return m===43||m===45||m===46||Qo(m)?(r=1,l(m)):d(m)}function l(m){return m===58?(e.consume(m),r=0,u):(m===43||m===45||m===46||Qo(m))&&r++<32?(e.consume(m),l):(r=0,d(m))}function u(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),n):m===null||m===32||m===60||t6(m)?t(m):(e.consume(m),u)}function d(m){return m===64?(e.consume(m),f):Uee(m)?(e.consume(m),d):t(m)}function f(m){return Qo(m)?g(m):t(m)}function g(m){return m===46?(e.consume(m),r=0,f):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),n):b(m)}function b(m){if((m===45||Qo(m))&&r++<63){const x=m===45?b:g;return e.consume(m),x}return t(m)}}const $v={tokenize:nte,partial:!0};function nte(e,n,t){return r;function r(a){return xr(a)?si(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||hn(a)?n(a):t(a)}}const tD={name:"blockQuote",tokenize:rte,continuation:{tokenize:ite},exit:ate};function rte(e,n,t){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return t(s)}function a(s){return xr(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(s))}}function ite(e,n,t){const r=this;return i;function i(s){return xr(s)?si(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(tD,n,t)(s)}}function ate(e){e.exit("blockQuote")}const nD={name:"characterEscape",tokenize:ste};function ste(e,n,t){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return Hee(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(a)}}const Q4=document.createElement("i");function _A(e){const n="&"+e+";";Q4.innerHTML=n;const t=Q4.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}const rD={name:"characterReference",tokenize:ote};function ote(e,n,t){const r=this;let i=0,a,s;return l;function l(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),u}function u(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),a=31,s=Qo,f(g))}function d(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=$ee,f):(e.enter("characterReferenceValue"),a=7,s=n6,f(g))}function f(g){if(g===59&&i){const b=e.exit("characterReferenceValue");return s===Qo&&!_A(r.sliceSerialize(b))?t(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return s(g)&&i++<a?(e.consume(g),f):t(g)}}const K4={tokenize:ute,partial:!0},X4={name:"codeFenced",tokenize:lte,concrete:!0};function lte(e,n,t){const r=this,i={tokenize:F,partial:!0};let a=0,s=0,l;return u;function u(q){return d(q)}function d(q){const k=r.events[r.events.length-1];return a=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,l=q,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(q)}function f(q){return q===l?(s++,e.consume(q),f):s<3?t(q):(e.exit("codeFencedFenceSequence"),xr(q)?si(e,g,"whitespace")(q):g(q))}function g(q){return q===null||hn(q)?(e.exit("codeFencedFence"),r.interrupt?n(q):e.check(K4,y,R)(q)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(q))}function b(q){return q===null||hn(q)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(q)):xr(q)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),si(e,m,"whitespace")(q)):q===96&&q===l?t(q):(e.consume(q),b)}function m(q){return q===null||hn(q)?g(q):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(q))}function x(q){return q===null||hn(q)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(q)):q===96&&q===l?t(q):(e.consume(q),x)}function y(q){return e.attempt(i,R,A)(q)}function A(q){return e.enter("lineEnding"),e.consume(q),e.exit("lineEnding"),w}function w(q){return a>0&&xr(q)?si(e,C,"linePrefix",a+1)(q):C(q)}function C(q){return q===null||hn(q)?e.check(K4,y,R)(q):(e.enter("codeFlowValue"),N(q))}function N(q){return q===null||hn(q)?(e.exit("codeFlowValue"),C(q)):(e.consume(q),N)}function R(q){return e.exit("codeFenced"),n(q)}function F(q,k,L){let B=0;return X;function X(G){return q.enter("lineEnding"),q.consume(G),q.exit("lineEnding"),j}function j(G){return q.enter("codeFencedFence"),xr(G)?si(q,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):O(G)}function O(G){return G===l?(q.enter("codeFencedFenceSequence"),P(G)):L(G)}function P(G){return G===l?(B++,q.consume(G),P):B>=s?(q.exit("codeFencedFenceSequence"),xr(G)?si(q,T,"whitespace")(G):T(G)):L(G)}function T(G){return G===null||hn(G)?(q.exit("codeFencedFence"),k(G)):L(G)}}}function ute(e,n,t){const r=this;return i;function i(s){return s===null?t(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}const Tw={name:"codeIndented",tokenize:dte},cte={tokenize:fte,partial:!0};function dte(e,n,t){const r=this;return i;function i(d){return e.enter("codeIndented"),si(e,a,"linePrefix",5)(d)}function a(d){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?s(d):t(d)}function s(d){return d===null?u(d):hn(d)?e.attempt(cte,s,u)(d):(e.enter("codeFlowValue"),l(d))}function l(d){return d===null||hn(d)?(e.exit("codeFlowValue"),s(d)):(e.consume(d),l)}function u(d){return e.exit("codeIndented"),n(d)}}function fte(e,n,t){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?t(s):hn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):si(e,a,"linePrefix",5)(s)}function a(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(s):hn(s)?i(s):t(s)}}const hte={name:"codeText",tokenize:gte,resolve:pte,previous:mte};function pte(e){let n=e.length-4,t=3,r,i;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)i===void 0?r!==n&&e[r][1].type!=="lineEnding"&&(i=r):(r===n||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),n-=r-i-2,r=i+2),i=void 0);return e}function mte(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function gte(e,n,t){let r=0,i,a;return s;function s(g){return e.enter("codeText"),e.enter("codeTextSequence"),l(g)}function l(g){return g===96?(e.consume(g),r++,l):(e.exit("codeTextSequence"),u(g))}function u(g){return g===null?t(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),u):g===96?(a=e.enter("codeTextSequence"),i=0,f(g)):hn(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),u):(e.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||hn(g)?(e.exit("codeTextData"),u(g)):(e.consume(g),d)}function f(g){return g===96?(e.consume(g),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),n(g)):(a.type="codeTextData",d(g))}}function iD(e){const n={};let t=-1,r,i,a,s,l,u,d;for(;++t<e.length;){for(;t in n;)t=n[t];if(r=e[t],t&&r[1].type==="chunkFlow"&&e[t-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,a=0,a<u.length&&u[a][1].type==="lineEndingBlank"&&(a+=2),a<u.length&&u[a][1].type==="content"))for(;++a<u.length&&u[a][1].type!=="content";)u[a][1].type==="chunkText"&&(u[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,bte(e,t)),t=n[t],d=!0);else if(r[1]._container){for(a=t,i=void 0;a--&&(s=e[a],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),l=e.slice(i,t),l.unshift(r),qc(e,i,t-i+1,l))}}return!d}function bte(e,n){const t=e[n][1],r=e[n][2];let i=n-1;const a=[],s=t._tokenizer||r.parser[t.contentType](t.start),l=s.events,u=[],d={};let f,g,b=-1,m=t,x=0,y=0;const A=[y];for(;m;){for(;e[++i][1]!==m;);a.push(i),m._tokenizer||(f=r.sliceStream(m),m.next||f.push(null),g&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(f),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),g=m,m=m.next}for(m=t;++b<l.length;)l[b][0]==="exit"&&l[b-1][0]==="enter"&&l[b][1].type===l[b-1][1].type&&l[b][1].start.line!==l[b][1].end.line&&(y=b+1,A.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):A.pop(),b=A.length;b--;){const w=l.slice(A[b],A[b+1]),C=a.pop();u.unshift([C,C+w.length-1]),qc(e,C,2,w)}for(b=-1;++b<u.length;)d[x+u[b][0]]=x+u[b][1],x+=u[b][1]-u[b][0]-1;return d}const yte={tokenize:wte,resolve:vte},xte={tokenize:Ste,partial:!0};function vte(e){return iD(e),e}function wte(e,n){let t;return r;function r(l){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):hn(l)?e.check(xte,s,a)(l):(e.consume(l),i)}function a(l){return e.exit("chunkContent"),e.exit("content"),n(l)}function s(l){return e.consume(l),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function Ste(e,n,t){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),si(e,a,"linePrefix")}function a(s){if(s===null||hn(s))return t(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(s):e.interrupt(r.parser.constructs.flow,t,n)(s)}}function aD(e,n,t,r,i,a,s,l,u){const d=u||Number.POSITIVE_INFINITY;let f=0;return g;function g(w){return w===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(w),e.exit(a),b):w===null||w===32||w===41||t6(w)?t(w):(e.enter(r),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),y(w))}function b(w){return w===62?(e.enter(a),e.consume(w),e.exit(a),e.exit(i),e.exit(r),n):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===62?(e.exit("chunkString"),e.exit(l),b(w)):w===null||w===60||hn(w)?t(w):(e.consume(w),w===92?x:m)}function x(w){return w===60||w===62||w===92?(e.consume(w),m):m(w)}function y(w){return!f&&(w===null||w===41||xo(w))?(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(r),n(w)):f<d&&w===40?(e.consume(w),f++,y):w===41?(e.consume(w),f--,y):w===null||w===32||w===40||t6(w)?t(w):(e.consume(w),w===92?A:y)}function A(w){return w===40||w===41||w===92?(e.consume(w),y):y(w)}}function sD(e,n,t,r,i,a){const s=this;let l=0,u;return d;function d(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),f}function f(m){return l>999||m===null||m===91||m===93&&!u||m===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?t(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),n):hn(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),g(m))}function g(m){return m===null||m===91||m===93||hn(m)||l++>999?(e.exit("chunkString"),f(m)):(e.consume(m),u||(u=!xr(m)),m===92?b:g)}function b(m){return m===91||m===92||m===93?(e.consume(m),l++,g):g(m)}}function oD(e,n,t,r,i,a){let s;return l;function l(b){return b===34||b===39||b===40?(e.enter(r),e.enter(i),e.consume(b),e.exit(i),s=b===40?41:b,u):t(b)}function u(b){return b===s?(e.enter(i),e.consume(b),e.exit(i),e.exit(r),n):(e.enter(a),d(b))}function d(b){return b===s?(e.exit(a),u(s)):b===null?t(b):hn(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),si(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(b))}function f(b){return b===s||b===null||hn(b)?(e.exit("chunkString"),d(b)):(e.consume(b),b===92?g:f)}function g(b){return b===s||b===92?(e.consume(b),f):f(b)}}function ng(e,n){let t;return r;function r(i){return hn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t=!0,r):xr(i)?si(e,r,t?"linePrefix":"lineSuffix")(i):n(i)}}function W0(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ate={name:"definition",tokenize:Ete},Cte={tokenize:_te,partial:!0};function Ete(e,n,t){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return sD.call(r,e,l,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return i=W0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),u):t(m)}function u(m){return xo(m)?ng(e,d)(m):d(m)}function d(m){return aD(e,f,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function f(m){return e.attempt(Cte,g,g)(m)}function g(m){return xr(m)?si(e,b,"whitespace")(m):b(m)}function b(m){return m===null||hn(m)?(e.exit("definition"),r.parser.defined.push(i),n(m)):t(m)}}function _te(e,n,t){return r;function r(l){return xo(l)?ng(e,i)(l):t(l)}function i(l){return oD(e,a,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return xr(l)?si(e,s,"whitespace")(l):s(l)}function s(l){return l===null||hn(l)?n(l):t(l)}}const kte={name:"hardBreakEscape",tokenize:Nte};function Nte(e,n,t){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return hn(a)?(e.exit("hardBreakEscape"),n(a)):t(a)}}const jte={name:"headingAtx",tokenize:Ote,resolve:Tte};function Tte(e,n){let t=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),t-2>r&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&e[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[t][1].end},a={type:"chunkText",start:e[r][1].start,end:e[t][1].end,contentType:"text"},qc(e,r,t-r+1,[["enter",i,n],["enter",a,n],["exit",a,n],["exit",i,n]])),e}function Ote(e,n,t){let r=0;return i;function i(f){return e.enter("atxHeading"),a(f)}function a(f){return e.enter("atxHeadingSequence"),s(f)}function s(f){return f===35&&r++<6?(e.consume(f),s):f===null||xo(f)?(e.exit("atxHeadingSequence"),l(f)):t(f)}function l(f){return f===35?(e.enter("atxHeadingSequence"),u(f)):f===null||hn(f)?(e.exit("atxHeading"),n(f)):xr(f)?si(e,l,"whitespace")(f):(e.enter("atxHeadingText"),d(f))}function u(f){return f===35?(e.consume(f),u):(e.exit("atxHeadingSequence"),l(f))}function d(f){return f===null||f===35||xo(f)?(e.exit("atxHeadingText"),l(f)):(e.consume(f),d)}}const Ite=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Z4=["pre","script","style","textarea"],Dte={name:"htmlFlow",tokenize:Fte,resolveTo:Mte,concrete:!0},Lte={tokenize:zte,partial:!0},Rte={tokenize:Pte,partial:!0};function Mte(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function Fte(e,n,t){const r=this;let i,a,s,l,u;return d;function d(z){return f(z)}function f(z){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(z),g}function g(z){return z===33?(e.consume(z),b):z===47?(e.consume(z),a=!0,y):z===63?(e.consume(z),i=3,r.interrupt?n:$):yc(z)?(e.consume(z),s=String.fromCharCode(z),A):t(z)}function b(z){return z===45?(e.consume(z),i=2,m):z===91?(e.consume(z),i=5,l=0,x):yc(z)?(e.consume(z),i=4,r.interrupt?n:$):t(z)}function m(z){return z===45?(e.consume(z),r.interrupt?n:$):t(z)}function x(z){const Z="CDATA[";return z===Z.charCodeAt(l++)?(e.consume(z),l===Z.length?r.interrupt?n:O:x):t(z)}function y(z){return yc(z)?(e.consume(z),s=String.fromCharCode(z),A):t(z)}function A(z){if(z===null||z===47||z===62||xo(z)){const Z=z===47,ee=s.toLowerCase();return!Z&&!a&&Z4.includes(ee)?(i=1,r.interrupt?n(z):O(z)):Ite.includes(s.toLowerCase())?(i=6,Z?(e.consume(z),w):r.interrupt?n(z):O(z)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(z):a?C(z):N(z))}return z===45||Qo(z)?(e.consume(z),s+=String.fromCharCode(z),A):t(z)}function w(z){return z===62?(e.consume(z),r.interrupt?n:O):t(z)}function C(z){return xr(z)?(e.consume(z),C):X(z)}function N(z){return z===47?(e.consume(z),X):z===58||z===95||yc(z)?(e.consume(z),R):xr(z)?(e.consume(z),N):X(z)}function R(z){return z===45||z===46||z===58||z===95||Qo(z)?(e.consume(z),R):F(z)}function F(z){return z===61?(e.consume(z),q):xr(z)?(e.consume(z),F):N(z)}function q(z){return z===null||z===60||z===61||z===62||z===96?t(z):z===34||z===39?(e.consume(z),u=z,k):xr(z)?(e.consume(z),q):L(z)}function k(z){return z===u?(e.consume(z),u=null,B):z===null||hn(z)?t(z):(e.consume(z),k)}function L(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||xo(z)?F(z):(e.consume(z),L)}function B(z){return z===47||z===62||xr(z)?N(z):t(z)}function X(z){return z===62?(e.consume(z),j):t(z)}function j(z){return z===null||hn(z)?O(z):xr(z)?(e.consume(z),j):t(z)}function O(z){return z===45&&i===2?(e.consume(z),W):z===60&&i===1?(e.consume(z),K):z===62&&i===4?(e.consume(z),ae):z===63&&i===3?(e.consume(z),$):z===93&&i===5?(e.consume(z),ue):hn(z)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Lte,U,P)(z)):z===null||hn(z)?(e.exit("htmlFlowData"),P(z)):(e.consume(z),O)}function P(z){return e.check(Rte,T,U)(z)}function T(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),G}function G(z){return z===null||hn(z)?P(z):(e.enter("htmlFlowData"),O(z))}function W(z){return z===45?(e.consume(z),$):O(z)}function K(z){return z===47?(e.consume(z),s="",ie):O(z)}function ie(z){if(z===62){const Z=s.toLowerCase();return Z4.includes(Z)?(e.consume(z),ae):O(z)}return yc(z)&&s.length<8?(e.consume(z),s+=String.fromCharCode(z),ie):O(z)}function ue(z){return z===93?(e.consume(z),$):O(z)}function $(z){return z===62?(e.consume(z),ae):z===45&&i===2?(e.consume(z),$):O(z)}function ae(z){return z===null||hn(z)?(e.exit("htmlFlowData"),U(z)):(e.consume(z),ae)}function U(z){return e.exit("htmlFlow"),n(z)}}function Pte(e,n,t){const r=this;return i;function i(s){return hn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):t(s)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}function zte(e,n,t){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt($v,n,t)}}const qte={name:"htmlText",tokenize:Bte};function Bte(e,n,t){const r=this;let i,a,s;return l;function l($){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume($),u}function u($){return $===33?(e.consume($),d):$===47?(e.consume($),F):$===63?(e.consume($),N):yc($)?(e.consume($),L):t($)}function d($){return $===45?(e.consume($),f):$===91?(e.consume($),a=0,x):yc($)?(e.consume($),C):t($)}function f($){return $===45?(e.consume($),m):t($)}function g($){return $===null?t($):$===45?(e.consume($),b):hn($)?(s=g,K($)):(e.consume($),g)}function b($){return $===45?(e.consume($),m):g($)}function m($){return $===62?W($):$===45?b($):g($)}function x($){const ae="CDATA[";return $===ae.charCodeAt(a++)?(e.consume($),a===ae.length?y:x):t($)}function y($){return $===null?t($):$===93?(e.consume($),A):hn($)?(s=y,K($)):(e.consume($),y)}function A($){return $===93?(e.consume($),w):y($)}function w($){return $===62?W($):$===93?(e.consume($),w):y($)}function C($){return $===null||$===62?W($):hn($)?(s=C,K($)):(e.consume($),C)}function N($){return $===null?t($):$===63?(e.consume($),R):hn($)?(s=N,K($)):(e.consume($),N)}function R($){return $===62?W($):N($)}function F($){return yc($)?(e.consume($),q):t($)}function q($){return $===45||Qo($)?(e.consume($),q):k($)}function k($){return hn($)?(s=k,K($)):xr($)?(e.consume($),k):W($)}function L($){return $===45||Qo($)?(e.consume($),L):$===47||$===62||xo($)?B($):t($)}function B($){return $===47?(e.consume($),W):$===58||$===95||yc($)?(e.consume($),X):hn($)?(s=B,K($)):xr($)?(e.consume($),B):W($)}function X($){return $===45||$===46||$===58||$===95||Qo($)?(e.consume($),X):j($)}function j($){return $===61?(e.consume($),O):hn($)?(s=j,K($)):xr($)?(e.consume($),j):B($)}function O($){return $===null||$===60||$===61||$===62||$===96?t($):$===34||$===39?(e.consume($),i=$,P):hn($)?(s=O,K($)):xr($)?(e.consume($),O):(e.consume($),T)}function P($){return $===i?(e.consume($),i=void 0,G):$===null?t($):hn($)?(s=P,K($)):(e.consume($),P)}function T($){return $===null||$===34||$===39||$===60||$===61||$===96?t($):$===47||$===62||xo($)?B($):(e.consume($),T)}function G($){return $===47||$===62||xo($)?B($):t($)}function W($){return $===62?(e.consume($),e.exit("htmlTextData"),e.exit("htmlText"),n):t($)}function K($){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),ie}function ie($){return xr($)?si(e,ue,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):ue($)}function ue($){return e.enter("htmlTextData"),s($)}}const kA={name:"labelEnd",tokenize:Yte,resolveTo:Vte,resolveAll:Wte},Ute={tokenize:Gte},$te={tokenize:Qte},Hte={tokenize:Kte};function Wte(e){let n=-1;for(;++n<e.length;){const t=e[n][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(e.splice(n+1,t.type==="labelImage"?4:2),t.type="data",n++)}return e}function Vte(e,n){let t=e.length,r=0,i,a,s,l;for(;t--;)if(i=e[t][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=t);const u={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},d={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[s][1].end)},f={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return l=[["enter",u,n],["enter",d,n]],l=Nl(l,e.slice(a+1,a+r+3)),l=Nl(l,[["enter",f,n]]),l=Nl(l,EA(n.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),n)),l=Nl(l,[["exit",f,n],e[s-2],e[s-1],["exit",d,n]]),l=Nl(l,e.slice(s+1)),l=Nl(l,[["exit",u,n]]),qc(e,a,e.length,l),e}function Yte(e,n,t){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(b){return a?a._inactive?g(b):(s=r.parser.defined.includes(W0(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),u):t(b)}function u(b){return b===40?e.attempt(Ute,f,s?f:g)(b):b===91?e.attempt($te,f,s?d:g)(b):s?f(b):g(b)}function d(b){return e.attempt(Hte,f,g)(b)}function f(b){return n(b)}function g(b){return a._balanced=!0,t(b)}}function Gte(e,n,t){return r;function r(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),i}function i(g){return xo(g)?ng(e,a)(g):a(g)}function a(g){return g===41?f(g):aD(e,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function s(g){return xo(g)?ng(e,u)(g):f(g)}function l(g){return t(g)}function u(g){return g===34||g===39||g===40?oD(e,d,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):f(g)}function d(g){return xo(g)?ng(e,f)(g):f(g)}function f(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),n):t(g)}}function Qte(e,n,t){const r=this;return i;function i(l){return sD.call(r,e,a,s,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(W0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(l):t(l)}function s(l){return t(l)}}function Kte(e,n,t){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),n):t(a)}}const Xte={name:"labelStartImage",tokenize:Zte,resolveAll:kA.resolveAll};function Zte(e,n,t){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),s):t(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):n(l)}}const Jte={name:"labelStartLink",tokenize:ene,resolveAll:kA.resolveAll};function ene(e,n,t){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(s):n(s)}}const Ow={name:"lineEnding",tokenize:tne};function tne(e,n){return t;function t(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),si(e,n,"linePrefix")}}const px={name:"thematicBreak",tokenize:nne};function nne(e,n,t){let r=0,i;return a;function a(d){return e.enter("thematicBreak"),s(d)}function s(d){return i=d,l(d)}function l(d){return d===i?(e.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||hn(d))?(e.exit("thematicBreak"),n(d)):t(d)}function u(d){return d===i?(e.consume(d),r++,u):(e.exit("thematicBreakSequence"),xr(d)?si(e,l,"whitespace")(d):l(d))}}const go={name:"list",tokenize:ane,continuation:{tokenize:sne},exit:lne},rne={tokenize:une,partial:!0},ine={tokenize:one,partial:!0};function ane(e,n,t){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(m){const x=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:n6(m)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(px,t,d)(m):d(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(m)}return t(m)}function u(m){return n6(m)&&++s<10?(e.consume(m),u):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),d(m)):t(m)}function d(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check($v,r.interrupt?t:f,e.attempt(rne,b,g))}function f(m){return r.containerState.initialBlankLine=!0,a++,b(m)}function g(m){return xr(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),b):t(m)}function b(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(m)}}function sne(e,n,t){const r=this;return r.containerState._closeFlow=void 0,e.check($v,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,si(e,n,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!xr(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(ine,n,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,si(e,e.attempt(go,n,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function one(e,n,t){const r=this;return si(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?n(a):t(a)}}function lne(e){e.exit(this.containerState.type)}function une(e,n,t){const r=this;return si(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!xr(a)&&s&&s[1].type==="listItemPrefixWhitespace"?n(a):t(a)}}const J4={name:"setextUnderline",tokenize:dne,resolveTo:cne};function cne(e,n){let t=e.length,r,i,a;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){r=t;break}e[t][1].type==="paragraph"&&(i=t)}else e[t][1].type==="content"&&e.splice(t,1),!a&&e[t][1].type==="definition"&&(a=t);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,n]),e.splice(a+1,0,["exit",e[r][1],n]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=s,e.push(["exit",s,n]),e}function dne(e,n,t){const r=this;let i;return a;function a(d){let f=r.events.length,g;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){g=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(e.enter("setextHeadingLine"),i=d,s(d)):t(d)}function s(d){return e.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(e.consume(d),l):(e.exit("setextHeadingLineSequence"),xr(d)?si(e,u,"lineSuffix")(d):u(d))}function u(d){return d===null||hn(d)?(e.exit("setextHeadingLine"),n(d)):t(d)}}const fne={tokenize:hne};function hne(e){const n=this,t=e.attempt($v,r,e.attempt(this.parser.constructs.flowInitial,i,si(e,e.attempt(this.parser.constructs.flow,i,e.attempt(yte,i)),"linePrefix")));return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n.currentConstruct=void 0,t}}const pne={resolveAll:uD()},mne=lD("string"),gne=lD("text");function lD(e){return{tokenize:n,resolveAll:uD(e==="text"?bne:void 0)};function n(t){const r=this,i=this.parser.constructs[e],a=t.attempt(i,s,l);return s;function s(f){return d(f)?a(f):l(f)}function l(f){if(f===null){t.consume(f);return}return t.enter("data"),t.consume(f),u}function u(f){return d(f)?(t.exit("data"),a(f)):(t.consume(f),u)}function d(f){if(f===null)return!0;const g=i[f];let b=-1;if(g)for(;++b<g.length;){const m=g[b];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function uD(e){return n;function n(t,r){let i=-1,a;for(;++i<=t.length;)a===void 0?t[i]&&t[i][1].type==="data"&&(a=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==a+2&&(t[a][1].end=t[i-1][1].end,t.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(t,r):t}}function bne(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){const r=e[t-1][1],i=n.sliceStream(r);let a=i.length,s=-1,l=0,u;for(;a--;){const d=i[a];if(typeof d=="string"){for(s=d.length;d.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(d===-2)u=!0,l++;else if(d!==-1){a++;break}}if(l){const d={type:t===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},d.start),r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(t,0,["enter",d,n],["exit",d,n]),t+=2)}t++}return e}function yne(e,n,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let s=[],l=[];const u={consume:C,enter:N,exit:R,attempt:k(F),check:k(q),interrupt:k(q,{interrupt:!0})},d={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:m,sliceSerialize:b,now:x,defineSkip:y,write:g};let f=n.tokenize.call(d,u);return n.resolveAll&&a.push(n),d;function g(j){return s=Nl(s,j),A(),s[s.length-1]!==null?[]:(L(n,0),d.events=EA(a,d.events,d),d.events)}function b(j,O){return vne(m(j),O)}function m(j){return xne(s,j)}function x(){const{line:j,column:O,offset:P,_index:T,_bufferIndex:G}=r;return{line:j,column:O,offset:P,_index:T,_bufferIndex:G}}function y(j){i[j.line]=j.column,X()}function A(){let j;for(;r._index<s.length;){const O=s[r._index];if(typeof O=="string")for(j=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===j&&r._bufferIndex<O.length;)w(O.charCodeAt(r._bufferIndex));else w(O)}}function w(j){f=f(j)}function C(j){hn(j)?(r.line++,r.column=1,r.offset+=j===-3?2:1,X()):j!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=j}function N(j,O){const P=O||{};return P.type=j,P.start=x(),d.events.push(["enter",P,d]),l.push(P),P}function R(j){const O=l.pop();return O.end=x(),d.events.push(["exit",O,d]),O}function F(j,O){L(j,O.from)}function q(j,O){O.restore()}function k(j,O){return P;function P(T,G,W){let K,ie,ue,$;return Array.isArray(T)?U(T):"tokenize"in T?U([T]):ae(T);function ae(se){return we;function we(xe){const Ee=xe!==null&&se[xe],Ie=xe!==null&&se.null,Re=[...Array.isArray(Ee)?Ee:Ee?[Ee]:[],...Array.isArray(Ie)?Ie:Ie?[Ie]:[]];return U(Re)(xe)}}function U(se){return K=se,ie=0,se.length===0?W:z(se[ie])}function z(se){return we;function we(xe){return $=B(),ue=se,se.partial||(d.currentConstruct=se),se.name&&d.parser.constructs.disable.null.includes(se.name)?ee():se.tokenize.call(O?Object.assign(Object.create(d),O):d,u,Z,ee)(xe)}}function Z(se){return j(ue,$),G}function ee(se){return $.restore(),++ie<K.length?z(K[ie]):W}}}function L(j,O){j.resolveAll&&!a.includes(j)&&a.push(j),j.resolve&&qc(d.events,O,d.events.length-O,j.resolve(d.events.slice(O),d)),j.resolveTo&&(d.events=j.resolveTo(d.events,d))}function B(){const j=x(),O=d.previous,P=d.currentConstruct,T=d.events.length,G=Array.from(l);return{restore:W,from:T};function W(){r=j,d.previous=O,d.currentConstruct=P,d.events.length=T,l=G,X()}}function X(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function xne(e,n){const t=n.start._index,r=n.start._bufferIndex,i=n.end._index,a=n.end._bufferIndex;let s;if(t===i)s=[e[t].slice(r,a)];else{if(s=e.slice(t,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function vne(e,n){let t=-1;const r=[];let i;for(;++t<e.length;){const a=e[t];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=n?" ":"	";break}case-1:{if(!n&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}const wne={42:go,43:go,45:go,48:go,49:go,50:go,51:go,52:go,53:go,54:go,55:go,56:go,57:go,62:tD},Sne={91:Ate},Ane={[-2]:Tw,[-1]:Tw,32:Tw},Cne={35:jte,42:px,45:[J4,px],60:Dte,61:J4,95:px,96:X4,126:X4},Ene={38:rD,92:nD},_ne={[-5]:Ow,[-4]:Ow,[-3]:Ow,33:Xte,38:rD,42:r6,60:[ete,qte],91:Jte,92:[kte,nD],93:kA,95:r6,96:hte},kne={null:[r6,pne]},Nne={null:[42,95]},jne={null:[]},Tne=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Nne,contentInitial:Sne,disable:jne,document:wne,flow:Cne,flowInitial:Ane,insideSpan:kne,string:Ene,text:_ne},Symbol.toStringTag,{value:"Module"}));function One(e){const t=Pee([Tne,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:t,content:i(Yee),document:i(Qee),flow:i(fne),string:i(mne),text:i(gne)};return r;function i(a){return s;function s(l){return yne(r,a,l)}}}const eN=/[\0\t\n\r]/g;function Ine(){let e=1,n="",t=!0,r;return i;function i(a,s,l){const u=[];let d,f,g,b,m;for(a=n+a.toString(s),g=0,n="",t&&(a.charCodeAt(0)===65279&&g++,t=void 0);g<a.length;){if(eN.lastIndex=g,d=eN.exec(a),b=d&&d.index!==void 0?d.index:a.length,m=a.charCodeAt(b),!d){n=a.slice(g);break}if(m===10&&g===b&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),g<b&&(u.push(a.slice(g,b)),e+=b-g),m){case 0:{u.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,u.push(-2);e++<f;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}g=b+1}return l&&(r&&u.push(-5),n&&u.push(n),u.push(null)),u}}function Dne(e){for(;!iD(e););return e}function cD(e,n){const t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCharCode(t)}const Lne=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Rne(e){return e.replace(Lne,Mne)}function Mne(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),a=i===120||i===88;return cD(t.slice(a?2:1),a?16:10)}return _A(t)||e}const dD={}.hasOwnProperty,Fne=function(e,n,t){return typeof n!="string"&&(t=n,n=void 0),Pne(t)(Dne(One(t).document().write(Ine()(e,n,!0))))};function Pne(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(De),autolinkProtocol:j,autolinkEmail:j,atxHeading:l(te),blockQuote:l(Re),characterEscape:j,characterReference:j,codeFenced:l(We),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(We,u),codeText:l(Ve,u),codeTextData:j,data:j,codeFlowValue:j,definition:l(V),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(Se),hardBreakEscape:l(be),hardBreakTrailing:l(be),htmlFlow:l(ce,u),htmlFlowData:j,htmlText:l(ce,u),htmlTextData:j,image:l(Ae),label:u,link:l(De),listItem:l(Ne),listItemValue:x,listOrdered:l(ze,m),listUnordered:l(ze),paragraph:l(Xe),reference:ee,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(te),strong:l(lt),thematicBreak:l(Fe)},exit:{atxHeading:f(),atxHeadingSequence:k,autolink:f(),autolinkEmail:Ie,autolinkProtocol:Ee,blockQuote:f(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:we,characterReferenceMarkerNumeric:we,characterReferenceValue:xe,codeFenced:f(C),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:A,codeFlowValue:O,codeIndented:f(N),codeText:f(K),codeTextData:O,data:O,definition:f(),definitionDestinationString:q,definitionLabelString:R,definitionTitleString:F,emphasis:f(),hardBreakEscape:f(T),hardBreakTrailing:f(T),htmlFlow:f(G),htmlFlowData:O,htmlText:f(W),htmlTextData:O,image:f(ue),label:ae,labelText:$,lineEnding:P,link:f(ie),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:se,resourceDestinationString:U,resourceTitleString:z,resource:Z,setextHeading:f(X),setextHeadingLineSequence:B,setextHeadingText:L,strong:f(),thematicBreak:f()}};fD(n,(e||{}).mdastExtensions||[]);const t={};return r;function r(ve){let ke={type:"root",children:[]};const Te={stack:[ke],tokenStack:[],config:n,enter:d,exit:g,buffer:u,resume:b,setData:a,getData:s},dt=[];let Je=-1;for(;++Je<ve.length;)if(ve[Je][1].type==="listOrdered"||ve[Je][1].type==="listUnordered")if(ve[Je][0]==="enter")dt.push(Je);else{const Ft=dt.pop();Je=i(ve,Ft,Je)}for(Je=-1;++Je<ve.length;){const Ft=n[ve[Je][0]];dD.call(Ft,ve[Je][1].type)&&Ft[ve[Je][1].type].call(Object.assign({sliceSerialize:ve[Je][2].sliceSerialize},Te),ve[Je][1])}if(Te.tokenStack.length>0){const Ft=Te.tokenStack[Te.tokenStack.length-1];(Ft[1]||tN).call(Te,void 0,Ft[0])}for(ke.position={start:Df(ve.length>0?ve[0][1].start:{line:1,column:1,offset:0}),end:Df(ve.length>0?ve[ve.length-2][1].end:{line:1,column:1,offset:0})},Je=-1;++Je<n.transforms.length;)ke=n.transforms[Je](ke)||ke;return ke}function i(ve,ke,Te){let dt=ke-1,Je=-1,Ft=!1,kt,Vt,Lt,Zt;for(;++dt<=Te;){const nn=ve[dt];if(nn[1].type==="listUnordered"||nn[1].type==="listOrdered"||nn[1].type==="blockQuote"?(nn[0]==="enter"?Je++:Je--,Zt=void 0):nn[1].type==="lineEndingBlank"?nn[0]==="enter"&&(kt&&!Zt&&!Je&&!Lt&&(Lt=dt),Zt=void 0):nn[1].type==="linePrefix"||nn[1].type==="listItemValue"||nn[1].type==="listItemMarker"||nn[1].type==="listItemPrefix"||nn[1].type==="listItemPrefixWhitespace"||(Zt=void 0),!Je&&nn[0]==="enter"&&nn[1].type==="listItemPrefix"||Je===-1&&nn[0]==="exit"&&(nn[1].type==="listUnordered"||nn[1].type==="listOrdered")){if(kt){let ln=dt;for(Vt=void 0;ln--;){const Pn=ve[ln];if(Pn[1].type==="lineEnding"||Pn[1].type==="lineEndingBlank"){if(Pn[0]==="exit")continue;Vt&&(ve[Vt][1].type="lineEndingBlank",Ft=!0),Pn[1].type="lineEnding",Vt=ln}else if(!(Pn[1].type==="linePrefix"||Pn[1].type==="blockQuotePrefix"||Pn[1].type==="blockQuotePrefixWhitespace"||Pn[1].type==="blockQuoteMarker"||Pn[1].type==="listItemIndent"))break}Lt&&(!Vt||Lt<Vt)&&(kt._spread=!0),kt.end=Object.assign({},Vt?ve[Vt][1].start:nn[1].end),ve.splice(Vt||dt,0,["exit",kt,nn[2]]),dt++,Te++}nn[1].type==="listItemPrefix"&&(kt={type:"listItem",_spread:!1,start:Object.assign({},nn[1].start),end:void 0},ve.splice(dt,0,["enter",kt,nn[2]]),dt++,Te++,Lt=void 0,Zt=!0)}}return ve[ke][1]._spread=Ft,Te}function a(ve,ke){t[ve]=ke}function s(ve){return t[ve]}function l(ve,ke){return Te;function Te(dt){d.call(this,ve(dt),dt),ke&&ke.call(this,dt)}}function u(){this.stack.push({type:"fragment",children:[]})}function d(ve,ke,Te){return this.stack[this.stack.length-1].children.push(ve),this.stack.push(ve),this.tokenStack.push([ke,Te]),ve.position={start:Df(ke.start)},ve}function f(ve){return ke;function ke(Te){ve&&ve.call(this,Te),g.call(this,Te)}}function g(ve,ke){const Te=this.stack.pop(),dt=this.tokenStack.pop();if(dt)dt[0].type!==ve.type&&(ke?ke.call(this,ve,dt[0]):(dt[1]||tN).call(this,ve,dt[0]));else throw new Error("Cannot close `"+ve.type+"` ("+tg({start:ve.start,end:ve.end})+"): its not open");return Te.position.end=Df(ve.end),Te}function b(){return Mee(this.stack.pop())}function m(){a("expectingFirstListItemValue",!0)}function x(ve){if(s("expectingFirstListItemValue")){const ke=this.stack[this.stack.length-2];ke.start=Number.parseInt(this.sliceSerialize(ve),10),a("expectingFirstListItemValue")}}function y(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.lang=ve}function A(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.meta=ve}function w(){s("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function C(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ve.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function N(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ve.replace(/(\r?\n|\r)$/g,"")}function R(ve){const ke=this.resume(),Te=this.stack[this.stack.length-1];Te.label=ke,Te.identifier=W0(this.sliceSerialize(ve)).toLowerCase()}function F(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.title=ve}function q(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.url=ve}function k(ve){const ke=this.stack[this.stack.length-1];if(!ke.depth){const Te=this.sliceSerialize(ve).length;ke.depth=Te}}function L(){a("setextHeadingSlurpLineEnding",!0)}function B(ve){const ke=this.stack[this.stack.length-1];ke.depth=this.sliceSerialize(ve).charCodeAt(0)===61?1:2}function X(){a("setextHeadingSlurpLineEnding")}function j(ve){const ke=this.stack[this.stack.length-1];let Te=ke.children[ke.children.length-1];(!Te||Te.type!=="text")&&(Te=nt(),Te.position={start:Df(ve.start)},ke.children.push(Te)),this.stack.push(Te)}function O(ve){const ke=this.stack.pop();ke.value+=this.sliceSerialize(ve),ke.position.end=Df(ve.end)}function P(ve){const ke=this.stack[this.stack.length-1];if(s("atHardBreak")){const Te=ke.children[ke.children.length-1];Te.position.end=Df(ve.end),a("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&n.canContainEols.includes(ke.type)&&(j.call(this,ve),O.call(this,ve))}function T(){a("atHardBreak",!0)}function G(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ve}function W(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ve}function K(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ve}function ie(){const ve=this.stack[this.stack.length-1];if(s("inReference")){const ke=s("referenceType")||"shortcut";ve.type+="Reference",ve.referenceType=ke,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;a("referenceType")}function ue(){const ve=this.stack[this.stack.length-1];if(s("inReference")){const ke=s("referenceType")||"shortcut";ve.type+="Reference",ve.referenceType=ke,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;a("referenceType")}function $(ve){const ke=this.sliceSerialize(ve),Te=this.stack[this.stack.length-2];Te.label=Rne(ke),Te.identifier=W0(ke).toLowerCase()}function ae(){const ve=this.stack[this.stack.length-1],ke=this.resume(),Te=this.stack[this.stack.length-1];if(a("inReference",!0),Te.type==="link"){const dt=ve.children;Te.children=dt}else Te.alt=ke}function U(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.url=ve}function z(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.title=ve}function Z(){a("inReference")}function ee(){a("referenceType","collapsed")}function se(ve){const ke=this.resume(),Te=this.stack[this.stack.length-1];Te.label=ke,Te.identifier=W0(this.sliceSerialize(ve)).toLowerCase(),a("referenceType","full")}function we(ve){a("characterReferenceType",ve.type)}function xe(ve){const ke=this.sliceSerialize(ve),Te=s("characterReferenceType");let dt;Te?(dt=cD(ke,Te==="characterReferenceMarkerNumeric"?10:16),a("characterReferenceType")):dt=_A(ke);const Je=this.stack.pop();Je.value+=dt,Je.position.end=Df(ve.end)}function Ee(ve){O.call(this,ve);const ke=this.stack[this.stack.length-1];ke.url=this.sliceSerialize(ve)}function Ie(ve){O.call(this,ve);const ke=this.stack[this.stack.length-1];ke.url="mailto:"+this.sliceSerialize(ve)}function Re(){return{type:"blockquote",children:[]}}function We(){return{type:"code",lang:null,meta:null,value:""}}function Ve(){return{type:"inlineCode",value:""}}function V(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Se(){return{type:"emphasis",children:[]}}function te(){return{type:"heading",depth:void 0,children:[]}}function be(){return{type:"break"}}function ce(){return{type:"html",value:""}}function Ae(){return{type:"image",title:null,url:"",alt:null}}function De(){return{type:"link",title:null,url:"",children:[]}}function ze(ve){return{type:"list",ordered:ve.type==="listOrdered",start:null,spread:ve._spread,children:[]}}function Ne(ve){return{type:"listItem",spread:ve._spread,checked:null,children:[]}}function Xe(){return{type:"paragraph",children:[]}}function lt(){return{type:"strong",children:[]}}function nt(){return{type:"text",value:""}}function Fe(){return{type:"thematicBreak"}}}function Df(e){return{line:e.line,column:e.column,offset:e.offset}}function fD(e,n){let t=-1;for(;++t<n.length;){const r=n[t];Array.isArray(r)?fD(e,r):zne(e,r)}}function zne(e,n){let t;for(t in n)if(dD.call(n,t)){if(t==="canContainEols"){const r=n[t];r&&e[t].push(...r)}else if(t==="transforms"){const r=n[t];r&&e[t].push(...r)}else if(t==="enter"||t==="exit"){const r=n[t];r&&Object.assign(e[t],r)}}}function tN(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+tg({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+tg({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+tg({start:n.start,end:n.end})+") is still open")}function qne(e){Object.assign(this,{Parser:t=>{const r=this.data("settings");return Fne(t,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function Bne(e,n){const t={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,t),e.applyData(n,t)}function Une(e,n){const t={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,t),[e.applyData(n,t),{type:"text",value:`
`}]}function $ne(e,n){const t=n.value?n.value+`
`:"",r=n.lang?n.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return n.meta&&(a.data={meta:n.meta}),e.patch(n,a),a=e.applyData(n,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(n,a),a}function Hne(e,n){const t={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function Wne(e,n){const t={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function gm(e){const n=[];let t=-1,r=0,i=0;for(;++t<e.length;){const a=e.charCodeAt(t);let s="";if(a===37&&Qo(e.charCodeAt(t+1))&&Qo(e.charCodeAt(t+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(t+1);a<56320&&l>56319&&l<57344?(s=String.fromCharCode(a,l),i=1):s=""}else s=String.fromCharCode(a);s&&(n.push(e.slice(r,t),encodeURIComponent(s)),r=t+i+1,s=""),i&&(t+=i,i=0)}return n.join("")+e.slice(r)}function hD(e,n){const t=String(n.identifier).toUpperCase(),r=gm(t.toLowerCase()),i=e.footnoteOrder.indexOf(t);let a;i===-1?(e.footnoteOrder.push(t),e.footnoteCounts[t]=1,a=e.footnoteOrder.length):(e.footnoteCounts[t]++,a=i+1);const s=e.footnoteCounts[t],l={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(n,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(n,u),e.applyData(n,u)}function Vne(e,n){const t=e.footnoteById;let r=1;for(;r in t;)r++;const i=String(r);return t[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:n.children}],position:n.position},hD(e,{type:"footnoteReference",identifier:i,position:n.position})}function Yne(e,n){const t={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function Gne(e,n){if(e.dangerous){const t={type:"raw",value:n.value};return e.patch(n,t),e.applyData(n,t)}return null}function pD(e,n){const t=n.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return{type:"text",value:"!["+n.alt+r};const i=e.all(n),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Qne(e,n){const t=e.definition(n.identifier);if(!t)return pD(e,n);const r={src:gm(t.url||""),alt:n.alt};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(n,i),e.applyData(n,i)}function Kne(e,n){const t={src:gm(n.url)};n.alt!==null&&n.alt!==void 0&&(t.alt=n.alt),n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"img",properties:t,children:[]};return e.patch(n,r),e.applyData(n,r)}function Xne(e,n){const t={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return e.patch(n,r),e.applyData(n,r)}function Zne(e,n){const t=e.definition(n.identifier);if(!t)return pD(e,n);const r={href:gm(t.url||"")};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"a",properties:r,children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function Jne(e,n){const t={href:gm(n.url)};n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"a",properties:t,children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function ere(e,n,t){const r=e.all(n),i=t?tre(t):mD(n),a={},s=[];if(typeof n.checked=="boolean"){const f=r[0];let g;f&&f.type==="element"&&f.tagName==="p"?g=f:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const f=r[l];(i||l!==0||f.type!=="element"||f.tagName!=="p")&&s.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?s.push(...f.children):s.push(f)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:s};return e.patch(n,d),e.applyData(n,d)}function tre(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const t=e.children;let r=-1;for(;!n&&++r<t.length;)n=mD(t[r])}return n}function mD(e){const n=e.spread;return n??e.children.length>1}function nre(e,n){const t={},r=e.all(n);let i=-1;for(typeof n.start=="number"&&n.start!==1&&(t.start=n.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const a={type:"element",tagName:n.ordered?"ol":"ul",properties:t,children:e.wrap(r,!0)};return e.patch(n,a),e.applyData(n,a)}function rre(e,n){const t={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function ire(e,n){const t={type:"root",children:e.wrap(e.all(n))};return e.patch(n,t),e.applyData(n,t)}function are(e,n){const t={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const NA=gD("start"),jA=gD("end");function sre(e){return{start:NA(e),end:jA(e)}}function gD(e){return n;function n(t){const r=t&&t.position&&t.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function ore(e,n){const t=e.all(n),r=t.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(n.children[0],s),i.push(s)}if(t.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(t,!0)},l=NA(n.children[1]),u=jA(n.children[n.children.length-1]);l.line&&u.line&&(s.position={start:l,end:u}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(n,a),e.applyData(n,a)}function lre(e,n,t){const r=t?t.children:void 0,a=(r?r.indexOf(n):1)===0?"th":"td",s=t&&t.type==="table"?t.align:void 0,l=s?s.length:n.children.length;let u=-1;const d=[];for(;++u<l;){const g=n.children[u],b={},m=s?s[u]:void 0;m&&(b.align=m);let x={type:"element",tagName:a,properties:b,children:[]};g&&(x.children=e.all(g),e.patch(g,x),x=e.applyData(n,x)),d.push(x)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(n,f),e.applyData(n,f)}function ure(e,n){const t={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const nN=9,rN=32;function cre(e){const n=String(e),t=/\r?\n|\r/g;let r=t.exec(n),i=0;const a=[];for(;r;)a.push(iN(n.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=t.exec(n);return a.push(iN(n.slice(i),i>0,!1)),a.join("")}function iN(e,n,t){let r=0,i=e.length;if(n){let a=e.codePointAt(r);for(;a===nN||a===rN;)r++,a=e.codePointAt(r)}if(t){let a=e.codePointAt(i-1);for(;a===nN||a===rN;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function dre(e,n){const t={type:"text",value:cre(String(n.value))};return e.patch(n,t),e.applyData(n,t)}function fre(e,n){const t={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,t),e.applyData(n,t)}const hre={blockquote:Bne,break:Une,code:$ne,delete:Hne,emphasis:Wne,footnoteReference:hD,footnote:Vne,heading:Yne,html:Gne,imageReference:Qne,image:Kne,inlineCode:Xne,linkReference:Zne,link:Jne,listItem:ere,list:nre,paragraph:rre,root:ire,strong:are,table:ore,tableCell:ure,tableRow:lre,text:dre,thematicBreak:fre,toml:$y,yaml:$y,definition:$y,footnoteDefinition:$y};function $y(){return null}const bD=function(e){if(e==null)return bre;if(typeof e=="string")return gre(e);if(typeof e=="object")return Array.isArray(e)?pre(e):mre(e);if(typeof e=="function")return Hv(e);throw new Error("Expected function, string, or object as test")};function pre(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=bD(e[t]);return Hv(r);function r(...i){let a=-1;for(;++a<n.length;)if(n[a].call(this,...i))return!0;return!1}}function mre(e){return Hv(n);function n(t){let r;for(r in e)if(t[r]!==e[r])return!1;return!0}}function gre(e){return Hv(n);function n(t){return t&&t.type===e}}function Hv(e){return n;function n(t,...r){return!!(t&&typeof t=="object"&&"type"in t&&e.call(this,t,...r))}}function bre(){return!0}const yre=!0,aN=!1,xre="skip",vre=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null);const i=bD(n),a=r?-1:1;s(e,void 0,[])();function s(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const b=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(b?"<"+b+">":""))+")"})}return g;function g(){let b=[],m,x,y;if((!n||i(l,u,d[d.length-1]||null))&&(b=wre(t(l,d)),b[0]===aN))return b;if(l.children&&b[0]!==xre)for(x=(r?l.children.length:-1)+a,y=d.concat(l);x>-1&&x<l.children.length;){if(m=s(l.children[x],x,y)(),m[0]===aN)return m;x=typeof m[1]=="number"?m[1]:x+a}return b}}};function wre(e){return Array.isArray(e)?e:typeof e=="number"?[yre,e]:[e]}const TA=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null),vre(e,n,i,r);function i(a,s){const l=s[s.length-1];return t(a,l?l.children.indexOf(a):null,l)}};function Sre(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const sN={}.hasOwnProperty;function Are(e){const n=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return TA(e,"definition",r=>{const i=oN(r.identifier);i&&!sN.call(n,i)&&(n[i]=r)}),t;function t(r){const i=oN(r);return i&&sN.call(n,i)?n[i]:null}}function oN(e){return String(e||"").toUpperCase()}const Jx={}.hasOwnProperty;function Cre(e,n){const t=n||{},r=t.allowDangerousHtml||!1,i={};return s.dangerous=r,s.clobberPrefix=t.clobberPrefix===void 0||t.clobberPrefix===null?"user-content-":t.clobberPrefix,s.footnoteLabel=t.footnoteLabel||"Footnotes",s.footnoteLabelTagName=t.footnoteLabelTagName||"h2",s.footnoteLabelProperties=t.footnoteLabelProperties||{className:["sr-only"]},s.footnoteBackLabel=t.footnoteBackLabel||"Back to content",s.unknownHandler=t.unknownHandler,s.passThrough=t.passThrough,s.handlers={...hre,...t.handlers},s.definition=Are(e),s.footnoteById=i,s.footnoteOrder=[],s.footnoteCounts={},s.patch=Ere,s.applyData=_re,s.one=l,s.all=u,s.wrap=Nre,s.augment=a,TA(e,"footnoteDefinition",d=>{const f=String(d.identifier).toUpperCase();Jx.call(i,f)||(i[f]=d)}),s;function a(d,f){if(d&&"data"in d&&d.data){const g=d.data;g.hName&&(f.type!=="element"&&(f={type:"element",tagName:"",properties:{},children:[]}),f.tagName=g.hName),f.type==="element"&&g.hProperties&&(f.properties={...f.properties,...g.hProperties}),"children"in f&&f.children&&g.hChildren&&(f.children=g.hChildren)}if(d){const g="type"in d?d:{position:d};Sre(g)||(f.position={start:NA(g),end:jA(g)})}return f}function s(d,f,g,b){return Array.isArray(g)&&(b=g,g={}),a(d,{type:"element",tagName:f,properties:g||{},children:b||[]})}function l(d,f){return yD(s,d,f)}function u(d){return OA(s,d)}}function Ere(e,n){e.position&&(n.position=sre(e))}function _re(e,n){let t=n;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;typeof r=="string"&&(t.type==="element"?t.tagName=r:t={type:"element",tagName:r,properties:{},children:[]}),t.type==="element"&&a&&(t.properties={...t.properties,...a}),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function yD(e,n,t){const r=n&&n.type;if(!r)throw new Error("Expected node, got `"+n+"`");return Jx.call(e.handlers,r)?e.handlers[r](e,n,t):e.passThrough&&e.passThrough.includes(r)?"children"in n?{...n,children:OA(e,n)}:n:e.unknownHandler?e.unknownHandler(e,n,t):kre(e,n)}function OA(e,n){const t=[];if("children"in n){const r=n.children;let i=-1;for(;++i<r.length;){const a=yD(e,r[i],n);if(a){if(i&&r[i-1].type==="break"&&(!Array.isArray(a)&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&a.type==="element")){const s=a.children[0];s&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,""))}Array.isArray(a)?t.push(...a):t.push(a)}}}return t}function kre(e,n){const t=n.data||{},r="value"in n&&!(Jx.call(t,"hProperties")||Jx.call(t,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:OA(e,n)};return e.patch(n,r),e.applyData(n,r)}function Nre(e,n){const t=[];let r=-1;for(n&&t.push({type:"text",value:`
`});++r<e.length;)r&&t.push({type:"text",value:`
`}),t.push(e[r]);return n&&e.length>0&&t.push({type:"text",value:`
`}),t}function jre(e){const n=[];let t=-1;for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t]];if(!r)continue;const i=e.all(r),a=String(r.identifier).toUpperCase(),s=gm(a.toLowerCase());let l=0;const u=[];for(;++l<=e.footnoteCounts[a];){const g={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+s+(l>1?"-"+l:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};l>1&&g.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(l)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(g)}const d=i[i.length-1];if(d&&d.type==="element"&&d.tagName==="p"){const g=d.children[d.children.length-1];g&&g.type==="text"?g.value+=" ":d.children.push({type:"text",value:" "}),d.children.push(...u)}else i.push(...u);const f={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+s},children:e.wrap(i,!0)};e.patch(r,f),n.push(f)}if(n.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(n,!0)},{type:"text",value:`
`}]}}function xD(e,n){const t=Cre(e,n),r=t.one(e,null),i=jre(t);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const Tre=function(e,n){return e&&"run"in e?Ore(e,n):Ire(e||n)};function Ore(e,n){return(t,r,i)=>{e.run(xD(t,n),r,a=>{i(a)})}}function Ire(e){return n=>xD(n,e)}class ab{constructor(n,t,r){this.property=n,this.normal=t,r&&(this.space=r)}}ab.prototype.property={};ab.prototype.normal={};ab.prototype.space=null;function vD(e,n){const t={},r={};let i=-1;for(;++i<e.length;)Object.assign(t,e[i].property),Object.assign(r,e[i].normal);return new ab(t,r,n)}function i6(e){return e.toLowerCase()}class zl{constructor(n,t){this.property=n,this.attribute=t}}zl.prototype.space=null;zl.prototype.boolean=!1;zl.prototype.booleanish=!1;zl.prototype.overloadedBoolean=!1;zl.prototype.number=!1;zl.prototype.commaSeparated=!1;zl.prototype.spaceSeparated=!1;zl.prototype.commaOrSpaceSeparated=!1;zl.prototype.mustUseProperty=!1;zl.prototype.defined=!1;let Dre=0;const En=Op(),ka=Op(),wD=Op(),_t=Op(),ai=Op(),V0=Op(),Uo=Op();function Op(){return 2**++Dre}const a6=Object.freeze(Object.defineProperty({__proto__:null,boolean:En,booleanish:ka,commaOrSpaceSeparated:Uo,commaSeparated:V0,number:_t,overloadedBoolean:wD,spaceSeparated:ai},Symbol.toStringTag,{value:"Module"})),Iw=Object.keys(a6);class IA extends zl{constructor(n,t,r,i){let a=-1;if(super(n,t),lN(this,"space",i),typeof r=="number")for(;++a<Iw.length;){const s=Iw[a];lN(this,Iw[a],(r&a6[s])===a6[s])}}}IA.prototype.defined=!0;function lN(e,n,t){t&&(e[n]=t)}const Lre={}.hasOwnProperty;function bm(e){const n={},t={};let r;for(r in e.properties)if(Lre.call(e.properties,r)){const i=e.properties[r],a=new IA(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),n[r]=a,t[i6(r)]=r,t[i6(a.attribute)]=r}return new ab(n,t,e.space)}const SD=bm({space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),AD=bm({space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function CD(e,n){return n in e?e[n]:n}function ED(e,n){return CD(e,n.toLowerCase())}const _D=bm({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:ED,properties:{xmlns:null,xmlnsXLink:null}}),kD=bm({transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ka,ariaAutoComplete:null,ariaBusy:ka,ariaChecked:ka,ariaColCount:_t,ariaColIndex:_t,ariaColSpan:_t,ariaControls:ai,ariaCurrent:null,ariaDescribedBy:ai,ariaDetails:null,ariaDisabled:ka,ariaDropEffect:ai,ariaErrorMessage:null,ariaExpanded:ka,ariaFlowTo:ai,ariaGrabbed:ka,ariaHasPopup:null,ariaHidden:ka,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ai,ariaLevel:_t,ariaLive:null,ariaModal:ka,ariaMultiLine:ka,ariaMultiSelectable:ka,ariaOrientation:null,ariaOwns:ai,ariaPlaceholder:null,ariaPosInSet:_t,ariaPressed:ka,ariaReadOnly:ka,ariaRelevant:null,ariaRequired:ka,ariaRoleDescription:ai,ariaRowCount:_t,ariaRowIndex:_t,ariaRowSpan:_t,ariaSelected:ka,ariaSetSize:_t,ariaSort:null,ariaValueMax:_t,ariaValueMin:_t,ariaValueNow:_t,ariaValueText:null,role:null}}),Rre=bm({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:ED,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:V0,acceptCharset:ai,accessKey:ai,action:null,allow:null,allowFullScreen:En,allowPaymentRequest:En,allowUserMedia:En,alt:null,as:null,async:En,autoCapitalize:null,autoComplete:ai,autoFocus:En,autoPlay:En,blocking:ai,capture:null,charSet:null,checked:En,cite:null,className:ai,cols:_t,colSpan:null,content:null,contentEditable:ka,controls:En,controlsList:ai,coords:_t|V0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:En,defer:En,dir:null,dirName:null,disabled:En,download:wD,draggable:ka,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:En,formTarget:null,headers:ai,height:_t,hidden:En,high:_t,href:null,hrefLang:null,htmlFor:ai,httpEquiv:ai,id:null,imageSizes:null,imageSrcSet:null,inert:En,inputMode:null,integrity:null,is:null,isMap:En,itemId:null,itemProp:ai,itemRef:ai,itemScope:En,itemType:ai,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:En,low:_t,manifest:null,max:null,maxLength:_t,media:null,method:null,min:null,minLength:_t,multiple:En,muted:En,name:null,nonce:null,noModule:En,noValidate:En,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:En,optimum:_t,pattern:null,ping:ai,placeholder:null,playsInline:En,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:En,referrerPolicy:null,rel:ai,required:En,reversed:En,rows:_t,rowSpan:_t,sandbox:ai,scope:null,scoped:En,seamless:En,selected:En,shadowRootClonable:En,shadowRootDelegatesFocus:En,shadowRootMode:null,shape:null,size:_t,sizes:null,slot:null,span:_t,spellCheck:ka,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_t,step:null,style:null,tabIndex:_t,target:null,title:null,translate:null,type:null,typeMustMatch:En,useMap:null,value:ka,width:_t,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ai,axis:null,background:null,bgColor:null,border:_t,borderColor:null,bottomMargin:_t,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:En,declare:En,event:null,face:null,frame:null,frameBorder:null,hSpace:_t,leftMargin:_t,link:null,longDesc:null,lowSrc:null,marginHeight:_t,marginWidth:_t,noResize:En,noHref:En,noShade:En,noWrap:En,object:null,profile:null,prompt:null,rev:null,rightMargin:_t,rules:null,scheme:null,scrolling:ka,standby:null,summary:null,text:null,topMargin:_t,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_t,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:En,disableRemotePlayback:En,prefix:null,property:null,results:_t,security:null,unselectable:null}}),Mre=bm({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:CD,properties:{about:Uo,accentHeight:_t,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_t,amplitude:_t,arabicForm:null,ascent:_t,attributeName:null,attributeType:null,azimuth:_t,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_t,by:null,calcMode:null,capHeight:_t,className:ai,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_t,diffuseConstant:_t,direction:null,display:null,dur:null,divisor:_t,dominantBaseline:null,download:En,dx:null,dy:null,edgeMode:null,editable:null,elevation:_t,enableBackground:null,end:null,event:null,exponent:_t,externalResourcesRequired:null,fill:null,fillOpacity:_t,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:V0,g2:V0,glyphName:V0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_t,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_t,horizOriginX:_t,horizOriginY:_t,id:null,ideographic:_t,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_t,k:_t,k1:_t,k2:_t,k3:_t,k4:_t,kernelMatrix:Uo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_t,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_t,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_t,overlineThickness:_t,paintOrder:null,panose1:null,path:null,pathLength:_t,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ai,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_t,pointsAtY:_t,pointsAtZ:_t,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Uo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Uo,rev:Uo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Uo,requiredFeatures:Uo,requiredFonts:Uo,requiredFormats:Uo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_t,specularExponent:_t,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_t,strikethroughThickness:_t,string:null,stroke:null,strokeDashArray:Uo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_t,strokeOpacity:_t,strokeWidth:null,style:null,surfaceScale:_t,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Uo,tabIndex:_t,tableValues:null,target:null,targetX:_t,targetY:_t,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Uo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:_t,underlineThickness:_t,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_t,values:null,vAlphabetic:_t,vMathematical:_t,vectorEffect:null,vHanging:_t,vIdeographic:_t,version:null,vertAdvY:_t,vertOriginX:_t,vertOriginY:_t,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_t,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Fre=/^data[-\w.:]+$/i,uN=/-[a-z]/g,Pre=/[A-Z]/g;function zre(e,n){const t=i6(n);let r=n,i=zl;if(t in e.normal)return e.property[e.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&Fre.test(n)){if(n.charAt(4)==="-"){const a=n.slice(5).replace(uN,Bre);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=n.slice(4);if(!uN.test(a)){let s=a.replace(Pre,qre);s.charAt(0)!=="-"&&(s="-"+s),n="data"+s}}i=IA}return new i(r,n)}function qre(e){return"-"+e.toLowerCase()}function Bre(e){return e.charAt(1).toUpperCase()}const cN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Ure=vD([AD,SD,_D,kD,Rre],"html"),$re=vD([AD,SD,_D,kD,Mre],"svg");function Hre(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return n=>{TA(n,"element",(t,r,i)=>{const a=i;let s;if(e.allowedElements?s=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(s=e.disallowedElements.includes(t.tagName)),!s&&e.allowElement&&typeof r=="number"&&(s=!e.allowElement(t,r,a)),s&&typeof r=="number")return e.unwrapDisallowed&&t.children?a.children.splice(r,1,...t.children):a.children.splice(r,1),r})}}var Dw={exports:{}},_r={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dN;function Wre(){if(dN)return _r;dN=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function y(A){if(typeof A=="object"&&A!==null){var w=A.$$typeof;switch(w){case e:switch(A=A.type,A){case t:case i:case r:case d:case f:return A;default:switch(A=A&&A.$$typeof,A){case l:case s:case u:case b:case g:case a:return A;default:return w}}case n:return w}}}return _r.ContextConsumer=s,_r.ContextProvider=a,_r.Element=e,_r.ForwardRef=u,_r.Fragment=t,_r.Lazy=b,_r.Memo=g,_r.Portal=n,_r.Profiler=i,_r.StrictMode=r,_r.Suspense=d,_r.SuspenseList=f,_r.isAsyncMode=function(){return!1},_r.isConcurrentMode=function(){return!1},_r.isContextConsumer=function(A){return y(A)===s},_r.isContextProvider=function(A){return y(A)===a},_r.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},_r.isForwardRef=function(A){return y(A)===u},_r.isFragment=function(A){return y(A)===t},_r.isLazy=function(A){return y(A)===b},_r.isMemo=function(A){return y(A)===g},_r.isPortal=function(A){return y(A)===n},_r.isProfiler=function(A){return y(A)===i},_r.isStrictMode=function(A){return y(A)===r},_r.isSuspense=function(A){return y(A)===d},_r.isSuspenseList=function(A){return y(A)===f},_r.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===i||A===r||A===d||A===f||A===m||typeof A=="object"&&A!==null&&(A.$$typeof===b||A.$$typeof===g||A.$$typeof===a||A.$$typeof===s||A.$$typeof===u||A.$$typeof===x||A.getModuleId!==void 0)},_r.typeOf=y,_r}var fN;function Vre(){return fN||(fN=1,Dw.exports=Wre()),Dw.exports}var Yre=Vre();const Gre=ts(Yre);function Qre(e){const n=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof n=="string"&&n.replace(/[ \t\n\f\r]/g,"")===""}function Kre(e){return e.join(" ").trim()}function Xre(e,n){const t={};return(e[e.length-1]===""?[...e,""]:e).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}var Hy={exports:{}},Lw,hN;function Zre(){if(hN)return Lw;hN=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,d="/",f="*",g="",b="comment",m="declaration";Lw=function(y,A){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];A=A||{};var w=1,C=1;function N(P){var T=P.match(n);T&&(w+=T.length);var G=P.lastIndexOf(u);C=~G?P.length-G:C+P.length}function R(){var P={line:w,column:C};return function(T){return T.position=new F(P),L(),T}}function F(P){this.start=P,this.end={line:w,column:C},this.source=A.source}F.prototype.content=y;function q(P){var T=new Error(A.source+":"+w+":"+C+": "+P);if(T.reason=P,T.filename=A.source,T.line=w,T.column=C,T.source=y,!A.silent)throw T}function k(P){var T=P.exec(y);if(T){var G=T[0];return N(G),y=y.slice(G.length),T}}function L(){k(t)}function B(P){var T;for(P=P||[];T=X();)T!==!1&&P.push(T);return P}function X(){var P=R();if(!(d!=y.charAt(0)||f!=y.charAt(1))){for(var T=2;g!=y.charAt(T)&&(f!=y.charAt(T)||d!=y.charAt(T+1));)++T;if(T+=2,g===y.charAt(T-1))return q("End of comment missing");var G=y.slice(2,T-2);return C+=2,N(G),y=y.slice(T),C+=2,P({type:b,comment:G})}}function j(){var P=R(),T=k(r);if(T){if(X(),!k(i))return q("property missing ':'");var G=k(a),W=P({type:m,property:x(T[0].replace(e,g)),value:G?x(G[0].replace(e,g)):g});return k(s),W}}function O(){var P=[];B(P);for(var T;T=j();)T!==!1&&(P.push(T),B(P));return P}return L(),O()};function x(y){return y?y.replace(l,g):g}return Lw}var pN;function Jre(){if(pN)return Hy.exports;pN=1;var e=Zre();function n(t,r){var i=null;if(!t||typeof t!="string")return i;for(var a,s=e(t),l=typeof r=="function",u,d,f=0,g=s.length;f<g;f++)a=s[f],u=a.property,d=a.value,l?r(u,d,a):d&&(i||(i={}),i[u]=d);return i}return Hy.exports=n,Hy.exports.default=n,Hy.exports}var eie=Jre();const tie=ts(eie),s6={}.hasOwnProperty,nie=new Set(["table","thead","tbody","tfoot","tr"]);function ND(e,n){const t=[];let r=-1,i;for(;++r<n.children.length;)i=n.children[r],i.type==="element"?t.push(rie(e,i,r,n)):i.type==="text"?(n.type!=="element"||!nie.has(n.tagName)||!Qre(i))&&t.push(i.value):i.type==="raw"&&!e.options.skipHtml&&t.push(i.value);return t}function rie(e,n,t,r){const i=e.options,a=i.transformLinkUri===void 0?hee:i.transformLinkUri,s=e.schema,l=n.tagName,u={};let d=s,f;if(s.space==="html"&&l==="svg"&&(d=$re,e.schema=d),n.properties)for(f in n.properties)s6.call(n.properties,f)&&aie(u,f,n.properties[f],e);(l==="ol"||l==="ul")&&e.listDepth++;const g=ND(e,n);(l==="ol"||l==="ul")&&e.listDepth--,e.schema=s;const b=n.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},m=i.components&&s6.call(i.components,l)?i.components[l]:l,x=typeof m=="string"||m===at.Fragment;if(!Gre.isValidElementType(m))throw new TypeError(`Component for name \`${l}\` not defined or is not renderable`);if(u.key=t,l==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),n.children,typeof u.title=="string"?u.title:null):i.linkTarget),l==="a"&&a&&(u.href=a(String(u.href||""),n.children,typeof u.title=="string"?u.title:null)),!x&&l==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!x&&(l==="h1"||l==="h2"||l==="h3"||l==="h4"||l==="h5"||l==="h6")&&(u.level=Number.parseInt(l.charAt(1),10)),l==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!x&&l==="li"&&r.type==="element"){const y=iie(n);u.checked=y&&y.properties?!!y.properties.checked:null,u.index=Rw(r,n),u.ordered=r.tagName==="ol"}return!x&&(l==="ol"||l==="ul")&&(u.ordered=l==="ol",u.depth=e.listDepth),(l==="td"||l==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),x||(u.isHeader=l==="th")),!x&&l==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=lie(b)),!x&&i.rawSourcePos&&(u.sourcePosition=n.position),!x&&i.includeElementIndex&&(u.index=Rw(r,n),u.siblingCount=Rw(r)),x||(u.node=n),g.length>0?at.createElement(m,u,g):at.createElement(m,u)}function iie(e){let n=-1;for(;++n<e.children.length;){const t=e.children[n];if(t.type==="element"&&t.tagName==="input")return t}return null}function Rw(e,n){let t=-1,r=0;for(;++t<e.children.length&&e.children[t]!==n;)e.children[t].type==="element"&&r++;return r}function aie(e,n,t,r){const i=zre(r.schema,n);let a=t;a==null||a!==a||(Array.isArray(a)&&(a=i.commaSeparated?Xre(a):Kre(a)),i.property==="style"&&typeof a=="string"&&(a=sie(a)),i.space&&i.property?e[s6.call(cN,i.property)?cN[i.property]:i.property]=a:i.attribute&&(e[i.attribute]=a))}function sie(e){const n={};try{tie(e,t)}catch{}return n;function t(r,i){const a=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;n[a.replace(/-([a-z])/g,oie)]=i}}function oie(e,n){return n.toUpperCase()}function lie(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const mN={}.hasOwnProperty,uie="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Wy={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function DA(e){for(const a in Wy)if(mN.call(Wy,a)&&mN.call(e,a)){const s=Wy[a];console.warn(`[react-markdown] Warning: please ${s.to?`use \`${s.to}\` instead of`:"remove"} \`${a}\` (see <${uie}#${s.id}> for more info)`),delete Wy[a]}const n=Oee().use(qne).use(e.remarkPlugins||[]).use(Tre,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(Hre,e),t=new XI;typeof e.children=="string"?t.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=n.runSync(n.parse(t),t);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=at.createElement(at.Fragment,{},ND({options:e,schema:Ure,listDepth:0},r));return e.className&&(i=at.createElement("div",{className:e.className},i)),i}DA.propTypes={children:vn.string,className:vn.string,allowElement:vn.func,allowedElements:vn.arrayOf(vn.string),disallowedElements:vn.arrayOf(vn.string),unwrapDisallowed:vn.bool,remarkPlugins:vn.arrayOf(vn.oneOfType([vn.object,vn.func,vn.arrayOf(vn.oneOfType([vn.bool,vn.string,vn.object,vn.func,vn.arrayOf(vn.any)]))])),rehypePlugins:vn.arrayOf(vn.oneOfType([vn.object,vn.func,vn.arrayOf(vn.oneOfType([vn.bool,vn.string,vn.object,vn.func,vn.arrayOf(vn.any)]))])),sourcePos:vn.bool,rawSourcePos:vn.bool,skipHtml:vn.bool,includeElementIndex:vn.bool,transformLinkUri:vn.oneOfType([vn.func,vn.bool]),linkTarget:vn.oneOfType([vn.func,vn.string]),transformImageUri:vn.func,components:vn.object};function LA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vd(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var gN={exports:{}},O1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function cie(){if(bN)return O1;bN=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return O1.Fragment=n,O1.jsx=t,O1.jsxs=t,O1}var yN;function RA(){return yN||(yN=1,gN.exports=cie()),gN.exports}var gn=RA(),I1={},xN={exports:{}},vN;function Wv(){return vN||(vN=1,function(e){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(xN)),xN.exports}var wN={};function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Vr.apply(null,arguments)}function Ff(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function jD(e){if(Q.isValidElement(e)||!Ff(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=jD(e[t])}),n}function Tc(e,n,t={clone:!0}){const r=t.clone?Vr({},e):e;return Ff(e)&&Ff(n)&&Object.keys(n).forEach(i=>{Q.isValidElement(n[i])?r[i]=n[i]:Ff(n[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Ff(e[i])?r[i]=Tc(e[i],n[i],t):t.clone?r[i]=Ff(n[i])?jD(n[i]):n[i]:r[i]=n[i]}),r}const die=Object.freeze(Object.defineProperty({__proto__:null,default:Tc,isPlainObject:Ff},Symbol.toStringTag,{value:"Module"}));function Ng(e){let n="https://mui.com/production-error/?code="+e;for(let t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}const fie=Object.freeze(Object.defineProperty({__proto__:null,default:Ng},Symbol.toStringTag,{value:"Module"}));var SN={exports:{}},$r={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AN;function hie(){if(AN)return $r;AN=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),m=Symbol.for("react.client.reference");function x(y){if(typeof y=="object"&&y!==null){var A=y.$$typeof;switch(A){case e:switch(y=y.type,y){case t:case i:case r:case u:case d:return y;default:switch(y=y&&y.$$typeof,y){case s:case l:case g:case f:return y;case a:return y;default:return A}}case n:return A}}}return $r.ContextConsumer=a,$r.ContextProvider=s,$r.Element=e,$r.ForwardRef=l,$r.Fragment=t,$r.Lazy=g,$r.Memo=f,$r.Portal=n,$r.Profiler=i,$r.StrictMode=r,$r.Suspense=u,$r.SuspenseList=d,$r.isContextConsumer=function(y){return x(y)===a},$r.isContextProvider=function(y){return x(y)===s},$r.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},$r.isForwardRef=function(y){return x(y)===l},$r.isFragment=function(y){return x(y)===t},$r.isLazy=function(y){return x(y)===g},$r.isMemo=function(y){return x(y)===f},$r.isPortal=function(y){return x(y)===n},$r.isProfiler=function(y){return x(y)===i},$r.isStrictMode=function(y){return x(y)===r},$r.isSuspense=function(y){return x(y)===u},$r.isSuspenseList=function(y){return x(y)===d},$r.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===u||y===d||y===b||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===f||y.$$typeof===s||y.$$typeof===a||y.$$typeof===l||y.$$typeof===m||y.getModuleId!==void 0)},$r.typeOf=x,$r}var CN;function pie(){return CN||(CN=1,SN.exports=hie()),SN.exports}var EN=pie();const mie=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function TD(e){const n=`${e}`.match(mie);return n&&n[1]||""}function OD(e,n=""){return e.displayName||e.name||TD(e)||n}function _N(e,n,t){const r=OD(n);return e.displayName||(r!==""?`${t}(${r})`:t)}function gie(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return OD(e,"Component");if(typeof e=="object")switch(e.$$typeof){case EN.ForwardRef:return _N(e,e.render,"ForwardRef");case EN.Memo:return _N(e,e.type,"memo");default:return}}}const bie=Object.freeze(Object.defineProperty({__proto__:null,default:gie,getFunctionName:TD},Symbol.toStringTag,{value:"Module"}));function ah(e){if(typeof e!="string")throw new Error(Ng(7));return e.charAt(0).toUpperCase()+e.slice(1)}const yie=Object.freeze(Object.defineProperty({__proto__:null,default:ah},Symbol.toStringTag,{value:"Module"}));function xie(...e){return e.reduce((n,t)=>t==null?n:function(...r){n.apply(this,r),t.apply(this,r)},()=>{})}function vie(e,n=166){let t;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(t),t=setTimeout(a,n)}return r.clear=()=>{clearTimeout(t)},r}function wie(e,n){return()=>null}function Sie(e,n){var t,r;return Q.isValidElement(e)&&n.indexOf((t=e.type.muiName)!=null?t:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function ID(e){return e&&e.ownerDocument||document}function Aie(e){return ID(e).defaultView||window}function Cie(e,n){return()=>null}function DD(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const LD=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;let kN=0;function Eie(e){const[n,t]=Q.useState(e),r=e||n;return Q.useEffect(()=>{n==null&&(kN+=1,t(`mui-${kN}`))},[n]),r}const NN=Q.useId;function _ie(e){if(NN!==void 0){const n=NN();return e??n}return Eie(e)}function kie(e,n,t,r,i){return null}function Nie({controlled:e,default:n,name:t,state:r="value"}){const{current:i}=Q.useRef(e!==void 0),[a,s]=Q.useState(n),l=i?e:a,u=Q.useCallback(d=>{i||s(d)},[]);return[l,u]}function jie(e){const n=Q.useRef(e);return LD(()=>{n.current=e}),Q.useRef((...t)=>(0,n.current)(...t)).current}function Tie(...e){return Q.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(t=>{DD(t,n)})},e)}let Oie=class RD{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new RD}start(n,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},n)}},Vv=!0,o6=!1;const Iie=new Oie,Die={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Lie(e){const{type:n,tagName:t}=e;return!!(t==="INPUT"&&Die[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Rie(e){e.metaKey||e.altKey||e.ctrlKey||(Vv=!0)}function Mw(){Vv=!1}function Mie(){this.visibilityState==="hidden"&&o6&&(Vv=!0)}function Fie(e){e.addEventListener("keydown",Rie,!0),e.addEventListener("mousedown",Mw,!0),e.addEventListener("pointerdown",Mw,!0),e.addEventListener("touchstart",Mw,!0),e.addEventListener("visibilitychange",Mie,!0)}function Pie(e){const{target:n}=e;try{return n.matches(":focus-visible")}catch{}return Vv||Lie(n)}function zie(){const e=Q.useCallback(i=>{i!=null&&Fie(i.ownerDocument)},[]),n=Q.useRef(!1);function t(){return n.current?(o6=!0,Iie.start(100,()=>{o6=!1}),n.current=!1,!0):!1}function r(i){return Pie(i)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:r,onBlur:t,ref:e}}function l6(e,n){const t=Vr({},n);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Vr({},e[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},a=n[r];t[r]={},!a||!Object.keys(a)?t[r]=i:!i||!Object.keys(i)?t[r]=a:(t[r]=Vr({},a),Object.keys(i).forEach(s=>{t[r][s]=l6(i[s],a[s])}))}else t[r]===void 0&&(t[r]=e[r])}),t}function qie(e,n,t=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,s)=>{if(s){const l=n(s);l!==""&&a.push(l),t&&t[s]&&a.push(t[s])}return a},[]).join(" ")}),r}const jN=e=>e,Bie=()=>{let e=jN;return{configure(n){e=n},generate(n){return e(n)},reset(){e=jN}}},MD=Bie(),Uie={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function FD(e,n,t="Mui"){const r=Uie[n];return r?`${t}-${r}`:`${MD.generate(e)}-${n}`}function $ie(e,n,t="Mui"){const r={};return n.forEach(i=>{r[i]=FD(e,i,t)}),r}function Hie(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(e,t))}const Wie=Object.freeze(Object.defineProperty({__proto__:null,default:Hie},Symbol.toStringTag,{value:"Module"}));function hh(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.includes(r))continue;t[r]=e[r]}return t}function PD(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=PD(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Vie(){for(var e,n,t=0,r="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=PD(e))&&(r&&(r+=" "),r+=n);return r}const Yie=Q.createContext(void 0);function Gie(e){const{theme:n,name:t,props:r}=e;if(!n||!n.components||!n.components[t])return r;const i=n.components[t];return i.defaultProps?l6(i.defaultProps,r):!i.styleOverrides&&!i.variants?l6(i,r):r}function Qie({props:e,name:n}){const t=Q.useContext(Yie);return Gie({props:e,name:n,theme:{components:t}})}function Kie(e){return Qie(e)}var Uh={},TN={exports:{}},ON;function Xie(){return ON||(ON=1,function(e){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)({}).hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(TN)),TN.exports}var IN={exports:{}},DN;function Zie(){return DN||(DN=1,function(e){function n(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.includes(a))continue;i[a]=t[a]}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(IN)),IN.exports}function Jie(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function eae(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var tae=function(){function e(t){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(t){t.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(eae(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Jie(r);try{i.insertRule(t,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach(function(t){var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)}),this.tags=[],this.ctr=0},e}(),Ds="-ms-",ev="-moz-",mr="-webkit-",zD="comm",MA="rule",FA="decl",nae="@import",qD="@keyframes",rae="@layer",iae=Math.abs,Yv=String.fromCharCode,aae=Object.assign;function sae(e,n){return hs(e,0)^45?(((n<<2^hs(e,0))<<2^hs(e,1))<<2^hs(e,2))<<2^hs(e,3):0}function BD(e){return e.trim()}function oae(e,n){return(e=n.exec(e))?e[0]:e}function br(e,n,t){return e.replace(n,t)}function u6(e,n){return e.indexOf(n)}function hs(e,n){return e.charCodeAt(n)|0}function jg(e,n,t){return e.slice(n,t)}function fc(e){return e.length}function PA(e){return e.length}function Vy(e,n){return n.push(e),e}function lae(e,n){return e.map(n).join("")}var Gv=1,cm=1,UD=0,wo=0,Na=0,ym="";function Qv(e,n,t,r,i,a,s){return{value:e,root:n,parent:t,type:r,props:i,children:a,line:Gv,column:cm,length:s,return:""}}function D1(e,n){return aae(Qv("",null,null,"",null,null,0),e,{length:-e.length},n)}function uae(){return Na}function cae(){return Na=wo>0?hs(ym,--wo):0,cm--,Na===10&&(cm=1,Gv--),Na}function Zo(){return Na=wo<UD?hs(ym,wo++):0,cm++,Na===10&&(cm=1,Gv++),Na}function Oc(){return hs(ym,wo)}function mx(){return wo}function sb(e,n){return jg(ym,e,n)}function Tg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $D(e){return Gv=cm=1,UD=fc(ym=e),wo=0,[]}function HD(e){return ym="",e}function gx(e){return BD(sb(wo-1,c6(e===91?e+2:e===40?e+1:e)))}function dae(e){for(;(Na=Oc())&&Na<33;)Zo();return Tg(e)>2||Tg(Na)>3?"":" "}function fae(e,n){for(;--n&&Zo()&&!(Na<48||Na>102||Na>57&&Na<65||Na>70&&Na<97););return sb(e,mx()+(n<6&&Oc()==32&&Zo()==32))}function c6(e){for(;Zo();)switch(Na){case e:return wo;case 34:case 39:e!==34&&e!==39&&c6(Na);break;case 40:e===41&&c6(e);break;case 92:Zo();break}return wo}function hae(e,n){for(;Zo()&&e+Na!==57&&!(e+Na===84&&Oc()===47););return"/*"+sb(n,wo-1)+"*"+Yv(e===47?e:Zo())}function pae(e){for(;!Tg(Oc());)Zo();return sb(e,wo)}function mae(e){return HD(bx("",null,null,null,[""],e=$D(e),0,[0],e))}function bx(e,n,t,r,i,a,s,l,u){for(var d=0,f=0,g=s,b=0,m=0,x=0,y=1,A=1,w=1,C=0,N="",R=i,F=a,q=r,k=N;A;)switch(x=C,C=Zo()){case 40:if(x!=108&&hs(k,g-1)==58){u6(k+=br(gx(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:k+=gx(C);break;case 9:case 10:case 13:case 32:k+=dae(x);break;case 92:k+=fae(mx()-1,7);continue;case 47:switch(Oc()){case 42:case 47:Vy(gae(hae(Zo(),mx()),n,t),u);break;default:k+="/"}break;case 123*y:l[d++]=fc(k)*w;case 125*y:case 59:case 0:switch(C){case 0:case 125:A=0;case 59+f:w==-1&&(k=br(k,/\f/g,"")),m>0&&fc(k)-g&&Vy(m>32?RN(k+";",r,t,g-1):RN(br(k," ","")+";",r,t,g-2),u);break;case 59:k+=";";default:if(Vy(q=LN(k,n,t,d,f,i,l,N,R=[],F=[],g),a),C===123)if(f===0)bx(k,n,q,q,R,a,g,l,F);else switch(b===99&&hs(k,3)===110?100:b){case 100:case 108:case 109:case 115:bx(e,q,q,r&&Vy(LN(e,q,q,0,0,i,l,N,i,R=[],g),F),i,F,g,l,r?R:F);break;default:bx(k,q,q,q,[""],F,0,l,F)}}d=f=m=0,y=w=1,N=k="",g=s;break;case 58:g=1+fc(k),m=x;default:if(y<1){if(C==123)--y;else if(C==125&&y++==0&&cae()==125)continue}switch(k+=Yv(C),C*y){case 38:w=f>0?1:(k+="\f",-1);break;case 44:l[d++]=(fc(k)-1)*w,w=1;break;case 64:Oc()===45&&(k+=gx(Zo())),b=Oc(),f=g=fc(N=k+=pae(mx())),C++;break;case 45:x===45&&fc(k)==2&&(y=0)}}return a}function LN(e,n,t,r,i,a,s,l,u,d,f){for(var g=i-1,b=i===0?a:[""],m=PA(b),x=0,y=0,A=0;x<r;++x)for(var w=0,C=jg(e,g+1,g=iae(y=s[x])),N=e;w<m;++w)(N=BD(y>0?b[w]+" "+C:br(C,/&\f/g,b[w])))&&(u[A++]=N);return Qv(e,n,t,i===0?MA:l,u,d,f)}function gae(e,n,t){return Qv(e,n,t,zD,Yv(uae()),jg(e,2,-2),0)}function RN(e,n,t,r){return Qv(e,n,t,FA,jg(e,0,r),jg(e,r+1,-1),r)}function Y0(e,n){for(var t="",r=PA(e),i=0;i<r;i++)t+=n(e[i],i,e,n)||"";return t}function bae(e,n,t,r){switch(e.type){case rae:if(e.children.length)break;case nae:case FA:return e.return=e.return||e.value;case zD:return"";case qD:return e.return=e.value+"{"+Y0(e.children,r)+"}";case MA:e.value=e.props.join(",")}return fc(t=Y0(e.children,r))?e.return=e.value+"{"+t+"}":""}function yae(e){var n=PA(e);return function(t,r,i,a){for(var s="",l=0;l<n;l++)s+=e[l](t,r,i,a)||"";return s}}function xae(e){return function(n){n.root||(n=n.return)&&e(n)}}var vae=function(e,n,t){for(var r=0,i=0;r=i,i=Oc(),r===38&&i===12&&(n[t]=1),!Tg(i);)Zo();return sb(e,wo)},wae=function(e,n){var t=-1,r=44;do switch(Tg(r)){case 0:r===38&&Oc()===12&&(n[t]=1),e[t]+=vae(wo-1,n,t);break;case 2:e[t]+=gx(r);break;case 4:if(r===44){e[++t]=Oc()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=Yv(r)}while(r=Zo());return e},Sae=function(e,n){return HD(wae($D(e),n))},MN=new WeakMap,Aae=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,r=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!MN.get(t))&&!r){MN.set(e,!0);for(var i=[],a=Sae(n,i),s=t.props,l=0,u=0;l<a.length;l++)for(var d=0;d<s.length;d++,u++)e.props[u]=i[l]?a[l].replace(/&\f/g,s[d]):s[d]+" "+a[l]}}},Cae=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function WD(e,n){switch(sae(e,n)){case 5103:return mr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return mr+e+ev+e+Ds+e+e;case 6828:case 4268:return mr+e+Ds+e+e;case 6165:return mr+e+Ds+"flex-"+e+e;case 5187:return mr+e+br(e,/(\w+).+(:[^]+)/,mr+"box-$1$2"+Ds+"flex-$1$2")+e;case 5443:return mr+e+Ds+"flex-item-"+br(e,/flex-|-self/,"")+e;case 4675:return mr+e+Ds+"flex-line-pack"+br(e,/align-content|flex-|-self/,"")+e;case 5548:return mr+e+Ds+br(e,"shrink","negative")+e;case 5292:return mr+e+Ds+br(e,"basis","preferred-size")+e;case 6060:return mr+"box-"+br(e,"-grow","")+mr+e+Ds+br(e,"grow","positive")+e;case 4554:return mr+br(e,/([^-])(transform)/g,"$1"+mr+"$2")+e;case 6187:return br(br(br(e,/(zoom-|grab)/,mr+"$1"),/(image-set)/,mr+"$1"),e,"")+e;case 5495:case 3959:return br(e,/(image-set\([^]*)/,mr+"$1$`$1");case 4968:return br(br(e,/(.+:)(flex-)?(.*)/,mr+"box-pack:$3"+Ds+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mr+e+e;case 4095:case 3583:case 4068:case 2532:return br(e,/(.+)-inline(.+)/,mr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(fc(e)-1-n>6)switch(hs(e,n+1)){case 109:if(hs(e,n+4)!==45)break;case 102:return br(e,/(.+:)(.+)-([^]+)/,"$1"+mr+"$2-$3$1"+ev+(hs(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~u6(e,"stretch")?WD(br(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(hs(e,n+1)!==115)break;case 6444:switch(hs(e,fc(e)-3-(~u6(e,"!important")&&10))){case 107:return br(e,":",":"+mr)+e;case 101:return br(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mr+(hs(e,14)===45?"inline-":"")+"box$3$1"+mr+"$2$3$1"+Ds+"$2box$3")+e}break;case 5936:switch(hs(e,n+11)){case 114:return mr+e+Ds+br(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return mr+e+Ds+br(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return mr+e+Ds+br(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return mr+e+Ds+e+e}return e}var Eae=function(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case FA:e.return=WD(e.value,e.length);break;case qD:return Y0([D1(e,{value:br(e.value,"@","@"+mr)})],r);case MA:if(e.length)return lae(e.props,function(i){switch(oae(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Y0([D1(e,{props:[br(i,/:(read-\w+)/,":"+ev+"$1")]})],r);case"::placeholder":return Y0([D1(e,{props:[br(i,/:(plac\w+)/,":"+mr+"input-$1")]}),D1(e,{props:[br(i,/:(plac\w+)/,":"+ev+"$1")]}),D1(e,{props:[br(i,/:(plac\w+)/,Ds+"input-$1")]})],r)}return""})}},_ae=[Eae],kae=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(x){var y=x.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var r=e.stylisPlugins||_ae,i={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var y=x.getAttribute("data-emotion").split(" "),A=1;A<y.length;A++)i[y[A]]=!0;s.push(x)});var l,u=[Aae,Cae];{var d,f=[bae,xae(function(x){d.insert(x)})],g=yae(u.concat(r,f)),b=function(x){return Y0(mae(x),g)};l=function(x,y,A,w){d=A,b(x?x+"{"+y.styles+"}":y.styles),w&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new tae({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(s),m};let d6;typeof document=="object"&&(d6=kae({key:"css",prepend:!0}));function Nae(e){const{injectFirst:n,children:t}=e;return n&&d6?gn.jsx(fT,{value:d6,children:t}):t}function jae(e){return e==null||Object.keys(e).length===0}function Tae(e){const{styles:n,defaultTheme:t={}}=e,r=typeof n=="function"?i=>n(jae(i)?t:i):n;return gn.jsx(hT,{styles:r})}/**
 * @mui/styled-engine v5.16.12
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Oae(e,n){return dT(e,n)}const Iae=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))},Dae=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Tae,StyledEngineProvider:Nae,ThemeContext:cT,css:uT,default:Oae,internal_processStyles:Iae,keyframes:lT},Symbol.toStringTag,{value:"Module"})),Lae=Vd(Dae),Rae=Vd(die),Mae=Vd(yie),Fae=Vd(bie),Pae=["values","unit","step"],zae=e=>{const n=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return n.sort((t,r)=>t.val-r.val),n.reduce((t,r)=>Vr({},t,{[r.key]:r.val}),{})};function VD(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=e,i=hh(e,Pae),a=zae(n),s=Object.keys(a);function l(b){return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t})`}function u(b){return`@media (max-width:${(typeof n[b]=="number"?n[b]:b)-r/100}${t})`}function d(b,m){const x=s.indexOf(m);return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t}) and (max-width:${(x!==-1&&typeof n[s[x]]=="number"?n[s[x]]:m)-r/100}${t})`}function f(b){return s.indexOf(b)+1<s.length?d(b,s[s.indexOf(b)+1]):l(b)}function g(b){const m=s.indexOf(b);return m===0?l(s[1]):m===s.length-1?u(s[m]):d(b,s[s.indexOf(b)+1]).replace("@media","@media not all and")}return Vr({keys:s,values:a,up:l,down:u,between:d,only:f,not:g,unit:t},i)}const qae={borderRadius:4};function rg(e,n){return n?Tc(e,n,{clone:!1}):e}const zA={xs:0,sm:600,md:900,lg:1200,xl:1536},FN={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${zA[e]}px)`};function zd(e,n,t){const r=e.theme||{};if(Array.isArray(n)){const i=r.breakpoints||FN;return n.reduce((a,s,l)=>(a[i.up(i.keys[l])]=t(n[l]),a),{})}if(typeof n=="object"){const i=r.breakpoints||FN;return Object.keys(n).reduce((a,s)=>{if(Object.keys(i.values||zA).indexOf(s)!==-1){const l=i.up(s);a[l]=t(n[s],s)}else{const l=s;a[l]=n[l]}return a},{})}return t(n)}function Bae(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((t,r)=>{const i=e.up(r);return t[i]={},t},{}))||{}}function Uae(e,n){return e.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},n)}function Kv(e,n,t=!0){if(!n||typeof n!="string")return null;if(e&&e.vars&&t){const r=`vars.${n}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return n.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function tv(e,n,t,r=t){let i;return typeof e=="function"?i=e(t):Array.isArray(e)?i=e[t]||r:i=Kv(e,t)||r,n&&(i=n(i,r,e)),i}function ga(e){const{prop:n,cssProperty:t=e.prop,themeKey:r,transform:i}=e,a=s=>{if(s[n]==null)return null;const l=s[n],u=s.theme,d=Kv(u,r)||{};return zd(s,l,f=>{let g=tv(d,i,f);return f===g&&typeof f=="string"&&(g=tv(d,i,`${n}${f==="default"?"":ah(f)}`,f)),t===!1?g:{[t]:g}})};return a.propTypes={},a.filterProps=[n],a}function $ae(e){const n={};return t=>(n[t]===void 0&&(n[t]=e(t)),n[t])}const Hae={m:"margin",p:"padding"},Wae={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},PN={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Vae=$ae(e=>{if(e.length>2)if(PN[e])e=PN[e];else return[e];const[n,t]=e.split(""),r=Hae[n],i=Wae[t]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),qA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],BA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...qA,...BA];function ob(e,n,t,r){var i;const a=(i=Kv(e,n,!1))!=null?i:t;return typeof a=="number"?s=>typeof s=="string"?s:a*s:Array.isArray(a)?s=>typeof s=="string"?s:a[s]:typeof a=="function"?a:()=>{}}function YD(e){return ob(e,"spacing",8)}function lb(e,n){if(typeof n=="string"||n==null)return n;const t=Math.abs(n),r=e(t);return n>=0?r:typeof r=="number"?-r:`-${r}`}function Yae(e,n){return t=>e.reduce((r,i)=>(r[i]=lb(n,t),r),{})}function Gae(e,n,t,r){if(n.indexOf(t)===-1)return null;const i=Vae(t),a=Yae(i,r),s=e[t];return zd(e,s,a)}function GD(e,n){const t=YD(e.theme);return Object.keys(e).map(r=>Gae(e,n,r,t)).reduce(rg,{})}function Wi(e){return GD(e,qA)}Wi.propTypes={};Wi.filterProps=qA;function Vi(e){return GD(e,BA)}Vi.propTypes={};Vi.filterProps=BA;function Qae(e=8){if(e.mui)return e;const n=YD({spacing:e}),t=(...r)=>(r.length===0?[1]:r).map(i=>{const a=n(i);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function Xv(...e){const n=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),t=r=>Object.keys(r).reduce((i,a)=>n[a]?rg(i,n[a](r)):i,{});return t.propTypes={},t.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),t}function jl(e){return typeof e!="number"?e:`${e}px solid`}function ql(e,n){return ga({prop:e,themeKey:"borders",transform:n})}const Kae=ql("border",jl),Xae=ql("borderTop",jl),Zae=ql("borderRight",jl),Jae=ql("borderBottom",jl),ese=ql("borderLeft",jl),tse=ql("borderColor"),nse=ql("borderTopColor"),rse=ql("borderRightColor"),ise=ql("borderBottomColor"),ase=ql("borderLeftColor"),sse=ql("outline",jl),ose=ql("outlineColor"),Zv=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=ob(e.theme,"shape.borderRadius",4),t=r=>({borderRadius:lb(n,r)});return zd(e,e.borderRadius,t)}return null};Zv.propTypes={};Zv.filterProps=["borderRadius"];Xv(Kae,Xae,Zae,Jae,ese,tse,nse,rse,ise,ase,Zv,sse,ose);const Jv=e=>{if(e.gap!==void 0&&e.gap!==null){const n=ob(e.theme,"spacing",8),t=r=>({gap:lb(n,r)});return zd(e,e.gap,t)}return null};Jv.propTypes={};Jv.filterProps=["gap"];const e2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=ob(e.theme,"spacing",8),t=r=>({columnGap:lb(n,r)});return zd(e,e.columnGap,t)}return null};e2.propTypes={};e2.filterProps=["columnGap"];const t2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=ob(e.theme,"spacing",8),t=r=>({rowGap:lb(n,r)});return zd(e,e.rowGap,t)}return null};t2.propTypes={};t2.filterProps=["rowGap"];const lse=ga({prop:"gridColumn"}),use=ga({prop:"gridRow"}),cse=ga({prop:"gridAutoFlow"}),dse=ga({prop:"gridAutoColumns"}),fse=ga({prop:"gridAutoRows"}),hse=ga({prop:"gridTemplateColumns"}),pse=ga({prop:"gridTemplateRows"}),mse=ga({prop:"gridTemplateAreas"}),gse=ga({prop:"gridArea"});Xv(Jv,e2,t2,lse,use,cse,dse,fse,hse,pse,mse,gse);function G0(e,n){return n==="grey"?n:e}const bse=ga({prop:"color",themeKey:"palette",transform:G0}),yse=ga({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:G0}),xse=ga({prop:"backgroundColor",themeKey:"palette",transform:G0});Xv(bse,yse,xse);function Vo(e){return e<=1&&e!==0?`${e*100}%`:e}const vse=ga({prop:"width",transform:Vo}),UA=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=t=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||zA[t];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Vo(t)}};return zd(e,e.maxWidth,n)}return null};UA.filterProps=["maxWidth"];const wse=ga({prop:"minWidth",transform:Vo}),Sse=ga({prop:"height",transform:Vo}),Ase=ga({prop:"maxHeight",transform:Vo}),Cse=ga({prop:"minHeight",transform:Vo});ga({prop:"size",cssProperty:"width",transform:Vo});ga({prop:"size",cssProperty:"height",transform:Vo});const Ese=ga({prop:"boxSizing"});Xv(vse,UA,wse,Sse,Ase,Cse,Ese);const ub={border:{themeKey:"borders",transform:jl},borderTop:{themeKey:"borders",transform:jl},borderRight:{themeKey:"borders",transform:jl},borderBottom:{themeKey:"borders",transform:jl},borderLeft:{themeKey:"borders",transform:jl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:jl},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Zv},color:{themeKey:"palette",transform:G0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:G0},backgroundColor:{themeKey:"palette",transform:G0},p:{style:Vi},pt:{style:Vi},pr:{style:Vi},pb:{style:Vi},pl:{style:Vi},px:{style:Vi},py:{style:Vi},padding:{style:Vi},paddingTop:{style:Vi},paddingRight:{style:Vi},paddingBottom:{style:Vi},paddingLeft:{style:Vi},paddingX:{style:Vi},paddingY:{style:Vi},paddingInline:{style:Vi},paddingInlineStart:{style:Vi},paddingInlineEnd:{style:Vi},paddingBlock:{style:Vi},paddingBlockStart:{style:Vi},paddingBlockEnd:{style:Vi},m:{style:Wi},mt:{style:Wi},mr:{style:Wi},mb:{style:Wi},ml:{style:Wi},mx:{style:Wi},my:{style:Wi},margin:{style:Wi},marginTop:{style:Wi},marginRight:{style:Wi},marginBottom:{style:Wi},marginLeft:{style:Wi},marginX:{style:Wi},marginY:{style:Wi},marginInline:{style:Wi},marginInlineStart:{style:Wi},marginInlineEnd:{style:Wi},marginBlock:{style:Wi},marginBlockStart:{style:Wi},marginBlockEnd:{style:Wi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Jv},rowGap:{style:t2},columnGap:{style:e2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Vo},maxWidth:{style:UA},minWidth:{transform:Vo},height:{transform:Vo},maxHeight:{transform:Vo},minHeight:{transform:Vo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function _se(...e){const n=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(n);return e.every(r=>t.size===Object.keys(r).length)}function kse(e,n){return typeof e=="function"?e(n):e}function QD(){function e(t,r,i,a){const s={[t]:r,theme:i},l=a[t];if(!l)return{[t]:r};const{cssProperty:u=t,themeKey:d,transform:f,style:g}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const b=Kv(i,d)||{};return g?g(s):zd(s,r,m=>{let x=tv(b,f,m);return m===x&&typeof m=="string"&&(x=tv(b,f,`${t}${m==="default"?"":ah(m)}`,m)),u===!1?x:{[u]:x}})}function n(t){var r;const{sx:i,theme:a={}}=t||{};if(!i)return null;const s=(r=a.unstable_sxConfig)!=null?r:ub;function l(u){let d=u;if(typeof u=="function")d=u(a);else if(typeof u!="object")return u;if(!d)return null;const f=Bae(a.breakpoints),g=Object.keys(f);let b=f;return Object.keys(d).forEach(m=>{const x=kse(d[m],a);if(x!=null)if(typeof x=="object")if(s[m])b=rg(b,e(m,x,a,s));else{const y=zd({theme:a},x,A=>({[m]:A}));_se(y,x)?b[m]=n({sx:x,theme:a}):b=rg(b,y)}else b=rg(b,e(m,x,a,s))}),Uae(g,b)}return Array.isArray(i)?i.map(l):l(i)}return n}const n2=QD();n2.filterProps=["sx"];function KD(e,n){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:n}:t.palette.mode===e?n:{}}const Nse=["breakpoints","palette","spacing","shape"];function XD(e={},...n){const{breakpoints:t={},palette:r={},spacing:i,shape:a={}}=e,s=hh(e,Nse),l=VD(t),u=Qae(i);let d=Tc({breakpoints:l,direction:"ltr",components:{},palette:Vr({mode:"light"},r),spacing:u,shape:Vr({},qae,a)},s);return d.applyStyles=KD,d=n.reduce((f,g)=>Tc(f,g),d),d.unstable_sxConfig=Vr({},ub,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(f){return n2({sx:f,theme:this})},d}const jse=Object.freeze(Object.defineProperty({__proto__:null,default:XD,private_createBreakpoints:VD,unstable_applyStyles:KD},Symbol.toStringTag,{value:"Module"})),Tse=Vd(jse),Ose=["sx"],Ise=e=>{var n,t;const r={systemProps:{},otherProps:{}},i=(n=e==null||(t=e.theme)==null?void 0:t.unstable_sxConfig)!=null?n:ub;return Object.keys(e).forEach(a=>{i[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function Dse(e){const{sx:n}=e,t=hh(e,Ose),{systemProps:r,otherProps:i}=Ise(t);let a;return Array.isArray(n)?a=[r,...n]:typeof n=="function"?a=(...s)=>{const l=n(...s);return Ff(l)?Vr({},r,l):r}:a=Vr({},r,n),Vr({},i,{sx:a})}const Lse=Object.freeze(Object.defineProperty({__proto__:null,default:n2,extendSxProp:Dse,unstable_createStyleFunctionSx:QD,unstable_defaultSxConfig:ub},Symbol.toStringTag,{value:"Module"})),Rse=Vd(Lse);var zN;function Mse(){if(zN)return Uh;zN=1;var e=Wv();Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.default=R,Uh.shouldForwardProp=x,Uh.systemDefaultTheme=void 0;var n=e(Xie()),t=e(Zie()),r=g(Lae),i=Rae;e(Mae),e(Fae);var a=e(Tse),s=e(Rse);const l=["ownerState"],u=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function f(F){if(typeof WeakMap!="function")return null;var q=new WeakMap,k=new WeakMap;return(f=function(L){return L?k:q})(F)}function g(F,q){if(F&&F.__esModule)return F;if(F===null||typeof F!="object"&&typeof F!="function")return{default:F};var k=f(q);if(k&&k.has(F))return k.get(F);var L={__proto__:null},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var X in F)if(X!=="default"&&Object.prototype.hasOwnProperty.call(F,X)){var j=B?Object.getOwnPropertyDescriptor(F,X):null;j&&(j.get||j.set)?Object.defineProperty(L,X,j):L[X]=F[X]}return L.default=F,k&&k.set(F,L),L}function b(F){return Object.keys(F).length===0}function m(F){return typeof F=="string"&&F.charCodeAt(0)>96}function x(F){return F!=="ownerState"&&F!=="theme"&&F!=="sx"&&F!=="as"}const y=Uh.systemDefaultTheme=(0,a.default)(),A=F=>F&&F.charAt(0).toLowerCase()+F.slice(1);function w({defaultTheme:F,theme:q,themeId:k}){return b(q)?F:q[k]||q}function C(F){return F?(q,k)=>k[F]:null}function N(F,q){let{ownerState:k}=q,L=(0,t.default)(q,l);const B=typeof F=="function"?F((0,n.default)({ownerState:k},L)):F;if(Array.isArray(B))return B.flatMap(X=>N(X,(0,n.default)({ownerState:k},L)));if(B&&typeof B=="object"&&Array.isArray(B.variants)){const{variants:X=[]}=B;let j=(0,t.default)(B,u);return X.forEach(O=>{let P=!0;typeof O.props=="function"?P=O.props((0,n.default)({ownerState:k},L,k)):Object.keys(O.props).forEach(T=>{(k==null?void 0:k[T])!==O.props[T]&&L[T]!==O.props[T]&&(P=!1)}),P&&(Array.isArray(j)||(j=[j]),j.push(typeof O.style=="function"?O.style((0,n.default)({ownerState:k},L,k)):O.style))}),j}return B}function R(F={}){const{themeId:q,defaultTheme:k=y,rootShouldForwardProp:L=x,slotShouldForwardProp:B=x}=F,X=j=>(0,s.default)((0,n.default)({},j,{theme:w((0,n.default)({},j,{defaultTheme:k,themeId:q}))}));return X.__mui_systemSx=!0,(j,O={})=>{(0,r.internal_processStyles)(j,se=>se.filter(we=>!(we!=null&&we.__mui_systemSx)));const{name:P,slot:T,skipVariantsResolver:G,skipSx:W,overridesResolver:K=C(A(T))}=O,ie=(0,t.default)(O,d),ue=G!==void 0?G:T&&T!=="Root"&&T!=="root"||!1,$=W||!1;let ae,U=x;T==="Root"||T==="root"?U=L:T?U=B:m(j)&&(U=void 0);const z=(0,r.default)(j,(0,n.default)({shouldForwardProp:U,label:ae},ie)),Z=se=>typeof se=="function"&&se.__emotion_real!==se||(0,i.isPlainObject)(se)?we=>N(se,(0,n.default)({},we,{theme:w({theme:we.theme,defaultTheme:k,themeId:q})})):se,ee=(se,...we)=>{let xe=Z(se);const Ee=we?we.map(Z):[];P&&K&&Ee.push(We=>{const Ve=w((0,n.default)({},We,{defaultTheme:k,themeId:q}));if(!Ve.components||!Ve.components[P]||!Ve.components[P].styleOverrides)return null;const V=Ve.components[P].styleOverrides,Se={};return Object.entries(V).forEach(([te,be])=>{Se[te]=N(be,(0,n.default)({},We,{theme:Ve}))}),K(We,Se)}),P&&!ue&&Ee.push(We=>{var Ve;const V=w((0,n.default)({},We,{defaultTheme:k,themeId:q})),Se=V==null||(Ve=V.components)==null||(Ve=Ve[P])==null?void 0:Ve.variants;return N({variants:Se},(0,n.default)({},We,{theme:V}))}),$||Ee.push(X);const Ie=Ee.length-we.length;if(Array.isArray(se)&&Ie>0){const We=new Array(Ie).fill("");xe=[...se,...We],xe.raw=[...se.raw,...We]}const Re=z(xe,...Ee);return j.muiName&&(Re.muiName=j.muiName),Re};return z.withConfig&&(ee.withConfig=z.withConfig),ee}}return Uh}var Fse=Mse();const Pse=LA(Fse);function zse(e,n){return Vr({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)}var Ii={};const qse=Vd(fie),Bse=Vd(Wie);var qN;function Use(){if(qN)return Ii;qN=1;var e=Wv();Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.alpha=x,Ii.blend=q,Ii.colorChannel=void 0,Ii.darken=A,Ii.decomposeColor=s,Ii.emphasize=R,Ii.getContrastRatio=m,Ii.getLuminance=b,Ii.hexToRgb=i,Ii.hslToRgb=g,Ii.lighten=C,Ii.private_safeAlpha=y,Ii.private_safeColorChannel=void 0,Ii.private_safeDarken=w,Ii.private_safeEmphasize=F,Ii.private_safeLighten=N,Ii.recomposeColor=d,Ii.rgbToHex=f;var n=e(qse),t=e(Bse);function r(k,L=0,B=1){return(0,t.default)(k,L,B)}function i(k){k=k.slice(1);const L=new RegExp(`.{1,${k.length>=6?2:1}}`,"g");let B=k.match(L);return B&&B[0].length===1&&(B=B.map(X=>X+X)),B?`rgb${B.length===4?"a":""}(${B.map((X,j)=>j<3?parseInt(X,16):Math.round(parseInt(X,16)/255*1e3)/1e3).join(", ")})`:""}function a(k){const L=k.toString(16);return L.length===1?`0${L}`:L}function s(k){if(k.type)return k;if(k.charAt(0)==="#")return s(i(k));const L=k.indexOf("("),B=k.substring(0,L);if(["rgb","rgba","hsl","hsla","color"].indexOf(B)===-1)throw new Error((0,n.default)(9,k));let X=k.substring(L+1,k.length-1),j;if(B==="color"){if(X=X.split(" "),j=X.shift(),X.length===4&&X[3].charAt(0)==="/"&&(X[3]=X[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(j)===-1)throw new Error((0,n.default)(10,j))}else X=X.split(",");return X=X.map(O=>parseFloat(O)),{type:B,values:X,colorSpace:j}}const l=k=>{const L=s(k);return L.values.slice(0,3).map((B,X)=>L.type.indexOf("hsl")!==-1&&X!==0?`${B}%`:B).join(" ")};Ii.colorChannel=l;const u=(k,L)=>{try{return l(k)}catch{return k}};Ii.private_safeColorChannel=u;function d(k){const{type:L,colorSpace:B}=k;let{values:X}=k;return L.indexOf("rgb")!==-1?X=X.map((j,O)=>O<3?parseInt(j,10):j):L.indexOf("hsl")!==-1&&(X[1]=`${X[1]}%`,X[2]=`${X[2]}%`),L.indexOf("color")!==-1?X=`${B} ${X.join(" ")}`:X=`${X.join(", ")}`,`${L}(${X})`}function f(k){if(k.indexOf("#")===0)return k;const{values:L}=s(k);return`#${L.map((B,X)=>a(X===3?Math.round(255*B):B)).join("")}`}function g(k){k=s(k);const{values:L}=k,B=L[0],X=L[1]/100,j=L[2]/100,O=X*Math.min(j,1-j),P=(W,K=(W+B/30)%12)=>j-O*Math.max(Math.min(K-3,9-K,1),-1);let T="rgb";const G=[Math.round(P(0)*255),Math.round(P(8)*255),Math.round(P(4)*255)];return k.type==="hsla"&&(T+="a",G.push(L[3])),d({type:T,values:G})}function b(k){k=s(k);let L=k.type==="hsl"||k.type==="hsla"?s(g(k)).values:k.values;return L=L.map(B=>(k.type!=="color"&&(B/=255),B<=.03928?B/12.92:((B+.055)/1.055)**2.4)),Number((.2126*L[0]+.7152*L[1]+.0722*L[2]).toFixed(3))}function m(k,L){const B=b(k),X=b(L);return(Math.max(B,X)+.05)/(Math.min(B,X)+.05)}function x(k,L){return k=s(k),L=r(L),(k.type==="rgb"||k.type==="hsl")&&(k.type+="a"),k.type==="color"?k.values[3]=`/${L}`:k.values[3]=L,d(k)}function y(k,L,B){try{return x(k,L)}catch{return k}}function A(k,L){if(k=s(k),L=r(L),k.type.indexOf("hsl")!==-1)k.values[2]*=1-L;else if(k.type.indexOf("rgb")!==-1||k.type.indexOf("color")!==-1)for(let B=0;B<3;B+=1)k.values[B]*=1-L;return d(k)}function w(k,L,B){try{return A(k,L)}catch{return k}}function C(k,L){if(k=s(k),L=r(L),k.type.indexOf("hsl")!==-1)k.values[2]+=(100-k.values[2])*L;else if(k.type.indexOf("rgb")!==-1)for(let B=0;B<3;B+=1)k.values[B]+=(255-k.values[B])*L;else if(k.type.indexOf("color")!==-1)for(let B=0;B<3;B+=1)k.values[B]+=(1-k.values[B])*L;return d(k)}function N(k,L,B){try{return C(k,L)}catch{return k}}function R(k,L=.15){return b(k)>.5?A(k,L):C(k,L)}function F(k,L,B){try{return R(k,L)}catch{return k}}function q(k,L,B,X=1){const j=(G,W)=>Math.round((G**(1/X)*(1-B)+W**(1/X)*B)**X),O=s(k),P=s(L),T=[j(O.values[0],P.values[0]),j(O.values[1],P.values[1]),j(O.values[2],P.values[2])];return d({type:"rgb",values:T})}return Ii}var f6=Use();const Og={black:"#000",white:"#fff"},$se={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},p0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},m0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},L1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},g0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},b0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},y0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Hse=["mode","contrastThreshold","tonalOffset"],BN={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Og.white,default:Og.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Fw={text:{primary:Og.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Og.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function UN(e,n,t,r){const i=r.light||r,a=r.dark||r*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=f6.lighten(e.main,i):n==="dark"&&(e.dark=f6.darken(e.main,a)))}function Wse(e="light"){return e==="dark"?{main:g0[200],light:g0[50],dark:g0[400]}:{main:g0[700],light:g0[400],dark:g0[800]}}function Vse(e="light"){return e==="dark"?{main:p0[200],light:p0[50],dark:p0[400]}:{main:p0[500],light:p0[300],dark:p0[700]}}function Yse(e="light"){return e==="dark"?{main:m0[500],light:m0[300],dark:m0[700]}:{main:m0[700],light:m0[400],dark:m0[800]}}function Gse(e="light"){return e==="dark"?{main:b0[400],light:b0[300],dark:b0[700]}:{main:b0[700],light:b0[500],dark:b0[900]}}function Qse(e="light"){return e==="dark"?{main:y0[400],light:y0[300],dark:y0[700]}:{main:y0[800],light:y0[500],dark:y0[900]}}function Kse(e="light"){return e==="dark"?{main:L1[400],light:L1[300],dark:L1[700]}:{main:"#ed6c02",light:L1[500],dark:L1[900]}}function Xse(e){const{mode:n="light",contrastThreshold:t=3,tonalOffset:r=.2}=e,i=hh(e,Hse),a=e.primary||Wse(n),s=e.secondary||Vse(n),l=e.error||Yse(n),u=e.info||Gse(n),d=e.success||Qse(n),f=e.warning||Kse(n);function g(x){return f6.getContrastRatio(x,Fw.text.primary)>=t?Fw.text.primary:BN.text.primary}const b=({color:x,name:y,mainShade:A=500,lightShade:w=300,darkShade:C=700})=>{if(x=Vr({},x),!x.main&&x[A]&&(x.main=x[A]),!x.hasOwnProperty("main"))throw new Error(Ng(11,y?` (${y})`:"",A));if(typeof x.main!="string")throw new Error(Ng(12,y?` (${y})`:"",JSON.stringify(x.main)));return UN(x,"light",w,r),UN(x,"dark",C,r),x.contrastText||(x.contrastText=g(x.main)),x},m={dark:Fw,light:BN};return Tc(Vr({common:Vr({},Og),mode:n,primary:b({color:a,name:"primary"}),secondary:b({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:f,name:"warning"}),info:b({color:u,name:"info"}),success:b({color:d,name:"success"}),grey:$se,contrastThreshold:t,getContrastText:g,augmentColor:b,tonalOffset:r},m[n]),i)}const Zse=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Jse(e){return Math.round(e*1e5)/1e5}const $N={textTransform:"uppercase"},HN='"Roboto", "Helvetica", "Arial", sans-serif';function eoe(e,n){const t=typeof n=="function"?n(e):n,{fontFamily:r=HN,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:f,pxToRem:g}=t,b=hh(t,Zse),m=i/14,x=g||(w=>`${w/d*m}rem`),y=(w,C,N,R,F)=>Vr({fontFamily:r,fontWeight:w,fontSize:x(C),lineHeight:N},r===HN?{letterSpacing:`${Jse(R/C)}em`}:{},F,f),A={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(l,14,1.75,.4,$N),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,$N),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Tc(Vr({htmlFontSize:d,pxToRem:x,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u},A),b,{clone:!1})}const toe=.2,noe=.14,roe=.12;function xi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${toe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${noe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${roe})`].join(",")}const ioe=["none",xi(0,2,1,-1,0,1,1,0,0,1,3,0),xi(0,3,1,-2,0,2,2,0,0,1,5,0),xi(0,3,3,-2,0,3,4,0,0,1,8,0),xi(0,2,4,-1,0,4,5,0,0,1,10,0),xi(0,3,5,-1,0,5,8,0,0,1,14,0),xi(0,3,5,-1,0,6,10,0,0,1,18,0),xi(0,4,5,-2,0,7,10,1,0,2,16,1),xi(0,5,5,-3,0,8,10,1,0,3,14,2),xi(0,5,6,-3,0,9,12,1,0,3,16,2),xi(0,6,6,-3,0,10,14,1,0,4,18,3),xi(0,6,7,-4,0,11,15,1,0,4,20,3),xi(0,7,8,-4,0,12,17,2,0,5,22,4),xi(0,7,8,-4,0,13,19,2,0,5,24,4),xi(0,7,9,-4,0,14,21,2,0,5,26,4),xi(0,8,9,-5,0,15,22,2,0,6,28,5),xi(0,8,10,-5,0,16,24,2,0,6,30,5),xi(0,8,11,-5,0,17,26,2,0,6,32,5),xi(0,9,11,-5,0,18,28,2,0,7,34,6),xi(0,9,12,-6,0,19,29,2,0,7,36,6),xi(0,10,13,-6,0,20,31,3,0,8,38,7),xi(0,10,13,-6,0,21,33,3,0,8,40,7),xi(0,10,14,-6,0,22,35,3,0,8,42,7),xi(0,11,14,-7,0,23,36,3,0,9,44,8),xi(0,11,15,-7,0,24,38,3,0,9,46,8)],aoe=["duration","easing","delay"],soe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ooe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function WN(e){return`${Math.round(e)}ms`}function loe(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function uoe(e){const n=Vr({},soe,e.easing),t=Vr({},ooe,e.duration);return Vr({getAutoHeightDuration:loe,create:(r=["all"],i={})=>{const{duration:a=t.standard,easing:s=n.easeInOut,delay:l=0}=i;return hh(i,aoe),(Array.isArray(r)?r:[r]).map(u=>`${u} ${typeof a=="string"?a:WN(a)} ${s} ${typeof l=="string"?l:WN(l)}`).join(",")}},e,{easing:n,duration:t})}const coe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},doe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function foe(e={},...n){const{mixins:t={},palette:r={},transitions:i={},typography:a={}}=e,s=hh(e,doe);if(e.vars)throw new Error(Ng(18));const l=Xse(r),u=XD(e);let d=Tc(u,{mixins:zse(u.breakpoints,t),palette:l,shadows:ioe.slice(),typography:eoe(l,a),transitions:uoe(i),zIndex:Vr({},coe)});return d=Tc(d,s),d=n.reduce((f,g)=>Tc(f,g),d),d.unstable_sxConfig=Vr({},ub,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(f){return n2({sx:f,theme:this})},d}const hoe=foe(),poe="$$material";function moe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const goe=e=>moe(e)&&e!=="classes",boe=Pse({themeId:poe,defaultTheme:hoe,rootShouldForwardProp:goe});function yoe(e){return FD("MuiSvgIcon",e)}$ie("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const xoe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],voe=e=>{const{color:n,fontSize:t,classes:r}=e,i={root:["root",n!=="inherit"&&`color${ah(n)}`,`fontSize${ah(t)}`]};return qie(i,yoe,r)},woe=boe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.color!=="inherit"&&n[`color${ah(t.color)}`],n[`fontSize${ah(t.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var t,r,i,a,s,l,u,d,f,g,b,m,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=e.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(s=a.pxToRem)==null?void 0:s.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((d=e.typography)==null||(f=d.pxToRem)==null?void 0:f.call(d,35))||"2.1875rem"}[n.fontSize],color:(g=(b=(e.vars||e).palette)==null||(b=b[n.color])==null?void 0:b.main)!=null?g:{action:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(x=(e.vars||e).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[n.color]}}),h6=Q.forwardRef(function(e,n){const t=Kie({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:f,viewBox:g="0 0 24 24"}=t,b=hh(t,xoe),m=Q.isValidElement(r)&&r.type==="svg",x=Vr({},t,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:g,hasSvgAsChild:m}),y={};d||(y.viewBox=g);const A=voe(x);return gn.jsxs(woe,Vr({as:s,className:Vie(A.root,i),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n},y,b,m&&r.props,{ownerState:x,children:[m?r.props.children:r,f?gn.jsx("title",{children:f}):null]}))});h6.muiName="SvgIcon";function Soe(e,n){function t(r,i){return gn.jsx(h6,Vr({"data-testid":`${n}Icon`,ref:i},r,{children:e}))}return t.muiName=h6.muiName,Q.memo(Q.forwardRef(t))}const Aoe={configure:e=>{MD.configure(e)}},Coe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:ah,createChainedFunction:xie,createSvgIcon:Soe,debounce:vie,deprecatedPropType:wie,isMuiElement:Sie,ownerDocument:ID,ownerWindow:Aie,requirePropFactory:Cie,setRef:DD,unstable_ClassNameGenerator:Aoe,unstable_useEnhancedEffect:LD,unstable_useId:_ie,unsupportedProp:kie,useControlled:Nie,useEventCallback:jie,useForkRef:Tie,useIsFocusVisible:zie},Symbol.toStringTag,{value:"Module"})),Eoe=Vd(Coe);var VN;function ZD(){return VN||(VN=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=Eoe}(wN)),wN}var YN;function _oe(){if(YN)return I1;YN=1;var e=Wv();Object.defineProperty(I1,"__esModule",{value:!0}),I1.default=void 0;var n=e(ZD()),t=RA();return I1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),I1}var koe=_oe();const Noe=LA(koe),Pw={chatToggleButton:{position:"fixed",bottom:20,right:20,bgcolor:"#CDDAFF",color:"white",width:60,height:60,borderRadius:"50%",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.3)","&:hover":{bgcolor:"#0B53C0"},transition:"background-color 0.3s, transform 0.3s","&:active":{transform:"scale(0.95)"}},chatContainer:(e,n)=>({position:"fixed",bottom:e?0:20,right:e?0:20,width:e?"80%":n?"60%":650,height:e?"50%":n?"55%":700,padding:e?1:2,display:"flex",flexDirection:"column",borderRadius:e?0:"16px",backgroundColor:"#F0F4FF",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"}),chatHeader:{fontFamily:"Staatliches, Arial, sans-serif",fontWeight:"bold",color:"black",fontSize:"1.25rem"},chatMessageInput:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif",borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}},chatMessageBox:{maxWidth:"70%",borderRadius:"15px",padding:1,paddingX:2,boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)","&.user":{bgcolor:"#f0f0f0",color:"#555",alignSelf:"flex-end"},"&.bot":{bgcolor:"#CDDAFF",color:"black",alignSelf:"flex-start","&:hover":{bgcolor:"#0B53C0",color:"white"}}},chatButtons:{backgroundColor:"#CDDAFF",color:"black",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",color:"white"}}},joe=({responses:e})=>gn.jsx(fe,{sx:{flexGrow:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:2,padding:2,backgroundColor:"transparent"},children:e.length>0?e.map((n,t)=>gn.jsxs(fe,{sx:{display:"flex",flexDirection:"column",alignItems:n.question?"flex-end":"flex-start"},children:[n.question&&gn.jsx(fe,{sx:{maxWidth:"70%",bgcolor:"#f0f0f0",color:"#555",borderRadius:"15px",p:1,px:2,mb:2,alignSelf:"flex-end",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},children:gn.jsx(de,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"#555"},children:n.question})}),(n.answer||n.text)&&gn.jsx(fe,{sx:{maxWidth:"70%",bgcolor:"#CDDAFF",color:"black",borderRadius:"15px",p:1,px:2,alignSelf:"flex-start",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",mb:.3,"&:hover":{bgcolor:"#0B53C0",color:"white"}},children:gn.jsx(de,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"inherit",transition:"color 0.3s ease"},children:gn.jsx(DA,{children:n.answer||n.text})})})]},t)):gn.jsx(de,{variant:"body2",sx:{textAlign:"center",color:"#6c757d",fontFamily:"Gabarito, Arial, sans-serif"},children:"No messages yet. Start the conversation!"})}),Toe=({onSendMessage:e,onStartConversation:n,onEndConversation:t,conversationId:r})=>{const[i,a]=Q.useState(""),s=()=>{i.trim()&&(e(i),a(""))},l=()=>{r||n()},u=()=>{r&&t()};return gn.jsxs(fe,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[gn.jsxs(fe,{sx:{display:"flex",gap:1},children:[gn.jsx(Ut,{variant:"outlined",placeholder:"Type your message...",fullWidth:!0,size:"small",value:i,onChange:d=>a(d.target.value),onKeyDown:d=>{d.key==="Enter"&&s()},sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}}}),gn.jsx(At,{variant:"contained",onClick:s,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"Send"})]}),r?gn.jsx(At,{variant:"outlined",onClick:u,sx:{color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none",borderColor:"#CDDAFF","&:hover":{borderColor:"#0B53C0",color:"#0B53C0"}},children:"END CONVERSATION"}):gn.jsx(At,{variant:"contained",onClick:l,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"START CONVERSATION"})]})};var R1={},GN;function Ooe(){if(GN)return R1;GN=1;var e=Wv();Object.defineProperty(R1,"__esModule",{value:!0}),R1.default=void 0;var n=e(ZD()),t=RA();return R1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),R1}var Ioe=Ooe();const Doe=LA(Ioe);function JD(e,n){return function(){return e.apply(n,arguments)}}const{toString:Loe}=Object.prototype,{getPrototypeOf:$A}=Object,r2=(e=>n=>{const t=Loe.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Tu=e=>(e=e.toLowerCase(),n=>r2(n)===e),i2=e=>n=>typeof n===e,{isArray:xm}=Array,Ig=i2("undefined");function Roe(e){return e!==null&&!Ig(e)&&e.constructor!==null&&!Ig(e.constructor)&&Jo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const eL=Tu("ArrayBuffer");function Moe(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&eL(e.buffer),n}const Foe=i2("string"),Jo=i2("function"),tL=i2("number"),a2=e=>e!==null&&typeof e=="object",Poe=e=>e===!0||e===!1,yx=e=>{if(r2(e)!=="object")return!1;const n=$A(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zoe=Tu("Date"),qoe=Tu("File"),Boe=Tu("Blob"),Uoe=Tu("FileList"),$oe=e=>a2(e)&&Jo(e.pipe),Hoe=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Jo(e.append)&&((n=r2(e))==="formdata"||n==="object"&&Jo(e.toString)&&e.toString()==="[object FormData]"))},Woe=Tu("URLSearchParams"),[Voe,Yoe,Goe,Qoe]=["ReadableStream","Request","Response","Headers"].map(Tu),Koe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cb(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),xm(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let l;for(r=0;r<s;r++)l=a[r],n.call(null,e[l],l,e)}}function nL(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const Zh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,rL=e=>!Ig(e)&&e!==Zh;function p6(){const{caseless:e}=rL(this)&&this||{},n={},t=(r,i)=>{const a=e&&nL(n,i)||i;yx(n[a])&&yx(r)?n[a]=p6(n[a],r):yx(r)?n[a]=p6({},r):xm(r)?n[a]=r.slice():n[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&cb(arguments[r],t);return n}const Xoe=(e,n,t,{allOwnKeys:r}={})=>(cb(n,(i,a)=>{t&&Jo(i)?e[a]=JD(i,t):e[a]=i},{allOwnKeys:r}),e),Zoe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Joe=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},ele=(e,n,t,r)=>{let i,a,s;const l={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,n))&&!l[s]&&(n[s]=e[s],l[s]=!0);e=t!==!1&&$A(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},tle=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},nle=e=>{if(!e)return null;if(xm(e))return e;let n=e.length;if(!tL(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},rle=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&$A(Uint8Array)),ile=(e,n)=>{const t=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=t.next())&&!r.done;){const i=r.value;n.call(e,i[0],i[1])}},ale=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},sle=Tu("HTMLFormElement"),ole=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,t,r){return t.toUpperCase()+r}),QN=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),lle=Tu("RegExp"),iL=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};cb(t,(i,a)=>{let s;(s=n(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},ule=e=>{iL(e,(n,t)=>{if(Jo(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(Jo(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},cle=(e,n)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return xm(e)?r(e):r(String(e).split(n)),t},dle=()=>{},fle=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,zw="abcdefghijklmnopqrstuvwxyz",KN="0123456789",aL={DIGIT:KN,ALPHA:zw,ALPHA_DIGIT:zw+zw.toUpperCase()+KN},hle=(e=16,n=aL.ALPHA_DIGIT)=>{let t="";const{length:r}=n;for(;e--;)t+=n[Math.random()*r|0];return t};function ple(e){return!!(e&&Jo(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const mle=e=>{const n=new Array(10),t=(r,i)=>{if(a2(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const a=xm(r)?[]:{};return cb(r,(s,l)=>{const u=t(s,i+1);!Ig(u)&&(a[l]=u)}),n[i]=void 0,a}}return r};return t(e,0)},gle=Tu("AsyncFunction"),ble=e=>e&&(a2(e)||Jo(e))&&Jo(e.then)&&Jo(e.catch),sL=((e,n)=>e?setImmediate:n?((t,r)=>(Zh.addEventListener("message",({source:i,data:a})=>{i===Zh&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Zh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Jo(Zh.postMessage)),yle=typeof queueMicrotask<"u"?queueMicrotask.bind(Zh):typeof process<"u"&&process.nextTick||sL,ut={isArray:xm,isArrayBuffer:eL,isBuffer:Roe,isFormData:Hoe,isArrayBufferView:Moe,isString:Foe,isNumber:tL,isBoolean:Poe,isObject:a2,isPlainObject:yx,isReadableStream:Voe,isRequest:Yoe,isResponse:Goe,isHeaders:Qoe,isUndefined:Ig,isDate:zoe,isFile:qoe,isBlob:Boe,isRegExp:lle,isFunction:Jo,isStream:$oe,isURLSearchParams:Woe,isTypedArray:rle,isFileList:Uoe,forEach:cb,merge:p6,extend:Xoe,trim:Koe,stripBOM:Zoe,inherits:Joe,toFlatObject:ele,kindOf:r2,kindOfTest:Tu,endsWith:tle,toArray:nle,forEachEntry:ile,matchAll:ale,isHTMLForm:sle,hasOwnProperty:QN,hasOwnProp:QN,reduceDescriptors:iL,freezeMethods:ule,toObjectSet:cle,toCamelCase:ole,noop:dle,toFiniteNumber:fle,findKey:nL,global:Zh,isContextDefined:rL,ALPHABET:aL,generateString:hle,isSpecCompliantForm:ple,toJSONObject:mle,isAsyncFn:gle,isThenable:ble,setImmediate:sL,asap:yle};function Nn(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ut.inherits(Nn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ut.toJSONObject(this.config),code:this.code,status:this.status}}});const oL=Nn.prototype,lL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{lL[e]={value:e}});Object.defineProperties(Nn,lL);Object.defineProperty(oL,"isAxiosError",{value:!0});Nn.from=(e,n,t,r,i,a)=>{const s=Object.create(oL);return ut.toFlatObject(e,s,function(l){return l!==Error.prototype},l=>l!=="isAxiosError"),Nn.call(s,e.message,n,t,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const xle=null;function m6(e){return ut.isPlainObject(e)||ut.isArray(e)}function uL(e){return ut.endsWith(e,"[]")?e.slice(0,-2):e}function XN(e,n,t){return e?e.concat(n).map(function(r,i){return r=uL(r),!t&&i?"["+r+"]":r}).join(t?".":""):n}function vle(e){return ut.isArray(e)&&!e.some(m6)}const wle=ut.toFlatObject(ut,{},null,function(e){return/^is[A-Z]/.test(e)});function s2(e,n,t){if(!ut.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=ut.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,x){return!ut.isUndefined(x[m])});const r=t.metaTokens,i=t.visitor||d,a=t.dots,s=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&ut.isSpecCompliantForm(n);if(!ut.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(ut.isDate(m))return m.toISOString();if(!l&&ut.isBlob(m))throw new Nn("Blob is not supported. Use a Buffer instead.");return ut.isArrayBuffer(m)||ut.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,x,y){let A=m;if(m&&!y&&typeof m=="object"){if(ut.endsWith(x,"{}"))x=r?x:x.slice(0,-2),m=JSON.stringify(m);else if(ut.isArray(m)&&vle(m)||(ut.isFileList(m)||ut.endsWith(x,"[]"))&&(A=ut.toArray(m)))return x=uL(x),A.forEach(function(w,C){!(ut.isUndefined(w)||w===null)&&n.append(s===!0?XN([x],C,a):s===null?x:x+"[]",u(w))}),!1}return m6(m)?!0:(n.append(XN(y,x,a),u(m)),!1)}const f=[],g=Object.assign(wle,{defaultVisitor:d,convertValue:u,isVisitable:m6});function b(m,x){if(!ut.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(m),ut.forEach(m,function(y,A){(!(ut.isUndefined(y)||y===null)&&i.call(n,y,ut.isString(A)?A.trim():A,x,g))===!0&&b(y,x?x.concat(A):[A])}),f.pop()}}if(!ut.isObject(e))throw new TypeError("data must be an object");return b(e),n}function ZN(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(t){return n[t]})}function HA(e,n){this._pairs=[],e&&s2(e,this,n)}const cL=HA.prototype;cL.append=function(e,n){this._pairs.push([e,n])};cL.toString=function(e){const n=e?function(t){return e.call(this,t,ZN)}:ZN;return this._pairs.map(function(t){return n(t[0])+"="+n(t[1])},"").join("&")};function Sle(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dL(e,n,t){if(!n)return e;const r=t&&t.encode||Sle;ut.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(n,t):a=ut.isURLSearchParams(n)?n.toString():new HA(n,t).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}let JN=class{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ut.forEach(this.handlers,function(t){t!==null&&n(t)})}};const fL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ale=typeof URLSearchParams<"u"?URLSearchParams:HA,Cle=typeof FormData<"u"?FormData:null,Ele=typeof Blob<"u"?Blob:null,_le={isBrowser:!0,classes:{URLSearchParams:Ale,FormData:Cle,Blob:Ele},protocols:["http","https","file","blob","url","data"]},WA=typeof window<"u"&&typeof document<"u",g6=typeof navigator=="object"&&navigator||void 0,kle=WA&&(!g6||["ReactNative","NativeScript","NS"].indexOf(g6.product)<0),Nle=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jle=WA&&window.location.href||"http://localhost",Tle=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:WA,hasStandardBrowserEnv:kle,hasStandardBrowserWebWorkerEnv:Nle,navigator:g6,origin:jle},Symbol.toStringTag,{value:"Module"})),qs={...Tle,..._le};function Ole(e,n){return s2(e,new qs.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return qs.isNode&&ut.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function Ile(e){return ut.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Dle(e){const n={},t=Object.keys(e);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],n[a]=e[a];return n}function hL(e){function n(t,r,i,a){let s=t[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),u=a>=t.length;return s=!s&&ut.isArray(i)?i.length:s,u?(ut.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!ut.isObject(i[s]))&&(i[s]=[]),n(t,r,i[s],a)&&ut.isArray(i[s])&&(i[s]=Dle(i[s])),!l)}if(ut.isFormData(e)&&ut.isFunction(e.entries)){const t={};return ut.forEachEntry(e,(r,i)=>{n(Ile(r),i,t,0)}),t}return null}function Lle(e,n,t){if(ut.isString(e))try{return(n||JSON.parse)(e),ut.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const db={transitional:fL,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const t=n.getContentType()||"",r=t.indexOf("application/json")>-1,i=ut.isObject(e);if(i&&ut.isHTMLForm(e)&&(e=new FormData(e)),ut.isFormData(e))return r?JSON.stringify(hL(e)):e;if(ut.isArrayBuffer(e)||ut.isBuffer(e)||ut.isStream(e)||ut.isFile(e)||ut.isBlob(e)||ut.isReadableStream(e))return e;if(ut.isArrayBufferView(e))return e.buffer;if(ut.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(t.indexOf("application/x-www-form-urlencoded")>-1)return Ole(e,this.formSerializer).toString();if((a=ut.isFileList(e))||t.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return s2(a?{"files[]":e}:e,s&&new s,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),Lle(e)):e}],transformResponse:[function(e){const n=this.transitional||db.transitional,t=n&&n.forcedJSONParsing,r=this.responseType==="json";if(ut.isResponse(e)||ut.isReadableStream(e))return e;if(e&&ut.isString(e)&&(t&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?Nn.from(a,Nn.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qs.classes.FormData,Blob:qs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ut.forEach(["delete","get","head","post","put","patch"],e=>{db.headers[e]={}});const Rle=ut.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mle=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!t||n[t]&&Rle[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},ej=Symbol("internals");function M1(e){return e&&String(e).trim().toLowerCase()}function xx(e){return e===!1||e==null?e:ut.isArray(e)?e.map(xx):String(e)}function Fle(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const Ple=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function qw(e,n,t,r,i){if(ut.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!ut.isString(n)){if(ut.isString(r))return n.indexOf(r)!==-1;if(ut.isRegExp(r))return r.test(n)}}function zle(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function qle(e,n){const t=ut.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,a,s){return this[r].call(this,n,i,a,s)},configurable:!0})})}class vo{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function a(l,u,d){const f=M1(u);if(!f)throw new Error("header name must be a non-empty string");const g=ut.findKey(i,f);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||u]=xx(l))}const s=(l,u)=>ut.forEach(l,(d,f)=>a(d,f,u));if(ut.isPlainObject(n)||n instanceof this.constructor)s(n,t);else if(ut.isString(n)&&(n=n.trim())&&!Ple(n))s(Mle(n),t);else if(ut.isHeaders(n))for(const[l,u]of n.entries())a(u,l,r);else n!=null&&a(t,n,r);return this}get(n,t){if(n=M1(n),n){const r=ut.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return Fle(i);if(ut.isFunction(t))return t.call(this,i,r);if(ut.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=M1(n),n){const r=ut.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||qw(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function a(s){if(s=M1(s),s){const l=ut.findKey(r,s);l&&(!t||qw(r,r[l],l,t))&&(delete r[l],i=!0)}}return ut.isArray(n)?n.forEach(a):a(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!n||qw(this,this[a],a,n,!0))&&(delete this[a],i=!0)}return i}normalize(n){const t=this,r={};return ut.forEach(this,(i,a)=>{const s=ut.findKey(r,a);if(s){t[s]=xx(i),delete t[a];return}const l=n?zle(a):String(a).trim();l!==a&&delete t[a],t[l]=xx(i),r[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return ut.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&ut.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const t=(this[ej]=this[ej]={accessors:{}}).accessors,r=this.prototype;function i(a){const s=M1(a);t[s]||(qle(r,a),t[s]=!0)}return ut.isArray(n)?n.forEach(i):i(n),this}}vo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ut.reduceDescriptors(vo.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});ut.freezeMethods(vo);function Bw(e,n){const t=this||db,r=n||t,i=vo.from(r.headers);let a=r.data;return ut.forEach(e,function(s){a=s.call(t,a,i.normalize(),n?n.status:void 0)}),i.normalize(),a}function pL(e){return!!(e&&e.__CANCEL__)}function vm(e,n,t){Nn.call(this,e??"canceled",Nn.ERR_CANCELED,n,t),this.name="CanceledError"}ut.inherits(vm,Nn,{__CANCEL__:!0});function mL(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new Nn("Request failed with status code "+t.status,[Nn.ERR_BAD_REQUEST,Nn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Ble(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function Ule(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,a=0,s;return n=n!==void 0?n:1e3,function(l){const u=Date.now(),d=r[a];s||(s=u),t[i]=l,r[i]=u;let f=a,g=0;for(;f!==i;)g+=t[f++],f=f%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-s<n)return;const b=d&&u-d;return b?Math.round(g*1e3/b):void 0}}function $le(e,n){let t=0,r=1e3/n,i,a;const s=(l,u=Date.now())=>{t=u,i=null,a&&(clearTimeout(a),a=null),e.apply(null,l)};return[(...l)=>{const u=Date.now(),d=u-t;d>=r?s(l,u):(i=l,a||(a=setTimeout(()=>{a=null,s(i)},r-d)))},()=>i&&s(i)]}const nv=(e,n,t=3)=>{let r=0;const i=Ule(50,250);return $le(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,u=s-r,d=i(u),f=s<=l;r=s;const g={loaded:s,total:l,progress:l?s/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&f?(l-s)/d:void 0,event:a,lengthComputable:l!=null,[n?"download":"upload"]:!0};e(g)},t)},tj=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},nj=e=>(...n)=>ut.asap(()=>e(...n)),Hle=qs.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,qs.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(qs.origin),qs.navigator&&/(msie|trident)/i.test(qs.navigator.userAgent)):()=>!0,Wle=qs.hasStandardBrowserEnv?{write(e,n,t,r,i,a){const s=[e+"="+encodeURIComponent(n)];ut.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),ut.isString(r)&&s.push("path="+r),ut.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Vle(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Yle(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function gL(e,n){return e&&!Vle(n)?Yle(e,n):n}const rj=e=>e instanceof vo?{...e}:e;function bp(e,n){n=n||{};const t={};function r(d,f,g,b){return ut.isPlainObject(d)&&ut.isPlainObject(f)?ut.merge.call({caseless:b},d,f):ut.isPlainObject(f)?ut.merge({},f):ut.isArray(f)?f.slice():f}function i(d,f,g,b){if(ut.isUndefined(f)){if(!ut.isUndefined(d))return r(void 0,d,g,b)}else return r(d,f,g,b)}function a(d,f){if(!ut.isUndefined(f))return r(void 0,f)}function s(d,f){if(ut.isUndefined(f)){if(!ut.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function l(d,f,g){if(g in n)return r(d,f);if(g in e)return r(void 0,d)}const u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(d,f,g)=>i(rj(d),rj(f),g,!0)};return ut.forEach(Object.keys(Object.assign({},e,n)),function(d){const f=u[d]||i,g=f(e[d],n[d],d);ut.isUndefined(g)&&f!==l||(t[d]=g)}),t}const bL=e=>{const n=bp({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=n;n.headers=s=vo.from(s),n.url=dL(gL(n.baseURL,n.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(ut.isFormData(t)){if(qs.hasStandardBrowserEnv||qs.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((u=s.getContentType())!==!1){const[d,...f]=u?u.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...f].join("; "))}}if(qs.hasStandardBrowserEnv&&(r&&ut.isFunction(r)&&(r=r(n)),r||r!==!1&&Hle(n.url))){const d=i&&a&&Wle.read(a);d&&s.set(i,d)}return n},Gle=typeof XMLHttpRequest<"u",Qle=Gle&&function(e){return new Promise(function(n,t){const r=bL(e);let i=r.data;const a=vo.from(r.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:u}=r,d,f,g,b,m;function x(){b&&b(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function A(){if(!y)return;const C=vo.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),N={data:!s||s==="text"||s==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:e,request:y};mL(function(R){n(R),x()},function(R){t(R),x()},N),y=null}"onloadend"in y?y.onloadend=A:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(A)},y.onabort=function(){y&&(t(new Nn("Request aborted",Nn.ECONNABORTED,e,y)),y=null)},y.onerror=function(){t(new Nn("Network Error",Nn.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const N=r.transitional||fL;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),t(new Nn(C,N.clarifyTimeoutError?Nn.ETIMEDOUT:Nn.ECONNABORTED,e,y)),y=null},i===void 0&&a.setContentType(null),"setRequestHeader"in y&&ut.forEach(a.toJSON(),function(C,N){y.setRequestHeader(N,C)}),ut.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),s&&s!=="json"&&(y.responseType=r.responseType),u&&([g,m]=nv(u,!0),y.addEventListener("progress",g)),l&&y.upload&&([f,b]=nv(l),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(d=C=>{y&&(t(!C||C.type?new vm(null,e,y):C),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const w=Ble(r.url);if(w&&qs.protocols.indexOf(w)===-1){t(new Nn("Unsupported protocol "+w+":",Nn.ERR_BAD_REQUEST,e));return}y.send(i||null)})},Kle=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const a=function(d){if(!i){i=!0,l();const f=d instanceof Error?d:this.reason;r.abort(f instanceof Nn?f:new vm(f instanceof Error?f.message:f))}};let s=n&&setTimeout(()=>{s=null,a(new Nn(`timeout ${n} of ms exceeded`,Nn.ETIMEDOUT))},n);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>ut.asap(l),u}},Xle=function*(e,n){let t=e.byteLength;if(t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},Zle=async function*(e,n){for await(const t of Jle(e))yield*Xle(t,n)},Jle=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},ij=(e,n,t,r)=>{const i=Zle(e,n);let a=0,s,l=u=>{s||(s=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await i.next();if(d){l(),u.close();return}let g=f.byteLength;if(t){let b=a+=g;t(b)}u.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},o2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",yL=o2&&typeof ReadableStream=="function",eue=o2&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),xL=(e,...n)=>{try{return!!e(...n)}catch{return!1}},tue=yL&&xL(()=>{let e=!1;const n=new Request(qs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),aj=64*1024,b6=yL&&xL(()=>ut.isReadableStream(new Response("").body)),rv={stream:b6&&(e=>e.body)};o2&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!rv[n]&&(rv[n]=ut.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new Nn(`Response type '${n}' is not supported`,Nn.ERR_NOT_SUPPORT,r)})})})(new Response);const nue=async e=>{if(e==null)return 0;if(ut.isBlob(e))return e.size;if(ut.isSpecCompliantForm(e))return(await new Request(qs.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ut.isArrayBufferView(e)||ut.isArrayBuffer(e))return e.byteLength;if(ut.isURLSearchParams(e)&&(e=e+""),ut.isString(e))return(await eue(e)).byteLength},rue=async(e,n)=>ut.toFiniteNumber(e.getContentLength())??nue(n),iue=o2&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:f,withCredentials:g="same-origin",fetchOptions:b}=bL(e);d=d?(d+"").toLowerCase():"text";let m=Kle([i,a&&a.toAbortSignal()],s),x;const y=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let A;try{if(u&&tue&&t!=="get"&&t!=="head"&&(A=await rue(f,r))!==0){let F=new Request(n,{method:"POST",body:r,duplex:"half"}),q;if(ut.isFormData(r)&&(q=F.headers.get("content-type"))&&f.setContentType(q),F.body){const[k,L]=tj(A,nv(nj(u)));r=ij(F.body,aj,k,L)}}ut.isString(g)||(g=g?"include":"omit");const w="credentials"in Request.prototype;x=new Request(n,{...b,signal:m,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:w?g:void 0});let C=await fetch(x);const N=b6&&(d==="stream"||d==="response");if(b6&&(l||N&&y)){const F={};["status","statusText","headers"].forEach(B=>{F[B]=C[B]});const q=ut.toFiniteNumber(C.headers.get("content-length")),[k,L]=l&&tj(q,nv(nj(l),!0))||[];C=new Response(ij(C.body,aj,k,()=>{L&&L(),y&&y()}),F)}d=d||"text";let R=await rv[ut.findKey(rv,d)||"text"](C,e);return!N&&y&&y(),await new Promise((F,q)=>{mL(F,q,{data:R,headers:vo.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:x})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new Nn("Network Error",Nn.ERR_NETWORK,e,x),{cause:w.cause||w}):Nn.from(w,w&&w.code,e,x)}}),y6={http:xle,xhr:Qle,fetch:iue};ut.forEach(y6,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const sj=e=>`- ${e}`,aue=e=>ut.isFunction(e)||e===null||e===!1,vL={getAdapter:e=>{e=ut.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let a=0;a<n;a++){t=e[a];let s;if(r=t,!aue(t)&&(r=y6[(s=String(t)).toLowerCase()],r===void 0))throw new Nn(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(sj).join(`
`):" "+sj(a[0]):"as no adapter specified";throw new Nn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:y6};function Uw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new vm(null,e)}function oj(e){return Uw(e),e.headers=vo.from(e.headers),e.data=Bw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vL.getAdapter(e.adapter||db.adapter)(e).then(function(n){return Uw(e),n.data=Bw.call(e,e.transformResponse,n),n.headers=vo.from(n.headers),n},function(n){return pL(n)||(Uw(e),n&&n.response&&(n.response.data=Bw.call(e,e.transformResponse,n.response),n.response.headers=vo.from(n.response.headers))),Promise.reject(n)})}const wL="1.7.9",l2={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{l2[e]=function(t){return typeof t===e||"a"+(n<1?"n ":" ")+e}});const lj={};l2.transitional=function(e,n,t){function r(i,a){return"[Axios v"+wL+"] Transitional option '"+i+"'"+a+(t?". "+t:"")}return(i,a,s)=>{if(e===!1)throw new Nn(r(a," has been removed"+(n?" in "+n:"")),Nn.ERR_DEPRECATED);return n&&!lj[a]&&(lj[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,s):!0}};l2.spelling=function(e){return(n,t)=>(console.warn(`${t} is likely a misspelling of ${e}`),!0)};function sue(e,n,t){if(typeof e!="object")throw new Nn("options must be an object",Nn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=n[a];if(s){const l=e[a],u=l===void 0||s(l,a,e);if(u!==!0)throw new Nn("option "+a+" must be "+u,Nn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Nn("Unknown option "+a,Nn.ERR_BAD_OPTION)}}const vx={assertOptions:sue,validators:l2},ac=vx.validators;let op=class{constructor(n){this.defaults=n,this.interceptors={request:new JN,response:new JN}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=bp(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&vx.assertOptions(r,{silentJSONParsing:ac.transitional(ac.boolean),forcedJSONParsing:ac.transitional(ac.boolean),clarifyTimeoutError:ac.transitional(ac.boolean)},!1),i!=null&&(ut.isFunction(i)?t.paramsSerializer={serialize:i}:vx.assertOptions(i,{encode:ac.function,serialize:ac.function},!0)),vx.assertOptions(t,{baseUrl:ac.spelling("baseURL"),withXsrfToken:ac.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&ut.merge(a.common,a[t.method]);a&&ut.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),t.headers=vo.concat(s,a);const l=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(u=u&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let f,g=0,b;if(!u){const x=[oj.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),b=x.length,f=Promise.resolve(t);g<b;)f=f.then(x[g++],x[g++]);return f}b=l.length;let m=t;for(g=0;g<b;){const x=l[g++],y=l[g++];try{m=x(m)}catch(A){y.call(this,A);break}}try{f=oj.call(this,m)}catch(x){return Promise.reject(x)}for(g=0,b=d.length;g<b;)f=f.then(d[g++],d[g++]);return f}getUri(n){n=bp(this.defaults,n);const t=gL(n.baseURL,n.url);return dL(t,n.params,n.paramsSerializer)}};ut.forEach(["delete","get","head","options"],function(e){op.prototype[e]=function(n,t){return this.request(bp(t||{},{method:e,url:n,data:(t||{}).data}))}});ut.forEach(["post","put","patch"],function(e){function n(t){return function(r,i,a){return this.request(bp(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}op.prototype[e]=n(),op.prototype[e+"Form"]=n(!0)});let oue=class SL{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(l=>{r.subscribe(l),a=l}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},n(function(i,a,s){r.reason||(r.reason=new vm(i,a,s),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new SL(function(t){n=t}),cancel:n}}};function lue(e){return function(n){return e.apply(null,n)}}function uue(e){return ut.isObject(e)&&e.isAxiosError===!0}const x6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(x6).forEach(([e,n])=>{x6[n]=e});function AL(e){const n=new op(e),t=JD(op.prototype.request,n);return ut.extend(t,op.prototype,n,{allOwnKeys:!0}),ut.extend(t,n,null,{allOwnKeys:!0}),t.create=function(r){return AL(bp(e,r))},t}const Fi=AL(db);Fi.Axios=op;Fi.CanceledError=vm;Fi.CancelToken=oue;Fi.isCancel=pL;Fi.VERSION=wL;Fi.toFormData=s2;Fi.AxiosError=Nn;Fi.Cancel=Fi.CanceledError;Fi.all=function(e){return Promise.all(e)};Fi.spread=lue;Fi.isAxiosError=uue;Fi.mergeConfig=bp;Fi.AxiosHeaders=vo;Fi.formToJSON=e=>hL(ut.isHTMLForm(e)?new FormData(e):e);Fi.getAdapter=vL.getAdapter;Fi.HttpStatusCode=x6;Fi.default=Fi;const cue=async e=>{const n=new FormData;n.append("chatbot_id",e);try{const t=await Fi.post("https://rag-flask-api.onrender.com/start_conversation",n,{headers:{"Content-Type":"multipart/form-data"}}),{conversation_id:r,intro_message:i}=t.data;if(!r)throw new Error("Failed to retrieve conversation ID from server.");return{conversationId:r,introMessage:i}}catch(t){throw console.error("Error starting conversation:",t),t}},due=async(e,n,t)=>{const r=new FormData;r.append("chatbot_id",e),r.append("conversation_id",n),r.append("question",t);try{return(await Fi.post("https://rag-flask-api.onrender.com/ask",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(i){throw console.error("Error sending message:",i),i}},fue=async(e,n)=>{const t=new FormData;t.append("chatbot_id",e),t.append("conversation_id",n);try{await Fi.post("https://rag-flask-api.onrender.com/end_conversation",t,{headers:{"Content-Type":"multipart/form-data"}})}catch(r){throw console.error("Error ending conversation:",r),r}},hue=async e=>{try{const n=await Fi.get(`https://rag-flask-api.onrender.com/summary/${e}`);if(n.status===200&&n.data.summary)return n.data.summary;throw new Error("Summary not found for this chatbot.")}catch(n){throw console.error("Error fetching summary:",n),n}},pue=({chatbotId:e,open:n,onClose:t})=>{const[r,i]=Q.useState(null),[a,s]=Q.useState(!1),[l,u]=Q.useState(null),d=async()=>{s(!0),u(null);try{const f=await hue(e);i(f)}catch(f){u(f.message||"Failed to fetch summary. Please try again.")}finally{s(!1)}};return Q.useEffect(()=>{n&&d()},[n]),gn.jsx(kx,{open:n,onClose:t,"aria-labelledby":"summary-modal-title","aria-describedby":"summary-modal-description",children:gn.jsxs(fe,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:600,bgcolor:"background.paper",borderRadius:4,boxShadow:24,p:4},children:[gn.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[gn.jsx(de,{id:"summary-modal-title",variant:"h6",component:"h2",children:"Document Summary"}),gn.jsx(On,{onClick:t,children:gn.jsx(Doe,{})})]}),a?gn.jsx(fe,{sx:{display:"flex",justifyContent:"center",my:4},children:gn.jsx(Jr,{})}):l?gn.jsx(de,{color:"error",children:l}):gn.jsx(fe,{sx:{maxHeight:300,overflowY:"auto",padding:2,border:"1px solid #ddd",borderRadius:2,backgroundColor:"#f9f9f9"},children:gn.jsx(DA,{children:r})}),gn.jsx(At,{variant:"contained",sx:{mt:2},onClick:t,fullWidth:!0,children:"Close"})]})})},mue=Q.forwardRef(({chatbotId:e,onConversationStart:n},t)=>{const[r,i]=Q.useState(!1),[a,s]=Q.useState(()=>{const q=localStorage.getItem("responses");return q?JSON.parse(q):[]}),[l,u]=Q.useState(()=>localStorage.getItem("conversationId")||null),[d,f]=Q.useState(!1),[g,b]=Q.useState(null),[m,x]=Q.useState(!1),y=Cx("(max-width:600px)"),A=Cx("(min-width:601px) and (max-width:960px)"),w=Q.useRef(null);Q.useEffect(()=>{typeof n=="function"&&l&&n(l)},[l,n]),Q.useEffect(()=>{w.current&&w.current.scrollIntoView({behavior:"smooth"})},[a]);const C=async()=>{i(q=>!q),!r&&!l&&!d&&N()},N=async()=>{if(!l){f(!0),b(null);try{const q=await cue(e),{conversationId:k,introMessage:L}=q;u(k),localStorage.setItem("conversationId",k),s(B=>{const X=[...B,{id:"intro",sender:"chatbot",text:L}];return localStorage.setItem("responses",JSON.stringify(X)),X})}catch(q){console.error("Error starting conversation:",q),b("Failed to start a conversation. Please try again.")}finally{f(!1)}}},R=async(q,k=l)=>{f(!0),b(null);try{const L=await due(e,k,q);s(B=>{const X=[...B,{question:q,answer:L.answer}];return localStorage.setItem("responses",JSON.stringify(X)),X})}catch(L){console.error("Error sending message:",L),b("Failed to send the message. Please try again.")}finally{f(!1)}},F=async()=>{f(!0),b(null);try{l&&await fue(e,l),u(null),s([]),localStorage.removeItem("conversationId"),localStorage.removeItem("responses")}catch(q){console.error("Error ending conversation:",q),b("Failed to end the conversation. Please try again.")}finally{f(!1)}};return Q.useImperativeHandle(t,()=>({endConversation:F})),gn.jsx(gn.Fragment,{children:r?gn.jsxs(Sn,{elevation:3,sx:Pw.chatContainer(y,A),children:[gn.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[gn.jsx(de,{sx:Pw.chatHeader,children:"PAT (Personalized Academic Tutor)"}),gn.jsx(On,{onClick:C,sx:{color:"black"},children:"X"})]}),gn.jsx(joe,{responses:a}),gn.jsx("div",{ref:w}),d&&gn.jsx(Ko,{sx:{position:"absolute",top:0,left:0,width:"100%"}}),g&&gn.jsx(de,{color:"error",children:g}),gn.jsx(Toe,{onSendMessage:R,onStartConversation:N,onEndConversation:F,conversationId:l}),gn.jsx(At,{variant:"outlined",onClick:()=>x(!0),sx:{mt:2},children:"View Summary"}),gn.jsx(pue,{chatbotId:e,open:m,onClose:()=>x(!1)})]}):gn.jsx(On,{onClick:C,sx:Pw.chatToggleButton,children:gn.jsx(Noe,{fontSize:"large"})})})});class gue extends Q.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(n){console.error("Error caught by ErrorBoundary:",n)}render(){return this.state.hasError?h.jsx("h2",{children:"Something went wrong while loading the Chatbot."}):this.props.children}}const CL=Q.forwardRef(({chatbotId:e},n)=>{const{userDetails:t}=Ai(),r=Q.useRef(null),[i,a]=Q.useState(!1),s=async l=>{if(console.log(` Chatbot started. Chatbot ID: ${e}, Conversation ID: ${l}`),t!=null&&t.uid)try{await pT(bn(OT,"conversations",l),{conversationId:l,chatbotId:e,userId:t.uid,startedAt:new Date().toISOString()},{merge:!0}),console.log("Conversation saved to Firestore")}catch(u){console.error("Failed to save conversation:",u)}};return Q.useImperativeHandle(n,()=>({endConversation:()=>{r.current&&(console.log("Ending chatbot conversation..."),r.current.endConversation())}})),h.jsx(fe,{sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end"},children:h.jsxs(fe,{sx:{background:i?"rgba(255, 255, 255, 0.95)":"#0B53C0",borderRadius:4,boxShadow:i?"0 8px 32px rgba(0, 0, 0, 0.12)":"0 2px 8px rgba(0, 0, 0, 0.15)",overflow:"hidden",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:i?"1px solid #e0e0e0":"none",minWidth:i?400:"auto",maxWidth:i?450:"auto"},children:[h.jsxs(At,{variant:"text",onClick:()=>a(!i),sx:{background:i?"#0B53C0 !important":"transparent !important",backgroundColor:i?"#0B53C0 !important":"transparent !important",color:"white !important",px:2.5,py:1.5,borderRadius:i?"16px 16px 0 0":"12px",textTransform:"none",display:"flex",alignItems:"center",gap:1.5,minWidth:"auto",width:"100%",justifyContent:"flex-start","&:hover":{background:"#064a9e !important",backgroundColor:"#064a9e !important",boxShadow:i?"none":"0px 4px 12px rgba(11, 83, 192, 0.3)"},"&:active":{background:"#064a9e !important",backgroundColor:"#064a9e !important"},"&:focus":{background:i?"#0B53C0 !important":"#064a9e !important",backgroundColor:i?"#0B53C0 !important":"#064a9e !important"},"&.Mui-focusVisible":{background:i?"#0B53C0 !important":"#064a9e !important",backgroundColor:i?"#0B53C0 !important":"#064a9e !important"},transition:"all 0.2s ease-in-out"},children:[h.jsx(oT,{sx:{fontSize:"1.5rem",color:"white !important"}}),h.jsxs(fe,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",lineHeight:1,flex:1},children:[h.jsx(de,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",mb:0,lineHeight:1.1,color:"white !important"},children:"Chat with PAT"}),h.jsx(de,{variant:"caption",sx:{fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",opacity:.9,lineHeight:1,mt:.2,color:"white !important"},children:"AI Tutor"})]}),i?h.jsx(lg,{sx:{fontSize:"1.2rem",color:"white !important"}}):h.jsx(Wo,{sx:{fontSize:"1.2rem",color:"white !important"}})]}),h.jsx(og,{in:i,timeout:300,easing:{enter:"cubic-bezier(0.4, 0, 0.2, 1)",exit:"cubic-bezier(0.4, 0, 0.6, 1)"},children:h.jsx(fe,{sx:{background:"white",borderRadius:"0 0 16px 16px",overflow:"hidden"},children:h.jsx(gue,{children:h.jsx(mue,{ref:r,chatbotId:e,onConversationStart:s})})})})]})})});CL.displayName="ChatbotWrapper";const F1="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",bue=()=>{const[e,n]=Q.useState(F1),[t]=$g(),r=Q.useRef(null);return Q.useEffect(()=>{const i=t.get("material");if(!i){e!==F1&&n(F1);return}(async()=>{var f;console.log("Fetching chatbot ID for material:",i);const s=Zn(),l=xn(s,"chatbots"),u=tl(l,wi("material.id","==",i)),d=await pi(u);if(d.empty)console.log(` No chatbot found for material ${i}, using default:`,F1),n(F1);else{const g=d.docs[0].data();console.log(` Found chatbot for material ${i}:`,g.chatbotId),g.chatbotId!==e&&((f=r.current)==null||f.endConversation()),n(g.chatbotId)}})()},[t,e]),h.jsx(fe,{sx:{position:"fixed",bottom:16,right:16,zIndex:1100},children:h.jsx(CL,{ref:r,chatbotId:e})})};function fb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Yd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var uj={exports:{}},P1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cj;function yue(){if(cj)return P1;cj=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return P1.Fragment=n,P1.jsx=t,P1.jsxs=t,P1}var dj;function hb(){return dj||(dj=1,uj.exports=yue()),uj.exports}var Kt=hb(),z1={},fj={exports:{}},hj;function wm(){return hj||(hj=1,function(e){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(fj)),fj.exports}var pj={};function Yr(){return Yr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Yr.apply(null,arguments)}function Pf(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function EL(e){if(Q.isValidElement(e)||!Pf(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=EL(e[t])}),n}function Ic(e,n,t={clone:!0}){const r=t.clone?Yr({},e):e;return Pf(e)&&Pf(n)&&Object.keys(n).forEach(i=>{Q.isValidElement(n[i])?r[i]=n[i]:Pf(n[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Pf(e[i])?r[i]=Ic(e[i],n[i],t):t.clone?r[i]=Pf(n[i])?EL(n[i]):n[i]:r[i]=n[i]}),r}const xue=Object.freeze(Object.defineProperty({__proto__:null,default:Ic,isPlainObject:Pf},Symbol.toStringTag,{value:"Module"}));function Dg(e){let n="https://mui.com/production-error/?code="+e;for(let t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}const vue=Object.freeze(Object.defineProperty({__proto__:null,default:Dg},Symbol.toStringTag,{value:"Module"}));var mj={exports:{}},Hr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gj;function wue(){if(gj)return Hr;gj=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function x(y){if(typeof y=="object"&&y!==null){var A=y.$$typeof;switch(A){case e:switch(y=y.type,y){case t:case i:case r:case u:case d:case b:return y;default:switch(y=y&&y.$$typeof,y){case s:case l:case g:case f:return y;case a:return y;default:return A}}case n:return A}}}return Hr.ContextConsumer=a,Hr.ContextProvider=s,Hr.Element=e,Hr.ForwardRef=l,Hr.Fragment=t,Hr.Lazy=g,Hr.Memo=f,Hr.Portal=n,Hr.Profiler=i,Hr.StrictMode=r,Hr.Suspense=u,Hr.SuspenseList=d,Hr.isContextConsumer=function(y){return x(y)===a},Hr.isContextProvider=function(y){return x(y)===s},Hr.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Hr.isForwardRef=function(y){return x(y)===l},Hr.isFragment=function(y){return x(y)===t},Hr.isLazy=function(y){return x(y)===g},Hr.isMemo=function(y){return x(y)===f},Hr.isPortal=function(y){return x(y)===n},Hr.isProfiler=function(y){return x(y)===i},Hr.isStrictMode=function(y){return x(y)===r},Hr.isSuspense=function(y){return x(y)===u},Hr.isSuspenseList=function(y){return x(y)===d},Hr.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===u||y===d||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===f||y.$$typeof===s||y.$$typeof===a||y.$$typeof===l||y.$$typeof===m||y.getModuleId!==void 0)},Hr.typeOf=x,Hr}var bj;function Sue(){return bj||(bj=1,mj.exports=wue()),mj.exports}var yj=Sue();const Aue=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function _L(e){const n=`${e}`.match(Aue);return n&&n[1]||""}function kL(e,n=""){return e.displayName||e.name||_L(e)||n}function xj(e,n,t){const r=kL(n);return e.displayName||(r!==""?`${t}(${r})`:t)}function Cue(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return kL(e,"Component");if(typeof e=="object")switch(e.$$typeof){case yj.ForwardRef:return xj(e,e.render,"ForwardRef");case yj.Memo:return xj(e,e.type,"memo");default:return}}}const Eue=Object.freeze(Object.defineProperty({__proto__:null,default:Cue,getFunctionName:_L},Symbol.toStringTag,{value:"Module"}));function sh(e){if(typeof e!="string")throw new Error(Dg(7));return e.charAt(0).toUpperCase()+e.slice(1)}const _ue=Object.freeze(Object.defineProperty({__proto__:null,default:sh},Symbol.toStringTag,{value:"Module"}));function kue(...e){return e.reduce((n,t)=>t==null?n:function(...r){n.apply(this,r),t.apply(this,r)},()=>{})}function Nue(e,n=166){let t;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(t),t=setTimeout(a,n)}return r.clear=()=>{clearTimeout(t)},r}function jue(e,n){return()=>null}function Tue(e,n){var t,r;return Q.isValidElement(e)&&n.indexOf((t=e.type.muiName)!=null?t:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function NL(e){return e&&e.ownerDocument||document}function Oue(e){return NL(e).defaultView||window}function Iue(e,n){return()=>null}function jL(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const TL=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;let vj=0;function Due(e){const[n,t]=Q.useState(e),r=e||n;return Q.useEffect(()=>{n==null&&(vj+=1,t(`mui-${vj}`))},[n]),r}const wj=Q.useId;function Lue(e){if(wj!==void 0){const n=wj();return e??n}return Due(e)}function Rue(e,n,t,r,i){return null}function Mue({controlled:e,default:n,name:t,state:r="value"}){const{current:i}=Q.useRef(e!==void 0),[a,s]=Q.useState(n),l=i?e:a,u=Q.useCallback(d=>{i||s(d)},[]);return[l,u]}function Fue(e){const n=Q.useRef(e);return TL(()=>{n.current=e}),Q.useRef((...t)=>(0,n.current)(...t)).current}function Pue(...e){return Q.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(t=>{jL(t,n)})},e)}class VA{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new VA}start(n,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},n)}}let u2=!0,v6=!1;const zue=new VA,que={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Bue(e){const{type:n,tagName:t}=e;return!!(t==="INPUT"&&que[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Uue(e){e.metaKey||e.altKey||e.ctrlKey||(u2=!0)}function $w(){u2=!1}function $ue(){this.visibilityState==="hidden"&&v6&&(u2=!0)}function Hue(e){e.addEventListener("keydown",Uue,!0),e.addEventListener("mousedown",$w,!0),e.addEventListener("pointerdown",$w,!0),e.addEventListener("touchstart",$w,!0),e.addEventListener("visibilitychange",$ue,!0)}function Wue(e){const{target:n}=e;try{return n.matches(":focus-visible")}catch{}return u2||Bue(n)}function Vue(){const e=Q.useCallback(i=>{i!=null&&Hue(i.ownerDocument)},[]),n=Q.useRef(!1);function t(){return n.current?(v6=!0,zue.start(100,()=>{v6=!1}),n.current=!1,!0):!1}function r(i){return Wue(i)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:r,onBlur:t,ref:e}}function w6(e,n){const t=Yr({},n);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Yr({},e[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},a=n[r];t[r]={},!a||!Object.keys(a)?t[r]=i:!i||!Object.keys(i)?t[r]=a:(t[r]=Yr({},a),Object.keys(i).forEach(s=>{t[r][s]=w6(i[s],a[s])}))}else t[r]===void 0&&(t[r]=e[r])}),t}function Yue(e,n,t=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,s)=>{if(s){const l=n(s);l!==""&&a.push(l),t&&t[s]&&a.push(t[s])}return a},[]).join(" ")}),r}const Sj=e=>e,Gue=()=>{let e=Sj;return{configure(n){e=n},generate(n){return e(n)},reset(){e=Sj}}},OL=Gue(),Que={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function IL(e,n,t="Mui"){const r=Que[n];return r?`${t}-${r}`:`${OL.generate(e)}-${n}`}function Kue(e,n,t="Mui"){const r={};return n.forEach(i=>{r[i]=IL(e,i,t)}),r}function Xue(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(e,t))}const Zue=Object.freeze(Object.defineProperty({__proto__:null,default:Xue},Symbol.toStringTag,{value:"Module"}));function ph(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function DL(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=DL(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Jue(){for(var e,n,t=0,r="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=DL(e))&&(r&&(r+=" "),r+=n);return r}const ece=Q.createContext(void 0);function tce(e){const{theme:n,name:t,props:r}=e;if(!n||!n.components||!n.components[t])return r;const i=n.components[t];return i.defaultProps?w6(i.defaultProps,r):!i.styleOverrides&&!i.variants?w6(i,r):r}function nce({props:e,name:n}){const t=Q.useContext(ece);return tce({props:e,name:n,theme:{components:t}})}function rce(e){return nce(e)}var $h={},Aj={exports:{}},Cj;function ice(){return Cj||(Cj=1,function(e){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)({}).hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Aj)),Aj.exports}var Ej={exports:{}},_j;function ace(){return _j||(_j=1,function(e){function n(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;i[a]=t[a]}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Ej)),Ej.exports}function sce(e){for(var n=0,t,r=0,i=e.length;i>=4;++r,i-=4)t=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,n=(t&65535)*1540483477+((t>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(i){case 3:n^=(e.charCodeAt(r+2)&255)<<16;case 2:n^=(e.charCodeAt(r+1)&255)<<8;case 1:n^=e.charCodeAt(r)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var oce={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function lce(e){var n=Object.create(null);return function(t){return n[t]===void 0&&(n[t]=e(t)),n[t]}}var uce=/[A-Z]|^ms/g,cce=/_EMO_([^_]+?)_([^]*?)_EMO_/g,LL=function(e){return e.charCodeAt(1)===45},kj=function(e){return e!=null&&typeof e!="boolean"},Hw=lce(function(e){return LL(e)?e:e.replace(uce,"-$&").toLowerCase()}),Nj=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(cce,function(t,r,i){return Wf={name:r,styles:i,next:Wf},r})}return oce[e]!==1&&!LL(e)&&typeof n=="number"&&n!==0?n+"px":n};function iv(e,n,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Wf={name:i.name,styles:i.styles,next:Wf},i.name;var a=t;if(a.styles!==void 0){var s=a.next;if(s!==void 0)for(;s!==void 0;)Wf={name:s.name,styles:s.styles,next:Wf},s=s.next;var l=a.styles+";";return l}return dce(e,n,t)}}var u=t;return u}function dce(e,n,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=iv(e,n,t[i])+";";else for(var a in t){var s=t[a];if(typeof s!="object"){var l=s;kj(l)&&(r+=Hw(a)+":"+Nj(a,l)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&n==null)for(var u=0;u<s.length;u++)kj(s[u])&&(r+=Hw(a)+":"+Nj(a,s[u])+";");else{var d=iv(e,n,s);switch(a){case"animation":case"animationName":{r+=Hw(a)+":"+d+";";break}default:r+=a+"{"+d+"}"}}}return r}var jj=/label:\s*([^\s;{]+)\s*(;|$)/g,Wf;function fce(e,n,t){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Wf=void 0;var a=e[0];if(a==null||a.raw===void 0)r=!1,i+=iv(t,n,a);else{var s=a;i+=s[0]}for(var l=1;l<e.length;l++)if(i+=iv(t,n,e[l]),r){var u=a;i+=u[l]}jj.lastIndex=0;for(var d="",f;(f=jj.exec(i))!==null;)d+="-"+f[1];var g=sce(i)+d;return{name:g,styles:i,next:Wf}}function hce(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function pce(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var mce=function(){function e(t){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(t){t.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(pce(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=hce(r);try{i.insertRule(t,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach(function(t){var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)}),this.tags=[],this.ctr=0},e}(),Ls="-ms-",av="-moz-",gr="-webkit-",RL="comm",YA="rule",GA="decl",gce="@import",ML="@keyframes",bce="@layer",yce=Math.abs,c2=String.fromCharCode,xce=Object.assign;function vce(e,n){return ps(e,0)^45?(((n<<2^ps(e,0))<<2^ps(e,1))<<2^ps(e,2))<<2^ps(e,3):0}function FL(e){return e.trim()}function wce(e,n){return(e=n.exec(e))?e[0]:e}function yr(e,n,t){return e.replace(n,t)}function S6(e,n){return e.indexOf(n)}function ps(e,n){return e.charCodeAt(n)|0}function Lg(e,n,t){return e.slice(n,t)}function hc(e){return e.length}function QA(e){return e.length}function Yy(e,n){return n.push(e),e}function Sce(e,n){return e.map(n).join("")}var d2=1,dm=1,PL=0,So=0,ja=0,Sm="";function f2(e,n,t,r,i,a,s){return{value:e,root:n,parent:t,type:r,props:i,children:a,line:d2,column:dm,length:s,return:""}}function q1(e,n){return xce(f2("",null,null,"",null,null,0),e,{length:-e.length},n)}function Ace(){return ja}function Cce(){return ja=So>0?ps(Sm,--So):0,dm--,ja===10&&(dm=1,d2--),ja}function el(){return ja=So<PL?ps(Sm,So++):0,dm++,ja===10&&(dm=1,d2++),ja}function Dc(){return ps(Sm,So)}function wx(){return So}function pb(e,n){return Lg(Sm,e,n)}function Rg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zL(e){return d2=dm=1,PL=hc(Sm=e),So=0,[]}function qL(e){return Sm="",e}function Sx(e){return FL(pb(So-1,A6(e===91?e+2:e===40?e+1:e)))}function Ece(e){for(;(ja=Dc())&&ja<33;)el();return Rg(e)>2||Rg(ja)>3?"":" "}function _ce(e,n){for(;--n&&el()&&!(ja<48||ja>102||ja>57&&ja<65||ja>70&&ja<97););return pb(e,wx()+(n<6&&Dc()==32&&el()==32))}function A6(e){for(;el();)switch(ja){case e:return So;case 34:case 39:e!==34&&e!==39&&A6(ja);break;case 40:e===41&&A6(e);break;case 92:el();break}return So}function kce(e,n){for(;el()&&e+ja!==57&&!(e+ja===84&&Dc()===47););return"/*"+pb(n,So-1)+"*"+c2(e===47?e:el())}function Nce(e){for(;!Rg(Dc());)el();return pb(e,So)}function jce(e){return qL(Ax("",null,null,null,[""],e=zL(e),0,[0],e))}function Ax(e,n,t,r,i,a,s,l,u){for(var d=0,f=0,g=s,b=0,m=0,x=0,y=1,A=1,w=1,C=0,N="",R=i,F=a,q=r,k=N;A;)switch(x=C,C=el()){case 40:if(x!=108&&ps(k,g-1)==58){S6(k+=yr(Sx(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:k+=Sx(C);break;case 9:case 10:case 13:case 32:k+=Ece(x);break;case 92:k+=_ce(wx()-1,7);continue;case 47:switch(Dc()){case 42:case 47:Yy(Tce(kce(el(),wx()),n,t),u);break;default:k+="/"}break;case 123*y:l[d++]=hc(k)*w;case 125*y:case 59:case 0:switch(C){case 0:case 125:A=0;case 59+f:w==-1&&(k=yr(k,/\f/g,"")),m>0&&hc(k)-g&&Yy(m>32?Oj(k+";",r,t,g-1):Oj(yr(k," ","")+";",r,t,g-2),u);break;case 59:k+=";";default:if(Yy(q=Tj(k,n,t,d,f,i,l,N,R=[],F=[],g),a),C===123)if(f===0)Ax(k,n,q,q,R,a,g,l,F);else switch(b===99&&ps(k,3)===110?100:b){case 100:case 108:case 109:case 115:Ax(e,q,q,r&&Yy(Tj(e,q,q,0,0,i,l,N,i,R=[],g),F),i,F,g,l,r?R:F);break;default:Ax(k,q,q,q,[""],F,0,l,F)}}d=f=m=0,y=w=1,N=k="",g=s;break;case 58:g=1+hc(k),m=x;default:if(y<1){if(C==123)--y;else if(C==125&&y++==0&&Cce()==125)continue}switch(k+=c2(C),C*y){case 38:w=f>0?1:(k+="\f",-1);break;case 44:l[d++]=(hc(k)-1)*w,w=1;break;case 64:Dc()===45&&(k+=Sx(el())),b=Dc(),f=g=hc(N=k+=Nce(wx())),C++;break;case 45:x===45&&hc(k)==2&&(y=0)}}return a}function Tj(e,n,t,r,i,a,s,l,u,d,f){for(var g=i-1,b=i===0?a:[""],m=QA(b),x=0,y=0,A=0;x<r;++x)for(var w=0,C=Lg(e,g+1,g=yce(y=s[x])),N=e;w<m;++w)(N=FL(y>0?b[w]+" "+C:yr(C,/&\f/g,b[w])))&&(u[A++]=N);return f2(e,n,t,i===0?YA:l,u,d,f)}function Tce(e,n,t){return f2(e,n,t,RL,c2(Ace()),Lg(e,2,-2),0)}function Oj(e,n,t,r){return f2(e,n,t,GA,Lg(e,0,r),Lg(e,r+1,-1),r)}function Q0(e,n){for(var t="",r=QA(e),i=0;i<r;i++)t+=n(e[i],i,e,n)||"";return t}function Oce(e,n,t,r){switch(e.type){case bce:if(e.children.length)break;case gce:case GA:return e.return=e.return||e.value;case RL:return"";case ML:return e.return=e.value+"{"+Q0(e.children,r)+"}";case YA:e.value=e.props.join(",")}return hc(t=Q0(e.children,r))?e.return=e.value+"{"+t+"}":""}function Ice(e){var n=QA(e);return function(t,r,i,a){for(var s="",l=0;l<n;l++)s+=e[l](t,r,i,a)||"";return s}}function Dce(e){return function(n){n.root||(n=n.return)&&e(n)}}var Lce=function(e,n,t){for(var r=0,i=0;r=i,i=Dc(),r===38&&i===12&&(n[t]=1),!Rg(i);)el();return pb(e,So)},Rce=function(e,n){var t=-1,r=44;do switch(Rg(r)){case 0:r===38&&Dc()===12&&(n[t]=1),e[t]+=Lce(So-1,n,t);break;case 2:e[t]+=Sx(r);break;case 4:if(r===44){e[++t]=Dc()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=c2(r)}while(r=el());return e},Mce=function(e,n){return qL(Rce(zL(e),n))},Ij=new WeakMap,Fce=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,r=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Ij.get(t))&&!r){Ij.set(e,!0);for(var i=[],a=Mce(n,i),s=t.props,l=0,u=0;l<a.length;l++)for(var d=0;d<s.length;d++,u++)e.props[u]=i[l]?a[l].replace(/&\f/g,s[d]):s[d]+" "+a[l]}}},Pce=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function BL(e,n){switch(vce(e,n)){case 5103:return gr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return gr+e+av+e+Ls+e+e;case 6828:case 4268:return gr+e+Ls+e+e;case 6165:return gr+e+Ls+"flex-"+e+e;case 5187:return gr+e+yr(e,/(\w+).+(:[^]+)/,gr+"box-$1$2"+Ls+"flex-$1$2")+e;case 5443:return gr+e+Ls+"flex-item-"+yr(e,/flex-|-self/,"")+e;case 4675:return gr+e+Ls+"flex-line-pack"+yr(e,/align-content|flex-|-self/,"")+e;case 5548:return gr+e+Ls+yr(e,"shrink","negative")+e;case 5292:return gr+e+Ls+yr(e,"basis","preferred-size")+e;case 6060:return gr+"box-"+yr(e,"-grow","")+gr+e+Ls+yr(e,"grow","positive")+e;case 4554:return gr+yr(e,/([^-])(transform)/g,"$1"+gr+"$2")+e;case 6187:return yr(yr(yr(e,/(zoom-|grab)/,gr+"$1"),/(image-set)/,gr+"$1"),e,"")+e;case 5495:case 3959:return yr(e,/(image-set\([^]*)/,gr+"$1$`$1");case 4968:return yr(yr(e,/(.+:)(flex-)?(.*)/,gr+"box-pack:$3"+Ls+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gr+e+e;case 4095:case 3583:case 4068:case 2532:return yr(e,/(.+)-inline(.+)/,gr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(hc(e)-1-n>6)switch(ps(e,n+1)){case 109:if(ps(e,n+4)!==45)break;case 102:return yr(e,/(.+:)(.+)-([^]+)/,"$1"+gr+"$2-$3$1"+av+(ps(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~S6(e,"stretch")?BL(yr(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(ps(e,n+1)!==115)break;case 6444:switch(ps(e,hc(e)-3-(~S6(e,"!important")&&10))){case 107:return yr(e,":",":"+gr)+e;case 101:return yr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+gr+(ps(e,14)===45?"inline-":"")+"box$3$1"+gr+"$2$3$1"+Ls+"$2box$3")+e}break;case 5936:switch(ps(e,n+11)){case 114:return gr+e+Ls+yr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return gr+e+Ls+yr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return gr+e+Ls+yr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return gr+e+Ls+e+e}return e}var zce=function(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case GA:e.return=BL(e.value,e.length);break;case ML:return Q0([q1(e,{value:yr(e.value,"@","@"+gr)})],r);case YA:if(e.length)return Sce(e.props,function(i){switch(wce(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Q0([q1(e,{props:[yr(i,/:(read-\w+)/,":"+av+"$1")]})],r);case"::placeholder":return Q0([q1(e,{props:[yr(i,/:(plac\w+)/,":"+gr+"input-$1")]}),q1(e,{props:[yr(i,/:(plac\w+)/,":"+av+"$1")]}),q1(e,{props:[yr(i,/:(plac\w+)/,Ls+"input-$1")]})],r)}return""})}},qce=[zce],Bce=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(x){var y=x.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var r=e.stylisPlugins||qce,i={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var y=x.getAttribute("data-emotion").split(" "),A=1;A<y.length;A++)i[y[A]]=!0;s.push(x)});var l,u=[Fce,Pce];{var d,f=[Oce,Dce(function(x){d.insert(x)})],g=Ice(u.concat(r,f)),b=function(x){return Q0(jce(x),g)};l=function(x,y,A,w){d=A,b(x?x+"{"+y.styles+"}":y.styles),w&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new mce({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(s),m};function Uce(e,n){const t=Bce({key:"css",prepend:e});if(n){const r=t.insert;t.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return t}const Ww=new Map;function $ce(e){const{injectFirst:n,enableCssLayer:t,children:r}=e,i=Q.useMemo(()=>{const a=`${n}-${t}`;if(typeof document=="object"&&Ww.has(a))return Ww.get(a);const s=Uce(n,t);return Ww.set(a,s),s},[n,t]);return n||t?Kt.jsx(fT,{value:i,children:r}):r}function Hce(e){return e==null||Object.keys(e).length===0}function Wce(e){const{styles:n,defaultTheme:t={}}=e,r=typeof n=="function"?i=>n(Hce(i)?t:i):n;return Kt.jsx(hT,{styles:r})}/**
 * @mui/styled-engine v5.18.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Vce(e,n){return dT(e,n)}const Yce=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))},Dj=[];function Gce(e){return Dj[0]=e,fce(Dj)}const Qce=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Wce,StyledEngineProvider:$ce,ThemeContext:cT,css:uT,default:Vce,internal_processStyles:Yce,internal_serializeStyles:Gce,keyframes:lT},Symbol.toStringTag,{value:"Module"})),Kce=Yd(Qce),Xce=Yd(xue),Zce=Yd(_ue),Jce=Yd(Eue),ede=["values","unit","step"],tde=e=>{const n=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return n.sort((t,r)=>t.val-r.val),n.reduce((t,r)=>Yr({},t,{[r.key]:r.val}),{})};function UL(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=e,i=ph(e,ede),a=tde(n),s=Object.keys(a);function l(b){return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t})`}function u(b){return`@media (max-width:${(typeof n[b]=="number"?n[b]:b)-r/100}${t})`}function d(b,m){const x=s.indexOf(m);return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t}) and (max-width:${(x!==-1&&typeof n[s[x]]=="number"?n[s[x]]:m)-r/100}${t})`}function f(b){return s.indexOf(b)+1<s.length?d(b,s[s.indexOf(b)+1]):l(b)}function g(b){const m=s.indexOf(b);return m===0?l(s[1]):m===s.length-1?u(s[m]):d(b,s[s.indexOf(b)+1]).replace("@media","@media not all and")}return Yr({keys:s,values:a,up:l,down:u,between:d,only:f,not:g,unit:t},i)}const nde={borderRadius:4};function ig(e,n){return n?Ic(e,n,{clone:!1}):e}const KA={xs:0,sm:600,md:900,lg:1200,xl:1536},Lj={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${KA[e]}px)`};function qd(e,n,t){const r=e.theme||{};if(Array.isArray(n)){const i=r.breakpoints||Lj;return n.reduce((a,s,l)=>(a[i.up(i.keys[l])]=t(n[l]),a),{})}if(typeof n=="object"){const i=r.breakpoints||Lj;return Object.keys(n).reduce((a,s)=>{if(Object.keys(i.values||KA).indexOf(s)!==-1){const l=i.up(s);a[l]=t(n[s],s)}else{const l=s;a[l]=n[l]}return a},{})}return t(n)}function rde(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((t,r)=>{const i=e.up(r);return t[i]={},t},{}))||{}}function Rj(e,n){return e.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},n)}function h2(e,n,t=!0){if(!n||typeof n!="string")return null;if(e&&e.vars&&t){const r=`vars.${n}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return n.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function sv(e,n,t,r=t){let i;return typeof e=="function"?i=e(t):Array.isArray(e)?i=e[t]||r:i=h2(e,t)||r,n&&(i=n(i,r,e)),i}function ba(e){const{prop:n,cssProperty:t=e.prop,themeKey:r,transform:i}=e,a=s=>{if(s[n]==null)return null;const l=s[n],u=s.theme,d=h2(u,r)||{};return qd(s,l,f=>{let g=sv(d,i,f);return f===g&&typeof f=="string"&&(g=sv(d,i,`${n}${f==="default"?"":sh(f)}`,f)),t===!1?g:{[t]:g}})};return a.propTypes={},a.filterProps=[n],a}function ide(e){const n={};return t=>(n[t]===void 0&&(n[t]=e(t)),n[t])}const ade={m:"margin",p:"padding"},sde={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Mj={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ode=ide(e=>{if(e.length>2)if(Mj[e])e=Mj[e];else return[e];const[n,t]=e.split(""),r=ade[n],i=sde[t]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),XA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ZA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...XA,...ZA];function mb(e,n,t,r){var i;const a=(i=h2(e,n,!1))!=null?i:t;return typeof a=="number"?s=>typeof s=="string"?s:a*s:Array.isArray(a)?s=>typeof s=="string"?s:a[s]:typeof a=="function"?a:()=>{}}function $L(e){return mb(e,"spacing",8)}function gb(e,n){if(typeof n=="string"||n==null)return n;const t=Math.abs(n),r=e(t);return n>=0?r:typeof r=="number"?-r:`-${r}`}function lde(e,n){return t=>e.reduce((r,i)=>(r[i]=gb(n,t),r),{})}function ude(e,n,t,r){if(n.indexOf(t)===-1)return null;const i=ode(t),a=lde(i,r),s=e[t];return qd(e,s,a)}function HL(e,n){const t=$L(e.theme);return Object.keys(e).map(r=>ude(e,n,r,t)).reduce(ig,{})}function Yi(e){return HL(e,XA)}Yi.propTypes={};Yi.filterProps=XA;function Gi(e){return HL(e,ZA)}Gi.propTypes={};Gi.filterProps=ZA;function cde(e=8){if(e.mui)return e;const n=$L({spacing:e}),t=(...r)=>(r.length===0?[1]:r).map(i=>{const a=n(i);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function p2(...e){const n=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),t=r=>Object.keys(r).reduce((i,a)=>n[a]?ig(i,n[a](r)):i,{});return t.propTypes={},t.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Tl(e){return typeof e!="number"?e:`${e}px solid`}function Bl(e,n){return ba({prop:e,themeKey:"borders",transform:n})}const dde=Bl("border",Tl),fde=Bl("borderTop",Tl),hde=Bl("borderRight",Tl),pde=Bl("borderBottom",Tl),mde=Bl("borderLeft",Tl),gde=Bl("borderColor"),bde=Bl("borderTopColor"),yde=Bl("borderRightColor"),xde=Bl("borderBottomColor"),vde=Bl("borderLeftColor"),wde=Bl("outline",Tl),Sde=Bl("outlineColor"),m2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=mb(e.theme,"shape.borderRadius",4),t=r=>({borderRadius:gb(n,r)});return qd(e,e.borderRadius,t)}return null};m2.propTypes={};m2.filterProps=["borderRadius"];p2(dde,fde,hde,pde,mde,gde,bde,yde,xde,vde,m2,wde,Sde);const g2=e=>{if(e.gap!==void 0&&e.gap!==null){const n=mb(e.theme,"spacing",8),t=r=>({gap:gb(n,r)});return qd(e,e.gap,t)}return null};g2.propTypes={};g2.filterProps=["gap"];const b2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=mb(e.theme,"spacing",8),t=r=>({columnGap:gb(n,r)});return qd(e,e.columnGap,t)}return null};b2.propTypes={};b2.filterProps=["columnGap"];const y2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=mb(e.theme,"spacing",8),t=r=>({rowGap:gb(n,r)});return qd(e,e.rowGap,t)}return null};y2.propTypes={};y2.filterProps=["rowGap"];const Ade=ba({prop:"gridColumn"}),Cde=ba({prop:"gridRow"}),Ede=ba({prop:"gridAutoFlow"}),_de=ba({prop:"gridAutoColumns"}),kde=ba({prop:"gridAutoRows"}),Nde=ba({prop:"gridTemplateColumns"}),jde=ba({prop:"gridTemplateRows"}),Tde=ba({prop:"gridTemplateAreas"}),Ode=ba({prop:"gridArea"});p2(g2,b2,y2,Ade,Cde,Ede,_de,kde,Nde,jde,Tde,Ode);function K0(e,n){return n==="grey"?n:e}const Ide=ba({prop:"color",themeKey:"palette",transform:K0}),Dde=ba({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:K0}),Lde=ba({prop:"backgroundColor",themeKey:"palette",transform:K0});p2(Ide,Dde,Lde);function Yo(e){return e<=1&&e!==0?`${e*100}%`:e}const Rde=ba({prop:"width",transform:Yo}),JA=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=t=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||KA[t];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Yo(t)}};return qd(e,e.maxWidth,n)}return null};JA.filterProps=["maxWidth"];const Mde=ba({prop:"minWidth",transform:Yo}),Fde=ba({prop:"height",transform:Yo}),Pde=ba({prop:"maxHeight",transform:Yo}),zde=ba({prop:"minHeight",transform:Yo});ba({prop:"size",cssProperty:"width",transform:Yo});ba({prop:"size",cssProperty:"height",transform:Yo});const qde=ba({prop:"boxSizing"});p2(Rde,JA,Mde,Fde,Pde,zde,qde);const bb={border:{themeKey:"borders",transform:Tl},borderTop:{themeKey:"borders",transform:Tl},borderRight:{themeKey:"borders",transform:Tl},borderBottom:{themeKey:"borders",transform:Tl},borderLeft:{themeKey:"borders",transform:Tl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Tl},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:m2},color:{themeKey:"palette",transform:K0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:K0},backgroundColor:{themeKey:"palette",transform:K0},p:{style:Gi},pt:{style:Gi},pr:{style:Gi},pb:{style:Gi},pl:{style:Gi},px:{style:Gi},py:{style:Gi},padding:{style:Gi},paddingTop:{style:Gi},paddingRight:{style:Gi},paddingBottom:{style:Gi},paddingLeft:{style:Gi},paddingX:{style:Gi},paddingY:{style:Gi},paddingInline:{style:Gi},paddingInlineStart:{style:Gi},paddingInlineEnd:{style:Gi},paddingBlock:{style:Gi},paddingBlockStart:{style:Gi},paddingBlockEnd:{style:Gi},m:{style:Yi},mt:{style:Yi},mr:{style:Yi},mb:{style:Yi},ml:{style:Yi},mx:{style:Yi},my:{style:Yi},margin:{style:Yi},marginTop:{style:Yi},marginRight:{style:Yi},marginBottom:{style:Yi},marginLeft:{style:Yi},marginX:{style:Yi},marginY:{style:Yi},marginInline:{style:Yi},marginInlineStart:{style:Yi},marginInlineEnd:{style:Yi},marginBlock:{style:Yi},marginBlockStart:{style:Yi},marginBlockEnd:{style:Yi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:g2},rowGap:{style:y2},columnGap:{style:b2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Yo},maxWidth:{style:JA},minWidth:{transform:Yo},height:{transform:Yo},maxHeight:{transform:Yo},minHeight:{transform:Yo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Bde(...e){const n=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(n);return e.every(r=>t.size===Object.keys(r).length)}function Ude(e,n){return typeof e=="function"?e(n):e}function WL(){function e(t,r,i,a){const s={[t]:r,theme:i},l=a[t];if(!l)return{[t]:r};const{cssProperty:u=t,themeKey:d,transform:f,style:g}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const b=h2(i,d)||{};return g?g(s):qd(s,r,m=>{let x=sv(b,f,m);return m===x&&typeof m=="string"&&(x=sv(b,f,`${t}${m==="default"?"":sh(m)}`,m)),u===!1?x:{[u]:x}})}function n(t){var r;const{sx:i,theme:a={},nested:s}=t||{};if(!i)return null;const l=(r=a.unstable_sxConfig)!=null?r:bb;function u(d){let f=d;if(typeof d=="function")f=d(a);else if(typeof d!="object")return d;if(!f)return null;const g=rde(a.breakpoints),b=Object.keys(g);let m=g;return Object.keys(f).forEach(x=>{const y=Ude(f[x],a);if(y!=null)if(typeof y=="object")if(l[x])m=ig(m,e(x,y,a,l));else{const A=qd({theme:a},y,w=>({[x]:w}));Bde(A,y)?m[x]=n({sx:y,theme:a,nested:!0}):m=ig(m,A)}else m=ig(m,e(x,y,a,l))}),!s&&a.modularCssLayers?{"@layer sx":Rj(b,m)}:Rj(b,m)}return Array.isArray(i)?i.map(u):u(i)}return n}const x2=WL();x2.filterProps=["sx"];function VL(e,n){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:n}:t.palette.mode===e?n:{}}const $de=["breakpoints","palette","spacing","shape"];function YL(e={},...n){const{breakpoints:t={},palette:r={},spacing:i,shape:a={}}=e,s=ph(e,$de),l=UL(t),u=cde(i);let d=Ic({breakpoints:l,direction:"ltr",components:{},palette:Yr({mode:"light"},r),spacing:u,shape:Yr({},nde,a)},s);return d.applyStyles=VL,d=n.reduce((f,g)=>Ic(f,g),d),d.unstable_sxConfig=Yr({},bb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(f){return x2({sx:f,theme:this})},d}const Hde=Object.freeze(Object.defineProperty({__proto__:null,default:YL,private_createBreakpoints:UL,unstable_applyStyles:VL},Symbol.toStringTag,{value:"Module"})),Wde=Yd(Hde),Vde=["sx"],Yde=e=>{var n,t;const r={systemProps:{},otherProps:{}},i=(n=e==null||(t=e.theme)==null?void 0:t.unstable_sxConfig)!=null?n:bb;return Object.keys(e).forEach(a=>{i[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function Gde(e){const{sx:n}=e,t=ph(e,Vde),{systemProps:r,otherProps:i}=Yde(t);let a;return Array.isArray(n)?a=[r,...n]:typeof n=="function"?a=(...s)=>{const l=n(...s);return Pf(l)?Yr({},r,l):r}:a=Yr({},r,n),Yr({},i,{sx:a})}const Qde=Object.freeze(Object.defineProperty({__proto__:null,default:x2,extendSxProp:Gde,unstable_createStyleFunctionSx:WL,unstable_defaultSxConfig:bb},Symbol.toStringTag,{value:"Module"})),Kde=Yd(Qde);var Fj;function Xde(){if(Fj)return $h;Fj=1;var e=wm();Object.defineProperty($h,"__esModule",{value:!0}),$h.default=F,$h.shouldForwardProp=x,$h.systemDefaultTheme=void 0;var n=e(ice()),t=e(ace()),r=g(Kce),i=Xce;e(Zce),e(Jce);var a=e(Wde),s=e(Kde);const l=["ownerState"],u=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function f(q){if(typeof WeakMap!="function")return null;var k=new WeakMap,L=new WeakMap;return(f=function(B){return B?L:k})(q)}function g(q,k){if(q&&q.__esModule)return q;if(q===null||typeof q!="object"&&typeof q!="function")return{default:q};var L=f(k);if(L&&L.has(q))return L.get(q);var B={__proto__:null},X=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in q)if(j!=="default"&&Object.prototype.hasOwnProperty.call(q,j)){var O=X?Object.getOwnPropertyDescriptor(q,j):null;O&&(O.get||O.set)?Object.defineProperty(B,j,O):B[j]=q[j]}return B.default=q,L&&L.set(q,B),B}function b(q){return Object.keys(q).length===0}function m(q){return typeof q=="string"&&q.charCodeAt(0)>96}function x(q){return q!=="ownerState"&&q!=="theme"&&q!=="sx"&&q!=="as"}function y(q,k){return k&&q&&typeof q=="object"&&q.styles&&!q.styles.startsWith("@layer")&&(q.styles=`@layer ${k}{${String(q.styles)}}`),q}const A=$h.systemDefaultTheme=(0,a.default)(),w=q=>q&&q.charAt(0).toLowerCase()+q.slice(1);function C({defaultTheme:q,theme:k,themeId:L}){return b(k)?q:k[L]||k}function N(q){return q?(k,L)=>L[q]:null}function R(q,k,L){let{ownerState:B}=k,X=(0,t.default)(k,l);const j=typeof q=="function"?q((0,n.default)({ownerState:B},X)):q;if(Array.isArray(j))return j.flatMap(O=>R(O,(0,n.default)({ownerState:B},X),L));if(j&&typeof j=="object"&&Array.isArray(j.variants)){const{variants:O=[]}=j;let P=(0,t.default)(j,u);return O.forEach(T=>{let G=!0;if(typeof T.props=="function"?G=T.props((0,n.default)({ownerState:B},X,B)):Object.keys(T.props).forEach(W=>{(B==null?void 0:B[W])!==T.props[W]&&X[W]!==T.props[W]&&(G=!1)}),G){Array.isArray(P)||(P=[P]);const W=typeof T.style=="function"?T.style((0,n.default)({ownerState:B},X,B)):T.style;P.push(L?y((0,r.internal_serializeStyles)(W),L):W)}}),P}return L?y((0,r.internal_serializeStyles)(j),L):j}function F(q={}){const{themeId:k,defaultTheme:L=A,rootShouldForwardProp:B=x,slotShouldForwardProp:X=x}=q,j=O=>(0,s.default)((0,n.default)({},O,{theme:C((0,n.default)({},O,{defaultTheme:L,themeId:k}))}));return j.__mui_systemSx=!0,(O,P={})=>{(0,r.internal_processStyles)(O,xe=>xe.filter(Ee=>!(Ee!=null&&Ee.__mui_systemSx)));const{name:T,slot:G,skipVariantsResolver:W,skipSx:K,overridesResolver:ie=N(w(G))}=P,ue=(0,t.default)(P,d),$=T&&T.startsWith("Mui")||G?"components":"custom",ae=W!==void 0?W:G&&G!=="Root"&&G!=="root"||!1,U=K||!1;let z,Z=x;G==="Root"||G==="root"?Z=B:G?Z=X:m(O)&&(Z=void 0);const ee=(0,r.default)(O,(0,n.default)({shouldForwardProp:Z,label:z},ue)),se=xe=>typeof xe=="function"&&xe.__emotion_real!==xe||(0,i.isPlainObject)(xe)?Ee=>{const Ie=C({theme:Ee.theme,defaultTheme:L,themeId:k});return R(xe,(0,n.default)({},Ee,{theme:Ie}),Ie.modularCssLayers?$:void 0)}:xe,we=(xe,...Ee)=>{let Ie=se(xe);const Re=Ee?Ee.map(se):[];T&&ie&&Re.push(V=>{const Se=C((0,n.default)({},V,{defaultTheme:L,themeId:k}));if(!Se.components||!Se.components[T]||!Se.components[T].styleOverrides)return null;const te=Se.components[T].styleOverrides,be={};return Object.entries(te).forEach(([ce,Ae])=>{be[ce]=R(Ae,(0,n.default)({},V,{theme:Se}),Se.modularCssLayers?"theme":void 0)}),ie(V,be)}),T&&!ae&&Re.push(V=>{var Se;const te=C((0,n.default)({},V,{defaultTheme:L,themeId:k})),be=te==null||(Se=te.components)==null||(Se=Se[T])==null?void 0:Se.variants;return R({variants:be},(0,n.default)({},V,{theme:te}),te.modularCssLayers?"theme":void 0)}),U||Re.push(j);const We=Re.length-Ee.length;if(Array.isArray(xe)&&We>0){const V=new Array(We).fill("");Ie=[...xe,...V],Ie.raw=[...xe.raw,...V]}const Ve=ee(Ie,...Re);return O.muiName&&(Ve.muiName=O.muiName),Ve};return ee.withConfig&&(we.withConfig=ee.withConfig),we}}return $h}var Zde=Xde();const Jde=fb(Zde);function efe(e,n){return Yr({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)}var Di={};const tfe=Yd(vue),nfe=Yd(Zue);var Pj;function rfe(){if(Pj)return Di;Pj=1;var e=wm();Object.defineProperty(Di,"__esModule",{value:!0}),Di.alpha=x,Di.blend=q,Di.colorChannel=void 0,Di.darken=A,Di.decomposeColor=s,Di.emphasize=R,Di.getContrastRatio=m,Di.getLuminance=b,Di.hexToRgb=i,Di.hslToRgb=g,Di.lighten=C,Di.private_safeAlpha=y,Di.private_safeColorChannel=void 0,Di.private_safeDarken=w,Di.private_safeEmphasize=F,Di.private_safeLighten=N,Di.recomposeColor=d,Di.rgbToHex=f;var n=e(tfe),t=e(nfe);function r(k,L=0,B=1){return(0,t.default)(k,L,B)}function i(k){k=k.slice(1);const L=new RegExp(`.{1,${k.length>=6?2:1}}`,"g");let B=k.match(L);return B&&B[0].length===1&&(B=B.map(X=>X+X)),B?`rgb${B.length===4?"a":""}(${B.map((X,j)=>j<3?parseInt(X,16):Math.round(parseInt(X,16)/255*1e3)/1e3).join(", ")})`:""}function a(k){const L=k.toString(16);return L.length===1?`0${L}`:L}function s(k){if(k.type)return k;if(k.charAt(0)==="#")return s(i(k));const L=k.indexOf("("),B=k.substring(0,L);if(["rgb","rgba","hsl","hsla","color"].indexOf(B)===-1)throw new Error((0,n.default)(9,k));let X=k.substring(L+1,k.length-1),j;if(B==="color"){if(X=X.split(" "),j=X.shift(),X.length===4&&X[3].charAt(0)==="/"&&(X[3]=X[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(j)===-1)throw new Error((0,n.default)(10,j))}else X=X.split(",");return X=X.map(O=>parseFloat(O)),{type:B,values:X,colorSpace:j}}const l=k=>{const L=s(k);return L.values.slice(0,3).map((B,X)=>L.type.indexOf("hsl")!==-1&&X!==0?`${B}%`:B).join(" ")};Di.colorChannel=l;const u=(k,L)=>{try{return l(k)}catch{return k}};Di.private_safeColorChannel=u;function d(k){const{type:L,colorSpace:B}=k;let{values:X}=k;return L.indexOf("rgb")!==-1?X=X.map((j,O)=>O<3?parseInt(j,10):j):L.indexOf("hsl")!==-1&&(X[1]=`${X[1]}%`,X[2]=`${X[2]}%`),L.indexOf("color")!==-1?X=`${B} ${X.join(" ")}`:X=`${X.join(", ")}`,`${L}(${X})`}function f(k){if(k.indexOf("#")===0)return k;const{values:L}=s(k);return`#${L.map((B,X)=>a(X===3?Math.round(255*B):B)).join("")}`}function g(k){k=s(k);const{values:L}=k,B=L[0],X=L[1]/100,j=L[2]/100,O=X*Math.min(j,1-j),P=(W,K=(W+B/30)%12)=>j-O*Math.max(Math.min(K-3,9-K,1),-1);let T="rgb";const G=[Math.round(P(0)*255),Math.round(P(8)*255),Math.round(P(4)*255)];return k.type==="hsla"&&(T+="a",G.push(L[3])),d({type:T,values:G})}function b(k){k=s(k);let L=k.type==="hsl"||k.type==="hsla"?s(g(k)).values:k.values;return L=L.map(B=>(k.type!=="color"&&(B/=255),B<=.03928?B/12.92:((B+.055)/1.055)**2.4)),Number((.2126*L[0]+.7152*L[1]+.0722*L[2]).toFixed(3))}function m(k,L){const B=b(k),X=b(L);return(Math.max(B,X)+.05)/(Math.min(B,X)+.05)}function x(k,L){return k=s(k),L=r(L),(k.type==="rgb"||k.type==="hsl")&&(k.type+="a"),k.type==="color"?k.values[3]=`/${L}`:k.values[3]=L,d(k)}function y(k,L,B){try{return x(k,L)}catch{return k}}function A(k,L){if(k=s(k),L=r(L),k.type.indexOf("hsl")!==-1)k.values[2]*=1-L;else if(k.type.indexOf("rgb")!==-1||k.type.indexOf("color")!==-1)for(let B=0;B<3;B+=1)k.values[B]*=1-L;return d(k)}function w(k,L,B){try{return A(k,L)}catch{return k}}function C(k,L){if(k=s(k),L=r(L),k.type.indexOf("hsl")!==-1)k.values[2]+=(100-k.values[2])*L;else if(k.type.indexOf("rgb")!==-1)for(let B=0;B<3;B+=1)k.values[B]+=(255-k.values[B])*L;else if(k.type.indexOf("color")!==-1)for(let B=0;B<3;B+=1)k.values[B]+=(1-k.values[B])*L;return d(k)}function N(k,L,B){try{return C(k,L)}catch{return k}}function R(k,L=.15){return b(k)>.5?A(k,L):C(k,L)}function F(k,L,B){try{return R(k,L)}catch{return k}}function q(k,L,B,X=1){const j=(G,W)=>Math.round((G**(1/X)*(1-B)+W**(1/X)*B)**X),O=s(k),P=s(L),T=[j(O.values[0],P.values[0]),j(O.values[1],P.values[1]),j(O.values[2],P.values[2])];return d({type:"rgb",values:T})}return Di}var C6=rfe();const Mg={black:"#000",white:"#fff"},ife={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},x0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},v0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},B1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},w0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},S0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},A0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},afe=["mode","contrastThreshold","tonalOffset"],zj={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Mg.white,default:Mg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Vw={text:{primary:Mg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Mg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function qj(e,n,t,r){const i=r.light||r,a=r.dark||r*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=C6.lighten(e.main,i):n==="dark"&&(e.dark=C6.darken(e.main,a)))}function sfe(e="light"){return e==="dark"?{main:w0[200],light:w0[50],dark:w0[400]}:{main:w0[700],light:w0[400],dark:w0[800]}}function ofe(e="light"){return e==="dark"?{main:x0[200],light:x0[50],dark:x0[400]}:{main:x0[500],light:x0[300],dark:x0[700]}}function lfe(e="light"){return e==="dark"?{main:v0[500],light:v0[300],dark:v0[700]}:{main:v0[700],light:v0[400],dark:v0[800]}}function ufe(e="light"){return e==="dark"?{main:S0[400],light:S0[300],dark:S0[700]}:{main:S0[700],light:S0[500],dark:S0[900]}}function cfe(e="light"){return e==="dark"?{main:A0[400],light:A0[300],dark:A0[700]}:{main:A0[800],light:A0[500],dark:A0[900]}}function dfe(e="light"){return e==="dark"?{main:B1[400],light:B1[300],dark:B1[700]}:{main:"#ed6c02",light:B1[500],dark:B1[900]}}function ffe(e){const{mode:n="light",contrastThreshold:t=3,tonalOffset:r=.2}=e,i=ph(e,afe),a=e.primary||sfe(n),s=e.secondary||ofe(n),l=e.error||lfe(n),u=e.info||ufe(n),d=e.success||cfe(n),f=e.warning||dfe(n);function g(x){return C6.getContrastRatio(x,Vw.text.primary)>=t?Vw.text.primary:zj.text.primary}const b=({color:x,name:y,mainShade:A=500,lightShade:w=300,darkShade:C=700})=>{if(x=Yr({},x),!x.main&&x[A]&&(x.main=x[A]),!x.hasOwnProperty("main"))throw new Error(Dg(11,y?` (${y})`:"",A));if(typeof x.main!="string")throw new Error(Dg(12,y?` (${y})`:"",JSON.stringify(x.main)));return qj(x,"light",w,r),qj(x,"dark",C,r),x.contrastText||(x.contrastText=g(x.main)),x},m={dark:Vw,light:zj};return Ic(Yr({common:Yr({},Mg),mode:n,primary:b({color:a,name:"primary"}),secondary:b({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:f,name:"warning"}),info:b({color:u,name:"info"}),success:b({color:d,name:"success"}),grey:ife,contrastThreshold:t,getContrastText:g,augmentColor:b,tonalOffset:r},m[n]),i)}const hfe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function pfe(e){return Math.round(e*1e5)/1e5}const Bj={textTransform:"uppercase"},Uj='"Roboto", "Helvetica", "Arial", sans-serif';function mfe(e,n){const t=typeof n=="function"?n(e):n,{fontFamily:r=Uj,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:f,pxToRem:g}=t,b=ph(t,hfe),m=i/14,x=g||(w=>`${w/d*m}rem`),y=(w,C,N,R,F)=>Yr({fontFamily:r,fontWeight:w,fontSize:x(C),lineHeight:N},r===Uj?{letterSpacing:`${pfe(R/C)}em`}:{},F,f),A={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(l,14,1.75,.4,Bj),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,Bj),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ic(Yr({htmlFontSize:d,pxToRem:x,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u},A),b,{clone:!1})}const gfe=.2,bfe=.14,yfe=.12;function vi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${gfe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${bfe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${yfe})`].join(",")}const xfe=["none",vi(0,2,1,-1,0,1,1,0,0,1,3,0),vi(0,3,1,-2,0,2,2,0,0,1,5,0),vi(0,3,3,-2,0,3,4,0,0,1,8,0),vi(0,2,4,-1,0,4,5,0,0,1,10,0),vi(0,3,5,-1,0,5,8,0,0,1,14,0),vi(0,3,5,-1,0,6,10,0,0,1,18,0),vi(0,4,5,-2,0,7,10,1,0,2,16,1),vi(0,5,5,-3,0,8,10,1,0,3,14,2),vi(0,5,6,-3,0,9,12,1,0,3,16,2),vi(0,6,6,-3,0,10,14,1,0,4,18,3),vi(0,6,7,-4,0,11,15,1,0,4,20,3),vi(0,7,8,-4,0,12,17,2,0,5,22,4),vi(0,7,8,-4,0,13,19,2,0,5,24,4),vi(0,7,9,-4,0,14,21,2,0,5,26,4),vi(0,8,9,-5,0,15,22,2,0,6,28,5),vi(0,8,10,-5,0,16,24,2,0,6,30,5),vi(0,8,11,-5,0,17,26,2,0,6,32,5),vi(0,9,11,-5,0,18,28,2,0,7,34,6),vi(0,9,12,-6,0,19,29,2,0,7,36,6),vi(0,10,13,-6,0,20,31,3,0,8,38,7),vi(0,10,13,-6,0,21,33,3,0,8,40,7),vi(0,10,14,-6,0,22,35,3,0,8,42,7),vi(0,11,14,-7,0,23,36,3,0,9,44,8),vi(0,11,15,-7,0,24,38,3,0,9,46,8)],vfe=["duration","easing","delay"],wfe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Sfe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $j(e){return`${Math.round(e)}ms`}function Afe(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function Cfe(e){const n=Yr({},wfe,e.easing),t=Yr({},Sfe,e.duration);return Yr({getAutoHeightDuration:Afe,create:(r=["all"],i={})=>{const{duration:a=t.standard,easing:s=n.easeInOut,delay:l=0}=i;return ph(i,vfe),(Array.isArray(r)?r:[r]).map(u=>`${u} ${typeof a=="string"?a:$j(a)} ${s} ${typeof l=="string"?l:$j(l)}`).join(",")}},e,{easing:n,duration:t})}const Efe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},_fe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function kfe(e={},...n){const{mixins:t={},palette:r={},transitions:i={},typography:a={}}=e,s=ph(e,_fe);if(e.vars&&e.generateCssVars===void 0)throw new Error(Dg(18));const l=ffe(r),u=YL(e);let d=Ic(u,{mixins:efe(u.breakpoints,t),palette:l,shadows:xfe.slice(),typography:mfe(l,a),transitions:Cfe(i),zIndex:Yr({},Efe)});return d=Ic(d,s),d=n.reduce((f,g)=>Ic(f,g),d),d.unstable_sxConfig=Yr({},bb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(f){return x2({sx:f,theme:this})},d}const Nfe=kfe(),jfe="$$material";function Tfe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Ofe=e=>Tfe(e)&&e!=="classes",Ife=Jde({themeId:jfe,defaultTheme:Nfe,rootShouldForwardProp:Ofe});function Dfe(e){return IL("MuiSvgIcon",e)}Kue("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Lfe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Rfe=e=>{const{color:n,fontSize:t,classes:r}=e,i={root:["root",n!=="inherit"&&`color${sh(n)}`,`fontSize${sh(t)}`]};return Yue(i,Dfe,r)},Mfe=Ife("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.color!=="inherit"&&n[`color${sh(t.color)}`],n[`fontSize${sh(t.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var t,r,i,a,s,l,u,d,f,g,b,m,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=e.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(s=a.pxToRem)==null?void 0:s.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((d=e.typography)==null||(f=d.pxToRem)==null?void 0:f.call(d,35))||"2.1875rem"}[n.fontSize],color:(g=(b=(e.vars||e).palette)==null||(b=b[n.color])==null?void 0:b.main)!=null?g:{action:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(x=(e.vars||e).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[n.color]}}),E6=Q.forwardRef(function(e,n){const t=rce({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:f,viewBox:g="0 0 24 24"}=t,b=ph(t,Lfe),m=Q.isValidElement(r)&&r.type==="svg",x=Yr({},t,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:g,hasSvgAsChild:m}),y={};d||(y.viewBox=g);const A=Rfe(x);return Kt.jsxs(Mfe,Yr({as:s,className:Jue(A.root,i),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n},y,b,m&&r.props,{ownerState:x,children:[m?r.props.children:r,f?Kt.jsx("title",{children:f}):null]}))});E6.muiName="SvgIcon";function Ffe(e,n){function t(r,i){return Kt.jsx(E6,Yr({"data-testid":`${n}Icon`,ref:i},r,{children:e}))}return t.muiName=E6.muiName,Q.memo(Q.forwardRef(t))}const Pfe={configure:e=>{OL.configure(e)}},zfe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:sh,createChainedFunction:kue,createSvgIcon:Ffe,debounce:Nue,deprecatedPropType:jue,isMuiElement:Tue,ownerDocument:NL,ownerWindow:Oue,requirePropFactory:Iue,setRef:jL,unstable_ClassNameGenerator:Pfe,unstable_useEnhancedEffect:TL,unstable_useId:Lue,unsupportedProp:Rue,useControlled:Mue,useEventCallback:Fue,useForkRef:Pue,useIsFocusVisible:Vue},Symbol.toStringTag,{value:"Module"})),qfe=Yd(zfe);var Hj;function v2(){return Hj||(Hj=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=qfe}(pj)),pj}var Wj;function Bfe(){if(Wj)return z1;Wj=1;var e=wm();Object.defineProperty(z1,"__esModule",{value:!0}),z1.default=void 0;var n=e(v2()),t=hb();return z1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),z1}var Ufe=Bfe();const Vj=fb(Ufe);var U1={},Yj;function $fe(){if(Yj)return U1;Yj=1;var e=wm();Object.defineProperty(U1,"__esModule",{value:!0}),U1.default=void 0;var n=e(v2()),t=hb();return U1.default=(0,n.default)((0,t.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),U1}var Hfe=$fe();const Wfe=fb(Hfe);var $1={},Gj;function Vfe(){if(Gj)return $1;Gj=1;var e=wm();Object.defineProperty($1,"__esModule",{value:!0}),$1.default=void 0;var n=e(v2()),t=hb();return $1.default=(0,n.default)((0,t.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),$1}var Yfe=Vfe();const Gfe=fb(Yfe);var H1={},Qj;function Qfe(){if(Qj)return H1;Qj=1;var e=wm();Object.defineProperty(H1,"__esModule",{value:!0}),H1.default=void 0;var n=e(v2()),t=hb();return H1.default=(0,n.default)((0,t.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),H1}var Kfe=Qfe();const Xfe=fb(Kfe),nr={primary:"#0B53C0",primaryLight:"#CDDAFF",background:"#F0F4FF",white:"#FFFFFF",text:"#000000",success:"#4caf50",error:"#f44336",disabled:"#ccc"},Qn={modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"95%",sm:"80%",md:700},maxHeight:"90vh",bgcolor:nr.background,borderRadius:"16px",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)",p:3,outline:"none",overflow:"hidden",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,pb:2,borderBottom:`2px solid ${nr.primaryLight}`},title:{fontFamily:"Staatliches, Arial, sans-serif",fontSize:{xs:"1.5rem",sm:"2rem"},color:nr.text},closeButton:{color:nr.text,"&:hover":{bgcolor:nr.primaryLight}},progressBar:{height:8,borderRadius:4,bgcolor:nr.disabled,mb:3,"& .MuiLinearProgress-bar":{bgcolor:nr.primary,borderRadius:4}},questionCard:{bgcolor:nr.white,borderRadius:"12px",p:3,mb:3,minHeight:200,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},questionText:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1.1rem",color:nr.text,mb:3},categoryBadge:{display:"inline-block",px:2,py:.5,bgcolor:nr.primaryLight,color:nr.text,borderRadius:"20px",fontSize:"0.85rem",fontFamily:"Gabarito, Arial, sans-serif",mb:2},answerInput:{width:"100%","& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif","& fieldset":{borderColor:nr.disabled},"&:hover fieldset":{borderColor:nr.primary},"&.Mui-focused fieldset":{borderColor:nr.primary}}},navigationDots:{display:"flex",justifyContent:"center",gap:1,my:2},dot:{width:12,height:12,borderRadius:"50%",border:"none",cursor:"pointer",transition:"all 0.3s","&:hover":{transform:"scale(1.2)"}},dotStates:{unanswered:{bgcolor:nr.disabled},answered:{bgcolor:nr.primaryLight},current:{bgcolor:nr.primary,transform:"scale(1.3)"}},navigationButtons:{display:"flex",justifyContent:"space-between",gap:2,mt:2},button:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",py:1,px:3,borderRadius:"20px",textTransform:"none"},primaryButton:{bgcolor:nr.primaryLight,color:nr.text,"&:hover":{bgcolor:nr.primary,color:nr.white}},secondaryButton:{bgcolor:nr.white,color:nr.text,border:`2px solid ${nr.primaryLight}`,"&:hover":{bgcolor:nr.primaryLight}},submitButton:{bgcolor:nr.success,color:nr.white,"&:hover":{bgcolor:"#388e3c"}},resultsContainer:{flex:1,overflowY:"auto",px:2},scoreCard:{bgcolor:nr.white,borderRadius:"12px",p:3,mb:3,textAlign:"center",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},scoreText:{fontSize:"3rem",fontFamily:"Staatliches, sans-serif",color:nr.primary},feedbackCard:{bgcolor:nr.white,borderRadius:"8px",p:2,mb:2,border:`1px solid ${nr.disabled}`},correctAnswer:{borderLeft:`4px solid ${nr.success}`},incorrectAnswer:{borderLeft:`4px solid ${nr.error}`}},GL="https://rag-flask-api.onrender.com",Zfe=async e=>{if(!(e!=null&&e.trim()))throw new Error("Chatbot ID is required");try{const n=await fetch(`${GL}/get_quiz?chatbot_id=${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await n.json();if(!n.ok||!t.success)throw new Error(t.error||"Failed to fetch quiz");return{quizId:t.quiz_id,questions:t.questions||[]}}catch(n){throw console.error("Error fetching quiz:",n),n}},Jfe=async(e,n,t)=>{if(!e||!n||!t||Object.keys(t).length===0)throw new Error("Invalid quiz submission");try{const r=await fetch(`${GL}/grade_quiz`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:e,quiz_id:n,answers:t})}),i=await r.json();if(!r.ok||!i.success)throw new Error(i.error||"Quiz grading failed");return i.summary}catch(r){throw console.error("Error grading quiz:",r),r}},ehe=(e,n)=>{if(e)try{const t=`quiz_progress_${e}`;localStorage.setItem(t,JSON.stringify({answers:n,timestamp:new Date().toISOString()}))}catch(t){console.error("Failed to save progress:",t)}},the=e=>{if(!e)return null;try{const n=`quiz_progress_${e}`,t=localStorage.getItem(n);if(!t)return null;const r=JSON.parse(t),i=new Date(r.timestamp);return(new Date-i)/(1e3*60*60)>24?(localStorage.removeItem(n),null):r.answers}catch(n){return console.error("Failed to load progress:",n),null}},Yw=e=>{if(e)try{const n=`quiz_progress_${e}`;localStorage.removeItem(n)}catch(n){console.error("Failed to clear progress:",n)}},nhe=e=>{const n=((e==null?void 0:e.bloom_level)||(e==null?void 0:e.bloomLevel)||"").toString().toLowerCase();return n==="remember"||n==="understand"?"lower":n==="apply"?"middle":n==="analyze"||n==="evaluate"||n==="create"?"upper":"lower"},rhe=e=>e==="easy"?5:e==="hard"?10:8,ihe=(e,n)=>{const t=[],r=[],i=[];e.forEach(d=>{const f=nhe(d);f==="lower"?t.push(d):f==="middle"?r.push(d):i.push(d)});const a=d=>{const f=[...d];for(let g=f.length-1;g>0;g-=1){const b=Math.floor(Math.random()*(g+1));[f[g],f[b]]=[f[b],f[g]]}return f},s=rhe(n);let l=[];if(n==="easy"){const d=a(t),f=a(r),g=a(i);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...f.slice(0,s-l.length)]),l.length<s&&(l=[...l,...g.slice(0,s-l.length)])}else if(n==="medium"){const d=a(r),f=a(t),g=a(i);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...f.slice(0,s-l.length)]),l.length<s&&(l=[...l,...g.slice(0,s-l.length)])}else{const d=a(i),f=a(r),g=a(t);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...f.slice(0,s-l.length)]),l.length<s&&(l=[...l,...g.slice(0,s-l.length)])}const u=Math.min(s,l.length);return{selected:l.slice(0,u),selection:{mode:n,target:s,finalCount:u},totalAvailable:{lower:t.length,middle:r.length,upper:i.length}}},ahe=Q.forwardRef(({chatbotId:e,open:n,onClose:t,difficulty:r="medium",onQuizStart:i,onQuizProgress:a,onAnswerChange:s,onQuizSubmit:l,onQuizClose:u,onError:d},f)=>{const[g,b]=Q.useState(null),[m,x]=Q.useState([]),[y,A]=Q.useState(null),[w,C]=Q.useState(0),[N,R]=Q.useState({}),[F,q]=Q.useState(!0),[k,L]=Q.useState(!1),[B,X]=Q.useState(""),[j,O]=Q.useState(!1),[P,T]=Q.useState(null),G=Q.useRef(null),W=Q.useRef(null);Q.useEffect(()=>{n&&e&&K()},[n,e,r]),Q.useEffect(()=>{if(W.current&&Object.keys(N).length>0){ehe(W.current,N);const Ie=m.length,Re=Ie>0?Object.keys(N).length/Ie*100:0;a==null||a({quizId:g==null?void 0:g.quizId,answers:N,percentComplete:Re,selection:y||void 0})}},[N,W.current,m.length]);const K=async()=>{q(!0),X(""),O(!1),T(null),C(0),R({}),x([]),A(null),G.current=new Date;try{const Ie=await Zfe(e),{selected:Re,selection:We,totalAvailable:Ve}=ihe((Ie==null?void 0:Ie.questions)||[],r);b(Ie),x(Re),A(We);const V=`${Ie.quizId}::${r}`;W.current=V;const Se=the(V);Se&&R(Se),i==null||i({quizId:Ie.quizId,chatbotId:e,startedAt:G.current,selection:We,totalAvailable:Ve})}catch(Ie){const Re=(Ie==null?void 0:Ie.message)||"Failed to load quiz";X(Re),d==null||d(Ie,"load")}finally{q(!1)}},ie=m[w],ue=m.length||0,$=ue>0?(w+1)/ue*100:0,ae=Ie=>{if(!ie)return;const Re={...N,[ie.id]:Ie};R(Re),s==null||s({quizId:g==null?void 0:g.quizId,questionId:ie.id,value:Ie,answers:Re})},U=()=>{w<ue-1&&C(Ie=>Ie+1)},z=()=>{w>0&&C(Ie=>Ie-1)},Z=Ie=>C(Ie),ee=async()=>{if(!g)return;const Ie=m.filter(Re=>!N[Re.id]);if(Ie.length>0){X(`Please answer all questions (${Ie.length} remaining)`);return}L(!0),X("");try{const Re=new Date,We={};m.forEach(V=>{We[V.id]=N[V.id]});const Ve=await Jfe(e,g.quizId,We);T(Ve),O(!0),W.current&&Yw(W.current),l==null||l({quizId:g.quizId,chatbotId:e,startedAt:G.current,submittedAt:Re,answers:We,summary:Ve,selection:y||void 0})}catch(Re){const We=`Failed to submit quiz: ${(Re==null?void 0:Re.message)||""}`.trim();X(We),d==null||d(Re,"submit")}finally{L(!1)}},se=()=>{W.current&&Yw(W.current),u==null||u({quizId:g==null?void 0:g.quizId,chatbotId:e,answers:N,summary:P,completed:j,closedAt:new Date,selection:y||void 0}),t()},we=(Ie,Re)=>{const We=Re===w,Ve=!!N[Ie];return{isCurrent:We,hasAnswer:Ve}},xe=()=>{const Ie=(ie==null?void 0:ie.answer_type)||"text",Re=N[ie==null?void 0:ie.id]||"";return Kt.jsx(Ut,{multiline:Ie==="long_answer",rows:Ie==="long_answer"?6:1,value:Re,onChange:We=>ae(We.target.value),placeholder:"Enter your answer here...",sx:Qn.answerInput,disabled:k})};if(Q.useImperativeHandle(f,()=>({reloadQuiz:K,clearProgress:()=>W.current&&Yw(W.current),submit:ee,getAnswers:()=>N,getSummary:()=>P,close:se})),j&&P){const Ie=(()=>{const We=P==null?void 0:P.percent;if(typeof We=="number"&&Number.isFinite(We))return Math.round(We);const Ve=P==null?void 0:P.score;if(typeof Ve=="number"&&Number.isFinite(Ve))return Math.round(Ve);const V=Number(P==null?void 0:P.total_score)||0,Se=Number(P==null?void 0:P.total_max)||0;return Se>0?Math.round(V/Se*100):0})(),Re=P.items||P.questions||{};return Kt.jsx(kx,{open:n,onClose:se,children:Kt.jsxs(fe,{sx:Qn.modal,children:[Kt.jsxs(fe,{sx:Qn.header,children:[Kt.jsx(de,{sx:Qn.title,children:"Quiz Results"}),Kt.jsx(On,{onClick:se,sx:Qn.closeButton,children:Kt.jsx(Vj,{})})]}),Kt.jsxs(fe,{sx:Qn.resultsContainer,children:[Kt.jsxs(fe,{sx:Qn.scoreCard,children:[Kt.jsxs(de,{sx:Qn.scoreText,children:[Ie,"%"]}),Kt.jsx(de,{variant:"h6",sx:{fontFamily:"Gabarito"},children:"Final Score"}),P.total_score!==void 0&&Kt.jsxs(de,{variant:"body2",sx:{mt:1},children:[P.total_score," / ",P.total_max," points"]})]}),P.feedback&&Kt.jsx(vr,{severity:"info",sx:{mb:2},children:P.feedback}),!!m.length&&!!Object.keys(Re).length&&Kt.jsxs(fe,{children:[Kt.jsx(de,{variant:"h6",sx:{mb:2,fontFamily:"Staatliches"},children:"Question Breakdown"}),m.map(We=>{const Ve=Re[We.id]||{},V=Ve.score??0,Se=Ve.verdict==="correct"||V>=70||Ve.passed===!0;return Kt.jsxs(fe,{sx:{...Qn.feedbackCard,...Se?Qn.correctAnswer:Qn.incorrectAnswer},children:[Kt.jsxs(de,{variant:"body2",sx:{mb:1},children:["Q: ",(We==null?void 0:We.question)||"Question not found"]}),Kt.jsxs(de,{variant:"caption",color:"textSecondary",children:["Your answer: ",N[We.id]]}),Ve.score!==void 0&&Kt.jsxs(de,{variant:"caption",display:"block",sx:{mt:1},children:["Score: ",V,"/",Ve.max_score||100]}),(Ve.feedback||Ve.reasoning)&&Kt.jsx(de,{variant:"caption",display:"block",sx:{mt:1},children:Ve.feedback||Ve.reasoning})]},We.id)})]})]}),Kt.jsx(At,{fullWidth:!0,variant:"contained",onClick:se,sx:{...Qn.button,...Qn.primaryButton,mt:2},children:"Close"})]})})}const Ee=y&&y.finalCount<y.target;return Kt.jsx(kx,{open:n,onClose:se,children:Kt.jsxs(fe,{sx:Qn.modal,children:[Kt.jsxs(fe,{sx:Qn.header,children:[Kt.jsx(de,{sx:Qn.title,children:"Quiz"}),Kt.jsx(On,{onClick:se,sx:Qn.closeButton,children:Kt.jsx(Vj,{})})]}),y&&Kt.jsx(fe,{sx:{mb:1},children:Kt.jsx(cr,{label:`Mode: ${y.mode}  ${y.finalCount} Qs`,size:"small",sx:Qn.categoryBadge})}),Ee&&Kt.jsxs(vr,{severity:"info",sx:{mb:2},children:["Not enough questions available for ",y.mode,". Showing"," ",y.finalCount," instead of ",y.target,"."]}),F?Kt.jsx(fe,{sx:{display:"flex",justifyContent:"center",py:5},children:Kt.jsx(Jr,{})}):B&&!g?Kt.jsx(vr,{severity:"error",children:B}):g&&ie?Kt.jsxs(Kt.Fragment,{children:[Kt.jsx(Ko,{variant:"determinate",value:$,sx:Qn.progressBar}),Kt.jsxs(fe,{sx:Qn.questionCard,children:[Kt.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[Kt.jsxs(de,{variant:"h6",sx:{fontFamily:"Staatliches"},children:["Question ",w+1," of ",ue]}),ie.category&&Kt.jsx(cr,{label:ie.category,size:"small",sx:Qn.categoryBadge})]}),Kt.jsx(de,{sx:Qn.questionText,children:ie.question}),xe()]}),B&&Kt.jsx(vr,{severity:"error",sx:{mb:2},children:B}),Kt.jsx(fe,{sx:Qn.navigationDots,children:m.map((Ie,Re)=>{const{isCurrent:We,hasAnswer:Ve}=we(Ie.id,Re);return Kt.jsx(fe,{component:"button",onClick:()=>Z(Re),title:Ve?"Answered":"Unanswered",sx:{...Qn.dot,...Ve&&!We&&Qn.dotStates.answered,...!Ve&&!We&&Qn.dotStates.unanswered,...We&&Qn.dotStates.current}},Ie.id)})}),Kt.jsxs(fe,{sx:Qn.navigationButtons,children:[Kt.jsx(At,{startIcon:Kt.jsx(Wfe,{}),onClick:z,disabled:w===0,sx:{...Qn.button,...Qn.secondaryButton},children:"Previous"}),w===ue-1?Kt.jsx(At,{onClick:ee,disabled:k,endIcon:Kt.jsx(Xfe,{}),sx:{...Qn.button,...Qn.submitButton},children:k?Kt.jsx(Jr,{size:20}):"Submit Quiz"}):Kt.jsx(At,{endIcon:Kt.jsx(Gfe,{}),onClick:U,sx:{...Qn.button,...Qn.primaryButton},children:"Next"})]})]}):Kt.jsx(vr,{severity:"info",children:"No quiz available"})]})})}),Kj={totalQuizzes:0,completedQuizzes:0,averageScore:0,difficultyBreakdown:{easy:0,medium:0,hard:0}},QL=xp()(Wg(mv((e,n)=>({currentSession:null,sessions:[],statistics:Kj,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null,openQuizModal:(t,r="medium")=>{e({isModalOpen:!0,currentChatbotId:t,currentDifficulty:r,error:null})},closeQuizModal:()=>{e({isModalOpen:!1,error:null})},setDifficulty:t=>{e({currentDifficulty:t})},setLoading:t=>{e({loading:t})},setError:t=>{e({error:t})},startQuiz:t=>{const r={id:`session_${Date.now()}`,quizId:t.quizId,chatbotId:t.chatbotId,userId:"",difficulty:t.selection.mode,startedAt:t.startedAt,completed:!1,answers:{}};e({currentSession:r,isQuizActive:!0,currentAnswers:{},lastSummary:null,error:null})},updateAnswers:t=>{const{currentSession:r}=n();if(!r)return;const i={...t.answers};e({currentAnswers:i,currentSession:{...r,answers:i}})},submitQuiz:t=>{console.log(" Quiz Store: Quiz submitted. Data should be saved by quiz modal API:",t),e({lastSummary:t.summary,isQuizActive:!1})},closeQuiz:t=>{console.log(" Quiz Store: Quiz closed. Data handled by quiz modal API:",t),e({currentSession:null,isQuizActive:!1,isModalOpen:!1,currentAnswers:{},lastSummary:t.completed?t.summary:null})},addSession:t=>{e(r=>({sessions:[...r.sessions,t]}))},updateSession:(t,r)=>{e(i=>{var a;return{sessions:i.sessions.map(s=>s.id===t?{...s,...r}:s),currentSession:((a=i.currentSession)==null?void 0:a.id)===t?{...i.currentSession,...r}:i.currentSession}})},deleteSession:t=>{e(r=>({sessions:r.sessions.filter(i=>i.id!==t)}))},clearCurrentSession:()=>{e({currentSession:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})},updateStatistics:()=>{const{sessions:t}=n(),r=t.filter(l=>l.completed),i=r.reduce((l,u)=>{var d;return l+(((d=u.summary)==null?void 0:d.percent)||0)},0),a=t.reduce((l,u)=>({...l,[u.difficulty]:l[u.difficulty]+1}),{easy:0,medium:0,hard:0}),s={totalQuizzes:t.length,completedQuizzes:r.length,averageScore:r.length>0?i/r.length:0,difficultyBreakdown:a,lastQuizDate:t.length>0?t[t.length-1].startedAt:void 0};e({statistics:s})},saveSessionToFirestore:async t=>{try{const{db:r}=await Li(async()=>{const{db:s}=await Promise.resolve().then(()=>ep);return{db:s}},void 0),{doc:i,setDoc:a}=await Li(async()=>{const{doc:s,setDoc:l}=await import("./firebase-CTJJwFJC.js").then(u=>u.B);return{doc:s,setDoc:l}},[]);await a(i(r,"quizSessions",t.id),{...t,timestamp:new Date().toISOString()}),console.log("Quiz session saved to Firestore:",t.id)}catch(r){console.error("Failed to save quiz session:",r),e({error:"Failed to save quiz session"})}},fetchUserSessions:async t=>{try{e({loading:!0,error:null});const{db:r}=await Li(async()=>{const{db:b}=await Promise.resolve().then(()=>ep);return{db:b}},void 0),{collection:i,query:a,where:s,getDocs:l,orderBy:u}=await Li(async()=>{const{collection:b,query:m,where:x,getDocs:y,orderBy:A}=await import("./firebase-CTJJwFJC.js").then(w=>w.B);return{collection:b,query:m,where:x,getDocs:y,orderBy:A}},[]),d=a(i(r,"quizSessions"),s("userId","==",t),u("startedAt","desc")),g=(await l(d)).docs.map(b=>({id:b.id,...b.data()}));e({sessions:g,loading:!1}),n().updateStatistics()}catch(r){console.error("Failed to fetch quiz sessions:",r),e({error:"Failed to fetch quiz sessions",loading:!1})}},reset:()=>{e({currentSession:null,sessions:[],statistics:Kj,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})}}),{name:"quiz-store",partialize:e=>({currentDifficulty:e.currentDifficulty}),merge:(e,n)=>({...n,...e||{},currentDifficulty:(e==null?void 0:e.currentDifficulty)||"medium"})}),{name:"quiz-store"})),Zf=Zn(),Jf={QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents"},she=async(e,n)=>{try{const t=Ta.now(),r=Ta.fromDate(new Date(e.startedAt)),i=5*1e3,a=Ta.fromMillis(r.toMillis()-i),s=Ta.fromMillis(r.toMillis()+i),l=tl(xn(Zf,Jf.QUIZ_SESSIONS),wi("quizId","==",e.quizId),wi("userId","==",n),wi("startedAt",">=",a),wi("startedAt","<=",s),fv(1)),u=await pi(l);if(!u.empty){console.log(" Quiz session with same start time already exists, skipping duplicate:",{quizId:e.quizId,startedAt:e.startedAt,userId:n.substring(0,8)+"...",existingSessionId:u.docs[0].id});return}const d={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,startedAt:Ta.fromDate(new Date(e.startedAt)),completed:!1,difficulty:e.selection.mode,selection:{mode:e.selection.mode,target:e.selection.target,finalCount:e.selection.finalCount},createdAt:t,updatedAt:t},f={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_started",timestamp:t,data:e,createdAt:t};await Promise.all([Ma(xn(Zf,Jf.QUIZ_SESSIONS),d),Ma(xn(Zf,Jf.QUIZ_EVENTS),f)]),console.log(" Quiz start event saved to Firestore:",{quizId:e.quizId,difficulty:e.selection.mode,userId:n.substring(0,8)+"..."})}catch(t){throw console.error(" Error saving quiz start event:",t),t}},ohe=async(e,n)=>{try{const t=Ta.now(),r={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"answer_changed",timestamp:t,data:{quizId:e.quizId,chatbotId:e.chatbotId,questionId:e.questionId,value:e.value,answers:e.answers},createdAt:t};await Ma(xn(Zf,Jf.QUIZ_EVENTS),r),console.log(" Answer change event saved to Firestore:",{quizId:e.quizId,questionId:e.questionId,userId:n.substring(0,8)+"..."})}catch(t){console.error(" Error saving answer change event:",t)}},lhe=async(e,n)=>{try{const t=Ta.now(),r=Ta.fromMillis(t.toMillis()-3600*1e3),i=tl(xn(Zf,Jf.QUIZ_SESSIONS),wi("quizId","==",e.quizId),wi("userId","==",n),wi("completed","==",!1),wi("createdAt",">=",r),dv("createdAt","desc")),a=await pi(i);if(a.empty)throw console.error(" No incomplete session found for quiz submission - this should not happen!",{quizId:e.quizId,userId:n.substring(0,8)+"...",submittedAt:e.submittedAt}),new Error("No matching quiz session found for submission");{const l=a.docs[0],u=l.ref,d=l.data(),f={submittedAt:Ta.fromDate(new Date(e.submittedAt)),completed:!0,finalAnswers:e.answers,summary:e.summary,updatedAt:t};await Wr(u,f),console.log(" Updated quiz session:",{quizId:e.quizId,difficulty:d.difficulty,score:`${e.summary.total_score}/${e.summary.total_max}`,userId:n.substring(0,8)+"..."})}const s={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_submitted",timestamp:t,data:e,createdAt:t};await Ma(xn(Zf,Jf.QUIZ_EVENTS),s),console.log(" Quiz submission saved to Firestore:",{quizId:e.quizId,score:`${e.summary.total_score}/${e.summary.total_max} (${e.summary.percent}%)`})}catch(t){throw console.error(" Error saving quiz submission:",t),t}},uhe=async(e,n)=>{try{const t=Ta.now(),r=tl(xn(Zf,Jf.QUIZ_SESSIONS),wi("quizId","==",e.quizId),wi("userId","==",n)),i=await pi(r);if(!i.empty){const l=i.docs[0].ref,u={closedAt:Ta.fromDate(new Date(e.closedAt)),updatedAt:t};e.completed&&e.summary&&(u.completed=!0,u.finalAnswers=e.answers,u.summary=e.summary),await Wr(l,u)}const a={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_closed",timestamp:t,data:e,createdAt:t};await Ma(xn(Zf,Jf.QUIZ_EVENTS),a),console.log(" Quiz close event saved to Firestore:",{quizId:e.quizId,completed:e.completed})}catch(t){throw console.error(" Error saving quiz close event:",t),t}},KL=Q.forwardRef(({chatbotId:e,difficulty:n,open:t,onClose:r,eventHandlers:i},a)=>{const{userDetails:s}=Ai(),l=Q.useRef(null),{startQuiz:u,updateAnswers:d,submitQuiz:f,closeQuiz:g,setError:b}=QL(),m=Q.useCallback(C=>{console.log("Quiz started:",C),u(C),s!=null&&s.uid&&she(C,s.uid).catch(N=>{console.error("Failed to save quiz start event:",N)}),i!=null&&i.onQuizStart&&i.onQuizStart(C)},[s==null?void 0:s.uid,u,i]),x=Q.useCallback(C=>{if(console.log("Answer changed:",C),d(C),s!=null&&s.uid){const N={...C,chatbotId:C.chatbotId||e};ohe(N,s.uid).catch(R=>{console.warn("Failed to save answer change event:",R)})}i!=null&&i.onAnswerChange&&i.onAnswerChange(C)},[d,i,s==null?void 0:s.uid,e]),y=Q.useCallback(C=>{console.log("Quiz submitted:",C),f(C),s!=null&&s.uid&&lhe(C,s.uid).catch(N=>{console.error("Failed to save quiz submission event:",N)}),i!=null&&i.onQuizSubmit&&i.onQuizSubmit(C)},[f,i,s==null?void 0:s.uid]),A=Q.useCallback(C=>{console.log("Quiz closed:",C),g(C),s!=null&&s.uid&&uhe(C,s.uid).catch(N=>{console.error("Failed to save quiz close event:",N)}),i!=null&&i.onQuizClose&&i.onQuizClose(C)},[g,i,s==null?void 0:s.uid]),w=Q.useCallback((C,N)=>{console.error("Error in",N,C),b(`Quiz ${N} failed: ${C.message}`),i!=null&&i.onError&&i.onError(C,N)},[b,i]);return Q.useImperativeHandle(a,()=>({reloadQuiz:()=>{l.current&&l.current.reloadQuiz()},clearProgress:()=>{l.current&&l.current.clearProgress()},submit:()=>{l.current&&l.current.submit()},getAnswers:()=>l.current?l.current.getAnswers():{},getSummary:()=>l.current?l.current.getSummary():null,close:()=>{l.current&&l.current.close(),r()}})),h.jsx(ahe,{ref:l,chatbotId:e,open:t,onClose:r,difficulty:n,onQuizStart:m,onAnswerChange:x,onQuizSubmit:y,onQuizClose:A,onError:w})});KL.displayName="QuizWrapper";const che=({onStartQuiz:e,disabled:n=!1})=>{const[t,r]=Q.useState(null),i=!!t,a=d=>{r(d.currentTarget)},s=()=>{r(null)},l=d=>{e(d),s()},u=[{value:"easy",description:"~5 questions",icon:h.jsx(Dd,{color:"success"}),color:"success"},{value:"medium",description:"~8 questions",icon:h.jsx($R,{color:"warning"}),color:"warning"},{value:"hard",description:"Up to 10 questions",icon:h.jsx(HR,{color:"error"}),color:"error"}];return h.jsxs(h.Fragment,{children:[h.jsx(At,{variant:"contained",onClick:a,disabled:n,startIcon:i?h.jsx(lg,{}):h.jsx(Mc,{}),sx:{background:"#0B53C0",color:"white",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",px:3,py:1.5,borderRadius:"12px",textTransform:"none","&:hover":{background:"#064a9e",boxShadow:"0px 4px 12px rgba(11, 83, 192, 0.3)"},"&:disabled":{background:"#ccc",color:"#999"},boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease-in-out"},children:"Start Quiz"}),h.jsxs(UR,{anchorEl:t,open:i,onClose:s,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},PaperProps:{sx:{minWidth:300,borderRadius:2,border:"1px solid #e0e0e0",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)","& .MuiMenuItem-root":{py:1.5,px:2,borderRadius:1,mx:1,mb:.5,"&:hover":{backgroundColor:"#f5f5f5",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},"&:last-child":{mb:1}}}},children:[h.jsx(fe,{sx:{px:2,py:1.5,borderBottom:"1px solid #e0e0e0",backgroundColor:"#CDDAFF"},children:h.jsx(de,{variant:"subtitle1",sx:{fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.1rem",textAlign:"center"},children:"Select Quiz Difficulty"})}),u.map(d=>h.jsxs(Xn,{onClick:()=>l(d.value),children:[h.jsx(Qy,{sx:{minWidth:40},children:d.icon}),h.jsx(Ol,{primary:h.jsx(de,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#333",fontWeight:"bold"},children:d.value.charAt(0).toUpperCase()+d.value.slice(1)}),secondary:h.jsx(de,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666",fontSize:"0.875rem"},children:d.description})})]},d.value))]})]})},C0="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",dhe=({defaultDifficulty:e="medium",position:n="fixed"})=>{const{userDetails:t}=Ai(),[r]=$g(),i=Q.useRef(null),{isModalOpen:a,currentChatbotId:s,currentDifficulty:l,statistics:u,openQuizModal:d,closeQuizModal:f,setDifficulty:g,fetchUserSessions:b,setError:m}=QL(),[x,y]=at.useState(C0);Q.useEffect(()=>{const R=r.get("material");if(!R){x!==C0&&y(C0);return}(async()=>{try{console.log(" Fetching chatbot ID for quiz material:",R);const q=Zn(),k=xn(q,"chatbots"),L=tl(k,wi("material.id","==",R)),B=await pi(L);if(B.empty)console.log(` No chatbot found for material ${R}, using default for quiz:`,C0),y(C0);else{const X=B.docs[0].data();console.log(` Found chatbot for quiz material ${R}:`,X.chatbotId),y(X.chatbotId)}}catch(q){console.error("Failed to fetch chatbot for quiz:",q),m("Failed to load quiz for this material"),y(C0)}})()},[r,x,m]),Q.useEffect(()=>{t!=null&&t.uid&&b(t.uid)},[t==null?void 0:t.uid,b]),Q.useEffect(()=>{g(e)},[e,g]);const A=Q.useCallback(R=>{x?d(x,R):m("No chatbot available for quiz")},[x,d,m]),w=Q.useCallback(()=>{f()},[f]);if(!(t!=null&&t.uid)||!r.get("material"))return null;const N=n==="fixed"?{position:"fixed",bottom:120,right:16,zIndex:1e3}:{position:"relative"};return h.jsxs(h.Fragment,{children:[h.jsx(fe,{sx:N,children:h.jsx(che,{onStartQuiz:A,disabled:!x})}),a&&s&&h.jsx(KL,{ref:i,chatbotId:s,difficulty:l,open:a,onClose:w,eventHandlers:{onQuizStart:R=>{},onQuizSubmit:R=>{},onError:(R,F)=>{console.error("Quiz error:",F,R)}}})]})},fhe=({children:e})=>h.jsxs(fe,{sx:{display:"flex",flexDirection:"column",height:"100vh",backgroundColor:ge.background.primary,overflow:"hidden"},children:[h.jsx(fe,{component:"header",sx:{height:"12.5vh",minHeight:90,zIndex:1100,flexShrink:0},children:h.jsx(dee,{})}),h.jsx(fe,{component:"main",sx:{height:"77.5vh",display:"flex",flexGrow:1,overflow:"hidden"},children:h.jsx(cee,{children:e})}),h.jsx(fe,{component:"footer",sx:{height:"10vh",minHeight:70,flexShrink:0},children:h.jsx(fee,{})}),h.jsx(bue,{}),h.jsx(dhe,{}),h.jsx(MM,{})]}),hhe=()=>{const{userDetails:e,isSuperAdmin:n}=Ai(),t=see(e,n),r=U3(t);return e!=null&&e.uid?h.jsx(fhe,{children:r}):r},phe=()=>{const{userDetails:e,loading:n}=Ai();if(n)return h.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:h.jsx(Jr,{})});const t="/nexlab";return e!=null&&e.uid,h.jsxs(WR,{theme:oee,children:[h.jsx(VR,{}),h.jsx(sM,{basename:t,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:h.jsx(Q.Suspense,{fallback:h.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:h.jsx(Jr,{})}),children:h.jsx(hhe,{})})})]})},mhe=document.getElementById("root"),ghe=h3.createRoot(mhe);ghe.render(h.jsx(hM,{children:h.jsx(phe,{})}));export{XF as A,ZF as B,vp as C,fee as D,KT as E,XT as F,JF as G,ep as H,Che as I,Fl as P,Cv as R,WM as V,Li as _,Yt as a,Rt as b,ge as c,wc as d,TT as e,uh as f,qT as g,NM as h,OT as i,ft as j,ma as k,Rhe as l,h4 as m,p4 as n,$g as o,RM as p,She as q,$d as r,gt as s,Be as t,Ai as u,xp as v,Wg as w,mv as x,vX as y,TJ as z};
