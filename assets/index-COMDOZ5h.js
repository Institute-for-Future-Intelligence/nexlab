const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Bz6jUV7i.js","assets/vendor-DeqkGhWy.js","assets/index-DlpswmMY.js","assets/MaterialImportWrapper-CVOZaCkH.js","assets/ui-CMMQRcxn.js","assets/firebase-DlMVyB9t.js","assets/index.es-BfdOBKoe.js","assets/index-Dr1sw0m-.js","assets/index-5Zv73RPk.js","assets/purify.es-CQJ0hv7W.js","assets/SupplementalMaterials-B8NDcqRV.js"])))=>i.map(i=>d[i]);
var pW=Object.defineProperty;var mW=(t,r,n)=>r in t?pW(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n;var wt=(t,r,n)=>mW(t,typeof r!="symbol"?r+"":r,n);import{r as Y,R as k1,j as C,C as qr,P as Rn,E as dP,T as ze,B as Le,a as xt,b as hP,A as Sr,H as gW,c as fP,d as at,e as ia,f as Lk,g as bW,h as pP,G as Qt,D as Zs,I as or,i as jk,k as eu,l as R_,m as hd,n as yo,o as vo,p as Ao,q as Ss,s as _o,t as mP,u as xg,v as Sg,w as ni,x as oc,y as Eg,L as Dg,M as kW,S as is,z as uk,F as Jf,J as Zf,K as Sn,N as dk,O as wW,Q as yW,U as vW,V as Ir,W as gP,X as Zt,Y as AW,Z as w1,_ as F_,$ as kp,a0 as _W,a1 as hg,a2 as bP,a3 as kP,a4 as wP,a5 as Bk,a6 as id,a7 as od,a8 as hc,a9 as CW,aa as yP,ab as fd,ac as pd,ad as md,ae as Co,af as It,ag as gd,ah as xW,ai as SW,aj as ed,ak as td,al as EW,am as DW,an as IW,ao as vP,ap as TW,aq as AP,ar as dI,as as NW,at as MW,au as hI,av as z_,aw as PW,ax as OW,ay as LW,az as jW,aA as ll,aB as Yl,aC as _P,aD as CP,aE as U_,aF as xP,aG as Rk,aH as BW,aI as RW,aJ as FW,aK as zW,aL as bv,aM as UW,aN as qW,aO as VW,aP as SP,aQ as $W,aR as EP,aS as q_,aT as qh,aU as mc,aV as We,aW as wn,aX as HW,aY as DP,aZ as bn,a_ as WW,a$ as GW,b0 as YW,b1 as KW}from"./ui-CMMQRcxn.js";import{a as QW,g as ou,b as su,r as JW,c as Ku}from"./vendor-DeqkGhWy.js";import{g as ZW,G as XW,o as eG,b as tG,a as nG,s as rG,c as iG,d as oG,P as er,e as yn,f as _s,h as _h,m as IP,i as xr,j as sG,k as Hg,R as Dp,x as aG,_ as Yn,I as lG,y as Wg,r as y1,u as V_,l as v1,p as oa,n as np,q as xo,K as cG,W as $_,t as Gg,Q as uG}from"./firebase-DlMVyB9t.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var R0={},fI;function dG(){if(fI)return R0;fI=1;var t=QW();return R0.createRoot=t.createRoot,R0.hydrateRoot=t.hydrateRoot,R0}var hG=dG();const fG=ou(hG);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ig.apply(this,arguments)}var gh;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(gh||(gh={}));const pI="popstate";function pG(t){t===void 0&&(t={});function r(o,a){let{pathname:l,search:d,hash:h}=o.location;return NA("",{pathname:l,search:d,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){return typeof a=="string"?a:NP(a)}return gG(r,n,null,t)}function Vo(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function TP(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function mG(){return Math.random().toString(36).substr(2,8)}function mI(t,r){return{usr:t.state,key:t.key,idx:r}}function NA(t,r,n,o){return n===void 0&&(n=null),Ig({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?Yg(r):r,{state:n,key:r&&r.key||o||mG()})}function NP(t){let{pathname:r="/",search:n="",hash:o=""}=t;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function Yg(t){let r={};if(t){let n=t.indexOf("#");n>=0&&(r.hash=t.substr(n),t=t.substr(0,n));let o=t.indexOf("?");o>=0&&(r.search=t.substr(o),t=t.substr(0,o)),t&&(r.pathname=t)}return r}function gG(t,r,n,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:l=!1}=o,d=a.history,h=gh.Pop,p=null,g=b();g==null&&(g=0,d.replaceState(Ig({},d.state,{idx:g}),""));function b(){return(d.state||{idx:null}).idx}function v(){h=gh.Pop;let D=b(),E=D==null?null:D-g;g=D,p&&p({action:h,location:_.location,delta:E})}function y(D,E){h=gh.Push;let N=NA(_.location,D,E);g=b()+1;let P=mI(N,g),F=_.createHref(N);try{d.pushState(P,"",F)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;a.location.assign(F)}l&&p&&p({action:h,location:_.location,delta:1})}function k(D,E){h=gh.Replace;let N=NA(_.location,D,E);g=b();let P=mI(N,g),F=_.createHref(N);d.replaceState(P,"",F),l&&p&&p({action:h,location:_.location,delta:0})}function x(D){let E=a.location.origin!=="null"?a.location.origin:a.location.href,N=typeof D=="string"?D:NP(D);return N=N.replace(/ $/,"%20"),Vo(E,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,E)}let _={get action(){return h},get location(){return t(a,d)},listen(D){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(pI,v),p=D,()=>{a.removeEventListener(pI,v),p=null}},createHref(D){return r(a,D)},createURL:x,encodeLocation(D){let E=x(D);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:k,go(D){return d.go(D)}};return _}var gI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(gI||(gI={}));function bG(t,r,n){return n===void 0&&(n="/"),kG(t,r,n)}function kG(t,r,n,o){let a=typeof r=="string"?Yg(r):r,l=OP(a.pathname||"/",n);if(l==null)return null;let d=MP(t);wG(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let g=NG(l);h=DG(d[p],g)}return h}function MP(t,r,n,o){r===void 0&&(r=[]),n===void 0&&(n=[]),o===void 0&&(o="");let a=(l,d,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};p.relativePath.startsWith("/")&&(Vo(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let g=Ch([o,p.relativePath]),b=n.concat(p);l.children&&l.children.length>0&&(Vo(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),MP(l.children,r,b,g)),!(l.path==null&&!l.index)&&r.push({path:g,score:SG(g,l.index),routesMeta:b})};return t.forEach((l,d)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,d);else for(let p of PP(l.path))a(l,d,p)}),r}function PP(t){let r=t.split("/");if(r.length===0)return[];let[n,...o]=r,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(o.length===0)return a?[l,""]:[l];let d=PP(o.join("/")),h=[];return h.push(...d.map(p=>p===""?l:[l,p].join("/"))),a&&h.push(...d),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function wG(t){t.sort((r,n)=>r.score!==n.score?n.score-r.score:EG(r.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const yG=/^:[\w-]+$/,vG=3,AG=2,_G=1,CG=10,xG=-2,bI=t=>t==="*";function SG(t,r){let n=t.split("/"),o=n.length;return n.some(bI)&&(o+=xG),r&&(o+=AG),n.filter(a=>!bI(a)).reduce((a,l)=>a+(yG.test(l)?vG:l===""?_G:CG),o)}function EG(t,r){return t.length===r.length&&t.slice(0,-1).every((o,a)=>o===r[a])?t[t.length-1]-r[r.length-1]:0}function DG(t,r,n){let{routesMeta:o}=t,a={},l="/",d=[];for(let h=0;h<o.length;++h){let p=o[h],g=h===o.length-1,b=l==="/"?r:r.slice(l.length)||"/",v=IG({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),y=p.route;if(!v)return null;Object.assign(a,v.params),d.push({params:a,pathname:Ch([l,v.pathname]),pathnameBase:LG(Ch([l,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(l=Ch([l,v.pathnameBase]))}return d}function IG(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,o]=TG(t.path,t.caseSensitive,t.end),a=r.match(n);if(!a)return null;let l=a[0],d=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:o.reduce((g,b,v)=>{let{paramName:y,isOptional:k}=b;if(y==="*"){let _=h[v]||"";d=l.slice(0,l.length-_.length).replace(/(.)\/+$/,"$1")}const x=h[v];return k&&!x?g[y]=void 0:g[y]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:d,pattern:t}}function TG(t,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),TP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(o.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),o]}function NG(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return TP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function OP(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,o=t.charAt(n);return o&&o!=="/"?null:t.slice(n)||"/"}function MG(t,r){r===void 0&&(r="/");let{pathname:n,search:o="",hash:a=""}=typeof t=="string"?Yg(t):t;return{pathname:n?n.startsWith("/")?n:PG(n,r):r,search:jG(o),hash:BG(a)}}function PG(t,r){let n=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function kv(t,r,n,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OG(t){return t.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function LP(t,r){let n=OG(t);return r?n.map((o,a)=>a===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function jP(t,r,n,o){o===void 0&&(o=!1);let a;typeof t=="string"?a=Yg(t):(a=Ig({},t),Vo(!a.pathname||!a.pathname.includes("?"),kv("?","pathname","search",a)),Vo(!a.pathname||!a.pathname.includes("#"),kv("#","pathname","hash",a)),Vo(!a.search||!a.search.includes("#"),kv("#","search","hash",a)));let l=t===""||a.pathname==="",d=l?"/":a.pathname,h;if(d==null)h=n;else{let v=r.length-1;if(!o&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),v-=1;a.pathname=y.join("/")}h=v>=0?r[v]:"/"}let p=MG(a,h),g=d&&d!=="/"&&d.endsWith("/"),b=(l||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}const Ch=t=>t.join("/").replace(/\/\/+/g,"/"),LG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const BP=["post","put","patch","delete"];new Set(BP);const FG=["get",...BP];new Set(FG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fk(){return Fk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Fk.apply(this,arguments)}const H_=Y.createContext(null),zG=Y.createContext(null),Kg=Y.createContext(null),W_=Y.createContext(null),bd=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),RP=Y.createContext(null);function Qg(){return Y.useContext(W_)!=null}function A1(){return Qg()||Vo(!1),Y.useContext(W_).location}function FP(t){Y.useContext(Kg).static||Y.useLayoutEffect(t)}function Vr(){let{isDataRoute:t}=Y.useContext(bd);return t?XG():UG()}function UG(){Qg()||Vo(!1);let t=Y.useContext(H_),{basename:r,future:n,navigator:o}=Y.useContext(Kg),{matches:a}=Y.useContext(bd),{pathname:l}=A1(),d=JSON.stringify(LP(a,n.v7_relativeSplatPath)),h=Y.useRef(!1);return FP(()=>{h.current=!0}),Y.useCallback(function(g,b){if(b===void 0&&(b={}),!h.current)return;if(typeof g=="number"){o.go(g);return}let v=jP(g,JSON.parse(d),l,b.relative==="path");t==null&&r!=="/"&&(v.pathname=v.pathname==="/"?r:Ch([r,v.pathname])),(b.replace?o.replace:o.push)(v,b.state,b)},[r,o,d,l,t])}function G_(){let{matches:t}=Y.useContext(bd),r=t[t.length-1];return r?r.params:{}}function qG(t,r){return VG(t)}function VG(t,r,n,o){Qg()||Vo(!1);let{navigator:a}=Y.useContext(Kg),{matches:l}=Y.useContext(bd),d=l[l.length-1],h=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let g=A1(),b;b=g;let v=b.pathname||"/",y=v;if(p!=="/"){let _=p.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(_.length).join("/")}let k=bG(t,{pathname:y});return YG(k&&k.map(_=>Object.assign({},_,{params:Object.assign({},h,_.params),pathname:Ch([p,a.encodeLocation?a.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?p:Ch([p,a.encodeLocation?a.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),l,n,o)}function $G(){let t=ZG(),r=RG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},r),n?Y.createElement("pre",{style:a},n):null,null)}const HG=Y.createElement($G,null);class WG extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?Y.createElement(bd.Provider,{value:this.props.routeContext},Y.createElement(RP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GG(t){let{routeContext:r,match:n,children:o}=t,a=Y.useContext(H_);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(bd.Provider,{value:r},o)}function YG(t,r,n,o){var a;if(r===void 0&&(r=[]),n===void 0&&(n=null),o===void 0&&(o=null),t==null){var l;if(!n)return null;if(n.errors)t=n.matches;else if((l=o)!=null&&l.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let d=t,h=(a=n)==null?void 0:a.errors;if(h!=null){let b=d.findIndex(v=>v.route.id&&(h==null?void 0:h[v.route.id])!==void 0);b>=0||Vo(!1),d=d.slice(0,Math.min(d.length,b+1))}let p=!1,g=-1;if(n&&o&&o.v7_partialHydration)for(let b=0;b<d.length;b++){let v=d[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=b),v.route.id){let{loaderData:y,errors:k}=n,x=v.route.loader&&y[v.route.id]===void 0&&(!k||k[v.route.id]===void 0);if(v.route.lazy||x){p=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((b,v,y)=>{let k,x=!1,_=null,D=null;n&&(k=h&&v.route.id?h[v.route.id]:void 0,_=v.route.errorElement||HG,p&&(g<0&&y===0?(eY("route-fallback"),x=!0,D=null):g===y&&(x=!0,D=v.route.hydrateFallbackElement||null)));let E=r.concat(d.slice(0,y+1)),N=()=>{let P;return k?P=_:x?P=D:v.route.Component?P=Y.createElement(v.route.Component,null):v.route.element?P=v.route.element:P=b,Y.createElement(GG,{match:v,routeContext:{outlet:b,matches:E,isDataRoute:n!=null},children:P})};return n&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?Y.createElement(WG,{location:n.location,revalidation:n.revalidation,component:_,error:k,children:N(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):N()},null)}var zP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zP||{}),UP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(UP||{});function KG(t){let r=Y.useContext(H_);return r||Vo(!1),r}function QG(t){let r=Y.useContext(zG);return r||Vo(!1),r}function JG(t){let r=Y.useContext(bd);return r||Vo(!1),r}function qP(t){let r=JG(),n=r.matches[r.matches.length-1];return n.route.id||Vo(!1),n.route.id}function ZG(){var t;let r=Y.useContext(RP),n=QG(),o=qP();return r!==void 0?r:(t=n.errors)==null?void 0:t[o]}function XG(){let{router:t}=KG(zP.UseNavigateStable),r=qP(UP.UseNavigateStable),n=Y.useRef(!1);return FP(()=>{n.current=!0}),Y.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Fk({fromRouteId:r},l)))},[t,r])}const kI={};function eY(t,r,n){kI[t]||(kI[t]=!0)}function tY(t,r){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function VP(t){let{to:r,replace:n,state:o,relative:a}=t;Qg()||Vo(!1);let{future:l,static:d}=Y.useContext(Kg),{matches:h}=Y.useContext(bd),{pathname:p}=A1(),g=Vr(),b=jP(r,LP(h,l.v7_relativeSplatPath),p,a==="path"),v=JSON.stringify(b);return Y.useEffect(()=>g(JSON.parse(v),{replace:n,state:o,relative:a}),[g,v,a,n,o]),null}function nY(t){let{basename:r="/",children:n=null,location:o,navigationType:a=gh.Pop,navigator:l,static:d=!1,future:h}=t;Qg()&&Vo(!1);let p=r.replace(/^\/*/,"/"),g=Y.useMemo(()=>({basename:p,navigator:l,static:d,future:Fk({v7_relativeSplatPath:!1},h)}),[p,h,l,d]);typeof o=="string"&&(o=Yg(o));let{pathname:b="/",search:v="",hash:y="",state:k=null,key:x="default"}=o,_=Y.useMemo(()=>{let D=OP(b,p);return D==null?null:{location:{pathname:D,search:v,hash:y,state:k,key:x},navigationType:a}},[p,b,v,y,k,x,a]);return _==null?null:Y.createElement(Kg.Provider,{value:g},Y.createElement(W_.Provider,{children:n,value:_}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function MA(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,n)=>{let o=t[n];return r.concat(Array.isArray(o)?o.map(a=>[n,a]):[[n,o]])},[]))}function rY(t,r){let n=MA(t);return r&&r.forEach((o,a)=>{n.has(a)||r.getAll(a).forEach(l=>{n.append(a,l)})}),n}const iY="6";try{window.__reactRouterVersion=iY}catch{}const oY="startTransition",wI=k1[oY];function sY(t){let{basename:r,children:n,future:o,window:a}=t,l=Y.useRef();l.current==null&&(l.current=pG({window:a,v5Compat:!0}));let d=l.current,[h,p]=Y.useState({action:d.action,location:d.location}),{v7_startTransition:g}=o||{},b=Y.useCallback(v=>{g&&wI?wI(()=>p(v)):p(v)},[p,g]);return Y.useLayoutEffect(()=>d.listen(b),[d,b]),Y.useEffect(()=>tY(o),[o]),Y.createElement(nY,{basename:r,children:n,location:h.location,navigationType:h.action,navigator:d,future:o})}var yI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yI||(yI={}));var vI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(vI||(vI={}));function _1(t){let r=Y.useRef(MA(t)),n=Y.useRef(!1),o=A1(),a=Y.useMemo(()=>rY(o.search,n.current?null:r.current),[o.search]),l=Vr(),d=Y.useCallback((h,p)=>{const g=MA(typeof h=="function"?h(a):h);n.current=!0,l("?"+g,p)},[l,a]);return[a,d]}const aY="modulepreload",lY=function(t){return"/nexlab/"+t},AI={},Ki=function(r,n,o){let a=Promise.resolve();if(n&&n.length>0){let d=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=d(n.map(g=>{if(g=lY(g),g in AI)return;AI[g]=!0;const b=g.endsWith(".css"),v=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const y=document.createElement("link");if(y.rel=b?"stylesheet":aY,b||(y.as="script"),y.crossOrigin="",y.href=g,p&&y.setAttribute("nonce",p),document.head.appendChild(y),b)return new Promise((k,x)=>{y.addEventListener("load",k),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return a.then(d=>{for(const h of d||[])h.status==="rejected"&&l(h.reason);return r().catch(l)})};var Hs=(t=>(t.NETWORK="NETWORK",t.AUTHENTICATION="AUTHENTICATION",t.AUTHORIZATION="AUTHORIZATION",t.VALIDATION="VALIDATION",t.NOT_FOUND="NOT_FOUND",t.SERVER_ERROR="SERVER_ERROR",t.UNKNOWN="UNKNOWN",t))(Hs||{});const _I={"auth/user-not-found":{type:"AUTHENTICATION",message:"No user found with this email address."},"auth/wrong-password":{type:"AUTHENTICATION",message:"Incorrect password. Please try again."},"auth/user-disabled":{type:"AUTHORIZATION",message:"This account has been disabled. Please contact support."},"auth/too-many-requests":{type:"NETWORK",message:"Too many failed attempts. Please try again later."},"auth/network-request-failed":{type:"NETWORK",message:"Network error. Please check your connection and try again."},"permission-denied":{type:"AUTHORIZATION",message:"You do not have permission for this action."},"not-found":{type:"NOT_FOUND",message:"The requested resource was not found."},unavailable:{type:"NETWORK",message:"Service is temporarily unavailable. Please try again."}},mh=class mh{constructor(){wt(this,"errorQueue",[]);wt(this,"maxErrorQueueSize",50)}static getInstance(){return mh.instance||(mh.instance=new mh),mh.instance}handleError(r,n){const o=this.createAppError(r,n);return this.logError(o),this.queueError(o),o}createAppError(r,n){let o="UNKNOWN",a="An unexpected error occurred.";if(r!=null&&r.code&&_I[r.code]){const l=_I[r.code];o=l.type,a=l.message}else r!=null&&r.message&&(a=r.message,r.message.includes("network")||r.message.includes("fetch")?o="NETWORK":r.message.includes("unauthorized")||r.message.includes("permission")?o="AUTHORIZATION":r.message.includes("not found")?o="NOT_FOUND":r.message.includes("validation")&&(o="VALIDATION"));return{type:o,message:a,originalError:r instanceof Error?r:new Error(String(r)),context:{...n,userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString()},timestamp:new Date,userId:n==null?void 0:n.userId}}logError(r){const n=`[${r.type}] ${r.message}`,o={error:r.originalError,context:r.context,timestamp:r.timestamp};switch(r.type){case"NETWORK":case"NOT_FOUND":console.warn(n,o);break;case"AUTHENTICATION":case"AUTHORIZATION":case"VALIDATION":console.error(n,o);break;case"SERVER_ERROR":case"UNKNOWN":console.error(n,o);break}}queueError(r){this.errorQueue.push(r),this.errorQueue.length>this.maxErrorQueueSize&&this.errorQueue.shift()}getErrorQueue(){return[...this.errorQueue]}clearErrorQueue(){this.errorQueue=[]}getUserFriendlyMessage(r){return r.message}shouldRetry(r){return r.type==="NETWORK"}};wt(mh,"instance");let Tg=mh;const CI=async(t,r)=>{try{return{data:await t()}}catch(n){return{error:Tg.getInstance().handleError(n,r)}}},cY=()=>{const t=Tg.getInstance();return{handleError:(a,l)=>t.handleError(a,l),getUserFriendlyMessage:a=>t.getUserFriendlyMessage(a),shouldRetry:a=>t.shouldRetry(a)}};Tg.getInstance();class uY{constructor(){wt(this,"auth",null);wt(this,"googleProvider",null)}initialize(){this.auth||(Ki(()=>Promise.resolve().then(()=>op),void 0),this.auth=ZW(),this.googleProvider=new XW)}async signInWithGoogle(r=!0){this.initialize();const n=await CI(async()=>{const o=r?tG:nG;await rG(this.auth,o);const a=await iG(this.auth,this.googleProvider);if(!a.user)throw new Error("No user returned from authentication");return a.user},{operation:"google_sign_in",keepSignedIn:r});if(n.error)throw n.error;return n.data}async signOut(){this.initialize();const r=await CI(async()=>{await oG(this.auth)},{operation:"sign_out"});if(r.error)throw r.error}onAuthStateChanged(r){return this.initialize(),eG(this.auth,r)}getCurrentUser(){return this.initialize(),this.auth.currentUser}getErrorMessage(r){return{"auth/network-request-failed":"Login Failed: Network error, please check your connection.","auth/popup-closed-by-user":"Login Failed: The sign-in popup was closed before completion.","auth/cancelled-popup-request":"Login Failed: Another sign-in request was made before the first one was completed.","auth/popup-blocked":"Login Failed: The sign-in popup was blocked by the browser. Please allow popups for this site.","auth/user-disabled":"Login Failed: This account has been disabled.","auth/user-not-found":"Login Failed: No account found with this email.","auth/wrong-password":"Login Failed: Incorrect password.","auth/too-many-requests":"Login Failed: Too many failed attempts. Please try again later."}[r]||"Login Failed: An unexpected error occurred."}}const $P=new uY;class dY{constructor(){wt(this,"db",null);wt(this,"publicCourseId");if(this.publicCourseId="rqoyheM9Lf8jGftIoZyT",!this.publicCourseId)throw new Error("Public course ID is not defined in environment variables.")}initialize(){this.db||(Ki(()=>Promise.resolve().then(()=>op),void 0),this.db=er())}async getUserDetails(r){this.initialize();try{const n=yn(this.db,"users",r),o=await _s(n);return o.exists()?{...o.data(),uid:r}:null}catch(n){throw console.error("Error fetching user details:",n),new Error("Failed to fetch user details")}}async createUserDocument(r){this.initialize();try{const n=await this.getPublicCourseInfo(),o=yn(this.db,"users",r.uid),a={isAdmin:!1,isSuperAdmin:!1,lastLogin:_h(),classes:{[this.publicCourseId]:n}};return await IP(o,a),{uid:r.uid,isAdmin:!1,isSuperAdmin:!1,lastLogin:_h(),classes:{[this.publicCourseId]:n}}}catch(n){throw console.error("Error creating user document:",n),new Error("Failed to create user document")}}async updateUserLogin(r){this.initialize();try{const n=yn(this.db,"users",r);await xr(n,{lastLogin:_h()})}catch(n){throw console.error("Error updating user login:",n),new Error("Failed to update user login")}}async refreshUserDetails(r){return this.getUserDetails(r)}async ensurePublicCourseAccess(r,n){this.initialize();try{if(n.classes&&n.classes[this.publicCourseId])return n;const o=await this.getPublicCourseInfo(),a=yn(this.db,"users",r);return await xr(a,{[`classes.${this.publicCourseId}`]:o}),{...n,classes:{...n.classes||{},[this.publicCourseId]:o}}}catch(o){throw console.error("Error ensuring public course access:",o),new Error("Failed to ensure public course access")}}async getPublicCourseInfo(){this.initialize();try{const r=yn(this.db,"courses",this.publicCourseId),n=await _s(r);if(!n.exists())throw new Error("Public course document does not exist in the courses collection!");const o=n.data();if(!o||!o.number||!o.title)throw new Error("Public course data is incomplete or invalid.");return{number:o.number,title:o.title,isCourseAdmin:!1}}catch(r){throw console.error("Error fetching public course info:",r),new Error("Failed to fetch public course information")}}}const Um=new dY,hY={apiKey:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",authDomain:"nexlab-prod.firebaseapp.com",projectId:"nexlab-prod",storageBucket:"nexlab-prod.firebasestorage.app",messagingSenderId:"922352392986",appId:"1:922352392986:web:6c4d6e16b5e615bd4daaa3"},Y_=sG(hY),HP=er(Y_),fY=Hg(Y_),op=Object.freeze(Object.defineProperty({__proto__:null,app:Y_,db:HP,storage:fY},Symbol.toStringTag,{value:"Module"})),WP=Y.createContext(void 0),pY=({children:t})=>{const[r,n]=Y.useState(null),[o,a]=Y.useState(null),[l,d]=Y.useState(!1),[h,p]=Y.useState(!0),[g,b]=Y.useState(null);Y.useEffect(()=>{const y=$P.onAuthStateChanged(async k=>{p(!0),b(null);try{if(k){console.log("User is signed in with UID:",k.uid);let x=await Um.getUserDetails(k.uid);x?(await Um.updateUserLogin(k.uid),x=await Um.ensurePublicCourseAccess(k.uid,x)):(console.log("User document does not exist. Creating a new one..."),x=await Um.createUserDocument(k)),a(x),d(x.isSuperAdmin||!1)}else a(null),d(!1);n(k)}catch(x){console.error("Error managing user authentication:",x),b(x instanceof Error?x:new Error("Failed to manage user authentication")),n(null),a(null),d(!1)}finally{p(!1)}});return()=>y()},[]);const v=async()=>{if(!r){console.warn("No user signed in, cannot refresh user details");return}try{const y=await Um.refreshUserDetails(r.uid);y?(a(y),d(y.isSuperAdmin||!1)):(console.error("User document does not exist. Unable to refresh user details."),b(new Error("User document not found")))}catch(y){console.error("Error refreshing user details:",y),b(y instanceof Error?y:new Error("Failed to refresh user details"))}};return C.jsx(WP.Provider,{value:{user:r,userDetails:o,setUserDetails:a,refreshUserDetails:v,loading:h,error:g,isSuperAdmin:l},children:t})},Ti=()=>{const t=Y.useContext(WP);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t},bs=({element:t})=>{const{userDetails:r,loading:n}=Ti();return n?C.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:C.jsx(qr,{})}):r?C.jsx(t,{}):C.jsx(VP,{to:"/"})};let GP=class extends Y.Component{constructor(n){super(n);wt(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,o){console.error("ErrorBoundary caught an error:",n,o),this.setState({error:n,errorInfo:o}),this.props.onError&&this.props.onError(n,o)}render(){var n;return this.state.hasError?this.props.fallbackComponent?this.props.fallbackComponent:C.jsxs(Rn,{elevation:3,sx:{p:4,m:2,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0"},children:[C.jsx(dP,{color:"error",sx:{fontSize:48,mb:2}}),C.jsx(ze,{variant:"h5",gutterBottom:!0,color:"error",children:"Something went wrong"}),C.jsx(ze,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),C.jsxs(Le,{sx:{mb:3},children:[C.jsx(xt,{variant:"contained",color:"primary",startIcon:C.jsx(hP,{}),onClick:this.handleRetry,sx:{mr:2},children:"Try Again"}),C.jsx(xt,{variant:"outlined",color:"primary",onClick:()=>window.location.reload(),children:"Refresh Page"})]}),this.props.showDetails&&this.state.error&&C.jsxs(Sr,{severity:"error",sx:{textAlign:"left",mt:2},children:[C.jsx(ze,{variant:"subtitle2",gutterBottom:!0,children:"Error Details:"}),C.jsxs(ze,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",fontSize:"0.75rem",fontFamily:"monospace"},children:[this.state.error.message,((n=this.state.errorInfo)==null?void 0:n.componentStack)&&C.jsxs(C.Fragment,{children:[`

Component Stack:`,this.state.errorInfo.componentStack]})]})]})]}):this.props.children}};const mY=()=>{const t=Vr();return C.jsxs(Rn,{elevation:3,sx:{p:4,m:4,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0",maxWidth:600,mx:"auto",mt:8},children:[C.jsx(dP,{color:"error",sx:{fontSize:64,mb:2}}),C.jsx(ze,{variant:"h4",gutterBottom:!0,color:"error",children:"Page Error"}),C.jsx(ze,{variant:"body1",sx:{mb:4,color:"text.secondary"},children:"This page encountered an error and cannot be displayed. You can try going back to the previous page or return to the home page."}),C.jsxs(Le,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[C.jsx(xt,{variant:"contained",color:"primary",startIcon:C.jsx(gW,{}),onClick:()=>t("/"),children:"Go to Home"}),C.jsx(xt,{variant:"outlined",color:"primary",startIcon:C.jsx(fP,{}),onClick:()=>t(-1),children:"Go Back"}),C.jsx(xt,{variant:"outlined",color:"secondary",onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})},YP=({children:t,showDetails:r})=>C.jsx(GP,{fallbackComponent:C.jsx(mY,{}),showDetails:r,onError:(n,o)=>{console.error("Route Error:",{error:n.message,stack:n.stack,componentStack:o.componentStack,url:window.location.href,timestamp:new Date().toISOString()})},children:t});class gY{constructor(){wt(this,"db",null);wt(this,"cacheKey","messages")}initialize(){this.db||(Ki(()=>Promise.resolve().then(()=>op),void 0),this.db=er())}subscribeToMessages(r){this.initialize();const n=Dp(Yn(this.db,"messages"),aG("postedOn","desc"));return lG(n,o=>{const a=o.docs.map(l=>({id:l.id,...l.data()}));r(a),this.setCachedMessages(a)},o=>{console.error("Error listening to messages:",o);const a=this.getCachedMessages();a&&r(a)})}getCachedMessages(){try{const r=sessionStorage.getItem(this.cacheKey);return r?JSON.parse(r):null}catch(r){return console.error("Error reading cached messages:",r),null}}setCachedMessages(r){try{sessionStorage.setItem(this.cacheKey,JSON.stringify(r))}catch(n){console.error("Error caching messages:",n)}}clearCache(){try{sessionStorage.removeItem(this.cacheKey)}catch(r){console.error("Error clearing message cache:",r)}}async togglePinMessage(r,n){this.initialize();try{const o=yn(this.db,"messages",r);await xr(o,{isPinned:!n})}catch(o){throw console.error("Error toggling pin status:",o),o}}async deleteMessage(r){try{const n=yn(this.db,"messages",r);await Wg(n)}catch(n){throw console.error("Error deleting message:",n),n}}}const F0=new gY,xI=t=>{let r;const n=new Set,o=(g,b)=>{const v=typeof g=="function"?g(r):g;if(!Object.is(v,r)){const y=r;r=b??(typeof v!="object"||v===null)?v:Object.assign({},r,v),n.forEach(k=>k(r,y))}},a=()=>r,h={setState:o,getState:a,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=r=t(o,a,h);return h},bY=t=>t?xI(t):xI,kY=t=>t;function wY(t,r=kY){const n=at.useSyncExternalStore(t.subscribe,()=>r(t.getState()),()=>r(t.getInitialState()));return at.useDebugValue(n),n}const SI=t=>{const r=bY(t),n=o=>wY(r,o);return Object.assign(n,r),n},Jg=t=>t?SI(t):SI,yY=()=>Math.random().toString(36).substr(2,9),vY=t=>{switch(t){case Hs.NETWORK:return"🌐";case Hs.AUTHENTICATION:return"🔒";case Hs.AUTHORIZATION:return"⛔";case Hs.VALIDATION:return"⚠️";case Hs.NOT_FOUND:return"🔍";case Hs.SERVER_ERROR:return"🚨";default:return"❌"}},AY=t=>{switch(t){case Hs.NETWORK:return 8e3;case Hs.AUTHENTICATION:case Hs.AUTHORIZATION:return 1e4;case Hs.VALIDATION:return 6e3;case Hs.NOT_FOUND:return 5e3;default:return 7e3}},KP=Jg((t,r)=>({notifications:[],addNotification:n=>{const o={...n,id:yY(),timestamp:new Date,duration:n.duration??5e3};t(a=>({notifications:[...a.notifications,o]})),o.duration>0&&setTimeout(()=>{r().removeNotification(o.id)},o.duration)},removeNotification:n=>{t(o=>({notifications:o.notifications.filter(a=>a.id!==n)}))},clearAll:()=>{t({notifications:[]})},showError:(n,o)=>{const a=vY(n.type),l=AY(n.type),d=[];n.type===Hs.NETWORK&&d.push({label:"Retry",action:()=>{console.log("Retry requested for:",n)},primary:!0}),r().addNotification({type:"error",title:`${a} ${n.type.replace("_"," ")} Error`,message:n.message,duration:l,actions:o||d,error:n})},showSuccess:(n,o)=>{r().addNotification({type:"success",title:o||"✅ Success",message:n,duration:4e3})},showWarning:(n,o)=>{r().addNotification({type:"warning",title:o||"⚠️ Warning",message:n,duration:6e3})},showInfo:(n,o)=>{r().addNotification({type:"info",title:o||"ℹ️ Info",message:n,duration:5e3})}})),_Y=()=>{const[t,r]=Y.useState([]),[n,o]=Y.useState(!0),[a,l]=Y.useState(null),{handleError:d}=cY(),{showError:h,showSuccess:p}=KP();return Y.useEffect(()=>{const y=F0.getCachedMessages();y&&(r(y),o(!1));const k=F0.subscribeToMessages(x=>{r(x),l(null),y||o(!1)});return()=>{k()}},[]),{messages:t,loading:n,error:a,deleteMessage:async y=>{try{await F0.deleteMessage(y),p("Message deleted successfully")}catch(k){const x=d(k,{operation:"delete_message",messageId:y});l(x.message),h(x)}},togglePinMessage:async(y,k)=>{try{await F0.togglePinMessage(y,k),p(`Message ${k?"unpinned":"pinned"} successfully`)}catch(x){const _=d(x,{operation:"toggle_pin_message",messageId:y,currentPinStatus:k});l(_.message),h(_)}},clearError:()=>{l(null)}}},ul=({title:t,onClick:r,disabled:n=!1,disabledTooltip:o,lockIcon:a=!1,className:l="menu-item"})=>{const d=C.jsx(Lk,{className:l,children:C.jsx(bW,{onClick:r,disabled:n,children:C.jsx(pP,{children:C.jsxs(ze,{className:"menu-item-typography",variant:"h6",component:"div",sx:n?{color:"#9e9e9e",opacity:.5}:{},children:[t,a&&C.jsx("span",{style:{marginLeft:8},children:"🔒"})]})})})});return n&&o?C.jsx(ia,{title:o,children:C.jsx("span",{children:d})}):d},CY=({userDetails:t})=>{const r=Vr(),n=t&&!t.isAdmin&&(!t.classes||Object.keys(t.classes).length===0);return C.jsxs(C.Fragment,{children:[C.jsx(Qt,{item:!0,xs:12,children:C.jsx(ul,{title:"My Account",onClick:()=>r("/my-profile")})}),C.jsx(Qt,{item:!0,xs:12,children:C.jsx(ul,{title:"Laboratory Notebook",onClick:()=>r("/laboratory-notebooks"),disabled:n,disabledTooltip:"The Laboratory Notebook is accessible to users enrolled in an academic course. Please enroll in a course via 'My Account' by following the instructions provided by your academic instructor.",lockIcon:n})}),C.jsx(Qt,{item:!0,xs:12,children:C.jsx(ul,{title:"Course Materials",onClick:()=>r("/supplemental-materials")})})]})},EI={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"256599ed-a0a2-496f-990d-c51faaefd71a",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},Ng=new Map,z0=t=>{const r=Ng.get(t);return r?Object.fromEntries(Object.entries(r.stores).map(([n,o])=>[n,o.getState()])):{}},xY=(t,r,n)=>{if(t===void 0)return{type:"untracked",connection:r.connect(n)};const o=Ng.get(n.name);if(o)return{type:"tracked",store:t,...o};const a={connection:r.connect(n),stores:{}};return Ng.set(n.name,a),{type:"tracked",store:t,...a}},SY=(t,r)=>{if(r===void 0)return;const n=Ng.get(t);n&&(delete n.stores[r],Object.keys(n.stores).length===0&&Ng.delete(t))},EY=t=>{var r,n;if(!t)return;const o=t.split(`
`),a=o.findIndex(d=>d.includes("api.setState"));if(a<0)return;const l=((r=o[a+1])==null?void 0:r.trim())||"";return(n=/.+ (.+) .+/.exec(l))==null?void 0:n[1]},DY=(t,r={})=>(n,o,a)=>{const{enabled:l,anonymousActionType:d,store:h,...p}=r;let g;try{g=(l??(EI?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!g)return t(n,o,a);const{connection:b,...v}=xY(h,g,p);let y=!0;a.setState=(_,D,E)=>{const N=n(_,D);if(!y)return N;const P=E===void 0?{type:d||EY(new Error().stack)||"anonymous"}:typeof E=="string"?{type:E}:E;return h===void 0?(b==null||b.send(P,o()),N):(b==null||b.send({...P,type:`${h}/${P.type}`},{...z0(p.name),[h]:a.getState()}),N)},a.devtools={cleanup:()=>{b&&typeof b.unsubscribe=="function"&&b.unsubscribe(),SY(p.name,h)}};const k=(..._)=>{const D=y;y=!1,n(..._),y=D},x=t(a.setState,o,a);if(v.type==="untracked"?b==null||b.init(x):(v.stores[v.store]=a,b==null||b.init(Object.fromEntries(Object.entries(v.stores).map(([_,D])=>[_,_===v.store?x:D.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let _=!1;const D=a.dispatch;a.dispatch=(...E)=>{(EI?"production":void 0)!=="production"&&E[0].type==="__setState"&&!_&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),_=!0),D(...E)}}return b.subscribe(_=>{var D;switch(_.type){case"ACTION":if(typeof _.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return wv(_.payload,E=>{if(E.type==="__setState"){if(h===void 0){k(E.state);return}Object.keys(E.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const N=E.state[h];if(N==null)return;JSON.stringify(a.getState())!==JSON.stringify(N)&&k(N);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(E)});case"DISPATCH":switch(_.payload.type){case"RESET":return k(x),h===void 0?b==null?void 0:b.init(a.getState()):b==null?void 0:b.init(z0(p.name));case"COMMIT":if(h===void 0){b==null||b.init(a.getState());return}return b==null?void 0:b.init(z0(p.name));case"ROLLBACK":return wv(_.state,E=>{if(h===void 0){k(E),b==null||b.init(a.getState());return}k(E[h]),b==null||b.init(z0(p.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return wv(_.state,E=>{if(h===void 0){k(E);return}JSON.stringify(a.getState())!==JSON.stringify(E[h])&&k(E[h])});case"IMPORT_STATE":{const{nextLiftedState:E}=_.payload,N=(D=E.computedStates.slice(-1)[0])==null?void 0:D.state;if(!N)return;k(h===void 0?N:N[h]),b==null||b.send(null,E);return}case"PAUSE_RECORDING":return y=!y}return}}),x},C1=DY,wv=(t,r)=>{let n;try{n=JSON.parse(t)}catch(o){console.error("[zustand devtools middleware] Could not parse the received json",o)}n!==void 0&&r(n)};function IY(t,r){let n;try{n=t()}catch{return}return{getItem:a=>{var l;const d=p=>p===null?null:JSON.parse(p,void 0),h=(l=n.getItem(a))!=null?l:null;return h instanceof Promise?h.then(d):d(h)},setItem:(a,l)=>n.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>n.removeItem(a)}}const PA=t=>r=>{try{const n=t(r);return n instanceof Promise?n:{then(o){return PA(o)(n)},catch(o){return this}}}catch(n){return{then(o){return this},catch(o){return PA(o)(n)}}}},TY=(t,r)=>(n,o,a)=>{let l={storage:IY(()=>localStorage),partialize:_=>_,version:0,merge:(_,D)=>({...D,..._}),...r},d=!1;const h=new Set,p=new Set;let g=l.storage;if(!g)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(..._)},o,a);const b=()=>{const _=l.partialize({...o()});return g.setItem(l.name,{state:_,version:l.version})},v=a.setState;a.setState=(_,D)=>{v(_,D),b()};const y=t((..._)=>{n(..._),b()},o,a);a.getInitialState=()=>y;let k;const x=()=>{var _,D;if(!g)return;d=!1,h.forEach(N=>{var P;return N((P=o())!=null?P:y)});const E=((D=l.onRehydrateStorage)==null?void 0:D.call(l,(_=o())!=null?_:y))||void 0;return PA(g.getItem.bind(g))(l.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==l.version){if(l.migrate){const P=l.migrate(N.state,N.version);return P instanceof Promise?P.then(F=>[!0,F]):[!0,P]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var P;const[F,V]=N;if(k=l.merge(V,(P=o())!=null?P:y),n(k,!0),F)return b()}).then(()=>{E==null||E(k,void 0),k=o(),d=!0,p.forEach(N=>N(k))}).catch(N=>{E==null||E(void 0,N)})};return a.persist={setOptions:_=>{l={...l,..._},_.storage&&(g=_.storage)},clearStorage:()=>{g==null||g.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>x(),hasHydrated:()=>d,onHydrate:_=>(h.add(_),()=>{h.delete(_)}),onFinishHydration:_=>(p.add(_),()=>{p.delete(_)})},l.skipHydration||x(),k||y},QP=TY,JP=Jg()(C1(QP((t,r)=>({globalLoading:!1,pageLoading:{},openDialogs:{},currentPage:"/",previousPage:null,navigationSections:{educatorExpanded:!1,superAdminExpanded:!1},sidebarCollapsed:!1,theme:"light",setGlobalLoading:n=>t({globalLoading:n}),setPageLoading:(n,o)=>t(a=>({pageLoading:{...a.pageLoading,[n]:o}})),openDialog:n=>t(o=>({openDialogs:{...o.openDialogs,[n]:!0}})),closeDialog:n=>t(o=>({openDialogs:{...o.openDialogs,[n]:!1}})),toggleDialog:n=>t(o=>({openDialogs:{...o.openDialogs,[n]:!o.openDialogs[n]}})),isDialogOpen:n=>!!r().openDialogs[n],setCurrentPage:n=>t(o=>({currentPage:n,previousPage:o.currentPage})),toggleEducatorSection:()=>t(n=>({navigationSections:{...n.navigationSections,educatorExpanded:!n.navigationSections.educatorExpanded}})),toggleSuperAdminSection:()=>t(n=>({navigationSections:{...n.navigationSections,superAdminExpanded:!n.navigationSections.superAdminExpanded}})),setEducatorSectionExpanded:n=>t(o=>({navigationSections:{...o.navigationSections,educatorExpanded:n}})),setSuperAdminSectionExpanded:n=>t(o=>({navigationSections:{...o.navigationSections,superAdminExpanded:n}})),setSidebarCollapsed:n=>t({sidebarCollapsed:n}),toggleSidebar:()=>t(n=>({sidebarCollapsed:!n.sidebarCollapsed})),setTheme:n=>t({theme:n}),toggleTheme:()=>t(n=>({theme:n.theme==="light"?"dark":"light"}))}),{name:"ui-preferences",partialize:t=>({sidebarCollapsed:t.sidebarCollapsed,theme:t.theme,navigationSections:t.navigationSections})}))),NY=()=>{const t=Vr(),{navigationSections:r,toggleEducatorSection:n}=JP(),o=r.educatorExpanded;return C.jsx(C.Fragment,{children:C.jsxs(Qt,{item:!0,xs:12,children:[C.jsx(Zs,{sx:{my:2}}),C.jsxs(Le,{sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",py:1.5,px:2,mx:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},borderRadius:2,transition:"background-color 0.2s"},onClick:n,children:[C.jsx(ze,{className:"general-menu-title",variant:"h6",component:"h2",sx:{flexGrow:1,textAlign:"center"},children:"Educator Access"}),C.jsx(or,{size:"small",sx:{ml:2,p:.5,color:"primary.main","&:hover":{backgroundColor:"primary.light",color:"primary.contrastText"}},"aria-label":o?"collapse educator section":"expand educator section",children:o?C.jsx(jk,{fontSize:"small"}):C.jsx(eu,{fontSize:"small"})})]}),C.jsx(R_,{in:o,timeout:"auto",unmountOnExit:!0,children:C.jsxs(Le,{sx:{mt:2,px:1},children:[C.jsx(ul,{title:"Course Management",onClick:()=>t("/course-management")}),C.jsx(Le,{sx:{mt:1},children:C.jsx(ul,{title:"Chatbot Management",onClick:()=>t("/chatbot-management")})})]})})]})})},MY=()=>{const t=Vr(),{navigationSections:r,toggleSuperAdminSection:n}=JP(),o=r.superAdminExpanded;return C.jsx(C.Fragment,{children:C.jsxs(Qt,{item:!0,xs:12,children:[C.jsx(Zs,{sx:{my:2}}),C.jsxs(Le,{sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",py:1.5,px:2,mx:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},borderRadius:2,transition:"background-color 0.2s"},onClick:n,children:[C.jsx(ze,{className:"general-menu-title",variant:"h6",component:"h2",sx:{flexGrow:1,textAlign:"center"},children:"Super-Admin Access"}),C.jsx(or,{size:"small",sx:{ml:2,p:.5,color:"primary.main","&:hover":{backgroundColor:"primary.light",color:"primary.contrastText"}},"aria-label":o?"collapse super-admin section":"expand super-admin section",children:o?C.jsx(jk,{fontSize:"small"}):C.jsx(eu,{fontSize:"small"})})]}),C.jsx(R_,{in:o,timeout:"auto",unmountOnExit:!0,children:C.jsxs(Le,{sx:{mt:2,px:1},children:[C.jsx(ul,{title:"User Management",onClick:()=>t("/user-management")}),C.jsx(Le,{sx:{mt:1},children:C.jsx(ul,{title:"Course Management",onClick:()=>t("/super-admin-course-management")})}),C.jsx(Le,{sx:{mt:1},children:C.jsx(ul,{title:"Educator Requests",onClick:()=>t("/educator-requests")})}),C.jsx(Le,{sx:{mt:1},children:C.jsx(ul,{title:"Course Requests",onClick:()=>t("/course-requests")})}),C.jsx(Le,{sx:{mt:1},children:C.jsx(ul,{title:"Chatbot Requests",onClick:()=>t("/super-admin-chatbot-requests")})}),C.jsx(Le,{sx:{mt:1},children:C.jsx(ul,{title:"Chatbot Conversations",onClick:()=>t("/chatbot-conversations")})})]})})]})})},PY=({userDetails:t,isSuperAdmin:r})=>C.jsx(Le,{className:"menu-container",children:C.jsxs(Qt,{container:!0,spacing:2,justifyContent:"center",children:[C.jsx(CY,{userDetails:t}),(t==null?void 0:t.isAdmin)&&C.jsx(NY,{}),r&&C.jsx(MY,{})]})}),DI=({messageId:t,onDelete:r})=>{const[n,o]=Y.useState(!1),a=er(),l=()=>{o(!0)},d=()=>{o(!1)},h=async()=>{try{await Wg(yn(a,"messages",t)),r(t),d()}catch(p){console.error("Error deleting message: ",p)}};return C.jsxs(C.Fragment,{children:[C.jsx(or,{onClick:l,children:C.jsx(hd,{})}),C.jsxs(yo,{open:n,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[C.jsx(vo,{id:"alert-dialog-title",children:"Confirm Delete"}),C.jsx(Ao,{children:C.jsx(Ss,{id:"alert-dialog-description",children:"Are you sure you want to delete this message? This action cannot be undone."})}),C.jsxs(_o,{children:[C.jsx(xt,{onClick:d,color:"primary",children:"Cancel"}),C.jsx(xt,{onClick:h,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},II=({message:t,togglePinMessage:r})=>{const n=async()=>{try{await r(t.id,t.isPinned||!1)}catch(o){console.error("Error updating pin status: ",o)}};return C.jsx(or,{onClick:n,sx:{marginRight:1},children:C.jsx(mP,{color:t.isPinned?"primary":"inherit"})})},Qu=t=>t?typeof t=="object"&&"toDate"in t?t.toDate().toLocaleString():typeof t=="object"&&"seconds"in t?new Date(t.seconds*1e3).toLocaleString():"N/A":"No data available",OY=({messages:t,userDetails:r,navigate:n,handleDeleteMessage:o,togglePinMessage:a})=>{const[l,d]=Y.useState(0),h=3,p=t.filter(P=>(r==null?void 0:r.classes)&&P.course in r.classes),g=p.filter(P=>P.isPinned),b=p.filter(P=>!P.isPinned),v=(l+1)*h,y=v-h,k=b.slice(y,v),x=Math.ceil(b.length/h),_=()=>d(P=>P+1),D=()=>d(P=>P-1),E=P=>{var F,V;return!!(r!=null&&r.isSuperAdmin||(V=(F=r==null?void 0:r.classes)==null?void 0:F[P.course])!=null&&V.isCourseAdmin)},N=P=>{var V;const F=(V=r==null?void 0:r.classes)==null?void 0:V[P];return F?`${F.number}`:"Unknown Course"};return C.jsxs(Le,{className:"messages-display-container",children:[" ",g.length>0&&C.jsxs(Rn,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#FBFADA",borderRadius:"15px"},children:[C.jsxs(Le,{className:"pinned-section",children:[C.jsx(mP,{color:"primary",sx:{mr:1}}),C.jsx(ze,{variant:"h6",className:"pinned-title",children:"Pinned"})]}),g.map(P=>C.jsx(Lk,{className:"messages-card",children:C.jsxs(xg,{children:[C.jsx(Sg,{expandIcon:C.jsx(eu,{}),"aria-controls":`panel-${P.id}-content`,id:`panel-${P.id}-header`,children:C.jsxs(Qt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[C.jsxs(Qt,{item:!0,children:[C.jsxs(Le,{display:"flex",alignItems:"center",children:[C.jsx(ni,{label:N(P.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),C.jsxs(ze,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",Qu(P.postedOn)," |"]}),P.lastUpdatedOn&&C.jsxs(ze,{variant:"subtitle2",className:"message-updated-on",children:["| Last Updated: ",Qu(P.lastUpdatedOn)]})]}),C.jsxs(ze,{variant:"h6",className:"message-title",children:["Subject: ",P.title]})]}),E(P)&&C.jsxs(Qt,{item:!0,children:[C.jsx(II,{message:P,togglePinMessage:a}),C.jsx(or,{onClick:()=>n(`/edit-message/${P.id}`),sx:{marginRight:1},children:C.jsx(oc,{})}),C.jsx(DI,{messageId:P.id,onDelete:o})]})]})}),C.jsx(Eg,{children:C.jsxs(Le,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[C.jsx(ze,{variant:"body1",className:"message-description",children:P.description}),P.links&&P.links.some(F=>F.title&&F.url)&&C.jsxs(Le,{sx:{mt:1},children:[C.jsx(ze,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),P.links.map((F,V)=>F.title&&F.url&&C.jsxs(Le,{sx:{mt:1},children:[C.jsxs(ze,{variant:"body2",component:"span",className:"message-link",children:["🔗 ",F.title,": "]}),C.jsx(Dg,{href:F.url,target:"_blank",rel:"noopener",children:F.url})]},V))]})]})})]})},P.id))]}),C.jsx(Rn,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#f5f5f5",borderRadius:"15px"},children:k.map(P=>C.jsx(Lk,{className:"messages-card",children:C.jsxs(xg,{children:[C.jsx(Sg,{expandIcon:C.jsx(eu,{}),"aria-controls":`panel-${P.id}-content`,id:`panel-${P.id}-header`,children:C.jsxs(Qt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[C.jsxs(Qt,{item:!0,children:[C.jsxs(Le,{display:"flex",alignItems:"center",children:[C.jsx(ni,{label:N(P.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),C.jsxs(ze,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",Qu(P.postedOn)]}),P.lastUpdatedOn&&C.jsxs(ze,{variant:"subtitle2",className:"message-updated-on",children:["Last Updated: ",Qu(P.lastUpdatedOn)]})]}),C.jsxs(ze,{variant:"h6",className:"message-title",children:["Subject: ",P.title]})]}),E(P)&&C.jsxs(Qt,{item:!0,children:[C.jsx(II,{message:P,togglePinMessage:a}),C.jsx(or,{onClick:()=>n(`/edit-message/${P.id}`),sx:{marginRight:1},children:C.jsx(oc,{})}),C.jsx(DI,{messageId:P.id,onDelete:o})]})]})}),C.jsx(Eg,{children:C.jsxs(Le,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[C.jsx(ze,{variant:"body1",className:"message-description",children:P.description}),P.links&&P.links.some(F=>F.title&&F.url)&&C.jsxs(Le,{sx:{mt:1},children:[C.jsx(ze,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),P.links.map((F,V)=>F.title&&F.url&&C.jsxs(Le,{sx:{mt:1},children:[C.jsxs(ze,{variant:"body2",component:"span",className:"message-link",children:["🔗 ",F.title,": "]}),C.jsx(Dg,{href:F.url,target:"_blank",rel:"noopener",children:F.url})]},V))]})]})})]})},P.id))}),C.jsxs(Le,{className:"pagination-container",children:[" ",C.jsx(xt,{onClick:D,disabled:l===0,className:"pagination-button",children:"Previous"}),C.jsx(xt,{onClick:_,disabled:l>=x-1,className:"pagination-button",children:"Next"})]})]})},LY=({messages:t,loading:r,userDetails:n,handleDeleteMessage:o,togglePinMessage:a})=>{const l=Vr();return C.jsxs(Le,{className:"messages-container",children:[C.jsxs(Le,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[C.jsxs(Le,{sx:{display:"flex",alignItems:"center"},children:[C.jsx(kW,{sx:{mr:1}}),C.jsx(ze,{variant:"h5",component:"h4",className:"inbox-text",children:"Inbox"})]}),(n==null?void 0:n.isAdmin)&&C.jsx(xt,{variant:"contained",onClick:()=>l("/add-message"),sx:{backgroundColor:"#CDDAFF",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",border:"0px solid #0B53C0"}},children:"+ Add Message"})]}),r?C.jsx(Le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px"},children:C.jsx(qr,{})}):C.jsx(OY,{messages:t,userDetails:n,navigate:l,handleDeleteMessage:o,togglePinMessage:a})]})},jY=()=>{const{userDetails:t,isSuperAdmin:r}=Ti(),[n,o]=Y.useState(!1),{messages:a,loading:l,deleteMessage:d,togglePinMessage:h}=_Y(),p=(b,v)=>{v!=="clickaway"&&o(!1)},g=b=>{d(b)};return C.jsxs(Le,{sx:{flexGrow:1,padding:3},children:[C.jsxs(Qt,{container:!0,spacing:3,children:[C.jsx(Qt,{item:!0,xs:12,md:3,children:C.jsx(PY,{userDetails:t,isSuperAdmin:r})}),C.jsx(Qt,{item:!0,xs:12,md:9,children:C.jsx(LY,{messages:a,loading:l,userDetails:t,handleDeleteMessage:g,togglePinMessage:h})})]}),C.jsx(is,{open:n,autoHideDuration:6e3,onClose:p,children:C.jsx(Sr,{onClose:p,severity:"success",sx:{width:"100%"},children:"User ID copied to clipboard!"})})]})};let U0;const BY=new Uint8Array(16);function RY(){if(!U0&&(U0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!U0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return U0(BY)}const ko=[];for(let t=0;t<256;++t)ko.push((t+256).toString(16).slice(1));function FY(t,r=0){return ko[t[r+0]]+ko[t[r+1]]+ko[t[r+2]]+ko[t[r+3]]+"-"+ko[t[r+4]]+ko[t[r+5]]+"-"+ko[t[r+6]]+ko[t[r+7]]+"-"+ko[t[r+8]]+ko[t[r+9]]+"-"+ko[t[r+10]]+ko[t[r+11]]+ko[t[r+12]]+ko[t[r+13]]+ko[t[r+14]]+ko[t[r+15]]}const zY=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),TI={randomUUID:zY};function Pa(t,r,n){if(TI.randomUUID&&!t)return TI.randomUUID();t=t||{};const o=t.random||(t.rng||RY)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,FY(o)}var NI;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(NI||(NI={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MI;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(MI||(MI={}));var PI;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(PI||(PI={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=["user","model","function","system"];var LI;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(LI||(LI={}));var jI;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(jI||(jI={}));var BI;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(BI||(BI={}));var RI;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(RI||(RI={}));var fg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(fg||(fg={}));var FI;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(FI||(FI={}));var zI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(zI||(zI={}));var UI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(UI||(UI={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends Error{constructor(r){super(`[GoogleGenerativeAI Error]: ${r}`)}}class jf extends Fo{constructor(r,n){super(r),this.response=n}}class ZP extends Fo{constructor(r,n,o,a){super(r),this.status=n,this.statusText=o,this.errorDetails=a}}class nd extends Fo{}class XP extends Fo{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UY="https://generativelanguage.googleapis.com",qY="v1beta",VY="0.24.1",$Y="genai-js";var Oh;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Oh||(Oh={}));class HY{constructor(r,n,o,a,l){this.model=r,this.task=n,this.apiKey=o,this.stream=a,this.requestOptions=l}toString(){var r,n;const o=((r=this.requestOptions)===null||r===void 0?void 0:r.apiVersion)||qY;let l=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||UY}/${o}/${this.model}:${this.task}`;return this.stream&&(l+="?alt=sse"),l}}function WY(t){const r=[];return t!=null&&t.apiClient&&r.push(t.apiClient),r.push(`${$Y}/${VY}`),r.join(" ")}async function GY(t){var r;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",WY(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let o=(r=t.requestOptions)===null||r===void 0?void 0:r.customHeaders;if(o){if(!(o instanceof Headers))try{o=new Headers(o)}catch(a){throw new nd(`unable to convert customHeaders value ${JSON.stringify(o)} to Headers: ${a.message}`)}for(const[a,l]of o.entries()){if(a==="x-goog-api-key")throw new nd(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new nd(`Header name ${a} can only be set using the apiClient field`);n.append(a,l)}}return n}async function YY(t,r,n,o,a,l){const d=new HY(t,r,n,o,l);return{url:d.toString(),fetchOptions:Object.assign(Object.assign({},ZY(l)),{method:"POST",headers:await GY(d),body:a})}}async function Zg(t,r,n,o,a,l={},d=fetch){const{url:h,fetchOptions:p}=await YY(t,r,n,o,a,l);return KY(h,p,d)}async function KY(t,r,n=fetch){let o;try{o=await n(t,r)}catch(a){QY(a,t)}return o.ok||await JY(o,t),o}function QY(t,r){let n=t;throw n.name==="AbortError"?(n=new XP(`Request aborted when fetching ${r.toString()}: ${t.message}`),n.stack=t.stack):t instanceof ZP||t instanceof nd||(n=new Fo(`Error fetching from ${r.toString()}: ${t.message}`),n.stack=t.stack),n}async function JY(t,r){let n="",o;try{const a=await t.json();n=a.error.message,a.error.details&&(n+=` ${JSON.stringify(a.error.details)}`,o=a.error.details)}catch{}throw new ZP(`Error fetching from ${r.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,o)}function ZY(t){const r={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),r.signal=n.signal}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),hk(t.candidates[0]))throw new jf(`${Wu(t)}`,t);return XY(t)}else if(t.promptFeedback)throw new jf(`Text not available. ${Wu(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),hk(t.candidates[0]))throw new jf(`${Wu(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),qI(t)[0]}else if(t.promptFeedback)throw new jf(`Function call not available. ${Wu(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),hk(t.candidates[0]))throw new jf(`${Wu(t)}`,t);return qI(t)}else if(t.promptFeedback)throw new jf(`Function call not available. ${Wu(t)}`,t)},t}function XY(t){var r,n,o,a;const l=[];if(!((n=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||n===void 0)&&n.parts)for(const d of(a=(o=t.candidates)===null||o===void 0?void 0:o[0].content)===null||a===void 0?void 0:a.parts)d.text&&l.push(d.text),d.executableCode&&l.push("\n```"+d.executableCode.language+`
`+d.executableCode.code+"\n```\n"),d.codeExecutionResult&&l.push("\n```\n"+d.codeExecutionResult.output+"\n```\n");return l.length>0?l.join(""):""}function qI(t){var r,n,o,a;const l=[];if(!((n=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||n===void 0)&&n.parts)for(const d of(a=(o=t.candidates)===null||o===void 0?void 0:o[0].content)===null||a===void 0?void 0:a.parts)d.functionCall&&l.push(d.functionCall);if(l.length>0)return l}const eK=[fg.RECITATION,fg.SAFETY,fg.LANGUAGE];function hk(t){return!!t.finishReason&&eK.includes(t.finishReason)}function Wu(t){var r,n,o;let a="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)a+="Response was blocked",!((r=t.promptFeedback)===null||r===void 0)&&r.blockReason&&(a+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(a+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((o=t.candidates)===null||o===void 0)&&o[0]){const l=t.candidates[0];hk(l)&&(a+=`Candidate was blocked due to ${l.finishReason}`,l.finishMessage&&(a+=`: ${l.finishMessage}`))}return a}function Mg(t){return this instanceof Mg?(this.v=t,this):new Mg(t)}function tK(t,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,r||[]),a,l=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(y){o[y]&&(a[y]=function(k){return new Promise(function(x,_){l.push([y,k,x,_])>1||h(y,k)})})}function h(y,k){try{p(o[y](k))}catch(x){v(l[0][3],x)}}function p(y){y.value instanceof Mg?Promise.resolve(y.value.v).then(g,b):v(l[0][2],y)}function g(y){h("next",y)}function b(y){h("throw",y)}function v(y,k){y(k),l.shift(),l.length&&h(l[0][0],l[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function nK(t){const r=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=oK(r),[o,a]=n.tee();return{stream:iK(o),response:rK(a)}}async function rK(t){const r=[],n=t.getReader();for(;;){const{done:o,value:a}=await n.read();if(o)return K_(sK(r));r.push(a)}}function iK(t){return tK(this,arguments,function*(){const n=t.getReader();for(;;){const{value:o,done:a}=yield Mg(n.read());if(a)break;yield yield Mg(K_(o))}})}function oK(t){const r=t.getReader();return new ReadableStream({start(o){let a="";return l();function l(){return r.read().then(({value:d,done:h})=>{if(h){if(a.trim()){o.error(new Fo("Failed to parse stream"));return}o.close();return}a+=d;let p=a.match(VI),g;for(;p;){try{g=JSON.parse(p[1])}catch{o.error(new Fo(`Error parsing JSON response: "${p[1]}"`));return}o.enqueue(g),a=a.substring(p[0].length),p=a.match(VI)}return l()}).catch(d=>{let h=d;throw h.stack=d.stack,h.name==="AbortError"?h=new XP("Request aborted when reading from the stream"):h=new Fo("Error reading from the stream"),h})}}})}function sK(t){const r=t[t.length-1],n={promptFeedback:r==null?void 0:r.promptFeedback};for(const o of t){if(o.candidates){let a=0;for(const l of o.candidates)if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:a}),n.candidates[a].citationMetadata=l.citationMetadata,n.candidates[a].groundingMetadata=l.groundingMetadata,n.candidates[a].finishReason=l.finishReason,n.candidates[a].finishMessage=l.finishMessage,n.candidates[a].safetyRatings=l.safetyRatings,l.content&&l.content.parts){n.candidates[a].content||(n.candidates[a].content={role:l.content.role||"user",parts:[]});const d={};for(const h of l.content.parts)h.text&&(d.text=h.text),h.functionCall&&(d.functionCall=h.functionCall),h.executableCode&&(d.executableCode=h.executableCode),h.codeExecutionResult&&(d.codeExecutionResult=h.codeExecutionResult),Object.keys(d).length===0&&(d.text=""),n.candidates[a].content.parts.push(d)}a++}o.usageMetadata&&(n.usageMetadata=o.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(t,r,n,o){const a=await Zg(r,Oh.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),o);return nK(a)}async function tO(t,r,n,o){const l=await(await Zg(r,Oh.GENERATE_CONTENT,t,!1,JSON.stringify(n),o)).json();return{response:K_(l)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Pg(t){let r=[];if(typeof t=="string")r=[{text:t}];else for(const n of t)typeof n=="string"?r.push({text:n}):r.push(n);return aK(r)}function aK(t){const r={role:"user",parts:[]},n={role:"function",parts:[]};let o=!1,a=!1;for(const l of t)"functionResponse"in l?(n.parts.push(l),a=!0):(r.parts.push(l),o=!0);if(o&&a)throw new Fo("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!o&&!a)throw new Fo("No content is provided for sending chat message.");return o?r:n}function lK(t,r){var n;let o={model:r==null?void 0:r.model,generationConfig:r==null?void 0:r.generationConfig,safetySettings:r==null?void 0:r.safetySettings,tools:r==null?void 0:r.tools,toolConfig:r==null?void 0:r.toolConfig,systemInstruction:r==null?void 0:r.systemInstruction,cachedContent:(n=r==null?void 0:r.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const a=t.generateContentRequest!=null;if(t.contents){if(a)throw new nd("CountTokensRequest must have one of contents or generateContentRequest, not both.");o.contents=t.contents}else if(a)o=Object.assign(Object.assign({},o),t.generateContentRequest);else{const l=Pg(t);o.contents=[l]}return{generateContentRequest:o}}function $I(t){let r;return t.contents?r=t:r={contents:[Pg(t)]},t.systemInstruction&&(r.systemInstruction=nO(t.systemInstruction)),r}function cK(t){return typeof t=="string"||Array.isArray(t)?{content:Pg(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],uK={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function dK(t){let r=!1;for(const n of t){const{role:o,parts:a}=n;if(!r&&o!=="user")throw new Fo(`First content should be with role 'user', got ${o}`);if(!OI.includes(o))throw new Fo(`Each item should include role field. Got ${o} but valid roles are: ${JSON.stringify(OI)}`);if(!Array.isArray(a))throw new Fo("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new Fo("Each Content should have at least one part");const l={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const h of a)for(const p of HI)p in h&&(l[p]+=1);const d=uK[o];for(const h of HI)if(!d.includes(h)&&l[h]>0)throw new Fo(`Content with role '${o}' can't contain '${h}' part`);r=!0}}function WI(t){var r;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(r=t.candidates[0])===null||r===void 0?void 0:r.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const o of n.parts)if(o===void 0||Object.keys(o).length===0||o.text!==void 0&&o.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="SILENT_ERROR";class hK{constructor(r,n,o,a={}){this.model=n,this.params=o,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=r,o!=null&&o.history&&(dK(o.history),this._history=o.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(r,n={}){var o,a,l,d,h,p;await this._sendPromise;const g=Pg(r),b={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},v=Object.assign(Object.assign({},this._requestOptions),n);let y;return this._sendPromise=this._sendPromise.then(()=>tO(this._apiKey,this.model,b,v)).then(k=>{var x;if(WI(k.response)){this._history.push(g);const _=Object.assign({parts:[],role:"model"},(x=k.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(_)}else{const _=Wu(k.response);_&&console.warn(`sendMessage() was unsuccessful. ${_}. Inspect response object for details.`)}y=k}).catch(k=>{throw this._sendPromise=Promise.resolve(),k}),await this._sendPromise,y}async sendMessageStream(r,n={}){var o,a,l,d,h,p;await this._sendPromise;const g=Pg(r),b={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},v=Object.assign(Object.assign({},this._requestOptions),n),y=eO(this._apiKey,this.model,b,v);return this._sendPromise=this._sendPromise.then(()=>y).catch(k=>{throw new Error(GI)}).then(k=>k.response).then(k=>{if(WI(k)){this._history.push(g);const x=Object.assign({},k.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=Wu(k);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(k=>{k.message!==GI&&console.error(k)}),y}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fK(t,r,n,o){return(await Zg(r,Oh.COUNT_TOKENS,t,!1,JSON.stringify(n),o)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pK(t,r,n,o){return(await Zg(r,Oh.EMBED_CONTENT,t,!1,JSON.stringify(n),o)).json()}async function mK(t,r,n,o){const a=n.requests.map(d=>Object.assign(Object.assign({},d),{model:r}));return(await Zg(r,Oh.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:a}),o)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(r,n,o={}){this.apiKey=r,this._requestOptions=o,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=nO(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(r,n={}){var o;const a=$I(r),l=Object.assign(Object.assign({},this._requestOptions),n);return tO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},a),l)}async generateContentStream(r,n={}){var o;const a=$I(r),l=Object.assign(Object.assign({},this._requestOptions),n);return eO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},a),l)}startChat(r){var n;return new hK(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},r),this._requestOptions)}async countTokens(r,n={}){const o=lK(r,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),n);return fK(this.apiKey,this.model,o,a)}async embedContent(r,n={}){const o=cK(r),a=Object.assign(Object.assign({},this._requestOptions),n);return pK(this.apiKey,this.model,o,a)}async batchEmbedContents(r,n={}){const o=Object.assign(Object.assign({},this._requestOptions),n);return mK(this.apiKey,this.model,r,o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(r){this.apiKey=r}getGenerativeModel(r,n){if(!r.model)throw new Fo("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new YI(this.apiKey,r,n)}getGenerativeModelFromCachedContent(r,n,o){if(!r.name)throw new nd("Cached content must contain a `name` field.");if(!r.model)throw new nd("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const d of a)if(n!=null&&n[d]&&r[d]&&(n==null?void 0:n[d])!==r[d]){if(d==="model"){const h=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,p=r.model.startsWith("models/")?r.model.replace("models/",""):r.model;if(h===p)continue}throw new nd(`Different value for "${d}" specified in modelParams (${n[d]}) and cachedContent (${r[d]})`)}const l=Object.assign(Object.assign({},n),{model:r.model,tools:r.tools,toolConfig:r.toolConfig,systemInstruction:r.systemInstruction,cachedContent:r});return new YI(this.apiKey,l,o)}}var yv={exports:{}},KI;function gK(){return KI||(KI=1,(()=>{var t={d:(l,d)=>{for(var h in d)t.o(d,h)&&!t.o(l,h)&&Object.defineProperty(l,h,{enumerable:!0,get:d[h]})},o:(l,d)=>Object.prototype.hasOwnProperty.call(l,d),r:l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})}},r={};function n(l,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}t.r(r),t.d(r,{default:()=>a});var o=function(){function l(){(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,l)}var d,h;return d=l,h=[{key:"changeHeightWidth",value:function(p,g,b,v,y,k){return b>v&&(p=Math.round(p*v/b),b=v),p>g&&(b=Math.round(b*g/p),p=g),y&&b<y&&(p=Math.round(p*y/b),b=y),k&&p<k&&(b=Math.round(b*k/p),p=k),{height:p,width:b}}},{key:"resizeAndRotateImage",value:function(p,g,b,v,y){var k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,_=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,D=x/100,E=document.createElement("canvas"),N=p.width,P=p.height,F=this.changeHeightWidth(P,b,N,g,v,y);!_||_!==90&&_!==270?(E.width=F.width,E.height=F.height):(E.width=F.height,E.height=F.width),N=F.width,P=F.height;var V=E.getContext("2d");return V.fillStyle="rgba(0, 0, 0, 0)",V.fillRect(0,0,N,P),V.imageSmoothingEnabled&&V.imageSmoothingQuality&&(V.imageSmoothingQuality="high"),_&&(V.rotate(_*Math.PI/180),_===90?V.translate(0,-E.width):_===180?V.translate(-E.width,-E.height):_===270?V.translate(-E.height,0):_!==0&&_!==360||V.translate(0,0)),V.drawImage(p,0,0,N,P),E.toDataURL("image/".concat(k),D)}},{key:"b64toByteArrays",value:function(p,g){for(var b=atob(p.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),v=[],y=0;y<b.length;y+=512){for(var k=b.slice(y,y+512),x=new Array(k.length),_=0;_<k.length;_++)x[_]=k.charCodeAt(_);var D=new Uint8Array(x);v.push(D)}return v}},{key:"b64toBlob",value:function(p,g){var b=this.b64toByteArrays(p,g);return new Blob(b,{type:g,lastModified:new Date})}},{key:"b64toFile",value:function(p,g,b){var v=this.b64toByteArrays(p,b);return new File(v,g,{type:b,lastModified:new Date})}},{key:"createResizedImage",value:function(p,g,b,v,y,k,x){var _=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",D=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,E=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,N=new FileReader;if(!p)throw Error("File Not Found!");if(p.type&&!p.type.includes("image"))throw Error("File Is NOT Image!");N.readAsDataURL(p),N.onload=function(){var P=new Image;P.src=N.result,P.onload=function(){var F=l.resizeAndRotateImage(P,g,b,D,E,v,y,k),V="image/".concat(v);switch(_){case"blob":var $=l.b64toBlob(F,V);x($);break;case"base64":x(F);break;case"file":var M=p.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(v.toString()),B=l.b64toFile(F,M,V);x(B);break;default:x(F)}}},N.onerror=function(P){throw Error(P)}}}],h&&n(d,h),l}();const a={imageFileResizer:function(l,d,h,p,g,b,v,y,k,x){return o.createResizedImage(l,d,h,p,g,b,v,y,k,x)}};yv.exports=r})()),yv.exports}var bK=gK();const iO=ou(bK),kK=(t,r=5*1024*1024)=>new Promise((n,o)=>{var v;const a=t.size>r,l=((v=t.type.split("/")[1])==null?void 0:v.toLowerCase())||"unknown";console.log(`Processing image: ${t.size} bytes, format: ${l}, compress: ${a}`);const d=new File([t],`image.${l}`,{type:t.type});let h="JPEG",p="jpg";(l==="png"||l==="gif")&&(h="PNG",p="png");const g=a?70:85,b=a?800:1200;iO.imageFileResizer(d,b,b,h,g,0,y=>{if(y instanceof Blob){console.log(`Image processed: ${y.size} bytes, format: ${h}`);const k=new Image;k.onload=()=>{console.log(`✅ Compressed image validation passed: ${k.naturalWidth}x${k.naturalHeight}`),n({blob:y,format:p})},k.onerror=()=>{console.error("❌ Compressed image validation failed - corrupted blob"),o(new Error("Compression created corrupted image data"))},k.src=URL.createObjectURL(y)}else o(new Error("Compression failed - unexpected result type"))},"blob")}),wK=async(t,r,n,o=3,a=3e4)=>{const l=Hg();for(let d=1;d<=o;d++)try{const{blob:h,format:p}=await kK(t),g=`${r}_${Pa()}.${p}`,b=async()=>{const k=y1(l,`materials/${n}/${g}`),x=await V_(k,h);return{url:await v1(x.ref),path:x.ref.fullPath,filename:g,originalSize:t.size,compressedSize:h.size}},v=new Promise((k,x)=>{setTimeout(()=>x(new Error(`Upload timeout after ${a}ms`)),a)}),y=await Promise.race([b(),v]);return console.log(`Successfully uploaded image: ${y.filename} (attempt ${d})`,{originalSize:y.originalSize,compressedSize:y.compressedSize,url:y.url}),{url:y.url,path:y.path}}catch(h){const p=h instanceof Error?h.message:"Unknown error";if(console.warn(`Upload attempt ${d}/${o} failed for ${r}: ${p}`),d===o)throw console.error(`All ${o} upload attempts failed for ${r}:`,h),new Error(`Image upload failed after ${o} attempts: ${p}`);const g=Math.min(1e3*Math.pow(2,d-1),5e3);console.log(`Waiting ${g}ms before retry...`),await new Promise(b=>setTimeout(b,g))}throw new Error("Upload failed - should not reach here")},vv=t=>{const n=`
    <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="#f44336"/>
      <text x="50%" y="45%" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" dominant-baseline="middle">
        Upload Failed
      </text>
      <text x="50%" y="55%" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" dominant-baseline="middle">
        ${t.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30)}
      </text>
    </svg>
  `;try{return`data:image/svg+xml;base64,${btoa(n)}`}catch(o){return console.error("Failed to create fallback placeholder:",o),`data:image/svg+xml,${encodeURIComponent(n)}`}},yK=async(t,r,n,o=3)=>{const a=t.filter(p=>p.imageBlob),l=[];console.log(`Starting batch upload of ${a.length} images (batch size: ${o})`);for(let p=0;p<a.length;p+=o){const g=Math.min(p+o,a.length),b=a.slice(p,g);console.log(`Processing batch ${Math.floor(p/o)+1}/${Math.ceil(a.length/o)} (images ${p+1}-${g})`);const v=b.map(async(y,k)=>{const x=p+k;console.log(`🚀 Starting upload for image ${x+1}/${a.length} (slide ${y.slideNumber})`);try{const _=`slide_${y.slideNumber}_image_${x+1}`,D=wK(y.imageBlob,_,r,1,6e4),E=new Promise((P,F)=>{setTimeout(()=>{F(new Error(`Individual image timeout after 75 seconds for image ${x+1}`))},75e3)}),{url:N}=await Promise.race([D,E]);return console.log(`✅ Successfully processed image ${x+1}/${a.length}`),{url:N,title:y.description||`Image from Slide ${y.slideNumber}`,originalFilename:y.filename,slideNumber:y.slideNumber,index:x}}catch(_){return console.error(`❌ Failed to upload image ${x+1}/${a.length} from slide ${y.slideNumber}:`,_),{url:vv(y.description||`Image from Slide ${y.slideNumber}`),title:y.description||`Image from Slide ${y.slideNumber}`,originalFilename:y.filename,slideNumber:y.slideNumber,index:x}}});try{console.log(`⏳ Waiting for batch ${Math.floor(p/o)+1} to complete...`);const y=6e4,k=new Promise((_,D)=>{setTimeout(()=>{D(new Error(`Batch ${Math.floor(p/o)+1} timeout after ${y}ms`))},y)}),x=await Promise.race([Promise.allSettled(v),k]);console.log(`✅ Batch ${Math.floor(p/o)+1} completed, processing ${x.length} results...`),x.forEach((_,D)=>{const E=p+D;if(_.status==="fulfilled")l.push(_.value),console.log(`✅ Image ${E+1}/${a.length} uploaded successfully`);else{console.error(`❌ Image ${E+1}/${a.length} failed:`,_.reason);const N=b[D];l.push({url:vv(N.description||`Image from Slide ${N.slideNumber}`),title:N.description||`Image from Slide ${N.slideNumber}`,originalFilename:N.filename,slideNumber:N.slideNumber})}n==null||n(E+1,a.length)})}catch(y){console.error(`❌ Batch ${Math.floor(p/o)+1} failed or timed out:`,y),b.forEach((k,x)=>{const _=p+x;console.log(`🔄 Creating fallback for timed out image ${_+1}/${a.length}`),l.push({url:vv(k.description||`Image from Slide ${k.slideNumber}`),title:k.description||`Image from Slide ${k.slideNumber}`,originalFilename:k.filename,slideNumber:k.slideNumber}),n==null||n(_+1,a.length)})}g<a.length&&(console.log("⏳ Waiting 2 seconds before next batch..."),await new Promise(y=>setTimeout(y,2e3)))}l.sort((p,g)=>(p.index||0)-(g.index||0));const d=l.filter(p=>!p.url.startsWith("data:")).length,h=l.length-d;return console.log(`Upload complete: ${d} successful, ${h} failed out of ${l.length} total`),l};class vK{constructor(r){wt(this,"genAI");wt(this,"model");this.genAI=new rO(r),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.2,topK:3,topP:.9,maxOutputTokens:16384}})}async processMaterialContent(r,n,o,a,l,d){if(!(r!=null&&r.trim()))throw new Error("No content provided for processing");l==null||l({stage:"analyzing",percentage:20,currentOperation:"Analyzing document structure..."});const h=r.length,p=Math.ceil(h/4);if(h>15e3||p>4e3){console.log(`Document is large (${h} chars, ~${p} tokens), using chunked processing`);const g=r.substring(0,15e3);return console.log("Truncating input to prevent AI response truncation"),this.processSingleMaterial(g+`

[Content truncated for processing]`,n,o,a,l,d)}return this.processSingleMaterial(r,n,o,a,l,d)}async processSingleMaterial(r,n,o,a,l,d){const h=this.buildMaterialAnalysisPrompt(r,n,o,a,d);l==null||l({stage:"analyzing",percentage:40,currentOperation:"Processing with AI..."});try{const b=(await(await this.model.generateContent(h)).response).text();if(!b||b.trim().length===0)throw new Error("Empty response from AI service");l==null||l({stage:"structuring",percentage:70,currentOperation:"Structuring content..."});let v=b.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();console.log("Raw response text (first 1000 chars):",b.substring(0,1e3)),console.log("Cleaned text (first 1000 chars):",v.substring(0,1e3)),v=this.repairTruncatedJSON(v);let y;try{y=JSON.parse(v)}catch(k){throw console.error("JSON parsing failed:",k),console.error("Raw response text (first 1000 chars):",b.substring(0,1e3)),console.error("Cleaned text (first 1000 chars):",v.substring(0,1e3)),new Error("AI response format invalid - unable to parse JSON")}if(!y||typeof y!="object")throw new Error("AI response is not a valid object");return l==null||l({stage:"complete",percentage:100,currentOperation:"Processing complete!"}),this.validateAndSanitizeMaterialResponse(y,n,o)}catch(p){if(console.error("Material Import AI Error:",p),l==null||l({stage:"error",percentage:0,currentOperation:`Error: ${p instanceof Error?p.message:"Unknown error"}`}),p instanceof Error){if(p.message.includes("API_KEY_INVALID")||p.message.includes("API key"))throw new Error("Invalid API key. Please check your material import API key configuration.");if(p.message.includes("RATE_LIMIT_EXCEEDED"))throw new Error("Rate limit exceeded. Please try again in a few minutes.");if(p.message.includes("SAFETY"))throw new Error("Content flagged by safety filters. Please try with different content.")}throw new Error(`Material processing failed: ${p instanceof Error?p.message:"Unknown error"}`)}}async processLargeMaterial(r,n,o,a,l){l==null||l({stage:"analyzing",percentage:10,currentOperation:"Processing large document with chunking..."});const d=this.chunkMaterialText(r);let h=null;const p=[];l==null||l({stage:"analyzing",percentage:30,currentOperation:`Processing main content (1/${d.length})...`,subSteps:{current:1,total:d.length,description:"Analyzing primary structure"}}),h=await this.processSingleMaterial(d[0],n,o,a);for(let b=1;b<d.length;b++){l==null||l({stage:"analyzing",percentage:30+40*b/d.length,currentOperation:`Processing additional content (${b+1}/${d.length})...`,subSteps:{current:b+1,total:d.length,description:"Extracting supplementary details"}});try{const v=await this.processChunkForAdditionalContent(d[b],n,o);v&&p.push(v)}catch(v){console.warn(`Failed to process chunk ${b+1}:`,v)}}l==null||l({stage:"structuring",percentage:80,currentOperation:"Merging content from all sections..."});const g=this.mergeChunkedMaterialResults(h,p);return l==null||l({stage:"complete",percentage:100,currentOperation:"Large document processing complete!"}),g}buildMaterialAnalysisPrompt(r,n,o,a,l){const d=this.getFileTypeContext(o);return`
Analyze this ${d} educational material and extract structured information for course content management.

File: ${n}
Type: ${o}

CONTENT:
${r}

${l!=null&&l.images&&l.images.length>0?`
DETECTED IMAGES:
${l.images.map((h,p)=>`${p+1}. ${h.description||`Image ${p+1}`}${h.slideNumber?` (Slide ${h.slideNumber})`:""}${h.altText?` - ${h.altText}`:""}`).join(`
`)}

CRITICAL IMAGE PLACEMENT INSTRUCTIONS:
- Each image MUST be placed in the section corresponding to its slide number
- If "Image X (Slide Y)" is detected, place it in the section created from Slide Y content
- Each image should have a unique, descriptive title based on its context
- Include slideNumber property in each image object for proper matching
- DO NOT reuse the same image in multiple sections
`:""}

Please extract and structure this content into a comprehensive educational material format. Focus on:

1. **Document Structure**: Identify main topics, subtopics, and hierarchical organization
2. **Content Quality**: Preserve important educational information and context
3. **Visual Elements**: Note references to images, diagrams, charts (even if not extractable)
4. **Links and Resources**: Extract any URLs, references, or external resources mentioned
5. **Learning Context**: Maintain educational value and logical flow

${d==="presentation slide deck"?`
SPECIAL INSTRUCTIONS FOR PRESENTATIONS:
- Each slide should become a section or subsection
- Preserve slide order and hierarchy
- Note slide titles and main content points
- Identify slide transitions and logical groupings
- Extract speaker notes or additional context if present
`:""}

Return ONLY a JSON object with this exact structure:
{
  "title": "Material title (extracted from content or filename)",
  "description": "Brief description of the material content",
  "header": {
    "title": "Introduction or Overview",
    "content": "HTML formatted introductory content"
  },
  "footer": {
    "title": "Summary or Conclusion", 
    "content": "HTML formatted concluding content"
  },
  "sections": [
    {
      "title": "Section Title",
      "content": "HTML formatted main section content",
      "subsections": [
        {
          "title": "Subsection Title",
          "content": "HTML formatted subsection content",
          "subSubsections": [
            {
              "title": "Sub-subsection Title",
              "content": "HTML formatted detailed content",
              "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 2}],
              "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
            }
          ],
          "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 3}],
          "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
        }
      ],
      "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 4}],
      "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
    }
  ],
  "sourceInfo": {
    "fileName": "${n}",
    "fileType": "${o}",
    "extractedAt": "${new Date().toISOString()}",
    "originalFileReference": "Reference to original file for debugging"
  },
  "images": [{"url": "", "title": "Overall image description", "description": "Context", "slideNumber": 1}],
  "links": [{"title": "Overall link title", "url": "URL", "description": "Link context"}]
}

CRITICAL JSON FORMATTING RULES:
- Return ONLY valid JSON - no comments, no explanations, no additional text
- Use proper HTML tags for content formatting (<p>, <h1>-<h6>, <ul>, <ol>, <li>, <strong>, <em>, <br>)
- Preserve educational structure and hierarchy
- Create logical sections based on content organization
- For images: Use placeholder URLs with descriptive titles, context, and slideNumber property
-- IMPORTANT: Each image object MUST include "slideNumber" property matching the source slide
- For links: Extract actual URLs when present, provide context
- Complete ALL sections and subsections - do not use comments like "// ... continue"
- Ensure all JSON arrays and objects are properly closed
- Maintain educational value and readability

IMPORTANT: Your response must be complete, valid JSON that can be parsed directly. Do not include any explanatory text, comments, or incomplete sections. End your response when the JSON object is complete.
`}async processChunkForAdditionalContent(r,n,o){const a=`
Extract additional educational content from this section of the material:

File: ${n}
Type: ${o}

CONTENT:
${r}

Focus on extracting any additional sections, detailed information, or supplementary content that should be included in the educational material.

Return ONLY a JSON object with additional sections, images, or links:
{
  "sections": [...],
  "images": [...],
  "links": [...]
}
`;try{const h=(await(await this.model.generateContent(a)).response).text();if(!h||h.trim().length===0)return null;let p;try{p=this.extractValidJSON(h)}catch(g){try{p=this.fallbackJSONExtraction(h)}catch{throw g}}return JSON.parse(p)}catch(l){return console.warn("Failed to process additional content chunk:",l),null}}chunkMaterialText(r,n=25e3){const o=[],a=r.split(`
`);let l="";for(const d of a)l.length+d.length>n&&l.length>0?(o.push(l.trim()),l=d):l+=(l?`
`:"")+d;return l.trim()&&o.push(l.trim()),o.length>0?o:[r]}mergeChunkedMaterialResults(r,n){const o={...r};for(const a of n)a.sections&&Array.isArray(a.sections)&&(o.sections=[...o.sections,...a.sections]),a.images&&Array.isArray(a.images)&&(o.images=[...o.images||[],...a.images]),a.links&&Array.isArray(a.links)&&(o.links=[...o.links||[],...a.links]);return o}extractValidJSON(r){let n=r.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();n=n.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const o=n.indexOf("{");if(o===-1)throw new Error("No JSON object found in response");n=n.substring(o);let a=0,l=-1,d=!1,h=!1;for(let b=0;b<n.length;b++){const v=n[b];if(h){h=!1;continue}if(v==="\\"){h=!0;continue}if(v==='"'&&!h){d=!d;continue}if(!d){if(v==="{")a++;else if(v==="}"&&(a--,a===0)){l=b+1;break}}}if(l===-1)throw new Error("No matching closing brace found for JSON object");let p=n.substring(0,l);p=p.replace(/,(\s*[}\]])/g,"$1"),this.detectTruncatedJSON(p)&&(console.warn("Detected truncated JSON response, attempting repair"),p=this.attemptJSONRepair(p));try{return JSON.parse(p),p}catch(b){console.warn("Initial JSON parsing failed, attempting to fix common issues:",b);const v=this.attemptJSONRepair(p);try{return JSON.parse(v),v}catch(y){throw console.error("JSON repair failed:",y),new Error(`Invalid JSON structure: ${y.message}`)}}}detectTruncatedJSON(r){const n=r.trim(),o=[/"[^"]*$/,/:\s*$/,/,\s*$/,/"[a-zA-Z]+\w*$/,/[a-zA-Z]+\w*$/,/\[\s*$/,/{\s*$/];for(const l of o)if(l.test(n))return console.log(`Truncation detected: ${l.toString()}`),!0;const a=n.charAt(n.length-1);return a!=="}"&&a!=="]"?(console.log(`Truncation detected: JSON doesn't end with } or ], ends with: "${a}"`),!0):!1}detectTruncatedResponse(r){const o=r.trim().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),a=[/"[^"]*$/,/\w+$/,/:\s*$/,/,\s*$/,!o.endsWith("}"),!o.endsWith("]"),o.length<500];for(let l=0;l<a.length-1;l++){const d=a[l];if(d instanceof RegExp&&d.test(o))return!0}return!!(a[a.length-3]||a[a.length-2]||a[a.length-1])}attemptJSONRepair(r){let n=r;const o=n.split(`
`),a=[];for(const g of o){const b=g.trim();b.startsWith("//")||b.includes("... (Continue")||b.includes("continue structuring")||b.includes("similarly")||a.push(g)}n=a.join(`
`),n=n.replace(/,(\s*[}\]])/g,"$1");const l=(n.match(/{/g)||[]).length,d=(n.match(/}/g)||[]).length,h=(n.match(/\[/g)||[]).length,p=(n.match(/\]/g)||[]).length;for(let g=0;g<l-d;g++)n+="}";for(let g=0;g<h-p;g++)n+="]";return n}fallbackJSONExtraction(r){console.log("Attempting fallback JSON extraction...");let n=r.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();n=n.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const o=n.indexOf("{");if(o===-1)throw new Error("No JSON object found in response");n=n.substring(o);const a=[/}\s*$/m,/}\s*\n\s*[A-Z]/m,/}\s*\n\s*This/m,/}\s*\n\s*Note:/m];let l=-1;for(const h of a){const p=n.match(h);if(p&&p.index!==void 0){const g=p.index+p[0].indexOf("}")+1;(l===-1||g<l)&&(l=g)}}l>0&&(n=n.substring(0,l));const d=this.attemptJSONRepair(n);try{return JSON.parse(d),d}catch{return console.log("Attempting aggressive JSON repair..."),this.aggressiveJSONRepair(n)}}aggressiveJSONRepair(r){let n=r;const o=n.split(`
`),a=[];for(const g of o){const b=g.trim();if(b.startsWith("//")||b.includes("... (")||b.includes("continue")||b.includes("similarly")||b.includes("Remember to")||b.includes("This structure")||b.length>0&&!b.includes('"')&&!b.includes("{")&&!b.includes("}")&&!b.includes("[")&&!b.includes("]"))break;a.push(g)}n=a.join(`
`),n=n.replace(/,(\s*[}\]])/g,"$1");const l=(n.match(/{/g)||[]).length,d=(n.match(/}/g)||[]).length,h=(n.match(/\[/g)||[]).length,p=(n.match(/\]/g)||[]).length;for(let g=0;g<l-d;g++)n+=`
}`;for(let g=0;g<h-p;g++)n+=`
]`;return n=n.replace(/,(\s*[}\]])/g,"$1"),n}repairTruncatedJSON(r){let n=r;const o=n.split(`
`),a=[];for(const g of o){const b=g.trim();if(b.length===0){a.push(g);continue}if(b.match(/^"[^"]*$/)){a.push('"": ""');break}if(b.match(/:\s*"[^"]*$/)){a.push(b.replace(/:\s*"[^"]*$/,': ""'));break}if(b.match(/^[a-zA-Z]+\w*$/))break;a.push(g)}n=a.join(`
`),n=n.replace(/,(\s*[}\]])/g,"$1"),n=n.replace(/,\s*$/,"");const l=(n.match(/{/g)||[]).length,d=(n.match(/}/g)||[]).length,h=(n.match(/\[/g)||[]).length,p=(n.match(/\]/g)||[]).length;console.log(`JSON structure analysis: ${l} open braces, ${d} close braces, ${h} open brackets, ${p} close brackets`);for(let g=0;g<h-p;g++)n+=`
]`;for(let g=0;g<l-d;g++)n+=`
}`;return n=n.replace(/,(\s*[}\]])/g,"$1"),console.log("Repaired JSON (first 1000 chars):",n.substring(0,1e3)),n}getFileTypeContext(r){const n=r.toLowerCase();return n.includes("presentation")||n.includes("powerpoint")||n.includes("pptx")?"presentation slide deck":n.includes("pdf")?"PDF document":n.includes("word")||n.includes("docx")?"Word document":"document"}validateAndSanitizeMaterialResponse(r,n,o){var l,d,h,p,g;const a={title:r.title||n.replace(/\.[^/.]+$/,"")||"Untitled Material",description:r.description||"",header:{title:((l=r.header)==null?void 0:l.title)||"Introduction",content:((d=r.header)==null?void 0:d.content)||""},footer:{title:((h=r.footer)==null?void 0:h.title)||"Summary",content:((p=r.footer)==null?void 0:p.content)||""},sections:[],sourceInfo:{fileName:n,fileType:o,extractedAt:new Date().toISOString(),originalFileReference:((g=r.sourceInfo)==null?void 0:g.originalFileReference)||n},images:Array.isArray(r.images)?r.images:[],links:Array.isArray(r.links)?r.links:[]};return Array.isArray(r.sections)&&(a.sections=r.sections.map(b=>({title:b.title||"Section",content:b.content||"",subsections:Array.isArray(b.subsections)?b.subsections.map(v=>({title:v.title||"Subsection",content:v.content||"",subSubsections:Array.isArray(v.subSubsections)?v.subSubsections.map(y=>({title:y.title||"Sub-subsection",content:y.content||"",images:Array.isArray(y.images)?y.images:[],links:Array.isArray(y.links)?y.links:[]})):[],images:Array.isArray(v.images)?v.images:[],links:Array.isArray(v.links)?v.links:[]})):[],images:Array.isArray(b.images)?b.images:[],links:Array.isArray(b.links)?b.links:[]}))),a.sections.length===0&&a.sections.push({title:"Main Content",content:"Content extracted from the uploaded material.",subsections:[],images:[],links:[]}),a}convertToMaterialFormat(r,n,o){const a=(h,p=400,g=300)=>{const b=h.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30),v=`
        <svg width="${p}" height="${g}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${b}
          </text>
        </svg>
      `;try{return`data:image/svg+xml;base64,${btoa(v)}`}catch(y){return console.error("Failed to create placeholder image URL:",y),`data:image/svg+xml,${encodeURIComponent(v)}`}},l=h=>{const p=(h==null?void 0:h.map(g=>{const b=a(g.title||"Image"),v={url:g.url&&g.url.trim()?g.url:b,title:g.title||g.description||"Detected Image"};return console.log("Enhanced image (preview):",v),v}))||[];return console.log(`Enhanced ${p.length} images for material preview`),p},d=h=>{var p;return{id:Pa(),title:h.title,content:h.content,subsections:((p=h.subsections)==null?void 0:p.map(g=>{var b;return{id:Pa(),title:g.title,content:g.content,subSubsections:((b=g.subSubsections)==null?void 0:b.map(v=>({id:Pa(),title:v.title,content:v.content,images:l(v.images||[]),links:v.links||[]})))||[],images:l(g.images||[]),links:g.links||[]}}))||[],images:l(h.images||[]),links:h.links||[]}};return{course:n,title:r.title,header:r.header,footer:r.footer,sections:r.sections.map(d),author:o,published:!1,sourceInfo:r.sourceInfo}}async convertToMaterialFormatWithImageUpload(r,n,o,a,l,d){var k;let h=[];if(l!=null&&l.images)try{console.log(`Uploading ${l.images.length} extracted images...`),h=await yK(l.images,a,d),console.log(`Successfully uploaded ${h.length} images`)}catch(x){console.error("Failed to upload extracted images:",x)}const p=(x,_=400,D=300)=>{const E=x.substring(0,30),N=`
        <svg width="${_}" height="${D}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${E}
          </text>
        </svg>
      `;return`data:image/svg+xml;base64,${btoa(N)}`},g=x=>{const _=[...h],D=(x==null?void 0:x.map(E=>{let N=null;if(E.slideNumber&&_.length>0){const F=_.find(V=>V.slideNumber===E.slideNumber);if(F){N=F;const V=_.indexOf(F);_.splice(V,1)}}if(!N&&_.length>0){const F=(E.title||E.description||"").toLowerCase().split(" "),V=_.find($=>{const M=$.title.toLowerCase().split(" ");return F.some(B=>B.length>3&&M.some(q=>q.includes(B)))});if(V){N=V;const $=_.indexOf(V);_.splice($,1)}}!N&&_.length>0&&(N=_.shift());const P={url:(N==null?void 0:N.url)||(E.url&&E.url.trim()?E.url:p(E.title||"Image")),title:(N==null?void 0:N.title)||E.title||E.description||"Detected Image"};return console.log("Enhanced image with upload:",{...P,url:P.url.substring(0,100)+"...",isUploaded:!!N,originalSlideNumber:E.slideNumber,matchedSlideNumber:N==null?void 0:N.slideNumber,matchStrategy:N?N.slideNumber===E.slideNumber?"slideNumber":P.title.includes(E.title)?"title":"sequential":"placeholder",availableCount:_.length}),P}))||[];return console.log(`Enhanced ${D.length} images for material (${h.length} uploaded, ${_.length} remaining)`),D},b=x=>{var _;return{id:Pa(),title:x.title,content:x.content,images:g(x.images||[]),links:x.links||[],subsections:((_=x.subsections)==null?void 0:_.map(v))||[]}},v=x=>{var _;return{id:Pa(),title:x.title,content:x.content,images:g(x.images||[]),links:x.links||[],subSubsections:((_=x.subSubsections)==null?void 0:_.map(y))||[]}},y=x=>({id:Pa(),title:x.title,content:x.content,images:g(x.images||[]),links:x.links||[]});return{course:n,title:r.title,header:r.header||{title:"",content:""},footer:r.footer||{title:"",content:""},sections:((k=r.sections)==null?void 0:k.map(b))||[],author:o,published:!1,scheduledTimestamp:null}}}let q0=null;const oO=t=>{const r=t||"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0";if(!q0&&r&&(q0=new vK(r)),!q0)throw new Error("Material Import service not initialized. Please configure VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.");return q0},AK=async t=>{try{const r=await Ki(()=>import("./pdf-DQ7craWA.js"),[]),n="/nexlab";r.GlobalWorkerOptions.workerSrc=`${n}/js/pdf.worker.min.js`;const o=await t.arrayBuffer(),a=await r.getDocument({data:o}).promise,l=a.numPages;let d="";for(let h=1;h<=l;h++){const b=(await(await a.getPage(h)).getTextContent()).items.filter(v=>v&&typeof v.str=="string").map(v=>v.str).join(" ").trim();b&&(d+=b+`

`)}return{text:d.trim(),metadata:{pageCount:l,wordCount:d.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"PDF.js"}}}catch(r){throw{message:"Failed to extract text from PDF file. Please ensure the PDF contains selectable text.",code:"PDF_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},_K=async t=>{try{const r=await Ki(()=>import("./index-Bz6jUV7i.js").then(a=>a.i),__vite__mapDeps([0,1])),n=await t.arrayBuffer(),o=await r.extractRawText({arrayBuffer:n});return o.messages&&o.messages.length>0&&console.warn("DOCX extraction warnings:",o.messages),{text:o.value.trim(),metadata:{wordCount:o.value.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"Mammoth"}}}catch(r){throw{message:"Failed to extract text from Word document. Please ensure the file is not corrupted.",code:"DOCX_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},CK=async t=>{var r,n;try{const o=(await Ki(async()=>{const{default:v}=await import("./index-DlpswmMY.js").then(y=>y.i);return{default:v}},__vite__mapDeps([2,1]))).default,a=await t.arrayBuffer(),l=new o(a);let d="",h=0;const p=[],g=Object.keys(l.files).filter(v=>v.startsWith("ppt/slides/slide")&&v.endsWith(".xml"));h=g.length;for(const v of g)try{const y=l.files[v].asText(),k=parseInt(((r=v.match(/slide(\d+)\.xml/))==null?void 0:r[1])||"0"),x=y.matchAll(/<a:blip[^>]*r:embed="([^"]*)"[^>]*>/g);for(const E of x){const N=E[1],P=y.match(new RegExp('<p:cNvPr[^>]*name="([^"]*)"[^>]*>',"i")),F=y.match(new RegExp('<p:cNvPr[^>]*descr="([^"]*)"[^>]*>',"i")),V=y.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();let $=`Image on slide ${k}`;const M=["chart","graph","diagram","figure","table","photo","image","illustration","screenshot","logo","flowchart","timeline","comparison","data","results","example","structure","process"],B=V.toLowerCase().split(/\s+/),q=M.filter(H=>B.some(R=>R.includes(H)));if(q.length>0)$=`${q[0].charAt(0).toUpperCase()+q[0].slice(1)} (Slide ${k})`;else if(V.length>0){const H=B.slice(0,3).join(" ");H.length>5&&($=`Image: ${H}... (Slide ${k})`)}let Q;try{const H=`ppt/slides/_rels/slide${k}.xml.rels`;if(l.files[H]){const K=l.files[H].asText().match(new RegExp(`Id="${N}"[^>]*Target="([^"]*)"`,"i"));if(K){const j=K[1],ne=j.startsWith("../")?`ppt/${j.substring(3)}`:`ppt/slides/${j}`;if(l.files[ne]){const de=l.files[ne].asUint8Array();let se="image/jpeg";ne.toLowerCase().includes(".png")?se="image/png":ne.toLowerCase().includes(".gif")?se="image/gif":ne.toLowerCase().includes(".bmp")?se="image/bmp":ne.toLowerCase().includes(".webp")&&(se="image/webp"),Q=new Blob([de],{type:se}),console.log(`Extracted image blob for slide ${k}:`,{size:Q.size,type:se,path:ne})}}}}catch(H){console.warn(`Failed to extract image blob for ${N} on slide ${k}:`,H)}p.push({slideNumber:k,description:(P==null?void 0:P[1])||$,altText:(F==null?void 0:F[1])||void 0,filename:N,embedId:N,imageBlob:Q})}const _=y.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();_&&(d+=`
--- Slide ${k} ---
${_}
`);const D=p.filter(E=>E.slideNumber===k);D.length>0&&(d+=`
[IMAGES ON SLIDE ${k}]: `,D.forEach(E=>{d+=`"${E.description}"${E.altText?` (${E.altText})`:""}, `}),d=d.slice(0,-2)+`
`)}catch(y){console.warn(`Failed to extract text from ${v}:`,y)}const b=Object.keys(l.files).filter(v=>v.startsWith("ppt/notesSlides/notesSlide")&&v.endsWith(".xml"));for(const v of b)try{const k=l.files[v].asText().replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();if(k){const x=((n=v.match(/notesSlide(\d+)\.xml/))==null?void 0:n[1])||"unknown";d+=`
--- Notes for Slide ${x} ---
${k}
`}}catch(y){console.warn(`Failed to extract notes from ${v}:`,y)}if(!d.trim())throw new Error("No text content found in PowerPoint file");return{text:d.trim(),metadata:{slideCount:h,wordCount:d.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"PizZip",images:p.length>0?p:void 0}}}catch(o){throw{message:"Failed to extract text from PowerPoint file. Please ensure the file is not corrupted and contains text content.",code:"PPTX_EXTRACTION_ERROR",originalError:o instanceof Error?o:new Error(String(o))}}},xK=async t=>{try{const r=await t.text();return{text:r.trim(),metadata:{wordCount:r.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"Native"}}}catch(r){throw{message:"Failed to extract text from text file",code:"TXT_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},sO=async t=>{if(!t)throw{message:"No file provided",code:"NO_FILE_ERROR"};const r=t.type.toLowerCase(),n=t.name.toLowerCase();try{if(r==="application/pdf"||n.endsWith(".pdf"))return await AK(t);if(r==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||n.endsWith(".docx"))return await _K(t);if(r==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||n.endsWith(".pptx"))return await CK(t);if(r==="text/plain"||n.endsWith(".txt"))return await xK(t);throw{message:`Unsupported file format: ${r||"unknown"}. Supported formats: PDF (.pdf), Word (.docx), PowerPoint (.pptx), Text (.txt)`,code:"UNSUPPORTED_FORMAT_ERROR"}}catch(o){throw o&&typeof o=="object"&&"code"in o?o:{message:`Failed to extract text from ${t.name}`,code:"GENERIC_EXTRACTION_ERROR",originalError:o instanceof Error?o:new Error(String(o))}}},aO=t=>{const n=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain"],o=[".pdf",".docx",".pptx",".txt"];if(t.size>52428800)return{isValid:!1,error:`File size (${(t.size/1024/1024).toFixed(1)}MB) exceeds the maximum limit of 50MB.`};const a=t.type.toLowerCase(),l=t.name.toLowerCase(),d=n.includes(a),h=o.some(p=>l.endsWith(p));return!d&&!h?{isValid:!1,error:`Unsupported file format. Please upload files with extensions: ${o.join(", ")}`}:{isValid:!0}},lO=t=>{const r=t.type.toLowerCase(),n=t.name.toLowerCase();return r==="application/pdf"||n.endsWith(".pdf")?"PDF Document":r==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||n.endsWith(".docx")?"Word Document":r==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||n.endsWith(".pptx")?"PowerPoint Presentation":r==="text/plain"||n.endsWith(".txt")?"Text File":"Unknown Format"},SK=t=>{const r=t.size/1048576,n=t.type.toLowerCase();let o=0;return n==="application/pdf"?o=Math.max(2,r*.5):n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?o=Math.max(1,r*.3):n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?o=Math.max(1.5,r*.4):o=Math.max(.5,r*.1),Math.round(o)},QI={isProcessing:!1,progress:null,error:null,uploadedFile:null,extractedText:null,extractionResult:null,aiExtractedData:null,convertedMaterial:null,processingOptions:{maxOutputTokens:4096,topK:1,topP:.1,preserveFormatting:!0,extractImages:!0,extractLinks:!0}},Ip=Jg()(C1((t,r)=>({...QI,setUploadedFile:n=>{t({uploadedFile:n,extractedText:null,extractionResult:null,aiExtractedData:null,convertedMaterial:null,error:null})},extractTextFromFile:async()=>{const{uploadedFile:n}=r();if(!n){t({error:"No file uploaded"});return}try{const o=aO(n);if(!o.isValid){t({error:o.error||"Invalid file"});return}}catch(o){console.error("File validation error:",o),t({error:"Failed to validate file"});return}t({isProcessing:!0,error:null,progress:{stage:"extracting",percentage:10,currentOperation:`Extracting text from ${lO(n)}...`}});try{const o=await sO(n);if(!o||!o.text||o.text.trim().length===0)throw new Error("No text content could be extracted from the file");const a=o.text.trim().split(/\s+/).length;a<5&&console.warn("Very short text extracted:",{wordCount:a,text:o.text.substring(0,100)}),t({extractedText:o.text,extractionResult:o,progress:{stage:"extracting",percentage:100,currentOperation:"Text extraction complete!"}}),setTimeout(()=>{t({isProcessing:!1,progress:null})},500)}catch(o){console.error("Text extraction error:",o);const a=o;let l="Failed to extract text from file";a.code==="PDF_EXTRACTION_ERROR"?l="Could not extract text from PDF. The file may be image-based or corrupted.":a.code==="DOCX_EXTRACTION_ERROR"?l="Could not extract text from Word document. Please check the file is not corrupted.":a.code==="PPTX_EXTRACTION_ERROR"?l="Could not extract text from PowerPoint presentation. Please ensure it contains text content.":a.message&&(l=a.message),t({error:l,isProcessing:!1,progress:null})}},processWithAI:async(n,o,a)=>{var b;const{uploadedFile:l,extractedText:d,extractionResult:h,processingOptions:p}=r();if(!(n!=null&&n.trim())){t({error:"Course ID is required for AI processing"});return}if(!(o!=null&&o.trim())){t({error:"Author ID is required for AI processing"});return}if(!l||!(d!=null&&d.trim())){t({error:"No file or extracted text available for AI processing"});return}const g=d.trim().split(/\s+/).length;if(g<10){t({error:"Extracted text is too short for meaningful AI processing (minimum 10 words required)"});return}g>5e4&&console.warn("Very large text content detected:",{wordCount:g,fileName:l.name}),t({isProcessing:!0,error:null,progress:{stage:"analyzing",percentage:0,currentOperation:"Initializing AI processing..."}});try{let v;try{v=oO(a)}catch(E){console.error("Service initialization error:",E);let N="Material import service not available.";E instanceof Error&&(E.message.includes("API key")?N="API key not configured. Please set VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.":N=`Service error: ${E.message}`),t({error:N,isProcessing:!1,progress:null});return}const y={maxOutputTokens:Math.min(Math.max(p.maxOutputTokens||16384,8192),32768),topK:Math.min(Math.max(p.topK||3,1),10),topP:Math.min(Math.max(p.topP||.9,.1),1),preserveFormatting:!!p.preserveFormatting,extractImages:!!p.extractImages,extractLinks:!!p.extractLinks},k=12e4,x=new Promise((E,N)=>{setTimeout(()=>N(new Error("AI processing timeout - please try with a smaller file")),k)}),_=await Promise.race([v.processMaterialContent(d,l.name,l.type,y,E=>{E&&typeof E=="object"&&t({progress:E})},h==null?void 0:h.metadata),x]);if(!_||typeof _!="object")throw new Error("Invalid AI processing result received");(b=_.title)!=null&&b.trim()||(console.warn("AI result missing title, using filename as fallback"),_.title=l.name.replace(/\.[^/.]+$/,"")||"Untitled Material"),(!_.sections||!Array.isArray(_.sections)||_.sections.length===0)&&(console.warn("AI result missing sections, creating default section"),_.sections=[{title:"Main Content",content:"Content extracted from uploaded material.",subsections:[],images:[],links:[]}]);const D=v.convertToMaterialFormat(_,n,o);t({aiExtractedData:_,convertedMaterial:D,isProcessing:!1,progress:{stage:"complete",percentage:100,currentOperation:"Material processing complete!"}}),setTimeout(()=>{t({progress:null})},1500)}catch(v){console.error("AI processing error:",v);let y="Failed to process material with AI";v instanceof Error&&(v.message.includes("timeout")?y="AI processing timed out. Please try with a smaller file or simpler content.":v.message.includes("API key")||v.message.includes("API_KEY_INVALID")?y="Invalid API key. Please check your API key configuration.":v.message.includes("RATE_LIMIT")||v.message.includes("rate limit")?y="API rate limit exceeded. Please wait a few minutes before trying again.":v.message.includes("SAFETY")||v.message.includes("safety")?y="Content flagged by safety filters. Please try with different content.":v.message.includes("network")||v.message.includes("fetch")?y="Network error. Please check your internet connection and try again.":y=`AI processing failed: ${v.message}`),t({error:y,isProcessing:!1,progress:null})}},resetImport:()=>{t(QI)},setProcessingOptions:n=>{t(o=>({processingOptions:{...o.processingOptions,...n}}))},setError:n=>{t({error:n})}}),{name:"material-import-store",partialize:t=>({processingOptions:t.processingOptions})})),EK=()=>{const t=Ip();return{setUploadedFile:t.setUploadedFile,extractTextFromFile:t.extractTextFromFile,processWithAI:t.processWithAI,resetImport:t.resetImport,setProcessingOptions:t.setProcessingOptions,setError:t.setError}},DK=()=>{const t=Ip();return{isProcessing:t.isProcessing,progress:t.progress,error:t.error,uploadedFile:t.uploadedFile,extractedText:t.extractedText,aiExtractedData:t.aiExtractedData,convertedMaterial:t.convertedMaterial,processingOptions:t.processingOptions}},OA=async(t,r,n,o)=>{const a=Ip.getState(),{aiExtractedData:l,extractionResult:d}=a;if(!l)throw new Error("No AI result available for conversion");return await oO().convertToMaterialFormatWithImageUpload(l,t,r,n,d==null?void 0:d.metadata,o)},IK=()=>{const{extractedText:t,isProcessing:r}=Ip();return!r&&!!(t!=null&&t.trim())},TK=()=>{const{convertedMaterial:t,isProcessing:r}=Ip();return!r&&!!t},$we=Object.freeze(Object.defineProperty({__proto__:null,convertMaterialWithImageUpload:OA,useIsImportComplete:TK,useIsReadyForAI:IK,useMaterialImportActions:EK,useMaterialImportStatus:DK,useMaterialImportStore:Ip},Symbol.toStringTag,{value:"Module"})),Av=({onDelete:t,itemType:r})=>{const[n,o]=at.useState(!1),a=()=>{o(!0)},l=()=>{o(!1)},d=()=>{t(),l()};return C.jsxs(C.Fragment,{children:[C.jsx(or,{onClick:a,size:"small",children:C.jsx(hd,{})}),C.jsxs(yo,{open:n,onClose:l,children:[C.jsx(vo,{children:`Delete ${r}`}),C.jsx(Ao,{children:C.jsx(Ss,{children:`Are you sure you want to delete this ${r}? This action cannot be undone.`})}),C.jsxs(_o,{children:[C.jsx(xt,{onClick:l,color:"primary",children:"Cancel"}),C.jsx(xt,{onClick:d,color:"secondary",children:"Delete"})]})]})]})},cO=({sections:t,selected:r,onAddSection:n,onAddSubsection:o,onAddSubSubsection:a,onSelectSection:l,onUpdateSectionTitle:d,onUpdateSubsectionTitle:h,onUpdateSubSubsectionTitle:p,onDeleteSection:g,onDeleteSubsection:b,onDeleteSubSubsection:v,isViewMode:y})=>{const[k,x]=Y.useState(null),[_,D]=Y.useState(null),[E,N]=Y.useState(null),[P,F]=Y.useState(""),[V,$]=Y.useState(t.map(()=>!0)),[M,B]=Y.useState(t.reduce((se,oe,ye)=>(se[ye]=oe.subsections.map(()=>!0),se),{}));Y.useEffect(()=>{$(t.map(()=>!0))},[t]),Y.useEffect(()=>{const se=t.reduce((oe,ye,re)=>(oe[re]=ye.subsections.map(()=>!0),oe),{});B(se)},[t]);const q=se=>{const oe=[...V];oe[se]=!oe[se],$(oe)},Q=(se,oe)=>{const ye={...M};ye[se][oe]=!ye[se][oe],B(ye)},H=(se,oe)=>{k!==null?d(k,P):_?h(_.section,_.subsection,P):E&&p(E.section,E.subsection,E.subSubsection,P),x(se),D(null),N(null),F(oe)},R=se=>{d(se,P),x(null),F("")},K=(se,oe,ye)=>{k!==null?d(k,P):_?h(_.section,_.subsection,P):E&&p(E.section,E.subsection,E.subSubsection,P),x(null),D({section:se,subsection:oe}),N(null),F(ye)},j=(se,oe)=>{h(se,oe,P),D(null),F("")},ne=(se,oe,ye,re)=>{k!==null?d(k,P):_?h(_.section,_.subsection,P):E&&p(E.section,E.subsection,E.subSubsection,P),x(null),D(null),N({section:se,subsection:oe,subSubsection:ye}),F(re)},de=(se,oe,ye)=>{p(se,oe,ye,P),N(null),F("")};return C.jsxs(Le,{sx:{width:"450px",borderRight:"1px solid #ddd",padding:2},children:[C.jsx(ze,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Outline"}),!y&&C.jsx(xt,{variant:"contained",color:"primary",onClick:n,sx:{mb:2},children:"+ Add Section"}),C.jsxs(uk,{children:[C.jsx(Jf,{component:"div",onClick:()=>l("header"),sx:{backgroundColor:r.type==="header"?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:C.jsx(Zf,{primary:"Header"})}),t.map((se,oe)=>C.jsxs(Le,{children:[C.jsxs(Jf,{component:"div",onClick:()=>l(oe),sx:{backgroundColor:r.sectionIndex===oe&&r.subsectionIndex===void 0?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[k===oe?C.jsxs(C.Fragment,{children:[C.jsx(Sn,{value:P,onChange:ye=>F(ye.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&C.jsx(or,{onClick:()=>R(oe),size:"small",children:C.jsx(dk,{})})]}):C.jsxs(C.Fragment,{children:[C.jsx(Zf,{primary:se.title}),!y&&C.jsxs(C.Fragment,{children:[C.jsx(or,{onClick:()=>H(oe,se.title),size:"small",children:C.jsx(oc,{})}),C.jsx(Av,{onDelete:()=>g(oe),itemType:"section"})]})]}),se.subsections.length>0&&C.jsx(or,{onClick:()=>q(oe),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:V[oe]?C.jsx(jk,{sx:{fontSize:"20px"}}):C.jsx(eu,{sx:{fontSize:"20px"}})}),!y&&C.jsx(xt,{variant:"text",onClick:()=>o(oe),size:"small",children:"+ Add Subsection"})]}),V[oe]&&C.jsx(uk,{sx:{pl:4},children:se.subsections.map((ye,re)=>C.jsxs(Le,{children:[C.jsxs(Jf,{component:"div",onClick:()=>l(oe,re),sx:{backgroundColor:r.sectionIndex===oe&&r.subsectionIndex===re&&r.subSubsectionIndex===void 0?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[_&&_.section===oe&&_.subsection===re?C.jsxs(C.Fragment,{children:[C.jsx(Sn,{value:P,onChange:_e=>F(_e.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&C.jsx(or,{onClick:()=>j(oe,re),size:"small",children:C.jsx(dk,{})})]}):C.jsxs(C.Fragment,{children:[C.jsx(Zf,{primary:ye.title}),!y&&C.jsxs(C.Fragment,{children:[C.jsx(or,{onClick:()=>K(oe,re,ye.title),size:"small",children:C.jsx(oc,{})}),C.jsx(Av,{onDelete:()=>b(oe,re),itemType:"subsection"})]})]}),ye.subSubsections.length>0&&C.jsx(or,{onClick:()=>Q(oe,re),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:M[oe][re]?C.jsx(jk,{sx:{fontSize:"20px"}}):C.jsx(eu,{sx:{fontSize:"20px"}})}),!y&&C.jsx(xt,{variant:"text",onClick:()=>a(oe,re),size:"small",children:"+ Add Sub-Subsection"})]}),M[oe][re]&&C.jsx(uk,{sx:{pl:4},children:ye.subSubsections.map((_e,X)=>C.jsx(Jf,{component:"div",onClick:()=>l(oe,re,X),sx:{backgroundColor:r.sectionIndex===oe&&r.subsectionIndex===re&&r.subSubsectionIndex===X?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:E&&E.section===oe&&E.subsection===re&&E.subSubsection===X?C.jsxs(C.Fragment,{children:[C.jsx(Sn,{value:P,onChange:J=>F(J.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&C.jsx(or,{onClick:()=>de(oe,re,X),size:"small",children:C.jsx(dk,{})})]}):C.jsxs(C.Fragment,{children:[C.jsx(Zf,{primary:_e.title}),!y&&C.jsxs(C.Fragment,{children:[C.jsx(or,{onClick:()=>ne(oe,re,X,_e.title),size:"small",children:C.jsx(oc,{})}),C.jsx(Av,{onDelete:()=>v(oe,re,X),itemType:"subSubsection"})]})]})},_e.id))})]},ye.id))})]},se.id)),C.jsx(Jf,{component:"div",onClick:()=>l("footer"),sx:{backgroundColor:r.type==="footer"?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:C.jsx(Zf,{primary:"Footer"})})]})]})},uO=({returnToSelection:t=!1})=>{const r=Vr(),[n]=_1(),o=n.get("course"),a=()=>{r(t||!o?"/supplemental-materials":`/supplemental-materials?course=${o}`)};return C.jsx(xt,{variant:"text",color:"primary",startIcon:C.jsx(fP,{}),onClick:a,className:"supplemental-back-button",children:t?"Course Selection":"Course Materials"})},NK=({sectionId:t,onImagesUploaded:r})=>{const[n,o]=Y.useState(!1),[a,l]=Y.useState(""),[d,h]=Y.useState("success"),p=Hg(),g=async y=>{if(y.target.files){const k=Array.from(y.target.files),x=[];for(const _ of k)try{const D=await b(_),E=await v(D);x.push({url:E.url,title:`Image ${Pa()}`})}catch{l("Failed to upload images"),h("error"),o(!0)}r(x),l("Image(s) uploaded successfully"),h("success"),o(!0)}},b=y=>new Promise((k,x)=>{y.size>5*1024*1024?iO.imageFileResizer(y,500,500,"JPEG",70,0,_=>{typeof _=="string"?x(new Error("Compression returned a string instead of a file")):k(_)},"file"):k(y)}),v=y=>new Promise((k,x)=>{const _=y1(p,`materials/${t}/${y.name}`);V_(_,y).then(D=>{v1(D.ref).then(E=>{k({url:E,path:D.ref.fullPath})})}).catch(D=>x(D))});return C.jsxs(Le,{children:[C.jsxs(Le,{sx:{mt:2,display:"flex",alignItems:"center"},children:[C.jsx(wW,{sx:{mr:1}}),C.jsx(ze,{variant:"h6",children:"Images"})]}),C.jsxs(Le,{sx:{mt:2},children:[C.jsxs(xt,{variant:"contained",component:"label",color:"primary",children:["Add Image",C.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:g})]}),C.jsx(is,{open:n,autoHideDuration:6e3,onClose:()=>o(!1),children:C.jsx(Sr,{onClose:()=>o(!1),severity:d,sx:{width:"100%"},children:a})})]})]})},MK=({imageTitle:t,onTitleChange:r})=>C.jsx(Sn,{variant:"outlined",fullWidth:!0,value:t,onChange:n=>r(n.target.value),placeholder:"Image Title",sx:{mt:1}}),PK=({links:t,onLinksChange:r})=>{const n=()=>{const a={title:"",url:"",description:""};r([...t,a])},o=a=>{const l=t.filter((d,h)=>h!==a);r(l)};return C.jsxs(Le,{children:[C.jsxs(Le,{sx:{mt:2,display:"flex",alignItems:"center"},children:[C.jsx(yW,{sx:{mr:1}}),C.jsx(ze,{variant:"h6",children:"Links"})]}),C.jsx(Le,{sx:{mt:1},children:t.map((a,l)=>C.jsxs(Le,{sx:{display:"flex",alignItems:"center",mb:1},children:[C.jsx(Sn,{label:"Title",value:a.title,onChange:d=>{const h=[...t];h[l].title=d.target.value,r(h)},sx:{flexBasis:"20%",mr:1}}),C.jsx(Sn,{label:"URL",value:a.url,onChange:d=>{const h=[...t];h[l].url=d.target.value,r(h)},sx:{flexBasis:"40%",mr:1}}),C.jsx(Sn,{label:"Description",value:a.description,onChange:d=>{const h=[...t];h[l].description=d.target.value,r(h)},sx:{flexBasis:"40%"}}),C.jsx(or,{onClick:()=>o(l),children:C.jsx(hd,{})})]},l))}),C.jsx(xt,{variant:"contained",onClick:n,sx:{mt:2},children:"Add Link"})]})};var _v={exports:{}};/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Q_{constructor(r){wt(this,"crashes",[]);wt(this,"state","initializing");wt(this,"_crashNumberLimit");wt(this,"_now",Date.now);wt(this,"_minimumNonErrorTimePeriod");wt(this,"_boundErrorHandler");wt(this,"_listeners");if(this.crashes=[],this._crashNumberLimit=typeof r.crashNumberLimit=="number"?r.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof r.minimumNonErrorTimePeriod=="number"?r.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=n=>{const o="error"in n?n.error:n.reason;o instanceof Error&&this._handleError(o,n)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(r,n){this._listeners[r]||(this._listeners[r]=[]),this._listeners[r].push(n)}off(r,n){this._listeners[r]=this._listeners[r].filter(o=>o!==n)}_fire(r,...n){const o=this._listeners[r]||[];for(const a of o)a.apply(this,[null,...n])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(r,n){if(this._shouldReactToError(r)){this.crashes.push({message:r.message,stack:r.stack,filename:n instanceof ErrorEvent?n.filename:void 0,lineno:n instanceof ErrorEvent?n.lineno:void 0,colno:n instanceof ErrorEvent?n.colno:void 0,date:this._now()});const o=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:r,causesRestart:o}),o?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(r){return r.is&&r.is("CKEditorError")&&r.context!==void 0&&r.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(r)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const r=this.crashes[this.crashes.length-1].date,n=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(r-n)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function OK(t){return t==null||typeof t!="object"&&typeof t!="function"}function LK(t){return Object.getOwnPropertySymbols(t).filter(r=>Object.prototype.propertyIsEnumerable.call(t,r))}function jK(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const BK="[object RegExp]",dO="[object String]",hO="[object Number]",fO="[object Boolean]",pO="[object Arguments]",RK="[object Symbol]",FK="[object Date]",zK="[object Map]",UK="[object Set]",qK="[object Array]",VK="[object ArrayBuffer]",$K="[object Object]",HK="[object DataView]",WK="[object Uint8Array]",GK="[object Uint8ClampedArray]",YK="[object Uint16Array]",KK="[object Uint32Array]",QK="[object Int8Array]",JK="[object Int16Array]",ZK="[object Int32Array]",XK="[object Float32Array]",eQ="[object Float64Array]";function tQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nQ(t,r){return rp(t,void 0,t,new Map,r)}function rp(t,r,n,o=new Map,a=void 0){const l=a==null?void 0:a(t,r,n,o);if(l!=null)return l;if(OK(t))return t;if(o.has(t))return o.get(t);if(Array.isArray(t)){const d=new Array(t.length);o.set(t,d);for(let h=0;h<t.length;h++)d[h]=rp(t[h],h,n,o,a);return Object.hasOwn(t,"index")&&(d.index=t.index),Object.hasOwn(t,"input")&&(d.input=t.input),d}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const d=new RegExp(t.source,t.flags);return d.lastIndex=t.lastIndex,d}if(t instanceof Map){const d=new Map;o.set(t,d);for(const[h,p]of t)d.set(h,rp(p,h,n,o,a));return d}if(t instanceof Set){const d=new Set;o.set(t,d);for(const h of t)d.add(rp(h,void 0,n,o,a));return d}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(tQ(t)){const d=new(Object.getPrototypeOf(t)).constructor(t.length);o.set(t,d);for(let h=0;h<t.length;h++)d[h]=rp(t[h],h,n,o,a);return d}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const d=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return o.set(t,d),hh(d,t,n,o,a),d}if(typeof File<"u"&&t instanceof File){const d=new File([t],t.name,{type:t.type});return o.set(t,d),hh(d,t,n,o,a),d}if(t instanceof Blob){const d=new Blob([t],{type:t.type});return o.set(t,d),hh(d,t,n,o,a),d}if(t instanceof Error){const d=new t.constructor;return o.set(t,d),d.message=t.message,d.name=t.name,d.stack=t.stack,d.cause=t.cause,hh(d,t,n,o,a),d}if(typeof t=="object"&&rQ(t)){const d=Object.create(Object.getPrototypeOf(t));return o.set(t,d),hh(d,t,n,o,a),d}return t}function hh(t,r,n=t,o,a){const l=[...Object.keys(r),...LK(r)];for(let d=0;d<l.length;d++){const h=l[d],p=Object.getOwnPropertyDescriptor(t,h);(p==null||p.writable)&&(t[h]=rp(r[h],h,n,o,a))}}function rQ(t){switch(jK(t)){case pO:case qK:case VK:case HK:case fO:case FK:case XK:case eQ:case QK:case JK:case ZK:case zK:case hO:case $K:case BK:case UK:case dO:case RK:case WK:case GK:case YK:case KK:return!0;default:return!1}}function iQ(t,r){return nQ(t,(n,o,a,l)=>{const d=r==null?void 0:r(n,o,a,l);if(d!=null)return d;if(typeof t=="object")switch(Object.prototype.toString.call(t)){case hO:case dO:case fO:{const h=new t.constructor(t==null?void 0:t.valueOf());return hh(h,t),h}case pO:{const h={};return hh(h,t),h.length=t.length,h[Symbol.iterator]=t[Symbol.iterator],h}default:return}})}function oQ(t){return typeof t=="object"&&t!==null}function sQ(t,r,{signal:n,edges:o}={}){let a,l=null;const d=o!=null&&o.includes("leading"),h=o==null||o.includes("trailing"),p=()=>{l!==null&&(t.apply(a,l),a=void 0,l=null)},g=()=>{h&&p(),k()};let b=null;const v=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},y=()=>{b!==null&&(clearTimeout(b),b=null)},k=()=>{y(),a=void 0,l=null},x=()=>{y(),p()},_=function(...D){if(n!=null&&n.aborted)return;a=this,l=D;const E=b==null;v(),d&&E&&p()};return _.schedule=v,_.cancel=k,_.flush=x,n==null||n.addEventListener("abort",k,{once:!0}),_}function aQ(t,r=0,n={}){typeof n!="object"&&(n={});const{leading:o=!1,trailing:a=!0,maxWait:l}=n,d=Array(2);o&&(d[0]="leading"),a&&(d[1]="trailing");let h,p=null;const g=sQ(function(...y){h=t.apply(this,y),p=null},r,{edges:d}),b=function(...y){return l!=null&&(p===null&&(p=Date.now()),Date.now()-p>=l)?(h=t.apply(this,y),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,y),h)},v=()=>(g.flush(),h);return b.cancel=g.cancel,b.flush=v,b}function lQ(t,r=0,n={}){typeof n!="object"&&(n={});const{leading:o=!0,trailing:a=!0}=n;return aQ(t,r,{leading:o,trailing:a,maxWait:r})}function cQ(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const o=t[Symbol.toStringTag];return o==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${o}]`}let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}function JI(t){return oQ(t)&&t.nodeType===1&&!cQ(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function LA(t,r=new Set){const n=[t],o=new Set;let a=0;for(;n.length>a;){const l=n[a++];if(!(o.has(l)||!uQ(l)||r.has(l)))if(o.add(l),Symbol.iterator in l)try{for(const d of l)n.push(d)}catch{}else for(const d in l)d!=="defaultValue"&&n.push(l[d])}return o}function uQ(t){const r=Object.prototype.toString.call(t),n=typeof t;return!(n==="number"||n==="boolean"||n==="string"||n==="symbol"||n==="function"||r==="[object Date]"||r==="[object RegExp]"||r==="[object Module]"||t===void 0||t===null||t._watchdogExcluded||t instanceof EventTarget||t instanceof Event)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function mO(t,r,n=new Set){if(t===r&&dQ(t))return!0;const o=LA(t,n),a=LA(r,n);for(const l of o)if(a.has(l))return!0;return!1}function dQ(t){return typeof t=="object"&&t!==null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class gO extends Q_{constructor(n,o={}){super(o);wt(this,"_editor",null);wt(this,"_lifecyclePromise",null);wt(this,"_throttledSave");wt(this,"_data");wt(this,"_lastDocumentVersion");wt(this,"_elementOrData");wt(this,"_initUsingData",!0);wt(this,"_editables",{});wt(this,"_config");wt(this,"_excludedProps");this._throttledSave=lQ(this._save.bind(this),typeof o.saveInterval=="number"?o.saveInterval:5e3),n&&(this._creator=(a,l)=>n.create(a,l)),this._destructor=a=>a.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(n=>{console.error("An error happened during the editor destroying.",n)}).then(()=>{const n={},o=[],a=this._config.rootsAttributes||{},l={};for(const[h,p]of Object.entries(this._data.roots))p.isLoaded?(n[h]="",l[h]=a[h]||{}):o.push(h);const d={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:o,rootsAttributes:l,_watchdogInitialData:this._data};return delete d.initialData,d.extraPlugins.push(hQ),this._initUsingData?this.create(n,d,d.context):JI(this._elementOrData)?this.create(this._elementOrData,d,d.context):this.create(this._editables,d,d.context)}).then(()=>{this._fire("restart")})}create(n=this._elementOrData,o=this._config,a){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=n,this._initUsingData=typeof n=="string"||Object.keys(n).length>0&&typeof Object.values(n)[0]=="string",this._config=this._cloneEditorConfiguration(o)||{},this._config.context=a,this._creator(n,this._config))).then(l=>{this._editor=l,l.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=l.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const n=this._editor;return this._editor=null,n.model.document.off("change:data",this._throttledSave),this._destructor(n)})}_save(){const n=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=n}catch(o){console.error(o,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(n){this._excludedProps=n}_getData(){const n=this._editor,o=n.model.document.roots.filter(p=>p.isAttached()&&p.rootName!="$graveyard"),{plugins:a}=n,l=a.has("CommentsRepository")&&a.get("CommentsRepository"),d=a.has("TrackChanges")&&a.get("TrackChanges"),h={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};o.forEach(p=>{h.roots[p.rootName]={content:JSON.stringify(Array.from(p.getChildren())),attributes:JSON.stringify(Array.from(p.getAttributes())),isLoaded:p._isLoaded}});for(const p of n.model.markers)p._affectsData&&(h.markers[p.name]={rangeJSON:p.getRange().toJSON(),usingOperation:p._managedUsingOperations,affectsData:p._affectsData});return l&&(h.commentThreads=JSON.stringify(l.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),d&&(h.suggestions=JSON.stringify(d.getSuggestions({toJSON:!0,skipNotAttached:!0}))),h}_getEditables(){const n={};for(const o of this.editor.model.document.getRootNames()){const a=this.editor.ui.getEditableElement(o);a&&(n[o]=a)}return n}_isErrorComingFromThisItem(n){return mO(this._editor,n.context,this._excludedProps)}_cloneEditorConfiguration(n){return iQ(n,(o,a)=>{if(JI(o)||a==="context")return o})}}class hQ{constructor(r){wt(this,"editor");wt(this,"_data");this.editor=r,this._data=r.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",r=>{r.stop(),this.editor.model.enqueueChange({isUndoable:!1},n=>{this._restoreCollaborationData(),this._restoreEditorData(n)}),this.editor.data.fire("ready")},{priority:999})}_createNode(r,n){if("name"in n){const o=r.createElement(n.name,n.attributes);if(n.children)for(const a of n.children)o._appendChild(this._createNode(r,a));return o}else return r.createText(n.data,n.attributes)}_restoreEditorData(r){const n=this.editor;Object.entries(this._data.roots).forEach(([o,{content:a,attributes:l}])=>{const d=JSON.parse(a),h=JSON.parse(l),p=n.model.document.getRoot(o);for(const[g,b]of h)r.setAttribute(g,b,p);for(const g of d){const b=this._createNode(r,g);r.insert(b,p,"end")}}),Object.entries(this._data.markers).forEach(([o,a])=>{const{document:l}=n.model,{rangeJSON:{start:d,end:h},...p}=a,g=l.getRoot(d.root),b=r.createPositionFromPath(g,d.path,d.stickiness),v=r.createPositionFromPath(g,h.path,h.stickiness),y=r.createRange(b,v);r.addMarker(o,{range:y,...p})})}_restoreCollaborationData(){const r=JSON.parse(this._data.commentThreads),n=JSON.parse(this._data.suggestions);r.forEach(o=>{const a=this.editor.config.get("collaboration.channelId"),l=this.editor.plugins.get("CommentsRepository");l.hasCommentThread(o.threadId)&&l.getCommentThread(o.threadId).remove(),l.addCommentThread({channelId:a,...o})}),n.forEach(o=>{const a=this.editor.plugins.get("TrackChangesEditing");if(a.hasSuggestion(o.id)){const l=a.getSuggestion(o.id);l.attributes=o.attributes}else a.addSuggestionData(o)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const pg=Symbol("MainQueueId");class fQ extends Q_{constructor(n,o={}){super(o);wt(this,"_watchdogs",new Map);wt(this,"_watchdogConfig");wt(this,"_context",null);wt(this,"_contextProps",new Set);wt(this,"_actionQueues",new pQ);wt(this,"_contextConfig");wt(this,"_item");this._watchdogConfig=o,this._creator=a=>n.create(a),this._destructor=a=>a.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}get context(){return this._context}create(n={}){return this._actionQueues.enqueue(pg,()=>(this._contextConfig=n,this._create()))}getItem(n){return this._getWatchdog(n)._item}getItemState(n){return this._getWatchdog(n).state}add(n){const o=ZI(n);return Promise.all(o.map(a=>this._actionQueues.enqueue(a.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let l;if(this._watchdogs.has(a.id))throw new Error(`Item with the given id is already added: '${a.id}'.`);if(a.type==="editor")return l=new gO(null,this._watchdogConfig),l.setCreator(a.creator),l._setExcludedProperties(this._contextProps),a.destructor&&l.setDestructor(a.destructor),this._watchdogs.set(a.id,l),l.on("error",(d,{error:h,causesRestart:p})=>{this._fire("itemError",{itemId:a.id,error:h}),p&&this._actionQueues.enqueue(a.id,()=>new Promise(g=>{const b=()=>{l.off("restart",b),this._fire("itemRestart",{itemId:a.id}),g()};l.on("restart",b)}))}),l.create(a.sourceElementOrData,a.config,this._context);throw new Error(`Not supported item type: '${a.type}'.`)})))}remove(n){const o=ZI(n);return Promise.all(o.map(a=>this._actionQueues.enqueue(a,()=>{const l=this._getWatchdog(a);return this._watchdogs.delete(a),l.destroy()})))}destroy(){return this._actionQueues.enqueue(pg,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(pg,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(n=>{console.error("An error happened during destroying the context or items.",n)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(n=>(this._context=n,this._contextProps=LA(this._context),Promise.all(Array.from(this._watchdogs.values()).map(o=>(o._setExcludedProperties(this._contextProps),o.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const n=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(o=>o.destroy())).then(()=>this._destructor(n))})}_getWatchdog(n){const o=this._watchdogs.get(n);if(!o)throw new Error(`Item with the given id was not registered: ${n}.`);return o}_isErrorComingFromThisItem(n){for(const o of this._watchdogs.values())if(o._isErrorComingFromThisItem(n))return!1;return mO(this._context,n.context)}}class pQ{constructor(){wt(this,"_onEmptyCallbacks",[]);wt(this,"_queues",new Map);wt(this,"_activeActions",0)}onEmpty(r){this._onEmptyCallbacks.push(r)}enqueue(r,n){const o=r===pg;this._activeActions++,this._queues.get(r)||this._queues.set(r,Promise.resolve());const l=(o?Promise.all(this._queues.values()):Promise.all([this._queues.get(pg),this._queues.get(r)])).then(n),d=l.catch(()=>{});return this._queues.set(r,d),l.finally(()=>{this._activeActions--,this._queues.get(r)===d&&this._activeActions===0&&this._onEmptyCallbacks.forEach(h=>h())})}}function ZI(t){return Array.isArray(t)?t:[t]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const mQ=Object.freeze(Object.defineProperty({__proto__:null,ContextWatchdog:fQ,EditorWatchdog:gO,Watchdog:Q_},Symbol.toStringTag,{value:"Module"})),gQ=su(mQ);/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */var XI;function bQ(){return XI||(XI=1,function(t,r){(function(n,o){t.exports=o(JW(),vW(),gQ)})(self,(n,o,a)=>(()=>{var l={546:g=>{g.exports=a},949:g=>{g.exports=o},155:g=>{g.exports=n}},d={};function h(g){var b=d[g];if(b!==void 0)return b.exports;var v=d[g]={exports:{}};return l[g](v,v.exports,h),v.exports}h.n=g=>{var b=g&&g.__esModule?()=>g.default:()=>g;return h.d(b,{a:b}),b},h.d=(g,b)=>{for(var v in b)h.o(b,v)&&!h.o(g,v)&&Object.defineProperty(g,v,{enumerable:!0,get:b[v]})},h.o=(g,b)=>Object.prototype.hasOwnProperty.call(g,b),h.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var p={};return(()=>{h.r(p),h.d(p,{CKEditor:()=>N,CKEditorContext:()=>D,useMultiRootEditor:()=>$});var g=h(155),b=h.n(g),v=h(949),y=h.n(v);const k=new Array(256).fill("").map((M,B)=>("0"+B.toString(16)).slice(-2));var x=h(546);const _=b().createContext("contextWatchdog");class D extends b().Component{constructor(B,q){super(B,q),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(B){return this._shouldComponentUpdate(B)}async _shouldComponentUpdate(B){return B.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(B.config)),B.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(B.config),!0):this.props.children!==B.children}render(){return b().createElement(_.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(B){this.contextWatchdog=new x.ContextWatchdog(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(q,Q)=>{this.props.onError(Q.error,{phase:"runtime",willContextRestart:Q.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(B).catch(q=>{this.props.onError(q,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}D.defaultProps={isLayoutReady:!0,onError:(M,B)=>console.error(M,B)},D.propTypes={id:y().string,isLayoutReady:y().bool,context:y().func,watchdogConfig:y().object,config:y().object,onReady:y().func,onError:y().func};const E="Lock from React integration (@ckeditor/ckeditor5-react)";class N extends b().Component{constructor(B){super(B),this.editorDestructionInProgress=null,this.domContainer=b().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:q}=window;if(q){const[Q]=q.split(".").map(Number);Q<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(B){return!!this.editor&&(B.id!==this.props.id||B.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(B)&&this.editor.data.set(B.data),"disabled"in B&&(B.disabled?this.editor.enableReadOnlyMode(E):this.editor.disableReadOnlyMode(E)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return b().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof x.ContextWatchdog?this.watchdog=new P(this.context):this.watchdog=new N._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((B,q)=>this._createEditor(B,q)),this.watchdog.on("error",(B,{error:q,causesRestart:Q})=>{(this.props.onError||console.error)(q,{phase:"runtime",willEditorRestart:Q})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(B=>{(this.props.onError||console.error)(B,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(B,q){return this.props.editor.create(B,q).then(Q=>{"disabled"in this.props&&this.props.disabled&&Q.enableReadOnlyMode(E);const H=Q.model.document,R=Q.editing.view.document;return H.on("change:data",K=>{this.props.onChange&&this.props.onChange(K,Q)}),R.on("focus",K=>{this.props.onFocus&&this.props.onFocus(K,Q)}),R.on("blur",K=>{this.props.onBlur&&this.props.onBlur(K,Q)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(Q)}),Q})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(B=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,B()):this.instance?(await this.instance.destroy(),this.instance=null,B()):void B())})}_shouldUpdateEditor(B){return this.props.data!==B.data&&this.editor.data.get()!==B.data}_getConfig(){const B=this.props.config||{};return this.props.data&&B.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...B,initialData:B.initialData||this.props.data||""}}}N.contextType=_,N.propTypes={editor:y().func.isRequired,data:y().string,config:y().object,disableWatchdog:y().bool,watchdogConfig:y().object,onChange:y().func,onReady:y().func,onFocus:y().func,onBlur:y().func,onError:y().func,disabled:y().bool,id:y().any},N._EditorWatchdog=x.EditorWatchdog;class P{constructor(B){this._contextWatchdog=B,this._id=function(){const q=4294967296*Math.random()>>>0,Q=4294967296*Math.random()>>>0,H=4294967296*Math.random()>>>0,R=4294967296*Math.random()>>>0;return"e"+k[255&q]+k[q>>8&255]+k[q>>16&255]+k[q>>24&255]+k[255&Q]+k[Q>>8&255]+k[Q>>16&255]+k[Q>>24&255]+k[255&H]+k[H>>8&255]+k[H>>16&255]+k[H>>24&255]+k[255&R]+k[R>>8&255]+k[R>>16&255]+k[R>>24&255]}()}setCreator(B){this._creator=B}create(B,q){return this._contextWatchdog.add({sourceElementOrData:B,config:q,creator:this._creator,id:this._id,type:"editor"})}on(B,q){this._contextWatchdog.on("itemError",(Q,{itemId:H,error:R})=>{H===this._id&&q(null,{error:R,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const F="Lock from React integration (@ckeditor/ckeditor5-react)",V=({editor:M})=>{const B=(0,g.useRef)(null);return(0,g.useEffect)(()=>{const q=B.current;if(!M||!q)return;const Q=M.ui.view.toolbar.element;return q&&q.appendChild(Q),()=>{q&&q.removeChild(Q)}},[M&&M.id]),b().createElement("div",{ref:B})},$=M=>{const B=(0,g.useRef)(null),q=(0,g.useRef)(null),Q=(0,g.useContext)(_),[H,R]=(0,g.useState)(null),[K,j]=(0,g.useState)(M.data),[ne,de]=(0,g.useState)(M.rootsAttributes||{}),[se,oe]=(0,g.useState)([]),ye=(0,g.useRef)(!0);(0,g.useEffect)(()=>((async()=>(await q.current,M.isLayoutReady!==!1&&await ae()))(),()=>{J().then(()=>{q.current=null})}),[M.isLayoutReady]),(0,g.useEffect)(()=>{H&&(M.disabled?H.enableReadOnlyMode(F):H.disableReadOnlyMode(F))},[M.disabled]),(0,g.useEffect)(()=>{if(H&&!q.current){const Je=H.getFullData();j({...Je}),de({...H.getRootsAttributes()}),oe([...Object.keys(Je).map(Ue=>_e(H,Ue))])}},[H&&H.id]);const re=()=>{const Je=M.config||{};return M.data&&Je.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...Je,rootsAttributes:ne}},_e=(Je,Ue)=>b().createElement("div",{id:Ue,key:Ue,ref:Z=>{if(Z){const Ce=Je.ui.view.createEditable(Ue,Z);Je.ui.addEditable(Ce),Je.editing.view.forceRender()}}}),X=(Je,Ue)=>M.editor.create(Je,Ue).then(Z=>{M.disabled&&M.disabled&&Z.enableReadOnlyMode(F);const Ce=Z.model.document,ue=Z.editing.view.document;return Ce.on("change:data",ge=>((he,Ae)=>{const Me=he.model.document;if(!M.disableTwoWayDataBinding){const Te={},Ee={};Me.differ.getChanges().forEach(qe=>{let Ve;if(Ve=qe.type=="insert"||qe.type=="remove"?qe.position.root:qe.range.root,!Ve.isAttached())return;const{rootName:He}=Ve;Te[He]=he.getData({rootName:He})}),Me.differ.getChangedRoots().forEach(qe=>{if(qe.state)return void(Te[qe.name]!==void 0&&delete Te[qe.name]);const Ve=qe.name;Ee[Ve]=he.getRootAttributes(Ve)}),Object.keys(Te).length&&j(qe=>({...qe,...Te})),Object.keys(Ee).length&&de(qe=>({...qe,...Ee}))}M.onChange&&M.onChange(Ae,he)})(Z,ge)),Z.on("addRoot",(ge,he)=>((Ae,Me,Te)=>{const Ee=Te.rootName,qe=_e(Ae,Ee);M.disableTwoWayDataBinding||(j(Ve=>({...Ve,[Ee]:Ae.getData({rootName:Ee})})),de(Ve=>({...Ve,[Ee]:Ae.getRootAttributes(Ee)}))),oe(Ve=>[...Ve,qe])})(Z,0,he)),Z.on("detachRoot",(ge,he)=>((Ae,Me,Te)=>{const Ee=Te.rootName;oe(qe=>qe.filter(Ve=>Ve.props.id!==Ee)),M.disableTwoWayDataBinding||(j(qe=>{const{[Ee]:Ve,...He}=qe;return{...He}}),de(qe=>{const{[Ee]:Ve,...He}=qe;return{...He}})),Ae.detachEditable(Te)})(Z,0,he)),ue.on("focus",ge=>{M.onFocus&&M.onFocus(ge,Z)}),ue.on("blur",ge=>{M.onBlur&&M.onBlur(ge,Z)}),R(Z),M.onReady&&M.onReady(Z),Z}),J=async()=>{R(null),j({}),de({}),oe([]),q.current=new Promise(Je=>{setTimeout(async()=>B.current?(await B.current.destroy(),B.current=null,Je()):H?(await H.destroy(),Je()):void Je())})},ae=async()=>{if(M.disableWatchdog)return void await X(M.data,re());if(B.current)return;Q instanceof x.ContextWatchdog?B.current=new P(Q):B.current=new x.EditorWatchdog(M.editor,M.watchdogConfig);const Je=B.current;Je.setCreator((Ue,Z)=>X(Ue,Z)),Je.on("error",(Ue,{error:Z,causesRestart:Ce})=>{(M.onError||console.error)(Z,{phase:"runtime",willEditorRestart:Ce})}),await Je.create(K,re()).catch(Ue=>{(M.onError||console.error)(Ue,{phase:"initialization",willEditorRestart:!1})})};(0,g.useEffect)(()=>{if(H&&ye.current){ye.current=!1;const Je=Object.keys(K),Ue=Object.keys(ne);if(!Je.every(Me=>Ue.includes(Me)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const Z=H.getFullData(),Ce=H.getRootsAttributes(),{addedKeys:ue,removedKeys:ge}=pe(Z,K||{}),he=Je.some(Me=>Z[Me]!==void 0&&JSON.stringify(Z[Me])!==JSON.stringify(K[Me])),Ae=Ue.filter(Me=>JSON.stringify(Ce[Me])!==JSON.stringify(ne[Me]));H.model.change(Me=>{we(ue),Pe(ge),he&&Ie(),Ae.length&&Ne(Me,Ae)})}},[K,ne]);const pe=(Je,Ue)=>{const Z=Object.keys(Je),Ce=Object.keys(Ue);return{addedKeys:Ce.filter(ue=>!Z.includes(ue)),removedKeys:Z.filter(ue=>!Ce.includes(ue))}},we=Je=>{Je.forEach(Ue=>{H.addRoot(Ue,{data:K[Ue]||"",attributes:(ne==null?void 0:ne[Ue])||{},isUndoable:!0})})},Pe=Je=>{Je.forEach(Ue=>{H.detachRoot(Ue,!0)})},Ie=()=>{H.data.set(K,{suppressErrorInCollaboration:!0})},Ne=(Je,Ue)=>{Ue.forEach(Z=>{Object.keys(ne[Z]).forEach(Ce=>{H.registerRootAttribute(Ce)}),Je.clearAttributes(H.model.document.getRoot(Z)),Je.setAttributes(ne[Z],H.model.document.getRoot(Z))})},rt=(0,g.useCallback)(Je=>{ye.current=!0,j(Je)},[j]),Qe=(0,g.useCallback)(Je=>{ye.current=!0,de(Je)},[de]);return{editor:H,editableElements:se,toolbarElement:b().createElement(V,{editor:H}),data:K,setData:rt,attributes:ne,setAttributes:Qe}}})(),p})())}(_v)),_v.exports}var bO=bQ(),cg={exports:{}};cg.exports;var eT;function kQ(){return eT||(eT=1,function(t,r){(function(n){const o=n.en=n.en||{};o.dictionary=Object.assign(o.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lower–roman":"Lower–roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower–latin list style":"Toggle the lower–latin list style","Toggle the lower–roman list style":"Toggle the lower–roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper–latin list style":"Toggle the upper–latin list style","Toggle the upper–roman list style":"Toggle the upper–roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(n,o){t.exports=o()}(self,()=>(()=>{var n={9246:(d,h,p)=>{const g=p(6931),b={};for(const y of Object.keys(g))b[g[y]]=y;const v={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};d.exports=v;for(const y of Object.keys(v)){if(!("channels"in v[y]))throw new Error("missing channels property: "+y);if(!("labels"in v[y]))throw new Error("missing channel labels property: "+y);if(v[y].labels.length!==v[y].channels)throw new Error("channel and label counts mismatch: "+y);const{channels:k,labels:x}=v[y];delete v[y].channels,delete v[y].labels,Object.defineProperty(v[y],"channels",{value:k}),Object.defineProperty(v[y],"labels",{value:x})}v.rgb.hsl=function(y){const k=y[0]/255,x=y[1]/255,_=y[2]/255,D=Math.min(k,x,_),E=Math.max(k,x,_),N=E-D;let P,F;E===D?P=0:k===E?P=(x-_)/N:x===E?P=2+(_-k)/N:_===E&&(P=4+(k-x)/N),P=Math.min(60*P,360),P<0&&(P+=360);const V=(D+E)/2;return F=E===D?0:V<=.5?N/(E+D):N/(2-E-D),[P,100*F,100*V]},v.rgb.hsv=function(y){let k,x,_,D,E;const N=y[0]/255,P=y[1]/255,F=y[2]/255,V=Math.max(N,P,F),$=V-Math.min(N,P,F),M=function(B){return(V-B)/6/$+.5};return $===0?(D=0,E=0):(E=$/V,k=M(N),x=M(P),_=M(F),N===V?D=_-x:P===V?D=.3333333333333333+k-_:F===V&&(D=.6666666666666666+x-k),D<0?D+=1:D>1&&(D-=1)),[360*D,100*E,100*V]},v.rgb.hwb=function(y){const k=y[0],x=y[1];let _=y[2];const D=v.rgb.hsl(y)[0],E=1/255*Math.min(k,Math.min(x,_));return _=1-.00392156862745098*Math.max(k,Math.max(x,_)),[D,100*E,100*_]},v.rgb.cmyk=function(y){const k=y[0]/255,x=y[1]/255,_=y[2]/255,D=Math.min(1-k,1-x,1-_);return[100*((1-k-D)/(1-D)||0),100*((1-x-D)/(1-D)||0),100*((1-_-D)/(1-D)||0),100*D]},v.rgb.keyword=function(y){const k=b[y];if(k)return k;let x,_=1/0;for(const N of Object.keys(g)){const P=g[N],F=(E=P,((D=y)[0]-E[0])**2+(D[1]-E[1])**2+(D[2]-E[2])**2);F<_&&(_=F,x=N)}var D,E;return x},v.keyword.rgb=function(y){return g[y]},v.rgb.xyz=function(y){let k=y[0]/255,x=y[1]/255,_=y[2]/255;return k=k>.04045?((k+.055)/1.055)**2.4:k/12.92,x=x>.04045?((x+.055)/1.055)**2.4:x/12.92,_=_>.04045?((_+.055)/1.055)**2.4:_/12.92,[100*(.4124*k+.3576*x+.1805*_),100*(.2126*k+.7152*x+.0722*_),100*(.0193*k+.1192*x+.9505*_)]},v.rgb.lab=function(y){const k=v.rgb.xyz(y);let x=k[0],_=k[1],D=k[2];return x/=95.047,_/=100,D/=108.883,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,_=_>.008856?_**.3333333333333333:7.787*_+.13793103448275862,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,[116*_-16,500*(x-_),200*(_-D)]},v.hsl.rgb=function(y){const k=y[0]/360,x=y[1]/100,_=y[2]/100;let D,E,N;if(x===0)return N=255*_,[N,N,N];D=_<.5?_*(1+x):_+x-_*x;const P=2*_-D,F=[0,0,0];for(let V=0;V<3;V++)E=k+.3333333333333333*-(V-1),E<0&&E++,E>1&&E--,N=6*E<1?P+6*(D-P)*E:2*E<1?D:3*E<2?P+(D-P)*(.6666666666666666-E)*6:P,F[V]=255*N;return F},v.hsl.hsv=function(y){const k=y[0];let x=y[1]/100,_=y[2]/100,D=x;const E=Math.max(_,.01);return _*=2,x*=_<=1?_:2-_,D*=E<=1?E:2-E,[k,100*(_===0?2*D/(E+D):2*x/(_+x)),100*((_+x)/2)]},v.hsv.rgb=function(y){const k=y[0]/60,x=y[1]/100;let _=y[2]/100;const D=Math.floor(k)%6,E=k-Math.floor(k),N=255*_*(1-x),P=255*_*(1-x*E),F=255*_*(1-x*(1-E));switch(_*=255,D){case 0:return[_,F,N];case 1:return[P,_,N];case 2:return[N,_,F];case 3:return[N,P,_];case 4:return[F,N,_];case 5:return[_,N,P]}},v.hsv.hsl=function(y){const k=y[0],x=y[1]/100,_=y[2]/100,D=Math.max(_,.01);let E,N;N=(2-x)*_;const P=(2-x)*D;return E=x*D,E/=P<=1?P:2-P,E=E||0,N/=2,[k,100*E,100*N]},v.hwb.rgb=function(y){const k=y[0]/360;let x=y[1]/100,_=y[2]/100;const D=x+_;let E;D>1&&(x/=D,_/=D);const N=Math.floor(6*k),P=1-_;E=6*k-N,1&N&&(E=1-E);const F=x+E*(P-x);let V,$,M;switch(N){default:case 6:case 0:V=P,$=F,M=x;break;case 1:V=F,$=P,M=x;break;case 2:V=x,$=P,M=F;break;case 3:V=x,$=F,M=P;break;case 4:V=F,$=x,M=P;break;case 5:V=P,$=x,M=F}return[255*V,255*$,255*M]},v.cmyk.rgb=function(y){const k=y[0]/100,x=y[1]/100,_=y[2]/100,D=y[3]/100;return[255*(1-Math.min(1,k*(1-D)+D)),255*(1-Math.min(1,x*(1-D)+D)),255*(1-Math.min(1,_*(1-D)+D))]},v.xyz.rgb=function(y){const k=y[0]/100,x=y[1]/100,_=y[2]/100;let D,E,N;return D=3.2406*k+-1.5372*x+-.4986*_,E=-.9689*k+1.8758*x+.0415*_,N=.0557*k+-.204*x+1.057*_,D=D>.0031308?1.055*D**.4166666666666667-.055:12.92*D,E=E>.0031308?1.055*E**.4166666666666667-.055:12.92*E,N=N>.0031308?1.055*N**.4166666666666667-.055:12.92*N,D=Math.min(Math.max(0,D),1),E=Math.min(Math.max(0,E),1),N=Math.min(Math.max(0,N),1),[255*D,255*E,255*N]},v.xyz.lab=function(y){let k=y[0],x=y[1],_=y[2];return k/=95.047,x/=100,_/=108.883,k=k>.008856?k**.3333333333333333:7.787*k+.13793103448275862,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,_=_>.008856?_**.3333333333333333:7.787*_+.13793103448275862,[116*x-16,500*(k-x),200*(x-_)]},v.lab.xyz=function(y){let k,x,_;x=(y[0]+16)/116,k=y[1]/500+x,_=x-y[2]/200;const D=x**3,E=k**3,N=_**3;return x=D>.008856?D:(x-.13793103448275862)/7.787,k=E>.008856?E:(k-.13793103448275862)/7.787,_=N>.008856?N:(_-.13793103448275862)/7.787,k*=95.047,x*=100,_*=108.883,[k,x,_]},v.lab.lch=function(y){const k=y[0],x=y[1],_=y[2];let D;return D=360*Math.atan2(_,x)/2/Math.PI,D<0&&(D+=360),[k,Math.sqrt(x*x+_*_),D]},v.lch.lab=function(y){const k=y[0],x=y[1],_=y[2]/360*2*Math.PI;return[k,x*Math.cos(_),x*Math.sin(_)]},v.rgb.ansi16=function(y,k=null){const[x,_,D]=y;let E=k===null?v.rgb.hsv(y)[2]:k;if(E=Math.round(E/50),E===0)return 30;let N=30+(Math.round(D/255)<<2|Math.round(_/255)<<1|Math.round(x/255));return E===2&&(N+=60),N},v.hsv.ansi16=function(y){return v.rgb.ansi16(v.hsv.rgb(y),y[2])},v.rgb.ansi256=function(y){const k=y[0],x=y[1],_=y[2];return k===x&&x===_?k<8?16:k>248?231:Math.round((k-8)/247*24)+232:16+36*Math.round(k/255*5)+6*Math.round(x/255*5)+Math.round(_/255*5)},v.ansi16.rgb=function(y){let k=y%10;if(k===0||k===7)return y>50&&(k+=3.5),k=k/10.5*255,[k,k,k];const x=.5*(1+~~(y>50));return[(1&k)*x*255,(k>>1&1)*x*255,(k>>2&1)*x*255]},v.ansi256.rgb=function(y){if(y>=232){const x=10*(y-232)+8;return[x,x,x]}let k;return y-=16,[Math.floor(y/36)/5*255,Math.floor((k=y%36)/6)/5*255,k%6/5*255]},v.rgb.hex=function(y){const k=(((255&Math.round(y[0]))<<16)+((255&Math.round(y[1]))<<8)+(255&Math.round(y[2]))).toString(16).toUpperCase();return"000000".substring(k.length)+k},v.hex.rgb=function(y){const k=y.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!k)return[0,0,0];let x=k[0];k[0].length===3&&(x=x.split("").map(D=>D+D).join(""));const _=parseInt(x,16);return[_>>16&255,_>>8&255,255&_]},v.rgb.hcg=function(y){const k=y[0]/255,x=y[1]/255,_=y[2]/255,D=Math.max(Math.max(k,x),_),E=Math.min(Math.min(k,x),_),N=D-E;let P,F;return P=N<1?E/(1-N):0,F=N<=0?0:D===k?(x-_)/N%6:D===x?2+(_-k)/N:4+(k-x)/N,F/=6,F%=1,[360*F,100*N,100*P]},v.hsl.hcg=function(y){const k=y[1]/100,x=y[2]/100,_=x<.5?2*k*x:2*k*(1-x);let D=0;return _<1&&(D=(x-.5*_)/(1-_)),[y[0],100*_,100*D]},v.hsv.hcg=function(y){const k=y[1]/100,x=y[2]/100,_=k*x;let D=0;return _<1&&(D=(x-_)/(1-_)),[y[0],100*_,100*D]},v.hcg.rgb=function(y){const k=y[0]/360,x=y[1]/100,_=y[2]/100;if(x===0)return[255*_,255*_,255*_];const D=[0,0,0],E=k%1*6,N=E%1,P=1-N;let F=0;switch(Math.floor(E)){case 0:D[0]=1,D[1]=N,D[2]=0;break;case 1:D[0]=P,D[1]=1,D[2]=0;break;case 2:D[0]=0,D[1]=1,D[2]=N;break;case 3:D[0]=0,D[1]=P,D[2]=1;break;case 4:D[0]=N,D[1]=0,D[2]=1;break;default:D[0]=1,D[1]=0,D[2]=P}return F=(1-x)*_,[255*(x*D[0]+F),255*(x*D[1]+F),255*(x*D[2]+F)]},v.hcg.hsv=function(y){const k=y[1]/100,x=k+y[2]/100*(1-k);let _=0;return x>0&&(_=k/x),[y[0],100*_,100*x]},v.hcg.hsl=function(y){const k=y[1]/100,x=y[2]/100*(1-k)+.5*k;let _=0;return x>0&&x<.5?_=k/(2*x):x>=.5&&x<1&&(_=k/(2*(1-x))),[y[0],100*_,100*x]},v.hcg.hwb=function(y){const k=y[1]/100,x=k+y[2]/100*(1-k);return[y[0],100*(x-k),100*(1-x)]},v.hwb.hcg=function(y){const k=y[1]/100,x=1-y[2]/100,_=x-k;let D=0;return _<1&&(D=(x-_)/(1-_)),[y[0],100*_,100*D]},v.apple.rgb=function(y){return[y[0]/65535*255,y[1]/65535*255,y[2]/65535*255]},v.rgb.apple=function(y){return[y[0]/255*65535,y[1]/255*65535,y[2]/255*65535]},v.gray.rgb=function(y){return[y[0]/100*255,y[0]/100*255,y[0]/100*255]},v.gray.hsl=function(y){return[0,0,y[0]]},v.gray.hsv=v.gray.hsl,v.gray.hwb=function(y){return[0,100,y[0]]},v.gray.cmyk=function(y){return[0,0,0,y[0]]},v.gray.lab=function(y){return[y[0],0,0]},v.gray.hex=function(y){const k=255&Math.round(y[0]/100*255),x=((k<<16)+(k<<8)+k).toString(16).toUpperCase();return"000000".substring(x.length)+x},v.rgb.gray=function(y){return[(y[0]+y[1]+y[2])/3/255*100]}},9047:(d,h,p)=>{const g=p(9246),b=p(802),v={};Object.keys(g).forEach(y=>{v[y]={},Object.defineProperty(v[y],"channels",{value:g[y].channels}),Object.defineProperty(v[y],"labels",{value:g[y].labels});const k=b(y);Object.keys(k).forEach(x=>{const _=k[x];v[y][x]=function(D){const E=function(...N){const P=N[0];if(P==null)return P;P.length>1&&(N=P);const F=D(N);if(typeof F=="object")for(let V=F.length,$=0;$<V;$++)F[$]=Math.round(F[$]);return F};return"conversion"in D&&(E.conversion=D.conversion),E}(_),v[y][x].raw=function(D){const E=function(...N){const P=N[0];return P==null?P:(P.length>1&&(N=P),D(N))};return"conversion"in D&&(E.conversion=D.conversion),E}(_)})}),d.exports=v},802:(d,h,p)=>{const g=p(9246);function b(k){const x=function(){const D={},E=Object.keys(g);for(let N=E.length,P=0;P<N;P++)D[E[P]]={distance:-1,parent:null};return D}(),_=[k];for(x[k].distance=0;_.length;){const D=_.pop(),E=Object.keys(g[D]);for(let N=E.length,P=0;P<N;P++){const F=E[P],V=x[F];V.distance===-1&&(V.distance=x[D].distance+1,V.parent=D,_.unshift(F))}}return x}function v(k,x){return function(_){return x(k(_))}}function y(k,x){const _=[x[k].parent,k];let D=g[x[k].parent][k],E=x[k].parent;for(;x[E].parent;)_.unshift(x[E].parent),D=v(g[x[E].parent][E],D),E=x[E].parent;return D.conversion=_,D}d.exports=function(k){const x=b(k),_={},D=Object.keys(x);for(let E=D.length,N=0;N<E;N++){const P=D[N];x[P].parent!==null&&(_[P]=y(P,x))}return _}},6931:d=>{d.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const k=y},8708:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const k=y},1866:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const k=y},7793:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const k=y},7388:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar,
			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},4098:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const k=y},8264:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const k=y},6269:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const k=y},265:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const k=y},5247:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const k=y},4642:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},3350:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const k=y},7378:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const k=y},3469:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const k=y},6386:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},7693:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const k=y},1559:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const k=y},2267:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const k=y},4062:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},7719:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const k=y},8762:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},3817:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},4808:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const k=y},1232:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const k=y},6903:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},9968:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const k=y},7141:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const k=y},8991:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const k=y},70:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const k=y},7048:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read–only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},5651:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},5506:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},4043:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},2655:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const k=y},5032:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const k=y},2329:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const k=y},4143:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const k=y},8986:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},8795:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const k=y},8137:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const k=y},1623:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},5562:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},8423:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},1801:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const k=y},5727:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},9715:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const k=y},4391:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating–point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const k=y},25:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const k=y},7317:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const k=y},1905:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const k=y},6309:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const k=y},9819:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},9822:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const k=y},8149:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},3629:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},1792:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},1666:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const k=y},8527:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},1185:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},7913:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const k=y},9529:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const k=y},7621:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},253:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},7801:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const k=y},4962:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},5199:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},497:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const k=y},4:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const k=y},3344:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const k=y},9481:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const k=y},977:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const k=y},9108:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},3710:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},991:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const k=y},5380:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},8298:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},2722:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},8107:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const k=y},109:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const k=y},1671:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const k=y},2710:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const k=y},9677:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},9205:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const k=y},7676:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const k=y},695:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const k=y},4095:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const k=y},8508:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const k=y},935:d=>{d.exports=function(h){var p=[];return p.toString=function(){return this.map(function(g){var b=h(g);return g[2]?"@media ".concat(g[2]," {").concat(b,"}"):b}).join("")},p.i=function(g,b,v){typeof g=="string"&&(g=[[null,g,""]]);var y={};if(v)for(var k=0;k<this.length;k++){var x=this[k][0];x!=null&&(y[x]=!0)}for(var _=0;_<g.length;_++){var D=[].concat(g[_]);v&&y[D[0]]||(b&&(D[2]?D[2]="".concat(b," and ").concat(D[2]):D[2]=b),p.push(D))}},p}},9372:d=>{function h(g,b){return function(v){if(Array.isArray(v))return v}(g)||function(v,y){var k=v&&(typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"]);if(k!=null){var x,_,D=[],E=!0,N=!1;try{for(k=k.call(v);!(E=(x=k.next()).done)&&(D.push(x.value),!y||D.length!==y);E=!0);}catch(P){N=!0,_=P}finally{try{E||k.return==null||k.return()}finally{if(N)throw _}}return D}}(g,b)||function(v,y){if(v){if(typeof v=="string")return p(v,y);var k=Object.prototype.toString.call(v).slice(8,-1);if(k==="Object"&&v.constructor&&(k=v.constructor.name),k==="Map"||k==="Set")return Array.from(v);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return p(v,y)}}(g,b)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p(g,b){(b==null||b>g.length)&&(b=g.length);for(var v=0,y=new Array(b);v<b;v++)y[v]=g[v];return y}d.exports=function(g){var b=h(g,4),v=b[1],y=b[3];if(!y)return v;if(typeof btoa=="function"){var k=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),x="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(k),_="/*# ".concat(x," */"),D=y.sources.map(function(E){return"/*# sourceURL=".concat(y.sourceRoot||"").concat(E," */")});return[v].concat(D).concat([_]).join(`
`)}return[v].join(`
`)}},2591:(d,h,p)=>{var g,b=function(){return g===void 0&&(g=!!(window&&document&&document.all&&!window.atob)),g},v=function(){var M={};return function(B){if(M[B]===void 0){var q=document.querySelector(B);if(window.HTMLIFrameElement&&q instanceof window.HTMLIFrameElement)try{q=q.contentDocument.head}catch{q=null}M[B]=q}return M[B]}}(),y=[];function k(M){for(var B=-1,q=0;q<y.length;q++)if(y[q].identifier===M){B=q;break}return B}function x(M,B){for(var q={},Q=[],H=0;H<M.length;H++){var R=M[H],K=B.base?R[0]+B.base:R[0],j=q[K]||0,ne="".concat(K," ").concat(j);q[K]=j+1;var de=k(ne),se={css:R[1],media:R[2],sourceMap:R[3]};de!==-1?(y[de].references++,y[de].updater(se)):y.push({identifier:ne,updater:$(se,B),references:1}),Q.push(ne)}return Q}function _(M){var B=document.createElement("style"),q=M.attributes||{};if(q.nonce===void 0){var Q=p.nc;Q&&(q.nonce=Q)}if(Object.keys(q).forEach(function(R){B.setAttribute(R,q[R])}),typeof M.insert=="function")M.insert(B);else{var H=v(M.insert||"head");if(!H)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");H.appendChild(B)}return B}var D,E=(D=[],function(M,B){return D[M]=B,D.filter(Boolean).join(`
`)});function N(M,B,q,Q){var H=q?"":Q.media?"@media ".concat(Q.media," {").concat(Q.css,"}"):Q.css;if(M.styleSheet)M.styleSheet.cssText=E(B,H);else{var R=document.createTextNode(H),K=M.childNodes;K[B]&&M.removeChild(K[B]),K.length?M.insertBefore(R,K[B]):M.appendChild(R)}}function P(M,B,q){var Q=q.css,H=q.media,R=q.sourceMap;if(H?M.setAttribute("media",H):M.removeAttribute("media"),R&&typeof btoa<"u"&&(Q+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(R))))," */")),M.styleSheet)M.styleSheet.cssText=Q;else{for(;M.firstChild;)M.removeChild(M.firstChild);M.appendChild(document.createTextNode(Q))}}var F=null,V=0;function $(M,B){var q,Q,H;if(B.singleton){var R=V++;q=F||(F=_(B)),Q=N.bind(null,q,R,!1),H=N.bind(null,q,R,!0)}else q=_(B),Q=P.bind(null,q,B),H=function(){(function(K){if(K.parentNode===null)return!1;K.parentNode.removeChild(K)})(q)};return Q(M),function(K){if(K){if(K.css===M.css&&K.media===M.media&&K.sourceMap===M.sourceMap)return;Q(M=K)}else H()}}d.exports=function(M,B){(B=B||{}).singleton||typeof B.singleton=="boolean"||(B.singleton=b());var q=x(M=M||[],B);return function(Q){if(Q=Q||[],Object.prototype.toString.call(Q)==="[object Array]"){for(var H=0;H<q.length;H++){var R=k(q[H]);y[R].references--}for(var K=x(Q,B),j=0;j<q.length;j++){var ne=k(q[j]);y[ne].references===0&&(y[ne].updater(),y.splice(ne,1))}q=K}}}}},o={};function a(d){var h=o[d];if(h!==void 0)return h.exports;var p=o[d]={id:d,exports:{}};return n[d](p,p.exports,a),p.exports}a.n=d=>{var h=d&&d.__esModule?()=>d.default:()=>d;return a.d(h,{a:h}),h},a.d=(d,h)=>{for(var p in h)a.o(h,p)&&!a.o(d,p)&&Object.defineProperty(d,p,{enumerable:!0,get:h[p]})},a.o=(d,h)=>Object.prototype.hasOwnProperty.call(d,h),a.nc=void 0;var l={};return(()=>{let d;a.d(l,{default:()=>gv});try{d={window,document}}catch{d={window:{},document:{}}}const h=d,p=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var g;const b={isMac:v(p),isWindows:(g=p,g.indexOf("windows")>-1),isGecko:function(c){return!!c.match(/gecko\/\d+/)}(p),isSafari:function(c){return c.indexOf(" applewebkit/")>-1&&c.indexOf("chrome")===-1}(p),isiOS:function(c){return!!c.match(/iphone|ipad/i)||v(c)&&navigator.maxTouchPoints>0}(p),isAndroid:function(c){return c.indexOf("android")>-1}(p),isBlink:function(c){return c.indexOf("chrome/")>-1&&c.indexOf("edge/")<0}(p),features:{isRegExpUnicodePropertySupported:function(){let c=!1;try{c="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return c}()}};function v(c){return c.indexOf("macintosh")>-1}function y(c,e,i,s){i=i||function(A,S){return A===S};const u=Array.isArray(c)?c:Array.prototype.slice.call(c),f=Array.isArray(e)?e:Array.prototype.slice.call(e),m=function(A,S,T){const O=k(A,S,T);if(O===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const U=x(A,O),G=x(S,O),ee=k(U,G,T),ie=A.length-ee,be=S.length-ee;return{firstIndex:O,lastIndexOld:ie,lastIndexNew:be}}(u,f,i);return s?function(A,S){const{firstIndex:T,lastIndexOld:O,lastIndexNew:U}=A;if(T===-1)return Array(S).fill("equal");let G=[];return T>0&&(G=G.concat(Array(T).fill("equal"))),U-T>0&&(G=G.concat(Array(U-T).fill("insert"))),O-T>0&&(G=G.concat(Array(O-T).fill("delete"))),U<S&&(G=G.concat(Array(S-U).fill("equal"))),G}(m,f.length):function(A,S){const T=[],{firstIndex:O,lastIndexOld:U,lastIndexNew:G}=S;return G-O>0&&T.push({index:O,type:"insert",values:A.slice(O,G)}),U-O>0&&T.push({index:O+(G-O),type:"delete",howMany:U-O}),T}(f,m)}function k(c,e,i){for(let s=0;s<Math.max(c.length,e.length);s++)if(c[s]===void 0||e[s]===void 0||!i(c[s],e[s]))return s;return-1}function x(c,e){return c.slice(e).reverse()}function _(c,e,i){i=i||function(ie,be){return ie===be};const s=c.length,u=e.length;if(s>200||u>200||s+u>300)return _.fastDiff(c,e,i,!0);let f,m;if(u<s){const ie=c;c=e,e=ie,f="delete",m="insert"}else f="insert",m="delete";const w=c.length,A=e.length,S=A-w,T={},O={};function U(ie){const be=(O[ie-1]!==void 0?O[ie-1]:-1)+1,xe=O[ie+1]!==void 0?O[ie+1]:-1,Oe=be>xe?-1:1;T[ie+Oe]&&(T[ie]=T[ie+Oe].slice(0)),T[ie]||(T[ie]=[]),T[ie].push(be>xe?f:m);let et=Math.max(be,xe),ft=et-ie;for(;ft<w&&et<A&&i(c[ft],e[et]);)ft++,et++,T[ie].push("equal");return et}let G,ee=0;do{for(G=-ee;G<S;G++)O[G]=U(G);for(G=S+ee;G>S;G--)O[G]=U(G);O[S]=U(S),ee++}while(O[S]!==A);return T[S].slice(1)}_.fastDiff=y;const D=function(){return function c(){c.called=!0}};class E{constructor(e,i){this.source=e,this.name=i,this.path=[],this.stop=D(),this.off=D()}}const N=new Array(256).fill("").map((c,e)=>("0"+e.toString(16)).slice(-2));function P(){const c=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0;return"e"+N[255&c]+N[c>>8&255]+N[c>>16&255]+N[c>>24&255]+N[255&e]+N[e>>8&255]+N[e>>16&255]+N[e>>24&255]+N[255&i]+N[i>>8&255]+N[i>>16&255]+N[i>>24&255]+N[255&s]+N[s>>8&255]+N[s>>16&255]+N[s>>24&255]}const F={get(c="normal"){return typeof c!="number"?this[c]||this.normal:c},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function V(c,e){const i=F.get(e.priority);for(let s=0;s<c.length;s++)if(F.get(c[s].priority)<i)return void c.splice(s,0,e);c.push(e)}const $="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class M extends Error{constructor(e,i,s){super(function(u,f){const m=new WeakSet,w=(T,O)=>{if(typeof O=="object"&&O!==null){if(m.has(O))return`[object ${O.constructor.name}]`;m.add(O)}return O},A=f?` ${JSON.stringify(f,w)}`:"",S=Q(u);return u+A+S}(e,s)),this.name="CKEditorError",this.context=i,this.data=s}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,i){if(e.is&&e.is("CKEditorError"))throw e;const s=new M(e.message,i);throw s.stack=e.stack,s}}function B(c,e){console.warn(...H(c,e))}function q(c,e){console.error(...H(c,e))}function Q(c){return`
Read more: ${$}#error-${c}`}function H(c,e){const i=Q(c);return e?[c,e,i]:[c,i]}const R="41.4.2",K=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new M("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=R;const j=Symbol("listeningTo"),ne=Symbol("emitterId"),de=Symbol("delegations"),se=oe(Object);function oe(c){return c?class extends c{on(e,i,s){this.listenTo(this,e,i,s)}once(e,i,s){let u=!1;this.listenTo(this,e,(f,...m)=>{u||(u=!0,f.off(),i.call(this,f,...m))},s)}off(e,i){this.stopListening(this,e,i)}listenTo(e,i,s,u={}){let f,m;this[j]||(this[j]={});const w=this[j];re(e)||ye(e);const A=re(e);(f=w[A])||(f=w[A]={emitter:e,callbacks:{}}),(m=f.callbacks[i])||(m=f.callbacks[i]=[]),m.push(s),function(S,T,O,U,G){T._addEventListener?T._addEventListener(O,U,G):S._addEventListener.call(T,O,U,G)}(this,e,i,s,u)}stopListening(e,i,s){const u=this[j];let f=e&&re(e);const m=u&&f?u[f]:void 0,w=m&&i?m.callbacks[i]:void 0;if(!(!u||e&&!m||i&&!w))if(s)pe(this,e,i,s),w.indexOf(s)!==-1&&(w.length===1?delete m.callbacks[i]:pe(this,e,i,s));else if(w){for(;s=w.pop();)pe(this,e,i,s);delete m.callbacks[i]}else if(m){for(i in m.callbacks)this.stopListening(e,i);delete u[f]}else{for(f in u)this.stopListening(u[f].emitter);delete this[j]}}fire(e,...i){try{const s=e instanceof E?e:new E(this,e),u=s.name;let f=J(this,u);if(s.path.push(this),f){const w=[s,...i];f=Array.from(f);for(let A=0;A<f.length&&(f[A].callback.apply(this,w),s.off.called&&(delete s.off.called,this._removeEventListener(u,f[A].callback)),!s.stop.called);A++);}const m=this[de];if(m){const w=m.get(u),A=m.get("*");w&&ae(w,s,i),A&&ae(A,s,i)}return s.return}catch(s){M.rethrowUnexpectedError(s,this)}}delegate(...e){return{to:(i,s)=>{this[de]||(this[de]=new Map),e.forEach(u=>{const f=this[de].get(u);f?f.set(i,s):this[de].set(u,new Map([[i,s]]))})}}}stopDelegating(e,i){if(this[de])if(e)if(i){const s=this[de].get(e);s&&s.delete(i)}else this[de].delete(e);else this[de].clear()}_addEventListener(e,i,s){(function(m,w){const A=_e(m);if(A[w])return;let S=w,T=null;const O=[];for(;S!==""&&!A[S];)A[S]={callbacks:[],childEvents:[]},O.push(A[S]),T&&A[S].childEvents.push(T),T=S,S=S.substr(0,S.lastIndexOf(":"));if(S!==""){for(const U of O)U.callbacks=A[S].callbacks.slice();A[S].childEvents.push(T)}})(this,e);const u=X(this,e),f={callback:i,priority:F.get(s.priority)};for(const m of u)V(m,f)}_removeEventListener(e,i){const s=X(this,e);for(const u of s)for(let f=0;f<u.length;f++)u[f].callback==i&&(u.splice(f,1),f--)}}:se}function ye(c,e){c[ne]||(c[ne]=e||P())}function re(c){return c[ne]}function _e(c){return c._events||Object.defineProperty(c,"_events",{value:{}}),c._events}function X(c,e){const i=_e(c)[e];if(!i)return[];let s=[i.callbacks];for(let u=0;u<i.childEvents.length;u++){const f=X(c,i.childEvents[u]);s=s.concat(f)}return s}function J(c,e){let i;return c._events&&(i=c._events[e])&&i.callbacks.length?i.callbacks:e.indexOf(":")>-1?J(c,e.substr(0,e.lastIndexOf(":"))):null}function ae(c,e,i){for(let[s,u]of c){u?typeof u=="function"&&(u=u(e.name)):u=e.name;const f=new E(e.source,u);f.path=[...e.path],s.fire(f,...i)}}function pe(c,e,i,s){e._removeEventListener?e._removeEventListener(i,s):c._removeEventListener.call(e,i,s)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{oe[c]=se.prototype[c]});const we=function(c){var e=typeof c;return c!=null&&(e=="object"||e=="function")},Pe=Symbol("observableProperties"),Ie=Symbol("boundObservables"),Ne=Symbol("boundProperties"),rt=Symbol("decoratedMethods"),Qe=Symbol("decoratedOriginal"),Je=Ue(oe());function Ue(c){return c?class extends c{set(e,i){if(we(e))return void Object.keys(e).forEach(u=>{this.set(u,e[u])},this);Z(this);const s=this[Pe];if(e in this&&!s.has(e))throw new M("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>s.get(e),set(u){const f=s.get(e);let m=this.fire(`set:${e}`,e,u,f);m===void 0&&(m=u),f===m&&s.has(e)||(s.set(e,m),this.fire(`change:${e}`,e,m,f))}}),this[e]=i}bind(...e){if(!e.length||!ge(e))throw new M("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new M("observable-bind-duplicate-properties",this);Z(this);const i=this[Ne];e.forEach(u=>{if(i.has(u))throw new M("observable-bind-rebind",this)});const s=new Map;return e.forEach(u=>{const f={property:u,to:[]};i.set(u,f),s.set(u,f)}),{to:Ce,toMany:ue,_observable:this,_bindProperties:e,_to:[],_bindings:s}}unbind(...e){if(!this[Pe])return;const i=this[Ne],s=this[Ie];if(e.length){if(!ge(e))throw new M("observable-unbind-wrong-properties",this);e.forEach(u=>{const f=i.get(u);f&&(f.to.forEach(([m,w])=>{const A=s.get(m),S=A[w];S.delete(f),S.size||delete A[w],Object.keys(A).length||(s.delete(m),this.stopListening(m,"change"))}),i.delete(u))})}else s.forEach((u,f)=>{this.stopListening(f,"change")}),s.clear(),i.clear()}decorate(e){Z(this);const i=this[e];if(!i)throw new M("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(s,u)=>{s.return=i.apply(this,u)}),this[e]=function(...s){return this.fire(e,s)},this[e][Qe]=i,this[rt]||(this[rt]=[]),this[rt].push(e)}stopListening(e,i,s){if(!e&&this[rt]){for(const u of this[rt])this[u]=this[u][Qe];delete this[rt]}super.stopListening(e,i,s)}}:Je}function Z(c){c[Pe]||(Object.defineProperty(c,Pe,{value:new Map}),Object.defineProperty(c,Ie,{value:new Map}),Object.defineProperty(c,Ne,{value:new Map}))}function Ce(...c){const e=function(...f){if(!f.length)throw new M("observable-bind-to-parse-error",null);const m={to:[]};let w;return typeof f[f.length-1]=="function"&&(m.callback=f.pop()),f.forEach(A=>{if(typeof A=="string")w.properties.push(A);else{if(typeof A!="object")throw new M("observable-bind-to-parse-error",null);w={observable:A,properties:[]},m.to.push(w)}}),m}(...c),i=Array.from(this._bindings.keys()),s=i.length;if(!e.callback&&e.to.length>1)throw new M("observable-bind-to-no-callback",this);if(s>1&&e.callback)throw new M("observable-bind-to-extra-callback",this);var u;e.to.forEach(f=>{if(f.properties.length&&f.properties.length!==s)throw new M("observable-bind-to-properties-length",this);f.properties.length||(f.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(i[0]).callback=e.callback),u=this._observable,this._to.forEach(f=>{const m=u[Ie];let w;m.get(f.observable)||u.listenTo(f.observable,"change",(A,S)=>{w=m.get(f.observable)[S],w&&w.forEach(T=>{he(u,T.property)})})}),function(f){let m;f._bindings.forEach((w,A)=>{f._to.forEach(S=>{m=S.properties[w.callback?0:f._bindProperties.indexOf(A)],w.to.push([S.observable,m]),function(T,O,U,G){const ee=T[Ie],ie=ee.get(U),be=ie||{};be[G]||(be[G]=new Set),be[G].add(O),ie||ee.set(U,be)}(f._observable,w,S.observable,m)})})}(this),this._bindProperties.forEach(f=>{he(this._observable,f)})}function ue(c,e,i){if(this._bindings.size>1)throw new M("observable-bind-to-many-not-one-binding",this);this.to(...function(s,u){const f=s.map(m=>[m,u]);return Array.prototype.concat.apply([],f)}(c,e),i)}function ge(c){return c.every(e=>typeof e=="string")}function he(c,e){const i=c[Ne].get(e);let s;i.callback?s=i.callback.apply(c,i.to.map(u=>u[0][u[1]])):(s=i.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(c,e)?c[e]=s:c.set(e,s)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{Ue[c]=Je.prototype[c]});class Ae{constructor(){this._replacedElements=[]}replace(e,i){this._replacedElements.push({element:e,newElement:i}),e.style.display="none",i&&e.parentNode.insertBefore(i,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:i})=>{e.style.display="",i&&i.remove()}),this._replacedElements=[]}}function Me(c){let e=0;for(const i of c)e++;return e}function Te(c,e){const i=Math.min(c.length,e.length);for(let s=0;s<i;s++)if(c[s]!=e[s])return s;return c.length==e.length?"same":c.length<e.length?"prefix":"extension"}function Ee(c){return!(!c||!c[Symbol.iterator])}const qe=typeof Ku=="object"&&Ku&&Ku.Object===Object&&Ku;var Ve=typeof self=="object"&&self&&self.Object===Object&&self;const He=qe||Ve||Function("return this")(),st=He.Symbol;var Fe=Object.prototype,Ye=Fe.hasOwnProperty,Ke=Fe.toString,At=st?st.toStringTag:void 0;const ht=function(c){var e=Ye.call(c,At),i=c[At];try{c[At]=void 0;var s=!0}catch{}var u=Ke.call(c);return s&&(e?c[At]=i:delete c[At]),u};var on=Object.prototype.toString;const pt=function(c){return on.call(c)};var Vt=st?st.toStringTag:void 0;const Bt=function(c){return c==null?c===void 0?"[object Undefined]":"[object Null]":Vt&&Vt in Object(c)?ht(c):pt(c)},Ft=Array.isArray,Kt=function(c){return c!=null&&typeof c=="object"},pn=function(c){return typeof c=="string"||!Ft(c)&&Kt(c)&&Bt(c)=="[object String]"};function En(c,e,i={},s=[]){const u=i&&i.xmlns,f=u?c.createElementNS(u,e):c.createElement(e);for(const m in i)f.setAttribute(m,i[m]);!pn(s)&&Ee(s)||(s=[s]);for(let m of s)pn(m)&&(m=c.createTextNode(m)),f.appendChild(m);return f}const qn=function(c,e){return function(i){return c(e(i))}},Br=qn(Object.getPrototypeOf,Object);var Wr=Function.prototype,jn=Object.prototype,Xt=Wr.toString,Dn=jn.hasOwnProperty,$o=Xt.call(Object);const Nn=function(c){if(!Kt(c)||Bt(c)!="[object Object]")return!1;var e=Br(c);if(e===null)return!0;var i=Dn.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&Xt.call(i)==$o},Qi=function(){this.__data__=[],this.size=0},ii=function(c,e){return c===e||c!=c&&e!=e},$t=function(c,e){for(var i=c.length;i--;)if(ii(c[i][0],e))return i;return-1};var zi=Array.prototype.splice;const Ji=function(c){var e=this.__data__,i=$t(e,c);return!(i<0)&&(i==e.length-1?e.pop():zi.call(e,i,1),--this.size,!0)},oi=function(c){var e=this.__data__,i=$t(e,c);return i<0?void 0:e[i][1]},vr=function(c){return $t(this.__data__,c)>-1},Bn=function(c,e){var i=this.__data__,s=$t(i,c);return s<0?(++this.size,i.push([c,e])):i[s][1]=e,this};function Gr(c){var e=-1,i=c==null?0:c.length;for(this.clear();++e<i;){var s=c[e];this.set(s[0],s[1])}}Gr.prototype.clear=Qi,Gr.prototype.delete=Ji,Gr.prototype.get=oi,Gr.prototype.has=vr,Gr.prototype.set=Bn;const os=Gr,ss=function(){this.__data__=new os,this.size=0},So=function(c){var e=this.__data__,i=e.delete(c);return this.size=e.size,i},Eo=function(c){return this.__data__.get(c)},Do=function(c){return this.__data__.has(c)},bi=function(c){if(!we(c))return!1;var e=Bt(c);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Ui=He["__core-js_shared__"];var Io=function(){var c=/[^.]+$/.exec(Ui&&Ui.keys&&Ui.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}();const sa=function(c){return!!Io&&Io in c};var Ha=Function.prototype.toString;const mt=function(c){if(c!=null){try{return Ha.call(c)}catch{}try{return c+""}catch{}}return""};var _t=/^\[object .+?Constructor\]$/,St=Function.prototype,zt=Object.prototype,Gt=St.toString,Mn=zt.hasOwnProperty,pr=RegExp("^"+Gt.call(Mn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const qi=function(c){return!(!we(c)||sa(c))&&(bi(c)?pr:_t).test(mt(c))},Vi=function(c,e){return c==null?void 0:c[e]},Oi=function(c,e){var i=Vi(c,e);return qi(i)?i:void 0},so=Oi(He,"Map"),To=Oi(Object,"create"),wl=function(){this.__data__=To?To(null):{},this.size=0},Wa=function(c){var e=this.has(c)&&delete this.__data__[c];return this.size-=e?1:0,e};var lu=Object.prototype.hasOwnProperty;const mr=function(c){var e=this.__data__;if(To){var i=e[c];return i==="__lodash_hash_undefined__"?void 0:i}return lu.call(e,c)?e[c]:void 0};var yl=Object.prototype.hasOwnProperty;const kc=function(c){var e=this.__data__;return To?e[c]!==void 0:yl.call(e,c)},wc=function(c,e){var i=this.__data__;return this.size+=this.has(c)?0:1,i[c]=To&&e===void 0?"__lodash_hash_undefined__":e,this};function as(c){var e=-1,i=c==null?0:c.length;for(this.clear();++e<i;){var s=c[e];this.set(s[0],s[1])}}as.prototype.clear=wl,as.prototype.delete=Wa,as.prototype.get=mr,as.prototype.has=kc,as.prototype.set=wc;const Gh=as,Ds=function(){this.size=0,this.__data__={hash:new Gh,map:new(so||os),string:new Gh}},cu=function(c){var e=typeof c;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?c!=="__proto__":c===null},$i=function(c,e){var i=c.__data__;return cu(e)?i[typeof e=="string"?"string":"hash"]:i.map},yd=function(c){var e=$i(this,c).delete(c);return this.size-=e?1:0,e},Yh=function(c){return $i(this,c).get(c)},qp=function(c){return $i(this,c).has(c)},Kh=function(c,e){var i=$i(this,c),s=i.size;return i.set(c,e),this.size+=i.size==s?0:1,this};function vl(c){var e=-1,i=c==null?0:c.length;for(this.clear();++e<i;){var s=c[e];this.set(s[0],s[1])}}vl.prototype.clear=Ds,vl.prototype.delete=yd,vl.prototype.get=Yh,vl.prototype.has=qp,vl.prototype.set=Kh;const yc=vl,Vp=function(c,e){var i=this.__data__;if(i instanceof os){var s=i.__data__;if(!so||s.length<199)return s.push([c,e]),this.size=++i.size,this;i=this.__data__=new yc(s)}return i.set(c,e),this.size=i.size,this};function aa(c){var e=this.__data__=new os(c);this.size=e.size}aa.prototype.clear=ss,aa.prototype.delete=So,aa.prototype.get=Eo,aa.prototype.has=Do,aa.prototype.set=Vp;const Al=aa,$p=function(c,e){for(var i=-1,s=c==null?0:c.length;++i<s&&e(c[i],i,c)!==!1;);return c},uu=function(){try{var c=Oi(Object,"defineProperty");return c({},"",{}),c}catch{}}(),ls=function(c,e,i){e=="__proto__"&&uu?uu(c,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):c[e]=i};var du=Object.prototype.hasOwnProperty;const _l=function(c,e,i){var s=c[e];du.call(c,e)&&ii(s,i)&&(i!==void 0||e in c)||ls(c,e,i)},Ga=function(c,e,i,s){var u=!i;i||(i={});for(var f=-1,m=e.length;++f<m;){var w=e[f],A=void 0;A===void 0&&(A=c[w]),u?ls(i,w,A):_l(i,w,A)}return i},Zi=function(c,e){for(var i=-1,s=Array(c);++i<c;)s[i]=e(i);return s},Qh=function(c){return Kt(c)&&Bt(c)=="[object Arguments]"};var vd=Object.prototype,cn=vd.hasOwnProperty,Hp=vd.propertyIsEnumerable;const hu=Qh(function(){return arguments}())?Qh:function(c){return Kt(c)&&cn.call(c,"callee")&&!Hp.call(c,"callee")},la=function(){return!1};var Ad=r&&!r.nodeType&&r,_d=Ad&&!0&&t&&!t.nodeType&&t,vc=_d&&_d.exports===Ad?He.Buffer:void 0;const Ya=(vc?vc.isBuffer:void 0)||la;var Wp=/^(?:0|[1-9]\d*)$/;const fu=function(c,e){var i=typeof c;return!!(e=e??9007199254740991)&&(i=="number"||i!="symbol"&&Wp.test(c))&&c>-1&&c%1==0&&c<e},Cd=function(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991};var Kn={};Kn["[object Float32Array]"]=Kn["[object Float64Array]"]=Kn["[object Int8Array]"]=Kn["[object Int16Array]"]=Kn["[object Int32Array]"]=Kn["[object Uint8Array]"]=Kn["[object Uint8ClampedArray]"]=Kn["[object Uint16Array]"]=Kn["[object Uint32Array]"]=!0,Kn["[object Arguments]"]=Kn["[object Array]"]=Kn["[object ArrayBuffer]"]=Kn["[object Boolean]"]=Kn["[object DataView]"]=Kn["[object Date]"]=Kn["[object Error]"]=Kn["[object Function]"]=Kn["[object Map]"]=Kn["[object Number]"]=Kn["[object Object]"]=Kn["[object RegExp]"]=Kn["[object Set]"]=Kn["[object String]"]=Kn["[object WeakMap]"]=!1;const Ac=function(c){return Kt(c)&&Cd(c.length)&&!!Kn[Bt(c)]},ca=function(c){return function(e){return c(e)}};var Jh=r&&!r.nodeType&&r,Is=Jh&&!0&&t&&!t.nodeType&&t,_c=Is&&Is.exports===Jh&&qe.process;const Ts=function(){try{var c=Is&&Is.require&&Is.require("util").types;return c||_c&&_c.binding&&_c.binding("util")}catch{}}();var xd=Ts&&Ts.isTypedArray;const pu=xd?ca(xd):Ac;var Zh=Object.prototype.hasOwnProperty;const Sd=function(c,e){var i=Ft(c),s=!i&&hu(c),u=!i&&!s&&Ya(c),f=!i&&!s&&!u&&pu(c),m=i||s||u||f,w=m?Zi(c.length,String):[],A=w.length;for(var S in c)!e&&!Zh.call(c,S)||m&&(S=="length"||u&&(S=="offset"||S=="parent")||f&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||fu(S,A))||w.push(S);return w};var ua=Object.prototype;const Ns=function(c){var e=c&&c.constructor;return c===(typeof e=="function"&&e.prototype||ua)},Gp=qn(Object.keys,Object);var Cl=Object.prototype.hasOwnProperty;const Ms=function(c){if(!Ns(c))return Gp(c);var e=[];for(var i in Object(c))Cl.call(c,i)&&i!="constructor"&&e.push(i);return e},xl=function(c){return c!=null&&Cd(c.length)&&!bi(c)},Ps=function(c){return xl(c)?Sd(c):Ms(c)},Yp=function(c,e){return c&&Ga(e,Ps(e),c)},mu=function(c){var e=[];if(c!=null)for(var i in Object(c))e.push(i);return e};var Kp=Object.prototype.hasOwnProperty;const Ed=function(c){if(!we(c))return mu(c);var e=Ns(c),i=[];for(var s in c)(s!="constructor"||!e&&Kp.call(c,s))&&i.push(s);return i},da=function(c){return xl(c)?Sd(c,!0):Ed(c)},Xh=function(c,e){return c&&Ga(e,da(e),c)};var Cc=r&&!r.nodeType&&r,gu=Cc&&!0&&t&&!t.nodeType&&t,bu=gu&&gu.exports===Cc?He.Buffer:void 0,Dd=bu?bu.allocUnsafe:void 0;const ef=function(c,e){if(e)return c.slice();var i=c.length,s=Dd?Dd(i):new c.constructor(i);return c.copy(s),s},xc=function(c,e){var i=-1,s=c.length;for(e||(e=Array(s));++i<s;)e[i]=c[i];return e},Sc=function(c,e){for(var i=-1,s=c==null?0:c.length,u=0,f=[];++i<s;){var m=c[i];e(m,i,c)&&(f[u++]=m)}return f},ku=function(){return[]};var Sl=Object.prototype.propertyIsEnumerable,wu=Object.getOwnPropertySymbols;const z=wu?function(c){return c==null?[]:(c=Object(c),Sc(wu(c),function(e){return Sl.call(c,e)}))}:ku,ce=function(c,e){return Ga(c,z(c),e)},De=function(c,e){for(var i=-1,s=e.length,u=c.length;++i<s;)c[u+i]=e[i];return c},je=Object.getOwnPropertySymbols?function(c){for(var e=[];c;)De(e,z(c)),c=Br(c);return e}:ku,Ze=function(c,e){return Ga(c,je(c),e)},dt=function(c,e,i){var s=e(c);return Ft(c)?s:De(s,i(c))},Ct=function(c){return dt(c,Ps,z)},Ot=function(c){return dt(c,da,je)},Wt=Oi(He,"DataView"),un=Oi(He,"Promise"),ln=Oi(He,"Set"),In=Oi(He,"WeakMap");var Er="[object Map]",Mr="[object Promise]",Yr="[object Set]",Hi="[object WeakMap]",ki="[object DataView]",Os=mt(Wt),Ho=mt(so),ha=mt(un),tf=mt(ln),Id=mt(In),Ls=Bt;(Wt&&Ls(new Wt(new ArrayBuffer(1)))!=ki||so&&Ls(new so)!=Er||un&&Ls(un.resolve())!=Mr||ln&&Ls(new ln)!=Yr||In&&Ls(new In)!=Hi)&&(Ls=function(c){var e=Bt(c),i=e=="[object Object]"?c.constructor:void 0,s=i?mt(i):"";if(s)switch(s){case Os:return ki;case Ho:return Er;case ha:return Mr;case tf:return Yr;case Id:return Hi}return e});const fa=Ls;var Td=Object.prototype.hasOwnProperty;const Nd=function(c){var e=c.length,i=new c.constructor(e);return e&&typeof c[0]=="string"&&Td.call(c,"index")&&(i.index=c.index,i.input=c.input),i},Ka=He.Uint8Array,wi=function(c){var e=new c.constructor(c.byteLength);return new Ka(e).set(new Ka(c)),e},yu=function(c,e){var i=e?wi(c.buffer):c.buffer;return new c.constructor(i,c.byteOffset,c.byteLength)};var vu=/\w*$/;const Au=function(c){var e=new c.constructor(c.source,vu.exec(c));return e.lastIndex=c.lastIndex,e};var _u=st?st.prototype:void 0,ao=_u?_u.valueOf:void 0;const Qp=function(c){return ao?Object(ao.call(c)):{}},Cu=function(c,e){var i=e?wi(c.buffer):c.buffer;return new c.constructor(i,c.byteOffset,c.length)},nf=function(c,e,i){var s=c.constructor;switch(e){case"[object ArrayBuffer]":return wi(c);case"[object Boolean]":case"[object Date]":return new s(+c);case"[object DataView]":return yu(c,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Cu(c,i);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(c);case"[object RegExp]":return Au(c);case"[object Symbol]":return Qp(c)}};var Wo=Object.create;const xu=function(){function c(){}return function(e){if(!we(e))return{};if(Wo)return Wo(e);c.prototype=e;var i=new c;return c.prototype=void 0,i}}(),Md=function(c){return typeof c.constructor!="function"||Ns(c)?{}:xu(Br(c))},rf=function(c){return Kt(c)&&fa(c)=="[object Map]"};var Qa=Ts&&Ts.isMap;const Ec=Qa?ca(Qa):rf,No=function(c){return Kt(c)&&fa(c)=="[object Set]"};var Xi=Ts&&Ts.isSet;const El=Xi?ca(Xi):No;var pa="[object Arguments]",ma="[object Function]",Dc="[object Object]",Ln={};Ln[pa]=Ln["[object Array]"]=Ln["[object ArrayBuffer]"]=Ln["[object DataView]"]=Ln["[object Boolean]"]=Ln["[object Date]"]=Ln["[object Float32Array]"]=Ln["[object Float64Array]"]=Ln["[object Int8Array]"]=Ln["[object Int16Array]"]=Ln["[object Int32Array]"]=Ln["[object Map]"]=Ln["[object Number]"]=Ln[Dc]=Ln["[object RegExp]"]=Ln["[object Set]"]=Ln["[object String]"]=Ln["[object Symbol]"]=Ln["[object Uint8Array]"]=Ln["[object Uint8ClampedArray]"]=Ln["[object Uint16Array]"]=Ln["[object Uint32Array]"]=!0,Ln["[object Error]"]=Ln[ma]=Ln["[object WeakMap]"]=!1;const Pr=function c(e,i,s,u,f,m){var w,A=1&i,S=2&i,T=4&i;if(s&&(w=f?s(e,u,f,m):s(e)),w!==void 0)return w;if(!we(e))return e;var O=Ft(e);if(O){if(w=Nd(e),!A)return xc(e,w)}else{var U=fa(e),G=U==ma||U=="[object GeneratorFunction]";if(Ya(e))return ef(e,A);if(U==Dc||U==pa||G&&!f){if(w=S||G?{}:Md(e),!A)return S?Ze(e,Xh(w,e)):ce(e,Yp(w,e))}else{if(!Ln[U])return f?e:{};w=nf(e,U,A)}}m||(m=new Al);var ee=m.get(e);if(ee)return ee;m.set(e,w),El(e)?e.forEach(function(be){w.add(c(be,i,s,be,e,m))}):Ec(e)&&e.forEach(function(be,xe){w.set(xe,c(be,i,s,xe,e,m))});var ie=O?void 0:(T?S?Ot:Ct:S?da:Ps)(e);return $p(ie||e,function(be,xe){ie&&(be=e[xe=be]),_l(w,xe,c(be,i,s,xe,e,m))}),w},Ic=function(c,e){return Pr(c,5,e=typeof e=="function"?e:void 0)},Kr=function(c){return Kt(c)&&c.nodeType===1&&!Nn(c)};class Go{constructor(e,i){this._config={},i&&this.define(Tc(i)),e&&this._setObjectToTarget(this._config,e)}set(e,i){this._setToTarget(this._config,e,i)}define(e,i){this._setToTarget(this._config,e,i,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,i,s,u=!1){if(Nn(i))return void this._setObjectToTarget(e,i,u);const f=i.split(".");i=f.pop();for(const m of f)Nn(e[m])||(e[m]={}),e=e[m];if(Nn(s))return Nn(e[i])||(e[i]={}),e=e[i],void this._setObjectToTarget(e,s,u);u&&e[i]!==void 0||(e[i]=s)}_getFromSource(e,i){const s=i.split(".");i=s.pop();for(const u of s){if(!Nn(e[u])){e=null;break}e=e[u]}return e?Tc(e[i]):void 0}_setObjectToTarget(e,i,s){Object.keys(i).forEach(u=>{this._setToTarget(e,u,i[u],s)})}}function Tc(c){return Ic(c,of)}function of(c){return Kr(c)||typeof c=="function"?c:void 0}function cs(c){if(c){if(c.defaultView)return c instanceof c.defaultView.Document;if(c.ownerDocument&&c.ownerDocument.defaultView)return c instanceof c.ownerDocument.defaultView.Node}return!1}function ga(c){const e=Object.prototype.toString.apply(c);return e=="[object Window]"||e=="[object global]"}const Dl=yi(oe());function yi(c){return c?class extends c{listenTo(e,i,s,u={}){if(cs(e)||ga(e)){const f={capture:!!u.useCapture,passive:!!u.usePassive},m=this._getProxyEmitter(e,f)||new Nc(e,f);this.listenTo(m,i,s,u)}else super.listenTo(e,i,s,u)}stopListening(e,i,s){if(cs(e)||ga(e)){const u=this._getAllProxyEmitters(e);for(const f of u)this.stopListening(f,i,s)}else super.stopListening(e,i,s)}_getProxyEmitter(e,i){return function(s,u){const f=s[j];return f&&f[u]?f[u].emitter:null}(this,Mc(e,i))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(i=>this._getProxyEmitter(e,i)).filter(i=>!!i)}}:Dl}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{yi[c]=Dl.prototype[c]});class Nc extends oe(){constructor(e,i){super(),ye(this,Mc(e,i)),this._domNode=e,this._options=i}attach(e){if(this._domListeners&&this._domListeners[e])return;const i=this._createDomListener(e);this._domNode.addEventListener(e,i,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=i}detach(e){let i;!this._domListeners[e]||(i=this._events[e])&&i.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,i,s){this.attach(e),oe().prototype._addEventListener.call(this,e,i,s)}_removeEventListener(e,i){oe().prototype._removeEventListener.call(this,e,i),this.detach(e)}_createDomListener(e){const i=s=>{this.fire(e,s)};return i.removeListener=()=>{this._domNode.removeEventListener(e,i,this._options),delete this._domListeners[e]},i}}function Mc(c,e){let i=function(s){return s["data-ck-expando"]||(s["data-ck-expando"]=P())}(c);for(const s of Object.keys(e).sort())e[s]&&(i+="-"+s);return i}function Il(c){const e=c.ownerDocument.defaultView.getComputedStyle(c);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function nr(c){return Object.prototype.toString.call(c)=="[object Text]"}function Tl(c){return Object.prototype.toString.apply(c)=="[object Range]"}function Yo(c){return c&&c.parentNode?c.offsetParent===h.document.body?null:c.offsetParent:null}const Ko=["top","right","bottom","left","width","height"];class Ut{constructor(e){const i=Tl(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Qr(e)||i)if(i){const s=Ut.getDomRangeRects(e);Qn(this,Ut.getBoundingRect(s))}else Qn(this,e.getBoundingClientRect());else if(ga(e)){const{innerWidth:s,innerHeight:u}=e;Qn(this,{top:0,right:s,bottom:u,left:0,width:s,height:u})}else Qn(this,e)}clone(){return new Ut(this)}moveTo(e,i){return this.top=i,this.right=e+this.width,this.bottom=i+this.height,this.left=e,this}moveBy(e,i){return this.top+=i,this.right+=e,this.left+=e,this.bottom+=i,this}getIntersection(e){const i={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<0||i.height<0)return null;{const s=new Ut(i);return s._source=this._source,s}}getIntersectionArea(e){const i=this.getIntersection(e);return i?i.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let i=this.clone();if(Rr(e))return i;let s,u=e,f=e.parentNode||e.commonAncestorContainer;for(;f&&!Rr(f);){const w=((m=f)instanceof HTMLElement?m.ownerDocument.defaultView.getComputedStyle(m).overflow:"visible")==="visible";u instanceof HTMLElement&&ba(u)==="absolute"&&(s=u);const A=ba(f);if(w||s&&(A==="relative"&&w||A!=="relative")){u=f,f=f.parentNode;continue}const S=new Ut(f),T=i.getIntersection(S);if(!T)return null;T.getArea()<i.getArea()&&(i=T),u=f,f=f.parentNode}var m;return i}isEqual(e){for(const i of Ko)if(this[i]!==e[i])return!1;return!0}contains(e){const i=this.getIntersection(e);return!(!i||!i.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:i}=h.window,s=this.clone().moveBy(e,i);if(Qr(s._source)){const u=Yo(s._source);u&&function(f,m){const w=new Ut(m),A=Il(m);let S=0,T=0;S-=w.left,T-=w.top,S+=m.scrollLeft,T+=m.scrollTop,S-=A.left,T-=A.top,f.moveBy(S,T)}(s,u)}return s}excludeScrollbarsAndBorders(){const e=this._source;let i,s,u;if(ga(e))i=e.innerWidth-e.document.documentElement.clientWidth,s=e.innerHeight-e.document.documentElement.clientHeight,u=e.getComputedStyle(e.document.documentElement).direction;else{const f=Il(e);i=e.offsetWidth-e.clientWidth-f.left-f.right,s=e.offsetHeight-e.clientHeight-f.top-f.bottom,u=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=f.left,this.top+=f.top,this.right-=f.right,this.bottom-=f.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=i,u==="ltr"?this.right-=i:this.left+=i,this.height-=s,this.bottom-=s,this}static getDomRangeRects(e){const i=[],s=Array.from(e.getClientRects());if(s.length)for(const u of s)i.push(new Ut(u));else{let u=e.startContainer;nr(u)&&(u=u.parentNode);const f=new Ut(u.getBoundingClientRect());f.right=f.left,f.width=0,i.push(f)}return i}static getBoundingRect(e){const i={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let s=0;for(const u of e)s++,i.left=Math.min(i.left,u.left),i.top=Math.min(i.top,u.top),i.right=Math.max(i.right,u.right),i.bottom=Math.max(i.bottom,u.bottom);return s==0?null:(i.width=i.right-i.left,i.height=i.bottom-i.top,new Ut(i))}}function Qn(c,e){for(const i of Ko)c[i]=e[i]}function Rr(c){return!!Qr(c)&&c===c.ownerDocument.body}function Qr(c){return c!==null&&typeof c=="object"&&c.nodeType===1&&typeof c.getBoundingClientRect=="function"}function ba(c){return c instanceof HTMLElement?c.ownerDocument.defaultView.getComputedStyle(c).position:"static"}const Ar=class{constructor(c,e){Ar._observerInstance||Ar._createObserver(),this._element=c,this._callback=e,Ar._addElementCallback(c,e),Ar._observerInstance.observe(c)}get element(){return this._element}destroy(){Ar._deleteElementCallback(this._element,this._callback)}static _addElementCallback(c,e){Ar._elementCallbacks||(Ar._elementCallbacks=new Map);let i=Ar._elementCallbacks.get(c);i||(i=new Set,Ar._elementCallbacks.set(c,i)),i.add(e)}static _deleteElementCallback(c,e){const i=Ar._getElementCallbacks(c);i&&(i.delete(e),i.size||(Ar._elementCallbacks.delete(c),Ar._observerInstance.unobserve(c))),Ar._elementCallbacks&&!Ar._elementCallbacks.size&&(Ar._observerInstance=null,Ar._elementCallbacks=null)}static _getElementCallbacks(c){return Ar._elementCallbacks?Ar._elementCallbacks.get(c):null}static _createObserver(){Ar._observerInstance=new h.window.ResizeObserver(c=>{for(const e of c){const i=Ar._getElementCallbacks(e.target);if(i)for(const s of i)s(e)}})}};let ka=Ar;function Pd(c,e){c instanceof HTMLTextAreaElement&&(c.value=e),c.innerHTML=e}function Nl(c){return e=>e+c}function Ml(c){let e=0;for(;c.previousSibling;)c=c.previousSibling,e++;return e}function Mo(c,e,i){c.insertBefore(i,c.childNodes[e]||null)}function eo(c){return c&&c.nodeType===Node.COMMENT_NODE}function wa(c){return!!(c&&c.getClientRects&&c.getClientRects().length)}ka._observerInstance=null,ka._elementCallbacks=null;var Od=Math.pow;function Ld({element:c,target:e,positions:i,limiter:s,fitInViewport:u,viewportOffsetConfig:f}){bi(e)&&(e=e()),bi(s)&&(s=s());const m=Yo(c),w=function(U){U=Object.assign({top:0,bottom:0,left:0,right:0},U);const G=new Ut(h.window);return G.top+=U.top,G.height-=U.top,G.bottom-=U.bottom,G.height-=U.bottom,G}(f),A=new Ut(c),S=jd(e,w);let T;if(!S||!w.getIntersection(S))return null;const O={targetRect:S,elementRect:A,positionedElementAncestor:m,viewportRect:w};if(s||u){if(s){const U=jd(s,w);U&&(O.limiterRect=U)}T=function(U,G){const{elementRect:ee}=G,ie=ee.getArea(),be=U.map(et=>new Bd(et,G)).filter(et=>!!et.name);let xe=0,Oe=null;for(const et of be){const{limiterIntersectionArea:ft,viewportIntersectionArea:Mt}=et;if(ft===ie)return et;const tn=Od(Mt,2)+Od(ft,2);tn>xe&&(xe=tn,Oe=et)}return Oe}(i,O)}else T=new Bd(i[0],O);return T}function jd(c,e){const i=new Ut(c).getVisible();return i?i.getIntersection(e):null}class Bd{constructor(e,i){const s=e(i.targetRect,i.elementRect,i.viewportRect,i.limiterRect);if(!s)return;const{left:u,top:f,name:m,config:w}=s;this.name=m,this.config=w,this._positioningFunctionCoordinates={left:u,top:f},this._options=i}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function sf(c){const e=c.parentNode;e&&e.removeChild(c)}function yb({window:c,rect:e,alignToTop:i,forceScroll:s,viewportOffset:u}){const f=e.clone().moveBy(0,u.bottom),m=e.clone().moveBy(0,-u.top),w=new Ut(c).excludeScrollbarsAndBorders(),A=i&&s,S=[m,f].every(ee=>w.contains(ee));let{scrollX:T,scrollY:O}=c;const U=T,G=O;A?O-=w.top-e.top+u.top:S||(Rd(m,w)?O-=w.top-e.top+u.top:af(f,w)&&(O+=i?e.top-w.top-u.top:e.bottom-w.bottom+u.bottom)),S||(lf(e,w)?T-=w.left-e.left+u.left:vb(e,w)&&(T+=e.right-w.right+u.right)),T==U&&O===G||c.scrollTo(T,O)}function Jp({parent:c,getRect:e,alignToTop:i,forceScroll:s,ancestorOffset:u=0,limiterElement:f}){const m=Zp(c),w=i&&s;let A,S,T;const O=f||m.document.body;for(;c!=O;)S=e(),A=new Ut(c).excludeScrollbarsAndBorders(),T=A.contains(S),w?c.scrollTop-=A.top-S.top+u:T||(Rd(S,A)?c.scrollTop-=A.top-S.top+u:af(S,A)&&(c.scrollTop+=i?S.top-A.top-u:S.bottom-A.bottom+u)),T||(lf(S,A)?c.scrollLeft-=A.left-S.left+u:vb(S,A)&&(c.scrollLeft+=S.right-A.right+u)),c=c.parentNode}function af(c,e){return c.bottom>e.bottom}function Rd(c,e){return c.top<e.top}function lf(c,e){return c.left<e.left}function vb(c,e){return c.right>e.right}function Zp(c){return Tl(c)?c.startContainer.ownerDocument.defaultView:c.ownerDocument.defaultView}function Ab(c){if(Tl(c)){let e=c.commonAncestorContainer;return nr(e)&&(e=e.parentNode),e}return c.parentNode}function _b(c,e){const i=Zp(c),s=new Ut(c);if(i===e)return s;{let u=i;for(;u!=e;){const f=u.frameElement,m=new Ut(f).excludeScrollbarsAndBorders();s.moveBy(m.left,m.top),u=u.parent}}return s}const Nw={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},Mw={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Cb={37:"←",38:"↑",39:"→",40:"↓",9:"⇥",33:"Page Up",34:"Page Down"},Pn=function(){const c={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)c[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)c[e-48]=e;for(let e=112;e<=123;e++)c["f"+(e-111)]=e;return Object.assign(c,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),c}(),Xp=Object.fromEntries(Object.entries(Pn).map(([c,e])=>{let i;return i=e in Cb?Cb[e]:c.charAt(0).toUpperCase()+c.slice(1),[e,i]}));function Pl(c){let e;if(typeof c=="string"){if(e=Pn[c.toLowerCase()],!e)throw new M("keyboard-unknown-key",null,{key:c})}else e=c.keyCode+(c.altKey?Pn.alt:0)+(c.ctrlKey?Pn.ctrl:0)+(c.shiftKey?Pn.shift:0)+(c.metaKey?Pn.cmd:0);return e}function Ja(c){return typeof c=="string"&&(c=function(e){return e.split("+").map(i=>i.trim())}(c)),c.map(e=>typeof e=="string"?function(i){if(i.endsWith("!"))return Pl(i.slice(0,-1));const s=Pl(i);return(b.isMac||b.isiOS)&&s==Pn.ctrl?Pn.cmd:s}(e):e).reduce((e,i)=>i+e,0)}function cf(c){let e=Ja(c);return Object.entries(b.isMac||b.isiOS?Nw:Mw).reduce((i,[s,u])=>(e&Pn[s]&&(e&=~Pn[s],i+=u),i),"")+(e?Xp[e]:"")}function em(c,e){const i=e==="ltr";switch(c){case Pn.arrowleft:return i?"left":"right";case Pn.arrowright:return i?"right":"left";case Pn.arrowup:return"up";case Pn.arrowdown:return"down"}}function rr(c){return Array.isArray(c)?c:[c]}const tm=function(c,e,i){(i!==void 0&&!ii(c[e],i)||i===void 0&&!(e in c))&&ls(c,e,i)},xb=function(c){return function(e,i,s){for(var u=-1,f=Object(e),m=s(e),w=m.length;w--;){var A=m[++u];if(i(f[A],A,f)===!1)break}return e}}(),Pw=function(c){return Kt(c)&&xl(c)},Sb=function(c,e){if((e!=="constructor"||typeof c[e]!="function")&&e!="__proto__")return c[e]},Ol=function(c){return Ga(c,da(c))},js=function(c,e,i,s,u,f,m){var w=Sb(c,i),A=Sb(e,i),S=m.get(A);if(S)tm(c,i,S);else{var T=void 0,O=T===void 0;if(O){var U=Ft(A),G=!U&&Ya(A),ee=!U&&!G&&pu(A);T=A,U||G||ee?Ft(w)?T=w:Pw(w)?T=xc(w):G?(O=!1,T=ef(A,!0)):ee?(O=!1,T=Cu(A,!0)):T=[]:Nn(A)||hu(A)?(T=w,hu(w)?T=Ol(w):we(w)&&!bi(w)||(T=Md(A))):O=!1}O&&(m.set(A,T),u(T,A,s,f,m),m.delete(A)),tm(c,i,T)}},Za=function c(e,i,s,u,f){e!==i&&xb(i,function(m,w){if(f||(f=new Al),we(m))js(e,i,w,s,c,u,f);else{var A=void 0;A===void 0&&(A=m),tm(e,w,A)}},da)},Ll=function(c){return c},Eb=function(c,e,i){switch(i.length){case 0:return c.call(e);case 1:return c.call(e,i[0]);case 2:return c.call(e,i[0],i[1]);case 3:return c.call(e,i[0],i[1],i[2])}return c.apply(e,i)};var Xa=Math.max;const us=function(c,e,i){return e=Xa(e===void 0?c.length-1:e,0),function(){for(var s=arguments,u=-1,f=Xa(s.length-e,0),m=Array(f);++u<f;)m[u]=s[e+u];u=-1;for(var w=Array(e+1);++u<e;)w[u]=s[u];return w[e]=i(m),Eb(c,this,w)}},Ow=function(c){return function(){return c}},Lw=uu?function(c,e){return uu(c,"toString",{configurable:!0,enumerable:!1,value:Ow(e),writable:!0})}:Ll;var Db=Date.now;const Ib=function(c){var e=0,i=0;return function(){var s=Db(),u=16-(s-i);if(i=s,u>0){if(++e>=800)return arguments[0]}else e=0;return c.apply(void 0,arguments)}}(Lw),Tb=function(c,e){return Ib(us(c,e,Ll),c+"")},Bw=function(c,e,i){if(!we(i))return!1;var s=typeof e;return!!(s=="number"?xl(i)&&fu(e,i.length):s=="string"&&e in i)&&ii(i[e],c)},Fd=function(c){return Tb(function(e,i){var s=-1,u=i.length,f=u>1?i[u-1]:void 0,m=u>2?i[2]:void 0;for(f=c.length>3&&typeof f=="function"?(u--,f):void 0,m&&Bw(i[0],i[1],m)&&(f=u<3?void 0:f,u=1),e=Object(e);++s<u;){var w=i[s];w&&c(e,w,s,f)}return e})},Su=Fd(function(c,e,i){Za(c,e,i)});function zd(c,e,i=1,s){if(typeof i!="number")throw new M("translation-service-quantity-not-a-number",null,{quantity:i});const u=s||h.window.CKEDITOR_TRANSLATIONS,f=function(T){return Object.keys(T).length}(u);f===1&&(c=Object.keys(u)[0]);const m=e.id||e.string;if(f===0||!function(T,O,U){return!!U[T]&&!!U[T].dictionary[O]}(c,m,u))return i!==1?e.plural:e.string;const w=u[c].dictionary,A=u[c].getPluralForm||(T=>T===1?0:1),S=w[m];return typeof S=="string"?S:S[Number(A(i))]}h.window.CKEDITOR_TRANSLATIONS||(h.window.CKEDITOR_TRANSLATIONS={});const nm=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Nb(c){return nm.includes(c)?"rtl":"ltr"}class Mb{constructor({uiLanguage:e="en",contentLanguage:i,translations:s}={}){this.uiLanguage=e,this.contentLanguage=i||this.uiLanguage,this.uiLanguageDirection=Nb(this.uiLanguage),this.contentLanguageDirection=Nb(this.contentLanguage),this.translations=function(u){return Array.isArray(u)?u.reduce((f,m)=>Su(f,m)):u}(s),this.t=(u,f)=>this._t(u,f)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,i=[]){i=rr(i),typeof e=="string"&&(e={string:e});const s=e.plural?i[0]:1;return function(u,f){return u.replace(/%(\d+)/g,(m,w)=>w<f.length?f[w]:m)}(zd(this.uiLanguage,e,s,this.translations),i)}}class Bs extends oe(){constructor(e={},i={}){super();const s=Ee(e);if(s||(i=e),this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],s)for(const u of e)this._items.push(u),this._itemMap.set(this._getItemIdBeforeAdding(u),u)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,i){return this.addMany([e],i)}addMany(e,i){if(i===void 0)i=this._items.length;else if(i>this._items.length||i<0)throw new M("collection-add-item-invalid-index",this);let s=0;for(const u of e){const f=this._getItemIdBeforeAdding(u),m=i+s;this._items.splice(m,0,u),this._itemMap.set(f,u),this.fire("add",u,m),s++}return this.fire("change",{added:e,removed:[],index:i}),this}get(e){let i;if(typeof e=="string")i=this._itemMap.get(e);else{if(typeof e!="number")throw new M("collection-get-invalid-arg",this);i=this._items[e]}return i||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const i=e[this._idProperty];return i&&this._itemMap.has(i)}}getIndex(e){let i;return i=typeof e=="string"?this._itemMap.get(e):e,i?this._items.indexOf(i):-1}remove(e){const[i,s]=this._remove(e);return this.fire("change",{added:[],removed:[i],index:s}),i}map(e,i){return this._items.map(e,i)}forEach(e,i){this._items.forEach(e,i)}find(e,i){return this._items.find(e,i)}filter(e,i){return this._items.filter(e,i)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new M("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:i=>{this._setUpBindToBinding(s=>new i(s))},using:i=>{typeof i=="function"?this._setUpBindToBinding(i):this._setUpBindToBinding(s=>s[i])}}}_setUpBindToBinding(e){const i=this._bindToCollection,s=(u,f,m)=>{const w=i._bindToCollection==this,A=i._bindToInternalToExternalMap.get(f);if(w&&A)this._bindToExternalToInternalMap.set(f,A),this._bindToInternalToExternalMap.set(A,f);else{const S=e(f);if(!S)return void this._skippedIndexesFromExternal.push(m);let T=m;for(const O of this._skippedIndexesFromExternal)m>O&&T--;for(const O of i._skippedIndexesFromExternal)T>=O&&T++;this._bindToExternalToInternalMap.set(f,S),this._bindToInternalToExternalMap.set(S,f),this.add(S,T);for(let O=0;O<i._skippedIndexesFromExternal.length;O++)T<=i._skippedIndexesFromExternal[O]&&i._skippedIndexesFromExternal[O]++}};for(const u of i)s(0,u,i.getIndex(u));this.listenTo(i,"add",s),this.listenTo(i,"remove",(u,f,m)=>{const w=this._bindToExternalToInternalMap.get(f);w&&this.remove(w),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((A,S)=>(m<S&&A.push(S-1),m>S&&A.push(S),A),[])})}_getItemIdBeforeAdding(e){const i=this._idProperty;let s;if(i in e){if(s=e[i],typeof s!="string")throw new M("collection-add-invalid-id",this);if(this.get(s))throw new M("collection-add-item-already-exists",this)}else e[i]=s=P();return s}_remove(e){let i,s,u,f=!1;const m=this._idProperty;if(typeof e=="string"?(s=e,u=this._itemMap.get(s),f=!u,u&&(i=this._items.indexOf(u))):typeof e=="number"?(i=e,u=this._items[i],f=!u,u&&(s=u[m])):(u=e,s=u[m],i=this._items.indexOf(u),f=i==-1||!this._itemMap.get(s)),f)throw new M("collection-remove-404",this);this._items.splice(i,1),this._itemMap.delete(s);const w=this._bindToInternalToExternalMap.get(u);return this._bindToInternalToExternalMap.delete(u),this._bindToExternalToInternalMap.delete(w),this.fire("remove",u,i),[u,i]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Li(c){const e=c.next();return e.done?null:e.value}class ji extends yi(Ue()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new M("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class lo{constructor(){this._listener=new(yi())}listenTo(e){this._listener.listenTo(e,"keydown",(i,s)=>{this._listener.fire("_keydown:"+Pl(s),s)})}set(e,i,s={}){const u=Ja(e),f=s.priority;this._listener.listenTo(this._listener,"_keydown:"+u,(m,w)=>{i(w,()=>{w.preventDefault(),w.stopPropagation(),m.stop()}),m.return=!0},{priority:f})}press(e){return!!this._listener.fire("_keydown:"+Pl(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function ya(c){return Ee(c)?new Map(c):function(e){const i=new Map;for(const s in e)i.set(s,e[s]);return i}(c)}function rm(c,e){let i;function s(...u){s.cancel(),i=setTimeout(()=>c(...u),e)}return s.cancel=()=>{clearTimeout(i)},s}function uf(c,e){return!!(i=c.charAt(e-1))&&i.length==1&&/[\ud800-\udbff]/.test(i)&&function(s){return!!s&&s.length==1&&/[\udc00-\udfff]/.test(s)}(c.charAt(e));var i}function Eu(c,e){return!!(i=c.charAt(e))&&i.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i);var i}const Rw=function(){const c=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,i="(?:"+c.map(s=>s.source).join("|")+")";return new RegExp(`${e}|${i}(?:‍${i})*`,"ug")}();function Pb(c,e){const i=String(c).matchAll(Rw);return Array.from(i).some(s=>s.index<e&&e<s.index+s[0].length)}class Qo extends Bs{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(i,s,u)=>{this._renderViewIntoCollectionParent(s,u)}),this.on("remove",(i,s)=>{s.element&&this._parentElement&&s.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const i of this)this._renderViewIntoCollectionParent(i)}delegate(...e){if(!e.length||!e.every(i=>typeof i=="string"))throw new M("ui-viewcollection-delegate-wrong-events",this);return{to:i=>{for(const s of this)for(const u of e)s.delegate(u).to(i);this.on("add",(s,u)=>{for(const f of e)u.delegate(f).to(i)}),this.on("remove",(s,u)=>{for(const f of e)u.stopDelegating(f,i)})}}}_renderViewIntoCollectionParent(e,i){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[i])}remove(e){return super.remove(e)}}class I extends oe(){constructor(e){super(),Object.assign(this,Re(Se(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new M("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(i){if(i.children)for(const s of i.children)Be(s)?yield s:$e(s)&&(yield*e(s))}(this)}static bind(e,i){return{to:(s,u)=>new W({eventNameOrFunction:s,attribute:s,observable:e,emitter:i,callback:u}),if:(s,u,f)=>new te({observable:e,emitter:i,attribute:s,valueIfTrue:u,callback:f})}}static extend(e,i){if(e._isRendered)throw new M("template-extend-render",[this,e]);kt(e,Re(Se(i)))}_renderNode(e){let i;if(i=e.node?this.tag&&this.text:this.tag?this.text:!this.text,i)throw new M("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let i=e.node;return i||(i=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),i}_renderText(e){let i=e.node;return i?e.revertData.text=i.textContent:i=e.node=document.createTextNode(""),le(this.text)?this._bindToObservable({schema:this.text,updater:me(i),data:e}):i.textContent=this.text.join(""),i}_renderAttributes(e){if(!this.attributes)return;const i=e.node,s=e.revertData;for(const u in this.attributes){const f=i.getAttribute(u),m=this.attributes[u];s&&(s.attributes[u]=f);const w=yt(m)?m[0].ns:null;if(le(m)){const A=yt(m)?m[0].value:m;s&&bt(u)&&A.unshift(f),this._bindToObservable({schema:A,updater:ke(i,u,w),data:e})}else if(u=="style"&&typeof m[0]!="string")this._renderStyleAttribute(m[0],e);else{s&&f&&bt(u)&&m.unshift(f);const A=m.map(S=>S&&S.value||S).reduce((S,T)=>S.concat(T),[]).reduce(nt,"");ot(A)||i.setAttributeNS(w,u,A)}}}_renderStyleAttribute(e,i){const s=i.node;for(const u in e){const f=e[u];le(f)?this._bindToObservable({schema:[f],updater:ve(s,u),data:i}):s.style[u]=f}}_renderElementChildren(e){const i=e.node,s=e.intoFragment?document.createDocumentFragment():i,u=e.isApplying;let f=0;for(const m of this.children)if(gt(m)){if(!u){m.setParent(i);for(const w of m)s.appendChild(w.element)}}else if(Be(m))u||(m.isRendered||m.render(),s.appendChild(m.element));else if(cs(m))s.appendChild(m);else if(u){const w={children:[],bindings:[],attributes:{}};e.revertData.children.push(w),m._renderNode({intoFragment:!1,node:s.childNodes[f++],isApplying:!0,revertData:w})}else s.appendChild(m.render());e.intoFragment&&i.appendChild(s)}_setUpListeners(e){if(this.eventListeners)for(const i in this.eventListeners){const s=this.eventListeners[i].map(u=>{const[f,m]=i.split("@");return u.activateDomEventListener(f,m,e)});e.revertData&&e.revertData.bindings.push(s)}}_bindToObservable({schema:e,updater:i,data:s}){const u=s.revertData;fe(e,i,s);const f=e.filter(m=>!ot(m)).filter(m=>m.observable).map(m=>m.activateAttributeListener(e,i,s));u&&u.bindings.push(f)}_revertTemplateFromNode(e,i){for(const u of i.bindings)for(const f of u)f();if(i.text)return void(e.textContent=i.text);const s=e;for(const u in i.attributes){const f=i.attributes[u];f===null?s.removeAttribute(u):s.setAttribute(u,f)}for(let u=0;u<i.children.length;++u)this._revertTemplateFromNode(s.childNodes[u],i.children[u])}}class L{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const i=this.observable[this.attribute];return this.callback?this.callback(i,e):i}activateAttributeListener(e,i,s){const u=()=>fe(e,i,s);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,u),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,u)}}}class W extends L{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,i,s){const u=(f,m)=>{i&&!m.target.matches(i)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(m):this.observable.fire(this.eventNameOrFunction,m))};return this.emitter.listenTo(s.node,e,u),()=>{this.emitter.stopListening(s.node,e,u)}}}class te extends L{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!ot(super.getValue(e))&&(this.valueIfTrue||!0)}}function le(c){return!!c&&(c.value&&(c=c.value),Array.isArray(c)?c.some(le):c instanceof L)}function fe(c,e,{node:i}){const s=function(f,m){return f.map(w=>w instanceof L?w.getValue(m):w)}(c,i);let u;u=c.length==1&&c[0]instanceof te?s[0]:s.reduce(nt,""),ot(u)?e.remove():e.set(u)}function me(c){return{set(e){c.textContent=e},remove(){c.textContent=""}}}function ke(c,e,i){return{set(s){c.setAttributeNS(i,e,s)},remove(){c.removeAttributeNS(i,e)}}}function ve(c,e){return{set(i){c.style[e]=i},remove(){c.style[e]=null}}}function Se(c){return Ic(c,e=>{if(e&&(e instanceof L||$e(e)||Be(e)||gt(e)))return e})}function Re(c){if(typeof c=="string"?c=function(e){return{text:[e]}}(c):c.text&&function(e){e.text=rr(e.text)}(c),c.on&&(c.eventListeners=function(e){for(const i in e)tt(e,i);return e}(c.on),delete c.on),!c.text){c.attributes&&function(i){for(const s in i)i[s].value&&(i[s].value=rr(i[s].value)),tt(i,s)}(c.attributes);const e=[];if(c.children)if(gt(c.children))e.push(c.children);else for(const i of c.children)$e(i)||Be(i)||cs(i)?e.push(i):e.push(new I(i));c.children=e}return c}function tt(c,e){c[e]=rr(c[e])}function nt(c,e){return ot(e)?c:ot(c)?e:`${c} ${e}`}function Ge(c,e){for(const i in e)c[i]?c[i].push(...e[i]):c[i]=e[i]}function kt(c,e){if(e.attributes&&(c.attributes||(c.attributes={}),Ge(c.attributes,e.attributes)),e.eventListeners&&(c.eventListeners||(c.eventListeners={}),Ge(c.eventListeners,e.eventListeners)),e.text&&c.text.push(...e.text),e.children&&e.children.length){if(c.children.length!=e.children.length)throw new M("ui-template-extend-children-mismatch",c);let i=0;for(const s of e.children)kt(c.children[i++],s)}}function ot(c){return!c&&c!==0}function Be(c){return c instanceof Nt}function $e(c){return c instanceof I}function gt(c){return c instanceof Qo}function yt(c){return we(c[0])&&c[0].ns}function bt(c){return c=="class"||c=="style"}var jt=a(2591),Xe=a.n(jt),Jt=a(7676),Pt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(Jt.A,Pt),Jt.A.locals;class Nt extends yi(Ue()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Bs,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(i,s)=>{s.locale=e,s.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=I.bind(this,this)}createCollection(e){const i=new Qo(e);return this._viewCollections.add(i),i}registerChild(e){Ee(e)||(e=[e]);for(const i of e)this._unboundChildren.add(i)}deregisterChild(e){Ee(e)||(e=[e]);for(const i of e)this._unboundChildren.remove(i)}setTemplate(e){this.template=new I(e)}extendTemplate(e){I.extend(this.template,e)}render(){if(this.isRendered)throw new M("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function Fn({emitter:c,activator:e,callback:i,contextElements:s}){c.listenTo(document,"mousedown",(u,f)=>{if(!e())return;const m=typeof f.composedPath=="function"?f.composedPath():[],w=typeof s=="function"?s():s;for(const A of w)if(A.contains(f.target)||m.includes(A))return;i()})}function On(c){return class extends c{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function Cn({view:c}){c.listenTo(c.element,"submit",(e,i)=>{i.preventDefault(),c.fire("submit")},{useCapture:!0})}function ar({keystrokeHandler:c,focusTracker:e,gridItems:i,numberOfColumns:s,uiLanguageDirection:u}){const f=()=>s;function m(S){return T=>{const O=i.find(ee=>ee.element===e.focusedElement),U=i.getIndex(O),G=S(U,i);i.get(G).focus(),T.stopPropagation(),T.preventDefault()}}function w(S,T){return S===T-1?0:S+1}function A(S,T){return S===0?T-1:S-1}c.set("arrowright",m((S,T)=>u==="rtl"?A(S,T.length):w(S,T.length))),c.set("arrowleft",m((S,T)=>u==="rtl"?w(S,T.length):A(S,T.length))),c.set("arrowup",m((S,T)=>{let O=S-f();return O<0&&(O=S+f()*Math.floor(T.length/f()),O>T.length-1&&(O-=f())),O})),c.set("arrowdown",m((S,T)=>{let O=S+f();return O>T.length-1&&(O=S%f()),O}))}class ct extends Ue(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",mn,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",mn),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function mn(c){c.return=!1,c.stop()}class Ht extends Ue(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",i=>{if(!this.affectsData)return;const s=e.model.document.selection,u=s.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(s);(e.isReadOnly||this._isEnabledBasedOnSelection&&!u)&&(i.return=!1,i.stop())},{priority:"highest"}),this.on("execute",i=>{this.isEnabled||i.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",co,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",co),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function co(c){c.return=!1,c.stop()}class Jr extends Ht{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const i=this._getFirstEnabledCommand();return!!i&&i.execute(e)}registerChildCommand(e,i={}){V(this._childCommandsDefinitions,{command:e,priority:i.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:i})=>i.isEnabled);return e&&e.command}}class uo extends oe(){constructor(e,i=[],s=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const u of i)u.pluginName&&this._availablePlugins.set(u.pluginName,u);this._contextPlugins=new Map;for(const[u,f]of s)this._contextPlugins.set(u,f),this._contextPlugins.set(f,u),u.pluginName&&this._availablePlugins.set(u.pluginName,u)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const i=this._plugins.get(e);if(!i){let s=e;throw typeof e=="function"&&(s=e.pluginName||e.name),new M("plugincollection-plugin-not-loaded",this._context,{plugin:s})}return i}has(e){return this._plugins.has(e)}init(e,i=[],s=[]){const u=this,f=this._context;(function ee(ie,be=new Set){ie.forEach(xe=>{A(xe)&&(be.has(xe)||(be.add(xe),xe.pluginName&&!u._availablePlugins.has(xe.pluginName)&&u._availablePlugins.set(xe.pluginName,xe),xe.requires&&ee(xe.requires,be)))})})(e),U(e);const m=[...function ee(ie,be=new Set){return ie.map(xe=>A(xe)?xe:u._availablePlugins.get(xe)).reduce((xe,Oe)=>be.has(Oe)?xe:(be.add(Oe),Oe.requires&&(U(Oe.requires,Oe),ee(Oe.requires,be).forEach(et=>xe.add(et))),xe.add(Oe)),new Set)}(e.filter(ee=>!T(ee,i)))];(function(ee,ie){for(const be of ie){if(typeof be!="function")throw new M("plugincollection-replace-plugin-invalid-type",null,{pluginItem:be});const xe=be.pluginName;if(!xe)throw new M("plugincollection-replace-plugin-missing-name",null,{pluginItem:be});if(be.requires&&be.requires.length)throw new M("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:xe});const Oe=u._availablePlugins.get(xe);if(!Oe)throw new M("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:xe});const et=ee.indexOf(Oe);if(et===-1){if(u._contextPlugins.has(Oe))return;throw new M("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:xe})}if(Oe.requires&&Oe.requires.length)throw new M("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:xe});ee.splice(et,1,be),u._availablePlugins.set(xe,be)}})(m,s);const w=m.map(ee=>{let ie=u._contextPlugins.get(ee);return ie=ie||new ee(f),u._add(ee,ie),ie});return G(w,"init").then(()=>G(w,"afterInit")).then(()=>w);function A(ee){return typeof ee=="function"}function S(ee){return A(ee)&&!!ee.isContextPlugin}function T(ee,ie){return ie.some(be=>be===ee||O(ee)===be||O(be)===ee)}function O(ee){return A(ee)?ee.pluginName||ee.name:ee}function U(ee,ie=null){ee.map(be=>A(be)?be:u._availablePlugins.get(be)||be).forEach(be=>{(function(xe,Oe){if(!A(xe))throw Oe?new M("plugincollection-soft-required",f,{missingPlugin:xe,requiredBy:O(Oe)}):new M("plugincollection-plugin-not-found",f,{plugin:xe})})(be,ie),function(xe,Oe){if(S(Oe)&&!S(xe))throw new M("plugincollection-context-required",f,{plugin:O(xe),requiredBy:O(Oe)})}(be,ie),function(xe,Oe){if(Oe&&T(xe,i))throw new M("plugincollection-required",f,{plugin:O(xe),requiredBy:O(Oe)})}(be,ie)})}function G(ee,ie){return ee.reduce((be,xe)=>xe[ie]?u._contextPlugins.has(xe)?be:be.then(xe[ie].bind(xe)):be,Promise.resolve())}}destroy(){const e=[];for(const[,i]of this)typeof i.destroy!="function"||this._contextPlugins.has(i)||e.push(i.destroy());return Promise.all(e)}_add(e,i){this._plugins.set(e,i);const s=e.pluginName;if(s){if(this._plugins.has(s))throw new M("plugincollection-plugin-name-conflict",null,{pluginName:s,plugin1:this._plugins.get(s).constructor,plugin2:e});this._plugins.set(s,i)}}}var Gn=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,Zo=Object.prototype.propertyIsEnumerable;class vi{constructor(e){this._contextOwner=null;const i=e||{},{translations:s}=i,u=((w,A)=>{var S={};for(var T in w)Jo.call(w,T)&&A.indexOf(T)<0&&(S[T]=w[T]);if(w!=null&&Gn)for(var T of Gn(w))A.indexOf(T)<0&&Zo.call(w,T)&&(S[T]=w[T]);return S})(i,["translations"]);this.config=new Go(u,this.constructor.defaultConfig);const f=this.constructor.builtinPlugins;this.config.define("plugins",f),this.plugins=new uo(this,f);const m=this.config.get("language")||{};this.locale=new Mb({uiLanguage:typeof m=="string"?m:m.ui,contentLanguage:this.config.get("language.content"),translations:s}),this.t=this.locale.t,this.editors=new Bs}initPlugins(){const e=this.config.get("plugins")||[],i=this.config.get("substitutePlugins")||[];for(const s of e.concat(i)){if(typeof s!="function")throw new M("context-initplugins-constructor-only",null,{Plugin:s});if(s.isContextPlugin!==!0)throw new M("context-initplugins-invalid-plugin",null,{Plugin:s})}return this.plugins.init(e,[],i)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,i){if(this._contextOwner)throw new M("context-addeditor-private-context");this.editors.add(e),i&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const i of this.config.names())["plugins","removePlugins","extraPlugins"].includes(i)||(e[i]=this.config.get(i));return e}static create(e){return new Promise(i=>{const s=new this(e);i(s.initPlugins().then(()=>s))})}}class si extends Ue(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class ho extends lo{constructor(e){super(),this.editor=e}set(e,i,s={}){if(typeof i=="string"){const u=i;i=(f,m)=>{this.editor.execute(u),m()}}super.set(e,i,s)}}var Xo=a(4098),va={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(Xo.A,va),Xo.A.locals;const Zr=new WeakMap;let Aa=!1;function jl({view:c,element:e,text:i,isDirectHost:s=!0,keepOnFocus:u=!1}){const f=c.document;function m(w){Zr.get(f).set(e,{text:w,isDirectHost:s,keepOnFocus:u,hostElement:s?e:null}),c.change(A=>Ud(f,A))}Zr.has(f)||(Zr.set(f,new Map),f.registerPostFixer(w=>Ud(f,w)),f.on("change:isComposing",()=>{c.change(w=>Ud(f,w))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(w,A,S)=>{m(S)}),e.placeholder?m(e.placeholder):i&&m(i),i&&function(){Aa||B("enableplaceholder-deprecated-text-option"),Aa=!0}()}function Du(c,e){return!e.hasClass("ck-placeholder")&&(c.addClass("ck-placeholder",e),!0)}function Bl(c,e){return!!e.hasClass("ck-placeholder")&&(c.removeClass("ck-placeholder",e),!0)}function Fr(c,e){if(!c.isAttached()||Array.from(c.getChildren()).some(u=>!u.is("uiElement")))return!1;const i=c.document,s=i.selection.anchor;return(!i.isComposing||!s||s.parent!==c)&&(!!e||!i.isFocused||!!s&&s.parent!==c)}function Ud(c,e){const i=Zr.get(c),s=[];let u=!1;for(const[f,m]of i)m.isDirectHost&&(s.push(f),im(e,f,m)&&(u=!0));for(const[f,m]of i){if(m.isDirectHost)continue;const w=Ob(f);w&&(s.includes(w)||(m.hostElement=w,im(e,f,m)&&(u=!0)))}return u}function im(c,e,i){const{text:s,isDirectHost:u,hostElement:f}=i;let m=!1;return f.getAttribute("data-placeholder")!==s&&(c.setAttribute("data-placeholder",s,f),m=!0),(u||e.childCount==1)&&Fr(f,i.keepOnFocus)?Du(c,f)&&(m=!0):Bl(c,f)&&(m=!0),m}function Ob(c){if(c.childCount){const e=c.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class _a{is(){throw new Error("is() method is abstract")}}const Iu=function(c){return Pr(c,4)};class Ca extends oe(_a){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new M("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.index),i=i.parent;return e}getAncestors(e={}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(e,i={}){const s=this.getAncestors(i),u=e.getAncestors(i);let f=0;for(;s[f]==u[f]&&s[f];)f++;return f===0?null:s[f-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),s=e.getPath(),u=Te(i,s);switch(u){case"prefix":return!0;case"extension":return!1;default:return i[u]<s[u]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,i){this.fire(`change:${e}`,i),this.parent&&this.parent._fireChange(e,i)}toJSON(){const e=Iu(this);return delete e.parent,e}}Ca.prototype.is=function(c){return c==="node"||c==="view:node"};class xn extends Ca{constructor(e,i){super(e),this._textData=i}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof xn&&(this===e||this.data===e.data)}_clone(){return new xn(this.document,this.data)}}xn.prototype.is=function(c){return c==="$text"||c==="view:$text"||c==="text"||c==="view:text"||c==="node"||c==="view:node"};class fo extends _a{constructor(e,i,s){if(super(),this.textNode=e,i<0||i>e.data.length)throw new M("view-textproxy-wrong-offsetintext",this);if(s<0||i+s>e.data.length)throw new M("view-textproxy-wrong-length",this);this.data=e.data.substring(i,i+s),this.offsetInText=i}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const i=[];let s=e.includeSelf?this.textNode:this.parent;for(;s!==null;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}}fo.prototype.is=function(c){return c==="$textProxy"||c==="view:$textProxy"||c==="textProxy"||c==="view:textProxy"};class po{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let i of e)(typeof i=="string"||i instanceof RegExp)&&(i={name:i}),this._patterns.push(i)}match(...e){for(const i of e)for(const s of this._patterns){const u=om(i,s);if(u)return{element:i,pattern:s,match:u}}return null}matchAll(...e){const i=[];for(const s of e)for(const u of this._patterns){const f=om(s,u);f&&i.push({element:s,pattern:u,match:f})}return i.length>0?i:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],i=e.name;return typeof e=="function"||!i||i instanceof RegExp?null:i}}function om(c,e){if(typeof e=="function")return e(c);const i={};return e.name&&(i.name=function(s,u){return s instanceof RegExp?!!u.match(s):s===u}(e.name,c.name),!i.name)||e.attributes&&(i.attributes=function(s,u){const f=new Set(u.getAttributeKeys());return Nn(s)?(s.style!==void 0&&B("matcher-pattern-deprecated-attributes-style-key",s),s.class!==void 0&&B("matcher-pattern-deprecated-attributes-class-key",s)):(f.delete("style"),f.delete("class")),Tu(s,f,m=>u.getAttribute(m))}(e.attributes,c),!i.attributes)||e.classes&&(i.classes=function(s,u){return Tu(s,u.getClassNames(),()=>{})}(e.classes,c),!i.classes)||e.styles&&(i.styles=function(s,u){return Tu(s,u.getStyleNames(!0),f=>u.getStyle(f))}(e.styles,c),!i.styles)?null:i}function Tu(c,e,i){const s=function(m){return Array.isArray(m)?m.map(w=>Nn(w)?(w.key!==void 0&&w.value!==void 0||B("matcher-pattern-missing-key-or-value",w),[w.key,w.value]):[w,!0]):Nn(m)?Object.entries(m):[[m,!0]]}(c),u=Array.from(e),f=[];if(s.forEach(([m,w])=>{u.forEach(A=>{(function(S,T){return S===!0||S===T||S instanceof RegExp&&T.match(S)})(m,A)&&function(S,T,O){if(S===!0)return!0;const U=O(T);return S===U||S instanceof RegExp&&!!String(U).match(S)}(w,A,i)&&f.push(A)})}),s.length&&!(f.length<s.length))return f}const qd=function(c){return typeof c=="symbol"||Kt(c)&&Bt(c)=="[object Symbol]"};var df=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sm=/^\w*$/;const Nu=function(c,e){if(Ft(c))return!1;var i=typeof c;return!(i!="number"&&i!="symbol"&&i!="boolean"&&c!=null&&!qd(c))||sm.test(c)||!df.test(c)||e!=null&&c in Object(e)};function Pc(c,e){if(typeof c!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var i=function(){var s=arguments,u=e?e.apply(this,s):s[0],f=i.cache;if(f.has(u))return f.get(u);var m=c.apply(this,s);return i.cache=f.set(u,m)||f,m};return i.cache=new(Pc.Cache||yc),i}Pc.Cache=yc;const Fw=Pc,zw=function(c){var e=Fw(c,function(s){return i.size===500&&i.clear(),s}),i=e.cache;return e};var am=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rl=/\\(\\)?/g,Uw=zw(function(c){var e=[];return c.charCodeAt(0)===46&&e.push(""),c.replace(am,function(i,s,u,f){e.push(u?f.replace(Rl,"$1"):s||i)}),e});const qw=Uw,Vw=function(c,e){for(var i=-1,s=c==null?0:c.length,u=Array(s);++i<s;)u[i]=e(c[i],i,c);return u};var lm=st?st.prototype:void 0,Vd=lm?lm.toString:void 0;const Lb=function c(e){if(typeof e=="string")return e;if(Ft(e))return Vw(e,c)+"";if(qd(e))return Vd?Vd.call(e):"";var i=e+"";return i=="0"&&1/e==-1/0?"-0":i},hf=function(c){return c==null?"":Lb(c)},Oc=function(c,e){return Ft(c)?c:Nu(c,e)?[c]:qw(hf(c))},cm=function(c){var e=c==null?0:c.length;return e?c[e-1]:void 0},xa=function(c){if(typeof c=="string"||qd(c))return c;var e=c+"";return e=="0"&&1/c==-1/0?"-0":e},ff=function(c,e){for(var i=0,s=(e=Oc(e,c)).length;c!=null&&i<s;)c=c[xa(e[i++])];return i&&i==s?c:void 0},jb=function(c,e,i){var s=-1,u=c.length;e<0&&(e=-e>u?0:u+e),(i=i>u?u:i)<0&&(i+=u),u=e>i?0:i-e>>>0,e>>>=0;for(var f=Array(u);++s<u;)f[s]=c[s+e];return f},pf=function(c,e){return e.length<2?c:ff(c,jb(e,0,-1))},Bb=function(c,e){return e=Oc(e,c),(c=pf(c,e))==null||delete c[xa(cm(e))]},um=function(c,e){return c==null||Bb(c,e)},ds=function(c,e,i){var s=c==null?void 0:ff(c,e);return s===void 0?i:s},Rb=function(c,e,i,s){if(!we(c))return c;for(var u=-1,f=(e=Oc(e,c)).length,m=f-1,w=c;w!=null&&++u<f;){var A=xa(e[u]),S=i;if(A==="__proto__"||A==="constructor"||A==="prototype")return c;if(u!=m){var T=w[A];(S=void 0)==void 0&&(S=we(T)?T:fu(e[u+1])?[]:{})}_l(w,A,S),w=w[A]}return c},Fb=function(c,e,i){return c==null?c:Rb(c,e,i)};class dm{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const i=function(s){let u=null,f=0,m=0,w=null;const A=new Map;if(s==="")return A;s.charAt(s.length-1)!=";"&&(s+=";");for(let S=0;S<s.length;S++){const T=s.charAt(S);if(u===null)switch(T){case":":w||(w=s.substr(f,S-f),m=S+1);break;case'"':case"'":u=T;break;case";":{const O=s.substr(m,S-m);w&&A.set(w.trim(),O.trim()),w=null,f=S+1;break}}else T===u&&(u=null)}return A}(e);for(const[s,u]of i)this._styleProcessor.toNormalizedForm(s,u,this._styles)}has(e){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(i)}set(e,i){if(we(e))for(const[s,u]of Object.entries(e))this._styleProcessor.toNormalizedForm(s,u,this._styles);else this._styleProcessor.toNormalizedForm(e,i,this._styles)}remove(e){const i=Fl(e);um(this._styles,i),delete this._styles[e],this._cleanEmptyObjectsOnPath(i)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!we(this._styles[e]))return this._styles[e];const i=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(i)?i[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([i])=>i)}clear(){this._styles={}}getStylesEntries(){const e=[],i=Object.keys(this._styles);for(const s of i)e.push(...this._styleProcessor.getReducedForm(s,this._styles));return e}_cleanEmptyObjectsOnPath(e){const i=e.split(".");if(!(i.length>1))return;const s=i.splice(0,i.length-1).join("."),u=ds(this._styles,s);u&&!Object.keys(u).length&&this.remove(s)}}class zb{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,i,s){if(we(i))hm(s,Fl(e),i);else if(this._normalizers.has(e)){const u=this._normalizers.get(e),{path:f,value:m}=u(i);hm(s,f,m)}else hm(s,e,i)}getNormalized(e,i){if(!e)return Su({},i);if(i[e]!==void 0)return i[e];if(this._extractors.has(e)){const s=this._extractors.get(e);if(typeof s=="string")return ds(i,s);const u=s(e,i);if(u)return u}return ds(i,Fl(e))}getReducedForm(e,i){const s=this.getNormalized(e,i);return s===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(s):[[e,s]]}getStyleNames(e){const i=Array.from(this._consumables.keys()).filter(u=>{const f=this.getNormalized(u,e);return f&&typeof f=="object"?Object.keys(f).length:f}),s=new Set([...i,...Object.keys(e)]);return Array.from(s)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,i){this._normalizers.set(e,i)}setExtractor(e,i){this._extractors.set(e,i)}setReducer(e,i){this._reducers.set(e,i)}setStyleRelation(e,i){this._mapStyleNames(e,i);for(const s of i)this._mapStyleNames(s,[e])}_mapStyleNames(e,i){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...i)}}function Fl(c){return c.replace("-",".")}function hm(c,e,i){let s=i;we(i)&&(s=Su({},ds(c,e),i)),Fb(c,e,s)}class Po extends Ca{constructor(e,i,s,u){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=i,this._attrs=function(f){const m=ya(f);for(const[w,A]of m)A===null?m.delete(w):typeof A!="string"&&m.set(w,String(A));return m}(s),this._children=[],u&&this._insertChild(0,u),this._classes=new Set,this._attrs.has("class")){const f=this._attrs.get("class");Ub(this._classes,f),this._attrs.delete("class")}this._styles=new dm(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const i=this._styles.toString();return i==""?void 0:i}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Po))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[i,s]of this._attrs)if(!e._attrs.has(i)||e._attrs.get(i)!==s)return!1;for(const i of this._classes)if(!e._classes.has(i))return!1;for(const i of this._styles.getStyleNames())if(!e._styles.has(i)||e._styles.getAsString(i)!==this._styles.getAsString(i))return!1;return!0}hasClass(...e){for(const i of e)if(!this._classes.has(i))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const i of e)if(!this._styles.has(i))return!1;return!0}findAncestor(...e){const i=new po(...e);let s=this.parent;for(;s&&!s.is("documentFragment");){if(i.match(s))return s;s=s.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),i=this._styles.toString(),s=Array.from(this._attrs).map(u=>`${u[0]}="${u[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(i?` style="${i}"`:"")+(s==""?"":` ${s}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const i=[];if(e)for(const u of this.getChildren())i.push(u._clone(e));const s=new this.constructor(this.document,this.name,this._attrs,i);return s._classes=new Set(this._classes),s._styles.set(this._styles.getNormalized()),s._customProperties=new Map(this._customProperties),s.getFillerOffset=this.getFillerOffset,s._unsafeAttributesToRender=this._unsafeAttributesToRender,s}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,i){this._fireChange("children",this);let s=0;const u=function(f,m){return typeof m=="string"?[new xn(f,m)]:(Ee(m)||(m=[m]),Array.from(m).map(w=>typeof w=="string"?new xn(f,w):w instanceof fo?new xn(f,w.data):w))}(this.document,i);for(const f of u)f.parent!==null&&f._remove(),f.parent=this,f.document=this.document,this._children.splice(e,0,f),e++,s++;return s}_removeChildren(e,i=1){this._fireChange("children",this);for(let s=e;s<e+i;s++)this._children[s].parent=null;return this._children.splice(e,i)}_setAttribute(e,i){const s=String(i);this._fireChange("attributes",this),e=="class"?Ub(this._classes,s):e=="style"?this._styles.setTo(s):this._attrs.set(e,s)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const i of rr(e))this._classes.add(i)}_removeClass(e){this._fireChange("attributes",this);for(const i of rr(e))this._classes.delete(i)}_setStyle(e,i){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,i)}_removeStyle(e){this._fireChange("attributes",this);for(const i of rr(e))this._styles.remove(i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function Ub(c,e){const i=e.split(/\s+/);c.clear(),i.forEach(s=>c.add(s))}Po.prototype.is=function(c,e){return e?e===this.name&&(c==="element"||c==="view:element"):c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Mu extends Po{constructor(e,i,s,u){super(e,i,s,u),this.getFillerOffset=$w}}function $w(){const c=[...this.getChildren()],e=c[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const i of c)if(!i.is("uiElement"))return null;return this.childCount}Mu.prototype.is=function(c,e){return e?e===this.name&&(c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class zl extends Ue(Mu){constructor(e,i,s,u){super(e,i,s,u),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",f=>f&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}zl.prototype.is=function(c,e){return e?e===this.name&&(c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};const mf=Symbol("rootName");class $d extends zl{constructor(e,i){super(e,i),this.rootName="main"}get rootName(){return this.getCustomProperty(mf)}set rootName(e){this._setCustomProperty(mf,e)}set _name(e){this.name=e}}$d.prototype.is=function(c,e){return e?e===this.name&&(c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class mo{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new M("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new M("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Dt._createAt(e.startPosition):this._position=Dt._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let i,s;do s=this.position,i=this.next();while(!i.done&&e(i.value));i.done||(this._position=s)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const i=this.position,s=e.parent;if(s.parent===null&&e.offset===s.childCount)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let u;if(s instanceof xn){if(e.isAtEnd)return this._position=Dt._createAfter(s),this._next();u=s.data[e.offset]}else u=s.getChild(e.offset);if(u instanceof Po){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new Dt(u,0);return this._position=e,this._formatReturnValue("elementStart",u,i,e,1)}if(u instanceof xn){if(this.singleCharacters)return e=new Dt(u,0),this._position=e,this._next();let f,m=u.data.length;return u==this._boundaryEndParent?(m=this.boundaries.end.offset,f=new fo(u,0,m),e=Dt._createAfter(f)):(f=new fo(u,0,u.data.length),e.offset++),this._position=e,this._formatReturnValue("text",f,i,e,m)}if(typeof u=="string"){let f;this.singleCharacters?f=1:f=(s===this._boundaryEndParent?this.boundaries.end.offset:s.data.length)-e.offset;const m=new fo(s,e.offset,f);return e.offset+=f,this._position=e,this._formatReturnValue("text",m,i,e,f)}return e=Dt._createAfter(s),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",s,i,e)}_previous(){let e=this.position.clone();const i=this.position,s=e.parent;if(s.parent===null&&e.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let u;if(s instanceof xn){if(e.isAtStart)return this._position=Dt._createBefore(s),this._previous();u=s.data[e.offset-1]}else u=s.getChild(e.offset-1);if(u instanceof Po)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",u,i,e,1)):(e=new Dt(u,u.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",u,i,e));if(u instanceof xn){if(this.singleCharacters)return e=new Dt(u,u.data.length),this._position=e,this._previous();let f,m=u.data.length;if(u==this._boundaryStartParent){const w=this.boundaries.start.offset;f=new fo(u,w,u.data.length-w),m=f.data.length,e=Dt._createBefore(f)}else f=new fo(u,0,u.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",f,i,e,m)}if(typeof u=="string"){let f;if(this.singleCharacters)f=1;else{const w=s===this._boundaryStartParent?this.boundaries.start.offset:0;f=e.offset-w}e.offset-=f;const m=new fo(s,e.offset,f);return this._position=e,this._formatReturnValue("text",m,i,e,f)}return e=Dt._createBefore(s),this._position=e,this._formatReturnValue("elementStart",s,i,e,1)}_formatReturnValue(e,i,s,u,f){return i instanceof fo&&(i.offsetInText+i.data.length==i.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?s=Dt._createAfter(i.textNode):(u=Dt._createAfter(i.textNode),this._position=u)),i.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?s=Dt._createBefore(i.textNode):(u=Dt._createBefore(i.textNode),this._position=u))),{done:!1,value:{type:e,item:i,previousPosition:s,nextPosition:u,length:f}}}}class Dt extends _a{constructor(e,i){super(),this.parent=e,this.offset=i}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof zl);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const i=Dt._createAt(this),s=i.offset+e;return i.offset=s<0?0:s,i}getLastMatchingPosition(e,i={}){i.startPosition=this;const s=new mo(i);return s.skip(e),s.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const i=this.getAncestors(),s=e.getAncestors();let u=0;for(;i[u]==s[u]&&i[u];)u++;return u===0?null:i[u-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const i=this.parent.is("node")?this.parent.getPath():[],s=e.parent.is("node")?e.parent.getPath():[];i.push(this.offset),s.push(e.offset);const u=Te(i,s);switch(u){case"prefix":return"before";case"extension":return"after";default:return i[u]<s[u]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new mo(e)}clone(){return new Dt(this.parent,this.offset)}static _createAt(e,i){if(e instanceof Dt)return new this(e.parent,e.offset);{const s=e;if(i=="end")i=s.is("$text")?s.data.length:s.childCount;else{if(i=="before")return this._createBefore(s);if(i=="after")return this._createAfter(s);if(i!==0&&!i)throw new M("view-createpositionat-offset-required",s)}return new Dt(s,i)}}static _createAfter(e){if(e.is("$textProxy"))return new Dt(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new M("view-position-after-root",e,{root:e});return new Dt(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Dt(e.textNode,e.offsetInText);if(!e.parent)throw new M("view-position-before-root",e,{root:e});return new Dt(e.parent,e.index)}}Dt.prototype.is=function(c){return c==="position"||c==="view:position"};class Yt extends _a{constructor(e,i=null){super(),this.start=e.clone(),this.end=i?i.clone():e.clone()}*[Symbol.iterator](){yield*new mo({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Lc,{direction:"backward"}),i=this.end.getLastMatchingPosition(Lc);return e.parent.is("$text")&&e.isAtStart&&(e=Dt._createBefore(e.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=Dt._createAfter(i.parent)),new Yt(e,i)}getTrimmed(){let e=this.start.getLastMatchingPosition(Lc);if(e.isAfter(this.end)||e.isEqual(this.end))return new Yt(e,e);let i=this.end.getLastMatchingPosition(Lc,{direction:"backward"});const s=e.nodeAfter,u=i.nodeBefore;return s&&s.is("$text")&&(e=new Dt(s,0)),u&&u.is("$text")&&(i=new Dt(u,u.data.length)),new Yt(e,i)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const s=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),u=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return s&&u}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new Yt(this.start,e.start)),this.containsPosition(e.end)&&i.push(new Yt(e.end,this.end))):i.push(this.clone()),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,s=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(s=e.end),new Yt(i,s)}return null}getWalker(e={}){return e.boundaries=this,new mo(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,i=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(i=this.end.parent.previousSibling),e&&e.is("element")&&e===i?e:null}clone(){return new Yt(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new mo(e);for(const s of i)yield s.item}*getPositions(e={}){e.boundaries=this;const i=new mo(e);yield i.position;for(const s of i)yield s.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,i,s,u){return new this(new Dt(e,i),new Dt(s,u))}static _createFromPositionAndShift(e,i){const s=e,u=e.getShiftedBy(i);return i>0?new this(s,u):new this(u,s)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const i=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Dt._createBefore(e),i)}}function Lc(c){return!(!c.item.is("attributeElement")&&!c.item.is("uiElement"))}Yt.prototype.is=function(c){return c==="range"||c==="view:range"};class es extends oe(_a){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?e.clone():null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let s=!1;for(const u of e._ranges)if(i.isEqual(u)){s=!0;break}if(!s)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const i=Me(this.getRanges());if(i!=Me(e.getRanges()))return!1;if(i==0)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let u=!1;for(let f of e.getRanges())if(f=f.getTrimmed(),s.start.isEqual(f.start)&&s.end.isEqual(f.end)){u=!0;break}if(!u)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[i,s,u]=e;if(typeof s=="object"&&(u=s,s=void 0),i===null)this._setRanges([]),this._setFakeOptions(u);else if(i instanceof es||i instanceof gf)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof Yt)this._setRanges([i],u&&u.backward),this._setFakeOptions(u);else if(i instanceof Dt)this._setRanges([new Yt(i)]),this._setFakeOptions(u);else if(i instanceof Ca){const f=!!u&&!!u.backward;let m;if(s===void 0)throw new M("view-selection-setto-required-second-parameter",this);m=s=="in"?Yt._createIn(i):s=="on"?Yt._createOn(i):new Yt(Dt._createAt(i,s)),this._setRanges([m],f),this._setFakeOptions(u)}else{if(!Ee(i))throw new M("view-selection-setto-not-selectable",this);this._setRanges(i,u&&u.backward),this._setFakeOptions(u)}this.fire("change")}setFocus(e,i){if(this.anchor===null)throw new M("view-selection-setfocus-no-ranges",this);const s=Dt._createAt(e,i);if(s.compareWith(this.focus)=="same")return;const u=this.anchor;this._ranges.pop(),s.compareWith(u)=="before"?this._addRange(new Yt(s,u),!0):this._addRange(new Yt(u,s)),this.fire("change")}_setRanges(e,i=!1){e=Array.from(e),this._ranges=[];for(const s of e)this._addRange(s);this._lastRangeBackward=!!i}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,i=!1){if(!(e instanceof Yt))throw new M("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!i}_pushRange(e){for(const i of this._ranges)if(e.isIntersecting(i))throw new M("view-selection-range-intersects",this,{addedRange:e,intersectingRange:i});this._ranges.push(new Yt(e.start,e.end))}}es.prototype.is=function(c){return c==="selection"||c==="view:selection"};class gf extends oe(_a){constructor(...e){super(),this._selection=new es,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,i){this._selection.setFocus(e,i)}}gf.prototype.is=function(c){return c==="selection"||c=="documentSelection"||c=="view:selection"||c=="view:documentSelection"};class Pu extends E{constructor(e,i,s){super(e,i),this.startRange=s,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Hd=Symbol("bubbling contexts");function Wd(c){return class extends c{fire(e,...i){try{const s=e instanceof E?e:new E(this,e),u=Hw(this);if(!u.size)return;if(fm(s,"capturing",this),bf(u,"$capture",s,...i))return s.return;const f=s.startRange||this.selection.getFirstRange(),m=f?f.getContainedElement():null,w=!!m&&!!a2(u,m);let A=m||function(S){if(!S)return null;const T=S.start.parent,O=S.end.parent,U=T.getPath(),G=O.getPath();return U.length>G.length?T:O}(f);if(fm(s,"atTarget",A),!w){if(bf(u,"$text",s,...i))return s.return;fm(s,"bubbling",A)}for(;A;){if(A.is("rootElement")){if(bf(u,"$root",s,...i))return s.return}else if(A.is("element")&&bf(u,A.name,s,...i))return s.return;if(bf(u,A,s,...i))return s.return;A=A.parent,fm(s,"bubbling",A)}return fm(s,"bubbling",this),bf(u,"$document",s,...i),s.return}catch(s){M.rethrowUnexpectedError(s,this)}}_addEventListener(e,i,s){const u=rr(s.context||"$document"),f=Hw(this);for(const m of u){let w=f.get(m);w||(w=new(oe()),f.set(m,w)),this.listenTo(w,e,i,s)}}_removeEventListener(e,i){const s=Hw(this);for(const u of s.values())this.stopListening(u,e,i)}}}{const c=Wd(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Wd[e]=c.prototype[e]})}function fm(c,e,i){c instanceof Pu&&(c._eventPhase=e,c._currentTarget=i)}function bf(c,e,i,...s){const u=typeof e=="string"?c.get(e):a2(c,e);return!!u&&(u.fire(i,...s),i.stop.called)}function a2(c,e){for(const[i,s]of c)if(typeof i=="function"&&i(e))return s;return null}function Hw(c){return c[Hd]||(c[Hd]=new Map),c[Hd]}class qb extends Wd(Ue()){constructor(e){super(),this._postFixers=new Set,this.selection=new gf,this.roots=new Bs({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let i=!1;do for(const s of this._postFixers)if(i=s(e),i)break;while(i)}}class Gd extends Po{constructor(e,i,s,u){super(e,i,s,u),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=xB}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new M("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const i=super._clone(e);return i._priority=this._priority,i._id=this._id,i}}function xB(){if(Ww(this))return null;let c=this.parent;for(;c&&c.is("attributeElement");){if(Ww(c)>1)return null;c=c.parent}return!c||Ww(c)>1?null:this.childCount}function Ww(c){return Array.from(c.getChildren()).filter(e=>!e.is("uiElement")).length}Gd.DEFAULT_PRIORITY=10,Gd.prototype.is=function(c,e){return e?e===this.name&&(c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"):c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Gw extends Po{constructor(e,i,s,u){super(e,i,s,u),this.getFillerOffset=SB}_insertChild(e,i){if(i&&(i instanceof Ca||Array.from(i).length>0))throw new M("view-emptyelement-cannot-add",[this,i]);return 0}}function SB(){return null}Gw.prototype.is=function(c,e){return e?e===this.name&&(c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"):c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Vb extends Po{constructor(e,i,s,u){super(e,i,s,u),this.getFillerOffset=DB}_insertChild(e,i){if(i&&(i instanceof Ca||Array.from(i).length>0))throw new M("view-uielement-cannot-add",[this,i]);return 0}render(e,i){return this.toDomElement(e)}toDomElement(e){const i=e.createElement(this.name);for(const s of this.getAttributeKeys())i.setAttribute(s,this.getAttribute(s));return i}}function EB(c){c.document.on("arrowKey",(e,i)=>function(s,u,f){if(u.keyCode==Pn.arrowright){const m=u.domTarget.ownerDocument.defaultView.getSelection(),w=m.rangeCount==1&&m.getRangeAt(0).collapsed;if(w||u.shiftKey){const A=m.focusNode,S=m.focusOffset,T=f.domPositionToView(A,S);if(T===null)return;let O=!1;const U=T.getLastMatchingPosition(G=>(G.item.is("uiElement")&&(O=!0),!(!G.item.is("uiElement")&&!G.item.is("attributeElement"))));if(O){const G=f.viewPositionToDom(U);w?m.collapse(G.parent,G.offset):m.extend(G.parent,G.offset)}}}}(0,i,c.domConverter),{priority:"low"})}function DB(){return null}Vb.prototype.is=function(c,e){return e?e===this.name&&(c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"):c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Yw extends Po{constructor(e,i,s,u){super(e,i,s,u),this.getFillerOffset=IB}_insertChild(e,i){if(i&&(i instanceof Ca||Array.from(i).length>0))throw new M("view-rawelement-cannot-add",[this,i]);return 0}render(e,i){}}function IB(){return null}Yw.prototype.is=function(c,e){return e?e===this.name&&(c==="rawElement"||c==="view:rawElement"||c==="element"||c==="view:element"):c==="rawElement"||c==="view:rawElement"||c===this.name||c==="view:"+this.name||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Yd extends oe(_a){constructor(e,i){super(),this._children=[],this._customProperties=new Map,this.document=e,i&&this._insertChild(0,i)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,i){this._fireChange("children",this);let s=0;const u=function(f,m){return typeof m=="string"?[new xn(f,m)]:(Ee(m)||(m=[m]),Array.from(m).map(w=>typeof w=="string"?new xn(f,w):w instanceof fo?new xn(f,w.data):w))}(this.document,i);for(const f of u)f.parent!==null&&f._remove(),f.parent=this,this._children.splice(e,0,f),e++,s++;return s}_removeChildren(e,i=1){this._fireChange("children",this);for(let s=e;s<e+i;s++)this._children[s].parent=null;return this._children.splice(e,i)}_fireChange(e,i){this.fire("change:"+e,i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Yd.prototype.is=function(c){return c==="documentFragment"||c==="view:documentFragment"};class l2{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,i){this.document.selection._setFocus(e,i)}createDocumentFragment(e){return new Yd(this.document,e)}createText(e){return new xn(this.document,e)}createAttributeElement(e,i,s={}){const u=new Gd(this.document,e,i);return typeof s.priority=="number"&&(u._priority=s.priority),s.id&&(u._id=s.id),s.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),u}createContainerElement(e,i,s={},u={}){let f=null;Nn(s)?u=s:f=s;const m=new Mu(this.document,e,i,f);return u.renderUnsafeAttributes&&m._unsafeAttributesToRender.push(...u.renderUnsafeAttributes),m}createEditableElement(e,i,s={}){const u=new zl(this.document,e,i);return s.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),u}createEmptyElement(e,i,s={}){const u=new Gw(this.document,e,i);return s.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),u}createUIElement(e,i,s){const u=new Vb(this.document,e,i);return s&&(u.render=s),u}createRawElement(e,i,s,u={}){const f=new Yw(this.document,e,i);return s&&(f.render=s),u.renderUnsafeAttributes&&f._unsafeAttributesToRender.push(...u.renderUnsafeAttributes),f}setAttribute(e,i,s){s._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,s){Nn(e)&&s===void 0?i._setStyle(e):s._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,s){s._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}breakAttributes(e){return e instanceof Dt?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const i=e.parent;if(!i.is("containerElement"))throw new M("view-writer-break-non-container-element",this.document);if(!i.parent)throw new M("view-writer-break-root",this.document);if(e.isAtStart)return Dt._createBefore(i);if(!e.isAtEnd){const s=i._clone(!1);this.insert(Dt._createAfter(i),s);const u=new Yt(e,Dt._createAt(i,"end")),f=new Dt(s,0);this.move(u,f)}return Dt._createAfter(i)}mergeAttributes(e){const i=e.offset,s=e.parent;if(s.is("$text"))return e;if(s.is("attributeElement")&&s.childCount===0){const m=s.parent,w=s.index;return s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new Dt(m,w))}const u=s.getChild(i-1),f=s.getChild(i);if(!u||!f)return e;if(u.is("$text")&&f.is("$text"))return u2(u,f);if(u.is("attributeElement")&&f.is("attributeElement")&&u.isSimilar(f)){const m=u.childCount;return u._appendChild(f.getChildren()),f._remove(),this._removeFromClonedElementsGroup(f),this.mergeAttributes(new Dt(u,m))}return e}mergeContainers(e){const i=e.nodeBefore,s=e.nodeAfter;if(!(i&&s&&i.is("containerElement")&&s.is("containerElement")))throw new M("view-writer-merge-containers-invalid-position",this.document);const u=i.getChild(i.childCount-1),f=u instanceof xn?Dt._createAt(u,"end"):Dt._createAt(i,"end");return this.move(Yt._createIn(s),Dt._createAt(i,"end")),this.remove(Yt._createOn(s)),f}insert(e,i){d2(i=Ee(i)?[...i]:[i],this.document);const s=i.reduce((m,w)=>{const A=m[m.length-1],S=!w.is("uiElement");return A&&A.breakAttributes==S?A.nodes.push(w):m.push({breakAttributes:S,nodes:[w]}),m},[]);let u=null,f=e;for(const{nodes:m,breakAttributes:w}of s){const A=this._insertNodes(f,m,w);u||(u=A.start),f=A.end}return u?new Yt(u,f):new Yt(e)}remove(e){const i=e instanceof Yt?e:Yt._createOn(e);if(pm(i,this.document),i.isCollapsed)return new Yd(this.document);const{start:s,end:u}=this._breakAttributesRange(i,!0),f=s.parent,m=u.offset-s.offset,w=f._removeChildren(s.offset,m);for(const S of w)this._removeFromClonedElementsGroup(S);const A=this.mergeAttributes(s);return i.start=A,i.end=A.clone(),new Yd(this.document,w)}clear(e,i){pm(e,this.document);const s=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const u of s){const f=u.item;let m;if(f.is("element")&&i.isSimilar(f))m=Yt._createOn(f);else if(!u.nextPosition.isAfter(e.start)&&f.is("$textProxy")){const w=f.getAncestors().find(A=>A.is("element")&&i.isSimilar(A));w&&(m=Yt._createIn(w))}m&&(m.end.isAfter(e.end)&&(m.end=e.end),m.start.isBefore(e.start)&&(m.start=e.start),this.remove(m))}}move(e,i){let s;if(i.isAfter(e.end)){const u=(i=this._breakAttributes(i,!0)).parent,f=u.childCount;e=this._breakAttributesRange(e,!0),s=this.remove(e),i.offset+=u.childCount-f}else s=this.remove(e);return this.insert(i,s)}wrap(e,i){if(!(i instanceof Gd))throw new M("view-writer-wrap-invalid-attribute",this.document);if(pm(e,this.document),e.isCollapsed){let u=e.start;u.parent.is("element")&&(s=u.parent,!Array.from(s.getChildren()).some(m=>!m.is("uiElement")))&&(u=u.getLastMatchingPosition(m=>m.item.is("uiElement"))),u=this._wrapPosition(u,i);const f=this.document.selection;return f.isCollapsed&&f.getFirstPosition().isEqual(e.start)&&this.setSelection(u),new Yt(u)}return this._wrapRange(e,i);var s}unwrap(e,i){if(!(i instanceof Gd))throw new M("view-writer-unwrap-invalid-attribute",this.document);if(pm(e,this.document),e.isCollapsed)return e;const{start:s,end:u}=this._breakAttributesRange(e,!0),f=s.parent,m=this._unwrapChildren(f,s.offset,u.offset,i),w=this.mergeAttributes(m.start);w.isEqual(m.start)||m.end.offset--;const A=this.mergeAttributes(m.end);return new Yt(w,A)}rename(e,i){const s=new Mu(this.document,e,i.getAttributes());return this.insert(Dt._createAfter(i),s),this.move(Yt._createIn(i),Dt._createAt(s,0)),this.remove(Yt._createOn(i)),s}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,i){return Dt._createAt(e,i)}createPositionAfter(e){return Dt._createAfter(e)}createPositionBefore(e){return Dt._createBefore(e)}createRange(e,i){return new Yt(e,i)}createRangeOn(e){return Yt._createOn(e)}createRangeIn(e){return Yt._createIn(e)}createSelection(...e){return new es(...e)}createSlot(e="children"){if(!this._slotFactory)throw new M("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,i,s){let u,f;if(u=s?Kw(e):e.parent.is("$text")?e.parent.parent:e.parent,!u)throw new M("view-writer-invalid-position-container",this.document);f=s?this._breakAttributes(e,!0):e.parent.is("$text")?Qw(e):e;const m=u._insertChild(f.offset,i);for(const T of i)this._addToClonedElementsGroup(T);const w=f.getShiftedBy(m),A=this.mergeAttributes(f);A.isEqual(f)||w.offset--;const S=this.mergeAttributes(w);return new Yt(A,S)}_wrapChildren(e,i,s,u){let f=i;const m=[];for(;f<s;){const A=e.getChild(f),S=A.is("$text"),T=A.is("attributeElement");if(T&&this._wrapAttributeElement(u,A))m.push(new Dt(e,f));else if(S||!T||TB(u,A)){const O=u._clone();A._remove(),O._appendChild(A),e._insertChild(f,O),this._addToClonedElementsGroup(O),m.push(new Dt(e,f))}else this._wrapChildren(A,0,A.childCount,u);f++}let w=0;for(const A of m)A.offset-=w,A.offset!=i&&(this.mergeAttributes(A).isEqual(A)||(w++,s--));return Yt._createFromParentsAndOffsets(e,i,e,s)}_unwrapChildren(e,i,s,u){let f=i;const m=[];for(;f<s;){const A=e.getChild(f);if(A.is("attributeElement"))if(A.isSimilar(u)){const S=A.getChildren(),T=A.childCount;A._remove(),e._insertChild(f,S),this._removeFromClonedElementsGroup(A),m.push(new Dt(e,f),new Dt(e,f+T)),f+=T,s+=T-1}else this._unwrapAttributeElement(u,A)?(m.push(new Dt(e,f),new Dt(e,f+1)),f++):(this._unwrapChildren(A,0,A.childCount,u),f++);else f++}let w=0;for(const A of m)A.offset-=w,!(A.offset==i||A.offset==s)&&(this.mergeAttributes(A).isEqual(A)||(w++,s--));return Yt._createFromParentsAndOffsets(e,i,e,s)}_wrapRange(e,i){const{start:s,end:u}=this._breakAttributesRange(e,!0),f=s.parent,m=this._wrapChildren(f,s.offset,u.offset,i),w=this.mergeAttributes(m.start);w.isEqual(m.start)||m.end.offset--;const A=this.mergeAttributes(m.end);return new Yt(w,A)}_wrapPosition(e,i){if(i.isSimilar(e.parent))return c2(e.clone());e.parent.is("$text")&&(e=Qw(e));const s=this.createAttributeElement("_wrapPosition-fake-element");s._priority=Number.POSITIVE_INFINITY,s.isSimilar=()=>!1,e.parent._insertChild(e.offset,s);const u=new Yt(e,e.getShiftedBy(1));this.wrap(u,i);const f=new Dt(s.parent,s.index);s._remove();const m=f.nodeBefore,w=f.nodeAfter;return m instanceof xn&&w instanceof xn?u2(m,w):c2(f)}_wrapAttributeElement(e,i){if(!h2(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const s of e.getAttributeKeys())if(s!=="class"&&s!=="style"&&i.hasAttribute(s)&&i.getAttribute(s)!==e.getAttribute(s))return!1;for(const s of e.getStyleNames())if(i.hasStyle(s)&&i.getStyle(s)!==e.getStyle(s))return!1;for(const s of e.getAttributeKeys())s!=="class"&&s!=="style"&&(i.hasAttribute(s)||this.setAttribute(s,e.getAttribute(s),i));for(const s of e.getStyleNames())i.hasStyle(s)||this.setStyle(s,e.getStyle(s),i);for(const s of e.getClassNames())i.hasClass(s)||this.addClass(s,i);return!0}_unwrapAttributeElement(e,i){if(!h2(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const s of e.getAttributeKeys())if(s!=="class"&&s!=="style"&&(!i.hasAttribute(s)||i.getAttribute(s)!==e.getAttribute(s)))return!1;if(!i.hasClass(...e.getClassNames()))return!1;for(const s of e.getStyleNames())if(!i.hasStyle(s)||i.getStyle(s)!==e.getStyle(s))return!1;for(const s of e.getAttributeKeys())s!=="class"&&s!=="style"&&this.removeAttribute(s,i);return this.removeClass(Array.from(e.getClassNames()),i),this.removeStyle(Array.from(e.getStyleNames()),i),!0}_breakAttributesRange(e,i=!1){const s=e.start,u=e.end;if(pm(e,this.document),e.isCollapsed){const A=this._breakAttributes(e.start,i);return new Yt(A,A)}const f=this._breakAttributes(u,i),m=f.parent.childCount,w=this._breakAttributes(s,i);return f.offset+=f.parent.childCount-m,new Yt(w,f)}_breakAttributes(e,i=!1){const s=e.offset,u=e.parent;if(e.parent.is("emptyElement"))throw new M("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new M("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new M("view-writer-cannot-break-raw-element",this.document);if(!i&&u.is("$text")&&Jw(u.parent)||Jw(u))return e.clone();if(u.is("$text"))return this._breakAttributes(Qw(e),i);if(s==u.childCount){const f=new Dt(u.parent,u.index+1);return this._breakAttributes(f,i)}if(s===0){const f=new Dt(u.parent,u.index);return this._breakAttributes(f,i)}{const f=u.index+1,m=u._clone();u.parent._insertChild(f,m),this._addToClonedElementsGroup(m);const w=u.childCount-s,A=u._removeChildren(s,w);m._appendChild(A);const S=new Dt(u.parent,f);return this._breakAttributes(S,i)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const u of e.getChildren())this._addToClonedElementsGroup(u);const i=e.id;if(!i)return;let s=this._cloneGroups.get(i);s||(s=new Set,this._cloneGroups.set(i,s)),s.add(e),e._clonesGroup=s}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const u of e.getChildren())this._removeFromClonedElementsGroup(u);const i=e.id;if(!i)return;const s=this._cloneGroups.get(i);s&&s.delete(e)}}function Kw(c){let e=c.parent;for(;!Jw(e);){if(!e)return;e=e.parent}return e}function TB(c,e){return c.priority<e.priority||!(c.priority>e.priority)&&c.getIdentity()<e.getIdentity()}function c2(c){const e=c.nodeBefore;if(e&&e.is("$text"))return new Dt(e,e.data.length);const i=c.nodeAfter;return i&&i.is("$text")?new Dt(i,0):c}function Qw(c){if(c.offset==c.parent.data.length)return new Dt(c.parent.parent,c.parent.index+1);if(c.offset===0)return new Dt(c.parent.parent,c.parent.index);const e=c.parent.data.slice(c.offset);return c.parent._data=c.parent.data.slice(0,c.offset),c.parent.parent._insertChild(c.parent.index+1,new xn(c.root.document,e)),new Dt(c.parent.parent,c.parent.index+1)}function u2(c,e){const i=c.data.length;return c._data+=e.data,e._remove(),new Dt(c,i)}const NB=[xn,Gd,Mu,Gw,Yw,Vb];function d2(c,e){for(const i of c){if(!NB.some(s=>i instanceof s))throw new M("view-writer-insert-invalid-node-type",e);i.is("$text")||d2(i.getChildren(),e)}}function Jw(c){return c&&(c.is("containerElement")||c.is("documentFragment"))}function pm(c,e){const i=Kw(c.start),s=Kw(c.end);if(!i||!s||i!==s)throw new M("view-writer-invalid-range-container",e)}function h2(c,e){return c.id===null&&e.id===null}const f2=c=>c.createTextNode(" "),p2=c=>{const e=c.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},m2=c=>{const e=c.createElement("br");return e.dataset.ckeFiller="true",e},el=7,mm="⁠".repeat(el);function Rs(c){return typeof c=="string"?c.substr(0,el)===mm:nr(c)&&c.data.substr(0,el)===mm}function kf(c){return c.data.length==el&&Rs(c)}function g2(c){const e=typeof c=="string"?c:c.data;return Rs(c)?e.slice(el):e}function MB(c,e){if(e.keyCode==Pn.arrowleft){const i=e.domTarget.ownerDocument.defaultView.getSelection();if(i.rangeCount==1&&i.getRangeAt(0).collapsed){const s=i.getRangeAt(0).startContainer,u=i.getRangeAt(0).startOffset;Rs(s)&&u<=el&&i.collapse(s,0)}}}var b2=a(8264),PB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(b2.A,PB),b2.A.locals;class OB extends Ue(){constructor(e,i){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=i,this.set("isFocused",!1),this.set("isSelecting",!1),b.isBlink&&!b.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,i){if(e==="text")this.domConverter.mapViewToDom(i.parent)&&this.markedTexts.add(i);else{if(!this.domConverter.mapViewToDom(i))return;if(e==="attributes")this.markedAttributes.add(i);else{if(e!=="children")throw new M("view-renderer-unknown-type",this);this.markedChildren.add(i)}}}render(){if(this.isComposing&&!b.isAndroid)return;let e=null;const i=!(b.isBlink&&!b.isAndroid)||!this.isSelecting;for(const s of this.markedChildren)this._updateChildrenMappings(s);i?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Dt._createBefore(e.parent)));for(const s of this.markedAttributes)this._updateAttrs(s);for(const s of this.markedChildren)this._updateChildren(s,{inlineFillerPosition:e});for(const s of this.markedTexts)!this.markedChildren.has(s.parent)&&this.domConverter.mapViewToDom(s.parent)&&this._updateText(s,{inlineFillerPosition:e});if(i)if(e){const s=this.domConverter.viewPositionToDom(e),u=s.parent.ownerDocument;Rs(s.parent)?this._inlineFiller=s.parent:this._inlineFiller=k2(u,s.parent,s.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const s=Array.from(i.childNodes),u=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),f=this._diffNodeLists(s,u),m=this._findUpdateActions(f,s,u,LB);if(m.indexOf("update")!==-1){const w={equal:0,insert:0,delete:0};for(const A of m)if(A==="update"){const S=w.equal+w.insert,T=w.equal+w.delete,O=e.getChild(S);!O||O.is("uiElement")||O.is("rawElement")||this._updateElementMappings(O,s[T]),sf(u[S]),w.equal++}else w[A]++}}_updateElementMappings(e,i){this.domConverter.unbindDomElement(i),this.domConverter.bindElements(i,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Dt._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=this.domConverter.viewPositionToDom(e);return!!(i&&nr(i.parent)&&Rs(i.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Rs(e))throw new M("view-renderer-filler-was-lost",this);kf(e)?e.remove():e.data=e.data.substr(el),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=e.parent,s=e.offset;if(!this.domConverter.mapViewToDom(i.root)||!i.is("element")||!function(m){if(m.getAttribute("contenteditable")=="false")return!1;const w=m.findAncestor(A=>A.hasAttribute("contenteditable"));return!w||w.getAttribute("contenteditable")=="true"}(i))return!1;const u=e.nodeBefore,f=e.nodeAfter;return!(u instanceof xn||f instanceof xn)&&!!(s!==i.getFillerOffset()||u&&u.is("element","br"))&&(!b.isAndroid||!u&&!f)}_updateText(e,i){const s=this.domConverter.findCorrespondingDomText(e);let u=this.domConverter.viewToDom(e).data;const f=i.inlineFillerPosition;f&&f.parent==e.parent&&f.offset==e.index&&(u=mm+u),w2(s,u)}_updateAttrs(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const s=Array.from(i.attributes).map(f=>f.name),u=e.getAttributeKeys();for(const f of u)this.domConverter.setDomElementAttribute(i,f,e.getAttribute(f),e);for(const f of s)e.hasAttribute(f)||this.domConverter.removeDomElementAttribute(i,f)}_updateChildren(e,i){const s=this.domConverter.mapViewToDom(e);if(!s)return;if(b.isAndroid){let O=null;for(const U of Array.from(s.childNodes)){if(O&&nr(O)&&nr(U)){s.normalize();break}O=U}}const u=i.inlineFillerPosition,f=s.childNodes,m=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));u&&u.parent===e&&k2(s.ownerDocument,m,u.offset);const w=this._diffNodeLists(f,m),A=this._findUpdateActions(w,f,m,jB);let S=0;const T=new Set;for(const O of A)O==="delete"?(T.add(f[S]),sf(f[S])):O!=="equal"&&O!=="update"||S++;S=0;for(const O of A)O==="insert"?(Mo(s,S,m[S]),S++):O==="update"?(w2(f[S],m[S].data),S++):O==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(m[S])),S++);for(const O of T)O.parentNode||this.domConverter.unbindDomElement(O)}_diffNodeLists(e,i){return e=function(s,u){const f=Array.from(s);return f.length==0||!u||f[f.length-1]==u&&f.pop(),f}(e,this._fakeSelectionContainer),_(e,i,BB.bind(null,this.domConverter))}_findUpdateActions(e,i,s,u){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let f=[],m=[],w=[];const A={equal:0,insert:0,delete:0};for(const S of e)S==="insert"?w.push(s[A.equal+A.insert]):S==="delete"?m.push(i[A.equal+A.delete]):(f=f.concat(_(m,w,u).map(T=>T==="equal"?"update":T)),f.push("equal"),m=[],w=[]),A[S]++;return f.concat(_(m,w,u).map(S=>S==="equal"?"update":S))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const i of e.getChildren())this._markDescendantTextToSync(i)}}_updateSelection(){if(b.isBlink&&!b.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&b.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const i=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(m){const w=m.createElement("div");return w.className="ck-fake-selection-container",Object.assign(w.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),w.textContent=" ",w}(i));const s=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(s,this.selection),!this._fakeSelectionNeedsUpdate(e))return;s.parentElement&&s.parentElement==e||e.appendChild(s),s.textContent=this.selection.fakeSelectionLabel||" ";const u=i.getSelection(),f=i.createRange();u.removeAllRanges(),f.selectNodeContents(s),u.addRange(f)}_updateDomSelection(e){const i=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(i))return;const s=this.domConverter.viewPositionToDom(this.selection.anchor),u=this.domConverter.viewPositionToDom(this.selection.focus);i.setBaseAndExtent(s.parent,s.offset,u.parent,u.offset),b.isGecko&&function(f,m){let w=f.parent,A=f.offset;if(nr(w)&&kf(w)&&(A=Ml(w)+1,w=w.parentNode),w.nodeType!=Node.ELEMENT_NODE||A!=w.childNodes.length-1)return;const S=w.childNodes[A];S&&S.tagName=="BR"&&m.addRange(m.getRangeAt(0))}(u,i)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const i=e&&this.domConverter.domSelectionToView(e);return(!i||!this.selection.isEqual(i))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(i))}_fakeSelectionNeedsUpdate(e){const i=this._fakeSelectionContainer,s=e.ownerDocument.getSelection();return!i||i.parentElement!==e||s.anchorNode!==i&&!i.contains(s.anchorNode)||i.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const i=e.getSelection();if(i.rangeCount){const s=e.activeElement,u=this.domConverter.mapDomToView(s);s&&u&&i.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function k2(c,e,i){const s=e instanceof Array?e:e.childNodes,u=s[i];if(nr(u))return u.data=mm+u.data,u;{const f=c.createTextNode(mm);return Array.isArray(e)?s.splice(i,0,f):Mo(e,i,f),f}}function LB(c,e){return cs(c)&&cs(e)&&!nr(c)&&!nr(e)&&!eo(c)&&!eo(e)&&c.tagName.toLowerCase()===e.tagName.toLowerCase()}function jB(c,e){return cs(c)&&cs(e)&&nr(c)&&nr(e)}function BB(c,e,i){return e===i||(nr(e)&&nr(i)?e.data===i.data:!(!c.isBlockFiller(e)||!c.isBlockFiller(i)))}function w2(c,e){const i=c.data;if(i==e)return;const s=y(i,e);for(const u of s)u.type==="insert"?c.insertData(u.index,u.values.join("")):c.deleteData(u.index,u.howMany)}const RB=m2(h.document),FB=f2(h.document),zB=p2(h.document),$b="data-ck-unsafe-attribute-",y2="data-ck-unsafe-element";class Hb{constructor(e,{blockFillerMode:i,renderingMode:s="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new po,this._inlineObjectElementMatcher=new po,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=s,this.blockFillerMode=i||(s==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?h.document:h.document.implementation.createHTMLDocument("")}bindFakeSelection(e,i){this._fakeSelectionMapping.set(e,new es(i))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}unbindDomElement(e){const i=this._domToViewMapping.get(e);if(i){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(i);for(const s of Array.from(e.children))this.unbindDomElement(s)}}bindDocumentFragments(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}shouldRenderAttribute(e,i,s){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!i.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(s==="img"&&(e==="src"||e==="srcset")||s==="source"&&e==="srcset"||!i.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,i){if(this.renderingMode==="data")return void(e.innerHTML=i);const s=new DOMParser().parseFromString(i,"text/html"),u=s.createDocumentFragment(),f=s.body.childNodes;for(;f.length>0;)u.appendChild(f[0]);const m=s.createTreeWalker(u,NodeFilter.SHOW_ELEMENT),w=[];let A;for(;A=m.nextNode();)w.push(A);for(const S of w){for(const O of S.getAttributeNames())this.setDomElementAttribute(S,O,S.getAttribute(O));const T=S.tagName.toLowerCase();this._shouldRenameElement(T)&&(_2(T),S.replaceWith(this._createReplacementDomElement(T,S)))}for(;e.firstChild;)e.firstChild.remove();e.append(u)}viewToDom(e,i={}){if(e.is("$text")){const s=this._processDataFromViewText(e);return this._domDocument.createTextNode(s)}{const s=e;if(this.mapViewToDom(s)){if(!s.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(s);this._elementsWithTemporaryCustomProperties.add(s)}let u;if(s.is("documentFragment"))u=this._domDocument.createDocumentFragment(),i.bind&&this.bindDocumentFragments(u,s);else{if(s.is("uiElement"))return u=s.name==="$comment"?this._domDocument.createComment(s.getCustomProperty("$rawContent")):s.render(this._domDocument,this),i.bind&&this.bindElements(u,s),u;this._shouldRenameElement(s.name)?(_2(s.name),u=this._createReplacementDomElement(s.name)):u=s.hasAttribute("xmlns")?this._domDocument.createElementNS(s.getAttribute("xmlns"),s.name):this._domDocument.createElement(s.name),s.is("rawElement")&&s.render(u,this),i.bind&&this.bindElements(u,s);for(const f of s.getAttributeKeys())this.setDomElementAttribute(u,f,s.getAttribute(f),s)}if(i.withChildren!==!1)for(const f of this.viewChildrenToDom(s,i))u instanceof HTMLTemplateElement?u.content.appendChild(f):u.appendChild(f);return u}}setDomElementAttribute(e,i,s,u){const f=this.shouldRenderAttribute(i,s,e.tagName.toLowerCase())||u&&u.shouldRenderUnsafeAttribute(i);f||B("domconverter-unsafe-attribute-detected",{domElement:e,key:i,value:s}),function(m){try{h.document.createAttribute(m)}catch{return!1}return!0}(i)?(e.hasAttribute(i)&&!f?e.removeAttribute(i):e.hasAttribute($b+i)&&f&&e.removeAttribute($b+i),e.setAttribute(f?i:$b+i,s)):B("domconverter-invalid-attribute-detected",{domElement:e,key:i,value:s})}removeDomElementAttribute(e,i){i!=y2&&(e.removeAttribute(i),e.removeAttribute($b+i))}*viewChildrenToDom(e,i={}){const s=e.getFillerOffset&&e.getFillerOffset();let u=0;for(const f of e.getChildren()){s===u&&(yield this._getBlockFiller());const m=f.is("element")&&!!f.getCustomProperty("dataPipeline:transparentRendering")&&!Li(f.getAttributes());m&&this.renderingMode=="data"?yield*this.viewChildrenToDom(f,i):(m&&B("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:f}),yield this.viewToDom(f,i)),u++}s===u&&(yield this._getBlockFiller())}viewRangeToDom(e){const i=this.viewPositionToDom(e.start),s=this.viewPositionToDom(e.end),u=this._domDocument.createRange();return u.setStart(i.parent,i.offset),u.setEnd(s.parent,s.offset),u}viewPositionToDom(e){const i=e.parent;if(i.is("$text")){const s=this.findCorrespondingDomText(i);if(!s)return null;let u=e.offset;return Rs(s)&&(u+=el),{parent:s,offset:u}}{let s,u,f;if(e.offset===0){if(s=this.mapViewToDom(i),!s)return null;f=s.childNodes[0]}else{const m=e.nodeBefore;if(u=m.is("$text")?this.findCorrespondingDomText(m):this.mapViewToDom(m),!u)return null;s=u.parentNode,f=u.nextSibling}return nr(f)&&Rs(f)?{parent:f,offset:el}:{parent:s,offset:u?Ml(u)+1:0}}}domToView(e,i={}){const s=[],u=this._domToView(e,i,s),f=u.next().value;return f?(u.next(),this._processDomInlineNodes(null,s,i),f.is("$text")&&f.data.length==0?null:f):null}*domChildrenToView(e,i={},s=[]){let u=[];u=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let f=0;f<u.length;f++){const m=u[f],w=this._domToView(m,i,s),A=w.next().value;A!==null&&(this._isBlockViewElement(A)&&this._processDomInlineNodes(e,s,i),yield A,w.next())}this._processDomInlineNodes(e,s,i)}domSelectionToView(e){if(function(u){if(!b.isGecko||!u.rangeCount)return!1;const f=u.getRangeAt(0).startContainer;try{Object.prototype.toString.call(f)}catch{return!0}return!1}(e))return new es([]);if(e.rangeCount===1){let u=e.getRangeAt(0).startContainer;nr(u)&&(u=u.parentNode);const f=this.fakeSelectionToView(u);if(f)return f}const i=this.isDomSelectionBackward(e),s=[];for(let u=0;u<e.rangeCount;u++){const f=e.getRangeAt(u),m=this.domRangeToView(f);m&&s.push(m)}return new es(s,{backward:i})}domRangeToView(e){const i=this.domPositionToView(e.startContainer,e.startOffset),s=this.domPositionToView(e.endContainer,e.endOffset);return i&&s?new Yt(i,s):null}domPositionToView(e,i=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Ml(e));const s=this.mapDomToView(e);if(s&&(s.is("uiElement")||s.is("rawElement")))return Dt._createBefore(s);if(nr(e)){if(kf(e))return this.domPositionToView(e.parentNode,Ml(e));const u=this.findCorrespondingViewText(e);let f=i;return u?(Rs(e)&&(f-=el,f=f<0?0:f),new Dt(u,f)):null}if(i===0){const u=this.mapDomToView(e);if(u)return new Dt(u,0)}else{const u=e.childNodes[i-1];if(nr(u)&&kf(u)||u&&this.isBlockFiller(u))return this.domPositionToView(u.parentNode,Ml(u));const f=nr(u)?this.findCorrespondingViewText(u):this.mapDomToView(u);if(f&&f.parent)return new Dt(f.parent,f.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(kf(e))return null;const i=this.getHostViewElement(e);if(i)return i;const s=e.previousSibling;if(s){if(!this.isElement(s))return null;const u=this.mapDomToView(s);if(u){const f=u.nextSibling;return f instanceof xn?f:null}}else{const u=this.mapDomToView(e.parentNode);if(u){const f=u.getChild(0);return f instanceof xn?f:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const i=e.previousSibling;return i&&this.mapViewToDom(i)?this.mapViewToDom(i).nextSibling:!i&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const i=this.mapViewToDom(e);if(i&&i.ownerDocument.activeElement!==i){const{scrollX:s,scrollY:u}=h.window,f=[];v2(i,m=>{const{scrollLeft:w,scrollTop:A}=m;f.push([w,A])}),i.focus(),v2(i,m=>{const[w,A]=f.shift();m.scrollLeft=w,m.scrollTop=A}),h.window.scrollTo(s,u)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const i=e.ownerDocument.defaultView.getSelection(),s=this.domSelectionToView(i);s&&s.rangeCount>0&&i.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(RB):!(e.tagName!=="BR"||!A2(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(zB)||function(i,s){return i.isEqualNode(FB)&&A2(i,s)&&i.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const i=this._domDocument.createRange();try{i.setStart(e.anchorNode,e.anchorOffset),i.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const s=i.collapsed;return i.detach(),s}getHostViewElement(e){const i=function(s){const u=[];let f=s;for(;f&&f.nodeType!=Node.DOCUMENT_NODE;)u.unshift(f),f=f.parentNode;return u}(e);for(i.pop();i.length;){const s=i.pop(),u=this._domToViewMapping.get(s);if(u&&(u.is("uiElement")||u.is("rawElement")))return u}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return f2(this._domDocument);case"markedNbsp":return p2(this._domDocument);case"br":return m2(this._domDocument)}}_isDomSelectionPositionCorrect(e,i){if(nr(e)&&Rs(e)&&i<el||this.isElement(e)&&Rs(e.childNodes[i]))return!1;const s=this.mapDomToView(e);return!s||!s.is("uiElement")&&!s.is("rawElement")}*_domToView(e,i,s){if(this.isBlockFiller(e))return null;const u=this.getHostViewElement(e);if(u)return u;if(eo(e)&&i.skipComments)return null;if(nr(e)){if(kf(e))return null;{const f=e.data;if(f==="")return null;const m=new xn(this.document,f);return s.push(m),m}}{let f=this.mapDomToView(e);if(f)return this._isInlineObjectElement(f)&&s.push(f),f;if(this.isDocumentFragment(e))f=new Yd(this.document),i.bind&&this.bindDocumentFragments(e,f);else{f=this._createViewElement(e,i),i.bind&&this.bindElements(e,f);const w=e.attributes;if(w)for(let A=w.length,S=0;S<A;S++)f._setAttribute(w[S].name,w[S].value);if(this._isViewElementWithRawContent(f,i))return f._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(f)||s.push(f),f;if(eo(e))return f._setCustomProperty("$rawContent",e.data),f}yield f;const m=[];if(i.withChildren!==!1)for(const w of this.domChildrenToView(e,i,m))f._appendChild(w);if(this._isInlineObjectElement(f))s.push(f);else for(const w of m)s.push(w)}}_processDomInlineNodes(e,i,s){if(!i.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let u=!1;for(let f=0;f<i.length;f++){const m=i[f];if(!m.is("$text")){u=!1;continue}let w,A=!1;if(UB(m,this.preElements))w=g2(m.data);else{w=m.data.replace(/[ \n\t\r]{1,}/g," "),A=/[^\S\u00A0]/.test(w.charAt(w.length-1));const S=f>0?i[f-1]:null,T=f+1<i.length?i[f+1]:null,O=!S||S.is("element")&&S.name=="br"||u,U=!T&&!Rs(m.data);s.withChildren!==!1&&(O&&(w=w.replace(/^ /,"")),U&&(w=w.replace(/ $/,""))),w=g2(w),w=w.replace(/ \u00A0/g,"  ");const G=T&&T.is("element")&&T.name!="br",ee=T&&T.is("$text")&&T.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(w)||!T||G||ee)&&(w=w.replace(/\u00A0$/," ")),(O||S&&S.is("element")&&S.name!="br")&&(w=w.replace(/^\u00A0/," "))}w.length==0&&m.parent?(m._remove(),i.splice(f,1),f--):(m._data=w,u=A)}i.length=0}_processDataFromViewText(e){let i=e.data;if(e.getAncestors().some(s=>this.preElements.includes(s.name)))return i;if(i.charAt(0)==" "){const s=this._getTouchingInlineViewNode(e,!1);!(s&&s.is("$textProxy")&&this._nodeEndsWithSpace(s))&&s||(i=" "+i.substr(1))}if(i.charAt(i.length-1)==" "){const s=this._getTouchingInlineViewNode(e,!0),u=s&&s.is("$textProxy")&&s.data.charAt(0)==" ";i.charAt(i.length-2)!=" "&&s&&!u||(i=i.substr(0,i.length-1)+" ")}return i.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(s=>this.preElements.includes(s.name)))return!1;const i=this._processDataFromViewText(e);return i.charAt(i.length-1)==" "}_getTouchingInlineViewNode(e,i){const s=new mo({startPosition:i?Dt._createAfter(e):Dt._createBefore(e),direction:i?"forward":"backward"});for(const u of s){if(u.item.is("element","br"))return null;if(this._isInlineObjectElement(u.item))return u.item;if(u.item.is("containerElement"))return null;if(u.item.is("$textProxy"))return u.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,i){if(eo(e))return new Vb(this.document,"$comment");const s=i.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Po(this.document,s)}_isViewElementWithRawContent(e,i){return i.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const i=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(i)}_createReplacementDomElement(e,i){const s=this._domDocument.createElement("span");if(s.setAttribute(y2,e),i){for(;i.firstChild;)s.appendChild(i.firstChild);for(const u of i.getAttributeNames())s.setAttribute(u,i.getAttribute(u))}return s}}function UB(c,e){return c.getAncestors().some(i=>i.is("element")&&e.includes(i.name))}function v2(c,e){let i=c;for(;i;)e(i),i=i.parentElement}function A2(c,e){const i=c.parentNode;return!!i&&!!i.tagName&&e.includes(i.tagName.toLowerCase())}function _2(c){c==="script"&&B("domconverter-unsafe-script-element-detected"),c==="style"&&B("domconverter-unsafe-style-element-detected")}class Ul extends yi(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const C2=Fd(function(c,e){Ga(e,da(e),c)});class wf{constructor(e,i,s){this.view=e,this.document=e.document,this.domEvent=i,this.domTarget=i.target,C2(this,s)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Ou extends Ul{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(e,i,(s,u)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(u.target)&&this.onDomEvent(u)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,i,s){this.isEnabled&&this.document.fire(e,new wf(this.view,i,s))}}class qB extends Ou{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const i={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Pl(this)}};this.fire(e.type,e,i)}}const Zw=function(){return He.Date.now()};var VB=/\s/;const $B=function(c){for(var e=c.length;e--&&VB.test(c.charAt(e)););return e};var HB=/^\s+/;const WB=function(c){return c&&c.slice(0,$B(c)+1).replace(HB,"")};var GB=/^[-+]0x[0-9a-f]+$/i,YB=/^0b[01]+$/i,KB=/^0o[0-7]+$/i,QB=parseInt;const x2=function(c){if(typeof c=="number")return c;if(qd(c))return NaN;if(we(c)){var e=typeof c.valueOf=="function"?c.valueOf():c;c=we(e)?e+"":e}if(typeof c!="string")return c===0?c:+c;c=WB(c);var i=YB.test(c);return i||KB.test(c)?QB(c.slice(2),i?2:8):GB.test(c)?NaN:+c};var JB=Math.max,ZB=Math.min;const yf=function(c,e,i){var s,u,f,m,w,A,S=0,T=!1,O=!1,U=!0;if(typeof c!="function")throw new TypeError("Expected a function");function G(Oe){var et=s,ft=u;return s=u=void 0,S=Oe,m=c.apply(ft,et)}function ee(Oe){var et=Oe-A;return A===void 0||et>=e||et<0||O&&Oe-S>=f}function ie(){var Oe=Zw();if(ee(Oe))return be(Oe);w=setTimeout(ie,function(et){var ft=e-(et-A);return O?ZB(ft,f-(et-S)):ft}(Oe))}function be(Oe){return w=void 0,U&&s?G(Oe):(s=u=void 0,m)}function xe(){var Oe=Zw(),et=ee(Oe);if(s=arguments,u=this,A=Oe,et){if(w===void 0)return function(ft){return S=ft,w=setTimeout(ie,e),T?G(ft):m}(A);if(O)return clearTimeout(w),w=setTimeout(ie,e),G(A)}return w===void 0&&(w=setTimeout(ie,e)),m}return e=x2(e)||0,we(i)&&(T=!!i.leading,f=(O="maxWait"in i)?JB(x2(i.maxWait)||0,e):f,U="trailing"in i?!!i.trailing:U),xe.cancel=function(){w!==void 0&&clearTimeout(w),S=0,s=A=u=w=void 0},xe.flush=function(){return w===void 0?m:be(Zw())},xe};class XB extends Ul{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=yf(i=>{this.document.fire("selectionChangeDone",i)},200)}observe(){const e=this.document;e.on("arrowKey",(i,s)=>{e.selection.isFake&&this.isEnabled&&s.preventDefault()},{context:"$capture"}),e.on("arrowKey",(i,s)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(s.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const i=this.document.selection,s=new es(i.getRanges(),{backward:i.isBackward,fake:!1});e!=Pn.arrowleft&&e!=Pn.arrowup||s.setTo(s.getFirstPosition()),e!=Pn.arrowright&&e!=Pn.arrowdown||s.setTo(s.getLastPosition());const u={oldSelection:i,newSelection:s,domSelection:null};this.document.fire("selectionChange",u),this._fireSelectionChangeDoneDebounced(u)}}const eR=function(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this},tR=function(c){return this.__data__.has(c)};function Wb(c){var e=-1,i=c==null?0:c.length;for(this.__data__=new yc;++e<i;)this.add(c[e])}Wb.prototype.add=Wb.prototype.push=eR,Wb.prototype.has=tR;const nR=Wb,rR=function(c,e){for(var i=-1,s=c==null?0:c.length;++i<s;)if(e(c[i],i,c))return!0;return!1},iR=function(c,e){return c.has(e)},S2=function(c,e,i,s,u,f){var m=1&i,w=c.length,A=e.length;if(w!=A&&!(m&&A>w))return!1;var S=f.get(c),T=f.get(e);if(S&&T)return S==e&&T==c;var O=-1,U=!0,G=2&i?new nR:void 0;for(f.set(c,e),f.set(e,c);++O<w;){var ee=c[O],ie=e[O];if(s)var be=m?s(ie,ee,O,e,c,f):s(ee,ie,O,c,e,f);if(be!==void 0){if(be)continue;U=!1;break}if(G){if(!rR(e,function(xe,Oe){if(!iR(G,Oe)&&(ee===xe||u(ee,xe,i,s,f)))return G.push(Oe)})){U=!1;break}}else if(ee!==ie&&!u(ee,ie,i,s,f)){U=!1;break}}return f.delete(c),f.delete(e),U},oR=function(c){var e=-1,i=Array(c.size);return c.forEach(function(s,u){i[++e]=[u,s]}),i},sR=function(c){var e=-1,i=Array(c.size);return c.forEach(function(s){i[++e]=s}),i};var E2=st?st.prototype:void 0,Xw=E2?E2.valueOf:void 0;const aR=function(c,e,i,s,u,f,m){switch(i){case"[object DataView]":if(c.byteLength!=e.byteLength||c.byteOffset!=e.byteOffset)return!1;c=c.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(c.byteLength!=e.byteLength||!f(new Ka(c),new Ka(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ii(+c,+e);case"[object Error]":return c.name==e.name&&c.message==e.message;case"[object RegExp]":case"[object String]":return c==e+"";case"[object Map]":var w=oR;case"[object Set]":var A=1&s;if(w||(w=sR),c.size!=e.size&&!A)return!1;var S=m.get(c);if(S)return S==e;s|=2,m.set(c,e);var T=S2(w(c),w(e),s,u,f,m);return m.delete(c),T;case"[object Symbol]":if(Xw)return Xw.call(c)==Xw.call(e)}return!1};var lR=Object.prototype.hasOwnProperty;const cR=function(c,e,i,s,u,f){var m=1&i,w=Ct(c),A=w.length;if(A!=Ct(e).length&&!m)return!1;for(var S=A;S--;){var T=w[S];if(!(m?T in e:lR.call(e,T)))return!1}var O=f.get(c),U=f.get(e);if(O&&U)return O==e&&U==c;var G=!0;f.set(c,e),f.set(e,c);for(var ee=m;++S<A;){var ie=c[T=w[S]],be=e[T];if(s)var xe=m?s(be,ie,T,e,c,f):s(ie,be,T,c,e,f);if(!(xe===void 0?ie===be||u(ie,be,i,s,f):xe)){G=!1;break}ee||(ee=T=="constructor")}if(G&&!ee){var Oe=c.constructor,et=e.constructor;Oe==et||!("constructor"in c)||!("constructor"in e)||typeof Oe=="function"&&Oe instanceof Oe&&typeof et=="function"&&et instanceof et||(G=!1)}return f.delete(c),f.delete(e),G};var D2="[object Arguments]",I2="[object Array]",Gb="[object Object]",T2=Object.prototype.hasOwnProperty;const uR=function(c,e,i,s,u,f){var m=Ft(c),w=Ft(e),A=m?I2:fa(c),S=w?I2:fa(e),T=(A=A==D2?Gb:A)==Gb,O=(S=S==D2?Gb:S)==Gb,U=A==S;if(U&&Ya(c)){if(!Ya(e))return!1;m=!0,T=!1}if(U&&!T)return f||(f=new Al),m||pu(c)?S2(c,e,i,s,u,f):aR(c,e,A,i,s,u,f);if(!(1&i)){var G=T&&T2.call(c,"__wrapped__"),ee=O&&T2.call(e,"__wrapped__");if(G||ee){var ie=G?c.value():c,be=ee?e.value():e;return f||(f=new Al),u(ie,be,i,s,f)}}return!!U&&(f||(f=new Al),cR(c,e,i,s,u,f))},Yb=function c(e,i,s,u,f){return e===i||(e==null||i==null||!Kt(e)&&!Kt(i)?e!=e&&i!=i:uR(e,i,s,u,c,f))},dR=function(c,e,i){var s=(i=typeof i=="function"?i:void 0)?i(c,e):void 0;return s===void 0?Yb(c,e,void 0,i):!!s};class N2 extends Ul{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const i=this.domConverter,s=new Set,u=new Set;for(const m of e){const w=i.mapDomToView(m.target);w&&(w.is("uiElement")||w.is("rawElement")||m.type!=="childList"||this._isBogusBrMutation(m)||u.add(w))}for(const m of e){const w=i.mapDomToView(m.target);if((!w||!w.is("uiElement")&&!w.is("rawElement"))&&m.type==="characterData"){const A=i.findCorrespondingViewText(m.target);A&&!u.has(A.parent)?s.add(A):!A&&Rs(m.target)&&u.add(i.mapDomToView(m.target.parentNode))}}let f=!1;for(const m of s)f=!0,this.renderer.markToSync("text",m);for(const m of u){const w=i.mapViewToDom(m),A=Array.from(m.getChildren()),S=Array.from(i.domChildrenToView(w,{withChildren:!1}));dR(A,S,hR)||(f=!0,this.renderer.markToSync("children",m))}f&&this.view.forceRender()}_isBogusBrMutation(e){let i=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(i=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}}function hR(c,e){if(!Array.isArray(c))return c===e||!(!c.is("$text")||!e.is("$text"))&&c.data===e.data}class Kb extends Ou{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const i=this.document;i.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),i.on("blur",(s,u)=>{const f=i.selection.editableElement;f!==null&&f!==u.target||(i.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class fR extends Ul{constructor(e){super(e),this.mutationObserver=e.getObserver(N2),this.focusObserver=e.getObserver(Kb),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=yf(i=>{this.document.fire("selectionChangeDone",i)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=yf(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const i=e.ownerDocument,s=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,i),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",s,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",s,{priority:"highest",useCapture:!0}),this._documents.has(i)||(this.listenTo(i,"mouseup",s,{priority:"highest",useCapture:!0}),this.listenTo(i,"selectionchange",(u,f)=>{this.document.isComposing&&!b.isAndroid||(this._handleSelectionChange(f,i),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(i))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,i){if(!this.isEnabled)return;const s=i.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(s.anchorNode))return;this.mutationObserver.flush();const u=this.domConverter.domSelectionToView(s);if(u.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(u)||!this.domConverter.isDomSelectionCorrect(s))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(u))this.view.forceRender();else{const f={oldSelection:this.selection,newSelection:u,domSelection:s};this.document.fire("selectionChange",f),this._fireSelectionChangeDoneDebounced(f)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class pR extends Ou{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const i=this.document;i.on("compositionstart",()=>{i.isComposing=!0},{priority:"low"}),i.on("compositionend",()=>{i.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class M2{constructor(e,i={}){this._files=i.cacheFiles?P2(e):null,this._native=e}get files(){return this._files||(this._files=P2(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,i){this._native.setData(e,i)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,i,s){this._native.setDragImage(e,i,s)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function P2(c){const e=Array.from(c.files||[]),i=Array.from(c.items||[]);return e.length?e:i.filter(s=>s.kind==="file").map(s=>s.getAsFile())}class mR extends Ou{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const i=e.getTargetRanges(),s=this.view,u=s.document;let f=null,m=null,w=[];if(e.dataTransfer&&(f=new M2(e.dataTransfer)),e.data!==null?m=e.data:f&&(m=f.getData("text/plain")),u.selection.isFake)w=Array.from(u.selection.getRanges());else if(i.length)w=i.map(A=>{const S=s.domConverter.domPositionToView(A.startContainer,A.startOffset),T=s.domConverter.domPositionToView(A.endContainer,A.endOffset);return S?s.createRange(S,T):T?s.createRange(T):void 0}).filter(A=>!!A);else if(b.isAndroid){const A=e.target.ownerDocument.defaultView.getSelection();w=Array.from(s.domConverter.domSelectionToView(A).getRanges())}if(b.isAndroid&&e.inputType=="insertCompositionText"&&m&&m.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[s.createRange(w[0].end)]});else if(e.inputType=="insertText"&&m&&m.includes(`
`)){const A=m.split(/\n{1,2}/g);let S=w;for(let T=0;T<A.length;T++){const O=A[T];O!=""&&(this.fire(e.type,e,{data:O,dataTransfer:f,targetRanges:S,inputType:e.inputType,isComposing:e.isComposing}),S=[u.selection.getFirstRange()]),T+1<A.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:S}),S=[u.selection.getFirstRange()])}}else this.fire(e.type,e,{data:m,dataTransfer:f,targetRanges:w,inputType:e.inputType,isComposing:e.isComposing})}}class gR extends Ul{constructor(e){super(e),this.document.on("keydown",(i,s)=>{if(this.isEnabled&&((u=s.keyCode)==Pn.arrowright||u==Pn.arrowleft||u==Pn.arrowup||u==Pn.arrowdown)){const f=new Pu(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(f,s),f.stop.called&&i.stop()}var u})}observe(){}stopObserving(){}}class bR extends Ul{constructor(e){super(e);const i=this.document;i.on("keydown",(s,u)=>{if(!this.isEnabled||u.keyCode!=Pn.tab||u.ctrlKey)return;const f=new Pu(i,"tab",i.selection.getFirstRange());i.fire(f,u),f.stop.called&&s.stop()})}observe(){}stopObserving(){}}const tl=function(c){return Pr(c,5)};class kR extends Ue(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new qb(e),this.domConverter=new Hb(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new OB(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new l2(this.document),this.addObserver(N2),this.addObserver(Kb),this.addObserver(fR),this.addObserver(qB),this.addObserver(XB),this.addObserver(pR),this.addObserver(gR),this.addObserver(mR),this.addObserver(bR),this.document.on("arrowKey",MB,{priority:"low"}),EB(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),b.isiOS&&this.listenTo(this.document,"blur",(i,s)=>{this.domConverter.mapDomToView(s.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,i="main"){const s=this.document.getRoot(i);s._name=e.tagName.toLowerCase();const u={};for(const{name:m,value:w}of Array.from(e.attributes))u[m]=w,m==="class"?this._writer.addClass(w.split(" "),s):this._writer.setAttribute(m,w,s);this._initialDomRootAttributes.set(e,u);const f=()=>{this._writer.setAttribute("contenteditable",(!s.isReadOnly).toString(),s),s.isReadOnly?this._writer.addClass("ck-read-only",s):this._writer.removeClass("ck-read-only",s)};f(),this.domRoots.set(i,e),this.domConverter.bindElements(e,s),this._renderer.markToSync("children",s),this._renderer.markToSync("attributes",s),this._renderer.domDocuments.add(e.ownerDocument),s.on("change:children",(m,w)=>this._renderer.markToSync("children",w)),s.on("change:attributes",(m,w)=>this._renderer.markToSync("attributes",w)),s.on("change:text",(m,w)=>this._renderer.markToSync("text",w)),s.on("change:isReadOnly",()=>this.change(f)),s.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const m of this._observers.values())m.observe(e,i)}detachDomRoot(e){const i=this.domRoots.get(e);Array.from(i.attributes).forEach(({name:u})=>i.removeAttribute(u));const s=this._initialDomRootAttributes.get(i);for(const u in s)i.setAttribute(u,s[u]);this.domRoots.delete(e),this.domConverter.unbindDomElement(i);for(const u of this._observers.values())u.stopObserving(i)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let i=this._observers.get(e);if(i)return i;i=new e(this),this._observers.set(e,i);for(const[s,u]of this.domRoots)i.observe(u,s);return i.enable(),i}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:i,viewportOffset:s=20,ancestorOffset:u=20}={}){const f=this.document.selection.getFirstRange();if(!f)return;const m=tl({alignToTop:e,forceScroll:i,viewportOffset:s,ancestorOffset:u});typeof s=="number"&&(s={top:s,bottom:s,left:s,right:s});const w={target:this.domConverter.viewRangeToDom(f),viewportOffset:s,ancestorOffset:u,alignToTop:e,forceScroll:i};this.fire("scrollToTheSelection",w,m),function({target:A,viewportOffset:S=0,ancestorOffset:T=0,alignToTop:O,forceScroll:U}){const G=Zp(A);let ee=G,ie=null;for(S=function(be){return typeof be=="number"?{top:be,bottom:be,left:be,right:be}:be}(S);ee;){let be;be=Ab(ee==G?A:ie),Jp({parent:be,getRect:()=>_b(A,ee),alignToTop:O,ancestorOffset:T,forceScroll:U});const xe=_b(A,ee);if(yb({window:ee,rect:xe,viewportOffset:S,alignToTop:O,forceScroll:U}),ee.parent!=ee){if(ie=ee.frameElement,ee=ee.parent,!ie)return}else ee=null}}(w)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new M("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const i=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),i}catch(i){M.rethrowUnexpectedError(i,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Kb).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,i){return Dt._createAt(e,i)}createPositionAfter(e){return Dt._createAfter(e)}createPositionBefore(e){return Dt._createBefore(e)}createRange(e,i){return new Yt(e,i)}createRangeOn(e){return Yt._createOn(e)}createRangeIn(e){return Yt._createIn(e)}createSelection(...e){return new es(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Lu{is(){throw new Error("is() method is abstract")}}class Kd extends Lu{constructor(e){super(),this.parent=null,this._attrs=ya(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new M("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new M("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.startOffset),i=i.parent;return e}getAncestors(e={}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(e,i={}){const s=this.getAncestors(i),u=e.getAncestors(i);let f=0;for(;s[f]==u[f]&&s[f];)f++;return f===0?null:s[f-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),s=e.getPath(),u=Te(i,s);switch(u){case"prefix":return!0;case"extension":return!1;default:return i[u]<s[u]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((i,s)=>(i[s[0]]=s[1],i),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,i){this._attrs.set(e,i)}_setAttributesTo(e){this._attrs=ya(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Kd.prototype.is=function(c){return c==="node"||c==="model:node"};class gm{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,i)=>e+i.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const i=this._nodes.indexOf(e);return i==-1?null:i}getNodeStartOffset(e){const i=this.getNodeIndex(e);return i===null?null:this._nodes.slice(0,i).reduce((s,u)=>s+u.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const i=this._nodes[e];if(!i)throw new M("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(i)}offsetToIndex(e){let i=0;for(const s of this._nodes){if(e>=i&&e<i+s.offsetSize)return this.getNodeIndex(s);i+=s.offsetSize}if(i!=e)throw new M("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,i){for(const s of i)if(!(s instanceof Kd))throw new M("model-nodelist-insertnodes-not-node",this);this._nodes=function(s,u,f,m){if(Math.max(u.length,s.length)>1e4)return s.slice(0,f).concat(u).concat(s.slice(f+m,s.length));{const w=Array.from(s);return w.splice(f,m,...u),w}}(this._nodes,Array.from(i),e,0)}_removeNodes(e,i=1){return this._nodes.splice(e,i)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class gr extends Kd{constructor(e,i){super(i),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new gr(this.data,this.getAttributes())}static fromJSON(e){return new gr(e.data,e.attributes)}}gr.prototype.is=function(c){return c==="$text"||c==="model:$text"||c==="text"||c==="model:text"||c==="node"||c==="model:node"};class nl extends Lu{constructor(e,i,s){if(super(),this.textNode=e,i<0||i>e.offsetSize)throw new M("model-textproxy-wrong-offsetintext",this);if(s<0||i+s>e.offsetSize)throw new M("model-textproxy-wrong-length",this);this.data=e.data.substring(i,i+s),this.offsetInText=i}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}nl.prototype.is=function(c){return c==="$textProxy"||c==="model:$textProxy"||c==="textProxy"||c==="model:textProxy"};class lr extends Kd{constructor(e,i,s){super(i),this._children=new gm,this.name=e,s&&this._insertChild(0,s)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let i=this;for(const s of e)i=i.getChild(i.offsetToIndex(s));return i}findAncestor(e,i={}){let s=i.includeSelf?this:this.parent;for(;s;){if(s.name===e)return s;s=s.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const i of this._children)e.children.push(i.toJSON())}return e}_clone(e=!1){const i=e?Array.from(this._children).map(s=>s._clone(!0)):void 0;return new lr(this.name,this.getAttributes(),i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const s=function(u){return typeof u=="string"?[new gr(u)]:(Ee(u)||(u=[u]),Array.from(u).map(f=>typeof f=="string"?new gr(f):f instanceof nl?new gr(f.data,f.getAttributes()):f))}(i);for(const u of s)u.parent!==null&&u._remove(),u.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,i=1){const s=this._children._removeNodes(e,i);for(const u of s)u.parent=null;return s}static fromJSON(e){let i;if(e.children){i=[];for(const s of e.children)s.name?i.push(lr.fromJSON(s)):i.push(gr.fromJSON(s))}return new lr(e.name,e.attributes,i)}}lr.prototype.is=function(c,e){return e?e===this.name&&(c==="element"||c==="model:element"):c==="element"||c==="model:element"||c==="node"||c==="model:node"};class jc{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new M("model-tree-walker-no-start-position",null);const i=e.direction||"forward";if(i!="forward"&&i!="backward")throw new M("model-tree-walker-unknown-direction",e,{direction:i});this.direction=i,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=vt._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let i,s,u,f;do u=this.position,f=this._visitedParent,{done:i,value:s}=this.next();while(!i&&e(s));i||(this._position=u,this._visitedParent=f)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,i=this.position.clone(),s=this._visitedParent;if(s.parent===null&&i.offset===s.maxOffset)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const u=bm(i,s),f=u||O2(i,s,u);if(f instanceof lr){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(i))return{done:!0,value:void 0};i.offset++}else i.path.push(0),this._visitedParent=f;return this._position=i,Qd("elementStart",f,e,i,1)}if(f instanceof gr){let m;if(this.singleCharacters)m=1;else{let S=f.endOffset;this._boundaryEndParent==s&&this.boundaries.end.offset<S&&(S=this.boundaries.end.offset),m=S-i.offset}const w=i.offset-f.startOffset,A=new nl(f,w,m);return i.offset+=m,this._position=i,Qd("text",A,e,i,m)}return i.path.pop(),i.offset++,this._position=i,this._visitedParent=s.parent,this.ignoreElementEnd?this._next():Qd("elementEnd",s,e,i)}_previous(){const e=this.position,i=this.position.clone(),s=this._visitedParent;if(s.parent===null&&i.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const u=i.parent,f=bm(i,u),m=f||L2(i,u,f);if(m instanceof lr)return i.offset--,this.shallow?(this._position=i,Qd("elementStart",m,e,i,1)):(i.path.push(m.maxOffset),this._position=i,this._visitedParent=m,this.ignoreElementEnd?this._previous():Qd("elementEnd",m,e,i));if(m instanceof gr){let w;if(this.singleCharacters)w=1;else{let T=m.startOffset;this._boundaryStartParent==s&&this.boundaries.start.offset>T&&(T=this.boundaries.start.offset),w=i.offset-T}const A=i.offset-m.startOffset,S=new nl(m,A-w,w);return i.offset-=w,this._position=i,Qd("text",S,e,i,w)}return i.path.pop(),this._position=i,this._visitedParent=s.parent,Qd("elementStart",s,e,i,1)}}function Qd(c,e,i,s,u){return{done:!1,value:{type:c,item:e,previousPosition:i,nextPosition:s,length:u}}}class vt extends Lu{constructor(e,i,s="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new M("model-position-root-invalid",e);if(!(i instanceof Array)||i.length===0)throw new M("model-position-path-incorrect-format",e,{path:i});e.is("rootElement")?i=i.slice():(i=[...e.getPath(),...i],e=e.root),this.root=e,this.path=i,this.stickiness=s}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let i=0;i<this.path.length-1;i++)if(e=e.getChild(e.offsetToIndex(this.path[i])),!e)throw new M("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new M("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return bm(this,this.parent)}get nodeAfter(){const e=this.parent;return O2(this,e,bm(this,e))}get nodeBefore(){const e=this.parent;return L2(this,e,bm(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const i=Te(this.path,e.path);switch(i){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[i]<e.path[i]?"before":"after"}}getLastMatchingPosition(e,i={}){i.startPosition=this;const s=new jc(i);return s.skip(e),s.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const i=this.parent;return i.is("element")?i.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const i=Te(this.path,e.path),s=typeof i=="string"?Math.min(this.path.length,e.path.length):i;return this.path.slice(0,s)}getCommonAncestor(e){const i=this.getAncestors(),s=e.getAncestors();let u=0;for(;i[u]==s[u]&&i[u];)u++;return u===0?null:i[u-1]}getShiftedBy(e){const i=this.clone(),s=i.offset+e;return i.offset=s<0?0:s,i}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const i=Math.min(this.path.length,e.path.length);for(let s=0;s<i;s++){const u=this.path[s]-e.path[s];if(u<-1||u>1)return!1;if(u===1)return j2(e,this,s);if(u===-1)return j2(this,e,s)}return this.path.length===e.path.length||(this.path.length>e.path.length?ey(this.path,i):ey(e.path,i))}hasSameParentAs(e){return this.root!==e.root?!1:Te(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let i;switch(e.type){case"insert":i=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":i=this._getTransformedByMoveOperation(e);break;case"split":i=this._getTransformedBySplitOperation(e);break;case"merge":i=this._getTransformedByMergeOperation(e);break;default:i=vt._createAt(this)}return i}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const i=e.movedRange;return i.containsPosition(this)||i.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const i=e.movedRange;let s;return i.containsPosition(this)||i.start.isEqual(this)?(s=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(s=s._getTransformedByDeletion(e.deletionPosition,1))):s=this.isEqual(e.deletionPosition)?vt._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),s}_getTransformedByDeletion(e,i){const s=vt._createAt(this);if(this.root!=e.root)return s;if(Te(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+i>this.offset)return null;s.offset-=i}}else if(Te(e.getParentPath(),this.getParentPath())=="prefix"){const u=e.path.length-1;if(e.offset<=this.path[u]){if(e.offset+i>this.path[u])return null;s.path[u]-=i}}return s}_getTransformedByInsertion(e,i){const s=vt._createAt(this);if(this.root!=e.root)return s;if(Te(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(s.offset+=i);else if(Te(e.getParentPath(),this.getParentPath())=="prefix"){const u=e.path.length-1;e.offset<=this.path[u]&&(s.path[u]+=i)}return s}_getTransformedByMove(e,i,s){if(i=i._getTransformedByDeletion(e,s),e.isEqual(i))return vt._createAt(this);const u=this._getTransformedByDeletion(e,s);return u===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(s).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,i):u._getTransformedByInsertion(i,s)}_getCombined(e,i){const s=e.path.length-1,u=vt._createAt(i);return u.stickiness=this.stickiness,u.offset=u.offset+this.path[s]-e.offset,u.path=[...u.path,...this.path.slice(s+1)],u}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,i,s="toNone"){if(e instanceof vt)return new vt(e.root,e.path,e.stickiness);{const u=e;if(i=="end")i=u.maxOffset;else{if(i=="before")return this._createBefore(u,s);if(i=="after")return this._createAfter(u,s);if(i!==0&&!i)throw new M("model-createpositionat-offset-required",[this,e])}if(!u.is("element")&&!u.is("documentFragment"))throw new M("model-position-parent-incorrect",[this,e]);const f=u.getPath();return f.push(i),new this(u.root,f,s)}}static _createAfter(e,i){if(!e.parent)throw new M("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,i)}static _createBefore(e,i){if(!e.parent)throw new M("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,i)}static fromJSON(e,i){if(e.root==="$graveyard"){const s=new vt(i.graveyard,e.path);return s.stickiness=e.stickiness,s}if(!i.getRoot(e.root))throw new M("model-position-fromjson-no-root",i,{rootName:e.root});return new vt(i.getRoot(e.root),e.path,e.stickiness)}}function bm(c,e){const i=e.getChild(e.offsetToIndex(c.offset));return i&&i.is("$text")&&i.startOffset<c.offset?i:null}function O2(c,e,i){return i!==null?null:e.getChild(e.offsetToIndex(c.offset))}function L2(c,e,i){return i!==null?null:e.getChild(e.offsetToIndex(c.offset)-1)}function j2(c,e,i){return i+1!==c.path.length&&!!ey(e.path,i+1)&&!!function(s,u){let f=s.parent,m=s.path.length-1,w=0;for(;m>=u;){if(s.path[m]+w!==f.maxOffset)return!1;w=1,m--,f=f.parent}return!0}(c,i+1)}function ey(c,e){for(;e<c.length;){if(c[e]!==0)return!1;e++}return!0}vt.prototype.is=function(c){return c==="position"||c==="model:position"};class it extends Lu{constructor(e,i){super(),this.start=vt._createAt(e),this.end=i?vt._createAt(i):vt._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new jc({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Te(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const s=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),u=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return s&&u}containsItem(e){const i=vt._createBefore(e);return this.containsPosition(i)||this.start.isEqual(i)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new it(this.start,e.start)),this.containsPosition(e.end)&&i.push(new it(e.end,this.end))):i.push(new it(this.start,this.end)),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,s=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(s=e.end),new it(i,s)}return null}getJoined(e,i=!1){let s=this.isIntersecting(e);if(s||(s=this.start.isBefore(e.start)?i?this.end.isTouching(e.start):this.end.isEqual(e.start):i?e.end.isTouching(this.start):e.end.isEqual(this.start)),!s)return null;let u=this.start,f=this.end;return e.start.isBefore(u)&&(u=e.start),e.end.isAfter(f)&&(f=e.end),new it(u,f)}getMinimalFlatRanges(){const e=[],i=this.start.getCommonPath(this.end).length,s=vt._createAt(this.start);let u=s.parent;for(;s.path.length>i+1;){const f=u.maxOffset-s.offset;f!==0&&e.push(new it(s,s.getShiftedBy(f))),s.path=s.path.slice(0,-1),s.offset++,u=u.parent}for(;s.path.length<=this.end.path.length;){const f=this.end.path[s.path.length-1],m=f-s.offset;m!==0&&e.push(new it(s,s.getShiftedBy(m))),s.offset=f,s.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new jc(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new jc(e);for(const s of i)yield s.item}*getPositions(e={}){e.boundaries=this;const i=new jc(e);yield i.position;for(const s of i)yield s.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new it(this.start,this.end)]}getTransformedByOperations(e){const i=[new it(this.start,this.end)];for(const s of e)for(let u=0;u<i.length;u++){const f=i[u].getTransformedByOperation(s);i.splice(u,1,...f),u+=f.length-1}for(let s=0;s<i.length;s++){const u=i[s];for(let f=s+1;f<i.length;f++){const m=i[f];(u.containsRange(m)||m.containsRange(u)||u.isEqual(m))&&i.splice(f,1)}}return i}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,i=this.end.nodeBefore;return e&&e.is("element")&&e===i?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,i=!1){return this._getTransformedByInsertion(e.position,e.howMany,i)}_getTransformedByMoveOperation(e,i=!1){const s=e.sourcePosition,u=e.howMany,f=e.targetPosition;return this._getTransformedByMove(s,f,u,i)}_getTransformedBySplitOperation(e){const i=this.start._getTransformedBySplitOperation(e);let s=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(s=this.end.getShiftedBy(1)),i.root!=s.root&&(s=this.end.getShiftedBy(-1)),new it(i,s)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new it(this.start);let i=this.start._getTransformedByMergeOperation(e),s=this.end._getTransformedByMergeOperation(e);return i.root!=s.root&&(s=this.end.getShiftedBy(-1)),i.isAfter(s)?(e.sourcePosition.isBefore(e.targetPosition)?(i=vt._createAt(s),i.offset=0):(e.deletionPosition.isEqual(i)||(s=e.deletionPosition),i=e.targetPosition),new it(i,s)):new it(i,s)}_getTransformedByInsertion(e,i,s=!1){if(s&&this.containsPosition(e))return[new it(this.start,e),new it(e.getShiftedBy(i),this.end._getTransformedByInsertion(e,i))];{const u=new it(this.start,this.end);return u.start=u.start._getTransformedByInsertion(e,i),u.end=u.end._getTransformedByInsertion(e,i),[u]}}_getTransformedByMove(e,i,s,u=!1){if(this.isCollapsed){const O=this.start._getTransformedByMove(e,i,s);return[new it(O)]}const f=it._createFromPositionAndShift(e,s),m=i._getTransformedByDeletion(e,s);if(this.containsPosition(i)&&!u&&(f.containsPosition(this.start)||f.containsPosition(this.end))){const O=this.start._getTransformedByMove(e,i,s),U=this.end._getTransformedByMove(e,i,s);return[new it(O,U)]}let w;const A=this.getDifference(f);let S=null;const T=this.getIntersection(f);if(A.length==1?S=new it(A[0].start._getTransformedByDeletion(e,s),A[0].end._getTransformedByDeletion(e,s)):A.length==2&&(S=new it(this.start,this.end._getTransformedByDeletion(e,s))),w=S?S._getTransformedByInsertion(m,s,T!==null||u):[],T){const O=new it(T.start._getCombined(f.start,m),T.end._getCombined(f.start,m));w.length==2?w.splice(1,0,O):w.push(O)}return w}_getTransformedByDeletion(e,i){let s=this.start._getTransformedByDeletion(e,i),u=this.end._getTransformedByDeletion(e,i);return s==null&&u==null?null:(s==null&&(s=e),u==null&&(u=e),new it(s,u))}static _createFromPositionAndShift(e,i){const s=e,u=e.getShiftedBy(i);return i>0?new this(s,u):new this(u,s)}static _createIn(e){return new this(vt._createAt(e,0),vt._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(vt._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new M("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const i=e[0];e.sort((f,m)=>f.start.isAfter(m.start)?1:-1);const s=e.indexOf(i),u=new this(i.start,i.end);if(s>0)for(let f=s-1;e[f].end.isEqual(u.start);f++)u.start=vt._createAt(e[f].start);for(let f=s+1;f<e.length&&e[f].start.isEqual(u.end);f++)u.end=vt._createAt(e[f].end);return u}static fromJSON(e,i){return new this(vt.fromJSON(e.start,i),vt.fromJSON(e.end,i))}}it.prototype.is=function(c){return c==="range"||c==="model:range"};class B2 extends oe(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,i)=>{if(i.viewPosition)return;const s=this._modelToViewMapping.get(i.modelPosition.parent);if(!s)throw new M("mapping-model-position-view-parent-not-found",this,{modelPosition:i.modelPosition});i.viewPosition=this.findPositionIn(s,i.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,i)=>{if(i.modelPosition)return;const s=this.findMappedViewAncestor(i.viewPosition),u=this._viewToModelMapping.get(s),f=this._toModelOffset(i.viewPosition.parent,i.viewPosition.offset,s);i.modelPosition=vt._createAt(u,f)},{priority:"low"})}bindElements(e,i){this._modelToViewMapping.set(e,i),this._viewToModelMapping.set(i,e)}unbindViewElement(e,i={}){const s=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const u of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(u);i.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(s)==e&&this._modelToViewMapping.delete(s))}unbindModelElement(e){const i=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(i)==e&&this._viewToModelMapping.delete(i)}bindElementToMarker(e,i){const s=this._markerNameToElements.get(i)||new Set;s.add(e);const u=this._elementToMarkerNames.get(e)||new Set;u.add(i),this._markerNameToElements.set(i,s),this._elementToMarkerNames.set(e,u)}unbindElementFromMarkerName(e,i){const s=this._markerNameToElements.get(i);s&&(s.delete(e),s.size==0&&this._markerNameToElements.delete(i));const u=this._elementToMarkerNames.get(e);u&&(u.delete(i),u.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,i]of this._deferredBindingRemovals)e.root==i&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new it(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Yt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const i={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",i),i.modelPosition}toViewPosition(e,i={}){const s={modelPosition:e,mapper:this,isPhantom:i.isPhantom};return this.fire("modelToViewPosition",s),s.viewPosition}markerNameToElements(e){const i=this._markerNameToElements.get(e);if(!i)return null;const s=new Set;for(const u of i)if(u.is("attributeElement"))for(const f of u.getElementsWithSameId())s.add(f);else s.add(u);return s}registerViewToModelLength(e,i){this._viewToModelLengthCallbacks.set(e,i)}findMappedViewAncestor(e){let i=e.parent;for(;!this._viewToModelMapping.has(i);)i=i.parent;return i}_toModelOffset(e,i,s){if(s!=e)return this._toModelOffset(e.parent,e.index,s)+this._toModelOffset(e,i,e);if(e.is("$text"))return i;let u=0;for(let f=0;f<i;f++)u+=this.getModelLength(e.getChild(f));return u}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let i=0;for(const s of e.getChildren())i+=this.getModelLength(s);return i}}findPositionIn(e,i){let s,u=0,f=0,m=0;if(e.is("$text"))return new Dt(e,i);for(;f<i;)s=e.getChild(m),u=this.getModelLength(s),f+=u,m++;return f==i?this._moveViewPositionToTextNode(new Dt(e,m)):this.findPositionIn(s,i-(f-u))}_moveViewPositionToTextNode(e){const i=e.nodeBefore,s=e.nodeAfter;return i instanceof xn?new Dt(i,i.data.length):s instanceof xn?new Dt(s,0):e}}class wR{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,i){i=Qb(i),e instanceof nl&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(i,!0)}consume(e,i){return i=Qb(i),e instanceof nl&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,i)&&(this._consumable.get(e).set(i,!1),!0)}test(e,i){i=Qb(i),e instanceof nl&&(e=this._getSymbolForTextProxy(e));const s=this._consumable.get(e);if(s===void 0)return null;const u=s.get(i);return u===void 0?null:u}revert(e,i){i=Qb(i),e instanceof nl&&(e=this._getSymbolForTextProxy(e));const s=this.test(e,i);return s===!1?(this._consumable.get(e).set(i,!0),!0):s!==!0&&null}verifyAllConsumed(e){const i=[];for(const[s,u]of this._consumable)for(const[f,m]of u){const w=f.split(":")[0];m&&e==w&&i.push({event:f,item:s.name||s.description})}if(i.length)throw new M("conversion-model-consumable-not-consumed",null,{items:i})}_getSymbolForTextProxy(e){let i=null;const s=this._textProxyRegistry.get(e.startOffset);if(s){const u=s.get(e.endOffset);u&&(i=u.get(e.parent))}return i||(i=this._addSymbolForTextProxy(e)),i}_addSymbolForTextProxy(e){const i=e.startOffset,s=e.endOffset,u=e.parent,f=Symbol("$textProxy:"+e.data);let m,w;return m=this._textProxyRegistry.get(i),m||(m=new Map,this._textProxyRegistry.set(i,m)),w=m.get(s),w||(w=new Map,m.set(s,w)),w.set(u,f),f}}function Qb(c){const e=c.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?c:e.length>1?e[0]+":"+e[1]:e[0]}var yR=Object.defineProperty,vR=Object.defineProperties,AR=Object.getOwnPropertyDescriptors,R2=Object.getOwnPropertySymbols,_R=Object.prototype.hasOwnProperty,CR=Object.prototype.propertyIsEnumerable,F2=(c,e,i)=>e in c?yR(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,ty=(c,e)=>{for(var i in e||(e={}))_R.call(e,i)&&F2(c,i,e[i]);if(R2)for(var i of R2(e))CR.call(e,i)&&F2(c,i,e[i]);return c},z2=(c,e)=>vR(c,AR(e));class U2 extends oe(){constructor(e){super(),this._conversionApi=ty({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,i,s){const u=this._createConversionApi(s,e.getRefreshedItems());for(const m of e.getMarkersToRemove())this._convertMarkerRemove(m.name,m.range,u);const f=this._reduceChanges(e.getChanges());for(const m of f)m.type==="insert"?this._convertInsert(it._createFromPositionAndShift(m.position,m.length),u):m.type==="reinsert"?this._convertReinsert(it._createFromPositionAndShift(m.position,m.length),u):m.type==="remove"?this._convertRemove(m.position,m.length,m.name,u):this._convertAttribute(m.range,m.attributeKey,m.attributeOldValue,m.attributeNewValue,u);u.mapper.flushDeferredBindings();for(const m of u.mapper.flushUnboundMarkerNames()){const w=i.get(m).getRange();this._convertMarkerRemove(m,w,u),this._convertMarkerAdd(m,w,u)}for(const m of e.getMarkersToAdd())this._convertMarkerAdd(m.name,m.range,u);u.consumable.verifyAllConsumed("insert")}convert(e,i,s,u={}){const f=this._createConversionApi(s,void 0,u);this._convertInsert(e,f);for(const[m,w]of i)this._convertMarkerAdd(m,w,f);f.consumable.verifyAllConsumed("insert")}convertSelection(e,i,s){const u=this._createConversionApi(s);this.fire("cleanSelection",{selection:e},u);const f=e.getFirstPosition().root;if(!u.mapper.toViewElement(f))return;const m=Array.from(i.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(u.consumable,e,m),this.fire("selection",{selection:e},u),e.isCollapsed){for(const w of m)if(u.consumable.test(e,"addMarker:"+w.name)){const A=w.getRange();if(!xR(e.getFirstPosition(),w,u.mapper))continue;const S={item:e,markerName:w.name,markerRange:A};this.fire(`addMarker:${w.name}`,S,u)}for(const w of e.getAttributeKeys())if(u.consumable.test(e,"attribute:"+w)){const A={item:e,range:e.getFirstRange(),attributeKey:w,attributeOldValue:null,attributeNewValue:e.getAttribute(w)};this.fire(`attribute:${w}:$text`,A,u)}}}_convertInsert(e,i,s={}){s.doNotAddConsumables||this._addConsumablesForInsert(i.consumable,e);for(const u of Array.from(e.getWalker({shallow:!0})).map(q2))this._testAndFire("insert",u,i)}_convertRemove(e,i,s,u){this.fire(`remove:${s}`,{position:e,length:i},u)}_convertAttribute(e,i,s,u,f){this._addConsumablesForRange(f.consumable,e,`attribute:${i}`);for(const m of e){const w={item:m.item,range:it._createFromPositionAndShift(m.previousPosition,m.length),attributeKey:i,attributeOldValue:s,attributeNewValue:u};this._testAndFire(`attribute:${i}`,w,f)}}_convertReinsert(e,i){const s=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(i.consumable,s);for(const u of s.map(q2))this._testAndFire("insert",z2(ty({},u),{reconversion:!0}),i)}_convertMarkerAdd(e,i,s){if(i.root.rootName=="$graveyard")return;const u=`addMarker:${e}`;if(s.consumable.add(i,u),this.fire(u,{markerName:e,markerRange:i},s),s.consumable.consume(i,u)){this._addConsumablesForRange(s.consumable,i,u);for(const f of i.getItems()){if(!s.consumable.test(f,u))continue;const m={item:f,range:it._createOn(f),markerName:e,markerRange:i};this.fire(u,m,s)}}}_convertMarkerRemove(e,i,s){i.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:i},s)}_reduceChanges(e){const i={changes:e};return this.fire("reduceChanges",i),i.changes}_addConsumablesForInsert(e,i){for(const s of i){const u=s.item;if(e.test(u,"insert")===null){e.add(u,"insert");for(const f of u.getAttributeKeys())e.add(u,"attribute:"+f)}}return e}_addConsumablesForRange(e,i,s){for(const u of i.getItems())e.add(u,s);return e}_addConsumablesForSelection(e,i,s){e.add(i,"selection");for(const u of s)e.add(i,"addMarker:"+u.name);for(const u of i.getAttributeKeys())e.add(i,"attribute:"+u);return e}_testAndFire(e,i,s){const u=function(A,S){const T=S.item.is("element")?S.item.name:"$text";return`${A}:${T}`}(e,i),f=i.item.is("$textProxy")?s.consumable._getSymbolForTextProxy(i.item):i.item,m=this._firedEventsMap.get(s),w=m.get(f);if(w){if(w.has(u))return;w.add(u)}else m.set(f,new Set([u]));this.fire(u,i,s)}_testAndFireAddAttributes(e,i){const s={item:e,range:it._createOn(e)};for(const u of s.item.getAttributeKeys())s.attributeKey=u,s.attributeOldValue=null,s.attributeNewValue=s.item.getAttribute(u),this._testAndFire(`attribute:${u}`,s,i)}_createConversionApi(e,i=new Set,s={}){const u=z2(ty({},this._conversionApi),{consumable:new wR,writer:e,options:s,convertItem:f=>this._convertInsert(it._createOn(f),u),convertChildren:f=>this._convertInsert(it._createIn(f),u,{doNotAddConsumables:!0}),convertAttributes:f=>this._testAndFireAddAttributes(f,u),canReuseView:f=>!i.has(u.mapper.toModelElement(f))});return this._firedEventsMap.set(u,new Map),u}}function xR(c,e,i){const s=e.getRange(),u=Array.from(c.getAncestors());return u.shift(),u.reverse(),!u.some(f=>{if(s.containsItem(f))return!!i.toViewElement(f).getCustomProperty("addHighlight")})}function q2(c){return{item:c.item,range:it._createFromPositionAndShift(c.previousPosition,c.length)}}class Fs extends oe(Lu){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let s=!1;for(const u of e._ranges)if(i.isEqual(u)){s=!0;break}if(!s)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new it(e.start,e.end)}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?new it(e.start,e.end):null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?new it(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[i,s,u]=e;if(typeof s=="object"&&(u=s,s=void 0),i===null)this._setRanges([]);else if(i instanceof Fs)this._setRanges(i.getRanges(),i.isBackward);else if(i&&typeof i.getRanges=="function")this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof it)this._setRanges([i],!!u&&!!u.backward);else if(i instanceof vt)this._setRanges([new it(i)]);else if(i instanceof Kd){const f=!!u&&!!u.backward;let m;if(s=="in")m=it._createIn(i);else if(s=="on")m=it._createOn(i);else{if(s===void 0)throw new M("model-selection-setto-required-second-parameter",[this,i]);m=new it(vt._createAt(i,s))}this._setRanges([m],f)}else{if(!Ee(i))throw new M("model-selection-setto-not-selectable",[this,i]);this._setRanges(i,u&&!!u.backward)}}_setRanges(e,i=!1){const s=Array.from(e),u=s.some(f=>{if(!(f instanceof it))throw new M("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(m=>!m.isEqual(f))});(s.length!==this._ranges.length||u)&&(this._replaceAllRanges(s),this._lastRangeBackward=!!i,this.fire("change:range",{directChange:!0}))}setFocus(e,i){if(this.anchor===null)throw new M("model-selection-setfocus-no-ranges",[this,e]);const s=vt._createAt(e,i);if(s.compareWith(this.focus)=="same")return;const u=this.anchor;this._ranges.length&&this._popRange(),s.compareWith(u)=="before"?(this._pushRange(new it(s,u)),this._lastRangeBackward=!0):(this._pushRange(new it(u,s)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,i){this.getAttribute(e)!==i&&(this._attrs.set(e,i),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const i of this.getRanges()){const s=$2(i.start,e);ER(s,i)&&(yield s);for(const f of i.getWalker()){const m=f.item;f.type=="elementEnd"&&SR(m,e,i)&&(yield m)}const u=$2(i.end,e);DR(u,i)&&(yield u)}}containsEntireContent(e=this.anchor.root){const i=vt._createAt(e,0),s=vt._createAt(e,"end");return i.isTouching(this.getFirstPosition())&&s.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new it(e.start,e.end))}_checkRange(e){for(let i=0;i<this._ranges.length;i++)if(e.isIntersecting(this._ranges[i]))throw new M("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[i]})}_replaceAllRanges(e){this._removeAllRanges();for(const i of e)this._pushRange(i)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function V2(c,e){return!e.has(c)&&(e.add(c),c.root.document.model.schema.isBlock(c)&&!!c.parent)}function SR(c,e,i){return V2(c,e)&&ny(c,i)}function $2(c,e){const i=c.parent.root.document.model.schema,s=c.parent.getAncestors({parentFirst:!0,includeSelf:!0});let u=!1;const f=s.find(m=>!u&&(u=i.isLimit(m),!u&&V2(m,e)));return s.forEach(m=>e.add(m)),f}function ny(c,e){const i=function(s){const u=s.root.document.model.schema;let f=s.parent;for(;f;){if(u.isBlock(f))return f;f=f.parent}}(c);return i?!e.containsRange(it._createOn(i),!0):!0}function ER(c,e){return!!c&&(!(!e.isCollapsed&&!c.isEmpty)||!e.start.isTouching(vt._createAt(c,c.maxOffset))&&ny(c,e))}function DR(c,e){return!!c&&(!(!e.isCollapsed&&!c.isEmpty)||!e.end.isTouching(vt._createAt(c,0))&&ny(c,e))}Fs.prototype.is=function(c){return c==="selection"||c==="model:selection"};class zs extends oe(it){constructor(e,i){super(e,i),IR.call(this)}detach(){this.stopListening()}toRange(){return new it(this.start,this.end)}static fromRange(e){return new zs(e.start,e.end)}}function IR(){this.listenTo(this.root.document.model,"applyOperation",(c,e)=>{const i=e[0];i.isDocumentOperation&&TR.call(this,i)},{priority:"low"})}function TR(c){const e=this.getTransformedByOperation(c),i=it._createFromRanges(e),s=!i.isEqual(this),u=function(m,w){switch(w.type){case"insert":return m.containsPosition(w.position);case"move":case"remove":case"reinsert":case"merge":return m.containsPosition(w.sourcePosition)||m.start.isEqual(w.sourcePosition)||m.containsPosition(w.targetPosition);case"split":return m.containsPosition(w.splitPosition)||m.containsPosition(w.insertionPosition)}return!1}(this,c);let f=null;if(s){i.root.rootName=="$graveyard"&&(f=c.type=="remove"?c.sourcePosition:c.deletionPosition);const m=this.toRange();this.start=i.start,this.end=i.end,this.fire("change:range",m,{deletionPosition:f})}else u&&this.fire("change:content",this.toRange(),{deletionPosition:f})}zs.prototype.is=function(c){return c==="liveRange"||c==="model:liveRange"||c=="range"||c==="model:range"};const Jb="selection:";class rl extends oe(Lu){constructor(e){super(),this._selection=new NR(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,i){this._selection.setFocus(e,i)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,i){this._selection.setAttribute(e,i)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Jb+e}static _isStoreAttributeKey(e){return e.startsWith(Jb)}}rl.prototype.is=function(c){return c==="selection"||c=="model:selection"||c=="documentSelection"||c=="model:documentSelection"};class NR extends Fs{constructor(e){super(),this.markers=new Bs({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(i,s)=>{const u=s[0];u.isDocumentOperation&&u.type!="marker"&&u.type!="rename"&&u.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(i,s,u,f)=>{this._updateMarker(s,f)}),this.listenTo(this._document,"change",(i,s)=>{(function(u,f){const m=u.document.differ;for(const w of m.getChanges()){if(w.type!="insert")continue;const A=w.position.parent;w.length===A.maxOffset&&u.enqueueChange(f,S=>{const T=Array.from(A.getAttributeKeys()).filter(O=>O.startsWith(Jb));for(const O of T)S.removeAttribute(O,A)})}})(this._model,s)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,i){super.setFocus(e,i),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,i){if(this._setAttribute(e,i)){const s=[e];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}overrideGravity(){const e=P();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new M("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const i=this._prepareRange(e);i&&this._ranges.push(i)}_validateSelectionRanges(e){for(const i of e)if(!this._document._validateSelectionRange(i))throw new M("document-selection-wrong-position",this,{range:i})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const i=zs.fromRange(e);return i.on("change:range",(s,u,f)=>{if(this._hasChangedRange=!0,i.root==this._document.graveyard){this._selectionRestorePosition=f.deletionPosition;const m=this._ranges.indexOf(i);this._ranges.splice(m,1),i.detach()}}),i}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let i=!1;for(const u of this._model.markers){const f=u.name.split(":",1)[0];if(!this._observedMarkers.has(f))continue;const m=u.getRange();for(const w of this.getRanges())m.containsRange(w,!w.isCollapsed)&&e.push(u)}const s=Array.from(this.markers);for(const u of e)this.markers.has(u)||(this.markers.add(u),i=!0);for(const u of Array.from(this.markers))e.includes(u)||(this.markers.remove(u),i=!0);i&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateMarker(e,i){const s=e.name.split(":",1)[0];if(!this._observedMarkers.has(s))return;let u=!1;const f=Array.from(this.markers),m=this.markers.has(e);if(i){let w=!1;for(const A of this.getRanges())if(i.containsRange(A,!A.isCollapsed)){w=!0;break}w&&!m?(this.markers.add(e),u=!0):!w&&m&&(this.markers.remove(e),u=!0)}else m&&(this.markers.remove(e),u=!0);u&&this.fire("change:marker",{oldMarkers:f,directChange:!1})}_updateAttributes(e){const i=ya(this._getSurroundingAttributes()),s=ya(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[f,m]of this._attributePriority)m=="low"&&(this._attrs.delete(f),this._attributePriority.delete(f));this._setAttributesTo(i);const u=[];for(const[f,m]of this.getAttributes())s.has(f)&&s.get(f)===m||u.push(f);for(const[f]of s)this.hasAttribute(f)||u.push(f);u.length>0&&this.fire("change:attribute",{attributeKeys:u,directChange:!1})}_setAttribute(e,i,s=!0){const u=s?"normal":"low";return u=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==i&&(this._attrs.set(e,i),this._attributePriority.set(e,u),!0)}_removeAttribute(e,i=!0){const s=i?"normal":"low";return(s!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,s),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const i=new Set;for(const[s,u]of this.getAttributes())e.get(s)!==u&&this._removeAttribute(s,!1);for(const[s,u]of e)this._setAttribute(s,u,!1)&&i.add(s);return i}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const i of e.getAttributeKeys())i.startsWith(Jb)&&(yield[i.substr(10),e.getAttribute(i)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),i=this._model.schema;if(e.root.rootName=="$graveyard")return null;let s=null;if(this.isCollapsed){const u=e.textNode?e.textNode:e.nodeBefore,f=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(s=km(u,i)),s||(s=km(f,i)),!this.isGravityOverridden&&!s){let m=u;for(;m&&!s;)m=m.previousSibling,s=km(m,i)}if(!s){let m=f;for(;m&&!s;)m=m.nextSibling,s=km(m,i)}s||(s=this.getStoredAttributes())}else{const u=this.getFirstRange();for(const f of u){if(f.item.is("element")&&i.isObject(f.item)){s=km(f.item,i);break}if(f.type=="text"){s=f.item.getAttributes();break}}}return s}_fixGraveyardSelection(e){const i=this._model.schema.getNearestSelectionRange(e);i&&this._pushRange(i)}}function km(c,e){if(!c)return null;if(c instanceof nl||c instanceof gr)return c.getAttributes();if(!e.isInline(c))return null;if(!e.isObject(c))return[];const i=[];for(const[s,u]of c.getAttributes())e.checkAttribute("$text",s)&&e.getAttributeProperties(s).copyFromObject!==!1&&i.push([s,u]);return i}class H2{constructor(e){this._dispatchers=e}add(e){for(const i of this._dispatchers)e(i);return this}}class MR extends H2{elementToElement(e){return this.add(function(i){const s=Y2(i.model),u=wm(i.view,"container");return s.attributes.length&&(s.children=!0),f=>{f.on(`insert:${s.name}`,OR(u,Z2(s)),{priority:i.converterPriority||"normal"}),(s.children||s.attributes.length)&&f.on("reduceChanges",J2(s),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(i){const s=Y2(i.model),u=wm(i.view,"container");return s.children=!0,f=>{if(f._conversionApi.schema.checkChild(s.name,"$text"))throw new M("conversion-element-to-structure-disallowed-text",f,{elementName:s.name});var m,w;f.on(`insert:${s.name}`,(m=u,w=Z2(s),(A,S,T)=>{if(!w(S.item,T.consumable,{preflight:!0}))return;const O=new Map;T.writer._registerSlotFactory(function(ee,ie,be){return(xe,Oe)=>{const et=xe.createContainerElement("$slot");let ft=null;if(Oe==="children")ft=Array.from(ee.getChildren());else{if(typeof Oe!="function")throw new M("conversion-slot-mode-unknown",be.dispatcher,{modeOrFilter:Oe});ft=Array.from(ee.getChildren()).filter(Mt=>Oe(Mt))}return ie.set(et,ft),et}}(S.item,O,T));const U=m(S.item,T,S);if(T.writer._clearSlotFactory(),!U)return;(function(ee,ie,be){const xe=Array.from(ie.values()).flat(),Oe=new Set(xe);if(Oe.size!=xe.length)throw new M("conversion-slot-filter-overlap",be.dispatcher,{element:ee});if(Oe.size!=ee.childCount)throw new M("conversion-slot-filter-incomplete",be.dispatcher,{element:ee})})(S.item,O,T),w(S.item,T.consumable);const G=T.mapper.toViewPosition(S.range.start);T.mapper.bindElements(S.item,U),T.writer.insert(G,U),T.convertAttributes(S.item),function(ee,ie,be,xe){be.mapper.on("modelToViewPosition",ft,{priority:"highest"});let Oe=null,et=null;for([Oe,et]of ie)X2(ee,et,be,xe),be.writer.move(be.writer.createRangeIn(Oe),be.writer.createPositionBefore(Oe)),be.writer.remove(Oe);function ft(Mt,tn){const gn=tn.modelPosition.nodeAfter,_r=et.indexOf(gn);_r<0||(tn.viewPosition=tn.mapper.findPositionIn(Oe,_r))}be.mapper.off("modelToViewPosition",ft)}(U,O,T,{reconversion:S.reconversion})}),{priority:i.converterPriority||"normal"}),f.on("reduceChanges",J2(s),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(i){i=tl(i);let s=i.model;typeof s=="string"&&(s={key:s});let u=`attribute:${s.key}`;if(s.name&&(u+=":"+s.name),s.values)for(const m of s.values)i.view[m]=wm(i.view[m],"attribute");else i.view=wm(i.view,"attribute");const f=K2(i);return m=>{m.on(u,PR(f),{priority:i.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(i){i=tl(i);let s=i.model;typeof s=="string"&&(s={key:s});let u=`attribute:${s.key}`;if(s.name&&(u+=":"+s.name),s.values)for(const m of s.values)i.view[m]=Q2(i.view[m]);else i.view=Q2(i.view);const f=K2(i);return m=>{var w;m.on(u,(w=f,(A,S,T)=>{if(!T.consumable.test(S.item,A.name))return;const O=w(S.attributeOldValue,T,S),U=w(S.attributeNewValue,T,S);if(!O&&!U)return;T.consumable.consume(S.item,A.name);const G=T.mapper.toViewElement(S.item),ee=T.writer;if(!G)throw new M("conversion-attribute-to-attribute-on-text",T.dispatcher,S);if(S.attributeOldValue!==null&&O)if(O.key=="class"){const ie=typeof O.value=="string"?O.value.split(/\s+/):O.value;for(const be of ie)ee.removeClass(be,G)}else if(O.key=="style")if(typeof O.value=="string"){const ie=new dm(ee.document.stylesProcessor);ie.setTo(O.value);for(const[be]of ie.getStylesEntries())ee.removeStyle(be,G)}else{const ie=Object.keys(O.value);for(const be of ie)ee.removeStyle(be,G)}else ee.removeAttribute(O.key,G);if(S.attributeNewValue!==null&&U)if(U.key=="class"){const ie=typeof U.value=="string"?U.value.split(/\s+/):U.value;for(const be of ie)ee.addClass(be,G)}else if(U.key=="style")if(typeof U.value=="string"){const ie=new dm(ee.document.stylesProcessor);ie.setTo(U.value);for(const[be,xe]of ie.getStylesEntries())ee.setStyle(be,xe,G)}else{const ie=Object.keys(U.value);for(const be of ie)ee.setStyle(be,U.value[be],G)}else ee.setAttribute(U.key,U.value,G)}),{priority:i.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(i){const s=wm(i.view,"ui");return u=>{u.on(`addMarker:${i.model}`,LR(s),{priority:i.converterPriority||"normal"}),u.on(`removeMarker:${i.model}`,(f,m,w)=>{const A=w.mapper.markerNameToElements(m.markerName);if(A){for(const S of A)w.mapper.unbindElementFromMarkerName(S,m.markerName),w.writer.clear(w.writer.createRangeOn(S),S);w.writer.clearClonedElementsGroup(m.markerName),f.stop()}},{priority:i.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(i){return s=>{var u;s.on(`addMarker:${i.model}`,(u=i.view,(f,m,w)=>{if(!m.item||!(m.item instanceof Fs||m.item instanceof rl||m.item.is("$textProxy")))return;const A=ry(u,m,w);if(!A||!w.consumable.consume(m.item,f.name))return;const S=w.writer,T=W2(S,A),O=S.document.selection;if(m.item instanceof Fs||m.item instanceof rl)S.wrap(O.getFirstRange(),T);else{const U=w.mapper.toViewRange(m.range),G=S.wrap(U,T);for(const ee of G.getItems())if(ee.is("attributeElement")&&ee.isSimilar(T)){w.mapper.bindElementToMarker(ee,m.markerName);break}}}),{priority:i.converterPriority||"normal"}),s.on(`addMarker:${i.model}`,function(f){return(m,w,A)=>{if(!w.item||!(w.item instanceof lr))return;const S=ry(f,w,A);if(!S||!A.consumable.test(w.item,m.name))return;const T=A.mapper.toViewElement(w.item);if(T&&T.getCustomProperty("addHighlight")){A.consumable.consume(w.item,m.name);for(const O of it._createIn(w.item))A.consumable.consume(O.item,m.name);T.getCustomProperty("addHighlight")(T,S,A.writer),A.mapper.bindElementToMarker(T,w.markerName)}}}(i.view),{priority:i.converterPriority||"normal"}),s.on(`removeMarker:${i.model}`,function(f){return(m,w,A)=>{if(w.markerRange.isCollapsed)return;const S=ry(f,w,A);if(!S)return;const T=W2(A.writer,S),O=A.mapper.markerNameToElements(w.markerName);if(O){for(const U of O)A.mapper.unbindElementFromMarkerName(U,w.markerName),U.is("attributeElement")?A.writer.unwrap(A.writer.createRangeOn(U),T):U.getCustomProperty("removeHighlight")(U,S.id,A.writer);A.writer.clearClonedElementsGroup(w.markerName),m.stop()}}}(i.view),{priority:i.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(i){i=tl(i);const s=i.model;let u=i.view;return u||(u=f=>({group:s,name:f.substr(i.model.length+1)})),f=>{var m;f.on(`addMarker:${s}`,(m=u,(w,A,S)=>{const T=m(A.markerName,S);if(!T)return;const O=A.markerRange;S.consumable.consume(O,w.name)&&(G2(O,!1,S,A,T),G2(O,!0,S,A,T),w.stop())}),{priority:i.converterPriority||"normal"}),f.on(`removeMarker:${s}`,function(w){return(A,S,T)=>{const O=w(S.markerName,T);if(!O)return;const U=T.mapper.markerNameToElements(S.markerName);if(U){for(const ee of U)T.mapper.unbindElementFromMarkerName(ee,S.markerName),ee.is("containerElement")?(G(`data-${O.group}-start-before`,ee),G(`data-${O.group}-start-after`,ee),G(`data-${O.group}-end-before`,ee),G(`data-${O.group}-end-after`,ee)):T.writer.clear(T.writer.createRangeOn(ee),ee);T.writer.clearClonedElementsGroup(S.markerName),A.stop()}function G(ee,ie){if(ie.hasAttribute(ee)){const be=new Set(ie.getAttribute(ee).split(","));be.delete(O.name),be.size==0?T.writer.removeAttribute(ee,ie):T.writer.setAttribute(ee,Array.from(be).join(","),ie)}}}}(u),{priority:i.converterPriority||"normal"})}}(e))}}function W2(c,e){const i=c.createAttributeElement("span",e.attributes);return e.classes&&i._addClass(e.classes),typeof e.priority=="number"&&(i._priority=e.priority),i._id=e.id,i}function PR(c){return(e,i,s)=>{if(!s.consumable.test(i.item,e.name))return;const u=c(i.attributeOldValue,s,i),f=c(i.attributeNewValue,s,i);if(!u&&!f)return;s.consumable.consume(i.item,e.name);const m=s.writer,w=m.document.selection;if(i.item instanceof Fs||i.item instanceof rl)m.wrap(w.getFirstRange(),f);else{let A=s.mapper.toViewRange(i.range);i.attributeOldValue!==null&&u&&(A=m.unwrap(A,u)),i.attributeNewValue!==null&&f&&m.wrap(A,f)}}}function OR(c,e=BR){return(i,s,u)=>{if(!e(s.item,u.consumable,{preflight:!0}))return;const f=c(s.item,u,s);if(!f)return;e(s.item,u.consumable);const m=u.mapper.toViewPosition(s.range.start);u.mapper.bindElements(s.item,f),u.writer.insert(m,f),u.convertAttributes(s.item),X2(f,s.item.getChildren(),u,{reconversion:s.reconversion})}}function LR(c){return(e,i,s)=>{i.isOpening=!0;const u=c(i,s);i.isOpening=!1;const f=c(i,s);if(!u||!f)return;const m=i.markerRange;if(m.isCollapsed&&!s.consumable.consume(m,e.name))return;for(const S of m)if(!s.consumable.consume(S.item,e.name))return;const w=s.mapper,A=s.writer;A.insert(w.toViewPosition(m.start),u),s.mapper.bindElementToMarker(u,i.markerName),m.isCollapsed||(A.insert(w.toViewPosition(m.end),f),s.mapper.bindElementToMarker(f,i.markerName)),e.stop()}}function G2(c,e,i,s,u){const f=e?c.start:c.end,m=f.nodeAfter&&f.nodeAfter.is("element")?f.nodeAfter:null,w=f.nodeBefore&&f.nodeBefore.is("element")?f.nodeBefore:null;if(m||w){let A,S;e&&m||!e&&!w?(A=m,S=!0):(A=w,S=!1);const T=i.mapper.toViewElement(A);if(T)return void function(O,U,G,ee,ie,be){const xe=`data-${be.group}-${U?"start":"end"}-${G?"before":"after"}`,Oe=O.hasAttribute(xe)?O.getAttribute(xe).split(","):[];Oe.unshift(be.name),ee.writer.setAttribute(xe,Oe.join(","),O),ee.mapper.bindElementToMarker(O,ie.markerName)}(T,e,S,i,s,u)}(function(A,S,T,O,U){const G=`${U.group}-${S?"start":"end"}`,ee=U.name?{name:U.name}:null,ie=T.writer.createUIElement(G,ee);T.writer.insert(A,ie),T.mapper.bindElementToMarker(ie,O.markerName)})(i.mapper.toViewPosition(f),e,i,s,u)}function Y2(c){return typeof c=="string"&&(c={name:c}),{name:c.name,attributes:c.attributes?rr(c.attributes):[],children:!!c.children}}function wm(c,e){return typeof c=="function"?c:(i,s)=>function(u,f,m){typeof u=="string"&&(u={name:u});let w;const A=f.writer,S=Object.assign({},u.attributes);if(m=="container")w=A.createContainerElement(u.name,S);else if(m=="attribute"){const T={priority:u.priority||Gd.DEFAULT_PRIORITY};w=A.createAttributeElement(u.name,S,T)}else w=A.createUIElement(u.name,S);if(u.styles){const T=Object.keys(u.styles);for(const O of T)A.setStyle(O,u.styles[O],w)}if(u.classes){const T=u.classes;if(typeof T=="string")A.addClass(T,w);else for(const O of T)A.addClass(O,w)}return w}(c,s,e)}function K2(c){return c.model.values?(e,i,s)=>{const u=c.view[e];return u?u(e,i,s):null}:c.view}function Q2(c){return typeof c=="string"?e=>({key:c,value:e}):typeof c=="object"?c.value?()=>c:e=>({key:c.key,value:e}):c}function ry(c,e,i){const s=typeof c=="function"?c(e,i):c;return s?(s.priority||(s.priority=10),s.id||(s.id=e.markerName),s):null}function J2(c){const e=function(i){return(s,u)=>{if(!s.is("element",i.name))return!1;if(u.type=="attribute"){if(i.attributes.includes(u.attributeKey))return!0}else if(i.children)return!0;return!1}}(c);return(i,s)=>{const u=[];s.reconvertedElements||(s.reconvertedElements=new Set);for(const f of s.changes){const m=f.type=="attribute"?f.range.start.nodeAfter:f.position.parent;if(m&&e(m,f)){if(!s.reconvertedElements.has(m)){s.reconvertedElements.add(m);const w=vt._createBefore(m);let A=u.length;for(let S=u.length-1;S>=0;S--){const T=u[S],O=(T.type=="attribute"?T.range.start:T.position).compareWith(w);if(O=="before"||T.type=="remove"&&O=="same")break;A=S}u.splice(A,0,{type:"remove",name:m.name,position:w,length:1},{type:"reinsert",name:m.name,position:w,length:1})}}else u.push(f)}s.changes=u}}function Z2(c){return(e,i,s={})=>{const u=["insert"];for(const f of c.attributes)e.hasAttribute(f)&&u.push(`attribute:${f}`);return!!u.every(f=>i.test(e,f))&&(s.preflight||u.forEach(f=>i.consume(e,f)),!0)}}function X2(c,e,i,s){for(const u of e)jR(c.root,u,i,s)||i.convertItem(u)}function jR(c,e,i,s){const{writer:u,mapper:f}=i;if(!s.reconversion)return!1;const m=f.toViewElement(e);return!(!m||m.root==c)&&!!i.canReuseView(m)&&(u.move(u.createRangeOn(m),f.toViewPosition(vt._createBefore(e))),!0)}function BR(c,e,{preflight:i}={}){return i?e.test(c,"insert"):e.consume(c,"insert")}function ex(c){const{schema:e,document:i}=c.model;for(const s of i.getRoots())if(s.isEmpty&&!e.checkChild(s,"$text")&&e.checkChild(s,"paragraph"))return c.insertElement("paragraph",s),!0;return!1}function tx(c,e,i){const s=i.createContext(c);return!!i.checkChild(s,"paragraph")&&!!i.checkChild(s.push("paragraph"),e)}function nx(c,e){const i=e.createElement("paragraph");return e.insert(i,c),e.createPositionAt(i,0)}var RR=Object.defineProperty,FR=Object.defineProperties,zR=Object.getOwnPropertyDescriptors,rx=Object.getOwnPropertySymbols,UR=Object.prototype.hasOwnProperty,qR=Object.prototype.propertyIsEnumerable,ix=(c,e,i)=>e in c?RR(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class VR extends H2{elementToElement(e){return this.add(ox(e))}elementToAttribute(e){return this.add(function(i){i=tl(i),sx(i);const s=ax(i,!1),u=iy(i.view),f=u?`element:${u}`:"element";return m=>{m.on(f,s,{priority:i.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(i){i=tl(i);let s=null;(typeof i.view=="string"||i.view.key)&&(s=function(f){typeof f.view=="string"&&(f.view={key:f.view});const m=f.view.key,w=f.view.value===void 0?/[\s\S]*/:f.view.value;let A;return m=="class"||m=="style"?A={[m=="class"?"classes":"styles"]:w}:A={attributes:{[m]:w}},f.view.name&&(A.name=f.view.name),f.view=A,m}(i)),sx(i,s);const u=ax(i,!0);return f=>{f.on("element",u,{priority:i.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(i){const s=function(m){return(w,A)=>{const S=typeof m=="string"?m:m(w,A);return A.writer.createElement("$marker",{"data-name":S})}}(i.model);return ox((u=((m,w)=>{for(var A in w||(w={}))UR.call(w,A)&&ix(m,A,w[A]);if(rx)for(var A of rx(w))qR.call(w,A)&&ix(m,A,w[A]);return m})({},i),f={model:s},FR(u,zR(f))));var u,f}(e))}dataToMarker(e){return this.add(function(i){i=tl(i),i.model||(i.model=m=>m?i.view+":"+m:i.view);const s={view:i.view,model:i.model},u=oy(lx(s,"start")),f=oy(lx(s,"end"));return m=>{m.on(`element:${i.view}-start`,u,{priority:i.converterPriority||"normal"}),m.on(`element:${i.view}-end`,f,{priority:i.converterPriority||"normal"});const w=F.low,A=F.highest,S=F.get(i.converterPriority)/A;m.on("element",function(T){return(O,U,G)=>{const ee=`data-${T.view}`;function ie(be,xe){for(const Oe of xe){const et=T.model(Oe,G),ft=G.writer.createElement("$marker",{"data-name":et});G.writer.insert(ft,be),U.modelCursor.isEqual(be)?U.modelCursor=U.modelCursor.getShiftedBy(1):U.modelCursor=U.modelCursor._getTransformedByInsertion(be,1),U.modelRange=U.modelRange._getTransformedByInsertion(be,1)[0]}}(G.consumable.test(U.viewItem,{attributes:ee+"-end-after"})||G.consumable.test(U.viewItem,{attributes:ee+"-start-after"})||G.consumable.test(U.viewItem,{attributes:ee+"-end-before"})||G.consumable.test(U.viewItem,{attributes:ee+"-start-before"}))&&(U.modelRange||Object.assign(U,G.convertChildren(U.viewItem,U.modelCursor)),G.consumable.consume(U.viewItem,{attributes:ee+"-end-after"})&&ie(U.modelRange.end,U.viewItem.getAttribute(ee+"-end-after").split(",")),G.consumable.consume(U.viewItem,{attributes:ee+"-start-after"})&&ie(U.modelRange.end,U.viewItem.getAttribute(ee+"-start-after").split(",")),G.consumable.consume(U.viewItem,{attributes:ee+"-end-before"})&&ie(U.modelRange.start,U.viewItem.getAttribute(ee+"-end-before").split(",")),G.consumable.consume(U.viewItem,{attributes:ee+"-start-before"})&&ie(U.modelRange.start,U.viewItem.getAttribute(ee+"-start-before").split(",")))}}(s),{priority:w+S})}}(e))}}function ox(c){const e=oy(c=tl(c)),i=iy(c.view),s=i?`element:${i}`:"element";return u=>{u.on(s,e,{priority:c.converterPriority||"normal"})}}function iy(c){return typeof c=="string"?c:typeof c=="object"&&typeof c.name=="string"?c.name:null}function oy(c){const e=new po(c.view);return(i,s,u)=>{const f=e.match(s.viewItem);if(!f)return;const m=f.match;if(m.name=!0,!u.consumable.test(s.viewItem,m))return;const w=function(A,S,T){return A instanceof Function?A(S,T):T.writer.createElement(A)}(c.model,s.viewItem,u);w&&u.safeInsert(w,s.modelCursor)&&(u.consumable.consume(s.viewItem,m),u.convertChildren(s.viewItem,w),u.updateConversionResult(w,s))}}function sx(c,e=null){const i=e===null||(f=>f.getAttribute(e)),s=typeof c.model!="object"?c.model:c.model.key,u=typeof c.model!="object"||c.model.value===void 0?i:c.model.value;c.model={key:s,value:u}}function ax(c,e){const i=new po(c.view);return(s,u,f)=>{if(!u.modelRange&&e)return;const m=i.match(u.viewItem);if(!m||(function(T,O){const U=typeof T=="function"?T(O):T;return typeof U=="object"&&!iy(U)?!1:!U.classes&&!U.attributes&&!U.styles}(c.view,u.viewItem)?m.match.name=!0:delete m.match.name,!f.consumable.test(u.viewItem,m.match)))return;const w=c.model.key,A=typeof c.model.value=="function"?c.model.value(u.viewItem,f):c.model.value;if(A===null)return;u.modelRange||Object.assign(u,f.convertChildren(u.viewItem,u.modelCursor)),function(T,O,U,G){let ee=!1;for(const ie of Array.from(T.getItems({shallow:U})))G.schema.checkAttribute(ie,O.key)&&(ee=!0,ie.hasAttribute(O.key)||G.writer.setAttribute(O.key,O.value,ie));return ee}(u.modelRange,{key:w,value:A},e,f)&&(f.consumable.test(u.viewItem,{name:!0})&&(m.match.name=!0),f.consumable.consume(u.viewItem,m.match))}}function lx(c,e){return{view:`${c.view}-${e}`,model:(i,s)=>{const u=i.getAttribute("name"),f=c.model(u,s);return s.writer.createElement("$marker",{"data-name":f})}}}function $R(c){c.document.registerPostFixer(e=>function(i,s){const u=s.document.selection,f=s.schema,m=[];let w=!1;for(const A of u.getRanges()){const S=cx(A,f);S&&!S.isEqual(A)?(m.push(S),w=!0):m.push(A)}return w&&i.setSelection(function(A){const S=[...A],T=new Set;let O=1;for(;O<S.length;){const U=S[O],G=S.slice(0,O);for(const[ee,ie]of G.entries())if(!T.has(ee)){if(U.isEqual(ie))T.add(ee);else if(U.isIntersecting(ie)){T.add(ee),T.add(O);const be=U.getJoined(ie);S.push(be)}}O++}return S.filter((U,G)=>!T.has(G))}(m),{backward:u.isBackward}),!1}(e,c))}function cx(c,e){return c.isCollapsed?function(i,s){const u=i.start,f=s.getNearestSelectionRange(u);if(!f){const w=u.getAncestors().reverse().find(A=>s.isObject(A));return w?it._createOn(w):null}if(!f.isCollapsed)return f;const m=f.start;return u.isEqual(m)?null:new it(m)}(c,e):function(i,s){const{start:u,end:f}=i,m=s.checkChild(u,"$text"),w=s.checkChild(f,"$text"),A=s.getLimitElement(u),S=s.getLimitElement(f);if(A===S){if(m&&w)return null;if(function(U,G,ee){const ie=U.nodeAfter&&!ee.isLimit(U.nodeAfter)||ee.checkChild(U,"$text"),be=G.nodeBefore&&!ee.isLimit(G.nodeBefore)||ee.checkChild(G,"$text");return ie||be}(u,f,s)){const U=u.nodeAfter&&s.isSelectable(u.nodeAfter)?null:s.getNearestSelectionRange(u,"forward"),G=f.nodeBefore&&s.isSelectable(f.nodeBefore)?null:s.getNearestSelectionRange(f,"backward"),ee=U?U.start:u,ie=G?G.end:f;return new it(ee,ie)}}const T=A&&!A.is("rootElement"),O=S&&!S.is("rootElement");if(T||O){const U=u.nodeAfter&&f.nodeBefore&&u.nodeAfter.parent===f.nodeBefore.parent,G=T&&(!U||!dx(u.nodeAfter,s)),ee=O&&(!U||!dx(f.nodeBefore,s));let ie=u,be=f;return G&&(ie=vt._createBefore(ux(A,s))),ee&&(be=vt._createAfter(ux(S,s))),new it(ie,be)}return null}(c,e)}function ux(c,e){let i=c,s=i;for(;e.isLimit(s)&&s.parent;)i=s,s=s.parent;return i}function dx(c,e){return c&&e.isSelectable(c)}class HR extends Ue(){constructor(e,i){super(),this.model=e,this.view=new kR(i),this.mapper=new B2,this.downcastDispatcher=new U2({mapper:this.mapper,schema:e.schema});const s=this.model.document,u=s.selection,f=this.model.markers;var m,w,A;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(s,"change",()=>{this.view.change(S=>{this.downcastDispatcher.convertChanges(s.differ,f,S),this.downcastDispatcher.convertSelection(u,f,S)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(S,T){return(O,U)=>{const G=U.newSelection,ee=[];for(const be of G.getRanges())ee.push(T.toModelRange(be));const ie=S.createSelection(ee,{backward:G.isBackward});ie.isEqual(S.document.selection)||S.change(be=>{be.setSelection(ie)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(m=this.mapper,w=this.model.schema,A=this.view,(S,T)=>{if(!A.document.isComposing||b.isAndroid)for(let O=0;O<T.targetRanges.length;O++){const U=T.targetRanges[O],G=m.toModelRange(U),ee=cx(G,w);ee&&!ee.isEqual(G)&&(T.targetRanges[O]=m.toViewRange(ee))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(S,T,O)=>{if(!O.consumable.consume(T.item,S.name))return;const U=O.writer,G=O.mapper.toViewPosition(T.range.start),ee=U.createText(T.item.data);U.insert(G,ee)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(S,T,O)=>{O.convertAttributes(T.item),T.reconversion||!T.item.is("element")||T.item.isEmpty||O.convertChildren(T.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(S,T,O)=>{const U=O.mapper.toViewPosition(T.position),G=T.position.getShiftedBy(T.length),ee=O.mapper.toViewPosition(G,{isPhantom:!0}),ie=O.writer.createRange(U,ee),be=O.writer.remove(ie.getTrimmed());for(const xe of O.writer.createRangeIn(be).getItems())O.mapper.unbindViewElement(xe,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(S,T,O)=>{const U=O.writer,G=U.document.selection;for(const ee of G.getRanges())ee.isCollapsed&&ee.end.parent.isAttached()&&O.writer.mergeAttributes(ee.start);U.setSelection(null)}),this.downcastDispatcher.on("selection",(S,T,O)=>{const U=T.selection;if(U.isCollapsed||!O.consumable.consume(U,"selection"))return;const G=[];for(const ee of U.getRanges())G.push(O.mapper.toViewRange(ee));O.writer.setSelection(G,{backward:U.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(S,T,O)=>{const U=T.selection;if(!U.isCollapsed||!O.consumable.consume(U,"selection"))return;const G=O.writer,ee=U.getFirstPosition(),ie=O.mapper.toViewPosition(ee),be=G.breakAttributes(ie);G.setSelection(be)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(S=>{if(S.rootName=="$graveyard")return null;const T=new $d(this.view.document,S.name);return T.rootName=S.rootName,this.mapper.bindElements(S,T),T})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const i=typeof e=="string"?e:e.name,s=this.model.markers.get(i);if(!s)throw new M("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:i});this.model.change(()=>{this.model.markers._refresh(s)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class ym{constructor(){this._consumables=new Map}add(e,i){let s;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?s=this._consumables.get(e):(s=new WR(e),this._consumables.set(e,s)),s.add(i))}test(e,i){const s=this._consumables.get(e);return s===void 0?null:e.is("$text")||e.is("documentFragment")?s:s.test(i)}consume(e,i){return!!this.test(e,i)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(i),!0)}revert(e,i){const s=this._consumables.get(e);s!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):s.revert(i))}static consumablesFromElement(e){const i={element:e,name:!0,attributes:[],classes:[],styles:[]},s=e.getAttributeKeys();for(const m of s)m!="style"&&m!="class"&&i.attributes.push(m);const u=e.getClassNames();for(const m of u)i.classes.push(m);const f=e.getStyleNames();for(const m of f)i.styles.push(m);return i}static createFrom(e,i){if(i||(i=new ym),e.is("$text"))return i.add(e),i;e.is("element")&&i.add(e,ym.consumablesFromElement(e)),e.is("documentFragment")&&i.add(e);for(const s of e.getChildren())i=ym.createFrom(s,i);return i}}const Zb=["attributes","classes","styles"];class WR{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const i of Zb)i in e&&this._add(i,e[i])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const i of Zb)if(i in e){const s=this._test(i,e[i]);if(s!==!0)return s}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const i of Zb)i in e&&this._consume(i,e[i])}revert(e){e.name&&(this._canConsumeName=!0);for(const i of Zb)i in e&&this._revert(i,e[i])}_add(e,i){const s=rr(i),u=this._consumables[e];for(const f of s){if(e==="attributes"&&(f==="class"||f==="style"))throw new M("viewconsumable-invalid-attribute",this);if(u.set(f,!0),e==="styles")for(const m of this.element.document.stylesProcessor.getRelatedStyles(f))u.set(m,!0)}}_test(e,i){const s=rr(i),u=this._consumables[e];for(const f of s)if(e!=="attributes"||f!=="class"&&f!=="style"){const m=u.get(f);if(m===void 0)return null;if(!m)return!1}else{const m=f=="class"?"classes":"styles",w=this._test(m,[...this._consumables[m].keys()]);if(w!==!0)return w}return!0}_consume(e,i){const s=rr(i),u=this._consumables[e];for(const f of s)if(e!=="attributes"||f!=="class"&&f!=="style"){if(u.set(f,!1),e=="styles")for(const m of this.element.document.stylesProcessor.getRelatedStyles(f))u.set(m,!1)}else{const m=f=="class"?"classes":"styles";this._consume(m,[...this._consumables[m].keys()])}}_revert(e,i){const s=rr(i),u=this._consumables[e];for(const f of s)if(e!=="attributes"||f!=="class"&&f!=="style")u.get(f)===!1&&u.set(f,!0);else{const m=f=="class"?"classes":"styles";this._revert(m,[...this._consumables[m].keys()])}}}class GR extends Ue(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,i)=>{i[0]=new Jd(i[0])},{priority:"highest"}),this.on("checkChild",(e,i)=>{i[0]=new Jd(i[0]),i[1]=this.getDefinition(i[1])},{priority:"highest"})}register(e,i){if(this._sourceDefinitions[e])throw new M("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},i)],this._clearCache()}extend(e,i){if(!this._sourceDefinitions[e])throw new M("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},i)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let i;return i=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[i]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const i=this.getDefinition(e);return!(!i||!i.isBlock)}isLimit(e){const i=this.getDefinition(e);return!!i&&!(!i.isLimit&&!i.isObject)}isObject(e){const i=this.getDefinition(e);return!!i&&!!(i.isObject||i.isLimit&&i.isSelectable&&i.isContent)}isInline(e){const i=this.getDefinition(e);return!(!i||!i.isInline)}isSelectable(e){const i=this.getDefinition(e);return!!i&&!(!i.isSelectable&&!i.isObject)}isContent(e){const i=this.getDefinition(e);return!!i&&!(!i.isContent&&!i.isObject)}checkChild(e,i){return!!i&&this._checkContextMatch(i,e)}checkAttribute(e,i){const s=this.getDefinition(e.last);return!!s&&s.allowAttributes.includes(i)}checkMerge(e,i){if(e instanceof vt){const s=e.nodeBefore,u=e.nodeAfter;if(!(s instanceof lr))throw new M("schema-check-merge-no-element-before",this);if(!(u instanceof lr))throw new M("schema-check-merge-no-element-after",this);return this.checkMerge(s,u)}for(const s of i.getChildren())if(!this.checkChild(e,s))return!1;return!0}addChildCheck(e){this.on("checkChild",(i,[s,u])=>{if(!u)return;const f=e(s,u);typeof f=="boolean"&&(i.stop(),i.return=f)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(i,[s,u])=>{const f=e(s,u);typeof f=="boolean"&&(i.stop(),i.return=f)},{priority:"high"})}setAttributeProperties(e,i){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),i)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let i;for(e instanceof vt?i=e.parent:i=(e instanceof it?[e]:Array.from(e.getRanges())).reduce((s,u)=>{const f=u.getCommonAncestor();return s?s.getCommonAncestor(f,{includeSelf:!0}):f},null);!this.isLimit(i)&&i.parent;)i=i.parent;return i}checkAttributeInSelection(e,i){if(e.isCollapsed){const s=[...e.getFirstPosition().getAncestors(),new gr("",e.getAttributes())];return this.checkAttribute(s,i)}{const s=e.getRanges();for(const u of s)for(const f of u)if(this.checkAttribute(f.item,i))return!0}return!1}*getValidRanges(e,i){e=function*(s){for(const u of s)yield*u.getMinimalFlatRanges()}(e);for(const s of e)yield*this._getValidRangesForRange(s,i)}getNearestSelectionRange(e,i="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new it(e);let s,u;const f=e.getAncestors().reverse().find(m=>this.isLimit(m))||e.root;i!="both"&&i!="backward"||(s=new jc({boundaries:it._createIn(f),startPosition:e,direction:"backward"})),i!="both"&&i!="forward"||(u=new jc({boundaries:it._createIn(f),startPosition:e}));for(const m of function*(w,A){let S=!1;for(;!S;){if(S=!0,w){const T=w.next();T.done||(S=!1,yield{walker:w,value:T.value})}if(A){const T=A.next();T.done||(S=!1,yield{walker:A,value:T.value})}}}(s,u)){const w=m.walker==s?"elementEnd":"elementStart",A=m.value;if(A.type==w&&this.isObject(A.item))return it._createOn(A.item);if(this.checkChild(A.nextPosition,"$text"))return new it(A.nextPosition)}return null}findAllowedParent(e,i){let s=e.parent;for(;s;){if(this.checkChild(s,i))return s;if(this.isLimit(s))return null;s=s.parent}return null}setAllowedAttributes(e,i,s){const u=s.model;for(const[f,m]of Object.entries(i))u.schema.checkAttribute(e,f)&&s.setAttribute(f,m,e)}removeDisallowedAttributes(e,i){for(const s of e)if(s.is("$text"))hx(this,s,i);else{const u=it._createIn(s).getPositions();for(const f of u)hx(this,f.nodeBefore||f.parent,i)}}getAttributesWithProperty(e,i,s){const u={};for(const[f,m]of e.getAttributes()){const w=this.getAttributeProperties(f);w[i]!==void 0&&(s!==void 0&&s!==w[i]||(u[f]=m))}return u}createContext(e){return new Jd(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},i=this._sourceDefinitions,s=Object.keys(i);for(const u of s)e[u]=YR(i[u],u);for(const u of s)KR(e,u);for(const u of s)QR(e,u);for(const u of s)JR(e,u);for(const u of s)ZR(e,u),XR(e,u);for(const u of s)e7(e,u),t7(e,u),n7(e,u);this._compiledDefinitions=e}_checkContextMatch(e,i,s=i.length-1){const u=i.getItem(s);if(e.allowIn.includes(u.name)){if(s==0)return!0;{const f=this.getDefinition(u);return this._checkContextMatch(f,i,s-1)}}return!1}*_getValidRangesForRange(e,i){let s=e.start,u=e.start;for(const f of e.getItems({shallow:!0}))f.is("element")&&(yield*this._getValidRangesForRange(it._createIn(f),i)),this.checkAttribute(f,i)||(s.isEqual(u)||(yield new it(s,u)),s=vt._createAfter(f)),u=vt._createAfter(f);s.isEqual(u)||(yield new it(s,u))}findOptimalInsertionRange(e,i){const s=e.getSelectedElement();if(s&&this.isObject(s)&&!this.isInline(s))return i=="before"||i=="after"?new it(vt._createAt(s,i)):it._createOn(s);const u=Li(e.getSelectedBlocks());if(!u)return new it(e.focus);if(u.isEmpty)return new it(vt._createAt(u,0));const f=vt._createAfter(u);return e.focus.isTouching(f)?new it(f):new it(vt._createBefore(u))}}class Jd{constructor(e){if(e instanceof Jd)return e;let i;i=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=i.map(i7)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const i=new Jd([e]);return i._items=[...this._items,...i._items],i}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function YR(c,e){const i={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(s,u){for(const f of s){const m=Object.keys(f).filter(w=>w.startsWith("is"));for(const w of m)u[w]=!!f[w]}}(c,i),Zd(c,i,"allowIn"),Zd(c,i,"allowContentOf"),Zd(c,i,"allowWhere"),Zd(c,i,"allowAttributes"),Zd(c,i,"allowAttributesOf"),Zd(c,i,"allowChildren"),Zd(c,i,"inheritTypesFrom"),function(s,u){for(const f of s){const m=f.inheritAllFrom;m&&(u.allowContentOf.push(m),u.allowWhere.push(m),u.allowAttributesOf.push(m),u.inheritTypesFrom.push(m))}}(c,i),i}function KR(c,e){const i=c[e];for(const s of i.allowChildren){const u=c[s];u&&u.allowIn.push(e)}i.allowChildren.length=0}function QR(c,e){for(const i of c[e].allowContentOf)c[i]&&r7(c,i).forEach(s=>{s.allowIn.push(e)});delete c[e].allowContentOf}function JR(c,e){for(const i of c[e].allowWhere){const s=c[i];if(s){const u=s.allowIn;c[e].allowIn.push(...u)}}delete c[e].allowWhere}function ZR(c,e){for(const i of c[e].allowAttributesOf){const s=c[i];if(s){const u=s.allowAttributes;c[e].allowAttributes.push(...u)}}delete c[e].allowAttributesOf}function XR(c,e){const i=c[e];for(const s of i.inheritTypesFrom){const u=c[s];if(u){const f=Object.keys(u).filter(m=>m.startsWith("is"));for(const m of f)m in i||(i[m]=u[m])}}delete i.inheritTypesFrom}function e7(c,e){const i=c[e],s=i.allowIn.filter(u=>c[u]);i.allowIn=Array.from(new Set(s))}function t7(c,e){const i=c[e];for(const s of i.allowIn)c[s].allowChildren.push(e)}function n7(c,e){const i=c[e];i.allowAttributes=Array.from(new Set(i.allowAttributes))}function Zd(c,e,i){for(const s of c){const u=s[i];typeof u=="string"?e[i].push(u):Array.isArray(u)&&e[i].push(...u)}}function r7(c,e){const i=c[e];return(s=c,Object.keys(s).map(u=>s[u])).filter(u=>u.allowIn.includes(i.name));var s}function i7(c){return typeof c=="string"||c.is("documentFragment")?{name:typeof c=="string"?c:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:c.is("element")?c.name:"$text",*getAttributeKeys(){yield*c.getAttributeKeys()},getAttribute:e=>c.getAttribute(e)}}function hx(c,e,i){for(const s of e.getAttributeKeys())c.checkAttribute(e,s)||i.removeAttribute(s,e)}var o7=Object.defineProperty,s7=Object.defineProperties,a7=Object.getOwnPropertyDescriptors,fx=Object.getOwnPropertySymbols,l7=Object.prototype.hasOwnProperty,c7=Object.prototype.propertyIsEnumerable,px=(c,e,i)=>e in c?o7(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class u7 extends oe(){constructor(e){var i;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(i=((s,u)=>{for(var f in u||(u={}))l7.call(u,f)&&px(s,f,u[f]);if(fx)for(var f of fx(u))c7.call(u,f)&&px(s,f,u[f]);return s})({},e),s7(i,a7({consumable:null,writer:null,store:null,convertItem:(s,u)=>this._convertItem(s,u),convertChildren:(s,u)=>this._convertChildren(s,u),safeInsert:(s,u)=>this._safeInsert(s,u),updateConversionResult:(s,u)=>this._updateConversionResult(s,u),splitToAllowedParent:(s,u)=>this._splitToAllowedParent(s,u),getSplitParts:s=>this._getSplitParts(s),keepEmptyElement:s=>this._keepEmptyElement(s)})))}convert(e,i,s=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(m,w){let A;for(const S of new Jd(m)){const T={};for(const U of S.getAttributeKeys())T[U]=S.getAttribute(U);const O=w.createElement(S.name,T);A&&w.insert(O,A),A=vt._createAt(O,0)}return A}(s,i),this.conversionApi.writer=i,this.conversionApi.consumable=ym.createFrom(e),this.conversionApi.store={};const{modelRange:u}=this._convertItem(e,this._modelCursor),f=i.createDocumentFragment();if(u){this._removeEmptyElements();for(const m of Array.from(this._modelCursor.parent.getChildren()))i.append(m,f);f.markers=function(m,w){const A=new Set,S=new Map,T=it._createIn(m).getItems();for(const O of T)O.is("element","$marker")&&A.add(O);for(const O of A){const U=O.getAttribute("data-name"),G=w.createPositionBefore(O);S.has(U)?S.get(U).end=G.clone():S.set(U,new it(G.clone())),w.remove(O)}return S}(f,i)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,f}_convertItem(e,i){const s={viewItem:e,modelCursor:i,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,s,this.conversionApi):e.is("$text")?this.fire("text",s,this.conversionApi):this.fire("documentFragment",s,this.conversionApi),s.modelRange&&!(s.modelRange instanceof it))throw new M("view-conversion-dispatcher-incorrect-result",this);return{modelRange:s.modelRange,modelCursor:s.modelCursor}}_convertChildren(e,i){let s=i.is("position")?i:vt._createAt(i,0);const u=new it(s);for(const f of Array.from(e.getChildren())){const m=this._convertItem(f,s);m.modelRange instanceof it&&(u.end=m.modelRange.end,s=m.modelCursor)}return{modelRange:u,modelCursor:s}}_safeInsert(e,i){const s=this._splitToAllowedParent(e,i);return!!s&&(this.conversionApi.writer.insert(e,s.position),!0)}_updateConversionResult(e,i){const s=this._getSplitParts(e),u=this.conversionApi.writer;i.modelRange||(i.modelRange=u.createRange(u.createPositionBefore(e),u.createPositionAfter(s[s.length-1])));const f=this._cursorParents.get(e);i.modelCursor=f?u.createPositionAt(f,0):i.modelRange.end}_splitToAllowedParent(e,i){const{schema:s,writer:u}=this.conversionApi;let f=s.findAllowedParent(i,e);if(f){if(f===i.parent)return{position:i};this._modelCursor.parent.getAncestors().includes(f)&&(f=null)}if(!f)return tx(i,e,s)?{position:nx(i,u)}:null;const m=this.conversionApi.writer.split(i,f),w=[];for(const S of m.range.getWalker())if(S.type=="elementEnd")w.push(S.item);else{const T=w.pop(),O=S.item;this._registerSplitPair(T,O)}const A=m.range.end.parent;return this._cursorParents.set(e,A),{position:m.position,cursorParent:A}}_registerSplitPair(e,i){this._splitParts.has(e)||this._splitParts.set(e,[e]);const s=this._splitParts.get(e);this._splitParts.set(i,s),s.push(i)}_getSplitParts(e){let i;return i=this._splitParts.has(e)?this._splitParts.get(e):[e],i}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const i of this._splitParts.keys())i.isEmpty&&!this._emptyElementsToKeep.has(i)&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),e=!0);e&&this._removeEmptyElements()}}class d7{getHtml(e){const i=h.document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(e),i.innerHTML}}class h7{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Hb(e,{renderingMode:"data"}),this.htmlWriter=new d7}toData(e){const i=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(i)}toView(e){const i=this._toDom(e);return this.domConverter.domToView(i,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const i=this.domParser.parseFromString(e,"text/html"),s=i.createDocumentFragment(),u=i.body.childNodes;for(;u.length>0;)s.appendChild(u[0]);return s}}class f7 extends oe(){constructor(e,i){super(),this.model=e,this.mapper=new B2,this.downcastDispatcher=new U2({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(s,u,f)=>{if(!f.consumable.consume(u.item,s.name))return;const m=f.writer,w=f.mapper.toViewPosition(u.range.start),A=m.createText(u.item.data);m.insert(w,A)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(s,u,f)=>{f.convertAttributes(u.item),u.reconversion||!u.item.is("element")||u.item.isEmpty||f.convertChildren(u.item)},{priority:"lowest"}),this.upcastDispatcher=new u7({schema:e.schema}),this.viewDocument=new qb(i),this.stylesProcessor=i,this.htmlProcessor=new h7(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new l2(this.viewDocument),this.upcastDispatcher.on("text",(s,u,{schema:f,consumable:m,writer:w})=>{let A=u.modelCursor;if(!m.test(u.viewItem))return;if(!f.checkChild(A,"$text")){if(!tx(A,"$text",f)||u.viewItem.data.trim().length==0)return;const T=A.nodeBefore;A=nx(A,w),T&&T.is("element","$marker")&&(w.move(w.createRangeOn(T),A),A=w.createPositionAfter(T))}m.consume(u.viewItem);const S=w.createText(u.viewItem.data);w.insert(S,A),u.modelRange=w.createRange(A,A.getShiftedBy(S.offsetSize)),u.modelCursor=u.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(s,u,f)=>{if(!u.modelRange&&f.consumable.consume(u.viewItem,{name:!0})){const{modelRange:m,modelCursor:w}=f.convertChildren(u.viewItem,u.modelCursor);u.modelRange=m,u.modelCursor=w}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(s,u,f)=>{if(!u.modelRange&&f.consumable.consume(u.viewItem,{name:!0})){const{modelRange:m,modelCursor:w}=f.convertChildren(u.viewItem,u.modelCursor);u.modelRange=m,u.modelCursor=w}},{priority:"lowest"}),Ue().prototype.decorate.call(this,"init"),Ue().prototype.decorate.call(this,"set"),Ue().prototype.decorate.call(this,"get"),Ue().prototype.decorate.call(this,"toView"),Ue().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},ex)},{priority:"lowest"})}get(e={}){const{rootName:i="main",trim:s="empty"}=e;if(!this._checkIfRootsExists([i]))throw new M("datacontroller-get-non-existent-root",this);const u=this.model.document.getRoot(i);return u.isAttached()||B("datacontroller-get-detached-root",this),s!=="empty"||this.model.hasContent(u,{ignoreWhitespaces:!0})?this.stringify(u,e):""}stringify(e,i={}){const s=this.toView(e,i);return this.processor.toData(s)}toView(e,i={}){const s=this.viewDocument,u=this._viewWriter;this.mapper.clearBindings();const f=it._createIn(e),m=new Yd(s);this.mapper.bindElements(e,m);const w=e.is("documentFragment")?e.markers:function(A){const S=[],T=A.root.document;if(!T)return new Map;const O=it._createIn(A);for(const U of T.model.markers){const G=U.getRange(),ee=G.isCollapsed,ie=G.start.isEqual(O.start)||G.end.isEqual(O.end);if(ee&&ie)S.push([U.name,G]);else{const be=O.getIntersection(G);be&&S.push([U.name,be])}}return S.sort(([U,G],[ee,ie])=>{if(G.end.compareWith(ie.start)!=="after")return 1;if(G.start.compareWith(ie.end)!=="before")return-1;switch(G.start.compareWith(ie.start)){case"before":return 1;case"after":return-1;default:switch(G.end.compareWith(ie.end)){case"before":return 1;case"after":return-1;default:return ee.localeCompare(U)}}}),new Map(S)}(e);return this.downcastDispatcher.convert(f,w,u,i),m}init(e){if(this.model.document.version)throw new M("datacontroller-init-document-not-empty",this);let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new M("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},s=>{for(const u of Object.keys(i)){const f=this.model.document.getRoot(u);s.insert(this.parse(i[u],f),f,0)}}),Promise.resolve()}set(e,i={}){let s={};if(typeof e=="string"?s.main=e:s=e,!this._checkIfRootsExists(Object.keys(s)))throw new M("datacontroller-set-non-existent-root",this);this.model.enqueueChange(i.batchType||{},u=>{u.setSelection(null),u.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const f of Object.keys(s)){const m=this.model.document.getRoot(f);u.remove(u.createRangeIn(m)),u.insert(this.parse(s[f],m),m,0)}})}parse(e,i="$root"){const s=this.processor.toView(e);return this.toModel(s,i)}toModel(e,i="$root"){return this.model.change(s=>this.upcastDispatcher.convert(e,s,i))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const i of e)if(!this.model.document.getRoot(i))return!1;return!0}}class p7{constructor(e,i){this._helpers=new Map,this._downcast=rr(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=rr(i),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,i){const s=this._downcast.includes(i);if(!this._upcast.includes(i)&&!s)throw new M("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[i],isDowncast:s})}for(e){if(!this._helpers.has(e))throw new M("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:i,view:s}of sy(e))this.for("upcast").elementToElement({model:i,view:s,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:i,view:s}of sy(e))this.for("upcast").elementToAttribute({view:s,model:i,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:i,view:s}of sy(e))this.for("upcast").attributeToAttribute({view:s,model:i})}_createConversionHelpers({name:e,dispatchers:i,isDowncast:s}){if(this._helpers.has(e))throw new M("conversion-group-exists",this);const u=s?new MR(i):new VR(i);this._helpers.set(e,u)}}function*sy(c){if(c.model.values)for(const e of c.model.values){const i={key:c.model.key,value:e},s=c.view[e],u=c.upcastAlso?c.upcastAlso[e]:void 0;yield*mx(i,s,u)}else yield*mx(c.model,c.view,c.upcastAlso)}function*mx(c,e,i){if(yield{model:c,view:e},i)for(const s of rr(i))yield{model:c,view:s}}class Us{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,i){return new this(e.baseVersion)}}function ay(c,e){const i=bx(e),s=i.reduce((m,w)=>m+w.offsetSize,0),u=c.parent;_m(c);const f=c.index;return u._insertChild(f,i),Am(u,f+i.length),Am(u,f),new it(c,c.getShiftedBy(s))}function gx(c){if(!c.isFlat)throw new M("operation-utils-remove-range-not-flat",this);const e=c.start.parent;_m(c.start),_m(c.end);const i=e._removeChildren(c.start.index,c.end.index-c.start.index);return Am(e,c.start.index),i}function vm(c,e){if(!c.isFlat)throw new M("operation-utils-move-range-not-flat",this);const i=gx(c);return ay(e=e._getTransformedByDeletion(c.start,c.end.offset-c.start.offset),i)}function bx(c){const e=[];(function i(s){if(typeof s=="string")e.push(new gr(s));else if(s instanceof nl)e.push(new gr(s.data,s.getAttributes()));else if(s instanceof Kd)e.push(s);else if(Ee(s))for(const u of s)i(u)})(c);for(let i=1;i<e.length;i++){const s=e[i],u=e[i-1];s instanceof gr&&u instanceof gr&&kx(s,u)&&(e.splice(i-1,2,new gr(u.data+s.data,u.getAttributes())),i--)}return e}function Am(c,e){const i=c.getChild(e-1),s=c.getChild(e);if(i&&s&&i.is("$text")&&s.is("$text")&&kx(i,s)){const u=new gr(i.data+s.data,i.getAttributes());c._removeChildren(e-1,2),c._insertChild(e-1,u)}}function _m(c){const e=c.textNode,i=c.parent;if(e){const s=c.offset-e.startOffset,u=e.index;i._removeChildren(u,1);const f=new gr(e.data.substr(0,s),e.getAttributes()),m=new gr(e.data.substr(s),e.getAttributes());i._insertChild(u,[f,m])}}function kx(c,e){const i=c.getAttributes(),s=e.getAttributes();for(const u of i){if(u[1]!==e.getAttribute(u[0]))return!1;s.next()}return s.next().done}class Vn extends Us{constructor(e,i,s,u){super(u),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[it._createFromPositionAndShift(this.sourcePosition,this.howMany),it._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Vn(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Vn(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent,s=this.sourcePosition.offset,u=this.targetPosition.offset;if(s+this.howMany>e.maxOffset)throw new M("move-operation-nodes-do-not-exist",this);if(e===i&&s<u&&u<s+this.howMany)throw new M("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Te(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const f=this.sourcePosition.path.length-1;if(this.targetPosition.path[f]>=s&&this.targetPosition.path[f]<s+this.howMany)throw new M("move-operation-node-into-itself",this)}}_execute(){vm(it._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,i){const s=vt.fromJSON(e.sourcePosition,i),u=vt.fromJSON(e.targetPosition,i);return new this(s,e.howMany,u,e.baseVersion)}}class to extends Us{constructor(e,i,s){super(s),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new gm(bx(i)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new gm([...this.nodes].map(s=>s._clone(!0))),i=new to(this.position,e,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}getReversed(){const e=this.position.root.document.graveyard,i=new vt(e,[0]);return new Vn(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new M("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new gm([...e].map(i=>i._clone(!0))),ay(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,i){const s=[];for(const f of e.nodes)f.name?s.push(lr.fromJSON(f)):s.push(gr.fromJSON(f));const u=new to(vt.fromJSON(e.position,i),s,e.baseVersion);return u.shouldReceiveAttributes=e.shouldReceiveAttributes,u}}class br extends Us{constructor(e,i,s,u,f){super(f),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=i,this.insertionPosition=s,this.graveyardPosition=u?u.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new vt(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new it(this.splitPosition,e)}get affectedSelectable(){const e=[it._createFromPositionAndShift(this.splitPosition,0),it._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(it._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new br(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,i=new vt(e,[0]);return new ai(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,i=this.splitPosition.offset;if(!e||e.maxOffset<i)throw new M("split-operation-position-invalid",this);if(!e.parent)throw new M("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new M("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new M("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)vm(it._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=e._clone();ay(this.insertionPosition,i)}vm(new it(vt._createAt(e,this.splitPosition.offset),vt._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const i=e.path.slice(0,-1);return i[i.length-1]++,new vt(e.root,i,"toPrevious")}static fromJSON(e,i){const s=vt.fromJSON(e.splitPosition,i),u=vt.fromJSON(e.insertionPosition,i),f=e.graveyardPosition?vt.fromJSON(e.graveyardPosition,i):null;return new this(s,e.howMany,u,f,e.baseVersion)}}class ai extends Us{constructor(e,i,s,u,f){super(f),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=u.clone()}get type(){return"merge"}get deletionPosition(){return new vt(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new it(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[it._createOn(e),it._createFromPositionAndShift(this.targetPosition,0),it._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new ai(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),s=new vt(this.sourcePosition.root,i)._getTransformedByMergeOperation(this);return new br(e,this.howMany,s,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent;if(!e.parent)throw new M("merge-operation-source-position-invalid",this);if(!i.parent)throw new M("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new M("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;vm(it._createIn(e),this.targetPosition),vm(it._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,i){const s=vt.fromJSON(e.sourcePosition,i),u=vt.fromJSON(e.targetPosition,i),f=vt.fromJSON(e.graveyardPosition,i);return new this(s,e.howMany,u,f,e.baseVersion)}}class hs extends Us{constructor(e,i,s,u,f,m){super(m),this.name=e,this.oldRange=i?i.clone():null,this.newRange=s?s.clone():null,this.affectsData=f,this._markers=u}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new hs(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new hs(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,i){return new hs(e.name,e.oldRange?it.fromJSON(e.oldRange,i):null,e.newRange?it.fromJSON(e.newRange,i):null,i.model.markers,e.affectsData,e.baseVersion)}}const wx=function(c,e){return Yb(c,e)};class Ai extends Us{constructor(e,i,s,u,f){super(f),this.range=e.clone(),this.key=i,this.oldValue=s===void 0?null:s,this.newValue=u===void 0?null:u}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Ai(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ai(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new M("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!wx(e.getAttribute(this.key),this.oldValue))throw new M("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new M("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){wx(this.oldValue,this.newValue)||function(e,i,s){_m(e.start),_m(e.end);for(const u of e.getItems({shallow:!0})){const f=u.is("$textProxy")?u.textNode:u;s!==null?f._setAttribute(i,s):f._removeAttribute(i),Am(f.parent,f.index)}Am(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,i){return new Ai(it.fromJSON(e.range,i),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Wi extends Us{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Wi(this.baseVersion)}getReversed(){return new Wi(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class fs extends Us{constructor(e,i,s,u){super(u),this.position=e,this.position.stickiness="toNext",this.oldName=i,this.newName=s}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new fs(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new fs(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof lr))throw new M("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new M("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,i){return new fs(vt.fromJSON(e.position,i),e.oldName,e.newName,e.baseVersion)}}class Bc extends Us{constructor(e,i,s,u,f){super(f),this.root=e,this.key=i,this.oldValue=s===void 0?null:s,this.newValue=u===void 0?null:u}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Bc(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Bc(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new M("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new M("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new M("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,i){if(!i.getRoot(e.root))throw new M("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Bc(i.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class ql extends Us{constructor(e,i,s,u,f){super(f),this.rootName=e,this.elementName=i,this.isAdd=s,this._document=u,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new ql(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new ql(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,i){return new ql(e.rootName,e.elementName,e.isAdd,i,e.baseVersion)}}const Sa={};Sa[Ai.className]=Ai,Sa[to.className]=to,Sa[hs.className]=hs,Sa[Vn.className]=Vn,Sa[Wi.className]=Wi,Sa[Us.className]=Us,Sa[fs.className]=fs,Sa[Bc.className]=Bc,Sa[ql.className]=ql,Sa[br.className]=br,Sa[ai.className]=ai;class m7{static fromJSON(e,i){return Sa[e.__className].fromJSON(e,i)}}const ly=new Map;function zn(c,e,i){let s=ly.get(c);s||(s=new Map,ly.set(c,s)),s.set(e,i)}function g7(c){return[c]}function yx(c,e,i={}){const s=function(u,f){const m=ly.get(u);return m&&m.has(f)?m.get(f):g7}(c.constructor,e.constructor);try{return s(c=c.clone(),e,i)}catch(u){throw u}}function b7(c,e,i){c=c.slice(),e=e.slice();const s=new k7(i.document,i.useRelations,i.forceWeakRemove);s.setOriginalOperations(c),s.setOriginalOperations(e);const u=s.originalOperations;if(c.length==0||e.length==0)return{operationsA:c,operationsB:e,originalOperations:u};const f=new WeakMap;for(const A of c)f.set(A,0);const m={nextBaseVersionA:c[c.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:c.length,originalOperationsBCount:e.length};let w=0;for(;w<c.length;){const A=c[w],S=f.get(A);if(S==e.length){w++;continue}const T=e[S],O=yx(A,T,s.getContext(A,T,!0)),U=yx(T,A,s.getContext(T,A,!1));s.updateRelation(A,T),s.setOriginalOperations(O,A),s.setOriginalOperations(U,T);for(const G of O)f.set(G,S+U.length);c.splice(w,1,...O),e.splice(S,1,...U)}return vx(c,m.nextBaseVersionB),vx(e,m.nextBaseVersionA),{operationsA:c,operationsB:e,originalOperations:u}}class k7{constructor(e,i,s=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=i,this._forceWeakRemove=!!s,this._relations=new Map}setOriginalOperations(e,i=null){const s=i?this.originalOperations.get(i):null;for(const u of e)this.originalOperations.set(u,s||u)}updateRelation(e,i){if(e instanceof Vn)i instanceof ai?e.targetPosition.isEqual(i.sourcePosition)||i.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,i,"insertAtSource"):e.targetPosition.isEqual(i.deletionPosition)?this._setRelation(e,i,"insertBetween"):e.targetPosition.isAfter(i.sourcePosition)&&this._setRelation(e,i,"moveTargetAfter"):i instanceof Vn&&(e.targetPosition.isEqual(i.sourcePosition)||e.targetPosition.isBefore(i.sourcePosition)?this._setRelation(e,i,"insertBefore"):this._setRelation(e,i,"insertAfter"));else if(e instanceof br){if(i instanceof ai)e.splitPosition.isBefore(i.sourcePosition)&&this._setRelation(e,i,"splitBefore");else if(i instanceof Vn)if(e.splitPosition.isEqual(i.sourcePosition)||e.splitPosition.isBefore(i.sourcePosition))this._setRelation(e,i,"splitBefore");else{const s=it._createFromPositionAndShift(i.sourcePosition,i.howMany);if(e.splitPosition.hasSameParentAs(i.sourcePosition)&&s.containsPosition(e.splitPosition)){const u=s.end.offset-e.splitPosition.offset,f=e.splitPosition.offset-s.start.offset;this._setRelation(e,i,{howMany:u,offset:f})}}}else if(e instanceof ai)i instanceof ai?(e.targetPosition.isEqual(i.sourcePosition)||this._setRelation(e,i,"mergeTargetNotMoved"),e.sourcePosition.isEqual(i.targetPosition)&&this._setRelation(e,i,"mergeSourceNotMoved"),e.sourcePosition.isEqual(i.sourcePosition)&&this._setRelation(e,i,"mergeSameElement")):i instanceof br?e.sourcePosition.isEqual(i.splitPosition)&&this._setRelation(e,i,"splitAtSource"):i instanceof Vn&&i.howMany>0&&(e.sourcePosition.isEqual(i.sourcePosition.getShiftedBy(i.howMany))&&this._setRelation(e,i,"mergeSourceAffected"),e.targetPosition.isEqual(i.sourcePosition)&&this._setRelation(e,i,"mergeTargetWasBefore"));else if(e instanceof hs){const s=e.newRange;if(!s)return;if(i instanceof Vn){const u=it._createFromPositionAndShift(i.sourcePosition,i.howMany),f=u.containsPosition(s.start)||u.start.isEqual(s.start),m=u.containsPosition(s.end)||u.end.isEqual(s.end);!f&&!m||u.containsRange(s)||this._setRelation(e,i,{side:f?"left":"right",path:f?s.start.path.slice():s.end.path.slice()})}else if(i instanceof ai){const u=s.start.isEqual(i.targetPosition),f=s.start.isEqual(i.deletionPosition),m=s.end.isEqual(i.deletionPosition),w=s.end.isEqual(i.sourcePosition);(u||f||m||w)&&this._setRelation(e,i,{wasInLeftElement:u,wasStartBeforeMergedElement:f,wasEndBeforeMergedElement:m,wasInRightElement:w})}}}getContext(e,i,s){return{aIsStrong:s,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(i),abRelation:this._useRelations?this._getRelation(e,i):null,baRelation:this._useRelations?this._getRelation(i,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const i=this.originalOperations.get(e);return i.wasUndone||this._history.isUndoneOperation(i)}_getRelation(e,i){const s=this.originalOperations.get(i),u=this._history.getUndoneOperation(s);if(!u)return null;const f=this.originalOperations.get(e),m=this._relations.get(f);return m&&m.get(u)||null}_setRelation(e,i,s){const u=this.originalOperations.get(e),f=this.originalOperations.get(i);let m=this._relations.get(u);m||(m=new Map,this._relations.set(u,m)),m.set(f,s)}}function vx(c,e){for(const i of c)i.baseVersion=e++}function Ax(c,e,i){const s=c.nodes.getNode(0).getAttribute(e);if(s==i)return null;const u=new it(c.position,c.position.getShiftedBy(c.howMany));return new Ai(u,e,s,i,0)}function _x(c,e){return c.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function vf(c,e){const i=[];for(let s=0;s<c.length;s++){const u=c[s],f=new Vn(u.start,u.end.offset-u.start.offset,e,0);i.push(f);for(let m=s+1;m<c.length;m++)c[m]=c[m]._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany)[0];e=e._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany)}return i}zn(Ai,Ai,(c,e,i)=>{if(c.key===e.key&&c.range.start.hasSameParentAs(e.range.start)){const s=c.range.getDifference(e.range).map(f=>new Ai(f,c.key,c.oldValue,c.newValue,0)),u=c.range.getIntersection(e.range);return u&&i.aIsStrong&&s.push(new Ai(u,e.key,e.newValue,c.newValue,0)),s.length==0?[new Wi(0)]:s}return[c]}),zn(Ai,to,(c,e)=>{if(c.range.start.hasSameParentAs(e.position)&&c.range.containsPosition(e.position)){const i=c.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(s=>new Ai(s,c.key,c.oldValue,c.newValue,c.baseVersion));if(e.shouldReceiveAttributes){const s=Ax(e,c.key,c.oldValue);s&&i.unshift(s)}return i}return c.range=c.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[c]}),zn(Ai,ai,(c,e)=>{const i=[];c.range.start.hasSameParentAs(e.deletionPosition)&&(c.range.containsPosition(e.deletionPosition)||c.range.start.isEqual(e.deletionPosition))&&i.push(it._createFromPositionAndShift(e.graveyardPosition,1));const s=c.range._getTransformedByMergeOperation(e);return s.isCollapsed||i.push(s),i.map(u=>new Ai(u,c.key,c.oldValue,c.newValue,c.baseVersion))}),zn(Ai,Vn,(c,e)=>function(s,u){const f=it._createFromPositionAndShift(u.sourcePosition,u.howMany);let m=null,w=[];f.containsRange(s,!0)?m=s:s.start.hasSameParentAs(f.start)?(w=s.getDifference(f),m=s.getIntersection(f)):w=[s];const A=[];for(let S of w){S=S._getTransformedByDeletion(u.sourcePosition,u.howMany);const T=u.getMovedRangeStart(),O=S.start.hasSameParentAs(T),U=S._getTransformedByInsertion(T,u.howMany,O);A.push(...U)}return m&&A.push(m._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany,!1)[0]),A}(c.range,e).map(s=>new Ai(s,c.key,c.oldValue,c.newValue,c.baseVersion))),zn(Ai,br,(c,e)=>{if(c.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||c.range.end.offset++,[c];if(c.range.start.hasSameParentAs(e.splitPosition)&&c.range.containsPosition(e.splitPosition)){const i=c.clone();return i.range=new it(e.moveTargetPosition.clone(),c.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),c.range.end=e.splitPosition.clone(),c.range.end.stickiness="toPrevious",[c,i]}return c.range=c.range._getTransformedBySplitOperation(e),[c]}),zn(to,Ai,(c,e)=>{const i=[c];if(c.shouldReceiveAttributes&&c.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(c.position)){const s=Ax(c,e.key,e.newValue);s&&i.push(s)}return i}),zn(to,to,(c,e,i)=>(c.position.isEqual(e.position)&&i.aIsStrong||(c.position=c.position._getTransformedByInsertOperation(e)),[c])),zn(to,Vn,(c,e)=>(c.position=c.position._getTransformedByMoveOperation(e),[c])),zn(to,br,(c,e)=>(c.position=c.position._getTransformedBySplitOperation(e),[c])),zn(to,ai,(c,e)=>(c.position=c.position._getTransformedByMergeOperation(e),[c])),zn(hs,to,(c,e)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByInsertOperation(e)[0]),c.newRange&&(c.newRange=c.newRange._getTransformedByInsertOperation(e)[0]),[c])),zn(hs,hs,(c,e,i)=>{if(c.name==e.name){if(!i.aIsStrong)return[new Wi(0)];c.oldRange=e.newRange?e.newRange.clone():null}return[c]}),zn(hs,ai,(c,e)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByMergeOperation(e)),c.newRange&&(c.newRange=c.newRange._getTransformedByMergeOperation(e)),[c])),zn(hs,Vn,(c,e,i)=>{if(c.oldRange&&(c.oldRange=it._createFromRanges(c.oldRange._getTransformedByMoveOperation(e))),c.newRange){if(i.abRelation){const s=it._createFromRanges(c.newRange._getTransformedByMoveOperation(e));if(i.abRelation.side=="left"&&e.targetPosition.isEqual(c.newRange.start))return c.newRange.end=s.end,c.newRange.start.path=i.abRelation.path,[c];if(i.abRelation.side=="right"&&e.targetPosition.isEqual(c.newRange.end))return c.newRange.start=s.start,c.newRange.end.path=i.abRelation.path,[c]}c.newRange=it._createFromRanges(c.newRange._getTransformedByMoveOperation(e))}return[c]}),zn(hs,br,(c,e,i)=>{if(c.oldRange&&(c.oldRange=c.oldRange._getTransformedBySplitOperation(e)),c.newRange){if(i.abRelation){const s=c.newRange._getTransformedBySplitOperation(e);return c.newRange.start.isEqual(e.splitPosition)&&i.abRelation.wasStartBeforeMergedElement?c.newRange.start=vt._createAt(e.insertionPosition):c.newRange.start.isEqual(e.splitPosition)&&!i.abRelation.wasInLeftElement&&(c.newRange.start=vt._createAt(e.moveTargetPosition)),c.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasInRightElement?c.newRange.end=vt._createAt(e.moveTargetPosition):c.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasEndBeforeMergedElement?c.newRange.end=vt._createAt(e.insertionPosition):c.newRange.end=s.end,[c]}c.newRange=c.newRange._getTransformedBySplitOperation(e)}return[c]}),zn(ai,to,(c,e)=>(c.sourcePosition.hasSameParentAs(e.position)&&(c.howMany+=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByInsertOperation(e),c.targetPosition=c.targetPosition._getTransformedByInsertOperation(e),[c])),zn(ai,ai,(c,e,i)=>{if(c.sourcePosition.isEqual(e.sourcePosition)&&c.targetPosition.isEqual(e.targetPosition)){if(i.bWasUndone){const s=e.graveyardPosition.path.slice();return s.push(0),c.sourcePosition=new vt(e.graveyardPosition.root,s),c.howMany=0,[c]}return[new Wi(0)]}if(c.sourcePosition.isEqual(e.sourcePosition)&&!c.targetPosition.isEqual(e.targetPosition)&&!i.bWasUndone&&i.abRelation!="splitAtSource"){const s=c.targetPosition.root.rootName=="$graveyard",u=e.targetPosition.root.rootName=="$graveyard";if(u&&!s||!(s&&!u)&&i.aIsStrong){const f=e.targetPosition._getTransformedByMergeOperation(e),m=c.targetPosition._getTransformedByMergeOperation(e);return[new Vn(f,c.howMany,m,0)]}return[new Wi(0)]}return c.sourcePosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMergeOperation(e),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),c.graveyardPosition.isEqual(e.graveyardPosition)&&i.aIsStrong||(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(e)),[c]}),zn(ai,Vn,(c,e,i)=>{const s=it._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove&&c.deletionPosition.hasSameParentAs(e.sourcePosition)&&s.containsPosition(c.sourcePosition)?[new Wi(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(c.sourcePosition)?c.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(c.sourcePosition)&&i.abRelation=="mergeSourceAffected"?c.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(c.targetPosition)?(c.targetPosition.stickiness="toNone",c.howMany-=e.howMany):e.targetPosition.isEqual(c.targetPosition)&&i.abRelation=="mergeTargetWasBefore"?(c.targetPosition.stickiness="toPrevious",c.howMany+=e.howMany):(c.sourcePosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.sourcePosition.hasSameParentAs(e.sourcePosition)&&(c.howMany-=e.howMany)),c.sourcePosition=c.sourcePosition._getTransformedByMoveOperation(e),c.targetPosition=c.targetPosition._getTransformedByMoveOperation(e),c.sourcePosition.stickiness="toPrevious",c.targetPosition.stickiness="toNext",c.graveyardPosition.isEqual(e.targetPosition)||(c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(e)),[c])}),zn(ai,br,(c,e,i)=>{if(e.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),c.deletionPosition.isEqual(e.graveyardPosition)&&(c.howMany=e.howMany)),c.targetPosition.isEqual(e.splitPosition)){const s=e.howMany!=0,u=e.graveyardPosition&&c.deletionPosition.isEqual(e.graveyardPosition);if(s||u||i.abRelation=="mergeTargetNotMoved")return c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(e),[c]}if(c.sourcePosition.isEqual(e.splitPosition)){if(i.abRelation=="mergeSourceNotMoved")return c.howMany=0,c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c];if(i.abRelation=="mergeSameElement"||c.sourcePosition.offset>0)return c.sourcePosition=e.moveTargetPosition.clone(),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c]}return c.sourcePosition.hasSameParentAs(e.splitPosition)&&(c.howMany=e.splitPosition.offset),c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(e),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c]}),zn(Vn,to,(c,e)=>{const i=it._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByInsertOperation(e,!1)[0];return c.sourcePosition=i.start,c.howMany=i.end.offset-i.start.offset,c.targetPosition.isEqual(e.position)||(c.targetPosition=c.targetPosition._getTransformedByInsertOperation(e)),[c]}),zn(Vn,Vn,(c,e,i)=>{const s=it._createFromPositionAndShift(c.sourcePosition,c.howMany),u=it._createFromPositionAndShift(e.sourcePosition,e.howMany);let f,m=i.aIsStrong,w=!i.aIsStrong;if(i.abRelation=="insertBefore"||i.baRelation=="insertAfter"?w=!0:i.abRelation!="insertAfter"&&i.baRelation!="insertBefore"||(w=!1),f=c.targetPosition.isEqual(e.targetPosition)&&w?c.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):c.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),_x(c,e)&&_x(e,c))return[e.getReversed()];if(s.containsPosition(e.targetPosition)&&s.containsRange(u,!0))return s.start=s.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),s.end=s.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),vf([s],f);if(u.containsPosition(c.targetPosition)&&u.containsRange(s,!0))return s.start=s.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),s.end=s.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),vf([s],f);const A=Te(c.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(A=="prefix"||A=="extension")return s.start=s.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),s.end=s.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),vf([s],f);c.type!="remove"||e.type=="remove"||i.aWasUndone||i.forceWeakRemove?c.type=="remove"||e.type!="remove"||i.bWasUndone||i.forceWeakRemove||(m=!1):m=!0;const S=[],T=s.getDifference(u);for(const U of T){U.start=U.start._getTransformedByDeletion(e.sourcePosition,e.howMany),U.end=U.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const G=Te(U.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",ee=U._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,G);S.push(...ee)}const O=s.getIntersection(u);return O!==null&&m&&(O.start=O.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),O.end=O.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),S.length===0?S.push(O):S.length==1?u.start.isBefore(s.start)||u.start.isEqual(s.start)?S.unshift(O):S.push(O):S.splice(1,0,O)),S.length===0?[new Wi(c.baseVersion)]:vf(S,f)}),zn(Vn,br,(c,e,i)=>{let s=c.targetPosition.clone();c.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&i.abRelation!="moveTargetAfter"||(s=c.targetPosition._getTransformedBySplitOperation(e));const u=it._createFromPositionAndShift(c.sourcePosition,c.howMany);if(u.end.isEqual(e.insertionPosition))return e.graveyardPosition||c.howMany++,c.targetPosition=s,[c];if(u.start.hasSameParentAs(e.splitPosition)&&u.containsPosition(e.splitPosition)){let m=new it(e.splitPosition,u.end);return m=m._getTransformedBySplitOperation(e),vf([new it(u.start,e.splitPosition),m],s)}c.targetPosition.isEqual(e.splitPosition)&&i.abRelation=="insertAtSource"&&(s=e.moveTargetPosition),c.targetPosition.isEqual(e.insertionPosition)&&i.abRelation=="insertBetween"&&(s=c.targetPosition);const f=[u._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const m=u.start.isEqual(e.graveyardPosition)||u.containsPosition(e.graveyardPosition);c.howMany>1&&m&&!i.aWasUndone&&f.push(it._createFromPositionAndShift(e.insertionPosition,1))}return vf(f,s)}),zn(Vn,ai,(c,e,i)=>{const s=it._createFromPositionAndShift(c.sourcePosition,c.howMany);if(e.deletionPosition.hasSameParentAs(c.sourcePosition)&&s.containsPosition(e.sourcePosition)){if(c.type!="remove"||i.forceWeakRemove){if(c.howMany==1)return i.bWasUndone?(c.sourcePosition=e.graveyardPosition.clone(),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),[c]):[new Wi(0)]}else if(!i.aWasUndone){const f=[];let m=e.graveyardPosition.clone(),w=e.targetPosition._getTransformedByMergeOperation(e);c.howMany>1&&(f.push(new Vn(c.sourcePosition,c.howMany-1,c.targetPosition,0)),m=m._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1),w=w._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1));const A=e.deletionPosition._getCombined(c.sourcePosition,c.targetPosition),S=new Vn(m,1,A,0),T=S.getMovedRangeStart().path.slice();T.push(0);const O=new vt(S.targetPosition.root,T);w=w._getTransformedByMove(m,A,1);const U=new Vn(w,e.howMany,O,0);return f.push(S),f.push(U),f}}const u=it._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByMergeOperation(e);return c.sourcePosition=u.start,c.howMany=u.end.offset-u.start.offset,c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),[c]}),zn(fs,to,(c,e)=>(c.position=c.position._getTransformedByInsertOperation(e),[c])),zn(fs,ai,(c,e)=>c.position.isEqual(e.deletionPosition)?(c.position=e.graveyardPosition.clone(),c.position.stickiness="toNext",[c]):(c.position=c.position._getTransformedByMergeOperation(e),[c])),zn(fs,Vn,(c,e)=>(c.position=c.position._getTransformedByMoveOperation(e),[c])),zn(fs,fs,(c,e,i)=>{if(c.position.isEqual(e.position)){if(!i.aIsStrong)return[new Wi(0)];c.oldName=e.newName}return[c]}),zn(fs,br,(c,e)=>{if(Te(c.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const i=new fs(c.position.getShiftedBy(1),c.oldName,c.newName,0);return[c,i]}return c.position=c.position._getTransformedBySplitOperation(e),[c]}),zn(Bc,Bc,(c,e,i)=>{if(c.root===e.root&&c.key===e.key){if(!i.aIsStrong||c.newValue===e.newValue)return[new Wi(0)];c.oldValue=e.newValue}return[c]}),zn(ql,ql,(c,e)=>c.rootName===e.rootName&&c.isAdd===e.isAdd?[new Wi(0)]:[c]),zn(br,to,(c,e)=>(c.splitPosition.hasSameParentAs(e.position)&&c.splitPosition.offset<e.position.offset&&(c.howMany+=e.howMany),c.splitPosition=c.splitPosition._getTransformedByInsertOperation(e),c.insertionPosition=c.insertionPosition._getTransformedByInsertOperation(e),[c])),zn(br,ai,(c,e,i)=>{if(!c.graveyardPosition&&!i.bWasUndone&&c.splitPosition.hasSameParentAs(e.sourcePosition)){const s=e.graveyardPosition.path.slice();s.push(0);const u=new vt(e.graveyardPosition.root,s),f=br.getInsertionPosition(new vt(e.graveyardPosition.root,s)),m=new br(u,0,f,null,0);return c.splitPosition=c.splitPosition._getTransformedByMergeOperation(e),c.insertionPosition=br.getInsertionPosition(c.splitPosition),c.graveyardPosition=m.insertionPosition.clone(),c.graveyardPosition.stickiness="toNext",[m,c]}return c.splitPosition.hasSameParentAs(e.deletionPosition)&&!c.splitPosition.isAfter(e.deletionPosition)&&c.howMany--,c.splitPosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.splitPosition=c.splitPosition._getTransformedByMergeOperation(e),c.insertionPosition=br.getInsertionPosition(c.splitPosition),c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(e)),[c]}),zn(br,Vn,(c,e,i)=>{const s=it._createFromPositionAndShift(e.sourcePosition,e.howMany);if(c.graveyardPosition){const f=s.start.isEqual(c.graveyardPosition)||s.containsPosition(c.graveyardPosition);if(!i.bWasUndone&&f){const m=c.splitPosition._getTransformedByMoveOperation(e),w=c.graveyardPosition._getTransformedByMoveOperation(e),A=w.path.slice();A.push(0);const S=new vt(w.root,A);return[new Vn(m,c.howMany,S,0)]}c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(e)}const u=c.splitPosition.isEqual(e.targetPosition);if(u&&(i.baRelation=="insertAtSource"||i.abRelation=="splitBefore"))return c.howMany+=e.howMany,c.splitPosition=c.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),c.insertionPosition=br.getInsertionPosition(c.splitPosition),[c];if(u&&i.abRelation&&i.abRelation.howMany){const{howMany:f,offset:m}=i.abRelation;return c.howMany+=f,c.splitPosition=c.splitPosition.getShiftedBy(m),[c]}if(c.splitPosition.hasSameParentAs(e.sourcePosition)&&s.containsPosition(c.splitPosition)){const f=e.howMany-(c.splitPosition.offset-e.sourcePosition.offset);return c.howMany-=f,c.splitPosition.hasSameParentAs(e.targetPosition)&&c.splitPosition.offset<e.targetPosition.offset&&(c.howMany+=e.howMany),c.splitPosition=e.sourcePosition.clone(),c.insertionPosition=br.getInsertionPosition(c.splitPosition),[c]}return e.sourcePosition.isEqual(e.targetPosition)||(c.splitPosition.hasSameParentAs(e.sourcePosition)&&c.splitPosition.offset<=e.sourcePosition.offset&&(c.howMany-=e.howMany),c.splitPosition.hasSameParentAs(e.targetPosition)&&c.splitPosition.offset<e.targetPosition.offset&&(c.howMany+=e.howMany)),c.splitPosition.stickiness="toNone",c.splitPosition=c.splitPosition._getTransformedByMoveOperation(e),c.splitPosition.stickiness="toNext",c.graveyardPosition?c.insertionPosition=c.insertionPosition._getTransformedByMoveOperation(e):c.insertionPosition=br.getInsertionPosition(c.splitPosition),[c]}),zn(br,br,(c,e,i)=>{if(c.splitPosition.isEqual(e.splitPosition)){if(!c.graveyardPosition&&!e.graveyardPosition)return[new Wi(0)];if(c.graveyardPosition&&e.graveyardPosition&&c.graveyardPosition.isEqual(e.graveyardPosition))return[new Wi(0)];if(i.abRelation=="splitBefore")return c.howMany=0,c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(e),[c]}if(c.graveyardPosition&&e.graveyardPosition&&c.graveyardPosition.isEqual(e.graveyardPosition)){const s=c.splitPosition.root.rootName=="$graveyard",u=e.splitPosition.root.rootName=="$graveyard";if(u&&!s||!(s&&!u)&&i.aIsStrong){const f=[];return e.howMany&&f.push(new Vn(e.moveTargetPosition,e.howMany,e.splitPosition,0)),c.howMany&&f.push(new Vn(c.splitPosition,c.howMany,c.moveTargetPosition,0)),f}return[new Wi(0)]}if(c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(e)),c.splitPosition.isEqual(e.insertionPosition)&&i.abRelation=="splitBefore")return c.howMany++,[c];if(e.splitPosition.isEqual(c.insertionPosition)&&i.baRelation=="splitBefore"){const s=e.insertionPosition.path.slice();s.push(0);const u=new vt(e.insertionPosition.root,s);return[c,new Vn(c.insertionPosition,1,u,0)]}return c.splitPosition.hasSameParentAs(e.splitPosition)&&c.splitPosition.offset<e.splitPosition.offset&&(c.howMany-=e.howMany),c.splitPosition=c.splitPosition._getTransformedBySplitOperation(e),c.insertionPosition=br.getInsertionPosition(c.splitPosition),[c]});class go extends oe(vt){constructor(e,i,s="toNone"){if(super(e,i,s),!this.root.is("rootElement"))throw new M("model-liveposition-root-not-rootelement",e);w7.call(this)}detach(){this.stopListening()}toPosition(){return new vt(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,i){return new this(e.root,e.path.slice(),i||e.stickiness)}}function w7(){this.listenTo(this.root.document.model,"applyOperation",(c,e)=>{const i=e[0];i.isDocumentOperation&&y7.call(this,i)},{priority:"low"})}function y7(c){const e=this.getTransformedByOperation(c);if(!this.isEqual(e)){const i=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",i)}}go.prototype.is=function(c){return c==="livePosition"||c==="model:livePosition"||c=="position"||c==="model:position"};class Af{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},B("batch-constructor-deprecated-string-type"));const{isUndoable:i=!0,isLocal:s=!0,isUndo:u=!1,isTyping:f=!1}=e;this.operations=[],this.isUndoable=i,this.isLocal=s,this.isUndo=u,this.isTyping=f}get type(){return B("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var v7=Object.defineProperty,A7=Object.defineProperties,_7=Object.getOwnPropertyDescriptors,Cx=Object.getOwnPropertySymbols,C7=Object.prototype.hasOwnProperty,x7=Object.prototype.propertyIsEnumerable,xx=(c,e,i)=>e in c?v7(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,Sx=(c,e)=>{for(var i in e||(e={}))C7.call(e,i)&&xx(c,i,e[i]);if(Cx)for(var i of Cx(e))x7.call(e,i)&&xx(c,i,e[i]);return c};class S7{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const i=e;switch(i.type){case"insert":if(this._isInInsertedElement(i.position.parent))return;this._markInsert(i.position.parent,i.position.offset,i.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const s of i.range.getItems({shallow:!0}))this._isInInsertedElement(s.parent)||this._markAttribute(s);break;case"remove":case"move":case"reinsert":{if(i.sourcePosition.isEqual(i.targetPosition)||i.sourcePosition.getShiftedBy(i.howMany).isEqual(i.targetPosition))return;const s=this._isInInsertedElement(i.sourcePosition.parent),u=this._isInInsertedElement(i.targetPosition.parent);s||this._markRemove(i.sourcePosition.parent,i.sourcePosition.offset,i.howMany),u||this._markInsert(i.targetPosition.parent,i.getMovedRangeStart().offset,i.howMany);break}case"rename":{if(this._isInInsertedElement(i.position.parent))return;this._markRemove(i.position.parent,i.position.offset,1),this._markInsert(i.position.parent,i.position.offset,1);const s=it._createFromPositionAndShift(i.position,1);for(const u of this._markerCollection.getMarkersIntersectingRange(s)){const f=u.getData();this.bufferMarkerChange(u.name,f,f)}break}case"split":{const s=i.splitPosition.parent;this._isInInsertedElement(s)||this._markRemove(s,i.splitPosition.offset,i.howMany),this._isInInsertedElement(i.insertionPosition.parent)||this._markInsert(i.insertionPosition.parent,i.insertionPosition.offset,1),i.graveyardPosition&&this._markRemove(i.graveyardPosition.parent,i.graveyardPosition.offset,1);break}case"merge":{const s=i.sourcePosition.parent;this._isInInsertedElement(s.parent)||this._markRemove(s.parent,s.startOffset,1);const u=i.graveyardPosition.parent;this._markInsert(u,i.graveyardPosition.offset,1);const f=i.targetPosition.parent;this._isInInsertedElement(f)||this._markInsert(f,i.targetPosition.offset,s.maxOffset);break}case"detachRoot":case"addRoot":{const s=i.affectedSelectable;if(!s._isLoaded||s.isAttached()==i.isAdd)return;this._bufferRootStateChange(i.rootName,i.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!i.root._isLoaded)return;const s=i.root.rootName;this._bufferRootAttributeChange(s,i.key,i.oldValue,i.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,i,s){i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null),s.range&&s.range.root.is("rootElement")&&!s.range.root._isLoaded&&(s.range=null);let u=this._changedMarkers.get(e);u?u.newMarkerData=s:(u={newMarkerData:s,oldMarkerData:i},this._changedMarkers.set(e,u)),u.oldMarkerData.range==null&&s.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[i,s]of this._changedMarkers)s.oldMarkerData.range!=null&&e.push({name:i,range:s.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[i,s]of this._changedMarkers)s.newMarkerData.range!=null&&e.push({name:i,range:s.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,i])=>({name:e,data:{oldRange:i.oldMarkerData.range,newRange:i.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:i}of this._changedMarkers.values()){if(e.affectsData!==i.affectsData)return!0;if(e.affectsData){const s=e.range&&!i.range,u=!e.range&&i.range,f=e.range&&i.range&&!e.range.isEqual(i.range);if(s||u||f)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let i=[];for(const s of this._changesInElement.keys()){const u=this._changesInElement.get(s).sort((T,O)=>T.offset===O.offset?T.type!=O.type?T.type=="remove"?-1:1:0:T.offset<O.offset?-1:1),f=this._elementSnapshots.get(s),m=Ex(s.getChildren()),w=E7(f.length,u);let A=0,S=0;for(const T of w)if(T==="i")i.push(this._getInsertDiff(s,A,m[A])),A++;else if(T==="r")i.push(this._getRemoveDiff(s,A,f[S])),S++;else if(T==="a"){const O=m[A].attributes,U=f[S].attributes;let G;if(m[A].name=="$text")G=new it(vt._createAt(s,A),vt._createAt(s,A+1));else{const ee=s.offsetToIndex(A);G=new it(vt._createAt(s,A),vt._createAt(s.getChild(ee),0))}i.push(...this._getAttributesDiff(G,U,O)),A++,S++}else A++,S++}i.sort((s,u)=>s.position.root!=u.position.root?s.position.root.rootName<u.position.root.rootName?-1:1:s.position.isEqual(u.position)?s.changeCount-u.changeCount:s.position.isBefore(u.position)?-1:1);for(let s=1,u=0;s<i.length;s++){const f=i[u],m=i[s],w=f.type=="remove"&&m.type=="remove"&&f.name=="$text"&&m.name=="$text"&&f.position.isEqual(m.position),A=f.type=="insert"&&m.type=="insert"&&f.name=="$text"&&m.name=="$text"&&f.position.parent==m.position.parent&&f.position.offset+f.length==m.position.offset,S=f.type=="attribute"&&m.type=="attribute"&&f.position.parent==m.position.parent&&f.range.isFlat&&m.range.isFlat&&f.position.offset+f.length==m.position.offset&&f.attributeKey==m.attributeKey&&f.attributeOldValue==m.attributeOldValue&&f.attributeNewValue==m.attributeNewValue;w||A||S?(f.length++,S&&(f.range.end=f.range.end.getShiftedBy(1)),i[s]=null):u=s}i=i.filter(s=>s);for(const s of i)delete s.changeCount,s.type=="attribute"&&(delete s.position,delete s.length);return this._changeCount=0,this._cachedChangesWithGraveyard=i,this._cachedChanges=i.filter(D7),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const i=Sx({},e);return i.state!==void 0&&delete i.attributes,i})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,i){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:i?"attached":"detached"});const s=this._changedRoots.get(e);s.state!==void 0?(delete s.state,s.attributes===void 0&&this._changedRoots.delete(e)):s.state=i?"attached":"detached"}_bufferRootAttributeChange(e,i,s,u){const f=this._changedRoots.get(e)||{name:e},m=f.attributes||{};if(m[i]){const w=m[i];u===w.oldValue?delete m[i]:w.newValue=u}else m[i]={oldValue:s,newValue:u};Object.entries(m).length===0?(delete f.attributes,f.state===void 0&&this._changedRoots.delete(e)):(f.attributes=m,this._changedRoots.set(e,f))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const i=it._createOn(e);for(const s of this._markerCollection.getMarkersIntersectingRange(i)){const u=s.getData();this.bufferMarkerChange(s.name,u,u)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const s of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,s,null,e.getAttribute(s));for(const s of this._markerCollection)if(s.getRange().root==e){const u=s.getData();this.bufferMarkerChange(s.name,(i=Sx({},u),A7(i,_7({range:null}))),u)}var i}}_markInsert(e,i,s){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const u={type:"insert",offset:i,howMany:s,count:this._changeCount++};this._markChange(e,u)}_markRemove(e,i,s){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const u={type:"remove",offset:i,howMany:s,count:this._changeCount++};this._markChange(e,u),this._removeAllNestedChanges(e,i,s)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,i)}_markChange(e,i){this._makeSnapshot(e);const s=this._getChangesForElement(e);this._handleChange(i,s),s.push(i);for(let u=0;u<s.length;u++)s[u].howMany<1&&(s.splice(u,1),u--)}_getChangesForElement(e){let i;return this._changesInElement.has(e)?i=this._changesInElement.get(e):(i=[],this._changesInElement.set(e,i)),i}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Ex(e.getChildren()))}_handleChange(e,i){e.nodesToHandle=e.howMany;for(const s of i){const u=e.offset+e.howMany,f=s.offset+s.howMany;if(e.type=="insert"&&(s.type=="insert"&&(e.offset<=s.offset?s.offset+=e.howMany:e.offset<f&&(s.howMany+=e.nodesToHandle,e.nodesToHandle=0)),s.type=="remove"&&e.offset<s.offset&&(s.offset+=e.howMany),s.type=="attribute")){if(e.offset<=s.offset)s.offset+=e.howMany;else if(e.offset<f){const m=s.howMany;s.howMany=e.offset-s.offset,i.unshift({type:"attribute",offset:u,howMany:m-s.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(s.type=="insert"){if(u<=s.offset)s.offset-=e.howMany;else if(u<=f)if(e.offset<s.offset){const m=u-s.offset;s.offset=e.offset,s.howMany-=m,e.nodesToHandle-=m}else s.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=s.offset)e.nodesToHandle-=s.howMany,s.howMany=0;else if(e.offset<f){const m=f-e.offset;s.howMany-=m,e.nodesToHandle-=m}}if(s.type=="remove"&&(u<=s.offset?s.offset-=e.howMany:e.offset<s.offset&&(e.nodesToHandle+=s.howMany,s.howMany=0)),s.type=="attribute"){if(u<=s.offset)s.offset-=e.howMany;else if(e.offset<s.offset){const m=u-s.offset;s.offset=e.offset,s.howMany-=m}else if(e.offset<f)if(u<=f){const m=s.howMany;s.howMany=e.offset-s.offset;const w=m-s.howMany-e.nodesToHandle;i.unshift({type:"attribute",offset:e.offset,howMany:w,count:this._changeCount++})}else s.howMany-=f-e.offset}}if(e.type=="attribute"){if(s.type=="insert")if(e.offset<s.offset&&u>s.offset){if(u>f){const m={type:"attribute",offset:f,howMany:u-f,count:this._changeCount++};this._handleChange(m,i),i.push(m)}e.nodesToHandle=s.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=s.offset&&e.offset<f&&(u>f?(e.nodesToHandle=u-f,e.offset=f):e.nodesToHandle=0);if(s.type=="remove"&&e.offset<s.offset&&u>s.offset){const m={type:"attribute",offset:s.offset,howMany:u-s.offset,count:this._changeCount++};this._handleChange(m,i),i.push(m),e.nodesToHandle=s.offset-e.offset,e.howMany=e.nodesToHandle}s.type=="attribute"&&(e.offset>=s.offset&&u<=f?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=s.offset&&u>=f&&(s.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,i,s){return{type:"insert",position:vt._createAt(e,i),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++,_element:s.element}}_getRemoveDiff(e,i,s){return{type:"remove",position:vt._createAt(e,i),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++,_element:s.element}}_getAttributesDiff(e,i,s){const u=[];s=new Map(s);for(const[f,m]of i){const w=s.has(f)?s.get(f):null;w!==m&&u.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:f,attributeOldValue:m,attributeNewValue:w,changeCount:this._changeCount++}),s.delete(f)}for(const[f,m]of s)u.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:f,attributeOldValue:null,attributeNewValue:m,changeCount:this._changeCount++});return u}_isInInsertedElement(e){const i=e.parent;if(!i)return!1;const s=this._changesInElement.get(i),u=e.startOffset;if(s){for(const f of s)if(f.type=="insert"&&u>=f.offset&&u<f.offset+f.howMany)return!0}return this._isInInsertedElement(i)}_removeAllNestedChanges(e,i,s){const u=new it(vt._createAt(e,i),vt._createAt(e,i+s));for(const f of u.getItems({shallow:!0}))f.is("element")&&(this._elementSnapshots.delete(f),this._changesInElement.delete(f),this._removeAllNestedChanges(f,0,f.maxOffset))}}function Ex(c){const e=[];for(const i of c)if(i.is("$text"))for(let s=0;s<i.data.length;s++)e.push({name:"$text",attributes:new Map(i.getAttributes())});else e.push({name:i.name,attributes:new Map(i.getAttributes()),element:i});return e}function E7(c,e){const i=[];let s=0,u=0;for(const f of e){if(f.offset>s){for(let m=0;m<f.offset-s;m++)i.push("e");u+=f.offset-s}if(f.type=="insert"){for(let m=0;m<f.howMany;m++)i.push("i");s=f.offset+f.howMany}else if(f.type=="remove"){for(let m=0;m<f.howMany;m++)i.push("r");s=f.offset,u+=f.howMany}else i.push(..."a".repeat(f.howMany).split("")),s=f.offset+f.howMany,u+=f.howMany}if(u<c)for(let f=0;f<c-u-s;f++)i.push("e");return i}function D7(c){const e="position"in c&&c.position.root.rootName=="$graveyard",i="range"in c&&c.range.root.rootName=="$graveyard";return!e&&!i}class I7{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new M("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,i=this.version){if(!this._operations.length)return[];const s=this._operations[0];e===void 0&&(e=s.baseVersion);let u=i-1;for(const[w,A]of this._gaps)e>w&&e<A&&(e=A),u>w&&u<A&&(u=w-1);if(u<s.baseVersion||e>this.lastOperation.baseVersion)return[];let f=this._baseVersionToOperationIndex.get(e);f===void 0&&(f=0);let m=this._baseVersionToOperationIndex.get(u);return m===void 0&&(m=this._operations.length-1),this._operations.slice(f,m+1)}getOperation(e){const i=this._baseVersionToOperationIndex.get(e);if(i!==void 0)return this._operations[i]}setOperationAsUndone(e,i){this._undoPairs.set(i,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Xb extends lr{constructor(e,i,s="main"){super(i),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=s}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Xb.prototype.is=function(c,e){return e?e===this.name&&(c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"):c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"||c==="node"||c==="model:node"};var T7=Object.defineProperty,N7=Object.defineProperties,M7=Object.getOwnPropertyDescriptors,Dx=Object.getOwnPropertySymbols,P7=Object.prototype.hasOwnProperty,O7=Object.prototype.propertyIsEnumerable,Ix=(c,e,i)=>e in c?T7(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,Tx=(c,e)=>{for(var i in e||(e={}))P7.call(e,i)&&Ix(c,i,e[i]);if(Dx)for(var i of Dx(e))O7.call(e,i)&&Ix(c,i,e[i]);return c},Nx=(c,e)=>N7(c,M7(e));const Mx="$graveyard";class L7 extends oe(){constructor(e){super(),this.model=e,this.history=new I7,this.selection=new rl(this),this.roots=new Bs({idProperty:"rootName"}),this.differ=new S7(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Mx),this.listenTo(e,"applyOperation",(i,s)=>{const u=s[0];u.isDocumentOperation&&this.differ.bufferOperation(u)},{priority:"high"}),this.listenTo(e,"applyOperation",(i,s)=>{const u=s[0];u.isDocumentOperation&&this.history.addOperation(u)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(i,s,u,f,m)=>{const w=Nx(Tx({},s.getData()),{range:f});this.differ.bufferMarkerChange(s.name,m,w),u===null&&s.on("change",(A,S)=>{const T=s.getData();this.differ.bufferMarkerChange(s.name,Nx(Tx({},T),{range:S}),T)})}),this.registerPostFixer(i=>{let s=!1;for(const u of this.roots)u.isAttached()||u.isEmpty||(i.remove(i.createRangeIn(u)),s=!0);for(const u of this.model.markers)u.getRange().root.isAttached()||(i.removeMarker(u),s=!0);return s})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Mx)}createRoot(e="$root",i="main"){if(this.roots.get(i))throw new M("model-document-createroot-name-exists",this,{name:i});const s=new Xb(this,e,i);return this.roots.add(s),s}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(i=>i.rootName)}getRoots(e=!1){return this.roots.filter(i=>i!=this.graveyard&&(e||i.isAttached())&&i._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Iu(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),i=this.model,s=i.schema,u=i.createPositionFromPath(e,[0]);return s.getNearestSelectionRange(u)||i.createRange(u)}_validateSelectionRange(e){return Px(e.start)&&Px(e.end)}_callPostFixers(e){let i=!1;do for(const s of this._postFixers)if(this.selection.refresh(),i=s(e),i)break;while(i)}}function Px(c){const e=c.textNode;if(e){const i=e.data,s=c.offset-e.startOffset;return!uf(i,s)&&!Eu(i,s)}return!0}var j7=Object.defineProperty,B7=Object.defineProperties,R7=Object.getOwnPropertyDescriptors,Ox=Object.getOwnPropertySymbols,F7=Object.prototype.hasOwnProperty,z7=Object.prototype.propertyIsEnumerable,Lx=(c,e,i)=>e in c?j7(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class U7 extends oe(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const i=e instanceof _f?e.name:e;return this._markers.has(i)}get(e){return this._markers.get(e)||null}_set(e,i,s=!1,u=!1){const f=e instanceof _f?e.name:e;if(f.includes(","))throw new M("markercollection-incorrect-marker-name",this);const m=this._markers.get(f);if(m){const T=m.getData(),O=m.getRange();let U=!1;return O.isEqual(i)||(m._attachLiveRange(zs.fromRange(i)),U=!0),s!=m.managedUsingOperations&&(m._managedUsingOperations=s,U=!0),typeof u=="boolean"&&u!=m.affectsData&&(m._affectsData=u,U=!0),U&&this.fire(`update:${f}`,m,O,i,T),m}const w=zs.fromRange(i),A=new _f(f,w,s,u);var S;return this._markers.set(f,A),this.fire(`update:${f}`,A,null,i,(S=((T,O)=>{for(var U in O||(O={}))F7.call(O,U)&&Lx(T,U,O[U]);if(Ox)for(var U of Ox(O))z7.call(O,U)&&Lx(T,U,O[U]);return T})({},A.getData()),B7(S,R7({range:null})))),A}_remove(e){const i=e instanceof _f?e.name:e,s=this._markers.get(i);return!!s&&(this._markers.delete(i),this.fire(`update:${i}`,s,s.getRange(),null,s.getData()),this._destroyMarker(s),!0)}_refresh(e){const i=e instanceof _f?e.name:e,s=this._markers.get(i);if(!s)throw new M("markercollection-refresh-marker-not-exists",this);const u=s.getRange();this.fire(`update:${i}`,s,u,u,s.getData())}*getMarkersAtPosition(e){for(const i of this)i.getRange().containsPosition(e)&&(yield i)}*getMarkersIntersectingRange(e){for(const i of this)i.getRange().getIntersection(e)!==null&&(yield i)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const i of this._markers.values())i.name.startsWith(e+":")&&(yield i)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class _f extends oe(Lu){constructor(e,i,s,u){super(),this.name=e,this._liveRange=this._attachLiveRange(i),this._managedUsingOperations=s,this._affectsData=u}get managedUsingOperations(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}_f.prototype.is=function(c){return c==="marker"||c==="model:marker"};class q7 extends Us{constructor(e,i){super(null),this.sourcePosition=e.clone(),this.howMany=i}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new M("detach-operation-on-document-node",this)}_execute(){gx(it._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Rc extends Lu{constructor(e){super(),this.markers=new Map,this._children=new gm,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let i=this;for(const s of e)i=i.getChild(i.offsetToIndex(s));return i}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const i of this._children)e.push(i.toJSON());return e}static fromJSON(e){const i=[];for(const s of e)s.name?i.push(lr.fromJSON(s)):i.push(gr.fromJSON(s));return new Rc(i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const s=function(u){return typeof u=="string"?[new gr(u)]:(Ee(u)||(u=[u]),Array.from(u).map(f=>typeof f=="string"?new gr(f):f instanceof nl?new gr(f.data,f.getAttributes()):f))}(i);for(const u of s)u.parent!==null&&u._remove(),u.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,i=1){const s=this._children._removeNodes(e,i);for(const u of s)u.parent=null;return s}}Rc.prototype.is=function(c){return c==="documentFragment"||c==="model:documentFragment"};class V7{constructor(e,i){this.model=e,this.batch=i}createText(e,i){return new gr(e,i)}createElement(e,i){return new lr(e,i)}createDocumentFragment(){return new Rc}cloneElement(e,i=!0){return e._clone(i)}insert(e,i,s=0){if(this._assertWriterUsedCorrectly(),e instanceof gr&&e.data=="")return;const u=vt._createAt(i,s);if(e.parent){if(Rx(e.root,u.root))return void this.move(it._createOn(e),u);if(e.root.document)throw new M("model-writer-insert-forbidden-move",this);this.remove(e)}const f=u.root.document?u.root.document.version:null,m=new to(u,e,f);if(e instanceof gr&&(m.shouldReceiveAttributes=!0),this.batch.addOperation(m),this.model.applyOperation(m),e instanceof Rc)for(const[w,A]of e.markers){const S=vt._createAt(A.root,0),T={range:new it(A.start._getCombined(S,u),A.end._getCombined(S,u)),usingOperation:!0,affectsData:!0};this.model.markers.has(w)?this.updateMarker(w,T):this.addMarker(w,T)}}insertText(e,i,s,u){i instanceof Rc||i instanceof lr||i instanceof vt?this.insert(this.createText(e),i,s):this.insert(this.createText(e,i),s,u)}insertElement(e,i,s,u){i instanceof Rc||i instanceof lr||i instanceof vt?this.insert(this.createElement(e),i,s):this.insert(this.createElement(e,i),s,u)}append(e,i){this.insert(e,i,"end")}appendText(e,i,s){i instanceof Rc||i instanceof lr?this.insert(this.createText(e),i,"end"):this.insert(this.createText(e,i),s,"end")}appendElement(e,i,s){i instanceof Rc||i instanceof lr?this.insert(this.createElement(e),i,"end"):this.insert(this.createElement(e,i),s,"end")}setAttribute(e,i,s){if(this._assertWriterUsedCorrectly(),s instanceof it){const u=s.getMinimalFlatRanges();for(const f of u)jx(this,e,i,f)}else Bx(this,e,i,s)}setAttributes(e,i){for(const[s,u]of ya(e))this.setAttribute(s,u,i)}removeAttribute(e,i){if(this._assertWriterUsedCorrectly(),i instanceof it){const s=i.getMinimalFlatRanges();for(const u of s)jx(this,e,null,u)}else Bx(this,e,null,i)}clearAttributes(e){this._assertWriterUsedCorrectly();const i=s=>{for(const u of s.getAttributeKeys())this.removeAttribute(u,s)};if(e instanceof it)for(const s of e.getItems())i(s);else i(e)}move(e,i,s){if(this._assertWriterUsedCorrectly(),!(e instanceof it))throw new M("writer-move-invalid-range",this);if(!e.isFlat)throw new M("writer-move-range-not-flat",this);const u=vt._createAt(i,s);if(u.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!Rx(e.root,u.root))throw new M("writer-move-different-document",this);const f=e.root.document?e.root.document.version:null,m=new Vn(e.start,e.end.offset-e.start.offset,u,f);this.batch.addOperation(m),this.model.applyOperation(m)}remove(e){this._assertWriterUsedCorrectly();const i=(e instanceof it?e:it._createOn(e)).getMinimalFlatRanges().reverse();for(const s of i)this._addOperationForAffectedMarkers("move",s),$7(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const i=e.nodeBefore,s=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(i instanceof lr))throw new M("writer-merge-no-element-before",this);if(!(s instanceof lr))throw new M("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,i,s){return this.model.createPositionFromPath(e,i,s)}createPositionAt(e,i){return this.model.createPositionAt(e,i)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,i){return this.model.createRange(e,i)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const i=e.nodeBefore,s=e.nodeAfter;this.move(it._createIn(s),vt._createAt(i,"end")),this.remove(s)}_merge(e){const i=vt._createAt(e.nodeBefore,"end"),s=vt._createAt(e.nodeAfter,0),u=e.root.document.graveyard,f=new vt(u,[0]),m=e.root.document.version,w=new ai(s,e.nodeAfter.maxOffset,i,f,m);this.batch.addOperation(w),this.model.applyOperation(w)}rename(e,i){if(this._assertWriterUsedCorrectly(),!(e instanceof lr))throw new M("writer-rename-not-element-instance",this);const s=e.root.document?e.root.document.version:null,u=new fs(vt._createBefore(e),e.name,i,s);this.batch.addOperation(u),this.model.applyOperation(u)}split(e,i){this._assertWriterUsedCorrectly();let s,u,f=e.parent;if(!f.parent)throw new M("writer-split-element-no-parent",this);if(i||(i=f.parent),!e.parent.getAncestors({includeSelf:!0}).includes(i))throw new M("writer-split-invalid-limit-element",this);do{const m=f.root.document?f.root.document.version:null,w=f.maxOffset-e.offset,A=br.getInsertionPosition(e),S=new br(e,w,A,null,m);this.batch.addOperation(S),this.model.applyOperation(S),s||u||(s=f,u=e.parent.nextSibling),f=(e=this.createPositionAfter(e.parent)).parent}while(f!==i);return{position:e,range:new it(vt._createAt(s,"end"),vt._createAt(u,0))}}wrap(e,i){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new M("writer-wrap-range-not-flat",this);const s=i instanceof lr?i:new lr(i);if(s.childCount>0)throw new M("writer-wrap-element-not-empty",this);if(s.parent!==null)throw new M("writer-wrap-element-attached",this);this.insert(s,e.start);const u=new it(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(u,vt._createAt(s,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new M("writer-unwrap-element-no-parent",this);this.move(it._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,i){if(this._assertWriterUsedCorrectly(),!i||typeof i.usingOperation!="boolean")throw new M("writer-addmarker-no-usingoperation",this);const s=i.usingOperation,u=i.range,f=i.affectsData!==void 0&&i.affectsData;if(this.model.markers.has(e))throw new M("writer-addmarker-marker-exists",this);if(!u)throw new M("writer-addmarker-no-range",this);return s?(Cm(this,e,null,u,f),this.model.markers.get(e)):this.model.markers._set(e,u,s,f)}updateMarker(e,i){this._assertWriterUsedCorrectly();const s=typeof e=="string"?e:e.name,u=this.model.markers.get(s);if(!u)throw new M("writer-updatemarker-marker-not-exists",this);if(!i)return B("writer-updatemarker-reconvert-using-editingcontroller",{markerName:s}),void this.model.markers._refresh(u);const f=typeof i.usingOperation=="boolean",m=typeof i.affectsData=="boolean",w=m?i.affectsData:u.affectsData;if(!f&&!i.range&&!m)throw new M("writer-updatemarker-wrong-options",this);const A=u.getRange(),S=i.range?i.range:A;f&&i.usingOperation!==u.managedUsingOperations?i.usingOperation?Cm(this,s,null,S,w):(Cm(this,s,A,null,w),this.model.markers._set(s,S,void 0,w)):u.managedUsingOperations?Cm(this,s,A,S,w):this.model.markers._set(s,S,void 0,w)}removeMarker(e){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name;if(!this.model.markers.has(i))throw new M("writer-removemarker-no-marker",this);const s=this.model.markers.get(i);if(!s.managedUsingOperations)return void this.model.markers._remove(i);Cm(this,i,s.getRange(),null,s.affectsData)}addRoot(e,i="$root"){this._assertWriterUsedCorrectly();const s=this.model.document.getRoot(e);if(s&&s.isAttached())throw new M("writer-addroot-root-exists",this);const u=this.model.document,f=new ql(e,i,!0,u,u.version);return this.batch.addOperation(f),this.model.applyOperation(f),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const i=typeof e=="string"?this.model.document.getRoot(e):e;if(!i||!i.isAttached())throw new M("writer-detachroot-no-root",this);for(const f of this.model.markers)f.getRange().root===i&&this.removeMarker(f);for(const f of i.getAttributeKeys())this.removeAttribute(f,i);this.remove(this.createRangeIn(i));const s=this.model.document,u=new ql(i.rootName,i.name,!1,s,s.version);this.batch.addOperation(u),this.model.applyOperation(u)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,i){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,i)}setSelectionAttribute(e,i){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,i);else for(const[s,u]of ya(e))this._setSelectionAttribute(s,u)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const i of e)this._removeSelectionAttribute(i)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,i){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const u=rl._getStoreAttributeKey(e);this.setAttribute(u,i,s.anchor.parent)}s._setAttribute(e,i)}_removeSelectionAttribute(e){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const s=rl._getStoreAttributeKey(e);this.removeAttribute(s,i.anchor.parent)}i._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new M("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,i){for(const s of this.model.markers){if(!s.managedUsingOperations)continue;const u=s.getRange();let f=!1;if(e==="move"){const m=i;f=m.containsPosition(u.start)||m.start.isEqual(u.start)||m.containsPosition(u.end)||m.end.isEqual(u.end)}else{const m=i,w=m.nodeBefore,A=m.nodeAfter,S=u.start.parent==w&&u.start.isAtEnd,T=u.end.parent==A&&u.end.offset==0,O=u.end.nodeAfter==A,U=u.start.nodeAfter==A;f=S||T||O||U}f&&this.updateMarker(s.name,{range:u})}}}function jx(c,e,i,s){const u=c.model,f=u.document;let m,w,A,S=s.start;for(const O of s.getWalker({shallow:!0}))A=O.item.getAttribute(e),m&&w!=A&&(w!=i&&T(),S=m),m=O.nextPosition,w=A;function T(){const O=new it(S,m),U=O.root.document?f.version:null,G=new Ai(O,e,w,i,U);c.batch.addOperation(G),u.applyOperation(G)}m instanceof vt&&m!=S&&w!=i&&T()}function Bx(c,e,i,s){const u=c.model,f=u.document,m=s.getAttribute(e);let w,A;if(m!=i){if(s.root===s){const S=s.document?f.version:null;A=new Bc(s,e,m,i,S)}else{w=new it(vt._createBefore(s),c.createPositionAfter(s));const S=w.root.document?f.version:null;A=new Ai(w,e,m,i,S)}c.batch.addOperation(A),u.applyOperation(A)}}function Cm(c,e,i,s,u){const f=c.model,m=f.document,w=new hs(e,i,s,f.markers,!!u,m.version);c.batch.addOperation(w),f.applyOperation(w)}function $7(c,e,i,s){let u;if(c.root.document){const f=s.document,m=new vt(f.graveyard,[0]);u=new Vn(c,e,m,f.version)}else u=new q7(c,e);i.addOperation(u),s.applyOperation(u)}function Rx(c,e){return c===e||c instanceof Xb&&e instanceof Xb}function H7(c,e,i={}){if(e.isCollapsed)return;const s=e.getFirstRange();if(s.root.rootName=="$graveyard")return;const u=c.schema;c.change(f=>{if(!i.doNotResetEntireContent&&function(S,T){const O=S.getLimitElement(T);if(!T.containsEntireContent(O))return!1;const U=T.getFirstRange();return U.start.parent==U.end.parent?!1:S.checkChild(O,"paragraph")}(u,e))return void function(S,T){const O=S.model.schema.getLimitElement(T);S.remove(S.createRangeIn(O)),Ux(S,S.createPositionAt(O,0),T)}(f,e);const m={};if(!i.doNotAutoparagraph){const S=e.getSelectedElement();S&&Object.assign(m,u.getAttributesWithProperty(S,"copyOnReplace",!0))}const[w,A]=function(S){const T=S.root.document.model,O=S.start;let U=S.end;if(T.hasContent(S,{ignoreMarkers:!0})){const G=function(ee){const ie=ee.parent,be=ie.root.document.model.schema,xe=ie.getAncestors({parentFirst:!0,includeSelf:!0});for(const Oe of xe){if(be.isLimit(Oe))return null;if(be.isBlock(Oe))return Oe}}(U);if(G&&U.isTouching(T.createPositionAt(G,0))){const ee=T.createSelection(S);T.modifySelection(ee,{direction:"backward"});const ie=ee.getLastPosition(),be=T.createRange(ie,U);T.hasContent(be,{ignoreMarkers:!0})||(U=ie)}}return[go.fromPosition(O,"toPrevious"),go.fromPosition(U,"toNext")]}(s);w.isTouching(A)||f.remove(f.createRange(w,A)),i.leaveUnmerged||(function(S,T,O){const U=S.model;if(!cy(S.model.schema,T,O))return;const[G,ee]=function(ie,be){const xe=ie.getAncestors(),Oe=be.getAncestors();let et=0;for(;xe[et]&&xe[et]==Oe[et];)et++;return[xe[et],Oe[et]]}(T,O);!G||!ee||(!U.hasContent(G,{ignoreMarkers:!0})&&U.hasContent(ee,{ignoreMarkers:!0})?zx(S,T,O,G.parent):Fx(S,T,O,G.parent))}(f,w,A),u.removeDisallowedAttributes(w.parent.getChildren(),f)),qx(f,e,w),!i.doNotAutoparagraph&&function(S,T){const O=S.checkChild(T,"$text"),U=S.checkChild(T,"paragraph");return!O&&U}(u,w)&&Ux(f,w,e,m),w.detach(),A.detach()})}function Fx(c,e,i,s){const u=e.parent,f=i.parent;if(u!=s&&f!=s){for(e=c.createPositionAfter(u),(i=c.createPositionBefore(f)).isEqual(e)||c.insert(f,e),c.merge(e);i.parent.isEmpty;){const m=i.parent;i=c.createPositionBefore(m),c.remove(m)}cy(c.model.schema,e,i)&&Fx(c,e,i,s)}}function zx(c,e,i,s){const u=e.parent,f=i.parent;if(u!=s&&f!=s){for(e=c.createPositionAfter(u),(i=c.createPositionBefore(f)).isEqual(e)||c.insert(u,i);e.parent.isEmpty;){const m=e.parent;e=c.createPositionBefore(m),c.remove(m)}i=c.createPositionBefore(f),function(m,w){const A=w.nodeBefore,S=w.nodeAfter;A.name!=S.name&&m.rename(A,S.name),m.clearAttributes(A),m.setAttributes(Object.fromEntries(S.getAttributes()),A),m.merge(w)}(c,i),cy(c.model.schema,e,i)&&zx(c,e,i,s)}}function cy(c,e,i){const s=e.parent,u=i.parent;return s!=u&&!c.isLimit(s)&&!c.isLimit(u)&&function(f,m,w){const A=new it(f,m);for(const S of A.getWalker())if(w.isLimit(S.item))return!1;return!0}(e,i,c)}function Ux(c,e,i,s={}){const u=c.createElement("paragraph");c.model.schema.setAllowedAttributes(u,s,c),c.insert(u,e),qx(c,i,c.createPositionAt(u,0))}function qx(c,e,i){e instanceof rl?c.setSelection(i):e.setTo(i)}function Vx(c,e){const i=[];Array.from(c.getItems({direction:"backward"})).map(s=>e.createRangeOn(s)).filter(s=>(s.start.isAfter(c.start)||s.start.isEqual(c.start))&&(s.end.isBefore(c.end)||s.end.isEqual(c.end))).forEach(s=>{i.push(s.start.parent),e.remove(s)}),i.forEach(s=>{let u=s;for(;u.parent&&u.isEmpty;){const f=e.createRangeOn(u);u=u.parent,e.remove(f)}})}class W7{constructor(e,i,s){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=i,this.position=s,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=i.createDocumentFragment(),this._documentFragmentPosition=i.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const i of Array.from(e))this._handleNode(i);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const i=this.writer.createPositionAfter(this._lastNode),s=this.writer.createPositionAfter(e);if(s.isAfter(i)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new M("insertcontent-invalid-insertion-position",this);this.position=s,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?it._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new it(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let i=this._checkAndAutoParagraphToAllowedPosition(e);i||(i=this._checkAndSplitToAllowedPosition(e),i)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=go.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new M("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=go.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=go.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof lr)||!this._canMergeLeft(e))return;const i=go._createBefore(e);i.stickiness="toNext";const s=go.fromPosition(this.position,"toNext");this._affectedStart.isEqual(i)&&(this._affectedStart.detach(),this._affectedStart=go._createAt(i.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=go._createAt(i.nodeBefore,"end","toNext")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof lr)||!this._canMergeRight(e))return;const i=go._createAfter(e);if(i.stickiness="toNext",!this.position.isEqual(i))throw new M("insertcontent-invalid-insertion-position",this);this.position=vt._createAt(i.nodeBefore,"end");const s=go.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(i)&&(this._affectedEnd.detach(),this._affectedEnd=go._createAt(i.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=go._createAt(i.nodeBefore,0,"toPrevious")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_canMergeLeft(e){const i=e.previousSibling;return i instanceof lr&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(i,e)}_canMergeRight(e){const i=e.nextSibling;return i instanceof lr&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(e,i)}_tryAutoparagraphing(e){const i=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,i)&&this.schema.checkChild(i,e)&&(i._appendChild(e),this._handleNode(i))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const i=this.writer.createElement("paragraph");return this.writer.insert(i,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=i,this.position=this.writer.createPositionAt(i,0),!0}_checkAndSplitToAllowedPosition(e){const i=this._getAllowedIn(this.position.parent,e);if(!i)return!1;for(i!=this.position.parent&&this._insertPartialFragment();i!=this.position.parent;)if(this.position.isAtStart){const s=this.position.parent;this.position=this.writer.createPositionBefore(s),s.isEmpty&&s.parent===i&&this.writer.remove(s)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const s=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=s,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,i){return this.schema.checkChild(e,i)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,i)}}function G7(c,e,i,s={}){if(!c.schema.isObject(e))throw new M("insertobject-element-not-an-object",c,{object:e});const u=i||c.document.selection;let f=u;s.findOptimalPosition&&c.schema.isBlock(e)&&(f=c.createSelection(c.schema.findOptimalInsertionRange(u,s.findOptimalPosition)));const m=Li(u.getSelectedBlocks()),w={};return m&&Object.assign(w,c.schema.getAttributesWithProperty(m,"copyOnReplace",!0)),c.change(A=>{f.isCollapsed||c.deleteContent(f,{doNotAutoparagraph:!0});let S=e;const T=f.anchor.parent;!c.schema.checkChild(T,e)&&c.schema.checkChild(T,"paragraph")&&c.schema.checkChild("paragraph",e)&&(S=A.createElement("paragraph"),A.insert(e,S)),c.schema.setAllowedAttributes(S,w,A);const O=c.insertContent(S,f);return O.isCollapsed||s.setSelection&&function(U,G,ee,ie){const be=U.model;if(ee=="on")return void U.setSelection(G,"on");if(ee!="after")throw new M("insertobject-invalid-place-parameter-value",be);let xe=G.nextSibling;if(be.schema.isInline(G))return void U.setSelection(G,"after");!(xe&&be.schema.checkChild(xe,"$text"))&&be.schema.checkChild(G.parent,"paragraph")&&(xe=U.createElement("paragraph"),be.schema.setAllowedAttributes(xe,ie,U),be.insertContent(xe,U.createPositionAfter(G))),xe&&U.setSelection(xe,0)}(A,e,s.setSelection,w),O})}const Y7=' ,.?!:;"-()';function K7(c,e){const{isForward:i,walker:s,unit:u,schema:f,treatEmojiAsSingleUnit:m}=c,{type:w,item:A,nextPosition:S}=e;if(w=="text")return c.unit==="word"?function(T,O){let U=T.position.textNode;for(U||(U=O?T.position.nodeAfter:T.position.nodeBefore);U&&U.is("$text");){const G=T.position.offset-U.startOffset;if(Z7(U,G,O))U=O?T.position.nodeAfter:T.position.nodeBefore;else{if(J7(U.data,G,O))break;T.next()}}return T.position}(s,i):function(T,O,U){const G=T.position.textNode;if(G){const ee=G.data;let ie=T.position.offset-G.startOffset;for(;uf(ee,ie)||O=="character"&&Eu(ee,ie)||U&&Pb(ee,ie);)T.next(),ie=T.position.offset-G.startOffset}return T.position}(s,u,m);if(w==(i?"elementStart":"elementEnd")){if(f.isSelectable(A))return vt._createAt(A,i?"after":"before");if(f.checkChild(S,"$text"))return S}else{if(f.isLimit(A))return void s.skip(()=>!0);if(f.checkChild(S,"$text"))return S}}function Q7(c,e){const i=c.root,s=vt._createAt(i,e?"end":0);return e?new it(c,s):new it(s,c)}function J7(c,e,i){const s=e+(i?0:-1);return Y7.includes(c.charAt(s))}function Z7(c,e,i){return e===(i?c.offsetSize:0)}class X7 extends Ue(){constructor(){super(),this.markers=new U7,this.document=new L7(this),this.schema=new GR,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,i)=>{i[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,i)=>{if(i.name==="$marker")return!0}),$R(this),this.document.registerPostFixer(ex),this.on("insertContent",(e,[i,s])=>{e.return=function(u,f,m){return u.change(w=>{const A=m||u.document.selection;A.isCollapsed||u.deleteContent(A,{doNotAutoparagraph:!0});const S=new W7(u,w,A.anchor),T=[];let O;if(f.is("documentFragment")){if(f.markers.size){const ee=[];for(const[ie,be]of f.markers){const{start:xe,end:Oe}=be,et=xe.isEqual(Oe);ee.push({position:xe,name:ie,isCollapsed:et},{position:Oe,name:ie,isCollapsed:et})}ee.sort(({position:ie},{position:be})=>ie.isBefore(be)?1:-1);for(const{position:ie,name:be,isCollapsed:xe}of ee){let Oe=null,et=null;const ft=ie.parent===f&&ie.isAtStart,Mt=ie.parent===f&&ie.isAtEnd;ft||Mt?xe&&(et=ft?"start":"end"):(Oe=w.createElement("$marker"),w.insert(Oe,ie)),T.push({name:be,element:Oe,collapsed:et})}}O=f.getChildren()}else O=[f];S.handleNodes(O);let U=S.getSelectionRange();if(f.is("documentFragment")&&T.length){const ee=U?zs.fromRange(U):null,ie={};for(let be=T.length-1;be>=0;be--){const{name:xe,element:Oe,collapsed:et}=T[be],ft=!ie[xe];if(ft&&(ie[xe]=[]),Oe){const Mt=w.createPositionAt(Oe,"before");ie[xe].push(Mt),w.remove(Oe)}else{const Mt=S.getAffectedRange();if(!Mt){et&&ie[xe].push(S.position);continue}et?ie[xe].push(Mt[et]):ie[xe].push(ft?Mt.start:Mt.end)}}for(const[be,[xe,Oe]]of Object.entries(ie))xe&&Oe&&xe.root===Oe.root&&xe.root.document&&!w.model.markers.has(be)&&w.addMarker(be,{usingOperation:!0,affectsData:!0,range:new it(xe,Oe)});ee&&(U=ee.toRange(),ee.detach())}U&&(A instanceof rl?w.setSelection(U):A.setTo(U));const G=S.getAffectedRange()||u.createRange(A.anchor);return S.destroy(),G})}(this,i,s)}),this.on("insertObject",(e,[i,s,u])=>{e.return=G7(this,i,s,u)}),this.on("canEditAt",e=>{const i=!this.document.isReadOnly;e.return=i,i||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Af,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(i){M.rethrowUnexpectedError(i,this)}}enqueueChange(e,i){try{e?typeof e=="function"?(i=e,e=new Af):e instanceof Af||(e=new Af(e)):e=new Af,this._pendingChanges.push({batch:e,callback:i}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(s){M.rethrowUnexpectedError(s,this)}}applyOperation(e){e._execute()}insertContent(e,i,s,...u){const f=uy(i,s);return this.fire("insertContent",[e,f,s,...u])}insertObject(e,i,s,u,...f){const m=uy(i,s);return this.fire("insertObject",[e,m,u,u,...f])}deleteContent(e,i){H7(this,e,i)}modifySelection(e,i){(function(s,u,f={}){const m=s.schema,w=f.direction!="backward",A=f.unit?f.unit:"character",S=!!f.treatEmojiAsSingleUnit,T=u.focus,O=new jc({boundaries:Q7(T,w),singleCharacters:!0,direction:w?"forward":"backward"}),U={walker:O,schema:m,isForward:w,unit:A,treatEmojiAsSingleUnit:S};let G;for(;G=O.next();){if(G.done)return;const ee=K7(U,G.value);if(ee)return void(u instanceof rl?s.change(ie=>{ie.setSelectionFocus(ee)}):u.setFocus(ee))}})(this,e,i)}getSelectedContent(e){return function(i,s){return i.change(u=>{const f=u.createDocumentFragment(),m=s.getFirstRange();if(!m||m.isCollapsed)return f;const w=m.start.root,A=m.start.getCommonPath(m.end),S=w.getNodeByPath(A);let T;T=m.start.parent==m.end.parent?m:u.createRange(u.createPositionAt(S,m.start.path[A.length]),u.createPositionAt(S,m.end.path[A.length]+1));const O=T.end.offset-T.start.offset;for(const U of T.getItems({shallow:!0}))U.is("$textProxy")?u.appendText(U.data,U.getAttributes(),f):u.append(u.cloneElement(U,!0),f);if(T!=m){const U=m._getTransformedByMove(T.start,u.createPositionAt(f,0),O)[0],G=u.createRange(u.createPositionAt(f,0),U.start);Vx(u.createRange(U.end,u.createPositionAt(f,"end")),u),Vx(G,u)}return f})}(this,e)}hasContent(e,i={}){const s=e instanceof it?e:it._createIn(e);if(s.isCollapsed)return!1;const{ignoreWhitespaces:u=!1,ignoreMarkers:f=!1}=i;if(!f){for(const m of this.markers.getMarkersIntersectingRange(s))if(m.affectsData)return!0}for(const m of s.getItems())if(this.schema.isContent(m)&&(!m.is("$textProxy")||!u||m.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const i=uy(e);return this.fire("canEditAt",[i])}createPositionFromPath(e,i,s){return new vt(e,i,s)}createPositionAt(e,i){return vt._createAt(e,i)}createPositionAfter(e){return vt._createAfter(e)}createPositionBefore(e){return vt._createBefore(e)}createRange(e,i){return new it(e,i)}createRangeIn(e){return it._createIn(e)}createRangeOn(e){return it._createOn(e)}createSelection(...e){return new Fs(...e)}createBatch(e){return new Af(e)}createOperationFromJSON(e){return m7.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const i=this._pendingChanges[0].batch;this._currentWriter=new V7(this,i);const s=this._pendingChanges[0].callback(this._currentWriter);e.push(s),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function uy(c,e){if(c)return c instanceof Fs||c instanceof rl?c:c instanceof Kd?e||e===0?new Fs(c,e):c.is("rootElement")?new Fs(c,"in"):new Fs(c,"on"):new Fs(c)}class eF extends Ou{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class dy extends Ou{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Fc{constructor(e){this.document=e}createDocumentFragment(e){return new Yd(this.document,e)}createElement(e,i,s){return new Po(this.document,e,i,s)}createText(e){return new xn(this.document,e)}clone(e,i=!1){return e._clone(i)}appendChild(e,i){return i._appendChild(e)}insertChild(e,i,s){return s._insertChild(e,i)}removeChildren(e,i,s){return s._removeChildren(e,i)}remove(e){const i=e.parent;return i?this.removeChildren(i.getChildIndex(e),1,i):[]}replace(e,i){const s=e.parent;if(s){const u=s.getChildIndex(e);return this.removeChildren(u,1,s),this.insertChild(u,i,s),!0}return!1}unwrapElement(e){const i=e.parent;if(i){const s=i.getChildIndex(e);this.remove(e),this.insertChild(s,e.getChildren(),i)}}rename(e,i){const s=new Po(this.document,e,i.getAttributes(),i.getChildren());return this.replace(i,s)?s:null}setAttribute(e,i,s){s._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,s){Nn(e)&&s===void 0?i._setStyle(e):s._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,s){s._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}createPositionAt(e,i){return Dt._createAt(e,i)}createPositionAfter(e){return Dt._createAfter(e)}createPositionBefore(e){return Dt._createBefore(e)}createRange(e,i){return new Yt(e,i)}createRangeOn(e){return Yt._createOn(e)}createRangeIn(e){return Yt._createIn(e)}createSelection(...e){return new es(...e)}}class tF{constructor(){this._commands=new Map}add(e,i){this._commands.set(e,i)}get(e){return this._commands.get(e)}execute(e,...i){const s=this.get(e);if(!s)throw new M("commandcollection-command-not-found",this,{commandName:e});return s.execute(...i)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}var nF=Object.defineProperty,$x=Object.getOwnPropertySymbols,rF=Object.prototype.hasOwnProperty,iF=Object.prototype.propertyIsEnumerable,Hx=(c,e,i)=>e in c?nF(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;const hy="contentEditing",Wx="common";class oF{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const i=e.config.get("menuBar.isVisible"),s=e.locale.t;this.addKeystrokeInfoCategory({id:hy,label:s("Content editing keystrokes"),description:s("These keyboard shortcuts allow for quick access to content editing features.")});const u=[{label:s("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:s("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:s("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:s("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:s("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:s("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];i&&u.push({label:s("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:s("User interface and content navigation keystrokes"),description:s("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:u}]})}addKeystrokeInfoCategory({id:e,label:i,description:s,groups:u}){this.keystrokeInfos.set(e,{id:e,label:i,description:s,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:Wx}),u&&u.forEach(f=>{this.addKeystrokeInfoGroup(((m,w)=>{for(var A in w||(w={}))rF.call(w,A)&&Hx(m,A,w[A]);if($x)for(var A of $x(w))iF.call(w,A)&&Hx(m,A,w[A]);return m})({categoryId:e},f))})}addKeystrokeInfoGroup({categoryId:e=hy,id:i,label:s,keystrokes:u}){const f=this.keystrokeInfos.get(e);if(!f)throw new M("accessibility-unknown-keystroke-info-category",this._editor,{groupId:i,categoryId:e});f.groups.set(i,{id:i,label:s,keystrokes:u||[]})}addKeystrokeInfos({categoryId:e=hy,groupId:i=Wx,keystrokes:s}){if(!this.keystrokeInfos.has(e))throw new M("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:s});const u=this.keystrokeInfos.get(e);if(!u.groups.has(i))throw new M("accessibility-unknown-keystroke-info-group",this._editor,{groupId:i,categoryId:e,keystrokes:s});u.groups.get(i).keystrokes.push(...s)}}var Gx=Object.getOwnPropertySymbols,sF=Object.prototype.hasOwnProperty,aF=Object.prototype.propertyIsEnumerable,Yx=(c,e)=>{var i={};for(var s in c)sF.call(c,s)&&e.indexOf(s)<0&&(i[s]=c[s]);if(c!=null&&Gx)for(var s of Gx(c))e.indexOf(s)<0&&aF.call(c,s)&&(i[s]=c[s]);return i};class lF extends Ue(){constructor(e={}){super();const i=this.constructor,s=i.defaultConfig||{},{translations:u}=s,f=Yx(s,["translations"]),m=e,{translations:w=u}=m,A=Yx(m,["translations"]),S=e.language||f.language;this._context=e.context||new vi({language:S,translations:w}),this._context._addEditor(this,!e.context);const T=Array.from(i.builtinPlugins||[]);this.config=new Go(A,f),this.config.define("plugins",T),this.config.define(this._context._getEditorConfig()),this.plugins=new uo(this,T,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new tF,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new X7,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const O=new zb;this.data=new f7(this.model,O),this.editing=new HR(this.model,O),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new p7([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new ho(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new oF(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new M("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new M("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new M("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,i=e.get("plugins"),s=e.get("removePlugins")||[],u=e.get("extraPlugins")||[],f=e.get("substitutePlugins")||[];return this.plugins.init(i.concat(u),s,f)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(i=>this.once("ready",i))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...i){try{return this.commands.execute(e,...i)}catch(s){M.rethrowUnexpectedError(s,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function fy(c){return class extends c{updateSourceElement(e){if(!this.sourceElement)throw new M("editor-missing-sourceelement",this);const i=this.config.get("updateSourceElementOnDestroy"),s=this.sourceElement instanceof HTMLTextAreaElement;if(!i&&!s)return void Pd(this.sourceElement,"");const u=typeof e=="string"?e:this.data.get();Pd(this.sourceElement,u)}}}fy.updateSourceElement=fy(Object).prototype.updateSourceElement;class Kx extends si{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Bs({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new M("pendingactions-add-invalid-message",this);const i=new(Ue());return i.set("message",e),this._actions.add(i),this.hasAny=!0,i}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const dn={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var Qx=a(7801),cF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(Qx.A,cF),Qx.A.locals;class e0 extends Nt{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${P()}`;const i=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:i.to("for")},children:[{text:i.to("text")}]})}}class uF extends Nt{constructor(e,i){super(e);const s=e.t,u=new e0;u.text=s("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":u.id,role:"document",tabindex:-1},children:[En(document,"p",{},s("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(i.values())),u]})}focus(){this.element.focus()}_createCategories(e){return e.map(i=>{const s=[En(document,"h3",{},i.label),...Array.from(i.groups.values()).map(u=>this._createGroup(u)).flat()];return i.description&&s.splice(1,0,En(document,"p",{},i.description)),En(document,"section",{},s)})}_createGroup(e){const i=e.keystrokes.sort((u,f)=>u.label.localeCompare(f.label)).map(u=>this._createGroupRow(u)).flat(),s=[En(document,"dl",{},i)];return e.label&&s.unshift(En(document,"h4",{},e.label)),s}_createGroupRow(e){const i=this.locale.t,s=En(document,"dt"),u=En(document,"dd"),f=function(w){return typeof w=="string"?[[w]]:typeof w[0]=="string"?[w]:w}(e.keystroke),m=[];for(const w of f)m.push(w.map(dF).join(""));return s.innerHTML=e.label,u.innerHTML=m.join(", ")+(e.mayRequireFn&&b.isMac?` ${i("(may require <kbd>Fn</kbd>)")}`:""),[s,u]}}function dF(c){return cf(c).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}const Jx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var Zx=a(8527),hF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(Zx.A,hF),Zx.A.locals;class fF extends ct{constructor(){super(...arguments),this.contentView=null}static get requires(){return[qc]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,i=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const s=this._createButton($n);return s.set({tooltip:!0,withText:!1,label:i("Accessibility help")}),s}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const s=this._createButton(qs);return s.label=i("Accessibility"),s}),e.keystrokes.set("Alt+0",(s,u)=>{this._showDialog(),u()}),this._setupRootLabels()}_createButton(e){const i=new e(this.editor.locale);return i.set({keystroke:"Alt+0",icon:Jx}),i.on("execute",()=>this._showDialog()),i}_setupRootLabels(){const e=this.editor,i=e.editing.view,s=e.t;function u(f,m){const w=`${m.getAttribute("aria-label")}. ${s("Press %0 for help.",[cf("Alt+0")])}`;f.setAttribute("aria-label",w,m)}e.ui.on("ready",()=>{i.change(f=>{for(const m of i.document.roots)u(f,m)}),e.on("addRoot",(f,m)=>{const w=e.editing.view.document.getRoot(m.rootName);i.change(A=>u(A,w))},{priority:"low"})})}_showDialog(){const e=this.editor,i=e.plugins.get("Dialog"),s=e.locale.t;this.contentView||(this.contentView=new uF(e.locale,e.accessibility.keystrokeInfos)),i.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:s("Accessibility help"),icon:Jx,hasCloseButton:!0,content:this.contentView})}}class pF extends Qo{constructor(e,i=[]){super(i),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new I({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=En(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var Xx=a(7621),mF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(Xx.A,mF),Xx.A.locals;const e5=class extends Nt{constructor(){super();const c=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",c.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",c.if("isColorInherited","ck-icon_inherit-color")],viewBox:c.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const c=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=c.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:i,value:s}of Array.from(c.attributes))e5.presentationalAttributeNames.includes(i)&&this.element.setAttribute(i,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;c.childNodes.length>0;)this.element.appendChild(c.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(c=>{c.style.fill=this.fillColor})}};let zc=e5;zc.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class gF extends Nt{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var t5=a(9715),bF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(t5.A,bF),t5.A.locals;class $n extends Nt{constructor(e,i=new gF){super(e),this._focusDelayed=null;const s=this.bindTemplate,u=P();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${u}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(i),this.iconView=new zc,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const f={tag:"button",attributes:{class:["ck","ck-button",s.to("class"),s.if("isEnabled","ck-disabled",m=>!m),s.if("isVisible","ck-hidden",m=>!m),s.to("isOn",m=>m?"ck-on":"ck-off"),s.if("withText","ck-button_with-text"),s.if("withKeystroke","ck-button_with-keystroke")],role:s.to("role"),type:s.to("type",m=>m||"button"),tabindex:s.to("tabindex"),"aria-checked":s.to("ariaChecked"),"aria-label":s.to("ariaLabel"),"aria-labelledby":s.to("ariaLabelledBy"),"aria-disabled":s.if("isEnabled",!0,m=>!m),"aria-pressed":s.to("isOn",m=>!!this.isToggleable&&String(!!m)),"data-cke-tooltip-text":s.to("_tooltipString"),"data-cke-tooltip-position":s.to("tooltipPosition")},children:this.children,on:{click:s.to(m=>{this.isEnabled?this.fire("execute"):m.preventDefault()})}};b.isSafari&&(this._focusDelayed||(this._focusDelayed=rm(()=>this.focus(),0)),f.on.mousedown=s.to(()=>{this._focusDelayed()}),f.on.mouseup=s.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(f)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Nt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",i=>cf(i))}]}),e}_getTooltipString(e,i,s){return e?typeof e=="string"?e:(s&&(s=cf(s)),e instanceof Function?e(i,s):`${i}${s?` (${s})`:""}`):""}}var n5=a(4391),kF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(n5.A,kF),n5.A.locals;class t0 extends $n{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Nt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class r5 extends $n{constructor(e){super(e),this.buttonView=this,this._fileInputView=new wF(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class wF extends Nt{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const n0='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var i5=a(25),yF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(i5.A,yF),i5.A.locals;class vF extends Nt{constructor(e,i){super(e);const s=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),i&&this.children.addMany(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",s.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:s.if("isCollapsed","hidden"),"aria-labelledby":s.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new $n(this.locale),i=e.bindTemplate;return e.set({withText:!0,icon:n0}),e.extendTemplate({attributes:{"aria-expanded":i.to("isOn",s=>String(s))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",s=>!s),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}var o5=a(7317),AF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(o5.A,AF),o5.A.locals,a(6931),a(9047);var s5=a(4962),_F={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(s5.A,_F),s5.A.locals;class r0 extends Nt{constructor(e,i){super(e);const s=`ck-labeled-field-view-${P()}`,u=`ck-labeled-field-view-status-${P()}`;this.fieldView=i(this,s,u),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(s),this.statusView=this._createStatusView(u),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(m,w)=>m||w);const f=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",f.to("class"),f.if("isEnabled","ck-disabled",m=>!m),f.if("isEmpty","ck-labeled-field-view_empty"),f.if("isFocused","ck-labeled-field-view_focused"),f.if("placeholder","ck-labeled-field-view_placeholder"),f.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const i=new e0(this.locale);return i.for=e,i.bind("text").to(this,"label"),i}_createStatusView(e){const i=new Nt(this.locale),s=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",s.if("errorText","ck-labeled-field-view__status_error"),s.if("_statusText","ck-hidden",u=>!u)],id:e,role:s.if("errorText","alert")},children:[{text:s.to("_statusText")}]}),i}focus(e){this.fieldView.focus(e)}}class CF extends Nt{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new ji,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),tabindex:i.to("tabIndex"),readonly:i.to("isReadOnly"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById"),"aria-label":i.to("ariaLabel")},on:{input:i.to((...s)=>{this.fire("input",...s),this._updateIsEmpty()}),change:i.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,i,s)=>{this._setDomElementValue(s),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var a5=a(253),xF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(a5.A,xF),a5.A.locals;class SF extends CF{constructor(e){super(e),this.set("inputMode","text");const i=this.bindTemplate;this.extendTemplate({attributes:{inputmode:i.to("inputMode")}})}}class EF extends SF{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var l5=a(1671),DF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(l5.A,DF),l5.A.locals;class IF extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",s=>`ck-dropdown__panel_${s}`),i.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:i.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():B("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var c5=a(8149),TF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(c5.A,TF),c5.A.locals;const py=class extends Nt{constructor(c,e,i){super(c);const s=this.bindTemplate;this.buttonView=e,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new lo,this.focusTracker=new ji,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",u=>!u)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[e,i]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(e,i,s)=>{if(s)if(this.panelPosition==="auto"){const u=py._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=u?u.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const c=(e,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(e,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(e,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",c),this.keystrokes.set("esc",c)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:c,north:e,southEast:i,southWest:s,northEast:u,northWest:f,southMiddleEast:m,southMiddleWest:w,northMiddleEast:A,northMiddleWest:S}=py.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,s,m,w,c,u,f,A,S,e]:[s,i,w,m,c,f,u,S,A,e]}};let my=py;my.defaultPanelPositions={south:(c,e)=>({top:c.bottom,left:c.left-(e.width-c.width)/2,name:"s"}),southEast:c=>({top:c.bottom,left:c.left,name:"se"}),southWest:(c,e)=>({top:c.bottom,left:c.left-e.width+c.width,name:"sw"}),southMiddleEast:(c,e)=>({top:c.bottom,left:c.left-(e.width-c.width)/4,name:"sme"}),southMiddleWest:(c,e)=>({top:c.bottom,left:c.left-3*(e.width-c.width)/4,name:"smw"}),north:(c,e)=>({top:c.top-e.height,left:c.left-(e.width-c.width)/2,name:"n"}),northEast:(c,e)=>({top:c.top-e.height,left:c.left,name:"ne"}),northWest:(c,e)=>({top:c.top-e.height,left:c.left-e.width+c.width,name:"nw"}),northMiddleEast:(c,e)=>({top:c.top-e.height,left:c.left-(e.width-c.width)/4,name:"nme"}),northMiddleWest:(c,e)=>({top:c.top-e.height,left:c.left-3*(e.width-c.width)/4,name:"nmw"})},my._getOptimalPosition=Ld;class NF extends $n{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new zc;return e.content=n0,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Ea extends oe(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const i in e.actions){let s=e.actions[i];typeof s=="string"&&(s=[s]);for(const u of s)e.keystrokeHandler.set(u,(f,m)=>{this[i](),m()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(gy)||null}get last(){return this.focusables.filter(gy).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((i,s)=>{const u=i.element===this.focusTracker.focusedElement;return u&&(e=s),u}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,i){e&&this.focusTracker.focusedElement!==e.element&&e.focus(i)}_getDomFocusableItem(e){const i=this.focusables.length;if(!i)return null;const s=this.current;if(s===null)return this[e===1?"first":"last"];let u=this.focusables.get(s),f=(s+i+e)%i;do{const m=this.focusables.get(f);if(gy(m)){u=m;break}f=(f+i+e)%i}while(f!==s);return u}}function gy(c){return xm(c)&&wa(c.element)}function xm(c){return!(!("focus"in c)||typeof c.focus!="function")}class u5 extends Nt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class MF extends Nt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var PF=Object.defineProperty,d5=Object.getOwnPropertySymbols,OF=Object.prototype.hasOwnProperty,LF=Object.prototype.propertyIsEnumerable,h5=(c,e,i)=>e in c?PF(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,f5=(c,e)=>{for(var i in e||(e={}))OF.call(e,i)&&h5(c,i,e[i]);if(d5)for(var i of d5(e))LF.call(e,i)&&h5(c,i,e[i]);return c};function p5(c){if(Array.isArray(c))return{items:c,removeItems:[]};const e={items:[],removeItems:[]};return c?f5(f5({},e),c):e}var m5=a(9677),jF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(m5.A,jF),m5.A.locals;const BF={alignLeft:dn.alignLeft,bold:dn.bold,importExport:dn.importExport,paragraph:dn.paragraph,plus:dn.plus,text:dn.text,threeVerticalDots:dn.threeVerticalDots,pilcrow:dn.pilcrow,dragIndicator:dn.dragIndicator};class by extends Nt{constructor(e,i){super(e);const s=this.bindTemplate,u=this.t;this.options=i||{},this.set("ariaLabel",u("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new ji,this.keystrokes=new lo,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new RF(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const f=e.uiLanguageDirection==="rtl";this._focusCycler=new Ea({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[f?"arrowright":"arrowleft","arrowup"],focusNext:[f?"arrowleft":"arrowright","arrowdown"]}});const m=["ck","ck-toolbar",s.to("class"),s.if("isCompact","ck-toolbar_compact")];var w;this.options.shouldGroupWhenFull&&this.options.isFloating&&m.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:m,role:"toolbar","aria-label":s.to("ariaLabel"),style:{maxWidth:s.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(w=this,w.bindTemplate.to(A=>{A.target===w.element&&A.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new zF(this):new FF(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,i,s){this.items.addMany(this._buildItemsFromConfig(e,i,s))}_buildItemsFromConfig(e,i,s){const u=p5(e),f=s||u.removeItems;return this._cleanItemsConfiguration(u.items,i,f).map(m=>we(m)?this._createNestedToolbarDropdown(m,i,f):m==="|"?new u5:m==="-"?new MF:i.create(m)).filter(m=>!!m)}_cleanItemsConfiguration(e,i,s){const u=e.filter((f,m,w)=>f==="|"||s.indexOf(f)===-1&&(f==="-"?!this.options.shouldGroupWhenFull||(B("toolbarview-line-break-ignored-when-grouping-items",w),!1):!(!we(f)&&!i.has(f))||(B("toolbarview-item-unavailable",{item:f}),!1)));return this._cleanSeparatorsAndLineBreaks(u)}_cleanSeparatorsAndLineBreaks(e){const i=m=>m!=="-"&&m!=="|",s=e.length,u=e.findIndex(i);if(u===-1)return[];const f=s-e.slice().reverse().findIndex(i);return e.slice(u,f).filter((m,w,A)=>i(m)?!0:!(w>0&&A[w-1]===m))}_createNestedToolbarDropdown(e,i,s){let{label:u,icon:f,items:m,tooltip:w=!0,withText:A=!1}=e;if(m=this._cleanItemsConfiguration(m,i,s),!m.length)return null;const S=Uc(this.locale);return u||B("toolbarview-nested-toolbar-dropdown-missing-label",e),S.class="ck-toolbar__nested-toolbar-dropdown",S.buttonView.set({label:u,tooltip:w,withText:!!A}),f!==!1?S.buttonView.icon=BF[f]||f||dn.threeVerticalDots:S.buttonView.withText=!0,yy(S,()=>S.toolbarView._buildItemsFromConfig(m,i,s)),S}}class RF extends Nt{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class FF{constructor(e){const i=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(s=>s),e.focusables.bindTo(e.items).using(s=>xm(s)?s:null),e.extendTemplate({attributes:{class:[i.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class zF{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(i=>i),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(i,s)=>{const u=s.index,f=Array.from(s.added);for(const m of s.removed)u>=this.ungroupedItems.length?this.groupedItems.remove(m):this.ungroupedItems.remove(m);for(let m=u;m<u+f.length;m++){const w=f[m-u];m>this.ungroupedItems.length?this.groupedItems.add(w,m-this.ungroupedItems.length):this.ungroupedItems.add(w,m)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!wa(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let i;for(;this._areItemsOverflowing;)this._groupLastItem(),i=!0;if(!i&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,i=this.viewLocale.uiLanguageDirection,s=new Ut(e.lastChild),u=new Ut(e);if(!this.cachedPadding){const f=h.window.getComputedStyle(e),m=i==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(f[m])}return i==="ltr"?s.right>u.right-this.cachedPadding:s.left<u.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new ka(this.viewElement,i=>{e&&e===i.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=i.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new u5),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,i=e.t,s=Uc(e);return s.class="ck-toolbar__grouped-dropdown",s.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",yy(s,this.groupedItems),s.buttonView.set({label:i("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:dn.threeVerticalDots}),s}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{xm(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Cf extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",i.if("isVisible","ck-hidden",s=>!s)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class ky extends Nt{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class i0 extends Nt{constructor(e,i=new e0){super(e);const s=this.bindTemplate,u=new wy(e);this.set({label:"",isVisible:!0}),this.labelView=i,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,u]),u.set({role:"group",ariaLabelledBy:i.id}),u.focusTracker.destroy(),u.keystrokes.destroy(),this.items=u.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",s.if("isVisible","ck-hidden",f=>!f)]},children:this.children})}focus(){if(this.items){const e=this.items.find(i=>!(i instanceof ky));e&&e.focus()}}}var g5=a(5199),UF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(g5.A,UF),g5.A.locals;class wy extends Nt{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const i=this.bindTemplate;this.focusables=new Qo,this.items=this.createCollection(),this.focusTracker=new ji,this.keystrokes=new lo,this._focusCycler=new Ea({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:i.to("role"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof i0?this._registerFocusableItemsGroup(e):e instanceof Cf&&this._registerFocusableListItem(e);this.items.on("change",(e,i)=>{for(const s of i.removed)s instanceof i0?this._deregisterFocusableItemsGroup(s):s instanceof Cf&&this._deregisterFocusableListItem(s);for(const s of Array.from(i.added).reverse())s instanceof i0?this._registerFocusableItemsGroup(s,i.index):this._registerFocusableListItem(s,i.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,i){this.focusTracker.add(e.element),this.focusables.add(e,i)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(i,s)=>{for(const u of s.removed)this._deregisterFocusableListItem(u);for(const u of Array.from(s.added).reverse())this._registerFocusableListItem(u,this.items.getIndex(e)+s.index)}}_registerFocusableItemsGroup(e,i){Array.from(e.items).forEach((u,f)=>{const m=i!==void 0?i+f:void 0;this._registerFocusableListItem(u,m)});const s=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,s),e.items.on("change",s)}_deregisterFocusableItemsGroup(e){for(const i of e.items)this._deregisterFocusableListItem(i);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}var b5=a(1792),qF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(b5.A,qF),b5.A.locals;class o0 extends Nt{constructor(e,i){super(e);const s=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(i),this.arrowView=this._createArrowView(),this.keystrokes=new lo,this.focusTracker=new ji,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",s.to("class"),s.if("isVisible","ck-hidden",u=>!u),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,i)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),i())}),this.keystrokes.set("arrowleft",(e,i)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),i())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const i=e||new $n;return e||i.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),i.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),i.delegate("execute").to(this),i}_createArrowView(){const e=new $n,i=e.bindTemplate;return e.icon=n0,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":i.to("isOn"),"aria-haspopup":!0,"aria-expanded":i.to("isOn",s=>String(s))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var k5=a(1666),VF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(k5.A,VF),k5.A.locals;var w5=a(3629),$F={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(w5.A,$F),w5.A.locals;function Uc(c,e=NF){const i=typeof e=="function"?new e(c):e,s=new IF(c),u=new my(c,i,s);return i.bind("isEnabled").to(u),i instanceof o0?i.arrowView.bind("isOn").to(u,"isOpen"):i.bind("isOn").to(u,"isOpen"),function(f){(function(m){m.on("render",()=>{Fn({emitter:m,activator:()=>m.isOpen,callback:()=>{m.isOpen=!1},contextElements:()=>[m.element,...m.focusTracker._elements]})})})(f),function(m){m.on("execute",w=>{w.source instanceof t0||(m.isOpen=!1)})}(f),function(m){m.focusTracker.on("change:isFocused",(w,A,S)=>{m.isOpen&&!S&&(m.isOpen=!1)})}(f),function(m){m.keystrokes.set("arrowdown",(w,A)=>{m.isOpen&&(m.panelView.focus(),A())}),m.keystrokes.set("arrowup",(w,A)=>{m.isOpen&&(m.panelView.focusLast(),A())})}(f),function(m){m.on("change:isOpen",(w,A,S)=>{if(S)return;const T=m.panelView.element;T&&T.contains(h.document.activeElement)&&m.buttonView.focus()})}(f),function(m){m.on("change:isOpen",(w,A,S)=>{S&&m.panelView.focus()},{priority:"low"})}(f)}(u),u}function yy(c,e,i={}){c.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),c.isOpen?y5(c,e,i):c.once("change:isOpen",()=>y5(c,e,i),{priority:"highest"}),i.enableActiveItemFocusOnDropdownOpen&&_5(c,()=>c.toolbarView.items.find(s=>s.isOn))}function y5(c,e,i){const s=c.locale,u=s.t,f=c.toolbarView=new by(s),m=typeof e=="function"?e():e;f.ariaLabel=i.ariaLabel||u("Dropdown toolbar"),i.maxWidth&&(f.maxWidth=i.maxWidth),i.class&&(f.class=i.class),i.isCompact&&(f.isCompact=i.isCompact),i.isVertical&&(f.isVertical=!0),m instanceof Qo?f.items.bindTo(m).using(w=>w):f.items.addMany(m),c.panelView.children.add(f),f.items.delegate("execute").to(c)}function v5(c,e,i={}){c.isOpen?A5(c,e,i):c.once("change:isOpen",()=>A5(c,e,i),{priority:"highest"}),_5(c,()=>c.listView.items.find(s=>s instanceof Cf&&s.children.first.isOn))}function A5(c,e,i){const s=c.locale,u=c.listView=new wy(s),f=typeof e=="function"?e():e;u.ariaLabel=i.ariaLabel,u.role=i.role,C5(c,u.items,f,s),c.panelView.children.add(u),u.items.delegate("execute").to(c)}function _5(c,e){c.on("change:isOpen",()=>{if(!c.isOpen)return;const i=e();i&&(typeof i.focus=="function"?i.focus():B("ui-dropdown-focus-child-on-open-child-missing-focus",{view:i}))},{priority:F.low-10})}function C5(c,e,i,s){e.bindTo(i).using(u=>{if(u.type==="separator")return new ky(s);if(u.type==="group"){const f=new i0(s);return f.set({label:u.label}),C5(c,f.items,u.items,s),f.items.delegate("execute").to(c),f}if(u.type==="button"||u.type==="switchbutton"){const f=new Cf(s);let m;return u.type==="button"?(m=new $n(s),m.bind("ariaChecked").to(m,"isOn")):m=new t0(s),m.bind(...Object.keys(u.model)).to(u.model),m.delegate("execute").to(f),f.children.add(m),f}return null})}const s0=(c,e,i)=>{const s=new EF(c.locale);return s.set({id:e,ariaDescribedById:i}),s.bind("isReadOnly").to(c,"isEnabled",u=>!u),s.bind("hasError").to(c,"errorText",u=>!!u),s.on("input",()=>{c.errorText=null}),c.bind("isEmpty","isFocused","placeholder").to(s),s};var x5=a(1905),HF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(x5.A,HF),x5.A.locals;var S5=a(6309),WF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(S5.A,WF),S5.A.locals;class GF{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,i){this._components.set(vy(e),{callback:i,originalName:e})}create(e){if(!this.has(e))throw new M("componentfactory-item-missing",this,{name:e});return this._components.get(vy(e)).callback(this.editor.locale)}has(e){return this._components.has(vy(e))}}function vy(c){return String(c).toLowerCase()}var E5=a(7913),YF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(E5.A,YF),E5.A.locals;class KF extends Nt{constructor(e,i={}){super(e);const s=this.bindTemplate;this.set("label",i.label||""),this.set("class",i.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",s.to("class")]},children:this.children}),i.icon&&(this.iconView=new zc,this.iconView.content=i.icon,this.children.add(this.iconView));const u=new Nt(e);u.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:s.to("label")}]}),this.children.add(u)}}var D5=a(9822),QF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(D5.A,QF),D5.A.locals;class JF extends Nt{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new lo,this._focusTracker=new ji,this._focusables=new Qo,this.focusCycler=new Ea({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const i of e){const s=new $n(this.locale);let u;for(u in s.on("execute",()=>i.onExecute()),i.onCreate&&i.onCreate(s),i)u!="onExecute"&&u!="onCreate"&&s.set(u,i[u]);this.children.add(s)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class ZF extends Nt{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var I5=a(9819),XF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(I5.A,XF),I5.A.locals;const a0="screen-center",T5="editor-center",e9="editor-top-side",t9="editor-top-center",n9="editor-bottom-center",r9="editor-above-center",i9="editor-below-center",N5=Nl("px"),M5=class extends function(c){return class extends c{constructor(...e){super(...e),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(h.document,"mouseup",this._onDragEndBound),this.listenTo(h.document,"touchend",this._onDragEndBound),this.listenTo(h.document,"mousemove",this._onDragBound),this.listenTo(h.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(h.document,"mouseup",this._onDragEndBound),this.stopListening(h.document,"touchend",this._onDragEndBound),this.stopListening(h.document,"mousemove",this._onDragBound),this.stopListening(h.document,"touchmove",this._onDragBound)}_onDragStart(e,i){if(!this._isHandleElementPressed(i))return;this._attachDragListeners();let s=0,u=0;i instanceof MouseEvent?(s=i.clientX,u=i.clientY):(s=i.touches[0].clientX,u=i.touches[0].clientY),this._lastDraggingCoordinates={x:s,y:u},this.isDragging=!0}_onDrag(e,i){if(!this.isDragging)return void this._detachDragListeners();let s=0,u=0;i instanceof MouseEvent?(s=i.clientX,u=i.clientY):(s=i.touches[0].clientX,u=i.touches[0].clientY),i.preventDefault(),this.fire("drag",{deltaX:Math.round(s-this._lastDraggingCoordinates.x),deltaY:Math.round(u-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:s,y:u}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}(Nt){constructor(c,{getCurrentDomRoot:e,getViewportOffset:i}){super(c),this.wasMoved=!1;const s=this.bindTemplate,u=c.t;this.set("className",""),this.set("ariaLabel",u("Editor dialog")),this.set("isModal",!1),this.set("position",a0),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=e,this._getViewportOffset=i,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new lo,this.focusTracker=new ji,this._focusables=new Qo,this._focusCycler=new Ea({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",s.if("isModal","ck-dialog-overlay__transparent",f=>!f),s.if("_isVisible","ck-hidden",f=>!f)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",s.to("className")],role:"dialog","aria-label":s.to("ariaLabel"),style:{top:s.to("_top",f=>N5(f)),left:s.to("_left",f=>N5(f)),visibility:s.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(c,e)=>{this.fire("close",{source:"escKeyPress"}),e()}),this.on("drag",(c,{deltaX:e,deltaY:i})=>{this.wasMoved=!0,this.moveBy(e,i)}),this.listenTo(h.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(h.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(c,e,i)=>{i&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:c,title:e,hasCloseButton:i=!0,content:s,actionButtons:u}){e&&(this.headerView=new KF(this.locale,{icon:c}),i&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=e,this.ariaLabel=e,this.parts.add(this.headerView,0)),s&&(s instanceof Nt&&(s=[s]),this.contentView=new ZF(this.locale),this.contentView.children.addMany(s),this.parts.add(this.contentView)),u&&(this.actionsView=new JF(this.locale),this.actionsView.setButtons(u),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(c,e){const i=this._getViewportRect(),s=this._getDialogRect();c+s.width>i.right&&(c=i.right-s.width),c<i.left&&(c=i.left),e<i.top&&(e=i.top),this._moveTo(c,e)}_moveTo(c,e){this._left=c,this._top=e}moveBy(c,e){this.moveTo(this._left+c,this._top+e)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const c=this._getViewportRect();let e,i=this.position;this._getCurrentDomRoot()?e=this._getVisibleDomRootRect(c):i=a0;const s=M5.defaultOffset,u=this._getDialogRect();switch(i){case e9:if(e){const f=this.locale.contentLanguageDirection==="ltr"?e.right-u.width-s:e.left+s;this.moveTo(f,e.top+s)}else this._moveOffScreen();break;case T5:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),Math.round(e.top+e.height/2-u.height/2)):this._moveOffScreen();break;case a0:this.moveTo(Math.round((c.width-u.width)/2),Math.round((c.height-u.height)/2));break;case t9:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),e.top+s):this._moveOffScreen();break;case n9:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),e.bottom-u.height-s):this._moveOffScreen();break;case r9:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),e.top-u.height-s):this._moveOffScreen();break;case i9:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),e.bottom+s):this._moveOffScreen()}}_getVisibleDomRootRect(c){let e=new Ut(this._getCurrentDomRoot()).getVisible();return e?(e=c.getIntersection(e),e||null):null}_getDialogRect(){return new Ut(this.element.firstElementChild)}_getViewportRect(){return function(c){c=Object.assign({top:0,bottom:0,left:0,right:0},c);const e=new Ut(h.window);return e.top+=c.top,e.height-=c.top,e.bottom-=c.bottom,e.height-=c.bottom,e.left+=c.left,e.right-=c.right,e.width-=c.left+c.right,e}(this._getViewportOffset())}_updateFocusCyclableItems(){const c=[];if(this.contentView)for(const e of this.contentView.children)xm(e)&&c.push(e);this.actionsView&&c.push(this.actionsView),this.closeButtonView&&c.push(this.closeButtonView),c.forEach(e=>{var i;this._focusables.add(e),this.focusTracker.add(e.element),xm(i=e)&&"focusCycler"in i&&i.focusCycler instanceof Ea&&(this.listenTo(e.focusCycler,"forwardCycle",s=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&s.stop()}),this.listenTo(e.focusCycler,"backwardCycle",s=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&s.stop()}))})}_createCloseButton(){const c=new $n(this.locale),e=this.locale.t;return c.set({label:e("Close"),tooltip:!0,icon:dn.cancel}),c.on("execute",()=>this.fire("close",{source:"closeButton"})),c}};let l0=M5;l0.defaultOffset=15;class qc extends ct{constructor(e){super(e);const i=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:i("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(e,i)=>{this._show(i)}),this.on("show",(e,i)=>{i.onShow&&i.onShow(this)},{priority:"low"}),this.on("hide",()=>{qc._visibleDialogPlugin&&qc._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(i,s)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),s())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const i=e.document.differ.getChangedRoots();for(const s of i)s.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:i,title:s,hasCloseButton:u=!0,content:f,actionButtons:m,className:w,isModal:A,position:S,onHide:T}){const O=this.editor;this.view=new l0(O.locale,{getCurrentDomRoot:()=>O.editing.view.getDomRoot(O.model.document.selection.anchor.root.rootName),getViewportOffset:()=>O.ui.viewportOffset});const U=this.view;U.on("close",()=>{this.hide()}),O.ui.view.body.add(U),O.ui.focusTracker.add(U.element),O.keystrokes.listenTo(U.element),S||(S=A?a0:T5),U.set({position:S,_isVisible:!0,className:w,isModal:A}),U.setupParts({icon:i,title:s,hasCloseButton:u,content:f,actionButtons:m}),this.id=e,T&&(this._onHide=T),this.isOpen=!0,qc._visibleDialogPlugin=this}hide(){qc._visibleDialogPlugin&&qc._visibleDialogPlugin.fire(`hide:${qc._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,i=this.view;i.contentView&&i.contentView.reset(),e.ui.view.body.remove(i),e.ui.focusTracker.remove(i.element),e.keystrokes.stopListening(i.element),i.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,qc._visibleDialogPlugin=null}}var P5=a(3710),o9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(P5.A,o9),P5.A.locals;var s9=Object.defineProperty,O5=Object.getOwnPropertySymbols,a9=Object.prototype.hasOwnProperty,l9=Object.prototype.propertyIsEnumerable,L5=(c,e,i)=>e in c?s9(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,Hn=(c,e)=>{for(var i in e||(e={}))a9.call(e,i)&&L5(c,i,e[i]);if(O5)for(var i of O5(e))l9.call(e,i)&&L5(c,i,e[i]);return c};const j5=Nl("px"),B5=h.document.body,c9={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},Ay=class extends Nt{constructor(c){super(c);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",i=>`ck-balloon-panel_${i}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",j5),left:e.to("left",j5)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(c){this.show();const e=Ay.defaultPositions,i=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:B5,fitInViewport:!0},c),s=Ay._getOptimalPosition(i)||c9,u=parseInt(s.left),f=parseInt(s.top),m=s.name,w=s.config||{},{withArrow:A=!0}=w;this.top=f,this.left=u,this.position=m,this.withArrow=A}pin(c){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(c):this._stopPinning()},this._startPinning(c),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(c){this.attachTo(c);const e=_y(c.target),i=c.limiter?_y(c.limiter):B5;this.listenTo(h.document,"scroll",(s,u)=>{const f=u.target,m=e&&f.contains(e),w=i&&f.contains(i);!m&&!w&&e&&i||this.attachTo(c)},{useCapture:!0}),this.listenTo(h.window,"resize",()=>{this.attachTo(c)})}_stopPinning(){this.stopListening(h.document,"scroll"),this.stopListening(h.window,"resize")}};let ps=Ay;function _y(c){return Kr(c)?c:Tl(c)?c.commonAncestorContainer:typeof c=="function"?_y(c()):null}function R5(c={}){const{sideOffset:e=ps.arrowSideOffset,heightOffset:i=ps.arrowHeightOffset,stickyVerticalOffset:s=ps.stickyVerticalOffset,config:u}=c;return{northWestArrowSouthWest:(w,A)=>Hn({top:f(w,A),left:w.left-e,name:"arrow_sw"},u&&{config:u}),northWestArrowSouthMiddleWest:(w,A)=>Hn({top:f(w,A),left:w.left-.25*A.width-e,name:"arrow_smw"},u&&{config:u}),northWestArrowSouth:(w,A)=>Hn({top:f(w,A),left:w.left-A.width/2,name:"arrow_s"},u&&{config:u}),northWestArrowSouthMiddleEast:(w,A)=>Hn({top:f(w,A),left:w.left-.75*A.width+e,name:"arrow_sme"},u&&{config:u}),northWestArrowSouthEast:(w,A)=>Hn({top:f(w,A),left:w.left-A.width+e,name:"arrow_se"},u&&{config:u}),northArrowSouthWest:(w,A)=>Hn({top:f(w,A),left:w.left+w.width/2-e,name:"arrow_sw"},u&&{config:u}),northArrowSouthMiddleWest:(w,A)=>Hn({top:f(w,A),left:w.left+w.width/2-.25*A.width-e,name:"arrow_smw"},u&&{config:u}),northArrowSouth:(w,A)=>Hn({top:f(w,A),left:w.left+w.width/2-A.width/2,name:"arrow_s"},u&&{config:u}),northArrowSouthMiddleEast:(w,A)=>Hn({top:f(w,A),left:w.left+w.width/2-.75*A.width+e,name:"arrow_sme"},u&&{config:u}),northArrowSouthEast:(w,A)=>Hn({top:f(w,A),left:w.left+w.width/2-A.width+e,name:"arrow_se"},u&&{config:u}),northEastArrowSouthWest:(w,A)=>Hn({top:f(w,A),left:w.right-e,name:"arrow_sw"},u&&{config:u}),northEastArrowSouthMiddleWest:(w,A)=>Hn({top:f(w,A),left:w.right-.25*A.width-e,name:"arrow_smw"},u&&{config:u}),northEastArrowSouth:(w,A)=>Hn({top:f(w,A),left:w.right-A.width/2,name:"arrow_s"},u&&{config:u}),northEastArrowSouthMiddleEast:(w,A)=>Hn({top:f(w,A),left:w.right-.75*A.width+e,name:"arrow_sme"},u&&{config:u}),northEastArrowSouthEast:(w,A)=>Hn({top:f(w,A),left:w.right-A.width+e,name:"arrow_se"},u&&{config:u}),southWestArrowNorthWest:w=>Hn({top:m(w),left:w.left-e,name:"arrow_nw"},u&&{config:u}),southWestArrowNorthMiddleWest:(w,A)=>Hn({top:m(w),left:w.left-.25*A.width-e,name:"arrow_nmw"},u&&{config:u}),southWestArrowNorth:(w,A)=>Hn({top:m(w),left:w.left-A.width/2,name:"arrow_n"},u&&{config:u}),southWestArrowNorthMiddleEast:(w,A)=>Hn({top:m(w),left:w.left-.75*A.width+e,name:"arrow_nme"},u&&{config:u}),southWestArrowNorthEast:(w,A)=>Hn({top:m(w),left:w.left-A.width+e,name:"arrow_ne"},u&&{config:u}),southArrowNorthWest:w=>Hn({top:m(w),left:w.left+w.width/2-e,name:"arrow_nw"},u&&{config:u}),southArrowNorthMiddleWest:(w,A)=>Hn({top:m(w),left:w.left+w.width/2-.25*A.width-e,name:"arrow_nmw"},u&&{config:u}),southArrowNorth:(w,A)=>Hn({top:m(w),left:w.left+w.width/2-A.width/2,name:"arrow_n"},u&&{config:u}),southArrowNorthMiddleEast:(w,A)=>Hn({top:m(w),left:w.left+w.width/2-.75*A.width+e,name:"arrow_nme"},u&&{config:u}),southArrowNorthEast:(w,A)=>Hn({top:m(w),left:w.left+w.width/2-A.width+e,name:"arrow_ne"},u&&{config:u}),southEastArrowNorthWest:w=>Hn({top:m(w),left:w.right-e,name:"arrow_nw"},u&&{config:u}),southEastArrowNorthMiddleWest:(w,A)=>Hn({top:m(w),left:w.right-.25*A.width-e,name:"arrow_nmw"},u&&{config:u}),southEastArrowNorth:(w,A)=>Hn({top:m(w),left:w.right-A.width/2,name:"arrow_n"},u&&{config:u}),southEastArrowNorthMiddleEast:(w,A)=>Hn({top:m(w),left:w.right-.75*A.width+e,name:"arrow_nme"},u&&{config:u}),southEastArrowNorthEast:(w,A)=>Hn({top:m(w),left:w.right-A.width+e,name:"arrow_ne"},u&&{config:u}),westArrowEast:(w,A)=>Hn({top:w.top+w.height/2-A.height/2,left:w.left-A.width-i,name:"arrow_e"},u&&{config:u}),eastArrowWest:(w,A)=>Hn({top:w.top+w.height/2-A.height/2,left:w.right+i,name:"arrow_w"},u&&{config:u}),viewportStickyNorth:(w,A,S,T)=>{const O=T||S;return w.getIntersection(O)?O.height-w.height>s?null:{top:O.top+s,left:w.left+w.width/2-A.width/2,name:"arrowless",config:Hn({withArrow:!1},u)}:null}};function f(w,A){return w.top-A.height-i}function m(w){return w.bottom+i}}ps.arrowSideOffset=25,ps.arrowHeightOffset=10,ps.stickyVerticalOffset=20,ps._getOptimalPosition=Ld,ps.defaultPositions=R5();var F5=a(9205),u9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(F5.A,u9),F5.A.locals;const z5="ck-tooltip",ms=class extends yi(){constructor(c){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,ms._editors.add(c),ms._instance)return ms._instance;ms._instance=this,this.tooltipTextView=new Nt(c.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new ps(c.locale),this.balloonPanelView.class=z5,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const i=new MutationObserver(()=>{e()});return{attach(s){i.observe(s,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){i.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=yf(this._pinTooltip,600),this._unpinTooltipDebounced=yf(this._unpinTooltip,400),this.listenTo(h.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(h.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(h.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(h.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(h.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(h.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(c){const e=c.ui.view&&c.ui.view.body;ms._editors.delete(c),this.stopListening(c.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),ms._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),ms._instance=null)}static getPositioningFunctions(c){const e=ms.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[c]}_onKeyDown(c,e){e.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),e.stopPropagation())}_onEnterOrFocus(c,{target:e}){const i=Cy(e);i?i!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(i,U5(i))):c.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(c,{target:e,relatedTarget:i}){if(c.name==="mouseleave"){if(!Kr(e))return;const s=this.balloonPanelView.element,u=s&&(s===i||s.contains(i)),f=!u&&e===s;if(u)return void this._unpinTooltipDebounced.cancel();if(!f&&this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const m=Cy(e),w=Cy(i);(f||m&&m!==w)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(c,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(c,{text:e,position:i,cssClass:s}){this._unpinTooltip();const u=Li(ms._editors.values()).ui.view.body;u.has(this.balloonPanelView)||u.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:c,positions:ms.getPositioningFunctions(i)}),this._resizeObserver=new ka(c,()=>{wa(c)||this._unpinTooltip()}),this._mutationObserver.attach(c),this.balloonPanelView.class=[z5,s].filter(f=>f).join(" ");for(const f of ms._editors)this.listenTo(f.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=c,this._currentTooltipPosition=i}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const c of ms._editors)this.stopListening(c.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const c=U5(this._currentElementWithTooltip);wa(this._currentElementWithTooltip)&&c.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:ms.getPositioningFunctions(c.position)}):this._unpinTooltip()}};let c0=ms;function Cy(c){return Kr(c)?c.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function U5(c){return{text:c.dataset.ckeTooltipText,position:c.dataset.ckeTooltipPosition||"s",cssClass:c.dataset.ckeTooltipClass||""}}c0.defaultBalloonPositions=R5({heightOffset:5,sideOffset:13}),c0._editors=new Set,c0._instance=null;const u0=function(c,e,i){var s=!0,u=!0;if(typeof c!="function")throw new TypeError("Expected a function");return we(i)&&(s="leading"in i?!!i.leading:s,u="trailing"in i?!!i.trailing:u),yf(c,e,{leading:s,maxWait:e,trailing:u})};var d9=Object.defineProperty,q5=Object.getOwnPropertySymbols,h9=Object.prototype.hasOwnProperty,f9=Object.prototype.propertyIsEnumerable,V5=(c,e,i)=>e in c?d9(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,p9=(c,e)=>{for(var i in e||(e={}))h9.call(e,i)&&V5(c,i,e[i]);if(q5)for(var i of q5(e))f9.call(e,i)&&V5(c,i,e[i]);return c};const m9=50,g9=350,b9="Powered by";class k9 extends yi(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=u0(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(i){function s(G){return G.length>=40&&G.length<=255?"VALID":"INVALID"}if(!i)return"INVALID";let u="";try{u=atob(i)}catch{return"INVALID"}const f=u.split("-"),m=f[0],w=f[1];if(!w)return s(i);try{atob(w)}catch{try{if(atob(m),!atob(m).length)return s(i)}catch{return s(i)}}if(m.length<40||m.length>255)return"INVALID";let A="";try{atob(m),A=atob(w)}catch{return"INVALID"}if(A.length!==8)return"INVALID";const S=Number(A.substring(0,4)),T=Number(A.substring(4,6))-1,O=Number(A.substring(6,8)),U=new Date(S,T,O);return U<K||isNaN(Number(U))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(i,s,u)=>{this._updateLastFocusedEditableElement(),u?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(i,s,u)=>{this._updateLastFocusedEditableElement(),u&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,i=this._balloonView=new ps,s=H5(e),u=new w9(e.locale,s.label);i.content.add(u),i.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(i),e.ui.focusTracker.add(i.element),this._balloonView=i}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(i,s){const u=H5(i),f=u.side==="right"?function(m,w){return $5(m,w,(A,S)=>A.left+A.width-S.width-w.horizontalOffset)}(s,u):function(m,w){return $5(m,w,A=>A.left+w.horizontalOffset)}(s,u);return{target:s,positions:[f]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,i=e.ui.focusTracker.isFocused,s=e.ui.focusTracker.focusedElement;if(!i||!s)return void(this._lastFocusedEditableElement=null);const u=Array.from(e.ui.getEditableElementsNames()).map(f=>e.ui.getEditableElement(f));u.includes(s)?this._lastFocusedEditableElement=s:this._lastFocusedEditableElement=u[0]}}class w9 extends Nt{constructor(e,i){super(e);const s=new zc,u=this.bindTemplate;s.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),s.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...i?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[i]}]:[],s],on:{dragstart:u.to(f=>f.preventDefault())}}]})}}function $5(c,e,i){return(s,u)=>{const f=new Ut(c);if(f.width<g9||f.height<m9)return null;let m;m=e.position==="inside"?f.bottom-u.height:f.bottom-u.height/2,m-=e.verticalOffset;const w=i(f,u),A=s.clone().moveTo(w,m).getIntersection(u.clone().moveTo(w,m)).getVisible();return!A||A.getArea()<u.getArea()?null:{top:m,left:w,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function H5(c){const e=c.config.get("ui.poweredBy"),i=e&&e.position||"border";return p9({position:i,label:b9,verticalOffset:i==="inside"?5:0,horizontalOffset:5,side:c.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var W5=a(1801),y9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(W5.A,y9),W5.A.locals;const G5={POLITE:"polite",ASSERTIVE:"assertive"};class v9{constructor(e){this.editor=e,e.once("ready",()=>{for(const i of Object.values(G5))this.announce("",i)})}announce(e,i=G5.POLITE){const s=this.editor;if(!s.ui.view)return;this.view||(this.view=new A9(s.locale),s.ui.view.body.add(this.view));const{politeness:u,isUnsafeHTML:f}=typeof i=="string"?{politeness:i}:i;let m=this.view.regionViews.find(w=>w.politeness===u);m||(m=new _9(s,u),this.view.regionViews.add(m)),m.announce({announcement:e,isUnsafeHTML:f})}}class A9 extends Nt{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class _9 extends Nt{constructor(e,i){super(e.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":i,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=i,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:i}){if(!e.trim().length)return;const s=document.createElement("li");i?this._domConverter.setContentOf(s,e):s.innerText=e,this._listElement.appendChild(s)}get _listElement(){return this.element.querySelector("ul")}}var C9=Object.defineProperty,Y5=Object.getOwnPropertySymbols,x9=Object.prototype.hasOwnProperty,S9=Object.prototype.propertyIsEnumerable,K5=(c,e,i)=>e in c?C9(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class E9 extends Ue(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const i=e.editing.view;this.editor=e,this.componentFactory=new GF(e),this.focusTracker=new ji,this.tooltipManager=new c0(e),this.poweredBy=new k9(e),this.ariaLiveAnnouncer=new v9(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(i.document,"layoutChanged",this.update.bind(this)),this.listenTo(i,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,i){this._editableElementsMap.set(e,i),i.ckeditorInstance||(i.ckeditorInstance=this.editor),this.focusTracker.add(i);const s=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(i)};this.isReady?s():this.once("ready",s)}removeEditableElement(e){const i=this._editableElementsMap.get(e);i&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(i),this.focusTracker.remove(i),i.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,i={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:i})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,i=e.config.get("ui.viewportOffset");if(i)return i;const s=e.config.get("toolbar.viewportTopOffset");return s?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:s}):{top:0}}_initFocusTracking(){const e=this.editor,i=e.editing.view;let s,u;e.keystrokes.set("Alt+F10",(f,m)=>{const w=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(w)&&!Array.from(i.domRoots.values()).includes(w)&&(s=w);const A=this._getCurrentFocusedToolbarDefinition();A&&u||(u=this._getFocusableCandidateToolbarDefinitions());for(let S=0;S<u.length;S++){const T=u.shift();if(u.push(T),T!==A&&this._focusFocusableCandidateToolbar(T)){A&&A.options.afterBlur&&A.options.afterBlur();break}}m()}),e.keystrokes.set("Esc",(f,m)=>{const w=this._getCurrentFocusedToolbarDefinition();w&&(s?(s.focus(),s=null):e.editing.view.focus(),w.options.afterBlur&&w.options.afterBlur(),m())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const i of this._focusableToolbarDefinitions){const{toolbarView:s,options:u}=i;(wa(s.element)||u.beforeFocus)&&e.push(i)}return e.sort((i,s)=>Q5(i)-Q5(s)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:i,options:{beforeFocus:s}}=e;return s&&s(),!!wa(i.element)&&(i.focus(),!0)}_handleScrollToTheSelection(e,i){const s=((u,f)=>{for(var m in f||(f={}))x9.call(f,m)&&K5(u,m,f[m]);if(Y5)for(var m of Y5(f))S9.call(f,m)&&K5(u,m,f[m]);return u})({top:0,bottom:0,left:0,right:0},this.viewportOffset);i.viewportOffset.top+=s.top,i.viewportOffset.bottom+=s.bottom,i.viewportOffset.left+=s.left,i.viewportOffset.right+=s.right}}function Q5(c){const{toolbarView:e,options:i}=c;let s=10;return wa(e.element)&&s--,i.isContextual&&s--,s}var J5=a(1185),D9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(J5.A,D9),J5.A.locals;class I9 extends Nt{constructor(e){super(e),this.body=new pF(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class T9 extends I9{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,i=new e0;return i.text=e("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}class N9 extends Nt{constructor(e,i,s){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=s,this._hasExternalElement=!!this._editableElement,this._editingView=i}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function i(s){e.change(u=>{const f=e.document.getRoot(s.name);u.addClass(s.isFocused?"ck-focused":"ck-blurred",f),u.removeClass(s.isFocused?"ck-blurred":"ck-focused",f)})}e.isRenderingInProgress?function s(u){e.once("change:isRenderingInProgress",(f,m,w)=>{w?s(u):i(u)})}(this):i(this)}}class M9 extends N9{constructor(e,i,s,u={}){super(e,i,s);const f=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=u.label||(()=>f("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(i=>{const s=e.document.getRoot(this.name);i.setAttribute("aria-label",this._generateLabel(this),s)})}}class xy extends si{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,i)=>{window.alert(i.message)},{priority:"lowest"})}showSuccess(e,i={}){this._showNotification({message:e,type:"success",namespace:i.namespace,title:i.title})}showInfo(e,i={}){this._showNotification({message:e,type:"info",namespace:i.namespace,title:i.title})}showWarning(e,i={}){this._showNotification({message:e,type:"warning",namespace:i.namespace,title:i.title})}_showNotification(e){const i=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(i,{message:e.message,type:e.type,title:e.title||""})}}class Z5 extends Ue(){constructor(e,i){super(),i&&C2(this,i),e&&this.set(e)}}var X5=a(991),P9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(X5.A,P9),X5.A.locals;var eS=a(5380),O9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(eS.A,O9),eS.A.locals;const d0=Nl("px");class h0 extends ct{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const i=this.editor.editing.view,s=i.document.selection.editableElement;return s?i.domConverter.mapViewToDom(s.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new M("contextualballoon-add-view-exist",[this,e]);const i=e.stackId||"main";if(!this._idToStack.has(i))return this._idToStack.set(i,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(i));const s=this._idToStack.get(i);e.singleViewMode&&this.showStack(i),s.set(e.view,e),this._viewToStack.set(e.view,s),s===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new M("contextualballoon-remove-view-not-exist",[this,e]);const i=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const i=this._idToStack.get(e);if(!i)throw new M("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}_createPanelView(){this._view=new ps(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(i=>i[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)+1;e[i]||(i=0),this.showStack(this._getStackId(e[i]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)-1;e[i]||(i=e.length-1),this.showStack(this._getStackId(e[i]))}_createRotatorView(){const e=new L9(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(s,u)=>!u&&s>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(s,u)=>{if(u<2)return"";const f=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return i("%0 of %1",[f,u])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new j9(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(i,s)=>!s&&i>=2?Math.min(i-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:i="",withArrow:s=!0,singleViewMode:u=!1}){this.view.class=i,this.view.withArrow=s,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),u&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class L9 extends Nt{constructor(e){super(e);const i=e.t,s=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new ji,this.buttonPrevView=this._createButtonView(i("Previous"),dn.previousArrow),this.buttonNextView=this._createButtonView(i("Next"),dn.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",s.to("isNavigationVisible",u=>u?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:s.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,i){const s=new $n(this.locale);return s.set({label:e,icon:i,tooltip:!0}),s}}class j9 extends Nt{constructor(e,i){super(e);const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=i,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",s.to("numberOfPanels",u=>u?"":"ck-hidden")],style:{top:s.to("top",d0),left:s.to("left",d0),width:s.to("width",d0),height:s.to("height",d0)}},children:this.content}),this.on("change:numberOfPanels",(u,f,m,w)=>{m>w?this._addPanels(m-w):this._removePanels(w-m),this.updatePosition()})}_addPanels(e){for(;e--;){const i=new Nt;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}_removePanels(e){for(;e--;){const i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:i}=this._balloonPanelView,{width:s,height:u}=new Ut(this._balloonPanelView.element);Object.assign(this,{top:e,left:i,width:s,height:u})}}}var tS=a(8298),B9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(tS.A,B9),tS.A.locals;const xf=Nl("px");class R9 extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new I({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",s=>s?"block":"none"),height:i.to("isSticky",s=>s?xf(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new I({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",s=>s?xf(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:i.to("_stickyTopOffset",s=>s&&xf(s)),bottom:i.to("_stickyBottomOffset",s=>s&&xf(s)),marginLeft:i.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(h.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new Ut(this.limiterElement);let i=e.getVisible();if(i){const s=new Ut(h.window);s.top+=this.viewportTopOffset,s.height-=this.viewportTopOffset,i=i.getIntersection(s)}if(i&&e.top<i.top){const s=i.top;if(s+this._contentPanelRect.height+this.limiterBottomOffset>i.bottom){const u=Math.max(e.bottom-i.bottom,0)+this.limiterBottomOffset;e.bottom-u>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(u):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(s):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=xf(-h.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=xf(-h.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Ut(this.contentPanelElement)}}class F9 extends r0{constructor(e,i){const s=e.t,u=Object.assign({},{showResetButton:!0,showIcon:!0,creator:s0},i);super(e,u.creator),this.label=i.label,this._viewConfig=u,this._viewConfig.showIcon&&(this.iconView=new zc,this.iconView.content=dn.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new $n(e),this.resetButtonView.set({label:s("Clear"),icon:dn.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",f=>!f),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class z9 extends Nt{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",i=>!i)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class U9 extends Nt{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new ji,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Ea({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var nS=/[\\^$.*+?()[\]{}|]/g,q9=RegExp(nS.source);const rS=function(c){return(c=hf(c))&&q9.test(c)?c.replace(nS,"\\$&"):c};var iS=a(8107),V9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(iS.A,V9),iS.A.locals;var $9=Object.defineProperty,oS=Object.getOwnPropertySymbols,H9=Object.prototype.hasOwnProperty,W9=Object.prototype.propertyIsEnumerable,sS=(c,e,i)=>e in c?$9(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class G9 extends Nt{constructor(e,i){super(e),this._config=i,this.filteredView=i.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new ji,this.keystrokes=new lo,this.resultsView=new U9(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),i.infoView&&i.infoView.instance?this.infoView=i.infoView.instance:(this.infoView=new z9,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Ea({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(s,{resultsCount:u,totalItemsCount:f})=>{this.resultsCount=u,this.totalItemsCount=f}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",i.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=i=>i.stopPropagation();for(const i of this.focusableChildren)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const i=e?new RegExp(rS(e),"ig"):null,s=this.filteredView.filter(i);this.fire("search",((u,f)=>{for(var m in f||(f={}))H9.call(f,m)&&sS(u,m,f[m]);if(oS)for(var m of oS(f))W9.call(f,m)&&sS(u,m,f[m]);return u})({query:e},s))}_createSearchTextQueryView(){const e=new F9(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,i=this.infoView;function s(u,{query:f,resultsCount:m,totalItemsCount:w}){return typeof u=="function"?u(f,m,w):u}this.on("search",(u,f)=>{if(f.resultsCount)i.set({isVisible:!1});else{const m=this._config.infoView&&this._config.infoView.text;let w,A;f.totalItemsCount?m&&m.notFound?(w=m.notFound.primary,A=m.notFound.secondary):(w=e("No results found"),A=""):m&&m.noSearchableItems?(w=m.noSearchableItems.primary,A=m.noSearchableItems.secondary):(w=e("No searchable items"),A=""),i.set({primaryText:s(w,f),secondaryText:s(A,f),isVisible:!0})}})}}var aS=a(5727),Y9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(aS.A,Y9),aS.A.locals;const Sy=class extends G9{constructor(c,e){super(c,e),this._config=e;const i=Nl("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const s=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[s.if("isVisible","ck-hidden",u=>!u),s.to("_position",u=>`ck-search__results_${u}`)],style:{width:s.to("_width",i)}}}),this.focusTracker.on("change:isFocused",(u,f,m)=>{this._updateResultsVisibility(),m?this.resultsView.element.scrollTop=0:e.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(u,f)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,f())}),this.listenTo(h.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(u,{value:f})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=f,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Ut(this.queryView.fieldView.element).width;const c=Sy._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:Sy.defaultResultsPositions});this.resultsView._position=c?c.name:"s"}_updateResultsVisibility(){const c=this._config.queryMinChars===void 0?0:this._config.queryMinChars,e=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&e>=c}};let lS=Sy;lS.defaultResultsPositions=[c=>({top:c.bottom,left:c.left,name:"s"}),(c,e)=>({top:c.top-e.height,left:c.left,name:"n"})],lS._getOptimalPosition=Ld;var cS=a(9529),K9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(cS.A,K9),cS.A.locals;var uS=a(109),Q9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(uS.A,Q9),uS.A.locals;var dS=a(2710),J9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(dS.A,J9),dS.A.locals;var hS=a(3344),Z9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(hS.A,Z9),hS.A.locals;class X9 extends $n{constructor(e){super(e);const i=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",s=>String(s)),"data-cke-tooltip-disabled":i.to("isOn")},on:{mouseenter:i.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new zc;return e.content=n0,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}var fS=a(9481),ez={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(fS.A,ez),fS.A.locals;class Ey extends Cf{constructor(e,i){super(e);const s=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:s.to("mouseenter")}}),this.delegate("mouseenter").to(i)}}var tz=Object.defineProperty,pS=Object.getOwnPropertySymbols,nz=Object.prototype.hasOwnProperty,rz=Object.prototype.propertyIsEnumerable,mS=(c,e,i)=>e in c?tz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,gS=(c,e)=>{for(var i in e||(e={}))nz.call(e,i)&&mS(c,i,e[i]);if(pS)for(var i of pS(e))rz.call(e,i)&&mS(c,i,e[i]);return c};const Sm={toggleMenusAndFocusItemsOnHover(c){c.on("menu:mouseenter",e=>{if(c.isOpen){for(const i of c.menus){const s=e.path[0],u=s instanceof Ey&&s.children.first===i;i.isOpen=(e.path.includes(i)||u)&&i.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(c){const e=c.locale.uiLanguageDirection==="rtl";function i(s,u){const f=c.children.getIndex(s),m=s.isOpen,w=c.children.length,A=c.children.get((f+w+u)%w);s.isOpen=!1,m&&(A.isOpen=!0),A.buttonView.focus()}c.on("menu:arrowright",s=>{i(s.source,e?-1:1)}),c.on("menu:arrowleft",s=>{i(s.source,e?1:-1)})},closeMenusWhenTheBarCloses(c){c.on("change:isOpen",()=>{c.isOpen||c.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(c){c.on("menu:change:isOpen",(e,i,s)=>{s&&c.menus.filter(u=>e.source.parentMenuView===u.parentMenuView&&e.source!==u&&u.isOpen).forEach(u=>{u.isOpen=!1})})},closeOnClickOutside(c){Fn({emitter:c,activator:()=>c.isOpen,callback:()=>c.close(),contextElements:()=>c.children.map(e=>e.element)})}},Xd={openAndFocusPanelOnArrowDownKey(c){c.keystrokes.set("arrowdown",(e,i)=>{c.focusTracker.focusedElement===c.buttonView.element&&(c.isOpen||(c.isOpen=!0),c.panelView.focus(),i())})},openOnArrowRightKey(c){const e=c.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";c.keystrokes.set(e,(i,s)=>{c.focusTracker.focusedElement===c.buttonView.element&&c.isEnabled&&(c.isOpen||(c.isOpen=!0),c.panelView.focus(),s())})},openOnButtonClick(c){c.buttonView.on("execute",()=>{c.isOpen=!0,c.panelView.focus()})},toggleOnButtonClick(c){c.buttonView.on("execute",()=>{c.isOpen=!c.isOpen,c.isOpen&&c.panelView.focus()})},closeOnArrowLeftKey(c){const e=c.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";c.keystrokes.set(e,(i,s)=>{c.isOpen&&(c.isOpen=!1,c.focus(),s())})},closeOnEscKey(c){c.keystrokes.set("esc",(e,i)=>{c.isOpen&&(c.isOpen=!1,c.focus(),i())})},closeOnParentClose(c){c.parentMenuView.on("change:isOpen",(e,i,s)=>{s||e.source!==c.parentMenuView||(c.isOpen=!1)})}},iz={southEast:c=>({top:c.bottom,left:c.left,name:"se"}),southWest:(c,e)=>({top:c.bottom,left:c.left-e.width+c.width,name:"sw"}),northEast:(c,e)=>({top:c.top-e.height,left:c.left,name:"ne"}),northWest:(c,e)=>({top:c.top-e.height,left:c.left-e.width+c.width,name:"nw"}),eastSouth:c=>({top:c.top,left:c.right-5,name:"es"}),eastNorth:(c,e)=>({top:c.top-e.height,left:c.right-5,name:"en"}),westSouth:(c,e)=>({top:c.top,left:c.left-e.width+5,name:"ws"}),westNorth:(c,e)=>({top:c.top-e.height,left:c.left-e.width+5,name:"wn"})},oz=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function sz({normalizedConfig:c,locale:e,componentFactory:i}){const s=tl(c);return function(u,f){const m=f.removeItems,w=[];f.items=f.items.filter(({menuId:A})=>!m.includes(A)||(w.push(A),!1)),Sf(f.items,A=>{A.groups=A.groups.filter(({groupId:S})=>!m.includes(S)||(w.push(S),!1));for(const S of A.groups)S.items=S.items.filter(T=>{const O=wS(T);return!m.includes(O)||(w.push(O),!1)})});for(const A of m)w.includes(A)||B("menu-bar-item-could-not-be-removed",{menuBarConfig:u,itemName:A})}(c,s),function(u,f){const m=f.addItems,w=[];for(const A of m){const S=cz(A.position),T=uz(A.position);if(az(A))if(T){const O=f.items.findIndex(U=>U.menuId===T);O!=-1?S==="before"?(f.items.splice(O,0,A.menu),w.push(A)):S==="after"&&(f.items.splice(O+1,0,A.menu),w.push(A)):bS(f,A.menu,T,S)&&w.push(A)}else S==="start"?(f.items.unshift(A.menu),w.push(A)):S==="end"&&(f.items.push(A.menu),w.push(A));else lz(A)?Sf(f.items,O=>{if(O.menuId===T)S==="start"?(O.groups.unshift(A.group),w.push(A)):S==="end"&&(O.groups.push(A.group),w.push(A));else{const U=O.groups.findIndex(G=>G.groupId===T);U!==-1&&(S==="before"?(O.groups.splice(U,0,A.group),w.push(A)):S==="after"&&(O.groups.splice(U+1,0,A.group),w.push(A)))}}):bS(f,A.item,T,S)&&w.push(A)}for(const A of m)w.includes(A)||B("menu-bar-item-could-not-be-added",{menuBarConfig:u,addedItemConfig:A})}(c,s),function(u,f,m){Sf(f.items,w=>{for(const A of w.groups)A.items=A.items.filter(S=>{const T=typeof S=="string"&&!m.has(S);return T&&!f.isUsingDefaultConfig&&B("menu-bar-item-unavailable",{menuBarConfig:u,parentMenuConfig:tl(w),componentName:S}),!T})})}(c,s,i),kS(c,s),function(u,f){const m=f.t,w={File:m({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:m({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:m({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:m({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:m({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:m({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:m({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:m({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:m({string:"Font",id:"MENU_BAR_MENU_FONT"})};Sf(u.items,A=>{A.label in w&&(A.label=w[A.label])})}(s,e),s}function bS(c,e,i,s){let u=!1;return Sf(c.items,f=>{for(const{groupId:m,items:w}of f.groups){if(u)return;if(m===i)s==="start"?(w.unshift(e),u=!0):s==="end"&&(w.push(e),u=!0);else{const A=w.findIndex(S=>wS(S)===i);A!==-1&&(s==="before"?(w.splice(A,0,e),u=!0):s==="after"&&(w.splice(A+1,0,e),u=!0))}}}),u}function kS(c,e){const i=e.isUsingDefaultConfig;let s=!1;e.items=e.items.filter(u=>!!u.groups.length||(Dy(c,u,i),!1)),e.items.length?(Sf(e.items,u=>{u.groups=u.groups.filter(f=>!!f.items.length||(s=!0,!1));for(const f of u.groups)f.items=f.items.filter(m=>!(yS(m)&&!m.groups.length)||(Dy(c,m,i),s=!0,!1))}),s&&kS(c,e)):Dy(c,c,i)}function Dy(c,e,i){i||B("menu-bar-menu-empty",{menuBarConfig:c,emptyMenuConfig:e})}function Sf(c,e){if(Array.isArray(c))for(const s of c)i(s);function i(s){e(s);for(const u of s.groups)for(const f of u.items)yS(f)&&i(f)}}function az(c){return typeof c=="object"&&"menu"in c}function lz(c){return typeof c=="object"&&"group"in c}function cz(c){return c.startsWith("start")?"start":c.startsWith("end")?"end":c.startsWith("after")?"after":"before"}function uz(c){const e=c.match(/^[^:]+:(.+)/);return e?e[1]:null}function wS(c){return typeof c=="string"?c:c.menuId}function yS(c){return typeof c=="object"&&"menuId"in c}function dz(c,e){const i=e.element;c.ui.focusTracker.add(i),c.keystrokes.listenTo(i);const s=function(u){let f;return f="items"in u&&u.items?gS({items:u.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},u):gS({items:tl(oz),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},u),f}(c.config.get("menuBar")||{});e.fillFromConfig(s,c.ui.componentFactory),c.keystrokes.set("Esc",(u,f)=>{i.contains(c.ui.focusTracker.focusedElement)&&(c.editing.view.focus(),f())}),c.keystrokes.set("Alt+F9",(u,f)=>{i.contains(c.ui.focusTracker.focusedElement)||(e.focus(),f())})}var vS=a(9108),hz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(vS.A,hz),vS.A.locals;class fz extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",i.to("position",s=>`ck-menu-bar__menu__panel_position_${s}`),i.if("isVisible","ck-hidden",s=>!s)],tabindex:"-1"},children:this.children,on:{selectstart:i.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}var AS=a(4),pz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(AS.A,pz),AS.A.locals;const _S=class extends Nt{constructor(c){super(c);const e=this.bindTemplate;this.buttonView=new X9(c),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new fz(c),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new lo,this.focusTracker=new ji,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",e.to("class"),e.if("isEnabled","ck-disabled",i=>!i),e.if("parentMenuView","ck-menu-bar__menu_top-level",i=>!i)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),Xd.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(Xd.openOnButtonClick(this),Xd.openOnArrowRightKey(this),Xd.closeOnArrowLeftKey(this),Xd.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),Xd.openAndFocusPanelOnArrowDownKey(this),Xd.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(c,e)=>{this.fire("arrowright"),e()}),this.keystrokes.set("arrowleft",(c,e)=>{this.fire("arrowleft"),e()})}_repositionPanelOnOpen(){this.on("change:isOpen",(c,e,i)=>{if(!i)return;const s=_S._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=s?s.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:c,southWest:e,northEast:i,northWest:s,westSouth:u,eastSouth:f,westNorth:m,eastNorth:w}=iz;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[f,w,u,m]:[c,e,i,s]:this.parentMenuView?[u,m,f,w]:[e,c,s,i]}};let Ef=_S;Ef._getOptimalPosition=Ld;class Iy extends wy{constructor(e){super(e),this.role="menu"}}var CS=a(977),mz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(CS.A,mz),CS.A.locals;class qs extends $n{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class xS extends r5{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var SS=a(497),gz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(SS.A,gz),SS.A.locals;const ES=["mouseenter","arrowleft","arrowright","change:isOpen"];class bz extends Nt{constructor(e){super(e),this.menus=[];const i=e.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":i("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,i){const s=sz({normalizedConfig:e,locale:this.locale,componentFactory:i}).items.map(u=>this._createMenu({componentFactory:i,menuDefinition:u}));this.children.addMany(s)}render(){super.render(),Sm.toggleMenusAndFocusItemsOnHover(this),Sm.closeMenusWhenTheBarCloses(this),Sm.closeMenuWhenAnotherOnTheSameLevelOpens(this),Sm.focusCycleMenusOnArrows(this),Sm.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,i=null){i?(e.delegate(...ES).to(i),e.parentMenuView=i):e.delegate(...ES).to(this,s=>"menu:"+s),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:i,parentMenuView:s}){const u=this.locale,f=new Ef(u);return this.registerMenu(f,s),f.buttonView.set({label:i.label}),f.once("change:isOpen",()=>{const m=new Iy(u);m.ariaLabel=i.label,f.panelView.children.add(m),m.items.addMany(this._createMenuItems({menuDefinition:i,parentMenuView:f,componentFactory:e}))}),f}_createMenuItems({menuDefinition:e,parentMenuView:i,componentFactory:s}){const u=this.locale,f=[];for(const m of e.groups){for(const w of m.items){const A=new Ey(u,i);if(we(w))A.children.add(this._createMenu({componentFactory:s,menuDefinition:w,parentMenuView:i}));else{const S=this._createMenuItemContentFromFactory({componentName:w,componentFactory:s,parentMenuView:i});if(!S)continue;A.children.add(S)}f.push(A)}m!==e.groups[e.groups.length-1]&&f.push(new ky(u))}return f}_createMenuItemContentFromFactory({componentName:e,parentMenuView:i,componentFactory:s}){const u=s.create(e);return u instanceof Ef||u instanceof qs||u instanceof xS?(this._registerMenuTree(u,i),u.on("execute",()=>{this.close()}),u):(B("menu-bar-component-unsupported",{componentName:e,componentView:u}),null)}_registerMenuTree(e,i){if(!(e instanceof Ef))return void e.delegate("mouseenter").to(i);this.registerMenu(e,i);const s=e.panelView.children.filter(f=>f instanceof Iy)[0];if(!s)return void e.delegate("mouseenter").to(i);const u=s.items.filter(f=>f instanceof Cf);for(const f of u)this._registerMenuTree(f.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(i,s,u)=>{clearTimeout(e),u?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(f=>f.isOpen)},0)})}}class kz extends E9{constructor(e,i){super(e),this.view=i,this._toolbarConfig=p5(e.config.get("toolbar")),this._elementReplacer=new Ae,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const i=this.editor,s=this.view,u=i.editing.view,f=s.editable,m=u.document.getRoot();f.name=m.rootName,s.render();const w=f.element;this.setEditableElement(f.name,w),s.editable.bind("isFocused").to(this.focusTracker),u.attachDomRoot(w),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),s.menuBarView&&dz(i,s.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:i})=>i||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,i=e.editing.view,s=i.document.getRoot(),u=e.sourceElement;let f;const m=e.config.get("placeholder");m&&(f=typeof m=="string"?m:m[this.view.editable.name]),!f&&u&&u.tagName.toLowerCase()==="textarea"&&(f=u.getAttribute("placeholder")),f&&(s.placeholder=f),jl({view:i,element:s,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,i,s){const u=this.view.stickyPanel;if(u.isSticky){const f=new Ut(u.element).height;i.viewportOffset.top+=f}else{const f=()=>{this.editor.editing.view.scrollToTheSelection(s)};this.listenTo(u,"change:isSticky",f),setTimeout(()=>{this.stopListening(u,"change:isSticky",f)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,i=this.editor.plugins.get("Dialog");i.on("show",()=>{const s=i.view;s.on("moveTo",(u,f)=>{if(!e.isSticky||s.wasMoved)return;const m=new Ut(e.contentPanelElement);f[1]<m.bottom+l0.defaultOffset&&(f[1]=m.bottom+l0.defaultOffset)},{priority:"high"})},{priority:"low"})}}var DS=a(7388),wz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(DS.A,wz),DS.A.locals;class yz extends T9{constructor(e,i,s={}){super(e),this.stickyPanel=new R9(e),this.toolbar=new by(e,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull}),s.useMenuBar&&(this.menuBarView=new bz(e)),this.editable=new M9(e,i)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class IS{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=i=>{const s="error"in i?i.error:i.reason;s instanceof Error&&this._handleError(s,i)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,i){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(i)}off(e,i){this._listeners[e]=this._listeners[e].filter(s=>s!==i)}_fire(e,...i){const s=this._listeners[e]||[];for(const u of s)u.apply(this,[null,...i])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,i){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:i instanceof ErrorEvent?i.filename:void 0,lineno:i instanceof ErrorEvent?i.lineno:void 0,colno:i instanceof ErrorEvent?i.colno:void 0,date:this._now()});const s=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:s}),s?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Ty(c,e=new Set){const i=[c],s=new Set;let u=0;for(;i.length>u;){const f=i[u++];if(!s.has(f)&&vz(f)&&!e.has(f))if(s.add(f),Symbol.iterator in f)try{for(const m of f)i.push(m)}catch{}else for(const m in f)m!=="defaultValue"&&i.push(f[m])}return s}function vz(c){const e=Object.prototype.toString.call(c),i=typeof c;return!(i==="number"||i==="boolean"||i==="string"||i==="symbol"||i==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||c==null||c._watchdogExcluded||c instanceof EventTarget||c instanceof Event)}function TS(c,e,i=new Set){if(c===e&&typeof(s=c)=="object"&&s!==null)return!0;var s;const u=Ty(c,i),f=Ty(e,i);for(const m of u)if(f.has(m))return!0;return!1}var Az=Object.defineProperty,_z=Object.defineProperties,Cz=Object.getOwnPropertyDescriptors,f0=Object.getOwnPropertySymbols,NS=Object.prototype.hasOwnProperty,MS=Object.prototype.propertyIsEnumerable,PS=(c,e,i)=>e in c?Az(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,Ny=(c,e)=>{for(var i in e||(e={}))NS.call(e,i)&&PS(c,i,e[i]);if(f0)for(var i of f0(e))MS.call(e,i)&&PS(c,i,e[i]);return c};class OS extends IS{constructor(e,i={}){super(i),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=u0(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),e&&(this._creator=(s,u)=>e.create(s,u)),this._destructor=s=>s.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},i=[],s=this._config.rootsAttributes||{},u={};for(const[A,S]of Object.entries(this._data.roots))S.isLoaded?(e[A]="",u[A]=s[A]||{}):i.push(A);const f=(m=Ny({},this._config),w={extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:u,_watchdogInitialData:this._data},_z(m,Cz(w)));var m,w;return delete f.initialData,f.extraPlugins.push(xz),this._initUsingData?this.create(e,f,f.context):Kr(this._elementOrData)?this.create(this._elementOrData,f,f.context):this.create(this._editables,f,f.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,i=this._config,s){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=s,this._creator(e,this._config))).then(u=>{this._editor=u,u.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=u.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,i=e.model.document.roots.filter(w=>w.isAttached()&&w.rootName!="$graveyard"),{plugins:s}=e,u=s.has("CommentsRepository")&&s.get("CommentsRepository"),f=s.has("TrackChanges")&&s.get("TrackChanges"),m={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(w=>{m.roots[w.rootName]={content:JSON.stringify(Array.from(w.getChildren())),attributes:JSON.stringify(Array.from(w.getAttributes())),isLoaded:w._isLoaded}});for(const w of e.model.markers)w._affectsData&&(m.markers[w.name]={rangeJSON:w.getRange().toJSON(),usingOperation:w._managedUsingOperations,affectsData:w._affectsData});return u&&(m.commentThreads=JSON.stringify(u.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),f&&(m.suggestions=JSON.stringify(f.getSuggestions({toJSON:!0,skipNotAttached:!0}))),m}_getEditables(){const e={};for(const i of this.editor.model.document.getRootNames()){const s=this.editor.ui.getEditableElement(i);s&&(e[i]=s)}return e}_isErrorComingFromThisItem(e){return TS(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Ic(e,(i,s)=>Kr(i)||s==="context"?i:void 0)}}class xz{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},i=>{this._restoreCollaborationData(),this._restoreEditorData(i)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,i){if("name"in i){const s=e.createElement(i.name,i.attributes);if(i.children)for(const u of i.children)s._appendChild(this._createNode(e,u));return s}return e.createText(i.data,i.attributes)}_restoreEditorData(e){const i=this.editor;Object.entries(this._data.roots).forEach(([s,{content:u,attributes:f}])=>{const m=JSON.parse(u),w=JSON.parse(f),A=i.model.document.getRoot(s);for(const[S,T]of w)e.setAttribute(S,T,A);for(const S of m){const T=this._createNode(e,S);e.insert(T,A,"end")}}),Object.entries(this._data.markers).forEach(([s,u])=>{const{document:f}=i.model,m=u,{rangeJSON:{start:w,end:A}}=m,S=((ee,ie)=>{var be={};for(var xe in ee)NS.call(ee,xe)&&ie.indexOf(xe)<0&&(be[xe]=ee[xe]);if(ee!=null&&f0)for(var xe of f0(ee))ie.indexOf(xe)<0&&MS.call(ee,xe)&&(be[xe]=ee[xe]);return be})(m,["rangeJSON"]),T=f.getRoot(w.root),O=e.createPositionFromPath(T,w.path,w.stickiness),U=e.createPositionFromPath(T,A.path,A.stickiness),G=e.createRange(O,U);e.addMarker(s,Ny({range:G},S))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),i=JSON.parse(this._data.suggestions);e.forEach(s=>{const u=this.editor.config.get("collaboration.channelId"),f=this.editor.plugins.get("CommentsRepository");f.hasCommentThread(s.threadId)&&f.getCommentThread(s.threadId).remove(),f.addCommentThread(Ny({channelId:u},s))}),i.forEach(s=>{const u=this.editor.plugins.get("TrackChangesEditing");u.hasSuggestion(s.id)?u.getSuggestion(s.id).attributes=s.attributes:u.addSuggestionData(s)})}}const Em=Symbol("MainQueueId");class Sz{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,i){const s=e===Em;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const u=(s?Promise.all(this._queues.values()):Promise.all([this._queues.get(Em),this._queues.get(e)])).then(i),f=u.catch(()=>{});return this._queues.set(e,f),u.finally(()=>{this._activeActions--,this._queues.get(e)===f&&this._activeActions===0&&this._onEmptyCallbacks.forEach(m=>m())})}}function LS(c){return Array.isArray(c)?c:[c]}class p0 extends fy(lF){constructor(e,i={}){if(!m0(e)&&i.initialData!==void 0)throw new M("editor-create-initial-data",null);super(i),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(m){return m0(m)?(w=m,w instanceof HTMLTextAreaElement?w.value:w.innerHTML):m;var w}(e)),m0(e)&&(this.sourceElement=e),this.model.document.createRoot();const s=!this.config.get("toolbar.shouldNotGroupWhenFull"),u=this.config.get("menuBar"),f=new yz(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:s,useMenuBar:u.isVisible});this.ui=new kz(this,f),function(m){if(!bi(m.updateSourceElement))throw new M("attachtoform-missing-elementapi-interface",m);const w=m.sourceElement;if(function(A){return!!A&&A.tagName.toLowerCase()==="textarea"}(w)&&w.form){let A;const S=w.form,T=()=>m.updateSourceElement();bi(S.submit)&&(A=S.submit,S.submit=()=>{T(),A.apply(S)}),S.addEventListener("submit",T),m.on("destroy",()=>{S.removeEventListener("submit",T),A&&(S.submit=A)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,i={}){return new Promise(s=>{const u=new this(e,i);s(u.initPlugins().then(()=>u.ui.init(m0(e)?e:null)).then(()=>u.data.init(u.config.get("initialData"))).then(()=>u.fire("ready")).then(()=>u))})}}function m0(c){return Kr(c)}p0.Context=vi,p0.EditorWatchdog=OS,p0.ContextWatchdog=class extends IS{constructor(c,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Sz,this._watchdogConfig=e,this._creator=i=>c.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(c){this._creator=c}setDestructor(c){this._destructor=c}get context(){return this._context}create(c={}){return this._actionQueues.enqueue(Em,()=>(this._contextConfig=c,this._create()))}getItem(c){return this._getWatchdog(c)._item}getItemState(c){return this._getWatchdog(c).state}add(c){const e=LS(c);return Promise.all(e.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return s=new OS(null,this._watchdogConfig),s.setCreator(i.creator),s._setExcludedProperties(this._contextProps),i.destructor&&s.setDestructor(i.destructor),this._watchdogs.set(i.id,s),s.on("error",(u,{error:f,causesRestart:m})=>{this._fire("itemError",{itemId:i.id,error:f}),m&&this._actionQueues.enqueue(i.id,()=>new Promise(w=>{const A=()=>{s.off("restart",A),this._fire("itemRestart",{itemId:i.id}),w()};s.on("restart",A)}))}),s.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(c){const e=LS(c);return Promise.all(e.map(i=>this._actionQueues.enqueue(i,()=>{const s=this._getWatchdog(i);return this._watchdogs.delete(i),s.destroy()})))}destroy(){return this._actionQueues.enqueue(Em,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Em,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(c=>{console.error("An error happened during destroying the context or items.",c)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(c=>(this._context=c,this._contextProps=Ty(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const c=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(c))})}_getWatchdog(c){const e=this._watchdogs.get(c);if(!e)throw new Error(`Item with the given id was not registered: ${c}.`);return e}_isErrorComingFromThisItem(c){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(c))return!1;return TS(this._context,c.context)}};class Dm extends Ou{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const i=this.document;function s(u){return(f,m)=>{m.preventDefault();const w=m.dropRange?[m.dropRange]:null,A=new E(i,u);i.fire(A,{dataTransfer:m.dataTransfer,method:f.name,targetRanges:w,target:m.target,domEvent:m.domEvent}),A.stop.called&&m.stopPropagation()}}this.listenTo(i,"paste",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"drop",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"dragover",s("dragging"),{priority:"low"})}onDomEvent(e){const i="clipboardData"in e?e.clipboardData:e.dataTransfer,s=e.type=="drop"||e.type=="paste",u={dataTransfer:new M2(i,{cacheFiles:s})};e.type!="drop"&&e.type!="dragover"||(u.dropRange=function(f,m){const w=m.target.ownerDocument,A=m.clientX,S=m.clientY;let T;return w.caretRangeFromPoint&&w.caretRangeFromPoint(A,S)?T=w.caretRangeFromPoint(A,S):m.rangeParent&&(T=w.createRange(),T.setStart(m.rangeParent,m.rangeOffset),T.collapse(!0)),T?f.domConverter.domRangeToView(T):null}(this.view,e)),this.fire(e.type,e,u)}}const jS=["figcaption","li"],BS=["ol","ul"];function RS(c){if(c.is("$text")||c.is("$textProxy"))return c.data;if(c.is("element","img")&&c.hasAttribute("alt"))return c.getAttribute("alt");if(c.is("element","br"))return`
`;let e="",i=null;for(const s of c.getChildren())e+=Ez(s,i)+RS(s),i=s;return e}function Ez(c,e){return e?c.is("element","li")&&!c.isEmpty&&c.getChild(0).is("containerElement")||BS.includes(c.name)&&BS.includes(e.name)?`

`:c.is("containerElement")||e.is("containerElement")?jS.includes(c.name)||jS.includes(e.name)?`
`:`

`:"":""}const Dz=function(c,e){return c&&xb(c,e,Ps)},Iz=function(c,e,i,s){var u=i.length,f=u;if(c==null)return!f;for(c=Object(c);u--;){var m=i[u];if(m[2]?m[1]!==c[m[0]]:!(m[0]in c))return!1}for(;++u<f;){var w=(m=i[u])[0],A=c[w],S=m[1];if(m[2]){if(A===void 0&&!(w in c))return!1}else{var T=new Al,O;if(!(O===void 0?Yb(S,A,3,s,T):O))return!1}}return!0},FS=function(c){return c==c&&!we(c)},Tz=function(c){for(var e=Ps(c),i=e.length;i--;){var s=e[i],u=c[s];e[i]=[s,u,FS(u)]}return e},zS=function(c,e){return function(i){return i!=null&&i[c]===e&&(e!==void 0||c in Object(i))}},Nz=function(c){var e=Tz(c);return e.length==1&&e[0][2]?zS(e[0][0],e[0][1]):function(i){return i===c||Iz(i,c,e)}},Mz=function(c,e){return c!=null&&e in Object(c)},Pz=function(c,e,i){for(var s=-1,u=(e=Oc(e,c)).length,f=!1;++s<u;){var m=xa(e[s]);if(!(f=c!=null&&i(c,m)))break;c=c[m]}return f||++s!=u?f:!!(u=c==null?0:c.length)&&Cd(u)&&fu(m,u)&&(Ft(c)||hu(c))},Oz=function(c,e){return c!=null&&Pz(c,e,Mz)},Lz=function(c,e){return Nu(c)&&FS(e)?zS(xa(c),e):function(i){var s=ds(i,c);return s===void 0&&s===e?Oz(i,c):Yb(e,s,3)}},jz=function(c){return function(e){return e==null?void 0:e[c]}},Bz=function(c){return function(e){return ff(e,c)}},Rz=function(c){return Nu(c)?jz(xa(c)):Bz(c)},Fz=function(c){return typeof c=="function"?c:c==null?Ll:typeof c=="object"?Ft(c)?Lz(c[0],c[1]):Nz(c):Rz(c)},zz=function(c,e){var i={};return e=Fz(e),Dz(c,function(s,u,f){ls(i,u,e(s,u,f))}),i};var Uz=Object.defineProperty,qz=Object.defineProperties,Vz=Object.getOwnPropertyDescriptors,US=Object.getOwnPropertySymbols,$z=Object.prototype.hasOwnProperty,Hz=Object.prototype.propertyIsEnumerable,qS=(c,e,i)=>e in c?Uz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class Im extends ct{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,i){this._markersToCopy.set(e,i)}_copySelectedFragmentWithMarkers(e,i,s=u=>u.model.getSelectedContent(u.model.document.selection)){return this.editor.model.change(u=>{const f=u.model.document.selection;u.setSelection(i);const m=this._insertFakeMarkersIntoSelection(u,u.model.document.selection,e),w=s(u),A=this._removeFakeMarkersInsideElement(u,w);for(const[S,T]of Object.entries(m)){A[S]||(A[S]=u.createRangeIn(w));for(const O of T)u.remove(O)}w.markers.clear();for(const[S,T]of Object.entries(A))w.markers.set(S,T);return u.setSelection(f),w})}_pasteMarkersIntoTransformedElement(e,i){const s=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(u=>{const f=this._insertFakeMarkersElements(u,s),m=i(u),w=this._removeFakeMarkersInsideElement(u,m);for(const A of Object.values(f).flat())u.remove(A);for(const[A,S]of Object.entries(w))u.model.markers.has(A)||u.addMarker(A,{usingOperation:!0,affectsData:!0,range:S});return m})}_pasteFragmentWithMarkers(e){const i=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const s of i)e.markers.set(s.name,s.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,i,s={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const u=this._markersToCopy.get(e);this._markersToCopy.set(e,s),i(),u?this._markersToCopy.set(e,u):this._markersToCopy.delete(e)}_isMarkerCopyable(e,i){const s=this._getMarkerClipboardConfig(e);if(!s)return!1;if(!i)return!0;const{allowedActions:u}=s;return u==="all"||u.includes(i)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[i]=e.split(":");return this._markersToCopy.get(i)||null}_insertFakeMarkersIntoSelection(e,i,s){const u=this._getCopyableMarkersFromSelection(e,i,s);return this._insertFakeMarkersElements(e,u)}_getCopyableMarkersFromSelection(e,i,s){const u=Array.from(i.getRanges()),f=new Set(u.flatMap(m=>Array.from(e.model.markers.getMarkersIntersectingRange(m))));return Array.from(f).filter(m=>{if(!this._isMarkerCopyable(m.name,s))return!1;const{copyPartiallySelected:w}=this._getMarkerClipboardConfig(m.name);if(!w){const A=m.getRange();return u.some(S=>S.containsRange(A,!0))}return!0}).map(m=>({name:s==="dragstart"?this._getUniqueMarkerName(m.name):m.name,range:m.getRange()}))}_getPasteMarkersFromRangeMap(e,i=null){const{model:s}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([u,f])=>{if(!this._hasMarkerConfiguration(u))return[{name:u,range:f}];if(this._isMarkerCopyable(u,i)){const m=this._getMarkerClipboardConfig(u),w=s.markers.has(u)&&s.markers.get(u).getRange().root.rootName==="$graveyard";return(m.duplicateOnPaste||w)&&(u=this._getUniqueMarkerName(u)),[{name:u,range:f}]}return[]})}_insertFakeMarkersElements(e,i){const s={},u=i.flatMap(f=>{const{start:m,end:w}=f.range;return[{position:m,marker:f,type:"start"},{position:w,marker:f,type:"end"}]}).sort(({position:f},{position:m})=>f.isBefore(m)?1:-1);for(const{position:f,marker:m,type:w}of u){const A=e.createElement("$marker",{"data-name":m.name,"data-type":w});s[m.name]||(s[m.name]=[]),s[m.name].push(A),e.insert(A,f)}return s}_removeFakeMarkersInsideElement(e,i){const s=this._getAllFakeMarkersFromElement(e,i).reduce((u,f)=>{const m=f.markerElement&&e.createPositionBefore(f.markerElement);let w=u[f.name],A=!1;w&&w.start&&w.end&&(this._getMarkerClipboardConfig(f.name).duplicateOnPaste?u[this._getUniqueMarkerName(f.name)]=u[f.name]:A=!0,w=null);var S,T;return A||(u[f.name]=(S=((O,U)=>{for(var G in U||(U={}))$z.call(U,G)&&qS(O,G,U[G]);if(US)for(var G of US(U))Hz.call(U,G)&&qS(O,G,U[G]);return O})({},w),T={[f.type]:m},qz(S,Vz(T)))),f.markerElement&&e.remove(f.markerElement),u},{});return zz(s,u=>new it(u.start||e.createPositionFromPath(i,[0]),u.end||e.createPositionAt(i,"end")))}_getAllFakeMarkersFromElement(e,i){const s=Array.from(e.createRangeIn(i)).flatMap(({item:m})=>{if(!m.is("element","$marker"))return[];const w=m.getAttribute("data-name"),A=m.getAttribute("data-type");return[{markerElement:m,name:w,type:A}]}),u=[],f=[];for(const m of s)m.type==="end"&&(s.some(w=>w.name===m.name&&w.type==="start")||u.push({markerElement:null,name:m.name,type:"start"})),m.type==="start"&&(s.some(w=>w.name===m.name&&w.type==="end")||f.unshift({markerElement:null,name:m.name,type:"end"}));return[...u,...s,...f]}_getUniqueMarkerName(e){const i=e.split(":"),s=P().substring(1,6);return i.length===3?`${i.slice(0,2).join(":")}:${s}`:`${i.join(":")}:${s}`}}class Da extends ct{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[Im]}init(){this.editor.editing.view.addObserver(Dm),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,i,s){const u=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:s==="cut"},()=>{const f=u._copySelectedFragmentWithMarkers(s,i);this.fire("outputTransformation",{dataTransfer:e,content:f,method:s})})}_setupPasteDrop(){const e=this.editor,i=e.model,s=e.editing.view,u=s.document,f=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(u,"clipboardInput",(m,w)=>{w.method!="paste"||e.model.canEditAt(e.model.document.selection)||m.stop()},{priority:"highest"}),this.listenTo(u,"clipboardInput",(m,w)=>{const A=w.dataTransfer;let S;if(w.content)S=w.content;else{let U="";A.getData("text/html")?U=function(G){return G.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(ee,ie)=>ie.length==1?" ":ie).replace(/<!--[\s\S]*?-->/g,"")}(A.getData("text/html")):A.getData("text/plain")&&(((T=(T=A.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||T.includes("<br>"))&&(T=`<p>${T}</p>`),U=T),S=this.editor.data.htmlProcessor.toView(U)}var T;const O=new E(this,"inputTransformation");this.fire(O,{content:S,dataTransfer:A,targetRanges:w.targetRanges,method:w.method}),O.stop.called&&m.stop(),s.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(m,w)=>{if(w.content.isEmpty)return;const A=this.editor.data.toModel(w.content,"$clipboardHolder");A.childCount!=0&&(m.stop(),i.change(()=>{this.fire("contentInsertion",{content:A,method:w.method,dataTransfer:w.dataTransfer,targetRanges:w.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(m,w)=>{w.resultRange=f._pasteFragmentWithMarkers(w.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,i=e.model.document,s=e.editing.view.document,u=(f,m)=>{const w=m.dataTransfer;m.preventDefault(),this._fireOutputTransformationEvent(w,i.selection,f.name)};this.listenTo(s,"copy",u,{priority:"low"}),this.listenTo(s,"cut",(f,m)=>{e.model.canEditAt(e.model.document.selection)?u(f,m):m.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(f,m)=>{const w=e.data.toView(m.content);s.fire("clipboardOutput",{dataTransfer:m.dataTransfer,content:w,method:m.method})},{priority:"low"}),this.listenTo(s,"clipboardOutput",(f,m)=>{m.content.isEmpty||(m.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(m.content)),m.dataTransfer.setData("text/plain",RS(m.content))),m.method=="cut"&&e.model.deleteContent(i.selection)},{priority:"low"})}}class VS{constructor(e,i=20){this._batch=null,this.model=e,this._size=0,this.limit=i,this._isLocked=!1,this._changeCallback=(s,u)=>{u.isLocal&&u.isUndoable&&u!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class Wz extends Ht{constructor(e,i){super(e),this._buffer=new VS(e.model,i),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const i=this.editor.model,s=i.document,u=e.text||"",f=u.length;let m=s.selection;if(e.selection?m=e.selection:e.range&&(m=i.createSelection(e.range)),!i.canEditAt(m))return;const w=e.resultRange;i.enqueueChange(this._buffer.batch,A=>{this._buffer.lock();const S=Array.from(s.selection.getAttributes());i.deleteContent(m),u&&i.insertContent(A.createText(u,S),m),w?A.setSelection(w):m.is("documentSelection")||A.setSelection(m),this._buffer.unlock(),this._buffer.input(f)})}}const $S=["insertText","insertReplacementText"];class Gz extends Ul{constructor(e){super(e),this.focusObserver=e.getObserver(Kb),b.isAndroid&&$S.push("insertCompositionText");const i=e.document;i.on("beforeinput",(s,u)=>{if(!this.isEnabled)return;const{data:f,targetRanges:m,inputType:w,domEvent:A}=u;if(!$S.includes(w))return;this.focusObserver.flush();const S=new E(i,"insertText");i.fire(S,new wf(e,A,{text:f,selection:e.createSelection(m)})),S.stop.called&&s.stop()}),i.on("compositionend",(s,{data:u,domEvent:f})=>{this.isEnabled&&!b.isAndroid&&u&&i.fire("insertText",new wf(e,f,{text:u,selection:i.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class HS extends ct{static get pluginName(){return"Input"}init(){const e=this.editor,i=e.model,s=e.editing.view,u=i.document.selection;s.addObserver(Gz);const f=new Wz(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",f),e.commands.add("input",f),this.listenTo(s.document,"insertText",(m,w)=>{s.document.isComposing||w.preventDefault();const{text:A,selection:S,resultRange:T}=w,O=Array.from(S.getRanges()).map(ee=>e.editing.mapper.toModelRange(ee));let U=A;if(b.isAndroid){const ee=Array.from(O[0].getItems()).reduce((ie,be)=>ie+(be.is("$textProxy")?be.data:""),"");ee&&(ee.length<=U.length?U.startsWith(ee)&&(U=U.substring(ee.length),O[0].start=O[0].start.getShiftedBy(ee.length)):ee.startsWith(U)&&(O[0].start=O[0].start.getShiftedBy(U.length),U=""))}const G={text:U,selection:i.createSelection(O)};T&&(G.resultRange=e.editing.mapper.toModelRange(T)),e.execute("insertText",G),s.scrollToTheSelection()}),b.isAndroid?this.listenTo(s.document,"keydown",(m,w)=>{!u.isCollapsed&&w.keyCode==229&&s.document.isComposing&&WS(i,f)}):this.listenTo(s.document,"compositionstart",()=>{u.isCollapsed||WS(i,f)})}}function WS(c,e){if(!e.isEnabled)return;const i=e.buffer;i.lock(),c.enqueueChange(i.batch,()=>{c.deleteContent(c.document.selection)}),i.unlock()}class GS extends Ht{constructor(e,i){super(e),this.direction=i,this._buffer=new VS(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const i=this.editor.model,s=i.document;i.enqueueChange(this._buffer.batch,u=>{this._buffer.lock();const f=u.createSelection(e.selection||s.selection);if(!i.canEditAt(f))return;const m=e.sequence||1,w=f.isCollapsed;if(f.isCollapsed&&i.modifySelection(f,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(m))return void this._replaceEntireContentWithParagraph(u);if(this._shouldReplaceFirstBlockWithParagraph(f,m))return void this.editor.execute("paragraph",{selection:f});if(f.isCollapsed)return;let A=0;f.getFirstRange().getMinimalFlatRanges().forEach(S=>{A+=Me(S.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(f,{doNotResetEntireContent:w,direction:this.direction}),this._buffer.input(A),u.setSelection(f),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const i=this.editor.model,s=i.document.selection,u=i.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(u))||!i.schema.checkChild(u,"paragraph"))return!1;const f=u.getChild(0);return!f||!f.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const i=this.editor.model,s=i.document.selection,u=i.schema.getLimitElement(s),f=e.createElement("paragraph");e.remove(e.createRangeIn(u)),e.insert(f,u),e.setSelection(f,0)}_shouldReplaceFirstBlockWithParagraph(e,i){const s=this.editor.model;if(i>1||this.direction!="backward"||!e.isCollapsed)return!1;const u=e.getFirstPosition(),f=s.schema.getLimitElement(u),m=f.getChild(0);return u.parent==m&&!!e.containsEntireContent(m)&&!!s.schema.checkChild(f,"paragraph")&&m.name!="paragraph"}}const YS="word",ju="selection",Df="backward",Tm="forward",KS={deleteContent:{unit:ju,direction:Df},deleteContentBackward:{unit:"codePoint",direction:Df},deleteWordBackward:{unit:YS,direction:Df},deleteHardLineBackward:{unit:ju,direction:Df},deleteSoftLineBackward:{unit:ju,direction:Df},deleteContentForward:{unit:"character",direction:Tm},deleteWordForward:{unit:YS,direction:Tm},deleteHardLineForward:{unit:ju,direction:Tm},deleteSoftLineForward:{unit:ju,direction:Tm}};class Yz extends Ul{constructor(e){super(e);const i=e.document;let s=0;i.on("keydown",()=>{s++}),i.on("keyup",()=>{s=0}),i.on("beforeinput",(u,f)=>{if(!this.isEnabled)return;const{targetRanges:m,domEvent:w,inputType:A}=f,S=KS[A];if(!S)return;const T={direction:S.direction,unit:S.unit,sequence:s};T.unit==ju&&(T.selectionToRemove=e.createSelection(m[0])),A==="deleteContentBackward"&&(b.isAndroid&&(T.sequence=1),function(U){if(U.length!=1||U[0].isCollapsed)return!1;const G=U[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let ee=0;for(const{nextPosition:ie,item:be}of G){if(ie.parent.is("$text")){const xe=ie.parent.data,Oe=ie.offset;if(uf(xe,Oe)||Eu(xe,Oe)||Pb(xe,Oe))continue;ee++}else(be.is("containerElement")||be.is("emptyElement"))&&ee++;if(ee>1)return!0}return!1}(m)&&(T.unit=ju,T.selectionToRemove=e.createSelection(m)));const O=new Pu(i,"delete",m[0]);i.fire(O,new wf(e,w,T)),O.stop.called&&u.stop()}),b.isBlink&&function(u){const f=u.view,m=f.document;let w=null,A=!1;function S(O){return O==Pn.backspace||O==Pn.delete}function T(O){return O==Pn.backspace?Df:Tm}m.on("keydown",(O,{keyCode:U})=>{w=U,A=!1}),m.on("keyup",(O,{keyCode:U,domEvent:G})=>{const ee=m.selection,ie=u.isEnabled&&U==w&&S(U)&&!ee.isCollapsed&&!A;if(w=null,ie){const be=ee.getFirstRange(),xe=new Pu(m,"delete",be),Oe={unit:ju,direction:T(U),selectionToRemove:ee};m.fire(xe,new wf(f,G,Oe))}}),m.on("beforeinput",(O,{inputType:U})=>{const G=KS[U];S(w)&&G&&G.direction==T(w)&&(A=!0)},{priority:"high"}),m.on("beforeinput",(O,{inputType:U,data:G})=>{w==Pn.delete&&U=="insertText"&&G==""&&O.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class Vc extends ct{static get pluginName(){return"Delete"}init(){const e=this.editor,i=e.editing.view,s=i.document,u=e.model.document;i.addObserver(Yz),this._undoOnBackspace=!1;const f=new GS(e,"forward");e.commands.add("deleteForward",f),e.commands.add("forwardDelete",f),e.commands.add("delete",new GS(e,"backward")),this.listenTo(s,"delete",(m,w)=>{s.isComposing||w.preventDefault();const{direction:A,sequence:S,selectionToRemove:T,unit:O}=w,U=A==="forward"?"deleteForward":"delete",G={sequence:S};if(O=="selection"){const ee=Array.from(T.getRanges()).map(ie=>e.editing.mapper.toModelRange(ie));G.selection=e.model.createSelection(ee)}else G.unit=O;e.execute(U,G),i.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(s,"delete",(m,w)=>{this._undoOnBackspace&&w.direction=="backward"&&w.sequence==1&&w.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),w.preventDefault(),m.stop())},{context:"$capture"}),this.listenTo(u,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Kz extends ct{static get requires(){return[HS,Vc]}static get pluginName(){return"Typing"}}function QS(c,e){let i=c.start;return{text:Array.from(c.getWalker({ignoreElementEnd:!1})).reduce((s,{item:u})=>u.is("$text")||u.is("$textProxy")?s+u.data:(i=e.createPositionAfter(u),""),""),range:e.createRange(i,c.end)}}class JS extends Ue(){constructor(e,i){super(),this.model=e,this.testCallback=i,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(i,{directChange:s})=>{s&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(i,s)=>{!s.isUndo&&s.isLocal&&this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(e,i={}){const s=this.model,u=s.document.selection,f=s.createRange(s.createPositionAt(u.focus.parent,0),u.focus),{text:m,range:w}=QS(f,s),A=this.testCallback(m);if(!A&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!A,A){const S=Object.assign(i,{text:m,range:w});typeof A=="object"&&Object.assign(S,A),this.fire(`matched:${e}`,S)}}}class ZS extends ct{constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,i=e.model,s=e.editing.view,u=e.locale,f=i.document.selection;this.listenTo(s.document,"arrowKey",(m,w)=>{if(!f.isCollapsed||w.shiftKey||w.altKey||w.ctrlKey)return;const A=w.keyCode==Pn.arrowright,S=w.keyCode==Pn.arrowleft;if(!A&&!S)return;const T=u.contentLanguageDirection;let O=!1;O=T==="ltr"&&A||T==="rtl"&&S?this._handleForwardMovement(w):this._handleBackwardMovement(w),O===!0&&m.stop()},{context:"$text",priority:"highest"}),this.listenTo(f,"change:range",(m,w)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!w.directChange&&Ia(f.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const i=this.attributes,s=this.editor.model,u=s.document.selection,f=u.getFirstPosition();return!this._isGravityOverridden&&(!f.isAtStart||!$c(u,i))&&!!Ia(f,i)&&(Mm(e),$c(u,i)&&Ia(f,i,!0)?Nm(s,i):this._overrideGravity(),!0)}_handleBackwardMovement(e){const i=this.attributes,s=this.editor.model,u=s.document.selection,f=u.getFirstPosition();return this._isGravityOverridden?(Mm(e),this._restoreGravity(),Ia(f,i,!0)?Nm(s,i):g0(s,i,f),!0):f.isAtStart?!!$c(u,i)&&(Mm(e),g0(s,i,f),!0):!$c(u,i)&&Ia(f,i,!0)?(Mm(e),g0(s,i,f),!0):!!XS(f,i)&&(f.isAtEnd&&!$c(u,i)&&Ia(f,i)?(Mm(e),g0(s,i,f),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,i=e.model,s=i.document.selection,u=e.editing.view.document;e.editing.view.addObserver(dy);let f=!1;this.listenTo(u,"mousedown",()=>{f=!0}),this.listenTo(u,"selectionChange",()=>{const m=this.attributes;if(!f||(f=!1,!s.isCollapsed)||!$c(s,m))return;const w=s.getFirstPosition();Ia(w,m)&&(w.isAtStart||Ia(w,m,!0)?Nm(i,m):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,i=e.document.selection,s=this.attributes;this.listenTo(e,"insertContent",()=>{const u=i.getFirstPosition();$c(i,s)&&Ia(u,s)&&Nm(e,s)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,i=e.model,s=i.document.selection,u=e.editing.view;let f=!1,m=!1;this.listenTo(u.document,"delete",(w,A)=>{f=A.direction==="backward"},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{if(!f)return;const w=s.getFirstPosition();m=$c(s,this.attributes)&&!XS(w,this.attributes)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{f&&(f=!1,m||e.model.enqueueChange(()=>{const w=s.getFirstPosition();$c(s,this.attributes)&&Ia(w,this.attributes)&&(w.isAtStart||Ia(w,this.attributes,!0)?Nm(i,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function $c(c,e){for(const i of e)if(c.hasAttribute(i))return!0;return!1}function g0(c,e,i){const s=i.nodeBefore;c.change(u=>{if(s){const f=[],m=c.schema.isObject(s)&&c.schema.isInline(s);for(const[w,A]of s.getAttributes())!c.schema.checkAttribute("$text",w)||m&&c.schema.getAttributeProperties(w).copyFromObject===!1||f.push([w,A]);u.setSelectionAttribute(f)}else u.removeSelectionAttribute(e)})}function Nm(c,e){c.change(i=>{i.removeSelectionAttribute(e)})}function Mm(c){c.preventDefault()}function XS(c,e){return Ia(c.getShiftedBy(-1),e)}function Ia(c,e,i=!1){const{nodeBefore:s,nodeAfter:u}=c;for(const f of e){const m=s?s.getAttribute(f):void 0,w=u?u.getAttribute(f):void 0;if((!i||m!==void 0&&w!==void 0)&&w!==m)return!0}return!1}const eE={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:If('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:If("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:If("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:If('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:If('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:If("'"),to:[null,"‚",null,"’"]}},tE={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Qz=["symbols","mathematical","typography","quotes"];function Jz(c){return typeof c=="string"?new RegExp(`(${rS(c)})$`):c}function Zz(c){return typeof c=="string"?()=>[c]:c instanceof Array?()=>c:c}function Xz(c){return(c.textNode?c.textNode:c.nodeAfter).getAttributes()}function If(c){return new RegExp(`(^|\\s)(${c})([^${c}]*)(${c})$`)}function b0(c,e,i,s){return s.createRange(nE(c,e,i,!0,s),nE(c,e,i,!1,s))}function nE(c,e,i,s,u){let f=c.textNode||(s?c.nodeBefore:c.nodeAfter),m=null;for(;f&&f.getAttribute(e)==i;)m=f,f=s?f.previousSibling:f.nextSibling;return m?u.createPositionAt(m,s?"before":"after"):c}function*rE(c,e){for(const i of e)i&&c.getAttributeProperties(i[0]).copyOnEnter&&(yield i)}class eU extends Ht{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const i=this.editor.model,s=i.document.selection,u=i.schema,f=s.isCollapsed,m=s.getFirstRange(),w=m.start.parent,A=m.end.parent;if(u.isLimit(w)||u.isLimit(A))return f||w!=A||i.deleteContent(s),!1;if(f){const S=rE(e.model.schema,s.getAttributes());return iE(e,m.start),e.setSelectionAttribute(S),!0}{const S=!(m.start.isAtStart&&m.end.isAtEnd),T=w==A;if(i.deleteContent(s,{leaveUnmerged:S}),S){if(T)return iE(e,s.focus),!0;e.setSelection(A,0)}}return!1}}function iE(c,e){c.split(e),c.setSelection(e.parent.nextSibling,0)}const tU={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class oE extends Ul{constructor(e){super(e);const i=this.document;let s=!1;i.on("keydown",(u,f)=>{s=f.shiftKey}),i.on("beforeinput",(u,f)=>{if(!this.isEnabled)return;let m=f.inputType;b.isSafari&&s&&m=="insertParagraph"&&(m="insertLineBreak");const w=f.domEvent,A=tU[m];if(!A)return;const S=new Pu(i,"enter",f.targetRanges[0]);i.fire(S,new wf(e,w,{isSoft:A.isSoft})),S.stop.called&&u.stop()})}observe(){}stopObserving(){}}class k0 extends ct{static get pluginName(){return"Enter"}init(){const e=this.editor,i=e.editing.view,s=i.document,u=this.editor.t;i.addObserver(oE),e.commands.add("enter",new eU(e)),this.listenTo(s,"enter",(f,m)=>{s.isComposing||m.preventDefault(),m.isSoft||(e.execute("enter"),i.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:u("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class nU extends Ht{execute(){const e=this.editor.model,i=e.document;e.change(s=>{(function(u,f,m){const w=m.isCollapsed,A=m.getFirstRange(),S=A.start.parent,T=A.end.parent,O=S==T;if(w){const U=rE(u.schema,m.getAttributes());sE(u,f,A.end),f.removeSelectionAttribute(m.getAttributeKeys()),f.setSelectionAttribute(U)}else{const U=!(A.start.isAtStart&&A.end.isAtEnd);u.deleteContent(m,{leaveUnmerged:U}),O?sE(u,f,m.focus):U&&f.setSelection(T,0)}})(e,s,i.selection),this.fire("afterExecute",{writer:s})})}refresh(){const e=this.editor.model,i=e.document;this.isEnabled=function(s,u){if(u.rangeCount>1)return!1;const f=u.anchor;if(!f||!s.checkChild(f,"softBreak"))return!1;const m=u.getFirstRange(),w=m.start.parent,A=m.end.parent;return!((My(w,s)||My(A,s))&&w!==A)}(e.schema,i.selection)}}function sE(c,e,i){const s=e.createElement("softBreak");c.insertContent(s,i),e.setSelection(s,"after")}function My(c,e){return!c.is("rootElement")&&(e.isLimit(c)||My(c.parent,e))}class rU extends ct{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,i=e.model.schema,s=e.conversion,u=e.editing.view,f=u.document,m=this.editor.t;i.register("softBreak",{allowWhere:"$text",isInline:!0}),s.for("upcast").elementToElement({model:"softBreak",view:"br"}),s.for("downcast").elementToElement({model:"softBreak",view:(w,{writer:A})=>A.createEmptyElement("br")}),u.addObserver(oE),e.commands.add("shiftEnter",new nU(e)),this.listenTo(f,"enter",(w,A)=>{f.isComposing||A.preventDefault(),A.isSoft&&(e.execute("shiftEnter"),u.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:m("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class iU extends oe(){constructor(){super(...arguments),this._stack=[]}add(e,i){const s=this._stack,u=s[0];this._insertDescriptor(e);const f=s[0];u===f||Py(u,f)||this.fire("change:top",{oldDescriptor:u,newDescriptor:f,writer:i})}remove(e,i){const s=this._stack,u=s[0];this._removeDescriptor(e);const f=s[0];u===f||Py(u,f)||this.fire("change:top",{oldDescriptor:u,newDescriptor:f,writer:i})}_insertDescriptor(e){const i=this._stack,s=i.findIndex(f=>f.id===e.id);if(Py(e,i[s]))return;s>-1&&i.splice(s,1);let u=0;for(;i[u]&&oU(i[u],e);)u++;i.splice(u,0,e)}_removeDescriptor(e){const i=this._stack,s=i.findIndex(u=>u.id===e);s>-1&&i.splice(s,1)}}function Py(c,e){return c&&e&&c.priority==e.priority&&w0(c.classes)==w0(e.classes)}function oU(c,e){return c.priority>e.priority||!(c.priority<e.priority)&&w0(c.classes)>w0(e.classes)}function w0(c){return Array.isArray(c)?c.sort().join(","):c}const sU='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',aU="ck-widget",aE="ck-widget_selected";function _i(c){return!!c.is("element")&&!!c.getCustomProperty("widget")}function Oy(c,e,i={}){if(!c.is("containerElement"))throw new M("widget-to-widget-wrong-element-type",null,{element:c});return e.setAttribute("contenteditable","false",c),e.addClass(aU,c),e.setCustomProperty("widget",!0,c),c.getFillerOffset=uU,e.setCustomProperty("widgetLabel",[],c),i.label&&function(s,u){s.getCustomProperty("widgetLabel").push(u)}(c,i.label),i.hasSelectionHandle&&function(s,u){const f=u.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(m){const w=this.toDomElement(m),A=new zc;return A.set("content",sU),A.render(),w.appendChild(A.element),w});u.insert(u.createPositionAt(s,0),f),u.addClass(["ck-widget_with-selection-handle"],s)}(c,e),lE(c,e),c}function lU(c,e,i){if(e.classes&&i.addClass(rr(e.classes),c),e.attributes)for(const s in e.attributes)i.setAttribute(s,e.attributes[s],c)}function cU(c,e,i){if(e.classes&&i.removeClass(rr(e.classes),c),e.attributes)for(const s in e.attributes)i.removeAttribute(s,c)}function lE(c,e,i=lU,s=cU){const u=new iU;u.on("change:top",(f,m)=>{m.oldDescriptor&&s(c,m.oldDescriptor,m.writer),m.newDescriptor&&i(c,m.newDescriptor,m.writer)}),e.setCustomProperty("addHighlight",(f,m,w)=>u.add(m,w),c),e.setCustomProperty("removeHighlight",(f,m,w)=>u.remove(m,w),c)}function cE(c,e,i={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],c),e.setAttribute("role","textbox",c),e.setAttribute("tabindex","-1",c),i.label&&e.setAttribute("aria-label",i.label,c),e.setAttribute("contenteditable",c.isReadOnly?"false":"true",c),c.on("change:isReadOnly",(s,u,f)=>{e.setAttribute("contenteditable",f?"false":"true",c)}),c.on("change:isFocused",(s,u,f)=>{f?e.addClass("ck-editor__nested-editable_focused",c):e.removeClass("ck-editor__nested-editable_focused",c)}),lE(c,e),c}function uE(c,e){const i=c.getSelectedElement();if(i){const s=Bu(c);if(s)return e.createRange(e.createPositionAt(i,s))}return e.schema.findOptimalInsertionRange(c)}function uU(){return null}const Hc="widget-type-around";function eh(c,e,i){return!!c&&_i(c)&&!i.isInline(e)}function Bu(c){return c.getAttribute(Hc)}var dE=a(8508),dU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(dE.A,dU),dE.A.locals;const hE=["before","after"],hU=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,fE="ck-widget__type-around_disabled";class fU extends ct{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[k0,Vc]}init(){const e=this.editor,i=e.editing.view;this.on("change:isEnabled",(s,u,f)=>{i.change(m=>{for(const w of i.document.roots)f?m.removeClass(fE,w):m.addClass(fE,w)}),f||e.model.change(m=>{m.removeSelectionAttribute(Hc)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,i){const s=this.editor,u=s.editing.view,f=s.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);s.execute("insertParagraph",{position:s.model.createPositionAt(e,i),attributes:f}),u.focus(),u.scrollToTheSelection()}_listenToIfEnabled(e,i,s,u){this.listenTo(e,i,(...f)=>{this.isEnabled&&s(...f)},u)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,i=Bu(e);if(!i)return!1;const s=e.getSelectedElement();return this._insertParagraph(s,i),!0}_enableTypeAroundUIInjection(){const e=this.editor,i=e.model.schema,s=e.locale.t,u={before:s("Insert paragraph before block"),after:s("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(f,m,w)=>{const A=w.mapper.toViewElement(m.item);A&&eh(A,m.item,i)&&(function(S,T,O){const U=S.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(G){const ee=this.toDomElement(G);return function(ie,be){for(const xe of hE){const Oe=new I({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${xe}`],title:be[xe],"aria-hidden":"true"},children:[ie.ownerDocument.importNode(hU,!0)]});ie.appendChild(Oe.render())}}(ee,T),function(ie){const be=new I({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});ie.appendChild(be.render())}(ee),ee});S.insert(S.createPositionAt(O,"end"),U)}(w.writer,u,A),A.getCustomProperty("widgetLabel").push(()=>this.isEnabled?s("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,i=e.model,s=i.document.selection,u=i.schema,f=e.editing.view;function m(w){return`ck-widget_type-around_show-fake-caret_${w}`}this._listenToIfEnabled(f.document,"arrowKey",(w,A)=>{this._handleArrowKeyPress(w,A)},{context:[_i,"$text"],priority:"high"}),this._listenToIfEnabled(s,"change:range",(w,A)=>{A.directChange&&e.model.change(S=>{S.removeSelectionAttribute(Hc)})}),this._listenToIfEnabled(i.document,"change:data",()=>{const w=s.getSelectedElement();w&&eh(e.editing.mapper.toViewElement(w),w,u)||e.model.change(A=>{A.removeSelectionAttribute(Hc)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(w,A,S)=>{const T=S.writer;if(this._currentFakeCaretModelElement){const ee=S.mapper.toViewElement(this._currentFakeCaretModelElement);ee&&(T.removeClass(hE.map(m),ee),this._currentFakeCaretModelElement=null)}const O=A.selection.getSelectedElement();if(!O)return;const U=S.mapper.toViewElement(O);if(!eh(U,O,u))return;const G=Bu(A.selection);G&&(T.addClass(m(G),U),this._currentFakeCaretModelElement=O)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(w,A,S)=>{S||e.model.change(T=>{T.removeSelectionAttribute(Hc)})})}_handleArrowKeyPress(e,i){const s=this.editor,u=s.model,f=u.document.selection,m=u.schema,w=s.editing.view,A=function(O,U){const G=em(O,U);return G==="down"||G==="right"}(i.keyCode,s.locale.contentLanguageDirection),S=w.document.selection.getSelectedElement();let T;eh(S,s.editing.mapper.toModelElement(S),m)?T=this._handleArrowKeyPressOnSelectedWidget(A):f.isCollapsed?T=this._handleArrowKeyPressWhenSelectionNextToAWidget(A):i.shiftKey||(T=this._handleArrowKeyPressWhenNonCollapsedSelection(A)),T&&(i.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const i=this.editor.model,s=Bu(i.document.selection);return i.change(u=>s?s!==(e?"after":"before")?(u.removeSelectionAttribute(Hc),!0):!1:(u.setSelectionAttribute(Hc,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const i=this.editor,s=i.model,u=s.schema,f=i.plugins.get("Widget"),m=f._getObjectElementNextToSelection(e);return!!eh(i.editing.mapper.toViewElement(m),m,u)&&(s.change(w=>{f._setSelectionOverElement(m),w.setSelectionAttribute(Hc,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const i=this.editor,s=i.model,u=s.schema,f=i.editing.mapper,m=s.document.selection,w=e?m.getLastPosition().nodeBefore:m.getFirstPosition().nodeAfter;return!!eh(f.toViewElement(w),w,u)&&(s.change(A=>{A.setSelection(w,"on"),A.setSelectionAttribute(Hc,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,i=e.editing.view;this._listenToIfEnabled(i.document,"mousedown",(s,u)=>{const f=u.domTarget.closest(".ck-widget__type-around__button");if(!f)return;const m=function(S){return S.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(f),w=function(S,T){const O=S.closest(".ck-widget");return T.mapDomToView(O)}(f,i.domConverter),A=e.editing.mapper.toModelElement(w);this._insertParagraph(A,m),u.preventDefault(),s.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,i=e.model.document.selection,s=e.editing.view;this._listenToIfEnabled(s.document,"enter",(u,f)=>{if(u.eventPhase!="atTarget")return;const m=i.getSelectedElement(),w=e.editing.mapper.toViewElement(m),A=e.model.schema;let S;this._insertParagraphAccordingToFakeCaretPosition()?S=!0:eh(w,m,A)&&(this._insertParagraph(m,f.isSoft?"before":"after"),S=!0),S&&(f.preventDefault(),u.stop())},{context:_i})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(i,s)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(s.selection=e.selection)},{priority:"high"}),b.isAndroid?this._listenToIfEnabled(e,"keydown",(i,s)=>{s.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,i=e.editing.view,s=e.model,u=s.schema;this._listenToIfEnabled(i.document,"delete",(f,m)=>{if(f.eventPhase!="atTarget")return;const w=Bu(s.document.selection);if(!w)return;const A=m.direction,S=s.document.selection.getSelectedElement(),T=A=="forward";if(w==="before"===T)e.execute("delete",{selection:s.createSelection(S,"on")});else{const O=u.getNearestSelectionRange(s.createPositionAt(S,w),A);if(O)if(O.isCollapsed){const U=s.createSelection(O.start);if(s.modifySelection(U,{direction:A}),U.focus.isEqual(O.start)){const G=function(ee,ie){let be=ie;for(const xe of ie.getAncestors({parentFirst:!0})){if(xe.childCount>1||ee.isLimit(xe))break;be=xe}return be}(u,O.start.parent);s.deleteContent(s.createSelection(G,"on"),{doNotAutoparagraph:!0})}else s.change(G=>{G.setSelection(O),e.execute(T?"deleteForward":"delete")})}else s.change(U=>{U.setSelection(O),e.execute(T?"deleteForward":"delete")})}m.preventDefault(),f.stop()},{context:_i})}_enableInsertContentIntegration(){const e=this.editor,i=this.editor.model,s=i.document.selection;this._listenToIfEnabled(e.model,"insertContent",(u,[f,m])=>{if(m&&!m.is("documentSelection"))return;const w=Bu(s);return w?(u.stop(),i.change(A=>{const S=s.getSelectedElement(),T=i.createPositionAt(S,w),O=A.createSelection(T),U=i.insertContent(f,O);return A.setSelection(O),U})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(s,u)=>{const[,f,m={}]=u;if(f&&!f.is("documentSelection"))return;const w=Bu(i);w&&(m.findOptimalPosition=w,u[3]=m)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(s,[u])=>{u&&!u.is("documentSelection")||Bu(i)&&s.stop()},{priority:"high"})}}function pU(c){const e=c.model;return(i,s)=>{const u=s.keyCode==Pn.arrowup,f=s.keyCode==Pn.arrowdown,m=s.shiftKey,w=e.document.selection;if(!u&&!f)return;const A=f;if(m&&function(T,O){return!T.isCollapsed&&T.isBackward==O}(w,A))return;const S=function(T,O,U){const G=T.model;if(U){const ee=O.isCollapsed?O.focus:O.getLastPosition(),ie=pE(G,ee,"forward");if(!ie)return null;const be=G.createRange(ee,ie),xe=mE(G.schema,be,"backward");return xe?G.createRange(ee,xe):null}{const ee=O.isCollapsed?O.focus:O.getFirstPosition(),ie=pE(G,ee,"backward");if(!ie)return null;const be=G.createRange(ie,ee),xe=mE(G.schema,be,"forward");return xe?G.createRange(xe,ee):null}}(c,w,A);if(S){if(S.isCollapsed&&(w.isCollapsed||m))return;(S.isCollapsed||function(T,O,U){const G=T.model,ee=T.view.domConverter;if(U){const et=G.createSelection(O.start);G.modifySelection(et),et.focus.isAtEnd||O.start.isEqual(et.focus)||(O=G.createRange(et.focus,O.end))}const ie=T.mapper.toViewRange(O),be=ee.viewRangeToDom(ie),xe=Ut.getDomRangeRects(be);let Oe;for(const et of xe)if(Oe!==void 0){if(Math.round(et.top)>=Oe)return!1;Oe=Math.max(Oe,Math.round(et.bottom))}else Oe=Math.round(et.bottom);return!0}(c,S,A))&&(e.change(T=>{const O=A?S.end:S.start;if(m){const U=e.createSelection(w.anchor);U.setFocus(O),T.setSelection(U)}else T.setSelection(O)}),i.stop(),s.preventDefault(),s.stopPropagation())}}}function pE(c,e,i){const s=c.schema,u=c.createRangeIn(e.root),f=i=="forward"?"elementStart":"elementEnd";for(const{previousPosition:m,item:w,type:A}of u.getWalker({startPosition:e,direction:i})){if(s.isLimit(w)&&!s.isInline(w))return m;if(A==f&&s.isBlock(w))return null}return null}function mE(c,e,i){const s=i=="backward"?e.end:e.start;if(c.checkChild(s,"$text"))return s;for(const{nextPosition:u}of e.getWalker({direction:i}))if(c.checkChild(u,"$text"))return u;return null}var gE=a(695),mU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(gE.A,mU),gE.A.locals;class Pm extends ct{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[fU,Vc]}init(){const e=this.editor,i=e.editing.view,s=i.document,u=e.t;this.editor.editing.downcastDispatcher.on("selection",(f,m,w)=>{const A=w.writer,S=m.selection;if(S.isCollapsed)return;const T=S.getSelectedElement();if(!T)return;const O=e.editing.mapper.toViewElement(T);var U;_i(O)&&w.consumable.consume(S,"selection")&&A.setSelection(A.createRangeOn(O),{fake:!0,label:(U=O,U.getCustomProperty("widgetLabel").reduce((G,ee)=>typeof ee=="function"?G?G+". "+ee():ee():G?G+". "+ee:ee,""))})}),this.editor.editing.downcastDispatcher.on("selection",(f,m,w)=>{this._clearPreviouslySelectedWidgets(w.writer);const A=w.writer,S=A.document.selection;let T=null;for(const O of S.getRanges())for(const U of O){const G=U.item;_i(G)&&!gU(G,T)&&(A.addClass(aE,G),this._previouslySelected.add(G),T=G)}},{priority:"low"}),i.addObserver(dy),this.listenTo(s,"mousedown",(...f)=>this._onMousedown(...f)),this.listenTo(s,"arrowKey",(...f)=>{this._handleSelectionChangeOnArrowKeyPress(...f)},{context:[_i,"$text"]}),this.listenTo(s,"arrowKey",(...f)=>{this._preventDefaultOnArrowKeyPress(...f)},{context:"$root"}),this.listenTo(s,"arrowKey",pU(this.editor.editing),{context:"$text"}),this.listenTo(s,"delete",(f,m)=>{this._handleDelete(m.direction=="forward")&&(m.preventDefault(),f.stop())},{context:"$root"}),this.listenTo(s,"tab",(f,m)=>{f.eventPhase=="atTarget"&&(m.shiftKey||this._selectFirstNestedEditable()&&(m.preventDefault(),f.stop()))},{context:_i,priority:"low"}),this.listenTo(s,"tab",(f,m)=>{m.shiftKey&&this._selectAncestorWidget()&&(m.preventDefault(),f.stop())},{priority:"low"}),this.listenTo(s,"keydown",(f,m)=>{m.keystroke==Pn.esc&&this._selectAncestorWidget()&&(m.preventDefault(),f.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:u("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:u("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:u("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:u("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:u("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,i){const s=this.editor,u=s.editing.view,f=u.document;let m=i.target;if(i.domEvent.detail>=3)return void(this._selectBlockContent(m)&&i.preventDefault());if(function(A){let S=A;for(;S;){if(S.is("editableElement")&&!S.is("rootElement"))return!0;if(_i(S))return!1;S=S.parent}return!1}(m)||!_i(m)&&(m=m.findAncestor(_i),!m))return;b.isAndroid&&i.preventDefault(),f.isFocused||u.focus();const w=s.editing.mapper.toModelElement(m);this._setSelectionOverElement(w)}_selectBlockContent(e){const i=this.editor,s=i.model,u=i.editing.mapper,f=s.schema,m=u.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),w=function(A,S){for(const T of A.getAncestors({includeSelf:!0,parentFirst:!0})){if(S.checkChild(T,"$text"))return T;if(S.isLimit(T)&&!S.isObject(T))break}return null}(u.toModelElement(m),s.schema);return!!w&&(s.change(A=>{const S=f.isLimit(w)?null:function(U,G){const ee=new jc({startPosition:U});for(const{item:ie}of ee){if(G.isLimit(ie)||!ie.is("element"))return null;if(G.checkChild(ie,"$text"))return ie}return null}(A.createPositionAfter(w),f),T=A.createPositionAt(w,0),O=S?A.createPositionAt(S,0):A.createPositionAt(w,"end");A.setSelection(A.createRange(T,O))}),!0)}_handleSelectionChangeOnArrowKeyPress(e,i){const s=i.keyCode,u=this.editor.model,f=u.schema,m=u.document.selection,w=m.getSelectedElement(),A=em(s,this.editor.locale.contentLanguageDirection),S=A=="down"||A=="right",T=A=="up"||A=="down";if(w&&f.isObject(w)){const U=S?m.getLastPosition():m.getFirstPosition(),G=f.getNearestSelectionRange(U,S?"forward":"backward");return void(G&&(u.change(ee=>{ee.setSelection(G)}),i.preventDefault(),e.stop()))}if(!m.isCollapsed&&!i.shiftKey){const U=m.getFirstPosition(),G=m.getLastPosition(),ee=U.nodeAfter,ie=G.nodeBefore;return void((ee&&f.isObject(ee)||ie&&f.isObject(ie))&&(u.change(be=>{be.setSelection(S?G:U)}),i.preventDefault(),e.stop()))}if(!m.isCollapsed)return;const O=this._getObjectElementNextToSelection(S);if(O&&f.isObject(O)){if(f.isInline(O)&&T)return;this._setSelectionOverElement(O),i.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,i){const s=this.editor.model,u=s.schema,f=s.document.selection.getSelectedElement();f&&u.isObject(f)&&(i.preventDefault(),e.stop())}_handleDelete(e){const i=this.editor.model.document.selection;if(!this.editor.model.canEditAt(i)||!i.isCollapsed)return;const s=this._getObjectElementNextToSelection(e);return s?(this.editor.model.change(u=>{let f=i.anchor.parent;for(;f.isEmpty;){const m=f;f=m.parent,u.remove(m)}this._setSelectionOverElement(s)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(i=>{i.setSelection(i.createRangeOn(e))})}_getObjectElementNextToSelection(e){const i=this.editor.model,s=i.schema,u=i.document.selection,f=i.createSelection(u);if(i.modifySelection(f,{direction:e?"forward":"backward"}),f.isEqual(u))return null;const m=e?f.focus.nodeBefore:f.focus.nodeAfter;return m&&s.isObject(m)?m:null}_clearPreviouslySelectedWidgets(e){for(const i of this._previouslySelected)e.removeClass(aE,i);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,i=this.editor.editing.view.document;for(const s of i.selection.getFirstRange().getItems())if(s.is("editableElement")){const u=e.editing.mapper.toModelElement(s);if(!u)continue;const f=e.model.createPositionAt(u,0),m=e.model.schema.getNearestSelectionRange(f,"forward");return e.model.change(w=>{w.setSelection(m)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,i=e.editing.mapper,s=e.editing.view.document.selection.getFirstPosition().parent,u=(s.is("$text")?s.parent:s).findAncestor(_i);if(!u)return!1;const f=i.toModelElement(u);return!!f&&(e.model.change(m=>{m.setSelection(f,"on")}),!0)}}function gU(c,e){return!!e&&Array.from(c.getAncestors()).includes(e)}class y0 extends ct{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[h0]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const i=e.plugins.get("BalloonToolbar");this.listenTo(i,"show",s=>{(function(u){const f=u.getSelectedElement();return!(!f||!_i(f))})(e.editing.view.document.selection)&&s.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:i,items:s,getRelatedElement:u,balloonClassName:f="ck-toolbar-container"}){if(!s.length)return void B("widget-toolbar-no-items",{toolbarId:e});const m=this.editor,w=m.t,A=new by(m.locale);if(A.ariaLabel=i||w("Widget toolbar"),this._toolbarDefinitions.has(e))throw new M("widget-toolbar-duplicated",this,{toolbarId:e});const S={view:A,getRelatedElement:u,balloonClassName:f,itemsConfig:s,initialized:!1};m.ui.addToolbar(A,{isContextual:!0,beforeFocus:()=>{const T=u(m.editing.view.document.selection);T&&this._showToolbar(S,T)},afterBlur:()=>{this._hideToolbar(S)}}),this._toolbarDefinitions.set(e,S)}_updateToolbarsVisibility(){let e=0,i=null,s=null;for(const u of this._toolbarDefinitions.values()){const f=u.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&f)if(this.editor.ui.focusTracker.isFocused){const m=f.getAncestors().length;m>e&&(e=m,i=f,s=u)}else this._isToolbarVisible(u)&&this._hideToolbar(u);else this._isToolbarInBalloon(u)&&this._hideToolbar(u)}s&&this._showToolbar(s,i)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,i){this._isToolbarVisible(e)?bE(this.editor,i):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:kE(this.editor,i),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const s of this._toolbarDefinitions.values())if(this._isToolbarVisible(s)){const u=s.getRelatedElement(this.editor.editing.view.document.selection);bE(this.editor,u)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function bE(c,e){const i=c.plugins.get("ContextualBalloon"),s=kE(c,e);i.updatePosition(s)}function kE(c,e){const i=c.editing.view,s=ps.defaultPositions;return{target:i.domConverter.mapViewToDom(e),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}var wE=a(4095),bU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(wE.A,bU),wE.A.locals;const Ly=Nl("px");class kU extends Nt{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",i=>!i)],style:{left:e.to("left",i=>Ly(i)),top:e.to("top",i=>Ly(i)),width:e.to("width",i=>Ly(i))}}})}}class v0 extends ct{constructor(){super(...arguments),this.removeDropMarkerDelayed=rm(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=u0(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=u0(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new kU,this._domEmitter=new(yi()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,i,s,u,f,m){this.removeDropMarkerDelayed.cancel();const w=yE(this.editor,e,i,s,u,f,m);if(w)return m&&m.containsRange(w)?this.removeDropMarker():void this._updateDropMarkerThrottled(w)}getFinalDropRange(e,i,s,u,f,m){const w=yE(this.editor,e,i,s,u,f,m);return this.removeDropMarker(),w}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(i=>{i.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(i,{writer:s})=>{if(e.model.schema.checkChild(i.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(s);i.markerRange.isCollapsed?this._updateDropTargetLine(i.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const i=this.editor,s=i.model.markers;i.model.change(u=>{s.has("drop-target")?s.get("drop-target").getRange().isEqual(e)||u.updateMarker("drop-target",{range:e}):u.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(i){const s=this.toDomElement(i);return s.append("⁠",i.createElement("span"),"⁠"),s})}_updateDropTargetLine(e){const i=this.editor.editing,s=e.start.nodeBefore,u=e.start.nodeAfter,f=e.start.parent,m=s?i.mapper.toViewElement(s):null,w=m?i.view.domConverter.mapViewToDom(m):null,A=u?i.mapper.toViewElement(u):null,S=A?i.view.domConverter.mapViewToDom(A):null,T=i.mapper.toViewElement(f);if(!T)return;const O=i.view.domConverter.mapViewToDom(T),U=this._getScrollableRect(T),{scrollX:G,scrollY:ee}=h.window,ie=w?new Ut(w):null,be=S?new Ut(S):null,xe=new Ut(O).excludeScrollbarsAndBorders(),Oe=ie?ie.bottom:xe.top,et=be?be.top:xe.bottom,ft=h.window.getComputedStyle(O),Mt=Oe<=et?(Oe+et)/2:et;if(U.top<Mt&&Mt<U.bottom){const tn=xe.left+parseFloat(ft.paddingLeft),gn=xe.right-parseFloat(ft.paddingRight),_r=Math.max(tn+G,U.left),Yi=Math.min(gn+G,U.right);this._dropTargetLineView.set({isVisible:!0,left:_r,top:Mt+ee,width:Yi-_r})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const i=e.root.rootName;let s;if(this._scrollables.has(i))s=this._scrollables.get(i).domElement;else{s=function(f){let m=f;do{m=m.parentElement;const w=h.window.getComputedStyle(m).overflowY;if(w=="auto"||w=="scroll")break}while(m.tagName!="BODY");return m}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(s,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const u=new ka(s,this._reconvertMarkerThrottled);this._scrollables.set(i,{domElement:s,resizeObserver:u})}return new Ut(s).excludeScrollbarsAndBorders()}}function yE(c,e,i,s,u,f,m){const w=c.model,A=c.editing.mapper;let S=AE(c,e);for(;S;){if(!f){if(w.schema.checkChild(S,"$text")){if(i){const T=i[0].start,O=A.toModelPosition(T);if(!m||Array.from(m.getItems()).every(U=>w.schema.checkChild(O,U))){if(w.schema.checkChild(O,"$text"))return w.createRange(O);if(T)return A0(c,AE(c,T.parent),s,u)}}}else if(w.schema.isInline(S))return A0(c,S,s,u)}if(w.schema.isBlock(S))return A0(c,S,s,u);if(w.schema.checkChild(S,"$block")){const T=Array.from(S.getChildren()).filter(G=>G.is("element")&&!wU(c,G));let O=0,U=T.length;if(U==0)return w.createRange(w.createPositionAt(S,"end"));for(;O<U-1;){const G=Math.floor((O+U)/2);vE(c,T[G],s,u)=="before"?U=G:O=G}return A0(c,T[O],s,u)}S=S.parent}return null}function wU(c,e){const i=c.editing.mapper,s=c.editing.view.domConverter,u=i.toViewElement(e);if(!u)return!0;const f=s.mapViewToDom(u);return h.window.getComputedStyle(f).float!="none"}function A0(c,e,i,s){const u=c.model;return u.createRange(u.createPositionAt(e,vE(c,e,i,s)))}function vE(c,e,i,s){const u=c.editing.mapper,f=c.editing.view.domConverter,m=u.toViewElement(e),w=f.mapViewToDom(m),A=new Ut(w);return c.model.schema.isInline(e)?i<(A.left+A.right)/2?"before":"after":s<(A.top+A.bottom)/2?"before":"after"}function AE(c,e){const i=c.editing.mapper,s=c.editing.view,u=i.toModelElement(e);if(u)return u;const f=s.createPositionBefore(e),m=i.findMappedViewAncestor(f);return i.toModelElement(m)}var yU=Object.defineProperty,vU=Object.defineProperties,AU=Object.getOwnPropertyDescriptors,_E=Object.getOwnPropertySymbols,_U=Object.prototype.hasOwnProperty,CU=Object.prototype.propertyIsEnumerable,CE=(c,e,i)=>e in c?yU(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class xU extends ct{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(yi())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(i,s,u)=>{u?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),b.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const i=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(i,"dragstart",(s,u)=>this._handleBlockDragStart(u)),this._domEmitter.listenTo(h.document,"dragover",(s,u)=>this._handleBlockDragging(u)),this._domEmitter.listenTo(h.document,"drop",(s,u)=>this._handleBlockDragging(u)),this._domEmitter.listenTo(h.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&i.setAttribute("draggable","true"),this.on("change:isEnabled",(s,u,f)=>{i.setAttribute("draggable",f?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const i=this.editor.model,s=i.document.selection,u=this.editor.editing.view,f=Array.from(s.getSelectedBlocks()),m=i.createRange(i.createPositionBefore(f[0]),i.createPositionAfter(f[f.length-1]));i.change(w=>w.setSelection(m)),this._isBlockDragging=!0,u.focus(),u.getObserver(Dm).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const i=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),s=e.clientY,u=document.elementFromPoint(i,s),f=this.editor.editing.view;var m,w;u&&u.closest(".ck-editor__editable")&&f.getObserver(Dm).onDomEvent((m=((A,S)=>{for(var T in S||(S={}))_U.call(S,T)&&CE(A,T,S[T]);if(_E)for(var T of _E(S))CU.call(S,T)&&CE(A,T,S[T]);return A})({},e),w={type:e.type,dataTransfer:e.dataTransfer,target:u,clientX:i,clientY:s,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()},vU(m,AU(w))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var xE=a(7793),SU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(xE.A,SU),xE.A.locals;class EU extends ct{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=rm(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(yi())}static get pluginName(){return"DragDrop"}static get requires(){return[Da,Pm,v0,xU]}init(){const e=this.editor,i=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,i.addObserver(Dm),i.addObserver(dy),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(s,u,f)=>{f?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(s,u,f)=>{f||this._finalizeDragging(!1)}),b.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,i=e.model,s=e.editing.view,u=s.document,f=e.plugins.get(v0);this.listenTo(u,"dragstart",(m,w)=>{if(w.target&&w.target.is("editableElement")||(this._prepareDraggedRange(w.target),!this._draggedRange))return void w.preventDefault();this._draggingUid=P(),w.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",w.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const A=i.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(w.dataTransfer,A,"dragstart");const{dataTransfer:S,domTarget:T,domEvent:O}=w,{clientX:U}=O;this._updatePreview({dataTransfer:S,domTarget:T,clientX:U}),w.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(u,"dragend",(m,w)=>{this._finalizeDragging(!w.dataTransfer.isCanceled&&w.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(h.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(u,"dragenter",()=>{this.isEnabled&&s.focus()}),this.listenTo(u,"dragleave",()=>{f.removeDropMarkerDelayed()}),this.listenTo(u,"dragging",(m,w)=>{if(!this.isEnabled)return void(w.dataTransfer.dropEffect="none");const{clientX:A,clientY:S}=w.domEvent;f.updateDropMarker(w.target,w.targetRanges,A,S,this._blockMode,this._draggedRange),this._draggedRange||(w.dataTransfer.dropEffect="copy"),b.isGecko||(w.dataTransfer.effectAllowed=="copy"?w.dataTransfer.dropEffect="copy":["all","copyMove"].includes(w.dataTransfer.effectAllowed)&&(w.dataTransfer.dropEffect="move")),m.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,i=e.editing.view.document,s=e.plugins.get(v0);this.listenTo(i,"clipboardInput",(u,f)=>{if(f.method!="drop")return;const{clientX:m,clientY:w}=f.domEvent,A=s.getFinalDropRange(f.target,f.targetRanges,m,w,this._blockMode,this._draggedRange);if(!A)return this._finalizeDragging(!1),void u.stop();if(this._draggedRange&&this._draggingUid!=f.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),SE(f.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(A,!0))return this._finalizeDragging(!1),void u.stop();f.targetRanges=[e.editing.mapper.toViewRange(A)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Da);e.on("contentInsertion",(i,s)=>{if(!this.isEnabled||s.method!=="drop")return;const u=s.targetRanges.map(f=>this.editor.editing.mapper.toModelRange(f));this.editor.model.change(f=>f.setSelection(u))},{priority:"high"}),e.on("contentInsertion",(i,s)=>{if(!this.isEnabled||s.method!=="drop")return;const u=SE(s.dataTransfer)=="move",f=!s.resultRange||!s.resultRange.isCollapsed;this._finalizeDragging(f&&u)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,i=e.editing.view,s=i.document;this.listenTo(s,"mousedown",(u,f)=>{if(b.isAndroid||!f)return;this._clearDraggableAttributesDelayed.cancel();let m=EE(f.target);if(b.isBlink&&!e.isReadOnly&&!m&&!s.selection.isCollapsed){const w=s.selection.getSelectedElement();w&&_i(w)||(m=s.selection.editableElement)}m&&(i.change(w=>{w.setAttribute("draggable","true",m)}),this._draggableElement=e.editing.mapper.toModelElement(m))}),this.listenTo(s,"mouseup",()=>{b.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(i=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&i.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const i=this.editor,s=i.model;i.plugins.get(v0).removeDropMarker(),this._clearDraggableAttributes(),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&s.change(u=>{const f=s.createSelection(this._draggedRange);s.deleteContent(f,{doNotAutoparagraph:!0});const m=f.getFirstPosition().parent;m.isEmpty&&!s.schema.checkChild(m,"$text")&&s.schema.checkChild(m,"paragraph")&&u.insertElement("paragraph",m,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const i=this.editor,s=i.model,u=s.document.selection,f=e?EE(e):null;if(f){const S=i.editing.mapper.toModelElement(f);this._draggedRange=zs.fromRange(s.createRangeOn(S)),this._blockMode=s.schema.isBlock(S),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(u.isCollapsed&&!u.getFirstPosition().parent.isEmpty)return;const m=Array.from(u.getSelectedBlocks()),w=u.getFirstRange();if(m.length==0)return void(this._draggedRange=zs.fromRange(w));const A=DE(s,m);if(m.length>1)this._draggedRange=zs.fromRange(A),this._blockMode=!0;else if(m.length==1){const S=w.start.isTouching(A.start)&&w.end.isTouching(A.end);this._draggedRange=zs.fromRange(S?A:w),this._blockMode=S}s.change(S=>S.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:i,clientX:s}){const u=this.editor.editing.view,f=u.document.selection.editableElement,m=u.domConverter.mapViewToDom(f),w=h.window.getComputedStyle(m);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=En(h.document,"div",{style:"position: fixed; left: -999999px;"}),h.document.body.appendChild(this._previewContainer));const A=new Ut(m);if(m.contains(i))return;const S=parseFloat(w.paddingLeft),T=En(h.document,"div");T.className="ck ck-content",T.style.width=w.width,T.style.paddingLeft=`${A.left-s+S}px`,b.isiOS&&(T.style.backgroundColor="white"),T.innerHTML=e.getData("text/html"),e.setDragImage(T,0,0),this._previewContainer.appendChild(T)}}function SE(c){return b.isGecko?c.dropEffect:["all","copyMove"].includes(c.effectAllowed)?"move":"copy"}function EE(c){if(c.is("editableElement"))return null;if(c.hasClass("ck-widget__selection-handle"))return c.findAncestor(_i);if(_i(c))return c;const e=c.findAncestor(i=>_i(i)||i.is("editableElement"));return _i(e)?e:null}function DE(c,e){const i=e[0],s=e[e.length-1],u=i.getCommonAncestor(s),f=c.createPositionBefore(i),m=c.createPositionAfter(s);if(u&&u.is("element")&&!c.schema.isLimit(u)){const w=c.createRangeOn(u),A=f.isTouching(w.start),S=m.isTouching(w.end);if(A&&S)return DE(c,[u])}return c.createRange(f,m)}class DU extends ct{static get pluginName(){return"PastePlainText"}static get requires(){return[Da]}init(){const e=this.editor,i=e.model,s=e.editing.view,u=s.document,f=i.document.selection;let m=!1;s.addObserver(Dm),this.listenTo(u,"keydown",(w,A)=>{m=A.shiftKey}),e.plugins.get(Da).on("contentInsertion",(w,A)=>{(m||function(S,T){if(S.childCount>1)return!1;const O=S.getChild(0);return T.isObject(O)?!1:Array.from(O.getAttributeKeys()).length==0}(A.content,i.schema))&&i.change(S=>{const T=Array.from(f.getAttributes()).filter(([U])=>i.schema.getAttributeProperties(U).isFormatting);f.isCollapsed||i.deleteContent(f,{doNotAutoparagraph:!0}),T.push(...f.getAttributes());const O=S.createRangeIn(A.content);for(const U of O.getItems())U.is("$textProxy")&&S.setAttributes(T,U)})})}}class IE extends ct{static get pluginName(){return"Clipboard"}static get requires(){return[Im,Da,EU,DU]}init(){const e=this.editor,i=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Copy selected content"),keystroke:"CTRL+C"},{label:i("Paste content"),keystroke:"CTRL+V"},{label:i("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class IU extends Ht{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,i=e.document.selection;let s=e.schema.getLimitElement(i);if(i.containsEntireContent(s)||!TE(e.schema,s))do if(s=s.parent,!s)return;while(!TE(e.schema,s));e.change(u=>{u.setSelection(s,"in")})}}function TE(c,e){return c.isLimit(e)&&(c.checkChild(e,"$text")||c.checkChild(e,"paragraph"))}const TU=Ja("Ctrl+A");class NU extends ct{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,i=e.t,s=e.editing.view.document;e.commands.add("selectAll",new IU(e)),this.listenTo(s,"keydown",(u,f)=>{Pl(f)===TU&&(e.execute("selectAll"),f.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Select all"),keystroke:"CTRL+A"}]})}}class MU extends ct{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const i=this._createButton($n);return i.set({tooltip:!0}),i}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(qs))}_createButton(e){const i=this.editor,s=i.locale,u=i.commands.get("selectAll"),f=new e(i.locale),m=s.t;return f.set({label:m("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),f.bind("isEnabled").to(u,"isEnabled"),this.listenTo(f,"execute",()=>{i.execute("selectAll"),i.editing.view.focus()}),f}}class PU extends ct{static get requires(){return[NU,MU]}static get pluginName(){return"SelectAll"}}var OU=Object.defineProperty,NE=Object.getOwnPropertySymbols,LU=Object.prototype.hasOwnProperty,jU=Object.prototype.propertyIsEnumerable,ME=(c,e,i)=>e in c?OU(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class PE extends Ht{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(i,s)=>{s[1]=((f,m)=>{for(var w in m||(m={}))LU.call(m,w)&&ME(f,w,m[w]);if(NE)for(var w of NE(m))jU.call(m,w)&&ME(f,w,m[w]);return f})({},s[1]);const u=s[1];u.batchType||(u.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(i,s)=>{s[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const i=this.editor.model.document.selection,s={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:e,selection:s}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,i,s){const u=this.editor.model,f=u.document,m=[],w=e.map(S=>S.getTransformedByOperations(s)),A=w.flat();for(const S of w){const T=S.filter(O=>O.root!=f.graveyard).filter(O=>!RU(O,A));T.length&&(BU(T),m.push(T[0]))}m.length&&u.change(S=>{S.setSelection(m,{backward:i})})}_undo(e,i){const s=this.editor.model,u=s.document;this._createdBatches.add(i);const f=e.operations.slice().filter(m=>m.isDocumentOperation);f.reverse();for(const m of f){const w=m.baseVersion+1,A=Array.from(u.history.getOperations(w)),S=b7([m.getReversed()],A,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let T of S){const O=T.affectedSelectable;O&&!s.canEditAt(O)&&(T=new Wi(T.baseVersion)),i.addOperation(T),s.applyOperation(T),u.history.setOperationAsUndone(m,T)}}}}function BU(c){c.sort((e,i)=>e.start.isBefore(i.start)?-1:1);for(let e=1;e<c.length;e++){const i=c[e-1].getJoined(c[e],!0);i&&(e--,c.splice(e,2,i))}}function RU(c,e){return e.some(i=>i!==c&&i.containsRange(c,!0))}class FU extends PE{execute(e=null){const i=e?this._stack.findIndex(f=>f.batch==e):this._stack.length-1,s=this._stack.splice(i,1)[0],u=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(u,()=>{this._undo(s.batch,u);const f=this.editor.model.document.history.getOperations(s.batch.baseVersion);this._restoreSelection(s.selection.ranges,s.selection.isBackward,f)}),this.fire("revert",s.batch,u),this.refresh()}}class zU extends PE{execute(){const e=this._stack.pop(),i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{const s=e.batch.operations[e.batch.operations.length-1].baseVersion+1,u=this.editor.model.document.history.getOperations(s);this._restoreSelection(e.selection.ranges,e.selection.isBackward,u),this._undo(e.batch,i)}),this.refresh()}}class UU extends ct{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,i=e.t;this._undoCommand=new FU(e),this._redoCommand=new zU(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(s,u)=>{const f=u[0];if(!f.isDocumentOperation)return;const m=f.batch,w=this._redoCommand.createdBatches.has(m),A=this._undoCommand.createdBatches.has(m);this._batchRegistry.has(m)||(this._batchRegistry.add(m),m.isUndoable&&(w?this._undoCommand.addBatch(m):A||(this._undoCommand.addBatch(m),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(s,u,f)=>{this._redoCommand.addBatch(f)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Undo"),keystroke:"CTRL+Z"},{label:i("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class qU extends ct{static get pluginName(){return"UndoUI"}init(){const e=this.editor,i=e.locale,s=e.t,u=i.uiLanguageDirection=="ltr"?dn.undo:dn.redo,f=i.uiLanguageDirection=="ltr"?dn.redo:dn.undo;this._addButtonsToFactory("undo",s("Undo"),"CTRL+Z",u),this._addButtonsToFactory("redo",s("Redo"),"CTRL+Y",f)}_addButtonsToFactory(e,i,s,u){const f=this.editor;f.ui.componentFactory.add(e,()=>{const m=this._createButton($n,e,i,s,u);return m.set({tooltip:!0}),m}),f.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(qs,e,i,s,u))}_createButton(e,i,s,u,f){const m=this.editor,w=m.locale,A=m.commands.get(i),S=new e(w);return S.set({label:s,icon:f,keystroke:u}),S.bind("isEnabled").to(A,"isEnabled"),this.listenTo(S,"execute",()=>{m.execute(i),m.editing.view.focus()}),S}}class OE extends ct{static get requires(){return[UU,qU]}static get pluginName(){return"Undo"}}class VU extends Ue(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=i=>{this.loaded=i.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const i=this._reader;return this.total=e.size,new Promise((s,u)=>{i.onload=()=>{const f=i.result;this._data=f,s(f)},i.onerror=()=>{u("error")},i.onabort=()=>{u("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class il extends ct{constructor(){super(...arguments),this.loaders=new Bs,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[Kx]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,i)=>i?e/i*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return B("filerepository-no-upload-adapter"),null;const i=new LE(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(i),this._loadersMap.set(e,i),e instanceof Promise&&i.file.then(s=>{this._loadersMap.set(s,i)}).catch(()=>{}),i.on("change:uploaded",()=>{let s=0;for(const u of this.loaders)s+=u.uploaded;this.uploaded=s}),i.on("change:uploadTotal",()=>{let s=0;for(const u of this.loaders)u.uploadTotal&&(s+=u.uploadTotal);this.uploadTotal=s}),i}destroyLoader(e){const i=e instanceof LE?e:this.getLoader(e);i._destroy(),this.loaders.remove(i),this._loadersMap.forEach((s,u)=>{s===i&&this._loadersMap.delete(u)})}_updatePendingAction(){const e=this.editor.plugins.get(Kx);if(this.loaders.length){if(!this._pendingAction){const i=this.editor.t,s=u=>`${i("Upload in progress")} ${parseInt(u)}%.`;this._pendingAction=e.add(s(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",s)}}else e.remove(this._pendingAction),this._pendingAction=null}}class LE extends Ue(){constructor(e,i){super(),this.id=P(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=i(this),this._reader=new VU,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(s,u)=>u?s/u*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new M("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new M("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const i={};return i.promise=new Promise((s,u)=>{i.rejecter=u,i.isFulfilled=!1,e.then(f=>{i.isFulfilled=!0,s(f)}).catch(f=>{i.isFulfilled=!0,u(f)})}),i}}const jE="ckCsrfToken",BE="abcdefghijklmnopqrstuvwxyz0123456789";function $U(){let c=function(s){s=s.toLowerCase();const u=document.cookie.split(";");for(const f of u){const m=f.split("=");if(decodeURIComponent(m[0].trim().toLowerCase())===s)return decodeURIComponent(m[1])}return null}(jE);var e,i;return c&&c.length==40||(c=function(s){let u="";const f=new Uint8Array(s);window.crypto.getRandomValues(f);for(let m=0;m<f.length;m++){const w=BE.charAt(f[m]%BE.length);u+=Math.random()>.5?w.toUpperCase():w}return u}(40),e=jE,i=c,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(i)+";path=/"),c}class HU{constructor(e,i,s){this.loader=e,this.url=i,this.t=s}upload(){return this.loader.file.then(e=>new Promise((i,s)=>{this._initRequest(),this._initListeners(i,s,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,i,s){const u=this.xhr,f=this.loader,m=(0,this.t)("Cannot upload file:")+` ${s.name}.`;u.addEventListener("error",()=>i(m)),u.addEventListener("abort",()=>i()),u.addEventListener("load",()=>{const w=u.response;if(!w||!w.uploaded)return i(w&&w.error&&w.error.message?w.error.message:m);e({default:w.url})}),u.upload&&u.upload.addEventListener("progress",w=>{w.lengthComputable&&(f.uploadTotal=w.total,f.uploaded=w.loaded)})}_sendRequest(e){const i=new FormData;i.append("upload",e),i.append("ckCsrfToken",$U()),this.xhr.send(i)}}function Ru(c,e,i,s){let u,f=null;typeof s=="function"?u=s:(f=c.commands.get(s),u=()=>{c.execute(s)}),c.model.document.on("change:data",(m,w)=>{if(f&&!f.isEnabled||!e.isEnabled)return;const A=Li(c.model.document.selection.getRanges());if(!A.isCollapsed||w.isUndo||!w.isLocal)return;const S=Array.from(c.model.document.differ.getChanges()),T=S[0];if(S.length!=1||T.type!=="insert"||T.name!="$text"||T.length!=1)return;const O=T.position.parent;if(O.is("element","codeBlock")||O.is("element","listItem")&&typeof s!="function"&&!["numberedList","bulletedList","todoList"].includes(s)||f&&f.value===!0)return;const U=O.getChild(0),G=c.model.createRangeOn(U);if(!G.containsRange(A)&&!A.end.isEqual(G.end))return;const ee=i.exec(U.data.substr(0,A.end.offset));ee&&c.model.enqueueChange(ie=>{const be=ie.createPositionAt(O,0),xe=ie.createPositionAt(O,ee[0].length),Oe=new zs(be,xe);if(u({match:ee})!==!1){ie.remove(Oe);const et=c.model.document.selection.getFirstRange(),ft=ie.createRangeIn(O);!O.isEmpty||ft.isEqual(et)||ft.containsRange(et,!0)||ie.remove(O)}Oe.detach(),c.model.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})})})}function Tf(c,e,i,s){let u,f;i instanceof RegExp?u=i:f=i,f=f||(m=>{let w;const A=[],S=[];for(;(w=u.exec(m))!==null&&!(w&&w.length<4);){let{index:T,1:O,2:U,3:G}=w;const ee=O+U+G;T+=w[0].length-ee.length;const ie=[T,T+O.length],be=[T+O.length+U.length,T+O.length+U.length+G.length];A.push(ie),A.push(be),S.push([T+O.length,T+O.length+U.length])}return{remove:A,format:S}}),c.model.document.on("change:data",(m,w)=>{if(w.isUndo||!w.isLocal||!e.isEnabled)return;const A=c.model,S=A.document.selection;if(!S.isCollapsed)return;const T=Array.from(A.document.differ.getChanges()),O=T[0];if(T.length!=1||O.type!=="insert"||O.name!="$text"||O.length!=1)return;const U=S.focus,G=U.parent,{text:ee,range:ie}=function(et,ft){let Mt=et.start;return{text:Array.from(et.getItems()).reduce((gn,_r)=>!_r.is("$text")&&!_r.is("$textProxy")||_r.getAttribute("code")?(Mt=ft.createPositionAfter(_r),""):gn+_r.data,""),range:ft.createRange(Mt,et.end)}}(A.createRange(A.createPositionAt(G,0),U),A),be=f(ee),xe=RE(ie.start,be.format,A),Oe=RE(ie.start,be.remove,A);xe.length&&Oe.length&&A.enqueueChange(et=>{if(s(et,xe)!==!1){for(const ft of Oe.reverse())et.remove(ft);A.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})}})})}function RE(c,e,i){return e.filter(s=>s[0]!==void 0&&s[1]!==void 0).map(s=>i.createRange(c.getShiftedBy(s[0]),c.getShiftedBy(s[1])))}function _0(c,e){return(i,s)=>{if(!c.commands.get(e).isEnabled)return!1;const u=c.model.schema.getValidRanges(s,e);for(const f of u)i.setAttribute(e,!0,f);i.removeSelectionAttribute(e)}}class FE extends Ht{constructor(e,i){super(e),this.attributeKey=i}refresh(){const e=this.editor.model,i=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(e={}){const i=this.editor.model,s=i.document.selection,u=e.forceValue===void 0?!this.value:e.forceValue;i.change(f=>{if(s.isCollapsed)u?f.setSelectionAttribute(this.attributeKey,!0):f.removeSelectionAttribute(this.attributeKey);else{const m=i.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const w of m)u?f.setAttribute(this.attributeKey,u,w):f.removeAttribute(this.attributeKey,w)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,i=e.schema,s=e.document.selection;if(s.isCollapsed)return s.hasAttribute(this.attributeKey);for(const u of s.getRanges())for(const f of u.getItems())if(i.checkAttribute(f,this.attributeKey))return f.hasAttribute(this.attributeKey);return!1}}const Nf="bold";class WU extends ct{static get pluginName(){return"BoldEditing"}init(){const e=this.editor,i=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Nf}),e.model.schema.setAttributeProperties(Nf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Nf,view:"strong",upcastAlso:["b",s=>{const u=s.getStyle("font-weight");return u&&(u=="bold"||Number(u)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Nf,new FE(e,Nf)),e.keystrokes.set("CTRL+B",Nf),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Bold text"),keystroke:"CTRL+B"}]})}}function zE({editor:c,commandName:e,plugin:i,icon:s,label:u,keystroke:f}){return m=>{const w=c.commands.get(e),A=new m(c.locale);return A.set({label:u,icon:s,keystroke:f,isToggleable:!0}),A.bind("isEnabled").to(w,"isEnabled"),i.listenTo(A,"execute",()=>{c.execute(e),c.editing.view.focus()}),A}}const C0="bold";class GU extends ct{static get pluginName(){return"BoldUI"}init(){const e=this.editor,i=e.locale.t,s=e.commands.get(C0),u=zE({editor:e,commandName:C0,plugin:this,icon:dn.bold,label:i("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(C0,()=>{const f=u($n);return f.set({tooltip:!0}),f.bind("isOn").to(s,"value"),f}),e.ui.componentFactory.add("menuBar:"+C0,()=>u(qs))}}var UE=a(4199),YU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(UE.A,YU),UE.A.locals;const Mf="italic";class KU extends ct{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor,i=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Mf}),e.model.schema.setAttributeProperties(Mf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Mf,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Mf,new FE(e,Mf)),e.keystrokes.set("CTRL+I",Mf),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Italic text"),keystroke:"CTRL+I"}]})}}const x0="italic";class QU extends ct{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,i=e.commands.get(x0),s=e.locale.t,u=zE({editor:e,commandName:x0,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:s("Italic")});e.ui.componentFactory.add(x0,()=>{const f=u($n);return f.set({tooltip:!0}),f.bind("isOn").to(i,"value"),f}),e.ui.componentFactory.add("menuBar:"+x0,()=>u(qs))}}class JU extends Ht{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,s=i.schema,u=i.document.selection,f=Array.from(u.getSelectedBlocks()),m=e.forceValue===void 0?!this.value:e.forceValue;i.change(w=>{if(m){const A=f.filter(S=>S0(S)||VE(s,S));this._applyQuote(w,A)}else this._removeQuote(w,f.filter(S0))})}_getValue(){const e=Li(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!S0(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,i=this.editor.model.schema,s=Li(e.getSelectedBlocks());return!!s&&VE(i,s)}_removeQuote(e,i){qE(e,i).reverse().forEach(s=>{if(s.start.isAtStart&&s.end.isAtEnd)return void e.unwrap(s.start.parent);if(s.start.isAtStart){const f=e.createPositionBefore(s.start.parent);return void e.move(s,f)}s.end.isAtEnd||e.split(s.end);const u=e.createPositionAfter(s.end.parent);e.move(s,u)})}_applyQuote(e,i){const s=[];qE(e,i).reverse().forEach(u=>{let f=S0(u.start);f||(f=e.createElement("blockQuote"),e.wrap(u,f)),s.push(f)}),s.reverse().reduce((u,f)=>u.nextSibling==f?(e.merge(e.createPositionAfter(u)),u):f)}}function S0(c){return c.parent.name=="blockQuote"?c.parent:null}function qE(c,e){let i,s=0;const u=[];for(;s<e.length;){const f=e[s],m=e[s+1];i||(i=c.createPositionBefore(f)),m&&f.nextSibling==m||(u.push(c.createRange(i,c.createPositionAfter(f))),i=null),s++}return u}function VE(c,e){const i=c.checkChild(e.parent,"blockQuote"),s=c.checkChild(["$root","blockQuote"],e);return i&&s}class ZU extends ct{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[k0,Vc]}init(){const e=this.editor,i=e.model.schema;e.commands.add("blockQuote",new JU(e)),i.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(m=>{const w=e.model.document.differ.getChanges();for(const A of w)if(A.type=="insert"){const S=A.position.nodeAfter;if(!S)continue;if(S.is("element","blockQuote")&&S.isEmpty)return m.remove(S),!0;if(S.is("element","blockQuote")&&!i.checkChild(A.position,S))return m.unwrap(S),!0;if(S.is("element")){const T=m.createRangeIn(S);for(const O of T.getItems())if(O.is("element","blockQuote")&&!i.checkChild(m.createPositionBefore(O),O))return m.unwrap(O),!0}}else if(A.type=="remove"){const S=A.position.parent;if(S.is("element","blockQuote")&&S.isEmpty)return m.remove(S),!0}return!1});const s=this.editor.editing.view.document,u=e.model.document.selection,f=e.commands.get("blockQuote");this.listenTo(s,"enter",(m,w)=>{!u.isCollapsed||!f.value||u.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),w.preventDefault(),m.stop())},{context:"blockquote"}),this.listenTo(s,"delete",(m,w)=>{if(w.direction!="backward"||!u.isCollapsed||!f.value)return;const A=u.getLastPosition().parent;A.isEmpty&&!A.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),w.preventDefault(),m.stop())},{context:"blockquote"})}}var $E=a(8708),XU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()($E.A,XU),$E.A.locals;class eq extends ct{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,i=e.commands.get("blockQuote");e.ui.componentFactory.add("blockQuote",()=>{const s=this._createButton($n);return s.set({tooltip:!0}),s.bind("isOn").to(i,"value"),s}),e.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton(qs))}_createButton(e){const i=this.editor,s=i.locale,u=i.commands.get("blockQuote"),f=new e(i.locale),m=s.t;return f.set({label:m("Block quote"),icon:dn.quote,isToggleable:!0}),f.bind("isEnabled").to(u,"isEnabled"),this.listenTo(f,"execute",()=>{i.execute("blockQuote"),i.editing.view.focus()}),f}}class tq extends ct{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;if(!e.commands.get("ckbox"))return;const i=e.t,s=e.ui.componentFactory;if(s.add("ckbox",()=>{const u=this._createButton($n);return u.tooltip=!0,u}),s.add("menuBar:ckbox",()=>this._createButton(qs)),e.plugins.has("ImageInsertUI")){const u=e.plugins.get("ImageInsertUI");u.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckbox"),buttonViewCreator:()=>{const f=this.editor.ui.componentFactory.create("ckbox");return f.icon=dn.imageAssetManager,f.bind("label").to(u,"isImageSelected",m=>i(m?"Replace image with file manager":"Insert image with file manager")),f},formViewCreator:()=>{const f=this.editor.ui.componentFactory.create("ckbox");return f.icon=dn.imageAssetManager,f.withText=!0,f.bind("label").to(u,"isImageSelected",m=>i(m?"Replace with file manager":"Insert with file manager")),f.on("execute",()=>{u.dropdownView.isOpen=!1}),f}})}}_createButton(e){const i=this.editor,s=i.locale,u=new e(s),f=i.commands.get("ckbox"),m=s.t;return u.set({label:m("Open file manager"),icon:dn.browseFiles}),u.bind("isOn","isEnabled").to(f,"value","isEnabled"),u.on("execute",()=>{i.execute("ckbox")}),u}}var nq=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],Om=c=>{let e=0;for(let i=0;i<c.length;i++){let s=c[i];e=83*e+nq.indexOf(s)}return e},jy=c=>{let e=c/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},By=c=>{let e=Math.max(0,Math.min(1,c));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},Ry=(c,e)=>(i=>i<0?-1:1)(c)*Math.pow(Math.abs(c),e),HE=class extends Error{constructor(c){super(c),this.name="ValidationError",this.message=c}},rq=c=>{if(!c||c.length<6)throw new HE("The blurhash string must be at least 6 characters");let e=Om(c[0]),i=Math.floor(e/9)+1,s=e%9+1;if(c.length!==4+2*s*i)throw new HE(`blurhash length mismatch: length is ${c.length} but it should be ${4+2*s*i}`)},iq=c=>{let e=c>>8&255,i=255&c;return[jy(c>>16),jy(e),jy(i)]},oq=(c,e)=>{let i=Math.floor(c/361),s=Math.floor(c/19)%19,u=c%19;return[Ry((i-9)/9,2)*e,Ry((s-9)/9,2)*e,Ry((u-9)/9,2)*e]},sq=(c,e,i,s)=>{rq(c),s|=1;let u=Om(c[0]),f=Math.floor(u/9)+1,m=u%9+1,w=(Om(c[1])+1)/166,A=new Array(m*f);for(let O=0;O<A.length;O++)if(O===0){let U=Om(c.substring(2,6));A[O]=iq(U)}else{let U=Om(c.substring(4+2*O,6+2*O));A[O]=oq(U,w*s)}let S=4*e,T=new Uint8ClampedArray(S*i);for(let O=0;O<i;O++)for(let U=0;U<e;U++){let G=0,ee=0,ie=0;for(let et=0;et<f;et++)for(let ft=0;ft<m;ft++){let Mt=Math.cos(Math.PI*U*ft/e)*Math.cos(Math.PI*O*et/i),tn=A[ft+et*m];G+=tn[0]*Mt,ee+=tn[1]*Mt,ie+=tn[2]*Mt}let be=By(G),xe=By(ee),Oe=By(ie);T[4*U+0+O*S]=be,T[4*U+1+O*S]=xe,T[4*U+2+O*S]=Oe,T[4*U+3+O*S]=255}return T},aq=Object.defineProperty,WE=Object.getOwnPropertySymbols,lq=Object.prototype.hasOwnProperty,cq=Object.prototype.propertyIsEnumerable,GE=(c,e,i)=>e in c?aq(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;function YE(c){const e=[];let i=0;for(const u in c){const f=parseInt(u,10);isNaN(f)||(f>i&&(i=f),e.push(`${c[u]} ${u}w`))}const s=[{srcset:e.join(","),sizes:`(max-width: ${i}px) 100vw, ${i}px`,type:"image/webp"}];return{imageFallbackUrl:c.default,imageSources:s}}const Lm=32;function KE({url:c,method:e="GET",data:i,onUploadProgress:s,signal:u,authorization:f}){const m=new XMLHttpRequest;m.open(e,c.toString()),m.setRequestHeader("Authorization",f),m.setRequestHeader("CKBox-Version","CKEditor 5"),m.responseType="json";const w=()=>{m.abort()};return new Promise((A,S)=>{u.throwIfAborted(),u.addEventListener("abort",w),m.addEventListener("loadstart",()=>{u.addEventListener("abort",w)}),m.addEventListener("loadend",()=>{u.removeEventListener("abort",w)}),m.addEventListener("error",()=>{S()}),m.addEventListener("abort",()=>{S()}),m.addEventListener("load",()=>{const T=m.response;if(!T||T.statusCode>=400)return S(T&&T.message);A(T)}),s&&m.upload.addEventListener("progress",T=>{s(T)}),m.send(i)})}const uq={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function dq(c,e){return i=this,s=null,u=function*(){try{const f=yield fetch(c,((m,w)=>{for(var A in w||(w={}))lq.call(w,A)&&GE(m,A,w[A]);if(WE)for(var A of WE(w))cq.call(w,A)&&GE(m,A,w[A]);return m})({method:"HEAD",cache:"force-cache"},e));return f.ok&&f.headers.get("content-type")||""}catch{return""}},new Promise((f,m)=>{var w=T=>{try{S(u.next(T))}catch(O){m(O)}},A=T=>{try{S(u.throw(T))}catch(O){m(O)}},S=T=>T.done?f(T.value):Promise.resolve(T.value).then(w,A);S((u=u.apply(i,s)).next())});var i,s,u}var hq=Object.defineProperty,QE=Object.getOwnPropertySymbols,fq=Object.prototype.hasOwnProperty,pq=Object.prototype.propertyIsEnumerable,JE=(c,e,i)=>e in c?hq(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,ZE=(c,e)=>{for(var i in e||(e={}))fq.call(e,i)&&JE(c,i,e[i]);if(QE)for(var i of QE(e))pq.call(e,i)&&JE(c,i,e[i]);return c};class mq extends Ht{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");return!(!e.isEnabled&&!i.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,forceDemoLabel:e.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:i=>this.fire("ckbox:choose",i)}}}_initListeners(){const e=this.editor,i=e.model,s=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=En(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,e.editing.view.focus())}),this.on("ckbox:choose",(u,f)=>{if(!this.isEnabled)return;const m=e.commands.get("insertImage"),w=e.commands.get("link"),A=function({assets:T,isImageAllowed:O,isLinkAllowed:U}){return T.map(G=>function(ee){const ie=ee.data.metadata;return ie?ie.width&&ie.height:!1}(G)?{id:G.data.id,type:"image",attributes:gq(G)}:{id:G.data.id,type:"link",attributes:bq(G)}).filter(G=>G.type==="image"?O:U)}({assets:f,isImageAllowed:m.isEnabled,isLinkAllowed:w.isEnabled}),S=A.length;S!==0&&(i.change(T=>{for(const O of A){const U=O===A[S-1],G=S===1;this._insertAsset(O,U,T,G),s&&(setTimeout(()=>this._chosenAssets.delete(O),1e3),this._chosenAssets.add(O))}}),e.editing.view.focus())}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,i,s,u){const f=this.editor.model.document.selection;s.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,s,u),i||s.setSelection(f.getLastPosition())}_insertImage(e){const i=this.editor,{imageFallbackUrl:s,imageSources:u,imageTextAlternative:f,imageWidth:m,imageHeight:w,imagePlaceholder:A}=e.attributes;i.execute("insertImage",{source:ZE({src:s,sources:u,alt:f,width:m,height:w},A?{placeholder:A}:null)})}_insertLink(e,i,s){const u=this.editor,f=u.model,m=f.document.selection,{linkName:w,linkHref:A}=e.attributes;if(m.isCollapsed){const S=ya(m.getAttributes()),T=i.createText(w,S);if(!s){const U=m.getLastPosition(),G=U.parent;G.name==="paragraph"&&G.isEmpty||u.execute("insertParagraph",{position:U});const ee=f.insertContent(T);return i.setSelection(ee),void u.execute("link",A)}const O=f.insertContent(T);i.setSelection(O)}u.execute("link",A)}}function gq(c){const{imageFallbackUrl:e,imageSources:i}=YE(c.data.imageUrls),{description:s,width:u,height:f,blurHash:m}=c.data.metadata,w=function(A){if(A)try{const S=`${Lm}px`,T=document.createElement("canvas");T.setAttribute("width",S),T.setAttribute("height",S);const O=T.getContext("2d");if(!O)return;const U=O.createImageData(Lm,Lm),G=sq(A,Lm,Lm);return U.data.set(G),O.putImageData(U,0,0),T.toDataURL()}catch{return}}(m);return ZE({imageFallbackUrl:e,imageSources:i,imageTextAlternative:s||"",imageWidth:u,imageHeight:f},w?{imagePlaceholder:w}:null)}function bq(c){return{linkName:c.data.name,linkHref:kq(c)}}function kq(c){const e=new URL(c.data.url);return e.searchParams.set("download","true"),e.toString()}var Fy=(c,e,i)=>new Promise((s,u)=>{var f=A=>{try{w(i.next(A))}catch(S){u(S)}},m=A=>{try{w(i.throw(A))}catch(S){u(S)}},w=A=>A.done?s(A.value):Promise.resolve(A.value).then(f,m);w((i=i.apply(c,e)).next())});class XE extends ct{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return Fy(this,null,function*(){const e=this.editor,i=!!e.config.get("ckbox"),s=!!window.CKBox;if(!i&&!s)return;e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"lark",tokenUrl:e.config.get("cloudServices.tokenUrl")});const u=e.plugins.get("CloudServices"),f=e.config.get("cloudServices.tokenUrl"),m=e.config.get("ckbox.tokenUrl");if(!m)throw new M("ckbox-plugin-missing-token-url",this);this._token=m==f?u.token:yield u.registerTokenUrl(m)})}getToken(){return this._token}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),i=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),s=function(u,f){const[,m]=u.value.split("."),w=JSON.parse(atob(m)),A=w.auth&&w.auth.ckbox&&w.auth.ckbox.workspaces||[w.aud];return f?(w.auth&&w.auth.ckbox&&w.auth.ckbox.role)=="superadmin"||A.includes(f)?f:null:A[0]}(this._token,i);if(s==null)throw q("ckbox-access-default-workspace-error"),e;return s}getCategoryIdForFile(e,i){return Fy(this,null,function*(){const s=(0,this.editor.t)("Cannot determine a category for the uploaded file."),u=this.editor.config.get("ckbox.defaultUploadCategories"),f=this._getAvailableCategories(i),m=typeof e=="string"?(w=yield dq(e,i),uq[w]):function(T){const O=T.name,U=new RegExp("\\.(?<ext>[^.]+)$");return O.match(U).groups.ext.toLowerCase()}(e);var w;const A=yield f;if(!A)throw s;if(u){const T=Object.keys(u).find(O=>u[O].find(U=>U.toLowerCase()==m));if(T){const O=A.find(U=>U.id===T||U.name===T);if(!O)throw s;return O.id}}const S=A.find(T=>T.extensions.find(O=>O.toLowerCase()==m));if(!S)throw s;return S.id})}_getAvailableCategories(e){return Fy(this,null,function*(){const i=this.editor,s=this._token,{signal:u}=e,f=i.config.get("ckbox.serviceOrigin"),m=this.getWorkspaceId();try{const A=[];let S,T=0;do{const O=yield w(T);A.push(...O.items),S=O.totalCount-(T+50),T+=50}while(S>0);return A}catch{return u.throwIfAborted(),void q("ckbox-fetch-category-http-error")}function w(A){const S=new URL("categories",f);return S.searchParams.set("limit","50"),S.searchParams.set("offset",A.toString()),S.searchParams.set("workspaceId",m),KE({url:S,signal:u,authorization:s.value})}})}}var zy=(c,e,i)=>new Promise((s,u)=>{var f=A=>{try{w(i.next(A))}catch(S){u(S)}},m=A=>{try{w(i.throw(A))}catch(S){u(S)}},w=A=>A.done?s(A.value):Promise.resolve(A.value).then(f,m);w((i=i.apply(c,e)).next())});class wq extends ct{static get requires(){return["ImageUploadEditing","ImageUploadProgress",il,e3]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return zy(this,null,function*(){const e=this.editor,i=!!e.config.get("ckbox"),s=!!window.CKBox;if(!i&&!s)return;const u=e.plugins.get(il),f=e.plugins.get(XE);u.createUploadAdapter=A=>new yq(A,e,f);const m=!e.config.get("ckbox.ignoreDataId"),w=e.plugins.get("ImageUploadEditing");m&&w.on("uploadComplete",(A,{imageElement:S,data:T})=>{e.model.change(O=>{O.setAttribute("ckboxImageId",T.ckboxImageId,S)})})})}}class yq{constructor(e,i,s){this.loader=e,this.token=s.getToken(),this.ckboxUtils=s,this.editor=i,this.controller=new AbortController,this.serviceOrigin=i.config.get("ckbox.serviceOrigin")}upload(){return zy(this,null,function*(){const e=this.ckboxUtils,i=this.editor.t,s=yield this.loader.file,u=yield e.getCategoryIdForFile(s,{signal:this.controller.signal}),f=new URL("assets",this.serviceOrigin),m=new FormData;return f.searchParams.set("workspaceId",e.getWorkspaceId()),m.append("categoryId",u),m.append("file",s),KE({method:"POST",url:f,data:m,onUploadProgress:w=>{w.lengthComputable&&(this.loader.uploadTotal=w.total,this.loader.uploaded=w.loaded)},signal:this.controller.signal,authorization:this.token.value}).then(w=>zy(this,null,function*(){const A=YE(w.imageUrls);return{ckboxImageId:w.id,default:A.imageFallbackUrl,sources:A.imageSources}})).catch(()=>{const w=i("Cannot upload file:")+` ${s.name}.`;return Promise.reject(w)})})}abort(){this.controller.abort()}}class e3 extends ct{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",wq,XE]}init(){const e=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),n3()&&e.commands.add("ckbox",new mq(e)))}afterInit(){const e=this.editor;this._shouldBeInitialised()&&(e.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||n3()}_checkImagePlugins(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||q("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((i,s)=>{if(!i.last.getAttribute("linkHref")&&s==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(s=>{s.on("attribute:ckboxLinkId:imageBlock",(u,f,m)=>{const{writer:w,mapper:A,consumable:S}=m;if(!S.consume(f.item,u.name))return;const T=[...A.toViewElement(f.item).getChildren()].find(O=>O.name==="a");T&&(f.item.hasAttribute("ckboxLinkId")?w.setAttribute("data-ckbox-resource-id",f.item.getAttribute("ckboxLinkId"),T):w.removeAttribute("data-ckbox-resource-id",T))},{priority:"low"}),s.on("attribute:ckboxLinkId",(u,f,m)=>{const{writer:w,mapper:A,consumable:S}=m;if(S.consume(f.item,u.name)){if(f.attributeOldValue){const T=t3(w,f.attributeOldValue);w.unwrap(A.toViewRange(f.range),T)}if(f.attributeNewValue){const T=t3(w,f.attributeNewValue);if(f.item.is("selection")){const O=w.document.selection;w.wrap(O.getFirstRange(),T)}else w.wrap(A.toViewRange(f.range),T)}}},{priority:"low"})}),e.conversion.for("upcast").add(s=>{s.on("element:a",(u,f,m)=>{const{writer:w,consumable:A}=m;if(!f.viewItem.getAttribute("href")||!A.consume(f.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const S=f.viewItem.getAttribute("data-ckbox-resource-id");if(S)if(f.modelRange)for(let T of f.modelRange.getItems())T.is("$textProxy")&&(T=T.textNode),Aq(T)&&w.setAttribute("ckboxLinkId",S,T);else{const T=f.modelCursor.nodeBefore||f.modelCursor.parent;w.setAttribute("ckboxLinkId",S,T)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:s=>s.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const i=e.commands.get("replaceImageSource");i&&this.listenTo(i,"cleanupImage",(s,[u,f])=>{u.removeAttribute("ckboxImageId",f)})}_initFixers(){const e=this.editor,i=e.model,s=i.document.selection;i.document.registerPostFixer(function(u){return f=>{let m=!1;const w=u.model,A=u.commands.get("ckbox");if(!A)return m;for(const S of w.document.differ.getChanges()){if(S.type!=="insert"&&S.type!=="attribute")continue;const T=S.type==="insert"?new it(S.position,S.position.getShiftedBy(S.length)):S.range,O=S.type==="attribute"&&S.attributeKey==="linkHref"&&S.attributeNewValue===null;for(const U of T.getItems()){if(O&&U.hasAttribute("ckboxLinkId")){f.removeAttribute("ckboxLinkId",U),m=!0;continue}const G=vq(U,A._chosenAssets);for(const ee of G){const ie=ee.type==="image"?"ckboxImageId":"ckboxLinkId";ee.id!==U.getAttribute(ie)&&(f.setAttribute(ie,ee.id,U),m=!0)}}}return m}}(e)),i.document.registerPostFixer(function(u){return f=>!(u.hasAttribute("linkHref")||!u.hasAttribute("ckboxLinkId"))&&(f.removeSelectionAttribute("ckboxLinkId"),!0)}(s))}}function vq(c,e){const i=c.is("element","imageInline")||c.is("element","imageBlock"),s=c.hasAttribute("linkHref");return[...e].filter(u=>u.type==="image"&&i?u.attributes.imageFallbackUrl===c.getAttribute("src"):u.type==="link"&&s?u.attributes.linkHref===c.getAttribute("linkHref"):void 0)}function t3(c,e){const i=c.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return c.setCustomProperty("link",!0,i),i}function Aq(c){return!!c.is("$text")||!(!c.is("element","imageInline")&&!c.is("element","imageBlock"))}function n3(){return!!window.CKBox}var r3=a(1866),_q={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(r3.A,_q),r3.A.locals;class Cq extends ct{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,i=e.ui.componentFactory,s=e.t;if(i.add("ckfinder",u=>{const f=this._createButton($n),m=u.t;return f.set({label:m("Insert image or file"),tooltip:!0}),f}),i.add("menuBar:ckfinder",u=>{const f=this._createButton(qs),m=u.t;return f.label=m("Image or file"),f}),e.plugins.has("ImageInsertUI")){const u=e.plugins.get("ImageInsertUI");u.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckfinder"),buttonViewCreator:()=>{const f=this.editor.ui.componentFactory.create("ckfinder");return f.icon=dn.imageAssetManager,f.bind("label").to(u,"isImageSelected",m=>s(m?"Replace image with file manager":"Insert image with file manager")),f},formViewCreator:()=>{const f=this.editor.ui.componentFactory.create("ckfinder");return f.icon=dn.imageAssetManager,f.withText=!0,f.bind("label").to(u,"isImageSelected",m=>s(m?"Replace with file manager":"Insert with file manager")),f.on("execute",()=>{u.dropdownView.isOpen=!1}),f}})}}_createButton(e){const i=this.editor,s=new e(i.locale),u=i.commands.get("ckfinder");return s.icon=dn.browseFiles,s.bind("isEnabled").to(u),s.on("execute",()=>{i.execute("ckfinder"),i.editing.view.focus()}),s}}class xq extends Ht{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");this.isEnabled=e.isEnabled||i.isEnabled}execute(){const e=this.editor,i=this.editor.config.get("ckfinder.openerMethod")||"modal";if(i!="popup"&&i!="modal")throw new M("ckfinder-unknown-openermethod",e);const s=this.editor.config.get("ckfinder.options")||{};s.chooseFiles=!0;const u=s.onInit;s.language||(s.language=e.locale.uiLanguage),s.onInit=f=>{u&&u(f),f.on("files:choose",m=>{const w=m.data.files.toArray(),A=w.filter(O=>!O.isImage()),S=w.filter(O=>O.isImage());for(const O of A)e.execute("link",O.getUrl());const T=[];for(const O of S){const U=O.getUrl();T.push(U||f.request("file:getProxyUrl",{file:O}))}T.length&&i3(e,T)}),f.on("file:choose:resizedImage",m=>{const w=m.data.resizedUrl;if(w)i3(e,[w]);else{const A=e.plugins.get("Notification"),S=e.locale.t;A.showWarning(S("Could not obtain resized image URL."),{title:S("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[i](s)}}function i3(c,e){if(c.commands.get("insertImage").isEnabled)c.execute("insertImage",{source:e});else{const i=c.plugins.get("Notification"),s=c.locale.t;i.showWarning(s("Could not insert image at the current position."),{title:s("Inserting image failed"),namespace:"ckfinder"})}}class Sq extends ct{static get pluginName(){return"CKFinderEditing"}static get requires(){return[xy,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new M("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new xq(e))}}class Eq extends ct{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",il]}init(){const e=this.editor,i=e.plugins.get("CloudServices"),s=i.token,u=i.uploadUrl;if(!s)return;const f=e.plugins.get("CloudServicesCore");this._uploadGateway=f.createUploadGateway(s,u),e.plugins.get(il).createUploadAdapter=m=>new Dq(this._uploadGateway,m)}}class Dq{constructor(e,i){this.uploadGateway=e,this.loader=i}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(i,s)=>{this.loader.uploadTotal=s.total,this.loader.uploaded=s.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class Iq extends Ht{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,i=Li(e.document.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&o3(i,e.schema)}execute(e={}){const i=this.editor.model,s=i.document,u=e.selection||s.selection;i.canEditAt(u)&&i.change(f=>{const m=u.getSelectedBlocks();for(const w of m)!w.is("element","paragraph")&&o3(w,i.schema)&&f.rename(w,"paragraph")})}}function o3(c,e){return e.checkChild(c.parent,"paragraph")&&!e.isObject(c)}class Tq extends Ht{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const i=this.editor.model,s=e.attributes;let u=e.position;i.canEditAt(u)&&i.change(f=>{if(u=this._findPositionToInsertParagraph(u,f),!u)return;const m=f.createElement("paragraph");s&&i.schema.setAllowedAttributes(m,s,f),i.insertContent(m,u),f.setSelection(m,"in")})}_findPositionToInsertParagraph(e,i){const s=this.editor.model;if(s.schema.checkChild(e,"paragraph"))return e;const u=s.schema.findAllowedParent(e,"paragraph");if(!u)return null;const f=e.parent,m=s.schema.checkChild(f,"$text");return f.isEmpty||m&&e.isAtEnd?s.createPositionAfter(f):!f.isEmpty&&m&&e.isAtStart?s.createPositionBefore(f):i.split(e,u).position}}const s3=class extends ct{static get pluginName(){return"Paragraph"}init(){const c=this.editor,e=c.model;c.commands.add("paragraph",new Iq(c)),c.commands.add("insertParagraph",new Tq(c)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),c.conversion.elementToElement({model:"paragraph",view:"p"}),c.conversion.for("upcast").elementToElement({model:(i,{writer:s})=>s3.paragraphLikeElements.has(i.name)?i.isEmpty?null:s.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let Uy=s3;Uy.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class Nq extends Ht{constructor(e,i){super(e),this.modelElements=i}refresh(){const e=Li(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(i=>a3(e,i,this.editor.model.schema))}execute(e){const i=this.editor.model,s=i.document,u=e.value;i.change(f=>{const m=Array.from(s.selection.getSelectedBlocks()).filter(w=>a3(w,u,i.schema));for(const w of m)w.is("element",u)||f.rename(w,u)})}}function a3(c,e,i){return i.checkChild(c.parent,e)&&!i.isObject(c)}const l3="paragraph";class Mq extends ct{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Uy]}init(){const e=this.editor,i=e.config.get("heading.options"),s=[];for(const u of i)u.model!=="paragraph"&&(e.model.schema.register(u.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(u),s.push(u.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new Nq(e,s))}afterInit(){const e=this.editor,i=e.commands.get("enter"),s=e.config.get("heading.options");i&&this.listenTo(i,"afterExecute",(u,f)=>{const m=e.model.document.selection.getFirstPosition().parent;s.some(w=>m.is("element",w.model))&&!m.is("element",l3)&&m.childCount===0&&f.writer.rename(m,l3)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:F.low+1})}}var c3=a(6269),Pq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(c3.A,Pq),c3.A.locals;class Oq extends ct{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,i=e.t,s=function(m){const w=m.t,A={Paragraph:w("Paragraph"),"Heading 1":w("Heading 1"),"Heading 2":w("Heading 2"),"Heading 3":w("Heading 3"),"Heading 4":w("Heading 4"),"Heading 5":w("Heading 5"),"Heading 6":w("Heading 6")};return m.config.get("heading.options").map(S=>{const T=A[S.title];return T&&T!=S.title&&(S.title=T),S})}(e),u=i("Choose heading"),f=i("Heading");e.ui.componentFactory.add("heading",m=>{const w={},A=new Bs,S=e.commands.get("heading"),T=e.commands.get("paragraph"),O=[S];for(const G of s){const ee={type:"button",model:new Z5({label:G.title,class:G.class,role:"menuitemradio",withText:!0})};G.model==="paragraph"?(ee.model.bind("isOn").to(T,"value"),ee.model.set("commandName","paragraph"),O.push(T)):(ee.model.bind("isOn").to(S,"value",ie=>ie===G.model),ee.model.set({commandName:"heading",commandValue:G.model})),A.add(ee),w[G.model]=G.title}const U=Uc(m);return v5(U,A,{ariaLabel:f,role:"menu"}),U.buttonView.set({ariaLabel:f,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:f}),U.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),U.bind("isEnabled").toMany(O,"isEnabled",(...G)=>G.some(ee=>ee)),U.buttonView.bind("label").to(S,"value",T,"value",(G,ee)=>{const ie=ee?"paragraph":G;return typeof ie=="boolean"?u:w[ie]?w[ie]:u}),U.buttonView.bind("ariaLabel").to(S,"value",T,"value",(G,ee)=>{const ie=ee?"paragraph":G;return typeof ie=="boolean"?f:w[ie]?`${w[ie]}, ${f}`:f}),this.listenTo(U,"execute",G=>{const{commandName:ee,commandValue:ie}=G.source;e.execute(ee,ie?{value:ie}:void 0),e.editing.view.focus()}),U}),e.ui.componentFactory.add("menuBar:heading",m=>{const w=new Ef(m),A=e.commands.get("heading"),S=e.commands.get("paragraph"),T=[A],O=new Iy(m);w.set({class:"ck-heading-dropdown"}),O.set({ariaLabel:i("Heading"),role:"menu"}),w.buttonView.set({label:i("Heading")}),w.panelView.children.add(O);for(const U of s){const G=new Ey(m,w),ee=new qs(m);G.children.add(ee),O.items.add(G),ee.set({label:U.title,role:"menuitemradio",class:U.class}),ee.bind("ariaChecked").to(ee,"isOn"),ee.delegate("execute").to(w),ee.on("execute",()=>{const ie=U.model==="paragraph"?"paragraph":"heading";e.execute(ie,{value:U.model}),e.editing.view.focus()}),U.model==="paragraph"?(ee.bind("isOn").to(S,"value"),T.push(S)):ee.bind("isOn").to(A,"value",ie=>ie===U.model)}return w.bind("isEnabled").toMany(T,"isEnabled",(...U)=>U.some(G=>G)),w})}}function u3(c){return c.createContainerElement("figure",{class:"image"},[c.createEmptyElement("img"),c.createSlot("children")])}function d3(c,e){const i=c.plugins.get("ImageUtils"),s=c.plugins.has("ImageInlineEditing")&&c.plugins.has("ImageBlockEditing");return f=>i.isInlineImageView(f)?s&&(f.getStyle("display")=="block"||f.findAncestor(i.isBlockImageView)?"imageBlock":"imageInline")!==e?null:u(f):null;function u(f){const m={name:!0};return f.hasAttribute("src")&&(m.attributes=["src"]),m}}function qy(c,e){const i=Li(e.getSelectedBlocks());return!i||c.isObject(i)||i.isEmpty&&i.name!="listItem"?"imageBlock":"imageInline"}function E0(c){return c&&c.endsWith("px")?parseInt(c):null}function h3(c){const e=E0(c.getStyle("width")),i=E0(c.getStyle("height"));return!(!e||!i)}var Lq=Object.defineProperty,f3=Object.getOwnPropertySymbols,jq=Object.prototype.hasOwnProperty,Bq=Object.prototype.propertyIsEnumerable,p3=(c,e,i)=>e in c?Lq(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,m3=(c,e)=>{for(var i in e||(e={}))jq.call(e,i)&&p3(c,i,e[i]);if(f3)for(var i of f3(e))Bq.call(e,i)&&p3(c,i,e[i]);return c};const Rq=/^(image|image-inline)$/;class gs extends ct{constructor(){super(...arguments),this._domEmitter=new(yi())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},i=null,s=null,u={}){const f=this.editor,m=f.model,w=m.document.selection,A=g3(f,i||w,s);e=m3(m3({},Object.fromEntries(w.getAttributes())),e);for(const S in e)m.schema.checkAttribute(A,S)||delete e[S];return m.change(S=>{const{setImageSizes:T=!0}=u,O=S.createElement(A,e);return m.insertObject(O,i,null,{setSelection:"on",findOptimalPosition:i||A=="imageInline"?void 0:"auto"}),O.parent?(T&&this.setImageNaturalSizeAttributes(O),O):null})}setImageNaturalSizeAttributes(e){const i=e.getAttribute("src");i&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(s=>{const u=new h.window.Image;this._domEmitter.listenTo(u,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(s.batch,f=>{f.setAttribute("width",u.naturalWidth,e),f.setAttribute("height",u.naturalHeight,e)}),this._domEmitter.stopListening(u,"load")}),u.src=i}))}getClosestSelectedImageWidget(e){const i=e.getFirstPosition();if(!i)return null;const s=e.getSelectedElement();if(s&&this.isImageWidget(s))return s;let u=i.parent;for(;u;){if(u.is("element")&&this.isImageWidget(u))return u;u=u.parent}return null}getClosestSelectedImageElement(e){const i=e.getSelectedElement();return this.isImage(i)?i:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:Rq})}isImageAllowed(){const e=this.editor.model.document.selection;return function(i,s){if(g3(i,s,null)=="imageBlock"){const f=function(m,w){const A=uE(m,w),S=A.start.parent;return S.isEmpty&&!S.is("element","$root")?S.parent:S}(s,i.model);if(i.model.schema.checkChild(f,"imageBlock"))return!0}else if(i.model.schema.checkChild(s.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(i){return[...i.focus.getAncestors()].every(s=>!s.is("element","imageBlock"))}(e)}toImageWidget(e,i,s){return i.setCustomProperty("image",!0,e),Oy(e,i,{label:()=>{const u=this.findViewImgElement(e).getAttribute("alt");return u?`${u} ${s}`:s}})}isImageWidget(e){return!!e.getCustomProperty("image")&&_i(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const i=this.editor.editing.view;for(const{item:s}of i.createRangeIn(e))if(this.isInlineImageView(s))return s}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function g3(c,e,i){const s=c.model.schema,u=c.config.get("image.insert.type");return c.plugins.has("ImageBlockEditing")?c.plugins.has("ImageInlineEditing")?i||(u==="inline"?"imageInline":u!=="auto"?"imageBlock":e.is("selection")?qy(s,e):s.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Fq extends Ht{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const i=this.editor,s=i.plugins.get("ImageUtils"),u=i.model,f=s.getClosestSelectedImageElement(u.document.selection);u.change(m=>{m.setAttribute("alt",e.newValue,f)})}}class zq extends ct{static get requires(){return[gs]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Fq(this.editor))}}var b3=a(4062),Uq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(b3.A,Uq),b3.A.locals;var k3=a(2722),qq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(k3.A,qq),k3.A.locals;class Vq extends Nt{constructor(e){super(e);const i=this.locale.t;this.focusTracker=new ji,this.keystrokes=new lo,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(i("Save"),dn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),dn.cancel,"ck-button-cancel","cancel"),this._focusables=new Qo,this._focusCycler=new Ea({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Cn({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,i,s,u){const f=new $n(this.locale);return f.set({label:e,icon:i,tooltip:!0}),f.extendTemplate({attributes:{class:s}}),u&&f.delegate("execute").to(this,u),f}_createLabeledInputView(){const e=this.locale.t,i=new r0(this.locale,s0);return i.label=e("Text alternative"),i}}function w3(c){const e=c.editing.view,i=ps.defaultPositions,s=c.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(s.getClosestSelectedImageWidget(e.document.selection)),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}class $q extends ct{static get requires(){return[h0]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,i=e.t;e.ui.componentFactory.add("imageTextAlternative",s=>{const u=e.commands.get("imageTextAlternative"),f=new $n(s);return f.set({label:i("Change image text alternative"),icon:dn.textAlternative,tooltip:!0}),f.bind("isEnabled").to(u,"isEnabled"),f.bind("isOn").to(u,"value",m=>!!m),this.listenTo(f,"execute",()=>{this._showForm()}),f})}_createForm(){const e=this.editor,i=e.editing.view.document,s=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(On(Vq))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(u,f)=>{this._hideForm(!0),f()}),this.listenTo(e.ui,"update",()=>{s.getClosestSelectedImageWidget(i.selection)?this._isVisible&&function(u){const f=u.plugins.get("ContextualBalloon");if(u.plugins.get("ImageUtils").getClosestSelectedImageWidget(u.editing.view.document.selection)){const m=w3(u);f.updatePosition(m)}}(e):this._hideForm(!0)}),Fn({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,i=e.commands.get("imageTextAlternative"),s=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:w3(e)}),s.fieldView.value=s.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class y3 extends ct{static get requires(){return[zq,$q]}static get pluginName(){return"ImageTextAlternative"}}function v3(c,e){const i=(s,u,f)=>{if(!f.consumable.consume(u.item,s.name))return;const m=f.writer,w=f.mapper.toViewElement(u.item),A=c.findViewImgElement(w);u.attributeNewValue===null?(m.removeAttribute("srcset",A),m.removeAttribute("sizes",A)):u.attributeNewValue&&(m.setAttribute("srcset",u.attributeNewValue,A),m.setAttribute("sizes","100vw",A))};return s=>{s.on(`attribute:srcset:${e}`,i)}}function D0(c,e,i){const s=(u,f,m)=>{if(!m.consumable.consume(f.item,u.name))return;const w=m.writer,A=m.mapper.toViewElement(f.item),S=c.findViewImgElement(A);w.setAttribute(f.attributeKey,f.attributeNewValue||"",S)};return u=>{u.on(`attribute:${i}:${e}`,s)}}class A3 extends Ul{observe(e){this.listenTo(e,"load",(i,s)=>{const u=s.target;this.checkShouldIgnoreEventFromTarget(u)||u.tagName=="IMG"&&this._fireEvents(s)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var Hq=Object.defineProperty,_3=Object.getOwnPropertySymbols,Wq=Object.prototype.hasOwnProperty,Gq=Object.prototype.propertyIsEnumerable,C3=(c,e,i)=>e in c?Hq(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,I0=(c,e)=>{for(var i in e||(e={}))Wq.call(e,i)&&C3(c,i,e[i]);if(_3)for(var i of _3(e))Gq.call(e,i)&&C3(c,i,e[i]);return c};class Yq extends Ht{constructor(e){super(e);const i=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||i==="block"&&B("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||i==="inline"&&B("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const i=rr(e.source),s=this.editor.model.document.selection,u=this.editor.plugins.get("ImageUtils"),f=Object.fromEntries(s.getAttributes());i.forEach((m,w)=>{const A=s.getSelectedElement();if(typeof m=="string"&&(m={src:m}),w&&A&&u.isImage(A)){const S=this.editor.model.createPositionAfter(A);u.insertImage(I0(I0({},m),f),S)}else u.insertImage(I0(I0({},m),f))})}}class Kq extends Ht{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(i),this.value=this.isEnabled?i.getAttribute("src"):null}execute(e){const i=this.editor.model.document.selection.getSelectedElement(),s=this.editor.plugins.get("ImageUtils");this.editor.model.change(u=>{u.setAttribute("src",e.source,i),this.cleanupImage(u,i),s.setImageNaturalSizeAttributes(i)})}cleanupImage(e,i){e.removeAttribute("srcset",i),e.removeAttribute("sizes",i),e.removeAttribute("sources",i),e.removeAttribute("width",i),e.removeAttribute("height",i),e.removeAttribute("alt",i)}}class Vy extends ct{static get requires(){return[gs]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,i=e.conversion;e.editing.view.addObserver(A3),i.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const s=new Yq(e),u=new Kq(e);e.commands.add("insertImage",s),e.commands.add("replaceImageSource",u),e.commands.add("imageInsert",s)}}class x3 extends ct{static get requires(){return[gs]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const i=this.editor,s=i.plugins.get("ImageUtils"),u=e==="imageBlock"?"figure":"img";function f(m,w,A,S){m.on(`attribute:${w}:${e}`,(T,O,U)=>{if(!U.consumable.consume(O.item,T.name))return;const G=U.writer,ee=U.mapper.toViewElement(O.item),ie=s.findViewImgElement(ee);if(O.attributeNewValue!==null?G.setAttribute(A,O.attributeNewValue,ie):G.removeAttribute(A,ie),O.item.hasAttribute("sources"))return;const be=O.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!be&&!S)return;const xe=O.item.getAttribute("width"),Oe=O.item.getAttribute("height");xe&&Oe&&G.setStyle("aspect-ratio",`${xe}/${Oe}`,ie)})}i.conversion.for("upcast").attributeToAttribute({view:{name:u,styles:{width:/.+/}},model:{key:"width",value:m=>h3(m)?E0(m.getStyle("width")):null}}).attributeToAttribute({view:{name:u,key:"width"},model:"width"}).attributeToAttribute({view:{name:u,styles:{height:/.+/}},model:{key:"height",value:m=>h3(m)?E0(m.getStyle("height")):null}}).attributeToAttribute({view:{name:u,key:"height"},model:"height"}),i.conversion.for("editingDowncast").add(m=>{f(m,"width","width",!0),f(m,"height","height",!0)}),i.conversion.for("dataDowncast").add(m=>{f(m,"width","width",!1),f(m,"height","height",!1)})}}class S3 extends Ht{constructor(e,i){super(e),this._modelElementName=i}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(i):this.isEnabled=e.isBlockImage(i)}execute(e={}){const i=this.editor,s=this.editor.model,u=i.plugins.get("ImageUtils"),f=u.getClosestSelectedImageElement(s.document.selection),m=Object.fromEntries(f.getAttributes());return m.src||m.uploadId?s.change(w=>{const{setImageSizes:A=!0}=e,S=Array.from(s.markers).filter(U=>U.getRange().containsItem(f)),T=u.insertImage(m,s.createSelection(f,"on"),this._modelElementName,{setImageSizes:A});if(!T)return null;const O=w.createRangeOn(T);for(const U of S){const G=U.getRange(),ee=G.root.rootName!="$graveyard"?G.getJoined(O,!0):O;w.updateMarker(U,{range:ee})}return{oldElement:f,newElement:T}}):null}}var E3=a(7378),Qq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(E3.A,Qq),E3.A.locals;class D3 extends ct{static get requires(){return[gs]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,i=e.conversion,s=e.plugins.get("ImageUtils");i.for("editingDowncast").add(u=>{u.on("attribute:placeholder",(f,m,w)=>{if(!w.consumable.test(m.item,f.name)||!m.item.is("element","imageBlock")&&!m.item.is("element","imageInline"))return;w.consumable.consume(m.item,f.name);const A=w.writer,S=w.mapper.toViewElement(m.item),T=s.findViewImgElement(S);m.attributeNewValue?(A.addClass("image_placeholder",T),A.setStyle("background-image",`url(${m.attributeNewValue})`,T),A.setCustomProperty("editingPipeline:doNotReuseOnce",!0,T)):(A.removeClass("image_placeholder",T),A.removeStyle("background-image",T))})})}_setupLoadListener(){const e=this.editor,i=e.model,s=e.editing,u=s.view,f=e.plugins.get("ImageUtils");u.addObserver(A3),this.listenTo(u.document,"imageLoaded",(m,w)=>{const A=u.domConverter.mapDomToView(w.target);if(!A)return;const S=f.getImageWidgetFromImageView(A);if(!S)return;const T=s.mapper.toModelElement(S);T&&T.hasAttribute("placeholder")&&i.enqueueChange({isUndoable:!1},O=>{O.removeAttribute("placeholder",T)})})}}class I3 extends ct{static get requires(){return[Vy,x3,gs,D3,Da]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new S3(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,s=e.conversion,u=e.plugins.get("ImageUtils");s.for("dataDowncast").elementToStructure({model:"imageBlock",view:(f,{writer:m})=>u3(m)}),s.for("editingDowncast").elementToStructure({model:"imageBlock",view:(f,{writer:m})=>u.toImageWidget(u3(m),m,i("image widget"))}),s.for("downcast").add(D0(u,"imageBlock","src")).add(D0(u,"imageBlock","alt")).add(v3(u,"imageBlock")),s.for("upcast").elementToElement({view:d3(e,"imageBlock"),model:(f,{writer:m})=>m.createElement("imageBlock",f.hasAttribute("src")?{src:f.getAttribute("src")}:void 0)}).add(function(f){const m=(w,A,S)=>{if(!S.consumable.test(A.viewItem,{name:!0,classes:"image"}))return;const T=f.findViewImgElement(A.viewItem);if(!T||!S.consumable.test(T,{name:!0}))return;S.consumable.consume(A.viewItem,{name:!0,classes:"image"});const O=Li(S.convertItem(T,A.modelCursor).modelRange.getItems());O?(S.convertChildren(A.viewItem,O),S.updateConversionResult(O,A)):S.consumable.revert(A.viewItem,{name:!0,classes:"image"})};return w=>{w.on("element:figure",m)}}(u))}_setupClipboardIntegration(){const e=this.editor,i=e.model,s=e.editing.view,u=e.plugins.get("ImageUtils"),f=e.plugins.get("ClipboardPipeline");this.listenTo(f,"inputTransformation",(m,w)=>{const A=Array.from(w.content.getChildren());let S;if(!A.every(u.isInlineImageView))return;S=w.targetRanges?e.editing.mapper.toModelRange(w.targetRanges[0]):i.document.selection.getFirstRange();const T=i.createSelection(S);if(qy(i.schema,T)==="imageBlock"){const O=new Fc(s.document),U=A.map(G=>O.createElement("figure",{class:"image"},G));w.content=O.createDocumentFragment(U)}}),this.listenTo(f,"contentInsertion",(m,w)=>{w.method==="paste"&&i.change(A=>{const S=A.createRangeIn(w.content);for(const T of S.getItems())T.is("element","imageBlock")&&u.setImageNaturalSizeAttributes(T)})})}}var T3=a(3350),Jq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(T3.A,Jq),T3.A.locals;class Zq extends Nt{constructor(e,i=[]){super(e),this.focusTracker=new ji,this.keystrokes=new lo,this._focusables=new Qo,this.children=this.createCollection(),this._focusCycler=new Ea({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const s of i)this.children.add(s),this._focusables.add(s),s instanceof vF&&this._focusables.addMany(s.children);if(this._focusables.length>1)for(const s of this._focusables)Xq(s)&&(s.focusCycler.on("forwardCycle",u=>{this._focusCycler.focusNext(),u.stop()}),s.focusCycler.on("backwardCycle",u=>{this._focusCycler.focusPrevious(),u.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),Cn({view:this});for(const i of this._focusables)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function Xq(c){return"focusCycler"in c}class N3 extends ct{constructor(e){super(e),this._integrations=new Map,e.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[gs]}init(){const e=this.editor,i=e.model.document.selection,s=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=s.isImage(i.getSelectedElement())});const u=f=>this._createToolbarComponent(f);e.ui.componentFactory.add("insertImage",u),e.ui.componentFactory.add("imageInsert",u)}registerIntegration({name:e,observable:i,buttonViewCreator:s,formViewCreator:u,requiresForm:f}){this._integrations.has(e)&&B("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:i,buttonViewCreator:s,formViewCreator:u,requiresForm:!!f})}_createToolbarComponent(e){const i=this.editor,s=e.t,u=this._prepareIntegrations();if(!u.length)return null;let f;const m=u[0];if(u.length==1){if(!m.requiresForm)return m.buttonViewCreator(!0);f=m.buttonViewCreator(!0)}else{const S=m.buttonViewCreator(!1);f=new o0(e,S),f.tooltip=!0,f.bind("label").to(this,"isImageSelected",T=>s(T?"Replace image":"Insert image"))}const w=this.dropdownView=Uc(e,f),A=u.map(({observable:S})=>typeof S=="function"?S():S);return w.bind("isEnabled").toMany(A,"isEnabled",(...S)=>S.some(T=>T)),w.once("change:isOpen",()=>{const S=u.map(({formViewCreator:O})=>O(u.length==1)),T=new Zq(i.locale,S);w.panelView.children.add(T)}),w}_prepareIntegrations(){const e=this.editor.config.get("image.insert.integrations"),i=[];if(!e.length)return B("image-insert-integrations-not-specified"),i;for(const s of e)this._integrations.has(s)?i.push(this._integrations.get(s)):["upload","assetManager","url"].includes(s)||B("image-insert-unknown-integration",{item:s});return i.length||B("image-insert-integrations-not-registered"),i}}var M3=a(265),eV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(M3.A,eV),M3.A.locals;class tV extends ct{static get requires(){return[I3,Pm,y3,N3]}static get pluginName(){return"ImageBlock"}}class nV extends ct{static get requires(){return[Vy,x3,gs,D3,Da]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,i=e.model.schema;i.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),i.addChildCheck((s,u)=>{if(s.endsWith("caption")&&u.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new S3(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,s=e.conversion,u=e.plugins.get("ImageUtils");s.for("dataDowncast").elementToElement({model:"imageInline",view:(f,{writer:m})=>m.createEmptyElement("img")}),s.for("editingDowncast").elementToStructure({model:"imageInline",view:(f,{writer:m})=>u.toImageWidget(function(w){return w.createContainerElement("span",{class:"image-inline"},w.createEmptyElement("img"))}(m),m,i("image widget"))}),s.for("downcast").add(D0(u,"imageInline","src")).add(D0(u,"imageInline","alt")).add(v3(u,"imageInline")),s.for("upcast").elementToElement({view:d3(e,"imageInline"),model:(f,{writer:m})=>m.createElement("imageInline",f.hasAttribute("src")?{src:f.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,i=e.model,s=e.editing.view,u=e.plugins.get("ImageUtils"),f=e.plugins.get("ClipboardPipeline");this.listenTo(f,"inputTransformation",(m,w)=>{const A=Array.from(w.content.getChildren());let S;if(!A.every(u.isBlockImageView))return;S=w.targetRanges?e.editing.mapper.toModelRange(w.targetRanges[0]):i.document.selection.getFirstRange();const T=i.createSelection(S);if(qy(i.schema,T)==="imageInline"){const O=new Fc(s.document),U=A.map(G=>G.childCount===1?(Array.from(G.getAttributes()).forEach(ee=>O.setAttribute(...ee,u.findViewImgElement(G))),G.getChild(0)):G);w.content=O.createDocumentFragment(U)}}),this.listenTo(f,"contentInsertion",(m,w)=>{w.method==="paste"&&i.change(A=>{const S=A.createRangeIn(w.content);for(const T of S.getItems())T.is("element","imageInline")&&u.setImageNaturalSizeAttributes(T)})})}}class rV extends ct{static get requires(){return[nV,Pm,y3,N3]}static get pluginName(){return"ImageInline"}}class P3 extends ct{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[gs]}getCaptionFromImageModelElement(e){for(const i of e.getChildren())if(i&&i.is("element","caption"))return i;return null}getCaptionFromModelSelection(e){const i=this.editor.plugins.get("ImageUtils"),s=e.getFirstPosition().findAncestor("caption");return s&&i.isBlockImage(s.parent)?s:null}matchImageCaptionViewElement(e){const i=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&i.isBlockImageView(e.parent)?{name:!0}:null}}class iV extends Ht{refresh(){const e=this.editor,i=e.plugins.get("ImageCaptionUtils"),s=e.plugins.get("ImageUtils");if(!e.plugins.has(I3))return this.isEnabled=!1,void(this.value=!1);const u=e.model.document.selection,f=u.getSelectedElement();if(!f){const m=i.getCaptionFromModelSelection(u);return this.isEnabled=!!m,void(this.value=!!m)}this.isEnabled=s.isImage(f),this.isEnabled?this.value=!!i.getCaptionFromImageModelElement(f):this.value=!1}execute(e={}){const{focusCaptionOnShow:i}=e;this.editor.model.change(s=>{this.value?this._hideImageCaption(s):this._showImageCaption(s,i)})}_showImageCaption(e,i){const s=this.editor.model.document.selection,u=this.editor.plugins.get("ImageCaptionEditing"),f=this.editor.plugins.get("ImageUtils");let m=s.getSelectedElement();const w=u._getSavedCaption(m);f.isInlineImage(m)&&(this.editor.execute("imageTypeBlock"),m=s.getSelectedElement());const A=w||e.createElement("caption");e.append(A,m),i&&e.setSelection(A,"in")}_hideImageCaption(e){const i=this.editor,s=i.model.document.selection,u=i.plugins.get("ImageCaptionEditing"),f=i.plugins.get("ImageCaptionUtils");let m,w=s.getSelectedElement();w?m=f.getCaptionFromImageModelElement(w):(m=f.getCaptionFromModelSelection(s),w=m.parent),u._saveCaption(w,m),e.setSelection(w,"on"),e.remove(m)}}class oV extends ct{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[gs,P3]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,i=e.model.schema;i.isRegistered("caption")?i.extend("caption",{allowIn:"imageBlock"}):i.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new iV(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,i=e.editing.view,s=e.plugins.get("ImageUtils"),u=e.plugins.get("ImageCaptionUtils"),f=e.t;e.conversion.for("upcast").elementToElement({view:m=>u.matchImageCaptionViewElement(m),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(m,{writer:w})=>s.isBlockImage(m.parent)?w.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(m,{writer:w})=>{if(!s.isBlockImage(m.parent))return null;const A=w.createEditableElement("figcaption");w.setCustomProperty("imageCaption",!0,A),A.placeholder=f("Enter image caption"),jl({view:i,element:A,keepOnFocus:!0});const S=m.parent.getAttribute("alt");return cE(A,w,{label:S?f("Caption for image: %0",[S]):f("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,i=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),u=e.commands.get("imageTypeInline"),f=e.commands.get("imageTypeBlock"),m=w=>{if(!w.return)return;const{oldElement:A,newElement:S}=w.return;if(!A)return;if(i.isBlockImage(A)){const O=s.getCaptionFromImageModelElement(A);if(O)return void this._saveCaption(S,O)}const T=this._getSavedCaption(A);T&&this._saveCaption(S,T)};u&&this.listenTo(u,"execute",m,{priority:"low"}),f&&this.listenTo(f,"execute",m,{priority:"low"})}_getSavedCaption(e){const i=this._savedCaptionsMap.get(e);return i?lr.fromJSON(i):null}_saveCaption(e,i){this._savedCaptionsMap.set(e,i.toJSON())}_registerCaptionReconversion(){const e=this.editor,i=e.model,s=e.plugins.get("ImageUtils"),u=e.plugins.get("ImageCaptionUtils");i.document.on("change:data",()=>{const f=i.document.differ.getChanges();for(const m of f){if(m.attributeKey!=="alt")continue;const w=m.range.start.nodeAfter;if(s.isBlockImage(w)){const A=u.getCaptionFromImageModelElement(w);if(!A)return;e.editing.reconvertItem(A)}}})}}class sV extends ct{static get requires(){return[P3]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,i=e.editing.view,s=e.plugins.get("ImageCaptionUtils"),u=e.t;e.ui.componentFactory.add("toggleImageCaption",f=>{const m=e.commands.get("toggleImageCaption"),w=new $n(f);return w.set({icon:dn.caption,tooltip:!0,isToggleable:!0}),w.bind("isOn","isEnabled").to(m,"value","isEnabled"),w.bind("label").to(m,"value",A=>u(A?"Toggle caption off":"Toggle caption on")),this.listenTo(w,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const A=s.getCaptionFromModelSelection(e.model.document.selection);if(A){const S=e.editing.mapper.toViewElement(A);i.scrollToTheSelection(),i.change(T=>{T.addClass("image__caption_highlighted",S)})}e.editing.view.focus()}),w})}}var O3=a(5247),aV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(O3.A,aV),O3.A.locals;function L3(c){const e=c.map(i=>i.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function lV(c){return new Promise((e,i)=>{const s=c.getAttribute("src");fetch(s).then(u=>u.blob()).then(u=>{const f=j3(u,s),m=f.replace("image/",""),w=new File([u],`image.${m}`,{type:f});e(w)}).catch(u=>u&&u.name==="TypeError"?function(f){return function(m){return new Promise((w,A)=>{const S=h.document.createElement("img");S.addEventListener("load",()=>{const T=h.document.createElement("canvas");T.width=S.width,T.height=S.height,T.getContext("2d").drawImage(S,0,0),T.toBlob(O=>O?w(O):A())}),S.addEventListener("error",()=>A()),S.src=m})}(f).then(m=>{const w=j3(m,f),A=w.replace("image/","");return new File([m],`image.${A}`,{type:w})})}(s).then(e).catch(i):i(u))})}function j3(c,e){return c.type?c.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class cV extends ct{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,i=e.t,s=()=>{const u=this._createButton(r5);return u.set({label:i("Upload image from computer"),tooltip:!0}),u};if(e.ui.componentFactory.add("uploadImage",s),e.ui.componentFactory.add("imageUpload",s),e.ui.componentFactory.add("menuBar:uploadImage",()=>{const u=this._createButton(xS);return u.label=i("Image from computer"),u}),e.plugins.has("ImageInsertUI")){const u=e.plugins.get("ImageInsertUI");u.registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>{const f=e.ui.componentFactory.create("uploadImage");return f.bind("label").to(u,"isImageSelected",m=>i(m?"Replace image from computer":"Upload image from computer")),f},formViewCreator:()=>{const f=e.ui.componentFactory.create("uploadImage");return f.withText=!0,f.bind("label").to(u,"isImageSelected",m=>i(m?"Replace from computer":"Upload from computer")),f.on("execute",()=>{u.dropdownView.isOpen=!1}),f}})}}_createButton(e){const i=this.editor,s=i.locale,u=i.commands.get("uploadImage"),f=i.config.get("image.upload.types"),m=L3(f),w=new e(i.locale),A=s.t;return w.set({acceptedType:f.map(S=>`image/${S}`).join(","),allowMultipleFiles:!0,label:A("Upload image from computer"),icon:dn.imageUpload}),w.bind("isEnabled").to(u),w.on("done",(S,T)=>{const O=Array.from(T).filter(U=>m.test(U.type));O.length&&(i.execute("uploadImage",{file:O}),i.editing.view.focus())}),w}}var B3=a(2267),uV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(B3.A,uV),B3.A.locals;var R3=a(7693),dV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(R3.A,dV),R3.A.locals;var F3=a(1559),hV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(F3.A,hV),F3.A.locals;class fV extends ct{constructor(e){super(e),this.uploadStatusChange=(i,s,u)=>{const f=this.editor,m=s.item,w=m.getAttribute("uploadId");if(!u.consumable.consume(s.item,i.name))return;const A=f.plugins.get("ImageUtils"),S=f.plugins.get(il),T=w?s.attributeNewValue:null,O=this.placeholder,U=f.editing.mapper.toViewElement(m),G=u.writer;if(T=="reading")return z3(U,G),void U3(A,O,U,G);if(T=="uploading"){const ee=S.loaders.get(w);return z3(U,G),void(ee?(q3(U,G),function(ie,be,xe,Oe){const et=function(ft){const Mt=ft.createUIElement("div",{class:"ck-progress-bar"});return ft.setCustomProperty("progressBar",!0,Mt),Mt}(be);be.insert(be.createPositionAt(ie,"end"),et),xe.on("change:uploadedPercent",(ft,Mt,tn)=>{Oe.change(gn=>{gn.setStyle("width",tn+"%",et)})})}(U,G,ee,f.editing.view),function(ie,be,xe,Oe){if(Oe.data){const et=ie.findViewImgElement(be);xe.setAttribute("src",Oe.data,et)}}(A,U,G,ee)):U3(A,O,U,G))}T=="complete"&&S.loaders.get(w)&&function(ee,ie,be){const xe=ie.createUIElement("div",{class:"ck-image-upload-complete-icon"});ie.insert(ie.createPositionAt(ee,"end"),xe),setTimeout(()=>{be.change(Oe=>Oe.remove(Oe.createRangeOn(xe)))},3e3)}(U,G,f.editing.view),function(ee,ie){$3(ee,ie,"progressBar")}(U,G),q3(U,G),function(ee,ie){ie.removeClass("ck-appear",ee)}(U,G)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function z3(c,e){c.hasClass("ck-appear")||e.addClass("ck-appear",c)}function U3(c,e,i,s){i.hasClass("ck-image-upload-placeholder")||s.addClass("ck-image-upload-placeholder",i);const u=c.findViewImgElement(i);u.getAttribute("src")!==e&&s.setAttribute("src",e,u),V3(i,"placeholder")||s.insert(s.createPositionAfter(u),function(f){const m=f.createUIElement("div",{class:"ck-upload-placeholder-loader"});return f.setCustomProperty("placeholder",!0,m),m}(s))}function q3(c,e){c.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",c),$3(c,e,"placeholder")}function V3(c,e){for(const i of c.getChildren())if(i.getCustomProperty(e))return i}function $3(c,e,i){const s=V3(c,i);s&&e.remove(e.createRangeOn(s))}var pV=Object.defineProperty,mV=Object.defineProperties,gV=Object.getOwnPropertyDescriptors,H3=Object.getOwnPropertySymbols,bV=Object.prototype.hasOwnProperty,kV=Object.prototype.propertyIsEnumerable,W3=(c,e,i)=>e in c?pV(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class wV extends Ht{refresh(){const e=this.editor,i=e.plugins.get("ImageUtils"),s=e.model.document.selection.getSelectedElement();this.isEnabled=i.isImageAllowed()||i.isImage(s)}execute(e){const i=rr(e.file),s=this.editor.model.document.selection,u=this.editor.plugins.get("ImageUtils"),f=Object.fromEntries(s.getAttributes());i.forEach((m,w)=>{const A=s.getSelectedElement();if(w&&A&&u.isImage(A)){const S=this.editor.model.createPositionAfter(A);this._uploadImage(m,f,S)}else this._uploadImage(m,f)})}_uploadImage(e,i,s){const u=this.editor,f=u.plugins.get(il).createLoader(e),m=u.plugins.get("ImageUtils");var w,A;f&&m.insertImage((w=((S,T)=>{for(var O in T||(T={}))bV.call(T,O)&&W3(S,O,T[O]);if(H3)for(var O of H3(T))kV.call(T,O)&&W3(S,O,T[O]);return S})({},i),A={uploadId:f.id},mV(w,gV(A))),s)}}class yV extends ct{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[il,xy,Da,gs]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,i=e.model.document,s=e.conversion,u=e.plugins.get(il),f=e.plugins.get("ImageUtils"),m=e.plugins.get("ClipboardPipeline"),w=L3(e.config.get("image.upload.types")),A=new wV(e);e.commands.add("uploadImage",A),e.commands.add("imageUpload",A),s.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(S,T)=>{if(O=T.dataTransfer,Array.from(O.types).includes("text/html")&&O.getData("text/html")!=="")return;var O;const U=Array.from(T.dataTransfer.files).filter(G=>!!G&&w.test(G.type));U.length&&(S.stop(),e.model.change(G=>{T.targetRanges&&G.setSelection(T.targetRanges.map(ee=>e.editing.mapper.toModelRange(ee))),e.execute("uploadImage",{file:U})}))}),this.listenTo(m,"inputTransformation",(S,T)=>{const O=Array.from(e.editing.view.createRangeIn(T.content)).map(G=>G.item).filter(G=>function(ee,ie){return!(!ee.isInlineImageView(ie)||!ie.getAttribute("src")||!ie.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!ie.getAttribute("src").match(/^blob:/g))}(f,G)&&!G.getAttribute("uploadProcessed")).map(G=>({promise:lV(G),imageElement:G}));if(!O.length)return;const U=new Fc(e.editing.view.document);for(const G of O){U.setAttribute("uploadProcessed",!0,G.imageElement);const ee=u.createLoader(G.promise);ee&&(U.setAttribute("src","",G.imageElement),U.setAttribute("uploadId",ee.id,G.imageElement))}}),e.editing.view.document.on("dragover",(S,T)=>{T.preventDefault()}),i.on("change",()=>{const S=i.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),T=new Set;for(const O of S)if(O.type=="insert"&&O.name!="$text"){const U=O.position.nodeAfter,G=O.position.root.rootName=="$graveyard";for(const ee of vV(e,U)){const ie=ee.getAttribute("uploadId");if(!ie)continue;const be=u.loaders.get(ie);be&&(G?T.has(ie)||be.abort():(T.add(ie),this._uploadImageElements.set(ie,ee),be.status=="idle"&&this._readAndUpload(be)))}}}),this.on("uploadComplete",(S,{imageElement:T,data:O})=>{const U=O.urls?O.urls:O;this.editor.model.change(G=>{G.setAttribute("src",U.default,T),this._parseAndSetSrcsetAttributeOnImage(U,T,G),f.setImageNaturalSizeAttributes(T)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const i=this.editor,s=i.model,u=i.locale.t,f=i.plugins.get(il),m=i.plugins.get(xy),w=i.plugins.get("ImageUtils"),A=this._uploadImageElements;return s.enqueueChange({isUndoable:!1},T=>{T.setAttribute("uploadStatus","reading",A.get(e.id))}),e.read().then(()=>{const T=e.upload(),O=A.get(e.id);if(b.isSafari){const U=i.editing.mapper.toViewElement(O),G=w.findViewImgElement(U);i.editing.view.once("render",()=>{if(!G.parent)return;const ee=i.editing.view.domConverter.mapViewToDom(G.parent);if(!ee)return;const ie=ee.style.display;ee.style.display="none",ee._ckHack=ee.offsetHeight,ee.style.display=ie})}return i.ui&&i.ui.ariaLiveAnnouncer.announce(u("Uploading image")),s.enqueueChange({isUndoable:!1},U=>{U.setAttribute("uploadStatus","uploading",O)}),T}).then(T=>{s.enqueueChange({isUndoable:!1},O=>{const U=A.get(e.id);O.setAttribute("uploadStatus","complete",U),i.ui&&i.ui.ariaLiveAnnouncer.announce(u("Image upload complete")),this.fire("uploadComplete",{data:T,imageElement:U})}),S()}).catch(T=>{if(i.ui&&i.ui.ariaLiveAnnouncer.announce(u("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw T;e.status=="error"&&T&&m.showWarning(T,{title:u("Upload failed"),namespace:"upload"}),s.enqueueChange({isUndoable:!1},O=>{O.remove(A.get(e.id))}),S()});function S(){s.enqueueChange({isUndoable:!1},T=>{const O=A.get(e.id);T.removeAttribute("uploadId",O),T.removeAttribute("uploadStatus",O),A.delete(e.id)}),f.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,i,s){let u=0;const f=Object.keys(e).filter(m=>{const w=parseInt(m,10);if(!isNaN(w))return u=Math.max(u,w),!0}).map(m=>`${e[m]} ${m}w`).join(", ");if(f!=""){const m={srcset:f};i.hasAttribute("width")||i.hasAttribute("height")||(m.width=u),s.setAttributes(m,i)}}}function vV(c,e){const i=c.plugins.get("ImageUtils");return Array.from(c.model.createRangeOn(e)).filter(s=>i.isImage(s.item)).map(s=>s.item)}var G3=a(4642),AV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(G3.A,AV),G3.A.locals;var Y3=a(3469),_V={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(Y3.A,_V),Y3.A.locals;class CV extends Ht{constructor(e,i){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(i.map(s=>{if(s.isDefault)for(const u of s.modelElements)this._defaultStyles[u]=s.name;return[s.name,s]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const i=this.editor,s=i.model,u=i.plugins.get("ImageUtils");s.change(f=>{const m=e.value,{setImageSizes:w=!0}=e;let A=u.getClosestSelectedImageElement(s.document.selection);m&&this.shouldConvertImageType(m,A)&&(this.editor.execute(u.isBlockImage(A)?"imageTypeInline":"imageTypeBlock",{setImageSizes:w}),A=u.getClosestSelectedImageElement(s.document.selection)),!m||this._styles.get(m).isDefault?f.removeAttribute("imageStyle",A):f.setAttribute("imageStyle",m,A),w&&u.setImageNaturalSizeAttributes(A)})}shouldConvertImageType(e,i){return!this._styles.get(e).modelElements.includes(i.name)}}var xV=Object.defineProperty,K3=Object.getOwnPropertySymbols,SV=Object.prototype.hasOwnProperty,EV=Object.prototype.propertyIsEnumerable,Q3=(c,e,i)=>e in c?xV(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,J3=(c,e)=>{for(var i in e||(e={}))SV.call(e,i)&&Q3(c,i,e[i]);if(K3)for(var i of K3(e))EV.call(e,i)&&Q3(c,i,e[i]);return c};const{objectFullWidth:DV,objectInline:Z3,objectLeft:X3,objectRight:$y,objectCenter:Hy,objectBlockLeft:e4,objectBlockRight:t4}=dn,T0={get inline(){return{name:"inline",title:"In line",icon:Z3,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:X3,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:e4,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Hy,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:$y,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:t4,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Hy,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:$y,modelElements:["imageBlock"],className:"image-style-side"}}},n4={full:DV,left:e4,right:t4,center:Hy,inlineLeft:X3,inlineRight:$y,inline:Z3},r4=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function i4(c){B("image-style-configuration-definition-invalid",c)}const Wy={normalizeStyles:function(c){return(c.configuredStyles.options||[]).map(e=>function(i){return i=typeof i=="string"?T0[i]?J3({},T0[i]):{name:i}:function(s,u){const f=J3({},u);for(const m in s)Object.prototype.hasOwnProperty.call(u,m)||(f[m]=s[m]);return f}(T0[i.name],i),typeof i.icon=="string"&&(i.icon=n4[i.icon]||i.icon),i}(e)).filter(e=>function(i,{isBlockPluginLoaded:s,isInlinePluginLoaded:u}){const{modelElements:f,name:m}=i;if(!(f&&f.length&&m))return i4({style:i}),!1;{const w=[s?"imageBlock":null,u?"imageInline":null];if(!f.some(A=>w.includes(A)))return B("image-style-missing-dependency",{style:i,missingPlugins:f.map(A=>A==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,c))},getDefaultStylesConfiguration:function(c,e){return c&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:c?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(c){return c.has("ImageBlockEditing")&&c.has("ImageInlineEditing")?[...r4]:[]},warnInvalidStyle:i4,DEFAULT_OPTIONS:T0,DEFAULT_ICONS:n4,DEFAULT_DROPDOWN_DEFINITIONS:r4};function o4(c,e){for(const i of e)if(i.name===c)return i}class s4 extends ct{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[gs]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:i}=Wy,s=this.editor,u=s.plugins.has("ImageBlockEditing"),f=s.plugins.has("ImageInlineEditing");s.config.define("image.styles",i(u,f)),this.normalizedStyles=e({configuredStyles:s.config.get("image.styles"),isBlockPluginLoaded:u,isInlinePluginLoaded:f}),this._setupConversion(u,f),this._setupPostFixer(),s.commands.add("imageStyle",new CV(s,this.normalizedStyles))}_setupConversion(e,i){const s=this.editor,u=s.model.schema,f=(m=this.normalizedStyles,(A,S,T)=>{if(!T.consumable.consume(S.item,A.name))return;const O=o4(S.attributeNewValue,m),U=o4(S.attributeOldValue,m),G=T.mapper.toViewElement(S.item),ee=T.writer;U&&ee.removeClass(U.className,G),O&&ee.addClass(O.className,G)});var m;const w=function(A){const S={imageInline:A.filter(T=>!T.isDefault&&T.modelElements.includes("imageInline")),imageBlock:A.filter(T=>!T.isDefault&&T.modelElements.includes("imageBlock"))};return(T,O,U)=>{if(!O.modelRange)return;const G=O.viewItem,ee=Li(O.modelRange.getItems());if(ee&&U.schema.checkAttribute(ee,"imageStyle"))for(const ie of S[ee.name])U.consumable.consume(G,{classes:ie.className})&&U.writer.setAttribute("imageStyle",ie.name,ee)}}(this.normalizedStyles);s.editing.downcastDispatcher.on("attribute:imageStyle",f),s.data.downcastDispatcher.on("attribute:imageStyle",f),e&&(u.extend("imageBlock",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:figure",w,{priority:"low"})),i&&(u.extend("imageInline",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:img",w,{priority:"low"}))}_setupPostFixer(){const e=this.editor,i=e.model.document,s=e.plugins.get(gs),u=new Map(this.normalizedStyles.map(f=>[f.name,f]));i.registerPostFixer(f=>{let m=!1;for(const w of i.differ.getChanges())if(w.type=="insert"||w.type=="attribute"&&w.attributeKey=="imageStyle"){let A=w.type=="insert"?w.position.nodeAfter:w.range.start.nodeAfter;if(A&&A.is("element","paragraph")&&A.childCount>0&&(A=A.getChild(0)),!s.isImage(A))continue;const S=A.getAttribute("imageStyle");if(!S)continue;const T=u.get(S);T&&T.modelElements.includes(A.name)||(f.removeAttribute("imageStyle",A),m=!0)}return m})}}var a4=a(6386),IV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(a4.A,IV),a4.A.locals;class TV extends ct{static get requires(){return[s4]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,i=this.editor.config.get("image.toolbar")||[],s=l4(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const f of s)this._createButton(f);const u=l4([...i.filter(we),...Wy.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const f of u)this._createDropdown(f,s)}_createDropdown(e,i){const s=this.editor.ui.componentFactory;s.add(e.name,u=>{let f;const{defaultItem:m,items:w,title:A}=e,S=w.filter(G=>i.find(({name:ee})=>c4(ee)===G)).map(G=>{const ee=s.create(G);return G===m&&(f=ee),ee});w.length!==S.length&&Wy.warnInvalidStyle({dropdown:e});const T=Uc(u,o0),O=T.buttonView,U=O.arrowView;return yy(T,S,{enableActiveItemFocusOnDropdownOpen:!0}),O.set({label:u4(A,f.label),class:null,tooltip:!0}),U.unbind("label"),U.set({label:A}),O.bind("icon").toMany(S,"isOn",(...G)=>{const ee=G.findIndex(Ll);return ee<0?f.icon:S[ee].icon}),O.bind("label").toMany(S,"isOn",(...G)=>{const ee=G.findIndex(Ll);return u4(A,ee<0?f.label:S[ee].label)}),O.bind("isOn").toMany(S,"isOn",(...G)=>G.some(Ll)),O.bind("class").toMany(S,"isOn",(...G)=>G.some(Ll)?"ck-splitbutton_flatten":void 0),O.on("execute",()=>{S.some(({isOn:G})=>G)?T.isOpen=!T.isOpen:f.fire("execute")}),T.bind("isEnabled").toMany(S,"isEnabled",(...G)=>G.some(Ll)),this.listenTo(T,"execute",()=>{this.editor.editing.view.focus()}),T})}_createButton(e){const i=e.name;this.editor.ui.componentFactory.add(c4(i),s=>{const u=this.editor.commands.get("imageStyle"),f=new $n(s);return f.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),f.bind("isEnabled").to(u,"isEnabled"),f.bind("isOn").to(u,"value",m=>m===i),f.on("execute",this._executeCommand.bind(this,i)),f})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function l4(c,e){for(const i of c)e[i.title]&&(i.title=e[i.title]);return c}function c4(c){return`imageStyle:${c}`}function u4(c,e){return(c?c+": ":"")+e}class NV extends ct{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Jr(e)),e.commands.add("outdent",new Jr(e))}}class MV extends ct{static get pluginName(){return"IndentUI"}init(){const e=this.editor,i=e.locale,s=e.t,u=i.uiLanguageDirection=="ltr"?dn.indent:dn.outdent,f=i.uiLanguageDirection=="ltr"?dn.outdent:dn.indent;this._defineButton("indent",s("Increase indent"),u),this._defineButton("outdent",s("Decrease indent"),f)}_defineButton(e,i,s){const u=this.editor;u.ui.componentFactory.add(e,()=>{const f=this._createButton($n,e,i,s);return f.set({tooltip:!0}),f}),u.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(qs,e,i,s))}_createButton(e,i,s,u){const f=this.editor,m=f.commands.get(i),w=new e(f.locale);return w.set({label:s,icon:u}),w.bind("isEnabled").to(m,"isEnabled"),this.listenTo(w,"execute",()=>{f.execute(i),f.editing.view.focus()}),w}}class PV{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(i=>this._definitions.add(i)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(i,s,u)=>{if(!u.consumable.test(s.item,"attribute:linkHref")||!s.item.is("selection")&&!u.schema.isInline(s.item))return;const f=u.writer,m=f.document.selection;for(const w of this._definitions){const A=f.createAttributeElement("a",w.attributes,{priority:5});w.classes&&f.addClass(w.classes,A);for(const S in w.styles)f.setStyle(S,w.styles[S],A);f.setCustomProperty("link",!0,A),w.callback(s.attributeNewValue)?s.item.is("selection")?f.wrap(m.getFirstRange(),A):f.wrap(u.mapper.toViewRange(s.range),A):f.unwrap(u.mapper.toViewRange(s.range),A)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(i,s,{writer:u,mapper:f})=>{const m=f.toViewElement(s.item),w=Array.from(m.getChildren()).find(A=>A.is("element","a"));for(const A of this._definitions){const S=ya(A.attributes);if(A.callback(s.attributeNewValue)){for(const[T,O]of S)T==="class"?u.addClass(O,w):u.setAttribute(T,O,w);A.classes&&u.addClass(A.classes,w);for(const T in A.styles)u.setStyle(T,A.styles[T],w)}else{for(const[T,O]of S)T==="class"?u.removeClass(O,w):u.removeAttribute(T,w);A.classes&&u.removeClass(A.classes,w);for(const T in A.styles)u.removeStyle(T,w)}}})}}}const OV=function(c,e,i){var s=c.length;return i=i===void 0?s:i,!e&&i>=s?c:jb(c,e,i)};var LV=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const d4=function(c){return LV.test(c)},jV=function(c){return c.split("")};var h4="\\ud800-\\udfff",BV="["+h4+"]",Gy="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Yy="\\ud83c[\\udffb-\\udfff]",f4="[^"+h4+"]",p4="(?:\\ud83c[\\udde6-\\uddff]){2}",m4="[\\ud800-\\udbff][\\udc00-\\udfff]",g4="(?:"+Gy+"|"+Yy+")?",b4="[\\ufe0e\\ufe0f]?",RV=b4+g4+("(?:\\u200d(?:"+[f4,p4,m4].join("|")+")"+b4+g4+")*"),FV="(?:"+[f4+Gy+"?",Gy,p4,m4,BV].join("|")+")",zV=RegExp(Yy+"(?="+Yy+")|"+FV+RV,"g");const UV=function(c){return c.match(zV)||[]},qV=function(c){return d4(c)?UV(c):jV(c)},VV=function(c){return function(e){e=hf(e);var i=d4(e)?qV(e):void 0,s=i?i[0]:e.charAt(0),u=i?OV(i,1).join(""):e.slice(1);return s[c]()+u}}("toUpperCase"),$V=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,HV=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,WV=/^((\w+:(\/{2,})?)|(\W))/i,GV=["https?","ftps?","mailto"],N0="Ctrl+K";function k4(c,{writer:e}){const i=e.createAttributeElement("a",{href:c},{priority:5});return e.setCustomProperty("link",!0,i),i}function w4(c,e=GV){const i=String(c),s=e.join("|");return function(u,f){return!!u.replace($V,"").match(f)}(i,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",s)}`,"i"))?i:"#"}function Ky(c,e){return!!c&&e.checkAttribute(c.name,"linkHref")}function Qy(c,e){const i=(s=c,HV.test(s)?"mailto:":e);var s;const u=!!i&&!y4(c);return c&&u?i+c:c}function y4(c){return WV.test(c)}function v4(c){window.open(c,"_blank","noopener")}class YV extends Ht{constructor(){super(...arguments),this.manualDecorators=new Bs,this.automaticDecorators=new PV}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,i=e.document.selection,s=i.getSelectedElement()||Li(i.getSelectedBlocks());Ky(s,e.schema)?(this.value=s.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(s,"linkHref")):(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref"));for(const u of this.manualDecorators)u.value=this._getDecoratorStateFromModel(u.id)}execute(e,i={}){const s=this.editor.model,u=s.document.selection,f=[],m=[];for(const w in i)i[w]?f.push(w):m.push(w);s.change(w=>{if(u.isCollapsed){const A=u.getFirstPosition();if(u.hasAttribute("linkHref")){const S=A4(u);let T=b0(A,"linkHref",u.getAttribute("linkHref"),s);u.getAttribute("linkHref")===S&&(T=this._updateLinkContent(s,w,T,e)),w.setAttribute("linkHref",e,T),f.forEach(O=>{w.setAttribute(O,!0,T)}),m.forEach(O=>{w.removeAttribute(O,T)}),w.setSelection(w.createPositionAfter(T.end.nodeBefore))}else if(e!==""){const S=ya(u.getAttributes());S.set("linkHref",e),f.forEach(O=>{S.set(O,!0)});const{end:T}=s.insertContent(w.createText(e,S),A);w.setSelection(T)}["linkHref",...f,...m].forEach(S=>{w.removeSelectionAttribute(S)})}else{const A=s.schema.getValidRanges(u.getRanges(),"linkHref"),S=[];for(const O of u.getSelectedBlocks())s.schema.checkAttribute(O,"linkHref")&&S.push(w.createRangeOn(O));const T=S.slice();for(const O of A)this._isRangeToUpdate(O,S)&&T.push(O);for(const O of T){let U=O;if(T.length===1){const G=A4(u);u.getAttribute("linkHref")===G&&(U=this._updateLinkContent(s,w,O,e),w.setSelection(w.createSelection(U)))}w.setAttribute("linkHref",e,U),f.forEach(G=>{w.setAttribute(G,!0,U)}),m.forEach(G=>{w.removeAttribute(G,U)})}}})}_getDecoratorStateFromModel(e){const i=this.editor.model,s=i.document.selection,u=s.getSelectedElement();return Ky(u,i.schema)?u.getAttribute(e):s.getAttribute(e)}_isRangeToUpdate(e,i){for(const s of i)if(s.containsRange(e))return!1;return!0}_updateLinkContent(e,i,s,u){const f=i.createText(u,{linkHref:u});return e.insertContent(f,s)}}function A4(c){if(c.isCollapsed){const e=c.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(c.getFirstRange().getItems());if(e.length>1)return null;const i=e[0];return i.is("$text")||i.is("$textProxy")?i.data:null}}class KV extends Ht{refresh(){const e=this.editor.model,i=e.document.selection,s=i.getSelectedElement();Ky(s,e.schema)?this.isEnabled=e.schema.checkAttribute(s,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref")}execute(){const e=this.editor,i=this.editor.model,s=i.document.selection,u=e.commands.get("link");i.change(f=>{const m=s.isCollapsed?[b0(s.getFirstPosition(),"linkHref",s.getAttribute("linkHref"),i)]:i.schema.getValidRanges(s.getRanges(),"linkHref");for(const w of m)if(f.removeAttribute("linkHref",w),u)for(const A of u.manualDecorators)f.removeAttribute(A.id,w)})}}class QV extends Ue(){constructor({id:e,label:i,attributes:s,classes:u,styles:f,defaultValue:m}){super(),this.id=e,this.set("value",void 0),this.defaultValue=m,this.label=i,this.attributes=s,this.classes=u,this.styles=f}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var _4=a(7719),JV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(_4.A,JV),_4.A.locals;var ZV=Object.defineProperty,C4=Object.getOwnPropertySymbols,XV=Object.prototype.hasOwnProperty,e$=Object.prototype.propertyIsEnumerable,x4=(c,e,i)=>e in c?ZV(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,t$=(c,e)=>{for(var i in e||(e={}))XV.call(e,i)&&x4(c,i,e[i]);if(C4)for(var i of C4(e))e$.call(e,i)&&x4(c,i,e[i]);return c};const S4="automatic",n$=/^(https?:)?\/\//;class E4 extends ct{static get pluginName(){return"LinkEditing"}static get requires(){return[ZS,HS,Da]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,i=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:k4}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(u,f)=>k4(w4(u,i),f)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:u=>u.getAttribute("href")}}),e.commands.add("link",new YV(e)),e.commands.add("unlink",new KV(e));const s=function(u,f){const m={"Open in a new tab":u("Open in a new tab"),Downloadable:u("Downloadable")};return f.forEach(w=>("label"in w&&m[w.label]&&(w.label=m[w.label]),w)),f}(e.t,function(u){const f=[];if(u)for(const[m,w]of Object.entries(u)){const A=Object.assign({},w,{id:`link${VV(m)}`});f.push(A)}return f}(e.config.get("link.decorators")));this._enableAutomaticDecorators(s.filter(u=>u.mode===S4)),this._enableManualDecorators(s.filter(u=>u.mode==="manual")),e.plugins.get(ZS).registerAttribute("linkHref"),function(u,f,m,w){const A=u.editing.view,S=new Set;A.document.registerPostFixer(T=>{const O=u.model.document.selection;let U=!1;if(O.hasAttribute(f)){const G=b0(O.getFirstPosition(),f,O.getAttribute(f),u.model),ee=u.editing.mapper.toViewRange(G);for(const ie of ee.getItems())ie.is("element",m)&&!ie.hasClass(w)&&(T.addClass(w,ie),S.add(ie),U=!0)}return U}),u.conversion.for("editingDowncast").add(T=>{function O(){A.change(U=>{for(const G of S.values())U.removeClass(w,G),S.delete(G)})}T.on("insert",O,{priority:"highest"}),T.on("remove",O,{priority:"highest"}),T.on("attribute",O,{priority:"highest"}),T.on("selection",O,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const i=this.editor,s=i.commands.get("link").automaticDecorators;i.config.get("link.addTargetToExternalLinks")&&s.add({id:"linkIsExternal",mode:S4,callback:u=>!!u&&n$.test(u),attributes:{target:"_blank",rel:"noopener noreferrer"}}),s.add(e),s.length&&i.conversion.for("downcast").add(s.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const i=this.editor,s=i.commands.get("link").manualDecorators;e.forEach(u=>{i.model.schema.extend("$text",{allowAttributes:u.id});const f=new QV(u);s.add(f),i.conversion.for("downcast").attributeToElement({model:f.id,view:(m,{writer:w,schema:A},{item:S})=>{if((S.is("selection")||A.isInline(S))&&m){const T=w.createAttributeElement("a",f.attributes,{priority:5});f.classes&&w.addClass(f.classes,T);for(const O in f.styles)w.setStyle(O,f.styles[O],T);return w.setCustomProperty("link",!0,T),T}}}),i.conversion.for("upcast").elementToAttribute({view:t$({name:"a"},f._createPattern()),model:{key:f.id}})})}_enableLinkOpen(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",(s,u)=>{if(!(b.isMac?u.domEvent.metaKey:u.domEvent.ctrlKey))return;let f=u.domTarget;if(f.tagName.toLowerCase()!="a"&&(f=f.closest("a")),!f)return;const m=f.getAttribute("href");m&&(s.stop(),u.preventDefault(),v4(m))},{context:"$capture"}),this.listenTo(i,"keydown",(s,u)=>{const f=e.commands.get("link").value;f&&u.keyCode===Pn.enter&&u.altKey&&(s.stop(),v4(f))})}_enableSelectionAttributesFixer(){const e=this.editor.model,i=e.document.selection;this.listenTo(i,"change:attribute",(s,{attributeKeys:u})=>{u.includes("linkHref")&&!i.hasAttribute("linkHref")&&e.change(f=>{var m;(function(w,A){w.removeSelectionAttribute("linkHref");for(const S of A)w.removeSelectionAttribute(S)})(f,(m=e.schema,m.getDefinition("$text").allowAttributes.filter(w=>w.startsWith("link"))))})})}_enableClipboardIntegration(){const e=this.editor,i=e.model,s=this.editor.config.get("link.defaultProtocol");s&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(u,f)=>{i.change(m=>{const w=m.createRangeIn(f.content);for(const A of w.getItems())if(A.hasAttribute("linkHref")){const S=Qy(A.getAttribute("linkHref"),s);m.setAttribute("linkHref",S,A)}})})}}var D4=a(3817),r$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(D4.A,r$),D4.A.locals;class i$ extends Nt{constructor(e,i,s){super(e),this.focusTracker=new ji,this.keystrokes=new lo,this._focusables=new Qo;const u=e.t;this._validators=s,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(u("Save"),dn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(u("Cancel"),dn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(i),this.children=this._createFormChildren(i.manualDecorators),this._focusCycler=new Ea({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const f=["ck","ck-link-form","ck-responsive-form"];i.manualDecorators.length&&f.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:f,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,i)=>(e[i.name]=i.isOn,e),{})}render(){super.render(),Cn({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,i=new r0(this.locale,s0);return i.label=e("Link URL"),i}_createButton(e,i,s,u){const f=new $n(this.locale);return f.set({label:e,icon:i,tooltip:!0}),f.extendTemplate({attributes:{class:s}}),u&&f.delegate("execute").to(this,u),f}_createManualDecoratorSwitches(e){const i=this.createCollection();for(const s of e.manualDecorators){const u=new t0(this.locale);u.set({name:s.id,label:s.label,withText:!0}),u.bind("isOn").toMany([s,e],"value",(f,m)=>m===void 0&&f===void 0?!!s.defaultValue:!!f),u.on("execute",()=>{s.set("value",!u.isOn)}),i.add(u)}return i}_createFormChildren(e){const i=this.createCollection();if(i.add(this.urlInputView),e.length){const s=new Nt;s.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(u=>({tag:"li",children:[u],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(s)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}var I4=a(8762),o$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(I4.A,o$),I4.A.locals;class s$ extends Nt{constructor(e,i={}){super(e),this.focusTracker=new ji,this.keystrokes=new lo,this._focusables=new Qo;const s=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(s("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(s("Edit link"),dn.pencil,"edit"),this.set("href",void 0),this._linkConfig=i,this._focusCycler=new Ea({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,i,s){const u=new $n(this.locale);return u.set({label:e,icon:i,tooltip:!0}),u.delegate("execute").to(this,s),u}_createPreviewButton(){const e=new $n(this.locale),i=this.bindTemplate,s=this.t;return e.set({withText:!0,tooltip:s("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",u=>u&&w4(u,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",u=>u||s("This link has no URL")),e.bind("isEnabled").to(this,"href",u=>!!u),e.template.tag="a",e.template.eventListeners={},e}}const Vl="link-ui";class a$ extends ct{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[h0]}static get pluginName(){return"LinkUI"}init(){const e=this.editor,i=this.editor.t;e.editing.view.addObserver(eF),this._balloon=e.plugins.get(h0),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Vl,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Vl,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Create link"),keystroke:N0},{label:i("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,i=new s$(e.locale,e.config.get("link")),s=e.commands.get("link"),u=e.commands.get("unlink");return i.bind("href").to(s,"value"),i.editButtonView.bind("isEnabled").to(s),i.unlinkButtonView.bind("isEnabled").to(u),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"unlink",()=>{e.execute("unlink"),this._hideUI()}),i.keystrokes.set("Esc",(f,m)=>{this._hideUI(),m()}),i.keystrokes.set(N0,(f,m)=>{this._addFormView(),m()}),i}_createFormView(){const e=this.editor,i=e.commands.get("link"),s=e.config.get("link.defaultProtocol"),u=new(On(i$))(e.locale,i,function(f){const m=f.t,w=f.config.get("link.allowCreatingEmptyLinks");return[A=>{if(!w&&!A.url.length)return m("Link URL must not be empty.")}]}(e));return u.urlInputView.fieldView.bind("value").to(i,"value"),u.urlInputView.bind("isEnabled").to(i,"isEnabled"),u.saveButtonView.bind("isEnabled").to(i,"isEnabled"),this.listenTo(u,"submit",()=>{if(u.isValid()){const{value:f}=u.urlInputView.fieldView.element,m=Qy(f,s);e.execute("link",m,u.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(u.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(u,"cancel",()=>{this._closeFormView()}),u.keystrokes.set("Esc",(f,m)=>{this._closeFormView(),m()}),u}_createToolbarLinkButton(){const e=this.editor,i=e.commands.get("link");e.ui.componentFactory.add("link",()=>{const s=this._createButton($n);return s.set({tooltip:!0,isToggleable:!0}),s.bind("isOn").to(i,"value",u=>!!u),s}),e.ui.componentFactory.add("menuBar:link",()=>this._createButton(qs))}_createButton(e){const i=this.editor,s=i.locale,u=i.commands.get("link"),f=new e(i.locale),m=s.t;return f.set({label:m("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:N0}),f.bind("isEnabled").to(u,"isEnabled"),this.listenTo(f,"execute",()=>this._showUI(!0)),f}_enableBalloonActivators(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(N0,(s,u)=>{u(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,i)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,i)=>{this._isUIVisible&&(this._hideUI(),i())}),Fn({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,i=e.editing.view.document;let s=this._getSelectedLinkElement(),u=m();const f=()=>{const w=this._getSelectedLinkElement(),A=m();s&&!w||!s&&A!==u?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),s=w,u=A};function m(){return i.selection.focus.getAncestors().reverse().find(w=>w.is("element"))}this.listenTo(e.ui,"update",f),this.listenTo(this._balloon,"change:visibleView",f)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,i=this.editor.model,s=e.document;let u;if(i.markers.has(Vl)){const f=Array.from(this.editor.editing.mapper.markerNameToElements(Vl)),m=e.createRange(e.createPositionBefore(f[0]),e.createPositionAfter(f[f.length-1]));u=e.domConverter.viewRangeToDom(m)}else u=()=>{const f=this._getSelectedLinkElement();return f?e.domConverter.mapViewToDom(f):e.domConverter.viewRangeToDom(s.selection.getFirstRange())};return{target:u}}_getSelectedLinkElement(){const e=this.editor.editing.view,i=e.document.selection,s=i.getSelectedElement();if(i.isCollapsed||s&&_i(s))return Jy(i.getFirstPosition());{const u=i.getFirstRange().getTrimmed(),f=Jy(u.start),m=Jy(u.end);return f&&f==m&&e.createRangeIn(f).getTrimmed().isEqual(u)?f:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(i=>{const s=e.document.selection.getFirstRange();if(e.markers.has(Vl))i.updateMarker(Vl,{range:s});else if(s.start.isAtEnd){const u=s.start.getLastMatchingPosition(({item:f})=>!e.schema.isContent(f),{boundaries:s});i.addMarker(Vl,{usingOperation:!1,affectsData:!1,range:i.createRange(u,s.end)})}else i.addMarker(Vl,{usingOperation:!1,affectsData:!1,range:s})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Vl)&&e.change(i=>{i.removeMarker(Vl)})}}function Jy(c){return c.getAncestors().find(e=>{return(i=e).is("attributeElement")&&!!i.getCustomProperty("link");var i})||null}const T4=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class l$ extends ct{static get requires(){return[Vc,E4]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,i){return i.textNode&&i.textNode.hasAttribute("linkHref")?b0(i,"linkHref",i.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,i){const s=this.editor.model,u=s.document.selection,f=u.getFirstPosition(),m=u.getLastPosition();let w=i.getJoined(this._expandLinkRange(s,f)||i);w&&(w=w.getJoined(this._expandLinkRange(s,m)||i)),w&&(w.start.isBefore(f)||w.end.isAfter(m))&&e.setSelection(w)}_enablePasteLinking(){const e=this.editor,i=e.model,s=i.document.selection,u=e.plugins.get("ClipboardPipeline"),f=e.commands.get("link");u.on("inputTransformation",(m,w)=>{if(!this.isEnabled||!f.isEnabled||s.isCollapsed||w.method!=="paste"||s.rangeCount>1)return;const A=s.getFirstRange(),S=w.dataTransfer.getData("text/plain");if(!S)return;const T=S.match(T4);T&&T[2]===S&&(i.change(O=>{this._selectEntireLinks(O,A),f.execute(S)}),m.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,i=new JS(e.model,s=>{if(!function(f){return f.length>4&&f[f.length-1]===" "&&f[f.length-2]!==" "}(s))return;const u=N4(s.substr(0,s.length-1));return u?{url:u}:void 0});i.on("matched:data",(s,u)=>{const{batch:f,range:m,url:w}=u;if(!f.isTyping)return;const A=m.end.getShiftedBy(-1),S=A.getShiftedBy(-w.length),T=e.model.createRange(S,A);this._applyAutoLink(w,T)}),i.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,i=e.model,s=e.commands.get("enter");s&&s.on("execute",()=>{const u=i.document.selection.getFirstPosition();if(!u.parent.previousSibling)return;const f=i.createRangeIn(u.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(f)})}_enableShiftEnterHandling(){const e=this.editor,i=e.model,s=e.commands.get("shiftEnter");s&&s.on("execute",()=>{const u=i.document.selection.getFirstPosition(),f=i.createRange(i.createPositionAt(u.parent,0),u.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(f)})}_checkAndApplyAutoLinkOnRange(e){const i=this.editor.model,{text:s,range:u}=QS(e,i),f=N4(s);if(f){const m=i.createRange(u.end.getShiftedBy(-f.length),u.end);this._applyAutoLink(f,m)}}_applyAutoLink(e,i){const s=this.editor.model,u=Qy(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(f,m){return m.schema.checkAttributeInSelection(m.createSelection(f),"linkHref")}(i,s)&&y4(u)&&!function(f){const m=f.start.nodeAfter;return!!m&&m.hasAttribute("linkHref")}(i)&&this._persistAutoLink(u,i)}_persistAutoLink(e,i){const s=this.editor.model,u=this.editor.plugins.get("Delete");s.enqueueChange(f=>{f.setAttribute("linkHref",e,i),s.enqueueChange(()=>{u.requestUndoOnBackspace()})})}}function N4(c){const e=T4.exec(c);return e?e[2]:null}var M4=a(4808),c$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(M4.A,c$),M4.A.locals;class Ta{constructor(e,i){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=i.direction=="forward",this._includeSelf=!!i.includeSelf,this._sameAttributes=rr(i.sameAttributes||[]),this._sameIndent=!!i.sameIndent,this._lowerIndent=!!i.lowerIndent,this._higherIndent=!!i.higherIndent}static first(e,i){return Li(new this(e,i)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:i}of jm(this._getStartNode(),this._isForward?"forward":"backward")){const s=i.getAttribute("listIndent");if(s<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=s}else if(s>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(i);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(u=>i.getAttribute(u)!==this._startElement.getAttribute(u)))break}e.length&&(yield*e,e.length=0),yield i}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*jm(c,e="forward"){const i=e=="forward",s=[];let u=null;for(;Gi(c);){let f=null;if(u){const m=c.getAttribute("listIndent"),w=u.getAttribute("listIndent");m>w?s[w]=u:m<w?(f=s[m],s.length=m):f=u}yield{node:c,previous:u,previousNodeInList:f},u=c,c=i?c.nextSibling:c.previousSibling}}class u${constructor(e){this._listHead=e}[Symbol.iterator](){return jm(this._listHead,"forward")}}var d$=Object.defineProperty,h$=Object.defineProperties,f$=Object.getOwnPropertyDescriptors,P4=Object.getOwnPropertySymbols,p$=Object.prototype.hasOwnProperty,m$=Object.prototype.propertyIsEnumerable,O4=(c,e,i)=>e in c?d$(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,Bm=(c,e)=>{for(var i in e||(e={}))p$.call(e,i)&&O4(c,i,e[i]);if(P4)for(var i of P4(e))m$.call(e,i)&&O4(c,i,e[i]);return c},Zy=(c,e)=>h$(c,f$(e));class Pf{static next(){return P()}}function Gi(c){return!!c&&c.is("element")&&c.hasAttribute("listItemId")}function Xy(c,e={}){return[...Fu(c,Zy(Bm({},e),{direction:"backward"})),...Fu(c,Zy(Bm({},e),{direction:"forward"}))]}function Fu(c,e={}){const i=e.direction=="forward",s=Array.from(new Ta(c,Zy(Bm({},e),{includeSelf:i,sameIndent:!0,sameAttributes:"listItemId"})));return i?s:s.reverse()}function L4(c,e){const i=new Ta(c,Bm({sameIndent:!0,sameAttributes:"listType"},e)),s=new Ta(c,Bm({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},e));return[...Array.from(i).reverse(),...s]}function th(c){return!Ta.first(c,{sameIndent:!0,sameAttributes:"listItemId"})}function j4(c){return!Ta.first(c,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function Rm(c,e={}){c=rr(c);const i=e.withNested!==!1,s=new Set;for(const u of c)for(const f of Xy(u,{higherIndent:i}))s.add(f);return nh(s)}function g$(c){c=rr(c);const e=new Set;for(const i of c)for(const s of L4(i))e.add(s);return nh(e)}function ev(c,e){const i=Fu(c,{direction:"forward"}),s=Pf.next();for(const u of i)e.setAttribute("listItemId",s,u);return i}function tv(c,e,i){const s={};for(const[f,m]of e.getAttributes())f.startsWith("list")&&(s[f]=m);const u=Fu(c,{direction:"forward"});for(const f of u)i.setAttributes(s,f);return u}function nv(c,e,{expand:i,indentBy:s=1}={}){c=rr(c);const u=i?Rm(c):c;for(const f of u){const m=f.getAttribute("listIndent")+s;m<0?M0(f,e):e.setAttribute("listIndent",m,f)}return u}function M0(c,e){c=rr(c);for(const i of c)i.is("element","listItem")&&e.rename(i,"paragraph");for(const i of c)for(const s of i.getAttributeKeys())s.startsWith("list")&&e.removeAttribute(s,i);return c}function Fm(c){if(!c.length)return!1;const e=c[0].getAttribute("listItemId");return!!e&&!c.some(i=>i.getAttribute("listItemId")!=e)}function nh(c){return Array.from(c).filter(e=>e.root.rootName!=="$graveyard").sort((e,i)=>e.index-i.index)}function zm(c){const e=c.document.selection.getSelectedElement();return e&&c.schema.isObject(e)&&c.schema.isBlock(e)?e:null}function rv(c,e){return e.checkChild(c.parent,"listItem")&&e.checkChild(c,"$text")&&!e.isObject(c)}function b$(c){return c=="numbered"||c=="customNumbered"}function k$(c,e,i){return Fu(e,{direction:"forward"}).pop().index>c.index?tv(c,e,i):[]}class B4 extends Ht{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,i=R4(e.document.selection);e.change(s=>{const u=[];Fm(i)&&!th(i[0])?(this._direction=="forward"&&u.push(...nv(i,s)),u.push(...ev(i[0],s))):this._direction=="forward"?u.push(...nv(i,s,{expand:!0})):u.push(...function(f,m){const w=Rm(f=rr(f)),A=new Set,S=Math.min(...w.map(O=>O.getAttribute("listIndent"))),T=new Map;for(const O of w)T.set(O,Ta.first(O,{lowerIndent:!0}));for(const O of w){if(A.has(O))continue;A.add(O);const U=O.getAttribute("listIndent")-1;if(U<0)M0(O,m);else{if(O.getAttribute("listIndent")==S){const G=k$(O,T.get(O),m);for(const ee of G)A.add(ee);if(G.length)continue}m.setAttribute("listIndent",U,O)}}return nh(A)}(i,s));for(const f of u){if(!f.hasAttribute("listType"))continue;const m=Ta.first(f,{sameIndent:!0});m&&s.setAttribute("listType",m.getAttribute("listType"),f)}this._fireAfterExecute(u)})}_fireAfterExecute(e){this.fire("afterExecute",nh(new Set(e)))}_checkEnabled(){let e=R4(this.editor.model.document.selection),i=e[0];if(!i)return!1;if(this._direction=="backward"||Fm(e)&&!th(e[0]))return!0;e=Rm(e),i=e[0];const s=Ta.first(i,{sameIndent:!0});return!!s&&s.getAttribute("listType")==i.getAttribute("listType")}}function R4(c){const e=Array.from(c.getSelectedBlocks()),i=e.findIndex(s=>!Gi(s));return i!=-1&&(e.length=i),e}var w$=Object.defineProperty,y$=Object.defineProperties,v$=Object.getOwnPropertyDescriptors,F4=Object.getOwnPropertySymbols,A$=Object.prototype.hasOwnProperty,_$=Object.prototype.propertyIsEnumerable,z4=(c,e,i)=>e in c?w$(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,iv=(c,e)=>{for(var i in e||(e={}))A$.call(e,i)&&z4(c,i,e[i]);if(F4)for(var i of F4(e))_$.call(e,i)&&z4(c,i,e[i]);return c},ov=(c,e)=>y$(c,v$(e));class P0 extends Ht{constructor(e,i,s={}){super(e),this.type=i,this._listWalkerOptions=s.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,s=i.document,u=zm(i),f=Array.from(s.selection.getSelectedBlocks()).filter(w=>i.schema.checkAttribute(w,"listType")||rv(w,i.schema)),m=e.forceValue!==void 0?!e.forceValue:this.value;i.change(w=>{if(m){const A=f[f.length-1],S=Fu(A,{direction:"forward"}),T=[];S.length>1&&T.push(...ev(S[1],w)),T.push(...M0(f,w)),T.push(...function(O,U){const G=[];let ee=Number.POSITIVE_INFINITY;for(const{node:ie}of jm(O.nextSibling,"forward")){const be=ie.getAttribute("listIndent");if(be==0)break;be<ee&&(ee=be);const xe=be-ee;U.setAttribute("listIndent",xe,ie),G.push(ie)}return G}(A,w)),this._fireAfterExecute(T)}else if((u||s.selection.isCollapsed)&&Gi(f[0])){const A=L4(u||f[0],this._listWalkerOptions);for(const S of A)w.setAttributes(ov(iv({},e.additionalAttributes),{listType:this.type}),S);this._fireAfterExecute(A)}else{const A=[];for(const S of f)if(S.hasAttribute("listType"))for(const T of Rm(S,{withNested:!1}))T.getAttribute("listType")!=this.type&&(w.setAttributes(ov(iv({},e.additionalAttributes),{listType:this.type}),T),A.push(T));else!S.is("element","listItem")&&rv(S,i.schema)&&w.rename(S,"listItem"),w.setAttributes(ov(iv({},e.additionalAttributes),{listIndent:0,listItemId:Pf.next(),listType:this.type}),S),A.push(S);this._fireAfterExecute(A)}})}_fireAfterExecute(e){this.fire("afterExecute",nh(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,i=Array.from(e.getSelectedBlocks());if(!i.length)return!1;for(const s of i)if(s.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,i=e.schema,s=e.document.selection,u=Array.from(s.getSelectedBlocks());if(!u.length)return!1;if(this.value)return!0;for(const f of u)if(i.checkAttribute(f,"listType")||rv(f,i))return!0;return!1}}class U4 extends Ht{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const i=this.editor.model,s=i.document.selection,u=[];i.change(f=>{const{firstElement:m,lastElement:w}=this._getMergeSubjectElements(s,e),A=m.getAttribute("listIndent")||0,S=w.getAttribute("listIndent"),T=w.getAttribute("listItemId");if(A!=S){const U=(O=w,Array.from(new Ta(O,{direction:"forward",higherIndent:!0})));u.push(...nv([w,...U],f,{indentBy:A-S,expand:A<S}))}var O;if(e){let U=s;s.isCollapsed&&(U=f.createSelection(f.createRange(f.createPositionAt(m,"end"),f.createPositionAt(w,0)))),i.deleteContent(U,{doNotResetEntireContent:s.isCollapsed});const G=U.getLastPosition().parent,ee=G.nextSibling;u.push(G),ee&&ee!==w&&ee.getAttribute("listItemId")==T&&u.push(...tv(ee,G,f))}else u.push(...tv(w,m,f));this._fireAfterExecute(u)})}_fireAfterExecute(e){this.fire("afterExecute",nh(new Set(e)))}_checkEnabled(){const e=this.editor.model,i=e.document.selection,s=zm(e);if(i.isCollapsed||s){const u=s||i.getFirstPosition().parent;if(!Gi(u))return!1;const f=this._direction=="backward"?u.previousSibling:u.nextSibling;if(!f||Fm([u,f]))return!1}else{const u=i.getLastPosition(),f=i.getFirstPosition();if(u.parent===f.parent||!Gi(u.parent))return!1}return!0}_getMergeSubjectElements(e,i){const s=zm(this.editor.model);let u,f;if(e.isCollapsed||s){const m=s||e.getFirstPosition().parent,w=th(m);this._direction=="backward"?(f=m,u=w&&!i?Ta.first(m,{sameIndent:!0,lowerIndent:!0}):m.previousSibling):(u=m,f=m.nextSibling)}else u=e.getFirstPosition().parent,f=e.getLastPosition().parent;return{firstElement:u,lastElement:f}}}class q4 extends Ht{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(e=>{const i=ev(this._getStartBlock(),e);this._fireAfterExecute(i)})}_fireAfterExecute(e){this.fire("afterExecute",nh(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,i=this._getStartBlock();return e.isCollapsed&&Gi(i)&&!th(i)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?e:e.nextSibling}}class C$ extends ct{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(e){return g$(e)}isFirstBlockOfListItem(e){return th(e)}isListItemBlock(e){return Gi(e)}expandListBlocksToCompleteItems(e,i={}){return Rm(e,i)}isNumberedListType(e){return b$(e)}}function V4(c){return c.is("element","ol")||c.is("element","ul")}function O0(c){return c.is("element","li")}function x$(c,e,i,s=H4(i,e)){return c.createAttributeElement($4(i),null,{priority:2*e/100-100,id:s})}function S$(c,e,i){return c.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:i})}function $4(c){return c=="numbered"||c=="customNumbered"?"ol":"ul"}function H4(c,e){return`list-${c}-${e}`}function ol(c,e){const i=c.nodeBefore;if(Gi(i)){let s=i;for(const{node:u}of jm(s,"backward"))if(s=u,e.has(s))return;e.set(i,s)}else{const s=c.nodeAfter;Gi(s)&&e.set(s,s)}}function E$(){return(c,e,i)=>{const{writer:s,schema:u}=i;if(!e.modelRange)return;const f=Array.from(e.modelRange.getItems({shallow:!0})).filter(O=>u.checkAttribute(O,"listItemId"));if(!f.length)return;const m=Pf.next(),w=function(O){let U=0,G=O.parent;for(;G;){if(O0(G))U++;else{const ee=G.previousSibling;ee&&O0(ee)&&U++}G=G.parent}return U}(e.viewItem);let A=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const S=f[0].getAttribute("listType");S&&(A=S);const T={listItemId:m,listIndent:w,listType:A};for(const O of f)O.hasAttribute("listItemId")||s.setAttributes(T,O);f.length>1&&f[1].getAttribute("listItemId")!=T.listItemId&&i.keepEmptyElement(f[0])}}function W4(){return(c,e,i)=>{if(!i.consumable.test(e.viewItem,{name:!0}))return;const s=new Fc(e.viewItem.document);for(const u of Array.from(e.viewItem.getChildren()))O0(u)||V4(u)||s.remove(u)}}function G4(c,e,i,{dataPipeline:s}={}){const u=function(f){return(m,w)=>{const A=[];for(const S of f)m.hasAttribute(S)&&A.push(`attribute:${S}`);return!!A.every(S=>w.test(m,S)!==!1)&&(A.forEach(S=>w.consume(m,S)),!0)}}(c);return(f,m,w)=>{const{writer:A,mapper:S,consumable:T}=w,O=m.item;if(!c.includes(m.attributeKey)||!u(O,T))return;const U=function(ee,ie,be){const xe=be.createRangeOn(ee);return ie.toViewRange(xe).getTrimmed().end.nodeBefore}(O,S,i);K4(U,A,S),function(ee,ie){let be=ee.parent;for(;be.is("attributeElement")&&["ul","ol","li"].includes(be.name);){const xe=be.parent;ie.unwrap(ie.createRangeOn(ee),be),be=xe}}(U,A);const G=function(ee,ie,be,xe,{dataPipeline:Oe}){let et=xe.createRangeOn(ie);if(!th(ee))return et;for(const ft of be){if(ft.scope!="itemMarker")continue;const Mt=ft.createElement(xe,ee,{dataPipeline:Oe});if(!Mt||(xe.setCustomProperty("listItemMarker",!0,Mt),ft.canInjectMarkerIntoElement&&ft.canInjectMarkerIntoElement(ee)?xe.insert(xe.createPositionAt(ie,0),Mt):(xe.insert(et.start,Mt),et=xe.createRange(xe.createPositionBefore(Mt),xe.createPositionAfter(ie))),!ft.createWrapperElement||!ft.canWrapElement))continue;const tn=ft.createWrapperElement(xe,ee,{dataPipeline:Oe});xe.setCustomProperty("listItemWrapper",!0,tn),ft.canWrapElement(ee)?et=xe.wrap(et,tn):(et=xe.wrap(xe.createRangeOn(Mt),tn),et=xe.createRange(et.start,xe.createPositionAfter(ie)))}return et}(O,U,e,A,{dataPipeline:s});(function(ee,ie,be,xe){if(!ee.hasAttribute("listIndent"))return;const Oe=ee.getAttribute("listIndent");let et=ee;for(let ft=Oe;ft>=0;ft--){const Mt=S$(xe,ft,et.getAttribute("listItemId")),tn=x$(xe,ft,et.getAttribute("listType"));for(const gn of be)gn.scope!="list"&&gn.scope!="item"||!et.hasAttribute(gn.attributeName)||gn.setAttributeOnDowncast(xe,et.getAttribute(gn.attributeName),gn.scope=="list"?tn:Mt);if(ie=xe.wrap(ie,Mt),ie=xe.wrap(ie,tn),ft==0||(et=Ta.first(et,{lowerIndent:!0}),!et))break}})(O,G,e,A)}}function Y4(c,{dataPipeline:e}={}){return(i,{writer:s})=>{if(!Q4(i,c))return null;if(!e)return s.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const u=s.createContainerElement("p");return s.setCustomProperty("dataPipeline:transparentRendering",!0,u),u}}function K4(c,e,i){for(;c.parent.is("attributeElement")&&c.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(c),c.parent);const s=[];u(e.createPositionBefore(c).getWalker({direction:"backward"})),u(e.createRangeIn(c).getWalker());for(const f of s)e.remove(f);function u(f){for(const{item:m}of f){if(m.is("element")&&i.toModelElement(m))break;m.is("element")&&m.getCustomProperty("listItemMarker")&&s.push(m)}}}function Q4(c,e,i=Xy(c)){if(!Gi(c))return!1;for(const s of c.getAttributeKeys())if(!s.startsWith("selection:")&&!e.includes(s))return!1;return i.length<2}var J4=a(1232),D$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(J4.A,D$),J4.A.locals;var Z4=a(6903),I$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(Z4.A,I$),Z4.A.locals;const L0=["listType","listIndent","listItemId"];class T$ extends ct{constructor(e){super(e),this._downcastStrategies=[],e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[k0,Vc,C$,Da]}init(){const e=this.editor,i=e.model,s=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new M("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});i.schema.register("$listItem",{allowAttributes:L0}),s?(i.schema.extend("$container",{allowAttributesOf:"$listItem"}),i.schema.extend("$block",{allowAttributesOf:"$listItem"}),i.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):i.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const u of L0)i.schema.setAttributeProperties(u,{copyOnReplace:!0});e.commands.add("numberedList",new P0(e,"numbered")),e.commands.add("bulletedList",new P0(e,"bulleted")),e.commands.add("customNumberedList",new P0(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new P0(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new B4(e,"forward")),e.commands.add("outdentList",new B4(e,"backward")),e.commands.add("splitListItemBefore",new q4(e,"before")),e.commands.add("splitListItemAfter",new q4(e,"after")),s&&(e.commands.add("mergeListItemBackward",new U4(e,"backward")),e.commands.add("mergeListItemForward",new U4(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,i=e.get("indent"),s=e.get("outdent");i&&i.registerChildCommand(e.get("indentList"),{priority:"high"}),s&&s.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...L0,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,i=e.commands.get("mergeListItemBackward"),s=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(u,f)=>{const m=e.model.document.selection;zm(e.model)||e.model.change(()=>{const w=m.getFirstPosition();if(m.isCollapsed&&f.direction=="backward"){if(!w.isAtStart)return;const A=w.parent;if(!Gi(A))return;if(Ta.first(A,{sameAttributes:"listType",sameIndent:!0})||A.getAttribute("listIndent")!==0){if(!i||!i.isEnabled)return;i.execute({shouldMergeOnBlocksContentLevel:X4(e.model,"backward")})}else j4(A)||e.execute("splitListItemAfter"),e.execute("outdentList");f.preventDefault(),u.stop()}else{if(m.isCollapsed&&!m.getLastPosition().isAtEnd||!s||!s.isEnabled)return;s.execute({shouldMergeOnBlocksContentLevel:X4(e.model,"forward")}),f.preventDefault(),u.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,i=e.model,s=e.commands,u=s.get("enter");this.listenTo(e.editing.view.document,"enter",(f,m)=>{const w=i.document,A=w.selection.getFirstPosition().parent;if(w.selection.isCollapsed&&Gi(A)&&A.isEmpty&&!m.isSoft){const S=th(A),T=j4(A);S&&T?(e.execute("outdentList"),m.preventDefault(),f.stop()):S&&!T?(e.execute("splitListItemAfter"),m.preventDefault(),f.stop()):T&&(e.execute("splitListItemBefore"),m.preventDefault(),f.stop())}},{context:"li"}),this.listenTo(u,"afterExecute",()=>{const f=s.get("splitListItemBefore");f.refresh(),f.isEnabled&&Xy(e.model.document.selection.getLastPosition().parent).length===2&&f.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(i,s)=>{const u=s.shiftKey?"outdentList":"indentList";this.editor.commands.get(u).isEnabled&&(e.execute(u),s.stopPropagation(),s.preventDefault(),i.stop())},{context:"li"})}_setupConversion(){const e=this.editor,i=e.model,s=this.getListAttributeNames(),u=e.config.get("list.multiBlock"),f=u?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(S,{writer:T})=>T.createElement(f,{listType:""})}).elementToElement({view:"p",model:(S,{writer:T})=>S.parent&&S.parent.is("element","li")?T.createElement(f,{listType:""}):null,converterPriority:"high"}).add(S=>{S.on("element:li",E$()),S.on("element:ul",W4(),{priority:"high"}),S.on("element:ol",W4(),{priority:"high"})}),u||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:f,view:Y4(s),converterPriority:"high"}).add(S=>{var T;S.on("attribute",G4(s,this._downcastStrategies,i)),S.on("remove",(T=i.schema,(O,U,G)=>{const{writer:ee,mapper:ie}=G,be=O.name.split(":")[1];if(!T.checkAttribute(be,"listItemId"))return;const xe=ie.toViewPosition(U.position),Oe=U.position.getShiftedBy(U.length),et=ie.toViewPosition(Oe,{isPhantom:!0}),ft=ee.createRange(xe,et).getTrimmed().end.nodeBefore;ft&&K4(ft,ee,ie)}))}),e.conversion.for("dataDowncast").elementToElement({model:f,view:Y4(s,{dataPipeline:!0}),converterPriority:"high"}).add(S=>{S.on("attribute",G4(s,this._downcastStrategies,i,{dataPipeline:!0}))});const m=(w=this._downcastStrategies,A=e.editing.view,(S,T)=>{if(T.modelPosition.offset>0)return;const O=T.modelPosition.parent;if(!Gi(O)||!w.some(be=>be.scope=="itemMarker"&&be.canInjectMarkerIntoElement&&be.canInjectMarkerIntoElement(O)))return;const U=T.mapper.toViewElement(O),G=A.createRangeIn(U),ee=G.getWalker();let ie=G.start;for(const{item:be}of ee){if(be.is("element")&&T.mapper.toModelElement(be)||be.is("$textProxy"))break;be.is("element")&&be.getCustomProperty("listItemMarker")&&(ie=A.createPositionAfter(be),ee.skip(({previousPosition:xe})=>!xe.isEqual(ie)))}T.viewPosition=ie});var w,A;e.editing.mapper.on("modelToViewPosition",m),e.data.mapper.on("modelToViewPosition",m),this.listenTo(i.document,"change:data",function(S,T,O,U){return()=>{const be=S.document.differ.getChanges(),xe=[],Oe=new Map,et=new Set;for(const ft of be)if(ft.type=="insert"&&ft.name!="$text")ol(ft.position,Oe),ft.attributes.has("listItemId")?et.add(ft.position.nodeAfter):ol(ft.position.getShiftedBy(ft.length),Oe);else if(ft.type=="remove"&&ft.attributes.has("listItemId"))ol(ft.position,Oe);else if(ft.type=="attribute"){const Mt=ft.range.start.nodeAfter;O.includes(ft.attributeKey)?(ol(ft.range.start,Oe),ft.attributeNewValue===null?(ol(ft.range.start.getShiftedBy(1),Oe),ee(Mt)&&xe.push(Mt)):et.add(Mt)):Gi(Mt)&&ee(Mt)&&xe.push(Mt)}for(const ft of Oe.values())xe.push(...G(ft,et));for(const ft of new Set(xe))T.reconvertItem(ft)};function G(be,xe){const Oe=[],et=new Set,ft=[];for(const{node:Mt,previous:tn}of jm(be,"forward")){if(et.has(Mt))continue;const gn=Mt.getAttribute("listIndent");tn&&gn<tn.getAttribute("listIndent")&&(ft.length=gn+1),ft[gn]=Object.fromEntries(Array.from(Mt.getAttributes()).filter(([Yi])=>O.includes(Yi)));const _r=Fu(Mt,{direction:"forward"});for(const Yi of _r)et.add(Yi),(ee(Yi,_r)||ie(Yi,ft,xe))&&Oe.push(Yi)}return Oe}function ee(be,xe){const Oe=T.mapper.toViewElement(be);if(!Oe)return!1;if(U.fire("checkElement",{modelElement:be,viewElement:Oe}))return!0;if(!be.is("element","paragraph")&&!be.is("element","listItem"))return!1;const et=Q4(be,O,xe);return!(!et||!Oe.is("element","p"))||!(et||!Oe.is("element","span"))}function ie(be,xe,Oe){if(Oe.has(be))return!1;const et=T.mapper.toViewElement(be);let ft=xe.length-1;for(let Mt=et.parent;!Mt.is("editableElement");Mt=Mt.parent){const tn=O0(Mt),gn=V4(Mt);if(!gn&&!tn)continue;const _r="checkAttributes:"+(tn?"item":"list");if(U.fire(_r,{viewElement:Mt,modelAttributes:xe[ft]}))break;if(gn&&(ft--,ft<0))return!1}return!0}}(i,e.editing,s,this),{priority:"high"}),this.on("checkAttributes:item",(S,{viewElement:T,modelAttributes:O})=>{T.id!=O.listItemId&&(S.return=!0,S.stop())}),this.on("checkAttributes:list",(S,{viewElement:T,modelAttributes:O})=>{T.name==$4(O.listType)&&T.id==H4(O.listType,O.listIndent)||(S.return=!0,S.stop())})}_setupModelPostFixing(){const e=this.editor.model,i=this.getListAttributeNames();e.document.registerPostFixer(s=>function(u,f,m,w){const A=u.document.differ.getChanges(),S=new Map,T=w.editor.config.get("list.multiBlock");let O=!1;for(const G of A){if(G.type=="insert"&&G.name!="$text"){const ee=G.position.nodeAfter;if(!u.schema.checkAttribute(ee,"listItemId"))for(const ie of Array.from(ee.getAttributeKeys()))m.includes(ie)&&(f.removeAttribute(ie,ee),O=!0);ol(G.position,S),G.attributes.has("listItemId")||ol(G.position.getShiftedBy(G.length),S);for(const{item:ie,previousPosition:be}of u.createRangeIn(ee))Gi(ie)&&ol(be,S)}else G.type=="remove"?ol(G.position,S):G.type=="attribute"&&m.includes(G.attributeKey)&&(ol(G.range.start,S),G.attributeNewValue===null&&ol(G.range.start.getShiftedBy(1),S));if(!T&&G.type=="attribute"&&L0.includes(G.attributeKey)){const ee=G.range.start.nodeAfter;G.attributeNewValue===null&&ee&&ee.is("element","listItem")?(f.rename(ee,"paragraph"),O=!0):G.attributeOldValue===null&&ee&&ee.is("element")&&ee.name!="listItem"&&(f.rename(ee,"listItem"),O=!0)}}const U=new Set;for(const G of S.values())O=w.fire("postFixer",{listNodes:new u$(G),listHead:G,writer:f,seenIds:U})||O;return O}(e,s,i,this)),this.on("postFixer",(s,{listNodes:u,writer:f})=>{s.return=function(m,w){let A=0,S=-1,T=null,O=!1;for(const{node:U}of m){const G=U.getAttribute("listIndent");if(G>A){let ee;T===null?(T=G-A,ee=A):(T>G&&(T=G),ee=G-T),ee>S+1&&(ee=S+1),w.setAttribute("listIndent",ee,U),O=!0,S=ee}else T=null,A=G+1,S=G}return O}(u,f)||s.return},{priority:"high"}),this.on("postFixer",(s,{listNodes:u,writer:f,seenIds:m})=>{s.return=function(w,A,S){const T=new Set;let O=!1;for(const{node:U}of w){if(T.has(U))continue;let G=U.getAttribute("listType"),ee=U.getAttribute("listItemId");if(A.has(ee)&&(ee=Pf.next()),A.add(ee),U.is("element","listItem"))U.getAttribute("listItemId")!=ee&&(S.setAttribute("listItemId",ee,U),O=!0);else for(const ie of Fu(U,{direction:"forward"}))T.add(ie),ie.getAttribute("listType")!=G&&(ee=Pf.next(),G=ie.getAttribute("listType")),ie.getAttribute("listItemId")!=ee&&(S.setAttribute("listItemId",ee,ie),O=!0)}return O}(u,m,f)||s.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,i=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(s){return(u,[f,m])=>{const w=f.is("documentFragment")?Array.from(f.getChildren()):[f];if(!w.length)return;const A=(m?s.createSelection(m):s.document.selection).getFirstPosition();let S;if(Gi(A.parent))S=A.parent;else{if(!Gi(A.nodeBefore))return;S=A.nodeBefore}s.change(T=>{const O=S.getAttribute("listType"),U=S.getAttribute("listIndent"),G=w[0].getAttribute("listIndent")||0,ee=Math.max(U-G,0);for(const ie of w){const be=Gi(ie);S.is("element","listItem")&&ie.is("element","paragraph")&&T.rename(ie,"listItem"),T.setAttributes({listIndent:(be?ie.getAttribute("listIndent"):0)+ee,listItemId:be?ie.getAttribute("listItemId"):Pf.next(),listType:O},ie)}})}}(e),{priority:"high"}),this.listenTo(i,"outputTransformation",(s,u)=>{e.change(f=>{const m=Array.from(u.content.getChildren()),w=m[m.length-1];if(m.length>1&&w.is("element")&&w.isEmpty&&m.slice(0,-1).every(Gi)&&f.remove(w),u.method=="copy"||u.method=="cut"){const A=Array.from(u.content.getChildren());Fm(A)&&M0(A,f)}})})}_setupAccessibilityIntegration(){const e=this.editor,i=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:i("Keystrokes that can be used in a list"),keystrokes:[{label:i("Increase list item indent"),keystroke:"Tab"},{label:i("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function X4(c,e){const i=c.document.selection;if(!i.isCollapsed)return!zm(c);if(e==="forward")return!0;const s=i.getFirstPosition().parent,u=s.previousSibling;return!c.schema.isObject(u)&&(!!u.isEmpty||Fm([s,u]))}function eD(c,e,i,s){c.ui.componentFactory.add(e,()=>{const u=tD($n,c,e,i,s);return u.set({tooltip:!0,isToggleable:!0}),u}),c.ui.componentFactory.add(`menuBar:${e}`,()=>tD(qs,c,e,i,s))}function tD(c,e,i,s,u){const f=e.commands.get(i),m=new c(e.locale);return m.set({label:s,icon:u}),m.bind("isOn","isEnabled").to(f,"value","isEnabled"),m.on("execute",()=>{e.execute(i),e.editing.view.focus()}),m}class N$ extends ct{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||eD(this.editor,"numberedList",e("Numbered List"),dn.numberedList),this.editor.ui.componentFactory.has("bulletedList")||eD(this.editor,"bulletedList",e("Bulleted List"),dn.bulletedList)}}class M$ extends ct{static get requires(){return[T$,N$]}static get pluginName(){return"List"}}const P$=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:c,typeAttribute:e,listType:i}of P$);var nD=a(9968),O$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(nD.A,O$),nD.A.locals;var rD=a(7141),L$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(rD.A,L$),rD.A.locals,Ja("Ctrl+Enter");var iD=a(8991),j$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(iD.A,j$),iD.A.locals,Ja("Ctrl+Enter");function oD(c,e){const i=(s,u,f)=>{if(!f.consumable.consume(u.item,s.name))return;const m=u.attributeNewValue,w=f.writer,A=f.mapper.toViewElement(u.item),S=[...A.getChildren()].find(O=>O.getCustomProperty("media-content"));w.remove(S);const T=c.getMediaViewElement(w,m,e);w.insert(w.createPositionAt(A,0),T)};return s=>{s.on("attribute:url:media",i)}}function sD(c,e,i,s){return c.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(c,i,s),c.createSlot()])}function aD(c){const e=c.getSelectedElement();return e&&e.is("element","media")?e:null}function lD(c,e,i,s){c.change(u=>{const f=u.createElement("media",{url:e});c.insertObject(f,i,null,{setSelection:"on",findOptimalPosition:s?"auto":void 0})})}class B$ extends Ht{refresh(){const e=this.editor.model,i=e.document.selection,s=aD(i);this.value=s?s.getAttribute("url"):void 0,this.isEnabled=function(u){const f=u.getSelectedElement();return!!f&&f.name==="media"}(i)||function(u,f){let w=uE(u,f).start.parent;return w.isEmpty&&!f.schema.isLimit(w)&&(w=w.parent),f.schema.checkChild(w,"media")}(i,e)}execute(e){const i=this.editor.model,s=i.document.selection,u=aD(s);u?i.change(f=>{f.setAttribute("url",e,u)}):lD(i,e,s,!0)}}class R${constructor(e,i){const s=i.providers,u=i.extraProviders||[],f=new Set(i.removeProviders),m=s.concat(u).filter(w=>{const A=w.name;return A?!f.has(A):(B("media-embed-no-provider-name",{provider:w}),!1)});this.locale=e,this.providerDefinitions=m}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,i,s){return this._getMedia(i).getViewElement(e,s)}_getMedia(e){if(!e)return new cD(this.locale);e=e.trim();for(const i of this.providerDefinitions){const s=i.html,u=rr(i.url);for(const f of u){const m=this._getUrlMatches(e,f);if(m)return new cD(this.locale,e,m,s)}}return null}_getUrlMatches(e,i){let s=e.match(i);if(s)return s;let u=e.replace(/^https?:\/\//,"");return s=u.match(i),s||(u=u.replace(/^www\./,""),s=u.match(i),s||null)}}class cD{constructor(e,i,s,u){this.url=this._getValidUrl(i),this._locale=e,this._match=s,this._previewRenderer=u}getViewElement(e,i){const s={};let u;if(i.renderForEditingView||i.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(s["data-oembed-url"]=this.url),i.renderForEditingView&&(s.class="ck-media__wrapper");const f=this._getPreviewHtml(i);u=e.createRawElement("div",s,(m,w)=>{w.setContentOf(m,f)})}else this.url&&(s.url=this.url),u=e.createEmptyElement(i.elementName,s);return e.setCustomProperty("media-content",!0,u),u}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new zc,i=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new I({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":i("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var uD=a(7048),F$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(uD.A,F$),uD.A.locals;class j0 extends ct{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:i=>{const s=i[1],u=i[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${s}${u?`?start=${u}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new R$(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,i=e.model.schema,s=e.t,u=e.conversion,f=e.config.get("mediaEmbed.previewsInData"),m=e.config.get("mediaEmbed.elementName"),w=this.registry;e.commands.add("mediaEmbed",new B$(e)),i.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),u.for("dataDowncast").elementToStructure({model:"media",view:(A,{writer:S})=>{const T=A.getAttribute("url");return sD(S,w,T,{elementName:m,renderMediaPreview:!!T&&f})}}),u.for("dataDowncast").add(oD(w,{elementName:m,renderMediaPreview:f})),u.for("editingDowncast").elementToStructure({model:"media",view:(A,{writer:S})=>{const T=A.getAttribute("url");return function(O,U,G){return U.setCustomProperty("media",!0,O),Oy(O,U,{label:G})}(sD(S,w,T,{elementName:m,renderForEditingView:!0}),S,s("media widget"))}}),u.for("editingDowncast").add(oD(w,{elementName:m,renderForEditingView:!0})),u.for("upcast").elementToElement({view:A=>["oembed",m].includes(A.name)&&A.getAttribute("url")?{name:!0}:null,model:(A,{writer:S})=>{const T=A.getAttribute("url");return w.hasMedia(T)?S.createElement("media",{url:T}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(A,{writer:S})=>{const T=A.getAttribute("data-oembed-url");return w.hasMedia(T)?S.createElement("media",{url:T}):null}}).add(A=>{A.on("element:figure",(S,T,O)=>{if(!O.consumable.consume(T.viewItem,{name:!0,classes:"media"}))return;const{modelRange:U,modelCursor:G}=O.convertChildren(T.viewItem,T.modelCursor);T.modelRange=U,T.modelCursor=G,Li(U.getItems())||O.consumable.revert(T.viewItem,{name:!0,classes:"media"})})})}}const z$=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class U$ extends ct{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[IE,Vc,OE]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,i=e.model.document,s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",()=>{const u=i.selection.getFirstRange(),f=go.fromPosition(u.start);f.stickiness="toPrevious";const m=go.fromPosition(u.end);m.stickiness="toNext",i.once("change:data",()=>{this._embedMediaBetweenPositions(f,m),f.detach(),m.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(h.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,i){const s=this.editor,u=s.plugins.get(j0).registry,f=new zs(e,i),m=f.getWalker({ignoreElementEnd:!0});let w="";for(const A of m)A.item.is("$textProxy")&&(w+=A.item.data);if(w=w.trim(),!w.match(z$)||!u.hasMedia(w))return void f.detach();s.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=go.fromPosition(e),this._timeoutId=h.window.setTimeout(()=>{s.model.change(A=>{this._timeoutId=null,A.remove(f),f.detach();let S=null;this._positionToInsert.root.rootName!=="$graveyard"&&(S=this._positionToInsert),lD(s.model,w,S,!1),this._positionToInsert.detach(),this._positionToInsert=null}),s.plugins.get(Vc).requestUndoOnBackspace()},100)):f.detach()}}var dD=a(5651),q$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(dD.A,q$),dD.A.locals;class V$ extends Nt{constructor(e,i){super(i);const s=i.t;this.focusTracker=new ji,this.keystrokes=new lo,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(s("Save"),dn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),dn.cancel,"ck-button-cancel","cancel"),this._focusables=new Qo,this._focusCycler=new Ea({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Cn({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,i=new r0(this.locale,s0),s=i.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),i.label=e("Media URL"),i.infoText=this._urlInputViewInfoDefault,s.on("input",()=>{i.infoText=s.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=s.element.value.trim()}),i}_createButton(e,i,s,u){const f=new $n(this.locale);return f.set({label:e,icon:i,tooltip:!0}),f.extendTemplate({attributes:{class:s}}),u&&f.delegate("execute").to(this,u),f}}class $$ extends ct{static get requires(){return[j0]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,i=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",s=>{const u=Uc(s);return this._setUpDropdown(u,i),u})}_setUpDropdown(e,i){const s=this.editor,u=s.t,f=e.buttonView,m=s.plugins.get(j0).registry;e.once("change:isOpen",()=>{const w=new(On(V$))(function(A,S){return[T=>{if(!T.url.length)return A("The URL must not be empty.")},T=>{if(!S.hasMedia(T.url))return A("This media URL is not supported.")}]}(s.t,m),s.locale);e.panelView.children.add(w),f.on("open",()=>{w.disableCssTransitions(),w.url=i.value||"",w.urlInputView.fieldView.select(),w.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{w.isValid()&&(s.execute("mediaEmbed",w.url),s.editing.view.focus())}),e.on("change:isOpen",()=>w.resetFormStatus()),e.on("cancel",()=>{s.editing.view.focus()}),w.delegate("submit","cancel").to(e),w.urlInputView.fieldView.bind("value").to(i,"value"),w.urlInputView.on("change:errorText",()=>{s.ui.update()}),w.urlInputView.bind("isEnabled").to(i,"isEnabled")}),e.bind("isEnabled").to(i),f.set({label:u("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var hD=a(70),H$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(hD.A,H$),hD.A.locals;function fD(c){return c!==void 0&&c.endsWith("px")}function Of(c){return c.toFixed(2).replace(/\.?0+$/,"")+"px"}var W$=Object.defineProperty,G$=Object.defineProperties,Y$=Object.getOwnPropertyDescriptors,pD=Object.getOwnPropertySymbols,K$=Object.prototype.hasOwnProperty,Q$=Object.prototype.propertyIsEnumerable,mD=(c,e,i)=>e in c?W$(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,J$=(c,e)=>{for(var i in e||(e={}))K$.call(e,i)&&mD(c,i,e[i]);if(pD)for(var i of pD(e))Q$.call(e,i)&&mD(c,i,e[i]);return c};function Z$(c,e,i){if(!c.childCount)return;const s=new Fc(c.document),u=function(A,S){const T=S.createRangeIn(A),O=[],U=new Set;for(const G of T.getItems()){if(!G.is("element")||!G.name.match(/^(p|h\d+|li|div)$/))continue;let ee=sH(G);if(ee===void 0||parseFloat(ee)!=0||Array.from(G.getClassNames()).find(ie=>ie.startsWith("MsoList"))||(ee=void 0),G.hasStyle("mso-list")||ee!==void 0&&U.has(ee)){const ie=iH(G);O.push({element:G,id:ie.id,order:ie.order,indent:ie.indent,marginLeft:ee}),ee!==void 0&&U.add(ee)}else U.clear()}return O}(c,s);if(!u.length)return;const f={},m=[];for(const A of u)if(A.indent!==void 0){X$(A)||(m.length=0);const S=`${A.id}:${A.indent}`,T=Math.min(A.indent-1,m.length);if(T<m.length&&m[T].id!==A.id&&(m.length=T),T<m.length-1)m.length=T+1;else{const U=tH(A,e);if(T>m.length-1||m[T].listElement.name!=U.type){T==0&&U.type=="ol"&&A.id!==void 0&&f[S]&&(U.startIndex=f[S]);const G=rH(U,s,i);if(fD(A.marginLeft)&&(T==0||fD(m[T-1].marginLeft))){let ee=A.marginLeft;T>0&&(ee=Of(parseFloat(ee)-parseFloat(m[T-1].marginLeft))),s.setStyle("padding-left",ee,G)}if(m.length==0){const ee=A.element.parent,ie=ee.getChildIndex(A.element)+1;s.insertChild(ie,G,ee)}else{const ee=m[T-1].listItemElements;s.appendChild(G,ee[ee.length-1])}m[T]=(w=J$({},A),G$(w,Y$({listElement:G,listItemElements:[]}))),T==0&&A.id!==void 0&&(f[S]=U.startIndex||1)}}const O=A.element.name=="li"?A.element:s.createElement("li");s.appendChild(O,m[T].listElement),m[T].listItemElements.push(O),T==0&&A.id!==void 0&&f[S]++,A.element!=O&&s.appendChild(A.element,O),oH(A.element,s),s.removeStyle("text-indent",A.element),s.removeStyle("margin-left",A.element)}else{const S=m.find(T=>T.marginLeft==A.marginLeft);if(S){const T=S.listItemElements;s.appendChild(A.element,T[T.length-1]),s.removeStyle("margin-left",A.element)}else m.length=0}var w}function X$(c){const e=c.element.previousSibling;return eH(e||c.element.parent)}function eH(c){return c.is("element","ol")||c.is("element","ul")}function tH(c,e){const i=new RegExp(`@list l${c.id}:level${c.indent}\\s*({[^}]*)`,"gi"),s=/mso-level-number-format:([^;]{0,100});/gi,u=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,f=new RegExp(`@list\\s+l${c.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),m=new RegExp(`@list l${c.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),w=f.exec(e),A=m.exec(e),S=w&&!A,T=i.exec(e);let O="decimal",U="ol",G=null;if(T&&T[1]){const ee=s.exec(T[1]);if(ee&&ee[1]&&(O=ee[1].trim(),U=O!=="bullet"&&O!=="image"?"ol":"ul"),O==="bullet"){const ie=function(be){if(be.name=="li"&&be.parent.name=="ul"&&be.parent.hasAttribute("type"))return be.parent.getAttribute("type");const xe=function(et){if(et.getChild(0).is("$text"))return null;for(const ft of et.getChildren()){if(!ft.is("element","span"))continue;const Mt=ft.getChild(0);if(Mt)return Mt.is("$text")?Mt:Mt.getChild(0)}return null}(be);if(!xe)return null;const Oe=xe._data;return Oe==="o"?"circle":Oe==="·"?"disc":Oe==="§"?"square":null}(c.element);ie&&(O=ie)}else{const ie=u.exec(T[1]);ie&&ie[1]&&(G=parseInt(ie[1]))}S&&(U="ol")}return{type:U,startIndex:G,style:nH(O),isLegalStyleList:S}}function nH(c){if(c.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(c){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return c;default:return null}}function rH(c,e,i){const s=e.createElement(c.type);return c.style&&e.setStyle("list-style-type",c.style,s),c.startIndex&&c.startIndex>1&&e.setAttribute("start",c.startIndex,s),c.isLegalStyleList&&i&&e.addClass("legal-list",s),s}function iH(c){const e=c.getStyle("mso-list");if(e===void 0)return{};const i=e.match(/(^|\s{1,100})l(\d+)/i),s=e.match(/\s{0,100}lfo(\d+)/i),u=e.match(/\s{0,100}level(\d+)/i);return i&&s&&u?{id:i[2],order:s[1],indent:parseInt(u[1])}:{indent:1}}function oH(c,e){const i=new po({name:"span",styles:{"mso-list":"Ignore"}}),s=e.createRangeIn(c);for(const u of s)u.type==="elementStart"&&i.match(u.item)&&e.remove(u.item)}function sH(c){const e=c.getStyle("margin-left");return e===void 0||e.endsWith("px")?e:function(i){const s=parseFloat(i);return i.endsWith("pt")?Of(96*s/72):i.endsWith("pc")?Of(12*s*96/72):i.endsWith("in")?Of(96*s):i.endsWith("cm")?Of(96*s/2.54):i.endsWith("mm")?Of(s/10*96/2.54):i}(e)}function aH(c,e){if(!c.childCount)return;const i=new Fc(c.document),s=function(f,m){const w=m.createRangeIn(f),A=new po({name:/v:(.+)/}),S=[];for(const T of w){if(T.type!="elementStart")continue;const O=T.item,U=O.previousSibling,G=U&&U.is("element")?U.name:null,ee=["Chart"],ie=A.match(O),be=O.getAttribute("o:gfxdata"),xe=G==="v:shapetype",Oe=be&&ee.some(et=>O.getAttribute("id").includes(et));ie&&be&&!xe&&!Oe&&S.push(T.item.getAttribute("id"))}return S}(c,i);(function(f,m,w){const A=w.createRangeIn(m),S=new po({name:"img"}),T=[];for(const O of A)if(O.item.is("element")&&S.match(O.item)){const U=O.item,G=U.getAttribute("v:shapes")?U.getAttribute("v:shapes").split(" "):[];G.length&&G.every(ee=>f.indexOf(ee)>-1)?T.push(U):U.getAttribute("src")||T.push(U)}for(const O of T)w.remove(O)})(s,c,i),function(f,m,w){const A=w.createRangeIn(m),S=[];for(const U of A)if(U.type=="elementStart"&&U.item.is("element","v:shape")){const G=U.item.getAttribute("id");if(f.includes(G))continue;T(U.item.parent.getChildren(),G)||S.push(U.item)}for(const U of S){const G={src:O(U)};U.hasAttribute("alt")&&(G.alt=U.getAttribute("alt"));const ee=w.createElement("img",G);w.insertChild(U.index+1,ee,U.parent)}function T(U,G){for(const ee of U)if(ee.is("element")&&(ee.name=="img"&&ee.getAttribute("v:shapes")==G||T(ee.getChildren(),G)))return!0;return!1}function O(U){for(const G of U.getChildren())if(G.is("element")&&G.getAttribute("src"))return G.getAttribute("src")}}(s,c,i),function(f,m){const w=m.createRangeIn(f),A=new po({name:/v:(.+)/}),S=[];for(const T of w)T.type=="elementStart"&&A.match(T.item)&&S.push(T.item);for(const T of S)m.remove(T)}(c,i);const u=function(f,m){const w=m.createRangeIn(f),A=new po({name:"img"}),S=[];for(const T of w)T.item.is("element")&&A.match(T.item)&&T.item.getAttribute("src").startsWith("file://")&&S.push(T.item);return S}(c,i);u.length&&function(f,m,w){if(f.length===m.length)for(let A=0;A<f.length;A++){const S=`data:${m[A].type};base64,${lH(m[A].hex)}`;w.setAttribute("src",S,f[A])}}(u,function(f){if(!f)return[];const m=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,w=new RegExp("(?:("+m.source+"))([\\da-fA-F\\s]+)\\}","g"),A=f.match(w),S=[];if(A)for(const T of A){let O=!1;T.includes("\\pngblip")?O="image/png":T.includes("\\jpegblip")&&(O="image/jpeg"),O&&S.push({hex:T.replace(m,"").replace(/[^\da-fA-F]/g,""),type:O})}return S}(e),i)}function lH(c){return btoa(c.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const cH=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,uH=/xmlns:o="urn:schemas-microsoft-com/i;class dH{constructor(e,i=!1){this.document=e,this.hasMultiLevelListPlugin=i}isActive(e){return cH.test(e)||uH.test(e)}execute(e){const{body:i,stylesString:s}=e._parsedData;Z$(i,s,this.hasMultiLevelListPlugin),aH(i,e.dataTransfer.getData("text/rtf")),function(u){const f=[],m=new Fc(u.document);for(const{item:w}of m.createRangeIn(u))if(w.is("element")){for(const A of w.getClassNames())/\bmso/gi.exec(A)&&m.removeClass(A,w);for(const A of w.getStyleNames())/\bmso/gi.exec(A)&&m.removeStyle(A,w);(w.is("element","w:sdt")||w.is("element","w:sdtpr")&&w.isEmpty||w.is("element","o:p")&&w.isEmpty)&&f.push(w)}for(const w of f){const A=w.parent,S=A.getChildIndex(w);m.insertChild(S,w.getChildren(),A),m.remove(w)}}(i),e.content=i}}function gD(c,e,i,{blockElements:s,inlineObjectElements:u}){let f=i.createPositionAt(c,e=="forward"?"after":"before");return f=f.getLastMatchingPosition(({item:m})=>m.is("element")&&!s.includes(m.name)&&!u.includes(m.name),{direction:e}),e=="forward"?f.nodeAfter:f.nodeBefore}function bD(c,e){return!!c&&c.is("element")&&e.includes(c.name)}const hH=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class fH{constructor(e){this.document=e}isActive(e){return hH.test(e)}execute(e){const i=new Fc(this.document),{body:s}=e._parsedData;(function(u,f){for(const m of u.getChildren())if(m.is("element","b")&&m.getStyle("font-weight")==="normal"){const w=u.getChildIndex(m);f.remove(m),f.insertChild(w,m.getChildren(),u)}})(s,i),function(u,f){for(const m of f.createRangeIn(u)){const w=m.item;if(w.is("element","li")){const A=w.getChild(0);A&&A.is("element","p")&&f.unwrapElement(A)}}}(s,i),function(u,f){const m=new qb(f.document.stylesProcessor),w=new Hb(m,{renderingMode:"data"}),A=w.blockElements,S=w.inlineObjectElements,T=[];for(const O of f.createRangeIn(u)){const U=O.item;if(U.is("element","br")){const G=gD(U,"forward",f,{blockElements:A,inlineObjectElements:S}),ee=gD(U,"backward",f,{blockElements:A,inlineObjectElements:S}),ie=bD(G,A);(bD(ee,A)||ie)&&T.push(U)}}for(const O of T)O.hasClass("Apple-interchange-newline")?f.remove(O):f.replace(O,f.createElement("p"))}(s,i),e.content=s}}const pH=/<google-sheets-html-origin/i;class mH{constructor(e){this.document=e}isActive(e){return pH.test(e)}execute(e){const i=new Fc(this.document),{body:s}=e._parsedData;(function(u,f){for(const m of u.getChildren())if(m.is("element","google-sheets-html-origin")){const w=u.getChildIndex(m);f.remove(m),f.insertChild(w,m.getChildren(),u)}})(s,i),function(u,f){for(const m of u.getChildren())m.is("element","table")&&m.hasAttribute("xmlns")&&f.removeAttribute("xmlns",m)}(s,i),function(u,f){for(const m of u.getChildren())m.is("element","table")&&m.getStyle("width")==="0px"&&f.removeStyle("width",m)}(s,i),function(u,f){for(const m of Array.from(u.getChildren()))m.is("element","style")&&f.remove(m)}(s,i),e.content=s}}function kD(c){return c.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,i)=>i.length===1?" ":Array(i.length+1).join("  ").substr(0,i.length))}function gH(c,e){const i=new DOMParser,s=function(A){return kD(kD(A)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(A){const S="</body>",T="</html>",O=A.indexOf(S);if(O<0)return A;const U=A.indexOf(T,O+S.length);return A.substring(0,O+S.length)+(U>=0?A.substring(U):"")}(c=(c=c.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),u=i.parseFromString(s,"text/html");(function(A){A.querySelectorAll("span[style*=spacerun]").forEach(S=>{const T=S,O=T.innerText.length||0;T.innerText=Array(O+1).join("  ").substr(0,O)})})(u);const f=u.body.innerHTML,m=function(A,S){const T=new qb(S),O=new Hb(T,{renderingMode:"data"}),U=A.createDocumentFragment(),G=A.body.childNodes;for(;G.length>0;)U.appendChild(G[0]);return O.domToView(U,{skipComments:!0})}(u,e),w=function(A){const S=[],T=[],O=Array.from(A.getElementsByTagName("style"));for(const U of O)U.sheet&&U.sheet.cssRules&&U.sheet.cssRules.length&&(S.push(U.sheet),T.push(U.innerHTML));return{styles:S,stylesString:T.join(" ")}}(u);return{body:m,bodyString:f,styles:w.styles,stylesString:w.stylesString}}function li(c,e,i,s,u=1){e!=null&&u!=null&&e>u?s.setAttribute(c,e,i):s.removeAttribute(c,i)}function rh(c,e,i={}){const s=c.createElement("tableCell",i);return c.insertElement("paragraph",s),c.insert(s,e),s}function sv(c,e){const i=e.parent.parent,s=parseInt(i.getAttribute("headingColumns")||"0"),{column:u}=c.getCellLocation(e);return!!s&&u<s}function bH(){return c=>{c.on("element:table",(e,i,s)=>{const u=i.viewItem;if(!s.consumable.test(u,{name:!0}))return;const{rows:f,headingRows:m,headingColumns:w}=function(T){let O,U=0;const G=[],ee=[];let ie;for(const be of Array.from(T.getChildren())){if(be.name!=="tbody"&&be.name!=="thead"&&be.name!=="tfoot")continue;be.name!=="thead"||ie||(ie=be);const xe=Array.from(be.getChildren()).filter(Oe=>Oe.is("element","tr"));for(const Oe of xe)if(ie&&be===ie||be.name==="tbody"&&Array.from(Oe.getChildren()).length&&Array.from(Oe.getChildren()).every(et=>et.is("element","th")))U++,G.push(Oe);else{ee.push(Oe);const et=kH(Oe);(!O||et<O)&&(O=et)}}return{headingRows:U,headingColumns:O||0,rows:[...G,...ee]}}(u),A={};w&&(A.headingColumns=w),m&&(A.headingRows=m);const S=s.writer.createElement("table",A);if(s.safeInsert(S,i.modelCursor)){if(s.consumable.consume(u,{name:!0}),f.forEach(T=>s.convertItem(T,s.writer.createPositionAt(S,"end"))),s.convertChildren(u,s.writer.createPositionAt(S,"end")),S.isEmpty){const T=s.writer.createElement("tableRow");s.writer.insert(T,s.writer.createPositionAt(S,"end")),rh(s.writer,s.writer.createPositionAt(T,"end"))}s.updateConversionResult(S,i)}})}}function wD(c){return e=>{e.on(`element:${c}`,(i,s,{writer:u})=>{if(!s.modelRange)return;const f=s.modelRange.start.nodeAfter,m=u.createPositionAt(f,0);if(s.viewItem.isEmpty)return void u.insertElement("paragraph",m);const w=Array.from(f.getChildren());if(w.every(A=>A.is("element","$marker"))){const A=u.createElement("paragraph");u.insert(A,u.createPositionAt(f,0));for(const S of w)u.move(u.createRangeOn(S),u.createPositionAt(A,"end"))}},{priority:"low"})}}function kH(c){let e=0,i=0;const s=Array.from(c.getChildren()).filter(u=>u.name==="th"||u.name==="td");for(;i<s.length&&s[i].name==="th";){const u=s[i];e+=parseInt(u.getAttribute("colspan")||"1"),i++}return e}class cr{constructor(e,i={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=i.row!==void 0?i.row:i.startRow||0,this._endRow=i.row!==void 0?i.row:i.endRow,this._startColumn=i.column!==void 0?i.column:i.startColumn||0,this._endColumn=i.column!==void 0?i.column:i.endColumn,this._includeAllSlots=!!i.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let i=null;const s=this._getSpanned();if(s)this._includeAllSlots&&!this._shouldSkipSlot()&&(i=this._formatOutValue(s.cell,s.row,s.column));else{const u=e.getChild(this._cellIndex);if(!u)return this._advanceToNextRow();const f=parseInt(u.getAttribute("colspan")||"1"),m=parseInt(u.getAttribute("rowspan")||"1");(f>1||m>1)&&this._recordSpans(u,m,f),this._shouldSkipSlot()||(i=this._formatOutValue(u)),this._nextCellAtColumn=this._column+f}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,i||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,i=this._row,s=this._column){return{done:!1,value:new wH(this,e,i,s)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),i=this._row<this._startRow,s=this._column<this._startColumn,u=this._endColumn!==void 0&&this._column>this._endColumn;return e||i||s||u}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,i,s){const u={cell:e,row:this._row,column:this._column};for(let f=this._row;f<this._row+i;f++)for(let m=this._column;m<this._column+s;m++)f==this._row&&m==this._column||this._markSpannedCell(f,m,u)}_markSpannedCell(e,i,s){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(i,s)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let i=this._startRow;!this._jumpedToStartRow;i--)e===this._getRowLength(i)&&(this._row=i,this._rowIndex=i,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((i,s)=>i+parseInt(s.getAttribute("colspan")||"1"),0)}}class wH{constructor(e,i,s,u){this.cell=i,this.row=e._row,this.column=e._column,this.cellAnchorRow=s,this.cellAnchorColumn=u,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function yD(c,e){return(i,{writer:s})=>{const u=i.getAttribute("headingRows")||0,f=s.createContainerElement("table",null,[]),m=s.createContainerElement("figure",{class:"table"},f);u>0&&s.insert(s.createPositionAt(f,"end"),s.createContainerElement("thead",null,s.createSlot(w=>w.is("element","tableRow")&&w.index<u))),u<c.getRows(i)&&s.insert(s.createPositionAt(f,"end"),s.createContainerElement("tbody",null,s.createSlot(w=>w.is("element","tableRow")&&w.index>=u)));for(const{positionOffset:w,filter:A}of e.additionalSlots)s.insert(s.createPositionAt(f,w),s.createSlot(A));return s.insert(s.createPositionAt(f,"after"),s.createSlot(w=>!w.is("element","tableRow")&&!e.additionalSlots.some(({filter:A})=>A(w)))),e.asWidget?function(w,A){return A.setCustomProperty("table",!0,w),Oy(w,A,{hasSelectionHandle:!0})}(m,s):m}}function vD(c={}){return(e,{writer:i})=>{const s=e.parent,u=s.parent,f=u.getChildIndex(s),m=new cr(u,{row:f}),w=u.getAttribute("headingRows")||0,A=u.getAttribute("headingColumns")||0;let S=null;for(const T of m)if(T.cell==e){const O=T.row<w||T.column<A?"th":"td";S=c.asWidget?cE(i.createEditableElement(O),i):i.createContainerElement(O);break}return S}}function AD(c={}){return(e,{writer:i})=>{if(!e.parent.is("element","tableCell")||!_D(e))return null;if(c.asWidget)return i.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const s=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,s),s}}}function _D(c){return c.parent.childCount==1&&!!c.getAttributeKeys().next().done}class yH extends Ht{refresh(){const e=this.editor.model,i=e.document.selection,s=e.schema;this.isEnabled=function(u,f){const m=u.getFirstPosition().parent,w=m===m.root?m:m.parent;return f.checkChild(w,"table")}(i,s)}execute(e={}){const i=this.editor,s=i.model,u=i.plugins.get("TableUtils"),f=i.config.get("table.defaultHeadings.rows"),m=i.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&f&&(e.headingRows=f),e.headingColumns===void 0&&m&&(e.headingColumns=m),s.change(w=>{const A=u.createTable(w,e);s.insertObject(A,null,null,{findOptimalPosition:"auto"}),w.setSelection(w.createPositionAt(A.getNodeByPath([0,0,0]),0))})}}class CD extends Ht{constructor(e,i={}){super(e),this.order=i.order||"below"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,s=e.plugins.get("TableUtils"),u=this.order==="above",f=s.getSelectionAffectedTableCells(i),m=s.getRowIndexes(f),w=u?m.first:m.last,A=f[0].findAncestor("table");s.insertRows(A,{at:u?w:w+1,copyStructureFromAbove:!u})}}class xD extends Ht{constructor(e,i={}){super(e),this.order=i.order||"right"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,s=e.plugins.get("TableUtils"),u=this.order==="left",f=s.getSelectionAffectedTableCells(i),m=s.getColumnIndexes(f),w=u?m.first:m.last,A=f[0].findAncestor("table");s.insertColumns(A,{columns:1,at:u?w:w+1})}}class SD extends Ht{constructor(e,i={}){super(e),this.direction=i.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(i,2):e.splitCellVertically(i,2)}}function ED(c,e,i){const{startRow:s,startColumn:u,endRow:f,endColumn:m}=e,w=i.createElement("table"),A=f-s+1;for(let T=0;T<A;T++)i.insertElement("tableRow",w,"end");const S=[...new cr(c,{startRow:s,endRow:f,startColumn:u,endColumn:m,includeAllSlots:!0})];for(const{row:T,column:O,cell:U,isAnchor:G,cellAnchorRow:ee,cellAnchorColumn:ie}of S){const be=T-s,xe=w.getChild(be);if(G){const Oe=i.cloneElement(U);i.append(Oe,xe),MD(Oe,T,O,f,m,i)}else(ee<s||ie<u)&&rh(i,i.createPositionAt(xe,"end"))}return function(T,O,U,G,ee){const ie=parseInt(O.getAttribute("headingRows")||"0");ie>0&&li("headingRows",ie-U,T,ee,0);const be=parseInt(O.getAttribute("headingColumns")||"0");be>0&&li("headingColumns",be-G,T,ee,0)}(w,c,s,u,i),w}function DD(c,e,i=0){const s=[],u=new cr(c,{startRow:i,endRow:e-1});for(const f of u){const{row:m,cellHeight:w}=f;m<e&&e<=m+w-1&&s.push(f)}return s}function ID(c,e,i){const s=c.parent,u=s.parent,f=s.index,m=e-f,w={},A=parseInt(c.getAttribute("rowspan"))-m;A>1&&(w.rowspan=A);const S=parseInt(c.getAttribute("colspan")||"1");S>1&&(w.colspan=S);const T=f+m,O=[...new cr(u,{startRow:f,endRow:T,includeAllSlots:!0})];let U,G=null;for(const ee of O){const{row:ie,column:be,cell:xe}=ee;xe===c&&U===void 0&&(U=be),U!==void 0&&U===be&&ie===T&&(G=rh(i,ee.getPositionBefore(),w))}return li("rowspan",m,c,i),G}function TD(c,e){const i=[],s=new cr(c);for(const u of s){const{column:f,cellWidth:m}=u;f<e&&e<=f+m-1&&i.push(u)}return i}function ND(c,e,i,s){const u=i-e,f={},m=parseInt(c.getAttribute("colspan"))-u;m>1&&(f.colspan=m);const w=parseInt(c.getAttribute("rowspan")||"1");w>1&&(f.rowspan=w);const A=rh(s,s.createPositionAfter(c),f);return li("colspan",u,c,s),A}function MD(c,e,i,s,u,f){const m=parseInt(c.getAttribute("colspan")||"1"),w=parseInt(c.getAttribute("rowspan")||"1");i+m-1>u&&li("colspan",u-i+1,c,f,1),e+w-1>s&&li("rowspan",s-e+1,c,f,1)}function av(c,e){const i=e.getColumns(c),s=new Array(i).fill(0);for(const{column:f}of new cr(c))s[f]++;const u=s.reduce((f,m,w)=>m?f:[...f,w],[]);if(u.length>0){const f=u[u.length-1];return e.removeColumns(c,{at:f}),!0}return!1}function lv(c,e){const i=[],s=e.getRows(c);for(let u=0;u<s;u++)c.getChild(u).isEmpty&&i.push(u);if(i.length>0){const u=i[i.length-1];return e.removeRows(c,{at:u}),!0}return!1}function cv(c,e){av(c,e)||lv(c,e)}function PD(c,e){const i=Array.from(new cr(c,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(i.every(({cellHeight:u})=>u===1))return e.lastRow;const s=i[0].cellHeight-1;return e.lastRow+s}function OD(c,e){const i=Array.from(new cr(c,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(i.every(({cellWidth:u})=>u===1))return e.lastColumn;const s=i[0].cellWidth-1;return e.lastColumn+s}class B0 extends Ht{constructor(e,i){super(e),this.direction=i.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,i=e.document,s=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(i.selection)[0],u=this.value,f=this.direction;e.change(m=>{const w=f=="right"||f=="down",A=w?s:u,S=w?u:s,T=S.parent;(function(ie,be,xe){LD(ie)||(LD(be)&&xe.remove(xe.createRangeIn(be)),xe.move(xe.createRangeIn(ie),xe.createPositionAt(be,"end"))),xe.remove(ie)})(S,A,m);const O=this.isHorizontal?"colspan":"rowspan",U=parseInt(s.getAttribute(O)||"1"),G=parseInt(u.getAttribute(O)||"1");m.setAttribute(O,U+G,A),m.setSelection(m.createRangeIn(A));const ee=this.editor.plugins.get("TableUtils");cv(T.findAncestor("table"),ee)})}_getMergeableCell(){const e=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),s=i.getTableCellsContainingSelection(e.selection)[0];if(!s)return;const u=this.isHorizontal?function(w,A,S){const T=w.parent,O=T.parent,U=A=="right"?w.nextSibling:w.previousSibling,G=(O.getAttribute("headingColumns")||0)>0;if(!U)return;const ee=A=="right"?w:U,ie=A=="right"?U:w,{column:be}=S.getCellLocation(ee),{column:xe}=S.getCellLocation(ie),Oe=parseInt(ee.getAttribute("colspan")||"1"),et=sv(S,ee),ft=sv(S,ie);if(!(G&&et!=ft))return be+Oe===xe?U:void 0}(s,this.direction,i):function(w,A,S){const T=w.parent,O=T.parent,U=O.getChildIndex(T);if(A=="down"&&U===S.getRows(O)-1||A=="up"&&U===0)return null;const G=parseInt(w.getAttribute("rowspan")||"1"),ee=O.getAttribute("headingRows")||0,ie=A=="down"&&U+G===ee,be=A=="up"&&U===ee;if(ee&&(ie||be))return null;const xe=parseInt(w.getAttribute("rowspan")||"1"),Oe=A=="down"?U+xe:U,et=[...new cr(O,{endRow:Oe})],ft=et.find(gn=>gn.cell===w),Mt=ft.column,tn=et.find(({row:gn,cellHeight:_r,column:Yi})=>Yi===Mt&&(A=="down"?gn===Oe:Oe===gn+_r));return tn&&tn.cell?tn.cell:null}(s,this.direction,i);if(!u)return;const f=this.isHorizontal?"rowspan":"colspan",m=parseInt(s.getAttribute(f)||"1");return parseInt(u.getAttribute(f)||"1")===m?u:void 0}}function LD(c){const e=c.getChild(0);return c.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class vH extends Ht{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),s=i[0];if(s){const u=s.findAncestor("table"),f=e.getRows(u)-1,m=e.getRowIndexes(i),w=m.first===0&&m.last===f;this.isEnabled=!w}else this.isEnabled=!1}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(e.document.selection),u=i.getRowIndexes(s),f=s[0],m=f.findAncestor("table"),w=i.getCellLocation(f).column;e.change(A=>{const S=u.last-u.first+1;i.removeRows(m,{at:u.first,rows:S});const T=function(O,U,G,ee){const ie=O.getChild(Math.min(U,ee-1));let be=ie.getChild(0),xe=0;for(const Oe of ie.getChildren()){if(xe>G)return be;be=Oe,xe+=parseInt(Oe.getAttribute("colspan")||"1")}return be}(m,u.first,w,i.getRows(m));A.setSelection(A.createPositionAt(T,0))})}}class AH extends Ht{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),s=i[0];if(s){const u=s.findAncestor("table"),f=e.getColumns(u),{first:m,last:w}=e.getColumnIndexes(i);this.isEnabled=w-m<f-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[i,s]=function(A,S){const T=S.getSelectionAffectedTableCells(A),O=T[0],U=T.pop(),G=[O,U];return O.isBefore(U)?G:G.reverse()}(this.editor.model.document.selection,e),u=i.parent.parent,f=[...new cr(u)],m={first:f.find(A=>A.cell===i).column,last:f.find(A=>A.cell===s).column},w=function(A,S,T,O){return parseInt(T.getAttribute("colspan")||"1")>1?T:S.previousSibling||T.nextSibling?T.nextSibling||S.previousSibling:O.first?A.reverse().find(({column:G})=>G<O.first).cell:A.reverse().find(({column:G})=>G>O.last).cell}(f,i,s,m);this.editor.model.change(A=>{const S=m.last-m.first+1;e.removeColumns(u,{at:m.first,columns:S}),A.setSelection(A.createPositionAt(w,0))})}}class _H extends Ht{refresh(){const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=e.getSelectionAffectedTableCells(i.document.selection),u=s.length>0;this.isEnabled=u,this.value=u&&s.every(f=>this._isInHeading(f,f.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),s=this.editor.model,u=i.getSelectionAffectedTableCells(s.document.selection),f=u[0].findAncestor("table"),{first:m,last:w}=i.getRowIndexes(u),A=this.value?m:w+1,S=f.getAttribute("headingRows")||0;s.change(T=>{if(A){const O=DD(f,A,A>S?S:0);for(const{cell:U}of O)ID(U,A,T)}li("headingRows",A,f,T,0)})}_isInHeading(e,i){const s=parseInt(i.getAttribute("headingRows")||"0");return!!s&&e.parent.index<s}}class CH extends Ht{refresh(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(e.document.selection),u=s.length>0;this.isEnabled=u,this.value=u&&s.every(f=>sv(i,f))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),s=this.editor.model,u=i.getSelectionAffectedTableCells(s.document.selection),f=u[0].findAncestor("table"),{first:m,last:w}=i.getColumnIndexes(u),A=this.value?m:w+1;s.change(S=>{if(A){const T=TD(f,A);for(const{cell:O,column:U}of T)ND(O,U,A,S)}li("headingColumns",A,f,S,0)})}}function xH(c){if(c.is("element","tableColumnGroup"))return c;const e=c.getChildren();return Array.from(e).find(i=>i.is("element","tableColumnGroup"))}function SH(c){const e=xH(c);return e?Array.from(e.getChildren()):[]}class bo extends ct{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const i=e.parent,s=i.parent,u=s.getChildIndex(i),f=new cr(s,{row:u});for(const{cell:m,row:w,column:A}of f)if(m===e)return{row:w,column:A}}createTable(e,i){const s=e.createElement("table"),u=i.rows||2,f=i.columns||2;return uv(e,s,0,u,f),i.headingRows&&li("headingRows",Math.min(i.headingRows,u),s,e,0),i.headingColumns&&li("headingColumns",Math.min(i.headingColumns,f),s,e,0),s}insertRows(e,i={}){const s=this.editor.model,u=i.at||0,f=i.rows||1,m=i.copyStructureFromAbove!==void 0,w=i.copyStructureFromAbove?u-1:u,A=this.getRows(e),S=this.getColumns(e);if(u>A)throw new M("tableutils-insertrows-insert-out-of-range",this,{options:i});s.change(T=>{const O=e.getAttribute("headingRows")||0;if(O>u&&li("headingRows",O+f,e,T,0),!m&&(u===0||u===A))return void uv(T,e,u,f,S);const U=m?Math.max(u,w):u,G=new cr(e,{endRow:U}),ee=new Array(S).fill(1);for(const{row:ie,column:be,cellHeight:xe,cellWidth:Oe,cell:et}of G){const ft=ie+xe-1,Mt=ie<=w&&w<=ft;ie<u&&u<=ft?(T.setAttribute("rowspan",xe+f,et),ee[be]=-Oe):m&&Mt&&(ee[be]=Oe)}for(let ie=0;ie<f;ie++){const be=T.createElement("tableRow");T.insert(be,e,u);for(let xe=0;xe<ee.length;xe++){const Oe=ee[xe],et=T.createPositionAt(be,"end");Oe>0&&rh(T,et,Oe>1?{colspan:Oe}:void 0),xe+=Math.abs(Oe)-1}}})}insertColumns(e,i={}){const s=this.editor.model,u=i.at||0,f=i.columns||1;s.change(m=>{const w=e.getAttribute("headingColumns");u<w&&m.setAttribute("headingColumns",w+f,e);const A=this.getColumns(e);if(u===0||A===u){for(const T of e.getChildren())T.is("element","tableRow")&&Lf(f,m,m.createPositionAt(T,u?"end":0));return}const S=new cr(e,{column:u,includeAllSlots:!0});for(const T of S){const{row:O,cell:U,cellAnchorColumn:G,cellAnchorRow:ee,cellWidth:ie,cellHeight:be}=T;if(G<u){m.setAttribute("colspan",ie+f,U);const xe=ee+be-1;for(let Oe=O;Oe<=xe;Oe++)S.skipRow(Oe)}else Lf(f,m,T.getPositionBefore())}})}removeRows(e,i){const s=this.editor.model,u=i.rows||1,f=this.getRows(e),m=i.at,w=m+u-1;if(w>f-1)throw new M("tableutils-removerows-row-index-out-of-range",this,{table:e,options:i});s.change(A=>{const S={first:m,last:w},{cellsToMove:T,cellsToTrim:O}=function(U,{first:G,last:ee}){const ie=new Map,be=[];for(const{row:xe,column:Oe,cellHeight:et,cell:ft}of new cr(U,{endRow:ee})){const Mt=xe+et-1;if(xe>=G&&xe<=ee&&Mt>ee){const tn=et-(ee-xe+1);ie.set(Oe,{cell:ft,rowspan:tn})}if(xe<G&&Mt>=G){let tn;tn=Mt>=ee?ee-G+1:Mt-G+1,be.push({cell:ft,rowspan:et-tn})}}return{cellsToMove:ie,cellsToTrim:be}}(e,S);T.size&&function(U,G,ee,ie){const be=new cr(U,{includeAllSlots:!0,row:G}),xe=[...be],Oe=U.getChild(G);let et;for(const{column:ft,cell:Mt,isAnchor:tn}of xe)if(ee.has(ft)){const{cell:gn,rowspan:_r}=ee.get(ft),Yi=et?ie.createPositionAfter(et):ie.createPositionAt(Oe,0);ie.move(ie.createRangeOn(gn),Yi),li("rowspan",_r,gn,ie),et=gn}else tn&&(et=Mt)}(e,w+1,T,A);for(let U=w;U>=m;U--)A.remove(e.getChild(U));for(const{rowspan:U,cell:G}of O)li("rowspan",U,G,A);(function(U,{first:G,last:ee},ie){const be=U.getAttribute("headingRows")||0;G<be&&li("headingRows",ee<be?be-(ee-G+1):G,U,ie,0)})(e,S,A),av(e,this)||lv(e,this)})}removeColumns(e,i){const s=this.editor.model,u=i.at,f=i.columns||1,m=i.at+f-1;s.change(w=>{(function(S,T,O){const U=S.getAttribute("headingColumns")||0;if(U&&T.first<U){const G=Math.min(U-1,T.last)-T.first+1;O.setAttribute("headingColumns",U-G,S)}})(e,{first:u,last:m},w);const A=SH(e);for(let S=m;S>=u;S--){for(const{cell:T,column:O,cellWidth:U}of[...new cr(e)])O<=S&&U>1&&O+U>S?li("colspan",U-1,T,w):O===S&&w.remove(T);if(A[S]){const T=S===0?A[1]:A[S-1],O=parseFloat(A[S].getAttribute("columnWidth")),U=parseFloat(T.getAttribute("columnWidth"));w.remove(A[S]),w.setAttribute("columnWidth",O+U+"%",T)}}lv(e,this)||av(e,this)})}splitCellVertically(e,i=2){const s=this.editor.model,u=e.parent.parent,f=parseInt(e.getAttribute("rowspan")||"1"),m=parseInt(e.getAttribute("colspan")||"1");s.change(w=>{if(m>1){const{newCellsSpan:A,updatedSpan:S}=jD(m,i);li("colspan",S,e,w);const T={};A>1&&(T.colspan=A),f>1&&(T.rowspan=f),Lf(m>i?i-1:m-1,w,w.createPositionAfter(e),T)}if(m<i){const A=i-m,S=[...new cr(u)],{column:T}=S.find(({cell:ee})=>ee===e),O=S.filter(({cell:ee,cellWidth:ie,column:be})=>ee!==e&&be===T||be<T&&be+ie>T);for(const{cell:ee,cellWidth:ie}of O)w.setAttribute("colspan",ie+A,ee);const U={};f>1&&(U.rowspan=f),Lf(A,w,w.createPositionAfter(e),U);const G=u.getAttribute("headingColumns")||0;G>T&&li("headingColumns",G+A,u,w)}})}splitCellHorizontally(e,i=2){const s=this.editor.model,u=e.parent,f=u.parent,m=f.getChildIndex(u),w=parseInt(e.getAttribute("rowspan")||"1"),A=parseInt(e.getAttribute("colspan")||"1");s.change(S=>{if(w>1){const T=[...new cr(f,{startRow:m,endRow:m+w-1,includeAllSlots:!0})],{newCellsSpan:O,updatedSpan:U}=jD(w,i);li("rowspan",U,e,S);const{column:G}=T.find(({cell:ie})=>ie===e),ee={};O>1&&(ee.rowspan=O),A>1&&(ee.colspan=A);for(const ie of T){const{column:be,row:xe}=ie;xe>=m+U&&be===G&&(xe+m+U)%O==0&&Lf(1,S,ie.getPositionBefore(),ee)}}if(w<i){const T=i-w,O=[...new cr(f,{startRow:0,endRow:m})];for(const{cell:ee,cellHeight:ie,row:be}of O)if(ee!==e&&be+ie>m){const xe=ie+T;S.setAttribute("rowspan",xe,ee)}const U={};A>1&&(U.colspan=A),uv(S,f,m+1,T,1,U);const G=f.getAttribute("headingRows")||0;G>m&&li("headingRows",G+T,f,S)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(i=>i.is("element","tableCell")).reduce((i,s)=>i+parseInt(s.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((i,s)=>s.is("element","tableRow")?i+1:i,0)}createTableWalker(e,i={}){return new cr(e,i)}getSelectedTableCells(e){const i=[];for(const s of this.sortRanges(e.getRanges())){const u=s.getContainedElement();u&&u.is("element","tableCell")&&i.push(u)}return i}getTableCellsContainingSelection(e){const i=[];for(const s of e.getRanges()){const u=s.start.findAncestor("tableCell");u&&i.push(u)}return i}getSelectionAffectedTableCells(e){const i=this.getSelectedTableCells(e);return i.length?i:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const i=e.map(s=>s.parent.index);return this._getFirstLastIndexesObject(i)}getColumnIndexes(e){const i=e[0].findAncestor("table"),s=[...new cr(i)].filter(u=>e.includes(u.cell)).map(u=>u.column);return this._getFirstLastIndexesObject(s)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const i=new Set,s=new Set;let u=0;for(const m of e){const{row:w,column:A}=this.getCellLocation(m),S=parseInt(m.getAttribute("rowspan"))||1,T=parseInt(m.getAttribute("colspan"))||1;i.add(w),s.add(A),S>1&&i.add(w+S-1),T>1&&s.add(A+T-1),u+=S*T}return function(m,w){const A=Array.from(m.values()),S=Array.from(w.values()),T=Math.max(...A),O=Math.min(...A),U=Math.max(...S),G=Math.min(...S);return(T-O+1)*(U-G+1)}(i,s)==u}sortRanges(e){return Array.from(e).sort(EH)}_getFirstLastIndexesObject(e){const i=e.sort((s,u)=>s-u);return{first:i[0],last:i[i.length-1]}}_areCellInTheSameTableSection(e){const i=e[0].findAncestor("table"),s=this.getRowIndexes(e),u=parseInt(i.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(s,u))return!1;const f=this.getColumnIndexes(e),m=parseInt(i.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(f,m)}_areIndexesInSameSection({first:e,last:i},s){return e<s==i<s}}function uv(c,e,i,s,u,f={}){for(let m=0;m<s;m++){const w=c.createElement("tableRow");c.insert(w,e,i),Lf(u,c,c.createPositionAt(w,"end"),f)}}function Lf(c,e,i,s={}){for(let u=0;u<c;u++)rh(e,i,s)}function jD(c,e){if(c<e)return{newCellsSpan:1,updatedSpan:1};const i=Math.floor(c/e);return{newCellsSpan:i,updatedSpan:c-i*e+i}}function EH(c,e){const i=c.start,s=e.start;return i.isBefore(s)?-1:1}class DH extends Ht{refresh(){const e=this.editor.plugins.get(bo),i=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(i)}execute(){const e=this.editor.model,i=this.editor.plugins.get(bo);e.change(s=>{const u=i.getSelectedTableCells(e.document.selection),f=u.shift(),{mergeWidth:m,mergeHeight:w}=function(A,S,T){let O=0,U=0;for(const xe of S){const{row:Oe,column:et}=T.getCellLocation(xe);O=RD(xe,et,O,"colspan"),U=RD(xe,Oe,U,"rowspan")}const{row:G,column:ee}=T.getCellLocation(A),ie=O-ee,be=U-G;return{mergeWidth:ie,mergeHeight:be}}(f,u,i);li("colspan",m,f,s),li("rowspan",w,f,s);for(const A of u)IH(A,f,s);cv(f.findAncestor("table"),i),s.setSelection(f,"in")})}}function IH(c,e,i){BD(c)||(BD(e)&&i.remove(i.createRangeIn(e)),i.move(i.createRangeIn(c),i.createPositionAt(e,"end"))),i.remove(c)}function BD(c){const e=c.getChild(0);return c.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function RD(c,e,i,s){const u=parseInt(c.getAttribute(s)||"1");return Math.max(i,e+u)}class TH extends Ht{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(e.document.selection),u=i.getRowIndexes(s),f=s[0].findAncestor("table"),m=[];for(let w=u.first;w<=u.last;w++)for(const A of f.getChild(w).getChildren())m.push(e.createRangeOn(A));e.change(w=>{w.setSelection(m)})}}class NH extends Ht{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=e.getSelectionAffectedTableCells(i.document.selection),u=s[0],f=s.pop(),m=u.findAncestor("table"),w=e.getCellLocation(u),A=e.getCellLocation(f),S=Math.min(w.column,A.column),T=Math.max(w.column,A.column),O=[];for(const U of new cr(m,{startColumn:S,endColumn:T}))O.push(i.createRangeOn(U.cell));i.change(U=>{U.setSelection(O)})}}function MH(c){c.document.registerPostFixer(e=>function(i,s){const u=s.document.differ.getChanges();let f=!1;const m=new Set;for(const w of u){let A=null;w.type=="insert"&&w.name=="table"&&(A=w.position.nodeAfter),w.type!="insert"&&w.type!="remove"||w.name!="tableRow"&&w.name!="tableCell"||(A=w.position.findAncestor("table")),LH(w)&&(A=w.range.start.findAncestor("table")),A&&!m.has(A)&&(f=PH(A,i)||f,f=OH(A,i)||f,m.add(A))}return f}(e,c))}function PH(c,e){let i=!1;const s=function(u){const f=parseInt(u.getAttribute("headingRows")||"0"),m=Array.from(u.getChildren()).reduce((A,S)=>S.is("element","tableRow")?A+1:A,0),w=[];for(const{row:A,cell:S,cellHeight:T}of new cr(u)){if(T<2)continue;const O=A<f?f:m;if(A+T>O){const U=O-A;w.push({cell:S,rowspan:U})}}return w}(c);if(s.length){i=!0;for(const u of s)li("rowspan",u.rowspan,u.cell,e,1)}return i}function OH(c,e){let i=!1;const s=function(w){const A=new Array(w.childCount).fill(0);for(const{rowIndex:S}of new cr(w,{includeAllSlots:!0}))A[S]++;return A}(c),u=[];for(const[w,A]of s.entries())!A&&c.getChild(w).is("element","tableRow")&&u.push(w);if(u.length){i=!0;for(const w of u.reverse())e.remove(c.getChild(w)),s.splice(w,1)}const f=s.filter((w,A)=>c.getChild(A).is("element","tableRow")),m=f[0];if(!f.every(w=>w===m)){const w=f.reduce((A,S)=>S>A?S:A,0);for(const[A,S]of f.entries()){const T=w-S;if(T){for(let O=0;O<T;O++)rh(e,e.createPositionAt(c.getChild(A),"end"));i=!0}}}return i}function LH(c){if(c.type!=="attribute")return!1;const e=c.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function jH(c){c.document.registerPostFixer(e=>function(i,s){const u=s.document.differ.getChanges();let f=!1;for(const m of u)m.type=="insert"&&m.name=="table"&&(f=BH(m.position.nodeAfter,i)||f),m.type=="insert"&&m.name=="tableRow"&&(f=FD(m.position.nodeAfter,i)||f),m.type=="insert"&&m.name=="tableCell"&&(f=dv(m.position.nodeAfter,i)||f),m.type!="remove"&&m.type!="insert"||!RH(m)||(f=dv(m.position.parent,i)||f);return f}(e,c))}function BH(c,e){let i=!1;for(const s of c.getChildren())s.is("element","tableRow")&&(i=FD(s,e)||i);return i}function FD(c,e){let i=!1;for(const s of c.getChildren())i=dv(s,e)||i;return i}function dv(c,e){if(c.childCount==0)return e.insertElement("paragraph",c),!0;const i=Array.from(c.getChildren()).filter(s=>s.is("$text"));for(const s of i)e.wrap(e.createRangeOn(s),"paragraph");return!!i.length}function RH(c){return!!c.position.parent.is("element","tableCell")&&(c.type=="insert"&&c.name=="$text"||c.type=="remove")}function FH(c,e){if(!c.is("element","paragraph"))return!1;const i=e.toViewElement(c);return!!i&&_D(c)!==i.is("element","span")}var zD=a(8137),zH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(zD.A,zH),zD.A.locals;class UH extends ct{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[bo]}init(){const e=this.editor,i=e.model,s=i.schema,u=e.conversion,f=e.plugins.get(bo);s.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),s.register("tableRow",{allowIn:"table",isLimit:!0}),s.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),u.for("upcast").add(m=>{m.on("element:figure",(w,A,S)=>{if(!S.consumable.test(A.viewItem,{name:!0,classes:"table"}))return;const T=function(U){for(const G of U.getChildren())if(G.is("element","table"))return G}(A.viewItem);if(!T||!S.consumable.test(T,{name:!0}))return;S.consumable.consume(A.viewItem,{name:!0,classes:"table"});const O=Li(S.convertItem(T,A.modelCursor).modelRange.getItems());O?(S.convertChildren(A.viewItem,S.writer.createPositionAt(O,"end")),S.updateConversionResult(O,A)):S.consumable.revert(A.viewItem,{name:!0,classes:"table"})})}),u.for("upcast").add(bH()),u.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:yD(f,{asWidget:!0,additionalSlots:this._additionalSlots})}),u.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:yD(f,{additionalSlots:this._additionalSlots})}),u.for("upcast").elementToElement({model:"tableRow",view:"tr"}),u.for("upcast").add(m=>{m.on("element:tr",(w,A)=>{A.viewItem.isEmpty&&A.modelCursor.index==0&&w.stop()},{priority:"high"})}),u.for("downcast").elementToElement({model:"tableRow",view:(m,{writer:w})=>m.isEmpty?w.createEmptyElement("tr"):w.createContainerElement("tr")}),u.for("upcast").elementToElement({model:"tableCell",view:"td"}),u.for("upcast").elementToElement({model:"tableCell",view:"th"}),u.for("upcast").add(wD("td")),u.for("upcast").add(wD("th")),u.for("editingDowncast").elementToElement({model:"tableCell",view:vD({asWidget:!0})}),u.for("dataDowncast").elementToElement({model:"tableCell",view:vD()}),u.for("editingDowncast").elementToElement({model:"paragraph",view:AD({asWidget:!0}),converterPriority:"high"}),u.for("dataDowncast").elementToElement({model:"paragraph",view:AD(),converterPriority:"high"}),u.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),u.for("upcast").attributeToAttribute({model:{key:"colspan",value:UD("colspan")},view:"colspan"}),u.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),u.for("upcast").attributeToAttribute({model:{key:"rowspan",value:UD("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new yH(e)),e.commands.add("insertTableRowAbove",new CD(e,{order:"above"})),e.commands.add("insertTableRowBelow",new CD(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new xD(e,{order:"left"})),e.commands.add("insertTableColumnRight",new xD(e,{order:"right"})),e.commands.add("removeTableRow",new vH(e)),e.commands.add("removeTableColumn",new AH(e)),e.commands.add("splitTableCellVertically",new SD(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new SD(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new DH(e)),e.commands.add("mergeTableCellRight",new B0(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new B0(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new B0(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new B0(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new CH(e)),e.commands.add("setTableRowHeader",new _H(e)),e.commands.add("selectTableRow",new TH(e)),e.commands.add("selectTableColumn",new NH(e)),MH(i),jH(i),this.listenTo(i.document,"change:data",()=>{(function(m,w){const A=m.document.differ;for(const S of A.getChanges()){let T,O=!1;if(S.type=="attribute"){const ie=S.range.start.nodeAfter;if(!ie||!ie.is("element","table")||S.attributeKey!="headingRows"&&S.attributeKey!="headingColumns")continue;T=ie,O=S.attributeKey=="headingRows"}else S.name!="tableRow"&&S.name!="tableCell"||(T=S.position.findAncestor("table"),O=S.name=="tableRow");if(!T)continue;const U=T.getAttribute("headingRows")||0,G=T.getAttribute("headingColumns")||0,ee=new cr(T);for(const ie of ee){const be=ie.row<U||ie.column<G?"th":"td",xe=w.mapper.toViewElement(ie.cell);xe&&xe.is("element")&&xe.name!=be&&w.reconvertItem(O?ie.cell.parent:ie.cell)}}})(i,e.editing),function(m,w){const A=m.document.differ,S=new Set;for(const T of A.getChanges()){const O=T.type=="attribute"?T.range.start.parent:T.position.parent;O.is("element","tableCell")&&S.add(O)}for(const T of S.values()){const O=Array.from(T.getChildren()).filter(U=>FH(U,w.mapper));for(const U of O)w.reconvertItem(U)}}(i,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function UD(c){return e=>{const i=parseInt(e.getAttribute(c));return Number.isNaN(i)||i<=0?null:i}}var qD=a(5032),qH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(qD.A,qH),qD.A.locals;class VD extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new lo,this.focusTracker=new ji,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(s,u)=>`${u} × ${s}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:i.to("label")}]}],on:{mousedown:i.to(s=>{s.preventDefault()}),click:i.to(()=>{this.fire("execute")})}}),this.on("boxover",(s,u)=>{const{row:f,column:m}=u.target.dataset;this.items.get(10*(parseInt(f,10)-1)+(parseInt(m,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(s,u,f)=>{if(!f)return;const{row:m,column:w}=f.dataset;this.set({rows:parseInt(m),columns:parseInt(w)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),ar({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,i=this.columns;this.items.map((s,u)=>{const f=Math.floor(u/10)<e&&u%10<i;s.set("isOn",f)})}_createGridButton(e,i,s,u){const f=new $n(e);return f.set({label:u,class:"ck-insert-table-dropdown-grid-box"}),f.extendTemplate({attributes:{"data-row":i,"data-column":s}}),f}_createGridCollection(){const e=[];for(let i=0;i<100;i++){const s=Math.floor(i/10),u=i%10,f=`${s+1} × ${u+1}`;e.push(this._createGridButton(this.locale,s+1,u+1,f))}return this.createCollection(e)}}class VH extends ct{static get pluginName(){return"TableUI"}init(){const e=this.editor,i=this.editor.t,s=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",u=>{const f=e.commands.get("insertTable"),m=Uc(u);let w;return m.bind("isEnabled").to(f),m.buttonView.set({icon:dn.table,label:i("Insert table"),tooltip:!0}),m.on("change:isOpen",()=>{w||(w=new VD(u),m.panelView.children.add(w),w.delegate("execute").to(m),m.on("execute",()=>{e.execute("insertTable",{rows:w.rows,columns:w.columns}),e.editing.view.focus()}))}),m}),e.ui.componentFactory.add("menuBar:insertTable",u=>{const f=e.commands.get("insertTable"),m=new Ef(u),w=new VD(u);return w.delegate("execute").to(m),m.on("change:isOpen",(A,S,T)=>{T||w.reset()}),w.on("execute",()=>{e.execute("insertTable",{rows:w.rows,columns:w.columns}),e.editing.view.focus()}),m.buttonView.set({label:i("Table"),icon:dn.table}),m.panelView.children.add(w),m.bind("isEnabled").to(f),m}),e.ui.componentFactory.add("tableColumn",u=>{const f=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:i("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:s?"insertTableColumnLeft":"insertTableColumnRight",label:i("Insert column left")}},{type:"button",model:{commandName:s?"insertTableColumnRight":"insertTableColumnLeft",label:i("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:i("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:i("Select column")}}];return this._prepareDropdown(i("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',f,u)}),e.ui.componentFactory.add("tableRow",u=>{const f=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:i("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:i("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:i("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:i("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:i("Select row")}}];return this._prepareDropdown(i("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',f,u)}),e.ui.componentFactory.add("mergeTableCells",u=>{const f=[{type:"button",model:{commandName:"mergeTableCellUp",label:i("Merge cell up")}},{type:"button",model:{commandName:s?"mergeTableCellRight":"mergeTableCellLeft",label:i("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:i("Merge cell down")}},{type:"button",model:{commandName:s?"mergeTableCellLeft":"mergeTableCellRight",label:i("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:i("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:i("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(i("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',f,u)})}_prepareDropdown(e,i,s,u){const f=this.editor,m=Uc(u),w=this._fillDropdownWithListOptions(m,s);return m.buttonView.set({label:e,icon:i,tooltip:!0}),m.bind("isEnabled").toMany(w,"isEnabled",(...A)=>A.some(S=>S)),this.listenTo(m,"execute",A=>{f.execute(A.source.commandName),A.source instanceof t0||f.editing.view.focus()}),m}_prepareMergeSplitButtonDropdown(e,i,s,u){const f=this.editor,m=Uc(u,o0),w="mergeTableCells",A=f.commands.get(w),S=this._fillDropdownWithListOptions(m,s);return m.buttonView.set({label:e,icon:i,tooltip:!0,isEnabled:!0}),m.bind("isEnabled").toMany([A,...S],"isEnabled",(...T)=>T.some(O=>O)),this.listenTo(m.buttonView,"execute",()=>{f.execute(w),f.editing.view.focus()}),this.listenTo(m,"execute",T=>{f.execute(T.source.commandName),f.editing.view.focus()}),m}_fillDropdownWithListOptions(e,i){const s=this.editor,u=[],f=new Bs;for(const m of i)$H(m,s,u,f);return v5(e,f),u}}function $H(c,e,i,s){if(c.type==="button"||c.type==="switchbutton"){const u=c.model=new Z5(c.model),{commandName:f,bindIsOn:m}=c.model,w=e.commands.get(f);i.push(w),u.set({commandName:f}),u.bind("isEnabled").to(w),m&&u.bind("isOn").to(w,"value"),u.set({withText:!0})}s.add(c)}var $D=a(8423),HH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()($D.A,HH),$D.A.locals;class ih extends ct{static get pluginName(){return"TableSelection"}static get requires(){return[bo,bo]}init(){const e=this.editor,i=e.model,s=e.editing.view;this.listenTo(i,"deleteContent",(u,f)=>this._handleDeleteContent(u,f),{priority:"high"}),this.listenTo(s.document,"insertText",(u,f)=>this._handleInsertTextEvent(u,f),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(bo),i=this.editor.model.document.selection,s=e.getSelectedTableCells(i);return s.length==0?null:s}getSelectionAsFragment(){const e=this.editor.plugins.get(bo),i=this.getSelectedTableCells();return i?this.editor.model.change(s=>{const u=s.createDocumentFragment(),{first:f,last:m}=e.getColumnIndexes(i),{first:w,last:A}=e.getRowIndexes(i),S=i[0].findAncestor("table");let T=A,O=m;if(e.isSelectionRectangular(i)){const G={firstColumn:f,lastColumn:m,firstRow:w,lastRow:A};T=PD(S,G),O=OD(S,G)}const U=ED(S,{startRow:w,startColumn:f,endRow:T,endColumn:O},s);return s.insert(U,u,0),u}):null}setCellSelection(e,i){const s=this._getCellsToSelect(e,i);this.editor.model.change(u=>{u.setSelection(s.cells.map(f=>u.createRangeOn(f)),{backward:s.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=Li(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,i=new Set;e.conversion.for("editingDowncast").add(s=>s.on("selection",(u,f,m)=>{const w=m.writer;(function(T){for(const O of i)T.removeClass("ck-editor__editable_selected",O);i.clear()})(w);const A=this.getSelectedTableCells();if(!A)return;for(const T of A){const O=m.mapper.toViewElement(T);w.addClass("ck-editor__editable_selected",O),i.add(O)}const S=m.mapper.toViewElement(A[A.length-1]);w.setSelection(S,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const i=this.getSelectedTableCells();if(!i)return;e.model.change(s=>{const u=s.createPositionAt(i[0],0),f=e.model.schema.getNearestSelectionRange(u);s.setSelection(f)})}})}_handleDeleteContent(e,i){const s=this.editor.plugins.get(bo),u=i[0],f=i[1],m=this.editor.model,w=!f||f.direction=="backward",A=s.getSelectedTableCells(u);A.length&&(e.stop(),m.change(S=>{const T=A[w?A.length-1:0];m.change(U=>{for(const G of A)m.deleteContent(U.createSelection(G,"in"))});const O=m.schema.getNearestSelectionRange(S.createPositionAt(T,0));u.is("documentSelection")?S.setSelection(O):u.setTo(O)}))}_handleInsertTextEvent(e,i){const s=this.editor,u=this.getSelectedTableCells();if(!u)return;const f=s.editing.view,m=s.editing.mapper,w=u.map(A=>f.createRangeOn(m.toViewElement(A)));i.selection=f.createSelection(w)}_getCellsToSelect(e,i){const s=this.editor.plugins.get("TableUtils"),u=s.getCellLocation(e),f=s.getCellLocation(i),m=Math.min(u.row,f.row),w=Math.max(u.row,f.row),A=Math.min(u.column,f.column),S=Math.max(u.column,f.column),T=new Array(w-m+1).fill(null).map(()=>[]),O={startRow:m,endRow:w,startColumn:A,endColumn:S};for(const{row:ee,cell:ie}of new cr(e.findAncestor("table"),O))T[ee-m].push(ie);const U=f.row<u.row,G=f.column<u.column;return U&&T.reverse(),G&&T.forEach(ee=>ee.reverse()),{cells:T.flat(),backward:U||G}}}class WH extends ct{static get pluginName(){return"TableClipboard"}static get requires(){return[Im,Da,ih,bo]}init(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"copy",(s,u)=>this._onCopyCut(s,u)),this.listenTo(i,"cut",(s,u)=>this._onCopyCut(s,u)),this.listenTo(e.model,"insertContent",(s,[u,f])=>this._onInsertContent(s,u,f),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,i){const s=this.editor.editing.view,u=this.editor.plugins.get(ih),f=this.editor.plugins.get(Im);u.getSelectedTableCells()&&(e.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(i.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:e.name==="cut"},()=>{const m=f._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>u.getSelectionAsFragment());s.document.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:this.editor.data.toView(m),method:e.name})}))}_onInsertContent(e,i,s){if(s&&!s.is("documentSelection"))return;const u=this.editor.model,f=this.editor.plugins.get(bo),m=this.editor.plugins.get(Im),w=this.getTableIfOnlyTableInContent(i,u);if(!w)return;const A=f.getSelectionAffectedTableCells(u.document.selection);A.length?(e.stop(),i.is("documentFragment")?m._pasteMarkersIntoTransformedElement(i.markers,S=>this._replaceSelectedCells(w,A,S)):this.editor.model.change(S=>{this._replaceSelectedCells(w,A,S)})):cv(w,f)}_replaceSelectedCells(e,i,s){const u=this.editor.plugins.get(bo),f={width:u.getColumns(e),height:u.getRows(e)},m=function(O,U,G,ee){const ie=O[0].findAncestor("table"),be=ee.getColumnIndexes(O),xe=ee.getRowIndexes(O),Oe={firstColumn:be.first,lastColumn:be.last,firstRow:xe.first,lastRow:xe.last},et=O.length===1;return et&&(Oe.lastRow+=U.height-1,Oe.lastColumn+=U.width-1,function(ft,Mt,tn,gn){const _r=gn.getColumns(ft),Yi=gn.getRows(ft);tn>_r&&gn.insertColumns(ft,{at:_r,columns:tn-_r}),Mt>Yi&&gn.insertRows(ft,{at:Yi,rows:Mt-Yi})}(ie,Oe.lastRow+1,Oe.lastColumn+1,ee)),et||!ee.isSelectionRectangular(O)?function(ft,Mt,tn){const{firstRow:gn,lastRow:_r,firstColumn:Yi,lastColumn:lI}=Mt,cI={first:gn,last:_r},uI={first:Yi,last:lI};fv(ft,Yi,cI,tn),fv(ft,lI+1,cI,tn),hv(ft,gn,uI,tn),hv(ft,_r+1,uI,tn,gn)}(ie,Oe,G):(Oe.lastRow=PD(ie,Oe),Oe.lastColumn=OD(ie,Oe)),Oe}(i,f,s,u),w=m.lastRow-m.firstRow+1,A=m.lastColumn-m.firstColumn+1;e=ED(e,{startRow:0,startColumn:0,endRow:Math.min(w,f.height)-1,endColumn:Math.min(A,f.width)-1},s);const S=i[0].findAncestor("table"),T=this._replaceSelectedCellsWithPasted(e,f,S,m,s);if(this.editor.plugins.get("TableSelection").isEnabled){const O=u.sortRanges(T.map(U=>s.createRangeOn(U)));s.setSelection(O)}else s.setSelection(T[0],0);return S}_replaceSelectedCellsWithPasted(e,i,s,u,f){const{width:m,height:w}=i,A=function(be,xe,Oe){const et=new Array(Oe).fill(null).map(()=>new Array(xe).fill(null));for(const{column:ft,row:Mt,cell:tn}of new cr(be))et[Mt][ft]=tn;return et}(e,m,w),S=[...new cr(s,{startRow:u.firstRow,endRow:u.lastRow,startColumn:u.firstColumn,endColumn:u.lastColumn,includeAllSlots:!0})],T=[];let O;for(const be of S){const{row:xe,column:Oe}=be;Oe===u.firstColumn&&(O=be.getPositionBefore());const et=xe-u.firstRow,ft=Oe-u.firstColumn,Mt=A[et%w][ft%m],tn=Mt?f.cloneElement(Mt):null,gn=this._replaceTableSlotCell(be,tn,O,f);gn&&(MD(gn,xe,Oe,u.lastRow,u.lastColumn,f),T.push(gn),O=f.createPositionAfter(gn))}const U=parseInt(s.getAttribute("headingRows")||"0"),G=parseInt(s.getAttribute("headingColumns")||"0"),ee=u.firstRow<U&&U<=u.lastRow,ie=u.firstColumn<G&&G<=u.lastColumn;if(ee){const be=hv(s,U,{first:u.firstColumn,last:u.lastColumn},f,u.firstRow);T.push(...be)}if(ie){const be=fv(s,G,{first:u.firstRow,last:u.lastRow},f);T.push(...be)}return T}_replaceTableSlotCell(e,i,s,u){const{cell:f,isAnchor:m}=e;return m&&u.remove(f),i?(u.insert(i,s),i):null}getTableIfOnlyTableInContent(e,i){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const s=i.createRangeIn(e);for(const u of s.getItems())if(u.is("element","table")){const f=i.createRange(s.start,i.createPositionBefore(u));if(i.hasContent(f,{ignoreWhitespaces:!0}))return null;const m=i.createRange(i.createPositionAfter(u),s.end);return i.hasContent(m,{ignoreWhitespaces:!0})?null:u}return null}}function hv(c,e,i,s,u=0){if(!(e<1))return DD(c,e,u).filter(({column:f,cellWidth:m})=>HD(f,m,i)).map(({cell:f})=>ID(f,e,s))}function fv(c,e,i,s){if(!(e<1))return TD(c,e).filter(({row:u,cellHeight:f})=>HD(u,f,i)).map(({cell:u,column:f})=>ND(u,f,e,s))}function HD(c,e,i){const s=c+e-1,{first:u,last:f}=i;return c>=u&&c<=f||c<u&&s>=u}class GH extends ct{static get pluginName(){return"TableKeyboard"}static get requires(){return[ih,bo]}init(){const e=this.editor,i=e.editing.view.document,s=e.t;this.listenTo(i,"arrowKey",(...u)=>this._onArrowKey(...u),{context:"table"}),this.listenTo(i,"tab",(...u)=>this._handleTabOnSelectedTable(...u),{context:"figure"}),this.listenTo(i,"tab",(...u)=>this._handleTab(...u),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:s("Keystrokes that can be used in a table cell"),keystrokes:[{label:s("Move the selection to the next cell"),keystroke:"Tab"},{label:s("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:s("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:s("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,i){const s=this.editor,u=s.model.document.selection.getSelectedElement();u&&u.is("element","table")&&(i.preventDefault(),i.stopPropagation(),e.stop(),s.model.change(f=>{f.setSelection(f.createRangeIn(u.getChild(0).getChild(0)))}))}_handleTab(e,i){const s=this.editor,u=this.editor.plugins.get(bo),f=this.editor.plugins.get("TableSelection"),m=s.model.document.selection,w=!i.shiftKey;let A=u.getTableCellsContainingSelection(m)[0];if(A||(A=f.getFocusCell()),!A)return;i.preventDefault(),i.stopPropagation(),e.stop();const S=A.parent,T=S.parent,O=T.getChildIndex(S),U=S.getChildIndex(A),G=U===0;if(!w&&G&&O===0)return void s.model.change(xe=>{xe.setSelection(xe.createRangeOn(T))});const ee=U===S.childCount-1,ie=O===u.getRows(T)-1;if(w&&ie&&ee&&(s.execute("insertTableRowBelow"),O===u.getRows(T)-1))return void s.model.change(xe=>{xe.setSelection(xe.createRangeOn(T))});let be;if(w&&ee)be=T.getChild(O+1).getChild(0);else if(!w&&G){const xe=T.getChild(O-1);be=xe.getChild(xe.childCount-1)}else be=S.getChild(U+(w?1:-1));s.model.change(xe=>{xe.setSelection(xe.createRangeIn(be))})}_onArrowKey(e,i){const s=this.editor,u=em(i.keyCode,s.locale.contentLanguageDirection);this._handleArrowKeys(u,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),e.stop())}_handleArrowKeys(e,i){const s=this.editor.plugins.get(bo),u=this.editor.plugins.get("TableSelection"),f=this.editor.model,m=f.document.selection,w=["right","down"].includes(e),A=s.getSelectedTableCells(m);if(A.length){let T;return T=i?u.getFocusCell():w?A[A.length-1]:A[0],this._navigateFromCellInDirection(T,e,i),!0}const S=m.focus.findAncestor("tableCell");if(!S)return!1;if(!m.isCollapsed)if(i){if(m.isBackward==w&&!m.containsEntireContent(S))return!1}else{const T=m.getSelectedElement();if(!T||!f.schema.isObject(T))return!1}return!!this._isSelectionAtCellEdge(m,S,w)&&(this._navigateFromCellInDirection(S,e,i),!0)}_isSelectionAtCellEdge(e,i,s){const u=this.editor.model,f=this.editor.model.schema,m=s?e.getLastPosition():e.getFirstPosition();if(!f.getLimitElement(m).is("element","tableCell"))return u.createPositionAt(i,s?"end":0).isTouching(m);const w=u.createSelection(m);return u.modifySelection(w,{direction:s?"forward":"backward"}),m.isEqual(w.focus)}_navigateFromCellInDirection(e,i,s=!1){const u=this.editor.model,f=e.findAncestor("table"),m=[...new cr(f,{includeAllSlots:!0})],{row:w,column:A}=m[m.length-1],S=m.find(({cell:ie})=>ie==e);let{row:T,column:O}=S;switch(i){case"left":O--;break;case"up":T--;break;case"right":O+=S.cellWidth;break;case"down":T+=S.cellHeight}if(T<0||T>w||O<0&&T<=0||O>A&&T>=w)return void u.change(ie=>{ie.setSelection(ie.createRangeOn(f))});O<0?(O=s?0:A,T--):O>A&&(O=s?A:0,T++);const U=m.find(ie=>ie.row==T&&ie.column==O).cell,G=["right","down"].includes(i),ee=this.editor.plugins.get("TableSelection");if(s&&ee.isEnabled){const ie=ee.getAnchorCell()||e;ee.setCellSelection(ie,U)}else{const ie=u.createPositionAt(U,G?0:"end");u.change(be=>{be.setSelection(ie)})}}}class YH extends Ou{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class KH extends ct{static get pluginName(){return"TableMouse"}static get requires(){return[ih,bo]}init(){this.editor.editing.view.addObserver(YH),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,i=e.plugins.get(bo);let s=!1;const u=e.plugins.get(ih);this.listenTo(e.editing.view.document,"mousedown",(f,m)=>{const w=e.model.document.selection;if(!this.isEnabled||!u.isEnabled||!m.domEvent.shiftKey)return;const A=u.getAnchorCell()||i.getTableCellsContainingSelection(w)[0];if(!A)return;const S=this._getModelTableCellFromDomEvent(m);S&&WD(A,S)&&(s=!0,u.setCellSelection(A,S),m.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{s=!1}),this.listenTo(e.editing.view.document,"selectionChange",f=>{s&&f.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let i,s,u=!1,f=!1;const m=e.plugins.get(ih);this.listenTo(e.editing.view.document,"mousedown",(w,A)=>{this.isEnabled&&m.isEnabled&&(A.domEvent.shiftKey||A.domEvent.ctrlKey||A.domEvent.altKey||(i=this._getModelTableCellFromDomEvent(A)))}),this.listenTo(e.editing.view.document,"mousemove",(w,A)=>{if(!A.domEvent.buttons||!i)return;const S=this._getModelTableCellFromDomEvent(A);S&&WD(i,S)&&(s=S,u||s==i||(u=!0)),u&&(f=!0,m.setCellSelection(i,s),A.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{u=!1,f=!1,i=null,s=null}),this.listenTo(e.editing.view.document,"selectionChange",w=>{f&&w.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const i=e.target,s=this.editor.editing.view.createPositionAt(i,0);return this.editor.editing.mapper.toModelPosition(s).parent.findAncestor("tableCell",{includeSelf:!0})}}function WD(c,e){return c.parent.parent==e.parent.parent}var GD=a(2329),QH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(GD.A,QH),GD.A.locals;function JH(c){const e=c.getSelectedElement();return e&&YD(e)?e:null}function ZH(c){const e=c.getFirstPosition();if(!e)return null;let i=e.parent;for(;i;){if(i.is("element")&&YD(i))return i;i=i.parent}return null}function YD(c){return!!c.getCustomProperty("table")&&_i(c)}var KD=a(5506),XH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(KD.A,XH),KD.A.locals;var QD=a(2655),eW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(QD.A,eW),QD.A.locals;var JD=a(4043),tW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(JD.A,tW),JD.A.locals;var ZD=a(1623),nW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(ZD.A,nW),ZD.A.locals;var XD=a(8986),rW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(XD.A,rW),XD.A.locals;const oh=ps.defaultPositions;oh.northArrowSouth,oh.northArrowSouthWest,oh.northArrowSouthEast,oh.southArrowNorth,oh.southArrowNorthWest,oh.southArrowNorthEast,oh.viewportStickyNorth;var eI=a(5562),iW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(eI.A,iW),eI.A.locals;var tI=a(4143),oW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(tI.A,oW),tI.A.locals;var nI=a(8795),sW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Xe()(nI.A,sW),nI.A.locals;var aW=Object.defineProperty,rI=Object.getOwnPropertySymbols,lW=Object.prototype.hasOwnProperty,cW=Object.prototype.propertyIsEnumerable,iI=(c,e,i)=>e in c?aW(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,oI=(c,e)=>{for(var i in e||(e={}))lW.call(e,i)&&iI(c,i,e[i]);if(rI)for(var i of rI(e))cW.call(e,i)&&iI(c,i,e[i]);return c};const uW={autoRefresh:!0},sI=36e5;class pv extends Ue(){constructor(e,i={}){if(super(),!e)throw new M("token-missing-token-url",this);i.initValue&&this._validateTokenValue(i.initValue),this.set("value",i.initValue),this._refresh=typeof e=="function"?e:()=>{return s=e,new Promise((u,f)=>{const m=new XMLHttpRequest;m.open("GET",s),m.addEventListener("load",()=>{const w=m.status,A=m.response;return w<200||w>299?f(new M("token-cannot-download-new-token",null)):u(A)}),m.addEventListener("error",()=>f(new Error("Network Error"))),m.addEventListener("abort",()=>f(new Error("Abort"))),m.send()});var s},this._options=oI(oI({},uW),i)}init(){return new Promise((e,i)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(i)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const i=typeof e=="string",s=!/^".*"$/.test(e),u=i&&e.split(".").length===3;if(!s||!u)throw new M("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:i}=JSON.parse(atob(e));return i?Math.floor((1e3*i-Date.now())/2):sI}catch{return sI}}static create(e,i={}){return new pv(e,i).init()}}const mv=/^data:(\S*?);base64,/;class dW extends oe(){constructor(e,i,s){if(super(),!e)throw new M("fileuploader-missing-file",null);if(!i)throw new M("fileuploader-missing-token",null);if(!s)throw new M("fileuploader-missing-api-address",null);this.file=function(u){if(typeof u!="string")return!1;const f=u.match(mv);return!(!f||!f.length)}(e)?function(u,f=512){try{const m=u.match(mv)[1],w=atob(u.replace(mv,"")),A=[];for(let S=0;S<w.length;S+=f){const T=w.slice(S,S+f),O=new Array(T.length);for(let U=0;U<T.length;U++)O[U]=T.charCodeAt(U);A.push(new Uint8Array(O))}return new Blob(A,{type:m})}catch{throw new M("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=i,this._apiAddress=s}onProgress(e){return this.on("progress",(i,s)=>e(s)),this}onError(e){return this.once("error",(i,s)=>e(s)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,i=s=>()=>this.fire("error",s);e.addEventListener("error",i("Network Error")),e.addEventListener("abort",i("Abort")),e.upload&&e.upload.addEventListener("progress",s=>{s.lengthComputable&&this.fire("progress",{total:s.total,uploaded:s.loaded})}),e.addEventListener("load",()=>{const s=e.status,u=e.response;if(s<200||s>299)return this.fire("error",u.message||u.error)})}_sendRequest(){const e=new FormData,i=this.xhr;return e.append("file",this.file),new Promise((s,u)=>{i.addEventListener("load",()=>{const f=i.status,m=i.response;return f<200||f>299?m.message?u(new M("fileuploader-uploading-data-failed",this,{message:m.message})):u(m.error):s(m)}),i.addEventListener("error",()=>u(new Error("Network Error"))),i.addEventListener("abort",()=>u(new Error("Abort"))),i.send(e)})}}class hW{constructor(e,i){if(!e)throw new M("uploadgateway-missing-token",null);if(!i)throw new M("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=i}upload(e){return new dW(e,this._token,this._apiAddress)}}class fW extends si{static get pluginName(){return"CloudServicesCore"}createToken(e,i){return new pv(e,i)}createUploadGateway(e,i){return new hW(e,i)}}var aI=(c,e,i)=>new Promise((s,u)=>{var f=A=>{try{w(i.next(A))}catch(S){u(S)}},m=A=>{try{w(i.throw(A))}catch(S){u(S)}},w=A=>A.done?s(A.value):Promise.resolve(A.value).then(f,m);w((i=i.apply(c,e)).next())});class gv extends p0{}gv.builtinPlugins=[class extends ct{static get requires(){return[fF,IE,k0,PU,rU,Kz,OE]}static get pluginName(){return"Essentials"}},class extends ct{static get requires(){return[il]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const c=this.editor.config.get("ckfinder.uploadUrl");c&&(this.editor.plugins.get(il).createUploadAdapter=e=>new HU(e,c,this.editor.t))}},class extends ct{static get requires(){return[Vc]}static get pluginName(){return"Autoformat"}afterInit(){const c=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),c.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const c=this.editor.commands;c.get("bulletedList")&&Ru(this.editor,this,/^[*-]\s$/,"bulletedList"),c.get("numberedList")&&Ru(this.editor,this,/^1[.|)]\s$/,"numberedList"),c.get("todoList")&&Ru(this.editor,this,/^\[\s?\]\s$/,"todoList"),c.get("checkTodoList")&&Ru(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const c=this.editor.commands;if(c.get("bold")){const e=_0(this.editor,"bold");Tf(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Tf(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(c.get("italic")){const e=_0(this.editor,"italic");Tf(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Tf(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(c.get("code")){const e=_0(this.editor,"code");Tf(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(c.get("strikethrough")){const e=_0(this.editor,"strikethrough");Tf(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const c=this.editor.commands.get("heading");c&&c.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const i=e[7],s=new RegExp(`^(#{${i}})\\s$`);Ru(this.editor,this,s,()=>{if(!c.isEnabled||c.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Ru(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const c=this.editor,e=c.model.document.selection;c.commands.get("codeBlock")&&Ru(c,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Ru(this.editor,this,/^---$/,"horizontalLine")}},class extends ct{static get requires(){return[WU,GU]}static get pluginName(){return"Bold"}},class extends ct{static get requires(){return[KU,QU]}static get pluginName(){return"Italic"}},class extends ct{static get requires(){return[ZU,eq]}static get pluginName(){return"BlockQuote"}},class extends ct{static get pluginName(){return"CKBox"}static get requires(){return[e3,tq]}},class extends ct{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",Sq,Cq]}},class extends si{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[fW]}init(){return aI(this,null,function*(){const c=this.context.config.get("cloudServices")||{};for(const[i,s]of Object.entries(c))this[i]=s;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(c){return aI(this,null,function*(){if(this._tokens.has(c))return this.getTokenFor(c);const e=this.context.plugins.get("CloudServicesCore"),i=yield e.createToken(c).init();return this._tokens.set(c,i),i})}getTokenFor(c){const e=this._tokens.get(c);if(!e)throw new M("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const c of this._tokens.values())c.destroy()}},class extends ct{static get pluginName(){return"EasyImage"}static get requires(){return[Eq,"ImageUpload"]}init(){const c=this.editor;c.plugins.has("ImageBlockEditing")||c.plugins.has("ImageInlineEditing")||B("easy-image-image-feature-missing",c)}},class extends ct{static get requires(){return[Mq,Oq]}static get pluginName(){return"Heading"}},class extends ct{static get requires(){return[tV,rV]}static get pluginName(){return"Image"}},class extends ct{static get requires(){return[oV,sV]}static get pluginName(){return"ImageCaption"}},class extends ct{static get requires(){return[s4,TV]}static get pluginName(){return"ImageStyle"}},class extends ct{static get requires(){return[y0,gs]}static get pluginName(){return"ImageToolbar"}afterInit(){const c=this.editor,e=c.t,i=c.plugins.get(y0),s=c.plugins.get("ImageUtils");var u;i.register("image",{ariaLabel:e("Image toolbar"),items:(u=c.config.get("image.toolbar")||[],u.map(f=>we(f)?f.name:f)),getRelatedElement:f=>s.getClosestSelectedImageWidget(f)})}},class extends ct{static get pluginName(){return"ImageUpload"}static get requires(){return[yV,cV,fV]}},class extends ct{static get pluginName(){return"Indent"}static get requires(){return[NV,MV]}},class extends ct{static get requires(){return[E4,a$,l$]}static get pluginName(){return"Link"}},M$,class extends ct{static get requires(){return[j0,$$,U$,Pm]}static get pluginName(){return"MediaEmbed"}},Uy,class extends ct{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Da]}init(){const c=this.editor,e=c.plugins.get("ClipboardPipeline"),i=c.editing.view.document,s=[],u=this.editor.plugins.has("MultiLevelList");s.push(new dH(i,u)),s.push(new fH(i)),s.push(new mH(i)),e.on("inputTransformation",(f,m)=>{if(m._isTransformedWithPasteFromOffice||c.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const w=m.dataTransfer.getData("text/html"),A=s.find(S=>S.isActive(w));A&&(m._parsedData||(m._parsedData=gH(w,i.stylesProcessor)),A.execute(m),m._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends ct{static get requires(){return[Vy,gs]}static get pluginName(){return"PictureEditing"}afterInit(){const c=this.editor;c.plugins.has("ImageBlockEditing")&&c.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),c.plugins.has("ImageInlineEditing")&&c.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const c=this.editor,e=c.conversion,i=c.plugins.get("ImageUtils");e.for("upcast").add(function(s){const u=["srcset","media","type","sizes"],f=(m,w,A)=>{const S=w.viewItem;if(!A.consumable.test(S,{name:!0}))return;const T=new Map;for(const G of S.getChildren())if(G.is("element","source")){const ee={};for(const ie of u)G.hasAttribute(ie)&&A.consumable.test(G,{attributes:ie})&&(ee[ie]=G.getAttribute(ie));Object.keys(ee).length&&T.set(G,ee)}const O=s.findViewImgElement(S);if(!O)return;let U=w.modelCursor.parent;if(!U.is("element","imageBlock")){const G=A.convertItem(O,w.modelCursor);w.modelRange=G.modelRange,w.modelCursor=G.modelCursor,U=Li(G.modelRange.getItems())}A.consumable.consume(S,{name:!0});for(const[G,ee]of T)A.consumable.consume(G,{attributes:Object.keys(ee)});T.size&&A.writer.setAttribute("sources",Array.from(T.values()),U),A.convertChildren(S,U)};return m=>{m.on("element:picture",f)}}(i)),e.for("downcast").add(function(s){const u=(f,m,w)=>{if(!w.consumable.consume(m.item,f.name))return;const A=w.writer,S=w.mapper.toViewElement(m.item),T=s.findViewImgElement(S),O=m.attributeNewValue;if(O&&O.length){const U=A.createContainerElement("picture",null,O.map(ie=>A.createEmptyElement("source",ie))),G=[];let ee=T.parent;for(;ee&&ee.is("attributeElement");){const ie=ee.parent;A.unwrap(A.createRangeOn(T),ee),G.unshift(ee),ee=ie}A.insert(A.createPositionBefore(T),U),A.move(A.createRangeOn(T),A.createPositionAt(U,"end"));for(const ie of G)A.wrap(A.createRangeOn(U),ie)}else if(T.parent.is("element","picture")){const U=T.parent;A.move(A.createRangeOn(T),A.createPositionBefore(U)),A.remove(U)}};return f=>{f.on("attribute:sources:imageBlock",u),f.on("attribute:sources:imageInline",u)}}(i))}_setupImageUploadEditingIntegration(){const c=this.editor;if(!c.plugins.has("ImageUploadEditing"))return;const e=c.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(i,{imageElement:s,data:u})=>{const f=u.sources;f&&c.model.change(m=>{m.setAttributes({sources:f},s)})})}},class extends ct{static get requires(){return[UH,VH,ih,KH,GH,WH,Pm]}static get pluginName(){return"Table"}},class extends ct{static get requires(){return[y0]}static get pluginName(){return"TableToolbar"}afterInit(){const c=this.editor,e=c.t,i=c.plugins.get(y0),s=c.config.get("table.contentToolbar"),u=c.config.get("table.tableToolbar");s&&i.register("tableContent",{ariaLabel:e("Table toolbar"),items:s,getRelatedElement:ZH}),u&&i.register("table",{ariaLabel:e("Table toolbar"),items:u,getRelatedElement:JH})}},class extends ct{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(c){super(c),c.config.define("typing",{transformations:{include:Qz}})}init(){const c=this.editor.model.document.selection;c.on("change:range",()=>{this.isEnabled=!c.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const c=this.editor,e=c.model,i=c.plugins.get("Delete"),s=function(f){const m=f.extra||[],w=f.remove||[],A=S=>!w.includes(S);return function(S){const T=new Set;for(const O of S)if(typeof O=="string"&&tE[O])for(const U of tE[O])T.add(U);else T.add(O);return Array.from(T)}(f.include.concat(m).filter(A)).filter(A).map(S=>typeof S=="string"&&eE[S]?eE[S]:S).filter(S=>typeof S=="object").map(S=>({from:Jz(S.from),to:Zz(S.to)}))}(c.config.get("typing.transformations")),u=new JS(c.model,f=>{for(const m of s)if(m.from.test(f))return{normalizedTransformation:m}});u.on("matched:data",(f,m)=>{if(!m.batch.isTyping)return;const{from:w,to:A}=m.normalizedTransformation,S=w.exec(m.text),T=A(S.slice(1)),O=m.range;let U=S.index;e.enqueueChange(G=>{for(let ee=1;ee<S.length;ee++){const ie=S[ee],be=T[ee-1];if(be==null){U+=ie.length;continue}const xe=O.start.getShiftedBy(U),Oe=e.createRange(xe,xe.getShiftedBy(ie.length)),et=Xz(xe);e.insertContent(G.createText(be,et),Oe),U+=be.length}e.enqueueChange(()=>{i.requestUndoOnBackspace()})})}),u.bind("isEnabled").to(this)}}],gv.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),l=l.default})())}(cg,cg.exports)),cg.exports}var wQ=kQ();const kO=ou(wQ),yQ=({content:t,onChange:r})=>{const n=(o,a)=>{const l=a.getData();r(l)};return C.jsx(bO.CKEditor,{editor:kO,data:t,onChange:n,config:{toolbar:["undo","redo","|","heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","insertTable","link","|"]}})},vQ=(t,r={enabled:!0,priority:"low"})=>{const n=Y.useCallback(o=>{!r.enabled||o.length===0||o.forEach((a,l)=>{if(!a||a.startsWith("data:"))return;const d=new Image;"loading"in d&&(d.loading="lazy");const h=r.priority==="low"?l*100:0;setTimeout(()=>{d.src=a,d.onload=()=>{console.log(`✅ Preloaded image: ${a.substring(0,50)}...`)},d.onerror=p=>{console.error(`❌ Failed to preload image: ${a}`,p),console.error("Image details:",{url:a,naturalWidth:d.naturalWidth,naturalHeight:d.naturalHeight,complete:d.complete})}},h)})},[r.enabled,r.priority]);return Y.useEffect(()=>{n(t)},[t,n]),{preloadImages:n}},wO=(t,r,n=!0)=>{const{preloadImages:o}=vQ([],{enabled:n,priority:"low"});Y.useEffect(()=>{var d,h;if(!n||!t.length)return;const a=[];if(r>0){const p=t[r-1];p!=null&&p.images&&a.push(...p.images.map(g=>g.url)),(d=p==null?void 0:p.subsections)==null||d.forEach(g=>{var b;g.images&&a.push(...g.images.map(v=>v.url)),(b=g==null?void 0:g.subSubsections)==null||b.forEach(v=>{v.images&&a.push(...v.images.map(y=>y.url))})})}if(r<t.length-1){const p=t[r+1];p!=null&&p.images&&a.push(...p.images.map(g=>g.url)),(h=p==null?void 0:p.subsections)==null||h.forEach(g=>{var b;g.images&&a.push(...g.images.map(v=>v.url)),(b=g==null?void 0:g.subSubsections)==null||b.forEach(v=>{v.images&&a.push(...v.images.map(y=>y.url))})})}const l=Array.from(new Set(a.filter(Boolean)));l.length>0&&(console.log(`Preloading ${l.length} images from adjacent sections`),o(l))},[t,r,n,o])},tT=({content:t,onChange:r})=>{const n=(o,a)=>{const l=a.getData();r(l)};return C.jsx(bO.CKEditor,{editor:kO,data:t,onChange:n,config:{toolbar:["heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","link"]}})},AQ=({value:t,onChange:r})=>{const[n,o]=Y.useState([]),[a,l]=Y.useState(!0),{userDetails:d}=Ti();Y.useEffect(()=>{if(console.log("User Details in CourseDropdown:",d),d!=null&&d.classes){const p=Object.entries(d.classes).filter(([g,b])=>b.isCourseAdmin||d.isSuperAdmin).map(([g,b])=>({id:g,number:b.number,title:b.title}));console.log("Filtered Courses for Dropdown:",p),o(p)}else o([]);l(!1)},[d]);const h=n.some(p=>p.id===t);return a?C.jsx(Le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:C.jsx(qr,{})}):C.jsx(Sn,{select:!0,label:"Select Course",value:h?t:"",onChange:p=>r(p.target.value),fullWidth:!0,sx:{mb:2},error:!h&&t!=="",helperText:!h&&t!==""?"Invalid course selected":"",children:n.length>0?n.map(p=>C.jsxs(Ir,{value:p.id,children:[p.number," - ",p.title]},p.id)):C.jsx(Ir,{disabled:!0,children:"No courses available"})})};function Rt(t){const r=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&r==="[object Date]"?new t.constructor(+t):typeof t=="number"||r==="[object Number]"||typeof t=="string"||r==="[object String]"?new Date(t):new Date(NaN)}function dr(t,r){return t instanceof Date?new t.constructor(r):new Date(r)}function hl(t,r){const n=Rt(t);return isNaN(r)?dr(t,NaN):(r&&n.setDate(n.getDate()+r),n)}function fl(t,r){const n=Rt(t);if(isNaN(r))return dr(t,NaN);if(!r)return n;const o=n.getDate(),a=dr(t,n.getTime());a.setMonth(n.getMonth()+r+1,0);const l=a.getDate();return o>=l?a:(n.setFullYear(a.getFullYear(),a.getMonth(),o),n)}function J_(t,r){const n=+Rt(t);return dr(t,n+r)}const yO=6048e5,_Q=864e5,x1=6e4,S1=36e5,CQ=1e3;function xQ(t,r){return J_(t,r*S1)}let SQ={};function Vh(){return SQ}function tu(t,r){var h,p,g,b;const n=Vh(),o=(r==null?void 0:r.weekStartsOn)??((p=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((b=(g=n.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??0,a=Rt(t),l=a.getDay(),d=(l<o?7:0)+l-o;return a.setDate(a.getDate()-d),a.setHours(0,0,0,0),a}function wp(t){return tu(t,{weekStartsOn:1})}function vO(t){const r=Rt(t),n=r.getFullYear(),o=dr(t,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const a=wp(o),l=dr(t,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const d=wp(l);return r.getTime()>=a.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function Lh(t){const r=Rt(t);return r.setHours(0,0,0,0),r}function zk(t){const r=Rt(t),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+t-+n}function yp(t,r){const n=Lh(t),o=Lh(r),a=+n-zk(n),l=+o-zk(o);return Math.round((a-l)/_Q)}function EQ(t){const r=vO(t),n=dr(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),wp(n)}function jA(t,r){return J_(t,r*x1)}function Z_(t,r){const n=r*3;return fl(t,n)}function DQ(t,r){return J_(t,r*1e3)}function Uk(t,r){const n=r*7;return hl(t,n)}function Qc(t,r){return fl(t,r*12)}function nT(t){let r;return t.forEach(function(n){const o=Rt(n);(r===void 0||r<o||isNaN(Number(o)))&&(r=o)}),r||new Date(NaN)}function rT(t){let r;return t.forEach(n=>{const o=Rt(n);(!r||r>o||isNaN(+o))&&(r=o)}),r||new Date(NaN)}function IQ(t,r){const n=Lh(t),o=Lh(r);return+n==+o}function Jc(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function qk(t){if(!Jc(t)&&typeof t!="number")return!1;const r=Rt(t);return!isNaN(Number(r))}function Vk(t,r){const n=Rt(t),o=Rt(r),a=n.getFullYear()-o.getFullYear(),l=n.getMonth()-o.getMonth();return a*12+l}function xh(t){const r=Rt(t);return Math.trunc(r.getMonth()/3)+1}function $k(t,r){const n=Rt(t),o=Rt(r),a=n.getFullYear()-o.getFullYear(),l=xh(n)-xh(o);return a*4+l}function Hk(t,r){const n=Rt(t),o=Rt(r);return n.getFullYear()-o.getFullYear()}function TQ(t,r){const n=Rt(t),o=Rt(r),a=iT(n,o),l=Math.abs(yp(n,o));n.setDate(n.getDate()-a*l);const d=+(iT(n,o)===-a),h=a*(l-d);return h===0?0:h}function iT(t,r){const n=t.getFullYear()-r.getFullYear()||t.getMonth()-r.getMonth()||t.getDate()-r.getDate()||t.getHours()-r.getHours()||t.getMinutes()-r.getMinutes()||t.getSeconds()-r.getSeconds()||t.getMilliseconds()-r.getMilliseconds();return n<0?-1:n>0?1:n}function AO(t){const r=Rt(t);return r.setHours(23,59,59,999),r}function _O(t){const r=Rt(t),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function BA(t){const r=Rt(t),n=r.getMonth(),o=n-n%3;return r.setMonth(o,1),r.setHours(0,0,0,0),r}function CO(t){const r=Rt(t);return r.setDate(1),r.setHours(0,0,0,0),r}function xO(t){const r=Rt(t),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function E1(t){const r=Rt(t),n=dr(t,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}function NQ(t,r){var h,p;const n=Vh(),o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,a=Rt(t),l=a.getDay(),d=(l<o?-7:0)+6-(l-o);return a.setDate(a.getDate()+d),a.setHours(23,59,59,999),a}const MQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},PQ=(t,r,n)=>{let o;const a=MQ[t];return typeof a=="string"?o=a:r===1?o=a.one:o=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function Cv(t){return(r={})=>{const n=r.width?String(r.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const OQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},LQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BQ={date:Cv({formats:OQ,defaultWidth:"full"}),time:Cv({formats:LQ,defaultWidth:"full"}),dateTime:Cv({formats:jQ,defaultWidth:"full"})},RQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},FQ=(t,r,n,o)=>RQ[t];function qm(t){return(r,n)=>{const o=n!=null&&n.context?String(n.context):"standalone";let a;if(o==="formatting"&&t.formattingValues){const d=t.defaultFormattingWidth||t.defaultWidth,h=n!=null&&n.width?String(n.width):d;a=t.formattingValues[h]||t.formattingValues[d]}else{const d=t.defaultWidth,h=n!=null&&n.width?String(n.width):t.defaultWidth;a=t.values[h]||t.values[d]}const l=t.argumentCallback?t.argumentCallback(r):r;return a[l]}}const zQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},UQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},VQ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$Q={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},HQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},WQ=(t,r)=>{const n=Number(t),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},GQ={ordinalNumber:WQ,era:qm({values:zQ,defaultWidth:"wide"}),quarter:qm({values:UQ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qm({values:qQ,defaultWidth:"wide"}),day:qm({values:VQ,defaultWidth:"wide"}),dayPeriod:qm({values:$Q,defaultWidth:"wide",formattingValues:HQ,defaultFormattingWidth:"wide"})};function Vm(t){return(r,n={})=>{const o=n.width,a=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],l=r.match(a);if(!l)return null;const d=l[0],h=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth],p=Array.isArray(h)?KQ(h,v=>v.test(d)):YQ(h,v=>v.test(d));let g;g=t.valueCallback?t.valueCallback(p):p,g=n.valueCallback?n.valueCallback(g):g;const b=r.slice(d.length);return{value:g,rest:b}}}function YQ(t,r){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r(t[n]))return n}function KQ(t,r){for(let n=0;n<t.length;n++)if(r(t[n]))return n}function QQ(t){return(r,n={})=>{const o=r.match(t.matchPattern);if(!o)return null;const a=o[0],l=r.match(t.parsePattern);if(!l)return null;let d=t.valueCallback?t.valueCallback(l[0]):l[0];d=n.valueCallback?n.valueCallback(d):d;const h=r.slice(a.length);return{value:d,rest:h}}}const JQ=/^(\d+)(th|st|nd|rd)?/i,ZQ=/\d+/i,XQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eJ={any:[/^b/i,/^(a|c)/i]},tJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nJ={any:[/1/i,/2/i,/3/i,/4/i]},rJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sJ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},aJ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cJ={ordinalNumber:QQ({matchPattern:JQ,parsePattern:ZQ,valueCallback:t=>parseInt(t,10)}),era:Vm({matchPatterns:XQ,defaultMatchWidth:"wide",parsePatterns:eJ,defaultParseWidth:"any"}),quarter:Vm({matchPatterns:tJ,defaultMatchWidth:"wide",parsePatterns:nJ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vm({matchPatterns:rJ,defaultMatchWidth:"wide",parsePatterns:iJ,defaultParseWidth:"any"}),day:Vm({matchPatterns:oJ,defaultMatchWidth:"wide",parsePatterns:sJ,defaultParseWidth:"any"}),dayPeriod:Vm({matchPatterns:aJ,defaultMatchWidth:"any",parsePatterns:lJ,defaultParseWidth:"any"})},SO={code:"en-US",formatDistance:PQ,formatLong:BQ,formatRelative:FQ,localize:GQ,match:cJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uJ(t){const r=Rt(t);return yp(r,E1(r))+1}function X_(t){const r=Rt(t),n=+wp(r)-+EQ(r);return Math.round(n/yO)+1}function eC(t,r){var b,v,y,k;const n=Rt(t),o=n.getFullYear(),a=Vh(),l=(r==null?void 0:r.firstWeekContainsDate)??((v=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:v.firstWeekContainsDate)??a.firstWeekContainsDate??((k=(y=a.locale)==null?void 0:y.options)==null?void 0:k.firstWeekContainsDate)??1,d=dr(t,0);d.setFullYear(o+1,0,l),d.setHours(0,0,0,0);const h=tu(d,r),p=dr(t,0);p.setFullYear(o,0,l),p.setHours(0,0,0,0);const g=tu(p,r);return n.getTime()>=h.getTime()?o+1:n.getTime()>=g.getTime()?o:o-1}function dJ(t,r){var h,p,g,b;const n=Vh(),o=(r==null?void 0:r.firstWeekContainsDate)??((p=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((b=(g=n.locale)==null?void 0:g.options)==null?void 0:b.firstWeekContainsDate)??1,a=eC(t,r),l=dr(t,0);return l.setFullYear(a,0,o),l.setHours(0,0,0,0),tu(l,r)}function EO(t,r){const n=Rt(t),o=+tu(n,r)-+dJ(n,r);return Math.round(o/yO)+1}function ur(t,r){const n=t<0?"-":"",o=Math.abs(t).toString().padStart(r,"0");return n+o}const zu={y(t,r){const n=t.getFullYear(),o=n>0?n:1-n;return ur(r==="yy"?o%100:o,r.length)},M(t,r){const n=t.getMonth();return r==="M"?String(n+1):ur(n+1,2)},d(t,r){return ur(t.getDate(),r.length)},a(t,r){const n=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,r){return ur(t.getHours()%12||12,r.length)},H(t,r){return ur(t.getHours(),r.length)},m(t,r){return ur(t.getMinutes(),r.length)},s(t,r){return ur(t.getSeconds(),r.length)},S(t,r){const n=r.length,o=t.getMilliseconds(),a=Math.trunc(o*Math.pow(10,n-3));return ur(a,r.length)}},Bf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oT={G:function(t,r,n){const o=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){const o=t.getFullYear(),a=o>0?o:1-o;return n.ordinalNumber(a,{unit:"year"})}return zu.y(t,r)},Y:function(t,r,n,o){const a=eC(t,o),l=a>0?a:1-a;if(r==="YY"){const d=l%100;return ur(d,2)}return r==="Yo"?n.ordinalNumber(l,{unit:"year"}):ur(l,r.length)},R:function(t,r){const n=vO(t);return ur(n,r.length)},u:function(t,r){const n=t.getFullYear();return ur(n,r.length)},Q:function(t,r,n){const o=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return ur(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,r,n){const o=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return ur(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,r,n){const o=t.getMonth();switch(r){case"M":case"MM":return zu.M(t,r);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(t,r,n){const o=t.getMonth();switch(r){case"L":return String(o+1);case"LL":return ur(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(t,r,n,o){const a=EO(t,o);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):ur(a,r.length)},I:function(t,r,n){const o=X_(t);return r==="Io"?n.ordinalNumber(o,{unit:"week"}):ur(o,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):zu.d(t,r)},D:function(t,r,n){const o=uJ(t);return r==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):ur(o,r.length)},E:function(t,r,n){const o=t.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(t,r,n,o){const a=t.getDay(),l=(a-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(l);case"ee":return ur(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,r,n,o){const a=t.getDay(),l=(a-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(l);case"cc":return ur(l,r.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,r,n){const o=t.getDay(),a=o===0?7:o;switch(r){case"i":return String(a);case"ii":return ur(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(t,r,n){const a=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,r,n){const o=t.getHours();let a;switch(o===12?a=Bf.noon:o===0?a=Bf.midnight:a=o/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,r,n){const o=t.getHours();let a;switch(o>=17?a=Bf.evening:o>=12?a=Bf.afternoon:o>=4?a=Bf.morning:a=Bf.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){let o=t.getHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return zu.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):zu.H(t,r)},K:function(t,r,n){const o=t.getHours()%12;return r==="Ko"?n.ordinalNumber(o,{unit:"hour"}):ur(o,r.length)},k:function(t,r,n){let o=t.getHours();return o===0&&(o=24),r==="ko"?n.ordinalNumber(o,{unit:"hour"}):ur(o,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):zu.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):zu.s(t,r)},S:function(t,r){return zu.S(t,r)},X:function(t,r,n){const o=t.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return aT(o);case"XXXX":case"XX":return uh(o);case"XXXXX":case"XXX":default:return uh(o,":")}},x:function(t,r,n){const o=t.getTimezoneOffset();switch(r){case"x":return aT(o);case"xxxx":case"xx":return uh(o);case"xxxxx":case"xxx":default:return uh(o,":")}},O:function(t,r,n){const o=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+sT(o,":");case"OOOO":default:return"GMT"+uh(o,":")}},z:function(t,r,n){const o=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+sT(o,":");case"zzzz":default:return"GMT"+uh(o,":")}},t:function(t,r,n){const o=Math.trunc(t.getTime()/1e3);return ur(o,r.length)},T:function(t,r,n){const o=t.getTime();return ur(o,r.length)}};function sT(t,r=""){const n=t>0?"-":"+",o=Math.abs(t),a=Math.trunc(o/60),l=o%60;return l===0?n+String(a):n+String(a)+r+ur(l,2)}function aT(t,r){return t%60===0?(t>0?"-":"+")+ur(Math.abs(t)/60,2):uh(t,r)}function uh(t,r=""){const n=t>0?"-":"+",o=Math.abs(t),a=ur(Math.trunc(o/60),2),l=ur(o%60,2);return n+a+r+l}const lT=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},DO=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},hJ=(t,r)=>{const n=t.match(/(P+)(p+)?/)||[],o=n[1],a=n[2];if(!a)return lT(t,r);let l;switch(o){case"P":l=r.dateTime({width:"short"});break;case"PP":l=r.dateTime({width:"medium"});break;case"PPP":l=r.dateTime({width:"long"});break;case"PPPP":default:l=r.dateTime({width:"full"});break}return l.replace("{{date}}",lT(o,r)).replace("{{time}}",DO(a,r))},Wk={p:DO,P:hJ},fJ=/^D+$/,pJ=/^Y+$/,mJ=["D","DD","YY","YYYY"];function IO(t){return fJ.test(t)}function TO(t){return pJ.test(t)}function RA(t,r,n){const o=gJ(t,r,n);if(console.warn(o),mJ.includes(t))throw new RangeError(o)}function gJ(t,r,n){const o=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${o} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wJ=/^'([^]*?)'?$/,yJ=/''/g,vJ=/[a-zA-Z]/;function cT(t,r,n){var b,v,y,k,x,_,D,E;const o=Vh(),a=(n==null?void 0:n.locale)??o.locale??SO,l=(n==null?void 0:n.firstWeekContainsDate)??((v=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:v.firstWeekContainsDate)??o.firstWeekContainsDate??((k=(y=o.locale)==null?void 0:y.options)==null?void 0:k.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((_=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:_.weekStartsOn)??o.weekStartsOn??((E=(D=o.locale)==null?void 0:D.options)==null?void 0:E.weekStartsOn)??0,h=Rt(t);if(!qk(h))throw new RangeError("Invalid time value");let p=r.match(kJ).map(N=>{const P=N[0];if(P==="p"||P==="P"){const F=Wk[P];return F(N,a.formatLong)}return N}).join("").match(bJ).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const P=N[0];if(P==="'")return{isToken:!1,value:AJ(N)};if(oT[P])return{isToken:!0,value:N};if(P.match(vJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:N}});a.localize.preprocessor&&(p=a.localize.preprocessor(h,p));const g={firstWeekContainsDate:l,weekStartsOn:d,locale:a};return p.map(N=>{if(!N.isToken)return N.value;const P=N.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&TO(P)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&IO(P))&&RA(P,r,String(t));const F=oT[P[0]];return F(h,P,a.localize,g)}).join("")}function AJ(t){const r=t.match(wJ);return r?r[1].replace(yJ,"'"):t}function uT(t){return Rt(t).getDate()}function _J(t){return Rt(t).getDay()}function CJ(t){const r=Rt(t),n=r.getFullYear(),o=r.getMonth(),a=dr(t,0);return a.setFullYear(n,o+1,0),a.setHours(0,0,0,0),a.getDate()}function xJ(){return Object.assign({},Vh())}function sc(t){return Rt(t).getHours()}function SJ(t){let n=Rt(t).getDay();return n===0&&(n=7),n}function ac(t){return Rt(t).getMinutes()}function ns(t){return Rt(t).getMonth()}function Zc(t){return Rt(t).getSeconds()}function FA(t){return Rt(t).getTime()}function Tn(t){return Rt(t).getFullYear()}function sd(t,r){const n=Rt(t),o=Rt(r);return n.getTime()>o.getTime()}function jh(t,r){const n=Rt(t),o=Rt(r);return+n<+o}function EJ(t,r){const n=Rt(t),o=Rt(r);return+n==+o}function DJ(t,r){const n=r instanceof Date?dr(r,0):new r(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const IJ=10;class NO{constructor(){wt(this,"subPriority",0)}validate(r,n){return!0}}class TJ extends NO{constructor(r,n,o,a,l){super(),this.value=r,this.validateValue=n,this.setValue=o,this.priority=a,l&&(this.subPriority=l)}validate(r,n){return this.validateValue(r,this.value,n)}set(r,n,o){return this.setValue(r,n,this.value,o)}}class NJ extends NO{constructor(){super(...arguments);wt(this,"priority",IJ);wt(this,"subPriority",-1)}set(n,o){return o.timestampIsSet?n:dr(n,DJ(n,Date))}}let tr=class{run(r,n,o,a){const l=this.parse(r,n,o,a);return l?{setter:new TJ(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(r,n,o){return!0}};class MJ extends tr{constructor(){super(...arguments);wt(this,"priority",140);wt(this,"incompatibleTokens",["R","u","t","T"])}parse(n,o,a){switch(o){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})||a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"})}}set(n,o,a){return o.era=a,n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}const Ei={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Zl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Di(t,r){return t&&{value:r(t.value),rest:t.rest}}function ti(t,r){const n=r.match(t);return n?{value:parseInt(n[0],10),rest:r.slice(n[0].length)}:null}function Xl(t,r){const n=r.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:r.slice(1)};const o=n[1]==="+"?1:-1,a=n[2]?parseInt(n[2],10):0,l=n[3]?parseInt(n[3],10):0,d=n[5]?parseInt(n[5],10):0;return{value:o*(a*S1+l*x1+d*CQ),rest:r.slice(n[0].length)}}function MO(t){return ti(Ei.anyDigitsSigned,t)}function gi(t,r){switch(t){case 1:return ti(Ei.singleDigit,r);case 2:return ti(Ei.twoDigits,r);case 3:return ti(Ei.threeDigits,r);case 4:return ti(Ei.fourDigits,r);default:return ti(new RegExp("^\\d{1,"+t+"}"),r)}}function Gk(t,r){switch(t){case 1:return ti(Ei.singleDigitSigned,r);case 2:return ti(Ei.twoDigitsSigned,r);case 3:return ti(Ei.threeDigitsSigned,r);case 4:return ti(Ei.fourDigitsSigned,r);default:return ti(new RegExp("^-?\\d{1,"+t+"}"),r)}}function tC(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function PO(t,r){const n=r>0,o=n?r:1-r;let a;if(o<=50)a=t||100;else{const l=o+50,d=Math.trunc(l/100)*100,h=t>=l%100;a=t+d-(h?100:0)}return n?a:1-a}function OO(t){return t%400===0||t%4===0&&t%100!==0}class PJ extends tr{constructor(){super(...arguments);wt(this,"priority",130);wt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,o,a){const l=d=>({year:d,isTwoDigitYear:o==="yy"});switch(o){case"y":return Di(gi(4,n),l);case"yo":return Di(a.ordinalNumber(n,{unit:"year"}),l);default:return Di(gi(o.length,n),l)}}validate(n,o){return o.isTwoDigitYear||o.year>0}set(n,o,a){const l=n.getFullYear();if(a.isTwoDigitYear){const h=PO(a.year,l);return n.setFullYear(h,0,1),n.setHours(0,0,0,0),n}const d=!("era"in o)||o.era===1?a.year:1-a.year;return n.setFullYear(d,0,1),n.setHours(0,0,0,0),n}}class OJ extends tr{constructor(){super(...arguments);wt(this,"priority",130);wt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,o,a){const l=d=>({year:d,isTwoDigitYear:o==="YY"});switch(o){case"Y":return Di(gi(4,n),l);case"Yo":return Di(a.ordinalNumber(n,{unit:"year"}),l);default:return Di(gi(o.length,n),l)}}validate(n,o){return o.isTwoDigitYear||o.year>0}set(n,o,a,l){const d=eC(n,l);if(a.isTwoDigitYear){const p=PO(a.year,d);return n.setFullYear(p,0,l.firstWeekContainsDate),n.setHours(0,0,0,0),tu(n,l)}const h=!("era"in o)||o.era===1?a.year:1-a.year;return n.setFullYear(h,0,l.firstWeekContainsDate),n.setHours(0,0,0,0),tu(n,l)}}class LJ extends tr{constructor(){super(...arguments);wt(this,"priority",130);wt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,o){return Gk(o==="R"?4:o.length,n)}set(n,o,a){const l=dr(n,0);return l.setFullYear(a,0,4),l.setHours(0,0,0,0),wp(l)}}class jJ extends tr{constructor(){super(...arguments);wt(this,"priority",130);wt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,o){return Gk(o==="u"?4:o.length,n)}set(n,o,a){return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class BJ extends tr{constructor(){super(...arguments);wt(this,"priority",120);wt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,o,a){switch(o){case"Q":case"QQ":return gi(o.length,n);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})||a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=1&&o<=4}set(n,o,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class RJ extends tr{constructor(){super(...arguments);wt(this,"priority",120);wt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,o,a){switch(o){case"q":case"qq":return gi(o.length,n);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})||a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=1&&o<=4}set(n,o,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class FJ extends tr{constructor(){super(...arguments);wt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);wt(this,"priority",110)}parse(n,o,a){const l=d=>d-1;switch(o){case"M":return Di(ti(Ei.month,n),l);case"MM":return Di(gi(2,n),l);case"Mo":return Di(a.ordinalNumber(n,{unit:"month"}),l);case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})||a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=11}set(n,o,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}class zJ extends tr{constructor(){super(...arguments);wt(this,"priority",110);wt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,o,a){const l=d=>d-1;switch(o){case"L":return Di(ti(Ei.month,n),l);case"LL":return Di(gi(2,n),l);case"Lo":return Di(a.ordinalNumber(n,{unit:"month"}),l);case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})||a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=0&&o<=11}set(n,o,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}function UJ(t,r,n){const o=Rt(t),a=EO(o,n)-r;return o.setDate(o.getDate()-a*7),o}class qJ extends tr{constructor(){super(...arguments);wt(this,"priority",100);wt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,o,a){switch(o){case"w":return ti(Ei.week,n);case"wo":return a.ordinalNumber(n,{unit:"week"});default:return gi(o.length,n)}}validate(n,o){return o>=1&&o<=53}set(n,o,a,l){return tu(UJ(n,a,l),l)}}function VJ(t,r){const n=Rt(t),o=X_(n)-r;return n.setDate(n.getDate()-o*7),n}class $J extends tr{constructor(){super(...arguments);wt(this,"priority",100);wt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,o,a){switch(o){case"I":return ti(Ei.week,n);case"Io":return a.ordinalNumber(n,{unit:"week"});default:return gi(o.length,n)}}validate(n,o){return o>=1&&o<=53}set(n,o,a){return wp(VJ(n,a))}}const HJ=[31,28,31,30,31,30,31,31,30,31,30,31],WJ=[31,29,31,30,31,30,31,31,30,31,30,31];class GJ extends tr{constructor(){super(...arguments);wt(this,"priority",90);wt(this,"subPriority",1);wt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,o,a){switch(o){case"d":return ti(Ei.date,n);case"do":return a.ordinalNumber(n,{unit:"date"});default:return gi(o.length,n)}}validate(n,o){const a=n.getFullYear(),l=OO(a),d=n.getMonth();return l?o>=1&&o<=WJ[d]:o>=1&&o<=HJ[d]}set(n,o,a){return n.setDate(a),n.setHours(0,0,0,0),n}}class YJ extends tr{constructor(){super(...arguments);wt(this,"priority",90);wt(this,"subpriority",1);wt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,o,a){switch(o){case"D":case"DD":return ti(Ei.dayOfYear,n);case"Do":return a.ordinalNumber(n,{unit:"date"});default:return gi(o.length,n)}}validate(n,o){const a=n.getFullYear();return OO(a)?o>=1&&o<=366:o>=1&&o<=365}set(n,o,a){return n.setMonth(0,a),n.setHours(0,0,0,0),n}}function nC(t,r,n){var v,y,k,x;const o=Vh(),a=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??o.weekStartsOn??((x=(k=o.locale)==null?void 0:k.options)==null?void 0:x.weekStartsOn)??0,l=Rt(t),d=l.getDay(),p=(r%7+7)%7,g=7-a,b=r<0||r>6?r-(d+g)%7:(p+g)%7-(d+g)%7;return hl(l,b)}class KJ extends tr{constructor(){super(...arguments);wt(this,"priority",90);wt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,o,a){switch(o){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=6}set(n,o,a,l){return n=nC(n,a,l),n.setHours(0,0,0,0),n}}class QJ extends tr{constructor(){super(...arguments);wt(this,"priority",90);wt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,o,a,l){const d=h=>{const p=Math.floor((h-1)/7)*7;return(h+l.weekStartsOn+6)%7+p};switch(o){case"e":case"ee":return Di(gi(o.length,n),d);case"eo":return Di(a.ordinalNumber(n,{unit:"day"}),d);case"eee":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=6}set(n,o,a,l){return n=nC(n,a,l),n.setHours(0,0,0,0),n}}class JJ extends tr{constructor(){super(...arguments);wt(this,"priority",90);wt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,o,a,l){const d=h=>{const p=Math.floor((h-1)/7)*7;return(h+l.weekStartsOn+6)%7+p};switch(o){case"c":case"cc":return Di(gi(o.length,n),d);case"co":return Di(a.ordinalNumber(n,{unit:"day"}),d);case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})||a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=0&&o<=6}set(n,o,a,l){return n=nC(n,a,l),n.setHours(0,0,0,0),n}}function ZJ(t,r){const n=Rt(t),o=SJ(n),a=r-o;return hl(n,a)}class XJ extends tr{constructor(){super(...arguments);wt(this,"priority",90);wt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,o,a){const l=d=>d===0?7:d;switch(o){case"i":case"ii":return gi(o.length,n);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return Di(a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),l);case"iiiii":return Di(a.day(n,{width:"narrow",context:"formatting"}),l);case"iiiiii":return Di(a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),l);case"iiii":default:return Di(a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),l)}}validate(n,o){return o>=1&&o<=7}set(n,o,a){return n=ZJ(n,a),n.setHours(0,0,0,0),n}}class eZ extends tr{constructor(){super(...arguments);wt(this,"priority",80);wt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,o,a){switch(o){case"a":case"aa":case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,a){return n.setHours(tC(a),0,0,0),n}}class tZ extends tr{constructor(){super(...arguments);wt(this,"priority",80);wt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,o,a){switch(o){case"b":case"bb":case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,a){return n.setHours(tC(a),0,0,0),n}}class nZ extends tr{constructor(){super(...arguments);wt(this,"priority",80);wt(this,"incompatibleTokens",["a","b","t","T"])}parse(n,o,a){switch(o){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,a){return n.setHours(tC(a),0,0,0),n}}class rZ extends tr{constructor(){super(...arguments);wt(this,"priority",70);wt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,o,a){switch(o){case"h":return ti(Ei.hour12h,n);case"ho":return a.ordinalNumber(n,{unit:"hour"});default:return gi(o.length,n)}}validate(n,o){return o>=1&&o<=12}set(n,o,a){const l=n.getHours()>=12;return l&&a<12?n.setHours(a+12,0,0,0):!l&&a===12?n.setHours(0,0,0,0):n.setHours(a,0,0,0),n}}class iZ extends tr{constructor(){super(...arguments);wt(this,"priority",70);wt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,o,a){switch(o){case"H":return ti(Ei.hour23h,n);case"Ho":return a.ordinalNumber(n,{unit:"hour"});default:return gi(o.length,n)}}validate(n,o){return o>=0&&o<=23}set(n,o,a){return n.setHours(a,0,0,0),n}}class oZ extends tr{constructor(){super(...arguments);wt(this,"priority",70);wt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,o,a){switch(o){case"K":return ti(Ei.hour11h,n);case"Ko":return a.ordinalNumber(n,{unit:"hour"});default:return gi(o.length,n)}}validate(n,o){return o>=0&&o<=11}set(n,o,a){return n.getHours()>=12&&a<12?n.setHours(a+12,0,0,0):n.setHours(a,0,0,0),n}}class sZ extends tr{constructor(){super(...arguments);wt(this,"priority",70);wt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,o,a){switch(o){case"k":return ti(Ei.hour24h,n);case"ko":return a.ordinalNumber(n,{unit:"hour"});default:return gi(o.length,n)}}validate(n,o){return o>=1&&o<=24}set(n,o,a){const l=a<=24?a%24:a;return n.setHours(l,0,0,0),n}}class aZ extends tr{constructor(){super(...arguments);wt(this,"priority",60);wt(this,"incompatibleTokens",["t","T"])}parse(n,o,a){switch(o){case"m":return ti(Ei.minute,n);case"mo":return a.ordinalNumber(n,{unit:"minute"});default:return gi(o.length,n)}}validate(n,o){return o>=0&&o<=59}set(n,o,a){return n.setMinutes(a,0,0),n}}class lZ extends tr{constructor(){super(...arguments);wt(this,"priority",50);wt(this,"incompatibleTokens",["t","T"])}parse(n,o,a){switch(o){case"s":return ti(Ei.second,n);case"so":return a.ordinalNumber(n,{unit:"second"});default:return gi(o.length,n)}}validate(n,o){return o>=0&&o<=59}set(n,o,a){return n.setSeconds(a,0),n}}class cZ extends tr{constructor(){super(...arguments);wt(this,"priority",30);wt(this,"incompatibleTokens",["t","T"])}parse(n,o){const a=l=>Math.trunc(l*Math.pow(10,-o.length+3));return Di(gi(o.length,n),a)}set(n,o,a){return n.setMilliseconds(a),n}}class uZ extends tr{constructor(){super(...arguments);wt(this,"priority",10);wt(this,"incompatibleTokens",["t","T","x"])}parse(n,o){switch(o){case"X":return Xl(Zl.basicOptionalMinutes,n);case"XX":return Xl(Zl.basic,n);case"XXXX":return Xl(Zl.basicOptionalSeconds,n);case"XXXXX":return Xl(Zl.extendedOptionalSeconds,n);case"XXX":default:return Xl(Zl.extended,n)}}set(n,o,a){return o.timestampIsSet?n:dr(n,n.getTime()-zk(n)-a)}}class dZ extends tr{constructor(){super(...arguments);wt(this,"priority",10);wt(this,"incompatibleTokens",["t","T","X"])}parse(n,o){switch(o){case"x":return Xl(Zl.basicOptionalMinutes,n);case"xx":return Xl(Zl.basic,n);case"xxxx":return Xl(Zl.basicOptionalSeconds,n);case"xxxxx":return Xl(Zl.extendedOptionalSeconds,n);case"xxx":default:return Xl(Zl.extended,n)}}set(n,o,a){return o.timestampIsSet?n:dr(n,n.getTime()-zk(n)-a)}}class hZ extends tr{constructor(){super(...arguments);wt(this,"priority",40);wt(this,"incompatibleTokens","*")}parse(n){return MO(n)}set(n,o,a){return[dr(n,a*1e3),{timestampIsSet:!0}]}}class fZ extends tr{constructor(){super(...arguments);wt(this,"priority",20);wt(this,"incompatibleTokens","*")}parse(n){return MO(n)}set(n,o,a){return[dr(n,a),{timestampIsSet:!0}]}}const pZ={G:new MJ,y:new PJ,Y:new OJ,R:new LJ,u:new jJ,Q:new BJ,q:new RJ,M:new FJ,L:new zJ,w:new qJ,I:new $J,d:new GJ,D:new YJ,E:new KJ,e:new QJ,c:new JJ,i:new XJ,a:new eZ,b:new tZ,B:new nZ,h:new rZ,H:new iZ,K:new oZ,k:new sZ,m:new aZ,s:new lZ,S:new cZ,X:new uZ,x:new dZ,t:new hZ,T:new fZ},mZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bZ=/^'([^]*?)'?$/,kZ=/''/g,wZ=/\S/,yZ=/[a-zA-Z]/;function xv(t,r,n,o){var _,D,E,N,P,F,V,$;const a=xJ(),l=(o==null?void 0:o.locale)??a.locale??SO,d=(o==null?void 0:o.firstWeekContainsDate)??((D=(_=o==null?void 0:o.locale)==null?void 0:_.options)==null?void 0:D.firstWeekContainsDate)??a.firstWeekContainsDate??((N=(E=a.locale)==null?void 0:E.options)==null?void 0:N.firstWeekContainsDate)??1,h=(o==null?void 0:o.weekStartsOn)??((F=(P=o==null?void 0:o.locale)==null?void 0:P.options)==null?void 0:F.weekStartsOn)??a.weekStartsOn??(($=(V=a.locale)==null?void 0:V.options)==null?void 0:$.weekStartsOn)??0;if(r==="")return t===""?Rt(n):dr(n,NaN);const p={firstWeekContainsDate:d,weekStartsOn:h,locale:l},g=[new NJ],b=r.match(gZ).map(M=>{const B=M[0];if(B in Wk){const q=Wk[B];return q(M,l.formatLong)}return M}).join("").match(mZ),v=[];for(let M of b){!(o!=null&&o.useAdditionalWeekYearTokens)&&TO(M)&&RA(M,r,t),!(o!=null&&o.useAdditionalDayOfYearTokens)&&IO(M)&&RA(M,r,t);const B=M[0],q=pZ[B];if(q){const{incompatibleTokens:Q}=q;if(Array.isArray(Q)){const R=v.find(K=>Q.includes(K.token)||K.token===B);if(R)throw new RangeError(`The format string mustn't contain \`${R.fullToken}\` and \`${M}\` at the same time`)}else if(q.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${M}\` and any other token at the same time`);v.push({token:B,fullToken:M});const H=q.run(t,M,l.match,p);if(!H)return dr(n,NaN);g.push(H.setter),t=H.rest}else{if(B.match(yZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");if(M==="''"?M="'":B==="'"&&(M=vZ(M)),t.indexOf(M)===0)t=t.slice(M.length);else return dr(n,NaN)}}if(t.length>0&&wZ.test(t))return dr(n,NaN);const y=g.map(M=>M.priority).sort((M,B)=>B-M).filter((M,B,q)=>q.indexOf(M)===B).map(M=>g.filter(B=>B.priority===M).sort((B,q)=>q.subPriority-B.subPriority)).map(M=>M[0]);let k=Rt(n);if(isNaN(k.getTime()))return dr(n,NaN);const x={};for(const M of y){if(!M.validate(k,p))return dr(n,NaN);const B=M.set(k,x,p);Array.isArray(B)?(k=B[0],Object.assign(x,B[1])):k=B}return dr(n,k)}function vZ(t){return t.match(bZ)[1].replace(kZ,"'")}function AZ(t,r){const n=Rt(t),o=Rt(r);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}function _Z(t,r){const n=BA(t),o=BA(r);return+n==+o}function CZ(t,r){const n=Rt(t),o=Rt(r);return n.getFullYear()===o.getFullYear()}function Og(t,r){const n=+Rt(t),[o,a]=[+Rt(r.start),+Rt(r.end)].sort((l,d)=>l-d);return n>=o&&n<=a}function xZ(t,r){return hl(t,-1)}function SZ(t,r){const o=TZ(t);let a;if(o.date){const p=NZ(o.date,2);a=MZ(p.restDateString,p.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const l=a.getTime();let d=0,h;if(o.time&&(d=PZ(o.time),isNaN(d)))return new Date(NaN);if(o.timezone){if(h=OZ(o.timezone),isNaN(h))return new Date(NaN)}else{const p=new Date(l+d),g=new Date(0);return g.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),g.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),g}return new Date(l+d+h)}const V0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},EZ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,DZ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,IZ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function TZ(t){const r={},n=t.split(V0.dateTimeDelimiter);let o;if(n.length>2)return r;if(/:/.test(n[0])?o=n[0]:(r.date=n[0],o=n[1],V0.timeZoneDelimiter.test(r.date)&&(r.date=t.split(V0.timeZoneDelimiter)[0],o=t.substr(r.date.length,t.length))),o){const a=V0.timezone.exec(o);a?(r.time=o.replace(a[1],""),r.timezone=a[1]):r.time=o}return r}function NZ(t,r){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),o=t.match(n);if(!o)return{year:NaN,restDateString:""};const a=o[1]?parseInt(o[1]):null,l=o[2]?parseInt(o[2]):null;return{year:l===null?a:l*100,restDateString:t.slice((o[1]||o[2]).length)}}function MZ(t,r){if(r===null)return new Date(NaN);const n=t.match(EZ);if(!n)return new Date(NaN);const o=!!n[4],a=$m(n[1]),l=$m(n[2])-1,d=$m(n[3]),h=$m(n[4]),p=$m(n[5])-1;if(o)return FZ(r,h,p)?LZ(r,h,p):new Date(NaN);{const g=new Date(0);return!BZ(r,l,d)||!RZ(r,a)?new Date(NaN):(g.setUTCFullYear(r,l,Math.max(a,d)),g)}}function $m(t){return t?parseInt(t):1}function PZ(t){const r=t.match(DZ);if(!r)return NaN;const n=Sv(r[1]),o=Sv(r[2]),a=Sv(r[3]);return zZ(n,o,a)?n*S1+o*x1+a*1e3:NaN}function Sv(t){return t&&parseFloat(t.replace(",","."))||0}function OZ(t){if(t==="Z")return 0;const r=t.match(IZ);if(!r)return 0;const n=r[1]==="+"?-1:1,o=parseInt(r[2]),a=r[3]&&parseInt(r[3])||0;return UZ(o,a)?n*(o*S1+a*x1):NaN}function LZ(t,r,n){const o=new Date(0);o.setUTCFullYear(t,0,4);const a=o.getUTCDay()||7,l=(r-1)*7+n+1-a;return o.setUTCDate(o.getUTCDate()+l),o}const jZ=[31,null,31,30,31,30,31,31,30,31,30,31];function LO(t){return t%400===0||t%4===0&&t%100!==0}function BZ(t,r,n){return r>=0&&r<=11&&n>=1&&n<=(jZ[r]||(LO(t)?29:28))}function RZ(t,r){return r>=1&&r<=(LO(t)?366:365)}function FZ(t,r,n){return r>=1&&r<=53&&n>=0&&n<=6}function zZ(t,r,n){return t===24?r===0&&n===0:n>=0&&n<60&&r>=0&&r<60&&t>=0&&t<25}function UZ(t,r){return r>=0&&r<=59}function $s(t,r){const n=Rt(t),o=n.getFullYear(),a=n.getDate(),l=dr(t,0);l.setFullYear(o,r,15),l.setHours(0,0,0,0);const d=CJ(l);return n.setMonth(r,Math.min(a,d)),n}function qZ(t,r){let n=Rt(t);return isNaN(+n)?dr(t,NaN):(r.year!=null&&n.setFullYear(r.year),r.month!=null&&(n=$s(n,r.month)),r.date!=null&&n.setDate(r.date),r.hours!=null&&n.setHours(r.hours),r.minutes!=null&&n.setMinutes(r.minutes),r.seconds!=null&&n.setSeconds(r.seconds),r.milliseconds!=null&&n.setMilliseconds(r.milliseconds),n)}function fk(t,r){const n=Rt(t);return n.setHours(r),n}function pk(t,r){const n=Rt(t);return n.setMinutes(r),n}function Xf(t,r){const n=Rt(t),o=Math.trunc(n.getMonth()/3)+1,a=r-o;return $s(n,n.getMonth()+a*3)}function mk(t,r){const n=Rt(t);return n.setSeconds(r),n}function Kl(t,r){const n=Rt(t);return isNaN(+n)?dr(t,NaN):(n.setFullYear(r),n)}function Sh(t,r){return fl(t,-r)}function jO(t,r){return Z_(t,-1)}function dT(t,r){return Uk(t,-1)}function vp(t,r){return Qc(t,-r)}function D1(){return typeof window<"u"}function Tp(t){return BO(t)?(t.nodeName||"").toLowerCase():"#document"}function Xs(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function gc(t){var r;return(r=(BO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function BO(t){return D1()?t instanceof Node||t instanceof Xs(t).Node:!1}function rs(t){return D1()?t instanceof Element||t instanceof Xs(t).Element:!1}function fc(t){return D1()?t instanceof HTMLElement||t instanceof Xs(t).HTMLElement:!1}function hT(t){return!D1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xs(t).ShadowRoot}const VZ=new Set(["inline","contents"]);function Xg(t){const{overflow:r,overflowX:n,overflowY:o,display:a}=Fa(t);return/auto|scroll|overlay|hidden|clip/.test(r+o+n)&&!VZ.has(a)}const $Z=new Set(["table","td","th"]);function HZ(t){return $Z.has(Tp(t))}const WZ=[":popover-open",":modal"];function I1(t){return WZ.some(r=>{try{return t.matches(r)}catch{return!1}})}const GZ=["transform","translate","scale","rotate","perspective"],YZ=["transform","translate","scale","rotate","perspective","filter"],KZ=["paint","layout","strict","content"];function rC(t){const r=iC(),n=rs(t)?Fa(t):t;return GZ.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!r&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!r&&(n.filter?n.filter!=="none":!1)||YZ.some(o=>(n.willChange||"").includes(o))||KZ.some(o=>(n.contain||"").includes(o))}function QZ(t){let r=ad(t);for(;fc(r)&&!Ap(r);){if(rC(r))return r;if(I1(r))return null;r=ad(r)}return null}function iC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const JZ=new Set(["html","body","#document"]);function Ap(t){return JZ.has(Tp(t))}function Fa(t){return Xs(t).getComputedStyle(t)}function T1(t){return rs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ad(t){if(Tp(t)==="html")return t;const r=t.assignedSlot||t.parentNode||hT(t)&&t.host||gc(t);return hT(r)?r.host:r}function RO(t){const r=ad(t);return Ap(r)?t.ownerDocument?t.ownerDocument.body:t.body:fc(r)&&Xg(r)?r:RO(r)}function Lg(t,r,n){var o;r===void 0&&(r=[]),n===void 0&&(n=!0);const a=RO(t),l=a===((o=t.ownerDocument)==null?void 0:o.body),d=Xs(a);if(l){const h=zA(d);return r.concat(d,d.visualViewport||[],Xg(a)?a:[],h&&n?Lg(h):[])}return r.concat(a,Lg(a,[],n))}function zA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const _p=Math.min,Eh=Math.max,Yk=Math.round,$0=Math.floor,lc=t=>({x:t,y:t}),ZZ={left:"right",right:"left",bottom:"top",top:"bottom"},XZ={start:"end",end:"start"};function eX(t,r,n){return Eh(t,_p(r,n))}function N1(t,r){return typeof t=="function"?t(r):t}function Cp(t){return t.split("-")[0]}function eb(t){return t.split("-")[1]}function tX(t){return t==="x"?"y":"x"}function oC(t){return t==="y"?"height":"width"}const nX=new Set(["top","bottom"]);function bh(t){return nX.has(Cp(t))?"y":"x"}function sC(t){return tX(bh(t))}function rX(t,r,n){n===void 0&&(n=!1);const o=eb(t),a=sC(t),l=oC(a);let d=a==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[l]>r.floating[l]&&(d=Kk(d)),[d,Kk(d)]}function iX(t){const r=Kk(t);return[UA(t),r,UA(r)]}function UA(t){return t.replace(/start|end/g,r=>XZ[r])}const fT=["left","right"],pT=["right","left"],oX=["top","bottom"],sX=["bottom","top"];function aX(t,r,n){switch(t){case"top":case"bottom":return n?r?pT:fT:r?fT:pT;case"left":case"right":return r?oX:sX;default:return[]}}function lX(t,r,n,o){const a=eb(t);let l=aX(Cp(t),n==="start",o);return a&&(l=l.map(d=>d+"-"+a),r&&(l=l.concat(l.map(UA)))),l}function Kk(t){return t.replace(/left|right|bottom|top/g,r=>ZZ[r])}function cX(t){return{top:0,right:0,bottom:0,left:0,...t}}function FO(t){return typeof t!="number"?cX(t):{top:t,right:t,bottom:t,left:t}}function Qk(t){const{x:r,y:n,width:o,height:a}=t;return{width:o,height:a,top:n,left:r,right:r+o,bottom:n+a,x:r,y:n}}var uX=typeof document<"u",dX=function(){},Jk=uX?Y.useLayoutEffect:dX;const hX={...k1},fX=hX.useInsertionEffect,pX=fX||(t=>t());function mX(t){const r=Y.useRef(()=>{});return pX(()=>{r.current=t}),Y.useCallback(function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r.current==null?void 0:r.current(...o)},[])}function mT(t,r,n){let{reference:o,floating:a}=t;const l=bh(r),d=sC(r),h=oC(d),p=Cp(r),g=l==="y",b=o.x+o.width/2-a.width/2,v=o.y+o.height/2-a.height/2,y=o[h]/2-a[h]/2;let k;switch(p){case"top":k={x:b,y:o.y-a.height};break;case"bottom":k={x:b,y:o.y+o.height};break;case"right":k={x:o.x+o.width,y:v};break;case"left":k={x:o.x-a.width,y:v};break;default:k={x:o.x,y:o.y}}switch(eb(r)){case"start":k[d]-=y*(n&&g?-1:1);break;case"end":k[d]+=y*(n&&g?-1:1);break}return k}const gX=async(t,r,n)=>{const{placement:o="bottom",strategy:a="absolute",middleware:l=[],platform:d}=n,h=l.filter(Boolean),p=await(d.isRTL==null?void 0:d.isRTL(r));let g=await d.getElementRects({reference:t,floating:r,strategy:a}),{x:b,y:v}=mT(g,o,p),y=o,k={},x=0;for(let _=0;_<h.length;_++){const{name:D,fn:E}=h[_],{x:N,y:P,data:F,reset:V}=await E({x:b,y:v,initialPlacement:o,placement:y,strategy:a,middlewareData:k,rects:g,platform:d,elements:{reference:t,floating:r}});b=N??b,v=P??v,k={...k,[D]:{...k[D],...F}},V&&x<=50&&(x++,typeof V=="object"&&(V.placement&&(y=V.placement),V.rects&&(g=V.rects===!0?await d.getElementRects({reference:t,floating:r,strategy:a}):V.rects),{x:b,y:v}=mT(g,y,p)),_=-1)}return{x:b,y:v,placement:y,strategy:a,middlewareData:k}};async function bX(t,r){var n;r===void 0&&(r={});const{x:o,y:a,platform:l,rects:d,elements:h,strategy:p}=t,{boundary:g="clippingAncestors",rootBoundary:b="viewport",elementContext:v="floating",altBoundary:y=!1,padding:k=0}=N1(r,t),x=FO(k),D=h[y?v==="floating"?"reference":"floating":v],E=Qk(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(D)))==null||n?D:D.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:g,rootBoundary:b,strategy:p})),N=v==="floating"?{x:o,y:a,width:d.floating.width,height:d.floating.height}:d.reference,P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),F=await(l.isElement==null?void 0:l.isElement(P))?await(l.getScale==null?void 0:l.getScale(P))||{x:1,y:1}:{x:1,y:1},V=Qk(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:N,offsetParent:P,strategy:p}):N);return{top:(E.top-V.top+x.top)/F.y,bottom:(V.bottom-E.bottom+x.bottom)/F.y,left:(E.left-V.left+x.left)/F.x,right:(V.right-E.right+x.right)/F.x}}const kX=t=>({name:"arrow",options:t,async fn(r){const{x:n,y:o,placement:a,rects:l,platform:d,elements:h,middlewareData:p}=r,{element:g,padding:b=0}=N1(t,r)||{};if(g==null)return{};const v=FO(b),y={x:n,y:o},k=sC(a),x=oC(k),_=await d.getDimensions(g),D=k==="y",E=D?"top":"left",N=D?"bottom":"right",P=D?"clientHeight":"clientWidth",F=l.reference[x]+l.reference[k]-y[k]-l.floating[x],V=y[k]-l.reference[k],$=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g));let M=$?$[P]:0;(!M||!await(d.isElement==null?void 0:d.isElement($)))&&(M=h.floating[P]||l.floating[x]);const B=F/2-V/2,q=M/2-_[x]/2-1,Q=_p(v[E],q),H=_p(v[N],q),R=Q,K=M-_[x]-H,j=M/2-_[x]/2+B,ne=eX(R,j,K),de=!p.arrow&&eb(a)!=null&&j!==ne&&l.reference[x]/2-(j<R?Q:H)-_[x]/2<0,se=de?j<R?j-R:j-K:0;return{[k]:y[k]+se,data:{[k]:ne,centerOffset:j-ne-se,...de&&{alignmentOffset:se}},reset:de}}}),wX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var n,o;const{placement:a,middlewareData:l,rects:d,initialPlacement:h,platform:p,elements:g}=r,{mainAxis:b=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:_=!0,...D}=N1(t,r);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const E=Cp(a),N=bh(h),P=Cp(h)===h,F=await(p.isRTL==null?void 0:p.isRTL(g.floating)),V=y||(P||!_?[Kk(h)]:iX(h)),$=x!=="none";!y&&$&&V.push(...lX(h,_,x,F));const M=[h,...V],B=await bX(r,D),q=[];let Q=((o=l.flip)==null?void 0:o.overflows)||[];if(b&&q.push(B[E]),v){const j=rX(a,d,F);q.push(B[j[0]],B[j[1]])}if(Q=[...Q,{placement:a,overflows:q}],!q.every(j=>j<=0)){var H,R;const j=(((H=l.flip)==null?void 0:H.index)||0)+1,ne=M[j];if(ne&&(!(v==="alignment"?N!==bh(ne):!1)||Q.every(oe=>oe.overflows[0]>0&&bh(oe.placement)===N)))return{data:{index:j,overflows:Q},reset:{placement:ne}};let de=(R=Q.filter(se=>se.overflows[0]<=0).sort((se,oe)=>se.overflows[1]-oe.overflows[1])[0])==null?void 0:R.placement;if(!de)switch(k){case"bestFit":{var K;const se=(K=Q.filter(oe=>{if($){const ye=bh(oe.placement);return ye===N||ye==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter(ye=>ye>0).reduce((ye,re)=>ye+re,0)]).sort((oe,ye)=>oe[1]-ye[1])[0])==null?void 0:K[0];se&&(de=se);break}case"initialPlacement":de=h;break}if(a!==de)return{reset:{placement:de}}}return{}}}},yX=new Set(["left","top"]);async function vX(t,r){const{placement:n,platform:o,elements:a}=t,l=await(o.isRTL==null?void 0:o.isRTL(a.floating)),d=Cp(n),h=eb(n),p=bh(n)==="y",g=yX.has(d)?-1:1,b=l&&p?-1:1,v=N1(r,t);let{mainAxis:y,crossAxis:k,alignmentAxis:x}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return h&&typeof x=="number"&&(k=h==="end"?x*-1:x),p?{x:k*b,y:y*g}:{x:y*g,y:k*b}}const AX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var n,o;const{x:a,y:l,placement:d,middlewareData:h}=r,p=await vX(r,t);return d===((n=h.offset)==null?void 0:n.placement)&&(o=h.arrow)!=null&&o.alignmentOffset?{}:{x:a+p.x,y:l+p.y,data:{...p,placement:d}}}}};function zO(t){const r=Fa(t);let n=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const a=fc(t),l=a?t.offsetWidth:n,d=a?t.offsetHeight:o,h=Yk(n)!==l||Yk(o)!==d;return h&&(n=l,o=d),{width:n,height:o,$:h}}function aC(t){return rs(t)?t:t.contextElement}function sp(t){const r=aC(t);if(!fc(r))return lc(1);const n=r.getBoundingClientRect(),{width:o,height:a,$:l}=zO(r);let d=(l?Yk(n.width):n.width)/o,h=(l?Yk(n.height):n.height)/a;return(!d||!Number.isFinite(d))&&(d=1),(!h||!Number.isFinite(h))&&(h=1),{x:d,y:h}}const _X=lc(0);function UO(t){const r=Xs(t);return!iC()||!r.visualViewport?_X:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function CX(t,r,n){return r===void 0&&(r=!1),!n||r&&n!==Xs(t)?!1:r}function Bh(t,r,n,o){r===void 0&&(r=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),l=aC(t);let d=lc(1);r&&(o?rs(o)&&(d=sp(o)):d=sp(t));const h=CX(l,n,o)?UO(l):lc(0);let p=(a.left+h.x)/d.x,g=(a.top+h.y)/d.y,b=a.width/d.x,v=a.height/d.y;if(l){const y=Xs(l),k=o&&rs(o)?Xs(o):o;let x=y,_=zA(x);for(;_&&o&&k!==x;){const D=sp(_),E=_.getBoundingClientRect(),N=Fa(_),P=E.left+(_.clientLeft+parseFloat(N.paddingLeft))*D.x,F=E.top+(_.clientTop+parseFloat(N.paddingTop))*D.y;p*=D.x,g*=D.y,b*=D.x,v*=D.y,p+=P,g+=F,x=Xs(_),_=zA(x)}}return Qk({width:b,height:v,x:p,y:g})}function lC(t,r){const n=T1(t).scrollLeft;return r?r.left+n:Bh(gc(t)).left+n}function qO(t,r,n){n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=o.left+r.scrollLeft-(n?0:lC(t,o)),l=o.top+r.scrollTop;return{x:a,y:l}}function xX(t){let{elements:r,rect:n,offsetParent:o,strategy:a}=t;const l=a==="fixed",d=gc(o),h=r?I1(r.floating):!1;if(o===d||h&&l)return n;let p={scrollLeft:0,scrollTop:0},g=lc(1);const b=lc(0),v=fc(o);if((v||!v&&!l)&&((Tp(o)!=="body"||Xg(d))&&(p=T1(o)),fc(o))){const k=Bh(o);g=sp(o),b.x=k.x+o.clientLeft,b.y=k.y+o.clientTop}const y=d&&!v&&!l?qO(d,p,!0):lc(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-p.scrollLeft*g.x+b.x+y.x,y:n.y*g.y-p.scrollTop*g.y+b.y+y.y}}function SX(t){return Array.from(t.getClientRects())}function EX(t){const r=gc(t),n=T1(t),o=t.ownerDocument.body,a=Eh(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),l=Eh(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let d=-n.scrollLeft+lC(t);const h=-n.scrollTop;return Fa(o).direction==="rtl"&&(d+=Eh(r.clientWidth,o.clientWidth)-a),{width:a,height:l,x:d,y:h}}function DX(t,r){const n=Xs(t),o=gc(t),a=n.visualViewport;let l=o.clientWidth,d=o.clientHeight,h=0,p=0;if(a){l=a.width,d=a.height;const g=iC();(!g||g&&r==="fixed")&&(h=a.offsetLeft,p=a.offsetTop)}return{width:l,height:d,x:h,y:p}}const IX=new Set(["absolute","fixed"]);function TX(t,r){const n=Bh(t,!0,r==="fixed"),o=n.top+t.clientTop,a=n.left+t.clientLeft,l=fc(t)?sp(t):lc(1),d=t.clientWidth*l.x,h=t.clientHeight*l.y,p=a*l.x,g=o*l.y;return{width:d,height:h,x:p,y:g}}function gT(t,r,n){let o;if(r==="viewport")o=DX(t,n);else if(r==="document")o=EX(gc(t));else if(rs(r))o=TX(r,n);else{const a=UO(t);o={x:r.x-a.x,y:r.y-a.y,width:r.width,height:r.height}}return Qk(o)}function VO(t,r){const n=ad(t);return n===r||!rs(n)||Ap(n)?!1:Fa(n).position==="fixed"||VO(n,r)}function NX(t,r){const n=r.get(t);if(n)return n;let o=Lg(t,[],!1).filter(h=>rs(h)&&Tp(h)!=="body"),a=null;const l=Fa(t).position==="fixed";let d=l?ad(t):t;for(;rs(d)&&!Ap(d);){const h=Fa(d),p=rC(d);!p&&h.position==="fixed"&&(a=null),(l?!p&&!a:!p&&h.position==="static"&&!!a&&IX.has(a.position)||Xg(d)&&!p&&VO(t,d))?o=o.filter(b=>b!==d):a=h,d=ad(d)}return r.set(t,o),o}function MX(t){let{element:r,boundary:n,rootBoundary:o,strategy:a}=t;const d=[...n==="clippingAncestors"?I1(r)?[]:NX(r,this._c):[].concat(n),o],h=d[0],p=d.reduce((g,b)=>{const v=gT(r,b,a);return g.top=Eh(v.top,g.top),g.right=_p(v.right,g.right),g.bottom=_p(v.bottom,g.bottom),g.left=Eh(v.left,g.left),g},gT(r,h,a));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function PX(t){const{width:r,height:n}=zO(t);return{width:r,height:n}}function OX(t,r,n){const o=fc(r),a=gc(r),l=n==="fixed",d=Bh(t,!0,l,r);let h={scrollLeft:0,scrollTop:0};const p=lc(0);function g(){p.x=lC(a)}if(o||!o&&!l)if((Tp(r)!=="body"||Xg(a))&&(h=T1(r)),o){const k=Bh(r,!0,l,r);p.x=k.x+r.clientLeft,p.y=k.y+r.clientTop}else a&&g();l&&!o&&a&&g();const b=a&&!o&&!l?qO(a,h):lc(0),v=d.left+h.scrollLeft-p.x-b.x,y=d.top+h.scrollTop-p.y-b.y;return{x:v,y,width:d.width,height:d.height}}function Ev(t){return Fa(t).position==="static"}function bT(t,r){if(!fc(t)||Fa(t).position==="fixed")return null;if(r)return r(t);let n=t.offsetParent;return gc(t)===n&&(n=n.ownerDocument.body),n}function $O(t,r){const n=Xs(t);if(I1(t))return n;if(!fc(t)){let a=ad(t);for(;a&&!Ap(a);){if(rs(a)&&!Ev(a))return a;a=ad(a)}return n}let o=bT(t,r);for(;o&&HZ(o)&&Ev(o);)o=bT(o,r);return o&&Ap(o)&&Ev(o)&&!rC(o)?n:o||QZ(t)||n}const LX=async function(t){const r=this.getOffsetParent||$O,n=this.getDimensions,o=await n(t.floating);return{reference:OX(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function jX(t){return Fa(t).direction==="rtl"}const BX={convertOffsetParentRelativeRectToViewportRelativeRect:xX,getDocumentElement:gc,getClippingRect:MX,getOffsetParent:$O,getElementRects:LX,getClientRects:SX,getDimensions:PX,getScale:sp,isElement:rs,isRTL:jX};function HO(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function RX(t,r){let n=null,o;const a=gc(t);function l(){var h;clearTimeout(o),(h=n)==null||h.disconnect(),n=null}function d(h,p){h===void 0&&(h=!1),p===void 0&&(p=1),l();const g=t.getBoundingClientRect(),{left:b,top:v,width:y,height:k}=g;if(h||r(),!y||!k)return;const x=$0(v),_=$0(a.clientWidth-(b+y)),D=$0(a.clientHeight-(v+k)),E=$0(b),P={rootMargin:-x+"px "+-_+"px "+-D+"px "+-E+"px",threshold:Eh(0,_p(1,p))||1};let F=!0;function V($){const M=$[0].intersectionRatio;if(M!==p){if(!F)return d();M?d(!1,M):o=setTimeout(()=>{d(!1,1e-7)},1e3)}M===1&&!HO(g,t.getBoundingClientRect())&&d(),F=!1}try{n=new IntersectionObserver(V,{...P,root:a.ownerDocument})}catch{n=new IntersectionObserver(V,P)}n.observe(t)}return d(!0),l}function FX(t,r,n,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:p=!1}=o,g=aC(t),b=a||l?[...g?Lg(g):[],...Lg(r)]:[];b.forEach(E=>{a&&E.addEventListener("scroll",n,{passive:!0}),l&&E.addEventListener("resize",n)});const v=g&&h?RX(g,n):null;let y=-1,k=null;d&&(k=new ResizeObserver(E=>{let[N]=E;N&&N.target===g&&k&&(k.unobserve(r),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var P;(P=k)==null||P.observe(r)})),n()}),g&&!p&&k.observe(g),k.observe(r));let x,_=p?Bh(t):null;p&&D();function D(){const E=Bh(t);_&&!HO(_,E)&&n(),_=E,x=requestAnimationFrame(D)}return n(),()=>{var E;b.forEach(N=>{a&&N.removeEventListener("scroll",n),l&&N.removeEventListener("resize",n)}),v==null||v(),(E=k)==null||E.disconnect(),k=null,p&&cancelAnimationFrame(x)}}const zX=AX,UX=wX,kT=kX,qX=(t,r,n)=>{const o=new Map,a={platform:BX,...n},l={...a.platform,_c:o};return gX(t,r,{...a,platform:l})};var VX=typeof document<"u",$X=function(){},gk=VX?Y.useLayoutEffect:$X;function Zk(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let n,o,a;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==r.length)return!1;for(o=n;o--!==0;)if(!Zk(t[o],r[o]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(r,a[o]))return!1;for(o=n;o--!==0;){const l=a[o];if(!(l==="_owner"&&t.$$typeof)&&!Zk(t[l],r[l]))return!1}return!0}return t!==t&&r!==r}function WO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function wT(t,r){const n=WO(t);return Math.round(r*n)/n}function Dv(t){const r=Y.useRef(t);return gk(()=>{r.current=t}),r}function HX(t){t===void 0&&(t={});const{placement:r="bottom",strategy:n="absolute",middleware:o=[],platform:a,elements:{reference:l,floating:d}={},transform:h=!0,whileElementsMounted:p,open:g}=t,[b,v]=Y.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[y,k]=Y.useState(o);Zk(y,o)||k(o);const[x,_]=Y.useState(null),[D,E]=Y.useState(null),N=Y.useCallback(oe=>{oe!==$.current&&($.current=oe,_(oe))},[]),P=Y.useCallback(oe=>{oe!==M.current&&(M.current=oe,E(oe))},[]),F=l||x,V=d||D,$=Y.useRef(null),M=Y.useRef(null),B=Y.useRef(b),q=p!=null,Q=Dv(p),H=Dv(a),R=Dv(g),K=Y.useCallback(()=>{if(!$.current||!M.current)return;const oe={placement:r,strategy:n,middleware:y};H.current&&(oe.platform=H.current),qX($.current,M.current,oe).then(ye=>{const re={...ye,isPositioned:R.current!==!1};j.current&&!Zk(B.current,re)&&(B.current=re,gP.flushSync(()=>{v(re)}))})},[y,r,n,H,R]);gk(()=>{g===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,v(oe=>({...oe,isPositioned:!1})))},[g]);const j=Y.useRef(!1);gk(()=>(j.current=!0,()=>{j.current=!1}),[]),gk(()=>{if(F&&($.current=F),V&&(M.current=V),F&&V){if(Q.current)return Q.current(F,V,K);K()}},[F,V,K,Q,q]);const ne=Y.useMemo(()=>({reference:$,floating:M,setReference:N,setFloating:P}),[N,P]),de=Y.useMemo(()=>({reference:F,floating:V}),[F,V]),se=Y.useMemo(()=>{const oe={position:n,left:0,top:0};if(!de.floating)return oe;const ye=wT(de.floating,b.x),re=wT(de.floating,b.y);return h?{...oe,transform:"translate("+ye+"px, "+re+"px)",...WO(de.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ye,top:re}},[n,h,de.floating,b.x,b.y]);return Y.useMemo(()=>({...b,update:K,refs:ne,elements:de,floatingStyles:se}),[b,K,ne,de,se])}const WX=t=>{function r(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:a}=typeof t=="function"?t(n):t;return o&&r(o)?o.current!=null?kT({element:o.current,padding:a}).fn(n):{}:o?kT({element:o,padding:a}).fn(n):{}}}},GX=(t,r)=>({...zX(t),options:[t,r]}),YX=(t,r)=>({...UX(t),options:[t,r]}),KX=(t,r)=>({...WX(t),options:[t,r]}),QX={...k1};let yT=!1,JX=0;const vT=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+JX++;function ZX(){const[t,r]=Y.useState(()=>yT?vT():void 0);return Jk(()=>{t==null&&r(vT())},[]),Y.useEffect(()=>{yT=!0},[]),t}const XX=QX.useId,GO=XX||ZX,eee=Y.forwardRef(function(r,n){const{context:{placement:o,elements:{floating:a},middlewareData:{arrow:l,shift:d}},width:h=14,height:p=7,tipRadius:g=0,strokeWidth:b=0,staticOffset:v,stroke:y,d:k,style:{transform:x,..._}={},...D}=r,E=GO(),[N,P]=Y.useState(!1);if(Jk(()=>{if(!a)return;Fa(a).direction==="rtl"&&P(!0)},[a]),!a)return null;const[F,V]=o.split("-"),$=F==="top"||F==="bottom";let M=v;($&&d!=null&&d.x||!$&&d!=null&&d.y)&&(M=null);const B=b*2,q=B/2,Q=h/2*(g/-8+1),H=p/2*g/4,R=!!k,K=M&&V==="end"?"bottom":"top";let j=M&&V==="end"?"right":"left";M&&N&&(j=V==="end"?"left":"right");const ne=(l==null?void 0:l.x)!=null?M||l.x:"",de=(l==null?void 0:l.y)!=null?M||l.y:"",se=k||"M0,0"+(" H"+h)+(" L"+(h-Q)+","+(p-H))+(" Q"+h/2+","+p+" "+Q+","+(p-H))+" Z",oe={top:R?"rotate(180deg)":"",left:R?"rotate(90deg)":"rotate(-90deg)",bottom:R?"":"rotate(180deg)",right:R?"rotate(-90deg)":"rotate(90deg)"}[F];return C.jsxs("svg",{...D,"aria-hidden":!0,ref:n,width:R?h:h+B,height:h,viewBox:"0 0 "+h+" "+(p>h?p:h),style:{position:"absolute",pointerEvents:"none",[j]:ne,[K]:de,[F]:$||R?"100%":"calc(100% - "+B/2+"px)",transform:[oe,x].filter(ye=>!!ye).join(" "),..._},children:[B>0&&C.jsx("path",{clipPath:"url(#"+E+")",fill:"none",stroke:y,strokeWidth:B+(k?0:1),d:se}),C.jsx("path",{stroke:B&&!k?D.fill:"none",d:se}),C.jsx("clipPath",{id:E,children:C.jsx("rect",{x:-q,y:q*(R?-1:1),width:h+B,height:h})})]})});function tee(){const t=new Map;return{emit(r,n){var o;(o=t.get(r))==null||o.forEach(a=>a(n))},on(r,n){t.has(r)||t.set(r,new Set),t.get(r).add(n)},off(r,n){var o;(o=t.get(r))==null||o.delete(n)}}}const nee=Y.createContext(null),ree=Y.createContext(null),iee=()=>{var t;return((t=Y.useContext(nee))==null?void 0:t.id)||null},oee=()=>Y.useContext(ree);function see(t){const{open:r=!1,onOpenChange:n,elements:o}=t,a=GO(),l=Y.useRef({}),[d]=Y.useState(()=>tee()),h=iee()!=null,[p,g]=Y.useState(o.reference),b=mX((k,x,_)=>{l.current.openEvent=k?x:void 0,d.emit("openchange",{open:k,event:x,reason:_,nested:h}),n==null||n(k,x,_)}),v=Y.useMemo(()=>({setPositionReference:g}),[]),y=Y.useMemo(()=>({reference:p||o.reference||null,floating:o.floating||null,domReference:o.reference}),[p,o.reference,o.floating]);return Y.useMemo(()=>({dataRef:l,open:r,onOpenChange:b,elements:y,events:d,floatingId:a,refs:v}),[r,b,y,d,a,v])}function aee(t){t===void 0&&(t={});const{nodeId:r}=t,n=see({...t,elements:{reference:null,floating:null,...t.elements}}),o=t.rootContext||n,a=o.elements,[l,d]=Y.useState(null),[h,p]=Y.useState(null),b=(a==null?void 0:a.domReference)||l,v=Y.useRef(null),y=oee();Jk(()=>{b&&(v.current=b)},[b]);const k=HX({...t,elements:{...a,...h&&{reference:h}}}),x=Y.useCallback(P=>{const F=rs(P)?{getBoundingClientRect:()=>P.getBoundingClientRect(),getClientRects:()=>P.getClientRects(),contextElement:P}:P;p(F),k.refs.setReference(F)},[k.refs]),_=Y.useCallback(P=>{(rs(P)||P===null)&&(v.current=P,d(P)),(rs(k.refs.reference.current)||k.refs.reference.current===null||P!==null&&!rs(P))&&k.refs.setReference(P)},[k.refs]),D=Y.useMemo(()=>({...k.refs,setReference:_,setPositionReference:x,domReference:v}),[k.refs,_,x]),E=Y.useMemo(()=>({...k.elements,domReference:b}),[k.elements,b]),N=Y.useMemo(()=>({...k,...o,refs:D,elements:E,nodeId:r}),[k,D,E,r,o]);return Jk(()=>{o.dataRef.current.floatingContext=N;const P=y==null?void 0:y.nodesRef.current.find(F=>F.id===r);P&&(P.context=N)}),Y.useMemo(()=>({...k,context:N,refs:D,elements:E}),[k,D,E,N])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var qA=function(r,n){return qA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])},qA(r,n)};function oo(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");qA(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var Wn=function(){return Wn=Object.assign||function(n){for(var o,a=1,l=arguments.length;a<l;a++){o=arguments[a];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(n[d]=o[d])}return n},Wn.apply(this,arguments)};function rc(t,r,n){if(n||arguments.length===2)for(var o=0,a=r.length,l;o<a;o++)(l||!(o in r))&&(l||(l=Array.prototype.slice.call(r,0,o)),l[o]=r[o]);return t.concat(l||Array.prototype.slice.call(r))}var lee=function(t){var r=t.showTimeSelectOnly,n=r===void 0?!1:r,o=t.showTime,a=o===void 0?!1:o,l=t.className,d=t.children,h=n?"Choose Time":"Choose Date".concat(a?" and Time":"");return at.createElement("div",{className:l,role:"dialog","aria-label":h,"aria-modal":"true"},d)},cee=function(t,r){var n=Y.useRef(null),o=Y.useRef(t);o.current=t;var a=Y.useCallback(function(l){var d;n.current&&!n.current.contains(l.target)&&(r&&l.target instanceof HTMLElement&&l.target.classList.contains(r)||(d=o.current)===null||d===void 0||d.call(o,l))},[r]);return Y.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),n},M1=function(t){var r=t.children,n=t.onClickOutside,o=t.className,a=t.containerRef,l=t.style,d=t.ignoreClass,h=cee(n,d);return at.createElement("div",{className:o,style:l,ref:function(p){h.current=p,a&&(a.current=p)}},r)},Lt;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Lt||(Lt={}));function YO(){var t=typeof window<"u"?window:globalThis;return t}var tb=12,uee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function hr(t){if(t==null)return new Date;var r=typeof t=="string"?SZ(t):Rt(t);return Yc(r)?r:new Date}function Iv(t,r,n,o,a){var l,d=null,h=Dh(n)||Dh(mg()),p=!0;if(Array.isArray(r))return r.forEach(function(b){var v=xv(t,b,new Date,{locale:h,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});o&&(p=Yc(v,a)&&t===Lr(v,b,n)),Yc(v,a)&&p&&(d=v)}),d;if(d=xv(t,r,new Date,{locale:h,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),o)p=Yc(d)&&t===Lr(d,r,n);else if(!Yc(d)){var g=((l=r.match(uee))!==null&&l!==void 0?l:[]).map(function(b){var v=b[0];if(v==="p"||v==="P"){var y=Wk[v];return h?y(b,h.formatLong):v}return b}).join("");t.length>0&&(d=xv(t,g.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Yc(d)||(d=new Date(t))}return Yc(d)&&p?d:null}function Yc(t,r){return qk(t)&&!jh(t,r??new Date("1/1/1800"))}function Lr(t,r,n){if(n==="en")return cT(t,r,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var o=n?Dh(n):void 0;return n&&!o&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!o&&mg()&&Dh(mg())&&(o=Dh(mg())),cT(t,r,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Na(t,r){var n=r.dateFormat,o=r.locale,a=Array.isArray(n)&&n.length>0?n[0]:n;return t&&Lr(t,a,o)||""}function dee(t,r,n){if(!t)return"";var o=Na(t,n),a=r?Na(r,n):"";return"".concat(o," - ").concat(a)}function hee(t,r){if(!(t!=null&&t.length))return"";var n=t[0]?Na(t[0],r):"";if(t.length===1)return n;if(t.length===2&&t[1]){var o=Na(t[1],r);return"".concat(n,", ").concat(o)}var a=t.length-1;return"".concat(n," (+").concat(a,")")}function Tv(t,r){var n=r.hour,o=n===void 0?0:n,a=r.minute,l=a===void 0?0:a,d=r.second,h=d===void 0?0:d;return fk(pk(mk(t,h),l),o)}function fee(t){return X_(t)}function pee(t,r){return Lr(t,"ddd",r)}function bk(t){return Lh(t)}function rd(t,r,n){var o=Dh(r||mg());return tu(t,{locale:o,weekStartsOn:n})}function Xc(t){return CO(t)}function ug(t){return E1(t)}function AT(t){return BA(t)}function _T(){return Lh(hr())}function CT(t){return AO(t)}function mee(t){return NQ(t)}function gee(t){return _O(t)}function Ql(t,r){return t&&r?CZ(t,r):!t&&!r}function ts(t,r){return t&&r?AZ(t,r):!t&&!r}function Xk(t,r){return t&&r?_Z(t,r):!t&&!r}function Un(t,r){return t&&r?IQ(t,r):!t&&!r}function kh(t,r){return t&&r?EJ(t,r):!t&&!r}function dg(t,r,n){var o,a=Lh(r),l=AO(n);try{o=Og(t,{start:a,end:l})}catch{o=!1}return o}function mg(){var t=YO();return t.__localeId__}function Dh(t){if(typeof t=="string"){var r=YO();return r.__localeData__?r.__localeData__[t]:void 0}else return t}function bee(t,r,n){return r(Lr(t,"EEEE",n))}function kee(t,r){return Lr(t,"EEEEEE",r)}function wee(t,r){return Lr(t,"EEE",r)}function cC(t,r){return Lr($s(hr(),t),"LLLL",r)}function KO(t,r){return Lr($s(hr(),t),"LLL",r)}function yee(t,r){return Lr(Xf(hr(),t),"QQQ",r)}function Oa(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.maxDate,l=n.excludeDates,d=n.excludeDateIntervals,h=n.includeDates,p=n.includeDateIntervals,g=n.filterDate;return nb(t,{minDate:o,maxDate:a})||l&&l.some(function(b){return b instanceof Date?Un(t,b):Un(t,b.date)})||d&&d.some(function(b){var v=b.start,y=b.end;return Og(t,{start:v,end:y})})||h&&!h.some(function(b){return Un(t,b)})||p&&!p.some(function(b){var v=b.start,y=b.end;return Og(t,{start:v,end:y})})||g&&!g(hr(t))||!1}function uC(t,r){var n=r===void 0?{}:r,o=n.excludeDates,a=n.excludeDateIntervals;return a&&a.length>0?a.some(function(l){var d=l.start,h=l.end;return Og(t,{start:d,end:h})}):o&&o.some(function(l){var d;return l instanceof Date?Un(t,l):Un(t,(d=l.date)!==null&&d!==void 0?d:new Date)})||!1}function QO(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.maxDate,l=n.excludeDates,d=n.includeDates,h=n.filterDate;return nb(t,{minDate:o?CO(o):void 0,maxDate:a?_O(a):void 0})||(l==null?void 0:l.some(function(p){return ts(t,p instanceof Date?p:p.date)}))||d&&!d.some(function(p){return ts(t,p)})||h&&!h(hr(t))||!1}function H0(t,r,n,o){var a=Tn(t),l=ns(t),d=Tn(r),h=ns(r),p=Tn(o);return a===d&&a===p?l<=n&&n<=h:a<d?p===a&&l<=n||p===d&&h>=n||p<d&&p>a:!1}function vee(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.maxDate,l=n.excludeDates,d=n.includeDates;return nb(t,{minDate:o,maxDate:a})||l&&l.some(function(h){return ts(h instanceof Date?h:h.date,t)})||d&&!d.some(function(h){return ts(h,t)})||!1}function W0(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.maxDate,l=n.excludeDates,d=n.includeDates,h=n.filterDate;return nb(t,{minDate:o,maxDate:a})||(l==null?void 0:l.some(function(p){return Xk(t,p instanceof Date?p:p.date)}))||d&&!d.some(function(p){return Xk(t,p)})||h&&!h(hr(t))||!1}function G0(t,r,n){if(!r||!n||!qk(r)||!qk(n))return!1;var o=Tn(r),a=Tn(n);return o<=t&&a>=t}function kk(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.maxDate,l=n.excludeDates,d=n.includeDates,h=n.filterDate,p=new Date(t,0,1);return nb(p,{minDate:o?E1(o):void 0,maxDate:a?xO(a):void 0})||(l==null?void 0:l.some(function(g){return Ql(p,g instanceof Date?g:g.date)}))||d&&!d.some(function(g){return Ql(p,g)})||h&&!h(hr(p))||!1}function Y0(t,r,n,o){var a=Tn(t),l=xh(t),d=Tn(r),h=xh(r),p=Tn(o);return a===d&&a===p?l<=n&&n<=h:a<d?p===a&&l<=n||p===d&&h>=n||p<d&&p>a:!1}function nb(t,r){var n,o=r===void 0?{}:r,a=o.minDate,l=o.maxDate;return(n=a&&yp(t,a)<0||l&&yp(t,l)>0)!==null&&n!==void 0?n:!1}function xT(t,r){return r.some(function(n){return sc(n)===sc(t)&&ac(n)===ac(t)&&Zc(n)===Zc(t)})}function ST(t,r){var n=r===void 0?{}:r,o=n.excludeTimes,a=n.includeTimes,l=n.filterTime;return o&&xT(t,o)||a&&!xT(t,a)||l&&!l(t)||!1}function ET(t,r){var n=r.minTime,o=r.maxTime;if(!n||!o)throw new Error("Both minTime and maxTime props required");var a=hr();a=fk(a,sc(t)),a=pk(a,ac(t)),a=mk(a,Zc(t));var l=hr();l=fk(l,sc(n)),l=pk(l,ac(n)),l=mk(l,Zc(n));var d=hr();d=fk(d,sc(o)),d=pk(d,ac(o)),d=mk(d,Zc(o));var h;try{h=!Og(a,{start:l,end:d})}catch{h=!1}return h}function DT(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.includeDates,l=Sh(t,1);return o&&Vk(o,l)>0||a&&a.every(function(d){return Vk(d,l)>0})||!1}function IT(t,r){var n=r===void 0?{}:r,o=n.maxDate,a=n.includeDates,l=fl(t,1);return o&&Vk(l,o)>0||a&&a.every(function(d){return Vk(l,d)>0})||!1}function Aee(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.includeDates,l=E1(t),d=jO(l);return o&&$k(o,d)>0||a&&a.every(function(h){return $k(h,d)>0})||!1}function _ee(t,r){var n=r===void 0?{}:r,o=n.maxDate,a=n.includeDates,l=xO(t),d=Z_(l,1);return o&&$k(d,o)>0||a&&a.every(function(h){return $k(d,h)>0})||!1}function TT(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.includeDates,l=vp(t,1);return o&&Hk(o,l)>0||a&&a.every(function(d){return Hk(d,l)>0})||!1}function Cee(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.yearItemNumber,l=a===void 0?tb:a,d=ug(vp(t,l)),h=Ju(d,l).endPeriod,p=o&&Tn(o);return p&&p>h||!1}function NT(t,r){var n=r===void 0?{}:r,o=n.maxDate,a=n.includeDates,l=Qc(t,1);return o&&Hk(l,o)>0||a&&a.every(function(d){return Hk(l,d)>0})||!1}function xee(t,r){var n=r===void 0?{}:r,o=n.maxDate,a=n.yearItemNumber,l=a===void 0?tb:a,d=Qc(t,l),h=Ju(d,l).startPeriod,p=o&&Tn(o);return p&&p<h||!1}function JO(t){var r=t.minDate,n=t.includeDates;if(n&&r){var o=n.filter(function(a){return yp(a,r)>=0});return rT(o)}else return n?rT(n):r}function ZO(t){var r=t.maxDate,n=t.includeDates;if(n&&r){var o=n.filter(function(a){return yp(a,r)<=0});return nT(o)}else return n?nT(n):r}function MT(t,r){var n;t===void 0&&(t=[]),r===void 0&&(r="react-datepicker__day--highlighted");for(var o=new Map,a=0,l=t.length;a<l;a++){var d=t[a];if(Jc(d)){var h=Lr(d,"MM.dd.yyyy"),p=o.get(h)||[];p.includes(r)||(p.push(r),o.set(h,p))}else if(typeof d=="object"){var g=Object.keys(d),b=(n=g[0])!==null&&n!==void 0?n:"",v=d[b];if(typeof b=="string"&&Array.isArray(v))for(var y=0,k=v.length;y<k;y++){var x=v[y];if(x){var h=Lr(x,"MM.dd.yyyy"),p=o.get(h)||[];p.includes(b)||(p.push(b),o.set(h,p))}}}}return o}function See(t,r){return t.length!==r.length?!1:t.every(function(n,o){return n===r[o]})}function Eee(t,r){t===void 0&&(t=[]),r===void 0&&(r="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(o){var a=o.date,l=o.holidayName;if(Jc(a)){var d=Lr(a,"MM.dd.yyyy"),h=n.get(d)||{className:"",holidayNames:[]};if(!("className"in h&&h.className===r&&See(h.holidayNames,[l]))){h.className=r;var p=h.holidayNames;h.holidayNames=p?rc(rc([],p,!0),[l],!1):[l],n.set(d,h)}}}),n}function Dee(t,r,n,o,a){for(var l=a.length,d=[],h=0;h<l;h++){var p=t,g=a[h];g&&(p=xQ(p,sc(g)),p=jA(p,ac(g)),p=DQ(p,Zc(g)));var b=jA(t,(n+1)*o);sd(p,r)&&jh(p,b)&&g!=null&&d.push(g)}return d}function PT(t){return t<10?"0".concat(t):"".concat(t)}function Ju(t,r){r===void 0&&(r=tb);var n=Math.ceil(Tn(t)/r)*r,o=n-(r-1);return{startPeriod:o,endPeriod:n}}function Iee(t){var r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+r)/36e5)}function OT(t){var r=t.getSeconds(),n=t.getMilliseconds();return Rt(t.getTime()-r*1e3-n)}function Tee(t,r){return OT(t).getTime()===OT(r).getTime()}function LT(t){if(!Jc(t))throw new Error("Invalid date");var r=new Date(t);return r.setHours(0,0,0,0),r}function jT(t,r){if(!Jc(t)||!Jc(r))throw new Error("Invalid date received");var n=LT(t),o=LT(r);return jh(n,o)}function XO(t){return t.key===Lt.Space}var Nee=function(t){oo(r,t);function r(n){var o=t.call(this,n)||this;return o.inputRef=at.createRef(),o.onTimeChange=function(a){var l,d;o.setState({time:a});var h=o.props.date,p=h instanceof Date&&!isNaN(+h),g=p?h:new Date;if(a!=null&&a.includes(":")){var b=a.split(":"),v=b[0],y=b[1];g.setHours(Number(v)),g.setMinutes(Number(y))}(d=(l=o.props).onChange)===null||d===void 0||d.call(l,g)},o.renderTimeInput=function(){var a=o.state.time,l=o.props,d=l.date,h=l.timeString,p=l.customTimeInput;return p?Y.cloneElement(p,{date:d,value:a,onChange:o.onTimeChange}):at.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:o.inputRef,onClick:function(){var g;(g=o.inputRef.current)===null||g===void 0||g.focus()},required:!0,value:a,onChange:function(g){o.onTimeChange(g.target.value||h)}})},o.state={time:o.props.timeString},o}return r.getDerivedStateFromProps=function(n,o){return n.timeString!==o.time?{time:n.timeString}:null},r.prototype.render=function(){return at.createElement("div",{className:"react-datepicker__input-time-container"},at.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),at.createElement("div",{className:"react-datepicker-time__input-container"},at.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},r}(Y.Component),Mee=function(t){oo(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=Y.createRef(),n.handleClick=function(o){!n.isDisabled()&&n.props.onClick&&n.props.onClick(o)},n.handleMouseEnter=function(o){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(o)},n.handleOnKeyDown=function(o){var a,l,d=o.key;d===Lt.Space&&(o.preventDefault(),o.key=Lt.Enter),(l=(a=n.props).handleOnKeyDown)===null||l===void 0||l.call(a,o)},n.isSameDay=function(o){return Un(n.props.day,o)},n.isKeyboardSelected=function(){var o;if(n.props.disabledKeyboardNavigation)return!1;var a=n.props.selectsMultiple?(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(d){return n.isSameDayOrWeek(d)}):n.isSameDayOrWeek(n.props.selected),l=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!a&&n.isSameDayOrWeek(n.props.preSelection)&&!l},n.isDisabled=function(o){return o===void 0&&(o=n.props.day),Oa(o,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return uC(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Un(n.props.day,rd(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(o){return n.props.showWeekPicker&&Un(o,rd(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(o){return n.isSameDay(o)||n.isSameWeek(o)},n.getHighLightedClass=function(){var o=n.props,a=o.day,l=o.highlightDates;if(!l)return!1;var d=Lr(a,"MM.dd.yyyy");return l.get(d)},n.getHolidaysClass=function(){var o,a=n.props,l=a.day,d=a.holidays;if(!d)return[void 0];var h=Lr(l,"MM.dd.yyyy");return d.has(h)?[(o=d.get(h))===null||o===void 0?void 0:o.className]:[void 0]},n.isInRange=function(){var o=n.props,a=o.day,l=o.startDate,d=o.endDate;return!l||!d?!1:dg(a,l,d)},n.isInSelectingRange=function(){var o,a=n.props,l=a.day,d=a.selectsStart,h=a.selectsEnd,p=a.selectsRange,g=a.selectsDisabledDaysInRange,b=a.startDate,v=a.endDate,y=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(d||h||p)||!y||!g&&n.isDisabled()?!1:d&&v&&(jh(y,v)||kh(y,v))?dg(l,y,v):h&&b&&(sd(y,b)||kh(y,b))||p&&b&&!v&&(sd(y,b)||kh(y,b))?dg(l,b,y):!1},n.isSelectingRangeStart=function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,d=a.startDate,h=a.selectsStart,p=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return h?Un(l,p):Un(l,d)},n.isSelectingRangeEnd=function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,d=a.endDate,h=a.selectsEnd,p=a.selectsRange,g=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return h||p?Un(l,g):Un(l,d)},n.isRangeStart=function(){var o=n.props,a=o.day,l=o.startDate,d=o.endDate;return!l||!d?!1:Un(l,a)},n.isRangeEnd=function(){var o=n.props,a=o.day,l=o.startDate,d=o.endDate;return!l||!d?!1:Un(d,a)},n.isWeekend=function(){var o=_J(n.props.day);return o===0||o===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===ns(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(ns(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(hr())},n.isSelected=function(){var o;return n.props.selectsMultiple?(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(o){var a=n.props.dayClassName?n.props.dayClassName(o):void 0;return Zt("react-datepicker__day",a,"react-datepicker__day--"+pee(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var o=n.props,a=o.day,l=o.ariaLabelPrefixWhenEnabled,d=l===void 0?"Choose":l,h=o.ariaLabelPrefixWhenDisabled,p=h===void 0?"Not available":h,g=n.isDisabled()||n.isExcluded()?p:d;return"".concat(g," ").concat(Lr(a,"PPPP",n.props.locale))},n.getTitle=function(){var o=n.props,a=o.day,l=o.holidays,d=l===void 0?new Map:l,h=o.excludeDates,p=Lr(a,"MM.dd.yyyy"),g=[];return d.has(p)&&g.push.apply(g,d.get(p).holidayNames),n.isExcluded()&&g.push(h==null?void 0:h.filter(function(b){return b instanceof Date?Un(b,a):Un(b==null?void 0:b.date,a)}).map(function(b){if(!(b instanceof Date))return b==null?void 0:b.message})),g.join(", ")},n.getTabIndex=function(){var o=n.props.selected,a=n.props.preSelection,l=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(o)&&Un(a,o))?0:-1;return l},n.handleFocusDay=function(){var o;n.shouldFocusDay()&&((o=n.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(uT(n.props.day),n.props.day):uT(n.props.day)},n.render=function(){return at.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&at.createElement("span",{className:"overlay"},n.getTitle()))},n}return r.prototype.componentDidMount=function(){this.handleFocusDay()},r.prototype.componentDidUpdate=function(){this.handleFocusDay()},r.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},r.prototype.isDayActiveElement=function(){var n,o,a;return((o=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||o===void 0?void 0:o.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},r.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},r}(Y.Component),Pee=function(t){oo(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=Y.createRef(),n.handleClick=function(o){n.props.onClick&&n.props.onClick(o)},n.handleOnKeyDown=function(o){var a,l,d=o.key;d===Lt.Space&&(o.preventDefault(),o.key=Lt.Enter),(l=(a=n.props).handleOnKeyDown)===null||l===void 0||l.call(a,o)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Un(n.props.date,n.props.selected)&&Un(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Un(n.props.date,n.props.selected)&&Un(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(o){var a=!1;n.getTabIndex()===0&&!(o!=null&&o.isInputFocused)&&Un(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(a=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(r,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},r.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},r.prototype.render=function(){var n=this.props,o=n.weekNumber,a=n.isWeekDisabled,l=n.ariaLabelPrefix,d=l===void 0?r.defaultProps.ariaLabelPrefix:l,h=n.onClick,p={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!h&&!a,"react-datepicker__week-number--selected":!!h&&Un(this.props.date,this.props.selected)};return at.createElement("div",{ref:this.weekNumberEl,className:Zt(p),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},o)},r}(Y.Component),Oee=function(t){oo(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(o){return Oa(o,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(o,a){n.props.onDayClick&&n.props.onDayClick(o,a)},n.handleDayMouseEnter=function(o){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)},n.handleWeekClick=function(o,a,l){for(var d,h,p,g=new Date(o),b=0;b<7;b++){var v=new Date(o);v.setDate(v.getDate()+b);var y=!n.isDisabled(v);if(y){g=v;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(g,a,l),n.props.showWeekPicker&&n.handleDayClick(g,l),((d=n.props.shouldCloseOnSelect)!==null&&d!==void 0?d:r.defaultProps.shouldCloseOnSelect)&&((p=(h=n.props).setOpen)===null||p===void 0||p.call(h,!1))},n.formatWeekNumber=function(o){return n.props.formatWeekNumber?n.props.formatWeekNumber(o):fee(o)},n.isWeekDisabled=function(){for(var o=n.startOfWeek(),a=hl(o,6),l=new Date(o);l<=a;){if(!n.isDisabled(l))return!1;l=hl(l,1)}return!0},n.renderDays=function(){var o=n.startOfWeek(),a=[],l=n.formatWeekNumber(o);if(n.props.showWeekNumber){var d=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,o,l):void 0;a.push(at.createElement(Pee,Wn({key:"W"},r.defaultProps,n.props,{weekNumber:l,isWeekDisabled:n.isWeekDisabled(),date:o,onClick:d})))}return a.concat([0,1,2,3,4,5,6].map(function(h){var p=hl(o,h);return at.createElement(Mee,Wn({},r.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:p.valueOf(),day:p,onClick:n.handleDayClick.bind(n,p),onMouseEnter:n.handleDayMouseEnter.bind(n,p)}))}))},n.startOfWeek=function(){return rd(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Un(n.startOfWeek(),n.props.selected)&&Un(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(r,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Un(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return at.createElement("div",{className:Zt(n)},this.renderDays())},r}(Y.Component),Hm,Lee=6,ap={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Nv=(Hm={},Hm[ap.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Hm[ap.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Hm[ap.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Hm),K0=1;function BT(t,r){return t?ap.FOUR_COLUMNS:r?ap.TWO_COLUMNS:ap.THREE_COLUMNS}var jee=function(t){oo(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=rc([],Array(12),!0).map(function(){return Y.createRef()}),n.QUARTER_REFS=rc([],Array(4),!0).map(function(){return Y.createRef()}),n.isDisabled=function(o){return Oa(o,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(o){return uC(o,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(o,a){var l,d;(d=(l=n.props).onDayClick)===null||d===void 0||d.call(l,o,a,n.props.orderInDisplay)},n.handleDayMouseEnter=function(o){var a,l;(l=(a=n.props).onDayMouseEnter)===null||l===void 0||l.call(a,o)},n.handleMouseLeave=function(){var o,a;(a=(o=n.props).onMouseLeave)===null||a===void 0||a.call(o)},n.isRangeStartMonth=function(o){var a=n.props,l=a.day,d=a.startDate,h=a.endDate;return!d||!h?!1:ts($s(l,o),d)},n.isRangeStartQuarter=function(o){var a=n.props,l=a.day,d=a.startDate,h=a.endDate;return!d||!h?!1:Xk(Xf(l,o),d)},n.isRangeEndMonth=function(o){var a=n.props,l=a.day,d=a.startDate,h=a.endDate;return!d||!h?!1:ts($s(l,o),h)},n.isRangeEndQuarter=function(o){var a=n.props,l=a.day,d=a.startDate,h=a.endDate;return!d||!h?!1:Xk(Xf(l,o),h)},n.isInSelectingRangeMonth=function(o){var a,l=n.props,d=l.day,h=l.selectsStart,p=l.selectsEnd,g=l.selectsRange,b=l.startDate,v=l.endDate,y=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(h||p||g)||!y?!1:h&&v?H0(y,v,o,d):p&&b||g&&b&&!v?H0(b,y,o,d):!1},n.isSelectingMonthRangeStart=function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var l=n.props,d=l.day,h=l.startDate,p=l.selectsStart,g=$s(d,o),b=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return p?ts(g,b):ts(g,h)},n.isSelectingMonthRangeEnd=function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var l=n.props,d=l.day,h=l.endDate,p=l.selectsEnd,g=l.selectsRange,b=$s(d,o),v=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return p||g?ts(b,v):ts(b,h)},n.isInSelectingRangeQuarter=function(o){var a,l=n.props,d=l.day,h=l.selectsStart,p=l.selectsEnd,g=l.selectsRange,b=l.startDate,v=l.endDate,y=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(h||p||g)||!y?!1:h&&v?Y0(y,v,o,d):p&&b||g&&b&&!v?Y0(b,y,o,d):!1},n.isWeekInMonth=function(o){var a=n.props.day,l=hl(o,6);return ts(o,a)||ts(l,a)},n.isCurrentMonth=function(o,a){return Tn(o)===Tn(hr())&&a===ns(hr())},n.isCurrentQuarter=function(o,a){return Tn(o)===Tn(hr())&&a===xh(hr())},n.isSelectedMonth=function(o,a,l){return ns(l)===a&&Tn(o)===Tn(l)},n.isSelectMonthInList=function(o,a,l){return l.some(function(d){return n.isSelectedMonth(o,a,d)})},n.isSelectedQuarter=function(o,a,l){return xh(o)===a&&Tn(o)===Tn(l)},n.renderWeeks=function(){for(var o=[],a=n.props.fixedHeight,l=0,d=!1,h=rd(Xc(n.props.day),n.props.locale,n.props.calendarStartDay),p=function(x){return n.props.showWeekPicker?rd(x,n.props.locale,n.props.calendarStartDay):n.props.preSelection},g=function(x){return n.props.showWeekPicker?rd(x,n.props.locale,n.props.calendarStartDay):n.props.selected},b=n.props.selected?g(n.props.selected):void 0,v=n.props.preSelection?p(n.props.preSelection):void 0;o.push(at.createElement(Oee,Wn({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:l,day:h,month:ns(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:b,preSelection:v,showWeekNumber:n.props.showWeekNumbers}))),!d;){l++,h=Uk(h,1);var y=a&&l>=Lee,k=!a&&!n.isWeekInMonth(h);if(y||k)if(n.props.peekNextMonth)d=!0;else break}return o},n.onMonthClick=function(o,a){var l=n.isMonthDisabledForLabelDate(a),d=l.isDisabled,h=l.labelDate;d||n.handleDayClick(Xc(h),o)},n.onMonthMouseEnter=function(o){var a=n.isMonthDisabledForLabelDate(o),l=a.isDisabled,d=a.labelDate;l||n.handleDayMouseEnter(Xc(d))},n.handleMonthNavigation=function(o,a){var l,d,h,p;(d=(l=n.props).setPreSelection)===null||d===void 0||d.call(l,a),(p=(h=n.MONTH_REFS[o])===null||h===void 0?void 0:h.current)===null||p===void 0||p.focus()},n.handleKeyboardNavigation=function(o,a,l){var d,h=n.props,p=h.selected,g=h.preSelection,b=h.setPreSelection,v=h.minDate,y=h.maxDate,k=h.showFourColumnMonthYearPicker,x=h.showTwoColumnMonthYearPicker;if(g){var _=BT(k,x),D=n.getVerticalOffset(_),E=(d=Nv[_])===null||d===void 0?void 0:d.grid,N=function(M,B,q){var Q,H,R=B,K=q;switch(M){case Lt.ArrowRight:R=fl(B,K0),K=q===11?0:q+K0;break;case Lt.ArrowLeft:R=Sh(B,K0),K=q===0?11:q-K0;break;case Lt.ArrowUp:R=Sh(B,D),K=!((Q=E==null?void 0:E[0])===null||Q===void 0)&&Q.includes(q)?q+12-D:q-D;break;case Lt.ArrowDown:R=fl(B,D),K=!((H=E==null?void 0:E[E.length-1])===null||H===void 0)&&H.includes(q)?q-12+D:q+D;break}return{newCalculatedDate:R,newCalculatedMonth:K}},P=function(M,B,q){for(var Q=40,H=M,R=!1,K=0,j=N(H,B,q),ne=j.newCalculatedDate,de=j.newCalculatedMonth;!R;){if(K>=Q){ne=B,de=q;break}if(v&&ne<v){H=Lt.ArrowRight;var se=N(H,ne,de);ne=se.newCalculatedDate,de=se.newCalculatedMonth}if(y&&ne>y){H=Lt.ArrowLeft;var se=N(H,ne,de);ne=se.newCalculatedDate,de=se.newCalculatedMonth}if(vee(ne,n.props)){var se=N(H,ne,de);ne=se.newCalculatedDate,de=se.newCalculatedMonth}else R=!0;K++}return{newCalculatedDate:ne,newCalculatedMonth:de}};if(a===Lt.Enter){n.isMonthDisabled(l)||(n.onMonthClick(o,l),b==null||b(p));return}var F=P(a,g,l),V=F.newCalculatedDate,$=F.newCalculatedMonth;switch(a){case Lt.ArrowRight:case Lt.ArrowLeft:case Lt.ArrowUp:case Lt.ArrowDown:n.handleMonthNavigation($,V);break}}},n.getVerticalOffset=function(o){var a,l;return(l=(a=Nv[o])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&l!==void 0?l:0},n.onMonthKeyDown=function(o,a){var l=n.props,d=l.disabledKeyboardNavigation,h=l.handleOnMonthKeyDown,p=o.key;p!==Lt.Tab&&o.preventDefault(),d||n.handleKeyboardNavigation(o,p,a),h&&h(o)},n.onQuarterClick=function(o,a){var l=Xf(n.props.day,a);W0(l,n.props)||n.handleDayClick(AT(l),o)},n.onQuarterMouseEnter=function(o){var a=Xf(n.props.day,o);W0(a,n.props)||n.handleDayMouseEnter(AT(a))},n.handleQuarterNavigation=function(o,a){var l,d,h,p;n.isDisabled(a)||n.isExcluded(a)||((d=(l=n.props).setPreSelection)===null||d===void 0||d.call(l,a),(p=(h=n.QUARTER_REFS[o-1])===null||h===void 0?void 0:h.current)===null||p===void 0||p.focus())},n.onQuarterKeyDown=function(o,a){var l,d,h=o.key;if(!n.props.disabledKeyboardNavigation)switch(h){case Lt.Enter:n.onQuarterClick(o,a),(d=(l=n.props).setPreSelection)===null||d===void 0||d.call(l,n.props.selected);break;case Lt.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===4?1:a+1,Z_(n.props.preSelection,1));break;case Lt.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===1?4:a-1,jO(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(o){var a,l=n.props,d=l.day,h=l.minDate,p=l.maxDate,g=l.excludeDates,b=l.includeDates,v=$s(d,o);return{isDisabled:(a=(h||p||g||b)&&QO(v,n.props))!==null&&a!==void 0?a:!1,labelDate:v}},n.isMonthDisabled=function(o){var a=n.isMonthDisabledForLabelDate(o).isDisabled;return a},n.getMonthClassNames=function(o){var a=n.props,l=a.day,d=a.startDate,h=a.endDate,p=a.preSelection,g=a.monthClassName,b=g?g($s(l,o)):void 0,v=n.getSelection();return Zt("react-datepicker__month-text","react-datepicker__month-".concat(o),b,{"react-datepicker__month-text--disabled":n.isMonthDisabled(o),"react-datepicker__month-text--selected":v?n.isSelectMonthInList(l,o,v):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&p&&n.isSelectedMonth(l,o,p)&&!n.isMonthDisabled(o),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":d&&h?H0(d,h,o,l):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(o),"react-datepicker__month-text--range-end":n.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":n.isCurrentMonth(l,o)})},n.getTabIndex=function(o){if(n.props.preSelection==null)return"-1";var a=ns(n.props.preSelection),l=n.isMonthDisabledForLabelDate(a).isDisabled,d=o===a&&!(l||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getQuarterTabIndex=function(o){if(n.props.preSelection==null)return"-1";var a=xh(n.props.preSelection),l=W0(n.props.day,n.props),d=o===a&&!(l||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getAriaLabel=function(o){var a=n.props,l=a.chooseDayAriaLabelPrefix,d=l===void 0?"Choose":l,h=a.disabledDayAriaLabelPrefix,p=h===void 0?"Not available":h,g=a.day,b=a.locale,v=$s(g,o),y=n.isDisabled(v)||n.isExcluded(v)?p:d;return"".concat(y," ").concat(Lr(v,"MMMM yyyy",b))},n.getQuarterClassNames=function(o){var a=n.props,l=a.day,d=a.startDate,h=a.endDate,p=a.selected,g=a.minDate,b=a.maxDate,v=a.excludeDates,y=a.includeDates,k=a.filterDate,x=a.preSelection,_=a.disabledKeyboardNavigation,D=(g||b||v||y||k)&&W0(Xf(l,o),n.props);return Zt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":D,"react-datepicker__quarter-text--selected":p?n.isSelectedQuarter(l,o,p):void 0,"react-datepicker__quarter-text--keyboard-selected":!_&&x&&n.isSelectedQuarter(l,o,x)&&!D,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":d&&h?Y0(d,h,o,l):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(o)})},n.getMonthContent=function(o){var a=n.props,l=a.showFullMonthYearPicker,d=a.renderMonthContent,h=a.locale,p=a.day,g=KO(o,h),b=cC(o,h);return d?d(o,g,b,p):l?b:g},n.getQuarterContent=function(o){var a,l=n.props,d=l.renderQuarterContent,h=l.locale,p=yee(o,h);return(a=d==null?void 0:d(o,p))!==null&&a!==void 0?a:p},n.renderMonths=function(){var o,a=n.props,l=a.showTwoColumnMonthYearPicker,d=a.showFourColumnMonthYearPicker,h=a.day,p=a.selected,g=(o=Nv[BT(d,l)])===null||o===void 0?void 0:o.grid;return g==null?void 0:g.map(function(b,v){return at.createElement("div",{className:"react-datepicker__month-wrapper",key:v},b.map(function(y,k){return at.createElement("div",{ref:n.MONTH_REFS[y],key:k,onClick:function(x){n.onMonthClick(x,y)},onKeyDown:function(x){XO(x)&&(x.preventDefault(),x.key=Lt.Enter),n.onMonthKeyDown(x,y)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(y)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(y)}:void 0,tabIndex:Number(n.getTabIndex(y)),className:n.getMonthClassNames(y),"aria-disabled":n.isMonthDisabled(y),role:"option","aria-label":n.getAriaLabel(y),"aria-current":n.isCurrentMonth(h,y)?"date":void 0,"aria-selected":p?n.isSelectedMonth(h,y,p):void 0},n.getMonthContent(y))}))})},n.renderQuarters=function(){var o=n.props,a=o.day,l=o.selected,d=[1,2,3,4];return at.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(h,p){return at.createElement("div",{key:p,ref:n.QUARTER_REFS[p],role:"option",onClick:function(g){n.onQuarterClick(g,h)},onKeyDown:function(g){n.onQuarterKeyDown(g,h)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(h)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(h)}:void 0,className:n.getQuarterClassNames(h),"aria-selected":l?n.isSelectedQuarter(a,h,l):void 0,tabIndex:Number(n.getQuarterTabIndex(h)),"aria-current":n.isCurrentQuarter(a,h)?"date":void 0},n.getQuarterContent(h))}))},n.getClassNames=function(){var o=n.props,a=o.selectingDate,l=o.selectsStart,d=o.selectsEnd,h=o.showMonthYearPicker,p=o.showQuarterYearPicker,g=o.showWeekPicker;return Zt("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(l||d)},{"react-datepicker__monthPicker":h},{"react-datepicker__quarterPicker":p},{"react-datepicker__weekPicker":g})},n}return r.prototype.getSelection=function(){var n=this.props,o=n.selected,a=n.selectedDates,l=n.selectsMultiple;if(l)return a;if(o)return[o]},r.prototype.render=function(){var n=this.props,o=n.showMonthYearPicker,a=n.showQuarterYearPicker,l=n.day,d=n.ariaLabelPrefix,h=d===void 0?"Month ":d,p=h?h.trim()+" ":"";return at.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(p).concat(Lr(l,"MMMM, yyyy",this.props.locale)),role:"listbox"},o?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},r}(Y.Component),Bee=function(t){oo(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(o){return n.props.month===o},n.renderOptions=function(){return n.props.monthNames.map(function(o,a){return at.createElement("div",{className:n.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:n.onChange.bind(n,a),"aria-selected":n.isSelectedMonth(a)?"true":void 0},n.isSelectedMonth(a)?at.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",o)})},n.onChange=function(o){return n.props.onChange(o)},n.handleClickOutside=function(){return n.props.onCancel()},n}return r.prototype.render=function(){return at.createElement(M1,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},r}(Y.Component),Ree=function(t){oo(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(o){return o.map(function(a,l){return at.createElement("option",{key:a,value:l},a)})},n.renderSelectMode=function(o){return at.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(a){return n.onChange(parseInt(a.target.value))}},n.renderSelectOptions(o))},n.renderReadView=function(o,a){return at.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},at.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),at.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[n.props.month]))},n.renderDropdown=function(o){return at.createElement(Bee,Wn({key:"dropdown"},n.props,{monthNames:o,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(o){var a=n.state.dropdownVisible,l=[n.renderReadView(!a,o)];return a&&l.unshift(n.renderDropdown(o)),l},n.onChange=function(o){n.toggleDropdown(),o!==n.props.month&&n.props.onChange(o)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return r.prototype.render=function(){var n=this,o=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(l){return KO(l,n.props.locale)}:function(l){return cC(l,n.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(o);break;case"select":a=this.renderSelectMode(o);break}return at.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},r}(Y.Component);function Fee(t,r){for(var n=[],o=Xc(t),a=Xc(r);!sd(o,a);)n.push(hr(o)),o=fl(o,1);return n}var zee=function(t){oo(r,t);function r(n){var o=t.call(this,n)||this;return o.renderOptions=function(){return o.state.monthYearsList.map(function(a){var l=FA(a),d=Ql(o.props.date,a)&&ts(o.props.date,a);return at.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:l,onClick:o.onChange.bind(o,l),"aria-selected":d?"true":void 0},d?at.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Lr(a,o.props.dateFormat,o.props.locale))})},o.onChange=function(a){return o.props.onChange(a)},o.handleClickOutside=function(){o.props.onCancel()},o.state={monthYearsList:Fee(o.props.minDate,o.props.maxDate)},o}return r.prototype.render=function(){var n=Zt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return at.createElement(M1,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(Y.Component),Uee=function(t){oo(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var o=Xc(n.props.minDate),a=Xc(n.props.maxDate),l=[];!sd(o,a);){var d=FA(o);l.push(at.createElement("option",{key:d,value:d},Lr(o,n.props.dateFormat,n.props.locale))),o=fl(o,1)}return l},n.onSelectChange=function(o){n.onChange(parseInt(o.target.value))},n.renderSelectMode=function(){return at.createElement("select",{value:FA(Xc(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(o){var a=Lr(n.props.date,n.props.dateFormat,n.props.locale);return at.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},at.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),at.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},n.renderDropdown=function(){return at.createElement(zee,Wn({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a},n.onChange=function(o){n.toggleDropdown();var a=hr(o);Ql(n.props.date,a)&&ts(n.props.date,a)||n.props.onChange(a)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return r.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return at.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},r}(Y.Component),qee=function(t){oo(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var o,a,l;n.list&&(n.list.scrollTop=(l=n.centerLi&&r.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((a=(o=n.header)===null||o===void 0?void 0:o.clientHeight)!==null&&a!==void 0?a:0):n.list.clientHeight,n.centerLi))!==null&&l!==void 0?l:0)})},n.handleClick=function(o){var a,l;(n.props.minTime||n.props.maxTime)&&ET(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&ST(o,n.props)||(l=(a=n.props).onChange)===null||l===void 0||l.call(a,o)},n.isSelectedTime=function(o){return n.props.selected&&Tee(n.props.selected,o)},n.isDisabledTime=function(o){return(n.props.minTime||n.props.maxTime)&&ET(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&ST(o,n.props)},n.liClasses=function(o){var a,l=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(o):void 0];return n.isSelectedTime(o)&&l.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(o)&&l.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(sc(o)*3600+ac(o)*60+Zc(o))%(((a=n.props.intervals)!==null&&a!==void 0?a:r.defaultProps.intervals)*60)!==0&&l.push("react-datepicker__time-list-item--injected"),l.join(" ")},n.handleOnKeyDown=function(o,a){var l,d;o.key===Lt.Space&&(o.preventDefault(),o.key=Lt.Enter),(o.key===Lt.ArrowUp||o.key===Lt.ArrowLeft)&&o.target instanceof HTMLElement&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling instanceof HTMLElement&&o.target.previousSibling.focus()),(o.key===Lt.ArrowDown||o.key===Lt.ArrowRight)&&o.target instanceof HTMLElement&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling instanceof HTMLElement&&o.target.nextSibling.focus()),o.key===Lt.Enter&&n.handleClick(a),(d=(l=n.props).handleOnKeyDown)===null||d===void 0||d.call(l,o)},n.renderTimes=function(){for(var o,a=[],l=typeof n.props.format=="string"?n.props.format:"p",d=(o=n.props.intervals)!==null&&o!==void 0?o:r.defaultProps.intervals,h=n.props.selected||n.props.openToDate||hr(),p=bk(h),g=n.props.injectTimes&&n.props.injectTimes.sort(function(D,E){return D.getTime()-E.getTime()}),b=60*Iee(h),v=b/d,y=0;y<v;y++){var k=jA(p,y*d);if(a.push(k),g){var x=Dee(p,k,y,d,g);a=a.concat(x)}}var _=a.reduce(function(D,E){return E.getTime()<=h.getTime()?E:D},a[0]);return a.map(function(D){return at.createElement("li",{key:D.valueOf(),onClick:n.handleClick.bind(n,D),className:n.liClasses(D),ref:function(E){D===_&&(n.centerLi=E)},onKeyDown:function(E){n.handleOnKeyDown(E,D)},tabIndex:D===_?0:-1,role:"option","aria-selected":n.isSelectedTime(D)?"true":void 0,"aria-disabled":n.isDisabledTime(D)?"true":void 0},Lr(D,l,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?at.createElement(at.Fragment,null):at.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){n.header=o}},at.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(r,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},r.prototype.render=function(){var n=this,o,a=this.state.height;return at.createElement("div",{className:"react-datepicker__time-container ".concat(((o=this.props.todayButton)!==null&&o!==void 0?o:r.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),at.createElement("div",{className:"react-datepicker__time"},at.createElement("div",{className:"react-datepicker__time-box"},at.createElement("ul",{className:"react-datepicker__time-list",ref:function(l){n.list=l},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},r.calcCenterPosition=function(n,o){return o.offsetTop-(n/2-o.clientHeight/2)},r}(Y.Component),RT=3,Vee=function(t){oo(r,t);function r(n){var o=t.call(this,n)||this;return o.YEAR_REFS=rc([],Array(o.props.yearItemNumber),!0).map(function(){return Y.createRef()}),o.isDisabled=function(a){return Oa(a,{minDate:o.props.minDate,maxDate:o.props.maxDate,excludeDates:o.props.excludeDates,includeDates:o.props.includeDates,filterDate:o.props.filterDate})},o.isExcluded=function(a){return uC(a,{excludeDates:o.props.excludeDates})},o.selectingDate=function(){var a;return(a=o.props.selectingDate)!==null&&a!==void 0?a:o.props.preSelection},o.updateFocusOnPaginate=function(a){var l=function(){var d,h;(h=(d=o.YEAR_REFS[a])===null||d===void 0?void 0:d.current)===null||h===void 0||h.focus()};window.requestAnimationFrame(l)},o.handleYearClick=function(a,l){o.props.onDayClick&&o.props.onDayClick(a,l)},o.handleYearNavigation=function(a,l){var d,h,p,g,b=o.props,v=b.date,y=b.yearItemNumber;if(!(v===void 0||y===void 0)){var k=Ju(v,y).startPeriod;o.isDisabled(l)||o.isExcluded(l)||((h=(d=o.props).setPreSelection)===null||h===void 0||h.call(d,l),a-k<0?o.updateFocusOnPaginate(y-(k-a)):a-k>=y?o.updateFocusOnPaginate(Math.abs(y-(a-k))):(g=(p=o.YEAR_REFS[a-k])===null||p===void 0?void 0:p.current)===null||g===void 0||g.focus())}},o.isSameDay=function(a,l){return Un(a,l)},o.isCurrentYear=function(a){return a===Tn(hr())},o.isRangeStart=function(a){return o.props.startDate&&o.props.endDate&&Ql(Kl(hr(),a),o.props.startDate)},o.isRangeEnd=function(a){return o.props.startDate&&o.props.endDate&&Ql(Kl(hr(),a),o.props.endDate)},o.isInRange=function(a){return G0(a,o.props.startDate,o.props.endDate)},o.isInSelectingRange=function(a){var l=o.props,d=l.selectsStart,h=l.selectsEnd,p=l.selectsRange,g=l.startDate,b=l.endDate;return!(d||h||p)||!o.selectingDate()?!1:d&&b?G0(a,o.selectingDate(),b):h&&g||p&&g&&!b?G0(a,g,o.selectingDate()):!1},o.isSelectingRangeStart=function(a){var l;if(!o.isInSelectingRange(a))return!1;var d=o.props,h=d.startDate,p=d.selectsStart,g=Kl(hr(),a);return p?Ql(g,(l=o.selectingDate())!==null&&l!==void 0?l:null):Ql(g,h??null)},o.isSelectingRangeEnd=function(a){var l;if(!o.isInSelectingRange(a))return!1;var d=o.props,h=d.endDate,p=d.selectsEnd,g=d.selectsRange,b=Kl(hr(),a);return p||g?Ql(b,(l=o.selectingDate())!==null&&l!==void 0?l:null):Ql(b,h??null)},o.isKeyboardSelected=function(a){if(!(o.props.date===void 0||o.props.selected==null||o.props.preSelection==null)){var l=o.props,d=l.minDate,h=l.maxDate,p=l.excludeDates,g=l.includeDates,b=l.filterDate,v=ug(Kl(o.props.date,a)),y=(d||h||p||g||b)&&kk(a,o.props);return!o.props.disabledKeyboardNavigation&&!o.props.inline&&!Un(v,ug(o.props.selected))&&Un(v,ug(o.props.preSelection))&&!y}},o.onYearClick=function(a,l){var d=o.props.date;d!==void 0&&o.handleYearClick(ug(Kl(d,l)),a)},o.onYearKeyDown=function(a,l){var d,h,p=a.key,g=o.props,b=g.date,v=g.yearItemNumber,y=g.handleOnKeyDown;if(p!==Lt.Tab&&a.preventDefault(),!o.props.disabledKeyboardNavigation)switch(p){case Lt.Enter:if(o.props.selected==null)break;o.onYearClick(a,l),(h=(d=o.props).setPreSelection)===null||h===void 0||h.call(d,o.props.selected);break;case Lt.ArrowRight:if(o.props.preSelection==null)break;o.handleYearNavigation(l+1,Qc(o.props.preSelection,1));break;case Lt.ArrowLeft:if(o.props.preSelection==null)break;o.handleYearNavigation(l-1,vp(o.props.preSelection,1));break;case Lt.ArrowUp:{if(b===void 0||v===void 0||o.props.preSelection==null)break;var k=Ju(b,v).startPeriod,x=RT,_=l-x;if(_<k){var D=v%x;l>=k&&l<k+D?x=D:x+=D,_=l-x}o.handleYearNavigation(_,vp(o.props.preSelection,x));break}case Lt.ArrowDown:{if(b===void 0||v===void 0||o.props.preSelection==null)break;var E=Ju(b,v).endPeriod,x=RT,_=l+x;if(_>E){var D=v%x;l<=E&&l>E-D?x=D:x+=D,_=l+x}o.handleYearNavigation(_,Qc(o.props.preSelection,x));break}}y&&y(a)},o.getYearClassNames=function(a){var l=o.props,d=l.date,h=l.minDate,p=l.maxDate,g=l.selected,b=l.excludeDates,v=l.includeDates,y=l.filterDate,k=l.yearClassName;return Zt("react-datepicker__year-text","react-datepicker__year-".concat(a),d?k==null?void 0:k(Kl(d,a)):void 0,{"react-datepicker__year-text--selected":g?a===Tn(g):void 0,"react-datepicker__year-text--disabled":(h||p||b||v||y)&&kk(a,o.props),"react-datepicker__year-text--keyboard-selected":o.isKeyboardSelected(a),"react-datepicker__year-text--range-start":o.isRangeStart(a),"react-datepicker__year-text--range-end":o.isRangeEnd(a),"react-datepicker__year-text--in-range":o.isInRange(a),"react-datepicker__year-text--in-selecting-range":o.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":o.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":o.isSelectingRangeEnd(a),"react-datepicker__year-text--today":o.isCurrentYear(a)})},o.getYearTabIndex=function(a){if(o.props.disabledKeyboardNavigation||o.props.preSelection==null)return"-1";var l=Tn(o.props.preSelection),d=kk(a,o.props);return a===l&&!d?"0":"-1"},o.getYearContent=function(a){return o.props.renderYearContent?o.props.renderYearContent(a):a},o}return r.prototype.render=function(){var n=this,o=[],a=this.props,l=a.date,d=a.yearItemNumber,h=a.onYearMouseEnter,p=a.onYearMouseLeave;if(l===void 0)return null;for(var g=Ju(l,d),b=g.startPeriod,v=g.endPeriod,y=function(_){o.push(at.createElement("div",{ref:k.YEAR_REFS[_-b],onClick:function(D){n.onYearClick(D,_)},onKeyDown:function(D){XO(D)&&(D.preventDefault(),D.key=Lt.Enter),n.onYearKeyDown(D,_)},tabIndex:Number(k.getYearTabIndex(_)),className:k.getYearClassNames(_),onMouseEnter:k.props.usePointerEvent?void 0:function(D){return h(D,_)},onPointerEnter:k.props.usePointerEvent?function(D){return h(D,_)}:void 0,onMouseLeave:k.props.usePointerEvent?void 0:function(D){return p(D,_)},onPointerLeave:k.props.usePointerEvent?function(D){return p(D,_)}:void 0,key:_,"aria-current":k.isCurrentYear(_)?"date":void 0},k.getYearContent(_)))},k=this,x=b;x<=v;x++)y(x);return at.createElement("div",{className:"react-datepicker__year"},at.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},o))},r}(Y.Component);function $ee(t,r,n,o){for(var a=[],l=0;l<2*r+1;l++){var d=t+r-l,h=!0;n&&(h=Tn(n)<=d),o&&h&&(h=Tn(o)>=d),h&&a.push(d)}return a}var Hee=function(t){oo(r,t);function r(n){var o=t.call(this,n)||this;o.renderOptions=function(){var h=o.props.year,p=o.state.yearsList.map(function(v){return at.createElement("div",{className:h===v?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:v,onClick:o.onChange.bind(o,v),"aria-selected":h===v?"true":void 0},h===v?at.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",v)}),g=o.props.minDate?Tn(o.props.minDate):null,b=o.props.maxDate?Tn(o.props.maxDate):null;return(!b||!o.state.yearsList.find(function(v){return v===b}))&&p.unshift(at.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:o.incrementYears},at.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!g||!o.state.yearsList.find(function(v){return v===g}))&&p.push(at.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:o.decrementYears},at.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),p},o.onChange=function(h){o.props.onChange(h)},o.handleClickOutside=function(){o.props.onCancel()},o.shiftYears=function(h){var p=o.state.yearsList.map(function(g){return g+h});o.setState({yearsList:p})},o.incrementYears=function(){return o.shiftYears(1)},o.decrementYears=function(){return o.shiftYears(-1)};var a=n.yearDropdownItemNumber,l=n.scrollableYearDropdown,d=a||(l?10:5);return o.state={yearsList:$ee(o.props.year,d,o.props.minDate,o.props.maxDate)},o.dropdownRef=Y.createRef(),o}return r.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var o=n.children?Array.from(n.children):null,a=o?o.find(function(l){return l.ariaSelected}):null;n.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},r.prototype.render=function(){var n=Zt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return at.createElement(M1,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(Y.Component),Wee=function(t){oo(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var o=n.props.minDate?Tn(n.props.minDate):1900,a=n.props.maxDate?Tn(n.props.maxDate):2100,l=[],d=o;d<=a;d++)l.push(at.createElement("option",{key:d,value:d},d));return l},n.onSelectChange=function(o){n.onChange(parseInt(o.target.value))},n.renderSelectMode=function(){return at.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(o){return at.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return n.toggleDropdown(a)}},at.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),at.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return at.createElement(Hee,Wn({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a},n.onChange=function(o){n.toggleDropdown(),o!==n.props.year&&n.props.onChange(o)},n.toggleDropdown=function(o){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,o)})},n.handleYearChange=function(o,a){var l;(l=n.onSelect)===null||l===void 0||l.call(n,o,a),n.setOpen()},n.onSelect=function(o,a){var l,d;(d=(l=n.props).onSelect)===null||d===void 0||d.call(l,o,a)},n.setOpen=function(){var o,a;(a=(o=n.props).setOpen)===null||a===void 0||a.call(o,!0)},n}return r.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return at.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},r}(Y.Component),Gee=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Yee=function(t){var r=(t.className||"").split(/\s+/);return Gee.some(function(n){return r.indexOf(n)>=0})},Kee=function(t){oo(r,t);function r(n){var o=t.call(this,n)||this;return o.monthContainer=void 0,o.handleClickOutside=function(a){o.props.onClickOutside(a)},o.setClickOutsideRef=function(){return o.containerRef.current},o.handleDropdownFocus=function(a){var l,d;Yee(a.target)&&((d=(l=o.props).onDropdownFocus)===null||d===void 0||d.call(l,a))},o.getDateInView=function(){var a=o.props,l=a.preSelection,d=a.selected,h=a.openToDate,p=JO(o.props),g=ZO(o.props),b=hr(),v=h||d||l;return v||(p&&jh(b,p)?p:g&&sd(b,g)?g:b)},o.increaseMonth=function(){o.setState(function(a){var l=a.date;return{date:fl(l,1)}},function(){return o.handleMonthChange(o.state.date)})},o.decreaseMonth=function(){o.setState(function(a){var l=a.date;return{date:Sh(l,1)}},function(){return o.handleMonthChange(o.state.date)})},o.handleDayClick=function(a,l,d){o.props.onSelect(a,l,d),o.props.setPreSelection&&o.props.setPreSelection(a)},o.handleDayMouseEnter=function(a){o.setState({selectingDate:a}),o.props.onDayMouseEnter&&o.props.onDayMouseEnter(a)},o.handleMonthMouseLeave=function(){o.setState({selectingDate:void 0}),o.props.onMonthMouseLeave&&o.props.onMonthMouseLeave()},o.handleYearMouseEnter=function(a,l){o.setState({selectingDate:Kl(hr(),l)}),o.props.onYearMouseEnter&&o.props.onYearMouseEnter(a,l)},o.handleYearMouseLeave=function(a,l){o.props.onYearMouseLeave&&o.props.onYearMouseLeave(a,l)},o.handleYearChange=function(a){var l,d,h,p;(d=(l=o.props).onYearChange)===null||d===void 0||d.call(l,a),o.setState({isRenderAriaLiveMessage:!0}),o.props.adjustDateOnChange&&(o.props.onSelect(a),(p=(h=o.props).setOpen)===null||p===void 0||p.call(h,!0)),o.props.setPreSelection&&o.props.setPreSelection(a)},o.getEnabledPreSelectionDateForMonth=function(a){if(!Oa(a,o.props))return a;for(var l=Xc(a),d=gee(a),h=TQ(d,l),p=null,g=0;g<=h;g++){var b=hl(l,g);if(!Oa(b,o.props)){p=b;break}}return p},o.handleMonthChange=function(a){var l,d,h,p=(l=o.getEnabledPreSelectionDateForMonth(a))!==null&&l!==void 0?l:a;o.handleCustomMonthChange(p),o.props.adjustDateOnChange&&(o.props.onSelect(p),(h=(d=o.props).setOpen)===null||h===void 0||h.call(d,!0)),o.props.setPreSelection&&o.props.setPreSelection(p)},o.handleCustomMonthChange=function(a){var l,d;(d=(l=o.props).onMonthChange)===null||d===void 0||d.call(l,a),o.setState({isRenderAriaLiveMessage:!0})},o.handleMonthYearChange=function(a){o.handleYearChange(a),o.handleMonthChange(a)},o.changeYear=function(a){o.setState(function(l){var d=l.date;return{date:Kl(d,Number(a))}},function(){return o.handleYearChange(o.state.date)})},o.changeMonth=function(a){o.setState(function(l){var d=l.date;return{date:$s(d,Number(a))}},function(){return o.handleMonthChange(o.state.date)})},o.changeMonthYear=function(a){o.setState(function(l){var d=l.date;return{date:Kl($s(d,ns(a)),Tn(a))}},function(){return o.handleMonthYearChange(o.state.date)})},o.header=function(a){a===void 0&&(a=o.state.date);var l=rd(a,o.props.locale,o.props.calendarStartDay),d=[];return o.props.showWeekNumbers&&d.push(at.createElement("div",{key:"W",className:"react-datepicker__day-name"},o.props.weekLabel||"#")),d.concat([0,1,2,3,4,5,6].map(function(h){var p=hl(l,h),g=o.formatWeekday(p,o.props.locale),b=o.props.weekDayClassName?o.props.weekDayClassName(p):void 0;return at.createElement("div",{key:h,"aria-label":Lr(p,"EEEE",o.props.locale),className:Zt("react-datepicker__day-name",b)},g)}))},o.formatWeekday=function(a,l){return o.props.formatWeekDay?bee(a,o.props.formatWeekDay,l):o.props.useWeekdaysShort?wee(a,l):kee(a,l)},o.decreaseYear=function(){o.setState(function(a){var l,d=a.date;return{date:vp(d,o.props.showYearPicker?(l=o.props.yearItemNumber)!==null&&l!==void 0?l:r.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.clearSelectingDate=function(){o.setState({selectingDate:void 0})},o.renderPreviousButton=function(){var a,l,d;if(!o.props.renderCustomHeader){var h=(a=o.props.monthsShown)!==null&&a!==void 0?a:r.defaultProps.monthsShown,p=o.props.showPreviousMonths?h-1:0,g=(l=o.props.monthSelectedIn)!==null&&l!==void 0?l:p,b=Sh(o.state.date,g),v;switch(!0){case o.props.showMonthYearPicker:v=TT(o.state.date,o.props);break;case o.props.showYearPicker:v=Cee(o.state.date,o.props);break;case o.props.showQuarterYearPicker:v=Aee(o.state.date,o.props);break;default:v=DT(b,o.props);break}if(!(!((d=o.props.forceShowMonthNavigation)!==null&&d!==void 0?d:r.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&v||o.props.showTimeSelectOnly)){var y=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],k=["react-datepicker__navigation","react-datepicker__navigation--previous"],x=o.decreaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(x=o.decreaseYear),v&&o.props.showDisabledMonthNavigation&&(k.push("react-datepicker__navigation--previous--disabled"),x=void 0);var _=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,D=o.props,E=D.previousMonthButtonLabel,N=E===void 0?r.defaultProps.previousMonthButtonLabel:E,P=D.previousYearButtonLabel,F=P===void 0?r.defaultProps.previousYearButtonLabel:P,V=o.props,$=V.previousMonthAriaLabel,M=$===void 0?typeof N=="string"?N:"Previous Month":$,B=V.previousYearAriaLabel,q=B===void 0?typeof F=="string"?F:"Previous Year":B;return at.createElement("button",{type:"button",className:k.join(" "),onClick:x,onKeyDown:o.props.handleOnKeyDown,"aria-label":_?q:M},at.createElement("span",{className:y.join(" ")},_?F:N))}}},o.increaseYear=function(){o.setState(function(a){var l,d=a.date;return{date:Qc(d,o.props.showYearPicker?(l=o.props.yearItemNumber)!==null&&l!==void 0?l:r.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.renderNextButton=function(){var a;if(!o.props.renderCustomHeader){var l;switch(!0){case o.props.showMonthYearPicker:l=NT(o.state.date,o.props);break;case o.props.showYearPicker:l=xee(o.state.date,o.props);break;case o.props.showQuarterYearPicker:l=_ee(o.state.date,o.props);break;default:l=IT(o.state.date,o.props);break}if(!(!((a=o.props.forceShowMonthNavigation)!==null&&a!==void 0?a:r.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&l||o.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];o.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),o.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var p=o.increaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(p=o.increaseYear),l&&o.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),p=void 0);var g=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,b=o.props,v=b.nextMonthButtonLabel,y=v===void 0?r.defaultProps.nextMonthButtonLabel:v,k=b.nextYearButtonLabel,x=k===void 0?r.defaultProps.nextYearButtonLabel:k,_=o.props,D=_.nextMonthAriaLabel,E=D===void 0?typeof y=="string"?y:"Next Month":D,N=_.nextYearAriaLabel,P=N===void 0?typeof x=="string"?x:"Next Year":N;return at.createElement("button",{type:"button",className:d.join(" "),onClick:p,onKeyDown:o.props.handleOnKeyDown,"aria-label":g?P:E},at.createElement("span",{className:h.join(" ")},g?x:y))}}},o.renderCurrentMonth=function(a){a===void 0&&(a=o.state.date);var l=["react-datepicker__current-month"];return o.props.showYearDropdown&&l.push("react-datepicker__current-month--hasYearDropdown"),o.props.showMonthDropdown&&l.push("react-datepicker__current-month--hasMonthDropdown"),o.props.showMonthYearDropdown&&l.push("react-datepicker__current-month--hasMonthYearDropdown"),at.createElement("h2",{className:l.join(" ")},Lr(a,o.props.dateFormat,o.props.locale))},o.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!o.props.showYearDropdown||a))return at.createElement(Wee,Wn({},r.defaultProps,o.props,{date:o.state.date,onChange:o.changeYear,year:Tn(o.state.date)}))},o.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!o.props.showMonthDropdown||a))return at.createElement(Ree,Wn({},r.defaultProps,o.props,{month:ns(o.state.date),onChange:o.changeMonth}))},o.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!o.props.showMonthYearDropdown||a))return at.createElement(Uee,Wn({},r.defaultProps,o.props,{date:o.state.date,onChange:o.changeMonthYear}))},o.handleTodayButtonClick=function(a){o.props.onSelect(_T(),a),o.props.setPreSelection&&o.props.setPreSelection(_T())},o.renderTodayButton=function(){if(!(!o.props.todayButton||o.props.showTimeSelectOnly))return at.createElement("div",{className:"react-datepicker__today-button",onClick:o.handleTodayButtonClick},o.props.todayButton)},o.renderDefaultHeader=function(a){var l=a.monthDate,d=a.i;return at.createElement("div",{className:"react-datepicker__header ".concat(o.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},o.renderCurrentMonth(l),at.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(o.props.dropdownMode),onFocus:o.handleDropdownFocus},o.renderMonthDropdown(d!==0),o.renderMonthYearDropdown(d!==0),o.renderYearDropdown(d!==0)),at.createElement("div",{className:"react-datepicker__day-names"},o.header(l)))},o.renderCustomHeader=function(a){var l,d,h=a.monthDate,p=a.i;if(o.props.showTimeSelect&&!o.state.monthContainer||o.props.showTimeSelectOnly)return null;var g=DT(o.state.date,o.props),b=IT(o.state.date,o.props),v=TT(o.state.date,o.props),y=NT(o.state.date,o.props),k=!o.props.showMonthYearPicker&&!o.props.showQuarterYearPicker&&!o.props.showYearPicker;return at.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:o.props.onDropdownFocus},(d=(l=o.props).renderCustomHeader)===null||d===void 0?void 0:d.call(l,Wn(Wn({},o.state),{customHeaderCount:p,monthDate:h,changeMonth:o.changeMonth,changeYear:o.changeYear,decreaseMonth:o.decreaseMonth,increaseMonth:o.increaseMonth,decreaseYear:o.decreaseYear,increaseYear:o.increaseYear,prevMonthButtonDisabled:g,nextMonthButtonDisabled:b,prevYearButtonDisabled:v,nextYearButtonDisabled:y})),k&&at.createElement("div",{className:"react-datepicker__day-names"},o.header(h)))},o.renderYearHeader=function(a){var l=a.monthDate,d=o.props,h=d.showYearPicker,p=d.yearItemNumber,g=p===void 0?r.defaultProps.yearItemNumber:p,b=Ju(l,g),v=b.startPeriod,y=b.endPeriod;return at.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},h?"".concat(v," - ").concat(y):Tn(l))},o.renderHeader=function(a){var l=a.monthDate,d=a.i,h=d===void 0?0:d,p={monthDate:l,i:h};switch(!0){case o.props.renderCustomHeader!==void 0:return o.renderCustomHeader(p);case(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker):return o.renderYearHeader(p);default:return o.renderDefaultHeader(p)}},o.renderMonths=function(){var a,l;if(!(o.props.showTimeSelectOnly||o.props.showYearPicker)){for(var d=[],h=(a=o.props.monthsShown)!==null&&a!==void 0?a:r.defaultProps.monthsShown,p=o.props.showPreviousMonths?h-1:0,g=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?Qc(o.state.date,p):Sh(o.state.date,p),b=(l=o.props.monthSelectedIn)!==null&&l!==void 0?l:p,v=0;v<h;++v){var y=v-b+p,k=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?Qc(g,y):fl(g,y),x="month-".concat(v),_=v<h-1,D=v>0;d.push(at.createElement("div",{key:x,ref:function(E){o.monthContainer=E??void 0},className:"react-datepicker__month-container"},o.renderHeader({monthDate:k,i:v}),at.createElement(jee,Wn({},r.defaultProps,o.props,{ariaLabelPrefix:o.props.monthAriaLabelPrefix,day:k,onDayClick:o.handleDayClick,handleOnKeyDown:o.props.handleOnDayKeyDown,handleOnMonthKeyDown:o.props.handleOnKeyDown,onDayMouseEnter:o.handleDayMouseEnter,onMouseLeave:o.handleMonthMouseLeave,orderInDisplay:v,selectingDate:o.state.selectingDate,monthShowsDuplicateDaysEnd:_,monthShowsDuplicateDaysStart:D}))))}return d}},o.renderYears=function(){if(!o.props.showTimeSelectOnly&&o.props.showYearPicker)return at.createElement("div",{className:"react-datepicker__year--container"},o.renderHeader({monthDate:o.state.date}),at.createElement(Vee,Wn({},r.defaultProps,o.props,{selectingDate:o.state.selectingDate,date:o.state.date,onDayClick:o.handleDayClick,clearSelectingDate:o.clearSelectingDate,onYearMouseEnter:o.handleYearMouseEnter,onYearMouseLeave:o.handleYearMouseLeave})))},o.renderTimeSection=function(){if(o.props.showTimeSelect&&(o.state.monthContainer||o.props.showTimeSelectOnly))return at.createElement(qee,Wn({},r.defaultProps,o.props,{onChange:o.props.onTimeChange,format:o.props.timeFormat,intervals:o.props.timeIntervals,monthRef:o.state.monthContainer}))},o.renderInputTimeSection=function(){var a=o.props.selected?new Date(o.props.selected):void 0,l=a&&Yc(a)&&!!o.props.selected,d=l?"".concat(PT(a.getHours()),":").concat(PT(a.getMinutes())):"";if(o.props.showTimeInput)return at.createElement(Nee,Wn({},r.defaultProps,o.props,{date:a,timeString:d,onChange:o.props.onTimeChange}))},o.renderAriaLiveRegion=function(){var a,l=Ju(o.state.date,(a=o.props.yearItemNumber)!==null&&a!==void 0?a:r.defaultProps.yearItemNumber),d=l.startPeriod,h=l.endPeriod,p;return o.props.showYearPicker?p="".concat(d," - ").concat(h):o.props.showMonthYearPicker||o.props.showQuarterYearPicker?p=Tn(o.state.date):p="".concat(cC(ns(o.state.date),o.props.locale)," ").concat(Tn(o.state.date)),at.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},o.state.isRenderAriaLiveMessage&&p)},o.renderChildren=function(){if(o.props.children)return at.createElement("div",{className:"react-datepicker__children-container"},o.props.children)},o.containerRef=Y.createRef(),o.state={date:o.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},o}return Object.defineProperty(r,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:tb}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},r.prototype.componentDidUpdate=function(n){var o=this;if(this.props.preSelection&&(!Un(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var a=!ts(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&o.handleCustomMonthChange(o.state.date)})}else this.props.openToDate&&!Un(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},r.prototype.render=function(){var n=this.props.container||lee;return at.createElement(M1,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},at.createElement(n,{className:Zt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},r}(Y.Component),Qee=function(t){var r=t.icon,n=t.className,o=n===void 0?"":n,a=t.onClick,l="react-datepicker__calendar-icon";return typeof r=="string"?at.createElement("i",{className:"".concat(l," ").concat(r," ").concat(o),"aria-hidden":"true",onClick:a}):at.isValidElement(r)?at.cloneElement(r,{className:"".concat(r.props.className||""," ").concat(l," ").concat(o),onClick:function(d){typeof r.props.onClick=="function"&&r.props.onClick(d),typeof a=="function"&&a(d)}}):at.createElement("svg",{className:"".concat(l," ").concat(o),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},at.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},eL=function(t){oo(r,t);function r(n){var o=t.call(this,n)||this;return o.portalRoot=null,o.el=document.createElement("div"),o}return r.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},r.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},r.prototype.render=function(){return AW.createPortal(this.props.children,this.el)},r}(Y.Component),Jee="[tabindex], a, button, input, select, textarea",Zee=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},tL=function(t){oo(r,t);function r(n){var o=t.call(this,n)||this;return o.getTabChildren=function(){var a;return Array.prototype.slice.call((a=o.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(Jee),1,-1).filter(Zee)},o.handleFocusStart=function(){var a=o.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},o.handleFocusEnd=function(){var a=o.getTabChildren();a&&a.length>1&&a[0].focus()},o.tabLoopRef=Y.createRef(),o}return r.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:r.defaultProps.enableTabLoop)?at.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},at.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,at.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},r.defaultProps={enableTabLoop:!0},r}(Y.Component);function Xee(t){var r=function(n){var o,a=typeof n.hidePopper=="boolean"?n.hidePopper:!0,l=Y.useRef(null),d=aee(Wn({open:!a,whileElementsMounted:FX,placement:n.popperPlacement,middleware:rc([YX({padding:15}),GX(10),KX({element:l})],(o=n.popperModifiers)!==null&&o!==void 0?o:[],!0)},n.popperProps)),h=Wn(Wn({},n),{hidePopper:a,popperProps:Wn(Wn({},d),{arrowRef:l})});return at.createElement(t,Wn({},h))};return r}var ete=function(t){oo(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(r,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var n=this.props,o=n.className,a=n.wrapperClassName,l=n.hidePopper,d=l===void 0?r.defaultProps.hidePopper:l,h=n.popperComponent,p=n.targetComponent,g=n.enableTabLoop,b=n.popperOnKeyDown,v=n.portalId,y=n.portalHost,k=n.popperProps,x=n.showArrow,_=void 0;if(!d){var D=Zt("react-datepicker-popper",o);_=at.createElement(tL,{enableTabLoop:g},at.createElement("div",{ref:k.refs.setFloating,style:k.floatingStyles,className:D,"data-placement":k.placement,onKeyDown:b},h,x&&at.createElement(eee,{ref:k.arrowRef,context:k.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(_=Y.createElement(this.props.popperContainer,{},_)),v&&!d&&(_=at.createElement(eL,{portalId:v,portalHost:y},_));var E=Zt("react-datepicker-wrapper",a);return at.createElement(at.Fragment,null,at.createElement("div",{ref:k.refs.setReference,className:E},p),_)},r}(Y.Component),tte=Xee(ete),FT="react-datepicker-ignore-onclickoutside";function nte(t,r){return t&&r?ns(t)!==ns(r)||Tn(t)!==Tn(r):t!==r}var Mv="Date input not valid.",rte=function(t){oo(r,t);function r(n){var o=t.call(this,n)||this;return o.calendar=null,o.input=null,o.getPreSelection=function(){return o.props.openToDate?o.props.openToDate:o.props.selectsEnd&&o.props.startDate?o.props.startDate:o.props.selectsStart&&o.props.endDate?o.props.endDate:hr()},o.modifyHolidays=function(){var a;return(a=o.props.holidays)===null||a===void 0?void 0:a.reduce(function(l,d){var h=new Date(d.date);return Yc(h)?rc(rc([],l,!0),[Wn(Wn({},d),{date:h})],!1):l},[])},o.calcInitialState=function(){var a,l=o.getPreSelection(),d=JO(o.props),h=ZO(o.props),p=d&&jh(l,bk(d))?d:h&&sd(l,CT(h))?h:l;return{open:o.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=o.props.selectsRange?o.props.startDate:o.props.selected)!==null&&a!==void 0?a:p,highlightDates:MT(o.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},o.resetHiddenStatus=function(){o.setState(Wn(Wn({},o.state),{wasHidden:!1}))},o.setHiddenStatus=function(){o.setState(Wn(Wn({},o.state),{wasHidden:!0}))},o.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&o.setHiddenStatus()},o.clearPreventFocusTimeout=function(){o.preventFocusTimeout&&clearTimeout(o.preventFocusTimeout)},o.safeFocus=function(){setTimeout(function(){var a,l;(l=(a=o.input)===null||a===void 0?void 0:a.focus)===null||l===void 0||l.call(a,{preventScroll:!0})},0)},o.safeBlur=function(){setTimeout(function(){var a,l;(l=(a=o.input)===null||a===void 0?void 0:a.blur)===null||l===void 0||l.call(a)},0)},o.setFocus=function(){o.safeFocus()},o.setBlur=function(){o.safeBlur(),o.cancelFocusInput()},o.setOpen=function(a,l){l===void 0&&(l=!1),o.setState({open:a,preSelection:a&&o.state.open?o.state.preSelection:o.calcInitialState().preSelection,lastPreSelectChange:Pv},function(){a||o.setState(function(d){return{focused:l?d.focused:!1}},function(){!l&&o.setBlur(),o.setState({inputValue:null})})})},o.inputOk=function(){return Jc(o.state.preSelection)},o.isCalendarOpen=function(){return o.props.open===void 0?o.state.open&&!o.props.disabled&&!o.props.readOnly:o.props.open},o.handleFocus=function(a){var l,d,h=o.state.wasHidden,p=h?o.state.open:!0;h&&o.resetHiddenStatus(),!o.state.preventFocus&&p&&((d=(l=o.props).onFocus)===null||d===void 0||d.call(l,a),!o.props.preventOpenOnFocus&&!o.props.readOnly&&o.setOpen(!0)),o.setState({focused:!0})},o.sendFocusBackToInput=function(){o.preventFocusTimeout&&o.clearPreventFocusTimeout(),o.setState({preventFocus:!0},function(){o.preventFocusTimeout=setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})})},o.cancelFocusInput=function(){clearTimeout(o.inputFocusTimeout),o.inputFocusTimeout=void 0},o.deferFocusInput=function(){o.cancelFocusInput(),o.inputFocusTimeout=setTimeout(function(){return o.setFocus()},1)},o.handleDropdownFocus=function(){o.cancelFocusInput()},o.handleBlur=function(a){var l,d;(!o.state.open||o.props.withPortal||o.props.showTimeInput)&&((d=(l=o.props).onBlur)===null||d===void 0||d.call(l,a)),o.setState({focused:!1})},o.handleCalendarClickOutside=function(a){var l,d;o.props.inline||o.setOpen(!1),(d=(l=o.props).onClickOutside)===null||d===void 0||d.call(l,a),o.props.withPortal&&a.preventDefault()},o.handleChange=function(){for(var a,l,d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var p=d[0];if(!(o.props.onChangeRaw&&(o.props.onChangeRaw.apply(o,d),!p||typeof p.isDefaultPrevented!="function"||p.isDefaultPrevented()))){o.setState({inputValue:(p==null?void 0:p.target)instanceof HTMLInputElement?p.target.value:null,lastPreSelectChange:ite});var g=o.props,b=g.dateFormat,v=b===void 0?r.defaultProps.dateFormat:b,y=g.strictParsing,k=y===void 0?r.defaultProps.strictParsing:y,x=g.selectsRange,_=g.startDate,D=g.endDate,E=(p==null?void 0:p.target)instanceof HTMLInputElement?p.target.value:"";if(x){var N=E.split("-",2).map(function(Q){return Q.trim()}),P=N[0],F=N[1],V=Iv(P??"",v,o.props.locale,k),$=Iv(F??"",v,o.props.locale,k),M=(_==null?void 0:_.getTime())!==(V==null?void 0:V.getTime()),B=(D==null?void 0:D.getTime())!==($==null?void 0:$.getTime());if(!M&&!B||V&&Oa(V,o.props)||$&&Oa($,o.props))return;(l=(a=o.props).onChange)===null||l===void 0||l.call(a,[V,$],p)}else{var q=Iv(E,v,o.props.locale,k,o.props.minDate);o.props.showTimeSelectOnly&&o.props.selected&&q&&!Un(q,o.props.selected)&&(q=qZ(o.props.selected,{hours:sc(q),minutes:ac(q),seconds:Zc(q)})),(q||!E)&&o.setSelected(q,p,!0)}}},o.handleSelect=function(a,l,d){if(o.props.shouldCloseOnSelect&&!o.props.showTimeSelect&&o.sendFocusBackToInput(),o.props.onChangeRaw&&o.props.onChangeRaw(l),o.setSelected(a,l,!1,d),o.props.showDateSelect&&o.setState({isRenderAriaLiveMessage:!0}),!o.props.shouldCloseOnSelect||o.props.showTimeSelect)o.setPreSelection(a);else if(!o.props.inline){o.props.selectsRange||o.setOpen(!1);var h=o.props,p=h.startDate,g=h.endDate;p&&!g&&(o.props.swapRange||!jT(a,p))&&o.setOpen(!1)}},o.setSelected=function(a,l,d,h){var p,g,b=a;if(o.props.showYearPicker){if(b!==null&&kk(Tn(b),o.props))return}else if(o.props.showMonthYearPicker){if(b!==null&&QO(b,o.props))return}else if(b!==null&&Oa(b,o.props))return;var v=o.props,y=v.onChange,k=v.selectsRange,x=v.startDate,_=v.endDate,D=v.selectsMultiple,E=v.selectedDates,N=v.minTime,P=v.swapRange;if(!kh(o.props.selected,b)||o.props.allowSameDay||k||D)if(b!==null&&(o.props.selected&&(!d||!o.props.showTimeSelect&&!o.props.showTimeSelectOnly&&!o.props.showTimeInput)&&(b=Tv(b,{hour:sc(o.props.selected),minute:ac(o.props.selected),second:Zc(o.props.selected)})),!d&&(o.props.showTimeSelect||o.props.showTimeSelectOnly)&&N&&(b=Tv(b,{hour:N.getHours(),minute:N.getMinutes(),second:N.getSeconds()})),o.props.inline||o.setState({preSelection:b}),o.props.focusSelectedMonth||o.setState({monthSelectedIn:h})),k){var F=!x&&!_,V=x&&!_,$=x&&_;F?y==null||y([b,null],l):V&&(b===null?y==null||y([null,null],l):jT(b,x)?P?y==null||y([b,x],l):y==null||y([b,null],l):y==null||y([x,b],l)),$&&(y==null||y([b,null],l))}else if(D){if(b!==null)if(!(E!=null&&E.length))y==null||y([b],l);else{var M=E.some(function(q){return Un(q,b)});if(M){var B=E.filter(function(q){return!Un(q,b)});y==null||y(B,l)}else y==null||y(rc(rc([],E,!0),[b],!1),l)}}else y==null||y(b,l);d||((g=(p=o.props).onSelect)===null||g===void 0||g.call(p,b,l),o.setState({inputValue:null}))},o.setPreSelection=function(a){var l=Jc(o.props.minDate),d=Jc(o.props.maxDate),h=!0;if(a){var p=bk(a);if(l&&d)h=dg(a,o.props.minDate,o.props.maxDate);else if(l){var g=bk(o.props.minDate);h=sd(a,g)||kh(p,g)}else if(d){var b=CT(o.props.maxDate);h=jh(a,b)||kh(p,b)}}h&&o.setState({preSelection:a})},o.toggleCalendar=function(){o.setOpen(!o.state.open)},o.handleTimeChange=function(a){var l,d;if(!(o.props.selectsRange||o.props.selectsMultiple)){var h=o.props.selected?o.props.selected:o.getPreSelection(),p=o.props.selected?a:Tv(h,{hour:sc(a),minute:ac(a)});o.setState({preSelection:p}),(d=(l=o.props).onChange)===null||d===void 0||d.call(l,p),o.props.shouldCloseOnSelect&&!o.props.showTimeInput&&(o.sendFocusBackToInput(),o.setOpen(!1)),o.props.showTimeInput&&o.setOpen(!0),(o.props.showTimeSelectOnly||o.props.showTimeSelect)&&o.setState({isRenderAriaLiveMessage:!0}),o.setState({inputValue:null})}},o.onInputClick=function(){var a,l;!o.props.disabled&&!o.props.readOnly&&o.setOpen(!0),(l=(a=o.props).onInputClick)===null||l===void 0||l.call(a)},o.onInputKeyDown=function(a){var l,d,h,p,g,b;(d=(l=o.props).onKeyDown)===null||d===void 0||d.call(l,a);var v=a.key;if(!o.state.open&&!o.props.inline&&!o.props.preventOpenOnFocus){(v===Lt.ArrowDown||v===Lt.ArrowUp||v===Lt.Enter)&&((h=o.onInputClick)===null||h===void 0||h.call(o));return}if(o.state.open){if(v===Lt.ArrowDown||v===Lt.ArrowUp){a.preventDefault();var y=o.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":o.props.showWeekPicker&&o.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':o.props.showFullMonthYearPicker||o.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',k=((p=o.calendar)===null||p===void 0?void 0:p.containerRef.current)instanceof Element&&o.calendar.containerRef.current.querySelector(y);k instanceof HTMLElement&&k.focus({preventScroll:!0});return}var x=hr(o.state.preSelection);v===Lt.Enter?(a.preventDefault(),a.target.blur(),o.inputOk()&&o.state.lastPreSelectChange===Pv?(o.handleSelect(x,a),!o.props.shouldCloseOnSelect&&o.setPreSelection(x)):o.setOpen(!1)):v===Lt.Escape?(a.preventDefault(),a.target.blur(),o.sendFocusBackToInput(),o.setOpen(!1)):v===Lt.Tab&&o.setOpen(!1),o.inputOk()||(b=(g=o.props).onInputError)===null||b===void 0||b.call(g,{code:1,msg:Mv})}},o.onPortalKeyDown=function(a){var l=a.key;l===Lt.Escape&&(a.preventDefault(),o.setState({preventFocus:!0},function(){o.setOpen(!1),setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})}))},o.onDayKeyDown=function(a){var l,d,h,p,g,b,v=o.props,y=v.minDate,k=v.maxDate,x=v.disabledKeyboardNavigation,_=v.showWeekPicker,D=v.shouldCloseOnSelect,E=v.locale,N=v.calendarStartDay,P=v.adjustDateOnChange,F=v.inline;if((d=(l=o.props).onKeyDown)===null||d===void 0||d.call(l,a),!x){var V=a.key,$=a.shiftKey,M=hr(o.state.preSelection),B=function(ne,de){var se=de;switch(ne){case Lt.ArrowRight:se=_?Uk(de,1):hl(de,1);break;case Lt.ArrowLeft:se=_?dT(de):xZ(de);break;case Lt.ArrowUp:se=dT(de);break;case Lt.ArrowDown:se=Uk(de,1);break;case Lt.PageUp:se=$?vp(de,1):Sh(de,1);break;case Lt.PageDown:se=$?Qc(de,1):fl(de,1);break;case Lt.Home:se=rd(de,E,N);break;case Lt.End:se=mee(de);break}return se},q=function(ne,de){for(var se=40,oe=ne,ye=!1,re=0,_e=B(ne,de);!ye;){if(re>=se){_e=de;break}y&&_e<y&&(oe=Lt.ArrowRight,_e=Oa(y,o.props)?B(oe,_e):y),k&&_e>k&&(oe=Lt.ArrowLeft,_e=Oa(k,o.props)?B(oe,_e):k),Oa(_e,o.props)?((oe===Lt.PageUp||oe===Lt.Home)&&(oe=Lt.ArrowRight),(oe===Lt.PageDown||oe===Lt.End)&&(oe=Lt.ArrowLeft),_e=B(oe,_e)):ye=!0,re++}return _e};if(V===Lt.Enter){a.preventDefault(),o.handleSelect(M,a),!D&&o.setPreSelection(M);return}else if(V===Lt.Escape){a.preventDefault(),o.setOpen(!1),o.inputOk()||(p=(h=o.props).onInputError)===null||p===void 0||p.call(h,{code:1,msg:Mv});return}var Q=null;switch(V){case Lt.ArrowLeft:case Lt.ArrowRight:case Lt.ArrowUp:case Lt.ArrowDown:case Lt.PageUp:case Lt.PageDown:case Lt.Home:case Lt.End:Q=q(V,M);break}if(!Q){(b=(g=o.props).onInputError)===null||b===void 0||b.call(g,{code:1,msg:Mv});return}if(a.preventDefault(),o.setState({lastPreSelectChange:Pv}),P&&o.setSelected(Q),o.setPreSelection(Q),F){var H=ns(M),R=ns(Q),K=Tn(M),j=Tn(Q);H!==R||K!==j?o.setState({shouldFocusDayInline:!0}):o.setState({shouldFocusDayInline:!1})}}},o.onPopperKeyDown=function(a){var l=a.key;l===Lt.Escape&&(a.preventDefault(),o.sendFocusBackToInput())},o.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),o.sendFocusBackToInput();var l=o.props,d=l.selectsRange,h=l.onChange;d?h==null||h([null,null],a):h==null||h(null,a),o.setState({inputValue:null})},o.clear=function(){o.onClearClick()},o.onScroll=function(a){typeof o.props.closeOnScroll=="boolean"&&o.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&o.setOpen(!1):typeof o.props.closeOnScroll=="function"&&o.props.closeOnScroll(a)&&o.setOpen(!1)},o.renderCalendar=function(){var a,l;return!o.props.inline&&!o.isCalendarOpen()?null:at.createElement(Kee,Wn({showMonthYearDropdown:void 0,ref:function(d){o.calendar=d}},o.props,o.state,{setOpen:o.setOpen,dateFormat:(a=o.props.dateFormatCalendar)!==null&&a!==void 0?a:r.defaultProps.dateFormatCalendar,onSelect:o.handleSelect,onClickOutside:o.handleCalendarClickOutside,holidays:Eee(o.modifyHolidays()),outsideClickIgnoreClass:FT,onDropdownFocus:o.handleDropdownFocus,onTimeChange:o.handleTimeChange,className:o.props.calendarClassName,container:o.props.calendarContainer,handleOnKeyDown:o.props.onKeyDown,handleOnDayKeyDown:o.onDayKeyDown,setPreSelection:o.setPreSelection,dropdownMode:(l=o.props.dropdownMode)!==null&&l!==void 0?l:r.defaultProps.dropdownMode}),o.props.children)},o.renderAriaLiveRegion=function(){var a=o.props,l=a.dateFormat,d=l===void 0?r.defaultProps.dateFormat:l,h=a.locale,p=o.props.showTimeInput||o.props.showTimeSelect,g=p?"PPPPp":"PPPP",b;return o.props.selectsRange?b="Selected start date: ".concat(Na(o.props.startDate,{dateFormat:g,locale:h}),". ").concat(o.props.endDate?"End date: "+Na(o.props.endDate,{dateFormat:g,locale:h}):""):o.props.showTimeSelectOnly?b="Selected time: ".concat(Na(o.props.selected,{dateFormat:d,locale:h})):o.props.showYearPicker?b="Selected year: ".concat(Na(o.props.selected,{dateFormat:"yyyy",locale:h})):o.props.showMonthYearPicker?b="Selected month: ".concat(Na(o.props.selected,{dateFormat:"MMMM yyyy",locale:h})):o.props.showQuarterYearPicker?b="Selected quarter: ".concat(Na(o.props.selected,{dateFormat:"yyyy, QQQ",locale:h})):b="Selected date: ".concat(Na(o.props.selected,{dateFormat:g,locale:h})),at.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},b)},o.renderDateInput=function(){var a,l,d,h=Zt(o.props.className,(a={},a[FT]=o.state.open,a)),p=o.props.customInput||at.createElement("input",{type:"text"}),g=o.props.customInputRef||"ref",b=o.props,v=b.dateFormat,y=v===void 0?r.defaultProps.dateFormat:v,k=b.locale,x=typeof o.props.value=="string"?o.props.value:typeof o.state.inputValue=="string"?o.state.inputValue:o.props.selectsRange?dee(o.props.startDate,o.props.endDate,{dateFormat:y,locale:k}):o.props.selectsMultiple?hee((d=o.props.selectedDates)!==null&&d!==void 0?d:[],{dateFormat:y,locale:k}):Na(o.props.selected,{dateFormat:y,locale:k});return Y.cloneElement(p,(l={},l[g]=function(_){o.input=_},l.value=x,l.onBlur=o.handleBlur,l.onChange=o.handleChange,l.onClick=o.onInputClick,l.onFocus=o.handleFocus,l.onKeyDown=o.onInputKeyDown,l.id=o.props.id,l.name=o.props.name,l.form=o.props.form,l.autoFocus=o.props.autoFocus,l.placeholder=o.props.placeholderText,l.disabled=o.props.disabled,l.autoComplete=o.props.autoComplete,l.className=Zt(p.props.className,h),l.title=o.props.title,l.readOnly=o.props.readOnly,l.required=o.props.required,l.tabIndex=o.props.tabIndex,l["aria-describedby"]=o.props.ariaDescribedBy,l["aria-invalid"]=o.props.ariaInvalid,l["aria-labelledby"]=o.props.ariaLabelledBy,l["aria-required"]=o.props.ariaRequired,l))},o.renderClearButton=function(){var a=o.props,l=a.isClearable,d=a.disabled,h=a.selected,p=a.startDate,g=a.endDate,b=a.clearButtonTitle,v=a.clearButtonClassName,y=v===void 0?"":v,k=a.ariaLabelClose,x=k===void 0?"Close":k,_=a.selectedDates;return l&&(h!=null||p!=null||g!=null||_!=null&&_.length)?at.createElement("button",{type:"button",className:Zt("react-datepicker__close-icon",y,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":x,onClick:o.onClearClick,title:b,tabIndex:-1}):null},o.state=o.calcInitialState(),o.preventFocusTimeout=void 0,o}return Object.defineProperty(r,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:tb,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.componentDidUpdate=function(n,o){var a,l,d,h;n.inline&&nte(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:MT(this.props.highlightDates)}),!o.focused&&!kh(n.selected,this.props.selected)&&this.setState({inputValue:null}),o.open!==this.state.open&&(o.open===!1&&this.state.open===!0&&((l=(a=this.props).onCalendarOpen)===null||l===void 0||l.call(a)),o.open===!0&&this.state.open===!1&&((h=(d=this.props).onCalendarClose)===null||h===void 0||h.call(d)))},r.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.renderInputContainer=function(){var n=this.props,o=n.showIcon,a=n.icon,l=n.calendarIconClassname,d=n.calendarIconClassName,h=n.toggleCalendarOnIconClick,p=this.state.open;return l&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),at.createElement("div",{className:"react-datepicker__input-container".concat(o?" react-datepicker__view-calendar-icon":"")},o&&at.createElement(Qee,Wn({icon:a,className:Zt(d,!d&&l,p&&"react-datepicker-ignore-onclickoutside")},h?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},r.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var o=this.state.open?at.createElement(tL,{enableTabLoop:this.props.enableTabLoop},at.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(o=at.createElement(eL,Wn({portalId:this.props.portalId},this.props),o)),at.createElement("div",null,this.renderInputContainer(),o)}return at.createElement(tte,Wn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},r}(Y.Component),ite="input",Pv="navigate";const ote=w1(Sn)({width:"100%"}),nL=at.forwardRef((t,r)=>C.jsx(ote,{...t,inputRef:r,fullWidth:!0}));nL.displayName="CustomInput";const ste=({value:t,onChange:r})=>C.jsx(Le,{sx:{mb:2},children:C.jsx(rte,{selected:t,onChange:n=>r(n),showTimeSelect:!0,dateFormat:"Pp",customInput:C.jsx(nL,{label:"Schedule Publish Date & Time"})})}),ate=Y.lazy(()=>Ki(()=>import("./MaterialImportWrapper-CVOZaCkH.js"),__vite__mapDeps([3,4,1,5]))),lte=({src:t,alt:r})=>{const[n,o]=Y.useState(!1),[a,l]=Y.useState(!1);return Y.useEffect(()=>{const d=new Image;return d.src=t,d.onload=()=>o(!0),d.onerror=()=>l(!0),()=>{d.onload=null,d.onerror=null}},[t]),a?C.jsx(Le,{sx:{width:"50%",height:150,bgcolor:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #ccc",marginBottom:"16px"},children:C.jsx(ze,{variant:"body2",color:"text.secondary",children:"Image failed to load"})}):C.jsxs(C.Fragment,{children:[!n&&C.jsx(wP,{variant:"rectangular",width:"50%",height:150,sx:{borderRadius:1,marginBottom:"16px"}}),C.jsx(Bk,{in:n,timeout:300,children:C.jsx(Le,{sx:{display:n?"block":"none"},children:C.jsx("img",{src:t,alt:r,style:{maxWidth:"50%",marginBottom:"16px",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"all 0.2s ease-in-out"}})})})]})},rL=({materialData:t})=>{var pt,Vt,Bt,Ft,Kt,pn,En,qn,Br,Wr,jn,Xt,Dn,$o,Nn,Qi,ii,$t,zi,Ji,oi,vr,Bn,Gr,os,ss,So,Eo,Do,bi,Ui,Io,sa,Ha;const r=Vr(),{userDetails:n}=Ti(),o=er(),[a]=_1(),l=a.get("course"),[d,h]=Y.useState((t==null?void 0:t.course)||l||""),[p,g]=Y.useState((t==null?void 0:t.id)||null),[b,v]=Y.useState((t==null?void 0:t.title)||""),[y,k]=Y.useState((t==null?void 0:t.header)||{title:"Header",content:""}),[x,_]=Y.useState((t==null?void 0:t.footer)||{title:"Footer",content:""}),[D,E]=Y.useState((t==null?void 0:t.sections)||[{id:Pa(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[N,P]=Y.useState({sectionIndex:0}),[F,V]=Y.useState(!1),[$,M]=Y.useState(""),[B,q]=Y.useState("success"),[Q,H]=Y.useState(!1),[R,K]=Y.useState(((pt=t==null?void 0:t.scheduledTimestamp)==null?void 0:pt.toDate())||null),[j,ne]=Y.useState(!1),[de,se]=Y.useState("manual"),[oe,ye]=Y.useState(!1),[re,_e]=Y.useState(null),[X,J]=Y.useState(null),[ae,pe]=Y.useState(!1);wO(D,N.sectionIndex||0,D.length>1),Y.useEffect(()=>{const mt=_t=>{_t.key==="ArrowLeft"?He("prev"):_t.key==="ArrowRight"&&He("next")};return window.addEventListener("keydown",mt),()=>{window.removeEventListener("keydown",mt)}},[N,D]);const we=async(mt,_t=!1,St)=>{mt.preventDefault();try{if(oe&&!p){const zt=await oa(Yn(o,"materials"),{course:d,title:b,header:y,footer:x,sections:[],author:(n==null?void 0:n.uid)||"",timestamp:_h(),published:!1,scheduledTimestamp:null}),Gt=zt.id;g(Gt);try{M("Uploading images..."),q("info"),V(!0);const Mn=600*1e3,pr=OA(d,(n==null?void 0:n.uid)||"",Gt,(Oi,so)=>{_e({completed:Oi,total:so}),console.log(`Image upload progress: ${Oi}/${so}`)}),qi=new Promise((Oi,so)=>{setTimeout(()=>so(new Error("Image upload timeout - taking too long")),Mn)}),Vi=await Promise.race([pr,qi]);await xr(zt,{sections:Vi.sections,published:_t,scheduledTimestamp:St?np.fromDate(St):null}),E(Vi.sections),ye(!1),_e(null),M(`Material ${_t?"published":"saved"} successfully with images!`)}catch(Mn){console.error("Image upload failed:",Mn);const pr=Mn instanceof Error?Mn.message:"Unknown error occurred";J(pr),_e(null),await xr(zt,{sections:D,published:_t,scheduledTimestamp:St?np.fromDate(St):null}),M("Material saved, but some images failed to upload"),q("warning")}}else if(p){const zt=yn(o,"materials",p);await xr(zt,{course:d,title:b,header:y,footer:x,sections:D,published:_t,scheduledTimestamp:St?np.fromDate(St):null}),M("Material updated successfully")}else{console.log("Saving material with sections:",D.map(Gt=>{var Mn,pr;return{title:Gt.title,imageCount:((Mn=Gt.images)==null?void 0:Mn.length)||0,images:(pr=Gt.images)==null?void 0:pr.map(qi=>({url:qi.url.substring(0,100)+"...",title:qi.title}))}}));const zt=await oa(Yn(o,"materials"),{course:d,title:b,header:y,footer:x,sections:D,author:(n==null?void 0:n.uid)||"",timestamp:_h(),published:_t,scheduledTimestamp:St?np.fromDate(St):null});g(zt.id),M("Material saved successfully")}q("success"),V(!0),H(!0),setTimeout(()=>H(!1),3e3)}catch{M("Failed to save material"),q("error"),V(!0)}},Pe=()=>{r(l?`/supplemental-materials?course=${l}`:"/supplemental-materials")},Ie=mt=>{we(mt,!0)},Ne=mt=>{j&&R?we(mt,!1,R):ne(!0)},rt=()=>{E([...D,{id:Pa(),title:`Section ${D.length+1}`,content:"",subsections:[],images:[],links:[]}])},Qe=mt=>{const _t=[...D],St=_t[mt];St.subsections.push({id:Pa(),title:`Subsection ${St.subsections.length+1}`,content:"",subSubsections:[],images:[],links:[]}),E(_t),P({sectionIndex:mt,subsectionIndex:St.subsections.length-1})},Je=(mt,_t)=>{const St=[...D],zt=St[mt].subsections[_t];zt.subSubsections.push({id:Pa(),title:`Sub-Subsection ${zt.subSubsections.length+1}`,content:"",images:[],links:[]}),E(St),P({sectionIndex:mt,subsectionIndex:_t,subSubsectionIndex:zt.subSubsections.length-1})},Ue=(mt,_t,St,zt)=>{const Gt=[...D];zt!==void 0?Gt[mt].subsections[St].subSubsections[zt].images=[...Gt[mt].subsections[St].subSubsections[zt].images,..._t]:St!==void 0?Gt[mt].subsections[St].images=[...Gt[mt].subsections[St].images,..._t]:Gt[mt].images=[...Gt[mt].images,..._t],E(Gt)},Z=(mt,_t,St,zt)=>{const Gt=[...D];zt!==void 0?Gt[mt].subsections[St].subSubsections[zt].links=_t:St!==void 0?Gt[mt].subsections[St].links=_t:Gt[mt].links=_t,E(Gt)},Ce=(mt,_t,St)=>{P({sectionIndex:typeof mt=="number"?mt:void 0,subsectionIndex:_t,subSubsectionIndex:St,type:typeof mt=="string"?mt:void 0})},ue=(mt,_t)=>{const St=[...D];St[mt].title=_t,E(St)},ge=(mt,_t,St)=>{const zt=[...D];zt[mt].subsections[_t].title=St,E(zt)},he=(mt,_t,St,zt)=>{const Gt=[...D];Gt[mt].subsections[_t].subSubsections[St].title=zt,E(Gt)},Ae=(mt,_t,St,zt)=>{const Gt=[...D];zt!==void 0?Gt[mt].subsections[St].subSubsections[zt].content=_t:St!==void 0?Gt[mt].subsections[St].content=_t:Gt[mt].content=_t,E(Gt)},Me=mt=>{k({...y,content:mt})},Te=mt=>{_({...x,content:mt})},Ee=mt=>{const _t=D.filter((St,zt)=>zt!==mt);E(_t),_t.length===0?P({sectionIndex:void 0,type:"header"}):mt>=_t.length?P({sectionIndex:_t.length-1}):P({sectionIndex:mt})},qe=(mt,_t)=>{var zt;const St=[...D];(zt=St[mt])!=null&&zt.subsections&&(St[mt].subsections=St[mt].subsections.filter((Gt,Mn)=>Mn!==_t),E(St),St[mt].subsections.length===0?P({sectionIndex:mt}):_t>=St[mt].subsections.length?P({sectionIndex:mt,subsectionIndex:St[mt].subsections.length-1}):P({sectionIndex:mt,subsectionIndex:_t}))},Ve=(mt,_t,St)=>{var Mn,pr;const zt=[...D],Gt=(pr=(Mn=zt[mt])==null?void 0:Mn.subsections)==null?void 0:pr[_t];Gt&&Gt.subSubsections&&(Gt.subSubsections=Gt.subSubsections.filter((qi,Vi)=>Vi!==St),E(zt),Gt.subSubsections.length?St>=Gt.subSubsections.length?P({sectionIndex:mt,subsectionIndex:_t,subSubsectionIndex:Gt.subSubsections.length-1}):P({sectionIndex:mt,subsectionIndex:_t,subSubsectionIndex:St}):P({sectionIndex:mt,subsectionIndex:_t}))},He=mt=>{const{sectionIndex:_t,subsectionIndex:St,subSubsectionIndex:zt,type:Gt}=N;if(mt==="prev")if(zt!==void 0&&zt>0)P({sectionIndex:_t,subsectionIndex:St,subSubsectionIndex:zt-1});else if(zt!==void 0&&zt===0)P({sectionIndex:_t,subsectionIndex:St});else if(St!==void 0&&St>0)P({sectionIndex:_t,subsectionIndex:St-1});else if(St!==void 0&&St===0)P({sectionIndex:_t});else if(_t>0){const Mn=D[_t-1];P({sectionIndex:_t-1,subsectionIndex:Mn.subsections.length?Mn.subsections.length-1:void 0,subSubsectionIndex:Mn.subsections.length?Mn.subsections[Mn.subsections.length-1].subSubsections.length-1:void 0})}else Gt==="footer"?P({sectionIndex:D.length-1,type:"footer"}):_t===void 0&&Gt==="header"&&P({sectionIndex:D.length-1});else mt==="next"&&(zt===void 0&&St!==void 0&&D[_t].subsections[St].subSubsections.length?P({sectionIndex:_t,subsectionIndex:St,subSubsectionIndex:0}):zt!==void 0&&zt<D[_t].subsections[St].subSubsections.length-1?P({sectionIndex:_t,subsectionIndex:St,subSubsectionIndex:zt+1}):zt!==void 0&&zt===D[_t].subsections[St].subSubsections.length-1&&St<D[_t].subsections.length-1?P({sectionIndex:_t,subsectionIndex:St+1}):St===void 0&&D[_t].subsections.length?P({sectionIndex:_t,subsectionIndex:0}):St!==void 0&&St<D[_t].subsections.length-1?P({sectionIndex:_t,subsectionIndex:St+1}):St!==void 0&&St===D[_t].subsections.length-1&&_t<D.length-1?P({sectionIndex:_t+1}):_t<D.length-1?P({sectionIndex:_t+1}):_t===D.length-1&&St===void 0&&P({sectionIndex:void 0,type:"footer"}))},st=N.type==="header"||N.type==="footer"?"":N.sectionIndex!==void 0?N.subSubsectionIndex!==void 0?((Vt=D[N.sectionIndex].subsections[N.subsectionIndex].subSubsections[N.subSubsectionIndex])==null?void 0:Vt.content)||"":N.subsectionIndex!==void 0?((Bt=D[N.sectionIndex].subsections[N.subsectionIndex])==null?void 0:Bt.content)||"":((Ft=D[N.sectionIndex])==null?void 0:Ft.content)||"":"",Fe=N.type==="header"||N.type==="footer"?"":N.sectionIndex!==void 0?N.subSubsectionIndex!==void 0?((Kt=D[N.sectionIndex].subsections[N.subsectionIndex].subSubsections[N.subSubsectionIndex])==null?void 0:Kt.title)||"":N.subsectionIndex!==void 0?((pn=D[N.sectionIndex].subsections[N.subsectionIndex])==null?void 0:pn.title)||"":((En=D[N.sectionIndex])==null?void 0:En.title)||"":"",Ye=(mt,_t,St,zt)=>{const Gt=[...D];zt!==void 0?Gt[mt].subsections[St].subSubsections[zt].images=Gt[mt].subsections[St].subSubsections[zt].images.filter(Mn=>Mn.url!==_t):St!==void 0?Gt[mt].subsections[St].images=Gt[mt].subsections[St].images.filter(Mn=>Mn.url!==_t):Gt[mt].images=Gt[mt].images.filter(Mn=>Mn.url!==_t),E(Gt)},Ke=(mt,_t)=>{_t!==null&&se(_t)},At=mt=>{v(mt.title),k(mt.header),_(mt.footer),E(mt.sections),h(mt.course),ye(!0),se("manual"),M("Material imported successfully! You can now edit and save it."),q("success"),V(!0),P({sectionIndex:0})},ht=()=>{se("manual")},on=async()=>{if(!p||!d||!(n!=null&&n.uid)){M("Cannot retry - missing material information"),q("error"),V(!0);return}pe(!0),J(null),_e({completed:0,total:1});try{M("Analyzing existing images and retrying failed uploads..."),q("info"),V(!0);const mt=600*1e3,_t=[];let St=0;if(D.forEach((qi,Vi)=>{var Oi,so;(Oi=qi.images)==null||Oi.forEach((To,wl)=>{(!To.url||To.url.startsWith("data:image/svg+xml"))&&(_t.push({sectionIndex:Vi,imageIndex:wl}),St++)}),(so=qi.subsections)==null||so.forEach((To,wl)=>{var Wa,lu;(Wa=To.images)==null||Wa.forEach((mr,yl)=>{(!mr.url||mr.url.startsWith("data:image/svg+xml"))&&(_t.push({sectionIndex:Vi,subsectionIndex:wl,imageIndex:yl}),St++)}),(lu=To.subSubsections)==null||lu.forEach((mr,yl)=>{var kc;(kc=mr.images)==null||kc.forEach((wc,as)=>{(!wc.url||wc.url.startsWith("data:image/svg+xml"))&&(_t.push({sectionIndex:Vi,subsectionIndex:wl,subSubsectionIndex:yl,imageIndex:as}),St++)})})})}),console.log(`Found ${St} images that need uploading (out of total images)`),St===0){M("All images are already uploaded successfully!"),q("success"),V(!0),J(null),_e(null);return}M(`Retrying upload for ${St} failed images...`);const zt=OA(d,n.uid,p,(qi,Vi)=>{_e({completed:qi,total:Vi}),console.log(`Retry image upload progress: ${qi}/${Vi}`)}),Gt=new Promise((qi,Vi)=>{setTimeout(()=>Vi(new Error("Image upload timeout - taking too long")),mt)}),Mn=await Promise.race([zt,Gt]),pr=yn(o,"materials",p);await xr(pr,{sections:Mn.sections}),E(Mn.sections),_e(null),J(null),M("Images uploaded successfully!"),q("success"),V(!0)}catch(mt){console.error("Retry image upload failed:",mt);const _t=mt instanceof Error?mt.message:"Unknown error occurred";J(_t),_e(null),M(`Image upload retry failed: ${_t}`),q("error"),V(!0)}finally{pe(!1)}};return C.jsx(Le,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:C.jsxs(Le,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[C.jsx(Le,{sx:{width:"450px",ml:2,mt:2},children:C.jsx(uO,{})}),C.jsxs(Rn,{elevation:2,sx:{mx:2,mt:2,p:2},children:[C.jsx(ze,{variant:"h6",gutterBottom:!0,children:"📝 Create Material"}),C.jsxs(F_,{value:de,exclusive:!0,onChange:Ke,"aria-label":"import mode",fullWidth:!0,sx:{mb:2},children:[C.jsxs(kp,{value:"manual","aria-label":"manual creation",children:[C.jsx(oc,{sx:{mr:1}}),"Manual Creation"]}),C.jsxs(kp,{value:"ai","aria-label":"ai import",children:[C.jsx(_W,{sx:{mr:1}}),"AI Import"]})]}),de==="ai"&&C.jsx(Sr,{severity:"info",sx:{mb:2},children:C.jsx(ze,{variant:"body2",children:"Upload your presentation, document, or material and let AI automatically structure it into course content."})})]}),C.jsxs(C.Fragment,{children:[de==="ai"?C.jsx(Le,{sx:{flexGrow:1,p:2},children:C.jsx(Y.Suspense,{fallback:C.jsxs(Le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:[C.jsx(qr,{}),C.jsx(ze,{variant:"body2",sx:{ml:2},children:"Loading AI Import..."})]}),children:C.jsx(ate,{courseId:d,authorId:(n==null?void 0:n.uid)||"",onMaterialReady:At,onCancel:ht,onError:(mt,_t)=>{console.error("Material Import Error:",mt,_t),M(`Import error: ${mt.message}`),q("error"),V(!0)}})})}):C.jsxs(Le,{sx:{display:"flex",flexGrow:1},children:[C.jsx(cO,{sections:D,selected:N,onAddSection:rt,onAddSubsection:Qe,onAddSubSubsection:Je,onSelectSection:Ce,onUpdateSectionTitle:ue,onUpdateSubsectionTitle:ge,onUpdateSubSubsectionTitle:he,onDeleteSection:Ee,onDeleteSubsection:qe,onDeleteSubSubsection:Ve}),C.jsxs(Le,{sx:{flexGrow:1,padding:3},children:[C.jsx(Sn,{label:"Material Title",variant:"outlined",fullWidth:!0,value:b,onChange:mt=>v(mt.target.value),sx:{mb:2}}),C.jsx(AQ,{value:d,onChange:h}),R&&C.jsxs(ze,{variant:"body1",gutterBottom:!0,children:["Scheduled Publish Date & Time: ",R.toLocaleString()]}),C.jsxs(Le,{sx:{borderRadius:1,padding:2,mb:2},children:[C.jsx(Le,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:C.jsx(ze,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Header"})}),C.jsx(tT,{content:y.content,onChange:Me})]}),C.jsx(ze,{variant:"h4",align:"center",gutterBottom:!0,children:Fe}),N.type!=="header"&&N.type!=="footer"&&C.jsxs(C.Fragment,{children:[C.jsx(yQ,{content:st,onChange:mt=>Ae(N.sectionIndex,mt,N.subsectionIndex,N.subSubsectionIndex)},`${N.sectionIndex}-${N.subsectionIndex}-${N.subSubsectionIndex}`),C.jsx(NK,{sectionId:N.sectionIndex!==void 0?N.subSubsectionIndex!==void 0&&N.subsectionIndex!==void 0?((Xt=(jn=(Wr=(Br=(qn=D[N.sectionIndex])==null?void 0:qn.subsections)==null?void 0:Br[N.subsectionIndex])==null?void 0:Wr.subSubsections)==null?void 0:jn[N.subSubsectionIndex])==null?void 0:Xt.id)||"":N.subsectionIndex!==void 0?((Nn=($o=(Dn=D[N.sectionIndex])==null?void 0:Dn.subsections)==null?void 0:$o[N.subsectionIndex])==null?void 0:Nn.id)||"":((Qi=D[N.sectionIndex])==null?void 0:Qi.id)||"":"",onImagesUploaded:mt=>Ue(N.sectionIndex,mt,N.subsectionIndex,N.subSubsectionIndex)}),(N.subSubsectionIndex!==void 0?((oi=(Ji=(zi=($t=(ii=D[N.sectionIndex])==null?void 0:ii.subsections)==null?void 0:$t[N.subsectionIndex])==null?void 0:zi.subSubsections)==null?void 0:Ji[N.subSubsectionIndex])==null?void 0:oi.images)||[]:N.subsectionIndex!==void 0?((Gr=(Bn=(vr=D[N.sectionIndex])==null?void 0:vr.subsections)==null?void 0:Bn[N.subsectionIndex])==null?void 0:Gr.images)||[]:((os=D[N.sectionIndex])==null?void 0:os.images)||[]).map((mt,_t)=>C.jsxs(Le,{sx:{position:"relative",mt:2},children:[C.jsx(lte,{src:mt.url,alt:`Section ${N.sectionIndex+1} Image ${_t+1}`,title:mt.title}),C.jsx(MK,{imageTitle:mt.title,onTitleChange:St=>{var Gt,Mn;const zt=[...D];if(N.sectionIndex!==void 0)if(N.subSubsectionIndex!==void 0&&N.subsectionIndex!==void 0){const pr=(Mn=(Gt=zt[N.sectionIndex].subsections)==null?void 0:Gt[N.subsectionIndex])==null?void 0:Mn.subSubsections;pr&&pr[N.subSubsectionIndex]&&(pr[N.subSubsectionIndex].images[_t].title=St)}else if(N.subsectionIndex!==void 0){const pr=zt[N.sectionIndex].subsections;pr&&pr[N.subsectionIndex]&&(pr[N.subsectionIndex].images[_t].title=St)}else zt[N.sectionIndex].images[_t].title=St;E(zt)}}),C.jsx(or,{sx:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.7)"},onClick:()=>Ye(N.sectionIndex,mt.url,N.subsectionIndex,N.subSubsectionIndex),children:C.jsx(hd,{})})]},`${mt.url}-${_t}`)),C.jsx(PK,{links:N.sectionIndex!==void 0?N.subSubsectionIndex!==void 0&&N.subsectionIndex!==void 0?((bi=(Do=(Eo=(So=(ss=D[N.sectionIndex])==null?void 0:ss.subsections)==null?void 0:So[N.subsectionIndex])==null?void 0:Eo.subSubsections)==null?void 0:Do[N.subSubsectionIndex])==null?void 0:bi.links)||[]:N.subsectionIndex!==void 0?((sa=(Io=(Ui=D[N.sectionIndex])==null?void 0:Ui.subsections)==null?void 0:Io[N.subsectionIndex])==null?void 0:sa.links)||[]:((Ha=D[N.sectionIndex])==null?void 0:Ha.links)||[]:[],onLinksChange:mt=>Z(N.sectionIndex,mt,N.subsectionIndex,N.subSubsectionIndex)})]}),C.jsxs(Le,{sx:{borderRadius:1,padding:2,mt:2},children:[C.jsx(Le,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:C.jsx(ze,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Footer"})}),C.jsx(tT,{content:x.content,onChange:Te})]}),re&&C.jsxs(Le,{sx:{mb:2,p:2,border:"1px solid #e0e0e0",borderRadius:1,bgcolor:"#f5f5f5"},children:[C.jsxs(ze,{variant:"body2",gutterBottom:!0,children:[ae?"Retrying image upload...":"Uploading images:"," ",re.completed," / ",re.total]}),C.jsx(hg,{variant:"determinate",value:re.completed/re.total*100,sx:{height:8,borderRadius:1}})]}),X&&!re&&C.jsxs(Le,{sx:{mb:2,p:2,border:"1px solid #f44336",borderRadius:1,bgcolor:"#ffebee"},children:[C.jsxs(ze,{variant:"body2",color:"error",gutterBottom:!0,children:["Image upload failed: ",X]}),C.jsx(xt,{variant:"contained",color:"primary",size:"small",onClick:on,disabled:ae,startIcon:ae?C.jsx(qr,{size:16}):C.jsx(hP,{}),sx:{mt:1},children:ae?"Retrying...":"Retry Image Upload"})]}),C.jsxs(Le,{sx:{display:"flex",justifyContent:"space-between"},children:[C.jsx(ia,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:C.jsx("span",{children:C.jsx(or,{onClick:()=>He("prev"),disabled:N.sectionIndex===0&&N.subsectionIndex===void 0&&N.type==="header",children:C.jsx(bP,{})})})}),C.jsx(ia,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:C.jsx("span",{children:C.jsx(or,{onClick:()=>He("next"),disabled:N.sectionIndex===D.length-1&&(N.subsectionIndex===void 0||N.subsectionIndex===D[N.sectionIndex].subsections.length-1)&&N.type==="footer",children:C.jsx(kP,{})})})})]}),C.jsxs(Le,{sx:{mt:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[C.jsx(xt,{type:"button",variant:"outlined",onClick:Pe,className:"supplemental-button cancel-button",children:"Cancel"}),C.jsxs(Le,{sx:{display:"flex",alignItems:"center"},children:[C.jsx(xt,{type:"submit",variant:"outlined",onClick:mt=>we(mt,!1),className:"supplemental-button save-button",children:"Save"}),Q&&C.jsx(ze,{variant:"body2",sx:{fontStyle:"italic",ml:1},children:"Changes Saved"})]}),C.jsx(xt,{type:"button",variant:"outlined",onClick:Ie,className:"supplemental-button publish-button",children:"Publish"}),C.jsxs("div",{children:[j&&C.jsx(ste,{value:R,onChange:K}),C.jsx(xt,{type:"button",variant:"outlined",onClick:Ne,className:"supplemental-button schedule-publish-button",children:"Schedule Publish"})]})]})]})]}),C.jsx(is,{open:F,autoHideDuration:6e3,onClose:()=>V(!1),children:C.jsx(Sr,{onClose:()=>V(!1),severity:B,sx:{width:"100%"},children:$})})]})]})})},cte=()=>{const{id:t}=G_(),r=er(),{userDetails:n}=Ti(),[o,a]=Y.useState(null),l=Y.useMemo(()=>n!=null&&n.classes?Object.entries(n.classes).filter(([h,p])=>p.isCourseAdmin).map(([h])=>h):[],[n==null?void 0:n.classes]);Y.useEffect(()=>{t&&(async()=>{var p;try{const g=yn(r,"materials",t),b=await _s(g);if(b.exists()){const v={id:b.id,...b.data()};v.sections=((p=v.sections)==null?void 0:p.map(y=>{var k,x;return{...y,images:((k=y.images)==null?void 0:k.map(_=>({..._,title:_.title||""})))||[],subsections:((x=y.subsections)==null?void 0:x.map(_=>{var D,E;return{..._,images:((D=_.images)==null?void 0:D.map(N=>({...N,title:N.title||""})))||[],subSubsections:((E=_.subSubsections)==null?void 0:E.map(N=>{var P;return{...N,images:((P=N.images)==null?void 0:P.map(F=>({...F,title:F.title||""})))||[]}}))||[]}}))||[]}}))||[],v.course=l.includes(v.course)?v.course:l[0]||"",a(v)}}catch(g){console.error("Error fetching material:",g)}})()},[t,r,n,l]);const d=async h=>{try{if(t){const p=yn(r,"materials",t);await xr(p,{...h})}}catch(p){console.error("Error updating material:",p)}};return o?C.jsx(rL,{materialData:o,onSubmit:d}):C.jsx(Le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:C.jsx(qr,{})})},zT=w1(Le)(({theme:t})=>({marginBottom:t.spacing(4),textAlign:"center",position:"relative"})),ute=w1("img")(({theme:t})=>({maxWidth:"100%",maxHeight:"500px",marginBottom:t.spacing(1),borderRadius:t.spacing(1),boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease-in-out","&:hover":{transform:"scale(1.02)",boxShadow:"0 8px 24px rgba(0,0,0,0.15)"}})),dte=w1(wP)(({theme:t})=>({borderRadius:t.spacing(1),marginBottom:t.spacing(1)})),hte=({src:t,alt:r,title:n})=>{const[o,a]=Y.useState(!1),[l,d]=Y.useState(!1),[h]=Y.useState(0);return Y.useEffect(()=>{a(!1),d(!1);const p=new Image;return p.src=t,p.onload=()=>{console.log(`✅ SmartImage loaded: ${t.substring(0,50)}...`),a(!0)},p.onerror=g=>{console.error(`❌ SmartImage failed to load: ${t}`,g),console.error("Image details:",{src:t,naturalWidth:p.naturalWidth,naturalHeight:p.naturalHeight,complete:p.complete}),console.error("Image load failed. URL accessible via curl but blocked in browser."),console.error("This is likely a Firebase Storage CORS configuration issue."),console.error(`Fix: Configure CORS to allow ${window.location.origin}`),d(!0)},()=>{p.onload=null,p.onerror=null}},[t,h]),l?C.jsxs(zT,{children:[C.jsxs(Le,{sx:{width:"100%",maxWidth:400,height:200,bgcolor:"#ffebee",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #f44336",p:2},children:[C.jsx(ze,{variant:"body2",color:"error",gutterBottom:!0,children:"Image failed to load"}),C.jsx(ze,{variant:"caption",color:"text.secondary",sx:{textAlign:"center",wordBreak:"break-all"},children:n}),C.jsxs(ze,{variant:"caption",color:"text.secondary",sx:{mt:1,fontSize:"0.7rem"},children:["URL: ",t.substring(0,60),"..."]})]}),C.jsx(ze,{variant:"body2",sx:{fontStyle:"italic",mt:1},children:n})]}):C.jsxs(zT,{children:[!o&&C.jsx(dte,{variant:"rectangular",width:"100%",height:300,sx:{maxWidth:400}}),C.jsx(Bk,{in:o,timeout:500,children:C.jsx(Le,{sx:{display:o?"block":"none"},children:C.jsx(ute,{src:t,alt:r,loading:"lazy"})})}),o&&C.jsx(Bk,{in:o,timeout:700,children:C.jsx(ze,{variant:"body2",sx:{fontStyle:"italic",color:"text.secondary"},children:n})})]})},Ov=({images:t})=>C.jsx(Le,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:t.map((r,n)=>C.jsx(hte,{src:r.url,alt:`Image ${n+1}`,title:r.title,index:n},`${r.url}-${n}`))}),fte=t=>!t.startsWith("http://")&&!t.startsWith("https://")?`https://${t}`:t,pte=({links:t})=>t.length===0?null:C.jsxs(Le,{sx:{mt:2,width:"50%"},children:[C.jsx(ze,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),C.jsxs(Le,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[C.jsx(ze,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),C.jsx(ze,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),C.jsx(ze,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),t.map((r,n)=>C.jsx(Le,{children:C.jsxs(Le,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[C.jsx(ze,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:r.title}),C.jsx(Dg,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:fte(r.url),target:"_blank",rel:"noopener",children:r.url}),C.jsx(ze,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:r.description})]})},n))]});function fr(t){"@babel/helpers - typeof";return fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fr(t)}var zo=Uint8Array,Ks=Uint16Array,dC=Int32Array,P1=new zo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),O1=new zo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),VA=new zo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),iL=function(t,r){for(var n=new Ks(31),o=0;o<31;++o)n[o]=r+=1<<t[o-1];for(var a=new dC(n[30]),o=1;o<30;++o)for(var l=n[o];l<n[o+1];++l)a[l]=l-n[o]<<5|o;return{b:n,r:a}},oL=iL(P1,2),sL=oL.b,$A=oL.r;sL[28]=258,$A[258]=28;var aL=iL(O1,0),mte=aL.b,UT=aL.r,HA=new Ks(32768);for(var Or=0;Or<32768;++Or){var Uu=(Or&43690)>>1|(Or&21845)<<1;Uu=(Uu&52428)>>2|(Uu&13107)<<2,Uu=(Uu&61680)>>4|(Uu&3855)<<4,HA[Or]=((Uu&65280)>>8|(Uu&255)<<8)>>1}var cc=function(t,r,n){for(var o=t.length,a=0,l=new Ks(r);a<o;++a)t[a]&&++l[t[a]-1];var d=new Ks(r);for(a=1;a<r;++a)d[a]=d[a-1]+l[a-1]<<1;var h;if(n){h=new Ks(1<<r);var p=15-r;for(a=0;a<o;++a)if(t[a])for(var g=a<<4|t[a],b=r-t[a],v=d[t[a]-1]++<<b,y=v|(1<<b)-1;v<=y;++v)h[HA[v]>>p]=g}else for(h=new Ks(o),a=0;a<o;++a)t[a]&&(h[a]=HA[d[t[a]-1]++]>>15-t[a]);return h},ld=new zo(288);for(var Or=0;Or<144;++Or)ld[Or]=8;for(var Or=144;Or<256;++Or)ld[Or]=9;for(var Or=256;Or<280;++Or)ld[Or]=7;for(var Or=280;Or<288;++Or)ld[Or]=8;var jg=new zo(32);for(var Or=0;Or<32;++Or)jg[Or]=5;var gte=cc(ld,9,0),bte=cc(ld,9,1),kte=cc(jg,5,0),wte=cc(jg,5,1),Lv=function(t){for(var r=t[0],n=1;n<t.length;++n)t[n]>r&&(r=t[n]);return r},sl=function(t,r,n){var o=r/8|0;return(t[o]|t[o+1]<<8)>>(r&7)&n},jv=function(t,r){var n=r/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(r&7)},hC=function(t){return(t+7)/8|0},lL=function(t,r,n){return(n==null||n>t.length)&&(n=t.length),new zo(t.subarray(r,n))},yte=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],cl=function(t,r,n){var o=new Error(r||yte[t]);if(o.code=t,Error.captureStackTrace&&Error.captureStackTrace(o,cl),!n)throw o;return o},vte=function(t,r,n,o){var a=t.length,l=0;if(!a||r.f&&!r.l)return n||new zo(0);var d=!n,h=d||r.i!=2,p=r.i;d&&(n=new zo(a*3));var g=function(Qe){var Je=n.length;if(Qe>Je){var Ue=new zo(Math.max(Je*2,Qe));Ue.set(n),n=Ue}},b=r.f||0,v=r.p||0,y=r.b||0,k=r.l,x=r.d,_=r.m,D=r.n,E=a*8;do{if(!k){b=sl(t,v,1);var N=sl(t,v+1,3);if(v+=3,N)if(N==1)k=bte,x=wte,_=9,D=5;else if(N==2){var $=sl(t,v,31)+257,M=sl(t,v+10,15)+4,B=$+sl(t,v+5,31)+1;v+=14;for(var q=new zo(B),Q=new zo(19),H=0;H<M;++H)Q[VA[H]]=sl(t,v+H*3,7);v+=M*3;for(var R=Lv(Q),K=(1<<R)-1,j=cc(Q,R,1),H=0;H<B;){var ne=j[sl(t,v,K)];v+=ne&15;var P=ne>>4;if(P<16)q[H++]=P;else{var de=0,se=0;for(P==16?(se=3+sl(t,v,3),v+=2,de=q[H-1]):P==17?(se=3+sl(t,v,7),v+=3):P==18&&(se=11+sl(t,v,127),v+=7);se--;)q[H++]=de}}var oe=q.subarray(0,$),ye=q.subarray($);_=Lv(oe),D=Lv(ye),k=cc(oe,_,1),x=cc(ye,D,1)}else cl(1);else{var P=hC(v)+4,F=t[P-4]|t[P-3]<<8,V=P+F;if(V>a){p&&cl(0);break}h&&g(y+F),n.set(t.subarray(P,V),y),r.b=y+=F,r.p=v=V*8,r.f=b;continue}if(v>E){p&&cl(0);break}}h&&g(y+131072);for(var re=(1<<_)-1,_e=(1<<D)-1,X=v;;X=v){var de=k[jv(t,v)&re],J=de>>4;if(v+=de&15,v>E){p&&cl(0);break}if(de||cl(2),J<256)n[y++]=J;else if(J==256){X=v,k=null;break}else{var ae=J-254;if(J>264){var H=J-257,pe=P1[H];ae=sl(t,v,(1<<pe)-1)+sL[H],v+=pe}var we=x[jv(t,v)&_e],Pe=we>>4;we||cl(3),v+=we&15;var ye=mte[Pe];if(Pe>3){var pe=O1[Pe];ye+=jv(t,v)&(1<<pe)-1,v+=pe}if(v>E){p&&cl(0);break}h&&g(y+131072);var Ie=y+ae;if(y<ye){var Ne=l-ye,rt=Math.min(ye,Ie);for(Ne+y<0&&cl(3);y<rt;++y)n[y]=o[Ne+y]}for(;y<Ie;++y)n[y]=n[y-ye]}}r.l=k,r.p=X,r.b=y,r.f=b,k&&(b=1,r.m=_,r.d=x,r.n=D)}while(!b);return y!=n.length&&d?lL(n,0,y):n.subarray(0,y)},Wc=function(t,r,n){n<<=r&7;var o=r/8|0;t[o]|=n,t[o+1]|=n>>8},Wm=function(t,r,n){n<<=r&7;var o=r/8|0;t[o]|=n,t[o+1]|=n>>8,t[o+2]|=n>>16},Bv=function(t,r){for(var n=[],o=0;o<t.length;++o)t[o]&&n.push({s:o,f:t[o]});var a=n.length,l=n.slice();if(!a)return{t:uL,l:0};if(a==1){var d=new zo(n[0].s+1);return d[n[0].s]=1,{t:d,l:1}}n.sort(function(V,$){return V.f-$.f}),n.push({s:-1,f:25001});var h=n[0],p=n[1],g=0,b=1,v=2;for(n[0]={s:-1,f:h.f+p.f,l:h,r:p};b!=a-1;)h=n[n[g].f<n[v].f?g++:v++],p=n[g!=b&&n[g].f<n[v].f?g++:v++],n[b++]={s:-1,f:h.f+p.f,l:h,r:p};for(var y=l[0].s,o=1;o<a;++o)l[o].s>y&&(y=l[o].s);var k=new Ks(y+1),x=WA(n[b-1],k,0);if(x>r){var o=0,_=0,D=x-r,E=1<<D;for(l.sort(function($,M){return k[M.s]-k[$.s]||$.f-M.f});o<a;++o){var N=l[o].s;if(k[N]>r)_+=E-(1<<x-k[N]),k[N]=r;else break}for(_>>=D;_>0;){var P=l[o].s;k[P]<r?_-=1<<r-k[P]++-1:++o}for(;o>=0&&_;--o){var F=l[o].s;k[F]==r&&(--k[F],++_)}x=r}return{t:new zo(k),l:x}},WA=function(t,r,n){return t.s==-1?Math.max(WA(t.l,r,n+1),WA(t.r,r,n+1)):r[t.s]=n},qT=function(t){for(var r=t.length;r&&!t[--r];);for(var n=new Ks(++r),o=0,a=t[0],l=1,d=function(p){n[o++]=p},h=1;h<=r;++h)if(t[h]==a&&h!=r)++l;else{if(!a&&l>2){for(;l>138;l-=138)d(32754);l>2&&(d(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(d(a),--l;l>6;l-=6)d(8304);l>2&&(d(l-3<<5|8208),l=0)}for(;l--;)d(a);l=1,a=t[h]}return{c:n.subarray(0,o),n:r}},Gm=function(t,r){for(var n=0,o=0;o<r.length;++o)n+=t[o]*r[o];return n},cL=function(t,r,n){var o=n.length,a=hC(r+2);t[a]=o&255,t[a+1]=o>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var l=0;l<o;++l)t[a+l+4]=n[l];return(a+4+o)*8},VT=function(t,r,n,o,a,l,d,h,p,g,b){Wc(r,b++,n),++a[256];for(var v=Bv(a,15),y=v.t,k=v.l,x=Bv(l,15),_=x.t,D=x.l,E=qT(y),N=E.c,P=E.n,F=qT(_),V=F.c,$=F.n,M=new Ks(19),B=0;B<N.length;++B)++M[N[B]&31];for(var B=0;B<V.length;++B)++M[V[B]&31];for(var q=Bv(M,7),Q=q.t,H=q.l,R=19;R>4&&!Q[VA[R-1]];--R);var K=g+5<<3,j=Gm(a,ld)+Gm(l,jg)+d,ne=Gm(a,y)+Gm(l,_)+d+14+3*R+Gm(M,Q)+2*M[16]+3*M[17]+7*M[18];if(p>=0&&K<=j&&K<=ne)return cL(r,b,t.subarray(p,p+g));var de,se,oe,ye;if(Wc(r,b,1+(ne<j)),b+=2,ne<j){de=cc(y,k,0),se=y,oe=cc(_,D,0),ye=_;var re=cc(Q,H,0);Wc(r,b,P-257),Wc(r,b+5,$-1),Wc(r,b+10,R-4),b+=14;for(var B=0;B<R;++B)Wc(r,b+3*B,Q[VA[B]]);b+=3*R;for(var _e=[N,V],X=0;X<2;++X)for(var J=_e[X],B=0;B<J.length;++B){var ae=J[B]&31;Wc(r,b,re[ae]),b+=Q[ae],ae>15&&(Wc(r,b,J[B]>>5&127),b+=J[B]>>12)}}else de=gte,se=ld,oe=kte,ye=jg;for(var B=0;B<h;++B){var pe=o[B];if(pe>255){var ae=pe>>18&31;Wm(r,b,de[ae+257]),b+=se[ae+257],ae>7&&(Wc(r,b,pe>>23&31),b+=P1[ae]);var we=pe&31;Wm(r,b,oe[we]),b+=ye[we],we>3&&(Wm(r,b,pe>>5&8191),b+=O1[we])}else Wm(r,b,de[pe]),b+=se[pe]}return Wm(r,b,de[256]),b+se[256]},Ate=new dC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uL=new zo(0),_te=function(t,r,n,o,a,l){var d=l.z||t.length,h=new zo(o+d+5*(1+Math.ceil(d/7e3))+a),p=h.subarray(o,h.length-a),g=l.l,b=(l.r||0)&7;if(r){b&&(p[0]=l.r>>3);for(var v=Ate[r-1],y=v>>13,k=v&8191,x=(1<<n)-1,_=l.p||new Ks(32768),D=l.h||new Ks(x+1),E=Math.ceil(n/3),N=2*E,P=function(Z){return(t[Z]^t[Z+1]<<E^t[Z+2]<<N)&x},F=new dC(25e3),V=new Ks(288),$=new Ks(32),M=0,B=0,q=l.i||0,Q=0,H=l.w||0,R=0;q+2<d;++q){var K=P(q),j=q&32767,ne=D[K];if(_[j]=ne,D[K]=j,H<=q){var de=d-q;if((M>7e3||Q>24576)&&(de>423||!g)){b=VT(t,p,0,F,V,$,B,Q,R,q-R,b),Q=M=B=0,R=q;for(var se=0;se<286;++se)V[se]=0;for(var se=0;se<30;++se)$[se]=0}var oe=2,ye=0,re=k,_e=j-ne&32767;if(de>2&&K==P(q-_e))for(var X=Math.min(y,de)-1,J=Math.min(32767,q),ae=Math.min(258,de);_e<=J&&--re&&j!=ne;){if(t[q+oe]==t[q+oe-_e]){for(var pe=0;pe<ae&&t[q+pe]==t[q+pe-_e];++pe);if(pe>oe){if(oe=pe,ye=_e,pe>X)break;for(var we=Math.min(_e,pe-2),Pe=0,se=0;se<we;++se){var Ie=q-_e+se&32767,Ne=_[Ie],rt=Ie-Ne&32767;rt>Pe&&(Pe=rt,ne=Ie)}}}j=ne,ne=_[j],_e+=j-ne&32767}if(ye){F[Q++]=268435456|$A[oe]<<18|UT[ye];var Qe=$A[oe]&31,Je=UT[ye]&31;B+=P1[Qe]+O1[Je],++V[257+Qe],++$[Je],H=q+oe,++M}else F[Q++]=t[q],++V[t[q]]}}for(q=Math.max(q,H);q<d;++q)F[Q++]=t[q],++V[t[q]];b=VT(t,p,g,F,V,$,B,Q,R,q-R,b),g||(l.r=b&7|p[b/8|0]<<3,b-=7,l.h=D,l.p=_,l.i=q,l.w=H)}else{for(var q=l.w||0;q<d+g;q+=65535){var Ue=q+65535;Ue>=d&&(p[b/8|0]=g,Ue=d),b=cL(p,b+1,t.subarray(q,Ue))}l.i=d}return lL(h,0,o+hC(b)+a)},dL=function(){var t=1,r=0;return{p:function(n){for(var o=t,a=r,l=n.length|0,d=0;d!=l;){for(var h=Math.min(d+2655,l);d<h;++d)a+=o+=n[d];o=(o&65535)+15*(o>>16),a=(a&65535)+15*(a>>16)}t=o,r=a},d:function(){return t%=65521,r%=65521,(t&255)<<24|(t&65280)<<8|(r&255)<<8|r>>8}}},Cte=function(t,r,n,o,a){if(!a&&(a={l:1},r.dictionary)){var l=r.dictionary.subarray(-32768),d=new zo(l.length+t.length);d.set(l),d.set(t,l.length),t=d,a.w=l.length}return _te(t,r.level==null?6:r.level,r.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+r.mem,n,o,a)},hL=function(t,r,n){for(;n;++r)t[r]=n,n>>>=8},xte=function(t,r){var n=r.level,o=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=o<<6|(r.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,r.dictionary){var a=dL();a.p(r.dictionary),hL(t,2,a.d())}},Ste=function(t,r){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&cl(6,"invalid zlib data"),(t[1]>>5&1)==1&&cl(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function GA(t,r){r||(r={});var n=dL();n.p(t);var o=Cte(t,r,r.dictionary?6:2,4);return xte(o,r),hL(o,o.length-4,n.d()),o}function Ete(t,r){return vte(t.subarray(Ste(t),-4),{i:2},r,r)}var Dte=typeof TextDecoder<"u"&&new TextDecoder,Ite=0;try{Dte.decode(uL,{stream:!0}),Ite=1}catch{}var an=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Rv(){an.console&&typeof an.console.log=="function"&&an.console.log.apply(an.console,arguments)}var Cr={log:Rv,warn:function(t){an.console&&(typeof an.console.warn=="function"?an.console.warn.apply(an.console,arguments):Rv.call(null,arguments))},error:function(t){an.console&&(typeof an.console.error=="function"?an.console.error.apply(an.console,arguments):Rv(t))}};function Fv(t,r,n){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){dh(o.response,r,n)},o.onerror=function(){Cr.error("could not download file")},o.send()}function $T(t){var r=new XMLHttpRequest;r.open("HEAD",t,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function Q0(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(r)}}var gg,YA,dh=an.saveAs||((typeof window>"u"?"undefined":fr(window))!=="object"||window!==an?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,r,n){var o=an.URL||an.webkitURL,a=document.createElement("a");r=r||t.name||"download",a.download=r,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?$T(a.href)?Fv(t,r,n):Q0(a,a.target="_blank"):Q0(a)):(a.href=o.createObjectURL(t),setTimeout(function(){o.revokeObjectURL(a.href)},4e4),setTimeout(function(){Q0(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,n){if(r=r||t.name||"download",typeof t=="string")if($T(t))Fv(t,r,n);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout(function(){Q0(o)})}else navigator.msSaveOrOpenBlob(function(a,l){return l===void 0?l={autoBom:!1}:fr(l)!=="object"&&(Cr.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,n),r)}:function(t,r,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),typeof t=="string")return Fv(t,r,n);var a=t.type==="application/octet-stream",l=/constructor/i.test(an.HTMLElement)||an.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||a&&l)&&(typeof FileReader>"u"?"undefined":fr(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var b=h.result;b=d?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=b:location=b,o=null},h.readAsDataURL(t)}else{var p=an.URL||an.webkitURL,g=p.createObjectURL(t);o?o.location=g:location.href=g,o=null,setTimeout(function(){p.revokeObjectURL(g)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function fL(t){var r;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],o=0;o<n.length;o++){var a=n[o].re,l=n[o].process,d=a.exec(t);d&&(r=l(d),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),p=this.g.toString(16),g=this.b.toString(16);return h.length==1&&(h="0"+h),p.length==1&&(p="0"+p),g.length==1&&(g="0"+g),"#"+h+p+g}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function zv(t,r){var n=t[0],o=t[1],a=t[2],l=t[3];n=Oo(n,o,a,l,r[0],7,-680876936),l=Oo(l,n,o,a,r[1],12,-389564586),a=Oo(a,l,n,o,r[2],17,606105819),o=Oo(o,a,l,n,r[3],22,-1044525330),n=Oo(n,o,a,l,r[4],7,-176418897),l=Oo(l,n,o,a,r[5],12,1200080426),a=Oo(a,l,n,o,r[6],17,-1473231341),o=Oo(o,a,l,n,r[7],22,-45705983),n=Oo(n,o,a,l,r[8],7,1770035416),l=Oo(l,n,o,a,r[9],12,-1958414417),a=Oo(a,l,n,o,r[10],17,-42063),o=Oo(o,a,l,n,r[11],22,-1990404162),n=Oo(n,o,a,l,r[12],7,1804603682),l=Oo(l,n,o,a,r[13],12,-40341101),a=Oo(a,l,n,o,r[14],17,-1502002290),n=Lo(n,o=Oo(o,a,l,n,r[15],22,1236535329),a,l,r[1],5,-165796510),l=Lo(l,n,o,a,r[6],9,-1069501632),a=Lo(a,l,n,o,r[11],14,643717713),o=Lo(o,a,l,n,r[0],20,-373897302),n=Lo(n,o,a,l,r[5],5,-701558691),l=Lo(l,n,o,a,r[10],9,38016083),a=Lo(a,l,n,o,r[15],14,-660478335),o=Lo(o,a,l,n,r[4],20,-405537848),n=Lo(n,o,a,l,r[9],5,568446438),l=Lo(l,n,o,a,r[14],9,-1019803690),a=Lo(a,l,n,o,r[3],14,-187363961),o=Lo(o,a,l,n,r[8],20,1163531501),n=Lo(n,o,a,l,r[13],5,-1444681467),l=Lo(l,n,o,a,r[2],9,-51403784),a=Lo(a,l,n,o,r[7],14,1735328473),n=jo(n,o=Lo(o,a,l,n,r[12],20,-1926607734),a,l,r[5],4,-378558),l=jo(l,n,o,a,r[8],11,-2022574463),a=jo(a,l,n,o,r[11],16,1839030562),o=jo(o,a,l,n,r[14],23,-35309556),n=jo(n,o,a,l,r[1],4,-1530992060),l=jo(l,n,o,a,r[4],11,1272893353),a=jo(a,l,n,o,r[7],16,-155497632),o=jo(o,a,l,n,r[10],23,-1094730640),n=jo(n,o,a,l,r[13],4,681279174),l=jo(l,n,o,a,r[0],11,-358537222),a=jo(a,l,n,o,r[3],16,-722521979),o=jo(o,a,l,n,r[6],23,76029189),n=jo(n,o,a,l,r[9],4,-640364487),l=jo(l,n,o,a,r[12],11,-421815835),a=jo(a,l,n,o,r[15],16,530742520),n=Bo(n,o=jo(o,a,l,n,r[2],23,-995338651),a,l,r[0],6,-198630844),l=Bo(l,n,o,a,r[7],10,1126891415),a=Bo(a,l,n,o,r[14],15,-1416354905),o=Bo(o,a,l,n,r[5],21,-57434055),n=Bo(n,o,a,l,r[12],6,1700485571),l=Bo(l,n,o,a,r[3],10,-1894986606),a=Bo(a,l,n,o,r[10],15,-1051523),o=Bo(o,a,l,n,r[1],21,-2054922799),n=Bo(n,o,a,l,r[8],6,1873313359),l=Bo(l,n,o,a,r[15],10,-30611744),a=Bo(a,l,n,o,r[6],15,-1560198380),o=Bo(o,a,l,n,r[13],21,1309151649),n=Bo(n,o,a,l,r[4],6,-145523070),l=Bo(l,n,o,a,r[11],10,-1120210379),a=Bo(a,l,n,o,r[2],15,718787259),o=Bo(o,a,l,n,r[9],21,-343485551),t[0]=Zu(n,t[0]),t[1]=Zu(o,t[1]),t[2]=Zu(a,t[2]),t[3]=Zu(l,t[3])}function L1(t,r,n,o,a,l){return r=Zu(Zu(r,t),Zu(o,l)),Zu(r<<a|r>>>32-a,n)}function Oo(t,r,n,o,a,l,d){return L1(r&n|~r&o,t,r,a,l,d)}function Lo(t,r,n,o,a,l,d){return L1(r&o|n&~o,t,r,a,l,d)}function jo(t,r,n,o,a,l,d){return L1(r^n^o,t,r,a,l,d)}function Bo(t,r,n,o,a,l,d){return L1(n^(r|~o),t,r,a,l,d)}function pL(t){var r,n=t.length,o=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=t.length;r+=64)zv(o,Tte(t.substring(r-64,r)));t=t.substring(r-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<t.length;r++)a[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(a[r>>2]|=128<<(r%4<<3),r>55)for(zv(o,a),r=0;r<16;r++)a[r]=0;return a[14]=8*n,zv(o,a),o}function Tte(t){var r,n=[];for(r=0;r<64;r+=4)n[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return n}gg=an.atob.bind(an),YA=an.btoa.bind(an);var HT="0123456789abcdef".split("");function Nte(t){for(var r="",n=0;n<4;n++)r+=HT[t>>8*n+4&15]+HT[t>>8*n&15];return r}function Mte(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function KA(t){return pL(t).map(Mte).join("")}var Pte=function(t){for(var r=0;r<t.length;r++)t[r]=Nte(t[r]);return t.join("")}(pL("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zu(t,r){if(Pte){var n=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(n>>16)<<16|65535&n}return t+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function QA(t,r){var n,o,a,l;if(t!==n){for(var d=(a=t,l=1+(256/t.length>>0),new Array(l+1).join(a)),h=[],p=0;p<256;p++)h[p]=p;var g=0;for(p=0;p<256;p++){var b=h[p];g=(g+b+d.charCodeAt(p))%256,h[p]=h[g],h[g]=b}n=t,o=h}else h=o;var v=r.length,y=0,k=0,x="";for(p=0;p<v;p++)k=(k+(b=h[y=(y+1)%256]))%256,h[y]=h[k],h[k]=b,d=h[(h[y]+h[k])%256],x+=String.fromCharCode(r.charCodeAt(p)^d);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var WT={print:4,modify:8,copy:16,"annot-forms":32};function ep(t,r,n,o){this.v=1,this.r=2;var a=192;t.forEach(function(h){if(WT.perm!==void 0)throw new Error("Invalid permission: "+h);a+=WT[h]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var l=(r+this.padding).substr(0,32),d=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,d),this.P=-(1+(255^a)),this.encryptionKey=KA(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(o)).substr(0,5),this.U=QA(this.encryptionKey,this.padding)}function tp(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var r="",n=t.length,o=0;o<n;o++){var a=t.charCodeAt(o);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?r+="#"+("0"+a.toString(16)).slice(-2):r+=t[o]}return r}function GT(t){if(fr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(n,o,a){if(a=a||!1,typeof n!="string"||typeof o!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(n)||(r[n]={});var l=Math.random().toString(35);return r[n][l]=[o,!!a],l},this.unsubscribe=function(n){for(var o in r)if(r[o][n])return delete r[o][n],Object.keys(r[o]).length===0&&delete r[o],!0;return!1},this.publish=function(n){if(r.hasOwnProperty(n)){var o=Array.prototype.slice.call(arguments,1),a=[];for(var l in r[n]){var d=r[n][l];try{d[0].apply(t,o)}catch(h){an.console&&Cr.error("jsPDF PubSub Error",h.message,h)}d[1]&&a.push(l)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function e1(t){if(!(this instanceof e1))return new e1(t);var r="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&r.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function mL(t,r){this.gState=t,this.matrix=r,this.id="",this.objectNumber=-1}function fh(t,r,n,o,a){if(!(this instanceof fh))return new fh(t,r,n,o,a);this.type=t==="axial"?2:3,this.coords=r,this.colors=n,mL.call(this,o,a)}function ip(t,r,n,o,a){if(!(this instanceof ip))return new ip(t,r,n,o,a);this.boundingBox=t,this.xStep=r,this.yStep=n,this.stream="",this.cloneIndex=0,mL.call(this,o,a)}function sn(t){var r,n=typeof arguments[0]=="string"?arguments[0]:"p",o=arguments[1],a=arguments[2],l=arguments[3],d=[],h=1,p=16,g="S",b=null;fr(t=t||{})==="object"&&(n=t.orientation,o=t.unit||o,a=t.format||a,l=t.compress||t.compressPdf||l,(b=t.encryption||null)!==null&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),h=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(r=t.precision),t.floatPrecision!==void 0&&(p=t.floatPrecision),g=t.defaultPathOperation||"S"),d=t.filters||(l===!0?["FlateEncode"]:d),o=o||"mm",n=(""+(n||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,y={},k={internal:{},__private__:{}};k.__private__.PubSub=GT;var x="1.3",_=k.__private__.getPdfVersion=function(){return x};k.__private__.setPdfVersion=function(z){x=z};var D={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};k.__private__.getPageFormats=function(){return D};var E=k.__private__.getPageFormat=function(z){return D[z]};a=a||"a4";var N={COMPAT:"compat",ADVANCED:"advanced"},P=N.COMPAT;function F(){this.saveGraphicsState(),ue(new $t(ht,0,0,-ht,0,Sl()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),g="n",P=N.ADVANCED}function V(){this.restoreGraphicsState(),g="S",P=N.COMPAT}var $=k.__private__.combineFontStyleAndFontWeight=function(z,ce){if(z=="bold"&&ce=="normal"||z=="bold"&&ce==400||z=="normal"&&ce=="italic"||z=="bold"&&ce=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ce&&(z=ce==400||ce==="normal"?z==="italic"?"italic":"normal":ce!=700&&ce!=="bold"||z!=="normal"?(ce==700?"bold":ce)+""+z:"bold"),z};k.advancedAPI=function(z){var ce=P===N.COMPAT;return ce&&F.call(this),typeof z!="function"||(z(this),ce&&V.call(this)),this},k.compatAPI=function(z){var ce=P===N.ADVANCED;return ce&&V.call(this),typeof z!="function"||(z(this),ce&&F.call(this)),this},k.isAdvancedAPI=function(){return P===N.ADVANCED};var M,B=function(z){if(P!==N.ADVANCED)throw new Error(z+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=k.roundToPrecision=k.__private__.roundToPrecision=function(z,ce){var De=r||ce;if(isNaN(z)||isNaN(De))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return z.toFixed(De).replace(/0+$/,"")};M=k.hpf=k.__private__.hpf=typeof p=="number"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return q(z,p)}:p==="smart"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return q(z,z>-1&&z<1?16:5)}:function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return q(z,16)};var Q=k.f2=k.__private__.f2=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f2");return q(z,2)},H=k.__private__.f3=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f3");return q(z,3)},R=k.scale=k.__private__.scale=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.scale");return P===N.COMPAT?z*ht:P===N.ADVANCED?z:void 0},K=function(z){return P===N.COMPAT?Sl()-z:P===N.ADVANCED?z:void 0},j=function(z){return R(K(z))};k.__private__.setPrecision=k.setPrecision=function(z){typeof parseInt(z,10)=="number"&&(r=parseInt(z,10))};var ne,de="00000000000000000000000000000000",se=k.__private__.getFileId=function(){return de},oe=k.__private__.setFileId=function(z){return de=z!==void 0&&/^[a-fA-F0-9]{32}$/.test(z)?z.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),b!==null&&(Zi=new ep(b.userPermissions,b.userPassword,b.ownerPassword,de)),de};k.setFileId=function(z){return oe(z),this},k.getFileId=function(){return se()};var ye=k.__private__.convertDateToPDFDate=function(z){var ce=z.getTimezoneOffset(),De=ce<0?"+":"-",je=Math.floor(Math.abs(ce/60)),Ze=Math.abs(ce%60),dt=[De,ae(je),"'",ae(Ze),"'"].join("");return["D:",z.getFullYear(),ae(z.getMonth()+1),ae(z.getDate()),ae(z.getHours()),ae(z.getMinutes()),ae(z.getSeconds()),dt].join("")},re=k.__private__.convertPDFDateToDate=function(z){var ce=parseInt(z.substr(2,4),10),De=parseInt(z.substr(6,2),10)-1,je=parseInt(z.substr(8,2),10),Ze=parseInt(z.substr(10,2),10),dt=parseInt(z.substr(12,2),10),Ct=parseInt(z.substr(14,2),10);return new Date(ce,De,je,Ze,dt,Ct,0)},_e=k.__private__.setCreationDate=function(z){var ce;if(z===void 0&&(z=new Date),z instanceof Date)ce=ye(z);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(z))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ce=z}return ne=ce},X=k.__private__.getCreationDate=function(z){var ce=ne;return z==="jsDate"&&(ce=re(ne)),ce};k.setCreationDate=function(z){return _e(z),this},k.getCreationDate=function(z){return X(z)};var J,ae=k.__private__.padd2=function(z){return("0"+parseInt(z)).slice(-2)},pe=k.__private__.padd2Hex=function(z){return("00"+(z=z.toString())).substr(z.length)},we=0,Pe=[],Ie=[],Ne=0,rt=[],Qe=[],Je=!1,Ue=Ie,Z=function(){we=0,Ne=0,Ie=[],Pe=[],rt=[],ss=Bn(),So=Bn()};k.__private__.setCustomOutputDestination=function(z){Je=!0,Ue=z};var Ce=function(z){Je||(Ue=z)};k.__private__.resetCustomOutputDestination=function(){Je=!1,Ue=Ie};var ue=k.__private__.out=function(z){return z=z.toString(),Ne+=z.length+1,Ue.push(z),Ue},ge=k.__private__.write=function(z){return ue(arguments.length===1?z.toString():Array.prototype.join.call(arguments," "))},he=k.__private__.getArrayBuffer=function(z){for(var ce=z.length,De=new ArrayBuffer(ce),je=new Uint8Array(De);ce--;)je[ce]=z.charCodeAt(ce);return De},Ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];k.__private__.getStandardFonts=function(){return Ae};var Me=t.fontSize||16;k.__private__.setFontSize=k.setFontSize=function(z){return Me=P===N.ADVANCED?z/ht:z,this};var Te,Ee=k.__private__.getFontSize=k.getFontSize=function(){return P===N.COMPAT?Me:Me*ht},qe=t.R2L||!1;k.__private__.setR2L=k.setR2L=function(z){return qe=z,this},k.__private__.getR2L=k.getR2L=function(){return qe};var Ve,He=k.__private__.setZoomMode=function(z){var ce=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(z))Te=z;else if(isNaN(z)){if(ce.indexOf(z)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+z+'" is not recognized.');Te=z}else Te=parseInt(z,10)};k.__private__.getZoomMode=function(){return Te};var st,Fe=k.__private__.setPageMode=function(z){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(z)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+z+'" is not recognized.');Ve=z};k.__private__.getPageMode=function(){return Ve};var Ye=k.__private__.setLayoutMode=function(z){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(z)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+z+'" is not recognized.');st=z};k.__private__.getLayoutMode=function(){return st},k.__private__.setDisplayMode=k.setDisplayMode=function(z,ce,De){return He(z),Ye(ce),Fe(De),this};var Ke={title:"",subject:"",author:"",keywords:"",creator:""};k.__private__.getDocumentProperty=function(z){if(Object.keys(Ke).indexOf(z)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ke[z]},k.__private__.getDocumentProperties=function(){return Ke},k.__private__.setDocumentProperties=k.setProperties=k.setDocumentProperties=function(z){for(var ce in Ke)Ke.hasOwnProperty(ce)&&z[ce]&&(Ke[ce]=z[ce]);return this},k.__private__.setDocumentProperty=function(z,ce){if(Object.keys(Ke).indexOf(z)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ke[z]=ce};var At,ht,on,pt,Vt,Bt={},Ft={},Kt=[],pn={},En={},qn={},Br={},Wr=null,jn=0,Xt=[],Dn=new GT(k),$o=t.hotfixes||[],Nn={},Qi={},ii=[],$t=function z(ce,De,je,Ze,dt,Ct){if(!(this instanceof z))return new z(ce,De,je,Ze,dt,Ct);isNaN(ce)&&(ce=1),isNaN(De)&&(De=0),isNaN(je)&&(je=0),isNaN(Ze)&&(Ze=1),isNaN(dt)&&(dt=0),isNaN(Ct)&&(Ct=0),this._matrix=[ce,De,je,Ze,dt,Ct]};Object.defineProperty($t.prototype,"sx",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty($t.prototype,"shy",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty($t.prototype,"shx",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty($t.prototype,"sy",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty($t.prototype,"tx",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty($t.prototype,"ty",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty($t.prototype,"a",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty($t.prototype,"b",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty($t.prototype,"c",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty($t.prototype,"d",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty($t.prototype,"e",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty($t.prototype,"f",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty($t.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty($t.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty($t.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty($t.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),$t.prototype.join=function(z){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(z)},$t.prototype.multiply=function(z){var ce=z.sx*this.sx+z.shy*this.shx,De=z.sx*this.shy+z.shy*this.sy,je=z.shx*this.sx+z.sy*this.shx,Ze=z.shx*this.shy+z.sy*this.sy,dt=z.tx*this.sx+z.ty*this.shx+this.tx,Ct=z.tx*this.shy+z.ty*this.sy+this.ty;return new $t(ce,De,je,Ze,dt,Ct)},$t.prototype.decompose=function(){var z=this.sx,ce=this.shy,De=this.shx,je=this.sy,Ze=this.tx,dt=this.ty,Ct=Math.sqrt(z*z+ce*ce),Ot=(z/=Ct)*De+(ce/=Ct)*je;De-=z*Ot,je-=ce*Ot;var Wt=Math.sqrt(De*De+je*je);return Ot/=Wt,z*(je/=Wt)<ce*(De/=Wt)&&(z=-z,ce=-ce,Ot=-Ot,Ct=-Ct),{scale:new $t(Ct,0,0,Wt,0,0),translate:new $t(1,0,0,1,Ze,dt),rotate:new $t(z,ce,-ce,z,0,0),skew:new $t(1,0,Ot,1,0,0)}},$t.prototype.toString=function(z){return this.join(" ")},$t.prototype.inversed=function(){var z=this.sx,ce=this.shy,De=this.shx,je=this.sy,Ze=this.tx,dt=this.ty,Ct=1/(z*je-ce*De),Ot=je*Ct,Wt=-ce*Ct,un=-De*Ct,ln=z*Ct;return new $t(Ot,Wt,un,ln,-Ot*Ze-un*dt,-Wt*Ze-ln*dt)},$t.prototype.applyToPoint=function(z){var ce=z.x*this.sx+z.y*this.shx+this.tx,De=z.x*this.shy+z.y*this.sy+this.ty;return new Cc(ce,De)},$t.prototype.applyToRectangle=function(z){var ce=this.applyToPoint(z),De=this.applyToPoint(new Cc(z.x+z.w,z.y+z.h));return new gu(ce.x,ce.y,De.x-ce.x,De.y-ce.y)},$t.prototype.clone=function(){var z=this.sx,ce=this.shy,De=this.shx,je=this.sy,Ze=this.tx,dt=this.ty;return new $t(z,ce,De,je,Ze,dt)},k.Matrix=$t;var zi=k.matrixMult=function(z,ce){return ce.multiply(z)},Ji=new $t(1,0,0,1,0,0);k.unitMatrix=k.identityMatrix=Ji;var oi=function(z,ce){if(!En[z]){var De=(ce instanceof fh?"Sh":"P")+(Object.keys(pn).length+1).toString(10);ce.id=De,En[z]=De,pn[De]=ce,Dn.publish("addPattern",ce)}};k.ShadingPattern=fh,k.TilingPattern=ip,k.addShadingPattern=function(z,ce){return B("addShadingPattern()"),oi(z,ce),this},k.beginTilingPattern=function(z){B("beginTilingPattern()"),Dd(z.boundingBox[0],z.boundingBox[1],z.boundingBox[2]-z.boundingBox[0],z.boundingBox[3]-z.boundingBox[1],z.matrix)},k.endTilingPattern=function(z,ce){B("endTilingPattern()"),ce.stream=Qe[J].join(`
`),oi(z,ce),Dn.publish("endTilingPattern",ce),ii.pop().restore()};var vr=k.__private__.newObject=function(){var z=Bn();return Gr(z,!0),z},Bn=k.__private__.newObjectDeferred=function(){return we++,Pe[we]=function(){return Ne},we},Gr=function(z,ce){return ce=typeof ce=="boolean"&&ce,Pe[z]=Ne,ce&&ue(z+" 0 obj"),z},os=k.__private__.newAdditionalObject=function(){var z={objId:Bn(),content:""};return rt.push(z),z},ss=Bn(),So=Bn(),Eo=k.__private__.decodeColorString=function(z){var ce=z.split(" ");if(ce.length!==2||ce[1]!=="g"&&ce[1]!=="G")ce.length===5&&(ce[4]==="k"||ce[4]==="K")&&(ce=[(1-ce[0])*(1-ce[3]),(1-ce[1])*(1-ce[3]),(1-ce[2])*(1-ce[3]),"r"]);else{var De=parseFloat(ce[0]);ce=[De,De,De,"r"]}for(var je="#",Ze=0;Ze<3;Ze++)je+=("0"+Math.floor(255*parseFloat(ce[Ze])).toString(16)).slice(-2);return je},Do=k.__private__.encodeColorString=function(z){var ce;typeof z=="string"&&(z={ch1:z});var De=z.ch1,je=z.ch2,Ze=z.ch3,dt=z.ch4,Ct=z.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof De=="string"&&De.charAt(0)!=="#"){var Ot=new fL(De);if(Ot.ok)De=Ot.toHex();else if(!/^\d*\.?\d*$/.test(De))throw new Error('Invalid color "'+De+'" passed to jsPDF.encodeColorString.')}if(typeof De=="string"&&/^#[0-9A-Fa-f]{3}$/.test(De)&&(De="#"+De[1]+De[1]+De[2]+De[2]+De[3]+De[3]),typeof De=="string"&&/^#[0-9A-Fa-f]{6}$/.test(De)){var Wt=parseInt(De.substr(1),16);De=Wt>>16&255,je=Wt>>8&255,Ze=255&Wt}if(je===void 0||dt===void 0&&De===je&&je===Ze)if(typeof De=="string")ce=De+" "+Ct[0];else switch(z.precision){case 2:ce=Q(De/255)+" "+Ct[0];break;case 3:default:ce=H(De/255)+" "+Ct[0]}else if(dt===void 0||fr(dt)==="object"){if(dt&&!isNaN(dt.a)&&dt.a===0)return ce=["1.","1.","1.",Ct[1]].join(" ");if(typeof De=="string")ce=[De,je,Ze,Ct[1]].join(" ");else switch(z.precision){case 2:ce=[Q(De/255),Q(je/255),Q(Ze/255),Ct[1]].join(" ");break;default:case 3:ce=[H(De/255),H(je/255),H(Ze/255),Ct[1]].join(" ")}}else if(typeof De=="string")ce=[De,je,Ze,dt,Ct[2]].join(" ");else switch(z.precision){case 2:ce=[Q(De),Q(je),Q(Ze),Q(dt),Ct[2]].join(" ");break;case 3:default:ce=[H(De),H(je),H(Ze),H(dt),Ct[2]].join(" ")}return ce},bi=k.__private__.getFilters=function(){return d},Ui=k.__private__.putStream=function(z){var ce=(z=z||{}).data||"",De=z.filters||bi(),je=z.alreadyAppliedFilters||[],Ze=z.addLength1||!1,dt=ce.length,Ct=z.objectId,Ot=function(Hi){return Hi};if(b!==null&&Ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");b!==null&&(Ot=Zi.encryptor(Ct,0));var Wt={};De===!0&&(De=["FlateEncode"]);var un=z.additionalKeyValues||[],ln=(Wt=sn.API.processDataByFilters!==void 0?sn.API.processDataByFilters(ce,De):{data:ce,reverseChain:[]}).reverseChain+(Array.isArray(je)?je.join(" "):je.toString());if(Wt.data.length!==0&&(un.push({key:"Length",value:Wt.data.length}),Ze===!0&&un.push({key:"Length1",value:dt})),ln.length!=0)if(ln.split("/").length-1==1)un.push({key:"Filter",value:ln});else{un.push({key:"Filter",value:"["+ln+"]"});for(var In=0;In<un.length;In+=1)if(un[In].key==="DecodeParms"){for(var Er=[],Mr=0;Mr<Wt.reverseChain.split("/").length-1;Mr+=1)Er.push("null");Er.push(un[In].value),un[In].value="["+Er.join(" ")+"]"}}ue("<<");for(var Yr=0;Yr<un.length;Yr++)ue("/"+un[Yr].key+" "+un[Yr].value);ue(">>"),Wt.data.length!==0&&(ue("stream"),ue(Ot(Wt.data)),ue("endstream"))},Io=k.__private__.putPage=function(z){var ce=z.number,De=z.data,je=z.objId,Ze=z.contentsObjId;Gr(je,!0),ue("<</Type /Page"),ue("/Parent "+z.rootDictionaryObjId+" 0 R"),ue("/Resources "+z.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(M(z.mediaBox.bottomLeftX))+" "+parseFloat(M(z.mediaBox.bottomLeftY))+" "+M(z.mediaBox.topRightX)+" "+M(z.mediaBox.topRightY)+"]"),z.cropBox!==null&&ue("/CropBox ["+M(z.cropBox.bottomLeftX)+" "+M(z.cropBox.bottomLeftY)+" "+M(z.cropBox.topRightX)+" "+M(z.cropBox.topRightY)+"]"),z.bleedBox!==null&&ue("/BleedBox ["+M(z.bleedBox.bottomLeftX)+" "+M(z.bleedBox.bottomLeftY)+" "+M(z.bleedBox.topRightX)+" "+M(z.bleedBox.topRightY)+"]"),z.trimBox!==null&&ue("/TrimBox ["+M(z.trimBox.bottomLeftX)+" "+M(z.trimBox.bottomLeftY)+" "+M(z.trimBox.topRightX)+" "+M(z.trimBox.topRightY)+"]"),z.artBox!==null&&ue("/ArtBox ["+M(z.artBox.bottomLeftX)+" "+M(z.artBox.bottomLeftY)+" "+M(z.artBox.topRightX)+" "+M(z.artBox.topRightY)+"]"),typeof z.userUnit=="number"&&z.userUnit!==1&&ue("/UserUnit "+z.userUnit),Dn.publish("putPage",{objId:je,pageContext:Xt[ce],pageNumber:ce,page:De}),ue("/Contents "+Ze+" 0 R"),ue(">>"),ue("endobj");var dt=De.join(`
`);return P===N.ADVANCED&&(dt+=`
Q`),Gr(Ze,!0),Ui({data:dt,filters:bi(),objectId:Ze}),ue("endobj"),je},sa=k.__private__.putPages=function(){var z,ce,De=[];for(z=1;z<=jn;z++)Xt[z].objId=Bn(),Xt[z].contentsObjId=Bn();for(z=1;z<=jn;z++)De.push(Io({number:z,data:Qe[z],objId:Xt[z].objId,contentsObjId:Xt[z].contentsObjId,mediaBox:Xt[z].mediaBox,cropBox:Xt[z].cropBox,bleedBox:Xt[z].bleedBox,trimBox:Xt[z].trimBox,artBox:Xt[z].artBox,userUnit:Xt[z].userUnit,rootDictionaryObjId:ss,resourceDictionaryObjId:So}));Gr(ss,!0),ue("<</Type /Pages");var je="/Kids [";for(ce=0;ce<jn;ce++)je+=De[ce]+" 0 R ";ue(je+"]"),ue("/Count "+jn),ue(">>"),ue("endobj"),Dn.publish("postPutPages")},Ha=function(z){Dn.publish("putFont",{font:z,out:ue,newObject:vr,putStream:Ui}),z.isAlreadyPutted!==!0&&(z.objectNumber=vr(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+tp(z.postScriptName)),ue("/Subtype /Type1"),typeof z.encoding=="string"&&ue("/Encoding /"+z.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},mt=function(){for(var z in Bt)Bt.hasOwnProperty(z)&&(v===!1||v===!0&&y.hasOwnProperty(z))&&Ha(Bt[z])},_t=function(z){z.objectNumber=vr();var ce=[];ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Form"}),ce.push({key:"BBox",value:"["+[M(z.x),M(z.y),M(z.x+z.width),M(z.y+z.height)].join(" ")+"]"}),ce.push({key:"Matrix",value:"["+z.matrix.toString()+"]"});var De=z.pages[1].join(`
`);Ui({data:De,additionalKeyValues:ce,objectId:z.objectNumber}),ue("endobj")},St=function(){for(var z in Nn)Nn.hasOwnProperty(z)&&_t(Nn[z])},zt=function(z,ce){var De,je=[],Ze=1/(ce-1);for(De=0;De<1;De+=Ze)je.push(De);if(je.push(1),z[0].offset!=0){var dt={offset:0,color:z[0].color};z.unshift(dt)}if(z[z.length-1].offset!=1){var Ct={offset:1,color:z[z.length-1].color};z.push(Ct)}for(var Ot="",Wt=0,un=0;un<je.length;un++){for(De=je[un];De>z[Wt+1].offset;)Wt++;var ln=z[Wt].offset,In=(De-ln)/(z[Wt+1].offset-ln),Er=z[Wt].color,Mr=z[Wt+1].color;Ot+=pe(Math.round((1-In)*Er[0]+In*Mr[0]).toString(16))+pe(Math.round((1-In)*Er[1]+In*Mr[1]).toString(16))+pe(Math.round((1-In)*Er[2]+In*Mr[2]).toString(16))}return Ot.trim()},Gt=function(z,ce){ce||(ce=21);var De=vr(),je=zt(z.colors,ce),Ze=[];Ze.push({key:"FunctionType",value:"0"}),Ze.push({key:"Domain",value:"[0.0 1.0]"}),Ze.push({key:"Size",value:"["+ce+"]"}),Ze.push({key:"BitsPerSample",value:"8"}),Ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ui({data:je,additionalKeyValues:Ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:De}),ue("endobj"),z.objectNumber=vr(),ue("<< /ShadingType "+z.type),ue("/ColorSpace /DeviceRGB");var dt="/Coords ["+M(parseFloat(z.coords[0]))+" "+M(parseFloat(z.coords[1]))+" ";z.type===2?dt+=M(parseFloat(z.coords[2]))+" "+M(parseFloat(z.coords[3])):dt+=M(parseFloat(z.coords[2]))+" "+M(parseFloat(z.coords[3]))+" "+M(parseFloat(z.coords[4]))+" "+M(parseFloat(z.coords[5])),ue(dt+="]"),z.matrix&&ue("/Matrix ["+z.matrix.toString()+"]"),ue("/Function "+De+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},Mn=function(z,ce){var De=Bn(),je=vr();ce.push({resourcesOid:De,objectOid:je}),z.objectNumber=je;var Ze=[];Ze.push({key:"Type",value:"/Pattern"}),Ze.push({key:"PatternType",value:"1"}),Ze.push({key:"PaintType",value:"1"}),Ze.push({key:"TilingType",value:"1"}),Ze.push({key:"BBox",value:"["+z.boundingBox.map(M).join(" ")+"]"}),Ze.push({key:"XStep",value:M(z.xStep)}),Ze.push({key:"YStep",value:M(z.yStep)}),Ze.push({key:"Resources",value:De+" 0 R"}),z.matrix&&Ze.push({key:"Matrix",value:"["+z.matrix.toString()+"]"}),Ui({data:z.stream,additionalKeyValues:Ze,objectId:z.objectNumber}),ue("endobj")},pr=function(z){var ce;for(ce in pn)pn.hasOwnProperty(ce)&&(pn[ce]instanceof fh?Gt(pn[ce]):pn[ce]instanceof ip&&Mn(pn[ce],z))},qi=function(z){for(var ce in z.objectNumber=vr(),ue("<<"),z)switch(ce){case"opacity":ue("/ca "+Q(z[ce]));break;case"stroke-opacity":ue("/CA "+Q(z[ce]))}ue(">>"),ue("endobj")},Vi=function(){var z;for(z in qn)qn.hasOwnProperty(z)&&qi(qn[z])},Oi=function(){for(var z in ue("/XObject <<"),Nn)Nn.hasOwnProperty(z)&&Nn[z].objectNumber>=0&&ue("/"+z+" "+Nn[z].objectNumber+" 0 R");Dn.publish("putXobjectDict"),ue(">>")},so=function(){Zi.oid=vr(),ue("<<"),ue("/Filter /Standard"),ue("/V "+Zi.v),ue("/R "+Zi.r),ue("/U <"+Zi.toHexString(Zi.U)+">"),ue("/O <"+Zi.toHexString(Zi.O)+">"),ue("/P "+Zi.P),ue(">>"),ue("endobj")},To=function(){for(var z in ue("/Font <<"),Bt)Bt.hasOwnProperty(z)&&(v===!1||v===!0&&y.hasOwnProperty(z))&&ue("/"+z+" "+Bt[z].objectNumber+" 0 R");ue(">>")},wl=function(){if(Object.keys(pn).length>0){for(var z in ue("/Shading <<"),pn)pn.hasOwnProperty(z)&&pn[z]instanceof fh&&pn[z].objectNumber>=0&&ue("/"+z+" "+pn[z].objectNumber+" 0 R");Dn.publish("putShadingPatternDict"),ue(">>")}},Wa=function(z){if(Object.keys(pn).length>0){for(var ce in ue("/Pattern <<"),pn)pn.hasOwnProperty(ce)&&pn[ce]instanceof k.TilingPattern&&pn[ce].objectNumber>=0&&pn[ce].objectNumber<z&&ue("/"+ce+" "+pn[ce].objectNumber+" 0 R");Dn.publish("putTilingPatternDict"),ue(">>")}},lu=function(){if(Object.keys(qn).length>0){var z;for(z in ue("/ExtGState <<"),qn)qn.hasOwnProperty(z)&&qn[z].objectNumber>=0&&ue("/"+z+" "+qn[z].objectNumber+" 0 R");Dn.publish("putGStateDict"),ue(">>")}},mr=function(z){Gr(z.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),To(),wl(),Wa(z.objectOid),lu(),Oi(),ue(">>"),ue("endobj")},yl=function(){var z=[];mt(),Vi(),St(),pr(z),Dn.publish("putResources"),z.forEach(mr),mr({resourcesOid:So,objectOid:Number.MAX_SAFE_INTEGER}),Dn.publish("postPutResources")},kc=function(){Dn.publish("putAdditionalObjects");for(var z=0;z<rt.length;z++){var ce=rt[z];Gr(ce.objId,!0),ue(ce.content),ue("endobj")}Dn.publish("postPutAdditionalObjects")},wc=function(z){Ft[z.fontName]=Ft[z.fontName]||{},Ft[z.fontName][z.fontStyle]=z.id},as=function(z,ce,De,je,Ze){var dt={id:"F"+(Object.keys(Bt).length+1).toString(10),postScriptName:z,fontName:ce,fontStyle:De,encoding:je,isStandardFont:Ze||!1,metadata:{}};return Dn.publish("addFont",{font:dt,instance:this}),Bt[dt.id]=dt,wc(dt),dt.id},Gh=function(z){for(var ce=0,De=Ae.length;ce<De;ce++){var je=as.call(this,z[ce][0],z[ce][1],z[ce][2],Ae[ce][3],!0);v===!1&&(y[je]=!0);var Ze=z[ce][0].split("-");wc({id:je,fontName:Ze[0],fontStyle:Ze[1]||""})}Dn.publish("addFonts",{fonts:Bt,dictionary:Ft})},Ds=function(z){return z.foo=function(){try{return z.apply(this,arguments)}catch(je){var ce=je.stack||"";~ce.indexOf(" at ")&&(ce=ce.split(" at ")[1]);var De="Error in function "+ce.split(`
`)[0].split("<")[0]+": "+je.message;if(!an.console)throw new Error(De);an.console.error(De,je),an.alert&&alert(De)}},z.foo.bar=z,z.foo},cu=function(z,ce){var De,je,Ze,dt,Ct,Ot,Wt,un,ln;if(Ze=(ce=ce||{}).sourceEncoding||"Unicode",Ct=ce.outputEncoding,(ce.autoencode||Ct)&&Bt[At].metadata&&Bt[At].metadata[Ze]&&Bt[At].metadata[Ze].encoding&&(dt=Bt[At].metadata[Ze].encoding,!Ct&&Bt[At].encoding&&(Ct=Bt[At].encoding),!Ct&&dt.codePages&&(Ct=dt.codePages[0]),typeof Ct=="string"&&(Ct=dt[Ct]),Ct)){for(Wt=!1,Ot=[],De=0,je=z.length;De<je;De++)(un=Ct[z.charCodeAt(De)])?Ot.push(String.fromCharCode(un)):Ot.push(z[De]),Ot[De].charCodeAt(0)>>8&&(Wt=!0);z=Ot.join("")}for(De=z.length;Wt===void 0&&De!==0;)z.charCodeAt(De-1)>>8&&(Wt=!0),De--;if(!Wt)return z;for(Ot=ce.noBOM?[]:[254,255],De=0,je=z.length;De<je;De++){if((ln=(un=z.charCodeAt(De))>>8)>>8)throw new Error("Character at position "+De+" of string '"+z+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ot.push(ln),Ot.push(un-(ln<<8))}return String.fromCharCode.apply(void 0,Ot)},$i=k.__private__.pdfEscape=k.pdfEscape=function(z,ce){return cu(z,ce).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yd=k.__private__.beginPage=function(z){Qe[++jn]=[],Xt[jn]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(z[0]),topRightY:Number(z[1])}},Kh(jn),Ce(Qe[J])},Yh=function(z,ce){var De,je,Ze;switch(n=ce||n,typeof z=="string"&&(De=E(z.toLowerCase()),Array.isArray(De)&&(je=De[0],Ze=De[1])),Array.isArray(z)&&(je=z[0]*ht,Ze=z[1]*ht),isNaN(je)&&(je=a[0],Ze=a[1]),(je>14400||Ze>14400)&&(Cr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),je=Math.min(14400,je),Ze=Math.min(14400,Ze)),a=[je,Ze],n.substr(0,1)){case"l":Ze>je&&(a=[Ze,je]);break;case"p":je>Ze&&(a=[Ze,je])}yd(a),xd(_c),ue(Ms),Ed!==0&&ue(Ed+" J"),da!==0&&ue(da+" j"),Dn.publish("addPage",{pageNumber:jn})},qp=function(z){z>0&&z<=jn&&(Qe.splice(z,1),Xt.splice(z,1),jn--,J>jn&&(J=jn),this.setPage(J))},Kh=function(z){z>0&&z<=jn&&(J=z)},vl=k.__private__.getNumberOfPages=k.getNumberOfPages=function(){return Qe.length-1},yc=function(z,ce,De){var je,Ze=void 0;return De=De||{},z=z!==void 0?z:Bt[At].fontName,ce=ce!==void 0?ce:Bt[At].fontStyle,je=z.toLowerCase(),Ft[je]!==void 0&&Ft[je][ce]!==void 0?Ze=Ft[je][ce]:Ft[z]!==void 0&&Ft[z][ce]!==void 0?Ze=Ft[z][ce]:De.disableWarning===!1&&Cr.warn("Unable to look up font label for font '"+z+"', '"+ce+"'. Refer to getFontList() for available fonts."),Ze||De.noFallback||(Ze=Ft.times[ce])==null&&(Ze=Ft.times.normal),Ze},Vp=k.__private__.putInfo=function(){var z=vr(),ce=function(je){return je};for(var De in b!==null&&(ce=Zi.encryptor(z,0)),ue("<<"),ue("/Producer ("+$i(ce("jsPDF "+sn.version))+")"),Ke)Ke.hasOwnProperty(De)&&Ke[De]&&ue("/"+De.substr(0,1).toUpperCase()+De.substr(1)+" ("+$i(ce(Ke[De]))+")");ue("/CreationDate ("+$i(ce(ne))+")"),ue(">>"),ue("endobj")},aa=k.__private__.putCatalog=function(z){var ce=(z=z||{}).rootDictionaryObjId||ss;switch(vr(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+ce+" 0 R"),Te||(Te="fullwidth"),Te){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var De=""+Te;De.substr(De.length-1)==="%"&&(Te=parseInt(Te)/100),typeof Te=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+Q(Te)+"]")}switch(st||(st="continuous"),st){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}Ve&&ue("/PageMode /"+Ve),Dn.publish("putCatalog"),ue(">>"),ue("endobj")},Al=k.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(we+1)),ue("/Root "+we+" 0 R"),ue("/Info "+(we-1)+" 0 R"),b!==null&&ue("/Encrypt "+Zi.oid+" 0 R"),ue("/ID [ <"+de+"> <"+de+"> ]"),ue(">>")},$p=k.__private__.putHeader=function(){ue("%PDF-"+x),ue("%ºß¬à")},uu=k.__private__.putXRef=function(){var z="0000000000";ue("xref"),ue("0 "+(we+1)),ue("0000000000 65535 f ");for(var ce=1;ce<=we;ce++)typeof Pe[ce]=="function"?ue((z+Pe[ce]()).slice(-10)+" 00000 n "):Pe[ce]!==void 0?ue((z+Pe[ce]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},ls=k.__private__.buildDocument=function(){Z(),Ce(Ie),Dn.publish("buildDocument"),$p(),sa(),kc(),yl(),b!==null&&so(),Vp(),aa();var z=Ne;return uu(),Al(),ue("startxref"),ue(""+z),ue("%%EOF"),Ce(Qe[J]),Ie.join(`
`)},du=k.__private__.getBlob=function(z){return new Blob([he(z)],{type:"application/pdf"})},_l=k.output=k.__private__.output=Ds(function(z,ce){switch(typeof(ce=ce||{})=="string"?ce={filename:ce}:ce.filename=ce.filename||"generated.pdf",z){case void 0:return ls();case"save":k.save(ce.filename);break;case"arraybuffer":return he(ls());case"blob":return du(ls());case"bloburi":case"bloburl":if(an.URL!==void 0&&typeof an.URL.createObjectURL=="function")return an.URL&&an.URL.createObjectURL(du(ls()))||void 0;Cr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var De="",je=ls();try{De=YA(je)}catch{De=YA(unescape(encodeURIComponent(je)))}return"data:application/pdf;filename="+ce.filename+";base64,"+De;case"pdfobjectnewwindow":if(Object.prototype.toString.call(an)==="[object Window]"){var Ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",dt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ce.pdfObjectUrl&&(Ze=ce.pdfObjectUrl,dt="");var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ze+'"'+dt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ce)+");<\/script></body></html>",Ot=an.open();return Ot!==null&&Ot.document.write(Ct),Ot}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(an)==="[object Window]"){var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ce.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ce.filename+'" width="500px" height="400px" /></body></html>',un=an.open();if(un!==null){un.document.write(Wt);var ln=this;un.document.documentElement.querySelector("#pdfViewer").onload=function(){un.document.title=ce.filename,un.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ln.output("bloburl"))}}return un}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(an)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var In='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ce)+'"></iframe></body></html>',Er=an.open();if(Er!==null&&(Er.document.write(In),Er.document.title=ce.filename),Er||typeof safari>"u")return Er;break;case"datauri":case"dataurl":return an.document.location.href=this.output("datauristring",ce);default:return null}}),Ga=function(z){return Array.isArray($o)===!0&&$o.indexOf(z)>-1};switch(o){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=Ga("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof o!="number")throw new Error("Invalid unit: "+o);ht=o}var Zi=null;_e(),oe();var Qh=function(z){return b!==null?Zi.encryptor(z,0):function(ce){return ce}},vd=k.__private__.getPageInfo=k.getPageInfo=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xt[z].objId,pageNumber:z,pageContext:Xt[z]}},cn=k.__private__.getPageInfoByObjId=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ce in Xt)if(Xt[ce].objId===z)break;return vd(ce)},Hp=k.__private__.getCurrentPageInfo=k.getCurrentPageInfo=function(){return{objId:Xt[J].objId,pageNumber:J,pageContext:Xt[J]}};k.addPage=function(){return Yh.apply(this,arguments),this},k.setPage=function(){return Kh.apply(this,arguments),Ce.call(this,Qe[J]),this},k.insertPage=function(z){return this.addPage(),this.movePage(J,z),this},k.movePage=function(z,ce){var De,je;if(z>ce){De=Qe[z],je=Xt[z];for(var Ze=z;Ze>ce;Ze--)Qe[Ze]=Qe[Ze-1],Xt[Ze]=Xt[Ze-1];Qe[ce]=De,Xt[ce]=je,this.setPage(ce)}else if(z<ce){De=Qe[z],je=Xt[z];for(var dt=z;dt<ce;dt++)Qe[dt]=Qe[dt+1],Xt[dt]=Xt[dt+1];Qe[ce]=De,Xt[ce]=je,this.setPage(ce)}return this},k.deletePage=function(){return qp.apply(this,arguments),this},k.__private__.text=k.text=function(z,ce,De,je,Ze){var dt,Ct,Ot,Wt,un,ln,In,Er,Mr,Yr=(je=je||{}).scope||this;if(typeof z=="number"&&typeof ce=="number"&&(typeof De=="string"||Array.isArray(De))){var Hi=De;De=ce,ce=z,z=Hi}if(arguments[3]instanceof $t?(B("The transform parameter of text() with a Matrix value"),Mr=Ze):(Ot=arguments[4],Wt=arguments[5],fr(In=arguments[3])==="object"&&In!==null||(typeof Ot=="string"&&(Wt=Ot,Ot=null),typeof In=="string"&&(Wt=In,In=null),typeof In=="number"&&(Ot=In,In=null),je={flags:In,angle:Ot,align:Wt})),isNaN(ce)||isNaN(De)||z==null)throw new Error("Invalid arguments passed to jsPDF.text");if(z.length===0)return Yr;var ki="",Os=!1,Ho=typeof je.lineHeightFactor=="number"?je.lineHeightFactor:Is,ha=Yr.internal.scaleFactor;function tf(Ut){return Ut=Ut.split("	").join(Array(je.TabLen||9).join(" ")),$i(Ut,In)}function Id(Ut){for(var Qn,Rr=Ut.concat(),Qr=[],ba=Rr.length;ba--;)typeof(Qn=Rr.shift())=="string"?Qr.push(Qn):Array.isArray(Ut)&&(Qn.length===1||Qn[1]===void 0&&Qn[2]===void 0)?Qr.push(Qn[0]):Qr.push([Qn[0],Qn[1],Qn[2]]);return Qr}function Ls(Ut,Qn){var Rr;if(typeof Ut=="string")Rr=Qn(Ut)[0];else if(Array.isArray(Ut)){for(var Qr,ba,Ar=Ut.concat(),ka=[],Pd=Ar.length;Pd--;)typeof(Qr=Ar.shift())=="string"?ka.push(Qn(Qr)[0]):Array.isArray(Qr)&&typeof Qr[0]=="string"&&(ba=Qn(Qr[0],Qr[1],Qr[2]),ka.push([ba[0],ba[1],ba[2]]));Rr=ka}return Rr}var fa=!1,Td=!0;if(typeof z=="string")fa=!0;else if(Array.isArray(z)){var Nd=z.concat();Ct=[];for(var Ka,wi=Nd.length;wi--;)(typeof(Ka=Nd.shift())!="string"||Array.isArray(Ka)&&typeof Ka[0]!="string")&&(Td=!1);fa=Td}if(fa===!1)throw new Error('Type of text must be string or Array. "'+z+'" is not recognized.');typeof z=="string"&&(z=z.match(/[\r?\n]/)?z.split(/\r\n|\r|\n/g):[z]);var yu=Me/Yr.internal.scaleFactor,vu=yu*(Ho-1);switch(je.baseline){case"bottom":De-=vu;break;case"top":De+=yu-vu;break;case"hanging":De+=yu-2*vu;break;case"middle":De+=yu/2-vu}if((ln=je.maxWidth||0)>0&&(typeof z=="string"?z=Yr.splitTextToSize(z,ln):Object.prototype.toString.call(z)==="[object Array]"&&(z=z.reduce(function(Ut,Qn){return Ut.concat(Yr.splitTextToSize(Qn,ln))},[]))),dt={text:z,x:ce,y:De,options:je,mutex:{pdfEscape:$i,activeFontKey:At,fonts:Bt,activeFontSize:Me}},Dn.publish("preProcessText",dt),z=dt.text,Ot=(je=dt.options).angle,!(Mr instanceof $t)&&Ot&&typeof Ot=="number"){Ot*=Math.PI/180,je.rotationDirection===0&&(Ot=-Ot),P===N.ADVANCED&&(Ot=-Ot);var Au=Math.cos(Ot),_u=Math.sin(Ot);Mr=new $t(Au,_u,-_u,Au,0,0)}else Ot&&Ot instanceof $t&&(Mr=Ot);P!==N.ADVANCED||Mr||(Mr=Ji),(un=je.charSpace||mu)!==void 0&&(ki+=M(R(un))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Er=je.horizontalScale)!==void 0&&(ki+=M(100*Er)+` Tz
`),je.lang;var ao=-1,Qp=je.renderingMode!==void 0?je.renderingMode:je.stroke,Cu=Yr.internal.getCurrentPageInfo().pageContext;switch(Qp){case 0:case!1:case"fill":ao=0;break;case 1:case!0:case"stroke":ao=1;break;case 2:case"fillThenStroke":ao=2;break;case 3:case"invisible":ao=3;break;case 4:case"fillAndAddForClipping":ao=4;break;case 5:case"strokeAndAddPathForClipping":ao=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ao=6;break;case 7:case"addToPathForClipping":ao=7}var nf=Cu.usedRenderingMode!==void 0?Cu.usedRenderingMode:-1;ao!==-1?ki+=ao+` Tr
`:nf!==-1&&(ki+=`0 Tr
`),ao!==-1&&(Cu.usedRenderingMode=ao),Wt=je.align||"left";var Wo,xu=Me*Ho,Md=Yr.internal.pageSize.getWidth(),rf=Bt[At];un=je.charSpace||mu,ln=je.maxWidth||0,In=Object.assign({autoencode:!0,noBOM:!0},je.flags);var Qa=[],Ec=function(Ut){return Yr.getStringUnitWidth(Ut,{font:rf,charSpace:un,fontSize:Me,doKerning:!1})*Me/ha};if(Object.prototype.toString.call(z)==="[object Array]"){var No;Ct=Id(z),Wt!=="left"&&(Wo=Ct.map(Ec));var Xi,El=0;if(Wt==="right"){ce-=Wo[0],z=[],wi=Ct.length;for(var pa=0;pa<wi;pa++)pa===0?(Xi=ua(ce),No=Ns(De)):(Xi=R(El-Wo[pa]),No=-xu),z.push([Ct[pa],Xi,No]),El=Wo[pa]}else if(Wt==="center"){ce-=Wo[0]/2,z=[],wi=Ct.length;for(var ma=0;ma<wi;ma++)ma===0?(Xi=ua(ce),No=Ns(De)):(Xi=R((El-Wo[ma])/2),No=-xu),z.push([Ct[ma],Xi,No]),El=Wo[ma]}else if(Wt==="left"){z=[],wi=Ct.length;for(var Dc=0;Dc<wi;Dc++)z.push(Ct[Dc])}else if(Wt==="justify"&&rf.encoding==="Identity-H"){z=[],wi=Ct.length,ln=ln!==0?ln:Md;for(var Ln=0,Pr=0;Pr<wi;Pr++)if(No=Pr===0?Ns(De):-xu,Xi=Pr===0?ua(ce):Ln,Pr<wi-1){var Ic=R((ln-Wo[Pr])/(Ct[Pr].split(" ").length-1)),Kr=Ct[Pr].split(" ");z.push([Kr[0]+" ",Xi,No]),Ln=0;for(var Go=1;Go<Kr.length;Go++){var Tc=(Ec(Kr[Go-1]+" "+Kr[Go])-Ec(Kr[Go]))*ha+Ic;Go==Kr.length-1?z.push([Kr[Go],Tc,0]):z.push([Kr[Go]+" ",Tc,0]),Ln-=Tc}}else z.push([Ct[Pr],Xi,No]);z.push(["",Ln,0])}else{if(Wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(z=[],wi=Ct.length,ln=ln!==0?ln:Md,Pr=0;Pr<wi;Pr++)No=Pr===0?Ns(De):-xu,Xi=Pr===0?ua(ce):0,Pr<wi-1?Qa.push(M(R((ln-Wo[Pr])/(Ct[Pr].split(" ").length-1)))):Qa.push(0),z.push([Ct[Pr],Xi,No])}}var of=typeof je.R2L=="boolean"?je.R2L:qe;of===!0&&(z=Ls(z,function(Ut,Qn,Rr){return[Ut.split("").reverse().join(""),Qn,Rr]})),dt={text:z,x:ce,y:De,options:je,mutex:{pdfEscape:$i,activeFontKey:At,fonts:Bt,activeFontSize:Me}},Dn.publish("postProcessText",dt),z=dt.text,Os=dt.mutex.isHex||!1;var cs=Bt[At].encoding;cs!=="WinAnsiEncoding"&&cs!=="StandardEncoding"||(z=Ls(z,function(Ut,Qn,Rr){return[tf(Ut),Qn,Rr]})),Ct=Id(z),z=[];for(var ga,Dl,yi,Nc=0,Mc=1,Il=Array.isArray(Ct[0])?Mc:Nc,nr="",Tl=function(Ut,Qn,Rr){var Qr="";return Rr instanceof $t?(Rr=typeof je.angle=="number"?zi(Rr,new $t(1,0,0,1,Ut,Qn)):zi(new $t(1,0,0,1,Ut,Qn),Rr),P===N.ADVANCED&&(Rr=zi(new $t(1,0,0,-1,0,0),Rr)),Qr=Rr.join(" ")+` Tm
`):Qr=M(Ut)+" "+M(Qn)+` Td
`,Qr},Yo=0;Yo<Ct.length;Yo++){switch(nr="",Il){case Mc:yi=(Os?"<":"(")+Ct[Yo][0]+(Os?">":")"),ga=parseFloat(Ct[Yo][1]),Dl=parseFloat(Ct[Yo][2]);break;case Nc:yi=(Os?"<":"(")+Ct[Yo]+(Os?">":")"),ga=ua(ce),Dl=Ns(De)}Qa!==void 0&&Qa[Yo]!==void 0&&(nr=Qa[Yo]+` Tw
`),Yo===0?z.push(nr+Tl(ga,Dl,Mr)+yi):Il===Nc?z.push(nr+yi):Il===Mc&&z.push(nr+Tl(ga,Dl,Mr)+yi)}z=Il===Nc?z.join(` Tj
T* `):z.join(` Tj
`),z+=` Tj
`;var Ko=`BT
/`;return Ko+=At+" "+Me+` Tf
`,Ko+=M(Me*Ho)+` TL
`,Ko+=Ps+`
`,Ko+=ki,Ko+=z,ue(Ko+="ET"),y[At]=!0,Yr};var hu=k.__private__.clip=k.clip=function(z){return ue(z==="evenodd"?"W*":"W"),this};k.clipEvenOdd=function(){return hu("evenodd")},k.__private__.discardPath=k.discardPath=function(){return ue("n"),this};var la=k.__private__.isValidStyle=function(z){var ce=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(z)!==-1&&(ce=!0),ce};k.__private__.setDefaultPathOperation=k.setDefaultPathOperation=function(z){return la(z)&&(g=z),this};var Ad=k.__private__.getStyle=k.getStyle=function(z){var ce=g;switch(z){case"D":case"S":ce="S";break;case"F":ce="f";break;case"FD":case"DF":ce="B";break;case"f":case"f*":case"B":case"B*":ce=z}return ce},_d=k.close=function(){return ue("h"),this};k.stroke=function(){return ue("S"),this},k.fill=function(z){return vc("f",z),this},k.fillEvenOdd=function(z){return vc("f*",z),this},k.fillStroke=function(z){return vc("B",z),this},k.fillStrokeEvenOdd=function(z){return vc("B*",z),this};var vc=function(z,ce){fr(ce)==="object"?fu(ce,z):ue(z)},Ya=function(z){z===null||P===N.ADVANCED&&z===void 0||(z=Ad(z),ue(z))};function Wp(z,ce,De,je,Ze){var dt=new ip(ce||this.boundingBox,De||this.xStep,je||this.yStep,this.gState,Ze||this.matrix);dt.stream=this.stream;var Ct=z+"$$"+this.cloneIndex+++"$$";return oi(Ct,dt),dt}var fu=function(z,ce){var De=En[z.key],je=pn[De];if(je instanceof fh)ue("q"),ue(Cd(ce)),je.gState&&k.setGState(je.gState),ue(z.matrix.toString()+" cm"),ue("/"+De+" sh"),ue("Q");else if(je instanceof ip){var Ze=new $t(1,0,0,-1,0,Sl());z.matrix&&(Ze=Ze.multiply(z.matrix||Ji),De=Wp.call(je,z.key,z.boundingBox,z.xStep,z.yStep,Ze).id),ue("q"),ue("/Pattern cs"),ue("/"+De+" scn"),je.gState&&k.setGState(je.gState),ue(ce),ue("Q")}},Cd=function(z){switch(z){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Kn=k.moveTo=function(z,ce){return ue(M(R(z))+" "+M(j(ce))+" m"),this},Ac=k.lineTo=function(z,ce){return ue(M(R(z))+" "+M(j(ce))+" l"),this},ca=k.curveTo=function(z,ce,De,je,Ze,dt){return ue([M(R(z)),M(j(ce)),M(R(De)),M(j(je)),M(R(Ze)),M(j(dt)),"c"].join(" ")),this};k.__private__.line=k.line=function(z,ce,De,je,Ze){if(isNaN(z)||isNaN(ce)||isNaN(De)||isNaN(je)||!la(Ze))throw new Error("Invalid arguments passed to jsPDF.line");return P===N.COMPAT?this.lines([[De-z,je-ce]],z,ce,[1,1],Ze||"S"):this.lines([[De-z,je-ce]],z,ce,[1,1]).stroke()},k.__private__.lines=k.lines=function(z,ce,De,je,Ze,dt){var Ct,Ot,Wt,un,ln,In,Er,Mr,Yr,Hi,ki,Os;if(typeof z=="number"&&(Os=De,De=ce,ce=z,z=Os),je=je||[1,1],dt=dt||!1,isNaN(ce)||isNaN(De)||!Array.isArray(z)||!Array.isArray(je)||!la(Ze)||typeof dt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Kn(ce,De),Ct=je[0],Ot=je[1],un=z.length,Hi=ce,ki=De,Wt=0;Wt<un;Wt++)(ln=z[Wt]).length===2?(Hi=ln[0]*Ct+Hi,ki=ln[1]*Ot+ki,Ac(Hi,ki)):(In=ln[0]*Ct+Hi,Er=ln[1]*Ot+ki,Mr=ln[2]*Ct+Hi,Yr=ln[3]*Ot+ki,Hi=ln[4]*Ct+Hi,ki=ln[5]*Ot+ki,ca(In,Er,Mr,Yr,Hi,ki));return dt&&_d(),Ya(Ze),this},k.path=function(z){for(var ce=0;ce<z.length;ce++){var De=z[ce],je=De.c;switch(De.op){case"m":Kn(je[0],je[1]);break;case"l":Ac(je[0],je[1]);break;case"c":ca.apply(this,je);break;case"h":_d()}}return this},k.__private__.rect=k.rect=function(z,ce,De,je,Ze){if(isNaN(z)||isNaN(ce)||isNaN(De)||isNaN(je)||!la(Ze))throw new Error("Invalid arguments passed to jsPDF.rect");return P===N.COMPAT&&(je=-je),ue([M(R(z)),M(j(ce)),M(R(De)),M(R(je)),"re"].join(" ")),Ya(Ze),this},k.__private__.triangle=k.triangle=function(z,ce,De,je,Ze,dt,Ct){if(isNaN(z)||isNaN(ce)||isNaN(De)||isNaN(je)||isNaN(Ze)||isNaN(dt)||!la(Ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[De-z,je-ce],[Ze-De,dt-je],[z-Ze,ce-dt]],z,ce,[1,1],Ct,!0),this},k.__private__.roundedRect=k.roundedRect=function(z,ce,De,je,Ze,dt,Ct){if(isNaN(z)||isNaN(ce)||isNaN(De)||isNaN(je)||isNaN(Ze)||isNaN(dt)||!la(Ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ot=4/3*(Math.SQRT2-1);return Ze=Math.min(Ze,.5*De),dt=Math.min(dt,.5*je),this.lines([[De-2*Ze,0],[Ze*Ot,0,Ze,dt-dt*Ot,Ze,dt],[0,je-2*dt],[0,dt*Ot,-Ze*Ot,dt,-Ze,dt],[2*Ze-De,0],[-Ze*Ot,0,-Ze,-dt*Ot,-Ze,-dt],[0,2*dt-je],[0,-dt*Ot,Ze*Ot,-dt,Ze,-dt]],z+Ze,ce,[1,1],Ct,!0),this},k.__private__.ellipse=k.ellipse=function(z,ce,De,je,Ze){if(isNaN(z)||isNaN(ce)||isNaN(De)||isNaN(je)||!la(Ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var dt=4/3*(Math.SQRT2-1)*De,Ct=4/3*(Math.SQRT2-1)*je;return Kn(z+De,ce),ca(z+De,ce-Ct,z+dt,ce-je,z,ce-je),ca(z-dt,ce-je,z-De,ce-Ct,z-De,ce),ca(z-De,ce+Ct,z-dt,ce+je,z,ce+je),ca(z+dt,ce+je,z+De,ce+Ct,z+De,ce),Ya(Ze),this},k.__private__.circle=k.circle=function(z,ce,De,je){if(isNaN(z)||isNaN(ce)||isNaN(De)||!la(je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(z,ce,De,De,je)},k.setFont=function(z,ce,De){return De&&(ce=$(ce,De)),At=yc(z,ce,{disableWarning:!1}),this};var Jh=k.__private__.getFont=k.getFont=function(){return Bt[yc.apply(k,arguments)]};k.__private__.getFontList=k.getFontList=function(){var z,ce,De={};for(z in Ft)if(Ft.hasOwnProperty(z))for(ce in De[z]=[],Ft[z])Ft[z].hasOwnProperty(ce)&&De[z].push(ce);return De},k.addFont=function(z,ce,De,je,Ze){var dt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&dt.indexOf(arguments[3])!==-1?Ze=arguments[3]:arguments[3]&&dt.indexOf(arguments[3])==-1&&(De=$(De,je)),Ze=Ze||"Identity-H",as.call(this,z,ce,De,Ze)};var Is,_c=t.lineWidth||.200025,Ts=k.__private__.getLineWidth=k.getLineWidth=function(){return _c},xd=k.__private__.setLineWidth=k.setLineWidth=function(z){return _c=z,ue(M(R(z))+" w"),this};k.__private__.setLineDash=sn.API.setLineDash=sn.API.setLineDashPattern=function(z,ce){if(z=z||[],ce=ce||0,isNaN(ce)||!Array.isArray(z))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return z=z.map(function(De){return M(R(De))}).join(" "),ce=M(R(ce)),ue("["+z+"] "+ce+" d"),this};var pu=k.__private__.getLineHeight=k.getLineHeight=function(){return Me*Is};k.__private__.getLineHeight=k.getLineHeight=function(){return Me*Is};var Zh=k.__private__.setLineHeightFactor=k.setLineHeightFactor=function(z){return typeof(z=z||1.15)=="number"&&(Is=z),this},Sd=k.__private__.getLineHeightFactor=k.getLineHeightFactor=function(){return Is};Zh(t.lineHeight);var ua=k.__private__.getHorizontalCoordinate=function(z){return R(z)},Ns=k.__private__.getVerticalCoordinate=function(z){return P===N.ADVANCED?z:Xt[J].mediaBox.topRightY-Xt[J].mediaBox.bottomLeftY-R(z)},Gp=k.__private__.getHorizontalCoordinateString=k.getHorizontalCoordinateString=function(z){return M(ua(z))},Cl=k.__private__.getVerticalCoordinateString=k.getVerticalCoordinateString=function(z){return M(Ns(z))},Ms=t.strokeColor||"0 G";k.__private__.getStrokeColor=k.getDrawColor=function(){return Eo(Ms)},k.__private__.setStrokeColor=k.setDrawColor=function(z,ce,De,je){return Ms=Do({ch1:z,ch2:ce,ch3:De,ch4:je,pdfColorType:"draw",precision:2}),ue(Ms),this};var xl=t.fillColor||"0 g";k.__private__.getFillColor=k.getFillColor=function(){return Eo(xl)},k.__private__.setFillColor=k.setFillColor=function(z,ce,De,je){return xl=Do({ch1:z,ch2:ce,ch3:De,ch4:je,pdfColorType:"fill",precision:2}),ue(xl),this};var Ps=t.textColor||"0 g",Yp=k.__private__.getTextColor=k.getTextColor=function(){return Eo(Ps)};k.__private__.setTextColor=k.setTextColor=function(z,ce,De,je){return Ps=Do({ch1:z,ch2:ce,ch3:De,ch4:je,pdfColorType:"text",precision:3}),this};var mu=t.charSpace,Kp=k.__private__.getCharSpace=k.getCharSpace=function(){return parseFloat(mu||0)};k.__private__.setCharSpace=k.setCharSpace=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return mu=z,this};var Ed=0;k.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},k.__private__.setLineCap=k.setLineCap=function(z){var ce=k.CapJoinStyles[z];if(ce===void 0)throw new Error("Line cap style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ed=ce,ue(ce+" J"),this};var da=0;k.__private__.setLineJoin=k.setLineJoin=function(z){var ce=k.CapJoinStyles[z];if(ce===void 0)throw new Error("Line join style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return da=ce,ue(ce+" j"),this},k.__private__.setLineMiterLimit=k.__private__.setMiterLimit=k.setLineMiterLimit=k.setMiterLimit=function(z){if(z=z||0,isNaN(z))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(M(R(z))+" M"),this},k.GState=e1,k.setGState=function(z){(z=typeof z=="string"?qn[Br[z]]:Xh(null,z)).equals(Wr)||(ue("/"+z.id+" gs"),Wr=z)};var Xh=function(z,ce){if(!z||!Br[z]){var De=!1;for(var je in qn)if(qn.hasOwnProperty(je)&&qn[je].equals(ce)){De=!0;break}if(De)ce=qn[je];else{var Ze="GS"+(Object.keys(qn).length+1).toString(10);qn[Ze]=ce,ce.id=Ze}return z&&(Br[z]=ce.id),Dn.publish("addGState",ce),ce}};k.addGState=function(z,ce){return Xh(z,ce),this},k.saveGraphicsState=function(){return ue("q"),Kt.push({key:At,size:Me,color:Ps}),this},k.restoreGraphicsState=function(){ue("Q");var z=Kt.pop();return At=z.key,Me=z.size,Ps=z.color,Wr=null,this},k.setCurrentTransformationMatrix=function(z){return ue(z.toString()+" cm"),this},k.comment=function(z){return ue("#"+z),this};var Cc=function(z,ce){var De=z||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return De},set:function(dt){isNaN(dt)||(De=parseFloat(dt))}});var je=ce||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function(dt){isNaN(dt)||(je=parseFloat(dt))}});var Ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ze},set:function(dt){Ze=dt.toString()}}),this},gu=function(z,ce,De,je){Cc.call(this,z,ce),this.type="rect";var Ze=De||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ze},set:function(Ct){isNaN(Ct)||(Ze=parseFloat(Ct))}});var dt=je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return dt},set:function(Ct){isNaN(Ct)||(dt=parseFloat(Ct))}}),this},bu=function(){this.page=jn,this.currentPage=J,this.pages=Qe.slice(0),this.pagesContext=Xt.slice(0),this.x=on,this.y=pt,this.matrix=Vt,this.width=Sc(J),this.height=Sl(J),this.outputDestination=Ue,this.id="",this.objectNumber=-1};bu.prototype.restore=function(){jn=this.page,J=this.currentPage,Xt=this.pagesContext,Qe=this.pages,on=this.x,pt=this.y,Vt=this.matrix,ku(J,this.width),wu(J,this.height),Ue=this.outputDestination};var Dd=function(z,ce,De,je,Ze){ii.push(new bu),jn=J=0,Qe=[],on=z,pt=ce,Vt=Ze,yd([De,je])},ef=function(z){if(Qi[z])ii.pop().restore();else{var ce=new bu,De="Xo"+(Object.keys(Nn).length+1).toString(10);ce.id=De,Qi[z]=De,Nn[De]=ce,Dn.publish("addFormObject",ce),ii.pop().restore()}};for(var xc in k.beginFormObject=function(z,ce,De,je,Ze){return Dd(z,ce,De,je,Ze),this},k.endFormObject=function(z){return ef(z),this},k.doFormObject=function(z,ce){var De=Nn[Qi[z]];return ue("q"),ue(ce.toString()+" cm"),ue("/"+De.id+" Do"),ue("Q"),this},k.getFormObject=function(z){var ce=Nn[Qi[z]];return{x:ce.x,y:ce.y,width:ce.width,height:ce.height,matrix:ce.matrix}},k.save=function(z,ce){return z=z||"generated.pdf",(ce=ce||{}).returnPromise=ce.returnPromise||!1,ce.returnPromise===!1?(dh(du(ls()),z),typeof dh.unload=="function"&&an.setTimeout&&setTimeout(dh.unload,911),this):new Promise(function(De,je){try{var Ze=dh(du(ls()),z);typeof dh.unload=="function"&&an.setTimeout&&setTimeout(dh.unload,911),De(Ze)}catch(dt){je(dt.message)}})},sn.API)sn.API.hasOwnProperty(xc)&&(xc==="events"&&sn.API.events.length?function(z,ce){var De,je,Ze;for(Ze=ce.length-1;Ze!==-1;Ze--)De=ce[Ze][0],je=ce[Ze][1],z.subscribe.apply(z,[De].concat(typeof je=="function"?[je]:je))}(Dn,sn.API.events):k[xc]=sn.API[xc]);var Sc=k.getPageWidth=function(z){return(Xt[z=z||J].mediaBox.topRightX-Xt[z].mediaBox.bottomLeftX)/ht},ku=k.setPageWidth=function(z,ce){Xt[z].mediaBox.topRightX=ce*ht+Xt[z].mediaBox.bottomLeftX},Sl=k.getPageHeight=function(z){return(Xt[z=z||J].mediaBox.topRightY-Xt[z].mediaBox.bottomLeftY)/ht},wu=k.setPageHeight=function(z,ce){Xt[z].mediaBox.topRightY=ce*ht+Xt[z].mediaBox.bottomLeftY};return k.internal={pdfEscape:$i,getStyle:Ad,getFont:Jh,getFontSize:Ee,getCharSpace:Kp,getTextColor:Yp,getLineHeight:pu,getLineHeightFactor:Sd,getLineWidth:Ts,write:ge,getHorizontalCoordinate:ua,getVerticalCoordinate:Ns,getCoordinateString:Gp,getVerticalCoordinateString:Cl,collections:{},newObject:vr,newAdditionalObject:os,newObjectDeferred:Bn,newObjectDeferredBegin:Gr,getFilters:bi,putStream:Ui,events:Dn,scaleFactor:ht,pageSize:{getWidth:function(){return Sc(J)},setWidth:function(z){ku(J,z)},getHeight:function(){return Sl(J)},setHeight:function(z){wu(J,z)}},encryptionOptions:b,encryption:Zi,getEncryptor:Qh,output:_l,getNumberOfPages:vl,pages:Qe,out:ue,f2:Q,f3:H,getPageInfo:vd,getPageInfoByObjId:cn,getCurrentPageInfo:Hp,getPDFVersion:_,Point:Cc,Rectangle:gu,Matrix:$t,hasHotfix:Ga},Object.defineProperty(k.internal.pageSize,"width",{get:function(){return Sc(J)},set:function(z){ku(J,z)},enumerable:!0,configurable:!0}),Object.defineProperty(k.internal.pageSize,"height",{get:function(){return Sl(J)},set:function(z){wu(J,z)},enumerable:!0,configurable:!0}),Gh.call(k,Ae),At="F1",Yh(a,n),Dn.publish("initialized"),k}ep.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},ep.prototype.toHexString=function(t){return t.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ep.prototype.hexToBytes=function(t){for(var r=[],n=0;n<t.length;n+=2)r.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return r.join("")},ep.prototype.processOwnerPassword=function(t,r){return QA(KA(r).substr(0,5),t)},ep.prototype.encryptor=function(t,r){var n=KA(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&r,r>>8&255)).substr(0,10);return function(o){return QA(n,o)}},e1.prototype.equals=function(t){var r,n="id,objectNumber,equals";if(!t||fr(t)!==fr(this))return!1;var o=0;for(r in this)if(!(n.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!t.hasOwnProperty(r)||this[r]!==t[r])return!1;o++}for(r in t)t.hasOwnProperty(r)&&n.indexOf(r)<0&&o--;return o===0},sn.API={events:[]},sn.version="3.0.1";var mi=sn.API,fC=1,$h=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kn=function(t){return t.toFixed(2)},qu=function(t){return t.toFixed(5)};mi.__acroform__={};var Es=function(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t},YT=function(t){return t*fC},Wl=function(t){var r=new bL,n=qt.internal.getHeight(t)||0,o=qt.internal.getWidth(t)||0;return r.BBox=[0,0,Number(kn(o)),Number(kn(n))],r},Ote=mi.__acroform__.setBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<r},Lte=mi.__acroform__.clearBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<r)},jte=mi.__acroform__.getBit=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<r)==0?0:1},Ci=mi.__acroform__.getBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return jte(t,r-1)},xi=mi.__acroform__.setBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ote(t,r-1)},Si=mi.__acroform__.clearBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Lte(t,r-1)},Bte=mi.__acroform__.calculateCoordinates=function(t,r){var n=r.internal.getHorizontalCoordinate,o=r.internal.getVerticalCoordinate,a=t[0],l=t[1],d=t[2],h=t[3],p={};return p.lowerLeft_X=n(a)||0,p.lowerLeft_Y=o(l+h)||0,p.upperRight_X=n(a+d)||0,p.upperRight_Y=o(l)||0,[Number(kn(p.lowerLeft_X)),Number(kn(p.lowerLeft_Y)),Number(kn(p.upperRight_X)),Number(kn(p.upperRight_Y))]},Rte=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var r=[],n=t._V||t.DV,o=JA(t,n),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(t.scope.__private__.encodeColorString(t.color)),r.push("/"+a+" "+kn(o.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC");var l=Wl(t);return l.scope=t.scope,l.stream=r.join(`
`),l}},JA=function(t,r){var n=t.fontSize===0?t.maxFontSize:t.fontSize,o={text:"",fontSize:""},a=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");a=t.multiline?a.map(function(H){return H.split(`
`)}):a.map(function(H){return[H]});var l=n,d=qt.internal.getHeight(t)||0;d=d<0?-d:d;var h=qt.internal.getWidth(t)||0;h=h<0?-h:h;var p=function(H,R,K){if(H+1<a.length){var j=R+" "+a[H+1][0];return J0(j,t,K).width<=h-4}return!1};l++;e:for(;l>0;){r="",l--;var g,b,v=J0("3",t,l).height,y=t.multiline?d-l:(d-v)/2,k=y+=2,x=0,_=0,D=0;if(l<=0){r=`(...) Tj
`,r+="% Width of Text: "+J0(r,t,l=12).width+", FieldWidth:"+h+`
`;break}for(var E="",N=0,P=0;P<a.length;P++)if(a.hasOwnProperty(P)){var F=!1;if(a[P].length!==1&&D!==a[P].length-1){if((v+2)*(N+2)+2>d)continue e;E+=a[P][D],F=!0,_=P,P--}else{E=(E+=a[P][D]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var V=parseInt(P),$=p(V,E,l),M=P>=a.length-1;if($&&!M){E+=" ",D=0;continue}if($||M){if(M)_=V;else if(t.multiline&&(v+2)*(N+2)+2>d)continue e}else{if(!t.multiline||(v+2)*(N+2)+2>d)continue e;_=V}}for(var B="",q=x;q<=_;q++){var Q=a[q];if(t.multiline){if(q===_){B+=Q[D]+" ",D=(D+1)%Q.length;continue}if(q===x){B+=Q[Q.length-1]+" ";continue}}B+=Q[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,b=J0(B,t,l).width,t.textAlign){case"right":g=h-b-2;break;case"center":g=(h-b)/2;break;case"left":default:g=2}r+=kn(g)+" "+kn(k)+` Td
`,r+="("+$h(B)+`) Tj
`,r+=-kn(g)+` 0 Td
`,k=-(l+2),b=0,x=F?_:_+1,N++,E=""}break}return o.text=r,o.fontSize=l,o},J0=function(t,r,n){var o=r.scope.internal.getFont(r.fontName,r.fontStyle),a=r.scope.getStringUnitWidth(t,{font:o,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:r.scope.getStringUnitWidth("3",{font:o,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},Fte={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},zte=function(t,r){var n={type:"reference",object:t};r.internal.getPageInfo(t.page).pageContext.annotations.find(function(o){return o.type===n.type&&o.object===n.object})===void 0&&r.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Ute=function(t,r){for(var n in t)if(t.hasOwnProperty(n)){var o=n,a=t[n];r.internal.newObjectDeferredBegin(a.objId,!0),fr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[o]}},qte=function(t,r){if(r.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(pl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Fte)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");fC=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new kL,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var o=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];l.objId=void 0,l.hasAnnotation&&zte(l,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(o,a){var l=!o;for(var d in o||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),o=o||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(o.hasOwnProperty(d)){var h=o[d],p=[],g=h.Rect;if(h.Rect&&(h.Rect=Bte(h.Rect,a)),a.internal.newObjectDeferredBegin(h.objId,!0),h.DA=qt.createDefaultAppearanceStream(h),fr(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(p=h.getKeyValueListForStream()),h.Rect=g,h.hasAppearanceStream&&!h.appearanceStreamContent){var b=Rte(h);p.push({key:"AP",value:"<</N "+b+">>"}),a.internal.acroformPlugin.xForms.push(b)}if(h.appearanceStreamContent){var v="";for(var y in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(y)){var k=h.appearanceStreamContent[y];if(v+="/"+y+" ",v+="<<",Object.keys(k).length>=1||Array.isArray(k)){for(var d in k)if(k.hasOwnProperty(d)){var x=k[d];typeof x=="function"&&(x=x.call(a,h)),v+="/"+d+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=k)=="function"&&(x=x.call(a,h)),v+="/"+d+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);v+=">>"}p.push({key:"AP",value:`<<
`+v+">>"})}a.internal.putStream({additionalKeyValues:p,objectId:h.objId}),a.internal.out("endobj")}l&&Ute(a.internal.acroformPlugin.xForms,a)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},gL=mi.__acroform__.arrayToPdfArray=function(t,r,n){var o=function(d){return d};if(Array.isArray(t)){for(var a="[",l=0;l<t.length;l++)switch(l!==0&&(a+=" "),fr(t[l])){case"boolean":case"number":case"object":a+=t[l].toString();break;case"string":t[l].substr(0,1)!=="/"?(r!==void 0&&n&&(o=n.internal.getEncryptor(r)),a+="("+$h(o(t[l].toString()))+")"):a+=t[l].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Uv=function(t,r,n){var o=function(a){return a};return r!==void 0&&n&&(o=n.internal.getEncryptor(r)),(t=t||"").toString(),t="("+$h(o(t))+")"},ic=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ic.prototype.toString=function(){return this.objId+" 0 R"},ic.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ic.prototype.getKeyValueListForStream=function(){var t=[],r=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var n in r)if(Object.getOwnPropertyDescriptor(this,r[n]).configurable===!1){var o=r[n],a=this[o];a&&(Array.isArray(a)?t.push({key:o,value:gL(a,this.objId,this.scope)}):a instanceof ic?(a.scope=this.scope,t.push({key:o,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:o,value:a}))}return t};var bL=function(){ic.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Es(bL,ic);var kL=function(){ic.call(this);var t,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(o){return o};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+$h(n(t))+")"}},set:function(n){t=n}})};Es(kL,ic);var pl=function t(){ic.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');r=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ci(r,3)},set:function(E){E?this.F=xi(r,3):this.F=Si(r,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');n=E}});var o=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(o.length!==0)return o},set:function(E){o=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[0])?0:o[0]},set:function(E){o[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[1])?0:o[1]},set:function(E){o[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[2])?0:o[2]},set:function(E){o[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[3])?0:o[3]},set:function(E){o[3]=E}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof t1)return;l="FieldObject"+t.FieldNum++}var E=function(N){return N};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+$h(E(l))+")"},set:function(E){l=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(E){l=E}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(E){d=E}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(E){h=E}});var p=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return p},set:function(E){p=E}});var g=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return g===void 0?50/fC:g},set:function(E){g=E}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(E){b=E}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof t1||this instanceof Ih))return Uv(v,this.objId,this.scope)},set:function(E){E=E.toString(),v=E}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof ro?y:Uv(y,this.objId,this.scope)},set:function(E){E=E.toString(),y=this instanceof ro?E:E.substr(0,1)==="("?Rf(E.substr(1,E.length-2)):Rf(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ro?Rf(y.substr(1,y.length-1)):y},set:function(E){E=E.toString(),y=this instanceof ro?"/"+E:E}});var k=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(k)return k},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(k)return this instanceof ro?k:Uv(k,this.objId,this.scope)},set:function(E){E=E.toString(),k=this instanceof ro?E:E.substr(0,1)==="("?Rf(E.substr(1,E.length-2)):Rf(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ro?Rf(k.substr(1,k.length-1)):k},set:function(E){E=E.toString(),k=this instanceof ro?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(E){E=!!E,_=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(E){x=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,1)},set:function(E){E?this.Ff=xi(this.Ff,1):this.Ff=Si(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,2)},set:function(E){E?this.Ff=xi(this.Ff,2):this.Ff=Si(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,3)},set:function(E){E?this.Ff=xi(this.Ff,3):this.Ff=Si(this.Ff,3)}});var D=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(D!==null)return D},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');D=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(D){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:D=2;break;case"center":case 1:D=1;break;case"left":case 0:default:D=0}}})};Es(pl,ic);var lp=function(){pl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return gL(r,this.objId,this.scope)},set:function(n){var o,a;a=[],typeof(o=n)=="string"&&(a=function(l,d,h){h||(h=1);for(var p,g=[];p=d.exec(l);)g.push(p[h]);return g}(o,/\((.*?)\)/g)),r=a}}),this.getOptions=function(){return r},this.setOptions=function(n){r=n,this.sort&&r.sort()},this.addOption=function(n){n=(n=n||"").toString(),r.push(n),this.sort&&r.sort()},this.removeOption=function(n,o){for(o=o||!1,n=(n=n||"").toString();r.indexOf(n)!==-1&&(r.splice(r.indexOf(n),1),o!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,18)},set:function(n){n?this.Ff=xi(this.Ff,18):this.Ff=Si(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=xi(this.Ff,19):this.Ff=Si(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,20)},set:function(n){n?(this.Ff=xi(this.Ff,20),r.sort()):this.Ff=Si(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,22)},set:function(n){n?this.Ff=xi(this.Ff,22):this.Ff=Si(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,23)},set:function(n){n?this.Ff=xi(this.Ff,23):this.Ff=Si(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,27)},set:function(n){n?this.Ff=xi(this.Ff,27):this.Ff=Si(this.Ff,27)}}),this.hasAppearanceStream=!1};Es(lp,pl);var cp=function(){lp.call(this),this.fontName="helvetica",this.combo=!1};Es(cp,lp);var up=function(){cp.call(this),this.combo=!0};Es(up,cp);var wk=function(){up.call(this),this.edit=!0};Es(wk,up);var ro=function(){pl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,15)},set:function(n){n?this.Ff=xi(this.Ff,15):this.Ff=Si(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,16)},set:function(n){n?this.Ff=xi(this.Ff,16):this.Ff=Si(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,17)},set:function(n){n?this.Ff=xi(this.Ff,17):this.Ff=Si(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,26)},set:function(n){n?this.Ff=xi(this.Ff,26):this.Ff=Si(this.Ff,26)}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var o,a=[];for(o in a.push("<<"),r)a.push("/"+o+" ("+$h(n(r[o]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){fr(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Es(ro,pl);var yk=function(){ro.call(this),this.pushButton=!0};Es(yk,ro);var dp=function(){ro.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r!==void 0?r:[]}})};Es(dp,ro);var t1=function(){var t,r;pl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(a){r=a}});var n,o={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(h){return h};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var l,d=[];for(l in d.push("<<"),o)d.push("/"+l+" ("+$h(a(o[l]))+")");return d.push(">>"),d.join(`
`)},set:function(a){fr(a)==="object"&&(o=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return o.CA||""},set:function(a){typeof a=="string"&&(o.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=qt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Es(t1,pl),dp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var n=this.Kids[r];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},dp.prototype.createOption=function(t){var r=new t1;return r.Parent=this,r.optionName=t,this.Kids.push(r),Vte.call(this.scope,r),r};var vk=function(){ro.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=qt.CheckBox.createAppearanceStream()};Es(vk,ro);var Ih=function(){pl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,13)},set:function(r){r?this.Ff=xi(this.Ff,13):this.Ff=Si(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,21)},set:function(r){r?this.Ff=xi(this.Ff,21):this.Ff=Si(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,23)},set:function(r){r?this.Ff=xi(this.Ff,23):this.Ff=Si(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,24)},set:function(r){r?this.Ff=xi(this.Ff,24):this.Ff=Si(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,25)},set:function(r){r?this.Ff=xi(this.Ff,25):this.Ff=Si(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,26)},set:function(r){r?this.Ff=xi(this.Ff,26):this.Ff=Si(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){Number.isInteger(r)&&(t=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Es(Ih,pl);var Ak=function(){Ih.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,14)},set:function(t){t?this.Ff=xi(this.Ff,14):this.Ff=Si(this.Ff,14)}}),this.password=!0};Es(Ak,Ih);var qt={CheckBox:{createAppearanceStream:function(){return{N:{On:qt.CheckBox.YesNormal},D:{On:qt.CheckBox.YesPushDown,Off:qt.CheckBox.OffPushDown}}},YesPushDown:function(t){var r=Wl(t);r.scope=t.scope;var n=[],o=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),l=JA(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+kn(qt.internal.getWidth(t))+" "+kn(qt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+o+" "+kn(l.fontSize)+" Tf "+a),n.push("BT"),n.push(l.text),n.push("ET"),n.push("Q"),n.push("EMC"),r.stream=n.join(`
`),r},YesNormal:function(t){var r=Wl(t);r.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,o=t.scope.__private__.encodeColorString(t.color),a=[],l=qt.internal.getHeight(t),d=qt.internal.getWidth(t),h=JA(t,t.caption);return a.push("1 g"),a.push("0 0 "+kn(d)+" "+kn(l)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+kn(d-1)+" "+kn(l-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+kn(h.fontSize)+" Tf "+o),a.push(h.text),a.push("ET"),a.push("Q"),r.stream=a.join(`
`),r},OffPushDown:function(t){var r=Wl(t);r.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kn(qt.internal.getWidth(t))+" "+kn(qt.internal.getHeight(t))+" re"),n.push("f"),r.stream=n.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(t){var r={D:{Off:qt.RadioButton.Circle.OffPushDown},N:{}};return r.N[t]=qt.RadioButton.Circle.YesNormal,r.D[t]=qt.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(t){var r=Wl(t);r.scope=t.scope;var n=[],o=qt.internal.getWidth(t)<=qt.internal.getHeight(t)?qt.internal.getWidth(t)/4:qt.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=qt.internal.Bezier_C,l=Number((o*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+qu(qt.internal.getWidth(t)/2)+" "+qu(qt.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),n.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),n.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),n.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(t){var r=Wl(t);r.scope=t.scope;var n=[],o=qt.internal.getWidth(t)<=qt.internal.getHeight(t)?qt.internal.getWidth(t)/4:qt.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),l=Number((a*qt.internal.Bezier_C).toFixed(5)),d=Number((o*qt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+qu(qt.internal.getWidth(t)/2)+" "+qu(qt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),n.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),n.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),n.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+qu(qt.internal.getWidth(t)/2)+" "+qu(qt.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+d+" "+d+" "+o+" 0 "+o+" c"),n.push("-"+d+" "+o+" -"+o+" "+d+" -"+o+" 0 c"),n.push("-"+o+" -"+d+" -"+d+" -"+o+" 0 -"+o+" c"),n.push(d+" -"+o+" "+o+" -"+d+" "+o+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},OffPushDown:function(t){var r=Wl(t);r.scope=t.scope;var n=[],o=qt.internal.getWidth(t)<=qt.internal.getHeight(t)?qt.internal.getWidth(t)/4:qt.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),l=Number((a*qt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+qu(qt.internal.getWidth(t)/2)+" "+qu(qt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),n.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),n.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),n.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r}},Cross:{createAppearanceStream:function(t){var r={D:{Off:qt.RadioButton.Cross.OffPushDown},N:{}};return r.N[t]=qt.RadioButton.Cross.YesNormal,r.D[t]=qt.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(t){var r=Wl(t);r.scope=t.scope;var n=[],o=qt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+kn(qt.internal.getWidth(t)-2)+" "+kn(qt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(kn(o.x1.x)+" "+kn(o.x1.y)+" m"),n.push(kn(o.x2.x)+" "+kn(o.x2.y)+" l"),n.push(kn(o.x4.x)+" "+kn(o.x4.y)+" m"),n.push(kn(o.x3.x)+" "+kn(o.x3.y)+" l"),n.push("s"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(t){var r=Wl(t);r.scope=t.scope;var n=qt.internal.calculateCross(t),o=[];return o.push("0.749023 g"),o.push("0 0 "+kn(qt.internal.getWidth(t))+" "+kn(qt.internal.getHeight(t))+" re"),o.push("f"),o.push("q"),o.push("1 1 "+kn(qt.internal.getWidth(t)-2)+" "+kn(qt.internal.getHeight(t)-2)+" re"),o.push("W"),o.push("n"),o.push(kn(n.x1.x)+" "+kn(n.x1.y)+" m"),o.push(kn(n.x2.x)+" "+kn(n.x2.y)+" l"),o.push(kn(n.x4.x)+" "+kn(n.x4.y)+" m"),o.push(kn(n.x3.x)+" "+kn(n.x3.y)+" l"),o.push("s"),o.push("Q"),r.stream=o.join(`
`),r},OffPushDown:function(t){var r=Wl(t);r.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kn(qt.internal.getWidth(t))+" "+kn(qt.internal.getHeight(t))+" re"),n.push("f"),r.stream=n.join(`
`),r}}},createDefaultAppearanceStream:function(t){var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+r+" "+t.fontSize+" Tf "+n}};qt.internal={Bezier_C:.551915024494,calculateCross:function(t){var r=qt.internal.getWidth(t),n=qt.internal.getHeight(t),o=Math.min(r,n);return{x1:{x:(r-o)/2,y:(n-o)/2+o},x2:{x:(r-o)/2+o,y:(n-o)/2},x3:{x:(r-o)/2,y:(n-o)/2},x4:{x:(r-o)/2+o,y:(n-o)/2+o}}}},qt.internal.getWidth=function(t){var r=0;return fr(t)==="object"&&(r=YT(t.Rect[2])),r},qt.internal.getHeight=function(t){var r=0;return fr(t)==="object"&&(r=YT(t.Rect[3])),r};var Vte=mi.addField=function(t){if(qte(this,t),!(t instanceof pl))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=t).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};mi.AcroFormChoiceField=lp,mi.AcroFormListBox=cp,mi.AcroFormComboBox=up,mi.AcroFormEditBox=wk,mi.AcroFormButton=ro,mi.AcroFormPushButton=yk,mi.AcroFormRadioButton=dp,mi.AcroFormCheckBox=vk,mi.AcroFormTextField=Ih,mi.AcroFormPasswordField=Ak,mi.AcroFormAppearance=qt,mi.AcroForm={ChoiceField:lp,ListBox:cp,ComboBox:up,EditBox:wk,Button:ro,PushButton:yk,RadioButton:dp,CheckBox:vk,TextField:Ih,PasswordField:Ak,Appearance:qt},sn.AcroForm={ChoiceField:lp,ListBox:cp,ComboBox:up,EditBox:wk,Button:ro,PushButton:yk,RadioButton:dp,CheckBox:vk,TextField:Ih,PasswordField:Ak,Appearance:qt};sn.AcroForm;function wL(t){return t.reduce(function(r,n,o){return r[n]=o,r},{})}(function(t){t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=t.__addimage__.getImageFileTypeByImageData=function(H,R){var K,j,ne,de,se,oe=r;if((R=R||r)==="RGBA"||H.data!==void 0&&H.data instanceof Uint8ClampedArray&&"height"in H&&"width"in H)return"RGBA";if($(H))for(se in n)for(ne=n[se],K=0;K<ne.length;K+=1){for(de=!0,j=0;j<ne[K].length;j+=1)if(ne[K][j]!==void 0&&ne[K][j]!==H[j]){de=!1;break}if(de===!0){oe=se;break}}else for(se in n)for(ne=n[se],K=0;K<ne.length;K+=1){for(de=!0,j=0;j<ne[K].length;j+=1)if(ne[K][j]!==void 0&&ne[K][j]!==H.charCodeAt(j)){de=!1;break}if(de===!0){oe=se;break}}return oe===r&&R!==r&&(oe=R),oe},a=function H(R){for(var K=this.internal.write,j=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:R.width}),de.push({key:"Height",value:R.height}),R.colorSpace===D.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===D.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var se="",oe=0,ye=R.transparency.length;oe<ye;oe++)se+=R.transparency[oe]+" "+R.transparency[oe]+" ";de.push({key:"Mask",value:"["+se+"]"})}R.sMask!==void 0&&de.push({key:"SMask",value:R.objectId+1+" 0 R"});var re=R.filter!==void 0?["/"+R.filter]:void 0;if(j({data:R.data,additionalKeyValues:de,alreadyAppliedFilters:re,objectId:R.objectId}),K("endobj"),"sMask"in R&&R.sMask!==void 0){var _e="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,X={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:_e,data:R.sMask};"filter"in R&&(X.filter=R.filter),H.call(this,X)}if(R.colorSpace===D.INDEXED){var J=this.internal.newObject();j({data:B(new Uint8Array(R.palette)),objectId:J}),K("endobj")}},l=function(){var H=this.internal.collections.addImage_images;for(var R in H)a.call(this,H[R])},d=function(){var H,R=this.internal.collections.addImage_images,K=this.internal.write;for(var j in R)K("/I"+(H=R[j]).index,H.objectId,"0","R")},h=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",d))},p=function(){var H=this.internal.collections.addImage_images;return h.call(this),H},g=function(){return Object.keys(this.internal.collections.addImage_images).length},b=function(H){return typeof t["process"+H.toUpperCase()]=="function"},v=function(H){return fr(H)==="object"&&H.nodeType===1},y=function(H,R){if(H.nodeName==="IMG"&&H.hasAttribute("src")){var K=""+H.getAttribute("src");if(K.indexOf("data:image/")===0)return gg(unescape(K).split("base64,").pop());var j=t.loadFile(K,!0);if(j!==void 0)return j}if(H.nodeName==="CANVAS"){if(H.width===0||H.height===0)throw new Error("Given canvas must have data. Canvas width: "+H.width+", height: "+H.height);var ne;switch(R){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;case"JPEG":case"JPG":default:ne="image/jpeg"}return gg(H.toDataURL(ne,1).split("base64,").pop())}},k=function(H){var R=this.internal.collections.addImage_images;if(R){for(var K in R)if(H===R[K].alias)return R[K]}},x=function(H,R,K){return H||R||(H=-96,R=-96),H<0&&(H=-1*K.width*72/H/this.internal.scaleFactor),R<0&&(R=-1*K.height*72/R/this.internal.scaleFactor),H===0&&(H=R*K.width/K.height),R===0&&(R=H*K.height/K.width),[H,R]},_=function(H,R,K,j,ne,de){var se=x.call(this,K,j,ne),oe=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,re=p.call(this);if(K=se[0],j=se[1],re[ne.index]=ne,de){de*=Math.PI/180;var _e=Math.cos(de),X=Math.sin(de),J=function(pe){return pe.toFixed(4)},ae=[J(_e),J(X),J(-1*X),J(_e),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,oe(H),ye(R+j),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([oe(K),"0","0",oe(j),"0","0","cm"].join(" "))):this.internal.write([oe(K),"0","0",oe(j),oe(H),ye(R+j),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},D=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=t.__addimage__.sHashCode=function(H){var R,K,j=0;if(typeof H=="string")for(K=H.length,R=0;R<K;R++)j=(j<<5)-j+H.charCodeAt(R),j|=0;else if($(H))for(K=H.byteLength/2,R=0;R<K;R++)j=(j<<5)-j+H[R],j|=0;return j},P=t.__addimage__.validateStringAsBase64=function(H){(H=H||"").toString().trim();var R=!0;return H.length===0&&(R=!1),H.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(H.substr(0,H.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(H.substr(-2))===!1&&(R=!1),R},F=t.__addimage__.extractImageFromDataUrl=function(H){if(H==null||!(H=H.trim()).startsWith("data:"))return null;var R=H.indexOf(",");return R<0?null:H.substring(0,R).trim().endsWith("base64")?H.substring(R+1):null},V=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(H){return V()&&H instanceof ArrayBuffer};var $=t.__addimage__.isArrayBufferView=function(H){return V()&&typeof Uint32Array<"u"&&(H instanceof Int8Array||H instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&H instanceof Uint8ClampedArray||H instanceof Int16Array||H instanceof Uint16Array||H instanceof Int32Array||H instanceof Uint32Array||H instanceof Float32Array||H instanceof Float64Array)},M=t.__addimage__.binaryStringToUint8Array=function(H){for(var R=H.length,K=new Uint8Array(R),j=0;j<R;j++)K[j]=H.charCodeAt(j);return K},B=t.__addimage__.arrayBufferToBinaryString=function(H){for(var R="",K=$(H)?H:new Uint8Array(H),j=0;j<K.length;j+=8192)R+=String.fromCharCode.apply(null,K.subarray(j,j+8192));return R};t.addImage=function(){var H,R,K,j,ne,de,se,oe,ye;if(typeof arguments[1]=="number"?(R=r,K=arguments[1],j=arguments[2],ne=arguments[3],de=arguments[4],se=arguments[5],oe=arguments[6],ye=arguments[7]):(R=arguments[1],K=arguments[2],j=arguments[3],ne=arguments[4],de=arguments[5],se=arguments[6],oe=arguments[7],ye=arguments[8]),fr(H=arguments[0])==="object"&&!v(H)&&"imageData"in H){var re=H;H=re.imageData,R=re.format||R||r,K=re.x||K||0,j=re.y||j||0,ne=re.w||re.width||ne,de=re.h||re.height||de,se=re.alias||se,oe=re.compression||oe,ye=re.rotation||re.angle||ye}var _e=this.internal.getFilters();if(oe===void 0&&_e.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN(K)||isNaN(j))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var X=q.call(this,H,R,se,oe);return _.call(this,K,j,ne,de,X,ye),this};var q=function(H,R,K,j){var ne,de,se;if(typeof H=="string"&&o(H)===r){H=unescape(H);var oe=Q(H,!1);(oe!==""||(oe=t.loadFile(H,!0))!==void 0)&&(H=oe)}if(v(H)&&(H=y(H,R)),R=o(H,R),!b(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((se=K)==null||se.length===0)&&(K=function(ye){return typeof ye=="string"||$(ye)?N(ye):$(ye.data)?N(ye.data):null}(H)),(ne=k.call(this,K))||(V()&&(H instanceof Uint8Array||R==="RGBA"||(de=H,H=M(H))),ne=this["process"+R.toUpperCase()](H,g.call(this),K,function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in t.image_compression?ye:E.NONE}(j),de)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},Q=t.__addimage__.convertBase64ToBinaryString=function(H,R){R=typeof R!="boolean"||R;var K,j="";if(typeof H=="string"){var ne;K=(ne=F(H))!==null&&ne!==void 0?ne:H;try{j=gg(K)}catch(de){if(R)throw P(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return j};t.getImageProperties=function(H){var R,K,j="";if(v(H)&&(H=y(H)),typeof H=="string"&&o(H)===r&&((j=Q(H,!1))===""&&(j=t.loadFile(H)||""),H=j),K=o(H),!b(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(!V()||H instanceof Uint8Array||(H=M(H)),!(R=this["process"+K.toUpperCase()](H)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=K,R}})(sn.API),function(t){var r=function(n){if(n!==void 0&&n!="")return!0};sn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var o,a,l,d=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,p=this.internal.getPageInfoByObjId(n.objId),g=n.pageContext.annotations,b=!1,v=0;v<g.length&&!b;v++)switch((o=g[v]).type){case"link":(r(o.options.url)||r(o.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(b!=0){this.internal.write("/Annots [");for(var y=0;y<g.length;y++){o=g[y];var k=this.internal.pdfEscape,x=this.internal.getEncryptor(n.objId);switch(o.type){case"reference":this.internal.write(" "+o.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),D=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(_.objId),N=o.title||"Note";l="<</Type /Annot /Subtype /Text "+(a="/Rect ["+d(o.bounds.x)+" "+h(o.bounds.y+o.bounds.h)+" "+d(o.bounds.x+o.bounds.w)+" "+h(o.bounds.y)+"] ")+"/Contents ("+k(E(o.contents))+")",l+=" /Popup "+D.objId+" 0 R",l+=" /P "+p.objId+" 0 R",l+=" /T ("+k(E(N))+") >>",_.content=l;var P=_.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+d(o.bounds.x+30)+" "+h(o.bounds.y+o.bounds.h)+" "+d(o.bounds.x+o.bounds.w+30)+" "+h(o.bounds.y)+"] ")+" /Parent "+P,o.open&&(l+=" /Open true"),l+=" >>",D.content=l,this.internal.write(_.objId,"0 R",D.objId,"0 R");break;case"freetext":a="/Rect ["+d(o.bounds.x)+" "+h(o.bounds.y)+" "+d(o.bounds.x+o.bounds.w)+" "+h(o.bounds.y+o.bounds.h)+"] ";var F=o.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+k(x(o.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(o.options.name){var V=this.annotations._nameMap[o.options.name];o.options.pageNumber=V.page,o.options.top=V.y}else o.options.top||(o.options.top=0);if(a="/Rect ["+o.finalBounds.x+" "+o.finalBounds.y+" "+o.finalBounds.w+" "+o.finalBounds.h+"] ",l="",o.options.url)l="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+k(x(o.options.url))+") >>";else if(o.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(o.options.pageNumber).objId+" 0 R",o.options.magFactor=o.options.magFactor||"XYZ",o.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+o.options.top+"]";break;case"FitV":o.options.left=o.options.left||0,l+=" /FitV "+o.options.left+"]";break;case"XYZ":default:var $=h(o.options.top);o.options.left=o.options.left||0,o.options.zoom===void 0&&(o.options.zoom=0),l+=" /XYZ "+o.options.left+" "+$+" "+o.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var o=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":o.pageContext.annotations.push(n)}},t.link=function(n,o,a,l,d){var h=this.internal.getCurrentPageInfo(),p=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:p(n),y:g(o),w:p(n+a),h:g(o+l)},options:d,type:"link"})},t.textWithLink=function(n,o,a,l){var d,h,p=this.getTextWidth(n),g=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){h=l.maxWidth;var b=this.splitTextToSize(n,h).length;d=Math.ceil(g*b)}else h=p,d=g;return this.text(n,o,a,l),a+=.2*g,l.align==="center"&&(o-=p/2),l.align==="right"&&(o-=p),this.link(o,a-g,h,d,l),p},t.getTextWidth=function(n){var o=this.internal.getFontSize();return this.getStringUnitWidth(n)*o/this.internal.scaleFactor}}(sn.API),function(t){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},o={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var l=t.__arabicParser__.isInArabicSubstitutionA=function(_){return r[_.charCodeAt(0)]!==void 0},d=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},h=t.__arabicParser__.isArabicEndLetter=function(_){return d(_)&&l(_)&&r[_.charCodeAt(0)].length<=2},p=t.__arabicParser__.isArabicAlfLetter=function(_){return d(_)&&a.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return d(_)&&l(_)&&r[_.charCodeAt(0)].length>=1};var g=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return d(_)&&l(_)&&r[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return d(_)&&l(_)&&r[_.charCodeAt(0)].length>=3};var b=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return d(_)&&l(_)&&r[_.charCodeAt(0)].length==4},v=t.__arabicParser__.resolveLigatures=function(_){var D=0,E=n,N="",P=0;for(D=0;D<_.length;D+=1)E[_.charCodeAt(D)]!==void 0?(P++,typeof(E=E[_.charCodeAt(D)])=="number"&&(N+=String.fromCharCode(E),E=n,P=0),D===_.length-1&&(E=n,N+=_.charAt(D-(P-1)),D-=P-1,P=0)):(E=n,N+=_.charAt(D-P),D-=P,P=0);return N};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&o[_.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(_,D,E){return d(_)?l(_)===!1?-1:!g(_)||!d(D)&&!d(E)||!d(E)&&h(D)||h(_)&&!d(D)||h(_)&&p(D)||h(_)&&h(D)?0:b(_)&&d(D)&&!h(D)&&d(E)&&g(E)?3:h(_)||!d(E)?1:2:-1},k=function(_){var D=0,E=0,N=0,P="",F="",V="",$=(_=_||"").split("\\s+"),M=[];for(D=0;D<$.length;D+=1){for(M.push(""),E=0;E<$[D].length;E+=1)P=$[D][E],F=$[D][E-1],V=$[D][E+1],d(P)?(N=y(P,F,V),M[D]+=N!==-1?String.fromCharCode(r[P.charCodeAt(0)][N]):P):M[D]+=P;M[D]=v(M[D])}return M.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var _,D=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(D)){var N=0;for(E=[],N=0;N<D.length;N+=1)Array.isArray(D[N])?E.push([k(D[N][0]),D[N][1],D[N][2]]):E.push([k(D[N])]);_=E}else _=k(D);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",x])}(sn.API),sn.API.autoPrint=function(t){var r;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})}return this},function(t){var r=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(h){n=h}});var o=150;Object.defineProperty(this,"width",{get:function(){return o},set:function(h){o=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=o+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(h){l=h}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(h){d=h}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(n,o){var a;if((n=n||"2d")!=="2d")return null;for(a in o)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=o[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])}(sn.API),function(t){var r={left:0,top:0,bottom:0,right:0},n=!1,o=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var p=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var g=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(_){b=_}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(_){v=_}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var k=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return k},set:function(_){k=_}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(_){x=_}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(p){return o.call(this),this.internal.__cell__.headerFunction=typeof p=="function"?p:void 0,this},t.getTextDimensions=function(p,g){o.call(this);var b=(g=g||{}).fontSize||this.getFontSize(),v=g.font||this.getFont(),y=g.scaleFactor||this.internal.scaleFactor,k=0,x=0,_=0,D=this;if(!Array.isArray(p)&&typeof p!="string"){if(typeof p!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");p=String(p)}var E=g.maxWidth;E>0?typeof p=="string"?p=this.splitTextToSize(p,E):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(P,F){return P.concat(D.splitTextToSize(F,E))},[])):p=Array.isArray(p)?p:[p];for(var N=0;N<p.length;N++)k<(_=this.getStringUnitWidth(p[N],{font:v})*b)&&(k=_);return k!==0&&(x=p.length),{w:k/=y,h:Math.max((x*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){o.call(this),this.addPage();var p=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new l(p.left,p.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=t.cell=function(){var p;p=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),o.call(this);var g=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,v=this.internal.__cell__.margins||r,y=this.internal.__cell__.tableHeaderRow,k=this.internal.__cell__.printHeaders;return g.lineNumber!==void 0&&(g.lineNumber===p.lineNumber?(p.x=(g.x||0)+(g.width||0),p.y=g.y||0):g.y+g.height+p.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),p.y=v.top,k&&y&&(this.printHeaderRow(p.lineNumber,!0),p.y+=y[0].height)):p.y=g.y+g.height||p.y),p.text[0]!==void 0&&(this.rect(p.x,p.y,p.width,p.height,n===!0?"FD":void 0),p.align==="right"?this.text(p.text,p.x+p.width-b,p.y+b,{align:"right",baseline:"top"}):p.align==="center"?this.text(p.text,p.x+p.width/2,p.y+b,{align:"center",baseline:"top",maxWidth:p.width-b-b}):this.text(p.text,p.x+b,p.y+b,{align:"left",baseline:"top",maxWidth:p.width-b-b})),this.internal.__cell__.lastCell=p,this};t.table=function(p,g,b,v,y){if(o.call(this),!b)throw new Error("No data for PDF table.");var k,x,_,D,E=[],N=[],P=[],F={},V={},$=[],M=[],B=(y=y||{}).autoSize||!1,q=y.printHeaders!==!1,Q=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,H=y.margins||Object.assign({width:this.getPageWidth()},r),R=typeof y.padding=="number"?y.padding:3,K=y.headerBackgroundColor||"#c8c8c8",j=y.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=H,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=j,this.setFontSize(Q),v==null)N=E=Object.keys(b[0]),P=E.map(function(){return"left"});else if(Array.isArray(v)&&fr(v[0])==="object")for(E=v.map(function(re){return re.name}),N=v.map(function(re){return re.prompt||re.name||""}),P=v.map(function(re){return re.align||"left"}),k=0;k<v.length;k+=1)V[v[k].name]=v[k].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(N=E=v,P=E.map(function(){return"left"}));if(B||Array.isArray(v)&&typeof v[0]=="string")for(k=0;k<E.length;k+=1){for(F[D=E[k]]=b.map(function(re){return re[D]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(N[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=F[D],this.setFont(void 0,"normal"),_=0;_<x.length;_+=1)$.push(this.getTextDimensions(x[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[D]=Math.max.apply(null,$)+R+R,$=[]}if(q){var ne={};for(k=0;k<E.length;k+=1)ne[E[k]]={},ne[E[k]].text=N[k],ne[E[k]].align=P[k];var de=h.call(this,ne,V);M=E.map(function(re){return new l(p,g,V[re],de,ne[re].text,void 0,ne[re].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var se=v.reduce(function(re,_e){return re[_e.name]=_e.align,re},{});for(k=0;k<b.length;k+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:k,data:b[k]},this);var oe=h.call(this,b[k],V);for(_=0;_<E.length;_+=1){var ye=b[k][E[_]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:k,col:_,data:ye},this),d.call(this,new l(p,g,V[E[_]],oe,ye,k+2,se[E[_]]))}}return this.internal.__cell__.table_x=p,this.internal.__cell__.table_y=g,this};var h=function(p,g){var b=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(p).map(function(k){var x=p[k];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,g[k]-b-b)},this).map(function(k){return this.getLineHeightFactor()*k.length*v/y+b+b},this).reduce(function(k,x){return Math.max(k,x)},0)};t.setTableHeaderRow=function(p){o.call(this),this.internal.__cell__.tableHeaderRow=p},t.printHeaderRow=function(p,g){if(o.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],k=0;k<this.internal.__cell__.tableHeaderRow.length;k+=1){b=this.internal.__cell__.tableHeaderRow[k].clone(),g&&(b.y=this.internal.__cell__.margins.top||0,y.push(b)),b.lineNumber=p;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,b),this.setTextColor(x)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}}(sn.API);var yL={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ZA=wL(vL),AL=[100,200,300,400,500,600,700,800,900],$te=wL(AL);function XA(t){var r=t.family.replace(/"|'/g,"").toLowerCase(),n=function(l){return yL[l=l||"normal"]?l:"normal"}(t.style),o=function(l){if(!l)return 400;if(typeof l=="number")return l>=100&&l<=900&&l%100==0?l:400;if(/^\d00$/.test(l))return parseInt(l);switch(l){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(l){return typeof ZA[l=l||"normal"]=="number"?l:"normal"}(t.stretch);return{family:r,style:n,weight:o,stretch:a,src:t.src||[],ref:t.ref||{name:r,style:[a,n,o].join(" ")}}}function KT(t,r,n,o){var a;for(a=n;a>=0&&a<r.length;a+=o)if(t[r[a]])return t[r[a]];for(a=n;a>=0&&a<r.length;a-=o)if(t[r[a]])return t[r[a]]}var Hte={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},QT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function JT(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Wte(t,r,n){for(var o=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},Hte,n.genericFontFamilies||{}),l=null,d=null,h=0;h<r.length;++h)if(a[(l=XA(r[h])).family]&&(l.family=a[l.family]),t.hasOwnProperty(l.family)){d=t[l.family];break}if(!(d=d||t[o]))throw new Error("Could not find a font-family for the rule '"+JT(l)+"' and default family '"+o+"'.");if(d=function(p,g){if(g[p])return g[p];var b=ZA[p],v=b<=ZA.normal?-1:1,y=KT(g,vL,b,v);if(!y)throw new Error("Could not find a matching font-stretch value for "+p);return y}(l.stretch,d),d=function(p,g){if(g[p])return g[p];for(var b=yL[p],v=0;v<b.length;++v)if(g[b[v]])return g[b[v]];throw new Error("Could not find a matching font-style for "+p)}(l.style,d),!(d=function(p,g){if(g[p])return g[p];if(p===400&&g[500])return g[500];if(p===500&&g[400])return g[400];var b=$te[p],v=KT(g,AL,b,p<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+p);return v}(l.weight,d)))throw new Error("Failed to resolve a font for the rule '"+JT(l)+"'.");return d}function ZT(t){return t.trimLeft()}function Gte(t,r){for(var n=0;n<t.length;){if(t.charAt(n)===r)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Yte(t){var r=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],t.substring(r[0].length)]}var Z0,XT,e6,qv=["times"];(function(t){var r,n,o,a,l,d,h,p,g,b=function(X){return X=X||{},this.isStrokeTransparent=X.isStrokeTransparent||!1,this.strokeOpacity=X.strokeOpacity||1,this.strokeStyle=X.strokeStyle||"#000000",this.fillStyle=X.fillStyle||"#000000",this.isFillTransparent=X.isFillTransparent||!1,this.fillOpacity=X.fillOpacity||1,this.font=X.font||"10px sans-serif",this.textBaseline=X.textBaseline||"alphabetic",this.textAlign=X.textAlign||"left",this.lineWidth=X.lineWidth||1,this.lineJoin=X.lineJoin||"miter",this.lineCap=X.lineCap||"butt",this.path=X.path||[],this.transform=X.transform!==void 0?X.transform.clone():new p,this.globalCompositeOperation=X.globalCompositeOperation||"normal",this.globalAlpha=X.globalAlpha||1,this.clip_path=X.clip_path||[],this.currentPoint=X.currentPoint||new d,this.miterLimit=X.miterLimit||10,this.lastPoint=X.lastPoint||new d,this.lineDashOffset=X.lineDashOffset||0,this.lineDash=X.lineDash||[],this.margin=X.margin||[0,0,0,0],this.prevPageLastElemOffset=X.prevPageLastElemOffset||0,this.ignoreClearRect=typeof X.ignoreClearRect!="boolean"||X.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new v(this),r=this.internal.f2,n=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,d=this.internal.Point,h=this.internal.Rectangle,p=this.internal.Matrix,g=new b}]);var v=function(X){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=X;Object.defineProperty(this,"pdf",{get:function(){return J}});var ae=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ae},set:function(Ce){ae=!!Ce}});var pe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return pe},set:function(Ce){pe=!!Ce}});var we=0;Object.defineProperty(this,"posX",{get:function(){return we},set:function(Ce){isNaN(Ce)||(we=Ce)}});var Pe=0;Object.defineProperty(this,"posY",{get:function(){return Pe},set:function(Ce){isNaN(Ce)||(Pe=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return g.margin},set:function(Ce){var ue;typeof Ce=="number"?ue=[Ce,Ce,Ce,Ce]:((ue=new Array(4))[0]=Ce[0],ue[1]=Ce.length>=2?Ce[1]:ue[0],ue[2]=Ce.length>=3?Ce[2]:ue[0],ue[3]=Ce.length>=4?Ce[3]:ue[1]),g.margin=ue}});var Ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ie},set:function(Ce){Ie=Ce}});var Ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ne},set:function(Ce){Ne=Ce}});var rt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return rt},set:function(Ce){rt=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return g},set:function(Ce){Ce instanceof b&&(g=Ce)}}),Object.defineProperty(this,"path",{get:function(){return g.path},set:function(Ce){g.path=Ce}});var Qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Qe},set:function(Ce){Qe=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var ue;ue=y(Ce),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var ue=y(Ce);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var Je=null;function Ue(Ce,ue){if(Je===null){var ge=function(he){var Ae=[];return Object.keys(he).forEach(function(Me){he[Me].forEach(function(Te){var Ee=null;switch(Te){case"bold":Ee={family:Me,weight:"bold"};break;case"italic":Ee={family:Me,style:"italic"};break;case"bolditalic":Ee={family:Me,weight:"bold",style:"italic"};break;case"":case"normal":Ee={family:Me}}Ee!==null&&(Ee.ref={name:Me,style:Te},Ae.push(Ee))})}),Ae}(Ce.getFontList());Je=function(he){for(var Ae={},Me=0;Me<he.length;++Me){var Te=XA(he[Me]),Ee=Te.family,qe=Te.stretch,Ve=Te.style,He=Te.weight;Ae[Ee]=Ae[Ee]||{},Ae[Ee][qe]=Ae[Ee][qe]||{},Ae[Ee][qe][Ve]=Ae[Ee][qe][Ve]||{},Ae[Ee][qe][Ve][He]=Te}return Ae}(ge.concat(ue))}return Je}var Z=null;Object.defineProperty(this,"fontFaces",{get:function(){return Z},set:function(Ce){Je=null,Z=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var ue;if(this.ctx.font=Ce,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var ge=ue[1];ue[2];var he=ue[3],Ae=ue[4];ue[5];var Me=ue[6],Te=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ae)[2];Ae=Math.floor(Te==="px"?parseFloat(Ae)*this.pdf.internal.scaleFactor:Te==="em"?parseFloat(Ae)*this.pdf.getFontSize():parseFloat(Ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ae);var Ee=function(Ke){var At,ht,on=[],pt=Ke.trim();if(pt==="")return qv;if(pt in QT)return[QT[pt]];for(;pt!=="";){switch(ht=null,At=(pt=ZT(pt)).charAt(0)){case'"':case"'":ht=Gte(pt.substring(1),At);break;default:ht=Yte(pt)}if(ht===null||(on.push(ht[0]),(pt=ZT(ht[1]))!==""&&pt.charAt(0)!==","))return qv;pt=pt.replace(/^,/,"")}return on}(Me);if(this.fontFaces){var qe=Wte(Ue(this.pdf,this.fontFaces),Ee.map(function(Ke){return{family:Ke,stretch:"normal",weight:he,style:ge}}));this.pdf.setFont(qe.ref.name,qe.ref.style)}else{var Ve="";(he==="bold"||parseInt(he,10)>=700||ge==="bold")&&(Ve="bold"),ge==="italic"&&(Ve+="italic"),Ve.length===0&&(Ve="normal");for(var He="",st={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Fe=0;Fe<Ee.length;Fe++){if(this.pdf.internal.getFont(Ee[Fe],Ve,{noFallback:!0,disableWarning:!0})!==void 0){He=Ee[Fe];break}if(Ve==="bolditalic"&&this.pdf.internal.getFont(Ee[Fe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)He=Ee[Fe],Ve="bold";else if(this.pdf.internal.getFont(Ee[Fe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){He=Ee[Fe],Ve="normal";break}}if(He===""){for(var Ye=0;Ye<Ee.length;Ye++)if(st[Ee[Ye]]){He=st[Ee[Ye]];break}}He=He===""?"Times":He,this.pdf.setFont(He,Ve)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,_e.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,_e.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};v.prototype.setLineDash=function(X){this.lineDash=X},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){F.call(this,"fill",!1)},v.prototype.stroke=function(){F.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(X,J){if(isNaN(X)||isNaN(J))throw Cr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ae=this.ctx.transform.applyToPoint(new d(X,J));this.path.push({type:"mt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new d(X,J)},v.prototype.closePath=function(){var X=new d(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&fr(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){X=new d(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(X.x,X.y)},v.prototype.lineTo=function(X,J){if(isNaN(X)||isNaN(J))throw Cr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ae=this.ctx.transform.applyToPoint(new d(X,J));this.path.push({type:"lt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new d(ae.x,ae.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},v.prototype.quadraticCurveTo=function(X,J,ae,pe){if(isNaN(ae)||isNaN(pe)||isNaN(X)||isNaN(J))throw Cr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var we=this.ctx.transform.applyToPoint(new d(ae,pe)),Pe=this.ctx.transform.applyToPoint(new d(X,J));this.path.push({type:"qct",x1:Pe.x,y1:Pe.y,x:we.x,y:we.y}),this.ctx.lastPoint=new d(we.x,we.y)},v.prototype.bezierCurveTo=function(X,J,ae,pe,we,Pe){if(isNaN(we)||isNaN(Pe)||isNaN(X)||isNaN(J)||isNaN(ae)||isNaN(pe))throw Cr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ie=this.ctx.transform.applyToPoint(new d(we,Pe)),Ne=this.ctx.transform.applyToPoint(new d(X,J)),rt=this.ctx.transform.applyToPoint(new d(ae,pe));this.path.push({type:"bct",x1:Ne.x,y1:Ne.y,x2:rt.x,y2:rt.y,x:Ie.x,y:Ie.y}),this.ctx.lastPoint=new d(Ie.x,Ie.y)},v.prototype.arc=function(X,J,ae,pe,we,Pe){if(isNaN(X)||isNaN(J)||isNaN(ae)||isNaN(pe)||isNaN(we))throw Cr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Pe=!!Pe,!this.ctx.transform.isIdentity){var Ie=this.ctx.transform.applyToPoint(new d(X,J));X=Ie.x,J=Ie.y;var Ne=this.ctx.transform.applyToPoint(new d(0,ae)),rt=this.ctx.transform.applyToPoint(new d(0,0));ae=Math.sqrt(Math.pow(Ne.x-rt.x,2)+Math.pow(Ne.y-rt.y,2))}Math.abs(we-pe)>=2*Math.PI&&(pe=0,we=2*Math.PI),this.path.push({type:"arc",x:X,y:J,radius:ae,startAngle:pe,endAngle:we,counterclockwise:Pe})},v.prototype.arcTo=function(X,J,ae,pe,we){throw new Error("arcTo not implemented.")},v.prototype.rect=function(X,J,ae,pe){if(isNaN(X)||isNaN(J)||isNaN(ae)||isNaN(pe))throw Cr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(X,J),this.lineTo(X+ae,J),this.lineTo(X+ae,J+pe),this.lineTo(X,J+pe),this.lineTo(X,J),this.lineTo(X+ae,J),this.lineTo(X,J)},v.prototype.fillRect=function(X,J,ae,pe){if(isNaN(X)||isNaN(J)||isNaN(ae)||isNaN(pe))throw Cr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!k.call(this)){var we={};this.lineCap!=="butt"&&(we.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(we.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(X,J,ae,pe),this.fill(),we.hasOwnProperty("lineCap")&&(this.lineCap=we.lineCap),we.hasOwnProperty("lineJoin")&&(this.lineJoin=we.lineJoin)}},v.prototype.strokeRect=function(X,J,ae,pe){if(isNaN(X)||isNaN(J)||isNaN(ae)||isNaN(pe))throw Cr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(X,J,ae,pe),this.stroke())},v.prototype.clearRect=function(X,J,ae,pe){if(isNaN(X)||isNaN(J)||isNaN(ae)||isNaN(pe))throw Cr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(X,J,ae,pe))},v.prototype.save=function(X){X=typeof X!="boolean"||X;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),X){this.ctx.fontSize=this.pdf.internal.getFontSize();var pe=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=pe}},v.prototype.restore=function(X){X=typeof X!="boolean"||X;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("Q");this.pdf.setPage(J),X&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(X){var J,ae,pe,we;if(X.isCanvasGradient===!0&&(X=X.getColor()),!X)return{r:0,g:0,b:0,a:0,style:X};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(X))J=0,ae=0,pe=0,we=0;else{var Pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(X);if(Pe!==null)J=parseInt(Pe[1]),ae=parseInt(Pe[2]),pe=parseInt(Pe[3]),we=1;else if((Pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(X))!==null)J=parseInt(Pe[1]),ae=parseInt(Pe[2]),pe=parseInt(Pe[3]),we=parseFloat(Pe[4]);else{if(we=1,typeof X=="string"&&X.charAt(0)!=="#"){var Ie=new fL(X);X=Ie.ok?Ie.toHex():"#000000"}X.length===4?(J=X.substring(1,2),J+=J,ae=X.substring(2,3),ae+=ae,pe=X.substring(3,4),pe+=pe):(J=X.substring(1,3),ae=X.substring(3,5),pe=X.substring(5,7)),J=parseInt(J,16),ae=parseInt(ae,16),pe=parseInt(pe,16)}}return{r:J,g:ae,b:pe,a:we,style:X}},k=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(X,J,ae,pe){if(isNaN(J)||isNaN(ae)||typeof X!="string")throw Cr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(pe=isNaN(pe)?void 0:pe,!k.call(this)){var we=oe(this.ctx.transform.rotation),Pe=this.ctx.transform.scaleX;R.call(this,{text:X,x:J,y:ae,scale:Pe,angle:we,align:this.textAlign,maxWidth:pe})}},v.prototype.strokeText=function(X,J,ae,pe){if(isNaN(J)||isNaN(ae)||typeof X!="string")throw Cr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){pe=isNaN(pe)?void 0:pe;var we=oe(this.ctx.transform.rotation),Pe=this.ctx.transform.scaleX;R.call(this,{text:X,x:J,y:ae,scale:Pe,renderingMode:"stroke",angle:we,align:this.textAlign,maxWidth:pe})}},v.prototype.measureText=function(X){if(typeof X!="string")throw Cr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,ae=this.pdf.internal.scaleFactor,pe=J.internal.getFontSize(),we=J.getStringUnitWidth(X)*pe/J.internal.scaleFactor,Pe=function(Ie){var Ne=(Ie=Ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this};return new Pe({width:we*=Math.round(96*ae/72*1e4)/1e4})},v.prototype.scale=function(X,J){if(isNaN(X)||isNaN(J))throw Cr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ae=new p(X,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},v.prototype.rotate=function(X){if(isNaN(X))throw Cr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new p(Math.cos(X),Math.sin(X),-Math.sin(X),Math.cos(X),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},v.prototype.translate=function(X,J){if(isNaN(X)||isNaN(J))throw Cr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ae=new p(1,0,0,1,X,J);this.ctx.transform=this.ctx.transform.multiply(ae)},v.prototype.transform=function(X,J,ae,pe,we,Pe){if(isNaN(X)||isNaN(J)||isNaN(ae)||isNaN(pe)||isNaN(we)||isNaN(Pe))throw Cr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ie=new p(X,J,ae,pe,we,Pe);this.ctx.transform=this.ctx.transform.multiply(Ie)},v.prototype.setTransform=function(X,J,ae,pe,we,Pe){X=isNaN(X)?1:X,J=isNaN(J)?0:J,ae=isNaN(ae)?0:ae,pe=isNaN(pe)?1:pe,we=isNaN(we)?0:we,Pe=isNaN(Pe)?0:Pe,this.ctx.transform=new p(X,J,ae,pe,we,Pe)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(X,J,ae,pe,we,Pe,Ie,Ne,rt){var Qe=this.pdf.getImageProperties(X),Je=1,Ue=1,Z=1,Ce=1;pe!==void 0&&Ne!==void 0&&(Z=Ne/pe,Ce=rt/we,Je=Qe.width/pe*Ne/pe,Ue=Qe.height/we*rt/we),Pe===void 0&&(Pe=J,Ie=ae,J=0,ae=0),pe!==void 0&&Ne===void 0&&(Ne=pe,rt=we),pe===void 0&&Ne===void 0&&(Ne=Qe.width,rt=Qe.height);for(var ue,ge=this.ctx.transform.decompose(),he=oe(ge.rotate.shx),Ae=new p,Me=(Ae=(Ae=(Ae=Ae.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale)).applyToRectangle(new h(Pe-J*Z,Ie-ae*Ce,pe*Je,we*Ue)),Te=D.call(this,Me),Ee=[],qe=0;qe<Te.length;qe+=1)Ee.indexOf(Te[qe])===-1&&Ee.push(Te[qe]);if(P(Ee),this.autoPaging)for(var Ve=Ee[0],He=Ee[Ee.length-1],st=Ve;st<He+1;st++){this.pdf.setPage(st);var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=st===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=st===1?0:Ke+(st-2)*At;if(this.ctx.clip_path.length!==0){var on=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(ue,this.posX+this.margin[3],-ht+Ye+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=on}var pt=JSON.parse(JSON.stringify(Me));pt=N([pt],this.posX+this.margin[3],-ht+Ye+this.ctx.prevPageLastElemOffset)[0];var Vt=(st>Ve||st<He)&&_.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,At,null).clip().discardPath()),this.pdf.addImage(X,"JPEG",pt.x,pt.y,pt.w,pt.h,null,null,he),Vt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(X,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,he)};var D=function(X,J,ae){var pe=[];J=J||this.pdf.internal.pageSize.width,ae=ae||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var we=this.posY+this.ctx.prevPageLastElemOffset;switch(X.type){default:case"mt":case"lt":pe.push(Math.floor((X.y+we)/ae)+1);break;case"arc":pe.push(Math.floor((X.y+we-X.radius)/ae)+1),pe.push(Math.floor((X.y+we+X.radius)/ae)+1);break;case"qct":var Pe=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,X.x1,X.y1,X.x,X.y);pe.push(Math.floor((Pe.y+we)/ae)+1),pe.push(Math.floor((Pe.y+Pe.h+we)/ae)+1);break;case"bct":var Ie=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,X.x1,X.y1,X.x2,X.y2,X.x,X.y);pe.push(Math.floor((Ie.y+we)/ae)+1),pe.push(Math.floor((Ie.y+Ie.h+we)/ae)+1);break;case"rect":pe.push(Math.floor((X.y+we)/ae)+1),pe.push(Math.floor((X.y+X.h+we)/ae)+1)}for(var Ne=0;Ne<pe.length;Ne+=1)for(;this.pdf.internal.getNumberOfPages()<pe[Ne];)E.call(this);return pe},E=function(){var X=this.fillStyle,J=this.strokeStyle,ae=this.font,pe=this.lineCap,we=this.lineWidth,Pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=X,this.strokeStyle=J,this.font=ae,this.lineCap=pe,this.lineWidth=we,this.lineJoin=Pe},N=function(X,J,ae){for(var pe=0;pe<X.length;pe++)switch(X[pe].type){case"bct":X[pe].x2+=J,X[pe].y2+=ae;case"qct":X[pe].x1+=J,X[pe].y1+=ae;case"mt":case"lt":case"arc":default:X[pe].x+=J,X[pe].y+=ae}return X},P=function(X){return X.sort(function(J,ae){return J-ae})},F=function(X,J){for(var ae,pe,we=this.fillStyle,Pe=this.strokeStyle,Ie=this.lineCap,Ne=this.lineWidth,rt=Math.abs(Ne*this.ctx.transform.scaleX),Qe=this.lineJoin,Je=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),Z=[],Ce=0;Ce<Ue.length;Ce++)if(Ue[Ce].x!==void 0)for(var ue=D.call(this,Ue[Ce]),ge=0;ge<ue.length;ge+=1)Z.indexOf(ue[ge])===-1&&Z.push(ue[ge]);for(var he=0;he<Z.length;he++)for(;this.pdf.internal.getNumberOfPages()<Z[he];)E.call(this);if(P(Z),this.autoPaging)for(var Ae=Z[0],Me=Z[Z.length-1],Te=Ae;Te<Me+1;Te++){this.pdf.setPage(Te),this.fillStyle=we,this.strokeStyle=Pe,this.lineCap=Ie,this.lineWidth=rt,this.lineJoin=Qe;var Ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qe=Te===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=Te===1?0:Ve+(Te-2)*He;if(this.ctx.clip_path.length!==0){var Fe=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(ae,this.posX+this.margin[3],-st+qe+this.ctx.prevPageLastElemOffset),V.call(this,X,!0),this.path=Fe}if(pe=JSON.parse(JSON.stringify(Je)),this.path=N(pe,this.posX+this.margin[3],-st+qe+this.ctx.prevPageLastElemOffset),J===!1||Te===0){var Ye=(Te>Ae||Te<Me)&&_.call(this);Ye&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ee,He,null).clip().discardPath()),V.call(this,X,J),Ye&&this.pdf.restoreGraphicsState()}this.lineWidth=Ne}else this.lineWidth=rt,V.call(this,X,J),this.lineWidth=Ne;this.path=Je},V=function(X,J){if((X!=="stroke"||J||!x.call(this))&&(X==="stroke"||J||!k.call(this))){for(var ae,pe,we=[],Pe=this.path,Ie=0;Ie<Pe.length;Ie++){var Ne=Pe[Ie];switch(Ne.type){case"begin":we.push({begin:!0});break;case"close":we.push({close:!0});break;case"mt":we.push({start:Ne,deltas:[],abs:[]});break;case"lt":var rt=we.length;if(Pe[Ie-1]&&!isNaN(Pe[Ie-1].x)&&(ae=[Ne.x-Pe[Ie-1].x,Ne.y-Pe[Ie-1].y],rt>0)){for(;rt>=0;rt--)if(we[rt-1].close!==!0&&we[rt-1].begin!==!0){we[rt-1].deltas.push(ae),we[rt-1].abs.push(Ne);break}}break;case"bct":ae=[Ne.x1-Pe[Ie-1].x,Ne.y1-Pe[Ie-1].y,Ne.x2-Pe[Ie-1].x,Ne.y2-Pe[Ie-1].y,Ne.x-Pe[Ie-1].x,Ne.y-Pe[Ie-1].y],we[we.length-1].deltas.push(ae);break;case"qct":var Qe=Pe[Ie-1].x+2/3*(Ne.x1-Pe[Ie-1].x),Je=Pe[Ie-1].y+2/3*(Ne.y1-Pe[Ie-1].y),Ue=Ne.x+2/3*(Ne.x1-Ne.x),Z=Ne.y+2/3*(Ne.y1-Ne.y),Ce=Ne.x,ue=Ne.y;ae=[Qe-Pe[Ie-1].x,Je-Pe[Ie-1].y,Ue-Pe[Ie-1].x,Z-Pe[Ie-1].y,Ce-Pe[Ie-1].x,ue-Pe[Ie-1].y],we[we.length-1].deltas.push(ae);break;case"arc":we.push({deltas:[],abs:[],arc:!0}),Array.isArray(we[we.length-1].abs)&&we[we.length-1].abs.push(Ne)}}pe=J?null:X==="stroke"?"stroke":"fill";for(var ge=!1,he=0;he<we.length;he++)if(we[he].arc)for(var Ae=we[he].abs,Me=0;Me<Ae.length;Me++){var Te=Ae[Me];Te.type==="arc"?B.call(this,Te.x,Te.y,Te.radius,Te.startAngle,Te.endAngle,Te.counterclockwise,void 0,J,!ge):K.call(this,Te.x,Te.y),ge=!0}else if(we[he].close===!0)this.pdf.internal.out("h"),ge=!1;else if(we[he].begin!==!0){var Ee=we[he].start.x,qe=we[he].start.y;j.call(this,we[he].deltas,Ee,qe),ge=!0}pe&&q.call(this,pe),J&&Q.call(this)}},$=function(X){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ae=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return X-ae;case"top":return X+J-ae;case"hanging":return X+J-2*ae;case"middle":return X+J/2-ae;case"ideographic":return X;case"alphabetic":default:return X}},M=function(X){return X+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var X=function(){};return X.colorStops=[],X.addColorStop=function(J,ae){this.colorStops.push([J,ae])},X.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},X.isCanvasGradient=!0,X},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(X,J,ae,pe,we,Pe,Ie,Ne,rt){for(var Qe=de.call(this,ae,pe,we,Pe),Je=0;Je<Qe.length;Je++){var Ue=Qe[Je];Je===0&&(rt?H.call(this,Ue.x1+X,Ue.y1+J):K.call(this,Ue.x1+X,Ue.y1+J)),ne.call(this,X,J,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}Ne?Q.call(this):q.call(this,Ie)},q=function(X){switch(X){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},H=function(X,J){this.pdf.internal.out(n(X)+" "+o(J)+" m")},R=function(X){var J;switch(X.align){case"right":case"end":J="right";break;case"center":J="center";break;case"left":case"start":default:J="left"}var ae=this.pdf.getTextDimensions(X.text),pe=$.call(this,X.y),we=M.call(this,pe)-ae.h,Pe=this.ctx.transform.applyToPoint(new d(X.x,pe)),Ie=this.ctx.transform.decompose(),Ne=new p;Ne=(Ne=(Ne=Ne.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale);for(var rt,Qe,Je,Ue=this.ctx.transform.applyToRectangle(new h(X.x,pe,ae.w,ae.h)),Z=Ne.applyToRectangle(new h(X.x,we,ae.w,ae.h)),Ce=D.call(this,Z),ue=[],ge=0;ge<Ce.length;ge+=1)ue.indexOf(Ce[ge])===-1&&ue.push(Ce[ge]);if(P(ue),this.autoPaging)for(var he=ue[0],Ae=ue[ue.length-1],Me=he;Me<Ae+1;Me++){this.pdf.setPage(Me);var Te=Me===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[2],Ve=qe-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],st=He-this.margin[3],Fe=Me===1?0:Ee+(Me-2)*Ve;if(this.ctx.clip_path.length!==0){var Ye=this.path;rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(rt,this.posX+this.margin[3],-1*Fe+Te),V.call(this,"fill",!0),this.path=Ye}var Ke=N([JSON.parse(JSON.stringify(Z))],this.posX+this.margin[3],-Fe+Te+this.ctx.prevPageLastElemOffset)[0];X.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*X.scale),Je=this.lineWidth,this.lineWidth=Je*X.scale);var At=this.autoPaging!=="text";if(At||Ke.y+Ke.h<=qe){if(At||Ke.y>=Te&&Ke.x<=He){var ht=At?X.text:this.pdf.splitTextToSize(X.text,X.maxWidth||He-Ke.x)[0],on=N([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-Fe+Te+this.ctx.prevPageLastElemOffset)[0],pt=At&&(Me>he||Me<Ae)&&_.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Ve,null).clip().discardPath()),this.pdf.text(ht,on.x,on.y,{angle:X.angle,align:J,renderingMode:X.renderingMode}),pt&&this.pdf.restoreGraphicsState()}}else Ke.y<qe&&(this.ctx.prevPageLastElemOffset+=qe-Ke.y);X.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=Je)}else X.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*X.scale),Je=this.lineWidth,this.lineWidth=Je*X.scale),this.pdf.text(X.text,Pe.x+this.posX,Pe.y+this.posY,{angle:X.angle,align:J,renderingMode:X.renderingMode,maxWidth:X.maxWidth}),X.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=Je)},K=function(X,J,ae,pe){ae=ae||0,pe=pe||0,this.pdf.internal.out(n(X+ae)+" "+o(J+pe)+" l")},j=function(X,J,ae){return this.pdf.lines(X,J,ae,null,null)},ne=function(X,J,ae,pe,we,Pe,Ie,Ne){this.pdf.internal.out([r(a(ae+X)),r(l(pe+J)),r(a(we+X)),r(l(Pe+J)),r(a(Ie+X)),r(l(Ne+J)),"c"].join(" "))},de=function(X,J,ae,pe){for(var we=2*Math.PI,Pe=Math.PI/2;J>ae;)J-=we;var Ie=Math.abs(ae-J);Ie<we&&pe&&(Ie=we-Ie);for(var Ne=[],rt=pe?-1:1,Qe=J;Ie>1e-5;){var Je=Qe+rt*Math.min(Ie,Pe);Ne.push(se.call(this,X,Qe,Je)),Ie-=Math.abs(Je-Qe),Qe=Je}return Ne},se=function(X,J,ae){var pe=(ae-J)/2,we=X*Math.cos(pe),Pe=X*Math.sin(pe),Ie=we,Ne=-Pe,rt=Ie*Ie+Ne*Ne,Qe=rt+Ie*we+Ne*Pe,Je=4/3*(Math.sqrt(2*rt*Qe)-Qe)/(Ie*Pe-Ne*we),Ue=Ie-Je*Ne,Z=Ne+Je*Ie,Ce=Ue,ue=-Z,ge=pe+J,he=Math.cos(ge),Ae=Math.sin(ge);return{x1:X*Math.cos(J),y1:X*Math.sin(J),x2:Ue*he-Z*Ae,y2:Ue*Ae+Z*he,x3:Ce*he-ue*Ae,y3:Ce*Ae+ue*he,x4:X*Math.cos(ae),y4:X*Math.sin(ae)}},oe=function(X){return 180*X/Math.PI},ye=function(X,J,ae,pe,we,Pe){var Ie=X+.5*(ae-X),Ne=J+.5*(pe-J),rt=we+.5*(ae-we),Qe=Pe+.5*(pe-Pe),Je=Math.min(X,we,Ie,rt),Ue=Math.max(X,we,Ie,rt),Z=Math.min(J,Pe,Ne,Qe),Ce=Math.max(J,Pe,Ne,Qe);return new h(Je,Z,Ue-Je,Ce-Z)},re=function(X,J,ae,pe,we,Pe,Ie,Ne){var rt,Qe,Je,Ue,Z,Ce,ue,ge,he,Ae,Me,Te,Ee,qe,Ve=ae-X,He=pe-J,st=we-ae,Fe=Pe-pe,Ye=Ie-we,Ke=Ne-Pe;for(Qe=0;Qe<41;Qe++)he=(ue=(Je=X+(rt=Qe/40)*Ve)+rt*((Z=ae+rt*st)-Je))+rt*(Z+rt*(we+rt*Ye-Z)-ue),Ae=(ge=(Ue=J+rt*He)+rt*((Ce=pe+rt*Fe)-Ue))+rt*(Ce+rt*(Pe+rt*Ke-Ce)-ge),Qe==0?(Me=he,Te=Ae,Ee=he,qe=Ae):(Me=Math.min(Me,he),Te=Math.min(Te,Ae),Ee=Math.max(Ee,he),qe=Math.max(qe,Ae));return new h(Math.round(Me),Math.round(Te),Math.round(Ee-Me),Math.round(qe-Te))},_e=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var X,J,ae=(X=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:X,lineDashOffset:J}));this.prevLineDash!==ae&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ae)}}})(sn.API),function(t){var r=function(l){var d,h,p,g,b,v,y,k,x,_;for(h=[],p=0,g=(l+=d="\0\0\0\0".slice(l.length%4||4)).length;g>p;p+=4)(b=(l.charCodeAt(p)<<24)+(l.charCodeAt(p+1)<<16)+(l.charCodeAt(p+2)<<8)+l.charCodeAt(p+3))!==0?(v=(b=((b=((b=((b=(b-(_=b%85))/85)-(x=b%85))/85)-(k=b%85))/85)-(y=b%85))/85)%85,h.push(v+33,y+33,k+33,x+33,_+33)):h.push(122);return function(D,E){for(var N=E;N>0;N--)D.pop()}(h,d.length),String.fromCharCode.apply(String,h)+"~>"},n=function(l){var d,h,p,g,b,v=String,y="length",k=255,x="charCodeAt",_="slice",D="replace";for(l[_](-2),l=l[_](0,-2)[D](/\s/g,"")[D]("z","!!!!!"),p=[],g=0,b=(l+=d="uuuuu"[_](l[y]%5||5))[y];b>g;g+=5)h=52200625*(l[x](g)-33)+614125*(l[x](g+1)-33)+7225*(l[x](g+2)-33)+85*(l[x](g+3)-33)+(l[x](g+4)-33),p.push(k&h>>24,k&h>>16,k&h>>8,k&h);return function(E,N){for(var P=N;P>0;P--)E.pop()}(p,d[y]),v.fromCharCode.apply(v,p)},o=function(l){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),d.test(l)===!1)return"";for(var h="",p=0;p<l.length;p+=2)h+=String.fromCharCode("0x"+(l[p]+l[p+1]));return h},a=function(l){for(var d=new Uint8Array(l.length),h=l.length;h--;)d[h]=l.charCodeAt(h);return l=(d=GA(d)).reduce(function(p,g){return p+String.fromCharCode(g)},"")};t.processDataByFilters=function(l,d){var h=0,p=l||"",g=[];for(typeof(d=d||[])=="string"&&(d=[d]),h=0;h<d.length;h+=1)switch(d[h]){case"ASCII85Decode":case"/ASCII85Decode":p=n(p),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=r(p),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=o(p),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=p.split("").map(function(b){return("0"+b.charCodeAt().toString(16)).slice(-2)}).join("")+">",g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=a(p),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[h]+'" is not implemented')}return{data:p,reverseChain:g.reverse().join(" ")}}}(sn.API),function(t){t.loadFile=function(r,n,o){return function(a,l,d){l=l!==!1,d=typeof d=="function"?d:function(){};var h=void 0;try{h=function(p,g,b){var v=new XMLHttpRequest,y=0,k=function(x){var _=x.length,D=[],E=String.fromCharCode;for(y=0;y<_;y+=1)D.push(E(255&x.charCodeAt(y)));return D.join("")};if(v.open("GET",p,!g),v.overrideMimeType("text/plain; charset=x-user-defined"),g===!1&&(v.onload=function(){v.status===200?b(k(this.responseText)):b(void 0)}),v.send(null),g&&v.status===200)return k(v.responseText)}(a,l,d)}catch{}return h}(r,n,o)},t.loadImageFile=t.loadFile}(sn.API),function(t){function r(){return(an.html2canvas?Promise.resolve(an.html2canvas):Ki(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function n(){return(an.DOMPurify?Promise.resolve(an.DOMPurify):Ki(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var o=function(d){var h=fr(d);return h==="undefined"?"undefined":h==="string"||d instanceof String?"string":h==="number"||d instanceof Number?"number":h==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":h==="object"?"object":"unknown"},a=function(d,h){var p=document.createElement(d);for(var g in h.className&&(p.className=h.className),h.innerHTML&&h.dompurify&&(p.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)p.style[g]=h.style[g];return p},l=function d(h){var p=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),g=d.convert(Promise.resolve(),p);return g=(g=g.setProgress(1,d,1,[d])).set(h)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(d,h){return d.__proto__=h||l.prototype,d},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(d,h){return this.then(function(){switch(h=h||function(p){switch(o(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(d)){case"string":return this.then(n).then(function(p){return this.set({src:a("div",{innerHTML:d,dompurify:p})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},l.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=function p(g,b){for(var v=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),y=g.firstChild;y;y=y.nextSibling)b!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||v.appendChild(p(y,b));return g.nodeType===1&&(g.nodeName==="CANVAS"?(v.width=g.width,v.height=g.height,v.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(v.value=g.value),v.addEventListener("load",function(){v.scrollTop=g.scrollTop,v.scrollLeft=g.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(r).then(function(h){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,h(this.prop.container,p)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(r).then(function(h){var p=this.opt.jsPDF,g=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=g,g)for(var y=0;y<g.length;++y){var k=g[y],x=k.src.find(function(_){return _.format==="truetype"});x&&p.addFont(x.url,k.ref.name,k.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,p.context2d.save(!0),h(this.prop.container,v)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(d,h,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(d,h):this.outputPdf(d,h)},l.prototype.outputPdf=function(d,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,h)})},l.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},l.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(d){if(o(d)!=="object")return this;var h=Object.keys(d||{}).map(function(p){if(p in l.template.prop)return function(){this.prop[p]=d[p]};switch(p){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[p]=d[p]}}},this);return this.then(function(){return this.thenList(h)})},l.prototype.get=function(d,h){return this.then(function(){var p=d in l.template.prop?this.prop[d]:this.opt[d];return h?h(p):p})},l.prototype.setMargin=function(d){return this.then(function(){switch(o(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},l.prototype.setPageSize=function(d){function h(p,g){return Math.floor(p*g/72*96)}return this.then(function(){(d=d||sn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:h(d.inner.width,d.k),height:h(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},l.prototype.setProgress=function(d,h,p,g){return d!=null&&(this.progress.val=d),h!=null&&(this.progress.state=h),p!=null&&(this.progress.n=p),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(d,h,p,g){return this.setProgress(d?this.progress.val+d:null,h||null,p?this.progress.n+p:null,g?this.progress.stack.concat(g):null)},l.prototype.then=function(d,h){var p=this;return this.thenCore(d,h,function(g,b){return p.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(v){return p.updateProgress(null,g),v}).then(g,b).then(function(v){return p.updateProgress(1),v})})},l.prototype.thenCore=function(d,h,p){p=p||Promise.prototype.then,d&&(d=d.bind(this)),h&&(h=h.bind(this));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:l.convert(Object.assign({},this),Promise.prototype),b=p.call(g,d,h);return l.convert(b,this.__proto__)},l.prototype.thenExternal=function(d,h){return Promise.prototype.then.call(this,d,h)},l.prototype.thenList=function(d){var h=this;return d.forEach(function(p){h=h.thenCore(p)}),h},l.prototype.catch=function(d){d&&(d=d.bind(this));var h=Promise.prototype.catch.call(this,d);return l.convert(h,this)},l.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},l.prototype.error=function(d){return this.then(function(){throw new Error(d)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,sn.getPageSize=function(d,h,p){if(fr(d)==="object"){var g=d;d=g.orientation,h=g.unit||h,p=g.format||p}h=h||"mm",p=p||"a4",d=(""+(d||"P")).toLowerCase();var b,v=(""+p).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+h}var k,x=0,_=0;if(y.hasOwnProperty(v))x=y[v][1]/b,_=y[v][0]/b;else try{x=p[1],_=p[0]}catch{throw new Error("Invalid format: "+p)}if(d==="p"||d==="portrait")d="p",_>x&&(k=_,_=x,x=k);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",x>_&&(k=_,_=x,x=k)}return{width:_,height:x,unit:h,k:b,orientation:d}},t.html=function(d,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(XA):null;var p=new l(h);return h.worker?p:p.from(d).doCallback()}}(sn.API),sn.API.addJS=function(t){return e6=t,this.internal.events.subscribe("postPutResources",function(){Z0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Z0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),XT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+e6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Z0!==void 0&&XT!==void 0&&this.internal.out("/Names <</JavaScript "+Z0+" 0 R>>")}),this},function(t){var r;t.events.push(["postPutResources",function(){var n=this,o=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),l=0;l<a.length;l++){var d=a[l],h=o.exec(d);if(h!=null){var p=h[1];n.internal.newObjectDeferredBegin(p,!1)}n.internal.write(d)}if(this.outline.createNamedDestinations){var g=this.internal.pages.length,b=[];for(l=0;l<g;l++){var v=n.internal.newObject();b.push(v);var y=n.internal.getPageInfo(l+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var k=n.internal.newObject();for(n.internal.write("<< /Names [ "),l=0;l<b.length;l++)n.internal.write("(page_"+(l+1)+")"+b[l]+" 0 R");n.internal.write(" ] >>","endobj"),r=n.internal.newObject(),n.internal.write("<< /Dests "+k+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+r+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(o,a,l){var d={title:a,options:l,children:[]};return o==null&&(o=this.root),o.children.push(d),d},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(o){o.id=n.internal.newObjectDeferred();for(var a=0;a<o.children.length;a++)this.genIds_r(o.children[a])},n.outline.renderRoot=function(o){this.objStart(o),this.line("/Type /Outlines"),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1]))),this.line("/Count "+this.count_r({count:0},o)),this.objEnd()},n.outline.renderItems=function(o){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<o.children.length;l++){var d=o.children[l];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(o)),l>0&&this.line("/Prev "+this.makeRef(o.children[l-1])),l<o.children.length-1&&this.line("/Next "+this.makeRef(o.children[l+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var h=this.count=this.count_r({count:0},d);if(h>0&&this.line("/Count "+h),d.options&&d.options.pageNumber){var p=n.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+p.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var g=0;g<o.children.length;g++)this.renderItems(o.children[g])},n.outline.line=function(o){this.ctx.val+=o+`\r
`},n.outline.makeRef=function(o){return o.id+" 0 R"},n.outline.makeString=function(o){return"("+n.internal.pdfEscape(o)+")"},n.outline.objStart=function(o){this.ctx.val+=`\r
`+o.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(o,a){for(var l=0;l<a.children.length;l++)o.count++,this.count_r(o,a.children[l]);return o.count}}])}(sn.API),function(t){var r=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,o,a,l,d,h){var p,g=this.decode.DCT_DECODE,b=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=d||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(p=function(v){for(var y,k=256*v.charCodeAt(4)+v.charCodeAt(5),x=v.length,_={width:0,height:0,numcomponents:1},D=4;D<x;D+=2){if(D+=k,r.indexOf(v.charCodeAt(D+1))!==-1){y=256*v.charCodeAt(D+5)+v.charCodeAt(D+6),_={width:256*v.charCodeAt(D+7)+v.charCodeAt(D+8),height:y,numcomponents:v.charCodeAt(D+9)};break}k=256*v.charCodeAt(D+2)+v.charCodeAt(D+3)}return _}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}b={data:n,width:p.width,height:p.height,colorSpace:h,bitsPerComponent:8,filter:g,index:o,alias:a}}return b}}(sn.API);var Ff,X0,t6,n6,r6,Kte=function(){var t,r,n;function o(l){var d,h,p,g,b,v,y,k,x,_,D,E,N,P;for(this.data=l,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(d=this.readUInt32(),x=(function(){var F,V;for(V=[],F=0;F<4;++F)V.push(String.fromCharCode(this.data[this.pos++]));return V}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(d);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},b=this.readUInt16(),g=this.readUInt16()||100,v.delay=1e3*b/g,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,d-=4),l=(v!=null?v.data:void 0)||this.imgData,E=0;0<=d?E<d:E>d;0<=d?++E:--E)l.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(p=this.palette.length/3,this.transparency.indexed=this.read(d),this.transparency.indexed.length>p)throw new Error("More transparent colors than palette size");if((_=p-this.transparency.indexed.length)>0)for(N=0;0<=_?N<_:N>_;0<=_?++N:--N)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(d)[0];break;case 2:this.transparency.rgb=this.read(d)}break;case"tEXt":y=(D=this.read(d)).indexOf(0),k=String.fromCharCode.apply(String,D.slice(0,y)),this.text[k]=String.fromCharCode.apply(String,D.slice(y+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(P=this.colorType)===4||P===6,h=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*h,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=d}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}o.prototype.read=function(l){var d,h;for(h=[],d=0;0<=l?d<l:d>l;0<=l?++d:--d)h.push(this.data[this.pos++]);return h},o.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.decodePixels=function(l){var d=this.pixelBitlength/8,h=new Uint8Array(this.width*this.height*d),p=0,g=this;if(l==null&&(l=this.imgData),l.length===0)return new Uint8Array(0);function b(v,y,k,x){var _,D,E,N,P,F,V,$,M,B,q,Q,H,R,K,j,ne,de,se,oe,ye,re=Math.ceil((g.width-v)/k),_e=Math.ceil((g.height-y)/x),X=g.width==re&&g.height==_e;for(R=d*re,Q=X?h:new Uint8Array(R*_e),F=l.length,H=0,D=0;H<_e&&p<F;){switch(l[p++]){case 0:for(N=ne=0;ne<R;N=ne+=1)Q[D++]=l[p++];break;case 1:for(N=de=0;de<R;N=de+=1)_=l[p++],P=N<d?0:Q[D-d],Q[D++]=(_+P)%256;break;case 2:for(N=se=0;se<R;N=se+=1)_=l[p++],E=(N-N%d)/d,K=H&&Q[(H-1)*R+E*d+N%d],Q[D++]=(K+_)%256;break;case 3:for(N=oe=0;oe<R;N=oe+=1)_=l[p++],E=(N-N%d)/d,P=N<d?0:Q[D-d],K=H&&Q[(H-1)*R+E*d+N%d],Q[D++]=(_+Math.floor((P+K)/2))%256;break;case 4:for(N=ye=0;ye<R;N=ye+=1)_=l[p++],E=(N-N%d)/d,P=N<d?0:Q[D-d],H===0?K=j=0:(K=Q[(H-1)*R+E*d+N%d],j=E&&Q[(H-1)*R+(E-1)*d+N%d]),V=P+K-j,$=Math.abs(V-P),B=Math.abs(V-K),q=Math.abs(V-j),M=$<=B&&$<=q?P:B<=q?K:j,Q[D++]=(_+M)%256;break;default:throw new Error("Invalid filter algorithm: "+l[p-1])}if(!X){var J=((y+H*x)*g.width+v)*d,ae=H*R;for(N=0;N<re;N+=1){for(var pe=0;pe<d;pe+=1)h[J++]=Q[ae++];J+=(k-1)*d}}H++}}return l=Ete(l),g.interlaceMethod==1?(b(0,0,8,8),b(4,0,8,8),b(0,4,4,8),b(2,0,4,4),b(0,2,2,4),b(1,0,2,2),b(0,1,1,2)):b(0,0,1,1),h},o.prototype.decodePalette=function(){var l,d,h,p,g,b,v,y,k;for(h=this.palette,b=this.transparency.indexed||[],g=new Uint8Array((b.length||0)+h.length),p=0,l=0,d=v=0,y=h.length;v<y;d=v+=3)g[p++]=h[d],g[p++]=h[d+1],g[p++]=h[d+2],g[p++]=(k=b[l++])!=null?k:255;return g},o.prototype.copyToImageData=function(l,d){var h,p,g,b,v,y,k,x,_,D,E;if(p=this.colors,_=null,h=this.hasAlphaChannel,this.palette.length&&(_=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),p=4,h=!0),x=(g=l.data||l).length,v=_||d,b=y=0,p===1)for(;b<x;)k=_?4*d[b/4]:y,D=v[k++],g[b++]=D,g[b++]=D,g[b++]=D,g[b++]=h?v[k++]:255,y=k;else for(;b<x;)k=_?4*d[b/4]:y,g[b++]=v[k++],g[b++]=v[k++],g[b++]=v[k++],g[b++]=h?v[k++]:255,y=k},o.prototype.decode=function(){var l;return l=new Uint8Array(this.width*this.height*4),this.copyToImageData(l,this.decodePixels()),l};var a=function(){if(Object.prototype.toString.call(an)==="[object Window]"){try{r=an.document.createElement("canvas"),n=r.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(l){var d;if(a()===!0)return n.width=l.width,n.height=l.height,n.clearRect(0,0,l.width,l.height),n.putImageData(l,0,0),(d=new Image).src=r.toDataURL(),d;throw new Error("This method requires a Browser with Canvas-capability.")},o.prototype.decodeFrames=function(l){var d,h,p,g,b,v,y,k;if(this.animation){for(k=[],h=b=0,v=(y=this.animation.frames).length;b<v;h=++b)d=y[h],p=l.createImageData(d.width,d.height),g=this.decodePixels(new Uint8Array(d.data)),this.copyToImageData(p,g),d.imageData=p,k.push(d.image=t(p));return k}},o.prototype.renderFrame=function(l,d){var h,p,g;return h=(p=this.animation.frames)[d],g=p[d-1],d===0&&l.clearRect(0,0,this.width,this.height),(g!=null?g.disposeOp:void 0)===1?l.clearRect(g.xOffset,g.yOffset,g.width,g.height):(g!=null?g.disposeOp:void 0)===2&&l.putImageData(g.imageData,g.xOffset,g.yOffset),h.blendOp===0&&l.clearRect(h.xOffset,h.yOffset,h.width,h.height),l.drawImage(h.image,h.xOffset,h.yOffset)},o.prototype.animate=function(l){var d,h,p,g,b,v,y=this;return h=0,v=this.animation,g=v.numFrames,p=v.frames,b=v.numPlays,(d=function(){var k,x;if(k=h++%g,x=p[k],y.renderFrame(l,k),g>1&&h/g<b)return y.animation._timeout=setTimeout(d,x.delay)})()},o.prototype.stopAnimation=function(){var l;return clearTimeout((l=this.animation)!=null?l._timeout:void 0)},o.prototype.render=function(l){var d,h;return l._png&&l._png.stopAnimation(),l._png=this,l.width=this.width,l.height=this.height,d=l.getContext("2d"),this.animation?(this.decodeFrames(d),this.animate(d)):(h=d.createImageData(this.width,this.height),this.copyToImageData(h,this.decodePixels()),d.putImageData(h,0,0))},o}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Qte(t){var r=0;if(t[r++]!==71||t[r++]!==73||t[r++]!==70||t[r++]!==56||(t[r++]+1&253)!=56||t[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[r++]|t[r++]<<8,o=t[r++]|t[r++]<<8,a=t[r++],l=a>>7,d=1<<(7&a)+1;t[r++],t[r++];var h=null,p=null;l&&(h=r,p=d,r+=3*d);var g=!0,b=[],v=0,y=null,k=0,x=null;for(this.width=n,this.height=o;g&&r<t.length;)switch(t[r++]){case 33:switch(t[r++]){case 255:if(t[r]!==11||t[r+1]==78&&t[r+2]==69&&t[r+3]==84&&t[r+4]==83&&t[r+5]==67&&t[r+6]==65&&t[r+7]==80&&t[r+8]==69&&t[r+9]==50&&t[r+10]==46&&t[r+11]==48&&t[r+12]==3&&t[r+13]==1&&t[r+16]==0)r+=14,x=t[r++]|t[r++]<<8,r++;else for(r+=12;;){if(!((H=t[r++])>=0))throw Error("Invalid block size");if(H===0)break;r+=H}break;case 249:if(t[r++]!==4||t[r+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[r++];v=t[r++]|t[r++]<<8,y=t[r++],(1&_)==0&&(y=null),k=_>>2&7,r++;break;case 254:for(;;){if(!((H=t[r++])>=0))throw Error("Invalid block size");if(H===0)break;r+=H}break;default:throw new Error("Unknown graphic control label: 0x"+t[r-1].toString(16))}break;case 44:var D=t[r++]|t[r++]<<8,E=t[r++]|t[r++]<<8,N=t[r++]|t[r++]<<8,P=t[r++]|t[r++]<<8,F=t[r++],V=F>>6&1,$=1<<(7&F)+1,M=h,B=p,q=!1;F>>7&&(q=!0,M=r,B=$,r+=3*$);var Q=r;for(r++;;){var H;if(!((H=t[r++])>=0))throw Error("Invalid block size");if(H===0)break;r+=H}b.push({x:D,y:E,width:N,height:P,has_local_palette:q,palette_offset:M,palette_size:B,data_offset:Q,data_length:r-Q,transparent_index:y,interlaced:!!V,delay:v,disposal:k});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+t[r-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return x},this.frameInfo=function(R){if(R<0||R>=b.length)throw new Error("Frame index out of range.");return b[R]},this.decodeAndBlitFrameBGRA=function(R,K){var j=this.frameInfo(R),ne=j.width*j.height,de=new Uint8Array(ne);i6(t,j.data_offset,de,ne);var se=j.palette_offset,oe=j.transparent_index;oe===null&&(oe=256);var ye=j.width,re=n-ye,_e=ye,X=4*(j.y*n+j.x),J=4*((j.y+j.height)*n+j.x),ae=X,pe=4*re;j.interlaced===!0&&(pe+=4*n*7);for(var we=8,Pe=0,Ie=de.length;Pe<Ie;++Pe){var Ne=de[Pe];if(_e===0&&(_e=ye,(ae+=pe)>=J&&(pe=4*re+4*n*(we-1),ae=X+(ye+re)*(we<<1),we>>=1)),Ne===oe)ae+=4;else{var rt=t[se+3*Ne],Qe=t[se+3*Ne+1],Je=t[se+3*Ne+2];K[ae++]=Je,K[ae++]=Qe,K[ae++]=rt,K[ae++]=255}--_e}},this.decodeAndBlitFrameRGBA=function(R,K){var j=this.frameInfo(R),ne=j.width*j.height,de=new Uint8Array(ne);i6(t,j.data_offset,de,ne);var se=j.palette_offset,oe=j.transparent_index;oe===null&&(oe=256);var ye=j.width,re=n-ye,_e=ye,X=4*(j.y*n+j.x),J=4*((j.y+j.height)*n+j.x),ae=X,pe=4*re;j.interlaced===!0&&(pe+=4*n*7);for(var we=8,Pe=0,Ie=de.length;Pe<Ie;++Pe){var Ne=de[Pe];if(_e===0&&(_e=ye,(ae+=pe)>=J&&(pe=4*re+4*n*(we-1),ae=X+(ye+re)*(we<<1),we>>=1)),Ne===oe)ae+=4;else{var rt=t[se+3*Ne],Qe=t[se+3*Ne+1],Je=t[se+3*Ne+2];K[ae++]=rt,K[ae++]=Qe,K[ae++]=Je,K[ae++]=255}--_e}}}function i6(t,r,n,o){for(var a=t[r++],l=1<<a,d=l+1,h=d+1,p=a+1,g=(1<<p)-1,b=0,v=0,y=0,k=t[r++],x=new Int32Array(4096),_=null;;){for(;b<16&&k!==0;)v|=t[r++]<<b,b+=8,k===1?k=t[r++]:--k;if(b<p)break;var D=v&g;if(v>>=p,b-=p,D!==l){if(D===d)break;for(var E=D<h?D:_,N=0,P=E;P>l;)P=x[P]>>8,++N;var F=P;if(y+N+(E!==D?1:0)>o)return void Cr.log("Warning, gif stream longer than expected.");n[y++]=F;var V=y+=N;for(E!==D&&(n[y++]=F),P=E;N--;)P=x[P],n[--V]=255&P,P>>=8;_!==null&&h<4096&&(x[h++]=_<<8|F,h>=g+1&&p<12&&(++p,g=g<<1|1)),_=D}else h=d+1,g=(1<<(p=a+1))-1,_=null}return y!==o&&Cr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Vv(t){var r,n,o,a,l,d=Math.floor,h=new Array(64),p=new Array(64),g=new Array(64),b=new Array(64),v=new Array(65535),y=new Array(65535),k=new Array(64),x=new Array(64),_=[],D=0,E=7,N=new Array(64),P=new Array(64),F=new Array(64),V=new Array(256),$=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],H=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(X,J){for(var ae=0,pe=0,we=new Array,Pe=1;Pe<=16;Pe++){for(var Ie=1;Ie<=X[Pe];Ie++)we[J[pe]]=[],we[J[pe]][0]=ae,we[J[pe]][1]=Pe,pe++,ae++;ae*=2}return we}function se(X){for(var J=X[0],ae=X[1]-1;ae>=0;)J&1<<ae&&(D|=1<<E),ae--,--E<0&&(D==255?(oe(255),oe(0)):oe(D),E=7,D=0)}function oe(X){_.push(X)}function ye(X){oe(X>>8&255),oe(255&X)}function re(X,J,ae,pe,we){for(var Pe,Ie=we[0],Ne=we[240],rt=function(Ae,Me){var Te,Ee,qe,Ve,He,st,Fe,Ye,Ke,At,ht=0;for(Ke=0;Ke<8;++Ke){Te=Ae[ht],Ee=Ae[ht+1],qe=Ae[ht+2],Ve=Ae[ht+3],He=Ae[ht+4],st=Ae[ht+5],Fe=Ae[ht+6];var on=Te+(Ye=Ae[ht+7]),pt=Te-Ye,Vt=Ee+Fe,Bt=Ee-Fe,Ft=qe+st,Kt=qe-st,pn=Ve+He,En=Ve-He,qn=on+pn,Br=on-pn,Wr=Vt+Ft,jn=Vt-Ft;Ae[ht]=qn+Wr,Ae[ht+4]=qn-Wr;var Xt=.707106781*(jn+Br);Ae[ht+2]=Br+Xt,Ae[ht+6]=Br-Xt;var Dn=.382683433*((qn=En+Kt)-(jn=Bt+pt)),$o=.5411961*qn+Dn,Nn=1.306562965*jn+Dn,Qi=.707106781*(Wr=Kt+Bt),ii=pt+Qi,$t=pt-Qi;Ae[ht+5]=$t+$o,Ae[ht+3]=$t-$o,Ae[ht+1]=ii+Nn,Ae[ht+7]=ii-Nn,ht+=8}for(ht=0,Ke=0;Ke<8;++Ke){Te=Ae[ht],Ee=Ae[ht+8],qe=Ae[ht+16],Ve=Ae[ht+24],He=Ae[ht+32],st=Ae[ht+40],Fe=Ae[ht+48];var zi=Te+(Ye=Ae[ht+56]),Ji=Te-Ye,oi=Ee+Fe,vr=Ee-Fe,Bn=qe+st,Gr=qe-st,os=Ve+He,ss=Ve-He,So=zi+os,Eo=zi-os,Do=oi+Bn,bi=oi-Bn;Ae[ht]=So+Do,Ae[ht+32]=So-Do;var Ui=.707106781*(bi+Eo);Ae[ht+16]=Eo+Ui,Ae[ht+48]=Eo-Ui;var Io=.382683433*((So=ss+Gr)-(bi=vr+Ji)),sa=.5411961*So+Io,Ha=1.306562965*bi+Io,mt=.707106781*(Do=Gr+vr),_t=Ji+mt,St=Ji-mt;Ae[ht+40]=St+sa,Ae[ht+24]=St-sa,Ae[ht+8]=_t+Ha,Ae[ht+56]=_t-Ha,ht++}for(Ke=0;Ke<64;++Ke)At=Ae[Ke]*Me[Ke],k[Ke]=At>0?At+.5|0:At-.5|0;return k}(X,J),Qe=0;Qe<64;++Qe)x[M[Qe]]=rt[Qe];var Je=x[0]-ae;ae=x[0],Je==0?se(pe[0]):(se(pe[y[Pe=32767+Je]]),se(v[Pe]));for(var Ue=63;Ue>0&&x[Ue]==0;)Ue--;if(Ue==0)return se(Ie),ae;for(var Z,Ce=1;Ce<=Ue;){for(var ue=Ce;x[Ce]==0&&Ce<=Ue;)++Ce;var ge=Ce-ue;if(ge>=16){Z=ge>>4;for(var he=1;he<=Z;++he)se(Ne);ge&=15}Pe=32767+x[Ce],se(we[(ge<<4)+y[Pe]]),se(v[Pe]),Ce++}return Ue!=63&&se(Ie),ae}function _e(X){X=Math.min(Math.max(X,1),100),l!=X&&(function(J){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],pe=0;pe<64;pe++){var we=d((ae[pe]*J+50)/100);we=Math.min(Math.max(we,1),255),h[M[pe]]=we}for(var Pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ie=0;Ie<64;Ie++){var Ne=d((Pe[Ie]*J+50)/100);Ne=Math.min(Math.max(Ne,1),255),p[M[Ie]]=Ne}for(var rt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Qe=0,Je=0;Je<8;Je++)for(var Ue=0;Ue<8;Ue++)g[Qe]=1/(h[M[Qe]]*rt[Je]*rt[Ue]*8),b[Qe]=1/(p[M[Qe]]*rt[Je]*rt[Ue]*8),Qe++}(X<50?Math.floor(5e3/X):Math.floor(200-2*X)),l=X)}this.encode=function(X,J){J&&_e(J),_=new Array,D=0,E=7,ye(65496),ye(65504),ye(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),ye(1),ye(1),oe(0),oe(0),function(){ye(65499),ye(132),oe(0);for(var Ee=0;Ee<64;Ee++)oe(h[Ee]);oe(1);for(var qe=0;qe<64;qe++)oe(p[qe])}(),function(Ee,qe){ye(65472),ye(17),oe(8),ye(qe),ye(Ee),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)}(X.width,X.height),function(){ye(65476),ye(418),oe(0);for(var Ee=0;Ee<16;Ee++)oe(B[Ee+1]);for(var qe=0;qe<=11;qe++)oe(q[qe]);oe(16);for(var Ve=0;Ve<16;Ve++)oe(Q[Ve+1]);for(var He=0;He<=161;He++)oe(H[He]);oe(1);for(var st=0;st<16;st++)oe(R[st+1]);for(var Fe=0;Fe<=11;Fe++)oe(K[Fe]);oe(17);for(var Ye=0;Ye<16;Ye++)oe(j[Ye+1]);for(var Ke=0;Ke<=161;Ke++)oe(ne[Ke])}(),ye(65498),ye(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var ae=0,pe=0,we=0;D=0,E=7,this.encode.displayName="_encode_";for(var Pe,Ie,Ne,rt,Qe,Je,Ue,Z,Ce,ue=X.data,ge=X.width,he=X.height,Ae=4*ge,Me=0;Me<he;){for(Pe=0;Pe<Ae;){for(Qe=Ae*Me+Pe,Ue=-1,Z=0,Ce=0;Ce<64;Ce++)Je=Qe+(Z=Ce>>3)*Ae+(Ue=4*(7&Ce)),Me+Z>=he&&(Je-=Ae*(Me+1+Z-he)),Pe+Ue>=Ae&&(Je-=Pe+Ue-Ae+4),Ie=ue[Je++],Ne=ue[Je++],rt=ue[Je++],N[Ce]=($[Ie]+$[Ne+256>>0]+$[rt+512>>0]>>16)-128,P[Ce]=($[Ie+768>>0]+$[Ne+1024>>0]+$[rt+1280>>0]>>16)-128,F[Ce]=($[Ie+1280>>0]+$[Ne+1536>>0]+$[rt+1792>>0]>>16)-128;ae=re(N,g,ae,r,o),pe=re(P,b,pe,n,a),we=re(F,b,we,n,a),Pe+=32}Me+=8}if(E>=0){var Te=[];Te[1]=E+1,Te[0]=(1<<E+1)-1,se(Te)}return ye(65497),new Uint8Array(_)},t=t||50,function(){for(var X=String.fromCharCode,J=0;J<256;J++)V[J]=X(J)}(),r=de(B,q),n=de(R,K),o=de(Q,H),a=de(j,ne),function(){for(var X=1,J=2,ae=1;ae<=15;ae++){for(var pe=X;pe<J;pe++)y[32767+pe]=ae,v[32767+pe]=[],v[32767+pe][1]=ae,v[32767+pe][0]=pe;for(var we=-(J-1);we<=-X;we++)y[32767+we]=ae,v[32767+we]=[],v[32767+we][1]=ae,v[32767+we][0]=J-1+we;X<<=1,J<<=1}}(),function(){for(var X=0;X<256;X++)$[X]=19595*X,$[X+256>>0]=38470*X,$[X+512>>0]=7471*X+32768,$[X+768>>0]=-11059*X,$[X+1024>>0]=-21709*X,$[X+1280>>0]=32768*X+8421375,$[X+1536>>0]=-27439*X,$[X+1792>>0]=-5329*X}(),_e(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function al(t,r){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function o6(t){function r(B){if(!B)throw Error("assert :P")}function n(B,q,Q){for(var H=0;4>H;H++)if(B[q+H]!=Q.charCodeAt(H))return!0;return!1}function o(B,q,Q,H,R){for(var K=0;K<R;K++)B[q+K]=Q[H+K]}function a(B,q,Q,H){for(var R=0;R<H;R++)B[q+R]=Q}function l(B){return new Int32Array(B)}function d(B,q){for(var Q=[],H=0;H<B;H++)Q.push(new q);return Q}function h(B,q){var Q=[];return function H(R,K,j){for(var ne=j[K],de=0;de<ne&&(R.push(j.length>K+1?[]:new q),!(j.length<K+1));de++)H(R[de],K+1,j)}(Q,0,B),Q}var p=function(){var B=this;function q(I,L){for(var W=1<<L-1>>>0;I&W;)W>>>=1;return W?(I&W-1)+W:I}function Q(I,L,W,te,le){r(!(te%W));do I[L+(te-=W)]=le;while(0<te)}function H(I,L,W,te,le){if(r(2328>=le),512>=le)var fe=l(512);else if((fe=l(le))==null)return 0;return function(me,ke,ve,Se,Re,tt){var nt,Ge,kt=ke,ot=1<<ve,Be=l(16),$e=l(16);for(r(Re!=0),r(Se!=null),r(me!=null),r(0<ve),Ge=0;Ge<Re;++Ge){if(15<Se[Ge])return 0;++Be[Se[Ge]]}if(Be[0]==Re)return 0;for($e[1]=0,nt=1;15>nt;++nt){if(Be[nt]>1<<nt)return 0;$e[nt+1]=$e[nt]+Be[nt]}for(Ge=0;Ge<Re;++Ge)nt=Se[Ge],0<Se[Ge]&&(tt[$e[nt]++]=Ge);if($e[15]==1)return(Se=new R).g=0,Se.value=tt[0],Q(me,kt,1,ot,Se),ot;var gt,yt=-1,bt=ot-1,jt=0,Xe=1,Jt=1,Pt=1<<ve;for(Ge=0,nt=1,Re=2;nt<=ve;++nt,Re<<=1){if(Xe+=Jt<<=1,0>(Jt-=Be[nt]))return 0;for(;0<Be[nt];--Be[nt])(Se=new R).g=nt,Se.value=tt[Ge++],Q(me,kt+jt,Re,Pt,Se),jt=q(jt,nt)}for(nt=ve+1,Re=2;15>=nt;++nt,Re<<=1){if(Xe+=Jt<<=1,0>(Jt-=Be[nt]))return 0;for(;0<Be[nt];--Be[nt]){if(Se=new R,(jt&bt)!=yt){for(kt+=Pt,gt=1<<(yt=nt)-ve;15>yt&&!(0>=(gt-=Be[yt]));)++yt,gt<<=1;ot+=Pt=1<<(gt=yt-ve),me[ke+(yt=jt&bt)].g=gt+ve,me[ke+yt].value=kt-ke-yt}Se.g=nt-ve,Se.value=tt[Ge++],Q(me,kt+(jt>>ve),Re,Pt,Se),jt=q(jt,nt)}}return Xe!=2*$e[15]-1?0:ot}(I,L,W,te,le,fe)}function R(){this.value=this.g=0}function K(){this.value=this.g=0}function j(){this.G=d(5,R),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(wi,K)}function ne(I,L,W,te){r(I!=null),r(L!=null),r(2147483648>te),I.Ca=254,I.I=0,I.b=-8,I.Ka=0,I.oa=L,I.pa=W,I.Jd=L,I.Yc=W+te,I.Zc=4<=te?W+te-4+1:W,Pe(I)}function de(I,L){for(var W=0;0<L--;)W|=Ne(I,128)<<L;return W}function se(I,L){var W=de(I,L);return Ie(I)?-W:W}function oe(I,L,W,te){var le,fe=0;for(r(I!=null),r(L!=null),r(4294967288>te),I.Sb=te,I.Ra=0,I.u=0,I.h=0,4<te&&(te=4),le=0;le<te;++le)fe+=L[W+le]<<8*le;I.Ra=fe,I.bb=te,I.oa=L,I.pa=W}function ye(I){for(;8<=I.u&&I.bb<I.Sb;)I.Ra>>>=8,I.Ra+=I.oa[I.pa+I.bb]<<Au-8>>>0,++I.bb,I.u-=8;ae(I)&&(I.h=1,I.u=0)}function re(I,L){if(r(0<=L),!I.h&&L<=vu){var W=J(I)&yu[L];return I.u+=L,ye(I),W}return I.h=1,I.u=0}function _e(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(I){return I.Ra>>>(I.u&Au-1)>>>0}function ae(I){return r(I.bb<=I.Sb),I.h||I.bb==I.Sb&&I.u>Au}function pe(I,L){I.u=L,I.h=ae(I)}function we(I){I.u>=_u&&(r(I.u>=_u),ye(I))}function Pe(I){r(I!=null&&I.oa!=null),I.pa<I.Zc?(I.I=(I.oa[I.pa++]|I.I<<8)>>>0,I.b+=8):(r(I!=null&&I.oa!=null),I.pa<I.Yc?(I.b+=8,I.I=I.oa[I.pa++]|I.I<<8):I.Ka?I.b=0:(I.I<<=8,I.b+=8,I.Ka=1))}function Ie(I){return de(I,1)}function Ne(I,L){var W=I.Ca;0>I.b&&Pe(I);var te=I.b,le=W*L>>>8,fe=(I.I>>>te>le)+0;for(fe?(W-=le,I.I-=le+1<<te>>>0):W=le+1,te=W,le=0;256<=te;)le+=8,te>>=8;return te=7^le+ao[te],I.b-=te,I.Ca=(W<<te)-1,fe}function rt(I,L,W){I[L+0]=W>>24&255,I[L+1]=W>>16&255,I[L+2]=W>>8&255,I[L+3]=W>>0&255}function Qe(I,L){return I[L+0]<<0|I[L+1]<<8}function Je(I,L){return Qe(I,L)|I[L+2]<<16}function Ue(I,L){return Qe(I,L)|Qe(I,L+2)<<16}function Z(I,L){var W=1<<L;return r(I!=null),r(0<L),I.X=l(W),I.X==null?0:(I.Mb=32-L,I.Xa=L,1)}function Ce(I,L){r(I!=null),r(L!=null),r(I.Xa==L.Xa),o(L.X,0,I.X,0,1<<L.Xa)}function ue(){this.X=[],this.Xa=this.Mb=0}function ge(I,L,W,te){r(W!=null),r(te!=null);var le=W[0],fe=te[0];return le==0&&(le=(I*fe+L/2)/L),fe==0&&(fe=(L*le+I/2)/I),0>=le||0>=fe?0:(W[0]=le,te[0]=fe,1)}function he(I,L){return I+(1<<L)-1>>>L}function Ae(I,L){return((4278255360&I)+(4278255360&L)>>>0&4278255360)+((16711935&I)+(16711935&L)>>>0&16711935)>>>0}function Me(I,L){B[L]=function(W,te,le,fe,me,ke,ve){var Se;for(Se=0;Se<me;++Se){var Re=B[I](ke[ve+Se-1],le,fe+Se);ke[ve+Se]=Ae(W[te+Se],Re)}}}function Te(){this.ud=this.hd=this.jd=0}function Ee(I,L){return((4278124286&(I^L))>>>1)+(I&L)>>>0}function qe(I){return 0<=I&&256>I?I:0>I?0:255<I?255:void 0}function Ve(I,L){return qe(I+(I-L+.5>>1))}function He(I,L,W){return Math.abs(L-W)-Math.abs(I-W)}function st(I,L,W,te,le,fe,me){for(te=fe[me-1],W=0;W<le;++W)fe[me+W]=te=Ae(I[L+W],te)}function Fe(I,L,W,te,le){var fe;for(fe=0;fe<W;++fe){var me=I[L+fe],ke=me>>8&255,ve=16711935&(ve=(ve=16711935&me)+((ke<<16)+ke));te[le+fe]=(4278255360&me)+ve>>>0}}function Ye(I,L){L.jd=I>>0&255,L.hd=I>>8&255,L.ud=I>>16&255}function Ke(I,L,W,te,le,fe){var me;for(me=0;me<te;++me){var ke=L[W+me],ve=ke>>>8,Se=ke,Re=255&(Re=(Re=ke>>>16)+((I.jd<<24>>24)*(ve<<24>>24)>>>5));Se=255&(Se=(Se=Se+((I.hd<<24>>24)*(ve<<24>>24)>>>5))+((I.ud<<24>>24)*(Re<<24>>24)>>>5)),le[fe+me]=(4278255360&ke)+(Re<<16)+Se}}function At(I,L,W,te,le){B[L]=function(fe,me,ke,ve,Se,Re,tt,nt,Ge){for(ve=tt;ve<nt;++ve)for(tt=0;tt<Ge;++tt)Se[Re++]=le(ke[te(fe[me++])])},B[I]=function(fe,me,ke,ve,Se,Re,tt){var nt=8>>fe.b,Ge=fe.Ea,kt=fe.K[0],ot=fe.w;if(8>nt)for(fe=(1<<fe.b)-1,ot=(1<<nt)-1;me<ke;++me){var Be,$e=0;for(Be=0;Be<Ge;++Be)Be&fe||($e=te(ve[Se++])),Re[tt++]=le(kt[$e&ot]),$e>>=nt}else B["VP8LMapColor"+W](ve,Se,kt,ot,Re,tt,me,ke,Ge)}}function ht(I,L,W,te,le){for(W=L+W;L<W;){var fe=I[L++];te[le++]=fe>>16&255,te[le++]=fe>>8&255,te[le++]=fe>>0&255}}function on(I,L,W,te,le){for(W=L+W;L<W;){var fe=I[L++];te[le++]=fe>>16&255,te[le++]=fe>>8&255,te[le++]=fe>>0&255,te[le++]=fe>>24&255}}function pt(I,L,W,te,le){for(W=L+W;L<W;){var fe=(me=I[L++])>>16&240|me>>12&15,me=me>>0&240|me>>28&15;te[le++]=fe,te[le++]=me}}function Vt(I,L,W,te,le){for(W=L+W;L<W;){var fe=(me=I[L++])>>16&248|me>>13&7,me=me>>5&224|me>>3&31;te[le++]=fe,te[le++]=me}}function Bt(I,L,W,te,le){for(W=L+W;L<W;){var fe=I[L++];te[le++]=fe>>0&255,te[le++]=fe>>8&255,te[le++]=fe>>16&255}}function Ft(I,L,W,te,le,fe){if(fe==0)for(W=L+W;L<W;)rt(te,((fe=I[L++])[0]>>24|fe[1]>>8&65280|fe[2]<<8&16711680|fe[3]<<24)>>>0),le+=32;else o(te,le,I,L,W)}function Kt(I,L){B[L][0]=B[I+"0"],B[L][1]=B[I+"1"],B[L][2]=B[I+"2"],B[L][3]=B[I+"3"],B[L][4]=B[I+"4"],B[L][5]=B[I+"5"],B[L][6]=B[I+"6"],B[L][7]=B[I+"7"],B[L][8]=B[I+"8"],B[L][9]=B[I+"9"],B[L][10]=B[I+"10"],B[L][11]=B[I+"11"],B[L][12]=B[I+"12"],B[L][13]=B[I+"13"],B[L][14]=B[I+"0"],B[L][15]=B[I+"0"]}function pn(I){return I==Jp||I==af||I==Rd||I==lf}function En(){this.eb=[],this.size=this.A=this.fb=0}function qn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Br(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new En,this.f.kb=new qn,this.sd=null}function Wr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function jn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xt(I){return alert("todo:WebPSamplerProcessPlane"),I.T}function Dn(I,L){var W=I.T,te=L.ba.f.RGBA,le=te.eb,fe=te.fb+I.ka*te.A,me=us[L.ba.S],ke=I.y,ve=I.O,Se=I.f,Re=I.N,tt=I.ea,nt=I.W,Ge=L.cc,kt=L.dc,ot=L.Mc,Be=L.Nc,$e=I.ka,gt=I.ka+I.T,yt=I.U,bt=yt+1>>1;for($e==0?me(ke,ve,null,null,Se,Re,tt,nt,Se,Re,tt,nt,le,fe,null,null,yt):(me(L.ec,L.fc,ke,ve,Ge,kt,ot,Be,Se,Re,tt,nt,le,fe-te.A,le,fe,yt),++W);$e+2<gt;$e+=2)Ge=Se,kt=Re,ot=tt,Be=nt,Re+=I.Rc,nt+=I.Rc,fe+=2*te.A,me(ke,(ve+=2*I.fa)-I.fa,ke,ve,Ge,kt,ot,Be,Se,Re,tt,nt,le,fe-te.A,le,fe,yt);return ve+=I.fa,I.j+gt<I.o?(o(L.ec,L.fc,ke,ve,yt),o(L.cc,L.dc,Se,Re,bt),o(L.Mc,L.Nc,tt,nt,bt),W--):1&gt||me(ke,ve,null,null,Se,Re,tt,nt,Se,Re,tt,nt,le,fe+te.A,null,null,yt),W}function $o(I,L,W){var te=I.F,le=[I.J];if(te!=null){var fe=I.U,me=L.ba.S,ke=me==Bd||me==Rd;L=L.ba.f.RGBA;var ve=[0],Se=I.ka;ve[0]=I.T,I.Kb&&(Se==0?--ve[0]:(--Se,le[0]-=I.width),I.j+I.ka+I.T==I.o&&(ve[0]=I.o-I.j-Se));var Re=L.eb;Se=L.fb+Se*L.A,I=Qn(te,le[0],I.width,fe,ve,Re,Se+(ke?0:3),L.A),r(W==ve),I&&pn(me)&&Ko(Re,Se,ke,fe,ve,L.A)}return 0}function Nn(I){var L=I.ma,W=L.ba.S,te=11>W,le=W==Od||W==jd||W==Bd||W==sf||W==12||pn(W);if(L.memory=null,L.Ib=null,L.Jb=null,L.Nd=null,!Td(L.Oa,I,le?11:12))return 0;if(le&&pn(W)&&Ct(),I.da)alert("todo:use_scaling");else{if(te){if(L.Ib=Xt,I.Kb){if(W=I.U+1>>1,L.memory=l(I.U+2*W),L.memory==null)return 0;L.ec=L.memory,L.fc=0,L.cc=L.ec,L.dc=L.fc+I.U,L.Mc=L.cc,L.Nc=L.dc+W,L.Ib=Dn,Ct()}}else alert("todo:EmitYUV");le&&(L.Jb=$o,te&&Ze())}if(te&&!Mb){for(I=0;256>I;++I)Bs[I]=89858*(I-128)+Su>>Fd,lo[I]=-22014*(I-128)+Su,ji[I]=-45773*(I-128),Li[I]=113618*(I-128)+Su>>Fd;for(I=zd;I<nm;++I)L=76283*(I-16)+Su>>Fd,ya[I-zd]=Ho(L,255),rm[I-zd]=Ho(L+8>>4,15);Mb=1}return 1}function Qi(I){var L=I.ma,W=I.U,te=I.T;return r(!(1&I.ka)),0>=W||0>=te?0:(W=L.Ib(I,L),L.Jb!=null&&L.Jb(I,L,W),L.Dc+=W,1)}function ii(I){I.ma.memory=null}function $t(I,L,W,te){return re(I,8)!=47?0:(L[0]=re(I,14)+1,W[0]=re(I,14)+1,te[0]=re(I,1),re(I,3)!=0?0:!I.h)}function zi(I,L){if(4>I)return I+1;var W=I-2>>1;return(2+(1&I)<<W)+re(L,W)+1}function Ji(I,L){return 120<L?L-120:1<=(W=((W=Mw[L-1])>>4)*I+(8-(15&W)))?W:1;var W}function oi(I,L,W){var te=J(W),le=I[L+=255&te].g-8;return 0<le&&(pe(W,W.u+8),te=J(W),L+=I[L].value,L+=te&(1<<le)-1),pe(W,W.u+I[L].g),I[L].value}function vr(I,L,W){return W.g+=I.g,W.value+=I.value<<L>>>0,r(8>=W.g),I.g}function Bn(I,L,W){var te=I.xc;return r((L=te==0?0:I.vc[I.md*(W>>te)+(L>>te)])<I.Wb),I.Ya[L]}function Gr(I,L,W,te){var le=I.ab,fe=I.c*L,me=I.C;L=me+L;var ke=W,ve=te;for(te=I.Ta,W=I.Ua;0<le--;){var Se=I.gc[le],Re=me,tt=L,nt=ke,Ge=ve,kt=(ve=te,ke=W,Se.Ea);switch(r(Re<tt),r(tt<=Se.nc),Se.hc){case 2:nf(nt,Ge,(tt-Re)*kt,ve,ke);break;case 0:var ot=Re,Be=tt,$e=ve,gt=ke,yt=(Pt=Se).Ea;ot==0&&(Qp(nt,Ge,null,null,1,$e,gt),st(nt,Ge+1,0,0,yt-1,$e,gt+1),Ge+=yt,gt+=yt,++ot);for(var bt=1<<Pt.b,jt=bt-1,Xe=he(yt,Pt.b),Jt=Pt.K,Pt=Pt.w+(ot>>Pt.b)*Xe;ot<Be;){var Nt=Jt,Fn=Pt,On=1;for(Cu(nt,Ge,$e,gt-yt,1,$e,gt);On<yt;){var Cn=(On&~jt)+bt;Cn>yt&&(Cn=yt),(0,Qa[Nt[Fn++]>>8&15])(nt,Ge+ +On,$e,gt+On-yt,Cn-On,$e,gt+On),On=Cn}Ge+=yt,gt+=yt,++ot&jt||(Pt+=Xe)}tt!=Se.nc&&o(ve,ke-kt,ve,ke+(tt-Re-1)*kt,kt);break;case 1:for(kt=nt,Be=Ge,yt=(nt=Se.Ea)-(gt=nt&~($e=(Ge=1<<Se.b)-1)),ot=he(nt,Se.b),bt=Se.K,Se=Se.w+(Re>>Se.b)*ot;Re<tt;){for(jt=bt,Xe=Se,Jt=new Te,Pt=Be+gt,Nt=Be+nt;Be<Pt;)Ye(jt[Xe++],Jt),Ec(Jt,kt,Be,Ge,ve,ke),Be+=Ge,ke+=Ge;Be<Nt&&(Ye(jt[Xe++],Jt),Ec(Jt,kt,Be,yt,ve,ke),Be+=yt,ke+=yt),++Re&$e||(Se+=ot)}break;case 3:if(nt==ve&&Ge==ke&&0<Se.b){for(Be=ve,nt=kt=ke+(tt-Re)*kt-(gt=(tt-Re)*he(Se.Ea,Se.b)),Ge=ve,$e=ke,ot=[],gt=(yt=gt)-1;0<=gt;--gt)ot[gt]=Ge[$e+gt];for(gt=yt-1;0<=gt;--gt)Be[nt+gt]=ot[gt];Wo(Se,Re,tt,ve,kt,ve,ke)}else Wo(Se,Re,tt,nt,Ge,ve,ke)}ke=te,ve=W}ve!=W&&o(te,W,ke,ve,fe)}function os(I,L){var W=I.V,te=I.Ba+I.c*I.C,le=L-I.C;if(r(L<=I.l.o),r(16>=le),0<le){var fe=I.l,me=I.Ta,ke=I.Ua,ve=fe.width;if(Gr(I,le,W,te),le=ke=[ke],r((W=I.C)<(te=L)),r(fe.v<fe.va),te>fe.o&&(te=fe.o),W<fe.j){var Se=fe.j-W;W=fe.j,le[0]+=Se*ve}if(W>=te?W=0:(le[0]+=4*fe.v,fe.ka=W-fe.j,fe.U=fe.va-fe.v,fe.T=te-W,W=1),W){if(ke=ke[0],11>(W=I.ca).S){var Re=W.f.RGBA,tt=(te=W.S,le=fe.U,fe=fe.T,Se=Re.eb,Re.A),nt=fe;for(Re=Re.fb+I.Ma*Re.A;0<nt--;){var Ge=me,kt=ke,ot=le,Be=Se,$e=Re;switch(te){case wa:No(Ge,kt,ot,Be,$e);break;case Od:Xi(Ge,kt,ot,Be,$e);break;case Jp:Xi(Ge,kt,ot,Be,$e),Ko(Be,$e,0,ot,1,0);break;case Ld:ma(Ge,kt,ot,Be,$e);break;case jd:Ft(Ge,kt,ot,Be,$e,1);break;case af:Ft(Ge,kt,ot,Be,$e,1),Ko(Be,$e,0,ot,1,0);break;case Bd:Ft(Ge,kt,ot,Be,$e,0);break;case Rd:Ft(Ge,kt,ot,Be,$e,0),Ko(Be,$e,1,ot,1,0);break;case sf:El(Ge,kt,ot,Be,$e);break;case lf:El(Ge,kt,ot,Be,$e),Ut(Be,$e,ot,1,0);break;case yb:pa(Ge,kt,ot,Be,$e);break;default:r(0)}ke+=ve,Re+=tt}I.Ma+=fe}else alert("todo:EmitRescaledRowsYUVA");r(I.Ma<=W.height)}}I.C=L,r(I.C<=I.i)}function ss(I){var L;if(0<I.ua)return 0;for(L=0;L<I.Wb;++L){var W=I.Ya[L].G,te=I.Ya[L].H;if(0<W[1][te[1]+0].g||0<W[2][te[2]+0].g||0<W[3][te[3]+0].g)return 0}return 1}function So(I,L,W,te,le,fe){if(I.Z!=0){var me=I.qd,ke=I.rd;for(r(Xa[I.Z]!=null);L<W;++L)Xa[I.Z](me,ke,te,le,te,le,fe),me=te,ke=le,le+=fe;I.qd=me,I.rd=ke}}function Eo(I,L){var W=I.l.ma,te=W.Z==0||W.Z==1?I.l.j:I.C;if(te=I.C<te?te:I.C,r(L<=I.l.o),L>te){var le=I.l.width,fe=W.ca,me=W.tb+le*te,ke=I.V,ve=I.Ba+I.c*te,Se=I.gc;r(I.ab==1),r(Se[0].hc==3),Md(Se[0],te,L,ke,ve,fe,me),So(W,te,L,fe,me,le)}I.C=I.Ma=L}function Do(I,L,W,te,le,fe,me){var ke=I.$/te,ve=I.$%te,Se=I.m,Re=I.s,tt=W+I.$,nt=tt;le=W+te*le;var Ge=W+te*fe,kt=280+Re.ua,ot=I.Pb?ke:16777216,Be=0<Re.ua?Re.Wa:null,$e=Re.wc,gt=tt<Ge?Bn(Re,ve,ke):null;r(I.C<fe),r(Ge<=le);var yt=!1;e:for(;;){for(;yt||tt<Ge;){var bt=0;if(ke>=ot){var jt=tt-W;r((ot=I).Pb),ot.wd=ot.m,ot.xd=jt,0<ot.s.ua&&Ce(ot.s.Wa,ot.s.vb),ot=ke+Pn}if(ve&$e||(gt=Bn(Re,ve,ke)),r(gt!=null),gt.Qb&&(L[tt]=gt.qb,yt=!0),!yt)if(we(Se),gt.jc){bt=Se,jt=L;var Xe=tt,Jt=gt.pd[J(bt)&wi-1];r(gt.jc),256>Jt.g?(pe(bt,bt.u+Jt.g),jt[Xe]=Jt.value,bt=0):(pe(bt,bt.u+Jt.g-256),r(256<=Jt.value),bt=Jt.value),bt==0&&(yt=!0)}else bt=oi(gt.G[0],gt.H[0],Se);if(Se.h)break;if(yt||256>bt){if(!yt)if(gt.nd)L[tt]=(gt.qb|bt<<8)>>>0;else{if(we(Se),yt=oi(gt.G[1],gt.H[1],Se),we(Se),jt=oi(gt.G[2],gt.H[2],Se),Xe=oi(gt.G[3],gt.H[3],Se),Se.h)break;L[tt]=(Xe<<24|yt<<16|bt<<8|jt)>>>0}if(yt=!1,++tt,++ve>=te&&(ve=0,++ke,me!=null&&ke<=fe&&!(ke%16)&&me(I,ke),Be!=null))for(;nt<tt;)bt=L[nt++],Be.X[(506832829*bt&4294967295)>>>Be.Mb]=bt}else if(280>bt){if(bt=zi(bt-256,Se),jt=oi(gt.G[4],gt.H[4],Se),we(Se),jt=Ji(te,jt=zi(jt,Se)),Se.h)break;if(tt-W<jt||le-tt<bt)break e;for(Xe=0;Xe<bt;++Xe)L[tt+Xe]=L[tt+Xe-jt];for(tt+=bt,ve+=bt;ve>=te;)ve-=te,++ke,me!=null&&ke<=fe&&!(ke%16)&&me(I,ke);if(r(tt<=le),ve&$e&&(gt=Bn(Re,ve,ke)),Be!=null)for(;nt<tt;)bt=L[nt++],Be.X[(506832829*bt&4294967295)>>>Be.Mb]=bt}else{if(!(bt<kt))break e;for(yt=bt-280,r(Be!=null);nt<tt;)bt=L[nt++],Be.X[(506832829*bt&4294967295)>>>Be.Mb]=bt;bt=tt,r(!(yt>>>(jt=Be).Xa)),L[bt]=jt.X[yt],yt=!0}yt||r(Se.h==ae(Se))}if(I.Pb&&Se.h&&tt<le)r(I.m.h),I.a=5,I.m=I.wd,I.$=I.xd,0<I.s.ua&&Ce(I.s.vb,I.s.Wa);else{if(Se.h)break e;me!=null&&me(I,ke>fe?fe:ke),I.a=0,I.$=tt-W}return 1}return I.a=3,0}function bi(I){r(I!=null),I.vc=null,I.yc=null,I.Ya=null;var L=I.Wa;L!=null&&(L.X=null),I.vb=null,r(I!=null)}function Ui(){var I=new ef;return I==null?null:(I.a=0,I.xb=Eb,Kt("Predictor","VP8LPredictors"),Kt("Predictor","VP8LPredictors_C"),Kt("PredictorAdd","VP8LPredictorsAdd"),Kt("PredictorAdd","VP8LPredictorsAdd_C"),nf=Fe,Ec=Ke,No=ht,Xi=on,El=pt,pa=Vt,ma=Bt,B.VP8LMapColor32b=xu,B.VP8LMapColor8b=rf,I)}function Io(I,L,W,te,le){var fe=1,me=[I],ke=[L],ve=te.m,Se=te.s,Re=null,tt=0;e:for(;;){if(W)for(;fe&&re(ve,1);){var nt=me,Ge=ke,kt=te,ot=1,Be=kt.m,$e=kt.gc[kt.ab],gt=re(Be,2);if(kt.Oc&1<<gt)fe=0;else{switch(kt.Oc|=1<<gt,$e.hc=gt,$e.Ea=nt[0],$e.nc=Ge[0],$e.K=[null],++kt.ab,r(4>=kt.ab),gt){case 0:case 1:$e.b=re(Be,3)+2,ot=Io(he($e.Ea,$e.b),he($e.nc,$e.b),0,kt,$e.K),$e.K=$e.K[0];break;case 3:var yt,bt=re(Be,8)+1,jt=16<bt?0:4<bt?1:2<bt?2:3;if(nt[0]=he($e.Ea,jt),$e.b=jt,yt=ot=Io(bt,1,0,kt,$e.K)){var Xe,Jt=bt,Pt=$e,Nt=1<<(8>>Pt.b),Fn=l(Nt);if(Fn==null)yt=0;else{var On=Pt.K[0],Cn=Pt.w;for(Fn[0]=Pt.K[0][0],Xe=1;Xe<1*Jt;++Xe)Fn[Xe]=Ae(On[Cn+Xe],Fn[Xe-1]);for(;Xe<4*Nt;++Xe)Fn[Xe]=0;Pt.K[0]=null,Pt.K[0]=Fn,yt=1}}ot=yt;break;case 2:break;default:r(0)}fe=ot}}if(me=me[0],ke=ke[0],fe&&re(ve,1)&&!(fe=1<=(tt=re(ve,4))&&11>=tt)){te.a=3;break e}var ar;if(ar=fe)t:{var ct,mn,Ht,co=te,Jr=me,uo=ke,Gn=tt,Jo=W,Zo=co.m,vi=co.s,si=[null],ho=1,Xo=0,va=Cb[Gn];n:for(;;){if(Jo&&re(Zo,1)){var Zr=re(Zo,3)+2,Aa=he(Jr,Zr),jl=he(uo,Zr),Du=Aa*jl;if(!Io(Aa,jl,0,co,si))break n;for(si=si[0],vi.xc=Zr,ct=0;ct<Du;++ct){var Bl=si[ct]>>8&65535;si[ct]=Bl,Bl>=ho&&(ho=Bl+1)}}if(Zo.h)break n;for(mn=0;5>mn;++mn){var Fr=Ab[mn];!mn&&0<Gn&&(Fr+=1<<Gn),Xo<Fr&&(Xo=Fr)}var Ud=d(ho*va,R),im=ho,Ob=d(im,j);if(Ob==null)var _a=null;else r(65536>=im),_a=Ob;var Iu=l(Xo);if(_a==null||Iu==null||Ud==null){co.a=1;break n}var Ca=Ud;for(ct=Ht=0;ct<ho;++ct){var xn=_a[ct],fo=xn.G,po=xn.H,om=0,Tu=1,qd=0;for(mn=0;5>mn;++mn){Fr=Ab[mn],fo[mn]=Ca,po[mn]=Ht,!mn&&0<Gn&&(Fr+=1<<Gn);i:{var df,sm=Fr,Nu=co,Pc=Iu,Fw=Ca,zw=Ht,am=0,Rl=Nu.m,Uw=re(Rl,1);if(a(Pc,0,0,sm),Uw){var qw=re(Rl,1)+1,Vw=re(Rl,1),lm=re(Rl,Vw==0?1:8);Pc[lm]=1,qw==2&&(Pc[lm=re(Rl,8)]=1);var Vd=1}else{var Lb=l(19),hf=re(Rl,4)+4;if(19<hf){Nu.a=3;var Oc=0;break i}for(df=0;df<hf;++df)Lb[Nw[df]]=re(Rl,3);var cm=void 0,xa=void 0,ff=Nu,jb=Lb,pf=sm,Bb=Pc,um=0,ds=ff.m,Rb=8,Fb=d(128,R);r:for(;H(Fb,0,7,jb,19);){if(re(ds,1)){var dm=2+2*re(ds,3);if((cm=2+re(ds,dm))>pf)break r}else cm=pf;for(xa=0;xa<pf&&cm--;){we(ds);var zb=Fb[0+(127&J(ds))];pe(ds,ds.u+zb.g);var Fl=zb.value;if(16>Fl)Bb[xa++]=Fl,Fl!=0&&(Rb=Fl);else{var hm=Fl==16,Po=Fl-16,Ub=Zp[Po],Mu=re(ds,vb[Po])+Ub;if(xa+Mu>pf)break r;for(var $w=hm?Rb:0;0<Mu--;)Bb[xa++]=$w}}um=1;break r}um||(ff.a=3),Vd=um}(Vd=Vd&&!Rl.h)&&(am=H(Fw,zw,8,Pc,sm)),Vd&&am!=0?Oc=am:(Nu.a=3,Oc=0)}if(Oc==0)break n;if(Tu&&_b[mn]==1&&(Tu=Ca[Ht].g==0),om+=Ca[Ht].g,Ht+=Oc,3>=mn){var zl,mf=Iu[0];for(zl=1;zl<Fr;++zl)Iu[zl]>mf&&(mf=Iu[zl]);qd+=mf}}if(xn.nd=Tu,xn.Qb=0,Tu&&(xn.qb=(fo[3][po[3]+0].value<<24|fo[1][po[1]+0].value<<16|fo[2][po[2]+0].value)>>>0,om==0&&256>fo[0][po[0]+0].value&&(xn.Qb=1,xn.qb+=fo[0][po[0]+0].value<<8)),xn.jc=!xn.Qb&&6>qd,xn.jc){var $d,mo=xn;for($d=0;$d<wi;++$d){var Dt=$d,Yt=mo.pd[Dt],Lc=mo.G[0][mo.H[0]+Dt];256<=Lc.value?(Yt.g=Lc.g+256,Yt.value=Lc.value):(Yt.g=0,Yt.value=0,Dt>>=vr(Lc,8,Yt),Dt>>=vr(mo.G[1][mo.H[1]+Dt],16,Yt),Dt>>=vr(mo.G[2][mo.H[2]+Dt],0,Yt),vr(mo.G[3][mo.H[3]+Dt],24,Yt))}}}vi.vc=si,vi.Wb=ho,vi.Ya=_a,vi.yc=Ud,ar=1;break t}ar=0}if(!(fe=ar)){te.a=3;break e}if(0<tt){if(Se.ua=1<<tt,!Z(Se.Wa,tt)){te.a=1,fe=0;break e}}else Se.ua=0;var es=te,gf=me,Pu=ke,Hd=es.s,Wd=Hd.xc;if(es.c=gf,es.i=Pu,Hd.md=he(gf,Wd),Hd.wc=Wd==0?-1:(1<<Wd)-1,W){te.xb=Ll;break e}if((Re=l(me*ke))==null){te.a=1,fe=0;break e}fe=(fe=Do(te,Re,0,me,ke,ke,null))&&!ve.h;break e}return fe?(le!=null?le[0]=Re:(r(Re==null),r(W)),te.$=0,W||bi(Se)):bi(Se),fe}function sa(I,L){var W=I.c*I.i,te=W+L+16*L;return r(I.c<=L),I.V=l(te),I.V==null?(I.Ta=null,I.Ua=0,I.a=1,0):(I.Ta=I.V,I.Ua=I.Ba+W+L,1)}function Ha(I,L){var W=I.C,te=L-W,le=I.V,fe=I.Ba+I.c*W;for(r(L<=I.l.o);0<te;){var me=16<te?16:te,ke=I.l.ma,ve=I.l.width,Se=ve*me,Re=ke.ca,tt=ke.tb+ve*W,nt=I.Ta,Ge=I.Ua;Gr(I,me,le,fe),Rr(nt,Ge,Re,tt,Se),So(ke,W,W+me,Re,tt,ve),te-=me,le+=me*I.c,W+=me}r(W==L),I.C=I.Ma=L}function mt(){this.ub=this.yd=this.td=this.Rb=0}function _t(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function St(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function zt(){this.Yb=function(){var I=[];return function L(W,te,le){for(var fe=le[te],me=0;me<fe&&(W.push(le.length>te+1?[]:0),!(le.length<te+1));me++)L(W[me],te+1,le)}(I,0,[3,11]),I}()}function Gt(){this.jb=l(3),this.Wc=h([4,8],zt),this.Xc=h([4,17],zt)}function Mn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function pr(){this.ld=this.La=this.dd=this.tc=0}function qi(){this.Na=this.la=0}function Vi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Oi(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function so(){this.uc=this.M=this.Nb=0,this.wa=Array(new pr),this.Y=0,this.ya=Array(new Oi),this.aa=0,this.l=new Wa}function To(){this.y=l(16),this.f=l(8),this.ea=l(8)}function wl(){this.cb=this.a=0,this.sc="",this.m=new _e,this.Od=new mt,this.Kc=new _t,this.ed=new Mn,this.Qa=new St,this.Ic=this.$c=this.Aa=0,this.D=new so,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,_e),this.ia=0,this.pb=d(4,Vi),this.Pa=new Gt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new To),this.Hd=0,this.rb=Array(new qi),this.sb=0,this.wa=Array(new pr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Oi),this.L=this.aa=0,this.gd=h([4,2],pr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function lu(){var I=new wl;return I!=null&&(I.a=0,I.sc="OK",I.cb=0,I.Xb=0,Ja||(Ja=wc)),I}function mr(I,L,W){return I.a==0&&(I.a=L,I.sc=W,I.cb=0),0}function yl(I,L,W){return 3<=W&&I[L+0]==157&&I[L+1]==1&&I[L+2]==42}function kc(I,L){if(I==null)return 0;if(I.a=0,I.sc="OK",L==null)return mr(I,2,"null VP8Io passed to VP8GetHeaders()");var W=L.data,te=L.w,le=L.ha;if(4>le)return mr(I,7,"Truncated header.");var fe=W[te+0]|W[te+1]<<8|W[te+2]<<16,me=I.Od;if(me.Rb=!(1&fe),me.td=fe>>1&7,me.yd=fe>>4&1,me.ub=fe>>5,3<me.td)return mr(I,3,"Incorrect keyframe parameters.");if(!me.yd)return mr(I,4,"Frame not displayable.");te+=3,le-=3;var ke=I.Kc;if(me.Rb){if(7>le)return mr(I,7,"cannot parse picture header");if(!yl(W,te,le))return mr(I,3,"Bad code word");ke.c=16383&(W[te+4]<<8|W[te+3]),ke.Td=W[te+4]>>6,ke.i=16383&(W[te+6]<<8|W[te+5]),ke.Ud=W[te+6]>>6,te+=7,le-=7,I.za=ke.c+15>>4,I.Ub=ke.i+15>>4,L.width=ke.c,L.height=ke.i,L.Da=0,L.j=0,L.v=0,L.va=L.width,L.o=L.height,L.da=0,L.ib=L.width,L.hb=L.height,L.U=L.width,L.T=L.height,a((fe=I.Pa).jb,0,255,fe.jb.length),r((fe=I.Qa)!=null),fe.Cb=0,fe.Bb=0,fe.Fb=1,a(fe.Zb,0,0,fe.Zb.length),a(fe.Lb,0,0,fe.Lb)}if(me.ub>le)return mr(I,7,"bad partition length");ne(fe=I.m,W,te,me.ub),te+=me.ub,le-=me.ub,me.Rb&&(ke.Ld=Ie(fe),ke.Kd=Ie(fe)),ke=I.Qa;var ve,Se=I.Pa;if(r(fe!=null),r(ke!=null),ke.Cb=Ie(fe),ke.Cb){if(ke.Bb=Ie(fe),Ie(fe)){for(ke.Fb=Ie(fe),ve=0;4>ve;++ve)ke.Zb[ve]=Ie(fe)?se(fe,7):0;for(ve=0;4>ve;++ve)ke.Lb[ve]=Ie(fe)?se(fe,6):0}if(ke.Bb)for(ve=0;3>ve;++ve)Se.jb[ve]=Ie(fe)?de(fe,8):255}else ke.Bb=0;if(fe.Ka)return mr(I,3,"cannot parse segment header");if((ke=I.ed).zd=Ie(fe),ke.Tb=de(fe,6),ke.wb=de(fe,3),ke.Pc=Ie(fe),ke.Pc&&Ie(fe)){for(Se=0;4>Se;++Se)Ie(fe)&&(ke.vd[Se]=se(fe,6));for(Se=0;4>Se;++Se)Ie(fe)&&(ke.od[Se]=se(fe,6))}if(I.L=ke.Tb==0?0:ke.zd?1:2,fe.Ka)return mr(I,3,"cannot parse filter header");var Re=le;if(le=ve=te,te=ve+Re,ke=Re,I.Xb=(1<<de(I.m,2))-1,Re<3*(Se=I.Xb))W=7;else{for(ve+=3*Se,ke-=3*Se,Re=0;Re<Se;++Re){var tt=W[le+0]|W[le+1]<<8|W[le+2]<<16;tt>ke&&(tt=ke),ne(I.Jc[+Re],W,ve,tt),ve+=tt,ke-=tt,le+=3}ne(I.Jc[+Se],W,ve,ke),W=ve<te?0:5}if(W!=0)return mr(I,W,"cannot parse partitions");for(W=de(ve=I.m,7),le=Ie(ve)?se(ve,4):0,te=Ie(ve)?se(ve,4):0,ke=Ie(ve)?se(ve,4):0,Se=Ie(ve)?se(ve,4):0,ve=Ie(ve)?se(ve,4):0,Re=I.Qa,tt=0;4>tt;++tt){if(Re.Cb){var nt=Re.Zb[tt];Re.Fb||(nt+=W)}else{if(0<tt){I.pb[tt]=I.pb[0];continue}nt=W}var Ge=I.pb[tt];Ge.Sc[0]=Xp[Ho(nt+le,127)],Ge.Sc[1]=Pl[Ho(nt+0,127)],Ge.Eb[0]=2*Xp[Ho(nt+te,127)],Ge.Eb[1]=101581*Pl[Ho(nt+ke,127)]>>16,8>Ge.Eb[1]&&(Ge.Eb[1]=8),Ge.Qc[0]=Xp[Ho(nt+Se,117)],Ge.Qc[1]=Pl[Ho(nt+ve,127)],Ge.lc=nt+ve}if(!me.Rb)return mr(I,4,"Not a key frame.");for(Ie(fe),me=I.Pa,W=0;4>W;++W){for(le=0;8>le;++le)for(te=0;3>te;++te)for(ke=0;11>ke;++ke)Se=Ne(fe,Pw[W][le][te][ke])?de(fe,8):tm[W][le][te][ke],me.Wc[W][le].Yb[te][ke]=Se;for(le=0;17>le;++le)me.Xc[W][le]=me.Wc[W][Sb[le]]}return I.kc=Ie(fe),I.kc&&(I.Bd=de(fe,8)),I.cb=1}function wc(I,L,W,te,le,fe,me){var ke=L[le].Yb[W];for(W=0;16>le;++le){if(!Ne(I,ke[W+0]))return le;for(;!Ne(I,ke[W+1]);)if(ke=L[++le].Yb[0],W=0,le==16)return 16;var ve=L[le+1].Yb;if(Ne(I,ke[W+2])){var Se=I,Re=0;if(Ne(Se,(nt=ke)[(tt=W)+3]))if(Ne(Se,nt[tt+6])){for(ke=0,tt=2*(Re=Ne(Se,nt[tt+8]))+(nt=Ne(Se,nt[tt+9+Re])),Re=0,nt=cf[tt];nt[ke];++ke)Re+=Re+Ne(Se,nt[ke]);Re+=3+(8<<tt)}else Ne(Se,nt[tt+7])?(Re=7+2*Ne(Se,165),Re+=Ne(Se,145)):Re=5+Ne(Se,159);else Re=Ne(Se,nt[tt+4])?3+Ne(Se,nt[tt+5]):2;ke=ve[2]}else Re=1,ke=ve[1];ve=me+em[le],0>(Se=I).b&&Pe(Se);var tt,nt=Se.b,Ge=(tt=Se.Ca>>1)-(Se.I>>nt)>>31;--Se.b,Se.Ca+=Ge,Se.Ca|=1,Se.I-=(tt+1&Ge)<<nt,fe[ve]=((Re^Ge)-Ge)*te[(0<le)+0]}return 16}function as(I){var L=I.rb[I.sb-1];L.la=0,L.Na=0,a(I.zc,0,0,I.zc.length),I.ja=0}function Gh(I,L){if(I==null)return 0;if(L==null)return mr(I,2,"NULL VP8Io parameter in VP8Decode().");if(!I.cb&&!kc(I,L))return 0;if(r(I.cb),L.ac==null||L.ac(L)){L.ob&&(I.L=0);var W=Eu[I.L];if(I.L==2?(I.yb=0,I.zb=0):(I.yb=L.v-W>>4,I.zb=L.j-W>>4,0>I.yb&&(I.yb=0),0>I.zb&&(I.zb=0)),I.Va=L.o+15+W>>4,I.Hb=L.va+15+W>>4,I.Hb>I.za&&(I.Hb=I.za),I.Va>I.Ub&&(I.Va=I.Ub),0<I.L){var te=I.ed;for(W=0;4>W;++W){var le;if(I.Qa.Cb){var fe=I.Qa.Lb[W];I.Qa.Fb||(fe+=te.Tb)}else fe=te.Tb;for(le=0;1>=le;++le){var me=I.gd[W][le],ke=fe;if(te.Pc&&(ke+=te.vd[0],le&&(ke+=te.od[0])),0<(ke=0>ke?0:63<ke?63:ke)){var ve=ke;0<te.wb&&(ve=4<te.wb?ve>>2:ve>>1)>9-te.wb&&(ve=9-te.wb),1>ve&&(ve=1),me.dd=ve,me.tc=2*ke+ve,me.ld=40<=ke?2:15<=ke?1:0}else me.tc=0;me.La=le}}}W=0}else mr(I,6,"Frame setup failed"),W=I.a;if(W=W==0){if(W){I.$c=0,0<I.Aa||(I.Ic=Pb);e:{W=I.Ic,te=4*(ve=I.za);var Se=32*ve,Re=ve+1,tt=0<I.L?ve*(0<I.Aa?2:1):0,nt=(I.Aa==2?2:1)*ve;if((me=te+832+(le=3*(16*W+Eu[I.L])/2*Se)+(fe=I.Fa!=null&&0<I.Fa.length?I.Kc.c*I.Kc.i:0))!=me)W=0;else{if(me>I.Vb){if(I.Vb=0,I.Ec=l(me),I.Fc=0,I.Ec==null){W=mr(I,1,"no memory during frame initialization.");break e}I.Vb=me}me=I.Ec,ke=I.Fc,I.Ac=me,I.Bc=ke,ke+=te,I.Gd=d(Se,To),I.Hd=0,I.rb=d(Re+1,qi),I.sb=1,I.wa=tt?d(tt,pr):null,I.Y=0,I.D.Nb=0,I.D.wa=I.wa,I.D.Y=I.Y,0<I.Aa&&(I.D.Y+=ve),r(!0),I.oc=me,I.pc=ke,ke+=832,I.ya=d(nt,Oi),I.aa=0,I.D.ya=I.ya,I.D.aa=I.aa,I.Aa==2&&(I.D.aa+=ve),I.R=16*ve,I.B=8*ve,ve=(Se=Eu[I.L])*I.R,Se=Se/2*I.B,I.sa=me,I.ta=ke+ve,I.qa=I.sa,I.ra=I.ta+16*W*I.R+Se,I.Ha=I.qa,I.Ia=I.ra+8*W*I.B+Se,I.$c=0,ke+=le,I.mb=fe?me:null,I.nb=fe?ke:null,r(ke+fe<=I.Fc+I.Vb),as(I),a(I.Ac,I.Bc,0,te),W=1}}if(W){if(L.ka=0,L.y=I.sa,L.O=I.ta,L.f=I.qa,L.N=I.ra,L.ea=I.Ha,L.Vd=I.Ia,L.fa=I.R,L.Rc=I.B,L.F=null,L.J=0,!Pd){for(W=-255;255>=W;++W)Qr[255+W]=0>W?-W:W;for(W=-1020;1020>=W;++W)ba[1020+W]=-128>W?-128:127<W?127:W;for(W=-112;112>=W;++W)Ar[112+W]=-16>W?-16:15<W?15:W;for(W=-255;510>=W;++W)ka[255+W]=0>W?0:255<W?255:W;Pd=1}Dc=Vp,Ln=qp,Ic=Kh,Kr=vl,Go=yc,Pr=Yh,Tc=xl,of=Ps,cs=Kp,ga=Ed,Dl=Yp,yi=mu,Nc=da,Mc=Xh,Il=Sd,nr=ua,Tl=Ns,Yo=Gp,js[0]=la,js[1]=Al,js[2]=Hp,js[3]=hu,js[4]=Ad,js[5]=vc,js[6]=_d,js[7]=Ya,js[8]=fu,js[9]=Wp,Ol[0]=Ga,Ol[1]=uu,Ol[2]=ls,Ol[3]=du,Ol[4]=Zi,Ol[5]=Qh,Ol[6]=vd,Za[0]=ca,Za[1]=$p,Za[2]=Cd,Za[3]=Kn,Za[4]=Is,Za[5]=Jh,Za[6]=_c,W=1}else W=0}W&&(W=function(Ge,kt){for(Ge.M=0;Ge.M<Ge.Va;++Ge.M){var ot,Be=Ge.Jc[Ge.M&Ge.Xb],$e=Ge.m,gt=Ge;for(ot=0;ot<gt.za;++ot){var yt=$e,bt=gt,jt=bt.Ac,Xe=bt.Bc+4*ot,Jt=bt.zc,Pt=bt.ya[bt.aa+ot];if(bt.Qa.Bb?Pt.$b=Ne(yt,bt.Pa.jb[0])?2+Ne(yt,bt.Pa.jb[2]):Ne(yt,bt.Pa.jb[1]):Pt.$b=0,bt.kc&&(Pt.Ad=Ne(yt,bt.Bd)),Pt.Za=!Ne(yt,145)+0,Pt.Za){var Nt=Pt.Ob,Fn=0;for(bt=0;4>bt;++bt){var On,Cn=Jt[0+bt];for(On=0;4>On;++On){Cn=xb[jt[Xe+On]][Cn];for(var ar=rr[Ne(yt,Cn[0])];0<ar;)ar=rr[2*ar+Ne(yt,Cn[ar])];Cn=-ar,jt[Xe+On]=Cn}o(Nt,Fn,jt,Xe,4),Fn+=4,Jt[0+bt]=Cn}}else Cn=Ne(yt,156)?Ne(yt,128)?1:3:Ne(yt,163)?2:0,Pt.Ob[0]=Cn,a(jt,Xe,Cn,4),a(Jt,0,Cn,4);Pt.Dd=Ne(yt,142)?Ne(yt,114)?Ne(yt,183)?1:3:2:0}if(gt.m.Ka)return mr(Ge,7,"Premature end-of-partition0 encountered.");for(;Ge.ja<Ge.za;++Ge.ja){if(gt=Be,yt=($e=Ge).rb[$e.sb-1],jt=$e.rb[$e.sb+$e.ja],ot=$e.ya[$e.aa+$e.ja],Xe=$e.kc?ot.Ad:0)yt.la=jt.la=0,ot.Za||(yt.Na=jt.Na=0),ot.Hc=0,ot.Gc=0,ot.ia=0;else{var ct,mn;if(yt=jt,jt=gt,Xe=$e.Pa.Xc,Jt=$e.ya[$e.aa+$e.ja],Pt=$e.pb[Jt.$b],bt=Jt.ad,Nt=0,Fn=$e.rb[$e.sb-1],Cn=On=0,a(bt,Nt,0,384),Jt.Za)var Ht=0,co=Xe[3];else{ar=l(16);var Jr=yt.Na+Fn.Na;if(Jr=Ja(jt,Xe[1],Jr,Pt.Eb,0,ar,0),yt.Na=Fn.Na=(0<Jr)+0,1<Jr)Dc(ar,0,bt,Nt);else{var uo=ar[0]+3>>3;for(ar=0;256>ar;ar+=16)bt[Nt+ar]=uo}Ht=1,co=Xe[0]}var Gn=15&yt.la,Jo=15&Fn.la;for(ar=0;4>ar;++ar){var Zo=1&Jo;for(uo=mn=0;4>uo;++uo)Gn=Gn>>1|(Zo=(Jr=Ja(jt,co,Jr=Zo+(1&Gn),Pt.Sc,Ht,bt,Nt))>Ht)<<7,mn=mn<<2|(3<Jr?3:1<Jr?2:bt[Nt+0]!=0),Nt+=16;Gn>>=4,Jo=Jo>>1|Zo<<7,On=(On<<8|mn)>>>0}for(co=Gn,Ht=Jo>>4,ct=0;4>ct;ct+=2){for(mn=0,Gn=yt.la>>4+ct,Jo=Fn.la>>4+ct,ar=0;2>ar;++ar){for(Zo=1&Jo,uo=0;2>uo;++uo)Jr=Zo+(1&Gn),Gn=Gn>>1|(Zo=0<(Jr=Ja(jt,Xe[2],Jr,Pt.Qc,0,bt,Nt)))<<3,mn=mn<<2|(3<Jr?3:1<Jr?2:bt[Nt+0]!=0),Nt+=16;Gn>>=2,Jo=Jo>>1|Zo<<5}Cn|=mn<<4*ct,co|=Gn<<4<<ct,Ht|=(240&Jo)<<ct}yt.la=co,Fn.la=Ht,Jt.Hc=On,Jt.Gc=Cn,Jt.ia=43690&Cn?0:Pt.ia,Xe=!(On|Cn)}if(0<$e.L&&($e.wa[$e.Y+$e.ja]=$e.gd[ot.$b][ot.Za],$e.wa[$e.Y+$e.ja].La|=!Xe),gt.Ka)return mr(Ge,7,"Premature end-of-file encountered.")}if(as(Ge),$e=kt,gt=1,ot=(Be=Ge).D,yt=0<Be.L&&Be.M>=Be.zb&&Be.M<=Be.Va,Be.Aa==0)e:{if(ot.M=Be.M,ot.uc=yt,Ls(Be,ot),gt=1,ot=(mn=Be.D).Nb,yt=(Cn=Eu[Be.L])*Be.R,jt=Cn/2*Be.B,ar=16*ot*Be.R,uo=8*ot*Be.B,Xe=Be.sa,Jt=Be.ta-yt+ar,Pt=Be.qa,bt=Be.ra-jt+uo,Nt=Be.Ha,Fn=Be.Ia-jt+uo,Jo=(Gn=mn.M)==0,On=Gn>=Be.Va-1,Be.Aa==2&&Ls(Be,mn),mn.uc)for(Zo=(Jr=Be).D.M,r(Jr.D.uc),mn=Jr.yb;mn<Jr.Hb;++mn){Ht=mn,co=Zo;var vi=(si=(Fr=Jr).D).Nb;ct=Fr.R;var si=si.wa[si.Y+Ht],ho=Fr.sa,Xo=Fr.ta+16*vi*ct+16*Ht,va=si.dd,Zr=si.tc;if(Zr!=0)if(r(3<=Zr),Fr.L==1)0<Ht&&nr(ho,Xo,ct,Zr+4),si.La&&Yo(ho,Xo,ct,Zr),0<co&&Il(ho,Xo,ct,Zr+4),si.La&&Tl(ho,Xo,ct,Zr);else{var Aa=Fr.B,jl=Fr.qa,Du=Fr.ra+8*vi*Aa+8*Ht,Bl=Fr.Ha,Fr=Fr.Ia+8*vi*Aa+8*Ht;vi=si.ld,0<Ht&&(of(ho,Xo,ct,Zr+4,va,vi),ga(jl,Du,Bl,Fr,Aa,Zr+4,va,vi)),si.La&&(yi(ho,Xo,ct,Zr,va,vi),Mc(jl,Du,Bl,Fr,Aa,Zr,va,vi)),0<co&&(Tc(ho,Xo,ct,Zr+4,va,vi),cs(jl,Du,Bl,Fr,Aa,Zr+4,va,vi)),si.La&&(Dl(ho,Xo,ct,Zr,va,vi),Nc(jl,Du,Bl,Fr,Aa,Zr,va,vi))}}if(Be.ia&&alert("todo:DitherRow"),$e.put!=null){if(mn=16*Gn,Gn=16*(Gn+1),Jo?($e.y=Be.sa,$e.O=Be.ta+ar,$e.f=Be.qa,$e.N=Be.ra+uo,$e.ea=Be.Ha,$e.W=Be.Ia+uo):(mn-=Cn,$e.y=Xe,$e.O=Jt,$e.f=Pt,$e.N=bt,$e.ea=Nt,$e.W=Fn),On||(Gn-=Cn),Gn>$e.o&&(Gn=$e.o),$e.F=null,$e.J=null,Be.Fa!=null&&0<Be.Fa.length&&mn<Gn&&($e.J=wu(Be,$e,mn,Gn-mn),$e.F=Be.mb,$e.F==null&&$e.F.length==0)){gt=mr(Be,3,"Could not decode alpha data.");break e}mn<$e.j&&(Cn=$e.j-mn,mn=$e.j,r(!(1&Cn)),$e.O+=Be.R*Cn,$e.N+=Be.B*(Cn>>1),$e.W+=Be.B*(Cn>>1),$e.F!=null&&($e.J+=$e.width*Cn)),mn<Gn&&($e.O+=$e.v,$e.N+=$e.v>>1,$e.W+=$e.v>>1,$e.F!=null&&($e.J+=$e.v),$e.ka=mn-$e.j,$e.U=$e.va-$e.v,$e.T=Gn-mn,gt=$e.put($e))}ot+1!=Be.Ic||On||(o(Be.sa,Be.ta-yt,Xe,Jt+16*Be.R,yt),o(Be.qa,Be.ra-jt,Pt,bt+8*Be.B,jt),o(Be.Ha,Be.Ia-jt,Nt,Fn+8*Be.B,jt))}if(!gt)return mr(Ge,6,"Output aborted.")}return 1}(I,L)),L.bc!=null&&L.bc(L),W&=1}return W?(I.cb=0,W):0}function Ds(I,L,W,te,le){le=I[L+W+32*te]+(le>>3),I[L+W+32*te]=-256&le?0>le?0:255:le}function cu(I,L,W,te,le,fe){Ds(I,L,0,W,te+le),Ds(I,L,1,W,te+fe),Ds(I,L,2,W,te-fe),Ds(I,L,3,W,te-le)}function $i(I){return(20091*I>>16)+I}function yd(I,L,W,te){var le,fe=0,me=l(16);for(le=0;4>le;++le){var ke=I[L+0]+I[L+8],ve=I[L+0]-I[L+8],Se=(35468*I[L+4]>>16)-$i(I[L+12]),Re=$i(I[L+4])+(35468*I[L+12]>>16);me[fe+0]=ke+Re,me[fe+1]=ve+Se,me[fe+2]=ve-Se,me[fe+3]=ke-Re,fe+=4,L++}for(le=fe=0;4>le;++le)ke=(I=me[fe+0]+4)+me[fe+8],ve=I-me[fe+8],Se=(35468*me[fe+4]>>16)-$i(me[fe+12]),Ds(W,te,0,0,ke+(Re=$i(me[fe+4])+(35468*me[fe+12]>>16))),Ds(W,te,1,0,ve+Se),Ds(W,te,2,0,ve-Se),Ds(W,te,3,0,ke-Re),fe++,te+=32}function Yh(I,L,W,te){var le=I[L+0]+4,fe=35468*I[L+4]>>16,me=$i(I[L+4]),ke=35468*I[L+1]>>16;cu(W,te,0,le+me,I=$i(I[L+1]),ke),cu(W,te,1,le+fe,I,ke),cu(W,te,2,le-fe,I,ke),cu(W,te,3,le-me,I,ke)}function qp(I,L,W,te,le){yd(I,L,W,te),le&&yd(I,L+16,W,te+4)}function Kh(I,L,W,te){Ln(I,L+0,W,te,1),Ln(I,L+32,W,te+128,1)}function vl(I,L,W,te){var le;for(I=I[L+0]+4,le=0;4>le;++le)for(L=0;4>L;++L)Ds(W,te,L,le,I)}function yc(I,L,W,te){I[L+0]&&Kr(I,L+0,W,te),I[L+16]&&Kr(I,L+16,W,te+4),I[L+32]&&Kr(I,L+32,W,te+128),I[L+48]&&Kr(I,L+48,W,te+128+4)}function Vp(I,L,W,te){var le,fe=l(16);for(le=0;4>le;++le){var me=I[L+0+le]+I[L+12+le],ke=I[L+4+le]+I[L+8+le],ve=I[L+4+le]-I[L+8+le],Se=I[L+0+le]-I[L+12+le];fe[0+le]=me+ke,fe[8+le]=me-ke,fe[4+le]=Se+ve,fe[12+le]=Se-ve}for(le=0;4>le;++le)me=(I=fe[0+4*le]+3)+fe[3+4*le],ke=fe[1+4*le]+fe[2+4*le],ve=fe[1+4*le]-fe[2+4*le],Se=I-fe[3+4*le],W[te+0]=me+ke>>3,W[te+16]=Se+ve>>3,W[te+32]=me-ke>>3,W[te+48]=Se-ve>>3,te+=64}function aa(I,L,W){var te,le=L-32,fe=Mo,me=255-I[le-1];for(te=0;te<W;++te){var ke,ve=fe,Se=me+I[L-1];for(ke=0;ke<W;++ke)I[L+ke]=ve[Se+I[le+ke]];L+=32}}function Al(I,L){aa(I,L,4)}function $p(I,L){aa(I,L,8)}function uu(I,L){aa(I,L,16)}function ls(I,L){var W;for(W=0;16>W;++W)o(I,L+32*W,I,L-32,16)}function du(I,L){var W;for(W=16;0<W;--W)a(I,L,I[L-1],16),L+=32}function _l(I,L,W){var te;for(te=0;16>te;++te)a(L,W+32*te,I,16)}function Ga(I,L){var W,te=16;for(W=0;16>W;++W)te+=I[L-1+32*W]+I[L+W-32];_l(te>>5,I,L)}function Zi(I,L){var W,te=8;for(W=0;16>W;++W)te+=I[L-1+32*W];_l(te>>4,I,L)}function Qh(I,L){var W,te=8;for(W=0;16>W;++W)te+=I[L+W-32];_l(te>>4,I,L)}function vd(I,L){_l(128,I,L)}function cn(I,L,W){return I+2*L+W+2>>2}function Hp(I,L){var W,te=L-32;for(te=new Uint8Array([cn(I[te-1],I[te+0],I[te+1]),cn(I[te+0],I[te+1],I[te+2]),cn(I[te+1],I[te+2],I[te+3]),cn(I[te+2],I[te+3],I[te+4])]),W=0;4>W;++W)o(I,L+32*W,te,0,te.length)}function hu(I,L){var W=I[L-1],te=I[L-1+32],le=I[L-1+64],fe=I[L-1+96];rt(I,L+0,16843009*cn(I[L-1-32],W,te)),rt(I,L+32,16843009*cn(W,te,le)),rt(I,L+64,16843009*cn(te,le,fe)),rt(I,L+96,16843009*cn(le,fe,fe))}function la(I,L){var W,te=4;for(W=0;4>W;++W)te+=I[L+W-32]+I[L-1+32*W];for(te>>=3,W=0;4>W;++W)a(I,L+32*W,te,4)}function Ad(I,L){var W=I[L-1+0],te=I[L-1+32],le=I[L-1+64],fe=I[L-1-32],me=I[L+0-32],ke=I[L+1-32],ve=I[L+2-32],Se=I[L+3-32];I[L+0+96]=cn(te,le,I[L-1+96]),I[L+1+96]=I[L+0+64]=cn(W,te,le),I[L+2+96]=I[L+1+64]=I[L+0+32]=cn(fe,W,te),I[L+3+96]=I[L+2+64]=I[L+1+32]=I[L+0+0]=cn(me,fe,W),I[L+3+64]=I[L+2+32]=I[L+1+0]=cn(ke,me,fe),I[L+3+32]=I[L+2+0]=cn(ve,ke,me),I[L+3+0]=cn(Se,ve,ke)}function _d(I,L){var W=I[L+1-32],te=I[L+2-32],le=I[L+3-32],fe=I[L+4-32],me=I[L+5-32],ke=I[L+6-32],ve=I[L+7-32];I[L+0+0]=cn(I[L+0-32],W,te),I[L+1+0]=I[L+0+32]=cn(W,te,le),I[L+2+0]=I[L+1+32]=I[L+0+64]=cn(te,le,fe),I[L+3+0]=I[L+2+32]=I[L+1+64]=I[L+0+96]=cn(le,fe,me),I[L+3+32]=I[L+2+64]=I[L+1+96]=cn(fe,me,ke),I[L+3+64]=I[L+2+96]=cn(me,ke,ve),I[L+3+96]=cn(ke,ve,ve)}function vc(I,L){var W=I[L-1+0],te=I[L-1+32],le=I[L-1+64],fe=I[L-1-32],me=I[L+0-32],ke=I[L+1-32],ve=I[L+2-32],Se=I[L+3-32];I[L+0+0]=I[L+1+64]=fe+me+1>>1,I[L+1+0]=I[L+2+64]=me+ke+1>>1,I[L+2+0]=I[L+3+64]=ke+ve+1>>1,I[L+3+0]=ve+Se+1>>1,I[L+0+96]=cn(le,te,W),I[L+0+64]=cn(te,W,fe),I[L+0+32]=I[L+1+96]=cn(W,fe,me),I[L+1+32]=I[L+2+96]=cn(fe,me,ke),I[L+2+32]=I[L+3+96]=cn(me,ke,ve),I[L+3+32]=cn(ke,ve,Se)}function Ya(I,L){var W=I[L+0-32],te=I[L+1-32],le=I[L+2-32],fe=I[L+3-32],me=I[L+4-32],ke=I[L+5-32],ve=I[L+6-32],Se=I[L+7-32];I[L+0+0]=W+te+1>>1,I[L+1+0]=I[L+0+64]=te+le+1>>1,I[L+2+0]=I[L+1+64]=le+fe+1>>1,I[L+3+0]=I[L+2+64]=fe+me+1>>1,I[L+0+32]=cn(W,te,le),I[L+1+32]=I[L+0+96]=cn(te,le,fe),I[L+2+32]=I[L+1+96]=cn(le,fe,me),I[L+3+32]=I[L+2+96]=cn(fe,me,ke),I[L+3+64]=cn(me,ke,ve),I[L+3+96]=cn(ke,ve,Se)}function Wp(I,L){var W=I[L-1+0],te=I[L-1+32],le=I[L-1+64],fe=I[L-1+96];I[L+0+0]=W+te+1>>1,I[L+2+0]=I[L+0+32]=te+le+1>>1,I[L+2+32]=I[L+0+64]=le+fe+1>>1,I[L+1+0]=cn(W,te,le),I[L+3+0]=I[L+1+32]=cn(te,le,fe),I[L+3+32]=I[L+1+64]=cn(le,fe,fe),I[L+3+64]=I[L+2+64]=I[L+0+96]=I[L+1+96]=I[L+2+96]=I[L+3+96]=fe}function fu(I,L){var W=I[L-1+0],te=I[L-1+32],le=I[L-1+64],fe=I[L-1+96],me=I[L-1-32],ke=I[L+0-32],ve=I[L+1-32],Se=I[L+2-32];I[L+0+0]=I[L+2+32]=W+me+1>>1,I[L+0+32]=I[L+2+64]=te+W+1>>1,I[L+0+64]=I[L+2+96]=le+te+1>>1,I[L+0+96]=fe+le+1>>1,I[L+3+0]=cn(ke,ve,Se),I[L+2+0]=cn(me,ke,ve),I[L+1+0]=I[L+3+32]=cn(W,me,ke),I[L+1+32]=I[L+3+64]=cn(te,W,me),I[L+1+64]=I[L+3+96]=cn(le,te,W),I[L+1+96]=cn(fe,le,te)}function Cd(I,L){var W;for(W=0;8>W;++W)o(I,L+32*W,I,L-32,8)}function Kn(I,L){var W;for(W=0;8>W;++W)a(I,L,I[L-1],8),L+=32}function Ac(I,L,W){var te;for(te=0;8>te;++te)a(L,W+32*te,I,8)}function ca(I,L){var W,te=8;for(W=0;8>W;++W)te+=I[L+W-32]+I[L-1+32*W];Ac(te>>4,I,L)}function Jh(I,L){var W,te=4;for(W=0;8>W;++W)te+=I[L+W-32];Ac(te>>3,I,L)}function Is(I,L){var W,te=4;for(W=0;8>W;++W)te+=I[L-1+32*W];Ac(te>>3,I,L)}function _c(I,L){Ac(128,I,L)}function Ts(I,L,W){var te=I[L-W],le=I[L+0],fe=3*(le-te)+Nl[1020+I[L-2*W]-I[L+W]],me=Ml[112+(fe+4>>3)];I[L-W]=Mo[255+te+Ml[112+(fe+3>>3)]],I[L+0]=Mo[255+le-me]}function xd(I,L,W,te){var le=I[L+0],fe=I[L+W];return eo[255+I[L-2*W]-I[L-W]]>te||eo[255+fe-le]>te}function pu(I,L,W,te){return 4*eo[255+I[L-W]-I[L+0]]+eo[255+I[L-2*W]-I[L+W]]<=te}function Zh(I,L,W,te,le){var fe=I[L-3*W],me=I[L-2*W],ke=I[L-W],ve=I[L+0],Se=I[L+W],Re=I[L+2*W],tt=I[L+3*W];return 4*eo[255+ke-ve]+eo[255+me-Se]>te?0:eo[255+I[L-4*W]-fe]<=le&&eo[255+fe-me]<=le&&eo[255+me-ke]<=le&&eo[255+tt-Re]<=le&&eo[255+Re-Se]<=le&&eo[255+Se-ve]<=le}function Sd(I,L,W,te){var le=2*te+1;for(te=0;16>te;++te)pu(I,L+te,W,le)&&Ts(I,L+te,W)}function ua(I,L,W,te){var le=2*te+1;for(te=0;16>te;++te)pu(I,L+te*W,1,le)&&Ts(I,L+te*W,1)}function Ns(I,L,W,te){var le;for(le=3;0<le;--le)Sd(I,L+=4*W,W,te)}function Gp(I,L,W,te){var le;for(le=3;0<le;--le)ua(I,L+=4,W,te)}function Cl(I,L,W,te,le,fe,me,ke){for(fe=2*fe+1;0<le--;){if(Zh(I,L,W,fe,me))if(xd(I,L,W,ke))Ts(I,L,W);else{var ve=I,Se=L,Re=W,tt=ve[Se-2*Re],nt=ve[Se-Re],Ge=ve[Se+0],kt=ve[Se+Re],ot=ve[Se+2*Re],Be=27*(gt=Nl[1020+3*(Ge-nt)+Nl[1020+tt-kt]])+63>>7,$e=18*gt+63>>7,gt=9*gt+63>>7;ve[Se-3*Re]=Mo[255+ve[Se-3*Re]+gt],ve[Se-2*Re]=Mo[255+tt+$e],ve[Se-Re]=Mo[255+nt+Be],ve[Se+0]=Mo[255+Ge-Be],ve[Se+Re]=Mo[255+kt-$e],ve[Se+2*Re]=Mo[255+ot-gt]}L+=te}}function Ms(I,L,W,te,le,fe,me,ke){for(fe=2*fe+1;0<le--;){if(Zh(I,L,W,fe,me))if(xd(I,L,W,ke))Ts(I,L,W);else{var ve=I,Se=L,Re=W,tt=ve[Se-Re],nt=ve[Se+0],Ge=ve[Se+Re],kt=Ml[112+((ot=3*(nt-tt))+4>>3)],ot=Ml[112+(ot+3>>3)],Be=kt+1>>1;ve[Se-2*Re]=Mo[255+ve[Se-2*Re]+Be],ve[Se-Re]=Mo[255+tt+ot],ve[Se+0]=Mo[255+nt-kt],ve[Se+Re]=Mo[255+Ge-Be]}L+=te}}function xl(I,L,W,te,le,fe){Cl(I,L,W,1,16,te,le,fe)}function Ps(I,L,W,te,le,fe){Cl(I,L,1,W,16,te,le,fe)}function Yp(I,L,W,te,le,fe){var me;for(me=3;0<me;--me)Ms(I,L+=4*W,W,1,16,te,le,fe)}function mu(I,L,W,te,le,fe){var me;for(me=3;0<me;--me)Ms(I,L+=4,1,W,16,te,le,fe)}function Kp(I,L,W,te,le,fe,me,ke){Cl(I,L,le,1,8,fe,me,ke),Cl(W,te,le,1,8,fe,me,ke)}function Ed(I,L,W,te,le,fe,me,ke){Cl(I,L,1,le,8,fe,me,ke),Cl(W,te,1,le,8,fe,me,ke)}function da(I,L,W,te,le,fe,me,ke){Ms(I,L+4*le,le,1,8,fe,me,ke),Ms(W,te+4*le,le,1,8,fe,me,ke)}function Xh(I,L,W,te,le,fe,me,ke){Ms(I,L+4,1,le,8,fe,me,ke),Ms(W,te+4,1,le,8,fe,me,ke)}function Cc(){this.ba=new Br,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new jn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function gu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Dd(){this.ua=0,this.Wa=new ue,this.vb=new ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new j,this.yc=new R}function ef(){this.xb=this.a=0,this.l=new Wa,this.ca=new Br,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Dd,this.ab=0,this.gc=d(4,bu),this.Oc=0}function xc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Wa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sc(I,L,W,te,le,fe,me){for(I=I==null?0:I[L+0],L=0;L<me;++L)le[fe+L]=I+W[te+L]&255,I=le[fe+L]}function ku(I,L,W,te,le,fe,me){var ke;if(I==null)Sc(null,null,W,te,le,fe,me);else for(ke=0;ke<me;++ke)le[fe+ke]=I[L+ke]+W[te+ke]&255}function Sl(I,L,W,te,le,fe,me){if(I==null)Sc(null,null,W,te,le,fe,me);else{var ke,ve=I[L+0],Se=ve,Re=ve;for(ke=0;ke<me;++ke)Se=Re+(ve=I[L+ke])-Se,Re=W[te+ke]+(-256&Se?0>Se?0:255:Se)&255,Se=ve,le[fe+ke]=Re}}function wu(I,L,W,te){var le=L.width,fe=L.o;if(r(I!=null&&L!=null),0>W||0>=te||W+te>fe)return null;if(!I.Cc){if(I.ga==null){var me;if(I.ga=new xc,(me=I.ga==null)||(me=L.width*L.o,r(I.Gb.length==0),I.Gb=l(me),I.Uc=0,I.Gb==null?me=0:(I.mb=I.Gb,I.nb=I.Uc,I.rc=null,me=1),me=!me),!me){me=I.ga;var ke=I.Fa,ve=I.P,Se=I.qc,Re=I.mb,tt=I.nb,nt=ve+1,Ge=Se-1,kt=me.l;if(r(ke!=null&&Re!=null&&L!=null),Xa[0]=null,Xa[1]=Sc,Xa[2]=ku,Xa[3]=Sl,me.ca=Re,me.tb=tt,me.c=L.width,me.i=L.height,r(0<me.c&&0<me.i),1>=Se)L=0;else if(me.$a=ke[ve+0]>>0&3,me.Z=ke[ve+0]>>2&3,me.Lc=ke[ve+0]>>4&3,ve=ke[ve+0]>>6&3,0>me.$a||1<me.$a||4<=me.Z||1<me.Lc||ve)L=0;else if(kt.put=Qi,kt.ac=Nn,kt.bc=ii,kt.ma=me,kt.width=L.width,kt.height=L.height,kt.Da=L.Da,kt.v=L.v,kt.va=L.va,kt.j=L.j,kt.o=L.o,me.$a)e:{r(me.$a==1),L=Ui();t:for(;;){if(L==null){L=0;break e}if(r(me!=null),me.mc=L,L.c=me.c,L.i=me.i,L.l=me.l,L.l.ma=me,L.l.width=me.c,L.l.height=me.i,L.a=0,oe(L.m,ke,nt,Ge),!Io(me.c,me.i,1,L,null)||(L.ab==1&&L.gc[0].hc==3&&ss(L.s)?(me.ic=1,ke=L.c*L.i,L.Ta=null,L.Ua=0,L.V=l(ke),L.Ba=0,L.V==null?(L.a=1,L=0):L=1):(me.ic=0,L=sa(L,me.c)),!L))break t;L=1;break e}me.mc=null,L=0}else L=Ge>=me.c*me.i;me=!L}if(me)return null;I.ga.Lc!=1?I.Ga=0:te=fe-W}r(I.ga!=null),r(W+te<=fe);e:{if(L=(ke=I.ga).c,fe=ke.l.o,ke.$a==0){if(nt=I.rc,Ge=I.Vc,kt=I.Fa,ve=I.P+1+W*L,Se=I.mb,Re=I.nb+W*L,r(ve<=I.P+I.qc),ke.Z!=0)for(r(Xa[ke.Z]!=null),me=0;me<te;++me)Xa[ke.Z](nt,Ge,kt,ve,Se,Re,L),nt=Se,Ge=Re,Re+=L,ve+=L;else for(me=0;me<te;++me)o(Se,Re,kt,ve,L),nt=Se,Ge=Re,Re+=L,ve+=L;I.rc=nt,I.Vc=Ge}else{if(r(ke.mc!=null),L=W+te,r((me=ke.mc)!=null),r(L<=me.i),me.C>=L)L=1;else if(ke.ic||Ze(),ke.ic){ke=me.V,nt=me.Ba,Ge=me.c;var ot=me.i,Be=(kt=1,ve=me.$/Ge,Se=me.$%Ge,Re=me.m,tt=me.s,me.$),$e=Ge*ot,gt=Ge*L,yt=tt.wc,bt=Be<gt?Bn(tt,Se,ve):null;r(Be<=$e),r(L<=ot),r(ss(tt));t:for(;;){for(;!Re.h&&Be<gt;){if(Se&yt||(bt=Bn(tt,Se,ve)),r(bt!=null),we(Re),256>(ot=oi(bt.G[0],bt.H[0],Re)))ke[nt+Be]=ot,++Be,++Se>=Ge&&(Se=0,++ve<=L&&!(ve%16)&&Eo(me,ve));else{if(!(280>ot)){kt=0;break t}ot=zi(ot-256,Re);var jt,Xe=oi(bt.G[4],bt.H[4],Re);if(we(Re),!(Be>=(Xe=Ji(Ge,Xe=zi(Xe,Re)))&&$e-Be>=ot)){kt=0;break t}for(jt=0;jt<ot;++jt)ke[nt+Be+jt]=ke[nt+Be+jt-Xe];for(Be+=ot,Se+=ot;Se>=Ge;)Se-=Ge,++ve<=L&&!(ve%16)&&Eo(me,ve);Be<gt&&Se&yt&&(bt=Bn(tt,Se,ve))}r(Re.h==ae(Re))}Eo(me,ve>L?L:ve);break t}!kt||Re.h&&Be<$e?(kt=0,me.a=Re.h?5:3):me.$=Be,L=kt}else L=Do(me,me.V,me.Ba,me.c,me.i,L,Ha);if(!L){te=0;break e}}W+te>=fe&&(I.Cc=1),te=1}if(!te)return null;if(I.Cc&&((te=I.ga)!=null&&(te.mc=null),I.ga=null,0<I.Ga))return alert("todo:WebPDequantizeLevels"),null}return I.nb+W*le}function z(I,L,W,te,le,fe){for(;0<le--;){var me,ke=I,ve=L+(W?1:0),Se=I,Re=L+(W?0:3);for(me=0;me<te;++me){var tt=Se[Re+4*me];tt!=255&&(tt*=32897,ke[ve+4*me+0]=ke[ve+4*me+0]*tt>>23,ke[ve+4*me+1]=ke[ve+4*me+1]*tt>>23,ke[ve+4*me+2]=ke[ve+4*me+2]*tt>>23)}L+=fe}}function ce(I,L,W,te,le){for(;0<te--;){var fe;for(fe=0;fe<W;++fe){var me=I[L+2*fe+0],ke=15&(Se=I[L+2*fe+1]),ve=4369*ke,Se=(240&Se|Se>>4)*ve>>16;I[L+2*fe+0]=(240&me|me>>4)*ve>>16&240|(15&me|me<<4)*ve>>16>>4&15,I[L+2*fe+1]=240&Se|ke}L+=le}}function De(I,L,W,te,le,fe,me,ke){var ve,Se,Re=255;for(Se=0;Se<le;++Se){for(ve=0;ve<te;++ve){var tt=I[L+ve];fe[me+4*ve]=tt,Re&=tt}L+=W,me+=ke}return Re!=255}function je(I,L,W,te,le){var fe;for(fe=0;fe<le;++fe)W[te+fe]=I[L+fe]>>8}function Ze(){Ko=z,Ut=ce,Qn=De,Rr=je}function dt(I,L,W){B[I]=function(te,le,fe,me,ke,ve,Se,Re,tt,nt,Ge,kt,ot,Be,$e,gt,yt){var bt,jt=yt-1>>1,Xe=ke[ve+0]|Se[Re+0]<<16,Jt=tt[nt+0]|Ge[kt+0]<<16;r(te!=null);var Pt=3*Xe+Jt+131074>>2;for(L(te[le+0],255&Pt,Pt>>16,ot,Be),fe!=null&&(Pt=3*Jt+Xe+131074>>2,L(fe[me+0],255&Pt,Pt>>16,$e,gt)),bt=1;bt<=jt;++bt){var Nt=ke[ve+bt]|Se[Re+bt]<<16,Fn=tt[nt+bt]|Ge[kt+bt]<<16,On=Xe+Nt+Jt+Fn+524296,Cn=On+2*(Nt+Jt)>>3;Pt=Cn+Xe>>1,Xe=(On=On+2*(Xe+Fn)>>3)+Nt>>1,L(te[le+2*bt-1],255&Pt,Pt>>16,ot,Be+(2*bt-1)*W),L(te[le+2*bt-0],255&Xe,Xe>>16,ot,Be+(2*bt-0)*W),fe!=null&&(Pt=On+Jt>>1,Xe=Cn+Fn>>1,L(fe[me+2*bt-1],255&Pt,Pt>>16,$e,gt+(2*bt-1)*W),L(fe[me+2*bt+0],255&Xe,Xe>>16,$e,gt+(2*bt+0)*W)),Xe=Nt,Jt=Fn}1&yt||(Pt=3*Xe+Jt+131074>>2,L(te[le+yt-1],255&Pt,Pt>>16,ot,Be+(yt-1)*W),fe!=null&&(Pt=3*Jt+Xe+131074>>2,L(fe[me+yt-1],255&Pt,Pt>>16,$e,gt+(yt-1)*W)))}}function Ct(){us[wa]=Ow,us[Od]=Db,us[Ld]=Lw,us[jd]=jw,us[Bd]=Ib,us[sf]=Tb,us[yb]=Bw,us[Jp]=Db,us[af]=jw,us[Rd]=Ib,us[lf]=Tb}function Ot(I){return I&-16384?0>I?0:255:I>>Nb}function Wt(I,L){return Ot((19077*I>>8)+(26149*L>>8)-14234)}function un(I,L,W){return Ot((19077*I>>8)-(6419*L>>8)-(13320*W>>8)+8708)}function ln(I,L){return Ot((19077*I>>8)+(33050*L>>8)-17685)}function In(I,L,W,te,le){te[le+0]=Wt(I,W),te[le+1]=un(I,L,W),te[le+2]=ln(I,L)}function Er(I,L,W,te,le){te[le+0]=ln(I,L),te[le+1]=un(I,L,W),te[le+2]=Wt(I,W)}function Mr(I,L,W,te,le){var fe=un(I,L,W);L=fe<<3&224|ln(I,L)>>3,te[le+0]=248&Wt(I,W)|fe>>5,te[le+1]=L}function Yr(I,L,W,te,le){var fe=240&ln(I,L)|15;te[le+0]=240&Wt(I,W)|un(I,L,W)>>4,te[le+1]=fe}function Hi(I,L,W,te,le){te[le+0]=255,In(I,L,W,te,le+1)}function ki(I,L,W,te,le){Er(I,L,W,te,le),te[le+3]=255}function Os(I,L,W,te,le){In(I,L,W,te,le),te[le+3]=255}function Ho(I,L){return 0>I?0:I>L?L:I}function ha(I,L,W){B[I]=function(te,le,fe,me,ke,ve,Se,Re,tt){for(var nt=Re+(-2&tt)*W;Re!=nt;)L(te[le+0],fe[me+0],ke[ve+0],Se,Re),L(te[le+1],fe[me+0],ke[ve+0],Se,Re+W),le+=2,++me,++ve,Re+=2*W;1&tt&&L(te[le+0],fe[me+0],ke[ve+0],Se,Re)}}function tf(I,L,W){return W==0?I==0?L==0?6:5:L==0?4:0:W}function Id(I,L,W,te,le){switch(I>>>30){case 3:Ln(L,W,te,le,0);break;case 2:Pr(L,W,te,le);break;case 1:Kr(L,W,te,le)}}function Ls(I,L){var W,te,le=L.M,fe=L.Nb,me=I.oc,ke=I.pc+40,ve=I.oc,Se=I.pc+584,Re=I.oc,tt=I.pc+600;for(W=0;16>W;++W)me[ke+32*W-1]=129;for(W=0;8>W;++W)ve[Se+32*W-1]=129,Re[tt+32*W-1]=129;for(0<le?me[ke-1-32]=ve[Se-1-32]=Re[tt-1-32]=129:(a(me,ke-32-1,127,21),a(ve,Se-32-1,127,9),a(Re,tt-32-1,127,9)),te=0;te<I.za;++te){var nt=L.ya[L.aa+te];if(0<te){for(W=-1;16>W;++W)o(me,ke+32*W-4,me,ke+32*W+12,4);for(W=-1;8>W;++W)o(ve,Se+32*W-4,ve,Se+32*W+4,4),o(Re,tt+32*W-4,Re,tt+32*W+4,4)}var Ge=I.Gd,kt=I.Hd+te,ot=nt.ad,Be=nt.Hc;if(0<le&&(o(me,ke-32,Ge[kt].y,0,16),o(ve,Se-32,Ge[kt].f,0,8),o(Re,tt-32,Ge[kt].ea,0,8)),nt.Za){var $e=me,gt=ke-32+16;for(0<le&&(te>=I.za-1?a($e,gt,Ge[kt].y[15],4):o($e,gt,Ge[kt+1].y,0,4)),W=0;4>W;W++)$e[gt+128+W]=$e[gt+256+W]=$e[gt+384+W]=$e[gt+0+W];for(W=0;16>W;++W,Be<<=2)$e=me,gt=ke+uf[W],js[nt.Ob[W]]($e,gt),Id(Be,ot,16*+W,$e,gt)}else if($e=tf(te,le,nt.Ob[0]),Ol[$e](me,ke),Be!=0)for(W=0;16>W;++W,Be<<=2)Id(Be,ot,16*+W,me,ke+uf[W]);for(W=nt.Gc,$e=tf(te,le,nt.Dd),Za[$e](ve,Se),Za[$e](Re,tt),Be=ot,$e=ve,gt=Se,255&(nt=W>>0)&&(170&nt?Ic(Be,256,$e,gt):Go(Be,256,$e,gt)),nt=Re,Be=tt,255&(W>>=8)&&(170&W?Ic(ot,320,nt,Be):Go(ot,320,nt,Be)),le<I.Ub-1&&(o(Ge[kt].y,0,me,ke+480,16),o(Ge[kt].f,0,ve,Se+224,8),o(Ge[kt].ea,0,Re,tt+224,8)),W=8*fe*I.B,Ge=I.sa,kt=I.ta+16*te+16*fe*I.R,ot=I.qa,nt=I.ra+8*te+W,Be=I.Ha,$e=I.Ia+8*te+W,W=0;16>W;++W)o(Ge,kt+W*I.R,me,ke+32*W,16);for(W=0;8>W;++W)o(ot,nt+W*I.B,ve,Se+32*W,8),o(Be,$e+W*I.B,Re,tt+32*W,8)}}function fa(I,L,W,te,le,fe,me,ke,ve){var Se=[0],Re=[0],tt=0,nt=ve!=null?ve.kd:0,Ge=ve??new gu;if(I==null||12>W)return 7;Ge.data=I,Ge.w=L,Ge.ha=W,L=[L],W=[W],Ge.gb=[Ge.gb];e:{var kt=L,ot=W,Be=Ge.gb;if(r(I!=null),r(ot!=null),r(Be!=null),Be[0]=0,12<=ot[0]&&!n(I,kt[0],"RIFF")){if(n(I,kt[0]+8,"WEBP")){Be=3;break e}var $e=Ue(I,kt[0]+4);if(12>$e||4294967286<$e){Be=3;break e}if(nt&&$e>ot[0]-8){Be=7;break e}Be[0]=$e,kt[0]+=12,ot[0]-=12}Be=0}if(Be!=0)return Be;for($e=0<Ge.gb[0],W=W[0];;){e:{var gt=I;ot=L,Be=W;var yt=Se,bt=Re,jt=kt=[0];if((Pt=tt=[tt])[0]=0,8>Be[0])Be=7;else{if(!n(gt,ot[0],"VP8X")){if(Ue(gt,ot[0]+4)!=10){Be=3;break e}if(18>Be[0]){Be=7;break e}var Xe=Ue(gt,ot[0]+8),Jt=1+Je(gt,ot[0]+12);if(2147483648<=Jt*(gt=1+Je(gt,ot[0]+15))){Be=3;break e}jt!=null&&(jt[0]=Xe),yt!=null&&(yt[0]=Jt),bt!=null&&(bt[0]=gt),ot[0]+=18,Be[0]-=18,Pt[0]=1}Be=0}}if(tt=tt[0],kt=kt[0],Be!=0)return Be;if(ot=!!(2&kt),!$e&&tt)return 3;if(fe!=null&&(fe[0]=!!(16&kt)),me!=null&&(me[0]=ot),ke!=null&&(ke[0]=0),me=Se[0],kt=Re[0],tt&&ot&&ve==null){Be=0;break}if(4>W){Be=7;break}if($e&&tt||!$e&&!tt&&!n(I,L[0],"ALPH")){W=[W],Ge.na=[Ge.na],Ge.P=[Ge.P],Ge.Sa=[Ge.Sa];e:{Xe=I,Be=L,$e=W;var Pt=Ge.gb;yt=Ge.na,bt=Ge.P,jt=Ge.Sa,Jt=22,r(Xe!=null),r($e!=null),gt=Be[0];var Nt=$e[0];for(r(yt!=null),r(jt!=null),yt[0]=null,bt[0]=null,jt[0]=0;;){if(Be[0]=gt,$e[0]=Nt,8>Nt){Be=7;break e}var Fn=Ue(Xe,gt+4);if(4294967286<Fn){Be=3;break e}var On=8+Fn+1&-2;if(Jt+=On,0<Pt&&Jt>Pt){Be=3;break e}if(!n(Xe,gt,"VP8 ")||!n(Xe,gt,"VP8L")){Be=0;break e}if(Nt[0]<On){Be=7;break e}n(Xe,gt,"ALPH")||(yt[0]=Xe,bt[0]=gt+8,jt[0]=Fn),gt+=On,Nt-=On}}if(W=W[0],Ge.na=Ge.na[0],Ge.P=Ge.P[0],Ge.Sa=Ge.Sa[0],Be!=0)break}W=[W],Ge.Ja=[Ge.Ja],Ge.xa=[Ge.xa];e:if(Pt=I,Be=L,$e=W,yt=Ge.gb[0],bt=Ge.Ja,jt=Ge.xa,Xe=Be[0],gt=!n(Pt,Xe,"VP8 "),Jt=!n(Pt,Xe,"VP8L"),r(Pt!=null),r($e!=null),r(bt!=null),r(jt!=null),8>$e[0])Be=7;else{if(gt||Jt){if(Pt=Ue(Pt,Xe+4),12<=yt&&Pt>yt-12){Be=3;break e}if(nt&&Pt>$e[0]-8){Be=7;break e}bt[0]=Pt,Be[0]+=8,$e[0]-=8,jt[0]=Jt}else jt[0]=5<=$e[0]&&Pt[Xe+0]==47&&!(Pt[Xe+4]>>5),bt[0]=$e[0];Be=0}if(W=W[0],Ge.Ja=Ge.Ja[0],Ge.xa=Ge.xa[0],L=L[0],Be!=0)break;if(4294967286<Ge.Ja)return 3;if(ke==null||ot||(ke[0]=Ge.xa?2:1),me=[me],kt=[kt],Ge.xa){if(5>W){Be=7;break}ke=me,nt=kt,ot=fe,I==null||5>W?I=0:5<=W&&I[L+0]==47&&!(I[L+4]>>5)?($e=[0],Pt=[0],yt=[0],oe(bt=new X,I,L,W),$t(bt,$e,Pt,yt)?(ke!=null&&(ke[0]=$e[0]),nt!=null&&(nt[0]=Pt[0]),ot!=null&&(ot[0]=yt[0]),I=1):I=0):I=0}else{if(10>W){Be=7;break}ke=kt,I==null||10>W||!yl(I,L+3,W-3)?I=0:(nt=I[L+0]|I[L+1]<<8|I[L+2]<<16,ot=16383&(I[L+7]<<8|I[L+6]),I=16383&(I[L+9]<<8|I[L+8]),1&nt||3<(nt>>1&7)||!(nt>>4&1)||nt>>5>=Ge.Ja||!ot||!I?I=0:(me&&(me[0]=ot),ke&&(ke[0]=I),I=1))}if(!I||(me=me[0],kt=kt[0],tt&&(Se[0]!=me||Re[0]!=kt)))return 3;ve!=null&&(ve[0]=Ge,ve.offset=L-ve.w,r(4294967286>L-ve.w),r(ve.offset==ve.ha-W));break}return Be==0||Be==7&&tt&&ve==null?(fe!=null&&(fe[0]|=Ge.na!=null&&0<Ge.na.length),te!=null&&(te[0]=me),le!=null&&(le[0]=kt),0):Be}function Td(I,L,W){var te=L.width,le=L.height,fe=0,me=0,ke=te,ve=le;if(L.Da=I!=null&&0<I.Da,L.Da&&(ke=I.cd,ve=I.bd,fe=I.v,me=I.j,11>W||(fe&=-2,me&=-2),0>fe||0>me||0>=ke||0>=ve||fe+ke>te||me+ve>le))return 0;if(L.v=fe,L.j=me,L.va=fe+ke,L.o=me+ve,L.U=ke,L.T=ve,L.da=I!=null&&0<I.da,L.da){if(!ge(ke,ve,W=[I.ib],fe=[I.hb]))return 0;L.ib=W[0],L.hb=fe[0]}return L.ob=I!=null&&I.ob,L.Kb=I==null||!I.Sd,L.da&&(L.ob=L.ib<3*te/4&&L.hb<3*le/4,L.Kb=0),1}function Nd(I){if(I==null)return 2;if(11>I.S){var L=I.f.RGBA;L.fb+=(I.height-1)*L.A,L.A=-L.A}else L=I.f.kb,I=I.height,L.O+=(I-1)*L.fa,L.fa=-L.fa,L.N+=(I-1>>1)*L.Ab,L.Ab=-L.Ab,L.W+=(I-1>>1)*L.Db,L.Db=-L.Db,L.F!=null&&(L.J+=(I-1)*L.lb,L.lb=-L.lb);return 0}function Ka(I,L,W,te){if(te==null||0>=I||0>=L)return 2;if(W!=null){if(W.Da){var le=W.cd,fe=W.bd,me=-2&W.v,ke=-2&W.j;if(0>me||0>ke||0>=le||0>=fe||me+le>I||ke+fe>L)return 2;I=le,L=fe}if(W.da){if(!ge(I,L,le=[W.ib],fe=[W.hb]))return 2;I=le[0],L=fe[0]}}te.width=I,te.height=L;e:{var ve=te.width,Se=te.height;if(I=te.S,0>=ve||0>=Se||!(I>=wa&&13>I))I=2;else{if(0>=te.Rd&&te.sd==null){me=fe=le=L=0;var Re=(ke=ve*Qo[I])*Se;if(11>I||(fe=(Se+1)/2*(L=(ve+1)/2),I==12&&(me=(le=ve)*Se)),(Se=l(Re+2*fe+me))==null){I=1;break e}te.sd=Se,11>I?((ve=te.f.RGBA).eb=Se,ve.fb=0,ve.A=ke,ve.size=Re):((ve=te.f.kb).y=Se,ve.O=0,ve.fa=ke,ve.Fd=Re,ve.f=Se,ve.N=0+Re,ve.Ab=L,ve.Cd=fe,ve.ea=Se,ve.W=0+Re+fe,ve.Db=L,ve.Ed=fe,I==12&&(ve.F=Se,ve.J=0+Re+2*fe),ve.Tc=me,ve.lb=le)}if(L=1,le=te.S,fe=te.width,me=te.height,le>=wa&&13>le)if(11>le)I=te.f.RGBA,L&=(ke=Math.abs(I.A))*(me-1)+fe<=I.size,L&=ke>=fe*Qo[le],L&=I.eb!=null;else{I=te.f.kb,ke=(fe+1)/2,Re=(me+1)/2,ve=Math.abs(I.fa),Se=Math.abs(I.Ab);var tt=Math.abs(I.Db),nt=Math.abs(I.lb),Ge=nt*(me-1)+fe;L&=ve*(me-1)+fe<=I.Fd,L&=Se*(Re-1)+ke<=I.Cd,L=(L&=tt*(Re-1)+ke<=I.Ed)&ve>=fe&Se>=ke&tt>=ke,L&=I.y!=null,L&=I.f!=null,L&=I.ea!=null,le==12&&(L&=nt>=fe,L&=Ge<=I.Tc,L&=I.F!=null)}else L=0;I=L?0:2}}return I!=0||W!=null&&W.fd&&(I=Nd(te)),I}var wi=64,yu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],vu=24,Au=32,_u=8,ao=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Me("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(I){return I},B.Predictor2=function(I,L,W){return L[W+0]},B.Predictor3=function(I,L,W){return L[W+1]},B.Predictor4=function(I,L,W){return L[W-1]},B.Predictor5=function(I,L,W){return Ee(Ee(I,L[W+1]),L[W+0])},B.Predictor6=function(I,L,W){return Ee(I,L[W-1])},B.Predictor7=function(I,L,W){return Ee(I,L[W+0])},B.Predictor8=function(I,L,W){return Ee(L[W-1],L[W+0])},B.Predictor9=function(I,L,W){return Ee(L[W+0],L[W+1])},B.Predictor10=function(I,L,W){return Ee(Ee(I,L[W-1]),Ee(L[W+0],L[W+1]))},B.Predictor11=function(I,L,W){var te=L[W+0];return 0>=He(te>>24&255,I>>24&255,(L=L[W-1])>>24&255)+He(te>>16&255,I>>16&255,L>>16&255)+He(te>>8&255,I>>8&255,L>>8&255)+He(255&te,255&I,255&L)?te:I},B.Predictor12=function(I,L,W){var te=L[W+0];return(qe((I>>24&255)+(te>>24&255)-((L=L[W-1])>>24&255))<<24|qe((I>>16&255)+(te>>16&255)-(L>>16&255))<<16|qe((I>>8&255)+(te>>8&255)-(L>>8&255))<<8|qe((255&I)+(255&te)-(255&L)))>>>0},B.Predictor13=function(I,L,W){var te=L[W-1];return(Ve((I=Ee(I,L[W+0]))>>24&255,te>>24&255)<<24|Ve(I>>16&255,te>>16&255)<<16|Ve(I>>8&255,te>>8&255)<<8|Ve(I>>0&255,te>>0&255))>>>0};var Qp=B.PredictorAdd0;B.PredictorAdd1=st,Me("Predictor2","PredictorAdd2"),Me("Predictor3","PredictorAdd3"),Me("Predictor4","PredictorAdd4"),Me("Predictor5","PredictorAdd5"),Me("Predictor6","PredictorAdd6"),Me("Predictor7","PredictorAdd7"),Me("Predictor8","PredictorAdd8"),Me("Predictor9","PredictorAdd9"),Me("Predictor10","PredictorAdd10"),Me("Predictor11","PredictorAdd11"),Me("Predictor12","PredictorAdd12"),Me("Predictor13","PredictorAdd13");var Cu=B.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(I){return I>>8&255},function(I){return I}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(I){return I},function(I){return I>>8&255});var nf,Wo=B.ColorIndexInverseTransform,xu=B.MapARGB,Md=B.VP8LColorIndexInverseTransformAlpha,rf=B.MapAlpha,Qa=B.VP8LPredictorsAdd=[];Qa.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var Ec,No,Xi,El,pa,ma,Dc,Ln,Pr,Ic,Kr,Go,Tc,of,cs,ga,Dl,yi,Nc,Mc,Il,nr,Tl,Yo,Ko,Ut,Qn,Rr,Qr=l(511),ba=l(2041),Ar=l(225),ka=l(767),Pd=0,Nl=ba,Ml=Ar,Mo=ka,eo=Qr,wa=0,Od=1,Ld=2,jd=3,Bd=4,sf=5,yb=6,Jp=7,af=8,Rd=9,lf=10,vb=[2,3,7],Zp=[3,3,11],Ab=[280,256,256,256,40],_b=[0,1,1,1,0],Nw=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Mw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Cb=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Pn=8,Xp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Pl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ja=null,cf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],em=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],rr=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],tm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Pw=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Sb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ol=[],js=[],Za=[],Ll=1,Eb=2,Xa=[],us=[];dt("UpsampleRgbLinePair",In,3),dt("UpsampleBgrLinePair",Er,3),dt("UpsampleRgbaLinePair",Os,4),dt("UpsampleBgraLinePair",ki,4),dt("UpsampleArgbLinePair",Hi,4),dt("UpsampleRgba4444LinePair",Yr,2),dt("UpsampleRgb565LinePair",Mr,2);var Ow=B.UpsampleRgbLinePair,Lw=B.UpsampleBgrLinePair,Db=B.UpsampleRgbaLinePair,jw=B.UpsampleBgraLinePair,Ib=B.UpsampleArgbLinePair,Tb=B.UpsampleRgba4444LinePair,Bw=B.UpsampleRgb565LinePair,Fd=16,Su=1<<Fd-1,zd=-227,nm=482,Nb=6,Mb=0,Bs=l(256),Li=l(256),ji=l(256),lo=l(256),ya=l(nm-zd),rm=l(nm-zd);ha("YuvToRgbRow",In,3),ha("YuvToBgrRow",Er,3),ha("YuvToRgbaRow",Os,4),ha("YuvToBgraRow",ki,4),ha("YuvToArgbRow",Hi,4),ha("YuvToRgba4444Row",Yr,2),ha("YuvToRgb565Row",Mr,2);var uf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Eu=[0,2,8],Rw=[8,7,6,4,4,2,2,2,1,1,1,1],Pb=1;this.WebPDecodeRGBA=function(I,L,W,te,le){var fe=Od,me=new Cc,ke=new Br;me.ba=ke,ke.S=fe,ke.width=[ke.width],ke.height=[ke.height];var ve=ke.width,Se=ke.height,Re=new Wr;if(Re==null||I==null)var tt=2;else r(Re!=null),tt=fa(I,L,W,Re.width,Re.height,Re.Pd,Re.Qd,Re.format,null);if(tt!=0?ve=0:(ve!=null&&(ve[0]=Re.width[0]),Se!=null&&(Se[0]=Re.height[0]),ve=1),ve){ke.width=ke.width[0],ke.height=ke.height[0],te!=null&&(te[0]=ke.width),le!=null&&(le[0]=ke.height);e:{if(te=new Wa,(le=new gu).data=I,le.w=L,le.ha=W,le.kd=1,L=[0],r(le!=null),((I=fa(le.data,le.w,le.ha,null,null,null,L,null,le))==0||I==7)&&L[0]&&(I=4),(L=I)==0){if(r(me!=null),te.data=le.data,te.w=le.w+le.offset,te.ha=le.ha-le.offset,te.put=Qi,te.ac=Nn,te.bc=ii,te.ma=me,le.xa){if((I=Ui())==null){me=1;break e}if(function(nt,Ge){var kt=[0],ot=[0],Be=[0];t:for(;;){if(nt==null)return 0;if(Ge==null)return nt.a=2,0;if(nt.l=Ge,nt.a=0,oe(nt.m,Ge.data,Ge.w,Ge.ha),!$t(nt.m,kt,ot,Be)){nt.a=3;break t}if(nt.xb=Eb,Ge.width=kt[0],Ge.height=ot[0],!Io(kt[0],ot[0],1,nt,null))break t;return 1}return r(nt.a!=0),0}(I,te)){if(te=(L=Ka(te.width,te.height,me.Oa,me.ba))==0){t:{te=I;n:for(;;){if(te==null){te=0;break t}if(r(te.s.yc!=null),r(te.s.Ya!=null),r(0<te.s.Wb),r((W=te.l)!=null),r((le=W.ma)!=null),te.xb!=0){if(te.ca=le.ba,te.tb=le.tb,r(te.ca!=null),!Td(le.Oa,W,jd)){te.a=2;break n}if(!sa(te,W.width)||W.da)break n;if((W.da||pn(te.ca.S))&&Ze(),11>te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),te.ca.f.kb.F!=null&&Ze()),te.Pb&&0<te.s.ua&&te.s.vb.X==null&&!Z(te.s.vb,te.s.Wa.Xa)){te.a=1;break n}te.xb=0}if(!Do(te,te.V,te.Ba,te.c,te.i,W.o,os))break n;le.Dc=te.Ma,te=1;break t}r(te.a!=0),te=0}te=!te}te&&(L=I.a)}else L=I.a}else{if((I=new lu)==null){me=1;break e}if(I.Fa=le.na,I.P=le.P,I.qc=le.Sa,kc(I,te)){if((L=Ka(te.width,te.height,me.Oa,me.ba))==0){if(I.Aa=0,W=me.Oa,r((le=I)!=null),W!=null){if(0<(ve=0>(ve=W.Md)?0:100<ve?255:255*ve/100)){for(Se=Re=0;4>Se;++Se)12>(tt=le.pb[Se]).lc&&(tt.ia=ve*Rw[0>tt.lc?0:tt.lc]>>3),Re|=tt.ia;Re&&(alert("todo:VP8InitRandom"),le.ia=1)}le.Ga=W.Id,100<le.Ga?le.Ga=100:0>le.Ga&&(le.Ga=0)}Gh(I,te)||(L=I.a)}}else L=I.a}L==0&&me.Oa!=null&&me.Oa.fd&&(L=Nd(me.ba))}me=L}fe=me!=0?null:11>fe?ke.f.RGBA.eb:ke.f.kb.y}else fe=null;return fe};var Qo=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function g(B,q){for(var Q="",H=0;H<4;H++)Q+=String.fromCharCode(B[q++]);return Q}function b(B,q){return(B[q+0]<<0|B[q+1]<<8|B[q+2]<<16)>>>0}function v(B,q){return(B[q+0]<<0|B[q+1]<<8|B[q+2]<<16|B[q+3]<<24)>>>0}new p;var y=[0],k=[0],x=[],_=new p,D=t,E=function(B,q){var Q={},H=0,R=!1,K=0,j=0;if(Q.frames=[],!function(J,ae,pe,we){for(var Pe=0;Pe<we;Pe++)if(J[ae+Pe]!=pe.charCodeAt(Pe))return!0;return!1}(B,q,"RIFF",4)){for(v(B,q+=4),q+=8;q<B.length;){var ne=g(B,q),de=v(B,q+=4);q+=4;var se=de+(1&de);switch(ne){case"VP8 ":case"VP8L":Q.frames[H]===void 0&&(Q.frames[H]={}),(re=Q.frames[H]).src_off=R?j:q-8,re.src_size=K+de+8,H++,R&&(R=!1,K=0,j=0);break;case"VP8X":(re=Q.header={}).feature_flags=B[q];var oe=q+4;re.canvas_width=1+b(B,oe),oe+=3,re.canvas_height=1+b(B,oe),oe+=3;break;case"ALPH":R=!0,K=se+8,j=q-8;break;case"ANIM":(re=Q.header).bgcolor=v(B,q),oe=q+4,re.loop_count=(_e=B)[(X=oe)+0]<<0|_e[X+1]<<8,oe+=2;break;case"ANMF":var ye,re;(re=Q.frames[H]={}).offset_x=2*b(B,q),q+=3,re.offset_y=2*b(B,q),q+=3,re.width=1+b(B,q),q+=3,re.height=1+b(B,q),q+=3,re.duration=b(B,q),q+=3,ye=B[q++],re.dispose=1&ye,re.blend=ye>>1&1}ne!="ANMF"&&(q+=se)}var _e,X;return Q}}(D,0);E.response=D,E.rgbaoutput=!0,E.dataurl=!1;var N=E.header?E.header:null,P=E.frames?E.frames:null;if(N){N.loop_counter=N.loop_count,y=[N.canvas_height],k=[N.canvas_width];for(var F=0;F<P.length&&P[F].blend!=0;F++);}var V=P[0],$=_.WebPDecodeRGBA(D,V.src_off,V.src_size,k,y);V.rgba=$,V.imgwidth=k[0],V.imgheight=y[0];for(var M=0;M<k[0]*y[0]*4;M++)x[M]=$[M];return this.width=k,this.height=y,this.data=x,this}(function(t){var r=function(){return typeof GA=="function"},n=function(y,k,x,_){var D=4,E=d;switch(_){case t.image_compression.FAST:D=1,E=l;break;case t.image_compression.MEDIUM:D=6,E=h;break;case t.image_compression.SLOW:D=9,E=p}y=o(y,k,x,E);var N=GA(y,{level:D});return t.__addimage__.arrayBufferToBinaryString(N)},o=function(y,k,x,_){for(var D,E,N,P=y.length/k,F=new Uint8Array(y.length+P),V=b(),$=0;$<P;$+=1){if(N=$*k,D=y.subarray(N,N+k),_)F.set(_(D,x,E),N+$);else{for(var M,B=V.length,q=[];M<B;M+=1)q[M]=V[M](D,x,E);var Q=v(q.concat());F.set(q[Q],N+$)}E=D}return F},a=function(y){var k=Array.apply([],y);return k.unshift(0),k},l=function(y,k){var x,_=[],D=y.length;_[0]=1;for(var E=0;E<D;E+=1)x=y[E-k]||0,_[E+1]=y[E]-x+256&255;return _},d=function(y,k,x){var _,D=[],E=y.length;D[0]=2;for(var N=0;N<E;N+=1)_=x&&x[N]||0,D[N+1]=y[N]-_+256&255;return D},h=function(y,k,x){var _,D,E=[],N=y.length;E[0]=3;for(var P=0;P<N;P+=1)_=y[P-k]||0,D=x&&x[P]||0,E[P+1]=y[P]+256-(_+D>>>1)&255;return E},p=function(y,k,x){var _,D,E,N,P=[],F=y.length;P[0]=4;for(var V=0;V<F;V+=1)_=y[V-k]||0,D=x&&x[V]||0,E=x&&x[V-k]||0,N=g(_,D,E),P[V+1]=y[V]-N+256&255;return P},g=function(y,k,x){if(y===k&&k===x)return y;var _=Math.abs(k-x),D=Math.abs(y-x),E=Math.abs(y+k-x-x);return _<=D&&_<=E?y:D<=E?k:x},b=function(){return[a,l,d,h,p]},v=function(y){var k=y.map(function(x){return x.reduce(function(_,D){return _+Math.abs(D)},0)});return k.indexOf(Math.min.apply(null,k))};t.processPNG=function(y,k,x,_){var D,E,N,P,F,V,$,M,B,q,Q,H,R,K,j,ne=this.decode.FLATE_DECODE,de="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(N=new Kte(y)).imgData,E=N.bits,D=N.colorSpace,F=N.colors,[4,6].indexOf(N.colorType)!==-1){if(N.bits===8){B=(M=N.pixelBitlength==32?new Uint32Array(N.decodePixels().buffer):N.pixelBitlength==16?new Uint16Array(N.decodePixels().buffer):new Uint8Array(N.decodePixels().buffer)).length,Q=new Uint8Array(B*N.colors),q=new Uint8Array(B);var se,oe=N.pixelBitlength-N.bits;for(K=0,j=0;K<B;K++){for(R=M[K],se=0;se<oe;)Q[j++]=R>>>se&255,se+=N.bits;q[K]=R>>>se&255}}if(N.bits===16){B=(M=new Uint32Array(N.decodePixels().buffer)).length,Q=new Uint8Array(B*(32/N.pixelBitlength)*N.colors),q=new Uint8Array(B*(32/N.pixelBitlength)),H=N.colors>1,K=0,j=0;for(var ye=0;K<B;)R=M[K++],Q[j++]=R>>>0&255,H&&(Q[j++]=R>>>16&255,R=M[K++],Q[j++]=R>>>0&255),q[ye++]=R>>>16&255;E=8}_!==t.image_compression.NONE&&r()?(y=n(Q,N.width*N.colors,N.colors,_),$=n(q,N.width,1,_)):(y=Q,$=q,ne=void 0)}if(N.colorType===3&&(D=this.color_spaces.INDEXED,V=N.palette,N.transparency.indexed)){var re=N.transparency.indexed,_e=0;for(K=0,B=re.length;K<B;++K)_e+=re[K];if((_e/=255)===B-1&&re.indexOf(0)!==-1)P=[re.indexOf(0)];else if(_e!==B){for(M=N.decodePixels(),q=new Uint8Array(M.length),K=0,B=M.length;K<B;K++)q[K]=re[M[K]];$=n(q,N.width,1)}}var X=function(J){var ae;switch(J){case t.image_compression.FAST:ae=11;break;case t.image_compression.MEDIUM:ae=13;break;case t.image_compression.SLOW:ae=14;break;default:ae=12}return ae}(_);return ne===this.decode.FLATE_DECODE&&(de="/Predictor "+X+" "),de+="/Colors "+F+" /BitsPerComponent "+E+" /Columns "+N.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),($&&this.__addimage__.isArrayBuffer($)||this.__addimage__.isArrayBufferView($))&&($=this.__addimage__.arrayBufferToBinaryString($)),{alias:x,data:y,index:k,filter:ne,decodeParameters:de,transparency:P,palette:V,sMask:$,predictor:X,width:N.width,height:N.height,bitsPerComponent:E,colorSpace:D}}}})(sn.API),function(t){t.processGIF89A=function(r,n,o,a){var l=new Qte(r),d=l.width,h=l.height,p=[];l.decodeAndBlitFrameRGBA(0,p);var g={data:p,width:d,height:h},b=new Vv(100).encode(g,100);return t.processJPEG.call(this,b,n,o,a)},t.processGIF87A=t.processGIF89A}(sn.API),al.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var r=0;r<t;r++){var n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:a,green:o,blue:n,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},al.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[t]()}catch(n){Cr.log("bit decode error:"+n)}},al.prototype.bit1=function(){var t,r=Math.ceil(this.width/8),n=r%4;for(t=this.height-1;t>=0;t--){for(var o=this.bottom_up?t:this.height-1-t,a=0;a<r;a++)for(var l=this.datav.getUint8(this.pos++,!0),d=o*this.width*4+8*a*4,h=0;h<8&&8*a+h<this.width;h++){var p=this.palette[l>>7-h&1];this.data[d+4*h]=p.blue,this.data[d+4*h+1]=p.green,this.data[d+4*h+2]=p.red,this.data[d+4*h+3]=255}n!==0&&(this.pos+=4-n)}},al.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),r=t%4,n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,a=0;a<t;a++){var l=this.datav.getUint8(this.pos++,!0),d=o*this.width*4+2*a*4,h=l>>4,p=15&l,g=this.palette[h];if(this.data[d]=g.blue,this.data[d+1]=g.green,this.data[d+2]=g.red,this.data[d+3]=255,2*a+1>=this.width)break;g=this.palette[p],this.data[d+4]=g.blue,this.data[d+4+1]=g.green,this.data[d+4+2]=g.red,this.data[d+4+3]=255}r!==0&&(this.pos+=4-r)}},al.prototype.bit8=function(){for(var t=this.width%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*o;if(a<this.palette.length){var d=this.palette[a];this.data[l]=d.red,this.data[l+1]=d.green,this.data[l+2]=d.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}t!==0&&(this.pos+=4-t)}},al.prototype.bit15=function(){for(var t=this.width%3,r=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(l&r)/r*255|0,h=(l>>5&r)/r*255|0,p=(l>>10&r)/r*255|0,g=l>>15?255:0,b=o*this.width*4+4*a;this.data[b]=p,this.data[b+1]=h,this.data[b+2]=d,this.data[b+3]=g}this.pos+=t}},al.prototype.bit16=function(){for(var t=this.width%3,r=parseInt("11111",2),n=parseInt("111111",2),o=this.height-1;o>=0;o--){for(var a=this.bottom_up?o:this.height-1-o,l=0;l<this.width;l++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(d&r)/r*255|0,p=(d>>5&n)/n*255|0,g=(d>>11)/r*255|0,b=a*this.width*4+4*l;this.data[b]=g,this.data[b+1]=p,this.data[b+2]=h,this.data[b+3]=255}this.pos+=t}},al.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=r*this.width*4+4*n;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=255}this.pos+=this.width%4}},al.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),h=r*this.width*4+4*n;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=o,this.data[h+3]=d}},al.prototype.getData=function(){return this.data},function(t){t.processBMP=function(r,n,o,a){var l=new al(r,!1),d=l.width,h=l.height,p={data:l.getData(),width:d,height:h},g=new Vv(100).encode(p,100);return t.processJPEG.call(this,g,n,o,a)}}(sn.API),o6.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(r,n,o,a){var l=new o6(r),d=l.width,h=l.height,p={data:l.getData(),width:d,height:h},g=new Vv(100).encode(p,100);return t.processJPEG.call(this,g,n,o,a)}}(sn.API),sn.API.processRGBA=function(t,r,n){for(var o=t.data,a=o.length,l=new Uint8Array(a/4*3),d=new Uint8Array(a/4),h=0,p=0,g=0;g<a;g+=4){var b=o[g],v=o[g+1],y=o[g+2],k=o[g+3];l[h++]=b,l[h++]=v,l[h++]=y,d[p++]=k}var x=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:x,index:r,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},sn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ff=sn.API,X0=Ff.getCharWidthsArray=function(t,r){var n,o,a=(r=r||{}).font||this.internal.getFont(),l=r.fontSize||this.internal.getFontSize(),d=r.charSpace||this.internal.getCharSpace(),h=r.widths?r.widths:a.metadata.Unicode.widths,p=h.fof?h.fof:1,g=r.kerning?r.kerning:a.metadata.Unicode.kerning,b=g.fof?g.fof:1,v=r.doKerning!==!1,y=0,k=t.length,x=0,_=h[0]||p,D=[];for(n=0;n<k;n++)o=t.charCodeAt(n),typeof a.metadata.widthOfString=="function"?D.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(o))+d*(1e3/l)||0)/1e3):(y=v&&fr(g[o])==="object"&&!isNaN(parseInt(g[o][x],10))?g[o][x]/b:0,D.push((h[o]||_)/p+y)),x=o;return D},t6=Ff.getStringUnitWidth=function(t,r){var n=(r=r||{}).fontSize||this.internal.getFontSize(),o=r.font||this.internal.getFont(),a=r.charSpace||this.internal.getCharSpace();return Ff.processArabic&&(t=Ff.processArabic(t)),typeof o.metadata.widthOfString=="function"?o.metadata.widthOfString(t,n,a)/n:X0.apply(this,arguments).reduce(function(l,d){return l+d},0)},n6=function(t,r,n,o){for(var a=[],l=0,d=t.length,h=0;l!==d&&h+r[l]<n;)h+=r[l],l++;a.push(t.slice(0,l));var p=l;for(h=0;l!==d;)h+r[l]>o&&(a.push(t.slice(p,l)),h=0,p=l),h+=r[l],l++;return p!==l&&a.push(t.slice(p,l)),a},r6=function(t,r,n){n||(n={});var o,a,l,d,h,p,g,b=[],v=[b],y=n.textIndent||0,k=0,x=0,_=t.split(" "),D=X0.apply(this,[" ",n])[0];if(p=n.lineIndent===-1?_[0].length+2:n.lineIndent||0){var E=Array(p).join(" "),N=[];_.map(function(F){(F=F.split(/\s*\n/)).length>1?N=N.concat(F.map(function(V,$){return($&&V.length?`
`:"")+V})):N.push(F[0])}),_=N,p=t6.apply(this,[E,n])}for(l=0,d=_.length;l<d;l++){var P=0;if(o=_[l],p&&o[0]==`
`&&(o=o.substr(1),P=1),y+k+(x=(a=X0.apply(this,[o,n])).reduce(function(F,V){return F+V},0))>r||P){if(x>r){for(h=n6.apply(this,[o,a,r-(y+k),r]),b.push(h.shift()),b=[h.pop()];h.length;)v.push([h.shift()]);x=a.slice(o.length-(b[0]?b[0].length:0)).reduce(function(F,V){return F+V},0)}else b=[o];v.push(b),y=x+p,k=D}else b.push(o),y+=k+x,k=D}return g=p?function(F,V){return(V?E:"")+F.join(" ")}:function(F){return F.join(" ")},v.map(g)},Ff.splitTextToSize=function(t,r,n){var o,a=(n=n||{}).fontSize||this.internal.getFontSize(),l=(function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var v=this.internal.getFont(b.fontName,b.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);o=Array.isArray(t)?t:String(t).split(/\r?\n/);var d=1*this.internal.scaleFactor*r/a;l.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,l.lineIndent=n.lineIndent;var h,p,g=[];for(h=0,p=o.length;h<p;h++)g=g.concat(r6.apply(this,[o[h],d,l]));return g},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var r="klmnopqrstuvwxyz",n={},o={},a=0;a<r.length;a++)n[r[a]]="0123456789abcdef"[a],o["0123456789abcdef"[a]]=r[a];var l=function(v){return"0x"+parseInt(v,10).toString(16)},d=t.__fontmetrics__.compress=function(v){var y,k,x,_,D=["{"];for(var E in v){if(y=v[E],isNaN(parseInt(E,10))?k="'"+E+"'":(E=parseInt(E,10),k=(k=l(E).slice(2)).slice(0,-1)+o[k.slice(-1)]),typeof y=="number")y<0?(x=l(y).slice(3),_="-"):(x=l(y).slice(2),_=""),x=_+x.slice(0,-1)+o[x.slice(-1)];else{if(fr(y)!=="object")throw new Error("Don't know what to do with value type "+fr(y)+".");x=d(y)}D.push(k+x)}return D.push("}"),D.join("")},h=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,k,x,_,D={},E=1,N=D,P=[],F="",V="",$=v.length-1,M=1;M<$;M+=1)(_=v[M])=="'"?y?(x=y.join(""),y=void 0):y=[]:y?y.push(_):_=="{"?(P.push([N,x]),N={},x=void 0):_=="}"?((k=P.pop())[0][k[1]]=N,x=void 0,N=k[0]):_=="-"?E=-1:x===void 0?n.hasOwnProperty(_)?(F+=n[_],x=parseInt(F,16)*E,E=1,F=""):F+=_:n.hasOwnProperty(_)?(V+=n[_],N[x]=parseInt(V,16)*E,E=1,x=void 0,V=""):V+=_;return D},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},b={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var y=v.font,k=b.Unicode[y.postScriptName];k&&(y.metadata.Unicode={},y.metadata.Unicode.widths=k.widths,y.metadata.Unicode.kerning=k.kerning);var x=g.Unicode[y.postScriptName];x&&(y.metadata.Unicode.encoding=x,y.encoding=x.codePages[0])}])}(sn.API),function(t){var r=function(n){for(var o=n.length,a=new Uint8Array(o),l=0;l<o;l++)a[l]=n.charCodeAt(l);return a};t.API.events.push(["addFont",function(n){var o=void 0,a=n.font,l=n.instance;if(!a.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(o=l.existsFileInVFS(a.postScriptName)===!1?l.loadFile(a.postScriptName):l.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(d,h){h=/^\x00\x01\x00\x00/.test(h)?r(h):r(gg(h)),d.metadata=t.API.TTFFont.open(h),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(a,o)}}])}(sn),function(t){function r(){return(an.canvg?Promise.resolve(an.canvg):Ki(()=>import("./index.es-BfdOBKoe.js"),__vite__mapDeps([6,1,4,5]))).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}sn.API.addSvgAsImage=function(n,o,a,l,d,h,p,g){if(isNaN(o)||isNaN(a))throw Cr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(d))throw Cr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var b=document.createElement("canvas");b.width=l,b.height=d;var v=b.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,b.width,b.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},k=this;return r().then(function(x){return x.fromString(v,n,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(y)}).then(function(){k.addImage(b.toDataURL("image/jpeg",1),o,a,l,d,p,g)})}}(),sn.API.putTotalPages=function(t){var r,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var o=1;o<=this.internal.getNumberOfPages();o++)for(var a=0;a<this.internal.pages[o].length;a++)this.internal.pages[o][a]=this.internal.pages[o][a].replace(r,n);return this},sn.API.viewerPreferences=function(t,r){var n;t=t||{},r=r||!1;var o,a,l,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(d),p=[],g=0,b=0,v=0;function y(x,_){var D,E=!1;for(D=0;D<x.length;D+=1)x[D]===_&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||r===!0){var k=h.length;for(v=0;v<k;v+=1)n[h[v]].value=n[h[v]].defaultValue,n[h[v]].explicitSet=!1}if(fr(t)==="object"){for(a in t)if(l=t[a],y(h,a)&&l!==void 0){if(n[a].type==="boolean"&&typeof l=="boolean")n[a].value=l;else if(n[a].type==="name"&&y(n[a].valueSet,l))n[a].value=l;else if(n[a].type==="integer"&&Number.isInteger(l))n[a].value=l;else if(n[a].type==="array"){for(g=0;g<l.length;g+=1)if(o=!0,l[g].length===1&&typeof l[g][0]=="number")p.push(String(l[g]-1));else if(l[g].length>1){for(b=0;b<l[g].length;b+=1)typeof l[g][b]!="number"&&(o=!1);o===!0&&p.push([l[g][0]-1,l[g][1]-1].join(" "))}n[a].value="["+p.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,_=[];for(x in n)n[x].explicitSet===!0&&(n[x].type==="name"?_.push("/"+x+" /"+n[x].value):_.push("/"+x+" "+n[x].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var r=function(){var o='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(o)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),p=unescape(encodeURIComponent("</x:xmpmeta>")),g=l.length+d.length+h.length+a.length+p.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+g+" >>"),this.internal.write("stream"),this.internal.write(a+l+d+h+p),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(o,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:o,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",r)),this}}(sn.API),function(t){var r=t.API,n=r.pdfEscape16=function(l,d){for(var h,p=d.metadata.Unicode.widths,g=["","0","00","000","0000"],b=[""],v=0,y=l.length;v<y;++v){if(h=d.metadata.characterToGlyph(l.charCodeAt(v)),d.metadata.glyIdsUsed.push(h),d.metadata.toUnicode[h]=l.charCodeAt(v),p.indexOf(h)==-1&&(p.push(h),p.push([parseInt(d.metadata.widthOfGlyph(h),10)])),h=="0")return b.join("");h=h.toString(16),b.push(g[4-h.length],h)}return b.join("")},o=function(l){var d,h,p,g,b,v,y;for(b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,p=[],v=0,y=(h=Object.keys(l).sort(function(k,x){return k-x})).length;v<y;v++)d=h[v],p.length>=100&&(b+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar`,p=[]),l[d]!==void 0&&l[d]!==null&&typeof l[d].toString=="function"&&(g=("0000"+l[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),p.push("<"+d+"><"+g+">"));return p.length&&(b+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar
`),b+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(l){(function(d){var h=d.font,p=d.out,g=d.newObject,b=d.putStream;if(h.metadata instanceof t.API.TTFFont&&h.encoding==="Identity-H"){for(var v=h.metadata.Unicode.widths,y=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),k="",x=0;x<y.length;x++)k+=String.fromCharCode(y[x]);var _=g();b({data:k,addLength1:!0,objectId:_}),p("endobj");var D=g();b({data:o(h.metadata.toUnicode),addLength1:!0,objectId:D}),p("endobj");var E=g();p("<<"),p("/Type /FontDescriptor"),p("/FontName /"+tp(h.fontName)),p("/FontFile2 "+_+" 0 R"),p("/FontBBox "+t.API.PDFObject.convert(h.metadata.bbox)),p("/Flags "+h.metadata.flags),p("/StemV "+h.metadata.stemV),p("/ItalicAngle "+h.metadata.italicAngle),p("/Ascent "+h.metadata.ascender),p("/Descent "+h.metadata.decender),p("/CapHeight "+h.metadata.capHeight),p(">>"),p("endobj");var N=g();p("<<"),p("/Type /Font"),p("/BaseFont /"+tp(h.fontName)),p("/FontDescriptor "+E+" 0 R"),p("/W "+t.API.PDFObject.convert(v)),p("/CIDToGIDMap /Identity"),p("/DW 1000"),p("/Subtype /CIDFontType2"),p("/CIDSystemInfo"),p("<<"),p("/Supplement 0"),p("/Registry (Adobe)"),p("/Ordering ("+h.encoding+")"),p(">>"),p(">>"),p("endobj"),h.objectNumber=g(),p("<<"),p("/Type /Font"),p("/Subtype /Type0"),p("/ToUnicode "+D+" 0 R"),p("/BaseFont /"+tp(h.fontName)),p("/Encoding /"+h.encoding),p("/DescendantFonts ["+N+" 0 R]"),p(">>"),p("endobj"),h.isAlreadyPutted=!0}})(l)}]),r.events.push(["putFont",function(l){(function(d){var h=d.font,p=d.out,g=d.newObject,b=d.putStream;if(h.metadata instanceof t.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var v=h.metadata.rawData,y="",k=0;k<v.length;k++)y+=String.fromCharCode(v[k]);var x=g();b({data:y,addLength1:!0,objectId:x}),p("endobj");var _=g();b({data:o(h.metadata.toUnicode),addLength1:!0,objectId:_}),p("endobj");var D=g();p("<<"),p("/Descent "+h.metadata.decender),p("/CapHeight "+h.metadata.capHeight),p("/StemV "+h.metadata.stemV),p("/Type /FontDescriptor"),p("/FontFile2 "+x+" 0 R"),p("/Flags 96"),p("/FontBBox "+t.API.PDFObject.convert(h.metadata.bbox)),p("/FontName /"+tp(h.fontName)),p("/ItalicAngle "+h.metadata.italicAngle),p("/Ascent "+h.metadata.ascender),p(">>"),p("endobj"),h.objectNumber=g();for(var E=0;E<h.metadata.hmtx.widths.length;E++)h.metadata.hmtx.widths[E]=parseInt(h.metadata.hmtx.widths[E]*(1e3/h.metadata.head.unitsPerEm));p("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+tp(h.fontName)+"/FontDescriptor "+D+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),p("endobj"),h.isAlreadyPutted=!0}})(l)}]);var a=function(l){var d,h=l.text||"",p=l.x,g=l.y,b=l.options||{},v=l.mutex||{},y=v.pdfEscape,k=v.activeFontKey,x=v.fonts,_=k,D="",E=0,N="",P=x[_].encoding;if(x[_].encoding!=="Identity-H")return{text:h,x:p,y:g,options:b,mutex:v};for(N=h,_=k,Array.isArray(h)&&(N=h[0]),E=0;E<N.length;E+=1)x[_].metadata.hasOwnProperty("cmap")&&(d=x[_].metadata.cmap.unicode.codeMap[N[E].charCodeAt(0)]),d||N[E].charCodeAt(0)<256&&x[_].metadata.hasOwnProperty("Unicode")?D+=N[E]:D+="";var F="";return parseInt(_.slice(1))<14||P==="WinAnsiEncoding"?F=y(D,_).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(F=n(D,x[_])),v.isHex=!0,{text:F,x:p,y:g,options:b,mutex:v}};r.events.push(["postProcessText",function(l){var d=l.text||"",h=[],p={text:d,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(d)){var g=0;for(g=0;g<d.length;g+=1)Array.isArray(d[g])&&d[g].length===3?h.push([a(Object.assign({},p,{text:d[g][0]})).text,d[g][1],d[g][2]]):h.push(a(Object.assign({},p,{text:d[g]})).text);l.text=h}else l.text=a(Object.assign({},p,{text:d})).text}])}(sn),function(t){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,o){return r.call(this),this.internal.vFS[n]=o,this},t.getFileFromVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(sn.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(o){var a,l,d,h,p,g,b,v=r,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],k=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},D=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,P=0;this.__bidiEngine__={};var F=function(H){var R=H.charCodeAt(),K=R>>8,j=_[K];return j!==void 0?v[256*j+(255&R)]:K===252||K===253?"AL":E.test(K)?"L":K===8?"R":"N"},V=function(H){for(var R,K=0;K<H.length;K++){if((R=F(H.charAt(K)))==="L")return!1;if(R==="R")return!0}return!1},$=function(H,R,K,j){var ne,de,se,oe,ye=R[j];switch(ye){case"L":case"R":N=!1;break;case"N":case"AN":break;case"EN":N&&(ye="AN");break;case"AL":N=!0,ye="R";break;case"WS":ye="N";break;case"CS":j<1||j+1>=R.length||(ne=K[j-1])!=="EN"&&ne!=="AN"||(de=R[j+1])!=="EN"&&de!=="AN"?ye="N":N&&(de="AN"),ye=de===ne?de:"N";break;case"ES":ye=(ne=j>0?K[j-1]:"B")==="EN"&&j+1<R.length&&R[j+1]==="EN"?"EN":"N";break;case"ET":if(j>0&&K[j-1]==="EN"){ye="EN";break}if(N){ye="N";break}for(se=j+1,oe=R.length;se<oe&&R[se]==="ET";)se++;ye=se<oe&&R[se]==="EN"?"EN":"N";break;case"NSM":if(d&&!h){for(oe=R.length,se=j+1;se<oe&&R[se]==="NSM";)se++;if(se<oe){var re=H[j],_e=re>=1425&&re<=2303||re===64286;if(ne=R[se],_e&&(ne==="R"||ne==="AL")){ye="R";break}}}ye=j<1||(ne=R[j-1])==="B"?"N":K[j-1];break;case"B":N=!1,a=!0,ye=P;break;case"S":l=!0,ye="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"BN":ye="N"}return ye},M=function(H,R,K){var j=H.split("");return K&&B(j,K,{hiLevel:P}),j.reverse(),R&&R.reverse(),j.join("")},B=function(H,R,K){var j,ne,de,se,oe,ye=-1,re=H.length,_e=0,X=[],J=P?k:y,ae=[];for(N=!1,a=!1,l=!1,ne=0;ne<re;ne++)ae[ne]=F(H[ne]);for(de=0;de<re;de++){if(oe=_e,X[de]=$(H,ae,X,de),j=240&(_e=J[oe][x[X[de]]]),_e&=15,R[de]=se=J[_e][5],j>0)if(j===16){for(ne=ye;ne<de;ne++)R[ne]=1;ye=-1}else ye=-1;if(J[_e][6])ye===-1&&(ye=de);else if(ye>-1){for(ne=ye;ne<de;ne++)R[ne]=se;ye=-1}ae[de]==="B"&&(R[de]=0),K.hiLevel|=se}l&&function(pe,we,Pe){for(var Ie=0;Ie<Pe;Ie++)if(pe[Ie]==="S"){we[Ie]=P;for(var Ne=Ie-1;Ne>=0&&pe[Ne]==="WS";Ne--)we[Ne]=P}}(ae,R,re)},q=function(H,R,K,j,ne){if(!(ne.hiLevel<H)){if(H===1&&P===1&&!a)return R.reverse(),void(K&&K.reverse());for(var de,se,oe,ye,re=R.length,_e=0;_e<re;){if(j[_e]>=H){for(oe=_e+1;oe<re&&j[oe]>=H;)oe++;for(ye=_e,se=oe-1;ye<se;ye++,se--)de=R[ye],R[ye]=R[se],R[se]=de,K&&(de=K[ye],K[ye]=K[se],K[se]=de);_e=oe}_e++}}},Q=function(H,R,K){var j=H.split(""),ne={hiLevel:P};return K||(K=[]),B(j,K,ne),function(de,se,oe){if(oe.hiLevel!==0&&b)for(var ye,re=0;re<de.length;re++)se[re]===1&&(ye=D.indexOf(de[re]))>=0&&(de[re]=D[ye+1])}(j,K,ne),q(2,j,R,K,ne),q(1,j,R,K,ne),j.join("")};return this.__bidiEngine__.doBidiReorder=function(H,R,K){if(function(ne,de){if(de)for(var se=0;se<ne.length;se++)de[se]=se;h===void 0&&(h=V(ne)),g===void 0&&(g=V(ne))}(H,R),d||!p||g)if(d&&p&&h^g)P=h?1:0,H=M(H,R,K);else if(!d&&p&&g)P=h?1:0,H=Q(H,R,K),H=M(H,R);else if(!d||h||p||g){if(d&&!p&&h^g)H=M(H,R),h?(P=0,H=Q(H,R,K)):(P=1,H=Q(H,R,K),H=M(H,R));else if(d&&h&&!p&&g)P=1,H=Q(H,R,K),H=M(H,R);else if(!d&&!p&&h^g){var j=b;h?(P=1,H=Q(H,R,K),P=0,b=!1,H=Q(H,R,K),b=j):(P=0,H=Q(H,R,K),H=M(H,R),P=1,b=!1,H=Q(H,R,K),b=j,H=M(H,R))}}else P=0,H=Q(H,R,K);else P=h?1:0,H=Q(H,R,K);return H},this.__bidiEngine__.setOptions=function(H){H&&(d=H.isInputVisual,p=H.isOutputVisual,h=H.isInputRtl,g=H.isOutputRtl,b=H.isSymmetricSwapping)},this.__bidiEngine__.setOptions(o),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(o){var a=o.text;o.x,o.y;var l=o.options||{};o.mutex,l.lang;var d=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,n.setOptions(l),Object.prototype.toString.call(a)==="[object Array]"){var h=0;for(d=[],h=0;h<a.length;h+=1)Object.prototype.toString.call(a[h])==="[object Array]"?d.push([n.doBidiReorder(a[h][0]),a[h][1],a[h][2]]):d.push([n.doBidiReorder(a[h])]);o.text=d}else o.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])}(sn),sn.API.TTFFont=function(){function t(r){var n;if(this.rawData=r,n=this.contents=new cd(r),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new dne(this),this.registerTTF()}return t.open=function(r){return new t(r)},t.prototype.parse=function(){return this.directory=new Jte(this.contents),this.head=new Xte(this),this.name=new ine(this),this.cmap=new _L(this),this.toUnicode={},this.hhea=new ene(this),this.maxp=new one(this),this.hmtx=new sne(this),this.post=new nne(this),this.os2=new tne(this),this.loca=new une(this),this.glyf=new ane(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var r,n,o,a,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,h,p,g;for(g=[],d=0,h=(p=this.bbox).length;d<h;d++)r=p[d],g.push(Math.round(r*this.scaleFactor));return g}).call(this),this.stemV=0,this.post.exists?(o=255&(a=this.post.italic_angle),(32768&(n=a>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+o)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(r){var n;return((n=this.cmap.unicode)!=null?n.codeMap[r]:void 0)||0},t.prototype.widthOfGlyph=function(r){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*n},t.prototype.widthOfString=function(r,n,o){var a,l,d,h;for(d=0,l=0,h=(r=""+r).length;0<=h?l<h:l>h;l=0<=h?++l:--l)a=r.charCodeAt(l),d+=this.widthOfGlyph(this.characterToGlyph(a))+o*(1e3/n)||0;return d*(n/1e3)},t.prototype.lineHeight=function(r,n){var o;return n==null&&(n=!1),o=n?this.lineGap:0,(this.ascender+o-this.decender)/1e3*r},t}();var ml,cd=function(){function t(r){this.data=r??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(r){return this.data[this.pos++]=r},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},t.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},t.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},t.prototype.readString=function(r){var n,o;for(o=[],n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)o[n]=String.fromCharCode(this.readByte());return o.join("")},t.prototype.writeString=function(r){var n,o,a;for(a=[],n=0,o=r.length;0<=o?n<o:n>o;n=0<=o?++n:--n)a.push(this.writeByte(r.charCodeAt(n)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(r){return this.writeInt16(r)},t.prototype.readLongLong=function(){var r,n,o,a,l,d,h,p;return r=this.readByte(),n=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),d=this.readByte(),h=this.readByte(),p=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^n)+1099511627776*(255^o)+4294967296*(255^a)+16777216*(255^l)+65536*(255^d)+256*(255^h)+(255^p)+1):72057594037927940*r+281474976710656*n+1099511627776*o+4294967296*a+16777216*l+65536*d+256*h+p},t.prototype.writeLongLong=function(r){var n,o;return n=Math.floor(r/4294967296),o=4294967295&r,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(o>>24&255),this.writeByte(o>>16&255),this.writeByte(o>>8&255),this.writeByte(255&o)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(r){return this.writeInt32(r)},t.prototype.read=function(r){var n,o;for(n=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)n.push(this.readByte());return n},t.prototype.write=function(r){var n,o,a,l;for(l=[],o=0,a=r.length;o<a;o++)n=r[o],l.push(this.writeByte(n));return l},t}(),Jte=function(){var t;function r(n){var o,a,l;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,l=this.tableCount;0<=l?a<l:a>l;a=0<=l?++a:--a)o={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[o.tag]=o}return r.prototype.encode=function(n){var o,a,l,d,h,p,g,b,v,y,k,x,_;for(_ in k=Object.keys(n).length,p=Math.log(2),v=16*Math.floor(Math.log(k)/p),d=Math.floor(v/p),b=16*k-v,(a=new cd).writeInt(this.scalarType),a.writeShort(k),a.writeShort(v),a.writeShort(d),a.writeShort(b),l=16*k,g=a.pos+l,h=null,x=[],n)for(y=n[_],a.writeString(_),a.writeInt(t(y)),a.writeInt(g),a.writeInt(y.length),x=x.concat(y),_==="head"&&(h=g),g+=y.length;g%4;)x.push(0),g++;return a.write(x),o=2981146554-t(a.data),a.pos=h+8,a.writeUInt32(o),a.data},t=function(n){var o,a,l,d;for(n=CL.call(n);n.length%4;)n.push(0);for(l=new cd(n),a=0,o=0,d=n.length;o<d;o=o+=4)a+=l.readUInt32();return 4294967295&a},r}(),Zte={}.hasOwnProperty,bc=function(t,r){for(var n in r)Zte.call(r,n)&&(t[n]=r[n]);function o(){this.constructor=t}return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t};ml=function(){function t(r){var n;this.file=r,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Xte=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return bc(r,ml),r.prototype.tag="head",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},r.prototype.encode=function(n){var o;return(o=new cd).writeInt(this.version),o.writeInt(this.revision),o.writeInt(this.checkSumAdjustment),o.writeInt(this.magicNumber),o.writeShort(this.flags),o.writeShort(this.unitsPerEm),o.writeLongLong(this.created),o.writeLongLong(this.modified),o.writeShort(this.xMin),o.writeShort(this.yMin),o.writeShort(this.xMax),o.writeShort(this.yMax),o.writeShort(this.macStyle),o.writeShort(this.lowestRecPPEM),o.writeShort(this.fontDirectionHint),o.writeShort(n),o.writeShort(this.glyphDataFormat),o.data},r}(),s6=function(){function t(r,n){var o,a,l,d,h,p,g,b,v,y,k,x,_,D,E,N,P;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=n+r.readInt(),v=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(p=0;p<256;++p)this.codeMap[p]=r.readByte();break;case 4:for(k=r.readUInt16(),y=k/2,r.pos+=6,l=function(){var F,V;for(V=[],p=F=0;0<=y?F<y:F>y;p=0<=y?++F:--F)V.push(r.readUInt16());return V}(),r.pos+=2,_=function(){var F,V;for(V=[],p=F=0;0<=y?F<y:F>y;p=0<=y?++F:--F)V.push(r.readUInt16());return V}(),g=function(){var F,V;for(V=[],p=F=0;0<=y?F<y:F>y;p=0<=y?++F:--F)V.push(r.readUInt16());return V}(),b=function(){var F,V;for(V=[],p=F=0;0<=y?F<y:F>y;p=0<=y?++F:--F)V.push(r.readUInt16());return V}(),a=(this.length-r.pos+this.offset)/2,h=function(){var F,V;for(V=[],p=F=0;0<=a?F<a:F>a;p=0<=a?++F:--F)V.push(r.readUInt16());return V}(),p=E=0,P=l.length;E<P;p=++E)for(D=l[p],o=N=x=_[p];x<=D?N<=D:N>=D;o=x<=D?++N:--N)b[p]===0?d=o+g[p]:(d=h[b[p]/2+(o-x)-(y-p)]||0)!==0&&(d+=g[p]),this.codeMap[o]=65535&d}r.pos=v}return t.encode=function(r,n){var o,a,l,d,h,p,g,b,v,y,k,x,_,D,E,N,P,F,V,$,M,B,q,Q,H,R,K,j,ne,de,se,oe,ye,re,_e,X,J,ae,pe,we,Pe,Ie,Ne,rt,Qe,Je;switch(j=new cd,d=Object.keys(r).sort(function(Ue,Z){return Ue-Z}),n){case"macroman":for(_=0,D=function(){var Ue=[];for(x=0;x<256;++x)Ue.push(0);return Ue}(),N={0:0},l={},ne=0,ye=d.length;ne<ye;ne++)N[Ne=r[a=d[ne]]]==null&&(N[Ne]=++_),l[a]={old:r[a],new:N[r[a]]},D[a]=N[r[a]];return j.writeUInt16(1),j.writeUInt16(0),j.writeUInt32(12),j.writeUInt16(0),j.writeUInt16(262),j.writeUInt16(0),j.write(D),{charMap:l,subtable:j.data,maxGlyphID:_+1};case"unicode":for(R=[],v=[],P=0,N={},o={},E=g=null,de=0,re=d.length;de<re;de++)N[V=r[a=d[de]]]==null&&(N[V]=++P),o[a]={old:V,new:N[V]},h=N[V]-a,E!=null&&h===g||(E&&v.push(E),R.push(a),g=h),E=a;for(E&&v.push(E),v.push(65535),R.push(65535),Q=2*(q=R.length),B=2*Math.pow(Math.log(q)/Math.LN2,2),y=Math.log(B/2)/Math.LN2,M=2*q-B,p=[],$=[],k=[],x=se=0,_e=R.length;se<_e;x=++se){if(H=R[x],b=v[x],H===65535){p.push(0),$.push(0);break}if(H-(K=o[H].new)>=32768)for(p.push(0),$.push(2*(k.length+q-x)),a=oe=H;H<=b?oe<=b:oe>=b;a=H<=b?++oe:--oe)k.push(o[a].new);else p.push(K-H),$.push(0)}for(j.writeUInt16(3),j.writeUInt16(1),j.writeUInt32(12),j.writeUInt16(4),j.writeUInt16(16+8*q+2*k.length),j.writeUInt16(0),j.writeUInt16(Q),j.writeUInt16(B),j.writeUInt16(y),j.writeUInt16(M),Pe=0,X=v.length;Pe<X;Pe++)a=v[Pe],j.writeUInt16(a);for(j.writeUInt16(0),Ie=0,J=R.length;Ie<J;Ie++)a=R[Ie],j.writeUInt16(a);for(rt=0,ae=p.length;rt<ae;rt++)h=p[rt],j.writeUInt16(h);for(Qe=0,pe=$.length;Qe<pe;Qe++)F=$[Qe],j.writeUInt16(F);for(Je=0,we=k.length;Je<we;Je++)_=k[Je],j.writeUInt16(_);return{charMap:o,subtable:j.data,maxGlyphID:P+1}}},t}(),_L=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return bc(r,ml),r.prototype.tag="cmap",r.prototype.parse=function(n){var o,a,l;for(n.pos=this.offset,this.version=n.readUInt16(),l=n.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=l?a<l:a>l;a=0<=l?++a:--a)o=new s6(n,this.offset),this.tables.push(o),o.isUnicode&&this.unicode==null&&(this.unicode=o);return!0},r.encode=function(n,o){var a,l;return o==null&&(o="macroman"),a=s6.encode(n,o),(l=new cd).writeUInt16(0),l.writeUInt16(1),a.table=l.data.concat(a.subtable),a},r}(),ene=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return bc(r,ml),r.prototype.tag="hhea",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},r}(),tne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return bc(r,ml),r.prototype.tag="OS/2",r.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var o,a;for(a=[],o=0;o<10;++o)a.push(n.readByte());return a}(),this.charRange=function(){var o,a;for(a=[],o=0;o<4;++o)a.push(n.readInt());return a}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var o,a;for(a=[],o=0;o<2;o=++o)a.push(n.readInt());return a}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},r}(),nne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return bc(r,ml),r.prototype.tag="post",r.prototype.parse=function(n){var o,a,l;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var d;for(a=n.readUInt16(),this.glyphNameIndex=[],d=0;0<=a?d<a:d>a;d=0<=a?++d:--d)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],l=[];n.pos<this.offset+this.length;)o=n.readByte(),l.push(this.names.push(n.readString(o)));return l;case 151552:return a=n.readUInt16(),this.offsets=n.read(a);case 196608:break;case 262144:return this.map=(function(){var h,p,g;for(g=[],d=h=0,p=this.file.maxp.numGlyphs;0<=p?h<p:h>p;d=0<=p?++h:--h)g.push(n.readUInt32());return g}).call(this)}},r}(),rne=function(t,r){this.raw=t,this.length=t.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},ine=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return bc(r,ml),r.prototype.tag="name",r.prototype.parse=function(n){var o,a,l,d,h,p,g,b,v,y,k;for(n.pos=this.offset,n.readShort(),o=n.readShort(),p=n.readShort(),a=[],d=0;0<=o?d<o:d>o;d=0<=o?++d:--d)a.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+p+n.readShort()});for(g={},d=v=0,y=a.length;v<y;d=++v)l=a[d],n.pos=l.offset,b=n.readString(l.length),h=new rne(b,l),g[k=l.nameID]==null&&(g[k]=[]),g[l.nameID].push(h);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},r}(),one=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return bc(r,ml),r.prototype.tag="maxp",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},r}(),sne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return bc(r,ml),r.prototype.tag="hmtx",r.prototype.parse=function(n){var o,a,l,d,h,p,g;for(n.pos=this.offset,this.metrics=[],o=0,p=this.file.hhea.numberOfMetrics;0<=p?o<p:o>p;o=0<=p?++o:--o)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(l=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var b,v;for(v=[],o=b=0;0<=l?b<l:b>l;o=0<=l?++b:--b)v.push(n.readInt16());return v}(),this.widths=(function(){var b,v,y,k;for(k=[],b=0,v=(y=this.metrics).length;b<v;b++)d=y[b],k.push(d.advance);return k}).call(this),a=this.widths[this.widths.length-1],g=[],o=h=0;0<=l?h<l:h>l;o=0<=l?++h:--h)g.push(this.widths.push(a));return g},r.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},r}(),CL=[].slice,ane=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return bc(r,ml),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(n){var o,a,l,d,h,p,g,b,v,y;return n in this.cache?this.cache[n]:(d=this.file.loca,o=this.file.contents,a=d.indexOf(n),(l=d.lengthOf(n))===0?this.cache[n]=null:(o.pos=this.offset+a,h=(p=new cd(o.read(l))).readShort(),b=p.readShort(),y=p.readShort(),g=p.readShort(),v=p.readShort(),this.cache[n]=h===-1?new cne(p,b,y,g,v):new lne(p,h,b,y,g,v),this.cache[n]))},r.prototype.encode=function(n,o,a){var l,d,h,p,g;for(h=[],d=[],p=0,g=o.length;p<g;p++)l=n[o[p]],d.push(h.length),l&&(h=h.concat(l.encode(a)));return d.push(h.length),{table:h,offsets:d}},r}(),lne=function(){function t(r,n,o,a,l,d){this.raw=r,this.numberOfContours=n,this.xMin=o,this.yMin=a,this.xMax=l,this.yMax=d,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),cne=function(){function t(r,n,o,a,l){var d,h;for(this.raw=r,this.xMin=n,this.yMin=o,this.xMax=a,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;h=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&h;)d.pos+=1&h?4:2,128&h?d.pos+=8:64&h?d.pos+=4:8&h&&(d.pos+=2)}return t.prototype.encode=function(){var r,n,o;for(n=new cd(CL.call(this.raw.data)),r=0,o=this.glyphIDs.length;r<o;++r)n.pos=this.glyphOffsets[r];return n.data},t}(),une=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return bc(r,ml),r.prototype.tag="loca",r.prototype.parse=function(n){var o,a;return n.pos=this.offset,o=this.file.head.indexToLocFormat,this.offsets=o===0?(function(){var l,d;for(d=[],a=0,l=this.length;a<l;a+=2)d.push(2*n.readUInt16());return d}).call(this):(function(){var l,d;for(d=[],a=0,l=this.length;a<l;a+=4)d.push(n.readUInt32());return d}).call(this)},r.prototype.indexOf=function(n){return this.offsets[n]},r.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},r.prototype.encode=function(n,o){for(var a=new Uint32Array(this.offsets.length),l=0,d=0,h=0;h<a.length;++h)if(a[h]=l,d<o.length&&o[d]==h){++d,a[h]=l;var p=this.offsets[h],g=this.offsets[h+1]-p;g>0&&(l+=g)}for(var b=new Array(4*a.length),v=0;v<a.length;++v)b[4*v+3]=255&a[v],b[4*v+2]=(65280&a[v])>>8,b[4*v+1]=(16711680&a[v])>>16,b[4*v]=(4278190080&a[v])>>24;return b},r}(),dne=function(){function t(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var r,n,o,a,l;for(n in a=this.font.cmap.tables[0].codeMap,r={},l=this.subset)o=l[n],r[n]=a[o];return r},t.prototype.glyphsFor=function(r){var n,o,a,l,d,h,p;for(a={},d=0,h=r.length;d<h;d++)a[l=r[d]]=this.font.glyf.glyphFor(l);for(l in n=[],a)(o=a[l])!=null&&o.compound&&n.push.apply(n,o.glyphIDs);if(n.length>0)for(l in p=this.glyphsFor(n))o=p[l],a[l]=o;return a},t.prototype.encode=function(r,n){var o,a,l,d,h,p,g,b,v,y,k,x,_,D,E;for(a in o=_L.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(r),k={0:0},E=o.charMap)k[(p=E[a]).old]=p.new;for(x in y=o.maxGlyphID,d)x in k||(k[x]=y++);return b=function(N){var P,F;for(P in F={},N)F[N[P]]=P;return F}(k),v=Object.keys(b).sort(function(N,P){return N-P}),_=function(){var N,P,F;for(F=[],N=0,P=v.length;N<P;N++)h=v[N],F.push(b[h]);return F}(),l=this.font.glyf.encode(d,_,k),g=this.font.loca.encode(l.offsets,_),D={cmap:this.font.cmap.raw(),glyf:l.table,loca:g,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(D["OS/2"]=this.font.os2.raw()),this.font.directory.encode(D)},t}();sn.API.PDFObject=function(){var t;function r(){}return t=function(n,o){return(Array(o+1).join("0")+n).slice(-o)},r.convert=function(n){var o,a,l,d;if(Array.isArray(n))return"["+function(){var h,p,g;for(g=[],h=0,p=n.length;h<p;h++)o=n[h],g.push(r.convert(o));return g}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in l=["<<"],n)d=n[a],l.push("/"+a+" "+r.convert(d));return l.push(">>"),l.join(`
`)}return""+n},r}();const hne=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(t=>t.charCodeAt(0))),fne=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(t=>t.charCodeAt(0)));var $v;const pne=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),a6=($v=String.fromCodePoint)!==null&&$v!==void 0?$v:function(t){let r="";return t>65535&&(t-=65536,r+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),r+=String.fromCharCode(t),r};function mne(t){var r;return t>=55296&&t<=57343||t>1114111?65533:(r=pne.get(t))!==null&&r!==void 0?r:t}var io;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(io||(io={}));const gne=32;var Xu;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Xu||(Xu={}));function e_(t){return t>=io.ZERO&&t<=io.NINE}function bne(t){return t>=io.UPPER_A&&t<=io.UPPER_F||t>=io.LOWER_A&&t<=io.LOWER_F}function kne(t){return t>=io.UPPER_A&&t<=io.UPPER_Z||t>=io.LOWER_A&&t<=io.LOWER_Z||e_(t)}function wne(t){return t===io.EQUALS||kne(t)}var no;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(no||(no={}));var ec;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(ec||(ec={}));class yne{constructor(r,n,o){this.decodeTree=r,this.emitCodePoint=n,this.errors=o,this.state=no.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ec.Strict}startEntity(r){this.decodeMode=r,this.state=no.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(r,n){switch(this.state){case no.EntityStart:return r.charCodeAt(n)===io.NUM?(this.state=no.NumericStart,this.consumed+=1,this.stateNumericStart(r,n+1)):(this.state=no.NamedEntity,this.stateNamedEntity(r,n));case no.NumericStart:return this.stateNumericStart(r,n);case no.NumericDecimal:return this.stateNumericDecimal(r,n);case no.NumericHex:return this.stateNumericHex(r,n);case no.NamedEntity:return this.stateNamedEntity(r,n)}}stateNumericStart(r,n){return n>=r.length?-1:(r.charCodeAt(n)|gne)===io.LOWER_X?(this.state=no.NumericHex,this.consumed+=1,this.stateNumericHex(r,n+1)):(this.state=no.NumericDecimal,this.stateNumericDecimal(r,n))}addToNumericResult(r,n,o,a){if(n!==o){const l=o-n;this.result=this.result*Math.pow(a,l)+Number.parseInt(r.substr(n,l),a),this.consumed+=l}}stateNumericHex(r,n){const o=n;for(;n<r.length;){const a=r.charCodeAt(n);if(e_(a)||bne(a))n+=1;else return this.addToNumericResult(r,o,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(r,o,n,16),-1}stateNumericDecimal(r,n){const o=n;for(;n<r.length;){const a=r.charCodeAt(n);if(e_(a))n+=1;else return this.addToNumericResult(r,o,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(r,o,n,10),-1}emitNumericEntity(r,n){var o;if(this.consumed<=n)return(o=this.errors)===null||o===void 0||o.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(r===io.SEMI)this.consumed+=1;else if(this.decodeMode===ec.Strict)return 0;return this.emitCodePoint(mne(this.result),this.consumed),this.errors&&(r!==io.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(r,n){const{decodeTree:o}=this;let a=o[this.treeIndex],l=(a&Xu.VALUE_LENGTH)>>14;for(;n<r.length;n++,this.excess++){const d=r.charCodeAt(n);if(this.treeIndex=vne(o,a,this.treeIndex+Math.max(1,l),d),this.treeIndex<0)return this.result===0||this.decodeMode===ec.Attribute&&(l===0||wne(d))?0:this.emitNotTerminatedNamedEntity();if(a=o[this.treeIndex],l=(a&Xu.VALUE_LENGTH)>>14,l!==0){if(d===io.SEMI)return this.emitNamedEntityData(this.treeIndex,l,this.consumed+this.excess);this.decodeMode!==ec.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var r;const{result:n,decodeTree:o}=this,a=(o[n]&Xu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(r=this.errors)===null||r===void 0||r.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(r,n,o){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[r]&~Xu.VALUE_LENGTH:a[r+1],o),n===3&&this.emitCodePoint(a[r+2],o),o}end(){var r;switch(this.state){case no.NamedEntity:return this.result!==0&&(this.decodeMode!==ec.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case no.NumericDecimal:return this.emitNumericEntity(0,2);case no.NumericHex:return this.emitNumericEntity(0,3);case no.NumericStart:return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case no.EntityStart:return 0}}}function vne(t,r,n,o){const a=(r&Xu.BRANCH_LENGTH)>>7,l=r&Xu.JUMP_TABLE;if(a===0)return l!==0&&o===l?n:-1;if(l){const p=o-l;return p<0||p>=a?-1:t[n+p]-1}let d=n,h=d+a-1;for(;d<=h;){const p=d+h>>>1,g=t[p];if(g<o)d=p+1;else if(g>o)h=p-1;else return t[p+a]}return-1}var nn;(function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"})(nn||(nn={}));var Et;(function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.BeforeSpecialT=23]="BeforeSpecialT",t[t.SpecialStartSequence=24]="SpecialStartSequence",t[t.InSpecialTag=25]="InSpecialTag",t[t.InEntity=26]="InEntity"})(Et||(Et={}));function Gc(t){return t===nn.Space||t===nn.NewLine||t===nn.Tab||t===nn.FormFeed||t===nn.CarriageReturn}function ek(t){return t===nn.Slash||t===nn.Gt||Gc(t)}function Ane(t){return t>=nn.LowerA&&t<=nn.LowerZ||t>=nn.UpperA&&t<=nn.UpperZ}var tc;(function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"})(tc||(tc={}));const Bi={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class _ne{constructor({xmlMode:r=!1,decodeEntities:n=!0},o){this.cbs=o,this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Et.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=r,this.decodeEntities=n,this.entityDecoder=new yne(r?fne:hne,(a,l)=>this.emitCodePoint(a,l))}reset(){this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Et.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(r){this.offset+=this.buffer.length,this.buffer=r,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(r){r===nn.Lt||!this.decodeEntities&&this.fastForwardTo(nn.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Et.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&r===nn.Amp&&this.startEntity()}stateSpecialStartSequence(r){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?ek(r):(r|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Et.InTagName,this.stateInTagName(r)}stateInSpecialTag(r){if(this.sequenceIndex===this.currentSequence.length){if(r===nn.Gt||Gc(r)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const o=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=o}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(r);return}this.sequenceIndex=0}(r|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Bi.TitleEnd?this.decodeEntities&&r===nn.Amp&&this.startEntity():this.fastForwardTo(nn.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(r===nn.Lt)}stateCDATASequence(r){r===Bi.Cdata[this.sequenceIndex]?++this.sequenceIndex===Bi.Cdata.length&&(this.state=Et.InCommentLike,this.currentSequence=Bi.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Et.InDeclaration,this.stateInDeclaration(r))}fastForwardTo(r){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===r)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(r){r===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Bi.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Et.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):r!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(r){return this.xmlMode?!ek(r):Ane(r)}startSpecial(r,n){this.isSpecial=!0,this.currentSequence=r,this.sequenceIndex=n,this.state=Et.SpecialStartSequence}stateBeforeTagName(r){if(r===nn.ExclamationMark)this.state=Et.BeforeDeclaration,this.sectionStart=this.index+1;else if(r===nn.Questionmark)this.state=Et.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(r)){const n=r|32;this.sectionStart=this.index,this.xmlMode?this.state=Et.InTagName:n===Bi.ScriptEnd[2]?this.state=Et.BeforeSpecialS:n===Bi.TitleEnd[2]||n===Bi.XmpEnd[2]?this.state=Et.BeforeSpecialT:this.state=Et.InTagName}else r===nn.Slash?this.state=Et.BeforeClosingTagName:(this.state=Et.Text,this.stateText(r))}stateInTagName(r){ek(r)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(r))}stateBeforeClosingTagName(r){Gc(r)||(r===nn.Gt?this.state=Et.Text:(this.state=this.isTagStartChar(r)?Et.InClosingTagName:Et.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(r){(r===nn.Gt||Gc(r))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.AfterClosingTagName,this.stateAfterClosingTagName(r))}stateAfterClosingTagName(r){(r===nn.Gt||this.fastForwardTo(nn.Gt))&&(this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(r){r===nn.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Et.InSpecialTag,this.sequenceIndex=0):this.state=Et.Text,this.sectionStart=this.index+1):r===nn.Slash?this.state=Et.InSelfClosingTag:Gc(r)||(this.state=Et.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(r){r===nn.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Et.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Gc(r)||(this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(r))}stateInAttributeName(r){(r===nn.Eq||ek(r))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Et.AfterAttributeName,this.stateAfterAttributeName(r))}stateAfterAttributeName(r){r===nn.Eq?this.state=Et.BeforeAttributeValue:r===nn.Slash||r===nn.Gt?(this.cbs.onattribend(tc.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(r)):Gc(r)||(this.cbs.onattribend(tc.NoValue,this.sectionStart),this.state=Et.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(r){r===nn.DoubleQuote?(this.state=Et.InAttributeValueDq,this.sectionStart=this.index+1):r===nn.SingleQuote?(this.state=Et.InAttributeValueSq,this.sectionStart=this.index+1):Gc(r)||(this.sectionStart=this.index,this.state=Et.InAttributeValueNq,this.stateInAttributeValueNoQuotes(r))}handleInAttributeValue(r,n){r===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===nn.DoubleQuote?tc.Double:tc.Single,this.index+1),this.state=Et.BeforeAttributeName):this.decodeEntities&&r===nn.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(r){this.handleInAttributeValue(r,nn.DoubleQuote)}stateInAttributeValueSingleQuotes(r){this.handleInAttributeValue(r,nn.SingleQuote)}stateInAttributeValueNoQuotes(r){Gc(r)||r===nn.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(tc.Unquoted,this.index),this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(r)):this.decodeEntities&&r===nn.Amp&&this.startEntity()}stateBeforeDeclaration(r){r===nn.OpeningSquareBracket?(this.state=Et.CDATASequence,this.sequenceIndex=0):this.state=r===nn.Dash?Et.BeforeComment:Et.InDeclaration}stateInDeclaration(r){(r===nn.Gt||this.fastForwardTo(nn.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(r){(r===nn.Gt||this.fastForwardTo(nn.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeComment(r){r===nn.Dash?(this.state=Et.InCommentLike,this.currentSequence=Bi.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Et.InDeclaration}stateInSpecialComment(r){(r===nn.Gt||this.fastForwardTo(nn.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(r){const n=r|32;n===Bi.ScriptEnd[3]?this.startSpecial(Bi.ScriptEnd,4):n===Bi.StyleEnd[3]?this.startSpecial(Bi.StyleEnd,4):(this.state=Et.InTagName,this.stateInTagName(r))}stateBeforeSpecialT(r){switch(r|32){case Bi.TitleEnd[3]:{this.startSpecial(Bi.TitleEnd,4);break}case Bi.TextareaEnd[3]:{this.startSpecial(Bi.TextareaEnd,4);break}case Bi.XmpEnd[3]:{this.startSpecial(Bi.XmpEnd,4);break}default:this.state=Et.InTagName,this.stateInTagName(r)}}startEntity(){this.baseState=this.state,this.state=Et.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?ec.Strict:this.baseState===Et.Text||this.baseState===Et.InSpecialTag?ec.Legacy:ec.Attribute)}stateInEntity(){const r=this.entityDecoder.write(this.buffer,this.index-this.offset);r>=0?(this.state=this.baseState,r===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Et.Text||this.state===Et.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const r=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Et.Text:{this.stateText(r);break}case Et.SpecialStartSequence:{this.stateSpecialStartSequence(r);break}case Et.InSpecialTag:{this.stateInSpecialTag(r);break}case Et.CDATASequence:{this.stateCDATASequence(r);break}case Et.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(r);break}case Et.InAttributeName:{this.stateInAttributeName(r);break}case Et.InCommentLike:{this.stateInCommentLike(r);break}case Et.InSpecialComment:{this.stateInSpecialComment(r);break}case Et.BeforeAttributeName:{this.stateBeforeAttributeName(r);break}case Et.InTagName:{this.stateInTagName(r);break}case Et.InClosingTagName:{this.stateInClosingTagName(r);break}case Et.BeforeTagName:{this.stateBeforeTagName(r);break}case Et.AfterAttributeName:{this.stateAfterAttributeName(r);break}case Et.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(r);break}case Et.BeforeAttributeValue:{this.stateBeforeAttributeValue(r);break}case Et.BeforeClosingTagName:{this.stateBeforeClosingTagName(r);break}case Et.AfterClosingTagName:{this.stateAfterClosingTagName(r);break}case Et.BeforeSpecialS:{this.stateBeforeSpecialS(r);break}case Et.BeforeSpecialT:{this.stateBeforeSpecialT(r);break}case Et.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(r);break}case Et.InSelfClosingTag:{this.stateInSelfClosingTag(r);break}case Et.InDeclaration:{this.stateInDeclaration(r);break}case Et.BeforeDeclaration:{this.stateBeforeDeclaration(r);break}case Et.BeforeComment:{this.stateBeforeComment(r);break}case Et.InProcessingInstruction:{this.stateInProcessingInstruction(r);break}case Et.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===Et.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const r=this.buffer.length+this.offset;this.sectionStart>=r||(this.state===Et.InCommentLike?this.currentSequence===Bi.CdataEnd?this.cbs.oncdata(this.sectionStart,r,0):this.cbs.oncomment(this.sectionStart,r,0):this.state===Et.InTagName||this.state===Et.BeforeAttributeName||this.state===Et.BeforeAttributeValue||this.state===Et.AfterAttributeName||this.state===Et.InAttributeName||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueNq||this.state===Et.InClosingTagName||this.cbs.ontext(this.sectionStart,r))}emitCodePoint(r,n){this.baseState!==Et.Text&&this.baseState!==Et.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(r)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(r,this.sectionStart))}}const zf=new Set(["input","option","optgroup","select","button","datalist","textarea"]),kr=new Set(["p"]),l6=new Set(["thead","tbody"]),c6=new Set(["dd","dt"]),u6=new Set(["rt","rp"]),Cne=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",kr],["h1",kr],["h2",kr],["h3",kr],["h4",kr],["h5",kr],["h6",kr],["select",zf],["input",zf],["output",zf],["button",zf],["datalist",zf],["textarea",zf],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",c6],["dt",c6],["address",kr],["article",kr],["aside",kr],["blockquote",kr],["details",kr],["div",kr],["dl",kr],["fieldset",kr],["figcaption",kr],["figure",kr],["footer",kr],["form",kr],["header",kr],["hr",kr],["main",kr],["nav",kr],["ol",kr],["pre",kr],["section",kr],["table",kr],["ul",kr],["rt",u6],["rp",u6],["tbody",l6],["tfoot",l6]]),xne=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),d6=new Set(["math","svg"]),h6=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),Sne=/\s|\//;class Ene{constructor(r,n={}){var o,a,l,d,h,p;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=r??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(o=n.lowerCaseTags)!==null&&o!==void 0?o:this.htmlMode,this.lowerCaseAttributeNames=(a=n.lowerCaseAttributeNames)!==null&&a!==void 0?a:this.htmlMode,this.recognizeSelfClosing=(l=n.recognizeSelfClosing)!==null&&l!==void 0?l:!this.htmlMode,this.tokenizer=new((d=n.Tokenizer)!==null&&d!==void 0?d:_ne)(this.options,this),this.foreignContext=[!this.htmlMode],(p=(h=this.cbs).onparserinit)===null||p===void 0||p.call(h,this)}ontext(r,n){var o,a;const l=this.getSlice(r,n);this.endIndex=n-1,(a=(o=this.cbs).ontext)===null||a===void 0||a.call(o,l),this.startIndex=n}ontextentity(r,n){var o,a;this.endIndex=n-1,(a=(o=this.cbs).ontext)===null||a===void 0||a.call(o,a6(r)),this.startIndex=n}isVoidElement(r){return this.htmlMode&&xne.has(r)}onopentagname(r,n){this.endIndex=n;let o=this.getSlice(r,n);this.lowerCaseTagNames&&(o=o.toLowerCase()),this.emitOpenTag(o)}emitOpenTag(r){var n,o,a,l;this.openTagStart=this.startIndex,this.tagname=r;const d=this.htmlMode&&Cne.get(r);if(d)for(;this.stack.length>0&&d.has(this.stack[0]);){const h=this.stack.shift();(o=(n=this.cbs).onclosetag)===null||o===void 0||o.call(n,h,!0)}this.isVoidElement(r)||(this.stack.unshift(r),this.htmlMode&&(d6.has(r)?this.foreignContext.unshift(!0):h6.has(r)&&this.foreignContext.unshift(!1))),(l=(a=this.cbs).onopentagname)===null||l===void 0||l.call(a,r),this.cbs.onopentag&&(this.attribs={})}endOpenTag(r){var n,o;this.startIndex=this.openTagStart,this.attribs&&((o=(n=this.cbs).onopentag)===null||o===void 0||o.call(n,this.tagname,this.attribs,r),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(r){this.endIndex=r,this.endOpenTag(!1),this.startIndex=r+1}onclosetag(r,n){var o,a,l,d,h,p,g,b;this.endIndex=n;let v=this.getSlice(r,n);if(this.lowerCaseTagNames&&(v=v.toLowerCase()),this.htmlMode&&(d6.has(v)||h6.has(v))&&this.foreignContext.shift(),this.isVoidElement(v))this.htmlMode&&v==="br"&&((d=(l=this.cbs).onopentagname)===null||d===void 0||d.call(l,"br"),(p=(h=this.cbs).onopentag)===null||p===void 0||p.call(h,"br",{},!0),(b=(g=this.cbs).onclosetag)===null||b===void 0||b.call(g,"br",!1));else{const y=this.stack.indexOf(v);if(y!==-1)for(let k=0;k<=y;k++){const x=this.stack.shift();(a=(o=this.cbs).onclosetag)===null||a===void 0||a.call(o,x,k!==y)}else this.htmlMode&&v==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(r){this.endIndex=r,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=r+1):this.onopentagend(r)}closeCurrentTag(r){var n,o;const a=this.tagname;this.endOpenTag(r),this.stack[0]===a&&((o=(n=this.cbs).onclosetag)===null||o===void 0||o.call(n,a,!r),this.stack.shift())}onattribname(r,n){this.startIndex=r;const o=this.getSlice(r,n);this.attribname=this.lowerCaseAttributeNames?o.toLowerCase():o}onattribdata(r,n){this.attribvalue+=this.getSlice(r,n)}onattribentity(r){this.attribvalue+=a6(r)}onattribend(r,n){var o,a;this.endIndex=n,(a=(o=this.cbs).onattribute)===null||a===void 0||a.call(o,this.attribname,this.attribvalue,r===tc.Double?'"':r===tc.Single?"'":r===tc.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(r){const n=r.search(Sne);let o=n<0?r:r.substr(0,n);return this.lowerCaseTagNames&&(o=o.toLowerCase()),o}ondeclaration(r,n){this.endIndex=n;const o=this.getSlice(r,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(o);this.cbs.onprocessinginstruction(`!${a}`,`!${o}`)}this.startIndex=n+1}onprocessinginstruction(r,n){this.endIndex=n;const o=this.getSlice(r,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(o);this.cbs.onprocessinginstruction(`?${a}`,`?${o}`)}this.startIndex=n+1}oncomment(r,n,o){var a,l,d,h;this.endIndex=n,(l=(a=this.cbs).oncomment)===null||l===void 0||l.call(a,this.getSlice(r,n-o)),(h=(d=this.cbs).oncommentend)===null||h===void 0||h.call(d),this.startIndex=n+1}oncdata(r,n,o){var a,l,d,h,p,g,b,v,y,k;this.endIndex=n;const x=this.getSlice(r,n-o);!this.htmlMode||this.options.recognizeCDATA?((l=(a=this.cbs).oncdatastart)===null||l===void 0||l.call(a),(h=(d=this.cbs).ontext)===null||h===void 0||h.call(d,x),(g=(p=this.cbs).oncdataend)===null||g===void 0||g.call(p)):((v=(b=this.cbs).oncomment)===null||v===void 0||v.call(b,`[CDATA[${x}]]`),(k=(y=this.cbs).oncommentend)===null||k===void 0||k.call(y)),this.startIndex=n+1}onend(){var r,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let o=0;o<this.stack.length;o++)this.cbs.onclosetag(this.stack[o],!0)}(n=(r=this.cbs).onend)===null||n===void 0||n.call(r)}reset(){var r,n,o,a;(n=(r=this.cbs).onreset)===null||n===void 0||n.call(r),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(o=this.cbs).onparserinit)===null||a===void 0||a.call(o,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(r){this.reset(),this.end(r)}getSlice(r,n){for(;r-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let o=this.buffers[0].slice(r-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),o+=this.buffers[0].slice(0,n-this.bufferOffset);return o}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(r){var n,o;if(this.ended){(o=(n=this.cbs).onerror)===null||o===void 0||o.call(n,new Error(".write() after done!"));return}this.buffers.push(r),this.tokenizer.running&&(this.tokenizer.write(r),this.writeIndex++)}end(r){var n,o;if(this.ended){(o=(n=this.cbs).onerror)===null||o===void 0||o.call(n,new Error(".end() after done!"));return}r&&this.write(r),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(r){this.write(r)}done(r){this.end(r)}}var sr;(function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"})(sr||(sr={}));function _k(t){return t.type===sr.Tag||t.type===sr.Script||t.type===sr.Style}sr.Root;sr.Text;sr.Directive;sr.Comment;sr.Script;sr.Style;sr.Tag;sr.CDATA;sr.Doctype;let xL=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(r){this.parent=r}get previousSibling(){return this.prev}set previousSibling(r){this.prev=r}get nextSibling(){return this.next}set nextSibling(r){this.next=r}cloneNode(r=!1){return PL(this,r)}};class pC extends xL{constructor(r){super(),this.data=r}get nodeValue(){return this.data}set nodeValue(r){this.data=r}}class t_ extends pC{constructor(){super(...arguments),this.type=sr.Text}get nodeType(){return 3}}class SL extends pC{constructor(){super(...arguments),this.type=sr.Comment}get nodeType(){return 8}}class EL extends pC{constructor(r,n){super(n),this.name=r,this.type=sr.Directive}get nodeType(){return 1}}class mC extends xL{constructor(r){super(),this.children=r}get firstChild(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(r){this.children=r}}class DL extends mC{constructor(){super(...arguments),this.type=sr.CDATA}get nodeType(){return 4}}class n_ extends mC{constructor(){super(...arguments),this.type=sr.Root}get nodeType(){return 9}}let IL=class extends mC{constructor(r,n,o=[],a=r==="script"?sr.Script:r==="style"?sr.Style:sr.Tag){super(o),this.name=r,this.attribs=n,this.type=a}get nodeType(){return 1}get tagName(){return this.name}set tagName(r){this.name=r}get attributes(){return Object.keys(this.attribs).map(r=>{var n,o;return{name:r,value:this.attribs[r],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[r],prefix:(o=this["x-attribsPrefix"])===null||o===void 0?void 0:o[r]}})}};function TL(t){return _k(t)}function NL(t){return t.type===sr.CDATA}function ML(t){return t.type===sr.Text}function Dne(t){return t.type===sr.Comment}function Ine(t){return t.type===sr.Directive}function Tne(t){return t.type===sr.Root}function PL(t,r=!1){let n;if(ML(t))n=new t_(t.data);else if(Dne(t))n=new SL(t.data);else if(TL(t)){const o=r?Hv(t.children):[],a=new IL(t.name,{...t.attribs},o);o.forEach(l=>l.parent=a),t.namespace!=null&&(a.namespace=t.namespace),t["x-attribsNamespace"]&&(a["x-attribsNamespace"]={...t["x-attribsNamespace"]}),t["x-attribsPrefix"]&&(a["x-attribsPrefix"]={...t["x-attribsPrefix"]}),n=a}else if(NL(t)){const o=r?Hv(t.children):[],a=new DL(o);o.forEach(l=>l.parent=a),n=a}else if(Tne(t)){const o=r?Hv(t.children):[],a=new n_(o);o.forEach(l=>l.parent=a),t["x-mode"]&&(a["x-mode"]=t["x-mode"]),n=a}else if(Ine(t)){const o=new EL(t.name,t.data);t["x-name"]!=null&&(o["x-name"]=t["x-name"],o["x-publicId"]=t["x-publicId"],o["x-systemId"]=t["x-systemId"]),n=o}else throw new Error(`Not implemented yet: ${t.type}`);return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}function Hv(t){const r=t.map(n=>PL(n,!0));for(let n=1;n<r.length;n++)r[n].prev=r[n-1],r[n-1].next=r[n];return r}const f6={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class Nne{constructor(r,n,o){this.dom=[],this.root=new n_(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(o=n,n=f6),typeof r=="object"&&(n=r,r=void 0),this.callback=r??null,this.options=n??f6,this.elementCB=o??null}onparserinit(r){this.parser=r}onreset(){this.dom=[],this.root=new n_(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(r){this.handleCallback(r)}onclosetag(){this.lastNode=null;const r=this.tagStack.pop();this.options.withEndIndices&&(r.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(r)}onopentag(r,n){const o=this.options.xmlMode?sr.Tag:void 0,a=new IL(r,n,void 0,o);this.addNode(a),this.tagStack.push(a)}ontext(r){const{lastNode:n}=this;if(n&&n.type===sr.Text)n.data+=r,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const o=new t_(r);this.addNode(o),this.lastNode=o}}oncomment(r){if(this.lastNode&&this.lastNode.type===sr.Comment){this.lastNode.data+=r;return}const n=new SL(r);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const r=new t_(""),n=new DL([r]);this.addNode(n),r.parent=n,this.lastNode=r}oncdataend(){this.lastNode=null}onprocessinginstruction(r,n){const o=new EL(r,n);this.addNode(o)}handleCallback(r){if(typeof this.callback=="function")this.callback(r,this.dom);else if(r)throw r}addNode(r){const n=this.tagStack[this.tagStack.length-1],o=n.children[n.children.length-1];this.options.withStartIndices&&(r.startIndex=this.parser.startIndex),this.options.withEndIndices&&(r.endIndex=this.parser.endIndex),n.children.push(r),o&&(r.prev=o,o.next=r),r.parent=n,this.lastNode=null}}function Kc(t){return Array.isArray(t)?t.map(Kc).join(""):TL(t)?t.name==="br"?`
`:Kc(t.children):NL(t)?Kc(t.children):ML(t)?t.data:""}function Mne(t,r){const n=new Nne(void 0,r);return new Ene(n,r).end(t),n.root}const Pne=async(t,r)=>{var k,x,_,D,E,N,P,F;if(!t)return;const n=new sn("p","mm","a4",!0);let o=10;const a=297,l=V=>{o+V*6>a-20&&(n.addPage(),o=10)},d=t.sections.length+t.sections.reduce((V,$)=>V+$.subsections.length,0)+t.sections.reduce((V,$)=>V+$.subsections.reduce((M,B)=>M+B.subSubsections.length,0),0)+t.sections.reduce((V,$)=>{var M;return V+(((M=$.images)==null?void 0:M.length)||0)+$.subsections.reduce((B,q)=>{var Q;return B+(((Q=q.images)==null?void 0:Q.length)||0)+q.subSubsections.reduce((H,R)=>{var K;return H+(((K=R.images)==null?void 0:K.length)||0)},0)},0)},0);let h=0;const p=()=>{h+=1,r(Math.round(h/d*100))},g=async(V,$=150,M=150)=>new Promise(B=>{const q=new Image;q.crossOrigin="anonymous",q.src=V.url,q.onload=()=>{const Q=q.width/q.height;let H=$,R=M;Q>1?R=$/Q:H=M*Q,l(R+15);const K=(210-H)/2;if(n.addImage(q,"JPEG",K,o,H,R),o+=R+5,V.title){n.setFont("helvetica","italic"),n.setFontSize(10);const ne=(210-n.getTextWidth(V.title))/2;n.text(V.title,ne,o),n.setFont("helvetica","normal"),o+=6}p(),B()},q.onerror=()=>{console.warn(`Image failed to load: ${V.url}`),p(),B()}}),b=(V,$=10,M=12)=>{var Q;const B=Mne(V),q=(H,R=0,K=!1)=>{var j,ne,de,se,oe,ye,re;if(H){if(_k(H)){const _e=H,X=_e.name.toLowerCase();switch(X){case"p":o+=6,(j=_e.children)==null||j.forEach(J=>q(J,R)),o+=6;break;case"br":o+=6;break;case"strong":case"b":case"i":case"em":n.setFont("helvetica",X==="strong"||X==="b"?"bold":"italic"),(ne=_e.children)==null||ne.forEach(J=>q(J,R)),n.setFont("helvetica","normal");break;case"ul":case"ol":o+=4,(de=_e.children)==null||de.forEach(J=>q(J,R+1,!0));break;case"li":{const J=R===1?"-":"--";let ae="";(se=_e.children)==null||se.forEach(pe=>{if(_k(pe)){const we=pe;we.name==="strong"||we.name==="b"?(n.setFont("helvetica","bold"),ae+=` ${Kc(we)}`,n.setFont("helvetica","normal")):we.name!=="ul"&&we.name!=="ol"&&(ae+=` ${Kc(we)}`)}else pe.type==="text"&&"data"in pe&&(ae+=` ${pe.data.trim()}`)}),ae=ae.trim(),ae&&(R===0?v(`${J} ${ae}`,$,M+2,!0):v(`${J} ${ae}`,$+R*8,M),o+=6),(oe=_e.children)==null||oe.forEach(pe=>{if(_k(pe)){const we=pe;["ul","ol"].includes(we.name)&&q(we,R+1,!0)}});break}case"a":(ye=_e.attribs)!=null&&ye.href&&y(Kc(_e),_e.attribs.href);break;case"h1":v(Kc(_e),$,20,!0),o+=8;break;case"h2":v(Kc(_e),$,18,!0),o+=8;break;case"h3":v(Kc(_e),$,16,!0),o+=6;break;default:(re=_e.children)==null||re.forEach(J=>q(J,R))}}else if(H.type==="text"&&"data"in H){const _e=H.data.trim();_e&&v(_e,$+R*8,M)}}};(Q=B.children)==null||Q.forEach(H=>q(H))},v=(V,$,M=12,B=!1,q=[0,0,0],Q=!1,H=200)=>{if(!V)return;n.setFontSize(M),n.setTextColor(q[0],q[1],q[2]),n.setFont("helvetica",B?Q?"bolditalic":"bold":Q?"italic":"normal"),n.splitTextToSize(V,H-$).forEach(K=>{l(1),n.text(K,$,o),o+=6})},y=(V,$)=>{l(1),n.setTextColor(10,104,71),n.textWithLink(V,10,o,{url:$}),o+=6};(k=t.header)!=null&&k.content&&(v("Header:",10,12,!0),b(t.header.content),o+=5),t.title&&(v(t.title,10,18,!0,[10,104,71]),o+=5);for(const V of t.sections){if(v(V.title,10,16,!0),b(V.content),(x=V.images)!=null&&x.length)for(const $ of V.images)await g($);p();for(const $ of V.subsections){if(v($.title,12,14,!0),b($.content,12),(_=$.images)!=null&&_.length)for(const M of $.images)await g(M);p();for(const M of $.subSubsections){if(v(M.title,14,12,!0),b(M.content,14),(D=M.images)!=null&&D.length)for(const B of M.images)await g(B);p(),(E=M.links)!=null&&E.length&&(v("Links:",14,12,!0),M.links.forEach(B=>y(B.title,B.url)))}(N=$.links)!=null&&N.length&&(v("Links:",12,12,!0),$.links.forEach(M=>y(M.title,M.url)))}(P=V.links)!=null&&P.length&&(v("Links:",10,12,!0),V.links.forEach($=>y($.title,$.url))),o+=5}(F=t.footer)!=null&&F.content&&(v("Footer:",10,12,!0),b(t.footer.content)),n.save(`${t.title||"Material"}.pdf`),r(100)},One=()=>{var E,N,P,F,V,$,M,B,q,Q,H,R,K,j,ne,de,se,oe,ye,re,_e,X,J,ae,pe,we,Pe,Ie,Ne,rt,Qe,Je,Ue,Z,Ce,ue,ge,he,Ae,Me,Te,Ee;const{id:t}=G_(),[r,n]=_1(),o=er(),[a,l]=Y.useState(null),[d,h]=Y.useState({sectionIndex:0}),[p,g]=Y.useState(null),[b,v]=Y.useState(0);wO((a==null?void 0:a.sections)||[],d.sectionIndex||0,!!a),Y.useEffect(()=>{v(qe=>qe+1)},[d]),Y.useEffect(()=>{t&&(async()=>{var st,Fe,Ye;const Ve=yn(o,"materials",t),He=await _s(Ve);if(He.exists()){const Ke={id:He.id,...He.data()};console.log("Loaded material from database:",{title:Ke.title,sectionsCount:((st=Ke.sections)==null?void 0:st.length)||0,sectionsWithImages:((Fe=Ke.sections)==null?void 0:Fe.filter(At=>{var ht;return((ht=At.images)==null?void 0:ht.length)>0}).length)||0,allImages:(Ye=Ke.sections)==null?void 0:Ye.flatMap(At=>At.images||[]).map(At=>({url:At.url.substring(0,100)+"...",title:At.title}))}),l(Ke)}})()},[t,o]),Y.useEffect(()=>{t&&r.get("material")!==t?(console.log("🔹 Updating URL: Adding material ID to query parameters:",t),n(qe=>{const Ve=new URLSearchParams(qe);return Ve.set("material",t),Ve},{replace:!0})):console.log("Material ID already in URL:",r.get("material"))},[t,r,n]);const y=(qe,Ve,He)=>{h({sectionIndex:typeof qe=="number"?qe:void 0,subsectionIndex:Ve,subSubsectionIndex:He,type:typeof qe=="string"?qe:void 0})},k=qe=>{var Ye,Ke,At,ht,on,pt,Vt,Bt,Ft,Kt,pn,En,qn,Br,Wr,jn,Xt,Dn,$o,Nn,Qi,ii,$t,zi,Ji,oi,vr;const{sectionIndex:Ve,subsectionIndex:He,subSubsectionIndex:st,type:Fe}=d;if(qe==="prev")if(st!==void 0&&st>0)h({sectionIndex:Ve,subsectionIndex:He,subSubsectionIndex:st-1});else if(st!==void 0&&st===0)h({sectionIndex:Ve,subsectionIndex:He});else if(He!==void 0&&He>0)h({sectionIndex:Ve,subsectionIndex:He-1});else if(He!==void 0&&He===0)h({sectionIndex:Ve});else if(Ve>0){const Bn=a==null?void 0:a.sections[Ve-1];h({sectionIndex:Ve-1,subsectionIndex:(Ye=Bn==null?void 0:Bn.subsections)!=null&&Ye.length?Bn.subsections.length-1:void 0,subSubsectionIndex:(Ke=Bn==null?void 0:Bn.subsections)!=null&&Ke.length?((ht=(At=Bn.subsections[Bn.subsections.length-1])==null?void 0:At.subSubsections)==null?void 0:ht.length)-1:void 0})}else Fe==="footer"?h({sectionIndex:((a==null?void 0:a.sections.length)??1)-1,type:"footer"}):Ve===void 0&&Fe==="header"&&h({sectionIndex:((a==null?void 0:a.sections.length)??1)-1});else qe==="next"&&(st===void 0&&He!==void 0&&((Bt=(Vt=(pt=(on=a==null?void 0:a.sections[Ve??0])==null?void 0:on.subsections)==null?void 0:pt[He])==null?void 0:Vt.subSubsections)!=null&&Bt.length)?h({sectionIndex:Ve,subsectionIndex:He,subSubsectionIndex:0}):st!==void 0&&st<(((En=(pn=(Kt=(Ft=a==null?void 0:a.sections[Ve??0])==null?void 0:Ft.subsections)==null?void 0:Kt[He??0])==null?void 0:pn.subSubsections)==null?void 0:En.length)??1)-1?h({sectionIndex:Ve,subsectionIndex:He,subSubsectionIndex:st+1}):st!==void 0&&st===(((jn=(Wr=(Br=(qn=a==null?void 0:a.sections[Ve??0])==null?void 0:qn.subsections)==null?void 0:Br[He??0])==null?void 0:Wr.subSubsections)==null?void 0:jn.length)??1)-1&&(He??0)<(((Dn=(Xt=a==null?void 0:a.sections[Ve??0])==null?void 0:Xt.subsections)==null?void 0:Dn.length)??1)-1?h({sectionIndex:Ve,subsectionIndex:(He??0)+1}):He===void 0&&((Nn=($o=a==null?void 0:a.sections[Ve??0])==null?void 0:$o.subsections)!=null&&Nn.length)?h({sectionIndex:Ve,subsectionIndex:0}):He!==void 0&&He<(((ii=(Qi=a==null?void 0:a.sections[Ve??0])==null?void 0:Qi.subsections)==null?void 0:ii.length)??1)-1?h({sectionIndex:Ve,subsectionIndex:He+1}):He!==void 0&&He===(((zi=($t=a==null?void 0:a.sections[Ve??0])==null?void 0:$t.subsections)==null?void 0:zi.length)??1)-1&&(Ve??0)<(((Ji=a==null?void 0:a.sections)==null?void 0:Ji.length)??1)-1?h({sectionIndex:(Ve??0)+1}):(Ve??0)<(((oi=a==null?void 0:a.sections)==null?void 0:oi.length)??1)-1?h({sectionIndex:(Ve??0)+1}):Ve===(((vr=a==null?void 0:a.sections)==null?void 0:vr.length)??1)-1&&He===void 0&&h({sectionIndex:void 0,type:"footer"}))};if(!a)return C.jsx(qr,{});const x=d.type==="header"||d.type==="footer"?"":d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((P=(N=(E=a.sections[d.sectionIndex])==null?void 0:E.subsections[d.subsectionIndex])==null?void 0:N.subSubsections[d.subSubsectionIndex])==null?void 0:P.content)||"":d.subsectionIndex!==void 0?((V=(F=a.sections[d.sectionIndex])==null?void 0:F.subsections[d.subsectionIndex])==null?void 0:V.content)||"":(($=a.sections[d.sectionIndex])==null?void 0:$.content)||"":"",_=d.type==="header"||d.type==="footer"?"":d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((q=(B=(M=a.sections[d.sectionIndex])==null?void 0:M.subsections[d.subsectionIndex])==null?void 0:B.subSubsections[d.subSubsectionIndex])==null?void 0:q.title)||"":d.subsectionIndex!==void 0?((H=(Q=a.sections[d.sectionIndex])==null?void 0:Q.subsections[d.subsectionIndex])==null?void 0:H.title)||"":((R=a.sections[d.sectionIndex])==null?void 0:R.title)||"":"",D=d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((ne=(j=(K=a.sections[d.sectionIndex])==null?void 0:K.subsections[d.subsectionIndex])==null?void 0:j.subSubsections[d.subSubsectionIndex])==null?void 0:ne.links)||[]:d.subsectionIndex!==void 0?((se=(de=a.sections[d.sectionIndex])==null?void 0:de.subsections[d.subsectionIndex])==null?void 0:se.links)||[]:((oe=a.sections[d.sectionIndex])==null?void 0:oe.links)||[]:[];return C.jsx(Le,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:C.jsxs(Le,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[C.jsxs(Le,{sx:{display:"flex",justifyContent:"space-between",mt:2,mx:2},children:[C.jsx(Le,{sx:{width:"450px",ml:2,mt:2},children:C.jsx(uO,{})}),C.jsxs(Le,{sx:{width:"450px",mr:2,mt:2,textAlign:"right"},children:[C.jsx(xt,{variant:"contained",onClick:async()=>{a&&(g(0),await Pne(a,g),g(null))},sx:{padding:"10px 16px",backgroundColor:"#436850",color:"#FBFADA",border:"none",borderRadius:"8px",cursor:"pointer",fontFamily:"Gabarito","&:hover":{backgroundColor:"#365b40"},"&:disabled":{backgroundColor:"#A8BDA8",cursor:"not-allowed"}},disabled:p!==null,children:p!==null?"Generating...":"Download PDF"}),p!==null&&C.jsx(Le,{sx:{width:"100%",mt:2},children:C.jsx(hg,{variant:"determinate",value:p})})]})]}),C.jsxs(Le,{sx:{display:"flex",flexGrow:1},children:[C.jsx(Le,{sx:{width:"450px",minWidth:"450px",maxWidth:"450px",borderRight:"1px solid #ddd",padding:2},children:C.jsx(cO,{sections:a.sections,selected:d,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:y,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),C.jsxs(Le,{sx:{flexGrow:1,padding:3},children:[C.jsx("hr",{})," ",C.jsx(Le,{sx:{borderRadius:1,padding:2,mb:2},children:C.jsx(ze,{dangerouslySetInnerHTML:{__html:a.header.content.replace(/\n/g,"<br />")}})}),C.jsx("hr",{})," ",C.jsx(ze,{variant:"h3",align:"center",gutterBottom:!0,children:a.title}),C.jsx("hr",{})," ",C.jsx(ze,{variant:"h4",align:"center",gutterBottom:!0,children:_}),d.type!=="header"&&d.type!=="footer"&&C.jsx(Bk,{in:!0,timeout:400,children:C.jsxs(Le,{children:[C.jsxs(Le,{sx:{mb:2,borderRadius:1,padding:2},children:[C.jsx(ze,{dangerouslySetInnerHTML:{__html:x.replace(/\n/g,"<br />")}}),C.jsx(Le,{children:d.sectionIndex!==void 0&&C.jsx(C.Fragment,{children:d.subSubsectionIndex!==void 0?(((ae=(J=(X=(_e=(re=(ye=a.sections[d.sectionIndex])==null?void 0:ye.subsections)==null?void 0:re[d.subsectionIndex])==null?void 0:_e.subSubsections)==null?void 0:X[d.subSubsectionIndex])==null?void 0:J.images)==null?void 0:ae.length)||0)>0&&C.jsx(Ov,{images:((Ne=(Ie=(Pe=(we=(pe=a.sections[d.sectionIndex])==null?void 0:pe.subsections)==null?void 0:we[d.subsectionIndex])==null?void 0:Pe.subSubsections)==null?void 0:Ie[d.subSubsectionIndex])==null?void 0:Ne.images)||[]}):d.subsectionIndex!==void 0?(((Ue=(Je=(Qe=(rt=a.sections[d.sectionIndex])==null?void 0:rt.subsections)==null?void 0:Qe[d.subsectionIndex])==null?void 0:Je.images)==null?void 0:Ue.length)||0)>0&&C.jsx(Ov,{images:((ue=(Ce=(Z=a.sections[d.sectionIndex])==null?void 0:Z.subsections)==null?void 0:Ce[d.subsectionIndex])==null?void 0:ue.images)||[]}):(((he=(ge=a.sections[d.sectionIndex])==null?void 0:ge.images)==null?void 0:he.length)||0)>0&&C.jsx(Ov,{images:((Ae=a.sections[d.sectionIndex])==null?void 0:Ae.images)||[]})})})]}),C.jsx(pte,{links:D})]})},b),C.jsxs(Le,{sx:{display:"flex",justifyContent:"space-between"},children:[C.jsx(ia,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:C.jsx("span",{children:C.jsx(or,{onClick:()=>k("prev"),disabled:d.sectionIndex===0&&d.subsectionIndex===void 0&&d.type==="header",children:C.jsx(bP,{})})})}),C.jsx(ia,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:C.jsx("span",{children:C.jsx(or,{onClick:()=>k("next"),disabled:d.sectionIndex===(((Me=a.sections)==null?void 0:Me.length)??1)-1&&(d.subsectionIndex===void 0||d.subsectionIndex===(((Ee=(Te=a.sections[d.sectionIndex])==null?void 0:Te.subsections)==null?void 0:Ee.length)??1)-1)&&d.type==="footer",children:C.jsx(kP,{})})})})]}),C.jsx("hr",{})," ",C.jsx(Le,{sx:{borderRadius:1,padding:2,mt:2},children:C.jsx(ze,{dangerouslySetInnerHTML:{__html:a.footer.content.replace(/\n/g,"<br />")}})}),C.jsx("hr",{})," "]})]})]})})},OL=({value:t,onChange:r})=>{const[n,o]=Y.useState([]),{userDetails:a}=Ti();return Y.useEffect(()=>{if(a!=null&&a.classes){const l=Object.entries(a.classes).filter(([d,h])=>h.isCourseAdmin||a.isSuperAdmin).map(([d,h])=>({id:d,number:h.number,title:h.title}));o(l)}else o([])},[a]),C.jsxs(id,{fullWidth:!0,sx:{mb:2},children:[C.jsx(od,{id:"course-selector-label",children:"Course"}),C.jsx(hc,{labelId:"course-selector-label",value:t,onChange:l=>r(l.target.value),label:"Course",children:n.length>0?n.map(l=>C.jsx(Ir,{value:l.id,children:`${l.number} - ${l.title}`},l.id)):C.jsx(Ir,{disabled:!0,children:"No courses available"})}),!t&&C.jsx(CW,{children:"Please select a course"})]})},Lne=()=>{const[t,r]=Y.useState(""),[n,o]=Y.useState(""),[a,l]=Y.useState([{title:"",url:""}]),[d,h]=Y.useState(""),p=Vr(),g=er(),b=async()=>{if(!d){alert("Please select a course to post the message.");return}try{await oa(Yn(g,"messages"),{title:t,description:n,links:a,course:d,postedOn:_h(),isPinned:!1}),p("/")}catch(x){console.error("Error adding message: ",x)}},v=()=>p("/"),y=(x,_,D)=>{const E=[...a];E[x][_]=D,l(E)},k=()=>l([...a,{title:"",url:""}]);return C.jsx(yP,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:C.jsxs(Rn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[C.jsx(ze,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Add New Message"}),C.jsx(Zs,{sx:{mb:3,backgroundColor:"#DADADA"}}),C.jsxs(Le,{sx:{mt:4},children:[C.jsx(OL,{value:d,onChange:h}),C.jsx(Sn,{label:"Subject",fullWidth:!0,value:t,onChange:x=>r(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),C.jsx(Sn,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:n,onChange:x=>o(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),C.jsx(ze,{variant:"h6",sx:{mb:2},children:"🔗"}),a.map((x,_)=>C.jsxs(Le,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[C.jsx(Sn,{label:`URL Title ${_+1}`,fullWidth:!0,value:x.title,onChange:D=>y(_,"title",D.target.value),sx:{mb:1}}),C.jsx(Sn,{label:`URL Link ${_+1}`,fullWidth:!0,value:x.url,onChange:D=>y(_,"url",D.target.value)})]},_)),C.jsx(xt,{variant:"outlined",onClick:k,startIcon:C.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),C.jsx(Zs,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),C.jsxs(Le,{sx:{display:"flex",justifyContent:"space-between"},children:[C.jsx(xt,{variant:"outlined",onClick:v,className:"cancel-button",children:"Cancel"}),C.jsx(xt,{variant:"outlined",onClick:b,className:"save-button",children:"Save"})]})]})]})})},jne=()=>{const{id:t}=G_(),[r,n]=Y.useState(""),[o,a]=Y.useState(""),[l,d]=Y.useState([{title:"",url:""}]),[h,p]=Y.useState(""),g=Vr(),b=er();Y.useEffect(()=>{(async()=>{try{const D=yn(b,"messages",t),E=await _s(D);if(E.exists()){const N=E.data();n(N.title),a(N.description),d(N.links||[{title:"",url:""}]),p(N.course||"")}}catch(D){console.error("Error fetching message: ",D)}})()},[b,t]);const v=async()=>{try{if(!h){alert("Please select a valid course to update the message.");return}const _=yn(b,"messages",t);await xr(_,{title:r,description:o,links:l,course:h,lastUpdatedOn:_h()}),g("/")}catch(_){console.error("Error editing message: ",_)}},y=()=>g("/"),k=(_,D,E)=>{const N=[...l];N[_][D]=E,d(N)},x=()=>d([...l,{title:"",url:""}]);return C.jsx(yP,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:C.jsxs(Rn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[C.jsx(ze,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Edit Message"}),C.jsx(Zs,{sx:{mb:3,backgroundColor:"#DADADA"}}),C.jsxs(Le,{sx:{mt:4},children:[C.jsx(OL,{value:h,onChange:p}),C.jsx(Sn,{label:"Subject",fullWidth:!0,value:r,onChange:_=>n(_.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),C.jsx(Sn,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:o,onChange:_=>a(_.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),C.jsx(ze,{variant:"h6",sx:{mb:2},children:"🔗"}),l.map((_,D)=>C.jsxs(Le,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[C.jsx(Sn,{label:`URL Title ${D+1}`,fullWidth:!0,value:_.title,onChange:E=>k(D,"title",E.target.value),sx:{mb:1}}),C.jsx(Sn,{label:`URL Link ${D+1}`,fullWidth:!0,value:_.url,onChange:E=>k(D,"url",E.target.value)})]},D)),C.jsx(xt,{variant:"outlined",onClick:x,startIcon:C.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),C.jsx(Zs,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),C.jsxs(Le,{sx:{display:"flex",justifyContent:"space-between"},children:[C.jsx(xt,{variant:"outlined",onClick:y,className:"cancel-button",children:"Cancel"}),C.jsx(xt,{variant:"outlined",onClick:v,className:"save-button",children:"Save"})]})]})]})})},Bne=({users:t})=>{const r=(o,a)=>o?{backgroundColor:"#6a1b9a",color:"#fff"}:a?{backgroundColor:"#1976d2",color:"#fff"}:{backgroundColor:"#e0e0e0",color:"#000"},n=o=>o?Object.entries(o).map(([a,l])=>C.jsx(ni,{label:`${l.isCourseAdmin?"[Course Admin] ":""}${l.number||"N/A"} - ${l.title||"Untitled Course"}`,sx:{backgroundColor:l.isCourseAdmin?"#ffcccb":"#d4edda",color:l.isCourseAdmin?"#b71c1c":"#155724",margin:"4px",fontSize:"0.9rem",fontWeight:"bold",borderRadius:"8px",padding:"4px 8px"}},a)):"None";return C.jsx(fd,{component:Rn,children:C.jsxs(pd,{children:[C.jsx(md,{children:C.jsxs(Co,{children:[C.jsx(It,{children:"ID"}),C.jsx(It,{children:"Status"}),C.jsx(It,{children:"Last Login"}),C.jsx(It,{children:"Courses"})]})}),C.jsx(gd,{children:t.map(o=>C.jsxs(Co,{sx:{"&:hover":{backgroundColor:"#f5f5f5",cursor:"pointer"}},children:[C.jsx(It,{children:C.jsx(ni,{label:o.id,color:o.isSuperAdmin?"secondary":o.isAdmin?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",...r(o.isSuperAdmin,o.isAdmin)}})}),C.jsx(It,{children:C.jsx(ni,{label:o.isSuperAdmin?"Super Admin":o.isAdmin?"Educator":"Student",color:o.isSuperAdmin?"secondary":o.isAdmin?"primary":"default"})}),C.jsx(It,{children:Qu(o.lastLogin)}),C.jsx(It,{children:n(o.classes)||C.jsx(ni,{label:"No courses assigned",sx:{backgroundColor:"#e0e0e0",color:"#000"}})})]},o.id))})]})})},Rne=({userId:t,onUserDeleted:r})=>{const[n,o]=Y.useState(!1),[a,l]=Y.useState(!1),d=er(),h=()=>{o(!0)},p=()=>{o(!1)},g=async()=>{l(!0);try{const b=yn(d,"users",t);await Wg(b),r(!0)}catch(b){console.error("Error deleting user:",b),r(!1)}l(!1),o(!1)};return C.jsxs(C.Fragment,{children:[C.jsx(xt,{variant:"text",color:"error",onClick:h,children:"Delete User Account"}),C.jsxs(yo,{open:n,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[C.jsx(vo,{id:"alert-dialog-title",children:"Confirm Deletion"}),C.jsx(Ao,{children:C.jsx(Ss,{id:"alert-dialog-description",children:"Are you sure you want to delete this user account? This action cannot be undone."})}),C.jsxs(_o,{children:[C.jsx(xt,{onClick:p,color:"primary",disabled:a,children:"Cancel"}),C.jsx(xt,{onClick:g,color:"error",autoFocus:!0,disabled:a,children:a?C.jsx(qr,{size:24}):"Delete"})]})]})]})},Fne=({userId:t,userClasses:r,courses:n})=>{const[o,a]=Y.useState(""),[l,d]=Y.useState(!1),[h,p]=Y.useState(!1),[g,b]=Y.useState(""),[v,y]=Y.useState(!1),[k,x]=Y.useState(!1),_=er(),D=async()=>{if(!t||!o){b("Please enter a User ID and select a course."),y(!0);return}p(!0);try{const F=yn(_,"users",t),V=n.find($=>$.id===o);V?(await xr(F,{[`classes.${o}`]:{number:V.number,title:V.title,isCourseAdmin:l}}),b(`Course ${V.title} assigned successfully to user ${t}${l?" as Course Admin.":"."}`)):b("Selected course not found.")}catch(F){console.error("Error assigning course:",F),b("Error assigning course.")}p(!1),y(!0)},E=()=>{y(!1)},N=()=>x(!0),P=()=>x(!1);return C.jsxs(C.Fragment,{children:[C.jsxs(Le,{sx:{display:"flex",alignItems:"center",mt:2},children:[C.jsx(ze,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Courses:"}),C.jsx(Le,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r?Object.values(r).map((F,V)=>C.jsx(ni,{label:`${F.isCourseAdmin?"[Course Admin] ":""}${F.number} - ${F.title}`,style:{backgroundColor:F.isCourseAdmin?"#ffcccb":"#d4edda",color:F.isCourseAdmin?"#b71c1c":"#155724",margin:"4px"}},V)):C.jsx(ze,{children:"No courses assigned."})}),C.jsxs(id,{sx:{minWidth:200,mr:2},children:[C.jsx(od,{children:"Course"}),C.jsx(hc,{value:o,onChange:F=>a(F.target.value),children:n.map(F=>C.jsx(Ir,{value:F.id,children:`${F.number} - ${F.title}`},F.id))})]}),C.jsxs(id,{sx:{mr:2},children:[C.jsx(od,{children:"Role"}),C.jsxs(hc,{value:l?"admin":"student",onChange:F=>d(F.target.value==="admin"),children:[C.jsx(Ir,{value:"admin",children:"Course Admin"}),C.jsx(Ir,{value:"student",children:"Student"})]})]}),C.jsx(xt,{variant:"contained",color:"primary",onClick:N,disabled:h||!o,children:h?C.jsx(qr,{size:24}):"Assign Course"})]}),C.jsx(is,{open:v,autoHideDuration:6e3,onClose:E,children:C.jsx(Sr,{onClose:E,severity:"info",children:g})}),C.jsxs(yo,{open:k,onClose:P,"aria-labelledby":"assign-dialog-title",children:[C.jsx(vo,{id:"assign-dialog-title",children:"Assign Course"}),C.jsx(Ao,{children:C.jsxs(Ss,{children:["Are you sure you want to assign the course ",o," to this user",l?" as a Course Admin?":"?"]})}),C.jsxs(_o,{children:[C.jsx(xt,{onClick:P,color:"primary",children:"Cancel"}),C.jsx(xt,{onClick:D,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},zne=()=>{const[t,r]=Y.useState(""),[n,o]=Y.useState(!1),[a,l]=Y.useState(!1),[d,h]=Y.useState(void 0),[p,g]=Y.useState(!1),[b,v]=Y.useState(""),[y,k]=Y.useState(!1),[x,_]=Y.useState(!1),[D,E]=Y.useState(!1),[N,P]=Y.useState([]),[F,V]=Y.useState(""),[$,M]=Y.useState([]),B=er(),[q,Q]=Y.useState(""),H=Vr(),R=()=>{H("/")};Y.useEffect(()=>{(async()=>{try{const pe=Yn(B,"courses"),Pe=(await xo(pe)).docs.map(Ie=>({id:Ie.id,number:Ie.data().number,title:Ie.data().title}));M(Pe)}catch(pe){console.error("Error fetching courses:",pe)}})()},[B]);const K=async()=>{if(t){g(!0),l(!1);try{const ae=yn(B,"users",t),pe=await _s(ae);if(pe.exists()){const we=pe.data();o(we.isAdmin),h(we.classes),l(!0)}else v("User not found."),k(!0)}catch(ae){console.error("Error fetching user:",ae),v("Error fetching user."),k(!0)}g(!1)}},j=Y.useCallback(async()=>{g(!0);try{const ae=Yn(B,"users"),we=(await xo(ae)).docs.map(Pe=>({id:Pe.id,...Pe.data()}));P(we)}catch(ae){console.error("Error fetching users:",ae),v("Error fetching users."),k(!0)}g(!1)},[B]);Y.useEffect(()=>{j()},[j]);const ne=async()=>{try{const ae=yn(B,"users",t);await xr(ae,{isAdmin:D}),v(`User ${D?"granted":"revoked"} admin privileges successfully.`),o(D);const pe=N.map(we=>we.id===t?{...we,isAdmin:D}:we);P(pe)}catch(ae){console.error("Error updating user:",ae),v("Error updating user.")}k(!0),_(!1)},de=ae=>{ae.preventDefault(),a?(E(!n),_(!0)):(v("User not found."),k(!0))},se=()=>{k(!1)},oe=()=>{_(!1)},ye=ae=>{V(ae.target.value)},re=ae=>F?ae.classes&&F in ae.classes:!0,_e=ae=>q==="superAdmin"?ae.isSuperAdmin:q==="educator"?ae.isAdmin&&!ae.isSuperAdmin:q==="student"?!ae.isAdmin&&!ae.isSuperAdmin:!0,X=ae=>ae.filter(pe=>re(pe)&&_e(pe)),J=ae=>{ae?(v("User account deleted successfully."),l(!1),r(""),j()):v("Error deleting user account."),k(!0)};return C.jsxs(Le,{sx:{padding:3},children:[C.jsx(Le,{sx:{display:"flex",alignItems:"center"},children:C.jsx(xt,{variant:"text",onClick:R,sx:{mr:2},children:"← Home Page"})}),C.jsx(ze,{variant:"h4",component:"h1",gutterBottom:!0,children:"User Management"}),C.jsx(ze,{variant:"body1",gutterBottom:!0,children:"Use this page to view and manage user permissions. Enter the User ID to grant or revoke admin privileges, or delete user account."}),C.jsx(Le,{sx:{display:"flex",justifyContent:"flex-start"},children:C.jsxs("form",{onSubmit:de,children:[C.jsx(Sn,{label:"User ID",value:t,onChange:ae=>r(ae.target.value),fullWidth:!0,required:!0,margin:"normal",onKeyPress:ae=>{ae.key==="Enter"&&(K(),ae.preventDefault())},sx:{minWidth:"300px"}}),p?C.jsx(qr,{}):a&&C.jsxs(Rn,{variant:"outlined",sx:{padding:2,borderRadius:"15px",mb:1},children:[C.jsxs(Le,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #e0e0e0",padding:"16px",borderRadius:"8px",backgroundColor:"#f9f9f9",mb:2},children:[C.jsxs(Le,{sx:{display:"flex",alignItems:"center"},children:[C.jsx(ze,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Status:"}),C.jsx(ni,{label:n?"Educator (Admin)":"Student (Non-Admin)",color:n?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",backgroundColor:n?"#1976d2":"#e0e0e0",color:n?"#fff":"#000"}})]}),C.jsx(xt,{type:"submit",variant:"contained",color:n?"secondary":"primary",sx:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",borderRadius:"8px",fontWeight:"bold",boxShadow:"none","&:hover":{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)"}},children:n?"Revoke Educator Access":"Grant Educator Access"})]}),C.jsx(Fne,{userId:t,userClasses:d,courses:$}),C.jsx(Rne,{userId:t,onUserDeleted:J})]})]})}),C.jsx(ze,{variant:"h5",component:"h2",gutterBottom:!0,children:"Current Users"}),C.jsxs(id,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[C.jsx(od,{children:"Filter by Course"}),C.jsxs(hc,{value:F,onChange:ye,children:[C.jsx(Ir,{value:"",children:"All Courses"}),$.map(ae=>C.jsx(Ir,{value:ae.id,children:ae.number},ae.id))]})]}),C.jsxs(id,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[C.jsx(od,{children:"User Status"}),C.jsxs(hc,{value:q,onChange:ae=>Q(ae.target.value),children:[C.jsx(Ir,{value:"",children:"All Statuses"}),C.jsx(Ir,{value:"superAdmin",children:"Super Admin"}),C.jsx(Ir,{value:"educator",children:"Educator"}),C.jsx(Ir,{value:"student",children:"Student"})]})]}),C.jsx(Bne,{users:X(N)}),C.jsxs(yo,{open:x,onClose:oe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[C.jsx(vo,{id:"alert-dialog-title",children:n?"Revoke Admin Privileges":"Grant Admin Privileges"}),C.jsx(Ao,{children:C.jsxs(Ss,{id:"alert-dialog-description",children:["Are you sure you want to ",n?"revoke":"grant"," admin privileges for this user?"]})}),C.jsxs(_o,{children:[C.jsx(xt,{onClick:oe,color:"primary",children:"Cancel"}),C.jsx(xt,{onClick:ne,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),C.jsx(is,{open:y,autoHideDuration:6e3,onClose:se,children:C.jsx(Sr,{onClose:se,severity:"info",children:b})})]})},Une=({onCourseAdded:t})=>{const[r,n]=Y.useState(""),{userDetails:o,setUserDetails:a}=Ti(),l=er(),d=p=>{n(p.target.value)},h=async()=>{try{const b=(await xo(Yn(l,"courses"))).docs.map(v=>({id:v.id,passcode:v.data().passcode,number:v.data().number,title:v.data().title})).find(v=>v.passcode===r);if(b){if(o)if((o.classes||{})[b.id])t(`Course access for ${b.number} is already added to your account!`,"info");else{const y=yn(l,"users",o.uid);await xr(y,{[`classes.${b.id}`]:{number:b.number,title:b.title,isCourseAdmin:!1}});const k=await _s(y);if(k.exists()){const x=k.data();a({...x,uid:o.uid})}t(`Course access for ${b.number} added to your account successfully!`,"success"),n("")}}else t("Invalid passcode. Course not found.","error")}catch(p){console.error("Error updating document: ",p),t("Error adding course access to your account.","error")}};return C.jsx("div",{children:C.jsxs(Qt,{container:!0,spacing:2,sx:{maxWidth:"50%"},children:[C.jsx(Qt,{item:!0,xs:10,children:C.jsx(Sn,{label:"Enter Course Passcode",value:r,onChange:d,fullWidth:!0,sx:{mb:2}})}),C.jsx(Qt,{item:!0,xs:2,sx:{display:"flex",alignItems:"center"},children:C.jsx(xt,{variant:"contained",onClick:h,children:"Add Course"})})]})})},qne=({userDetails:t,getAccountStatus:r,renderCourses:n})=>C.jsxs(Rn,{elevation:3,sx:{padding:3,borderRadius:"12px",backgroundColor:"#ffffff",maxWidth:"500px",margin:"auto"},children:[C.jsx(Le,{sx:{display:"flex",justifyContent:"center",mb:2},children:C.jsx(xW,{sx:{width:72,height:72,bgcolor:"#1054c4"},children:C.jsx(SW,{sx:{fontSize:48,color:"#f8f4fc"}})})}),C.jsxs(Le,{sx:{display:"flex",flexDirection:"column",gap:1,alignItems:"left"},children:[C.jsxs(Le,{sx:{display:"flex",alignItems:"center",gap:1},children:[C.jsx(ze,{sx:{fontWeight:"bold"},children:"User ID:"}),C.jsx(ni,{label:t.uid,variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#E3F2FD",color:"#1565C0"}})]}),C.jsxs(Le,{sx:{display:"flex",alignItems:"center",gap:1},children:[C.jsx(ze,{sx:{fontWeight:"bold"},children:"Account Status:"}),C.jsx(ni,{label:r(),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#C8E6C9",color:"#2E7D32"}})]}),C.jsxs(Le,{sx:{display:"flex",alignItems:"center",gap:1},children:[C.jsx(ze,{sx:{fontWeight:"bold"},children:"Last Login:"}),C.jsx(ni,{label:Qu(t.lastLogin),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#FFF3E0",color:"#EF6C00"}})]})]}),C.jsx(Zs,{sx:{my:2}}),C.jsx(ze,{sx:{fontWeight:"bold",mb:1},children:"Current Courses:"}),C.jsx(Le,{sx:{display:"flex",flexWrap:"wrap"},children:n()})]}),Vne=()=>{const{userDetails:t,setUserDetails:r}=Ti(),[n,o]=Y.useState(!1),[a,l]=Y.useState(!1),[d,h]=Y.useState(!1),[p,g]=Y.useState(""),[b,v]=Y.useState("success"),y=Vr(),k=er(),x=()=>{y("/")},_=()=>{t!=null&&t.isAdmin||y("/request-educator-permissions")},D=($,M)=>{h(!0),g($),v(M),M==="success"&&t&&(async()=>{const q=yn(k,"users",t.uid),Q=await _s(q);if(Q.exists()){const H=Q.data();r({...H,uid:t.uid})}})()},E=()=>{o(!n)},N=()=>{l(!a)},P=()=>t!=null&&t.isSuperAdmin?"Super Admin":t!=null&&t.isAdmin?"Educator":"Student",F=()=>{h(!1)},V=()=>t!=null&&t.classes?Object.entries(t.classes).map(([$,M])=>C.jsx(ni,{label:`${M.number} - ${M.title}${M.isCourseAdmin?" (Admin)":""}`,variant:"outlined",sx:{margin:"4px",fontSize:"14px",fontWeight:"bold",bgcolor:M.isCourseAdmin?"#FFCDD2":"#E3F2FD",color:M.isCourseAdmin?"#C62828":"#1565C0"}},$)):"None";return C.jsxs(Le,{className:"profile-container",children:[C.jsx(xt,{variant:"text",onClick:x,className:"profile-button",children:"← Home Page"}),C.jsx(ze,{className:"webpage_title",children:"My Account"}),t&&C.jsx(qne,{userDetails:t,getAccountStatus:P,renderCourses:V}),!(t!=null&&t.isAdmin)&&C.jsxs(Le,{className:"profile-switch-container",children:[C.jsx(ed,{control:C.jsx(td,{checked:n,onChange:E}),label:"Enroll in a Course (As a Student)"}),n&&C.jsxs(Le,{sx:{mt:2},children:[C.jsx(ze,{variant:"body1",className:"profile-text",children:"Use the area below to add a course access to your account."}),C.jsx(Une,{onCourseAdded:D})]})]}),C.jsxs(Le,{className:"profile-advanced-section",children:[C.jsx(ed,{control:C.jsx(td,{checked:a,onChange:N}),label:"Advanced"}),a&&C.jsx(C.Fragment,{children:C.jsx(Le,{sx:{mt:2},children:C.jsx(xt,{variant:"text",onClick:_,disabled:t==null?void 0:t.isAdmin,className:"profile-button",children:t!=null&&t.isAdmin?C.jsx(ze,{children:C.jsx("span",{className:"success-text",children:"✔ Educator Account Approved"})}):"Request Educator Permissions"})})})]}),C.jsx(is,{open:d,autoHideDuration:6e3,onClose:F,children:C.jsx(Sr,{onClose:F,severity:b,sx:{width:"100%"},children:p})})]})},$ne=({selectedCourse:t,selectedCourseDetails:r,onStudentChange:n})=>{const[o,a]=Y.useState(""),[l,d]=Y.useState(!1),[h,p]=Y.useState(""),[g,b]=Y.useState(!1),[v,y]=Y.useState(!1),k=er(),x=async()=>{if(!o||!t){p("Please enter a Student ID and select a course."),b(!0);return}d(!0);try{const N=yn(k,"users",o),P=await _s(N);if(P.exists()){const V=P.data().classes||{};t in V?y(!0):(p(`Student ${o} is not enrolled in course ${(r==null?void 0:r.number)||t}, cannot remove.`),b(!0))}else p(`Student ${o} does not exist.`),b(!0)}catch(N){console.error("Error checking student course:",N),p("Error checking student course."),b(!0)}d(!1)},_=async()=>{d(!0);try{const N=yn(k,"users",o);await xr(N,{[`classes.${t}`]:cG()}),p(`Student ${o} removed from course ${(r==null?void 0:r.number)||t}.`),a(""),n()}catch(N){console.error("Error updating student course:",N),p("Error updating student course.")}d(!1),b(!0),y(!1)},D=()=>{b(!1)},E=()=>{y(!1)};return C.jsxs(Le,{sx:{mt:4},children:[C.jsxs(ze,{variant:"h6",component:"h2",children:["Remove Students from ",r?`${r.number}`:t]}),C.jsxs(Le,{sx:{display:"flex",alignItems:"center",mt:2},children:[C.jsx(Sn,{label:"Student ID",value:o,onChange:N=>a(N.target.value),fullWidth:!0,required:!0,margin:"normal",sx:{mr:2}}),C.jsx(xt,{variant:"contained",color:"primary",onClick:x,disabled:l,children:l?C.jsx(qr,{size:24}):"Remove"})]}),C.jsx(is,{open:g,autoHideDuration:6e3,onClose:D,children:C.jsx(Sr,{onClose:D,severity:"info",children:h})}),C.jsxs(yo,{open:v,onClose:E,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[C.jsx(vo,{id:"confirm-dialog-title",children:"Confirm Removal"}),C.jsx(Ao,{children:C.jsx(Ss,{id:"confirm-dialog-description",children:"Are you sure you want to remove the student from the course? This action cannot be undone."})}),C.jsxs(_o,{children:[C.jsx(xt,{onClick:E,color:"primary",children:"Cancel"}),C.jsx(xt,{onClick:_,color:"secondary",autoFocus:!0,children:"Confirm"})]})]})]})},Hne=({students:t,selectedCourse:r})=>{const n=()=>{if(t.length>0){const o=["User ID","Courses","Last Login"],a=t.map(g=>[`"${g.id||g.uid}"`,`"${g.classes?Object.values(g.classes).map(b=>`${b.number} - ${b.title}`).join(", "):"None"}"`,`"${Qu(g.lastLogin)}"`]),l=[o.join(","),...a.map(g=>g.join(","))].join(`
`),d=new Blob([l],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(d),p=document.createElement("a");p.href=h,p.setAttribute("download",`${r}_students.csv`),document.body.appendChild(p),p.click(),document.body.removeChild(p)}};return C.jsx(Le,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:C.jsx(xt,{variant:"contained",color:"primary",onClick:n,disabled:t.length===0,sx:{background:"linear-gradient(45deg, #3f51b5 30%, #1e88e5 90%)",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",padding:"0 30px",fontSize:"16px",fontWeight:"bold",textTransform:"none","&:hover":{background:"linear-gradient(45deg, #1e88e5 30%, #3f51b5 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)"}},children:"Export as CSV"})})},Wne=({userClasses:t,selectedCourse:r,onCourseChange:n})=>C.jsx(Le,{sx:{mb:3},children:C.jsxs(id,{fullWidth:!0,variant:"outlined",children:[C.jsx(od,{id:"course-selector-label",children:"Select a Course"}),C.jsx(hc,{"aria-label":"Select a course",labelId:"course-selector-label",value:r,onChange:o=>n(o.target.value),label:"Select a Course",children:Object.entries(t).map(([o,a])=>C.jsx(Ir,{value:o,children:`${a.number} - ${a.title}`},o))})]})}),Gne=({selectedCourse:t,selectedCourseDetails:r,onCourseUpdate:n})=>{const[o,a]=Y.useState(!1),[l,d]=Y.useState(""),[h,p]=Y.useState(""),g=er(),{userDetails:b,refreshUserDetails:v}=Ti(),y=()=>{r&&(d(r.number||""),p(r.title||"")),a(!0)},k=()=>{a(!1),x()},x=()=>{d(""),p("")},_=async()=>{if(!t||!(b!=null&&b.uid)){console.error("Selected course or user details are missing.");return}try{const D=yn(g,"courses",t);await xr(D,{number:l,title:h});const E=yn(g,"users",b.uid),N=await _s(E);if(N.exists()){const P=N.data();if(P.classes&&P.classes[t]){const F=P.classes[t],V={...P.classes,[t]:{...F,number:l,title:h}};await xr(E,{classes:V})}}await v(),n(),k()}catch(D){console.error("Error updating course:",D)}};return C.jsxs(Le,{sx:{mt:2},children:[C.jsx(xt,{variant:"outlined",onClick:y,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#4CAF50",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#388E3C",transform:"scale(1.03)"}},children:"Edit Course Details"}),C.jsxs(yo,{open:o,onClose:k,children:[C.jsx(vo,{children:"Edit Course Details"}),C.jsxs(Ao,{children:[C.jsx(Sn,{label:"Course Number",value:l,onChange:D=>d(D.target.value),fullWidth:!0,sx:{mb:2}}),C.jsx(Sn,{label:"Course Title",value:h,onChange:D=>p(D.target.value),fullWidth:!0})]}),C.jsxs(_o,{children:[C.jsx(xt,{onClick:k,children:"Cancel"}),C.jsx(xt,{onClick:_,variant:"contained",color:"primary",disabled:!l||!h,children:"Save"})]})]})]})},Yne=({selectedCourse:t,onCourseDelete:r})=>{const[n,o]=Y.useState(!1),a=er(),{refreshUserDetails:l}=Ti(),d=()=>o(!0),h=()=>o(!1),p=async()=>{if(t)try{const g=$_(a),b=yn(a,"courses",t);g.delete(b);const v=Yn(a,"users");(await xo(v)).forEach(k=>{const x=yn(a,"users",k.id),_=k.data().classes||{};_&&_[t]&&(delete _[t],g.update(x,{classes:_}))}),await g.commit(),await l(),r(),h()}catch(g){console.error("Error deleting course:",g)}};return C.jsxs(Le,{sx:{mt:2},children:[C.jsx(xt,{variant:"contained",onClick:d,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#F44336",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#D32F2F",transform:"scale(1.03)"}},children:"Delete Course"}),C.jsxs(yo,{open:n,onClose:h,children:[C.jsx(vo,{children:"Confirm Delete"}),C.jsx(Ao,{children:C.jsx(Ss,{children:"Are you sure you want to delete this course? This action cannot be undone."})}),C.jsxs(_o,{children:[C.jsx(xt,{onClick:h,children:"Cancel"}),C.jsx(xt,{onClick:p,variant:"contained",color:"error",children:"Delete"})]})]})]})},Kne=({text:t,tooltipText:r="Click to Copy",successText:n="Copied!"})=>{const[o,a]=Y.useState(!1),l=()=>{navigator.clipboard.writeText(t).then(()=>{a(!0),setTimeout(()=>a(!1),2e3)}).catch(d=>console.error("Could not copy text: ",d))};return C.jsx(ia,{title:o?n:r,enterDelay:300,leaveDelay:200,children:C.jsx(ni,{label:t,variant:"outlined",onClick:l,sx:{borderRadius:"15px",fontSize:"16px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",fontFamily:"Gabarito, sans-serif"}})})},Qne=()=>{const{userDetails:t}=Ti(),[r,n]=Y.useState(""),[o,a]=Y.useState([]),[l,d]=Y.useState(null),[h,p]=Y.useState(!1),[g,b]=Y.useState(""),[v,y]=Y.useState("success"),k=er();Y.useEffect(()=>{(async()=>{if(t!=null&&t.isAdmin){const E=Dp(Yn(k,"courses"),Gg("courseAdmin","array-contains",t.uid)),P=(await xo(E)).docs.map(F=>({id:F.id,number:F.data().number,title:F.data().title,passcode:F.data().passcode}));a(P)}})()},[k,t]);const x=D=>{const E=D.target.value;n(E);const N=o.find(P=>P.id===E);N?(d(N.passcode),b(`Passcode for course "${N.number} - ${N.title}" retrieved successfully.`),y("success"),p(!0)):(d(null),b("Course not found."),y("error"),p(!0))},_=()=>{p(!1)};return C.jsxs(Le,{sx:{mt:4},children:[C.jsx(ze,{variant:"subtitle1",component:"h2",sx:{mb:2},children:"Retrieve Course Passcode"}),C.jsx(Qt,{container:!0,spacing:2,sx:{maxWidth:"75%"},children:C.jsxs(Qt,{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[C.jsx(Sn,{select:!0,label:"Select Course Number",value:r,onChange:x,fullWidth:!0,sx:{mb:2,mr:2},children:o.map(D=>C.jsx(Ir,{value:D.id,children:`${D.number} - ${D.title}`},D.id))}),l&&C.jsxs(Le,{sx:{display:"flex",alignItems:"center",ml:2},children:[C.jsx(ze,{variant:"body1",sx:{mr:1},children:"Passcode:"}),C.jsx(Kne,{text:`${l}`})]})]})}),C.jsx(is,{open:h,autoHideDuration:6e3,onClose:_,children:C.jsx(Sr,{onClose:_,severity:v,sx:{width:"100%"},children:g})})]})},Jne=()=>{const{userDetails:t}=Ti(),[r,n]=Y.useState([]),[o,a]=Y.useState(""),[l,d]=Y.useState(!1),[h,p]=Y.useState(!1),[g,b]=Y.useState(!1),v=er(),y=Vr(),x=t!=null&&t.classes?Object.entries(t.classes).filter(([F,V])=>V.isCourseAdmin).reduce((F,[V,$])=>({...F,[V]:$}),{}):{};Y.useEffect(()=>{x[o]||a(Object.keys(x)[0]||"")},[x,o]),Y.useEffect(()=>{(async()=>{if(o)try{const V=Dp(Yn(v,"users"),Gg("isAdmin","==",!1)),B=(await xo(V)).docs.map(q=>({uid:q.id,...q.data()})).filter(q=>q.classes&&q.classes[o]);n(B)}catch(V){console.error("Error fetching students:",V)}})()},[o,v]);const _=F=>{a(F)},D=()=>{y("/request-new-course")},E=x[o],N=E?`${E.number} - ${E.title}`:"",P=!!(o&&E);return C.jsxs(Le,{className:"profile-container",sx:{p:4},children:[C.jsx(Le,{sx:{display:"flex",alignItems:"center",mb:2},children:C.jsx(xt,{variant:"text",onClick:()=>y("/"),className:"profile-button",children:"← Home Page"})}),C.jsx(ze,{className:"webpage_title",sx:{mb:2},children:"Course Management"}),C.jsxs(Le,{sx:{mb:4,p:3,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[C.jsx(ze,{variant:"h6",sx:{fontFamily:"Staatliches, sans-serif",mb:2,color:"#0B53C0"},children:"Select a Course"}),Object.keys(x).length>0?C.jsx(Wne,{userClasses:x,selectedCourse:o,onCourseChange:_}):C.jsx(ze,{variant:"body1",sx:{color:"#9E9E9E"},children:"No courses available for selection."})]}),C.jsx(Le,{children:P&&C.jsxs(Le,{sx:{flex:2,display:"flex",justifyContent:"flex-end",gap:2},children:[C.jsx(Gne,{selectedCourse:o,selectedCourseDetails:E,onCourseUpdate:()=>{}}),C.jsx(Yne,{selectedCourse:o,onCourseDelete:()=>a("")})]})}),P&&C.jsxs(Rn,{elevation:3,sx:{p:3,mb:4,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",backgroundColor:"#F9FAFB"},children:[C.jsx(ze,{variant:"h6",component:"h2",sx:{fontFamily:"Staatliches, sans-serif",fontWeight:"bold",mb:2,color:"#0B53C0"},children:"Students Enrolled in a Course"}),r.length===0?C.jsxs(ze,{sx:{color:"#757575",textAlign:"center",p:3},children:["No students are currently enrolled in ",C.jsx("strong",{children:N}),"."]}):C.jsxs(C.Fragment,{children:[C.jsx(fd,{component:Rn,children:C.jsxs(pd,{children:[C.jsx(md,{children:C.jsxs(Co,{children:[C.jsx(It,{sx:{fontWeight:"bold"},children:"User ID"}),C.jsx(It,{sx:{fontWeight:"bold"},children:"Last Login"})]})}),C.jsx(gd,{children:r.map(F=>C.jsxs(Co,{children:[C.jsx(It,{children:F.uid}),C.jsx(It,{children:Qu(F.lastLogin)})]},F.uid))})]})}),C.jsx(Hne,{students:r,selectedCourse:o})]}),r.length>0&&C.jsxs(Rn,{sx:{mt:4,p:3,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[C.jsx(ed,{control:C.jsx(td,{checked:g,onChange:()=>b(F=>!F)}),label:"Remove Student(s) from the Course"}),g&&C.jsx($ne,{selectedCourse:o,selectedCourseDetails:E,onStudentChange:()=>{}})]})]}),C.jsxs(Le,{sx:{display:"flex",gap:4,mb:4},children:[C.jsxs(Le,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[C.jsx(ed,{control:C.jsx(td,{checked:h,onChange:()=>p(F=>!F)}),label:"Retrieve Course Passcode"}),h&&C.jsx(Le,{sx:{mt:2},children:C.jsx(Qne,{})})]}),C.jsxs(Le,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[C.jsx(ed,{control:C.jsx(td,{checked:l,onChange:()=>d(F=>!F)}),label:"Request Creating a New Course"}),l&&C.jsx(Le,{sx:{mt:2},children:C.jsx(xt,{variant:"contained",onClick:D,sx:{backgroundColor:"#4CAF50",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",textTransform:"none","&:hover":{backgroundColor:"#388E3C"}},children:"Request New Course"})})]})]})]})};class Zne{constructor(r){wt(this,"genAI");wt(this,"model");this.genAI=new rO(r),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.1,topK:1,topP:.8,maxOutputTokens:16384}})}async processSyllabusText(r,n,o){return r.length>3e4?(console.log("Large document detected, using chunked processing"),this.processLargeDocument(r,n,o)):this.processSingleDocument(r,n,o)}async processSingleDocument(r,n,o){const a=this.buildSyllabusAnalysisPrompt(r,n);try{const h=(await(await this.model.generateContent(a)).response).text();if(!h||h.trim().length===0)throw new Error("Empty response from AI service");const p=h.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();let g;try{g=JSON.parse(p)}catch(b){throw console.error("JSON parsing failed:",b),console.error("Raw response text:",h),console.error("Cleaned text:",p),new Error("AI response format invalid - unable to parse JSON")}if(!g||typeof g!="object")throw new Error("AI response is not a valid object");return g.courseInfo||(console.warn("Missing courseInfo in AI response, using defaults"),g.courseInfo={}),this.validateAndSanitizeResponse(g)}catch(l){if(console.error("Gemini API Error:",l),l instanceof Error){if(l.message.includes("AI response")||l.message.includes("JSON parsing"))throw l;if(l.message.includes("API key"))throw new Error("Invalid or missing Gemini API key. Please check your environment configuration.");if(l.message.includes("quota")||l.message.includes("rate limit"))throw new Error("API rate limit exceeded. Please try again later.")}throw new Error(`Failed to process syllabus with AI: ${l instanceof Error?l.message:"Unknown error"}`)}}async processLargeDocument(r,n,o){const l=this.chunkText(r,35e3);console.log(`Processing ${l.length} chunks for large document`);const d=await this.processSingleDocument(l[0],n,o),h=await Promise.allSettled(l.slice(1).map(p=>this.processChunkForDetails(p,n)));return this.mergeChunkedResults(d,h)}chunkText(r,n){const o=[],a=r.split(`
`);let l="";const d=["schedule","session","unit","week","topic","assignment","objective","learning outcome","reading","textbook","prerequisite"];for(let h=0;h<a.length;h++){const p=a[h],g=a[h+1]||"",b=d.some(v=>p.toLowerCase().includes(v)||g.toLowerCase().includes(v));l.length+p.length>n&&l.length>0&&(b||l.length>n*.8)?(o.push(l.trim()),l=p):l+=`
`+p}return l.trim()&&o.push(l.trim()),o}async processChunkForDetails(r,n){const o=`
Extract additional course details from this syllabus section. Focus heavily on:
- ALL schedule items, sessions, units, weeks, and topics
- Session numbers, titles, and descriptions
- Learning outcomes for each session
- Reading assignments and resources
- Assignment details and due dates
- Any additional objectives or policies

IMPORTANT: Extract ALL schedule/session information - do not limit the number of items.
Convert session numbers to week numbers (Session 1 = Week 1, etc.).

Return JSON with only the fields you can extract from this section:
${r}
`;try{const h=(await(await this.model.generateContent(o)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(h)}catch(a){return console.warn("Failed to process chunk:",a),{}}}mergeChunkedResults(r,n){const o={...r};return n.forEach(a=>{if(a.status==="fulfilled"&&a.value){const l=a.value;if(l.learningObjectives&&(o.learningObjectives=[...o.learningObjectives,...l.learningObjectives]),l.schedule){const d=new Set(o.schedule.map(p=>`${p.week}-${p.topic}`)),h=l.schedule.filter(p=>!d.has(`${p.week}-${p.topic}`));o.schedule=[...o.schedule,...h]}l.assignments&&(o.assignments=[...o.assignments,...l.assignments]),l.prerequisites&&(o.prerequisites=[...o.prerequisites,...l.prerequisites]),l.contactInfo&&(o.contactInfo={...o.contactInfo,...l.contactInfo}),l.policies&&(o.policies={...o.policies,...l.policies}),l.additionalResources&&(o.additionalResources={...o.additionalResources,...l.additionalResources})}}),o.learningObjectives=[...new Set(o.learningObjectives)],o.prerequisites=[...new Set(o.prerequisites)],o.schedule=o.schedule.sort((a,l)=>a.week-l.week),o}buildSyllabusAnalysisPrompt(r,n){return`
You are an expert educational content analyzer. Analyze the following course syllabus and extract structured information in JSON format.

IMPORTANT INSTRUCTIONS:
1. Return ONLY valid JSON - no markdown, no explanations, no additional text
2. If information is not available, use null or empty arrays/objects
3. Be thorough but accurate - don't invent information
4. For percentages in grading, ensure they are numbers (not strings)
5. For week numbers, ensure they are integers
6. Extract all learning objectives, even if they're not numbered
7. Look for course schedules in various formats (weekly, by date, by topic, by session/unit)
8. IMPORTANT: Extract ALL schedule items, sessions, units, and topics - do not limit to just a few weeks
9. For session-based schedules, convert sessions to week numbers (e.g., Session 1 = Week 1)
10. LABORATORY COURSES: Pay special attention to safety requirements, lab equipment, dress codes, group work policies, and experiment-based schedules
11. Identify course type: determine if this is a lecture, lab, seminar, or hybrid course based on content

Required JSON structure:
{
  "courseInfo": {
    "title": "string",
    "number": "string (e.g., CS 350, BIOL 301, CHEM 315)",
    "description": "string",
    "instructor": "string or null",
    "department": "string or null",
    "institution": "string or null",
    "credits": "number or null",
    "meetingTimes": "string or null (include lab times if applicable)",
    "semester": "string or null",
    "year": "string or null",
    "courseType": "lecture|lab|seminar|hybrid",
    "location": "string or null (lab room, classroom, etc.)"
  },
  "learningObjectives": [
    "string (each objective as separate item)"
  ],
  "schedule": [
    {
      "week": "number",
      "topic": "string",
      "description": "string or null",
      "readings": ["string"] or null,
      "assignments": ["string"] or null,
      "dueDate": "string or null",
      "notes": "string or null",
      "experimentType": "string or null (for lab courses)",
      "equipmentNeeded": ["string"] or null
    }
  ],
  "prerequisites": [
    "string (each prerequisite course/requirement)"
  ],
  "textbooks": [
    {
      "title": "string",
      "author": "string or null",
      "edition": "string or null",
      "isbn": "string or null",
      "required": "boolean"
    }
  ],
  "gradingPolicy": [
    {
      "component": "string (e.g., Exams, Homework, Projects)",
      "percentage": "number (e.g., 40, not '40%')",
      "description": "string or null"
    }
  ],
  "assignments": [
    {
      "name": "string",
      "description": "string",
      "type": "string (exam|project|homework|quiz|presentation|lab_report|lab_practical)",
      "dueDate": "string or null",
      "points": "number or null",
      "weight": "number or null (for weighted assignments)"
    }
  ],
  "policies": {
    "attendance": "string or null",
    "lateWork": "string or null",
    "academicIntegrity": "string or null",
    "accommodations": "string or null",
    "communication": "string or null",
    "safety": "string or null (lab safety requirements)",
    "groupWork": "string or null (partner/group work policies)",
    "makeupPolicy": "string or null (make-up lab/exam policies)"
  },
  "contactInfo": {
    "email": "string or null",
    "phone": "string or null",
    "office": "string or null",
    "officeHours": "string or null",
    "website": "string or null"
  },
  "additionalResources": {
    "software": ["string"] or null,
    "equipment": ["string"] or null,
    "websites": ["string"] or null,
    "tutoring": "string or null",
    "learningPlatform": "string or null (Moodle, Blackboard, etc.)"
  },
  "labSpecific": {
    "safetyRequirements": ["string"] or null,
    "requiredEquipment": ["string"] or null,
    "dresscode": ["string"] or null,
    "notebookRequirements": "string or null",
    "groupWorkStructure": "string or null",
    "makeupPolicy": "string or null"
  }
}

${n?`File name: ${n}`:""}

Syllabus content to analyze:
${r}
`}validateAndSanitizeResponse(r){var o,a,l,d,h,p,g,b,v,y,k,x,_,D;const n={courseInfo:{title:"Course Title",number:"COURSE 101",description:"Course description not available"},learningObjectives:[],schedule:[],prerequisites:[],textbooks:[],gradingPolicy:[],assignments:[],policies:{},contactInfo:{},additionalResources:{}};try{return{courseInfo:{...n.courseInfo,...r.courseInfo},learningObjectives:Array.isArray(r.learningObjectives)?r.learningObjectives:[],schedule:Array.isArray(r.schedule)?r.schedule.map((N,P)=>({week:typeof N.week=="number"?N.week:P+1,topic:N.topic||`Week ${P+1} Topic`,description:N.description||null,readings:Array.isArray(N.readings)?N.readings:null,assignments:Array.isArray(N.assignments)?N.assignments:null,dueDate:N.dueDate||null,notes:N.notes||null})):[],prerequisites:Array.isArray(r.prerequisites)?r.prerequisites:[],textbooks:Array.isArray(r.textbooks)?r.textbooks.map(N=>({title:N.title||"Unknown Textbook",author:N.author||null,edition:N.edition||null,isbn:N.isbn||null,required:typeof N.required=="boolean"?N.required:!0})):[],gradingPolicy:Array.isArray(r.gradingPolicy)?r.gradingPolicy.map(N=>({component:N.component||"Unknown Component",percentage:typeof N.percentage=="number"?N.percentage:0,description:N.description||null})):[],assignments:Array.isArray(r.assignments)?r.assignments.map(N=>({name:N.name||"Assignment",description:N.description||"",type:N.type||"homework",dueDate:N.dueDate||null,points:typeof N.points=="number"?N.points:null})):[],policies:{attendance:((o=r.policies)==null?void 0:o.attendance)||null,lateWork:((a=r.policies)==null?void 0:a.lateWork)||null,academicIntegrity:((l=r.policies)==null?void 0:l.academicIntegrity)||null,accommodations:((d=r.policies)==null?void 0:d.accommodations)||null,communication:((h=r.policies)==null?void 0:h.communication)||null},contactInfo:{email:((p=r.contactInfo)==null?void 0:p.email)||null,phone:((g=r.contactInfo)==null?void 0:g.phone)||null,office:((b=r.contactInfo)==null?void 0:b.office)||null,officeHours:((v=r.contactInfo)==null?void 0:v.officeHours)||null,website:((y=r.contactInfo)==null?void 0:y.website)||null},additionalResources:{software:Array.isArray((k=r.additionalResources)==null?void 0:k.software)?r.additionalResources.software:null,equipment:Array.isArray((x=r.additionalResources)==null?void 0:x.equipment)?r.additionalResources.equipment:null,websites:Array.isArray((_=r.additionalResources)==null?void 0:_.websites)?r.additionalResources.websites:null,tutoring:((D=r.additionalResources)==null?void 0:D.tutoring)||null}}}catch(E){return console.error("Error validating AI response:",E),n}}async generateCourseMaterials(r,n){const o=`
Based on the following course information, generate detailed course materials in JSON format.

CRITICAL REQUIREMENTS:
1. Return ONLY valid JSON - absolutely NO explanatory text, comments, or additional content
2. Do not add any text before or after the JSON array
3. Do not include comments like "// ..." in the JSON
4. Generate materials for ALL available weeks/sessions from the course information

Create materials for:
1. Course Overview (with detailed description, objectives, and policies)  
2. Weekly/session materials for ALL weeks found in the schedule
3. Assignment descriptions where applicable

Course Information:
${JSON.stringify(r,null,2)}

Generate materials for ${(n==null?void 0:n.includeWeeks)||r.schedule.length} weeks/sessions.

Return ONLY a JSON array of materials with this structure:
[
  {
    "id": "unique-id",
    "title": "Material Title",
    "type": "overview|weekly|assignment|resource",
    "header": {"title": "string", "content": "string"},
    "sections": [
      {
        "id": "section-id",
        "title": "Section Title",
        "content": "HTML formatted content",
        "subsections": [
          {
            "id": "subsection-id",
            "title": "Subsection Title",
            "content": "HTML formatted content"
          }
        ]
      }
    ],
    "footer": {"title": "string", "content": "string"},
    "published": false,
    "scheduledTimestamp": "ISO date string or null"
  }
]
`;try{const d=(await(await this.model.generateContent(o)).response).text();if(!d||d.trim().length===0)return console.warn("Empty response from AI service for material generation"),[];let h=d.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();const p=h.lastIndexOf("]");p!==-1&&(h=h.substring(0,p+1));let g;try{g=JSON.parse(h)}catch(b){return console.error("JSON parsing failed for material generation:",b),console.error("Raw response text:",d),console.error("Cleaned text:",h),console.warn("Falling back to empty materials array"),[]}return Array.isArray(g)?g:(console.warn("AI response is not an array, wrapping in array:",g),g?[g]:[])}catch(a){return console.error("Error generating materials:",a),[]}}}let tk=null;const p6=t=>{const r="AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8";if(!tk&&r&&(tk=new Zne(r)),!tk)throw new Error("Gemini service not initialized. Please configure VITE_GEMINI_API_KEY environment variable.");return tk},sh=()=>Math.random().toString(36).substr(2,9),Xne=t=>t.length?`<ul>${t.map(n=>`<li>${n}</li>`).join("")}</ul>`:"<p>No objectives specified</p>",ere=t=>t.length?`<ul>${t.map(n=>`<li>${n}</li>`).join("")}</ul>`:"<p>No readings assigned</p>",Hh=Jg()(C1(QP((t,r)=>({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null,setUploadedFile:n=>t({uploadedFile:n}),setUploadProgress:n=>t({uploadProgress:n}),setExtractedText:n=>t({extractedText:n}),setAIExtractedInfo:n=>t({aiExtractedInfo:n}),setUseAIProcessing:n=>t({useAIProcessing:n}),setParsedCourseInfo:n=>t({parsedCourseInfo:n}),setGeneratedMaterials:n=>t({generatedMaterials:n}),setCurrentStep:n=>t({currentStep:n}),setIsProcessing:n=>t({isProcessing:n}),setError:n=>t({error:n}),setProcessingProgress:n=>t({processingProgress:n}),uploadSyllabus:async n=>{const o=aO(n);if(!o.isValid){t({error:o.error,currentStep:"upload"});return}const a=SK(n);t({uploadedFile:n,uploadProgress:0,error:null,extractionMetadata:{fileName:n.name,fileSize:n.size,fileType:lO(n),estimatedProcessingTime:a},processingProgress:{stage:"uploading",percentage:0,currentOperation:"Preparing file for processing..."}});try{for(let l=0;l<=100;l+=20)t({uploadProgress:l,processingProgress:{stage:"uploading",percentage:l,currentOperation:l===100?"Upload complete, starting text extraction...":`Uploading file... ${l}%`}}),await new Promise(d=>setTimeout(d,100));t({currentStep:"processing",isProcessing:!0,processingProgress:{stage:"extracting",percentage:0,currentOperation:"Extracting text from document..."}}),await r().extractTextFromFile(),t({processingProgress:{stage:"analyzing",percentage:0,currentOperation:r().useAIProcessing?"Analyzing syllabus with AI...":"Parsing syllabus content..."}}),await r().parseSyllabus()}catch(l){t({error:l instanceof Error?l.message:"Failed to upload file",currentStep:"upload"})}},extractTextFromFile:async()=>{const{uploadedFile:n}=r();if(!n){t({error:"No file uploaded"});return}t({isProcessing:!0,error:null});try{const o=await sO(n);t({extractedText:o.text,extractionMetadata:{...r().extractionMetadata,...o.metadata},isProcessing:!1})}catch(o){t({error:o.message||"Failed to extract text from file",isProcessing:!1})}},parseSyllabus:async()=>{const{extractedText:n,uploadedFile:o,useAIProcessing:a}=r();if(!n){t({error:"No text to parse"});return}t({isProcessing:!0,error:null});try{let l;if(a)try{t({processingProgress:{stage:"analyzing",percentage:25,currentOperation:"Sending syllabus to AI for analysis..."}});const h=await p6().processSyllabusText(n,o==null?void 0:o.name);t({processingProgress:{stage:"analyzing",percentage:75,currentOperation:"Processing AI analysis results..."}}),t({aiExtractedInfo:h}),l={suggestedTitle:h.courseInfo.title||"Course Title",suggestedNumber:h.courseInfo.number||"COURSE 101",suggestedDescription:h.courseInfo.description||"Course description not available",objectives:h.learningObjectives.length>0?h.learningObjectives:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:h.schedule.map(p=>({week:p.week,topic:p.topic,description:p.description,readings:p.readings||[],assignments:p.assignments||[],date:p.dueDate?new Date(p.dueDate):void 0})),prerequisites:h.prerequisites,textbook:h.textbooks.length>0?h.textbooks[0].title:"",grading:h.gradingPolicy.map(p=>`${p.component}: ${p.percentage}%`).join(", "),instructor:h.courseInfo.instructor,department:h.courseInfo.department,institution:h.courseInfo.institution,credits:h.courseInfo.credits,semester:h.courseInfo.semester,year:h.courseInfo.year,contactInfo:h.contactInfo,policies:h.policies,textbooks:h.textbooks,gradingComponents:h.gradingPolicy,assignments:h.assignments}}catch(d){console.warn("AI processing failed, falling back to pattern-based parsing:",d),l=await r().fallbackParsing(n)}else l=await r().fallbackParsing(n);t({parsedCourseInfo:l}),t({processingProgress:{stage:"generating",percentage:0,currentOperation:"Generating course materials..."}}),await r().generateMaterials()}catch(l){t({error:l instanceof Error?l.message:"Failed to parse syllabus",isProcessing:!1})}},fallbackParsing:async n=>{var v,y;const o=n.split(`
`).filter(k=>k.trim()),a=o.find(k=>{const x=k.toLowerCase();return(x.includes("course")||x.includes("class"))&&(x.includes("title")||x.includes("name")||k.includes(":"))}),l=o.find(k=>{const x=k.toLowerCase();return x.includes("description")||x.includes("overview")||x.includes("about this course")}),d=o.find(k=>/[A-Z]{2,4}\s*\d{3,4}/.test(k)||k.toLowerCase().includes("course number")),h=o.findIndex(k=>{const x=k.toLowerCase();return x.includes("objective")||x.includes("learning outcome")||x.includes("goals")||x.includes("by the end of this course")}),p=[];if(h!==-1)for(let k=h+1;k<o.length&&k<h+15;k++){const x=o[k].trim();x&&(x.startsWith("-")||x.startsWith("•")||x.match(/^\d+\./)||x.startsWith("*"))?p.push(x.replace(/^[-•\d.*]\s*/,"")):x&&p.length===0&&p.push(x)}const g=[];for(let k=1;k<=16;k++){const x=new RegExp(`week\\s*${k}|${k}\\s*week`,"i"),_=o.find(D=>x.test(D));if(_){const D=_.replace(/week\s*\d+:?\s*/i,"").trim()||`Week ${k} Topic`;g.push({week:k,topic:D,description:`Content and activities for week ${k}`,readings:[],assignments:[]})}else g.push({week:k,topic:`Week ${k} Topic`,description:`Content for week ${k}`,readings:[],assignments:[]})}let b="COURSE 101";if(d){const k=d.match(/[A-Z]{2,4}\s*\d{3,4}/);k&&(b=k[0])}return{suggestedTitle:a&&((v=a.split(":").slice(-1)[0])==null?void 0:v.trim())||"Course Title",suggestedNumber:b,suggestedDescription:l&&((y=l.split(":").slice(-1)[0])==null?void 0:y.trim())||n.substring(0,300)+"...",objectives:p.length>0?p:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:g.slice(0,15),prerequisites:[],textbook:"",grading:""}},generateMaterials:async()=>{const{parsedCourseInfo:n,aiExtractedInfo:o,useAIProcessing:a}=r();if(!n){t({error:"No parsed course info available"});return}t({isProcessing:!0,error:null});try{let l=[];if(a&&o)try{const h=await p6().generateCourseMaterials(o,{includeWeeks:o.schedule.length,materialTypes:["overview","weekly","assignment"]});h&&h.length>0?l=h.map(p=>({id:p.id||sh(),title:p.title||"Generated Material",header:p.header||{title:"Header",content:`<p>${p.title||"Material"}</p>`},footer:p.footer||{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:p.sections||[],published:p.published||!1,scheduledTimestamp:p.scheduledTimestamp?new Date(p.scheduledTimestamp):void 0})):(console.warn("AI material generation returned empty results, using fallback"),l=r().generateFallbackMaterials(n))}catch(d){console.warn("AI material generation failed, using fallback:",d),l=r().generateFallbackMaterials(n)}else l=r().generateFallbackMaterials(n);t({generatedMaterials:l,isProcessing:!1,currentStep:"review",processingProgress:{stage:"complete",percentage:100,currentOperation:"Processing complete! Review your course materials below."}})}catch(l){t({error:l instanceof Error?l.message:"Failed to generate materials",isProcessing:!1})}},generateFallbackMaterials:n=>{const o=[];return o.push({id:sh(),title:`${n.suggestedNumber} - Course Overview`,header:{title:"Course Overview",content:`<p>${n.suggestedTitle}</p>`},footer:{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:[{id:sh(),title:"Course Description",content:`<p>${n.suggestedDescription}</p>`,subsections:[],images:[],links:[]},{id:sh(),title:"Learning Objectives",content:Xne(n.objectives),subsections:[],images:[],links:[]}],published:!1}),n.schedule.slice(0,6).forEach(a=>{o.push({id:sh(),title:`Week ${a.week}: ${a.topic}`,header:{title:`Week ${a.week}`,content:`<p>${a.topic}</p>`},footer:{title:"Footer",content:"<p>Review materials before next class</p>"},sections:[{id:sh(),title:"Overview",content:`<p>${a.description||`Topics and activities for week ${a.week}`}</p>`,subsections:a.readings&&a.readings.length>0?[{id:sh(),title:"Required Readings",content:ere(a.readings),subSubsections:[],images:[],links:[]}]:[],images:[],links:[]}],published:!1,scheduledTimestamp:a.date})}),o},editMaterial:(n,o)=>{const{generatedMaterials:a}=r(),l=[...a];l[n]={...l[n],...o},t({generatedMaterials:l})},editCourseInfo:n=>{const{parsedCourseInfo:o}=r();o&&t({parsedCourseInfo:{...o,...n}})},reset:()=>t({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null})}),{name:"syllabus-store",partialize:t=>({extractedText:t.extractedText,extractionMetadata:t.extractionMetadata,aiExtractedInfo:t.aiExtractedInfo,useAIProcessing:t.useAIProcessing,parsedCourseInfo:t.parsedCourseInfo,generatedMaterials:t.generatedMaterials,currentStep:t.currentStep})}))),Ym={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"256599ed-a0a2-496f-990d-c51faaefd71a",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},Km={GEMINI_API_KEY:"VITE_GEMINI_API_KEY",ENABLE_AI_PROCESSING:"VITE_ENABLE_AI_PROCESSING",MAX_RETRIES:"VITE_AI_MAX_RETRIES",TIMEOUT:"VITE_AI_TIMEOUT",FALLBACK_TO_PATTERN:"VITE_AI_FALLBACK_TO_PATTERN"},tre=()=>({geminiApiKey:Ym[Km.GEMINI_API_KEY],enableAIProcessing:Ym[Km.ENABLE_AI_PROCESSING]!=="false",maxRetries:parseInt(Ym[Km.MAX_RETRIES]||"3",10),timeout:parseInt(Ym[Km.TIMEOUT]||"30000",10),fallbackToPatternParsing:Ym[Km.FALLBACK_TO_PATTERN]!=="false"}),LL=t=>{const r=[];return t.enableAIProcessing&&!t.geminiApiKey&&r.push("Gemini API key is required when AI processing is enabled"),(t.maxRetries<0||t.maxRetries>10)&&r.push("Max retries must be between 0 and 10"),(t.timeout<1e3||t.timeout>12e4)&&r.push("Timeout must be between 1 second and 2 minutes"),{isValid:r.length===0,errors:r}},jL=()=>{const t=tre(),r=LL(t);return{config:t,...r}},m6=({onUploadComplete:t,apiKey:r})=>{const{uploadedFile:n,uploadProgress:o,error:a,isProcessing:l,useAIProcessing:d,processingProgress:h,uploadSyllabus:p,setUploadedFile:g,setError:b}=Hh(),[v,y]=Y.useState(!1),k=Y.useMemo(()=>["text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],[]),x=Y.useMemo(()=>[".txt",".pdf",".docx"],[]),_=Y.useCallback(async M=>{const q=(Q=>{if(!k.includes(Q.type))return`Unsupported file type. Please upload ${x.join(", ")} files.`;const H=10*1024*1024;return Q.size>H?"File size too large. Please upload files smaller than 10MB.":null})(M);if(q){b(q);return}try{await p(M),t==null||t(M)}catch(Q){console.error("Upload error:",Q)}},[p,t,b,k,x,r]),D=Y.useCallback(M=>{M.preventDefault(),y(!1);const B=Array.from(M.dataTransfer.files);B.length>0&&_(B[0])},[_]),E=Y.useCallback(M=>{M.preventDefault(),y(!0)},[]),N=Y.useCallback(M=>{M.preventDefault(),y(!1)},[]),P=Y.useCallback(M=>{const B=M.target.files;B&&B.length>0&&_(B[0]),M.target.value=""},[_]),F=Y.useCallback(()=>{g(null),b(null)},[g,b]),V=M=>{if(M===0)return"0 Bytes";const B=1024,q=["Bytes","KB","MB","GB"],Q=Math.floor(Math.log(M)/Math.log(B));return parseFloat((M/Math.pow(B,Q)).toFixed(2))+" "+q[Q]},$=()=>C.jsx(DW,{color:"primary"});return C.jsxs(Le,{sx:{width:"100%",maxWidth:600,mx:"auto"},children:[!n&&C.jsxs(Rn,{sx:{p:4,border:"2px dashed",borderColor:v?"primary.main":"grey.300",backgroundColor:v?"primary.50":"background.paper",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center","&:hover":{borderColor:"primary.main",backgroundColor:"primary.50"}},onDragOver:E,onDragLeave:N,onDrop:D,onClick:()=>{var M;return(M=document.getElementById("syllabus-file-input"))==null?void 0:M.click()},children:[C.jsx(EW,{sx:{fontSize:48,color:v?"primary.main":"grey.400",mb:2}}),C.jsx(ze,{variant:"h6",gutterBottom:!0,children:"Upload Your Syllabus"}),C.jsx(ze,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Drag and drop your syllabus file here, or click to browse"}),C.jsx(Le,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center"},children:x.map(M=>C.jsx(ni,{label:M.toUpperCase(),size:"small",variant:"outlined",color:"primary"},M))}),C.jsx(ze,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Maximum file size: 10MB"}),C.jsx("input",{id:"syllabus-file-input",type:"file",accept:k.join(","),onChange:P,style:{display:"none"}})]}),n&&C.jsxs(Rn,{sx:{p:3,mb:2},children:[C.jsxs(Le,{sx:{display:"flex",alignItems:"center",gap:2},children:[$(),C.jsxs(Le,{sx:{flexGrow:1},children:[C.jsx(ze,{variant:"subtitle1",sx:{fontWeight:500},children:n.name}),C.jsx(ze,{variant:"body2",color:"text.secondary",children:V(n.size)})]}),!l&&C.jsx(or,{onClick:F,color:"error",size:"small",children:C.jsx(hd,{})})]}),o>0&&o<100&&C.jsxs(Le,{sx:{mt:2},children:[C.jsx(hg,{variant:"determinate",value:o,sx:{height:6,borderRadius:3}}),C.jsxs(ze,{variant:"caption",sx:{mt:1,display:"block"},children:["Uploading... ",o,"%"]})]}),l&&C.jsx(Le,{sx:{mt:2},children:h?C.jsxs(C.Fragment,{children:[C.jsxs(Le,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[C.jsx(ni,{label:h.stage.charAt(0).toUpperCase()+h.stage.slice(1),size:"small",color:"primary",variant:"outlined"}),C.jsxs(ze,{variant:"caption",color:"text.secondary",children:[h.percentage,"%"]})]}),C.jsx(hg,{variant:"determinate",value:h.percentage,sx:{height:6,borderRadius:3,mb:1}}),C.jsx(ze,{variant:"caption",sx:{display:"block",color:"text.secondary"},children:h.currentOperation})]}):C.jsxs(C.Fragment,{children:[C.jsx(hg,{sx:{height:6,borderRadius:3}}),C.jsx(ze,{variant:"caption",sx:{mt:1,display:"block"},children:d?"AI is analyzing your syllabus...":"Processing syllabus..."})]})})]}),a&&C.jsx(Sr,{severity:"error",sx:{mt:2},onClose:()=>b(null),children:a}),C.jsxs(Rn,{sx:{p:2,mt:2,backgroundColor:"info.50"},children:[C.jsx(ze,{variant:"body2",color:"info.main",sx:{fontWeight:500,mb:1},children:"💡 Tips for best results:"}),C.jsxs(ze,{variant:"body2",color:"text.secondary",component:"ul",sx:{m:0,pl:2},children:[C.jsx("li",{children:"Include course objectives and weekly schedule"}),C.jsx("li",{children:"List reading assignments and materials"}),C.jsx("li",{children:"Text files (.txt) work best for parsing"}),C.jsx("li",{children:"Ensure text is well-structured with clear headings"})]})]})]})},nre=({onContinue:t})=>{var N;const{parsedCourseInfo:r,editCourseInfo:n,error:o,isProcessing:a,currentStep:l}=Hh(),[d,h]=Y.useState(!1),[p,g]=Y.useState(null);if(!r)return C.jsx(Sr,{severity:"warning",children:"No course information available. Please upload and process a syllabus first."});if(a||l==="processing")return C.jsx(Sr,{severity:"info",children:C.jsx(ze,{variant:"body2",children:"📊 Processing complete! Preparing course information for review..."})});const b=()=>{g({...r}),h(!0)},v=()=>{p&&(n(p),h(!1),g(null))},y=()=>{h(!1),g(null)},k=()=>{p&&g({...p,objectives:[...p.objectives,"New objective"]})},x=P=>{if(p){const F=p.objectives.filter((V,$)=>$!==P);g({...p,objectives:F})}},_=(P,F)=>{if(p){const V=[...p.objectives];V[P]=F,g({...p,objectives:V})}},D=(P,F,V)=>{if(p){const $=[...p.schedule];$[P]={...$[P],[F]:V},g({...p,schedule:$})}},E=d?p:r;return E?C.jsx(Le,{sx:{maxWidth:800,mx:"auto"},children:C.jsxs(Rn,{sx:{p:3},children:[C.jsxs(Le,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[C.jsx(ze,{variant:"h5",component:"h2",children:"Course Information Preview"}),d?C.jsxs(Le,{sx:{display:"flex",gap:1},children:[C.jsx(xt,{startIcon:C.jsx(dk,{}),onClick:v,variant:"contained",color:"primary",children:"Save"}),C.jsx(xt,{startIcon:C.jsx(IW,{}),onClick:y,variant:"outlined",children:"Cancel"})]}):C.jsx(xt,{startIcon:C.jsx(oc,{}),onClick:b,variant:"outlined",children:"Edit Details"})]}),o&&C.jsx(Sr,{severity:"error",sx:{mb:3},children:o}),C.jsxs(Qt,{container:!0,spacing:3,children:[C.jsx(Qt,{item:!0,xs:12,md:6,children:C.jsx(Sn,{fullWidth:!0,label:"Course Number",value:E.suggestedNumber,onChange:P=>d&&p&&g({...p,suggestedNumber:P.target.value}),disabled:!d,variant:d?"outlined":"filled"})}),C.jsx(Qt,{item:!0,xs:12,md:6,children:C.jsx(Sn,{fullWidth:!0,label:"Course Title",value:E.suggestedTitle,onChange:P=>d&&p&&g({...p,suggestedTitle:P.target.value}),disabled:!d,variant:d?"outlined":"filled"})}),C.jsx(Qt,{item:!0,xs:12,children:C.jsx(Sn,{fullWidth:!0,multiline:!0,rows:4,label:"Course Description",value:E.suggestedDescription,onChange:P=>d&&p&&g({...p,suggestedDescription:P.target.value}),disabled:!d,variant:d?"outlined":"filled"})})]}),C.jsx(Zs,{sx:{my:3}}),C.jsxs(Le,{sx:{mb:3},children:[C.jsxs(Le,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[C.jsxs(ze,{variant:"h6",children:["Learning Objectives (",E.objectives.length,")"]}),d&&C.jsx(or,{onClick:k,color:"primary",children:C.jsx(vP,{})})]}),C.jsx(Le,{sx:{display:"flex",flexDirection:"column",gap:2},children:E.objectives.map((P,F)=>C.jsxs(Le,{sx:{display:"flex",alignItems:"center",gap:1},children:[C.jsxs(ze,{variant:"body2",sx:{minWidth:24,color:"text.secondary"},children:[F+1,"."]}),d?C.jsxs(C.Fragment,{children:[C.jsx(Sn,{fullWidth:!0,multiline:!0,value:P,onChange:V=>_(F,V.target.value),size:"small"}),C.jsx(or,{onClick:()=>x(F),color:"error",size:"small",children:C.jsx(hd,{})})]}):C.jsx(ze,{variant:"body2",children:P})]},F))})]}),C.jsx(Zs,{sx:{my:3}}),C.jsxs(xg,{children:[C.jsx(Sg,{expandIcon:C.jsx(eu,{}),children:C.jsxs(ze,{variant:"h6",children:["Course Schedule (",E.schedule.length," weeks)"]})}),C.jsx(Eg,{children:C.jsx(Le,{sx:{display:"flex",flexDirection:"column",gap:2},children:E.schedule.map((P,F)=>C.jsx(Rn,{sx:{p:2,backgroundColor:"grey.50"},children:C.jsxs(Qt,{container:!0,spacing:2,alignItems:"center",children:[C.jsx(Qt,{item:!0,xs:12,sm:1,children:C.jsx(ni,{label:`W${P.week}`,size:"small",color:"primary"})}),C.jsx(Qt,{item:!0,xs:12,sm:5,children:d?C.jsx(Sn,{fullWidth:!0,size:"small",label:"Topic",value:P.topic,onChange:V=>D(F,"topic",V.target.value)}):C.jsx(ze,{variant:"body2",sx:{fontWeight:500},children:P.topic})}),C.jsx(Qt,{item:!0,xs:12,sm:6,children:d?C.jsx(Sn,{fullWidth:!0,size:"small",label:"Description",value:P.description||"",onChange:V=>D(F,"description",V.target.value)}):C.jsx(ze,{variant:"body2",color:"text.secondary",children:P.description||"No description"})})]})},F))})})]}),(((N=E.prerequisites)==null?void 0:N.length)||E.textbook||E.grading)&&C.jsxs(C.Fragment,{children:[C.jsx(Zs,{sx:{my:3}}),C.jsx(ze,{variant:"h6",sx:{mb:2},children:"Additional Information"}),C.jsxs(Qt,{container:!0,spacing:2,children:[E.prerequisites&&E.prerequisites.length>0&&C.jsxs(Qt,{item:!0,xs:12,md:4,children:[C.jsx(ze,{variant:"subtitle2",sx:{mb:1},children:"Prerequisites:"}),C.jsx(ze,{variant:"body2",color:"text.secondary",children:E.prerequisites.join(", ")})]}),E.textbook&&C.jsxs(Qt,{item:!0,xs:12,md:4,children:[C.jsx(ze,{variant:"subtitle2",sx:{mb:1},children:"Textbook:"}),C.jsx(ze,{variant:"body2",color:"text.secondary",children:E.textbook})]}),E.grading&&C.jsxs(Qt,{item:!0,xs:12,md:4,children:[C.jsx(ze,{variant:"subtitle2",sx:{mb:1},children:"Grading:"}),C.jsx(ze,{variant:"body2",color:"text.secondary",children:E.grading})]})]})]}),t&&C.jsx(Le,{sx:{mt:4,textAlign:"right"},children:C.jsx(xt,{variant:"contained",color:"primary",size:"large",onClick:t,disabled:d,children:"Continue to Materials Preview"})})]})}):null},rre=({onContinue:t,onBack:r})=>{const{generatedMaterials:n,editMaterial:o,error:a}=Hh(),[l,d]=Y.useState(null),[h,p]=Y.useState(null);if(!n.length)return C.jsx(Sr,{severity:"warning",children:"No materials generated. Please go back and process a syllabus first."});const g=E=>{d({index:E,material:{...n[E]}})},b=()=>{l&&(o(l.index,l.material),d(null))},v=()=>{d(null)},y=E=>{p(E)},k=E=>{const N=n[E];o(E,{published:!N.published})},x=(E,N=150)=>{const P=E.replace(/<[^>]*>/g,"");return P.length>N?P.substring(0,N)+"...":P},_=E=>E.toLowerCase().includes("overview")?C.jsx(dI,{color:"primary"}):E.toLowerCase().includes("week")?C.jsx(NW,{color:"secondary"}):C.jsx(dI,{color:"action"}),D=n.filter(E=>E.published).length;return C.jsxs(Le,{sx:{maxWidth:1e3,mx:"auto"},children:[C.jsxs(Rn,{sx:{p:3,mb:3},children:[C.jsxs(Le,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[C.jsx(ze,{variant:"h5",component:"h2",children:"Generated Course Materials"}),C.jsx(ni,{label:`${D}/${n.length} will be published`,color:"primary",variant:"outlined"})]}),C.jsx(ze,{variant:"body2",color:"text.secondary",children:"Review and customize the course materials generated from your syllabus. You can edit content, toggle publication status, and organize materials before creating your course."}),a&&C.jsx(Sr,{severity:"error",sx:{mt:2},children:a})]}),C.jsx(Qt,{container:!0,spacing:3,children:n.map((E,N)=>C.jsx(Qt,{item:!0,xs:12,md:6,lg:4,children:C.jsxs(Lk,{sx:{height:"100%",display:"flex",flexDirection:"column",border:E.published?"2px solid":"1px solid",borderColor:E.published?"success.main":"divider"},children:[C.jsxs(pP,{sx:{flexGrow:1},children:[C.jsxs(Le,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[_(E.title),C.jsxs(Le,{sx:{flexGrow:1},children:[C.jsx(ze,{variant:"h6",component:"h3",sx:{fontSize:"1rem",lineHeight:1.3,mb:1},children:E.title}),C.jsxs(Le,{sx:{display:"flex",gap:1,alignItems:"center"},children:[C.jsx(ed,{control:C.jsx(td,{checked:E.published,onChange:()=>k(N),size:"small"}),label:C.jsx(ze,{variant:"caption",children:E.published?"Publish":"Draft"}),sx:{mr:0}}),E.scheduledTimestamp&&C.jsx(ni,{label:"Scheduled",size:"small",variant:"outlined",color:"info"})]})]})]}),C.jsxs(ze,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[C.jsx("strong",{children:"Sections:"})," ",E.sections.length]}),E.sections[0]&&C.jsxs(Le,{sx:{mb:2},children:[C.jsx(ze,{variant:"subtitle2",sx:{mb:1},children:E.sections[0].title}),C.jsx(ze,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem",fontStyle:"italic"},children:x(E.sections[0].content)})]})]}),C.jsxs(TW,{children:[C.jsx(xt,{size:"small",startIcon:C.jsx(AP,{}),onClick:()=>y(E),children:"Preview"}),C.jsx(xt,{size:"small",startIcon:C.jsx(oc,{}),onClick:()=>g(N),children:"Edit"})]})]})},E.id))}),C.jsxs(Le,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[r&&C.jsx(xt,{variant:"outlined",onClick:r,size:"large",children:"Back to Course Info"}),t&&C.jsxs(xt,{variant:"contained",color:"primary",onClick:t,size:"large",disabled:D===0,children:["Create Course with ",D," Materials"]})]}),C.jsxs(yo,{open:l!==null,onClose:v,maxWidth:"md",fullWidth:!0,children:[C.jsxs(vo,{children:["Edit Material: ",l==null?void 0:l.material.title]}),C.jsx(Ao,{children:l&&C.jsxs(Le,{sx:{pt:1},children:[C.jsx(Sn,{fullWidth:!0,label:"Material Title",value:l.material.title,onChange:E=>d({...l,material:{...l.material,title:E.target.value}}),sx:{mb:3}}),C.jsx(ze,{variant:"h6",sx:{mb:2},children:"Header"}),C.jsx(Sn,{fullWidth:!0,label:"Header Title",value:l.material.header.title,onChange:E=>d({...l,material:{...l.material,header:{...l.material.header,title:E.target.value}}}),sx:{mb:2}}),C.jsx(Sn,{fullWidth:!0,multiline:!0,rows:2,label:"Header Content",value:l.material.header.content,onChange:E=>d({...l,material:{...l.material,header:{...l.material.header,content:E.target.value}}}),sx:{mb:3}}),C.jsx(ze,{variant:"h6",sx:{mb:2},children:"Sections"}),l.material.sections.map((E,N)=>C.jsxs(xg,{sx:{mb:2},children:[C.jsx(Sg,{expandIcon:C.jsx(eu,{}),children:C.jsx(ze,{children:E.title})}),C.jsxs(Eg,{children:[C.jsx(Sn,{fullWidth:!0,label:"Section Title",value:E.title,onChange:P=>{const F=[...l.material.sections];F[N]={...F[N],title:P.target.value},d({...l,material:{...l.material,sections:F}})},sx:{mb:2}}),C.jsx(Sn,{fullWidth:!0,multiline:!0,rows:4,label:"Section Content",value:E.content,onChange:P=>{const F=[...l.material.sections];F[N]={...F[N],content:P.target.value},d({...l,material:{...l.material,sections:F}})}})]})]},E.id))]})}),C.jsxs(_o,{children:[C.jsx(xt,{onClick:v,children:"Cancel"}),C.jsx(xt,{onClick:b,variant:"contained",children:"Save Changes"})]})]}),C.jsxs(yo,{open:h!==null,onClose:()=>p(null),maxWidth:"md",fullWidth:!0,children:[C.jsx(vo,{children:h==null?void 0:h.title}),C.jsx(Ao,{children:h&&C.jsxs(Le,{sx:{pt:1},children:[C.jsxs(Rn,{sx:{p:2,mb:3,backgroundColor:"primary.50"},children:[C.jsx(ze,{variant:"h6",color:"primary",children:h.header.title}),C.jsx(ze,{variant:"body2",sx:{mt:1},children:h.header.content.replace(/<[^>]*>/g,"")})]}),h.sections.map(E=>C.jsxs(Le,{sx:{mb:3},children:[C.jsx(ze,{variant:"h6",sx:{mb:2},children:E.title}),C.jsx(ze,{variant:"body1",sx:{mb:2},children:E.content.replace(/<[^>]*>/g,"")}),E.subsections.map(N=>C.jsxs(Le,{sx:{ml:2,mb:2},children:[C.jsx(ze,{variant:"subtitle1",sx:{mb:1},children:N.title}),C.jsx(ze,{variant:"body2",color:"text.secondary",children:N.content.replace(/<[^>]*>/g,"")})]},N.id))]},E.id)),C.jsx(Rn,{sx:{p:2,backgroundColor:"grey.50"},children:C.jsx(ze,{variant:"body2",color:"text.secondary",children:h.footer.content.replace(/<[^>]*>/g,"")})})]})}),C.jsx(_o,{children:C.jsx(xt,{onClick:()=>p(null),children:"Close"})})]})]})},ire=({onConfigChange:t,compact:r=!1})=>{const{useAIProcessing:n,setUseAIProcessing:o}=Hh(),[a,l]=Y.useState(null);Y.useEffect(()=>{const{config:b,isValid:v,errors:y}=jL();l({config:b,isValid:v,errors:y})},[]);const d=b=>{if(o(b),a){const v={...a.config,enableAIProcessing:b},y=LL(v);l({config:v,...y}),t==null||t(v)}},h=()=>a?a.isValid&&n?C.jsx(z_,{color:"success"}):!a.isValid&&n?C.jsx(PW,{color:"error"}):C.jsx(hI,{color:"action"}):C.jsx(hI,{color:"action"}),p=()=>n?a?a.isValid?"AI processing ready - enhanced syllabus analysis enabled":`Configuration issues: ${a.errors.join(", ")}`:"Loading configuration...":"AI processing disabled - using pattern-based parsing",g=()=>n?a?a.isValid?"success":"error":"info":"warning";return r?C.jsxs(Le,{sx:{display:"flex",alignItems:"center",gap:2},children:[h(),C.jsx(ed,{control:C.jsx(td,{checked:n,onChange:b=>d(b.target.checked),size:"small"}),label:"AI Processing"}),C.jsx(ia,{title:p(),children:C.jsx(MW,{fontSize:"small",color:"action"})})]}):C.jsx(Rn,{sx:{p:2,mb:2},children:C.jsxs(xg,{children:[C.jsx(Sg,{expandIcon:C.jsx(eu,{}),children:C.jsxs(Le,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[h(),C.jsxs(Le,{sx:{flexGrow:1},children:[C.jsx(ze,{variant:"subtitle1",sx:{fontWeight:500},children:"AI-Powered Processing Settings"}),C.jsx(ze,{variant:"caption",color:"text.secondary",children:p()})]}),C.jsx(ni,{label:n?"Enabled":"Disabled",color:n?"success":"default",size:"small"})]})}),C.jsx(Eg,{children:C.jsxs(Qt,{container:!0,spacing:3,children:[C.jsx(Qt,{item:!0,xs:12,children:C.jsx(ed,{control:C.jsx(td,{checked:n,onChange:b=>d(b.target.checked)}),label:C.jsxs(Le,{children:[C.jsx(ze,{variant:"body2",sx:{fontWeight:500},children:"Enable AI-Powered Analysis"}),C.jsx(ze,{variant:"caption",color:"text.secondary",children:"Use Google Gemini to extract structured information from syllabi"})]})})}),n&&C.jsx(Qt,{item:!0,xs:12,children:C.jsxs(Rn,{sx:{p:2,backgroundColor:a!=null&&a.isValid?"success.50":"error.50",border:"1px solid",borderColor:a!=null&&a.isValid?"success.200":"error.200"},children:[C.jsx(ze,{variant:"subtitle2",sx:{mb:1,color:a!=null&&a.isValid?"success.main":"error.main"},children:a!=null&&a.isValid?"✅ API Configuration":"❌ API Configuration"}),C.jsx(ze,{variant:"body2",color:"text.secondary",children:a!=null&&a.isValid?"Gemini API key is configured and ready for use.":"Gemini API key is required. Please add VITE_GEMINI_API_KEY to your environment variables."})]})}),C.jsx(Qt,{item:!0,xs:12,children:C.jsxs(Sr,{severity:g(),sx:{mb:2},children:[C.jsx(ze,{variant:"body2",children:p()}),(a==null?void 0:a.errors)&&a.errors.length>0&&C.jsx(Le,{sx:{mt:1},children:a.errors.map((b,v)=>C.jsxs(ze,{variant:"caption",display:"block",children:["• ",b]},v))})]})}),n&&(a==null?void 0:a.isValid)&&C.jsx(Qt,{item:!0,xs:12,children:C.jsxs(Rn,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200"},children:[C.jsx(ze,{variant:"subtitle2",sx:{mb:1,color:"primary.main"},children:"🚀 Enhanced Features with AI:"}),C.jsxs(Qt,{container:!0,spacing:1,children:[C.jsxs(Qt,{item:!0,xs:12,sm:6,children:[C.jsx(ze,{variant:"caption",display:"block",children:"✓ Intelligent course information extraction"}),C.jsx(ze,{variant:"caption",display:"block",children:"✓ Automatic learning objectives identification"}),C.jsx(ze,{variant:"caption",display:"block",children:"✓ Smart schedule parsing and organization"})]}),C.jsxs(Qt,{item:!0,xs:12,sm:6,children:[C.jsx(ze,{variant:"caption",display:"block",children:"✓ Grading policy analysis"}),C.jsx(ze,{variant:"caption",display:"block",children:"✓ Assignment and due date extraction"}),C.jsx(ze,{variant:"caption",display:"block",children:"✓ Enhanced material generation"})]})]})]})}),!n&&C.jsx(Qt,{item:!0,xs:12,children:C.jsxs(Rn,{sx:{p:2,backgroundColor:"warning.50",border:"1px solid",borderColor:"warning.200"},children:[C.jsx(ze,{variant:"subtitle2",sx:{mb:1,color:"warning.main"},children:"📝 Pattern-Based Processing:"}),C.jsx(ze,{variant:"caption",color:"text.secondary",children:"Using traditional text parsing methods. Results may be less accurate than AI processing. Enable AI processing for better extraction accuracy."})]})})]})})]})})},BL=({onComplete:t,onCancel:r})=>{const{currentStep:n,setCurrentStep:o,parsedCourseInfo:a,generatedMaterials:l,isProcessing:d,error:h,useAIProcessing:p,processingProgress:g,reset:b}=Hh(),[v,y]=Y.useState(null);at.useEffect(()=>{const{config:V}=jL();y(V)},[]);const k=[{label:"Upload Syllabus",description:"Upload your syllabus document"},{label:"Review Course Info",description:"Verify and edit course information"},{label:"Review Materials",description:"Customize generated course materials"}],x=()=>{switch(n){case"upload":case"processing":return 0;case"review":return 1;case"editing":return 2;case"complete":return 2;default:return 0}},_=()=>{o("editing")},D=()=>{o("review")},E=()=>{if(a&&l.length>0){const V=l.filter($=>$.published);t==null||t({courseInfo:a,materials:V})}},N=()=>{b(),r==null||r()},P=V=>{y(V)},F=()=>{switch(n){case"upload":case"processing":return C.jsx(m6,{onUploadComplete:()=>{}});case"review":return C.jsx(nre,{onContinue:_});case"editing":case"complete":return C.jsx(rre,{onContinue:E,onBack:D});default:return C.jsx(m6,{onUploadComplete:()=>{}})}};return C.jsxs(Le,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:3},children:[C.jsxs(Rn,{sx:{p:3,mb:4},children:[C.jsx(ze,{variant:"h4",component:"h1",gutterBottom:!0,children:"Import Course from Syllabus"}),C.jsx(ze,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Upload your syllabus document and we'll automatically create a course structure with organized materials based on your content."}),C.jsx(OW,{activeStep:x(),alternativeLabel:!0,children:k.map(V=>C.jsx(LW,{children:C.jsxs(jW,{children:[C.jsx(ze,{variant:"body2",sx:{fontWeight:500},children:V.label}),C.jsx(ze,{variant:"caption",color:"text.secondary",children:V.description})]})},V.label))})]}),n==="upload"&&C.jsx(ire,{onConfigChange:P,compact:!1}),h&&C.jsx(Sr,{severity:"error",sx:{mb:3},onClose:()=>{},children:h}),d&&C.jsx(Sr,{severity:"info",sx:{mb:3},children:C.jsx(ze,{variant:"body2",children:p?"🤖 AI is analyzing your syllabus for enhanced data extraction... This may take 10-30 seconds.":"🔄 Processing your syllabus with pattern-based analysis... This may take a moment."})}),C.jsx(Le,{sx:{minHeight:400},children:F()}),n!=="upload"&&r&&C.jsx(Le,{sx:{display:"flex",justifyContent:"center",mt:3},children:C.jsx(xt,{variant:"outlined",color:"secondary",onClick:N,size:"small",children:"Cancel & Return to Manual Entry"})}),!1]})},n1=t=>{if(t==null)return null;if(t instanceof Date)return t;if(Array.isArray(t))return t.map(n1).filter(r=>r!=null);if(typeof t=="object"){const r={};return Object.keys(t).forEach(n=>{const o=t[n];if(o!==void 0){const a=n1(o);a!=null&&(r[n]=a)}}),r}return t},ore=()=>{const{userDetails:t}=Ti(),r=Vr(),n=er(),[o,a]=Y.useState(""),[l,d]=Y.useState(""),[h,p]=Y.useState(""),[g,b]=Y.useState(""),[v,y]=Y.useState(""),[k,x]=Y.useState(""),[_,D]=Y.useState(""),[E,N]=Y.useState("primary"),[P,F]=Y.useState("manual"),{parsedCourseInfo:V,generatedMaterials:$,reset:M,currentStep:B}=Hh(),[q,Q]=Y.useState(!1),[H,R]=Y.useState(!1),[K,j]=Y.useState("");Y.useEffect(()=>{(P==="manual"||E==="co-instructor")&&M()},[P,E,M]),Y.useEffect(()=>{E==="primary"&&P==="syllabus"&&V&&(y(V.suggestedNumber||""),x(V.suggestedTitle||""),D(V.suggestedDescription||""))},[E,P,V]);const ne=pe=>we=>{pe(we.target.value)},de=pe=>{const we=pe.target.value;N(we),we==="co-instructor"&&(F("manual"),y(""),x(""),D(""))},se=(pe,we)=>{we!==null&&(F(we),we==="syllabus"&&(y(""),x(""),D("")))},oe=()=>{if(!o||!l||!h||!g||!v||!k)return"Please fill in all required fields.";if(E==="primary"){if(P==="manual"&&!_)return"Please provide a course description.";if(P==="syllabus"){if(!V)return"Please complete the syllabus import process first.";if(!_)return"Please ensure course description is properly filled from your syllabus."}}return null},ye=pe=>{console.log("Syllabus import completed for educator request:",pe)},re=async()=>{const pe=oe();if(pe){j(pe),R(!0);return}Q(!0);try{const we={uid:(t==null?void 0:t.uid)||"",firstName:o||"",lastName:l||"",institution:h||"",email:g||"",courseNumber:v||"",courseTitle:k||"",courseDescription:E==="primary"?_||"":"CO-INSTRUCTOR REQUEST",requestType:E||"primary",status:"pending",timestamp:new Date,syllabusImported:!1};if(E==="primary"&&P==="syllabus"&&V&&$.length>0){const rt={parsedCourseInfo:V,generatedMaterials:$.filter(Je=>Je.published)},Qe=n1(rt);we.syllabusImported=!0,we.syllabusData=Qe}const Pe=n1(we);console.log("Submitting clean educator request document:",Pe);const Ie=await oa(Yn(n,"educatorRequests"),Pe),Ne={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Educator Request Submitted${E==="primary"&&P==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new educator request has been submitted:</p>
            <p><strong>Name:</strong> ${o} ${l}</p>
            <p><strong>Email:</strong> ${g}</p>
            <p><strong>Institution:</strong> ${h}</p>
            <p><strong>Course:</strong> ${v} - ${k}</p>
            <p><strong>Request Type:</strong> ${E}</p>
            ${E==="primary"?`<p><strong>Course Creation Method:</strong> ${P==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>`:""}
            ${E==="primary"&&P==="syllabus"&&$.length>0?`<p><strong>Generated Materials:</strong> ${$.filter(rt=>rt.published).length} materials ready for publication</p>`:""}
            <p><strong>Description:</strong> ${_}</p>
            <p><strong>Request ID:</strong> ${Ie.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/educator-requests">
            Click here to review the request.
            </a></p>
          `}};await oa(Yn(n,"mail"),Ne),j(E==="primary"&&P==="syllabus"&&$.length>0?`Your educator request has been submitted for review with ${$.filter(rt=>rt.published).length} auto-generated course materials.`:"Your request has been submitted for review."),a(""),d(""),p(""),b(""),y(""),x(""),D(""),N("primary"),F("manual"),P==="syllabus"&&M(),R(!0),setTimeout(()=>{r("/my-profile")},3e3)}catch(we){console.error("Error submitting request: ",we),we instanceof Error&&console.error("Error details:",{message:we.message,name:we.name,stack:we.stack}),j("Error submitting your request. Please try again."),R(!0)}finally{Q(!1)}},_e=()=>{R(!1)},X=()=>{r("/my-profile")},J=E==="primary"&&P==="syllabus"&&B!=="upload"&&!V,ae=E==="primary"&&P==="syllabus"&&(B==="review"||B==="editing"||B==="complete")&&V;return C.jsxs(Le,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[C.jsx(Le,{sx:{display:"flex",alignItems:"center",mb:3},children:C.jsx(xt,{variant:"text",onClick:X,className:"back-home-button",children:"← My Account"})}),C.jsxs(Le,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[C.jsx(ze,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Educator Permissions"}),C.jsxs(Qt,{item:!0,xs:12,sx:{mb:3},children:[C.jsx(ll,{htmlFor:"request-type",required:!0,children:"Request Type"}),C.jsxs(hc,{id:"request-type",name:"request-type",value:E,onChange:de,fullWidth:!0,required:!0,disabled:q,sx:{mt:1},children:[C.jsx(Ir,{value:"primary",children:"I am a primary course instructor, I want to create a new course"}),C.jsx(Ir,{value:"co-instructor",children:"I am a co-instructor, I want to be added to an existing course"})]})]}),C.jsx(ze,{variant:"h6",component:"h2",sx:{mb:2},children:"Personal Information"}),C.jsxs(Qt,{container:!0,spacing:3,children:[C.jsxs(Qt,{item:!0,xs:12,md:6,children:[C.jsx(ll,{htmlFor:"first-name",required:!0,children:"First Name"}),C.jsx(Yl,{id:"first-name",name:"first-name",value:o,onChange:ne(a),placeholder:"John",fullWidth:!0,required:!0,disabled:q})]}),C.jsxs(Qt,{item:!0,xs:12,md:6,children:[C.jsx(ll,{htmlFor:"last-name",required:!0,children:"Last Name"}),C.jsx(Yl,{id:"last-name",name:"last-name",value:l,onChange:ne(d),placeholder:"Doe",fullWidth:!0,required:!0,disabled:q})]}),C.jsxs(Qt,{item:!0,xs:12,children:[C.jsx(ll,{htmlFor:"institution",required:!0,children:"Institution Affiliation"}),C.jsx(Yl,{id:"institution",name:"institution",value:h,onChange:ne(p),placeholder:"University Name",fullWidth:!0,required:!0,disabled:q})]}),C.jsxs(Qt,{item:!0,xs:12,children:[C.jsx(ll,{htmlFor:"email",required:!0,children:"Institutional Email"}),C.jsx(Yl,{id:"email",name:"email",value:g,onChange:ne(b),placeholder:"name@institution.edu",fullWidth:!0,required:!0,disabled:q}),C.jsx(ze,{variant:"caption",sx:{mt:1},children:"Please use your institutional email to confirm your affiliation."})]})]}),C.jsx(Zs,{sx:{my:4}}),C.jsx(ze,{variant:"h6",component:"h2",sx:{mb:2},children:E==="primary"?"New Course Details":"Existing Course Details"}),E==="primary"&&C.jsxs(Rn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[C.jsx(ze,{variant:"subtitle1",sx:{mb:2},children:"How would you like to create your course?"}),C.jsxs(F_,{value:P,exclusive:!0,onChange:se,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[C.jsxs(kp,{value:"manual","aria-label":"manual entry",children:[C.jsx(oc,{sx:{mr:1}}),"Manual Entry"]}),C.jsxs(kp,{value:"syllabus","aria-label":"syllabus import",children:[C.jsx(_P,{sx:{mr:1}}),"Import from Syllabus"]})]}),C.jsx(ze,{variant:"body2",color:"text.secondary",children:P==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),E==="primary"&&P==="syllabus"&&C.jsx(Le,{sx:{mb:4},children:C.jsx(BL,{onComplete:ye,onCancel:()=>F("manual")})}),(E==="co-instructor"||E==="primary"&&P==="manual")&&C.jsxs(Qt,{container:!0,spacing:3,sx:{mb:4},children:[C.jsxs(Qt,{item:!0,xs:12,md:6,children:[C.jsx(ll,{htmlFor:"course-number",required:!0,children:"Course Number"}),C.jsx(Yl,{id:"course-number",name:"course-number",value:v,onChange:ne(y),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:q})]}),C.jsxs(Qt,{item:!0,xs:12,md:6,children:[C.jsx(ll,{htmlFor:"course-title",required:!0,children:"Course Title"}),C.jsx(Yl,{id:"course-title",name:"course-title",value:k,onChange:ne(x),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:q})]}),E==="primary"&&C.jsxs(Qt,{item:!0,xs:12,children:[C.jsx(ll,{htmlFor:"course-description",required:!0,children:"Course Description"}),C.jsx(Yl,{id:"course-description",name:"course-description",value:_,onChange:ne(D),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:q})]})]}),(E==="co-instructor"||E==="primary"&&P==="manual"||ae)&&C.jsxs(Le,{sx:{mt:4},children:[C.jsx(xt,{variant:"contained",color:"primary",onClick:re,fullWidth:!0,className:"submit-button",sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},disabled:q||J,children:q?C.jsxs(C.Fragment,{children:[C.jsx(qr,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${E==="primary"&&P==="syllabus"&&$.length>0?` with ${$.filter(pe=>pe.published).length} Materials`:""}`}),C.jsxs(ze,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",C.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),C.jsxs(yo,{open:H,onClose:_e,children:[C.jsx(vo,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:C.jsx(z_,{sx:{color:"green",fontSize:50,marginRight:1}})}),C.jsx(Ao,{children:C.jsx(Ss,{sx:{textAlign:"center"},children:K})}),C.jsx(_o,{children:C.jsx(xt,{onClick:_e,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},sre=()=>{const[t,r]=Y.useState([]),[n,o]=Y.useState([]),[a,l]=Y.useState(""),[d,h]=Y.useState(!1),[p,g]=Y.useState(""),[b,v]=Y.useState("success"),[y,k]=Y.useState(!1),[x,_]=Y.useState(null),[D,E]=Y.useState(null),[N,P]=Y.useState(null),F=er(),V=Vr();Y.useEffect(()=>{(async()=>{const ne=(await xo(Yn(F,"educatorRequests"))).docs.map(oe=>({id:oe.id,...oe.data()})),se=(await xo(Yn(F,"courses"))).docs.map(oe=>({id:oe.id,...oe.data()}));r(ne),o(se)})()},[F]);function $(){const K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let j="";for(let ne=0;ne<28;ne++)j+=K.charAt(Math.floor(Math.random()*K.length));return j}const M=async()=>{var K,j;if(!(!D||!N)){if(!N.courseNumber||!N.courseTitle){g("Course number or title is missing. Cannot approve request."),v("error"),h(!0);return}if(N.requestType==="co-instructor"&&!a){g("Please select a course for the co-instructor request."),v("error"),h(!0);return}if(N.status!=="pending"){g("This request has already been processed."),v("warning"),h(!0);return}try{const ne=yn(F,"users",N.uid);if(N.requestType==="primary"){const de=$(),se=await oa(Yn(F,"courses"),{number:N.courseNumber,title:N.courseTitle,passcode:de,courseAdmin:[N.uid]}),oe=await _s(ne),ye=oe.exists()?((K=oe.data())==null?void 0:K.classes)||{}:{};await xr(ne,{isAdmin:!0,classes:{...ye,[se.id]:{number:N.courseNumber,title:N.courseTitle,isCourseAdmin:!0}}}),await xr(yn(F,"educatorRequests",D),{status:"approved",courseId:se.id,passcode:de})}else if(N.requestType==="co-instructor"){if(!a){g("Please select a course for the co-instructor request."),v("error"),h(!0);return}const de=yn(F,"courses",a);await xr(de,{courseAdmin:uG(N.uid)});const se=await _s(ne),oe=se.exists()?((j=se.data())==null?void 0:j.classes)||{}:{};await xr(ne,{isAdmin:!0,classes:{...oe,[a]:{number:N.courseNumber,title:N.courseTitle,isCourseAdmin:!0}}}),await xr(yn(F,"educatorRequests",D),{status:"approved",courseId:a})}g("Request approved, and user promoted to educator."),v("success"),r(de=>de.map(se=>se.id===D?{...se,status:"approved"}:se))}catch(ne){console.error("Error approving request: ",ne),g("Error approving the request. Please try again."),v("error")}h(!0),Q()}},B=async()=>{if(D){try{await xr(yn(F,"educatorRequests",D),{status:"denied"}),g("Request denied."),v("success"),r(t.map(K=>K.id===D?{...K,status:"denied"}:K))}catch(K){console.error("Error denying request: ",K),g("Error denying the request. Please try again."),v("error")}h(!0),Q()}},q=(K,j,ne)=>{_(K),E(j),P(ne),l(""),k(!0)},Q=()=>{k(!1),_(null),E(null),P(null)},H=()=>{h(!1)},R=()=>{V("/")};return C.jsxs(Le,{sx:{padding:3},children:[C.jsx(Le,{sx:{display:"flex",alignItems:"center"},children:C.jsx(xt,{variant:"text",onClick:R,sx:{mr:2},children:"← Home Page"})}),C.jsx(ze,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Educator Permission Requests"}),C.jsx(fd,{component:Rn,children:C.jsxs(pd,{children:[C.jsx(md,{children:C.jsxs(Co,{children:[C.jsx(It,{children:"Name"}),C.jsx(It,{children:"User ID"}),C.jsx(It,{children:"Institution"}),C.jsx(It,{children:"Email"}),C.jsx(It,{children:"Course Number"}),C.jsx(It,{children:"Course Title"}),C.jsx(It,{children:"Course Description"}),C.jsx(It,{children:"Timestamp"}),C.jsx(It,{children:"Actions"})]})}),C.jsx(gd,{children:t.map(K=>C.jsxs(Co,{children:[C.jsx(It,{children:`${K.firstName} ${K.lastName}`}),C.jsx(It,{children:K.uid}),C.jsx(It,{children:K.institution}),C.jsx(It,{children:K.email}),C.jsx(It,{children:K.courseNumber}),C.jsx(It,{children:K.courseTitle}),C.jsx(It,{children:K.courseDescription}),C.jsx(It,{children:new Date(K.timestamp.seconds*1e3).toLocaleString()}),C.jsxs(It,{children:[K.status==="pending"&&C.jsxs(C.Fragment,{children:[C.jsx(xt,{variant:"contained",color:"primary",sx:{mr:1},onClick:()=>q("approve",K.id,K),children:"Approve"}),C.jsx(xt,{variant:"contained",color:"secondary",onClick:()=>q("deny",K.id,K),children:"Deny"})]}),K.status==="approved"&&C.jsx(ze,{color:"success.main",children:"Approved"}),K.status==="denied"&&C.jsx(ze,{color:"error.main",children:"Denied"})]})]},K.id))})]})}),C.jsx(is,{open:d,autoHideDuration:6e3,onClose:H,children:C.jsx(Sr,{onClose:H,severity:b,sx:{width:"100%"},children:p})}),C.jsxs(yo,{open:y,onClose:Q,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[C.jsx(vo,{id:"confirmation-dialog-title",children:x==="approve"?"Confirm Approval":"Confirm Denial"}),C.jsxs(Ao,{children:[C.jsxs(Ss,{id:"confirmation-dialog-description",children:["Are you sure you want to ",x," this request for ",N==null?void 0:N.firstName," ",N==null?void 0:N.lastName,"?"]}),x==="approve"&&(N==null?void 0:N.requestType)==="co-instructor"&&C.jsxs(Le,{sx:{mt:2},children:[C.jsx(ze,{children:"Select Course:"}),C.jsx(hc,{fullWidth:!0,value:a,onChange:K=>l(K.target.value),children:n.map(K=>C.jsx(Ir,{value:K.id,children:`${K.number} - ${K.title}`},K.id))})]})]}),C.jsxs(_o,{children:[C.jsx(xt,{onClick:Q,color:"primary",children:"Cancel"}),C.jsx(xt,{onClick:x==="approve"?M:B,color:"primary",variant:"contained",autoFocus:!0,disabled:(N==null?void 0:N.requestType)==="co-instructor"&&!a,children:"Confirm"})]})]})]})},r1=t=>{if(t==null)return null;if(t instanceof Date)return t;if(Array.isArray(t))return t.map(r1).filter(r=>r!=null);if(typeof t=="object"){const r={};return Object.keys(t).forEach(n=>{const o=t[n];if(o!==void 0){const a=r1(o);a!=null&&(r[n]=a)}}),r}return t},are=()=>{const{userDetails:t}=Ti(),r=Vr(),n=er(),[o,a]=Y.useState("manual"),[l,d]=Y.useState(""),[h,p]=Y.useState(""),[g,b]=Y.useState(""),{parsedCourseInfo:v,generatedMaterials:y,reset:k,currentStep:x}=Hh(),[_,D]=Y.useState(!1),[E,N]=Y.useState(!1),[P,F]=Y.useState("");Y.useEffect(()=>{o==="manual"&&k()},[o,k]),Y.useEffect(()=>{o==="syllabus"&&v&&(d(v.suggestedNumber||""),p(v.suggestedTitle||""),b(v.suggestedDescription||""))},[o,v]);const V=j=>ne=>{j(ne.target.value)},$=(j,ne)=>{ne!==null&&(a(ne),ne==="syllabus"&&(d(""),p(""),b("")))},M=()=>{if(o==="manual"){if(!l||!h||!g)return"Please fill in all required fields."}else if(o==="syllabus"){if(!v)return"Please complete the syllabus import process first.";if(!l||!h||!g)return"Please ensure course information is properly filled from your syllabus."}return null},B=j=>{console.log("Syllabus import completed:",j),q()},q=async()=>{const j=M();if(j){F(j),N(!0);return}D(!0);try{const ne={uid:(t==null?void 0:t.uid)||"",courseNumber:l||"",courseTitle:h||"",courseDescription:g||"",status:"pending",timestamp:new Date,syllabusImported:!1};if(o==="syllabus"&&v&&y.length>0){const ye={parsedCourseInfo:v,generatedMaterials:y.filter(_e=>_e.published)},re=r1(ye);ne.syllabusImported=!0,ne.syllabusData=re}const de=r1(ne);console.log("Submitting clean request document:",de);const se=await oa(Yn(n,"courseRequests"),de),oe={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Course Request Submitted${o==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new course request has been submitted:</p>
            <p><strong>Educator ID:</strong> ${(t==null?void 0:t.uid)||"Unknown"}</p>
            <p><strong>Course:</strong> ${l} - ${h}</p>
            <p><strong>Description:</strong> ${g}</p>
            <p><strong>Creation Method:</strong> ${o==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>
            ${o==="syllabus"&&y.length>0?`<p><strong>Generated Materials:</strong> ${y.filter(ye=>ye.published).length} materials ready for publication</p>`:""}
            <p><strong>Request ID:</strong> ${se.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/course-requests">
            Click here to review the request.
            </a></p>
          `}};await oa(Yn(n,"mail"),oe),F(o==="syllabus"?`Your course request has been submitted for review with ${y.filter(ye=>ye.published).length} auto-generated materials.`:"Your course request has been submitted for review."),d(""),p(""),b(""),o==="syllabus"&&k(),N(!0),setTimeout(()=>{r("/course-management")},3e3)}catch(ne){console.error("Error submitting course request: ",ne),ne instanceof Error&&console.error("Error details:",{message:ne.message,name:ne.name,stack:ne.stack}),F("Error submitting your course request. Please try again."),N(!0)}finally{D(!1)}},Q=()=>{N(!1)},H=()=>{r("/course-management")},R=o==="syllabus"&&x!=="upload"&&!v,K=o==="syllabus"&&(x==="review"||x==="editing"||x==="complete")&&v;return C.jsxs(Le,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[C.jsx(Le,{sx:{display:"flex",alignItems:"center",mb:3},children:C.jsx(xt,{variant:"text",onClick:H,className:"back-home-button",children:"← Course Management"})}),C.jsxs(Le,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[C.jsx(ze,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Creating a New Course"}),C.jsxs(Rn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[C.jsx(ze,{variant:"h6",sx:{mb:2},children:"How would you like to create your course?"}),C.jsxs(F_,{value:o,exclusive:!0,onChange:$,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[C.jsxs(kp,{value:"manual","aria-label":"manual entry",children:[C.jsx(oc,{sx:{mr:1}}),"Manual Entry"]}),C.jsxs(kp,{value:"syllabus","aria-label":"syllabus import",children:[C.jsx(_P,{sx:{mr:1}}),"Import from Syllabus"]})]}),C.jsx(ze,{variant:"body2",color:"text.secondary",children:o==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),o==="syllabus"&&C.jsx(Le,{sx:{mb:4},children:C.jsx(BL,{onComplete:B,onCancel:()=>a("manual")})}),o==="manual"&&C.jsxs(Qt,{container:!0,spacing:3,children:[C.jsxs(Qt,{item:!0,xs:12,md:6,children:[C.jsx(ll,{htmlFor:"course-number",required:!0,children:"Course Number"}),C.jsx(Yl,{id:"course-number",name:"course-number",value:l,onChange:V(d),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:_})]}),C.jsxs(Qt,{item:!0,xs:12,md:6,children:[C.jsx(ll,{htmlFor:"course-title",required:!0,children:"Course Title"}),C.jsx(Yl,{id:"course-title",name:"course-title",value:h,onChange:V(p),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:_})]}),C.jsxs(Qt,{item:!0,xs:12,children:[C.jsx(ll,{htmlFor:"course-description",required:!0,children:"Course Description"}),C.jsx(Yl,{id:"course-description",name:"course-description",value:g,onChange:V(b),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:_})]})]}),(o==="manual"||K)&&C.jsxs(Le,{sx:{mt:4},children:[C.jsx(xt,{variant:"contained",color:"primary",onClick:q,fullWidth:!0,className:"submit-button",disabled:_||R,sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},children:_?C.jsxs(C.Fragment,{children:[C.jsx(qr,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${o==="syllabus"&&y.length>0?` with ${y.filter(j=>j.published).length} Materials`:""}`}),C.jsxs(ze,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",C.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),C.jsxs(yo,{open:E,onClose:Q,children:[C.jsx(vo,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:C.jsx(z_,{sx:{color:"green",fontSize:50,marginRight:1}})}),C.jsx(Ao,{children:C.jsx(Ss,{sx:{textAlign:"center"},children:P})}),C.jsx(_o,{children:C.jsx(xt,{onClick:Q,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},lre=()=>{var q,Q;const[t,r]=Y.useState([]),[n,o]=Y.useState(!1),[a,l]=Y.useState(""),[d,h]=Y.useState("success"),[p,g]=Y.useState(!1),[b,v]=Y.useState(null),[y,k]=Y.useState(null),[x,_]=Y.useState(null),D=er(),E=Vr();Y.useEffect(()=>{(async()=>{try{const K=(await xo(Yn(D,"courseRequests"))).docs.map(j=>({id:j.id,...j.data()}));K.sort((j,ne)=>j.status==="pending"&&ne.status!=="pending"||j.status==="approved"&&ne.status==="denied"?-1:j.status==="denied"&&ne.status==="approved"?1:0),r(K)}catch(R){console.error("Error fetching course requests: ",R)}})()},[D]);function N(){const H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let R="";for(let K=0;K<28;K++)R+=H.charAt(Math.floor(Math.random()*H.length));return R}const P=async()=>{var H,R;if(!(!y||!x)){try{const K=N(),j=await oa(Yn(D,"courses"),{number:x.courseNumber,title:x.courseTitle,passcode:K,courseAdmin:[x.uid]}),ne=yn(D,"users",x.uid),de=await _s(ne),se=de.exists()?((H=de.data())==null?void 0:H.classes)||{}:{};await xr(ne,{classes:{...se,[j.id]:{number:x.courseNumber,title:x.courseTitle,isCourseAdmin:!0}}});let oe=0;if(x.syllabusImported&&((R=x.syllabusData)!=null&&R.generatedMaterials)){const re=$_(D);x.syllabusData.generatedMaterials.forEach(_e=>{const X=yn(Yn(D,"materials")),J={title:_e.title||"Untitled Material",header:_e.header||{title:"",content:""},footer:_e.footer||{title:"",content:""},sections:(_e.sections||[]).map(ae=>({...ae,images:ae.images||[],links:ae.links||[],subsections:(ae.subsections||[]).map(pe=>({...pe,images:pe.images||[],links:pe.links||[],subSubsections:(pe.subSubsections||[]).map(we=>({...we,images:we.images||[],links:we.links||[]}))}))})),published:!0,course:j.id,author:x.uid,timestamp:np.now(),createdAt:new Date,updatedAt:new Date};_e.scheduledTimestamp&&(J.scheduledTimestamp=np.fromDate(_e.scheduledTimestamp)),re.set(X,J),oe++}),await re.commit(),console.log(`Created ${oe} materials from syllabus`)}await xr(yn(D,"courseRequests",y),{status:"approved",courseId:j.id,passcode:K});const ye={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"Your Course Request Has Been Approved",html:`
            <p>Your course request has been approved:</p>
            <p><strong>Course:</strong> ${x.courseNumber} - ${x.courseTitle}</p>
            <p><strong>Passcode:</strong> ${K}</p>
            ${x.syllabusImported&&oe>0?`<p><strong>Materials Created:</strong> ${oe} materials have been automatically added to your course from your syllabus import.</p>`:""}
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/supplemental-materials">
            Click here to view your course.
            </a></p>
          `}};await oa(Yn(D,"mail"),ye),l(`Course request approved, course added${oe>0?` with ${oe} materials`:""}.`),h("success"),r(re=>re.map(_e=>_e.id===y?{..._e,status:"approved"}:_e))}catch(K){console.error("Error approving request: ",K),l("Error approving the request. Please try again."),h("error")}o(!0),$()}},F=async()=>{if(y){try{await xr(yn(D,"courseRequests",y),{status:"denied"}),l("Course request denied."),h("success"),r(t.map(H=>H.id===y?{...H,status:"denied"}:H))}catch(H){console.error("Error denying request: ",H),l("Error denying the request. Please try again."),h("error")}o(!0),$()}},V=(H,R,K)=>{v(H),k(R),_(K),g(!0)},$=()=>{g(!1),v(null),k(null),_(null)},M=()=>{o(!1)},B=()=>{E("/")};return C.jsxs(Le,{sx:{padding:3},children:[C.jsx(Le,{sx:{display:"flex",alignItems:"center"},children:C.jsx(xt,{variant:"text",onClick:B,sx:{mr:2},children:"← Home Page"})}),C.jsx(ze,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Course Creation Requests"}),C.jsx(fd,{component:Rn,children:C.jsxs(pd,{children:[C.jsx(md,{children:C.jsxs(Co,{children:[C.jsx(It,{children:"Educator ID"}),C.jsx(It,{children:"Course Number"}),C.jsx(It,{children:"Course Title"}),C.jsx(It,{children:"Course Description"}),C.jsx(It,{children:"Creation Method"}),C.jsx(It,{children:"Timestamp"}),C.jsx(It,{children:"Actions"})]})}),C.jsx(gd,{children:t.map(H=>{var R,K,j;return C.jsxs(Co,{children:[C.jsx(It,{children:H.uid}),C.jsx(It,{children:H.courseNumber}),C.jsx(It,{children:H.courseTitle}),C.jsx(It,{children:H.courseDescription.length>100?`${H.courseDescription.substring(0,100)}...`:H.courseDescription}),C.jsx(It,{children:H.syllabusImported?C.jsxs(Le,{children:[C.jsx(ze,{variant:"body2",color:"primary",sx:{fontWeight:"bold"},children:"Syllabus Import"}),C.jsxs(ze,{variant:"caption",color:"text.secondary",children:[((K=(R=H.syllabusData)==null?void 0:R.generatedMaterials)==null?void 0:K.length)||0," materials"]})]}):C.jsx(ze,{variant:"body2",color:"text.secondary",children:"Manual Entry"})}),C.jsx(It,{children:(j=H.timestamp)!=null&&j.seconds?new Date(H.timestamp.seconds*1e3).toLocaleString():"Invalid Date"}),C.jsxs(It,{children:[H.status==="pending"&&C.jsxs(C.Fragment,{children:[C.jsx(xt,{variant:"contained",color:"success",size:"small",onClick:()=>V("approve",H.id,H),sx:{mr:1},children:"Approve"}),C.jsx(xt,{variant:"outlined",color:"error",size:"small",onClick:()=>V("deny",H.id,H),children:"Deny"})]}),H.status==="approved"&&C.jsx(ze,{variant:"body2",color:"success.main",sx:{fontWeight:"bold"},children:"Approved"}),H.status==="denied"&&C.jsx(ze,{variant:"body2",color:"error.main",sx:{fontWeight:"bold"},children:"Denied"})]})]},H.id)})})]})}),C.jsxs(yo,{open:p,onClose:$,children:[C.jsx(vo,{children:b==="approve"?"Approve Course Request":"Deny Course Request"}),C.jsx(Ao,{children:C.jsx(Ss,{children:b==="approve"?C.jsxs(C.Fragment,{children:["Are you sure you want to approve this course request?",(x==null?void 0:x.syllabusImported)&&C.jsxs(Le,{sx:{mt:2,p:2,backgroundColor:"info.light",borderRadius:1},children:[C.jsx(ze,{variant:"body2",sx:{fontWeight:"bold"},children:"📚 Syllabus Import Detected"}),C.jsxs(ze,{variant:"body2",children:["This request includes ",((Q=(q=x==null?void 0:x.syllabusData)==null?void 0:q.generatedMaterials)==null?void 0:Q.length)||0," auto-generated materials that will be added to the course."]})]})]}):"Are you sure you want to deny this course request?"})}),C.jsxs(_o,{children:[C.jsx(xt,{onClick:$,color:"primary",children:"Cancel"}),C.jsx(xt,{onClick:b==="approve"?P:F,color:b==="approve"?"success":"error",variant:"contained",children:b==="approve"?"Approve":"Deny"})]})]}),C.jsx(is,{open:n,autoHideDuration:6e3,onClose:M,children:C.jsx(Sr,{onClose:M,severity:d,sx:{width:"100%"},children:a})})]})},cre=()=>{const t=er(),{userDetails:r}=Ti(),[n,o]=Y.useState([]),[a,l]=Y.useState(!0),[d,h]=Y.useState(!1),[p,g]=Y.useState(""),[b,v]=Y.useState("info"),[y,k]=Y.useState(!1),[x,_]=Y.useState(""),[D,E]=Y.useState(""),N=Vr();Y.useEffect(()=>{(async()=>{l(!0);try{const R=(await xo(Yn(t,"courses"))).docs.map(K=>{const j=K.data();return{id:K.id,title:j.title||"Untitled",number:j.number||"N/A",courseAdmin:j.courseAdmin||[]}});o(R)}catch(H){console.error("Error fetching courses: ",H)}finally{l(!1)}})()},[t]);const P=async Q=>{if(!r){$("User details are not available.","error");return}const H=n.find(R=>R.id===Q);if(H&&r)try{if(H.courseAdmin.includes(r.uid)){$("You are already an admin for this course.","warning");return}const R=yn(t,"courses",Q),K=[...H.courseAdmin,r.uid];await xr(R,{courseAdmin:K});const j=yn(t,"users",r.uid);await xr(j,{[`classes.${Q}`]:{number:H.number,title:H.title,isCourseAdmin:!0}}),o(n.map(ne=>ne.id===Q?{...ne,courseAdmin:K}:ne)),$("You have been successfully added as an admin to this course.","success")}catch(R){console.error("Error adding super-admin to course: ",R),$("Failed to add admin to course.","error")}},F=Q=>{E(Q),k(!0)},V=async()=>{if(r&&x===r.uid){const Q=n.find(H=>H.id===D);if(Q&&Q.courseAdmin.includes(r.uid))try{await Wg(yn(t,"courses",D));const H=await xo(Yn(t,"users")),R=$_(t);H.forEach(K=>{const j=yn(t,"users",K.id),de={...K.data().classes};delete de[D],R.update(j,{classes:de})}),await R.commit(),o(n.filter(K=>K.id!==D)),$("Course deleted successfully.","success")}catch(H){console.error("Error deleting course: ",H),$("Failed to delete course.","error")}finally{k(!1),_("")}else $("You are not authorized to delete this course.","warning"),k(!1)}else $("User ID does not match. Please try again.","error")},$=(Q,H)=>{g(Q),v(H),h(!0)},M=(Q,H)=>{H!=="clickaway"&&h(!1)},B=()=>{k(!1),_("")},q=()=>{N("/")};return C.jsxs(Le,{sx:{p:3},children:[C.jsx(Le,{sx:{display:"flex",alignItems:"center",mb:2},children:C.jsx(xt,{variant:"text",onClick:q,sx:{mr:2},children:"← Home Page"})}),C.jsx(ze,{variant:"h4",gutterBottom:!0,children:"Super Admin Course Management"}),a?C.jsx(ze,{children:"Loading courses..."}):C.jsx(fd,{component:Rn,children:C.jsxs(pd,{"aria-label":"courses table",children:[C.jsx(md,{children:C.jsxs(Co,{children:[C.jsx(It,{sx:{fontWeight:"bold"},children:"Course ID"}),C.jsx(It,{sx:{fontWeight:"bold"},children:"Course Number"}),C.jsx(It,{sx:{fontWeight:"bold"},children:"Course Title"}),C.jsx(It,{sx:{fontWeight:"bold"},children:"Instructors"}),C.jsx(It,{align:"right",sx:{fontWeight:"bold"},children:"Actions"})]})}),C.jsx(gd,{children:n.map(Q=>{const H=!!(r!=null&&r.uid)&&Q.courseAdmin.includes(r.uid);return C.jsxs(Co,{sx:{backgroundColor:H?"#e0f7fa":"transparent"},children:[C.jsx(It,{children:Q.id}),C.jsx(It,{children:Q.number}),C.jsx(It,{children:Q.title}),C.jsx(It,{children:Q.courseAdmin.length>0?Q.courseAdmin.join(", "):"No admins assigned"}),C.jsxs(It,{align:"right",children:[C.jsx(ia,{title:"Add yourself as an instructor",children:C.jsx("span",{children:C.jsx(or,{edge:"end","aria-label":"add",onClick:()=>P(Q.id),disabled:H,children:C.jsx(vP,{})})})}),C.jsx(ia,{title:H?"Delete this course":"You are not authorized to delete this course",children:C.jsx("span",{children:C.jsx(or,{edge:"end","aria-label":"delete",onClick:()=>F(Q.id),disabled:!H,children:C.jsx(hd,{})})})})]})]},Q.id)})})]})}),C.jsx(is,{open:d,autoHideDuration:6e3,onClose:M,children:C.jsx(Sr,{onClose:M,severity:b,sx:{width:"100%"},children:p})}),C.jsxs(yo,{open:y,onClose:B,children:[C.jsx(vo,{children:"Confirm Delete"}),C.jsxs(Ao,{children:[C.jsx(Ss,{children:"To confirm the deletion of this course, please enter your User ID:"}),C.jsx(Sn,{autoFocus:!0,margin:"dense",id:"userId",label:"User ID",type:"text",fullWidth:!0,variant:"outlined",value:x,onChange:Q=>_(Q.target.value)})]}),C.jsxs(_o,{children:[C.jsx(xt,{onClick:B,color:"primary",children:"Cancel"}),C.jsx(xt,{onClick:V,color:"primary",children:"Confirm"})]})]})]})},RL=({filePath:t,fileLabel:r})=>{const[n,o]=Y.useState(null),[a,l]=Y.useState(!0);return Y.useEffect(()=>{(async()=>{try{const h=Hg(),p=y1(h,t),g=await v1(p);o(g)}catch(h){console.error("Error fetching download URL:",h),alert("Failed to fetch file URL. Please check your permissions.")}finally{l(!1)}})()},[t]),a?C.jsx(qr,{size:20}):n?C.jsxs(Le,{sx:{display:"flex",alignItems:"center",gap:1},children:[C.jsx(Dg,{href:n,target:"_blank",rel:"noopener noreferrer",sx:{textDecoration:"none",color:"#1976d2","&:hover":{textDecoration:"underline"}},children:r}),C.jsx(or,{component:"a",href:n,target:"_blank",rel:"noopener noreferrer","aria-label":"Open in new tab",size:"small",children:C.jsx(CP,{})})]}):C.jsx(Le,{children:C.jsx(ze,{color:"error",children:"Failed to load file link"})})},ure=()=>{const{userDetails:t}=Ti(),[r,n]=Y.useState([]),[o,a]=Y.useState(!0);return Y.useEffect(()=>{(async()=>{if(!(t!=null&&t.uid))return;const d=er(),h=Yn(d,"chatbotRequests"),p=Dp(h,Gg("educatorId","==",t.uid));try{const b=(await xo(p)).docs.map(v=>({id:v.id,...v.data()}));n(b)}catch(g){console.error("Error fetching chatbot requests:",g)}finally{a(!1)}})()},[t==null?void 0:t.uid]),o?C.jsx(Le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:C.jsx(qr,{})}):r.length===0?C.jsx(ze,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):C.jsxs(Le,{children:[C.jsx(ze,{variant:"h6",sx:{mb:2},children:"Your Chatbot Requests"}),C.jsx(fd,{component:Rn,elevation:3,sx:{maxHeight:400},children:C.jsxs(pd,{stickyHeader:!0,children:[C.jsx(md,{children:C.jsxs(Co,{children:[C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"})]})}),C.jsx(gd,{children:r.map((l,d)=>C.jsxs(Co,{sx:{backgroundColor:d%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[C.jsx(It,{children:l.title}),C.jsx(It,{children:`${l.courseNumber} - ${l.courseTitle}`}),C.jsx(It,{children:l.materialTitle||"N/A"}),C.jsx(It,{children:new Date(l.timestamp).toLocaleString()}),C.jsx(It,{children:C.jsx(ze,{variant:"body2",sx:{color:l.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:l.status})}),C.jsx(It,{children:l.files.map((h,p)=>C.jsx(RL,{filePath:h,fileLabel:`File ${p+1}`},p))})]},l.id))})]})})]})},dre=()=>{const t=Vr();return C.jsxs(Le,{className:"profile-container",sx:{p:4},children:[C.jsx(xt,{variant:"text",onClick:()=>t("/"),className:"profile-button",children:"← Home Page"}),C.jsx(ze,{className:"webpage_title",sx:{mb:2},children:"Chatbot Management"}),C.jsx(ze,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Manage your chatbots or create new chatbot requests."}),C.jsx(xt,{variant:"contained",onClick:()=>t("/request-chatbot"),sx:{mt:2},className:"submit-button",children:"Request a New Chatbot"}),C.jsx(ure,{})]})},hre=({folderPath:t,onUploadComplete:r})=>{const[n,o]=Y.useState(!1),[a,l]=Y.useState([]),[d,h]=Y.useState(null),p=5*1024*1024,g=[".pdf",".ppt",".pptx",".doc",".docx",".txt"],b=async v=>{if(!v.target.files)return;const y=Array.from(v.target.files),k=Hg(),x=[];o(!0),h(null);try{for(const _ of y){const D=_.name.slice(_.name.lastIndexOf(".")).toLowerCase();if(!g.includes(D)){h(`File ${_.name} is not a supported format.`);continue}if(_.size>p){h(`File ${_.name} exceeds the 5 MB limit and cannot be uploaded.`);continue}const E=y1(k,`${t}/files/${_.name}`);await V_(E,_);const N=await v1(E);x.push(N)}l(_=>[..._,...y]),r(x)}catch(_){console.error("Error uploading files:",_),h("Failed to upload files. Please try again.")}finally{o(!1)}};return C.jsxs(Le,{children:[C.jsx("input",{type:"file",accept:".pdf,.ppt,.pptx,.doc,.docx,.txt",multiple:!0,onChange:b,style:{display:"none"},id:"file-upload"}),C.jsx("label",{htmlFor:"file-upload",children:C.jsx(xt,{variant:"contained",component:"span",disabled:n,startIcon:n?C.jsx(qr,{size:20}):null,children:n?"Uploading...":"Select and Upload Files"})}),d&&C.jsx(Sr,{severity:"error",sx:{mt:2},children:d}),C.jsx(Le,{sx:{marginTop:2},children:a.map((v,y)=>C.jsx(ze,{children:v.name},y))})]})},fre=Jg()(C1((t,r)=>({materials:[],selectedCourse:null,loading:!1,error:null,isEditing:!1,selectedMaterial:null,setMaterials:n=>t({materials:n}),addMaterial:n=>t(o=>({materials:[...o.materials,n]})),updateMaterial:(n,o)=>t(a=>({materials:a.materials.map(l=>l.id===n?{...l,...o}:l)})),deleteMaterial:n=>t(o=>({materials:o.materials.filter(a=>a.id!==n)})),setSelectedCourse:n=>t({selectedCourse:n}),setLoading:n=>t({loading:n}),setError:n=>t({error:n}),setIsEditing:n=>t({isEditing:n}),setSelectedMaterial:n=>t({selectedMaterial:n}),fetchMaterials:async n=>{t({loading:!0,error:null});try{const{db:o}=await Ki(async()=>{const{db:b}=await Promise.resolve().then(()=>op);return{db:b}},void 0),{collection:a,query:l,where:d,onSnapshot:h,orderBy:p}=await Ki(async()=>{const{collection:b,query:v,where:y,onSnapshot:k,orderBy:x}=await import("./firebase-DlMVyB9t.js").then(_=>_.A);return{collection:b,query:v,where:y,onSnapshot:k,orderBy:x}},[]),g=l(a(o,"materials"),d("course","==",n),p("timestamp","desc"));return new Promise(b=>{h(g,v=>{const y=v.docs.map(k=>({id:k.id,...k.data()}));t({materials:y,loading:!1}),b(void 0)})})}catch(o){t({error:o instanceof Error?o.message:"Failed to fetch materials",loading:!1})}},publishMaterial:async n=>{try{const{db:o}=await Ki(async()=>{const{db:d}=await Promise.resolve().then(()=>op);return{db:d}},void 0),{doc:a,updateDoc:l}=await Ki(async()=>{const{doc:d,updateDoc:h}=await import("./firebase-DlMVyB9t.js").then(p=>p.A);return{doc:d,updateDoc:h}},[]);await l(a(o,"materials",n),{published:!0}),r().updateMaterial(n,{published:!0})}catch{t({error:"Failed to publish material"})}},unpublishMaterial:async n=>{try{const{db:o}=await Ki(async()=>{const{db:d}=await Promise.resolve().then(()=>op);return{db:d}},void 0),{doc:a,updateDoc:l}=await Ki(async()=>{const{doc:d,updateDoc:h}=await import("./firebase-DlMVyB9t.js").then(p=>p.A);return{doc:d,updateDoc:h}},[]);await l(a(o,"materials",n),{published:!1}),r().updateMaterial(n,{published:!1})}catch{t({error:"Failed to unpublish material"})}}}))),pre=()=>{const{userDetails:t}=Ti(),r=Vr(),n=er(),[o,a]=Y.useState(""),[l,d]=Y.useState(""),[h,p]=Y.useState(""),[g,b]=Y.useState([]),[v,y]=Y.useState(!1),[k,x]=Y.useState(""),[_,D]=Y.useState("success"),{materials:E,loading:N,error:P,fetchMaterials:F}=fre();Y.useEffect(()=>{p(""),l&&F(l)},[l,F]);const V=q=>{b(Q=>[...Q,...q])},$=async()=>{var j;if(!o||!l||!h||g.length===0){x("Please fill all required fields and upload at least one file."),D("error"),y(!0);return}const q=(j=t==null?void 0:t.classes)==null?void 0:j[l];if(!q||!q.isCourseAdmin){x("You are not authorized to request a chatbot for this course."),D("error"),y(!0);return}const Q=(q==null?void 0:q.number)??"N/A",H=(q==null?void 0:q.title)??"Untitled Course",R=E.find(ne=>ne.id===h);if(!R){x("Selected material details could not be found."),D("error"),y(!0);return}const{title:K}=R;try{const ne=await oa(Yn(n,"chatbotRequests"),{educatorId:t==null?void 0:t.uid,courseId:l,courseNumber:Q,courseTitle:H,materialId:h,materialTitle:K,title:o,files:g,status:"pending",timestamp:new Date().toISOString()});await oa(Yn(n,"mail"),{to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"New Chatbot Request Submitted",html:`
            <p>A new chatbot request has been submitted:</p>
            <p><strong>Title:</strong> ${o}</p>
            <p><strong>Educator ID:</strong> ${t==null?void 0:t.uid}</p>
            <p><strong>Course:</strong> ${Q} - ${H}</p>
            <p><strong>Material:</strong> ${K}</p>
            <p><strong>Request ID:</strong> ${ne.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/super-admin-chatbot-requests">
            Click here to review the request.
            </a></p>
          `}}),x("Chatbot request submitted successfully!"),D("success"),y(!0),setTimeout(()=>r("/chatbot-management"),1500)}catch(ne){console.error("Error submitting chatbot request:",ne),x("Failed to submit the chatbot request. Please try again."),D("error"),y(!0)}},M=()=>{r("/chatbot-management")},B=()=>{y(!1)};return C.jsxs(Le,{className:"profile-container",sx:{p:4},children:[C.jsx(xt,{variant:"text",onClick:M,className:"profile-button",children:"← Chatbot Management"}),C.jsx(ze,{className:"webpage_title",sx:{mb:2},children:"Request to Create a Chatbot"}),C.jsx(ze,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Fill out the form below to request a chatbot. Please upload all related materials for the chatbot's knowledge base."}),C.jsx(Sn,{label:"Chatbot Title",value:o,onChange:q=>a(q.target.value),fullWidth:!0,margin:"normal",required:!0,className:"form-field"}),C.jsx(Sn,{label:"Course ID",value:l,onChange:q=>d(q.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,helperText:"Only courses where you are an admin are available for chatbot requests.",className:"form-field",children:Object.keys((t==null?void 0:t.classes)||{}).filter(q=>{var Q,H;return(H=(Q=t==null?void 0:t.classes)==null?void 0:Q[q])==null?void 0:H.isCourseAdmin}).map(q=>{var Q,H;return C.jsx(Ir,{value:q,children:((H=(Q=t==null?void 0:t.classes)==null?void 0:Q[q])==null?void 0:H.title)||"Untitled Course"},q)})}),C.jsx(Sn,{label:"Material",value:h,onChange:q=>p(q.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,disabled:!l||N,helperText:l?P||(N?"Loading materials...":E.length===0?"No materials available for this course.":""):"Please select a course first.",children:l?N?C.jsxs(Ir,{disabled:!0,children:[C.jsx(qr,{size:20,sx:{marginRight:2}}),"Loading..."]}):E.length===0?C.jsx(Ir,{disabled:!0,children:"No materials found"}):E.map(q=>C.jsx(Ir,{value:q.id,children:q.title},q.id)):C.jsx(Ir,{disabled:!0,children:"Please select a course first"})}),C.jsxs(Le,{sx:{mt:3},children:[C.jsx(ze,{variant:"body1",className:"profile-text",sx:{mb:2},children:"Upload your files below (PDF, PPT, DOC/DOCX, TXT formats only):"}),C.jsx(hre,{folderPath:`chatbotRequests/${t==null?void 0:t.uid}`,onUploadComplete:V})]}),C.jsx(xt,{variant:"contained",onClick:$,sx:{mt:4},className:"submit-button",children:"Submit Request"}),C.jsx(is,{open:v,autoHideDuration:6e3,onClose:B,children:C.jsx(Sr,{severity:_,onClose:B,children:k})})]})};function mre(t,...r){const n=new URL(`https://mui.com/production-error/?code=${t}`);return r.forEach(o=>n.searchParams.append("args[]",o)),`Minified MUI error #${t}; visit ${n} for the full message.`}function gre(t,r){return U_(t,r)}function bre(t,r){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=r(t.__emotion_styles))}const g6=[];function Th(t){return g6[0]=t,xP(g6)}function ph(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function FL(t){if(Y.isValidElement(t)||Rk.isValidElementType(t)||!ph(t))return t;const r={};return Object.keys(t).forEach(n=>{r[n]=FL(t[n])}),r}function i1(t,r,n={clone:!0}){const o=n.clone?{...t}:t;return ph(t)&&ph(r)&&Object.keys(r).forEach(a=>{Y.isValidElement(r[a])||Rk.isValidElementType(r[a])?o[a]=r[a]:ph(r[a])&&Object.prototype.hasOwnProperty.call(t,a)&&ph(t[a])?o[a]=i1(t[a],r[a],n):n.clone?o[a]=ph(r[a])?FL(r[a]):r[a]:o[a]=r[a]}),o}const kre=t=>{const r=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return r.sort((n,o)=>n.val-o.val),r.reduce((n,o)=>({...n,[o.key]:o.val}),{})};function wre(t){const{values:r={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5,...a}=t,l=kre(r),d=Object.keys(l);function h(y){return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n})`}function p(y){return`@media (max-width:${(typeof r[y]=="number"?r[y]:y)-o/100}${n})`}function g(y,k){const x=d.indexOf(k);return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n}) and (max-width:${(x!==-1&&typeof r[d[x]]=="number"?r[d[x]]:k)-o/100}${n})`}function b(y){return d.indexOf(y)+1<d.length?g(y,d[d.indexOf(y)+1]):h(y)}function v(y){const k=d.indexOf(y);return k===0?h(d[1]):k===d.length-1?p(d[k]):g(y,d[d.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:d,values:l,up:h,down:p,between:g,only:b,not:v,unit:n,...a}}function b6(t,r){if(!t.containerQueries)return r;const n=Object.keys(r).filter(o=>o.startsWith("@container")).sort((o,a)=>{var d,h;const l=/min-width:\s*([0-9.]+)/;return+(((d=o.match(l))==null?void 0:d[1])||0)-+(((h=a.match(l))==null?void 0:h[1])||0)});return n.length?n.reduce((o,a)=>{const l=r[a];return delete o[a],o[a]=l,o},{...r}):r}function yre(t,r){return r==="@"||r.startsWith("@")&&(t.some(n=>r.startsWith(`@${n}`))||!!r.match(/^@\d/))}function vre(t,r){const n=r.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,o,a]=n,l=Number.isNaN(+o)?o||0:+o;return t.containerQueries(a).up(l)}function Are(t){const r=(l,d)=>l.replace("@media",d?`@container ${d}`:"@container");function n(l,d){l.up=(...h)=>r(t.breakpoints.up(...h),d),l.down=(...h)=>r(t.breakpoints.down(...h),d),l.between=(...h)=>r(t.breakpoints.between(...h),d),l.only=(...h)=>r(t.breakpoints.only(...h),d),l.not=(...h)=>{const p=r(t.breakpoints.not(...h),d);return p.includes("not all and")?p.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):p}}const o={},a=l=>(n(o,l),o);return n(a),{...t,containerQueries:a}}const _re={borderRadius:4};function bg(t,r){return r?i1(t,r,{clone:!1}):t}const j1={xs:0,sm:600,md:900,lg:1200,xl:1536},k6={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${j1[t]}px)`},Cre={containerQueries:t=>({up:r=>{let n=typeof r=="number"?r:j1[r]||r;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function nu(t,r,n){const o=t.theme||{};if(Array.isArray(r)){const l=o.breakpoints||k6;return r.reduce((d,h,p)=>(d[l.up(l.keys[p])]=n(r[p]),d),{})}if(typeof r=="object"){const l=o.breakpoints||k6;return Object.keys(r).reduce((d,h)=>{if(yre(l.keys,h)){const p=vre(o.containerQueries?o:Cre,h);p&&(d[p]=n(r[h],h))}else if(Object.keys(l.values||j1).includes(h)){const p=l.up(h);d[p]=n(r[h],h)}else{const p=h;d[p]=r[p]}return d},{})}return n(r)}function xre(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((o,a)=>{const l=t.up(a);return o[l]={},o},{}))||{}}function w6(t,r){return t.reduce((n,o)=>{const a=n[o];return(!a||Object.keys(a).length===0)&&delete n[o],n},r)}function zL(t){if(typeof t!="string")throw new Error(mre(7));return t.charAt(0).toUpperCase()+t.slice(1)}function B1(t,r,n=!0){if(!r||typeof r!="string")return null;if(t&&t.vars&&n){const o=`vars.${r}`.split(".").reduce((a,l)=>a&&a[l]?a[l]:null,t);if(o!=null)return o}return r.split(".").reduce((o,a)=>o&&o[a]!=null?o[a]:null,t)}function o1(t,r,n,o=n){let a;return typeof t=="function"?a=t(n):Array.isArray(t)?a=t[n]||o:a=B1(t,n)||o,r&&(a=r(a,o,t)),a}function Ni(t){const{prop:r,cssProperty:n=t.prop,themeKey:o,transform:a}=t,l=d=>{if(d[r]==null)return null;const h=d[r],p=d.theme,g=B1(p,o)||{};return nu(d,h,v=>{let y=o1(g,a,v);return v===y&&typeof v=="string"&&(y=o1(g,a,`${r}${v==="default"?"":zL(v)}`,v)),n===!1?y:{[n]:y}})};return l.propTypes={},l.filterProps=[r],l}function Sre(t){const r={};return n=>(r[n]===void 0&&(r[n]=t(n)),r[n])}const Ere={m:"margin",p:"padding"},Dre={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},y6={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Ire=Sre(t=>{if(t.length>2)if(y6[t])t=y6[t];else return[t];const[r,n]=t.split(""),o=Ere[r],a=Dre[n]||"";return Array.isArray(a)?a.map(l=>o+l):[o+a]}),gC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],bC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...gC,...bC];function rb(t,r,n,o){const a=B1(t,r,!0)??n;return typeof a=="number"||typeof a=="string"?l=>typeof l=="string"?l:typeof a=="string"?a.startsWith("var(")&&l===0?0:a.startsWith("var(")&&l===1?a:`calc(${l} * ${a})`:a*l:Array.isArray(a)?l=>{if(typeof l=="string")return l;const d=Math.abs(l),h=a[d];return l>=0?h:typeof h=="number"?-h:typeof h=="string"&&h.startsWith("var(")?`calc(-1 * ${h})`:`-${h}`}:typeof a=="function"?a:()=>{}}function UL(t){return rb(t,"spacing",8)}function ib(t,r){return typeof r=="string"||r==null?r:t(r)}function Tre(t,r){return n=>t.reduce((o,a)=>(o[a]=ib(r,n),o),{})}function Nre(t,r,n,o){if(!r.includes(n))return null;const a=Ire(n),l=Tre(a,o),d=t[n];return nu(t,d,l)}function qL(t,r){const n=UL(t.theme);return Object.keys(t).map(o=>Nre(t,r,o,n)).reduce(bg,{})}function ci(t){return qL(t,gC)}ci.propTypes={};ci.filterProps=gC;function ui(t){return qL(t,bC)}ui.propTypes={};ui.filterProps=bC;function Mre(t=8,r=UL({spacing:t})){if(t.mui)return t;const n=(...o)=>(o.length===0?[1]:o).map(l=>{const d=r(l);return typeof d=="number"?`${d}px`:d}).join(" ");return n.mui=!0,n}function R1(...t){const r=t.reduce((o,a)=>(a.filterProps.forEach(l=>{o[l]=a}),o),{}),n=o=>Object.keys(o).reduce((a,l)=>r[l]?bg(a,r[l](o)):a,{});return n.propTypes={},n.filterProps=t.reduce((o,a)=>o.concat(a.filterProps),[]),n}function La(t){return typeof t!="number"?t:`${t}px solid`}function za(t,r){return Ni({prop:t,themeKey:"borders",transform:r})}const Pre=za("border",La),Ore=za("borderTop",La),Lre=za("borderRight",La),jre=za("borderBottom",La),Bre=za("borderLeft",La),Rre=za("borderColor"),Fre=za("borderTopColor"),zre=za("borderRightColor"),Ure=za("borderBottomColor"),qre=za("borderLeftColor"),Vre=za("outline",La),$re=za("outlineColor"),F1=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const r=rb(t.theme,"shape.borderRadius",4),n=o=>({borderRadius:ib(r,o)});return nu(t,t.borderRadius,n)}return null};F1.propTypes={};F1.filterProps=["borderRadius"];R1(Pre,Ore,Lre,jre,Bre,Rre,Fre,zre,Ure,qre,F1,Vre,$re);const z1=t=>{if(t.gap!==void 0&&t.gap!==null){const r=rb(t.theme,"spacing",8),n=o=>({gap:ib(r,o)});return nu(t,t.gap,n)}return null};z1.propTypes={};z1.filterProps=["gap"];const U1=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const r=rb(t.theme,"spacing",8),n=o=>({columnGap:ib(r,o)});return nu(t,t.columnGap,n)}return null};U1.propTypes={};U1.filterProps=["columnGap"];const q1=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const r=rb(t.theme,"spacing",8),n=o=>({rowGap:ib(r,o)});return nu(t,t.rowGap,n)}return null};q1.propTypes={};q1.filterProps=["rowGap"];const Hre=Ni({prop:"gridColumn"}),Wre=Ni({prop:"gridRow"}),Gre=Ni({prop:"gridAutoFlow"}),Yre=Ni({prop:"gridAutoColumns"}),Kre=Ni({prop:"gridAutoRows"}),Qre=Ni({prop:"gridTemplateColumns"}),Jre=Ni({prop:"gridTemplateRows"}),Zre=Ni({prop:"gridTemplateAreas"}),Xre=Ni({prop:"gridArea"});R1(z1,U1,q1,Hre,Wre,Gre,Yre,Kre,Qre,Jre,Zre,Xre);function hp(t,r){return r==="grey"?r:t}const eie=Ni({prop:"color",themeKey:"palette",transform:hp}),tie=Ni({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:hp}),nie=Ni({prop:"backgroundColor",themeKey:"palette",transform:hp});R1(eie,tie,nie);function Ws(t){return t<=1&&t!==0?`${t*100}%`:t}const rie=Ni({prop:"width",transform:Ws}),kC=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const r=n=>{var a,l,d,h,p;const o=((d=(l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.values)==null?void 0:d[n])||j1[n];return o?((p=(h=t.theme)==null?void 0:h.breakpoints)==null?void 0:p.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Ws(n)}};return nu(t,t.maxWidth,r)}return null};kC.filterProps=["maxWidth"];const iie=Ni({prop:"minWidth",transform:Ws}),oie=Ni({prop:"height",transform:Ws}),sie=Ni({prop:"maxHeight",transform:Ws}),aie=Ni({prop:"minHeight",transform:Ws});Ni({prop:"size",cssProperty:"width",transform:Ws});Ni({prop:"size",cssProperty:"height",transform:Ws});const lie=Ni({prop:"boxSizing"});R1(rie,kC,iie,oie,sie,aie,lie);const VL={border:{themeKey:"borders",transform:La},borderTop:{themeKey:"borders",transform:La},borderRight:{themeKey:"borders",transform:La},borderBottom:{themeKey:"borders",transform:La},borderLeft:{themeKey:"borders",transform:La},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:La},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:F1},color:{themeKey:"palette",transform:hp},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:hp},backgroundColor:{themeKey:"palette",transform:hp},p:{style:ui},pt:{style:ui},pr:{style:ui},pb:{style:ui},pl:{style:ui},px:{style:ui},py:{style:ui},padding:{style:ui},paddingTop:{style:ui},paddingRight:{style:ui},paddingBottom:{style:ui},paddingLeft:{style:ui},paddingX:{style:ui},paddingY:{style:ui},paddingInline:{style:ui},paddingInlineStart:{style:ui},paddingInlineEnd:{style:ui},paddingBlock:{style:ui},paddingBlockStart:{style:ui},paddingBlockEnd:{style:ui},m:{style:ci},mt:{style:ci},mr:{style:ci},mb:{style:ci},ml:{style:ci},mx:{style:ci},my:{style:ci},margin:{style:ci},marginTop:{style:ci},marginRight:{style:ci},marginBottom:{style:ci},marginLeft:{style:ci},marginX:{style:ci},marginY:{style:ci},marginInline:{style:ci},marginInlineStart:{style:ci},marginInlineEnd:{style:ci},marginBlock:{style:ci},marginBlockStart:{style:ci},marginBlockEnd:{style:ci},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:z1},rowGap:{style:q1},columnGap:{style:U1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ws},maxWidth:{style:kC},minWidth:{transform:Ws},height:{transform:Ws},maxHeight:{transform:Ws},minHeight:{transform:Ws},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function cie(...t){const r=t.reduce((o,a)=>o.concat(Object.keys(a)),[]),n=new Set(r);return t.every(o=>n.size===Object.keys(o).length)}function uie(t,r){return typeof t=="function"?t(r):t}function die(){function t(n,o,a,l){const d={[n]:o,theme:a},h=l[n];if(!h)return{[n]:o};const{cssProperty:p=n,themeKey:g,transform:b,style:v}=h;if(o==null)return null;if(g==="typography"&&o==="inherit")return{[n]:o};const y=B1(a,g)||{};return v?v(d):nu(d,o,x=>{let _=o1(y,b,x);return x===_&&typeof x=="string"&&(_=o1(y,b,`${n}${x==="default"?"":zL(x)}`,x)),p===!1?_:{[p]:_}})}function r(n){const{sx:o,theme:a={},nested:l}=n||{};if(!o)return null;const d=a.unstable_sxConfig??VL;function h(p){let g=p;if(typeof p=="function")g=p(a);else if(typeof p!="object")return p;if(!g)return null;const b=xre(a.breakpoints),v=Object.keys(b);let y=b;return Object.keys(g).forEach(k=>{const x=uie(g[k],a);if(x!=null)if(typeof x=="object")if(d[k])y=bg(y,t(k,x,a,d));else{const _=nu({theme:a},x,D=>({[k]:D}));cie(_,x)?y[k]=r({sx:x,theme:a,nested:!0}):y=bg(y,_)}else y=bg(y,t(k,x,a,d))}),!l&&a.modularCssLayers?{"@layer sx":b6(a,w6(v,y))}:b6(a,w6(v,y))}return Array.isArray(o)?o.map(h):h(o)}return r}const s1=die();s1.filterProps=["sx"];function hie(t,r){var o;const n=this;if(n.vars){if(!((o=n.colorSchemes)!=null&&o[t])||typeof n.getColorSchemeSelector!="function")return{};let a=n.getColorSchemeSelector(t);return a==="&"?r:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:r})}return n.palette.mode===t?r:{}}function fie(t={},...r){const{breakpoints:n={},palette:o={},spacing:a,shape:l={},...d}=t,h=wre(n),p=Mre(a);let g=i1({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...o},spacing:p,shape:{..._re,...l}},d);return g=Are(g),g.applyStyles=hie,g=r.reduce((b,v)=>i1(b,v),g),g.unstable_sxConfig={...VL,...d==null?void 0:d.unstable_sxConfig},g.unstable_sx=function(v){return s1({sx:v,theme:this})},g}function pie(t){const{variants:r,...n}=t,o={variants:r,style:Th(n),isProcessed:!0};return o.style===n||r&&r.forEach(a=>{typeof a.style!="function"&&(a.style=Th(a.style))}),o}const mie=fie();function Wv(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function wh(t,r){return r&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${r}{${String(t.styles)}}`),t}function gie(t){return t?(r,n)=>n[t]:null}function bie(t,r,n){t.theme=yie(t.theme)?n:t.theme[r]||t.theme}function Ck(t,r,n){const o=typeof r=="function"?r(t):r;if(Array.isArray(o))return o.flatMap(a=>Ck(t,a,n));if(Array.isArray(o==null?void 0:o.variants)){let a;if(o.isProcessed)a=n?wh(o.style,n):o.style;else{const{variants:l,...d}=o;a=n?wh(Th(d),n):d}return $L(t,o.variants,[a],n)}return o!=null&&o.isProcessed?n?wh(Th(o.style),n):o.style:n?wh(Th(o),n):o}function $L(t,r,n=[],o=void 0){var l;let a;e:for(let d=0;d<r.length;d+=1){const h=r[d];if(typeof h.props=="function"){if(a??(a={...t,...t.ownerState,ownerState:t.ownerState}),!h.props(a))continue}else for(const p in h.props)if(t[p]!==h.props[p]&&((l=t.ownerState)==null?void 0:l[p])!==h.props[p])continue e;typeof h.style=="function"?(a??(a={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o?wh(Th(h.style(a)),o):h.style(a))):n.push(o?wh(Th(h.style),o):h.style)}return n}function kie(t={}){const{themeId:r,defaultTheme:n=mie,rootShouldForwardProp:o=Wv,slotShouldForwardProp:a=Wv}=t;function l(h){bie(h,r,n)}return(h,p={})=>{bre(h,$=>$.filter(M=>M!==s1));const{name:g,slot:b,skipVariantsResolver:v,skipSx:y,overridesResolver:k=gie(Aie(b)),...x}=p,_=g&&g.startsWith("Mui")||b?"components":"custom",D=v!==void 0?v:b&&b!=="Root"&&b!=="root"||!1,E=y||!1;let N=Wv;b==="Root"||b==="root"?N=o:b?N=a:vie(h)&&(N=void 0);const P=gre(h,{shouldForwardProp:N,label:wie(),...x}),F=$=>{if($.__emotion_real===$)return $;if(typeof $=="function")return function(B){return Ck(B,$,B.theme.modularCssLayers?_:void 0)};if(ph($)){const M=pie($);return function(q){return M.variants?Ck(q,M,q.theme.modularCssLayers?_:void 0):q.theme.modularCssLayers?wh(M.style,_):M.style}}return $},V=(...$)=>{const M=[],B=$.map(F),q=[];if(M.push(l),g&&k&&q.push(function(K){var se,oe;const ne=(oe=(se=K.theme.components)==null?void 0:se[g])==null?void 0:oe.styleOverrides;if(!ne)return null;const de={};for(const ye in ne)de[ye]=Ck(K,ne[ye],K.theme.modularCssLayers?"theme":void 0);return k(K,de)}),g&&!D&&q.push(function(K){var de,se;const j=K.theme,ne=(se=(de=j==null?void 0:j.components)==null?void 0:de[g])==null?void 0:se.variants;return ne?$L(K,ne,[],K.theme.modularCssLayers?"theme":void 0):null}),E||q.push(s1),Array.isArray(B[0])){const R=B.shift(),K=new Array(M.length).fill(""),j=new Array(q.length).fill("");let ne;ne=[...K,...R,...j],ne.raw=[...K,...R.raw,...j],M.unshift(ne)}const Q=[...M,...B,...q],H=P(...Q);return h.muiName&&(H.muiName=h.muiName),H};return P.withConfig&&(V.withConfig=P.withConfig),V}}function wie(t,r){return void 0}function yie(t){for(const r in t)return!1;return!0}function vie(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Aie(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const Np=kie(),Qm=Np(It)({fontWeight:"bold",color:"#fff",backgroundColor:"#123372",fontSize:"1rem",textAlign:"center"}),_ie=Np(Co)({"& td, & th":{padding:"12px 16px"},"&:nth-of-type(odd)":{backgroundColor:"#f9f9f9"},"&:hover":{backgroundColor:"#e0e0e0"}}),v6=Np(or)({width:40,height:40,padding:0,display:"flex",alignItems:"center",justifyContent:"center",textTransform:"capitalize",borderRadius:"8px",color:"#123372"}),Cie=({conversations:t,onViewHistory:r,onDeleteConversation:n,loadingMap:o})=>t.length===0?C.jsx(ze,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No conversations available to display."}):C.jsx(Le,{sx:{mt:3},children:C.jsx(fd,{component:Rn,sx:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.1)",borderRadius:"10px"},children:C.jsxs(pd,{children:[C.jsx(md,{children:C.jsxs(Co,{children:[C.jsx(Qm,{children:"Conversation ID"}),C.jsx(Qm,{children:"User ID"}),C.jsx(Qm,{children:"Chatbot ID"}),C.jsx(Qm,{children:"Timestamp (Started At)"}),C.jsx(Qm,{children:"Actions"})]})}),C.jsx(gd,{children:t.length>0?t.map(a=>C.jsxs(_ie,{children:[C.jsx(It,{align:"center",children:a.id}),C.jsx(It,{align:"center",children:a.userId}),C.jsx(It,{align:"center",children:a.chatbotId}),C.jsx(It,{align:"center",children:a.startedAt?new Date(a.startedAt).toLocaleString():"Invalid date"}),C.jsx(It,{align:"center",children:C.jsxs(Le,{sx:{display:"flex",justifyContent:"center",gap:1},children:[C.jsx(ia,{title:"View Data",children:C.jsx(v6,{onClick:()=>r(a.chatbotId,a.id,a.userId,a.startedAt),color:"primary",disabled:o[a.id],children:o[a.id]?C.jsx(qr,{size:20,color:"inherit"}):C.jsx(AP,{})})}),C.jsx(ia,{title:"Delete Conversation",children:C.jsx(v6,{onClick:()=>n(a.id),color:"error",children:C.jsx(hd,{})})})]})})]},a.id)):C.jsx(Co,{children:C.jsx(It,{colSpan:5,align:"center",children:"No conversations available for the selected filters."})})})]})})});function HL(t,r){return function(){return t.apply(r,arguments)}}const{toString:xie}=Object.prototype,{getPrototypeOf:wC}=Object,{iterator:V1,toStringTag:WL}=Symbol,$1=(t=>r=>{const n=xie.call(r);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),gl=t=>(t=t.toLowerCase(),r=>$1(r)===t),H1=t=>r=>typeof r===t,{isArray:Mp}=Array,Bg=H1("undefined");function Sie(t){return t!==null&&!Bg(t)&&t.constructor!==null&&!Bg(t.constructor)&&ws(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const GL=gl("ArrayBuffer");function Eie(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&GL(t.buffer),r}const Die=H1("string"),ws=H1("function"),YL=H1("number"),W1=t=>t!==null&&typeof t=="object",Iie=t=>t===!0||t===!1,xk=t=>{if($1(t)!=="object")return!1;const r=wC(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(WL in t)&&!(V1 in t)},Tie=gl("Date"),Nie=gl("File"),Mie=gl("Blob"),Pie=gl("FileList"),Oie=t=>W1(t)&&ws(t.pipe),Lie=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||ws(t.append)&&((r=$1(t))==="formdata"||r==="object"&&ws(t.toString)&&t.toString()==="[object FormData]"))},jie=gl("URLSearchParams"),[Bie,Rie,Fie,zie]=["ReadableStream","Request","Response","Headers"].map(gl),Uie=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ob(t,r,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let o,a;if(typeof t!="object"&&(t=[t]),Mp(t))for(o=0,a=t.length;o<a;o++)r.call(null,t[o],o,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),d=l.length;let h;for(o=0;o<d;o++)h=l[o],r.call(null,t[h],h,t)}}function KL(t,r){r=r.toLowerCase();const n=Object.keys(t);let o=n.length,a;for(;o-- >0;)if(a=n[o],r===a.toLowerCase())return a;return null}const yh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,QL=t=>!Bg(t)&&t!==yh;function r_(){const{caseless:t}=QL(this)&&this||{},r={},n=(o,a)=>{const l=t&&KL(r,a)||a;xk(r[l])&&xk(o)?r[l]=r_(r[l],o):xk(o)?r[l]=r_({},o):Mp(o)?r[l]=o.slice():r[l]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&ob(arguments[o],n);return r}const qie=(t,r,n,{allOwnKeys:o}={})=>(ob(r,(a,l)=>{n&&ws(a)?t[l]=HL(a,n):t[l]=a},{allOwnKeys:o}),t),Vie=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$ie=(t,r,n,o)=>{t.prototype=Object.create(r.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),n&&Object.assign(t.prototype,n)},Hie=(t,r,n,o)=>{let a,l,d;const h={};if(r=r||{},t==null)return r;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)d=a[l],(!o||o(d,t,r))&&!h[d]&&(r[d]=t[d],h[d]=!0);t=n!==!1&&wC(t)}while(t&&(!n||n(t,r))&&t!==Object.prototype);return r},Wie=(t,r,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=r.length;const o=t.indexOf(r,n);return o!==-1&&o===n},Gie=t=>{if(!t)return null;if(Mp(t))return t;let r=t.length;if(!YL(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=t[r];return n},Yie=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&wC(Uint8Array)),Kie=(t,r)=>{const o=(t&&t[V1]).call(t);let a;for(;(a=o.next())&&!a.done;){const l=a.value;r.call(t,l[0],l[1])}},Qie=(t,r)=>{let n;const o=[];for(;(n=t.exec(r))!==null;)o.push(n);return o},Jie=gl("HTMLFormElement"),Zie=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,a){return o.toUpperCase()+a}),A6=(({hasOwnProperty:t})=>(r,n)=>t.call(r,n))(Object.prototype),Xie=gl("RegExp"),JL=(t,r)=>{const n=Object.getOwnPropertyDescriptors(t),o={};ob(n,(a,l)=>{let d;(d=r(a,l,t))!==!1&&(o[l]=d||a)}),Object.defineProperties(t,o)},eoe=t=>{JL(t,(r,n)=>{if(ws(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=t[n];if(ws(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toe=(t,r)=>{const n={},o=a=>{a.forEach(l=>{n[l]=!0})};return Mp(t)?o(t):o(String(t).split(r)),n},noe=()=>{},roe=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function ioe(t){return!!(t&&ws(t.append)&&t[WL]==="FormData"&&t[V1])}const ooe=t=>{const r=new Array(10),n=(o,a)=>{if(W1(o)){if(r.indexOf(o)>=0)return;if(!("toJSON"in o)){r[a]=o;const l=Mp(o)?[]:{};return ob(o,(d,h)=>{const p=n(d,a+1);!Bg(p)&&(l[h]=p)}),r[a]=void 0,l}}return o};return n(t,0)},soe=gl("AsyncFunction"),aoe=t=>t&&(W1(t)||ws(t))&&ws(t.then)&&ws(t.catch),ZL=((t,r)=>t?setImmediate:r?((n,o)=>(yh.addEventListener("message",({source:a,data:l})=>{a===yh&&l===n&&o.length&&o.shift()()},!1),a=>{o.push(a),yh.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ws(yh.postMessage)),loe=typeof queueMicrotask<"u"?queueMicrotask.bind(yh):typeof process<"u"&&process.nextTick||ZL,coe=t=>t!=null&&ws(t[V1]),lt={isArray:Mp,isArrayBuffer:GL,isBuffer:Sie,isFormData:Lie,isArrayBufferView:Eie,isString:Die,isNumber:YL,isBoolean:Iie,isObject:W1,isPlainObject:xk,isReadableStream:Bie,isRequest:Rie,isResponse:Fie,isHeaders:zie,isUndefined:Bg,isDate:Tie,isFile:Nie,isBlob:Mie,isRegExp:Xie,isFunction:ws,isStream:Oie,isURLSearchParams:jie,isTypedArray:Yie,isFileList:Pie,forEach:ob,merge:r_,extend:qie,trim:Uie,stripBOM:Vie,inherits:$ie,toFlatObject:Hie,kindOf:$1,kindOfTest:gl,endsWith:Wie,toArray:Gie,forEachEntry:Kie,matchAll:Qie,isHTMLForm:Jie,hasOwnProperty:A6,hasOwnProp:A6,reduceDescriptors:JL,freezeMethods:eoe,toObjectSet:toe,toCamelCase:Zie,noop:noe,toFiniteNumber:roe,findKey:KL,global:yh,isContextDefined:QL,isSpecCompliantForm:ioe,toJSONObject:ooe,isAsyncFn:soe,isThenable:aoe,setImmediate:ZL,asap:loe,isIterable:coe};function An(t,r,n,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}lt.inherits(An,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:lt.toJSONObject(this.config),code:this.code,status:this.status}}});const XL=An.prototype,e8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{e8[t]={value:t}});Object.defineProperties(An,e8);Object.defineProperty(XL,"isAxiosError",{value:!0});An.from=(t,r,n,o,a,l)=>{const d=Object.create(XL);return lt.toFlatObject(t,d,function(p){return p!==Error.prototype},h=>h!=="isAxiosError"),An.call(d,t.message,r,n,o,a),d.cause=t,d.name=t.name,l&&Object.assign(d,l),d};const uoe=null;function i_(t){return lt.isPlainObject(t)||lt.isArray(t)}function t8(t){return lt.endsWith(t,"[]")?t.slice(0,-2):t}function _6(t,r,n){return t?t.concat(r).map(function(a,l){return a=t8(a),!n&&l?"["+a+"]":a}).join(n?".":""):r}function doe(t){return lt.isArray(t)&&!t.some(i_)}const hoe=lt.toFlatObject(lt,{},null,function(r){return/^is[A-Z]/.test(r)});function G1(t,r,n){if(!lt.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,n=lt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,D){return!lt.isUndefined(D[_])});const o=n.metaTokens,a=n.visitor||b,l=n.dots,d=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&lt.isSpecCompliantForm(r);if(!lt.isFunction(a))throw new TypeError("visitor must be a function");function g(x){if(x===null)return"";if(lt.isDate(x))return x.toISOString();if(lt.isBoolean(x))return x.toString();if(!p&&lt.isBlob(x))throw new An("Blob is not supported. Use a Buffer instead.");return lt.isArrayBuffer(x)||lt.isTypedArray(x)?p&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function b(x,_,D){let E=x;if(x&&!D&&typeof x=="object"){if(lt.endsWith(_,"{}"))_=o?_:_.slice(0,-2),x=JSON.stringify(x);else if(lt.isArray(x)&&doe(x)||(lt.isFileList(x)||lt.endsWith(_,"[]"))&&(E=lt.toArray(x)))return _=t8(_),E.forEach(function(P,F){!(lt.isUndefined(P)||P===null)&&r.append(d===!0?_6([_],F,l):d===null?_:_+"[]",g(P))}),!1}return i_(x)?!0:(r.append(_6(D,_,l),g(x)),!1)}const v=[],y=Object.assign(hoe,{defaultVisitor:b,convertValue:g,isVisitable:i_});function k(x,_){if(!lt.isUndefined(x)){if(v.indexOf(x)!==-1)throw Error("Circular reference detected in "+_.join("."));v.push(x),lt.forEach(x,function(E,N){(!(lt.isUndefined(E)||E===null)&&a.call(r,E,lt.isString(N)?N.trim():N,_,y))===!0&&k(E,_?_.concat(N):[N])}),v.pop()}}if(!lt.isObject(t))throw new TypeError("data must be an object");return k(t),r}function C6(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return r[o]})}function yC(t,r){this._pairs=[],t&&G1(t,this,r)}const n8=yC.prototype;n8.append=function(r,n){this._pairs.push([r,n])};n8.toString=function(r){const n=r?function(o){return r.call(this,o,C6)}:C6;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function foe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function r8(t,r,n){if(!r)return t;const o=n&&n.encode||foe;lt.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(r,n):l=lt.isURLSearchParams(r)?r.toString():new yC(r,n).toString(o),l){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class x6{constructor(){this.handlers=[]}use(r,n,o){return this.handlers.push({fulfilled:r,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){lt.forEach(this.handlers,function(o){o!==null&&r(o)})}}const i8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},poe=typeof URLSearchParams<"u"?URLSearchParams:yC,moe=typeof FormData<"u"?FormData:null,goe=typeof Blob<"u"?Blob:null,boe={isBrowser:!0,classes:{URLSearchParams:poe,FormData:moe,Blob:goe},protocols:["http","https","file","blob","url","data"]},vC=typeof window<"u"&&typeof document<"u",o_=typeof navigator=="object"&&navigator||void 0,koe=vC&&(!o_||["ReactNative","NativeScript","NS"].indexOf(o_.product)<0),woe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yoe=vC&&window.location.href||"http://localhost",voe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vC,hasStandardBrowserEnv:koe,hasStandardBrowserWebWorkerEnv:woe,navigator:o_,origin:yoe},Symbol.toStringTag,{value:"Module"})),Uo={...voe,...boe};function Aoe(t,r){return G1(t,new Uo.classes.URLSearchParams,Object.assign({visitor:function(n,o,a,l){return Uo.isNode&&lt.isBuffer(n)?(this.append(o,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},r))}function _oe(t){return lt.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Coe(t){const r={},n=Object.keys(t);let o;const a=n.length;let l;for(o=0;o<a;o++)l=n[o],r[l]=t[l];return r}function o8(t){function r(n,o,a,l){let d=n[l++];if(d==="__proto__")return!0;const h=Number.isFinite(+d),p=l>=n.length;return d=!d&&lt.isArray(a)?a.length:d,p?(lt.hasOwnProp(a,d)?a[d]=[a[d],o]:a[d]=o,!h):((!a[d]||!lt.isObject(a[d]))&&(a[d]=[]),r(n,o,a[d],l)&&lt.isArray(a[d])&&(a[d]=Coe(a[d])),!h)}if(lt.isFormData(t)&&lt.isFunction(t.entries)){const n={};return lt.forEachEntry(t,(o,a)=>{r(_oe(o),a,n,0)}),n}return null}function xoe(t,r,n){if(lt.isString(t))try{return(r||JSON.parse)(t),lt.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(t)}const sb={transitional:i8,adapter:["xhr","http","fetch"],transformRequest:[function(r,n){const o=n.getContentType()||"",a=o.indexOf("application/json")>-1,l=lt.isObject(r);if(l&&lt.isHTMLForm(r)&&(r=new FormData(r)),lt.isFormData(r))return a?JSON.stringify(o8(r)):r;if(lt.isArrayBuffer(r)||lt.isBuffer(r)||lt.isStream(r)||lt.isFile(r)||lt.isBlob(r)||lt.isReadableStream(r))return r;if(lt.isArrayBufferView(r))return r.buffer;if(lt.isURLSearchParams(r))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let h;if(l){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Aoe(r,this.formSerializer).toString();if((h=lt.isFileList(r))||o.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return G1(h?{"files[]":r}:r,p&&new p,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),xoe(r)):r}],transformResponse:[function(r){const n=this.transitional||sb.transitional,o=n&&n.forcedJSONParsing,a=this.responseType==="json";if(lt.isResponse(r)||lt.isReadableStream(r))return r;if(r&&lt.isString(r)&&(o&&!this.responseType||a)){const d=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(r)}catch(h){if(d)throw h.name==="SyntaxError"?An.from(h,An.ERR_BAD_RESPONSE,this,null,this.response):h}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Uo.classes.FormData,Blob:Uo.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};lt.forEach(["delete","get","head","post","put","patch"],t=>{sb.headers[t]={}});const Soe=lt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Eoe=t=>{const r={};let n,o,a;return t&&t.split(`
`).forEach(function(d){a=d.indexOf(":"),n=d.substring(0,a).trim().toLowerCase(),o=d.substring(a+1).trim(),!(!n||r[n]&&Soe[n])&&(n==="set-cookie"?r[n]?r[n].push(o):r[n]=[o]:r[n]=r[n]?r[n]+", "+o:o)}),r},S6=Symbol("internals");function Jm(t){return t&&String(t).trim().toLowerCase()}function Sk(t){return t===!1||t==null?t:lt.isArray(t)?t.map(Sk):String(t)}function Doe(t){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)r[o[1]]=o[2];return r}const Ioe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Gv(t,r,n,o,a){if(lt.isFunction(o))return o.call(this,r,n);if(a&&(r=n),!!lt.isString(r)){if(lt.isString(o))return r.indexOf(o)!==-1;if(lt.isRegExp(o))return o.test(r)}}function Toe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,o)=>n.toUpperCase()+o)}function Noe(t,r){const n=lt.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+n,{value:function(a,l,d){return this[o].call(this,r,a,l,d)},configurable:!0})})}let ys=class{constructor(r){r&&this.set(r)}set(r,n,o){const a=this;function l(h,p,g){const b=Jm(p);if(!b)throw new Error("header name must be a non-empty string");const v=lt.findKey(a,b);(!v||a[v]===void 0||g===!0||g===void 0&&a[v]!==!1)&&(a[v||p]=Sk(h))}const d=(h,p)=>lt.forEach(h,(g,b)=>l(g,b,p));if(lt.isPlainObject(r)||r instanceof this.constructor)d(r,n);else if(lt.isString(r)&&(r=r.trim())&&!Ioe(r))d(Eoe(r),n);else if(lt.isObject(r)&&lt.isIterable(r)){let h={},p,g;for(const b of r){if(!lt.isArray(b))throw TypeError("Object iterator must return a key-value pair");h[g=b[0]]=(p=h[g])?lt.isArray(p)?[...p,b[1]]:[p,b[1]]:b[1]}d(h,n)}else r!=null&&l(n,r,o);return this}get(r,n){if(r=Jm(r),r){const o=lt.findKey(this,r);if(o){const a=this[o];if(!n)return a;if(n===!0)return Doe(a);if(lt.isFunction(n))return n.call(this,a,o);if(lt.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=Jm(r),r){const o=lt.findKey(this,r);return!!(o&&this[o]!==void 0&&(!n||Gv(this,this[o],o,n)))}return!1}delete(r,n){const o=this;let a=!1;function l(d){if(d=Jm(d),d){const h=lt.findKey(o,d);h&&(!n||Gv(o,o[h],h,n))&&(delete o[h],a=!0)}}return lt.isArray(r)?r.forEach(l):l(r),a}clear(r){const n=Object.keys(this);let o=n.length,a=!1;for(;o--;){const l=n[o];(!r||Gv(this,this[l],l,r,!0))&&(delete this[l],a=!0)}return a}normalize(r){const n=this,o={};return lt.forEach(this,(a,l)=>{const d=lt.findKey(o,l);if(d){n[d]=Sk(a),delete n[l];return}const h=r?Toe(l):String(l).trim();h!==l&&delete n[l],n[h]=Sk(a),o[h]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return lt.forEach(this,(o,a)=>{o!=null&&o!==!1&&(n[a]=r&&lt.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const o=new this(r);return n.forEach(a=>o.set(a)),o}static accessor(r){const o=(this[S6]=this[S6]={accessors:{}}).accessors,a=this.prototype;function l(d){const h=Jm(d);o[h]||(Noe(a,d),o[h]=!0)}return lt.isArray(r)?r.forEach(l):l(r),this}};ys.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);lt.reduceDescriptors(ys.prototype,({value:t},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(o){this[n]=o}}});lt.freezeMethods(ys);function Yv(t,r){const n=this||sb,o=r||n,a=ys.from(o.headers);let l=o.data;return lt.forEach(t,function(h){l=h.call(n,l,a.normalize(),r?r.status:void 0)}),a.normalize(),l}function s8(t){return!!(t&&t.__CANCEL__)}function Pp(t,r,n){An.call(this,t??"canceled",An.ERR_CANCELED,r,n),this.name="CanceledError"}lt.inherits(Pp,An,{__CANCEL__:!0});function a8(t,r,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):r(new An("Request failed with status code "+n.status,[An.ERR_BAD_REQUEST,An.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Moe(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function Poe(t,r){t=t||10;const n=new Array(t),o=new Array(t);let a=0,l=0,d;return r=r!==void 0?r:1e3,function(p){const g=Date.now(),b=o[l];d||(d=g),n[a]=p,o[a]=g;let v=l,y=0;for(;v!==a;)y+=n[v++],v=v%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),g-d<r)return;const k=b&&g-b;return k?Math.round(y*1e3/k):void 0}}function Ooe(t,r){let n=0,o=1e3/r,a,l;const d=(g,b=Date.now())=>{n=b,a=null,l&&(clearTimeout(l),l=null),t.apply(null,g)};return[(...g)=>{const b=Date.now(),v=b-n;v>=o?d(g,b):(a=g,l||(l=setTimeout(()=>{l=null,d(a)},o-v)))},()=>a&&d(a)]}const a1=(t,r,n=3)=>{let o=0;const a=Poe(50,250);return Ooe(l=>{const d=l.loaded,h=l.lengthComputable?l.total:void 0,p=d-o,g=a(p),b=d<=h;o=d;const v={loaded:d,total:h,progress:h?d/h:void 0,bytes:p,rate:g||void 0,estimated:g&&h&&b?(h-d)/g:void 0,event:l,lengthComputable:h!=null,[r?"download":"upload"]:!0};t(v)},n)},E6=(t,r)=>{const n=t!=null;return[o=>r[0]({lengthComputable:n,total:t,loaded:o}),r[1]]},D6=t=>(...r)=>lt.asap(()=>t(...r)),Loe=Uo.hasStandardBrowserEnv?((t,r)=>n=>(n=new URL(n,Uo.origin),t.protocol===n.protocol&&t.host===n.host&&(r||t.port===n.port)))(new URL(Uo.origin),Uo.navigator&&/(msie|trident)/i.test(Uo.navigator.userAgent)):()=>!0,joe=Uo.hasStandardBrowserEnv?{write(t,r,n,o,a,l){const d=[t+"="+encodeURIComponent(r)];lt.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),lt.isString(o)&&d.push("path="+o),lt.isString(a)&&d.push("domain="+a),l===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Boe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Roe(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function l8(t,r,n){let o=!Boe(r);return t&&(o||n==!1)?Roe(t,r):r}const I6=t=>t instanceof ys?{...t}:t;function Rh(t,r){r=r||{};const n={};function o(g,b,v,y){return lt.isPlainObject(g)&&lt.isPlainObject(b)?lt.merge.call({caseless:y},g,b):lt.isPlainObject(b)?lt.merge({},b):lt.isArray(b)?b.slice():b}function a(g,b,v,y){if(lt.isUndefined(b)){if(!lt.isUndefined(g))return o(void 0,g,v,y)}else return o(g,b,v,y)}function l(g,b){if(!lt.isUndefined(b))return o(void 0,b)}function d(g,b){if(lt.isUndefined(b)){if(!lt.isUndefined(g))return o(void 0,g)}else return o(void 0,b)}function h(g,b,v){if(v in r)return o(g,b);if(v in t)return o(void 0,g)}const p={url:l,method:l,data:l,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:h,headers:(g,b,v)=>a(I6(g),I6(b),v,!0)};return lt.forEach(Object.keys(Object.assign({},t,r)),function(b){const v=p[b]||a,y=v(t[b],r[b],b);lt.isUndefined(y)&&v!==h||(n[b]=y)}),n}const c8=t=>{const r=Rh({},t);let{data:n,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:l,headers:d,auth:h}=r;r.headers=d=ys.from(d),r.url=r8(l8(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&d.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(lt.isFormData(n)){if(Uo.hasStandardBrowserEnv||Uo.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((p=d.getContentType())!==!1){const[g,...b]=p?p.split(";").map(v=>v.trim()).filter(Boolean):[];d.setContentType([g||"multipart/form-data",...b].join("; "))}}if(Uo.hasStandardBrowserEnv&&(o&&lt.isFunction(o)&&(o=o(r)),o||o!==!1&&Loe(r.url))){const g=a&&l&&joe.read(l);g&&d.set(a,g)}return r},Foe=typeof XMLHttpRequest<"u",zoe=Foe&&function(t){return new Promise(function(n,o){const a=c8(t);let l=a.data;const d=ys.from(a.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:g}=a,b,v,y,k,x;function _(){k&&k(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(b),a.signal&&a.signal.removeEventListener("abort",b)}let D=new XMLHttpRequest;D.open(a.method.toUpperCase(),a.url,!0),D.timeout=a.timeout;function E(){if(!D)return;const P=ys.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),V={data:!h||h==="text"||h==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:P,config:t,request:D};a8(function(M){n(M),_()},function(M){o(M),_()},V),D=null}"onloadend"in D?D.onloadend=E:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(E)},D.onabort=function(){D&&(o(new An("Request aborted",An.ECONNABORTED,t,D)),D=null)},D.onerror=function(){o(new An("Network Error",An.ERR_NETWORK,t,D)),D=null},D.ontimeout=function(){let F=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const V=a.transitional||i8;a.timeoutErrorMessage&&(F=a.timeoutErrorMessage),o(new An(F,V.clarifyTimeoutError?An.ETIMEDOUT:An.ECONNABORTED,t,D)),D=null},l===void 0&&d.setContentType(null),"setRequestHeader"in D&&lt.forEach(d.toJSON(),function(F,V){D.setRequestHeader(V,F)}),lt.isUndefined(a.withCredentials)||(D.withCredentials=!!a.withCredentials),h&&h!=="json"&&(D.responseType=a.responseType),g&&([y,x]=a1(g,!0),D.addEventListener("progress",y)),p&&D.upload&&([v,k]=a1(p),D.upload.addEventListener("progress",v),D.upload.addEventListener("loadend",k)),(a.cancelToken||a.signal)&&(b=P=>{D&&(o(!P||P.type?new Pp(null,t,D):P),D.abort(),D=null)},a.cancelToken&&a.cancelToken.subscribe(b),a.signal&&(a.signal.aborted?b():a.signal.addEventListener("abort",b)));const N=Moe(a.url);if(N&&Uo.protocols.indexOf(N)===-1){o(new An("Unsupported protocol "+N+":",An.ERR_BAD_REQUEST,t));return}D.send(l||null)})},Uoe=(t,r)=>{const{length:n}=t=t?t.filter(Boolean):[];if(r||n){let o=new AbortController,a;const l=function(g){if(!a){a=!0,h();const b=g instanceof Error?g:this.reason;o.abort(b instanceof An?b:new Pp(b instanceof Error?b.message:b))}};let d=r&&setTimeout(()=>{d=null,l(new An(`timeout ${r} of ms exceeded`,An.ETIMEDOUT))},r);const h=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),t=null)};t.forEach(g=>g.addEventListener("abort",l));const{signal:p}=o;return p.unsubscribe=()=>lt.asap(h),p}},qoe=function*(t,r){let n=t.byteLength;if(n<r){yield t;return}let o=0,a;for(;o<n;)a=o+r,yield t.slice(o,a),o=a},Voe=async function*(t,r){for await(const n of $oe(t))yield*qoe(n,r)},$oe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:n,value:o}=await r.read();if(n)break;yield o}}finally{await r.cancel()}},T6=(t,r,n,o)=>{const a=Voe(t,r);let l=0,d,h=p=>{d||(d=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:g,value:b}=await a.next();if(g){h(),p.close();return}let v=b.byteLength;if(n){let y=l+=v;n(y)}p.enqueue(new Uint8Array(b))}catch(g){throw h(g),g}},cancel(p){return h(p),a.return()}},{highWaterMark:2})},Y1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",u8=Y1&&typeof ReadableStream=="function",Hoe=Y1&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),d8=(t,...r)=>{try{return!!t(...r)}catch{return!1}},Woe=u8&&d8(()=>{let t=!1;const r=new Request(Uo.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),N6=64*1024,s_=u8&&d8(()=>lt.isReadableStream(new Response("").body)),l1={stream:s_&&(t=>t.body)};Y1&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!l1[r]&&(l1[r]=lt.isFunction(t[r])?n=>n[r]():(n,o)=>{throw new An(`Response type '${r}' is not supported`,An.ERR_NOT_SUPPORT,o)})})})(new Response);const Goe=async t=>{if(t==null)return 0;if(lt.isBlob(t))return t.size;if(lt.isSpecCompliantForm(t))return(await new Request(Uo.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(lt.isArrayBufferView(t)||lt.isArrayBuffer(t))return t.byteLength;if(lt.isURLSearchParams(t)&&(t=t+""),lt.isString(t))return(await Hoe(t)).byteLength},Yoe=async(t,r)=>{const n=lt.toFiniteNumber(t.getContentLength());return n??Goe(r)},Koe=Y1&&(async t=>{let{url:r,method:n,data:o,signal:a,cancelToken:l,timeout:d,onDownloadProgress:h,onUploadProgress:p,responseType:g,headers:b,withCredentials:v="same-origin",fetchOptions:y}=c8(t);g=g?(g+"").toLowerCase():"text";let k=Uoe([a,l&&l.toAbortSignal()],d),x;const _=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let D;try{if(p&&Woe&&n!=="get"&&n!=="head"&&(D=await Yoe(b,o))!==0){let V=new Request(r,{method:"POST",body:o,duplex:"half"}),$;if(lt.isFormData(o)&&($=V.headers.get("content-type"))&&b.setContentType($),V.body){const[M,B]=E6(D,a1(D6(p)));o=T6(V.body,N6,M,B)}}lt.isString(v)||(v=v?"include":"omit");const E="credentials"in Request.prototype;x=new Request(r,{...y,signal:k,method:n.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:E?v:void 0});let N=await fetch(x,y);const P=s_&&(g==="stream"||g==="response");if(s_&&(h||P&&_)){const V={};["status","statusText","headers"].forEach(q=>{V[q]=N[q]});const $=lt.toFiniteNumber(N.headers.get("content-length")),[M,B]=h&&E6($,a1(D6(h),!0))||[];N=new Response(T6(N.body,N6,M,()=>{B&&B(),_&&_()}),V)}g=g||"text";let F=await l1[lt.findKey(l1,g)||"text"](N,t);return!P&&_&&_(),await new Promise((V,$)=>{a8(V,$,{data:F,headers:ys.from(N.headers),status:N.status,statusText:N.statusText,config:t,request:x})})}catch(E){throw _&&_(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new An("Network Error",An.ERR_NETWORK,t,x),{cause:E.cause||E}):An.from(E,E&&E.code,t,x)}}),a_={http:uoe,xhr:zoe,fetch:Koe};lt.forEach(a_,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const M6=t=>`- ${t}`,Qoe=t=>lt.isFunction(t)||t===null||t===!1,h8={getAdapter:t=>{t=lt.isArray(t)?t:[t];const{length:r}=t;let n,o;const a={};for(let l=0;l<r;l++){n=t[l];let d;if(o=n,!Qoe(n)&&(o=a_[(d=String(n)).toLowerCase()],o===void 0))throw new An(`Unknown adapter '${d}'`);if(o)break;a[d||"#"+l]=o}if(!o){const l=Object.entries(a).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=r?l.length>1?`since :
`+l.map(M6).join(`
`):" "+M6(l[0]):"as no adapter specified";throw new An("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:a_};function Kv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Pp(null,t)}function P6(t){return Kv(t),t.headers=ys.from(t.headers),t.data=Yv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),h8.getAdapter(t.adapter||sb.adapter)(t).then(function(o){return Kv(t),o.data=Yv.call(t,t.transformResponse,o),o.headers=ys.from(o.headers),o},function(o){return s8(o)||(Kv(t),o&&o.response&&(o.response.data=Yv.call(t,t.transformResponse,o.response),o.response.headers=ys.from(o.response.headers))),Promise.reject(o)})}const f8="1.10.0",K1={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{K1[t]=function(o){return typeof o===t||"a"+(r<1?"n ":" ")+t}});const O6={};K1.transitional=function(r,n,o){function a(l,d){return"[Axios v"+f8+"] Transitional option '"+l+"'"+d+(o?". "+o:"")}return(l,d,h)=>{if(r===!1)throw new An(a(d," has been removed"+(n?" in "+n:"")),An.ERR_DEPRECATED);return n&&!O6[d]&&(O6[d]=!0,console.warn(a(d," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(l,d,h):!0}};K1.spelling=function(r){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${r}`),!0)};function Joe(t,r,n){if(typeof t!="object")throw new An("options must be an object",An.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let a=o.length;for(;a-- >0;){const l=o[a],d=r[l];if(d){const h=t[l],p=h===void 0||d(h,l,t);if(p!==!0)throw new An("option "+l+" must be "+p,An.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new An("Unknown option "+l,An.ERR_BAD_OPTION)}}const Ek={assertOptions:Joe,validators:K1},$l=Ek.validators;let Nh=class{constructor(r){this.defaults=r||{},this.interceptors={request:new x6,response:new x6}}async request(r,n){try{return await this._request(r,n)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?l&&!String(o.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+l):o.stack=l}catch{}}throw o}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=Rh(this.defaults,n);const{transitional:o,paramsSerializer:a,headers:l}=n;o!==void 0&&Ek.assertOptions(o,{silentJSONParsing:$l.transitional($l.boolean),forcedJSONParsing:$l.transitional($l.boolean),clarifyTimeoutError:$l.transitional($l.boolean)},!1),a!=null&&(lt.isFunction(a)?n.paramsSerializer={serialize:a}:Ek.assertOptions(a,{encode:$l.function,serialize:$l.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ek.assertOptions(n,{baseUrl:$l.spelling("baseURL"),withXsrfToken:$l.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=l&&lt.merge(l.common,l[n.method]);l&&lt.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),n.headers=ys.concat(d,l);const h=[];let p=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(p=p&&_.synchronous,h.unshift(_.fulfilled,_.rejected))});const g=[];this.interceptors.response.forEach(function(_){g.push(_.fulfilled,_.rejected)});let b,v=0,y;if(!p){const x=[P6.bind(this),void 0];for(x.unshift.apply(x,h),x.push.apply(x,g),y=x.length,b=Promise.resolve(n);v<y;)b=b.then(x[v++],x[v++]);return b}y=h.length;let k=n;for(v=0;v<y;){const x=h[v++],_=h[v++];try{k=x(k)}catch(D){_.call(this,D);break}}try{b=P6.call(this,k)}catch(x){return Promise.reject(x)}for(v=0,y=g.length;v<y;)b=b.then(g[v++],g[v++]);return b}getUri(r){r=Rh(this.defaults,r);const n=l8(r.baseURL,r.url,r.allowAbsoluteUrls);return r8(n,r.params,r.paramsSerializer)}};lt.forEach(["delete","get","head","options"],function(r){Nh.prototype[r]=function(n,o){return this.request(Rh(o||{},{method:r,url:n,data:(o||{}).data}))}});lt.forEach(["post","put","patch"],function(r){function n(o){return function(l,d,h){return this.request(Rh(h||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:d}))}}Nh.prototype[r]=n(),Nh.prototype[r+"Form"]=n(!0)});let Zoe=class p8{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const o=this;this.promise.then(a=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](a);o._listeners=null}),this.promise.then=a=>{let l;const d=new Promise(h=>{o.subscribe(h),l=h}).then(a);return d.cancel=function(){o.unsubscribe(l)},d},r(function(l,d,h){o.reason||(o.reason=new Pp(l,d,h),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=o=>{r.abort(o)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new p8(function(a){r=a}),cancel:r}}};function Xoe(t){return function(n){return t.apply(null,n)}}function ese(t){return lt.isObject(t)&&t.isAxiosError===!0}const l_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(l_).forEach(([t,r])=>{l_[r]=t});function m8(t){const r=new Nh(t),n=HL(Nh.prototype.request,r);return lt.extend(n,Nh.prototype,r,{allOwnKeys:!0}),lt.extend(n,r,null,{allOwnKeys:!0}),n.create=function(a){return m8(Rh(t,a))},n}const Ii=m8(sb);Ii.Axios=Nh;Ii.CanceledError=Pp;Ii.CancelToken=Zoe;Ii.isCancel=s8;Ii.VERSION=f8;Ii.toFormData=G1;Ii.AxiosError=An;Ii.Cancel=Ii.CanceledError;Ii.all=function(r){return Promise.all(r)};Ii.spread=Xoe;Ii.isAxiosError=ese;Ii.mergeConfig=Rh;Ii.AxiosHeaders=ys;Ii.formToJSON=t=>o8(lt.isHTMLForm(t)?new FormData(t):t);Ii.getAdapter=h8.getAdapter;Ii.HttpStatusCode=l_;Ii.default=Ii;const{Axios:Qwe,AxiosError:Jwe,CanceledError:Zwe,isCancel:Xwe,CancelToken:eye,VERSION:tye,all:nye,Cancel:rye,isAxiosError:iye,spread:oye,toFormData:sye,AxiosHeaders:aye,HttpStatusCode:lye,formToJSON:cye,getAdapter:uye,mergeConfig:dye}=Ii;function nk(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qv={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var L6;function tse(){return L6||(L6=1,function(t,r){(function(n){t.exports=n()})(function(){return function n(o,a,l){function d(g,b){if(!a[g]){if(!o[g]){var v=typeof nk=="function"&&nk;if(!b&&v)return v(g,!0);if(h)return h(g,!0);var y=new Error("Cannot find module '"+g+"'");throw y.code="MODULE_NOT_FOUND",y}var k=a[g]={exports:{}};o[g][0].call(k.exports,function(x){var _=o[g][1][x];return d(_||x)},k,k.exports,n,o,a,l)}return a[g].exports}for(var h=typeof nk=="function"&&nk,p=0;p<l.length;p++)d(l[p]);return d}({1:[function(n,o,a){var l=n("./utils"),d=n("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(p){for(var g,b,v,y,k,x,_,D=[],E=0,N=p.length,P=N,F=l.getTypeOf(p)!=="string";E<p.length;)P=N-E,v=F?(g=p[E++],b=E<N?p[E++]:0,E<N?p[E++]:0):(g=p.charCodeAt(E++),b=E<N?p.charCodeAt(E++):0,E<N?p.charCodeAt(E++):0),y=g>>2,k=(3&g)<<4|b>>4,x=1<P?(15&b)<<2|v>>6:64,_=2<P?63&v:64,D.push(h.charAt(y)+h.charAt(k)+h.charAt(x)+h.charAt(_));return D.join("")},a.decode=function(p){var g,b,v,y,k,x,_=0,D=0,E="data:";if(p.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var N,P=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===h.charAt(64)&&P--,p.charAt(p.length-2)===h.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=d.uint8array?new Uint8Array(0|P):new Array(0|P);_<p.length;)g=h.indexOf(p.charAt(_++))<<2|(y=h.indexOf(p.charAt(_++)))>>4,b=(15&y)<<4|(k=h.indexOf(p.charAt(_++)))>>2,v=(3&k)<<6|(x=h.indexOf(p.charAt(_++))),N[D++]=g,k!==64&&(N[D++]=b),x!==64&&(N[D++]=v);return N}},{"./support":30,"./utils":32}],2:[function(n,o,a){var l=n("./external"),d=n("./stream/DataWorker"),h=n("./stream/Crc32Probe"),p=n("./stream/DataLengthProbe");function g(b,v,y,k,x){this.compressedSize=b,this.uncompressedSize=v,this.crc32=y,this.compression=k,this.compressedContent=x}g.prototype={getContentWorker:function(){var b=new d(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),v=this;return b.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),b},getCompressedWorker:function(){return new d(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(b,v,y){return b.pipe(new h).pipe(new p("uncompressedSize")).pipe(v.compressWorker(y)).pipe(new p("compressedSize")).withStreamInfo("compression",v)},o.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,o,a){var l=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,o,a){var l=n("./utils"),d=function(){for(var h,p=[],g=0;g<256;g++){h=g;for(var b=0;b<8;b++)h=1&h?3988292384^h>>>1:h>>>1;p[g]=h}return p}();o.exports=function(h,p){return h!==void 0&&h.length?l.getTypeOf(h)!=="string"?function(g,b,v,y){var k=d,x=y+v;g^=-1;for(var _=y;_<x;_++)g=g>>>8^k[255&(g^b[_])];return-1^g}(0|p,h,h.length,0):function(g,b,v,y){var k=d,x=y+v;g^=-1;for(var _=y;_<x;_++)g=g>>>8^k[255&(g^b.charCodeAt(_))];return-1^g}(0|p,h,h.length,0):0}},{"./utils":32}],5:[function(n,o,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,o,a){var l=null;l=typeof Promise<"u"?Promise:n("lie"),o.exports={Promise:l}},{lie:37}],7:[function(n,o,a){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=n("pako"),h=n("./utils"),p=n("./stream/GenericWorker"),g=l?"uint8array":"array";function b(v,y){p.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=y,this.meta={}}a.magic="\b\0",h.inherits(b,p),b.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(g,v.data),!1)},b.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},b.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},b.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(y){v.push({data:y,meta:v.meta})}},a.compressWorker=function(v){return new b("Deflate",v)},a.uncompressWorker=function(){return new b("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,o,a){function l(k,x){var _,D="";for(_=0;_<x;_++)D+=String.fromCharCode(255&k),k>>>=8;return D}function d(k,x,_,D,E,N){var P,F,V=k.file,$=k.compression,M=N!==g.utf8encode,B=h.transformTo("string",N(V.name)),q=h.transformTo("string",g.utf8encode(V.name)),Q=V.comment,H=h.transformTo("string",N(Q)),R=h.transformTo("string",g.utf8encode(Q)),K=q.length!==V.name.length,j=R.length!==Q.length,ne="",de="",se="",oe=V.dir,ye=V.date,re={crc32:0,compressedSize:0,uncompressedSize:0};x&&!_||(re.crc32=k.crc32,re.compressedSize=k.compressedSize,re.uncompressedSize=k.uncompressedSize);var _e=0;x&&(_e|=8),M||!K&&!j||(_e|=2048);var X=0,J=0;oe&&(X|=16),E==="UNIX"?(J=798,X|=function(pe,we){var Pe=pe;return pe||(Pe=we?16893:33204),(65535&Pe)<<16}(V.unixPermissions,oe)):(J=20,X|=function(pe){return 63&(pe||0)}(V.dosPermissions)),P=ye.getUTCHours(),P<<=6,P|=ye.getUTCMinutes(),P<<=5,P|=ye.getUTCSeconds()/2,F=ye.getUTCFullYear()-1980,F<<=4,F|=ye.getUTCMonth()+1,F<<=5,F|=ye.getUTCDate(),K&&(de=l(1,1)+l(b(B),4)+q,ne+="up"+l(de.length,2)+de),j&&(se=l(1,1)+l(b(H),4)+R,ne+="uc"+l(se.length,2)+se);var ae="";return ae+=`
\0`,ae+=l(_e,2),ae+=$.magic,ae+=l(P,2),ae+=l(F,2),ae+=l(re.crc32,4),ae+=l(re.compressedSize,4),ae+=l(re.uncompressedSize,4),ae+=l(B.length,2),ae+=l(ne.length,2),{fileRecord:v.LOCAL_FILE_HEADER+ae+B+ne,dirRecord:v.CENTRAL_FILE_HEADER+l(J,2)+ae+l(H.length,2)+"\0\0\0\0"+l(X,4)+l(D,4)+B+ne+H}}var h=n("../utils"),p=n("../stream/GenericWorker"),g=n("../utf8"),b=n("../crc32"),v=n("../signature");function y(k,x,_,D){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=_,this.encodeFileName=D,this.streamFiles=k,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(y,p),y.prototype.push=function(k){var x=k.meta.percent||0,_=this.entriesCount,D=this._sources.length;this.accumulate?this.contentBuffer.push(k):(this.bytesWritten+=k.data.length,p.prototype.push.call(this,{data:k.data,meta:{currentFile:this.currentFile,percent:_?(x+100*(_-D-1))/_:100}}))},y.prototype.openedSource=function(k){this.currentSourceOffset=this.bytesWritten,this.currentFile=k.file.name;var x=this.streamFiles&&!k.file.dir;if(x){var _=d(k,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:_.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(k){this.accumulate=!1;var x=this.streamFiles&&!k.file.dir,_=d(k,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(_.dirRecord),x)this.push({data:function(D){return v.DATA_DESCRIPTOR+l(D.crc32,4)+l(D.compressedSize,4)+l(D.uncompressedSize,4)}(k),meta:{percent:100}});else for(this.push({data:_.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var k=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var _=this.bytesWritten-k,D=function(E,N,P,F,V){var $=h.transformTo("string",V(F));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(E,2)+l(E,2)+l(N,4)+l(P,4)+l($.length,2)+$}(this.dirRecords.length,_,k,this.zipComment,this.encodeFileName);this.push({data:D,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(k){this._sources.push(k);var x=this;return k.on("data",function(_){x.processChunk(_)}),k.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),k.on("error",function(_){x.error(_)}),this},y.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(k){var x=this._sources;if(!p.prototype.error.call(this,k))return!1;for(var _=0;_<x.length;_++)try{x[_].error(k)}catch{}return!0},y.prototype.lock=function(){p.prototype.lock.call(this);for(var k=this._sources,x=0;x<k.length;x++)k[x].lock()},o.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,o,a){var l=n("../compressions"),d=n("./ZipFileWorker");a.generateWorker=function(h,p,g){var b=new d(p.streamFiles,g,p.platform,p.encodeFileName),v=0;try{h.forEach(function(y,k){v++;var x=function(N,P){var F=N||P,V=l[F];if(!V)throw new Error(F+" is not a valid compression method !");return V}(k.options.compression,p.compression),_=k.options.compressionOptions||p.compressionOptions||{},D=k.dir,E=k.date;k._compressWorker(x,_).withStreamInfo("file",{name:y,dir:D,date:E,comment:k.comment||"",unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions}).pipe(b)}),b.entriesCount=v}catch(y){b.error(y)}return b}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,o,a){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new l;for(var h in this)typeof this[h]!="function"&&(d[h]=this[h]);return d}}(l.prototype=n("./object")).loadAsync=n("./load"),l.support=n("./support"),l.defaults=n("./defaults"),l.version="3.10.1",l.loadAsync=function(d,h){return new l().loadAsync(d,h)},l.external=n("./external"),o.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,o,a){var l=n("./utils"),d=n("./external"),h=n("./utf8"),p=n("./zipEntries"),g=n("./stream/Crc32Probe"),b=n("./nodejsUtils");function v(y){return new d.Promise(function(k,x){var _=y.decompressed.getContentWorker().pipe(new g);_.on("error",function(D){x(D)}).on("end",function(){_.streamInfo.crc32!==y.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):k()}).resume()})}o.exports=function(y,k){var x=this;return k=l.extend(k||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),b.isNode&&b.isStream(y)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",y,!0,k.optimizedBinaryString,k.base64).then(function(_){var D=new p(k);return D.load(_),D}).then(function(_){var D=[d.Promise.resolve(_)],E=_.files;if(k.checkCRC32)for(var N=0;N<E.length;N++)D.push(v(E[N]));return d.Promise.all(D)}).then(function(_){for(var D=_.shift(),E=D.files,N=0;N<E.length;N++){var P=E[N],F=P.fileNameStr,V=l.resolve(P.fileNameStr);x.file(V,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:k.createFolders}),P.dir||(x.file(V).unsafeOriginalName=F)}return D.zipComment.length&&(x.comment=D.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,o,a){var l=n("../utils"),d=n("../stream/GenericWorker");function h(p,g){d.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(g)}l.inherits(h,d),h.prototype._bindStream=function(p){var g=this;(this._stream=p).pause(),p.on("data",function(b){g.push({data:b,meta:{percent:0}})}).on("error",function(b){g.isPaused?this.generatedError=b:g.error(b)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},h.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,o,a){var l=n("readable-stream").Readable;function d(h,p,g){l.call(this,p),this._helper=h;var b=this;h.on("data",function(v,y){b.push(v)||b._helper.pause(),g&&g(y)}).on("error",function(v){b.emit("error",v)}).on("end",function(){b.push(null)})}n("../utils").inherits(d,l),d.prototype._read=function(){this._helper.resume()},o.exports=d},{"../utils":32,"readable-stream":16}],14:[function(n,o,a){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,d);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,d)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var d=new Buffer(l);return d.fill(0),d},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(n,o,a){function l(V,$,M){var B,q=h.getTypeOf($),Q=h.extend(M||{},b);Q.date=Q.date||new Date,Q.compression!==null&&(Q.compression=Q.compression.toUpperCase()),typeof Q.unixPermissions=="string"&&(Q.unixPermissions=parseInt(Q.unixPermissions,8)),Q.unixPermissions&&16384&Q.unixPermissions&&(Q.dir=!0),Q.dosPermissions&&16&Q.dosPermissions&&(Q.dir=!0),Q.dir&&(V=E(V)),Q.createFolders&&(B=D(V))&&N.call(this,B,!0);var H=q==="string"&&Q.binary===!1&&Q.base64===!1;M&&M.binary!==void 0||(Q.binary=!H),($ instanceof v&&$.uncompressedSize===0||Q.dir||!$||$.length===0)&&(Q.base64=!1,Q.binary=!0,$="",Q.compression="STORE",q="string");var R=null;R=$ instanceof v||$ instanceof p?$:x.isNode&&x.isStream($)?new _(V,$):h.prepareContent(V,$,Q.binary,Q.optimizedBinaryString,Q.base64);var K=new y(V,R,Q);this.files[V]=K}var d=n("./utf8"),h=n("./utils"),p=n("./stream/GenericWorker"),g=n("./stream/StreamHelper"),b=n("./defaults"),v=n("./compressedObject"),y=n("./zipObject"),k=n("./generate"),x=n("./nodejsUtils"),_=n("./nodejs/NodejsStreamInputAdapter"),D=function(V){V.slice(-1)==="/"&&(V=V.substring(0,V.length-1));var $=V.lastIndexOf("/");return 0<$?V.substring(0,$):""},E=function(V){return V.slice(-1)!=="/"&&(V+="/"),V},N=function(V,$){return $=$!==void 0?$:b.createFolders,V=E(V),this.files[V]||l.call(this,V,null,{dir:!0,createFolders:$}),this.files[V]};function P(V){return Object.prototype.toString.call(V)==="[object RegExp]"}var F={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(V){var $,M,B;for($ in this.files)B=this.files[$],(M=$.slice(this.root.length,$.length))&&$.slice(0,this.root.length)===this.root&&V(M,B)},filter:function(V){var $=[];return this.forEach(function(M,B){V(M,B)&&$.push(B)}),$},file:function(V,$,M){if(arguments.length!==1)return V=this.root+V,l.call(this,V,$,M),this;if(P(V)){var B=V;return this.filter(function(Q,H){return!H.dir&&B.test(Q)})}var q=this.files[this.root+V];return q&&!q.dir?q:null},folder:function(V){if(!V)return this;if(P(V))return this.filter(function(q,Q){return Q.dir&&V.test(q)});var $=this.root+V,M=N.call(this,$),B=this.clone();return B.root=M.name,B},remove:function(V){V=this.root+V;var $=this.files[V];if($||(V.slice(-1)!=="/"&&(V+="/"),$=this.files[V]),$&&!$.dir)delete this.files[V];else for(var M=this.filter(function(q,Q){return Q.name.slice(0,V.length)===V}),B=0;B<M.length;B++)delete this.files[M[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(V){var $,M={};try{if((M=h.extend(V||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");h.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var B=M.comment||this.comment||"";$=k.generateWorker(this,M,B)}catch(q){($=new p("error")).error(q)}return new g($,M.type||"string",M.mimeType)},generateAsync:function(V,$){return this.generateInternalStream(V).accumulate($)},generateNodeStream:function(V,$){return(V=V||{}).type||(V.type="nodebuffer"),this.generateInternalStream(V).toNodejsStream($)}};o.exports=F},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,o,a){o.exports=n("stream")},{stream:void 0}],17:[function(n,o,a){var l=n("./DataReader");function d(h){l.call(this,h);for(var p=0;p<this.data.length;p++)h[p]=255&h[p]}n("../utils").inherits(d,l),d.prototype.byteAt=function(h){return this.data[this.zero+h]},d.prototype.lastIndexOfSignature=function(h){for(var p=h.charCodeAt(0),g=h.charCodeAt(1),b=h.charCodeAt(2),v=h.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===p&&this.data[y+1]===g&&this.data[y+2]===b&&this.data[y+3]===v)return y-this.zero;return-1},d.prototype.readAndCheckSignature=function(h){var p=h.charCodeAt(0),g=h.charCodeAt(1),b=h.charCodeAt(2),v=h.charCodeAt(3),y=this.readData(4);return p===y[0]&&g===y[1]&&b===y[2]&&v===y[3]},d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],18:[function(n,o,a){var l=n("../utils");function d(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var p,g=0;for(this.checkOffset(h),p=this.index+h-1;p>=this.index;p--)g=(g<<8)+this.byteAt(p);return this.index+=h,g},readString:function(h){return l.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},o.exports=d},{"../utils":32}],19:[function(n,o,a){var l=n("./Uint8ArrayReader");function d(h){l.call(this,h)}n("../utils").inherits(d,l),d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,o,a){var l=n("./DataReader");function d(h){l.call(this,h)}n("../utils").inherits(d,l),d.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},d.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},d.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],21:[function(n,o,a){var l=n("./ArrayReader");function d(h){l.call(this,h)}n("../utils").inherits(d,l),d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(n,o,a){var l=n("../utils"),d=n("../support"),h=n("./ArrayReader"),p=n("./StringReader"),g=n("./NodeBufferReader"),b=n("./Uint8ArrayReader");o.exports=function(v){var y=l.getTypeOf(v);return l.checkSupport(y),y!=="string"||d.uint8array?y==="nodebuffer"?new g(v):d.uint8array?new b(l.transformTo("uint8array",v)):new h(l.transformTo("array",v)):new p(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,o,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,o,a){var l=n("./GenericWorker"),d=n("../utils");function h(p){l.call(this,"ConvertWorker to "+p),this.destType=p}d.inherits(h,l),h.prototype.processChunk=function(p){this.push({data:d.transformTo(this.destType,p.data),meta:p.meta})},o.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(n,o,a){var l=n("./GenericWorker"),d=n("../crc32");function h(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(h,l),h.prototype.processChunk=function(p){this.streamInfo.crc32=d(p.data,this.streamInfo.crc32||0),this.push(p)},o.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,o,a){var l=n("../utils"),d=n("./GenericWorker");function h(p){d.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}l.inherits(h,d),h.prototype.processChunk=function(p){if(p){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+p.data.length}d.prototype.processChunk.call(this,p)},o.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(n,o,a){var l=n("../utils"),d=n("./GenericWorker");function h(p){d.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(b){g.dataIsReady=!0,g.data=b,g.max=b&&b.length||0,g.type=l.getTypeOf(b),g.isPaused||g._tickAndRepeat()},function(b){g.error(b)})}l.inherits(h,d),h.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,g);break;case"uint8array":p=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":p=this.data.slice(this.index,g)}return this.index=g,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(n,o,a){function l(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,h){return this._listeners[d].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,h){if(this._listeners[d])for(var p=0;p<this._listeners[d].length;p++)this._listeners[d][p].call(this,h)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var h=this;return d.on("data",function(p){h.processChunk(p)}),d.on("end",function(){h.end()}),d.on("error",function(p){h.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,h){return this.extraStreamInfo[d]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},o.exports=l},{}],29:[function(n,o,a){var l=n("../utils"),d=n("./ConvertWorker"),h=n("./GenericWorker"),p=n("../base64"),g=n("../support"),b=n("../external"),v=null;if(g.nodestream)try{v=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(x,_){return new b.Promise(function(D,E){var N=[],P=x._internalType,F=x._outputType,V=x._mimeType;x.on("data",function($,M){N.push($),_&&_(M)}).on("error",function($){N=[],E($)}).on("end",function(){try{var $=function(M,B,q){switch(M){case"blob":return l.newBlob(l.transformTo("arraybuffer",B),q);case"base64":return p.encode(B);default:return l.transformTo(M,B)}}(F,function(M,B){var q,Q=0,H=null,R=0;for(q=0;q<B.length;q++)R+=B[q].length;switch(M){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(H=new Uint8Array(R),q=0;q<B.length;q++)H.set(B[q],Q),Q+=B[q].length;return H;case"nodebuffer":return Buffer.concat(B);default:throw new Error("concat : unsupported type '"+M+"'")}}(P,N),V);D($)}catch(M){E(M)}N=[]}).resume()})}function k(x,_,D){var E=_;switch(_){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=_,this._mimeType=D,l.checkSupport(E),this._worker=x.pipe(new d(E)),x.lock()}catch(N){this._worker=new h("error"),this._worker.error(N)}}k.prototype={accumulate:function(x){return y(this,x)},on:function(x,_){var D=this;return x==="data"?this._worker.on(x,function(E){_.call(D,E.data,E.meta)}):this._worker.on(x,function(){l.delay(_,arguments,D)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},x)}},o.exports=k},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,o,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var l=new ArrayBuffer(0);try{a.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(l),a.blob=d.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,o,a){for(var l=n("./utils"),d=n("./support"),h=n("./nodejsUtils"),p=n("./stream/GenericWorker"),g=new Array(256),b=0;b<256;b++)g[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;g[254]=g[254]=1;function v(){p.call(this,"utf-8 decode"),this.leftOver=null}function y(){p.call(this,"utf-8 encode")}a.utf8encode=function(k){return d.nodebuffer?h.newBufferFrom(k,"utf-8"):function(x){var _,D,E,N,P,F=x.length,V=0;for(N=0;N<F;N++)(64512&(D=x.charCodeAt(N)))==55296&&N+1<F&&(64512&(E=x.charCodeAt(N+1)))==56320&&(D=65536+(D-55296<<10)+(E-56320),N++),V+=D<128?1:D<2048?2:D<65536?3:4;for(_=d.uint8array?new Uint8Array(V):new Array(V),N=P=0;P<V;N++)(64512&(D=x.charCodeAt(N)))==55296&&N+1<F&&(64512&(E=x.charCodeAt(N+1)))==56320&&(D=65536+(D-55296<<10)+(E-56320),N++),D<128?_[P++]=D:(D<2048?_[P++]=192|D>>>6:(D<65536?_[P++]=224|D>>>12:(_[P++]=240|D>>>18,_[P++]=128|D>>>12&63),_[P++]=128|D>>>6&63),_[P++]=128|63&D);return _}(k)},a.utf8decode=function(k){return d.nodebuffer?l.transformTo("nodebuffer",k).toString("utf-8"):function(x){var _,D,E,N,P=x.length,F=new Array(2*P);for(_=D=0;_<P;)if((E=x[_++])<128)F[D++]=E;else if(4<(N=g[E]))F[D++]=65533,_+=N-1;else{for(E&=N===2?31:N===3?15:7;1<N&&_<P;)E=E<<6|63&x[_++],N--;1<N?F[D++]=65533:E<65536?F[D++]=E:(E-=65536,F[D++]=55296|E>>10&1023,F[D++]=56320|1023&E)}return F.length!==D&&(F.subarray?F=F.subarray(0,D):F.length=D),l.applyFromCharCode(F)}(k=l.transformTo(d.uint8array?"uint8array":"array",k))},l.inherits(v,p),v.prototype.processChunk=function(k){var x=l.transformTo(d.uint8array?"uint8array":"array",k.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var _=x;(x=new Uint8Array(_.length+this.leftOver.length)).set(this.leftOver,0),x.set(_,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var D=function(N,P){var F;for((P=P||N.length)>N.length&&(P=N.length),F=P-1;0<=F&&(192&N[F])==128;)F--;return F<0||F===0?P:F+g[N[F]]>P?F:P}(x),E=x;D!==x.length&&(d.uint8array?(E=x.subarray(0,D),this.leftOver=x.subarray(D,x.length)):(E=x.slice(0,D),this.leftOver=x.slice(D,x.length))),this.push({data:a.utf8decode(E),meta:k.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=v,l.inherits(y,p),y.prototype.processChunk=function(k){this.push({data:a.utf8encode(k.data),meta:k.meta})},a.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,o,a){var l=n("./support"),d=n("./base64"),h=n("./nodejsUtils"),p=n("./external");function g(_){return _}function b(_,D){for(var E=0;E<_.length;++E)D[E]=255&_.charCodeAt(E);return D}n("setimmediate"),a.newBlob=function(_,D){a.checkSupport("blob");try{return new Blob([_],{type:D})}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return E.append(_),E.getBlob(D)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(_,D,E){var N=[],P=0,F=_.length;if(F<=E)return String.fromCharCode.apply(null,_);for(;P<F;)D==="array"||D==="nodebuffer"?N.push(String.fromCharCode.apply(null,_.slice(P,Math.min(P+E,F)))):N.push(String.fromCharCode.apply(null,_.subarray(P,Math.min(P+E,F)))),P+=E;return N.join("")},stringifyByChar:function(_){for(var D="",E=0;E<_.length;E++)D+=String.fromCharCode(_[E]);return D},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}}()}};function y(_){var D=65536,E=a.getTypeOf(_),N=!0;if(E==="uint8array"?N=v.applyCanBeUsed.uint8array:E==="nodebuffer"&&(N=v.applyCanBeUsed.nodebuffer),N)for(;1<D;)try{return v.stringifyByChunk(_,E,D)}catch{D=Math.floor(D/2)}return v.stringifyByChar(_)}function k(_,D){for(var E=0;E<_.length;E++)D[E]=_[E];return D}a.applyFromCharCode=y;var x={};x.string={string:g,array:function(_){return b(_,new Array(_.length))},arraybuffer:function(_){return x.string.uint8array(_).buffer},uint8array:function(_){return b(_,new Uint8Array(_.length))},nodebuffer:function(_){return b(_,h.allocBuffer(_.length))}},x.array={string:y,array:g,arraybuffer:function(_){return new Uint8Array(_).buffer},uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return h.newBufferFrom(_)}},x.arraybuffer={string:function(_){return y(new Uint8Array(_))},array:function(_){return k(new Uint8Array(_),new Array(_.byteLength))},arraybuffer:g,uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return h.newBufferFrom(new Uint8Array(_))}},x.uint8array={string:y,array:function(_){return k(_,new Array(_.length))},arraybuffer:function(_){return _.buffer},uint8array:g,nodebuffer:function(_){return h.newBufferFrom(_)}},x.nodebuffer={string:y,array:function(_){return k(_,new Array(_.length))},arraybuffer:function(_){return x.nodebuffer.uint8array(_).buffer},uint8array:function(_){return k(_,new Uint8Array(_.length))},nodebuffer:g},a.transformTo=function(_,D){if(D=D||"",!_)return D;a.checkSupport(_);var E=a.getTypeOf(D);return x[E][_](D)},a.resolve=function(_){for(var D=_.split("/"),E=[],N=0;N<D.length;N++){var P=D[N];P==="."||P===""&&N!==0&&N!==D.length-1||(P===".."?E.pop():E.push(P))}return E.join("/")},a.getTypeOf=function(_){return typeof _=="string"?"string":Object.prototype.toString.call(_)==="[object Array]"?"array":l.nodebuffer&&h.isBuffer(_)?"nodebuffer":l.uint8array&&_ instanceof Uint8Array?"uint8array":l.arraybuffer&&_ instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(_){if(!l[_.toLowerCase()])throw new Error(_+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(_){var D,E,N="";for(E=0;E<(_||"").length;E++)N+="\\x"+((D=_.charCodeAt(E))<16?"0":"")+D.toString(16).toUpperCase();return N},a.delay=function(_,D,E){setImmediate(function(){_.apply(E||null,D||[])})},a.inherits=function(_,D){function E(){}E.prototype=D.prototype,_.prototype=new E},a.extend=function(){var _,D,E={};for(_=0;_<arguments.length;_++)for(D in arguments[_])Object.prototype.hasOwnProperty.call(arguments[_],D)&&E[D]===void 0&&(E[D]=arguments[_][D]);return E},a.prepareContent=function(_,D,E,N,P){return p.Promise.resolve(D).then(function(F){return l.blob&&(F instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(F))!==-1)&&typeof FileReader<"u"?new p.Promise(function(V,$){var M=new FileReader;M.onload=function(B){V(B.target.result)},M.onerror=function(B){$(B.target.error)},M.readAsArrayBuffer(F)}):F}).then(function(F){var V=a.getTypeOf(F);return V?(V==="arraybuffer"?F=a.transformTo("uint8array",F):V==="string"&&(P?F=d.decode(F):E&&N!==!0&&(F=function($){return b($,l.uint8array?new Uint8Array($.length):new Array($.length))}(F))),F):p.Promise.reject(new Error("Can't read the data of '"+_+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,o,a){var l=n("./reader/readerFor"),d=n("./utils"),h=n("./signature"),p=n("./zipEntry"),g=n("./support");function b(v){this.files=[],this.loadOptions=v}b.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(y)+", expected "+d.pretty(v)+")")}},isSignature:function(v,y){var k=this.reader.index;this.reader.setIndex(v);var x=this.reader.readString(4)===y;return this.reader.setIndex(k),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),y=g.uint8array?"uint8array":"array",k=d.transformTo(y,v);this.zipComment=this.loadOptions.decodeFileName(k)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,y,k,x=this.zip64EndOfCentralSize-44;0<x;)v=this.reader.readInt(2),y=this.reader.readInt(4),k=this.reader.readData(y),this.zip64ExtensibleData[v]={id:v,length:y,value:k}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,y;for(v=0;v<this.files.length;v++)y=this.files[v],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(v=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var y=v;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var k=this.centralDirOffset+this.centralDirSize;this.zip64&&(k+=20,k+=12+this.zip64EndOfCentralSize);var x=y-k;if(0<x)this.isSignature(y,h.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(v){this.reader=l(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=b},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,o,a){var l=n("./reader/readerFor"),d=n("./utils"),h=n("./compressedObject"),p=n("./crc32"),g=n("./utf8"),b=n("./compressions"),v=n("./support");function y(k,x){this.options=k,this.loadOptions=x}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(k){var x,_;if(k.skip(22),this.fileNameLength=k.readInt(2),_=k.readInt(2),this.fileName=k.readData(this.fileNameLength),k.skip(_),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(D){for(var E in b)if(Object.prototype.hasOwnProperty.call(b,E)&&b[E].magic===D)return b[E];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,x,k.readData(this.compressedSize))},readCentralPart:function(k){this.versionMadeBy=k.readInt(2),k.skip(2),this.bitFlag=k.readInt(2),this.compressionMethod=k.readString(2),this.date=k.readDate(),this.crc32=k.readInt(4),this.compressedSize=k.readInt(4),this.uncompressedSize=k.readInt(4);var x=k.readInt(2);if(this.extraFieldsLength=k.readInt(2),this.fileCommentLength=k.readInt(2),this.diskNumberStart=k.readInt(2),this.internalFileAttributes=k.readInt(2),this.externalFileAttributes=k.readInt(4),this.localHeaderOffset=k.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");k.skip(x),this.readExtraFields(k),this.parseZIP64ExtraField(k),this.fileComment=k.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var k=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),k==0&&(this.dosPermissions=63&this.externalFileAttributes),k==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var k=l(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=k.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=k.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=k.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=k.readInt(4))}},readExtraFields:function(k){var x,_,D,E=k.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});k.index+4<E;)x=k.readInt(2),_=k.readInt(2),D=k.readData(_),this.extraFields[x]={id:x,length:_,value:D};k.setIndex(E)},handleUTF8:function(){var k=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var _=d.transformTo(k,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_)}var D=this.findExtraFieldUnicodeComment();if(D!==null)this.fileCommentStr=D;else{var E=d.transformTo(k,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var k=this.extraFields[28789];if(k){var x=l(k.value);return x.readInt(1)!==1||p(this.fileName)!==x.readInt(4)?null:g.utf8decode(x.readData(k.length-5))}return null},findExtraFieldUnicodeComment:function(){var k=this.extraFields[25461];if(k){var x=l(k.value);return x.readInt(1)!==1||p(this.fileComment)!==x.readInt(4)?null:g.utf8decode(x.readData(k.length-5))}return null}},o.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,o,a){function l(x,_,D){this.name=x,this.dir=D.dir,this.date=D.date,this.comment=D.comment,this.unixPermissions=D.unixPermissions,this.dosPermissions=D.dosPermissions,this._data=_,this._dataBinary=D.binary,this.options={compression:D.compression,compressionOptions:D.compressionOptions}}var d=n("./stream/StreamHelper"),h=n("./stream/DataWorker"),p=n("./utf8"),g=n("./compressedObject"),b=n("./stream/GenericWorker");l.prototype={internalStream:function(x){var _=null,D="string";try{if(!x)throw new Error("No output type specified.");var E=(D=x.toLowerCase())==="string"||D==="text";D!=="binarystring"&&D!=="text"||(D="string"),_=this._decompressWorker();var N=!this._dataBinary;N&&!E&&(_=_.pipe(new p.Utf8EncodeWorker)),!N&&E&&(_=_.pipe(new p.Utf8DecodeWorker))}catch(P){(_=new b("error")).error(P)}return new d(_,D,"")},async:function(x,_){return this.internalStream(x).accumulate(_)},nodeStream:function(x,_){return this.internalStream(x||"nodebuffer").toNodejsStream(_)},_compressWorker:function(x,_){if(this._data instanceof g&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var D=this._decompressWorker();return this._dataBinary||(D=D.pipe(new p.Utf8EncodeWorker)),g.createWorkerFrom(D,x,_)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof b?this._data:new h(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},k=0;k<v.length;k++)l.prototype[v[k]]=y;o.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,o,a){(function(l){var d,h,p=l.MutationObserver||l.WebKitMutationObserver;if(p){var g=0,b=new p(x),v=l.document.createTextNode("");b.observe(v,{characterData:!0}),d=function(){v.data=g=++g%2}}else if(l.setImmediate||l.MessageChannel===void 0)d="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var _=l.document.createElement("script");_.onreadystatechange=function(){x(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},l.document.documentElement.appendChild(_)}:function(){setTimeout(x,0)};else{var y=new l.MessageChannel;y.port1.onmessage=x,d=function(){y.port2.postMessage(0)}}var k=[];function x(){var _,D;h=!0;for(var E=k.length;E;){for(D=k,k=[],_=-1;++_<E;)D[_]();E=k.length}h=!1}o.exports=function(_){k.push(_)!==1||h||d()}}).call(this,typeof Ku<"u"?Ku:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,o,a){var l=n("immediate");function d(){}var h={},p=["REJECTED"],g=["FULFILLED"],b=["PENDING"];function v(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,E!==d&&_(this,E)}function y(E,N,P){this.promise=E,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function k(E,N,P){l(function(){var F;try{F=N(P)}catch(V){return h.reject(E,V)}F===E?h.reject(E,new TypeError("Cannot resolve promise with itself")):h.resolve(E,F)})}function x(E){var N=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof N=="function")return function(){N.apply(E,arguments)}}function _(E,N){var P=!1;function F(M){P||(P=!0,h.reject(E,M))}function V(M){P||(P=!0,h.resolve(E,M))}var $=D(function(){N(V,F)});$.status==="error"&&F($.value)}function D(E,N){var P={};try{P.value=E(N),P.status="success"}catch(F){P.status="error",P.value=F}return P}(o.exports=v).prototype.finally=function(E){if(typeof E!="function")return this;var N=this.constructor;return this.then(function(P){return N.resolve(E()).then(function(){return P})},function(P){return N.resolve(E()).then(function(){throw P})})},v.prototype.catch=function(E){return this.then(null,E)},v.prototype.then=function(E,N){if(typeof E!="function"&&this.state===g||typeof N!="function"&&this.state===p)return this;var P=new this.constructor(d);return this.state!==b?k(P,this.state===g?E:N,this.outcome):this.queue.push(new y(P,E,N)),P},y.prototype.callFulfilled=function(E){h.resolve(this.promise,E)},y.prototype.otherCallFulfilled=function(E){k(this.promise,this.onFulfilled,E)},y.prototype.callRejected=function(E){h.reject(this.promise,E)},y.prototype.otherCallRejected=function(E){k(this.promise,this.onRejected,E)},h.resolve=function(E,N){var P=D(x,N);if(P.status==="error")return h.reject(E,P.value);var F=P.value;if(F)_(E,F);else{E.state=g,E.outcome=N;for(var V=-1,$=E.queue.length;++V<$;)E.queue[V].callFulfilled(N)}return E},h.reject=function(E,N){E.state=p,E.outcome=N;for(var P=-1,F=E.queue.length;++P<F;)E.queue[P].callRejected(N);return E},v.resolve=function(E){return E instanceof this?E:h.resolve(new this(d),E)},v.reject=function(E){var N=new this(d);return h.reject(N,E)},v.all=function(E){var N=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=E.length,F=!1;if(!P)return this.resolve([]);for(var V=new Array(P),$=0,M=-1,B=new this(d);++M<P;)q(E[M],M);return B;function q(Q,H){N.resolve(Q).then(function(R){V[H]=R,++$!==P||F||(F=!0,h.resolve(B,V))},function(R){F||(F=!0,h.reject(B,R))})}},v.race=function(E){var N=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=E.length,F=!1;if(!P)return this.resolve([]);for(var V=-1,$=new this(d);++V<P;)M=E[V],N.resolve(M).then(function(B){F||(F=!0,h.resolve($,B))},function(B){F||(F=!0,h.reject($,B))});var M;return $}},{immediate:36}],38:[function(n,o,a){var l={};(0,n("./lib/utils/common").assign)(l,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),o.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,o,a){var l=n("./zlib/deflate"),d=n("./utils/common"),h=n("./utils/strings"),p=n("./zlib/messages"),g=n("./zlib/zstream"),b=Object.prototype.toString,v=0,y=-1,k=0,x=8;function _(E){if(!(this instanceof _))return new _(E);this.options=d.assign({level:y,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:k,to:""},E||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var P=l.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(P!==v)throw new Error(p[P]);if(N.header&&l.deflateSetHeader(this.strm,N.header),N.dictionary){var F;if(F=typeof N.dictionary=="string"?h.string2buf(N.dictionary):b.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(P=l.deflateSetDictionary(this.strm,F))!==v)throw new Error(p[P]);this._dict_set=!0}}function D(E,N){var P=new _(N);if(P.push(E,!0),P.err)throw P.msg||p[P.err];return P.result}_.prototype.push=function(E,N){var P,F,V=this.strm,$=this.options.chunkSize;if(this.ended)return!1;F=N===~~N?N:N===!0?4:0,typeof E=="string"?V.input=h.string2buf(E):b.call(E)==="[object ArrayBuffer]"?V.input=new Uint8Array(E):V.input=E,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new d.Buf8($),V.next_out=0,V.avail_out=$),(P=l.deflate(V,F))!==1&&P!==v)return this.onEnd(P),!(this.ended=!0);V.avail_out!==0&&(V.avail_in!==0||F!==4&&F!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(d.shrinkBuf(V.output,V.next_out))):this.onData(d.shrinkBuf(V.output,V.next_out)))}while((0<V.avail_in||V.avail_out===0)&&P!==1);return F===4?(P=l.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===v):F!==2||(this.onEnd(v),!(V.avail_out=0))},_.prototype.onData=function(E){this.chunks.push(E)},_.prototype.onEnd=function(E){E===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},a.Deflate=_,a.deflate=D,a.deflateRaw=function(E,N){return(N=N||{}).raw=!0,D(E,N)},a.gzip=function(E,N){return(N=N||{}).gzip=!0,D(E,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,o,a){var l=n("./zlib/inflate"),d=n("./utils/common"),h=n("./utils/strings"),p=n("./zlib/constants"),g=n("./zlib/messages"),b=n("./zlib/zstream"),v=n("./zlib/gzheader"),y=Object.prototype.toString;function k(_){if(!(this instanceof k))return new k(_);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},_||{});var D=this.options;D.raw&&0<=D.windowBits&&D.windowBits<16&&(D.windowBits=-D.windowBits,D.windowBits===0&&(D.windowBits=-15)),!(0<=D.windowBits&&D.windowBits<16)||_&&_.windowBits||(D.windowBits+=32),15<D.windowBits&&D.windowBits<48&&(15&D.windowBits)==0&&(D.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var E=l.inflateInit2(this.strm,D.windowBits);if(E!==p.Z_OK)throw new Error(g[E]);this.header=new v,l.inflateGetHeader(this.strm,this.header)}function x(_,D){var E=new k(D);if(E.push(_,!0),E.err)throw E.msg||g[E.err];return E.result}k.prototype.push=function(_,D){var E,N,P,F,V,$,M=this.strm,B=this.options.chunkSize,q=this.options.dictionary,Q=!1;if(this.ended)return!1;N=D===~~D?D:D===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof _=="string"?M.input=h.binstring2buf(_):y.call(_)==="[object ArrayBuffer]"?M.input=new Uint8Array(_):M.input=_,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new d.Buf8(B),M.next_out=0,M.avail_out=B),(E=l.inflate(M,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&q&&($=typeof q=="string"?h.string2buf(q):y.call(q)==="[object ArrayBuffer]"?new Uint8Array(q):q,E=l.inflateSetDictionary(this.strm,$)),E===p.Z_BUF_ERROR&&Q===!0&&(E=p.Z_OK,Q=!1),E!==p.Z_STREAM_END&&E!==p.Z_OK)return this.onEnd(E),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&E!==p.Z_STREAM_END&&(M.avail_in!==0||N!==p.Z_FINISH&&N!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=h.utf8border(M.output,M.next_out),F=M.next_out-P,V=h.buf2string(M.output,P),M.next_out=F,M.avail_out=B-F,F&&d.arraySet(M.output,M.output,P,F,0),this.onData(V)):this.onData(d.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(Q=!0)}while((0<M.avail_in||M.avail_out===0)&&E!==p.Z_STREAM_END);return E===p.Z_STREAM_END&&(N=p.Z_FINISH),N===p.Z_FINISH?(E=l.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===p.Z_OK):N!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(M.avail_out=0))},k.prototype.onData=function(_){this.chunks.push(_)},k.prototype.onEnd=function(_){_===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},a.Inflate=k,a.inflate=x,a.inflateRaw=function(_,D){return(D=D||{}).raw=!0,x(_,D)},a.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,o,a){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(p){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var b=g.shift();if(b){if(typeof b!="object")throw new TypeError(b+"must be non-object");for(var v in b)b.hasOwnProperty(v)&&(p[v]=b[v])}}return p},a.shrinkBuf=function(p,g){return p.length===g?p:p.subarray?p.subarray(0,g):(p.length=g,p)};var d={arraySet:function(p,g,b,v,y){if(g.subarray&&p.subarray)p.set(g.subarray(b,b+v),y);else for(var k=0;k<v;k++)p[y+k]=g[b+k]},flattenChunks:function(p){var g,b,v,y,k,x;for(g=v=0,b=p.length;g<b;g++)v+=p[g].length;for(x=new Uint8Array(v),g=y=0,b=p.length;g<b;g++)k=p[g],x.set(k,y),y+=k.length;return x}},h={arraySet:function(p,g,b,v,y){for(var k=0;k<v;k++)p[y+k]=g[b+k]},flattenChunks:function(p){return[].concat.apply([],p)}};a.setTyped=function(p){p?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,d)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,h))},a.setTyped(l)},{}],42:[function(n,o,a){var l=n("./common"),d=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var p=new l.Buf8(256),g=0;g<256;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function b(v,y){if(y<65537&&(v.subarray&&h||!v.subarray&&d))return String.fromCharCode.apply(null,l.shrinkBuf(v,y));for(var k="",x=0;x<y;x++)k+=String.fromCharCode(v[x]);return k}p[254]=p[254]=1,a.string2buf=function(v){var y,k,x,_,D,E=v.length,N=0;for(_=0;_<E;_++)(64512&(k=v.charCodeAt(_)))==55296&&_+1<E&&(64512&(x=v.charCodeAt(_+1)))==56320&&(k=65536+(k-55296<<10)+(x-56320),_++),N+=k<128?1:k<2048?2:k<65536?3:4;for(y=new l.Buf8(N),_=D=0;D<N;_++)(64512&(k=v.charCodeAt(_)))==55296&&_+1<E&&(64512&(x=v.charCodeAt(_+1)))==56320&&(k=65536+(k-55296<<10)+(x-56320),_++),k<128?y[D++]=k:(k<2048?y[D++]=192|k>>>6:(k<65536?y[D++]=224|k>>>12:(y[D++]=240|k>>>18,y[D++]=128|k>>>12&63),y[D++]=128|k>>>6&63),y[D++]=128|63&k);return y},a.buf2binstring=function(v){return b(v,v.length)},a.binstring2buf=function(v){for(var y=new l.Buf8(v.length),k=0,x=y.length;k<x;k++)y[k]=v.charCodeAt(k);return y},a.buf2string=function(v,y){var k,x,_,D,E=y||v.length,N=new Array(2*E);for(k=x=0;k<E;)if((_=v[k++])<128)N[x++]=_;else if(4<(D=p[_]))N[x++]=65533,k+=D-1;else{for(_&=D===2?31:D===3?15:7;1<D&&k<E;)_=_<<6|63&v[k++],D--;1<D?N[x++]=65533:_<65536?N[x++]=_:(_-=65536,N[x++]=55296|_>>10&1023,N[x++]=56320|1023&_)}return b(N,x)},a.utf8border=function(v,y){var k;for((y=y||v.length)>v.length&&(y=v.length),k=y-1;0<=k&&(192&v[k])==128;)k--;return k<0||k===0?y:k+p[v[k]]>y?k:y}},{"./common":41}],43:[function(n,o,a){o.exports=function(l,d,h,p){for(var g=65535&l|0,b=l>>>16&65535|0,v=0;h!==0;){for(h-=v=2e3<h?2e3:h;b=b+(g=g+d[p++]|0)|0,--v;);g%=65521,b%=65521}return g|b<<16|0}},{}],44:[function(n,o,a){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,o,a){var l=function(){for(var d,h=[],p=0;p<256;p++){d=p;for(var g=0;g<8;g++)d=1&d?3988292384^d>>>1:d>>>1;h[p]=d}return h}();o.exports=function(d,h,p,g){var b=l,v=g+p;d^=-1;for(var y=g;y<v;y++)d=d>>>8^b[255&(d^h[y])];return-1^d}},{}],46:[function(n,o,a){var l,d=n("../utils/common"),h=n("./trees"),p=n("./adler32"),g=n("./crc32"),b=n("./messages"),v=0,y=4,k=0,x=-2,_=-1,D=4,E=2,N=8,P=9,F=286,V=30,$=19,M=2*F+1,B=15,q=3,Q=258,H=Q+q+1,R=42,K=113,j=1,ne=2,de=3,se=4;function oe(Z,Ce){return Z.msg=b[Ce],Ce}function ye(Z){return(Z<<1)-(4<Z?9:0)}function re(Z){for(var Ce=Z.length;0<=--Ce;)Z[Ce]=0}function _e(Z){var Ce=Z.state,ue=Ce.pending;ue>Z.avail_out&&(ue=Z.avail_out),ue!==0&&(d.arraySet(Z.output,Ce.pending_buf,Ce.pending_out,ue,Z.next_out),Z.next_out+=ue,Ce.pending_out+=ue,Z.total_out+=ue,Z.avail_out-=ue,Ce.pending-=ue,Ce.pending===0&&(Ce.pending_out=0))}function X(Z,Ce){h._tr_flush_block(Z,0<=Z.block_start?Z.block_start:-1,Z.strstart-Z.block_start,Ce),Z.block_start=Z.strstart,_e(Z.strm)}function J(Z,Ce){Z.pending_buf[Z.pending++]=Ce}function ae(Z,Ce){Z.pending_buf[Z.pending++]=Ce>>>8&255,Z.pending_buf[Z.pending++]=255&Ce}function pe(Z,Ce){var ue,ge,he=Z.max_chain_length,Ae=Z.strstart,Me=Z.prev_length,Te=Z.nice_match,Ee=Z.strstart>Z.w_size-H?Z.strstart-(Z.w_size-H):0,qe=Z.window,Ve=Z.w_mask,He=Z.prev,st=Z.strstart+Q,Fe=qe[Ae+Me-1],Ye=qe[Ae+Me];Z.prev_length>=Z.good_match&&(he>>=2),Te>Z.lookahead&&(Te=Z.lookahead);do if(qe[(ue=Ce)+Me]===Ye&&qe[ue+Me-1]===Fe&&qe[ue]===qe[Ae]&&qe[++ue]===qe[Ae+1]){Ae+=2,ue++;do;while(qe[++Ae]===qe[++ue]&&qe[++Ae]===qe[++ue]&&qe[++Ae]===qe[++ue]&&qe[++Ae]===qe[++ue]&&qe[++Ae]===qe[++ue]&&qe[++Ae]===qe[++ue]&&qe[++Ae]===qe[++ue]&&qe[++Ae]===qe[++ue]&&Ae<st);if(ge=Q-(st-Ae),Ae=st-Q,Me<ge){if(Z.match_start=Ce,Te<=(Me=ge))break;Fe=qe[Ae+Me-1],Ye=qe[Ae+Me]}}while((Ce=He[Ce&Ve])>Ee&&--he!=0);return Me<=Z.lookahead?Me:Z.lookahead}function we(Z){var Ce,ue,ge,he,Ae,Me,Te,Ee,qe,Ve,He=Z.w_size;do{if(he=Z.window_size-Z.lookahead-Z.strstart,Z.strstart>=He+(He-H)){for(d.arraySet(Z.window,Z.window,He,He,0),Z.match_start-=He,Z.strstart-=He,Z.block_start-=He,Ce=ue=Z.hash_size;ge=Z.head[--Ce],Z.head[Ce]=He<=ge?ge-He:0,--ue;);for(Ce=ue=He;ge=Z.prev[--Ce],Z.prev[Ce]=He<=ge?ge-He:0,--ue;);he+=He}if(Z.strm.avail_in===0)break;if(Me=Z.strm,Te=Z.window,Ee=Z.strstart+Z.lookahead,qe=he,Ve=void 0,Ve=Me.avail_in,qe<Ve&&(Ve=qe),ue=Ve===0?0:(Me.avail_in-=Ve,d.arraySet(Te,Me.input,Me.next_in,Ve,Ee),Me.state.wrap===1?Me.adler=p(Me.adler,Te,Ve,Ee):Me.state.wrap===2&&(Me.adler=g(Me.adler,Te,Ve,Ee)),Me.next_in+=Ve,Me.total_in+=Ve,Ve),Z.lookahead+=ue,Z.lookahead+Z.insert>=q)for(Ae=Z.strstart-Z.insert,Z.ins_h=Z.window[Ae],Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Ae+1])&Z.hash_mask;Z.insert&&(Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Ae+q-1])&Z.hash_mask,Z.prev[Ae&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=Ae,Ae++,Z.insert--,!(Z.lookahead+Z.insert<q)););}while(Z.lookahead<H&&Z.strm.avail_in!==0)}function Pe(Z,Ce){for(var ue,ge;;){if(Z.lookahead<H){if(we(Z),Z.lookahead<H&&Ce===v)return j;if(Z.lookahead===0)break}if(ue=0,Z.lookahead>=q&&(Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Z.strstart+q-1])&Z.hash_mask,ue=Z.prev[Z.strstart&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=Z.strstart),ue!==0&&Z.strstart-ue<=Z.w_size-H&&(Z.match_length=pe(Z,ue)),Z.match_length>=q)if(ge=h._tr_tally(Z,Z.strstart-Z.match_start,Z.match_length-q),Z.lookahead-=Z.match_length,Z.match_length<=Z.max_lazy_match&&Z.lookahead>=q){for(Z.match_length--;Z.strstart++,Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Z.strstart+q-1])&Z.hash_mask,ue=Z.prev[Z.strstart&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=Z.strstart,--Z.match_length!=0;);Z.strstart++}else Z.strstart+=Z.match_length,Z.match_length=0,Z.ins_h=Z.window[Z.strstart],Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Z.strstart+1])&Z.hash_mask;else ge=h._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++;if(ge&&(X(Z,!1),Z.strm.avail_out===0))return j}return Z.insert=Z.strstart<q-1?Z.strstart:q-1,Ce===y?(X(Z,!0),Z.strm.avail_out===0?de:se):Z.last_lit&&(X(Z,!1),Z.strm.avail_out===0)?j:ne}function Ie(Z,Ce){for(var ue,ge,he;;){if(Z.lookahead<H){if(we(Z),Z.lookahead<H&&Ce===v)return j;if(Z.lookahead===0)break}if(ue=0,Z.lookahead>=q&&(Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Z.strstart+q-1])&Z.hash_mask,ue=Z.prev[Z.strstart&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=Z.strstart),Z.prev_length=Z.match_length,Z.prev_match=Z.match_start,Z.match_length=q-1,ue!==0&&Z.prev_length<Z.max_lazy_match&&Z.strstart-ue<=Z.w_size-H&&(Z.match_length=pe(Z,ue),Z.match_length<=5&&(Z.strategy===1||Z.match_length===q&&4096<Z.strstart-Z.match_start)&&(Z.match_length=q-1)),Z.prev_length>=q&&Z.match_length<=Z.prev_length){for(he=Z.strstart+Z.lookahead-q,ge=h._tr_tally(Z,Z.strstart-1-Z.prev_match,Z.prev_length-q),Z.lookahead-=Z.prev_length-1,Z.prev_length-=2;++Z.strstart<=he&&(Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Z.strstart+q-1])&Z.hash_mask,ue=Z.prev[Z.strstart&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=Z.strstart),--Z.prev_length!=0;);if(Z.match_available=0,Z.match_length=q-1,Z.strstart++,ge&&(X(Z,!1),Z.strm.avail_out===0))return j}else if(Z.match_available){if((ge=h._tr_tally(Z,0,Z.window[Z.strstart-1]))&&X(Z,!1),Z.strstart++,Z.lookahead--,Z.strm.avail_out===0)return j}else Z.match_available=1,Z.strstart++,Z.lookahead--}return Z.match_available&&(ge=h._tr_tally(Z,0,Z.window[Z.strstart-1]),Z.match_available=0),Z.insert=Z.strstart<q-1?Z.strstart:q-1,Ce===y?(X(Z,!0),Z.strm.avail_out===0?de:se):Z.last_lit&&(X(Z,!1),Z.strm.avail_out===0)?j:ne}function Ne(Z,Ce,ue,ge,he){this.good_length=Z,this.max_lazy=Ce,this.nice_length=ue,this.max_chain=ge,this.func=he}function rt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*M),this.dyn_dtree=new d.Buf16(2*(2*V+1)),this.bl_tree=new d.Buf16(2*(2*$+1)),re(this.dyn_ltree),re(this.dyn_dtree),re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(B+1),this.heap=new d.Buf16(2*F+1),re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*F+1),re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Qe(Z){var Ce;return Z&&Z.state?(Z.total_in=Z.total_out=0,Z.data_type=E,(Ce=Z.state).pending=0,Ce.pending_out=0,Ce.wrap<0&&(Ce.wrap=-Ce.wrap),Ce.status=Ce.wrap?R:K,Z.adler=Ce.wrap===2?0:1,Ce.last_flush=v,h._tr_init(Ce),k):oe(Z,x)}function Je(Z){var Ce=Qe(Z);return Ce===k&&function(ue){ue.window_size=2*ue.w_size,re(ue.head),ue.max_lazy_match=l[ue.level].max_lazy,ue.good_match=l[ue.level].good_length,ue.nice_match=l[ue.level].nice_length,ue.max_chain_length=l[ue.level].max_chain,ue.strstart=0,ue.block_start=0,ue.lookahead=0,ue.insert=0,ue.match_length=ue.prev_length=q-1,ue.match_available=0,ue.ins_h=0}(Z.state),Ce}function Ue(Z,Ce,ue,ge,he,Ae){if(!Z)return x;var Me=1;if(Ce===_&&(Ce=6),ge<0?(Me=0,ge=-ge):15<ge&&(Me=2,ge-=16),he<1||P<he||ue!==N||ge<8||15<ge||Ce<0||9<Ce||Ae<0||D<Ae)return oe(Z,x);ge===8&&(ge=9);var Te=new rt;return(Z.state=Te).strm=Z,Te.wrap=Me,Te.gzhead=null,Te.w_bits=ge,Te.w_size=1<<Te.w_bits,Te.w_mask=Te.w_size-1,Te.hash_bits=he+7,Te.hash_size=1<<Te.hash_bits,Te.hash_mask=Te.hash_size-1,Te.hash_shift=~~((Te.hash_bits+q-1)/q),Te.window=new d.Buf8(2*Te.w_size),Te.head=new d.Buf16(Te.hash_size),Te.prev=new d.Buf16(Te.w_size),Te.lit_bufsize=1<<he+6,Te.pending_buf_size=4*Te.lit_bufsize,Te.pending_buf=new d.Buf8(Te.pending_buf_size),Te.d_buf=1*Te.lit_bufsize,Te.l_buf=3*Te.lit_bufsize,Te.level=Ce,Te.strategy=Ae,Te.method=ue,Je(Z)}l=[new Ne(0,0,0,0,function(Z,Ce){var ue=65535;for(ue>Z.pending_buf_size-5&&(ue=Z.pending_buf_size-5);;){if(Z.lookahead<=1){if(we(Z),Z.lookahead===0&&Ce===v)return j;if(Z.lookahead===0)break}Z.strstart+=Z.lookahead,Z.lookahead=0;var ge=Z.block_start+ue;if((Z.strstart===0||Z.strstart>=ge)&&(Z.lookahead=Z.strstart-ge,Z.strstart=ge,X(Z,!1),Z.strm.avail_out===0)||Z.strstart-Z.block_start>=Z.w_size-H&&(X(Z,!1),Z.strm.avail_out===0))return j}return Z.insert=0,Ce===y?(X(Z,!0),Z.strm.avail_out===0?de:se):(Z.strstart>Z.block_start&&(X(Z,!1),Z.strm.avail_out),j)}),new Ne(4,4,8,4,Pe),new Ne(4,5,16,8,Pe),new Ne(4,6,32,32,Pe),new Ne(4,4,16,16,Ie),new Ne(8,16,32,32,Ie),new Ne(8,16,128,128,Ie),new Ne(8,32,128,256,Ie),new Ne(32,128,258,1024,Ie),new Ne(32,258,258,4096,Ie)],a.deflateInit=function(Z,Ce){return Ue(Z,Ce,N,15,8,0)},a.deflateInit2=Ue,a.deflateReset=Je,a.deflateResetKeep=Qe,a.deflateSetHeader=function(Z,Ce){return Z&&Z.state?Z.state.wrap!==2?x:(Z.state.gzhead=Ce,k):x},a.deflate=function(Z,Ce){var ue,ge,he,Ae;if(!Z||!Z.state||5<Ce||Ce<0)return Z?oe(Z,x):x;if(ge=Z.state,!Z.output||!Z.input&&Z.avail_in!==0||ge.status===666&&Ce!==y)return oe(Z,Z.avail_out===0?-5:x);if(ge.strm=Z,ue=ge.last_flush,ge.last_flush=Ce,ge.status===R)if(ge.wrap===2)Z.adler=0,J(ge,31),J(ge,139),J(ge,8),ge.gzhead?(J(ge,(ge.gzhead.text?1:0)+(ge.gzhead.hcrc?2:0)+(ge.gzhead.extra?4:0)+(ge.gzhead.name?8:0)+(ge.gzhead.comment?16:0)),J(ge,255&ge.gzhead.time),J(ge,ge.gzhead.time>>8&255),J(ge,ge.gzhead.time>>16&255),J(ge,ge.gzhead.time>>24&255),J(ge,ge.level===9?2:2<=ge.strategy||ge.level<2?4:0),J(ge,255&ge.gzhead.os),ge.gzhead.extra&&ge.gzhead.extra.length&&(J(ge,255&ge.gzhead.extra.length),J(ge,ge.gzhead.extra.length>>8&255)),ge.gzhead.hcrc&&(Z.adler=g(Z.adler,ge.pending_buf,ge.pending,0)),ge.gzindex=0,ge.status=69):(J(ge,0),J(ge,0),J(ge,0),J(ge,0),J(ge,0),J(ge,ge.level===9?2:2<=ge.strategy||ge.level<2?4:0),J(ge,3),ge.status=K);else{var Me=N+(ge.w_bits-8<<4)<<8;Me|=(2<=ge.strategy||ge.level<2?0:ge.level<6?1:ge.level===6?2:3)<<6,ge.strstart!==0&&(Me|=32),Me+=31-Me%31,ge.status=K,ae(ge,Me),ge.strstart!==0&&(ae(ge,Z.adler>>>16),ae(ge,65535&Z.adler)),Z.adler=1}if(ge.status===69)if(ge.gzhead.extra){for(he=ge.pending;ge.gzindex<(65535&ge.gzhead.extra.length)&&(ge.pending!==ge.pending_buf_size||(ge.gzhead.hcrc&&ge.pending>he&&(Z.adler=g(Z.adler,ge.pending_buf,ge.pending-he,he)),_e(Z),he=ge.pending,ge.pending!==ge.pending_buf_size));)J(ge,255&ge.gzhead.extra[ge.gzindex]),ge.gzindex++;ge.gzhead.hcrc&&ge.pending>he&&(Z.adler=g(Z.adler,ge.pending_buf,ge.pending-he,he)),ge.gzindex===ge.gzhead.extra.length&&(ge.gzindex=0,ge.status=73)}else ge.status=73;if(ge.status===73)if(ge.gzhead.name){he=ge.pending;do{if(ge.pending===ge.pending_buf_size&&(ge.gzhead.hcrc&&ge.pending>he&&(Z.adler=g(Z.adler,ge.pending_buf,ge.pending-he,he)),_e(Z),he=ge.pending,ge.pending===ge.pending_buf_size)){Ae=1;break}Ae=ge.gzindex<ge.gzhead.name.length?255&ge.gzhead.name.charCodeAt(ge.gzindex++):0,J(ge,Ae)}while(Ae!==0);ge.gzhead.hcrc&&ge.pending>he&&(Z.adler=g(Z.adler,ge.pending_buf,ge.pending-he,he)),Ae===0&&(ge.gzindex=0,ge.status=91)}else ge.status=91;if(ge.status===91)if(ge.gzhead.comment){he=ge.pending;do{if(ge.pending===ge.pending_buf_size&&(ge.gzhead.hcrc&&ge.pending>he&&(Z.adler=g(Z.adler,ge.pending_buf,ge.pending-he,he)),_e(Z),he=ge.pending,ge.pending===ge.pending_buf_size)){Ae=1;break}Ae=ge.gzindex<ge.gzhead.comment.length?255&ge.gzhead.comment.charCodeAt(ge.gzindex++):0,J(ge,Ae)}while(Ae!==0);ge.gzhead.hcrc&&ge.pending>he&&(Z.adler=g(Z.adler,ge.pending_buf,ge.pending-he,he)),Ae===0&&(ge.status=103)}else ge.status=103;if(ge.status===103&&(ge.gzhead.hcrc?(ge.pending+2>ge.pending_buf_size&&_e(Z),ge.pending+2<=ge.pending_buf_size&&(J(ge,255&Z.adler),J(ge,Z.adler>>8&255),Z.adler=0,ge.status=K)):ge.status=K),ge.pending!==0){if(_e(Z),Z.avail_out===0)return ge.last_flush=-1,k}else if(Z.avail_in===0&&ye(Ce)<=ye(ue)&&Ce!==y)return oe(Z,-5);if(ge.status===666&&Z.avail_in!==0)return oe(Z,-5);if(Z.avail_in!==0||ge.lookahead!==0||Ce!==v&&ge.status!==666){var Te=ge.strategy===2?function(Ee,qe){for(var Ve;;){if(Ee.lookahead===0&&(we(Ee),Ee.lookahead===0)){if(qe===v)return j;break}if(Ee.match_length=0,Ve=h._tr_tally(Ee,0,Ee.window[Ee.strstart]),Ee.lookahead--,Ee.strstart++,Ve&&(X(Ee,!1),Ee.strm.avail_out===0))return j}return Ee.insert=0,qe===y?(X(Ee,!0),Ee.strm.avail_out===0?de:se):Ee.last_lit&&(X(Ee,!1),Ee.strm.avail_out===0)?j:ne}(ge,Ce):ge.strategy===3?function(Ee,qe){for(var Ve,He,st,Fe,Ye=Ee.window;;){if(Ee.lookahead<=Q){if(we(Ee),Ee.lookahead<=Q&&qe===v)return j;if(Ee.lookahead===0)break}if(Ee.match_length=0,Ee.lookahead>=q&&0<Ee.strstart&&(He=Ye[st=Ee.strstart-1])===Ye[++st]&&He===Ye[++st]&&He===Ye[++st]){Fe=Ee.strstart+Q;do;while(He===Ye[++st]&&He===Ye[++st]&&He===Ye[++st]&&He===Ye[++st]&&He===Ye[++st]&&He===Ye[++st]&&He===Ye[++st]&&He===Ye[++st]&&st<Fe);Ee.match_length=Q-(Fe-st),Ee.match_length>Ee.lookahead&&(Ee.match_length=Ee.lookahead)}if(Ee.match_length>=q?(Ve=h._tr_tally(Ee,1,Ee.match_length-q),Ee.lookahead-=Ee.match_length,Ee.strstart+=Ee.match_length,Ee.match_length=0):(Ve=h._tr_tally(Ee,0,Ee.window[Ee.strstart]),Ee.lookahead--,Ee.strstart++),Ve&&(X(Ee,!1),Ee.strm.avail_out===0))return j}return Ee.insert=0,qe===y?(X(Ee,!0),Ee.strm.avail_out===0?de:se):Ee.last_lit&&(X(Ee,!1),Ee.strm.avail_out===0)?j:ne}(ge,Ce):l[ge.level].func(ge,Ce);if(Te!==de&&Te!==se||(ge.status=666),Te===j||Te===de)return Z.avail_out===0&&(ge.last_flush=-1),k;if(Te===ne&&(Ce===1?h._tr_align(ge):Ce!==5&&(h._tr_stored_block(ge,0,0,!1),Ce===3&&(re(ge.head),ge.lookahead===0&&(ge.strstart=0,ge.block_start=0,ge.insert=0))),_e(Z),Z.avail_out===0))return ge.last_flush=-1,k}return Ce!==y?k:ge.wrap<=0?1:(ge.wrap===2?(J(ge,255&Z.adler),J(ge,Z.adler>>8&255),J(ge,Z.adler>>16&255),J(ge,Z.adler>>24&255),J(ge,255&Z.total_in),J(ge,Z.total_in>>8&255),J(ge,Z.total_in>>16&255),J(ge,Z.total_in>>24&255)):(ae(ge,Z.adler>>>16),ae(ge,65535&Z.adler)),_e(Z),0<ge.wrap&&(ge.wrap=-ge.wrap),ge.pending!==0?k:1)},a.deflateEnd=function(Z){var Ce;return Z&&Z.state?(Ce=Z.state.status)!==R&&Ce!==69&&Ce!==73&&Ce!==91&&Ce!==103&&Ce!==K&&Ce!==666?oe(Z,x):(Z.state=null,Ce===K?oe(Z,-3):k):x},a.deflateSetDictionary=function(Z,Ce){var ue,ge,he,Ae,Me,Te,Ee,qe,Ve=Ce.length;if(!Z||!Z.state||(Ae=(ue=Z.state).wrap)===2||Ae===1&&ue.status!==R||ue.lookahead)return x;for(Ae===1&&(Z.adler=p(Z.adler,Ce,Ve,0)),ue.wrap=0,Ve>=ue.w_size&&(Ae===0&&(re(ue.head),ue.strstart=0,ue.block_start=0,ue.insert=0),qe=new d.Buf8(ue.w_size),d.arraySet(qe,Ce,Ve-ue.w_size,ue.w_size,0),Ce=qe,Ve=ue.w_size),Me=Z.avail_in,Te=Z.next_in,Ee=Z.input,Z.avail_in=Ve,Z.next_in=0,Z.input=Ce,we(ue);ue.lookahead>=q;){for(ge=ue.strstart,he=ue.lookahead-(q-1);ue.ins_h=(ue.ins_h<<ue.hash_shift^ue.window[ge+q-1])&ue.hash_mask,ue.prev[ge&ue.w_mask]=ue.head[ue.ins_h],ue.head[ue.ins_h]=ge,ge++,--he;);ue.strstart=ge,ue.lookahead=q-1,we(ue)}return ue.strstart+=ue.lookahead,ue.block_start=ue.strstart,ue.insert=ue.lookahead,ue.lookahead=0,ue.match_length=ue.prev_length=q-1,ue.match_available=0,Z.next_in=Te,Z.input=Ee,Z.avail_in=Me,ue.wrap=Ae,k},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,o,a){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,o,a){o.exports=function(l,d){var h,p,g,b,v,y,k,x,_,D,E,N,P,F,V,$,M,B,q,Q,H,R,K,j,ne;h=l.state,p=l.next_in,j=l.input,g=p+(l.avail_in-5),b=l.next_out,ne=l.output,v=b-(d-l.avail_out),y=b+(l.avail_out-257),k=h.dmax,x=h.wsize,_=h.whave,D=h.wnext,E=h.window,N=h.hold,P=h.bits,F=h.lencode,V=h.distcode,$=(1<<h.lenbits)-1,M=(1<<h.distbits)-1;e:do{P<15&&(N+=j[p++]<<P,P+=8,N+=j[p++]<<P,P+=8),B=F[N&$];t:for(;;){if(N>>>=q=B>>>24,P-=q,(q=B>>>16&255)===0)ne[b++]=65535&B;else{if(!(16&q)){if((64&q)==0){B=F[(65535&B)+(N&(1<<q)-1)];continue t}if(32&q){h.mode=12;break e}l.msg="invalid literal/length code",h.mode=30;break e}Q=65535&B,(q&=15)&&(P<q&&(N+=j[p++]<<P,P+=8),Q+=N&(1<<q)-1,N>>>=q,P-=q),P<15&&(N+=j[p++]<<P,P+=8,N+=j[p++]<<P,P+=8),B=V[N&M];n:for(;;){if(N>>>=q=B>>>24,P-=q,!(16&(q=B>>>16&255))){if((64&q)==0){B=V[(65535&B)+(N&(1<<q)-1)];continue n}l.msg="invalid distance code",h.mode=30;break e}if(H=65535&B,P<(q&=15)&&(N+=j[p++]<<P,(P+=8)<q&&(N+=j[p++]<<P,P+=8)),k<(H+=N&(1<<q)-1)){l.msg="invalid distance too far back",h.mode=30;break e}if(N>>>=q,P-=q,(q=b-v)<H){if(_<(q=H-q)&&h.sane){l.msg="invalid distance too far back",h.mode=30;break e}if(K=E,(R=0)===D){if(R+=x-q,q<Q){for(Q-=q;ne[b++]=E[R++],--q;);R=b-H,K=ne}}else if(D<q){if(R+=x+D-q,(q-=D)<Q){for(Q-=q;ne[b++]=E[R++],--q;);if(R=0,D<Q){for(Q-=q=D;ne[b++]=E[R++],--q;);R=b-H,K=ne}}}else if(R+=D-q,q<Q){for(Q-=q;ne[b++]=E[R++],--q;);R=b-H,K=ne}for(;2<Q;)ne[b++]=K[R++],ne[b++]=K[R++],ne[b++]=K[R++],Q-=3;Q&&(ne[b++]=K[R++],1<Q&&(ne[b++]=K[R++]))}else{for(R=b-H;ne[b++]=ne[R++],ne[b++]=ne[R++],ne[b++]=ne[R++],2<(Q-=3););Q&&(ne[b++]=ne[R++],1<Q&&(ne[b++]=ne[R++]))}break}}break}}while(p<g&&b<y);p-=Q=P>>3,N&=(1<<(P-=Q<<3))-1,l.next_in=p,l.next_out=b,l.avail_in=p<g?g-p+5:5-(p-g),l.avail_out=b<y?y-b+257:257-(b-y),h.hold=N,h.bits=P}},{}],49:[function(n,o,a){var l=n("../utils/common"),d=n("./adler32"),h=n("./crc32"),p=n("./inffast"),g=n("./inftrees"),b=1,v=2,y=0,k=-2,x=1,_=852,D=592;function E(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(R){var K;return R&&R.state?(K=R.state,R.total_in=R.total_out=K.total=0,R.msg="",K.wrap&&(R.adler=1&K.wrap),K.mode=x,K.last=0,K.havedict=0,K.dmax=32768,K.head=null,K.hold=0,K.bits=0,K.lencode=K.lendyn=new l.Buf32(_),K.distcode=K.distdyn=new l.Buf32(D),K.sane=1,K.back=-1,y):k}function F(R){var K;return R&&R.state?((K=R.state).wsize=0,K.whave=0,K.wnext=0,P(R)):k}function V(R,K){var j,ne;return R&&R.state?(ne=R.state,K<0?(j=0,K=-K):(j=1+(K>>4),K<48&&(K&=15)),K&&(K<8||15<K)?k:(ne.window!==null&&ne.wbits!==K&&(ne.window=null),ne.wrap=j,ne.wbits=K,F(R))):k}function $(R,K){var j,ne;return R?(ne=new N,(R.state=ne).window=null,(j=V(R,K))!==y&&(R.state=null),j):k}var M,B,q=!0;function Q(R){if(q){var K;for(M=new l.Buf32(512),B=new l.Buf32(32),K=0;K<144;)R.lens[K++]=8;for(;K<256;)R.lens[K++]=9;for(;K<280;)R.lens[K++]=7;for(;K<288;)R.lens[K++]=8;for(g(b,R.lens,0,288,M,0,R.work,{bits:9}),K=0;K<32;)R.lens[K++]=5;g(v,R.lens,0,32,B,0,R.work,{bits:5}),q=!1}R.lencode=M,R.lenbits=9,R.distcode=B,R.distbits=5}function H(R,K,j,ne){var de,se=R.state;return se.window===null&&(se.wsize=1<<se.wbits,se.wnext=0,se.whave=0,se.window=new l.Buf8(se.wsize)),ne>=se.wsize?(l.arraySet(se.window,K,j-se.wsize,se.wsize,0),se.wnext=0,se.whave=se.wsize):(ne<(de=se.wsize-se.wnext)&&(de=ne),l.arraySet(se.window,K,j-ne,de,se.wnext),(ne-=de)?(l.arraySet(se.window,K,j-ne,ne,0),se.wnext=ne,se.whave=se.wsize):(se.wnext+=de,se.wnext===se.wsize&&(se.wnext=0),se.whave<se.wsize&&(se.whave+=de))),0}a.inflateReset=F,a.inflateReset2=V,a.inflateResetKeep=P,a.inflateInit=function(R){return $(R,15)},a.inflateInit2=$,a.inflate=function(R,K){var j,ne,de,se,oe,ye,re,_e,X,J,ae,pe,we,Pe,Ie,Ne,rt,Qe,Je,Ue,Z,Ce,ue,ge,he=0,Ae=new l.Buf8(4),Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return k;(j=R.state).mode===12&&(j.mode=13),oe=R.next_out,de=R.output,re=R.avail_out,se=R.next_in,ne=R.input,ye=R.avail_in,_e=j.hold,X=j.bits,J=ye,ae=re,Ce=y;e:for(;;)switch(j.mode){case x:if(j.wrap===0){j.mode=13;break}for(;X<16;){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}if(2&j.wrap&&_e===35615){Ae[j.check=0]=255&_e,Ae[1]=_e>>>8&255,j.check=h(j.check,Ae,2,0),X=_e=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&_e)<<8)+(_e>>8))%31){R.msg="incorrect header check",j.mode=30;break}if((15&_e)!=8){R.msg="unknown compression method",j.mode=30;break}if(X-=4,Z=8+(15&(_e>>>=4)),j.wbits===0)j.wbits=Z;else if(Z>j.wbits){R.msg="invalid window size",j.mode=30;break}j.dmax=1<<Z,R.adler=j.check=1,j.mode=512&_e?10:12,X=_e=0;break;case 2:for(;X<16;){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}if(j.flags=_e,(255&j.flags)!=8){R.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){R.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=_e>>8&1),512&j.flags&&(Ae[0]=255&_e,Ae[1]=_e>>>8&255,j.check=h(j.check,Ae,2,0)),X=_e=0,j.mode=3;case 3:for(;X<32;){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}j.head&&(j.head.time=_e),512&j.flags&&(Ae[0]=255&_e,Ae[1]=_e>>>8&255,Ae[2]=_e>>>16&255,Ae[3]=_e>>>24&255,j.check=h(j.check,Ae,4,0)),X=_e=0,j.mode=4;case 4:for(;X<16;){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}j.head&&(j.head.xflags=255&_e,j.head.os=_e>>8),512&j.flags&&(Ae[0]=255&_e,Ae[1]=_e>>>8&255,j.check=h(j.check,Ae,2,0)),X=_e=0,j.mode=5;case 5:if(1024&j.flags){for(;X<16;){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}j.length=_e,j.head&&(j.head.extra_len=_e),512&j.flags&&(Ae[0]=255&_e,Ae[1]=_e>>>8&255,j.check=h(j.check,Ae,2,0)),X=_e=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(ye<(pe=j.length)&&(pe=ye),pe&&(j.head&&(Z=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),l.arraySet(j.head.extra,ne,se,pe,Z)),512&j.flags&&(j.check=h(j.check,ne,pe,se)),ye-=pe,se+=pe,j.length-=pe),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(ye===0)break e;for(pe=0;Z=ne[se+pe++],j.head&&Z&&j.length<65536&&(j.head.name+=String.fromCharCode(Z)),Z&&pe<ye;);if(512&j.flags&&(j.check=h(j.check,ne,pe,se)),ye-=pe,se+=pe,Z)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(ye===0)break e;for(pe=0;Z=ne[se+pe++],j.head&&Z&&j.length<65536&&(j.head.comment+=String.fromCharCode(Z)),Z&&pe<ye;);if(512&j.flags&&(j.check=h(j.check,ne,pe,se)),ye-=pe,se+=pe,Z)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;X<16;){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}if(_e!==(65535&j.check)){R.msg="header crc mismatch",j.mode=30;break}X=_e=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),R.adler=j.check=0,j.mode=12;break;case 10:for(;X<32;){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}R.adler=j.check=E(_e),X=_e=0,j.mode=11;case 11:if(j.havedict===0)return R.next_out=oe,R.avail_out=re,R.next_in=se,R.avail_in=ye,j.hold=_e,j.bits=X,2;R.adler=j.check=1,j.mode=12;case 12:if(K===5||K===6)break e;case 13:if(j.last){_e>>>=7&X,X-=7&X,j.mode=27;break}for(;X<3;){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}switch(j.last=1&_e,X-=1,3&(_e>>>=1)){case 0:j.mode=14;break;case 1:if(Q(j),j.mode=20,K!==6)break;_e>>>=2,X-=2;break e;case 2:j.mode=17;break;case 3:R.msg="invalid block type",j.mode=30}_e>>>=2,X-=2;break;case 14:for(_e>>>=7&X,X-=7&X;X<32;){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}if((65535&_e)!=(_e>>>16^65535)){R.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&_e,X=_e=0,j.mode=15,K===6)break e;case 15:j.mode=16;case 16:if(pe=j.length){if(ye<pe&&(pe=ye),re<pe&&(pe=re),pe===0)break e;l.arraySet(de,ne,se,pe,oe),ye-=pe,se+=pe,re-=pe,oe+=pe,j.length-=pe;break}j.mode=12;break;case 17:for(;X<14;){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}if(j.nlen=257+(31&_e),_e>>>=5,X-=5,j.ndist=1+(31&_e),_e>>>=5,X-=5,j.ncode=4+(15&_e),_e>>>=4,X-=4,286<j.nlen||30<j.ndist){R.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;X<3;){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}j.lens[Me[j.have++]]=7&_e,_e>>>=3,X-=3}for(;j.have<19;)j.lens[Me[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,ue={bits:j.lenbits},Ce=g(0,j.lens,0,19,j.lencode,0,j.work,ue),j.lenbits=ue.bits,Ce){R.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;Ne=(he=j.lencode[_e&(1<<j.lenbits)-1])>>>16&255,rt=65535&he,!((Ie=he>>>24)<=X);){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}if(rt<16)_e>>>=Ie,X-=Ie,j.lens[j.have++]=rt;else{if(rt===16){for(ge=Ie+2;X<ge;){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}if(_e>>>=Ie,X-=Ie,j.have===0){R.msg="invalid bit length repeat",j.mode=30;break}Z=j.lens[j.have-1],pe=3+(3&_e),_e>>>=2,X-=2}else if(rt===17){for(ge=Ie+3;X<ge;){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}X-=Ie,Z=0,pe=3+(7&(_e>>>=Ie)),_e>>>=3,X-=3}else{for(ge=Ie+7;X<ge;){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}X-=Ie,Z=0,pe=11+(127&(_e>>>=Ie)),_e>>>=7,X-=7}if(j.have+pe>j.nlen+j.ndist){R.msg="invalid bit length repeat",j.mode=30;break}for(;pe--;)j.lens[j.have++]=Z}}if(j.mode===30)break;if(j.lens[256]===0){R.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,ue={bits:j.lenbits},Ce=g(b,j.lens,0,j.nlen,j.lencode,0,j.work,ue),j.lenbits=ue.bits,Ce){R.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,ue={bits:j.distbits},Ce=g(v,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,ue),j.distbits=ue.bits,Ce){R.msg="invalid distances set",j.mode=30;break}if(j.mode=20,K===6)break e;case 20:j.mode=21;case 21:if(6<=ye&&258<=re){R.next_out=oe,R.avail_out=re,R.next_in=se,R.avail_in=ye,j.hold=_e,j.bits=X,p(R,ae),oe=R.next_out,de=R.output,re=R.avail_out,se=R.next_in,ne=R.input,ye=R.avail_in,_e=j.hold,X=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;Ne=(he=j.lencode[_e&(1<<j.lenbits)-1])>>>16&255,rt=65535&he,!((Ie=he>>>24)<=X);){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}if(Ne&&(240&Ne)==0){for(Qe=Ie,Je=Ne,Ue=rt;Ne=(he=j.lencode[Ue+((_e&(1<<Qe+Je)-1)>>Qe)])>>>16&255,rt=65535&he,!(Qe+(Ie=he>>>24)<=X);){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}_e>>>=Qe,X-=Qe,j.back+=Qe}if(_e>>>=Ie,X-=Ie,j.back+=Ie,j.length=rt,Ne===0){j.mode=26;break}if(32&Ne){j.back=-1,j.mode=12;break}if(64&Ne){R.msg="invalid literal/length code",j.mode=30;break}j.extra=15&Ne,j.mode=22;case 22:if(j.extra){for(ge=j.extra;X<ge;){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}j.length+=_e&(1<<j.extra)-1,_e>>>=j.extra,X-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;Ne=(he=j.distcode[_e&(1<<j.distbits)-1])>>>16&255,rt=65535&he,!((Ie=he>>>24)<=X);){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}if((240&Ne)==0){for(Qe=Ie,Je=Ne,Ue=rt;Ne=(he=j.distcode[Ue+((_e&(1<<Qe+Je)-1)>>Qe)])>>>16&255,rt=65535&he,!(Qe+(Ie=he>>>24)<=X);){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}_e>>>=Qe,X-=Qe,j.back+=Qe}if(_e>>>=Ie,X-=Ie,j.back+=Ie,64&Ne){R.msg="invalid distance code",j.mode=30;break}j.offset=rt,j.extra=15&Ne,j.mode=24;case 24:if(j.extra){for(ge=j.extra;X<ge;){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}j.offset+=_e&(1<<j.extra)-1,_e>>>=j.extra,X-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){R.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(re===0)break e;if(pe=ae-re,j.offset>pe){if((pe=j.offset-pe)>j.whave&&j.sane){R.msg="invalid distance too far back",j.mode=30;break}we=pe>j.wnext?(pe-=j.wnext,j.wsize-pe):j.wnext-pe,pe>j.length&&(pe=j.length),Pe=j.window}else Pe=de,we=oe-j.offset,pe=j.length;for(re<pe&&(pe=re),re-=pe,j.length-=pe;de[oe++]=Pe[we++],--pe;);j.length===0&&(j.mode=21);break;case 26:if(re===0)break e;de[oe++]=j.length,re--,j.mode=21;break;case 27:if(j.wrap){for(;X<32;){if(ye===0)break e;ye--,_e|=ne[se++]<<X,X+=8}if(ae-=re,R.total_out+=ae,j.total+=ae,ae&&(R.adler=j.check=j.flags?h(j.check,de,ae,oe-ae):d(j.check,de,ae,oe-ae)),ae=re,(j.flags?_e:E(_e))!==j.check){R.msg="incorrect data check",j.mode=30;break}X=_e=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;X<32;){if(ye===0)break e;ye--,_e+=ne[se++]<<X,X+=8}if(_e!==(4294967295&j.total)){R.msg="incorrect length check",j.mode=30;break}X=_e=0}j.mode=29;case 29:Ce=1;break e;case 30:Ce=-3;break e;case 31:return-4;case 32:default:return k}return R.next_out=oe,R.avail_out=re,R.next_in=se,R.avail_in=ye,j.hold=_e,j.bits=X,(j.wsize||ae!==R.avail_out&&j.mode<30&&(j.mode<27||K!==4))&&H(R,R.output,R.next_out,ae-R.avail_out)?(j.mode=31,-4):(J-=R.avail_in,ae-=R.avail_out,R.total_in+=J,R.total_out+=ae,j.total+=ae,j.wrap&&ae&&(R.adler=j.check=j.flags?h(j.check,de,ae,R.next_out-ae):d(j.check,de,ae,R.next_out-ae)),R.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(J==0&&ae===0||K===4)&&Ce===y&&(Ce=-5),Ce)},a.inflateEnd=function(R){if(!R||!R.state)return k;var K=R.state;return K.window&&(K.window=null),R.state=null,y},a.inflateGetHeader=function(R,K){var j;return R&&R.state?(2&(j=R.state).wrap)==0?k:((j.head=K).done=!1,y):k},a.inflateSetDictionary=function(R,K){var j,ne=K.length;return R&&R.state?(j=R.state).wrap!==0&&j.mode!==11?k:j.mode===11&&d(1,K,ne,0)!==j.check?-3:H(R,K,ne,ne)?(j.mode=31,-4):(j.havedict=1,y):k},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,o,a){var l=n("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(b,v,y,k,x,_,D,E){var N,P,F,V,$,M,B,q,Q,H=E.bits,R=0,K=0,j=0,ne=0,de=0,se=0,oe=0,ye=0,re=0,_e=0,X=null,J=0,ae=new l.Buf16(16),pe=new l.Buf16(16),we=null,Pe=0;for(R=0;R<=15;R++)ae[R]=0;for(K=0;K<k;K++)ae[v[y+K]]++;for(de=H,ne=15;1<=ne&&ae[ne]===0;ne--);if(ne<de&&(de=ne),ne===0)return x[_++]=20971520,x[_++]=20971520,E.bits=1,0;for(j=1;j<ne&&ae[j]===0;j++);for(de<j&&(de=j),R=ye=1;R<=15;R++)if(ye<<=1,(ye-=ae[R])<0)return-1;if(0<ye&&(b===0||ne!==1))return-1;for(pe[1]=0,R=1;R<15;R++)pe[R+1]=pe[R]+ae[R];for(K=0;K<k;K++)v[y+K]!==0&&(D[pe[v[y+K]]++]=K);if(M=b===0?(X=we=D,19):b===1?(X=d,J-=257,we=h,Pe-=257,256):(X=p,we=g,-1),R=j,$=_,oe=K=_e=0,F=-1,V=(re=1<<(se=de))-1,b===1&&852<re||b===2&&592<re)return 1;for(;;){for(B=R-oe,Q=D[K]<M?(q=0,D[K]):D[K]>M?(q=we[Pe+D[K]],X[J+D[K]]):(q=96,0),N=1<<R-oe,j=P=1<<se;x[$+(_e>>oe)+(P-=N)]=B<<24|q<<16|Q|0,P!==0;);for(N=1<<R-1;_e&N;)N>>=1;if(N!==0?(_e&=N-1,_e+=N):_e=0,K++,--ae[R]==0){if(R===ne)break;R=v[y+D[K]]}if(de<R&&(_e&V)!==F){for(oe===0&&(oe=de),$+=j,ye=1<<(se=R-oe);se+oe<ne&&!((ye-=ae[se+oe])<=0);)se++,ye<<=1;if(re+=1<<se,b===1&&852<re||b===2&&592<re)return 1;x[F=_e&V]=de<<24|se<<16|$-_|0}}return _e!==0&&(x[$+_e]=R-oe<<24|64<<16|0),E.bits=de,0}},{"../utils/common":41}],51:[function(n,o,a){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,o,a){var l=n("../utils/common"),d=0,h=1;function p(he){for(var Ae=he.length;0<=--Ae;)he[Ae]=0}var g=0,b=29,v=256,y=v+1+b,k=30,x=19,_=2*y+1,D=15,E=16,N=7,P=256,F=16,V=17,$=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(y+2));p(H);var R=new Array(2*k);p(R);var K=new Array(512);p(K);var j=new Array(256);p(j);var ne=new Array(b);p(ne);var de,se,oe,ye=new Array(k);function re(he,Ae,Me,Te,Ee){this.static_tree=he,this.extra_bits=Ae,this.extra_base=Me,this.elems=Te,this.max_length=Ee,this.has_stree=he&&he.length}function _e(he,Ae){this.dyn_tree=he,this.max_code=0,this.stat_desc=Ae}function X(he){return he<256?K[he]:K[256+(he>>>7)]}function J(he,Ae){he.pending_buf[he.pending++]=255&Ae,he.pending_buf[he.pending++]=Ae>>>8&255}function ae(he,Ae,Me){he.bi_valid>E-Me?(he.bi_buf|=Ae<<he.bi_valid&65535,J(he,he.bi_buf),he.bi_buf=Ae>>E-he.bi_valid,he.bi_valid+=Me-E):(he.bi_buf|=Ae<<he.bi_valid&65535,he.bi_valid+=Me)}function pe(he,Ae,Me){ae(he,Me[2*Ae],Me[2*Ae+1])}function we(he,Ae){for(var Me=0;Me|=1&he,he>>>=1,Me<<=1,0<--Ae;);return Me>>>1}function Pe(he,Ae,Me){var Te,Ee,qe=new Array(D+1),Ve=0;for(Te=1;Te<=D;Te++)qe[Te]=Ve=Ve+Me[Te-1]<<1;for(Ee=0;Ee<=Ae;Ee++){var He=he[2*Ee+1];He!==0&&(he[2*Ee]=we(qe[He]++,He))}}function Ie(he){var Ae;for(Ae=0;Ae<y;Ae++)he.dyn_ltree[2*Ae]=0;for(Ae=0;Ae<k;Ae++)he.dyn_dtree[2*Ae]=0;for(Ae=0;Ae<x;Ae++)he.bl_tree[2*Ae]=0;he.dyn_ltree[2*P]=1,he.opt_len=he.static_len=0,he.last_lit=he.matches=0}function Ne(he){8<he.bi_valid?J(he,he.bi_buf):0<he.bi_valid&&(he.pending_buf[he.pending++]=he.bi_buf),he.bi_buf=0,he.bi_valid=0}function rt(he,Ae,Me,Te){var Ee=2*Ae,qe=2*Me;return he[Ee]<he[qe]||he[Ee]===he[qe]&&Te[Ae]<=Te[Me]}function Qe(he,Ae,Me){for(var Te=he.heap[Me],Ee=Me<<1;Ee<=he.heap_len&&(Ee<he.heap_len&&rt(Ae,he.heap[Ee+1],he.heap[Ee],he.depth)&&Ee++,!rt(Ae,Te,he.heap[Ee],he.depth));)he.heap[Me]=he.heap[Ee],Me=Ee,Ee<<=1;he.heap[Me]=Te}function Je(he,Ae,Me){var Te,Ee,qe,Ve,He=0;if(he.last_lit!==0)for(;Te=he.pending_buf[he.d_buf+2*He]<<8|he.pending_buf[he.d_buf+2*He+1],Ee=he.pending_buf[he.l_buf+He],He++,Te===0?pe(he,Ee,Ae):(pe(he,(qe=j[Ee])+v+1,Ae),(Ve=M[qe])!==0&&ae(he,Ee-=ne[qe],Ve),pe(he,qe=X(--Te),Me),(Ve=B[qe])!==0&&ae(he,Te-=ye[qe],Ve)),He<he.last_lit;);pe(he,P,Ae)}function Ue(he,Ae){var Me,Te,Ee,qe=Ae.dyn_tree,Ve=Ae.stat_desc.static_tree,He=Ae.stat_desc.has_stree,st=Ae.stat_desc.elems,Fe=-1;for(he.heap_len=0,he.heap_max=_,Me=0;Me<st;Me++)qe[2*Me]!==0?(he.heap[++he.heap_len]=Fe=Me,he.depth[Me]=0):qe[2*Me+1]=0;for(;he.heap_len<2;)qe[2*(Ee=he.heap[++he.heap_len]=Fe<2?++Fe:0)]=1,he.depth[Ee]=0,he.opt_len--,He&&(he.static_len-=Ve[2*Ee+1]);for(Ae.max_code=Fe,Me=he.heap_len>>1;1<=Me;Me--)Qe(he,qe,Me);for(Ee=st;Me=he.heap[1],he.heap[1]=he.heap[he.heap_len--],Qe(he,qe,1),Te=he.heap[1],he.heap[--he.heap_max]=Me,he.heap[--he.heap_max]=Te,qe[2*Ee]=qe[2*Me]+qe[2*Te],he.depth[Ee]=(he.depth[Me]>=he.depth[Te]?he.depth[Me]:he.depth[Te])+1,qe[2*Me+1]=qe[2*Te+1]=Ee,he.heap[1]=Ee++,Qe(he,qe,1),2<=he.heap_len;);he.heap[--he.heap_max]=he.heap[1],function(Ye,Ke){var At,ht,on,pt,Vt,Bt,Ft=Ke.dyn_tree,Kt=Ke.max_code,pn=Ke.stat_desc.static_tree,En=Ke.stat_desc.has_stree,qn=Ke.stat_desc.extra_bits,Br=Ke.stat_desc.extra_base,Wr=Ke.stat_desc.max_length,jn=0;for(pt=0;pt<=D;pt++)Ye.bl_count[pt]=0;for(Ft[2*Ye.heap[Ye.heap_max]+1]=0,At=Ye.heap_max+1;At<_;At++)Wr<(pt=Ft[2*Ft[2*(ht=Ye.heap[At])+1]+1]+1)&&(pt=Wr,jn++),Ft[2*ht+1]=pt,Kt<ht||(Ye.bl_count[pt]++,Vt=0,Br<=ht&&(Vt=qn[ht-Br]),Bt=Ft[2*ht],Ye.opt_len+=Bt*(pt+Vt),En&&(Ye.static_len+=Bt*(pn[2*ht+1]+Vt)));if(jn!==0){do{for(pt=Wr-1;Ye.bl_count[pt]===0;)pt--;Ye.bl_count[pt]--,Ye.bl_count[pt+1]+=2,Ye.bl_count[Wr]--,jn-=2}while(0<jn);for(pt=Wr;pt!==0;pt--)for(ht=Ye.bl_count[pt];ht!==0;)Kt<(on=Ye.heap[--At])||(Ft[2*on+1]!==pt&&(Ye.opt_len+=(pt-Ft[2*on+1])*Ft[2*on],Ft[2*on+1]=pt),ht--)}}(he,Ae),Pe(qe,Fe,he.bl_count)}function Z(he,Ae,Me){var Te,Ee,qe=-1,Ve=Ae[1],He=0,st=7,Fe=4;for(Ve===0&&(st=138,Fe=3),Ae[2*(Me+1)+1]=65535,Te=0;Te<=Me;Te++)Ee=Ve,Ve=Ae[2*(Te+1)+1],++He<st&&Ee===Ve||(He<Fe?he.bl_tree[2*Ee]+=He:Ee!==0?(Ee!==qe&&he.bl_tree[2*Ee]++,he.bl_tree[2*F]++):He<=10?he.bl_tree[2*V]++:he.bl_tree[2*$]++,qe=Ee,Fe=(He=0)===Ve?(st=138,3):Ee===Ve?(st=6,3):(st=7,4))}function Ce(he,Ae,Me){var Te,Ee,qe=-1,Ve=Ae[1],He=0,st=7,Fe=4;for(Ve===0&&(st=138,Fe=3),Te=0;Te<=Me;Te++)if(Ee=Ve,Ve=Ae[2*(Te+1)+1],!(++He<st&&Ee===Ve)){if(He<Fe)for(;pe(he,Ee,he.bl_tree),--He!=0;);else Ee!==0?(Ee!==qe&&(pe(he,Ee,he.bl_tree),He--),pe(he,F,he.bl_tree),ae(he,He-3,2)):He<=10?(pe(he,V,he.bl_tree),ae(he,He-3,3)):(pe(he,$,he.bl_tree),ae(he,He-11,7));qe=Ee,Fe=(He=0)===Ve?(st=138,3):Ee===Ve?(st=6,3):(st=7,4)}}p(ye);var ue=!1;function ge(he,Ae,Me,Te){ae(he,(g<<1)+(Te?1:0),3),function(Ee,qe,Ve,He){Ne(Ee),J(Ee,Ve),J(Ee,~Ve),l.arraySet(Ee.pending_buf,Ee.window,qe,Ve,Ee.pending),Ee.pending+=Ve}(he,Ae,Me)}a._tr_init=function(he){ue||(function(){var Ae,Me,Te,Ee,qe,Ve=new Array(D+1);for(Ee=Te=0;Ee<b-1;Ee++)for(ne[Ee]=Te,Ae=0;Ae<1<<M[Ee];Ae++)j[Te++]=Ee;for(j[Te-1]=Ee,Ee=qe=0;Ee<16;Ee++)for(ye[Ee]=qe,Ae=0;Ae<1<<B[Ee];Ae++)K[qe++]=Ee;for(qe>>=7;Ee<k;Ee++)for(ye[Ee]=qe<<7,Ae=0;Ae<1<<B[Ee]-7;Ae++)K[256+qe++]=Ee;for(Me=0;Me<=D;Me++)Ve[Me]=0;for(Ae=0;Ae<=143;)H[2*Ae+1]=8,Ae++,Ve[8]++;for(;Ae<=255;)H[2*Ae+1]=9,Ae++,Ve[9]++;for(;Ae<=279;)H[2*Ae+1]=7,Ae++,Ve[7]++;for(;Ae<=287;)H[2*Ae+1]=8,Ae++,Ve[8]++;for(Pe(H,y+1,Ve),Ae=0;Ae<k;Ae++)R[2*Ae+1]=5,R[2*Ae]=we(Ae,5);de=new re(H,M,v+1,y,D),se=new re(R,B,0,k,D),oe=new re(new Array(0),q,0,x,N)}(),ue=!0),he.l_desc=new _e(he.dyn_ltree,de),he.d_desc=new _e(he.dyn_dtree,se),he.bl_desc=new _e(he.bl_tree,oe),he.bi_buf=0,he.bi_valid=0,Ie(he)},a._tr_stored_block=ge,a._tr_flush_block=function(he,Ae,Me,Te){var Ee,qe,Ve=0;0<he.level?(he.strm.data_type===2&&(he.strm.data_type=function(He){var st,Fe=4093624447;for(st=0;st<=31;st++,Fe>>>=1)if(1&Fe&&He.dyn_ltree[2*st]!==0)return d;if(He.dyn_ltree[18]!==0||He.dyn_ltree[20]!==0||He.dyn_ltree[26]!==0)return h;for(st=32;st<v;st++)if(He.dyn_ltree[2*st]!==0)return h;return d}(he)),Ue(he,he.l_desc),Ue(he,he.d_desc),Ve=function(He){var st;for(Z(He,He.dyn_ltree,He.l_desc.max_code),Z(He,He.dyn_dtree,He.d_desc.max_code),Ue(He,He.bl_desc),st=x-1;3<=st&&He.bl_tree[2*Q[st]+1]===0;st--);return He.opt_len+=3*(st+1)+5+5+4,st}(he),Ee=he.opt_len+3+7>>>3,(qe=he.static_len+3+7>>>3)<=Ee&&(Ee=qe)):Ee=qe=Me+5,Me+4<=Ee&&Ae!==-1?ge(he,Ae,Me,Te):he.strategy===4||qe===Ee?(ae(he,2+(Te?1:0),3),Je(he,H,R)):(ae(he,4+(Te?1:0),3),function(He,st,Fe,Ye){var Ke;for(ae(He,st-257,5),ae(He,Fe-1,5),ae(He,Ye-4,4),Ke=0;Ke<Ye;Ke++)ae(He,He.bl_tree[2*Q[Ke]+1],3);Ce(He,He.dyn_ltree,st-1),Ce(He,He.dyn_dtree,Fe-1)}(he,he.l_desc.max_code+1,he.d_desc.max_code+1,Ve+1),Je(he,he.dyn_ltree,he.dyn_dtree)),Ie(he),Te&&Ne(he)},a._tr_tally=function(he,Ae,Me){return he.pending_buf[he.d_buf+2*he.last_lit]=Ae>>>8&255,he.pending_buf[he.d_buf+2*he.last_lit+1]=255&Ae,he.pending_buf[he.l_buf+he.last_lit]=255&Me,he.last_lit++,Ae===0?he.dyn_ltree[2*Me]++:(he.matches++,Ae--,he.dyn_ltree[2*(j[Me]+v+1)]++,he.dyn_dtree[2*X(Ae)]++),he.last_lit===he.lit_bufsize-1},a._tr_align=function(he){ae(he,2,3),pe(he,P,H),function(Ae){Ae.bi_valid===16?(J(Ae,Ae.bi_buf),Ae.bi_buf=0,Ae.bi_valid=0):8<=Ae.bi_valid&&(Ae.pending_buf[Ae.pending++]=255&Ae.bi_buf,Ae.bi_buf>>=8,Ae.bi_valid-=8)}(he)}},{"../utils/common":41}],53:[function(n,o,a){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,o,a){(function(l){(function(d,h){if(!d.setImmediate){var p,g,b,v,y=1,k={},x=!1,_=d.document,D=Object.getPrototypeOf&&Object.getPrototypeOf(d);D=D&&D.setTimeout?D:d,p={}.toString.call(d.process)==="[object process]"?function(F){process.nextTick(function(){N(F)})}:function(){if(d.postMessage&&!d.importScripts){var F=!0,V=d.onmessage;return d.onmessage=function(){F=!1},d.postMessage("","*"),d.onmessage=V,F}}()?(v="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",P,!1):d.attachEvent("onmessage",P),function(F){d.postMessage(v+F,"*")}):d.MessageChannel?((b=new MessageChannel).port1.onmessage=function(F){N(F.data)},function(F){b.port2.postMessage(F)}):_&&"onreadystatechange"in _.createElement("script")?(g=_.documentElement,function(F){var V=_.createElement("script");V.onreadystatechange=function(){N(F),V.onreadystatechange=null,g.removeChild(V),V=null},g.appendChild(V)}):function(F){setTimeout(N,0,F)},D.setImmediate=function(F){typeof F!="function"&&(F=new Function(""+F));for(var V=new Array(arguments.length-1),$=0;$<V.length;$++)V[$]=arguments[$+1];var M={callback:F,args:V};return k[y]=M,p(y),y++},D.clearImmediate=E}function E(F){delete k[F]}function N(F){if(x)setTimeout(N,0,F);else{var V=k[F];if(V){x=!0;try{(function($){var M=$.callback,B=$.args;switch(B.length){case 0:M();break;case 1:M(B[0]);break;case 2:M(B[0],B[1]);break;case 3:M(B[0],B[1],B[2]);break;default:M.apply(h,B)}})(V)}finally{E(F),x=!1}}}}function P(F){F.source===d&&typeof F.data=="string"&&F.data.indexOf(v)===0&&N(+F.data.slice(v.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof Ku<"u"?Ku:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Qv)),Qv.exports}var nse=tse();const rse=ou(nse),ise=async(t,r,n)=>{const o=new rse,a=["timestamp,question,answer"];r.forEach(({timestamp:p,question:g,answer:b})=>{a.push(`"${new Date(p).toLocaleString()}","${g.replace(/"/g,'""')}","${b.replace(/"/g,'""')}"`)}),o.file(`${t}.csv`,a.join(`
`)),o.file(`${t}_metadata.json`,JSON.stringify(n,null,4));const l=await o.generateAsync({type:"blob"}),d=URL.createObjectURL(l),h=document.createElement("a");h.href=d,h.download=`${t}.zip`,document.body.appendChild(h),h.click(),document.body.removeChild(h)},ose=Np(Le)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"600px",maxHeight:"80vh",overflowY:"auto",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0px 5px 15px rgba(0,0,0,0.2)",padding:"20px"}),sse=Np(Le)({marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"}),ase=({open:t,onClose:r,conversationHistory:n,conversationId:o,conversationHistoryError:a,chatbotDetails:l,userId:d,startedAt:h})=>{const p=async()=>{const g={conversationId:o,userId:d,chatbotId:l.chatbotId,chatbotTitle:l.chatbotTitle,startedAt:new Date(h).toLocaleString(),courseTitle:l.courseTitle,courseId:l.courseId,materialTitle:l.materialTitle,materialId:l.materialId,materialLink:l.materialLink,chatbotCreatedBy:l.chatbotCreatedBy,chatbotCreatedAt:new Date(l.chatbotCreatedAt).toLocaleString()};await ise(o,n,g)};return C.jsx(BW,{open:t,onClose:r,children:C.jsxs(ose,{children:[C.jsxs(sse,{children:[C.jsxs(ze,{variant:"h6",children:["Conversation History for ",o]}),C.jsx(ia,{title:"Download ZIP",children:C.jsx(or,{onClick:p,"aria-label":"Download as ZIP",children:C.jsx(CP,{})})})]}),a&&C.jsx(ze,{color:"error",sx:{marginBottom:"20px"},children:a}),n.length===0?C.jsx(ze,{children:"No messages found in this conversation."}):C.jsx(uk,{children:n.map((g,b)=>C.jsx(Jf,{sx:{padding:"10px 0"},children:C.jsx(Zf,{primary:`Q: ${g.question}`,secondary:`A: ${g.answer} (${new Date(g.timestamp).toLocaleString()})`})},b))}),C.jsx(xt,{variant:"contained",onClick:r,style:{marginTop:"20px",backgroundColor:"#000",color:"#fff"},children:"Close"})]})})},lse=({totalItems:t,itemsPerPage:r,currentPage:n,onPageChange:o})=>{const a=Math.ceil(t/r),l=()=>{n>1&&o(n-1)},d=()=>{n<a&&o(n+1)};return C.jsxs(Le,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[C.jsx(xt,{variant:"outlined",disabled:n===1,onClick:l,children:"Previous"}),C.jsxs(ze,{variant:"body1",children:["Page ",n," of ",a]}),C.jsx(xt,{variant:"outlined",disabled:n===a,onClick:d,children:"Next"})]})},cse=({chatbotId:t})=>{const r=er(),[n,o]=Y.useState(null),[a,l]=Y.useState(!0),[d,h]=Y.useState(null);if(Y.useEffect(()=>{t!=="All"&&(async()=>{l(!0),h(null);try{const N=Dp(Yn(r,"chatbots"),Gg("chatbotId","==",t)),P=await xo(N);P.empty?h("Chatbot details not found!"):o(P.docs[0].data())}catch(N){console.error("Error fetching chatbot details:",N),h("Failed to fetch chatbot details.")}finally{l(!1)}})()},[r,t]),a)return C.jsx(Le,{sx:{mt:3},children:C.jsx(qr,{})});if(d)return C.jsx(ze,{variant:"body1",color:"error",sx:{mt:3},children:d});if(!n)return null;const{title:p="N/A",courseId:g,createdBy:b="Unknown",timestamp:v,material:y}=n,k=(g==null?void 0:g.title)||"N/A",x=(y==null?void 0:y.title)||"N/A",_=(y==null?void 0:y.id)||"N/A",D=`https://institute-for-future-intelligence.github.io/nexlab/view-material/${_}`;return C.jsxs(Le,{sx:{mt:3,p:2,border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[C.jsx(ze,{variant:"h6",children:"Chatbot Details"}),C.jsxs(ze,{variant:"body1",children:[C.jsx("strong",{children:"Title:"})," ",p]}),C.jsxs(ze,{variant:"body1",children:[C.jsx("strong",{children:"Course:"})," ",k]}),C.jsxs(ze,{variant:"body1",children:[C.jsx("strong",{children:"Material:"})," ",_!=="N/A"?C.jsx(Dg,{href:D,target:"_blank",rel:"noopener noreferrer",children:x}):x]}),C.jsx(Zs,{sx:{my:2}}),C.jsxs(ze,{variant:"body1",children:[C.jsx("strong",{children:"Created By:"})," ",b]}),C.jsxs(ze,{variant:"body1",children:[C.jsx("strong",{children:"Created At:"})," ",v?new Date(v).toLocaleString():"N/A"]})]})},j6=Np(xt)({width:100,height:40,display:"flex",alignItems:"center",justifyContent:"center"}),use=({open:t,onClose:r,onConfirm:n,conversationId:o,deleting:a})=>C.jsxs(yo,{open:t,onClose:r,children:[C.jsx(vo,{children:"Confirm Deletion"}),C.jsx(Ao,{children:C.jsxs(Ss,{children:["Are you sure you want to delete the conversation with ID: ",C.jsx("strong",{children:o}),"? This action cannot be undone."]})}),C.jsxs(_o,{children:[C.jsx(j6,{onClick:r,color:"primary",variant:"outlined",children:"Cancel"}),C.jsx(j6,{onClick:n,color:"error",disabled:a,children:a?C.jsx(qr,{size:20,color:"inherit"}):"Delete"})]})]}),dse=()=>{const t=er(),r=Vr(),[n,o]=Y.useState([]),[a,l]=Y.useState([]),[d,h]=Y.useState(1),[p]=Y.useState(10),[g,b]=Y.useState(!0),[v,y]=Y.useState(null),[k,x]=Y.useState([]),[_,D]=Y.useState(null),[E,N]=Y.useState(!1),[P,F]=Y.useState(null),[V,$]=Y.useState({}),M="https://rag-flask-api.onrender.com",[B,q]=Y.useState([]),[Q,H]=Y.useState([]),[R,K]=Y.useState("All"),[j,ne]=Y.useState("All"),[de,se]=Y.useState(null),[oe,ye]=Y.useState(null),[re,_e]=Y.useState(!1),[X,J]=Y.useState(null),[ae,pe]=Y.useState(!1),[we,Pe]=Y.useState({open:!1,message:"",type:"success"}),Ie=()=>{Pe(ge=>({...ge,open:!1}))};Y.useEffect(()=>{(async()=>{try{const Ae=(await xo(Yn(t,"conversations"))).docs.map(Ee=>({id:Ee.id,...Ee.data()}));o(Ae);const Me=Array.from(new Set(Ae.map(Ee=>Ee.chatbotId)));q(Ae.length>0?["All",...Me]:[]);const Te=Array.from(new Set(Ae.map(Ee=>Ee.userId)));H(Ae.length>0?["All",...Te]:[]),l(Ae)}catch(he){console.error("Error fetching chatbot conversations:",he),y("Failed to load conversations. Please try again later.")}finally{b(!1)}})()},[t]);const Ne=(ge,he)=>{ge==="chatbot"?K(he):ne(he);const Ae=ge==="chatbot"?he:R,Me=ge==="user"?he:j;let Te=n;Ae!=="All"&&(Te=Te.filter(Ee=>Ee.chatbotId===Ae)),Me!=="All"&&(Te=Te.filter(Ee=>Ee.userId===Me)),l(Te),Ae==="All"&&Me==="All"&&l(n),h(1)},rt=async(ge,he,Ae,Me)=>{var Te,Ee,qe,Ve,He;$(st=>({...st,[he]:!0})),D(null);try{const st=await Ii.get(`${M}/conversations/${ge}/${he}`);x(st.data);const Ke=(await(async()=>{try{const At=new Map;return(await xo(Yn(t,"chatbots"))).forEach(on=>{At.set(on.data().chatbotId,on.data())}),At}catch(At){return console.error("Error fetching chatbots:",At),new Map}})()).get(ge);se(Ke?{chatbotId:ge,chatbotTitle:Ke.title||"N/A",courseTitle:((Te=Ke.courseId)==null?void 0:Te.title)||"N/A",courseId:((Ee=Ke.courseId)==null?void 0:Ee.id)||"N/A",materialTitle:((qe=Ke.material)==null?void 0:qe.title)||"N/A",materialId:((Ve=Ke.material)==null?void 0:Ve.id)||"N/A",materialLink:`https://institute-for-future-intelligence.github.io/nexlab/view-material/${((He=Ke.material)==null?void 0:He.id)||""}`,chatbotCreatedBy:Ke.createdBy||"Unknown",chatbotCreatedAt:Ke.timestamp||"N/A"}:null),ye({userId:Ae,startedAt:Me}),F({chatbotId:ge,conversationId:he}),N(!0)}catch(st){console.error("Error fetching conversation or chatbot details:",st),D("Failed to fetch conversation history or chatbot details.")}finally{$(st=>({...st,[he]:!1}))}},Qe=d*p,Je=Qe-p,Ue=a.slice(Je,Qe);if(g)return C.jsx(Le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:C.jsx(qr,{})});if(v)return C.jsx(Le,{sx:{textAlign:"center",mt:4},children:C.jsx(ze,{variant:"h6",color:"error",children:v})});const Z=ge=>{J(ge),_e(!0)},Ce=()=>{_e(!1),J(null)},ue=async()=>{if(X){pe(!0);try{await Wg(yn(t,"conversations",X)),o(ge=>ge.filter(he=>he.id!==X)),l(ge=>ge.filter(he=>he.id!==X)),Pe({open:!0,message:"Conversation deleted successfully.",type:"success"}),Ce()}catch(ge){console.error("Error deleting conversation:",ge),Pe({open:!0,message:"Failed to delete the conversation. Please try again.",type:"error"})}finally{pe(!1),Ce()}}};return C.jsxs(Le,{className:"profile-container",sx:{p:4},children:[C.jsx(xt,{variant:"text",onClick:()=>r("/"),className:"profile-button",children:"← Home Page"}),C.jsx(ze,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Conversations"}),C.jsxs(Le,{sx:{display:"flex",gap:2,mb:3},children:[C.jsxs(id,{sx:{minWidth:200},children:[C.jsx(od,{id:"filter-chatbot-id",children:"Filter by Chatbot ID"}),C.jsx(hc,{labelId:"filter-chatbot-id",value:R,onChange:ge=>Ne("chatbot",ge.target.value),children:B.length>0?B.map(ge=>C.jsx(Ir,{value:ge,children:ge},ge)):C.jsx(Ir,{value:"",disabled:!0,children:"No Chatbots Available"})})]}),C.jsxs(id,{sx:{minWidth:200},children:[C.jsx(od,{id:"filter-user-id",children:"Filter by User ID"}),C.jsx(hc,{labelId:"filter-user-id",value:j,onChange:ge=>Ne("user",ge.target.value),children:Q.map(ge=>C.jsx(Ir,{value:ge,children:ge},ge))})]})]}),R!=="All"&&C.jsx(cse,{chatbotId:R}),C.jsxs(Le,{className:"profile-container",sx:{p:4},children:[C.jsx(Cie,{conversations:Ue,onViewHistory:(ge,he,Ae,Me)=>rt(ge,he,Ae,Me),onDeleteConversation:Z,loadingMap:V}),C.jsx(use,{open:re,onClose:Ce,onConfirm:ue,conversationId:X||"",deleting:ae})]}),C.jsx(lse,{totalItems:a.length,itemsPerPage:p,currentPage:d,onPageChange:h}),P&&de&&oe&&C.jsx(ase,{open:E,onClose:()=>{N(!1),F(null)},conversationHistory:k,conversationId:P.conversationId,conversationHistoryError:_,chatbotDetails:de,userId:oe.userId,startedAt:oe.startedAt}),C.jsx(is,{open:we.open,autoHideDuration:3e3,onClose:Ie,message:we.message,anchorOrigin:{vertical:"top",horizontal:"center"},ContentProps:{style:{backgroundColor:we.type==="success"?"#4caf50":"#f44336"}}})]})},hse=()=>{const[t,r]=Y.useState([]),[n,o]=Y.useState(!0),[a,l]=Y.useState({}),[d,h]=Y.useState(!1),[p,g]=Y.useState(""),[b,v]=Y.useState("success"),y=Vr();Y.useEffect(()=>{(async()=>{const M=er(),B=Yn(M,"chatbotRequests");try{const Q=(await xo(B)).docs.map(H=>({id:H.id,...H.data()}));r(Q)}catch(q){console.error("Error fetching chatbot requests:",q)}finally{o(!1)}})()},[]);const k=async $=>{const M=a[$];if(!M){g("Please assign a Chatbot ID before approving the request."),v("error"),h(!0);return}try{const B=er(),q=yn(B,"chatbotRequests",$),Q=await _s(q);if(!Q.exists()){g("Request not found. Please refresh the page."),v("error"),h(!0);return}const H=Q.data();if(H.status!=="pending"){g("This request has already been processed."),v("warning"),h(!0);return}await xr(q,{status:"approved",chatbotId:M});const R={chatbotId:M,title:H.title,courseId:{id:H.courseId,number:H.courseNumber,title:H.courseTitle},material:{id:H.materialId||null,title:H.materialTitle||"N/A"},createdBy:H.educatorId,files:H.files,timestamp:new Date().toISOString()};await oa(Yn(B,"chatbots"),R),r(K=>K.map(j=>j.id===$?{...j,status:"approved",chatbotId:M}:j)),g("Chatbot request approved and chatbot created successfully!"),v("success"),h(!0)}catch(B){console.error("Error approving chatbot request or creating chatbot:",B),g("Failed to approve the request and create the chatbot. Please try again."),v("error"),h(!0)}},x=()=>{h(!1)},[_,D]=Y.useState(0),[E,N]=Y.useState(5),P=($,M)=>D(M),F=$=>{N(parseInt($.target.value,10)),D(0)},V=($,M)=>{l(B=>({...B,[$]:M}))};return n?C.jsx(Le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:C.jsx(qr,{})}):t.length===0?C.jsx(ze,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):C.jsxs(Le,{className:"profile-container",sx:{p:4},children:[C.jsx(xt,{variant:"text",onClick:()=>y("/"),className:"profile-button",children:"← Home Page"}),C.jsx(ze,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Requests Management"}),C.jsx(ze,{variant:"body1",sx:{mb:3},children:"Manage chatbot requests submitted by educators. Approve requests and assign Chatbot IDs."}),C.jsxs(fd,{component:Rn,elevation:3,sx:{maxHeight:"70vh",overflow:"auto"},children:[C.jsxs(pd,{stickyHeader:!0,children:[C.jsx(md,{children:C.jsxs(Co,{children:[C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Educator ID"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course ID"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material ID"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Chatbot ID"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Action"})]})}),C.jsx(gd,{children:t.slice(_*E,_*E+E).map(($,M)=>{var B;return C.jsxs(Co,{sx:{backgroundColor:M%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[C.jsx(It,{children:$.title}),C.jsx(It,{children:`${$.courseNumber} - ${$.courseTitle}`}),C.jsx(It,{children:$.materialTitle||"N/A"}),C.jsx(It,{children:$.educatorId}),C.jsx(It,{children:$.courseId}),C.jsx(It,{children:$.materialId||"N/A"}),C.jsx(It,{children:new Date($.timestamp).toLocaleString()}),C.jsx(It,{children:C.jsx(ze,{variant:"body2",sx:{color:$.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:$.status})}),C.jsx(It,{children:(B=$.files)!=null&&B.length?$.files.map((q,Q)=>C.jsx(RL,{filePath:q,fileLabel:`File ${Q+1}`},Q)):C.jsx(ze,{variant:"body2",children:"No files uploaded"})}),C.jsx(It,{children:$.status==="approved"?C.jsx(ze,{variant:"body2",sx:{fontWeight:"bold"},children:$.chatbotId}):C.jsx(Sn,{size:"small",value:a[$.id]||"",onChange:q=>V($.id,q.target.value),placeholder:"Enter Chatbot ID",sx:{width:"150px"}})}),C.jsx(It,{children:C.jsx(xt,{variant:"contained",color:"primary",onClick:()=>k($.id),disabled:$.status==="approved",sx:{fontWeight:"bold"},children:$.status==="approved"?"Approved":"Approve"})})]},$.id)})})]}),C.jsx(RW,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:E,page:_,onPageChange:P,onRowsPerPageChange:F,"aria-label":"Chatbot requests pagination",sx:{mt:2}})]}),C.jsx(is,{open:d,autoHideDuration:6e3,onClose:x,children:C.jsx(Sr,{onClose:x,severity:b,sx:{width:"100%"},children:p})})]})},fse=Y.lazy(()=>Ki(()=>import("./index-Dr1sw0m-.js"),__vite__mapDeps([7,4,1,5]))),pse=Y.lazy(()=>Ki(()=>import("./index-5Zv73RPk.js"),__vite__mapDeps([8,4,1,5,9]))),mse=Y.lazy(()=>Ki(()=>import("./SupplementalMaterials-B8NDcqRV.js"),__vite__mapDeps([10,4,1,5]))),Jv=({element:t})=>C.jsx(YP,{children:C.jsx(bs,{element:t})}),gse=({element:t})=>C.jsx(GP,{children:t}),bse=(t,r)=>[{path:"/",element:t?C.jsx(YP,{children:C.jsx(jY,{})}):C.jsx(gse,{element:C.jsx(fse,{})})},{path:"/laboratory-notebooks",element:C.jsx(Jv,{element:pse})},{path:"/supplemental-materials",element:C.jsx(Jv,{element:mse})},{path:"/my-profile",element:C.jsx(Jv,{element:Vne})},{path:"/add-material",element:C.jsx(bs,{element:rL})},{path:"/edit-material/:id",element:C.jsx(bs,{element:cte})},{path:"/view-material/:id",element:C.jsx(bs,{element:One})},{path:"/add-message",element:C.jsx(bs,{element:Lne})},{path:"/edit-message/:id",element:C.jsx(bs,{element:jne})},{path:"/chatbot-management",element:C.jsx(bs,{element:dre})},{path:"/course-management",element:C.jsx(bs,{element:Jne})},{path:"/request-chatbot",element:C.jsx(bs,{element:pre})},{path:"/request-educator-permissions",element:C.jsx(bs,{element:ore})},{path:"/educator-requests",element:C.jsx(bs,{element:sre})},{path:"/request-new-course",element:C.jsx(are,{})},{path:"/course-requests",element:C.jsx(lre,{})},{path:"/super-admin-course-management",element:C.jsx(cre,{})},{path:"/super-admin-chatbot-requests",element:C.jsx(bs,{element:hse})},...r?[{path:"/user-management",element:C.jsx(bs,{element:zne})},{path:"/chatbot-conversations",element:C.jsx(bs,{element:dse})}]:[],{path:"*",element:C.jsx(VP,{to:"/"})}],kse=FW({breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}}),wse=()=>{const t=zW(),r=bv(t.breakpoints.down("sm")),n=bv(t.breakpoints.between("sm","md")),o=bv(t.breakpoints.up("md"));return{isMobile:r,isTablet:n,isDesktop:o}},yse=()=>{const{isMobile:t,isTablet:r,isDesktop:n}=wse();return C.jsx(UW,{position:"static",className:"device-version-bar",children:C.jsx(qW,{className:"device-version-toolbar",children:C.jsxs(Le,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[t&&C.jsx(ze,{variant:"body1",className:"device-version-text",children:"NexLAB Mobile Version 1.0"}),r&&C.jsx(ze,{variant:"body1",className:"device-version-text",children:"NexLAB Tablet Version 1.0"}),n&&C.jsx(ze,{variant:"body1",className:"device-version-text",children:"NexLAB Desktop Version 1.0"})]})})})},vse=at.forwardRef(function(r,n){return C.jsx(Sr,{elevation:6,ref:n,variant:"filled",...r})}),Ase=()=>{const[t,r]=Y.useState(!1),[n,o]=Y.useState(!1),[a,l]=Y.useState(""),[d,h]=Y.useState(!1),p=Vr(),g=()=>{r(!0)},b=()=>{r(!1)},v=async()=>{if(!d){h(!0);try{await $P.signOut(),r(!1),o(!0),l("Logged out successfully"),p("/")}catch(y){r(!1),o(!0);const k=y instanceof Error?y.message:"Logout failed: An unexpected error occurred";l(k)}finally{h(!1)}}};return C.jsxs(C.Fragment,{children:[C.jsx(xt,{variant:"outlined",onClick:g,disabled:d,sx:{fontSize:"1rem",fontFamily:"Staatliches, sans-serif",textTransform:"none",minWidth:"120px",color:"#FBFADA",borderColor:"#FBFADA",borderRadius:"15px",backgroundColor:"transparent",boxShadow:"none","&:hover":{borderColor:"#FFFFFF",backgroundColor:"#ffcdd2",color:"#c62828",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.2)",transform:"scale(1.05)"},"&:disabled":{borderColor:"#ccc",color:"#999"},transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out"},children:d?"Logging out...":"Logout"}),C.jsxs(yo,{open:t,onClose:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[C.jsx(vo,{id:"alert-dialog-title",children:"Logging Out"}),C.jsx(Ao,{children:C.jsx(Ss,{id:"alert-dialog-description",children:"Are you sure you want to log out?"})}),C.jsxs(_o,{children:[C.jsx(xt,{onClick:v,autoFocus:!0,disabled:d,children:d?"Please wait...":"Yes"}),C.jsx(xt,{onClick:b,disabled:d,children:"No"})]})]}),C.jsx(is,{open:n,autoHideDuration:6e3,onClose:()=>o(!1),children:C.jsx(vse,{onClose:()=>o(!1),severity:"info",sx:{width:"100%"},children:a})})]})},_se=at.memo(Ase),g8=at.memo(()=>{const{userDetails:t,isSuperAdmin:r}=Ti(),[n,o]=at.useState(!1),a=()=>{t!=null&&t.uid?navigator.clipboard.writeText(t.uid).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)}).catch(l=>console.error("Could not copy text: ",l)):console.error("User details are null or undefined")};return C.jsxs(Le,{className:"header-box",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",backgroundColor:"#CDDAFF"},children:[C.jsxs(Le,{sx:{display:"flex",alignItems:"center"},children:[C.jsx("img",{src:"/nexlab/nexlab-logo.png",alt:"ATE Logo",style:{width:300}}),C.jsx(Le,{className:"divider",sx:{height:"40px",borderLeft:"2px solid #0B53C0",marginRight:"20px"}}),C.jsxs(ze,{variant:"body1",component:"p",className:"subtitle",sx:{color:"#0B53C0",fontFamily:"Gabarito",maxWidth:"300px"},children:["Next-Generation Experiments and ",C.jsx("br",{}),"Learning for Advanced Biotech"]})]}),C.jsxs(Le,{className:"user-info-box",sx:{display:"flex",alignItems:"center"},children:[r&&C.jsx(ni,{label:"Super-Admin",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),(t==null?void 0:t.isAdmin)&&!r&&C.jsx(ni,{label:"Educator",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),!(t!=null&&t.isAdmin)&&C.jsx(ni,{label:"Student",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#bbdefb",color:"#1e88e5",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),t&&C.jsx(ia,{title:n?"Copied!":"Click to Copy",enterDelay:300,leaveDelay:200,children:C.jsx(ni,{label:`User ID: ${t.uid}`,variant:"outlined",onClick:a,sx:{borderRadius:"15px",fontSize:"20px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",mr:2,fontFamily:"Staatliches, sans-serif"}})}),C.jsx(_se,{})]})]})});g8.displayName="Header";const Cse=()=>{const t=()=>{window.open("https://help.waveshi.org","_blank","noopener,noreferrer")};return C.jsx(xt,{onClick:t,className:"report-bug-button",startIcon:C.jsx(VW,{}),children:"Provide Feedback"})};function xse(){return C.jsxs(Le,{component:"footer",className:"footer-container",children:[C.jsx(Le,{className:"report-bug-container",children:C.jsx(Cse,{})}),C.jsx(Zs,{}),C.jsxs(Le,{className:"footer-content",children:[C.jsx("img",{src:"/nexlab/FooterLogoLong.png",alt:"Logo",className:"footer-logo"}),C.jsx(ze,{variant:"body2",className:"footer-text",children:"The Institute for Future Intelligence (IFI) and Kapi'olani Community College (KCC) is funded in part by the National Science Foundation grant DUE 2300976."}),C.jsx(ze,{variant:"body2",className:"footer-text",children:"© 2025 Institute for Future Intelligence and Kapi'olani Community College Antibody Engineering & Research Projects"})]})]})}const Rg={black:"#000",white:"#fff"},Uf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},qf={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Vf={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},$f={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Hf={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Zm={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Sse={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Fh(t){let r="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+r+" for the full message."}const Ese=Object.freeze(Object.defineProperty({__proto__:null,default:Fh},Symbol.toStringTag,{value:"Module"})),Q1="$$material";function Dse(t,r){const n=$W({key:"css",prepend:t});if(r){const o=n.insert;n.insert=(...a)=>(a[1].styles.match(/^@layer\s+[^{]*$/)||(a[1].styles=`@layer mui {${a[1].styles}}`),o(...a))}return n}const Zv=new Map;function Ise(t){const{injectFirst:r,enableCssLayer:n,children:o}=t,a=Y.useMemo(()=>{const l=`${r}-${n}`;if(typeof document=="object"&&Zv.has(l))return Zv.get(l);const d=Dse(r,n);return Zv.set(l,d),d},[r,n]);return r||n?C.jsx(SP,{value:a,children:o}):o}function Tse(t){return t==null||Object.keys(t).length===0}function b8(t){const{styles:r,defaultTheme:n={}}=t,o=typeof r=="function"?a=>r(Tse(a)?n:a):r;return C.jsx(EP,{styles:o})}function k8(t,r){return U_(t,r)}const Nse=(t,r)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=r(t.__emotion_styles))},B6=[];function w8(t){return B6[0]=t,xP(B6)}const Mse=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:b8,StyledEngineProvider:Ise,ThemeContext:q_,css:qh,default:k8,internal_processStyles:Nse,internal_serializeStyles:w8,keyframes:mc},Symbol.toStringTag,{value:"Module"}));function Gu(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function y8(t){if(Y.isValidElement(t)||!Gu(t))return t;const r={};return Object.keys(t).forEach(n=>{r[n]=y8(t[n])}),r}function ea(t,r,n={clone:!0}){const o=n.clone?We({},t):t;return Gu(t)&&Gu(r)&&Object.keys(r).forEach(a=>{Y.isValidElement(r[a])?o[a]=r[a]:Gu(r[a])&&Object.prototype.hasOwnProperty.call(t,a)&&Gu(t[a])?o[a]=ea(t[a],r[a],n):n.clone?o[a]=Gu(r[a])?y8(r[a]):r[a]:o[a]=r[a]}),o}const Pse=Object.freeze(Object.defineProperty({__proto__:null,default:ea,isPlainObject:Gu},Symbol.toStringTag,{value:"Module"})),Ose=["values","unit","step"],Lse=t=>{const r=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return r.sort((n,o)=>n.val-o.val),r.reduce((n,o)=>We({},n,{[o.key]:o.val}),{})};function v8(t){const{values:r={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=t,a=wn(t,Ose),l=Lse(r),d=Object.keys(l);function h(y){return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n})`}function p(y){return`@media (max-width:${(typeof r[y]=="number"?r[y]:y)-o/100}${n})`}function g(y,k){const x=d.indexOf(k);return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n}) and (max-width:${(x!==-1&&typeof r[d[x]]=="number"?r[d[x]]:k)-o/100}${n})`}function b(y){return d.indexOf(y)+1<d.length?g(y,d[d.indexOf(y)+1]):h(y)}function v(y){const k=d.indexOf(y);return k===0?h(d[1]):k===d.length-1?p(d[k]):g(y,d[d.indexOf(y)+1]).replace("@media","@media not all and")}return We({keys:d,values:l,up:h,down:p,between:g,only:b,not:v,unit:n},a)}const jse={borderRadius:4};function kg(t,r){return r?ea(t,r,{clone:!1}):t}const AC={xs:0,sm:600,md:900,lg:1200,xl:1536},R6={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${AC[t]}px)`};function ru(t,r,n){const o=t.theme||{};if(Array.isArray(r)){const l=o.breakpoints||R6;return r.reduce((d,h,p)=>(d[l.up(l.keys[p])]=n(r[p]),d),{})}if(typeof r=="object"){const l=o.breakpoints||R6;return Object.keys(r).reduce((d,h)=>{if(Object.keys(l.values||AC).indexOf(h)!==-1){const p=l.up(h);d[p]=n(r[h],h)}else{const p=h;d[p]=r[p]}return d},{})}return n(r)}function Bse(t={}){var r;return((r=t.keys)==null?void 0:r.reduce((o,a)=>{const l=t.up(a);return o[l]={},o},{}))||{}}function F6(t,r){return t.reduce((n,o)=>{const a=n[o];return(!a||Object.keys(a).length===0)&&delete n[o],n},r)}function en(t){if(typeof t!="string")throw new Error(Fh(7));return t.charAt(0).toUpperCase()+t.slice(1)}const Rse=Object.freeze(Object.defineProperty({__proto__:null,default:en},Symbol.toStringTag,{value:"Module"}));function J1(t,r,n=!0){if(!r||typeof r!="string")return null;if(t&&t.vars&&n){const o=`vars.${r}`.split(".").reduce((a,l)=>a&&a[l]?a[l]:null,t);if(o!=null)return o}return r.split(".").reduce((o,a)=>o&&o[a]!=null?o[a]:null,t)}function c1(t,r,n,o=n){let a;return typeof t=="function"?a=t(n):Array.isArray(t)?a=t[n]||o:a=J1(t,n)||o,r&&(a=r(a,o,t)),a}function Mi(t){const{prop:r,cssProperty:n=t.prop,themeKey:o,transform:a}=t,l=d=>{if(d[r]==null)return null;const h=d[r],p=d.theme,g=J1(p,o)||{};return ru(d,h,v=>{let y=c1(g,a,v);return v===y&&typeof v=="string"&&(y=c1(g,a,`${r}${v==="default"?"":en(v)}`,v)),n===!1?y:{[n]:y}})};return l.propTypes={},l.filterProps=[r],l}function Fse(t){const r={};return n=>(r[n]===void 0&&(r[n]=t(n)),r[n])}const zse={m:"margin",p:"padding"},Use={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},z6={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},qse=Fse(t=>{if(t.length>2)if(z6[t])t=z6[t];else return[t];const[r,n]=t.split(""),o=zse[r],a=Use[n]||"";return Array.isArray(a)?a.map(l=>o+l):[o+a]}),_C=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],CC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[..._C,...CC];function ab(t,r,n,o){var a;const l=(a=J1(t,r,!1))!=null?a:n;return typeof l=="number"?d=>typeof d=="string"?d:l*d:Array.isArray(l)?d=>typeof d=="string"?d:l[d]:typeof l=="function"?l:()=>{}}function A8(t){return ab(t,"spacing",8)}function lb(t,r){if(typeof r=="string"||r==null)return r;const n=Math.abs(r),o=t(n);return r>=0?o:typeof o=="number"?-o:`-${o}`}function Vse(t,r){return n=>t.reduce((o,a)=>(o[a]=lb(r,n),o),{})}function $se(t,r,n,o){if(r.indexOf(n)===-1)return null;const a=qse(n),l=Vse(a,o),d=t[n];return ru(t,d,l)}function _8(t,r){const n=A8(t.theme);return Object.keys(t).map(o=>$se(t,r,o,n)).reduce(kg,{})}function di(t){return _8(t,_C)}di.propTypes={};di.filterProps=_C;function hi(t){return _8(t,CC)}hi.propTypes={};hi.filterProps=CC;function Hse(t=8){if(t.mui)return t;const r=A8({spacing:t}),n=(...o)=>(o.length===0?[1]:o).map(l=>{const d=r(l);return typeof d=="number"?`${d}px`:d}).join(" ");return n.mui=!0,n}function Z1(...t){const r=t.reduce((o,a)=>(a.filterProps.forEach(l=>{o[l]=a}),o),{}),n=o=>Object.keys(o).reduce((a,l)=>r[l]?kg(a,r[l](o)):a,{});return n.propTypes={},n.filterProps=t.reduce((o,a)=>o.concat(a.filterProps),[]),n}function ja(t){return typeof t!="number"?t:`${t}px solid`}function Ua(t,r){return Mi({prop:t,themeKey:"borders",transform:r})}const Wse=Ua("border",ja),Gse=Ua("borderTop",ja),Yse=Ua("borderRight",ja),Kse=Ua("borderBottom",ja),Qse=Ua("borderLeft",ja),Jse=Ua("borderColor"),Zse=Ua("borderTopColor"),Xse=Ua("borderRightColor"),eae=Ua("borderBottomColor"),tae=Ua("borderLeftColor"),nae=Ua("outline",ja),rae=Ua("outlineColor"),X1=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const r=ab(t.theme,"shape.borderRadius",4),n=o=>({borderRadius:lb(r,o)});return ru(t,t.borderRadius,n)}return null};X1.propTypes={};X1.filterProps=["borderRadius"];Z1(Wse,Gse,Yse,Kse,Qse,Jse,Zse,Xse,eae,tae,X1,nae,rae);const ew=t=>{if(t.gap!==void 0&&t.gap!==null){const r=ab(t.theme,"spacing",8),n=o=>({gap:lb(r,o)});return ru(t,t.gap,n)}return null};ew.propTypes={};ew.filterProps=["gap"];const tw=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const r=ab(t.theme,"spacing",8),n=o=>({columnGap:lb(r,o)});return ru(t,t.columnGap,n)}return null};tw.propTypes={};tw.filterProps=["columnGap"];const nw=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const r=ab(t.theme,"spacing",8),n=o=>({rowGap:lb(r,o)});return ru(t,t.rowGap,n)}return null};nw.propTypes={};nw.filterProps=["rowGap"];const iae=Mi({prop:"gridColumn"}),oae=Mi({prop:"gridRow"}),sae=Mi({prop:"gridAutoFlow"}),aae=Mi({prop:"gridAutoColumns"}),lae=Mi({prop:"gridAutoRows"}),cae=Mi({prop:"gridTemplateColumns"}),uae=Mi({prop:"gridTemplateRows"}),dae=Mi({prop:"gridTemplateAreas"}),hae=Mi({prop:"gridArea"});Z1(ew,tw,nw,iae,oae,sae,aae,lae,cae,uae,dae,hae);function fp(t,r){return r==="grey"?r:t}const fae=Mi({prop:"color",themeKey:"palette",transform:fp}),pae=Mi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:fp}),mae=Mi({prop:"backgroundColor",themeKey:"palette",transform:fp});Z1(fae,pae,mae);function Gs(t){return t<=1&&t!==0?`${t*100}%`:t}const gae=Mi({prop:"width",transform:Gs}),xC=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const r=n=>{var o,a;const l=((o=t.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[n])||AC[n];return l?((a=t.theme)==null||(a=a.breakpoints)==null?void 0:a.unit)!=="px"?{maxWidth:`${l}${t.theme.breakpoints.unit}`}:{maxWidth:l}:{maxWidth:Gs(n)}};return ru(t,t.maxWidth,r)}return null};xC.filterProps=["maxWidth"];const bae=Mi({prop:"minWidth",transform:Gs}),kae=Mi({prop:"height",transform:Gs}),wae=Mi({prop:"maxHeight",transform:Gs}),yae=Mi({prop:"minHeight",transform:Gs});Mi({prop:"size",cssProperty:"width",transform:Gs});Mi({prop:"size",cssProperty:"height",transform:Gs});const vae=Mi({prop:"boxSizing"});Z1(gae,xC,bae,kae,wae,yae,vae);const cb={border:{themeKey:"borders",transform:ja},borderTop:{themeKey:"borders",transform:ja},borderRight:{themeKey:"borders",transform:ja},borderBottom:{themeKey:"borders",transform:ja},borderLeft:{themeKey:"borders",transform:ja},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ja},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:X1},color:{themeKey:"palette",transform:fp},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:fp},backgroundColor:{themeKey:"palette",transform:fp},p:{style:hi},pt:{style:hi},pr:{style:hi},pb:{style:hi},pl:{style:hi},px:{style:hi},py:{style:hi},padding:{style:hi},paddingTop:{style:hi},paddingRight:{style:hi},paddingBottom:{style:hi},paddingLeft:{style:hi},paddingX:{style:hi},paddingY:{style:hi},paddingInline:{style:hi},paddingInlineStart:{style:hi},paddingInlineEnd:{style:hi},paddingBlock:{style:hi},paddingBlockStart:{style:hi},paddingBlockEnd:{style:hi},m:{style:di},mt:{style:di},mr:{style:di},mb:{style:di},ml:{style:di},mx:{style:di},my:{style:di},margin:{style:di},marginTop:{style:di},marginRight:{style:di},marginBottom:{style:di},marginLeft:{style:di},marginX:{style:di},marginY:{style:di},marginInline:{style:di},marginInlineStart:{style:di},marginInlineEnd:{style:di},marginBlock:{style:di},marginBlockStart:{style:di},marginBlockEnd:{style:di},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ew},rowGap:{style:nw},columnGap:{style:tw},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Gs},maxWidth:{style:xC},minWidth:{transform:Gs},height:{transform:Gs},maxHeight:{transform:Gs},minHeight:{transform:Gs},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Aae(...t){const r=t.reduce((o,a)=>o.concat(Object.keys(a)),[]),n=new Set(r);return t.every(o=>n.size===Object.keys(o).length)}function _ae(t,r){return typeof t=="function"?t(r):t}function C8(){function t(n,o,a,l){const d={[n]:o,theme:a},h=l[n];if(!h)return{[n]:o};const{cssProperty:p=n,themeKey:g,transform:b,style:v}=h;if(o==null)return null;if(g==="typography"&&o==="inherit")return{[n]:o};const y=J1(a,g)||{};return v?v(d):ru(d,o,x=>{let _=c1(y,b,x);return x===_&&typeof x=="string"&&(_=c1(y,b,`${n}${x==="default"?"":en(x)}`,x)),p===!1?_:{[p]:_}})}function r(n){var o;const{sx:a,theme:l={},nested:d}=n||{};if(!a)return null;const h=(o=l.unstable_sxConfig)!=null?o:cb;function p(g){let b=g;if(typeof g=="function")b=g(l);else if(typeof g!="object")return g;if(!b)return null;const v=Bse(l.breakpoints),y=Object.keys(v);let k=v;return Object.keys(b).forEach(x=>{const _=_ae(b[x],l);if(_!=null)if(typeof _=="object")if(h[x])k=kg(k,t(x,_,l,h));else{const D=ru({theme:l},_,E=>({[x]:E}));Aae(D,_)?k[x]=r({sx:_,theme:l,nested:!0}):k=kg(k,D)}else k=kg(k,t(x,_,l,h))}),!d&&l.modularCssLayers?{"@layer sx":F6(y,k)}:F6(y,k)}return Array.isArray(a)?a.map(p):p(a)}return r}const ub=C8();ub.filterProps=["sx"];function x8(t,r){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:r}:n.palette.mode===t?r:{}}const Cae=["breakpoints","palette","spacing","shape"];function SC(t={},...r){const{breakpoints:n={},palette:o={},spacing:a,shape:l={}}=t,d=wn(t,Cae),h=v8(n),p=Hse(a);let g=ea({breakpoints:h,direction:"ltr",components:{},palette:We({mode:"light"},o),spacing:p,shape:We({},jse,l)},d);return g.applyStyles=x8,g=r.reduce((b,v)=>ea(b,v),g),g.unstable_sxConfig=We({},cb,d==null?void 0:d.unstable_sxConfig),g.unstable_sx=function(v){return ub({sx:v,theme:this})},g}const xae=Object.freeze(Object.defineProperty({__proto__:null,default:SC,private_createBreakpoints:v8,unstable_applyStyles:x8},Symbol.toStringTag,{value:"Module"}));function Sae(t){return Object.keys(t).length===0}function S8(t=null){const r=Y.useContext(q_);return!r||Sae(r)?t:r}const Eae=SC();function EC(t=Eae){return S8(t)}function Xv(t){const r=w8(t);return t!==r&&r.styles?(r.styles.match(/^@layer\s+[^{]*$/)||(r.styles=`@layer global{${r.styles}}`),r):t}function Dae({styles:t,themeId:r,defaultTheme:n={}}){const o=EC(n),a=r&&o[r]||o;let l=typeof t=="function"?t(a):t;return a.modularCssLayers&&(Array.isArray(l)?l=l.map(d=>Xv(typeof d=="function"?d(a):d)):l=Xv(l)),C.jsx(b8,{styles:l})}const Iae=["sx"],Tae=t=>{var r,n;const o={systemProps:{},otherProps:{}},a=(r=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?r:cb;return Object.keys(t).forEach(l=>{a[l]?o.systemProps[l]=t[l]:o.otherProps[l]=t[l]}),o};function DC(t){const{sx:r}=t,n=wn(t,Iae),{systemProps:o,otherProps:a}=Tae(n);let l;return Array.isArray(r)?l=[o,...r]:typeof r=="function"?l=(...d)=>{const h=r(...d);return Gu(h)?We({},o,h):o}:l=We({},o,r),We({},a,{sx:l})}const Nae=Object.freeze(Object.defineProperty({__proto__:null,default:ub,extendSxProp:DC,unstable_createStyleFunctionSx:C8,unstable_defaultSxConfig:cb},Symbol.toStringTag,{value:"Module"})),U6=t=>t,Mae=()=>{let t=U6;return{configure(r){t=r},generate(r){return t(r)},reset(){t=U6}}},E8=Mae(),Pae=["className","component"];function Oae(t={}){const{themeId:r,defaultTheme:n,defaultClassName:o="MuiBox-root",generateClassName:a}=t,l=k8("div",{shouldForwardProp:h=>h!=="theme"&&h!=="sx"&&h!=="as"})(ub);return Y.forwardRef(function(p,g){const b=EC(n),v=DC(p),{className:y,component:k="div"}=v,x=wn(v,Pae);return C.jsx(l,We({as:k,ref:g,className:Zt(y,a?a(o):o),theme:r&&b[r]||b},x))})}const Lae={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function jr(t,r,n="Mui"){const o=Lae[r];return o?`${n}-${o}`:`${E8.generate(t)}-${r}`}function Nr(t,r,n="Mui"){const o={};return r.forEach(a=>{o[a]=jr(t,a,n)}),o}const jae=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function D8(t){const r=`${t}`.match(jae);return r&&r[1]||""}function I8(t,r=""){return t.displayName||t.name||D8(t)||r}function q6(t,r,n){const o=I8(r);return t.displayName||(o!==""?`${n}(${o})`:n)}function Bae(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return I8(t,"Component");if(typeof t=="object")switch(t.$$typeof){case Rk.ForwardRef:return q6(t,t.render,"ForwardRef");case Rk.Memo:return q6(t,t.type,"memo");default:return}}}const Rae=Object.freeze(Object.defineProperty({__proto__:null,default:Bae,getFunctionName:D8},Symbol.toStringTag,{value:"Module"}));function Fg(t,r){const n=We({},r);return Object.keys(t).forEach(o=>{if(o.toString().match(/^(components|slots)$/))n[o]=We({},t[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const a=t[o]||{},l=r[o];n[o]={},!l||!Object.keys(l)?n[o]=a:!a||!Object.keys(a)?n[o]=l:(n[o]=We({},l),Object.keys(a).forEach(d=>{n[o][d]=Fg(a[d],l[d])}))}else n[o]===void 0&&(n[o]=t[o])}),n}function Fae(t){const{theme:r,name:n,props:o}=t;return!r||!r.components||!r.components[n]||!r.components[n].defaultProps?o:Fg(r.components[n].defaultProps,o)}const ud=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;function zae(t,r,n,o,a){const[l,d]=Y.useState(()=>a&&n?n(t).matches:o?o(t).matches:r);return ud(()=>{let h=!0;if(!n)return;const p=n(t),g=()=>{h&&d(p.matches)};return g(),p.addListener(g),()=>{h=!1,p.removeListener(g)}},[t,n]),l}const T8=Y.useSyncExternalStore;function Uae(t,r,n,o,a){const l=Y.useCallback(()=>r,[r]),d=Y.useMemo(()=>{if(a&&n)return()=>n(t).matches;if(o!==null){const{matches:b}=o(t);return()=>b}return l},[l,t,o,a,n]),[h,p]=Y.useMemo(()=>{if(n===null)return[l,()=>()=>{}];const b=n(t);return[()=>b.matches,v=>(b.addListener(v),()=>{b.removeListener(v)})]},[l,n,t]);return T8(p,h,d)}function V6(t,r={}){const n=S8(),o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:l=o?window.matchMedia:null,ssrMatchMedia:d=null,noSsr:h=!1}=Fae({name:"MuiUseMediaQuery",props:r,theme:n});let p=typeof t=="function"?t(n):t;return p=p.replace(/^@media( ?)/m,""),(T8!==void 0?Uae:zae)(p,a,l,d,h)}function qae(t,r=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(r,Math.min(t,n))}const Vae=Object.freeze(Object.defineProperty({__proto__:null,default:qae},Symbol.toStringTag,{value:"Module"}));function $6(...t){return t.reduce((r,n)=>n==null?r:function(...a){r.apply(this,a),n.apply(this,a)},()=>{})}function N8(t,r=166){let n;function o(...a){const l=()=>{t.apply(this,a)};clearTimeout(n),n=setTimeout(l,r)}return o.clear=()=>{clearTimeout(n)},o}function eA(t,r){var n,o;return Y.isValidElement(t)&&r.indexOf((n=t.type.muiName)!=null?n:(o=t.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function ta(t){return t&&t.ownerDocument||document}function zh(t){return ta(t).defaultView||window}function c_(t,r){typeof t=="function"?t(r):t&&(t.current=r)}let H6=0;function $ae(t){const[r,n]=Y.useState(t),o=t||r;return Y.useEffect(()=>{r==null&&(H6+=1,n(`mui-${H6}`))},[r]),o}const W6=k1.useId;function M8(t){if(W6!==void 0){const r=W6();return t??r}return $ae(t)}function G6({controlled:t,default:r,name:n,state:o="value"}){const{current:a}=Y.useRef(t!==void 0),[l,d]=Y.useState(r),h=a?t:l,p=Y.useCallback(g=>{a||d(g)},[]);return[h,p]}function vh(t){const r=Y.useRef(t);return ud(()=>{r.current=t}),Y.useRef((...n)=>(0,r.current)(...n)).current}function Cs(...t){return Y.useMemo(()=>t.every(r=>r==null)?null:r=>{t.forEach(n=>{c_(n,r)})},t)}const Y6={};function Hae(t,r){const n=Y.useRef(Y6);return n.current===Y6&&(n.current=t(r)),n}const Wae=[];function Gae(t){Y.useEffect(t,Wae)}class rw{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new rw}start(r,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},r)}}function P8(){const t=Hae(rw.create).current;return Gae(t.disposeEffect),t}let iw=!0,u_=!1;const Yae=new rw,Kae={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Qae(t){const{type:r,tagName:n}=t;return!!(n==="INPUT"&&Kae[r]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Jae(t){t.metaKey||t.altKey||t.ctrlKey||(iw=!0)}function tA(){iw=!1}function Zae(){this.visibilityState==="hidden"&&u_&&(iw=!0)}function Xae(t){t.addEventListener("keydown",Jae,!0),t.addEventListener("mousedown",tA,!0),t.addEventListener("pointerdown",tA,!0),t.addEventListener("touchstart",tA,!0),t.addEventListener("visibilitychange",Zae,!0)}function ele(t){const{target:r}=t;try{return r.matches(":focus-visible")}catch{}return iw||Qae(r)}function tle(){const t=Y.useCallback(a=>{a!=null&&Xae(a.ownerDocument)},[]),r=Y.useRef(!1);function n(){return r.current?(u_=!0,Yae.start(100,()=>{u_=!1}),r.current=!1,!0):!1}function o(a){return ele(a)?(r.current=!0,!0):!1}return{isFocusVisibleRef:r,onFocus:o,onBlur:n,ref:t}}function O8(t){const r=t.documentElement.clientWidth;return Math.abs(window.innerWidth-r)}function $r(t,r,n=void 0){const o={};return Object.keys(t).forEach(a=>{o[a]=t[a].reduce((l,d)=>{if(d){const h=r(d);h!==""&&l.push(h),n&&n[d]&&l.push(n[d])}return l},[]).join(" ")}),o}function u1(t){return typeof t=="string"}function nle(t,r,n){return t===void 0||u1(t)?r:We({},r,{ownerState:We({},r.ownerState,n)})}function L8(t,r=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(o=>o.match(/^on[A-Z]/)&&typeof t[o]=="function"&&!r.includes(o)).forEach(o=>{n[o]=t[o]}),n}function K6(t){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{r[n]=t[n]}),r}function rle(t){const{getSlotProps:r,additionalProps:n,externalSlotProps:o,externalForwardedProps:a,className:l}=t;if(!r){const k=Zt(n==null?void 0:n.className,l,a==null?void 0:a.className,o==null?void 0:o.className),x=We({},n==null?void 0:n.style,a==null?void 0:a.style,o==null?void 0:o.style),_=We({},n,a,o);return k.length>0&&(_.className=k),Object.keys(x).length>0&&(_.style=x),{props:_,internalRef:void 0}}const d=L8(We({},a,o)),h=K6(o),p=K6(a),g=r(d),b=Zt(g==null?void 0:g.className,n==null?void 0:n.className,l,a==null?void 0:a.className,o==null?void 0:o.className),v=We({},g==null?void 0:g.style,n==null?void 0:n.style,a==null?void 0:a.style,o==null?void 0:o.style),y=We({},g,n,p,h);return b.length>0&&(y.className=b),Object.keys(v).length>0&&(y.style=v),{props:y,internalRef:g.ref}}function ile(t,r,n){return typeof t=="function"?t(r,n):t}const ole=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function xp(t){var r;const{elementType:n,externalSlotProps:o,ownerState:a,skipResolvingSlotProps:l=!1}=t,d=wn(t,ole),h=l?{}:ile(o,a),{props:p,internalRef:g}=rle(We({},d,{externalSlotProps:h})),b=Cs(g,h==null?void 0:h.ref,(r=t.additionalProps)==null?void 0:r.ref);return nle(n,We({},p,{ref:b}),a)}function db(t){if(parseInt(Y.version,10)>=19){var r;return(t==null||(r=t.props)==null?void 0:r.ref)||null}return(t==null?void 0:t.ref)||null}const sle=Y.createContext(),j8=()=>{const t=Y.useContext(sle);return t??!1},ale=Y.createContext(void 0);function lle(t){const{theme:r,name:n,props:o}=t;if(!r||!r.components||!r.components[n])return o;const a=r.components[n];return a.defaultProps?Fg(a.defaultProps,o):!a.styleOverrides&&!a.variants?Fg(a,o):o}function cle({props:t,name:r}){const n=Y.useContext(ale);return lle({props:t,name:r,theme:{components:n}})}function ule(t,r){return We({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},r)}var Xr={},nA={exports:{}},Q6;function B8(){return Q6||(Q6=1,function(t){function r(n){return n&&n.__esModule?n:{default:n}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(nA)),nA.exports}const dle=su(Ese),hle=su(Vae);var J6;function fle(){if(J6)return Xr;J6=1;var t=B8();Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.alpha=x,Xr.blend=$,Xr.colorChannel=void 0,Xr.darken=D,Xr.decomposeColor=d,Xr.emphasize=F,Xr.getContrastRatio=k,Xr.getLuminance=y,Xr.hexToRgb=a,Xr.hslToRgb=v,Xr.lighten=N,Xr.private_safeAlpha=_,Xr.private_safeColorChannel=void 0,Xr.private_safeDarken=E,Xr.private_safeEmphasize=V,Xr.private_safeLighten=P,Xr.recomposeColor=g,Xr.rgbToHex=b;var r=t(dle),n=t(hle);function o(M,B=0,q=1){return(0,n.default)(M,B,q)}function a(M){M=M.slice(1);const B=new RegExp(`.{1,${M.length>=6?2:1}}`,"g");let q=M.match(B);return q&&q[0].length===1&&(q=q.map(Q=>Q+Q)),q?`rgb${q.length===4?"a":""}(${q.map((Q,H)=>H<3?parseInt(Q,16):Math.round(parseInt(Q,16)/255*1e3)/1e3).join(", ")})`:""}function l(M){const B=M.toString(16);return B.length===1?`0${B}`:B}function d(M){if(M.type)return M;if(M.charAt(0)==="#")return d(a(M));const B=M.indexOf("("),q=M.substring(0,B);if(["rgb","rgba","hsl","hsla","color"].indexOf(q)===-1)throw new Error((0,r.default)(9,M));let Q=M.substring(B+1,M.length-1),H;if(q==="color"){if(Q=Q.split(" "),H=Q.shift(),Q.length===4&&Q[3].charAt(0)==="/"&&(Q[3]=Q[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(H)===-1)throw new Error((0,r.default)(10,H))}else Q=Q.split(",");return Q=Q.map(R=>parseFloat(R)),{type:q,values:Q,colorSpace:H}}const h=M=>{const B=d(M);return B.values.slice(0,3).map((q,Q)=>B.type.indexOf("hsl")!==-1&&Q!==0?`${q}%`:q).join(" ")};Xr.colorChannel=h;const p=(M,B)=>{try{return h(M)}catch{return M}};Xr.private_safeColorChannel=p;function g(M){const{type:B,colorSpace:q}=M;let{values:Q}=M;return B.indexOf("rgb")!==-1?Q=Q.map((H,R)=>R<3?parseInt(H,10):H):B.indexOf("hsl")!==-1&&(Q[1]=`${Q[1]}%`,Q[2]=`${Q[2]}%`),B.indexOf("color")!==-1?Q=`${q} ${Q.join(" ")}`:Q=`${Q.join(", ")}`,`${B}(${Q})`}function b(M){if(M.indexOf("#")===0)return M;const{values:B}=d(M);return`#${B.map((q,Q)=>l(Q===3?Math.round(255*q):q)).join("")}`}function v(M){M=d(M);const{values:B}=M,q=B[0],Q=B[1]/100,H=B[2]/100,R=Q*Math.min(H,1-H),K=(de,se=(de+q/30)%12)=>H-R*Math.max(Math.min(se-3,9-se,1),-1);let j="rgb";const ne=[Math.round(K(0)*255),Math.round(K(8)*255),Math.round(K(4)*255)];return M.type==="hsla"&&(j+="a",ne.push(B[3])),g({type:j,values:ne})}function y(M){M=d(M);let B=M.type==="hsl"||M.type==="hsla"?d(v(M)).values:M.values;return B=B.map(q=>(M.type!=="color"&&(q/=255),q<=.03928?q/12.92:((q+.055)/1.055)**2.4)),Number((.2126*B[0]+.7152*B[1]+.0722*B[2]).toFixed(3))}function k(M,B){const q=y(M),Q=y(B);return(Math.max(q,Q)+.05)/(Math.min(q,Q)+.05)}function x(M,B){return M=d(M),B=o(B),(M.type==="rgb"||M.type==="hsl")&&(M.type+="a"),M.type==="color"?M.values[3]=`/${B}`:M.values[3]=B,g(M)}function _(M,B,q){try{return x(M,B)}catch{return M}}function D(M,B){if(M=d(M),B=o(B),M.type.indexOf("hsl")!==-1)M.values[2]*=1-B;else if(M.type.indexOf("rgb")!==-1||M.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)M.values[q]*=1-B;return g(M)}function E(M,B,q){try{return D(M,B)}catch{return M}}function N(M,B){if(M=d(M),B=o(B),M.type.indexOf("hsl")!==-1)M.values[2]+=(100-M.values[2])*B;else if(M.type.indexOf("rgb")!==-1)for(let q=0;q<3;q+=1)M.values[q]+=(255-M.values[q])*B;else if(M.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)M.values[q]+=(1-M.values[q])*B;return g(M)}function P(M,B,q){try{return N(M,B)}catch{return M}}function F(M,B=.15){return y(M)>.5?D(M,B):N(M,B)}function V(M,B,q){try{return F(M,B)}catch{return M}}function $(M,B,q,Q=1){const H=(ne,de)=>Math.round((ne**(1/Q)*(1-q)+de**(1/Q)*q)**Q),R=d(M),K=d(B),j=[H(R.values[0],K.values[0]),H(R.values[1],K.values[1]),H(R.values[2],K.values[2])];return g({type:"rgb",values:j})}return Xr}var Qs=fle();const ple=["mode","contrastThreshold","tonalOffset"],Z6={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Rg.white,default:Rg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},rA={text:{primary:Rg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Rg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function X6(t,r,n,o){const a=o.light||o,l=o.dark||o*1.5;t[r]||(t.hasOwnProperty(n)?t[r]=t[n]:r==="light"?t.light=Qs.lighten(t.main,a):r==="dark"&&(t.dark=Qs.darken(t.main,l)))}function mle(t="light"){return t==="dark"?{main:Vf[200],light:Vf[50],dark:Vf[400]}:{main:Vf[700],light:Vf[400],dark:Vf[800]}}function gle(t="light"){return t==="dark"?{main:qf[200],light:qf[50],dark:qf[400]}:{main:qf[500],light:qf[300],dark:qf[700]}}function ble(t="light"){return t==="dark"?{main:Uf[500],light:Uf[300],dark:Uf[700]}:{main:Uf[700],light:Uf[400],dark:Uf[800]}}function kle(t="light"){return t==="dark"?{main:$f[400],light:$f[300],dark:$f[700]}:{main:$f[700],light:$f[500],dark:$f[900]}}function wle(t="light"){return t==="dark"?{main:Hf[400],light:Hf[300],dark:Hf[700]}:{main:Hf[800],light:Hf[500],dark:Hf[900]}}function yle(t="light"){return t==="dark"?{main:Zm[400],light:Zm[300],dark:Zm[700]}:{main:"#ed6c02",light:Zm[500],dark:Zm[900]}}function vle(t){const{mode:r="light",contrastThreshold:n=3,tonalOffset:o=.2}=t,a=wn(t,ple),l=t.primary||mle(r),d=t.secondary||gle(r),h=t.error||ble(r),p=t.info||kle(r),g=t.success||wle(r),b=t.warning||yle(r);function v(_){return Qs.getContrastRatio(_,rA.text.primary)>=n?rA.text.primary:Z6.text.primary}const y=({color:_,name:D,mainShade:E=500,lightShade:N=300,darkShade:P=700})=>{if(_=We({},_),!_.main&&_[E]&&(_.main=_[E]),!_.hasOwnProperty("main"))throw new Error(Fh(11,D?` (${D})`:"",E));if(typeof _.main!="string")throw new Error(Fh(12,D?` (${D})`:"",JSON.stringify(_.main)));return X6(_,"light",N,o),X6(_,"dark",P,o),_.contrastText||(_.contrastText=v(_.main)),_},k={dark:rA,light:Z6};return ea(We({common:We({},Rg),mode:r,primary:y({color:l,name:"primary"}),secondary:y({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:h,name:"error"}),warning:y({color:b,name:"warning"}),info:y({color:p,name:"info"}),success:y({color:g,name:"success"}),grey:Sse,contrastThreshold:n,getContrastText:v,augmentColor:y,tonalOffset:o},k[r]),a)}const Ale=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function _le(t){return Math.round(t*1e5)/1e5}const eN={textTransform:"uppercase"},tN='"Roboto", "Helvetica", "Arial", sans-serif';function Cle(t,r){const n=typeof r=="function"?r(t):r,{fontFamily:o=tN,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:d=400,fontWeightMedium:h=500,fontWeightBold:p=700,htmlFontSize:g=16,allVariants:b,pxToRem:v}=n,y=wn(n,Ale),k=a/14,x=v||(E=>`${E/g*k}rem`),_=(E,N,P,F,V)=>We({fontFamily:o,fontWeight:E,fontSize:x(N),lineHeight:P},o===tN?{letterSpacing:`${_le(F/N)}em`}:{},V,b),D={h1:_(l,96,1.167,-1.5),h2:_(l,60,1.2,-.5),h3:_(d,48,1.167,0),h4:_(d,34,1.235,.25),h5:_(d,24,1.334,0),h6:_(h,20,1.6,.15),subtitle1:_(d,16,1.75,.15),subtitle2:_(h,14,1.57,.1),body1:_(d,16,1.5,.15),body2:_(d,14,1.43,.15),button:_(h,14,1.75,.4,eN),caption:_(d,12,1.66,.4),overline:_(d,12,2.66,1,eN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ea(We({htmlFontSize:g,pxToRem:x,fontFamily:o,fontSize:a,fontWeightLight:l,fontWeightRegular:d,fontWeightMedium:h,fontWeightBold:p},D),y,{clone:!1})}const xle=.2,Sle=.14,Ele=.12;function zr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${xle})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Sle})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Ele})`].join(",")}const Dle=["none",zr(0,2,1,-1,0,1,1,0,0,1,3,0),zr(0,3,1,-2,0,2,2,0,0,1,5,0),zr(0,3,3,-2,0,3,4,0,0,1,8,0),zr(0,2,4,-1,0,4,5,0,0,1,10,0),zr(0,3,5,-1,0,5,8,0,0,1,14,0),zr(0,3,5,-1,0,6,10,0,0,1,18,0),zr(0,4,5,-2,0,7,10,1,0,2,16,1),zr(0,5,5,-3,0,8,10,1,0,3,14,2),zr(0,5,6,-3,0,9,12,1,0,3,16,2),zr(0,6,6,-3,0,10,14,1,0,4,18,3),zr(0,6,7,-4,0,11,15,1,0,4,20,3),zr(0,7,8,-4,0,12,17,2,0,5,22,4),zr(0,7,8,-4,0,13,19,2,0,5,24,4),zr(0,7,9,-4,0,14,21,2,0,5,26,4),zr(0,8,9,-5,0,15,22,2,0,6,28,5),zr(0,8,10,-5,0,16,24,2,0,6,30,5),zr(0,8,11,-5,0,17,26,2,0,6,32,5),zr(0,9,11,-5,0,18,28,2,0,7,34,6),zr(0,9,12,-6,0,19,29,2,0,7,36,6),zr(0,10,13,-6,0,20,31,3,0,8,38,7),zr(0,10,13,-6,0,21,33,3,0,8,40,7),zr(0,10,14,-6,0,22,35,3,0,8,42,7),zr(0,11,14,-7,0,23,36,3,0,9,44,8),zr(0,11,15,-7,0,24,38,3,0,9,46,8)],Ile=["duration","easing","delay"],Tle={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Nle={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function nN(t){return`${Math.round(t)}ms`}function Mle(t){if(!t)return 0;const r=t/36;return Math.round((4+15*r**.25+r/5)*10)}function Ple(t){const r=We({},Tle,t.easing),n=We({},Nle,t.duration);return We({getAutoHeightDuration:Mle,create:(a=["all"],l={})=>{const{duration:d=n.standard,easing:h=r.easeInOut,delay:p=0}=l;return wn(l,Ile),(Array.isArray(a)?a:[a]).map(g=>`${g} ${typeof d=="string"?d:nN(d)} ${h} ${typeof p=="string"?p:nN(p)}`).join(",")}},t,{easing:r,duration:n})}const Ole={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Lle=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function R8(t={},...r){const{mixins:n={},palette:o={},transitions:a={},typography:l={}}=t,d=wn(t,Lle);if(t.vars&&t.generateCssVars===void 0)throw new Error(Fh(18));const h=vle(o),p=SC(t);let g=ea(p,{mixins:ule(p.breakpoints,n),palette:h,shadows:Dle.slice(),typography:Cle(h,l),transitions:Ple(a),zIndex:We({},Ole)});return g=ea(g,d),g=r.reduce((b,v)=>ea(b,v),g),g.unstable_sxConfig=We({},cb,d==null?void 0:d.unstable_sxConfig),g.unstable_sx=function(v){return ub({sx:v,theme:this})},g}const IC=R8();function F8(){const t=EC(IC);return t[Q1]||t}var ah={},iA={exports:{}},rN;function jle(){return rN||(rN=1,function(t){function r(){return t.exports=r=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var l in a)({}).hasOwnProperty.call(a,l)&&(n[l]=a[l])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,r.apply(null,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(iA)),iA.exports}var oA={exports:{}},iN;function Ble(){return iN||(iN=1,function(t){function r(n,o){if(n==null)return{};var a={};for(var l in n)if({}.hasOwnProperty.call(n,l)){if(o.indexOf(l)!==-1)continue;a[l]=n[l]}return a}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(oA)),oA.exports}const Rle=su(Mse),Fle=su(Pse),zle=su(Rse),Ule=su(Rae),qle=su(xae),Vle=su(Nae);var oN;function $le(){if(oN)return ah;oN=1;var t=B8();Object.defineProperty(ah,"__esModule",{value:!0}),ah.default=V,ah.shouldForwardProp=x,ah.systemDefaultTheme=void 0;var r=t(jle()),n=t(Ble()),o=v(Rle),a=Fle;t(zle),t(Ule);var l=t(qle),d=t(Vle);const h=["ownerState"],p=["variants"],g=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function b($){if(typeof WeakMap!="function")return null;var M=new WeakMap,B=new WeakMap;return(b=function(q){return q?B:M})($)}function v($,M){if($&&$.__esModule)return $;if($===null||typeof $!="object"&&typeof $!="function")return{default:$};var B=b(M);if(B&&B.has($))return B.get($);var q={__proto__:null},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var H in $)if(H!=="default"&&Object.prototype.hasOwnProperty.call($,H)){var R=Q?Object.getOwnPropertyDescriptor($,H):null;R&&(R.get||R.set)?Object.defineProperty(q,H,R):q[H]=$[H]}return q.default=$,B&&B.set($,q),q}function y($){return Object.keys($).length===0}function k($){return typeof $=="string"&&$.charCodeAt(0)>96}function x($){return $!=="ownerState"&&$!=="theme"&&$!=="sx"&&$!=="as"}function _($,M){return M&&$&&typeof $=="object"&&$.styles&&!$.styles.startsWith("@layer")&&($.styles=`@layer ${M}{${String($.styles)}}`),$}const D=ah.systemDefaultTheme=(0,l.default)(),E=$=>$&&$.charAt(0).toLowerCase()+$.slice(1);function N({defaultTheme:$,theme:M,themeId:B}){return y(M)?$:M[B]||M}function P($){return $?(M,B)=>B[$]:null}function F($,M,B){let{ownerState:q}=M,Q=(0,n.default)(M,h);const H=typeof $=="function"?$((0,r.default)({ownerState:q},Q)):$;if(Array.isArray(H))return H.flatMap(R=>F(R,(0,r.default)({ownerState:q},Q),B));if(H&&typeof H=="object"&&Array.isArray(H.variants)){const{variants:R=[]}=H;let j=(0,n.default)(H,p);return R.forEach(ne=>{let de=!0;if(typeof ne.props=="function"?de=ne.props((0,r.default)({ownerState:q},Q,q)):Object.keys(ne.props).forEach(se=>{(q==null?void 0:q[se])!==ne.props[se]&&Q[se]!==ne.props[se]&&(de=!1)}),de){Array.isArray(j)||(j=[j]);const se=typeof ne.style=="function"?ne.style((0,r.default)({ownerState:q},Q,q)):ne.style;j.push(B?_((0,o.internal_serializeStyles)(se),B):se)}}),j}return B?_((0,o.internal_serializeStyles)(H),B):H}function V($={}){const{themeId:M,defaultTheme:B=D,rootShouldForwardProp:q=x,slotShouldForwardProp:Q=x}=$,H=R=>(0,d.default)((0,r.default)({},R,{theme:N((0,r.default)({},R,{defaultTheme:B,themeId:M}))}));return H.__mui_systemSx=!0,(R,K={})=>{(0,o.internal_processStyles)(R,Ie=>Ie.filter(Ne=>!(Ne!=null&&Ne.__mui_systemSx)));const{name:j,slot:ne,skipVariantsResolver:de,skipSx:se,overridesResolver:oe=P(E(ne))}=K,ye=(0,n.default)(K,g),re=j&&j.startsWith("Mui")||ne?"components":"custom",_e=de!==void 0?de:ne&&ne!=="Root"&&ne!=="root"||!1,X=se||!1;let J,ae=x;ne==="Root"||ne==="root"?ae=q:ne?ae=Q:k(R)&&(ae=void 0);const pe=(0,o.default)(R,(0,r.default)({shouldForwardProp:ae,label:J},ye)),we=Ie=>typeof Ie=="function"&&Ie.__emotion_real!==Ie||(0,a.isPlainObject)(Ie)?Ne=>{const rt=N({theme:Ne.theme,defaultTheme:B,themeId:M});return F(Ie,(0,r.default)({},Ne,{theme:rt}),rt.modularCssLayers?re:void 0)}:Ie,Pe=(Ie,...Ne)=>{let rt=we(Ie);const Qe=Ne?Ne.map(we):[];j&&oe&&Qe.push(Z=>{const Ce=N((0,r.default)({},Z,{defaultTheme:B,themeId:M}));if(!Ce.components||!Ce.components[j]||!Ce.components[j].styleOverrides)return null;const ue=Ce.components[j].styleOverrides,ge={};return Object.entries(ue).forEach(([he,Ae])=>{ge[he]=F(Ae,(0,r.default)({},Z,{theme:Ce}),Ce.modularCssLayers?"theme":void 0)}),oe(Z,ge)}),j&&!_e&&Qe.push(Z=>{var Ce;const ue=N((0,r.default)({},Z,{defaultTheme:B,themeId:M})),ge=ue==null||(Ce=ue.components)==null||(Ce=Ce[j])==null?void 0:Ce.variants;return F({variants:ge},(0,r.default)({},Z,{theme:ue}),ue.modularCssLayers?"theme":void 0)}),X||Qe.push(H);const Je=Qe.length-Ne.length;if(Array.isArray(Ie)&&Je>0){const Z=new Array(Je).fill("");rt=[...Ie,...Z],rt.raw=[...Ie.raw,...Z]}const Ue=pe(rt,...Qe);return R.muiName&&(Ue.muiName=R.muiName),Ue};return pe.withConfig&&(Pe.withConfig=pe.withConfig),Pe}}return ah}var Hle=$le();const Wle=ou(Hle);function z8(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const bl=t=>z8(t)&&t!=="classes",rn=Wle({themeId:Q1,defaultTheme:IC,rootShouldForwardProp:bl}),sN=t=>{let r;return t<1?r=5.11916*t**2:r=4.5*Math.log(t+1)+2,(r/100).toFixed(2)};function Hr(t){return cle(t)}function Gle(t){return jr("MuiSvgIcon",t)}Nr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Yle=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Kle=t=>{const{color:r,fontSize:n,classes:o}=t,a={root:["root",r!=="inherit"&&`color${en(r)}`,`fontSize${en(n)}`]};return $r(a,Gle,o)},Qle=rn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.color!=="inherit"&&r[`color${en(n.color)}`],r[`fontSize${en(n.fontSize)}`]]}})(({theme:t,ownerState:r})=>{var n,o,a,l,d,h,p,g,b,v,y,k,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:r.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(o=n.create)==null?void 0:o.call(n,"fill",{duration:(a=t.transitions)==null||(a=a.duration)==null?void 0:a.shorter}),fontSize:{inherit:"inherit",small:((l=t.typography)==null||(d=l.pxToRem)==null?void 0:d.call(l,20))||"1.25rem",medium:((h=t.typography)==null||(p=h.pxToRem)==null?void 0:p.call(h,24))||"1.5rem",large:((g=t.typography)==null||(b=g.pxToRem)==null?void 0:b.call(g,35))||"2.1875rem"}[r.fontSize],color:(v=(y=(t.vars||t).palette)==null||(y=y[r.color])==null?void 0:y.main)!=null?v:{action:(k=(t.vars||t).palette)==null||(k=k.action)==null?void 0:k.active,disabled:(x=(t.vars||t).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[r.color]}}),d_=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiSvgIcon"}),{children:a,className:l,color:d="inherit",component:h="svg",fontSize:p="medium",htmlColor:g,inheritViewBox:b=!1,titleAccess:v,viewBox:y="0 0 24 24"}=o,k=wn(o,Yle),x=Y.isValidElement(a)&&a.type==="svg",_=We({},o,{color:d,component:h,fontSize:p,instanceFontSize:r.fontSize,inheritViewBox:b,viewBox:y,hasSvgAsChild:x}),D={};b||(D.viewBox=y);const E=Kle(_);return C.jsxs(Qle,We({as:h,className:Zt(E.root,l),focusable:"false",color:g,"aria-hidden":v?void 0:!0,role:v?"img":void 0,ref:n},D,k,x&&a.props,{ownerState:_,children:[x?a.props.children:a,v?C.jsx("title",{children:v}):null]}))});d_.muiName="SvgIcon";function Jle(t,r){function n(o,a){return C.jsx(d_,We({"data-testid":`${r}Icon`,ref:a},o,{children:t}))}return n.muiName=d_.muiName,Y.memo(Y.forwardRef(n))}const U8=t=>t.scrollTop;function d1(t,r){var n,o;const{timeout:a,easing:l,style:d={}}=t;return{duration:(n=d.transitionDuration)!=null?n:typeof a=="number"?a:a[r.mode]||0,easing:(o=d.transitionTimingFunction)!=null?o:typeof l=="object"?l[r.mode]:l,delay:d.transitionDelay}}function Zle(t){return jr("MuiPaper",t)}Nr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Xle=["className","component","elevation","square","variant"],ece=t=>{const{square:r,elevation:n,variant:o,classes:a}=t,l={root:["root",o,!r&&"rounded",o==="elevation"&&`elevation${n}`]};return $r(l,Zle,a)},tce=rn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.variant],!n.square&&r.rounded,n.variant==="elevation"&&r[`elevation${n.elevation}`]]}})(({theme:t,ownerState:r})=>{var n;return We({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!r.square&&{borderRadius:t.shape.borderRadius},r.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},r.variant==="elevation"&&We({boxShadow:(t.vars||t).shadows[r.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Qs.alpha("#fff",sN(r.elevation))}, ${Qs.alpha("#fff",sN(r.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[r.elevation]}))}),q8=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiPaper"}),{className:a,component:l="div",elevation:d=1,square:h=!1,variant:p="elevation"}=o,g=wn(o,Xle),b=We({},o,{component:l,elevation:d,square:h,variant:p}),v=ece(b);return C.jsx(tce,We({as:l,ownerState:b,className:Zt(v.root,a),ref:n},g))});function nce(t){const{className:r,classes:n,pulsate:o=!1,rippleX:a,rippleY:l,rippleSize:d,in:h,onExited:p,timeout:g}=t,[b,v]=Y.useState(!1),y=Zt(r,n.ripple,n.rippleVisible,o&&n.ripplePulsate),k={width:d,height:d,top:-(d/2)+l,left:-(d/2)+a},x=Zt(n.child,b&&n.childLeaving,o&&n.childPulsate);return!h&&!b&&v(!0),Y.useEffect(()=>{if(!h&&p!=null){const _=setTimeout(p,g);return()=>{clearTimeout(_)}}},[p,h,g]),C.jsx("span",{className:y,style:k,children:C.jsx("span",{className:x})})}const Ma=Nr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),rce=["center","classes","className"];let ow=t=>t,aN,lN,cN,uN;const h_=550,ice=80,oce=mc(aN||(aN=ow`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),sce=mc(lN||(lN=ow`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),ace=mc(cN||(cN=ow`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),lce=rn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),cce=rn(nce,{name:"MuiTouchRipple",slot:"Ripple"})(uN||(uN=ow`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ma.rippleVisible,oce,h_,({theme:t})=>t.transitions.easing.easeInOut,Ma.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Ma.child,Ma.childLeaving,sce,h_,({theme:t})=>t.transitions.easing.easeInOut,Ma.childPulsate,ace,({theme:t})=>t.transitions.easing.easeInOut),uce=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiTouchRipple"}),{center:a=!1,classes:l={},className:d}=o,h=wn(o,rce),[p,g]=Y.useState([]),b=Y.useRef(0),v=Y.useRef(null);Y.useEffect(()=>{v.current&&(v.current(),v.current=null)},[p]);const y=Y.useRef(!1),k=P8(),x=Y.useRef(null),_=Y.useRef(null),D=Y.useCallback(F=>{const{pulsate:V,rippleX:$,rippleY:M,rippleSize:B,cb:q}=F;g(Q=>[...Q,C.jsx(cce,{classes:{ripple:Zt(l.ripple,Ma.ripple),rippleVisible:Zt(l.rippleVisible,Ma.rippleVisible),ripplePulsate:Zt(l.ripplePulsate,Ma.ripplePulsate),child:Zt(l.child,Ma.child),childLeaving:Zt(l.childLeaving,Ma.childLeaving),childPulsate:Zt(l.childPulsate,Ma.childPulsate)},timeout:h_,pulsate:V,rippleX:$,rippleY:M,rippleSize:B},b.current)]),b.current+=1,v.current=q},[l]),E=Y.useCallback((F={},V={},$=()=>{})=>{const{pulsate:M=!1,center:B=a||V.pulsate,fakeElement:q=!1}=V;if((F==null?void 0:F.type)==="mousedown"&&y.current){y.current=!1;return}(F==null?void 0:F.type)==="touchstart"&&(y.current=!0);const Q=q?null:_.current,H=Q?Q.getBoundingClientRect():{width:0,height:0,left:0,top:0};let R,K,j;if(B||F===void 0||F.clientX===0&&F.clientY===0||!F.clientX&&!F.touches)R=Math.round(H.width/2),K=Math.round(H.height/2);else{const{clientX:ne,clientY:de}=F.touches&&F.touches.length>0?F.touches[0]:F;R=Math.round(ne-H.left),K=Math.round(de-H.top)}if(B)j=Math.sqrt((2*H.width**2+H.height**2)/3),j%2===0&&(j+=1);else{const ne=Math.max(Math.abs((Q?Q.clientWidth:0)-R),R)*2+2,de=Math.max(Math.abs((Q?Q.clientHeight:0)-K),K)*2+2;j=Math.sqrt(ne**2+de**2)}F!=null&&F.touches?x.current===null&&(x.current=()=>{D({pulsate:M,rippleX:R,rippleY:K,rippleSize:j,cb:$})},k.start(ice,()=>{x.current&&(x.current(),x.current=null)})):D({pulsate:M,rippleX:R,rippleY:K,rippleSize:j,cb:$})},[a,D,k]),N=Y.useCallback(()=>{E({},{pulsate:!0})},[E]),P=Y.useCallback((F,V)=>{if(k.clear(),(F==null?void 0:F.type)==="touchend"&&x.current){x.current(),x.current=null,k.start(0,()=>{P(F,V)});return}x.current=null,g($=>$.length>0?$.slice(1):$),v.current=V},[k]);return Y.useImperativeHandle(n,()=>({pulsate:N,start:E,stop:P}),[N,E,P]),C.jsx(lce,We({className:Zt(Ma.root,l.root,d),ref:_},h,{children:C.jsx(HW,{component:null,exit:!0,children:p})}))});function dce(t){return jr("MuiButtonBase",t)}const hce=Nr("MuiButtonBase",["root","disabled","focusVisible"]),fce=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],pce=t=>{const{disabled:r,focusVisible:n,focusVisibleClassName:o,classes:a}=t,d=$r({root:["root",r&&"disabled",n&&"focusVisible"]},dce,a);return n&&o&&(d.root+=` ${o}`),d},mce=rn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,r)=>r.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${hce.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),V8=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiButtonBase"}),{action:a,centerRipple:l=!1,children:d,className:h,component:p="button",disabled:g=!1,disableRipple:b=!1,disableTouchRipple:v=!1,focusRipple:y=!1,LinkComponent:k="a",onBlur:x,onClick:_,onContextMenu:D,onDragLeave:E,onFocus:N,onFocusVisible:P,onKeyDown:F,onKeyUp:V,onMouseDown:$,onMouseLeave:M,onMouseUp:B,onTouchEnd:q,onTouchMove:Q,onTouchStart:H,tabIndex:R=0,TouchRippleProps:K,touchRippleRef:j,type:ne}=o,de=wn(o,fce),se=Y.useRef(null),oe=Y.useRef(null),ye=Cs(oe,j),{isFocusVisibleRef:re,onFocus:_e,onBlur:X,ref:J}=tle(),[ae,pe]=Y.useState(!1);g&&ae&&pe(!1),Y.useImperativeHandle(a,()=>({focusVisible:()=>{pe(!0),se.current.focus()}}),[]);const[we,Pe]=Y.useState(!1);Y.useEffect(()=>{Pe(!0)},[]);const Ie=we&&!b&&!g;Y.useEffect(()=>{ae&&y&&!b&&we&&oe.current.pulsate()},[b,y,ae,we]);function Ne(Ke,At,ht=v){return vh(on=>(At&&At(on),!ht&&oe.current&&oe.current[Ke](on),!0))}const rt=Ne("start",$),Qe=Ne("stop",D),Je=Ne("stop",E),Ue=Ne("stop",B),Z=Ne("stop",Ke=>{ae&&Ke.preventDefault(),M&&M(Ke)}),Ce=Ne("start",H),ue=Ne("stop",q),ge=Ne("stop",Q),he=Ne("stop",Ke=>{X(Ke),re.current===!1&&pe(!1),x&&x(Ke)},!1),Ae=vh(Ke=>{se.current||(se.current=Ke.currentTarget),_e(Ke),re.current===!0&&(pe(!0),P&&P(Ke)),N&&N(Ke)}),Me=()=>{const Ke=se.current;return p&&p!=="button"&&!(Ke.tagName==="A"&&Ke.href)},Te=Y.useRef(!1),Ee=vh(Ke=>{y&&!Te.current&&ae&&oe.current&&Ke.key===" "&&(Te.current=!0,oe.current.stop(Ke,()=>{oe.current.start(Ke)})),Ke.target===Ke.currentTarget&&Me()&&Ke.key===" "&&Ke.preventDefault(),F&&F(Ke),Ke.target===Ke.currentTarget&&Me()&&Ke.key==="Enter"&&!g&&(Ke.preventDefault(),_&&_(Ke))}),qe=vh(Ke=>{y&&Ke.key===" "&&oe.current&&ae&&!Ke.defaultPrevented&&(Te.current=!1,oe.current.stop(Ke,()=>{oe.current.pulsate(Ke)})),V&&V(Ke),_&&Ke.target===Ke.currentTarget&&Me()&&Ke.key===" "&&!Ke.defaultPrevented&&_(Ke)});let Ve=p;Ve==="button"&&(de.href||de.to)&&(Ve=k);const He={};Ve==="button"?(He.type=ne===void 0?"button":ne,He.disabled=g):(!de.href&&!de.to&&(He.role="button"),g&&(He["aria-disabled"]=g));const st=Cs(n,J,se),Fe=We({},o,{centerRipple:l,component:p,disabled:g,disableRipple:b,disableTouchRipple:v,focusRipple:y,tabIndex:R,focusVisible:ae}),Ye=pce(Fe);return C.jsxs(mce,We({as:Ve,className:Zt(Ye.root,h),ownerState:Fe,onBlur:he,onClick:_,onContextMenu:Qe,onFocus:Ae,onKeyDown:Ee,onKeyUp:qe,onMouseDown:rt,onMouseLeave:Z,onMouseUp:Ue,onDragLeave:Je,onTouchEnd:ue,onTouchMove:ge,onTouchStart:Ce,ref:st,tabIndex:g?-1:R,type:ne},He,de,{children:[d,Ie?C.jsx(uce,We({ref:ye,center:l},K)):null]}))});function gce(t){return jr("MuiIconButton",t)}const bce=Nr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),kce=["edge","children","className","color","disabled","disableFocusRipple","size"],wce=t=>{const{classes:r,disabled:n,color:o,edge:a,size:l}=t,d={root:["root",n&&"disabled",o!=="default"&&`color${en(o)}`,a&&`edge${en(a)}`,`size${en(l)}`]};return $r(d,gce,r)},yce=rn(V8,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.color!=="default"&&r[`color${en(n.color)}`],n.edge&&r[`edge${en(n.edge)}`],r[`size${en(n.size)}`]]}})(({theme:t,ownerState:r})=>We({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!r.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Qs.alpha(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},r.edge==="start"&&{marginLeft:r.size==="small"?-3:-12},r.edge==="end"&&{marginRight:r.size==="small"?-3:-12}),({theme:t,ownerState:r})=>{var n;const o=(n=(t.vars||t).palette)==null?void 0:n[r.color];return We({},r.color==="inherit"&&{color:"inherit"},r.color!=="inherit"&&r.color!=="default"&&We({color:o==null?void 0:o.main},!r.disableRipple&&{"&:hover":We({},o&&{backgroundColor:t.vars?`rgba(${o.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Qs.alpha(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),r.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},r.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${bce.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),f_=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiIconButton"}),{edge:a=!1,children:l,className:d,color:h="default",disabled:p=!1,disableFocusRipple:g=!1,size:b="medium"}=o,v=wn(o,kce),y=We({},o,{edge:a,color:h,disabled:p,disableFocusRipple:g,size:b}),k=wce(y);return C.jsx(yce,We({className:Zt(k.root,d),centerRipple:!0,focusRipple:!g,disabled:p,ref:n},v,{ownerState:y,children:l}))});function vce(t){return jr("MuiTypography",t)}Nr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Ace=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],_ce=t=>{const{align:r,gutterBottom:n,noWrap:o,paragraph:a,variant:l,classes:d}=t,h={root:["root",l,t.align!=="inherit"&&`align${en(r)}`,n&&"gutterBottom",o&&"noWrap",a&&"paragraph"]};return $r(h,vce,d)},Cce=rn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.variant&&r[n.variant],n.align!=="inherit"&&r[`align${en(n.align)}`],n.noWrap&&r.noWrap,n.gutterBottom&&r.gutterBottom,n.paragraph&&r.paragraph]}})(({theme:t,ownerState:r})=>We({margin:0},r.variant==="inherit"&&{font:"inherit"},r.variant!=="inherit"&&t.typography[r.variant],r.align!=="inherit"&&{textAlign:r.align},r.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r.gutterBottom&&{marginBottom:"0.35em"},r.paragraph&&{marginBottom:16})),dN={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},xce={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Sce=t=>xce[t]||t,Mh=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiTypography"}),a=Sce(o.color),l=DC(We({},o,{color:a})),{align:d="inherit",className:h,component:p,gutterBottom:g=!1,noWrap:b=!1,paragraph:v=!1,variant:y="body1",variantMapping:k=dN}=l,x=wn(l,Ace),_=We({},l,{align:d,color:a,className:h,component:p,gutterBottom:g,noWrap:b,paragraph:v,variant:y,variantMapping:k}),D=p||(v?"p":k[y]||dN[y])||"span",E=_ce(_);return C.jsx(Cce,We({as:D,ref:n,ownerState:_,className:Zt(E.root,h)},x))});function Ece(t){return typeof t=="function"?t():t}const Dce=Y.forwardRef(function(r,n){const{children:o,container:a,disablePortal:l=!1}=r,[d,h]=Y.useState(null),p=Cs(Y.isValidElement(o)?db(o):null,n);if(ud(()=>{l||h(Ece(a)||document.body)},[a,l]),ud(()=>{if(d&&!l)return c_(n,d),()=>{c_(n,null)}},[n,d,l]),l){if(Y.isValidElement(o)){const g={ref:p};return Y.cloneElement(o,g)}return C.jsx(Y.Fragment,{children:o})}return C.jsx(Y.Fragment,{children:d&&gP.createPortal(o,d)})}),Ice=["onChange","maxRows","minRows","style","value"];function rk(t){return parseInt(t,10)||0}const Tce={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Nce(t){for(const r in t)return!1;return!0}function hN(t){return Nce(t)||t.outerHeightStyle===0&&!t.overflowing}const Mce=Y.forwardRef(function(r,n){const{onChange:o,maxRows:a,minRows:l=1,style:d,value:h}=r,p=wn(r,Ice),{current:g}=Y.useRef(h!=null),b=Y.useRef(null),v=Cs(n,b),y=Y.useRef(null),k=Y.useRef(null),x=Y.useCallback(()=>{const P=b.current,F=k.current;if(!P||!F)return;const $=zh(P).getComputedStyle(P);if($.width==="0px")return{outerHeightStyle:0,overflowing:!1};F.style.width=$.width,F.value=P.value||r.placeholder||"x",F.value.slice(-1)===`
`&&(F.value+=" ");const M=$.boxSizing,B=rk($.paddingBottom)+rk($.paddingTop),q=rk($.borderBottomWidth)+rk($.borderTopWidth),Q=F.scrollHeight;F.value="x";const H=F.scrollHeight;let R=Q;l&&(R=Math.max(Number(l)*H,R)),a&&(R=Math.min(Number(a)*H,R)),R=Math.max(R,H);const K=R+(M==="border-box"?B+q:0),j=Math.abs(R-Q)<=1;return{outerHeightStyle:K,overflowing:j}},[a,l,r.placeholder]),_=vh(()=>{const P=b.current,F=x();if(!P||!F||hN(F))return!1;const V=F.outerHeightStyle;return y.current!=null&&y.current!==V}),D=Y.useCallback(()=>{const P=b.current,F=x();if(!P||!F||hN(F))return;const V=F.outerHeightStyle;y.current!==V&&(y.current=V,P.style.height=`${V}px`),P.style.overflow=F.overflowing?"hidden":""},[x]),E=Y.useRef(-1);ud(()=>{const P=N8(D),F=b==null?void 0:b.current;if(!F)return;const V=zh(F);V.addEventListener("resize",P);let $;return typeof ResizeObserver<"u"&&($=new ResizeObserver(()=>{_()&&($.unobserve(F),cancelAnimationFrame(E.current),D(),E.current=requestAnimationFrame(()=>{$.observe(F)}))}),$.observe(F)),()=>{P.clear(),cancelAnimationFrame(E.current),V.removeEventListener("resize",P),$&&$.disconnect()}},[x,D,_]),ud(()=>{D()});const N=P=>{g||D(),o&&o(P)};return C.jsxs(Y.Fragment,{children:[C.jsx("textarea",We({value:h,onChange:N,ref:v,rows:l,style:d},p)),C.jsx("textarea",{"aria-hidden":!0,className:r.className,readOnly:!0,ref:k,tabIndex:-1,style:We({},Tce.shadow,d,{paddingTop:0,paddingBottom:0})})]})});function Op({props:t,states:r,muiFormControl:n}){return r.reduce((o,a)=>(o[a]=t[a],n&&typeof t[a]>"u"&&(o[a]=n[a]),o),{})}const TC=Y.createContext(void 0);function Lp(){return Y.useContext(TC)}function Pce(t){return C.jsx(Dae,We({},t,{defaultTheme:IC,themeId:Q1}))}function fN(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function h1(t,r=!1){return t&&(fN(t.value)&&t.value!==""||r&&fN(t.defaultValue)&&t.defaultValue!=="")}function Oce(t){return t.startAdornment}function Lce(t){return jr("MuiInputBase",t)}const Sp=Nr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),jce=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],sw=(t,r)=>{const{ownerState:n}=t;return[r.root,n.formControl&&r.formControl,n.startAdornment&&r.adornedStart,n.endAdornment&&r.adornedEnd,n.error&&r.error,n.size==="small"&&r.sizeSmall,n.multiline&&r.multiline,n.color&&r[`color${en(n.color)}`],n.fullWidth&&r.fullWidth,n.hiddenLabel&&r.hiddenLabel]},aw=(t,r)=>{const{ownerState:n}=t;return[r.input,n.size==="small"&&r.inputSizeSmall,n.multiline&&r.inputMultiline,n.type==="search"&&r.inputTypeSearch,n.startAdornment&&r.inputAdornedStart,n.endAdornment&&r.inputAdornedEnd,n.hiddenLabel&&r.inputHiddenLabel]},Bce=t=>{const{classes:r,color:n,disabled:o,error:a,endAdornment:l,focused:d,formControl:h,fullWidth:p,hiddenLabel:g,multiline:b,readOnly:v,size:y,startAdornment:k,type:x}=t,_={root:["root",`color${en(n)}`,o&&"disabled",a&&"error",p&&"fullWidth",d&&"focused",h&&"formControl",y&&y!=="medium"&&`size${en(y)}`,b&&"multiline",k&&"adornedStart",l&&"adornedEnd",g&&"hiddenLabel",v&&"readOnly"],input:["input",o&&"disabled",x==="search"&&"inputTypeSearch",b&&"inputMultiline",y==="small"&&"inputSizeSmall",g&&"inputHiddenLabel",k&&"inputAdornedStart",l&&"inputAdornedEnd",v&&"readOnly"]};return $r(_,Lce,r)},lw=rn("div",{name:"MuiInputBase",slot:"Root",overridesResolver:sw})(({theme:t,ownerState:r})=>We({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Sp.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},r.multiline&&We({padding:"4px 0 5px"},r.size==="small"&&{paddingTop:1}),r.fullWidth&&{width:"100%"})),cw=rn("input",{name:"MuiInputBase",slot:"Input",overridesResolver:aw})(({theme:t,ownerState:r})=>{const n=t.palette.mode==="light",o=We({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),a={opacity:"0 !important"},l=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return We({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Sp.formControl} &`]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":l,"&:focus::-moz-placeholder":l,"&:focus:-ms-input-placeholder":l,"&:focus::-ms-input-placeholder":l},[`&.${Sp.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},r.size==="small"&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},r.type==="search"&&{MozAppearance:"textfield"})}),Rce=C.jsx(Pce,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),NC=Y.forwardRef(function(r,n){var o;const a=Hr({props:r,name:"MuiInputBase"}),{"aria-describedby":l,autoComplete:d,autoFocus:h,className:p,components:g={},componentsProps:b={},defaultValue:v,disabled:y,disableInjectingGlobalStyles:k,endAdornment:x,fullWidth:_=!1,id:D,inputComponent:E="input",inputProps:N={},inputRef:P,maxRows:F,minRows:V,multiline:$=!1,name:M,onBlur:B,onChange:q,onClick:Q,onFocus:H,onKeyDown:R,onKeyUp:K,placeholder:j,readOnly:ne,renderSuffix:de,rows:se,slotProps:oe={},slots:ye={},startAdornment:re,type:_e="text",value:X}=a,J=wn(a,jce),ae=N.value!=null?N.value:X,{current:pe}=Y.useRef(ae!=null),we=Y.useRef(),Pe=Y.useCallback(Ye=>{},[]),Ie=Cs(we,P,N.ref,Pe),[Ne,rt]=Y.useState(!1),Qe=Lp(),Je=Op({props:a,muiFormControl:Qe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Je.focused=Qe?Qe.focused:Ne,Y.useEffect(()=>{!Qe&&y&&Ne&&(rt(!1),B&&B())},[Qe,y,Ne,B]);const Ue=Qe&&Qe.onFilled,Z=Qe&&Qe.onEmpty,Ce=Y.useCallback(Ye=>{h1(Ye)?Ue&&Ue():Z&&Z()},[Ue,Z]);ud(()=>{pe&&Ce({value:ae})},[ae,Ce,pe]);const ue=Ye=>{if(Je.disabled){Ye.stopPropagation();return}H&&H(Ye),N.onFocus&&N.onFocus(Ye),Qe&&Qe.onFocus?Qe.onFocus(Ye):rt(!0)},ge=Ye=>{B&&B(Ye),N.onBlur&&N.onBlur(Ye),Qe&&Qe.onBlur?Qe.onBlur(Ye):rt(!1)},he=(Ye,...Ke)=>{if(!pe){const At=Ye.target||we.current;if(At==null)throw new Error(Fh(1));Ce({value:At.value})}N.onChange&&N.onChange(Ye,...Ke),q&&q(Ye,...Ke)};Y.useEffect(()=>{Ce(we.current)},[]);const Ae=Ye=>{we.current&&Ye.currentTarget===Ye.target&&we.current.focus(),Q&&Q(Ye)};let Me=E,Te=N;$&&Me==="input"&&(se?Te=We({type:void 0,minRows:se,maxRows:se},Te):Te=We({type:void 0,maxRows:F,minRows:V},Te),Me=Mce);const Ee=Ye=>{Ce(Ye.animationName==="mui-auto-fill-cancel"?we.current:{value:"x"})};Y.useEffect(()=>{Qe&&Qe.setAdornedStart(!!re)},[Qe,re]);const qe=We({},a,{color:Je.color||"primary",disabled:Je.disabled,endAdornment:x,error:Je.error,focused:Je.focused,formControl:Qe,fullWidth:_,hiddenLabel:Je.hiddenLabel,multiline:$,size:Je.size,startAdornment:re,type:_e}),Ve=Bce(qe),He=ye.root||g.Root||lw,st=oe.root||b.root||{},Fe=ye.input||g.Input||cw;return Te=We({},Te,(o=oe.input)!=null?o:b.input),C.jsxs(Y.Fragment,{children:[!k&&Rce,C.jsxs(He,We({},st,!u1(He)&&{ownerState:We({},qe,st.ownerState)},{ref:n,onClick:Ae},J,{className:Zt(Ve.root,st.className,p,ne&&"MuiInputBase-readOnly"),children:[re,C.jsx(TC.Provider,{value:null,children:C.jsx(Fe,We({ownerState:qe,"aria-invalid":Je.error,"aria-describedby":l,autoComplete:d,autoFocus:h,defaultValue:v,disabled:Je.disabled,id:D,onAnimationStart:Ee,name:M,placeholder:j,readOnly:ne,required:Je.required,rows:se,value:ae,onKeyDown:R,onKeyUp:K,type:_e},Te,!u1(Fe)&&{as:Me,ownerState:We({},qe,Te.ownerState)},{ref:Ie,className:Zt(Ve.input,Te.className,ne&&"MuiInputBase-readOnly"),onBlur:ge,onChange:he,onFocus:ue}))}),x,de?de(We({},Je,{startAdornment:re})):null]}))]})});function Fce(t){return jr("MuiInput",t)}const Xm=We({},Sp,Nr("MuiInput",["root","underline","input"]));function zce(t){return jr("MuiOutlinedInput",t)}const Vu=We({},Sp,Nr("MuiOutlinedInput",["root","notchedOutline","input"]));function Uce(t){return jr("MuiFilledInput",t)}const lh=We({},Sp,Nr("MuiFilledInput",["root","underline","input"])),qce=Jle(C.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Vce=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],$ce={entering:{opacity:1},entered:{opacity:1}},Hce=Y.forwardRef(function(r,n){const o=F8(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:l,appear:d=!0,children:h,easing:p,in:g,onEnter:b,onEntered:v,onEntering:y,onExit:k,onExited:x,onExiting:_,style:D,timeout:E=a,TransitionComponent:N=DP}=r,P=wn(r,Vce),F=Y.useRef(null),V=Cs(F,db(h),n),$=j=>ne=>{if(j){const de=F.current;ne===void 0?j(de):j(de,ne)}},M=$(y),B=$((j,ne)=>{U8(j);const de=d1({style:D,timeout:E,easing:p},{mode:"enter"});j.style.webkitTransition=o.transitions.create("opacity",de),j.style.transition=o.transitions.create("opacity",de),b&&b(j,ne)}),q=$(v),Q=$(_),H=$(j=>{const ne=d1({style:D,timeout:E,easing:p},{mode:"exit"});j.style.webkitTransition=o.transitions.create("opacity",ne),j.style.transition=o.transitions.create("opacity",ne),k&&k(j)}),R=$(x),K=j=>{l&&l(F.current,j)};return C.jsx(N,We({appear:d,in:g,nodeRef:F,onEnter:B,onEntered:q,onEntering:M,onExit:H,onExited:R,onExiting:Q,addEndListener:K,timeout:E},P,{children:(j,ne)=>Y.cloneElement(h,We({style:We({opacity:0,visibility:j==="exited"&&!g?"hidden":void 0},$ce[j],D,h.props.style),ref:V},ne))}))});function Wce(t){return jr("MuiBackdrop",t)}Nr("MuiBackdrop",["root","invisible"]);const Gce=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Yce=t=>{const{classes:r,invisible:n}=t;return $r({root:["root",n&&"invisible"]},Wce,r)},Kce=rn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.invisible&&r.invisible]}})(({ownerState:t})=>We({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Qce=Y.forwardRef(function(r,n){var o,a,l;const d=Hr({props:r,name:"MuiBackdrop"}),{children:h,className:p,component:g="div",components:b={},componentsProps:v={},invisible:y=!1,open:k,slotProps:x={},slots:_={},TransitionComponent:D=Hce,transitionDuration:E}=d,N=wn(d,Gce),P=We({},d,{component:g,invisible:y}),F=Yce(P),V=(o=x.root)!=null?o:v.root;return C.jsx(D,We({in:k,timeout:E},N,{children:C.jsx(Kce,We({"aria-hidden":!0},V,{as:(a=(l=_.root)!=null?l:b.Root)!=null?a:g,className:Zt(F.root,p,V==null?void 0:V.className),ownerState:We({},P,V==null?void 0:V.ownerState),classes:F,ref:n,children:h}))}))}),Jce=Nr("MuiBox",["root"]),Zce=R8(),dl=Oae({themeId:Q1,defaultTheme:Zce,defaultClassName:Jce.root,generateClassName:E8.generate});function Xce(t){return jr("MuiButton",t)}const ik=Nr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),eue=Y.createContext({}),tue=Y.createContext(void 0),nue=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],rue=t=>{const{color:r,disableElevation:n,fullWidth:o,size:a,variant:l,classes:d}=t,h={root:["root",l,`${l}${en(r)}`,`size${en(a)}`,`${l}Size${en(a)}`,`color${en(r)}`,n&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${en(a)}`],endIcon:["icon","endIcon",`iconSize${en(a)}`]},p=$r(h,Xce,d);return We({},d,p)},$8=t=>We({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),iue=rn(V8,{shouldForwardProp:t=>bl(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.variant],r[`${n.variant}${en(n.color)}`],r[`size${en(n.size)}`],r[`${n.variant}Size${en(n.size)}`],n.color==="inherit"&&r.colorInherit,n.disableElevation&&r.disableElevation,n.fullWidth&&r.fullWidth]}})(({theme:t,ownerState:r})=>{var n,o;const a=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],l=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return We({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":We({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Qs.alpha(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},r.variant==="text"&&r.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[r.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Qs.alpha(t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},r.variant==="outlined"&&r.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[r.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[r.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Qs.alpha(t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},r.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:l,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},r.variant==="contained"&&r.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[r.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[r.color].main}}),"&:active":We({},r.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${ik.focusVisible}`]:We({},r.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${ik.disabled}`]:We({color:(t.vars||t).palette.action.disabled},r.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},r.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},r.variant==="text"&&{padding:"6px 8px"},r.variant==="text"&&r.color!=="inherit"&&{color:(t.vars||t).palette[r.color].main},r.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},r.variant==="outlined"&&r.color!=="inherit"&&{color:(t.vars||t).palette[r.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[r.color].mainChannel} / 0.5)`:`1px solid ${Qs.alpha(t.palette[r.color].main,.5)}`},r.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(o=t.palette).getContrastText)==null?void 0:n.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:a,boxShadow:(t.vars||t).shadows[2]},r.variant==="contained"&&r.color!=="inherit"&&{color:(t.vars||t).palette[r.color].contrastText,backgroundColor:(t.vars||t).palette[r.color].main},r.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},r.size==="small"&&r.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},r.size==="large"&&r.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},r.size==="small"&&r.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},r.size==="large"&&r.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},r.size==="small"&&r.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},r.size==="large"&&r.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},r.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${ik.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${ik.disabled}`]:{boxShadow:"none"}}),oue=rn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.startIcon,r[`iconSize${en(n.size)}`]]}})(({ownerState:t})=>We({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},$8(t))),sue=rn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.endIcon,r[`iconSize${en(n.size)}`]]}})(({ownerState:t})=>We({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},$8(t))),wg=Y.forwardRef(function(r,n){const o=Y.useContext(eue),a=Y.useContext(tue),l=Fg(o,r),d=Hr({props:l,name:"MuiButton"}),{children:h,color:p="primary",component:g="button",className:b,disabled:v=!1,disableElevation:y=!1,disableFocusRipple:k=!1,endIcon:x,focusVisibleClassName:_,fullWidth:D=!1,size:E="medium",startIcon:N,type:P,variant:F="text"}=d,V=wn(d,nue),$=We({},d,{color:p,component:g,disabled:v,disableElevation:y,disableFocusRipple:k,fullWidth:D,size:E,type:P,variant:F}),M=rue($),B=N&&C.jsx(oue,{className:M.startIcon,ownerState:$,children:N}),q=x&&C.jsx(sue,{className:M.endIcon,ownerState:$,children:x}),Q=a||"";return C.jsxs(iue,We({ownerState:$,className:Zt(o.className,M.root,b,Q),component:g,disabled:v,focusRipple:!k,focusVisibleClassName:Zt(M.focusVisible,_),ref:n,type:P},V,{classes:M,children:[B,h,q]}))});function aue(t){return jr("MuiCircularProgress",t)}Nr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const lue=["className","color","disableShrink","size","style","thickness","value","variant"];let uw=t=>t,pN,mN,gN,bN;const $u=44,cue=mc(pN||(pN=uw`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),uue=mc(mN||(mN=uw`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),due=t=>{const{classes:r,variant:n,color:o,disableShrink:a}=t,l={root:["root",n,`color${en(o)}`],svg:["svg"],circle:["circle",`circle${en(n)}`,a&&"circleDisableShrink"]};return $r(l,aue,r)},hue=rn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.variant],r[`color${en(n.color)}`]]}})(({ownerState:t,theme:r})=>We({display:"inline-block"},t.variant==="determinate"&&{transition:r.transitions.create("transform")},t.color!=="inherit"&&{color:(r.vars||r).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&qh(gN||(gN=uw`
      animation: ${0} 1.4s linear infinite;
    `),cue)),fue=rn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,r)=>r.svg})({display:"block"}),pue=rn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.circle,r[`circle${en(n.variant)}`],n.disableShrink&&r.circleDisableShrink]}})(({ownerState:t,theme:r})=>We({stroke:"currentColor"},t.variant==="determinate"&&{transition:r.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&qh(bN||(bN=uw`
      animation: ${0} 1.4s ease-in-out infinite;
    `),uue)),mue=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiCircularProgress"}),{className:a,color:l="primary",disableShrink:d=!1,size:h=40,style:p,thickness:g=3.6,value:b=0,variant:v="indeterminate"}=o,y=wn(o,lue),k=We({},o,{color:l,disableShrink:d,size:h,thickness:g,value:b,variant:v}),x=due(k),_={},D={},E={};if(v==="determinate"){const N=2*Math.PI*(($u-g)/2);_.strokeDasharray=N.toFixed(3),E["aria-valuenow"]=Math.round(b),_.strokeDashoffset=`${((100-b)/100*N).toFixed(3)}px`,D.transform="rotate(-90deg)"}return C.jsx(hue,We({className:Zt(x.root,a),style:We({width:h,height:h},D,p),ownerState:k,ref:n,role:"progressbar"},E,y,{children:C.jsx(fue,{className:x.svg,ownerState:k,viewBox:`${$u/2} ${$u/2} ${$u} ${$u}`,children:C.jsx(pue,{className:x.circle,style:_,ownerState:k,cx:$u,cy:$u,r:($u-g)/2,fill:"none",strokeWidth:g})})}))});function gue(t){const r=ta(t);return r.body===t?zh(t).innerWidth>r.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function yg(t,r){r?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function kN(t){return parseInt(zh(t).getComputedStyle(t).paddingRight,10)||0}function bue(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,o=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||o}function wN(t,r,n,o,a){const l=[r,n,...o];[].forEach.call(t.children,d=>{const h=l.indexOf(d)===-1,p=!bue(d);h&&p&&yg(d,a)})}function sA(t,r){let n=-1;return t.some((o,a)=>r(o)?(n=a,!0):!1),n}function kue(t,r){const n=[],o=t.container;if(!r.disableScrollLock){if(gue(o)){const d=O8(ta(o));n.push({value:o.style.paddingRight,property:"padding-right",el:o}),o.style.paddingRight=`${kN(o)+d}px`;const h=ta(o).querySelectorAll(".mui-fixed");[].forEach.call(h,p=>{n.push({value:p.style.paddingRight,property:"padding-right",el:p}),p.style.paddingRight=`${kN(p)+d}px`})}let l;if(o.parentNode instanceof DocumentFragment)l=ta(o).body;else{const d=o.parentElement,h=zh(o);l=(d==null?void 0:d.nodeName)==="HTML"&&h.getComputedStyle(d).overflowY==="scroll"?d:o}n.push({value:l.style.overflow,property:"overflow",el:l},{value:l.style.overflowX,property:"overflow-x",el:l},{value:l.style.overflowY,property:"overflow-y",el:l}),l.style.overflow="hidden"}return()=>{n.forEach(({value:l,el:d,property:h})=>{l?d.style.setProperty(h,l):d.style.removeProperty(h)})}}function wue(t){const r=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&r.push(n)}),r}class yue{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(r,n){let o=this.modals.indexOf(r);if(o!==-1)return o;o=this.modals.length,this.modals.push(r),r.modalRef&&yg(r.modalRef,!1);const a=wue(n);wN(n,r.mount,r.modalRef,a,!0);const l=sA(this.containers,d=>d.container===n);return l!==-1?(this.containers[l].modals.push(r),o):(this.containers.push({modals:[r],container:n,restore:null,hiddenSiblings:a}),o)}mount(r,n){const o=sA(this.containers,l=>l.modals.indexOf(r)!==-1),a=this.containers[o];a.restore||(a.restore=kue(a,n))}remove(r,n=!0){const o=this.modals.indexOf(r);if(o===-1)return o;const a=sA(this.containers,d=>d.modals.indexOf(r)!==-1),l=this.containers[a];if(l.modals.splice(l.modals.indexOf(r),1),this.modals.splice(o,1),l.modals.length===0)l.restore&&l.restore(),r.modalRef&&yg(r.modalRef,n),wN(l.container,r.mount,r.modalRef,l.hiddenSiblings,!1),this.containers.splice(a,1);else{const d=l.modals[l.modals.length-1];d.modalRef&&yg(d.modalRef,!1)}return o}isTopModal(r){return this.modals.length>0&&this.modals[this.modals.length-1]===r}}const vue=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Aue(t){const r=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(r)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:r}function _ue(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const r=o=>t.ownerDocument.querySelector(`input[type="radio"]${o}`);let n=r(`[name="${t.name}"]:checked`);return n||(n=r(`[name="${t.name}"]`)),n!==t}function Cue(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||_ue(t))}function xue(t){const r=[],n=[];return Array.from(t.querySelectorAll(vue)).forEach((o,a)=>{const l=Aue(o);l===-1||!Cue(o)||(l===0?r.push(o):n.push({documentOrder:a,tabIndex:l,node:o}))}),n.sort((o,a)=>o.tabIndex===a.tabIndex?o.documentOrder-a.documentOrder:o.tabIndex-a.tabIndex).map(o=>o.node).concat(r)}function Sue(){return!0}function Eue(t){const{children:r,disableAutoFocus:n=!1,disableEnforceFocus:o=!1,disableRestoreFocus:a=!1,getTabbable:l=xue,isEnabled:d=Sue,open:h}=t,p=Y.useRef(!1),g=Y.useRef(null),b=Y.useRef(null),v=Y.useRef(null),y=Y.useRef(null),k=Y.useRef(!1),x=Y.useRef(null),_=Cs(db(r),x),D=Y.useRef(null);Y.useEffect(()=>{!h||!x.current||(k.current=!n)},[n,h]),Y.useEffect(()=>{if(!h||!x.current)return;const P=ta(x.current);return x.current.contains(P.activeElement)||(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),k.current&&x.current.focus()),()=>{a||(v.current&&v.current.focus&&(p.current=!0,v.current.focus()),v.current=null)}},[h]),Y.useEffect(()=>{if(!h||!x.current)return;const P=ta(x.current),F=M=>{D.current=M,!(o||!d()||M.key!=="Tab")&&P.activeElement===x.current&&M.shiftKey&&(p.current=!0,b.current&&b.current.focus())},V=()=>{const M=x.current;if(M===null)return;if(!P.hasFocus()||!d()||p.current){p.current=!1;return}if(M.contains(P.activeElement)||o&&P.activeElement!==g.current&&P.activeElement!==b.current)return;if(P.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!k.current)return;let B=[];if((P.activeElement===g.current||P.activeElement===b.current)&&(B=l(x.current)),B.length>0){var q,Q;const H=!!((q=D.current)!=null&&q.shiftKey&&((Q=D.current)==null?void 0:Q.key)==="Tab"),R=B[0],K=B[B.length-1];typeof R!="string"&&typeof K!="string"&&(H?K.focus():R.focus())}else M.focus()};P.addEventListener("focusin",V),P.addEventListener("keydown",F,!0);const $=setInterval(()=>{P.activeElement&&P.activeElement.tagName==="BODY"&&V()},50);return()=>{clearInterval($),P.removeEventListener("focusin",V),P.removeEventListener("keydown",F,!0)}},[n,o,a,d,h,l]);const E=P=>{v.current===null&&(v.current=P.relatedTarget),k.current=!0,y.current=P.target;const F=r.props.onFocus;F&&F(P)},N=P=>{v.current===null&&(v.current=P.relatedTarget),k.current=!0};return C.jsxs(Y.Fragment,{children:[C.jsx("div",{tabIndex:h?0:-1,onFocus:N,ref:g,"data-testid":"sentinelStart"}),Y.cloneElement(r,{ref:_,onFocus:E}),C.jsx("div",{tabIndex:h?0:-1,onFocus:N,ref:b,"data-testid":"sentinelEnd"})]})}function Due(t){return typeof t=="function"?t():t}function Iue(t){return t?t.props.hasOwnProperty("in"):!1}const Tue=new yue;function Nue(t){const{container:r,disableEscapeKeyDown:n=!1,disableScrollLock:o=!1,manager:a=Tue,closeAfterTransition:l=!1,onTransitionEnter:d,onTransitionExited:h,children:p,onClose:g,open:b,rootRef:v}=t,y=Y.useRef({}),k=Y.useRef(null),x=Y.useRef(null),_=Cs(x,v),[D,E]=Y.useState(!b),N=Iue(p);let P=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(P=!1);const F=()=>ta(k.current),V=()=>(y.current.modalRef=x.current,y.current.mount=k.current,y.current),$=()=>{a.mount(V(),{disableScrollLock:o}),x.current&&(x.current.scrollTop=0)},M=vh(()=>{const de=Due(r)||F().body;a.add(V(),de),x.current&&$()}),B=Y.useCallback(()=>a.isTopModal(V()),[a]),q=vh(de=>{k.current=de,de&&(b&&B()?$():x.current&&yg(x.current,P))}),Q=Y.useCallback(()=>{a.remove(V(),P)},[P,a]);Y.useEffect(()=>()=>{Q()},[Q]),Y.useEffect(()=>{b?M():(!N||!l)&&Q()},[b,Q,N,l,M]);const H=de=>se=>{var oe;(oe=de.onKeyDown)==null||oe.call(de,se),!(se.key!=="Escape"||se.which===229||!B())&&(n||(se.stopPropagation(),g&&g(se,"escapeKeyDown")))},R=de=>se=>{var oe;(oe=de.onClick)==null||oe.call(de,se),se.target===se.currentTarget&&g&&g(se,"backdropClick")};return{getRootProps:(de={})=>{const se=L8(t);delete se.onTransitionEnter,delete se.onTransitionExited;const oe=We({},se,de);return We({role:"presentation"},oe,{onKeyDown:H(oe),ref:_})},getBackdropProps:(de={})=>{const se=de;return We({"aria-hidden":!0},se,{onClick:R(se),open:b})},getTransitionProps:()=>{const de=()=>{E(!1),d&&d()},se=()=>{E(!0),h&&h(),l&&Q()};return{onEnter:$6(de,p==null?void 0:p.props.onEnter),onExited:$6(se,p==null?void 0:p.props.onExited)}},rootRef:_,portalRef:q,isTopModal:B,exited:D,hasTransition:N}}function Mue(t){return jr("MuiModal",t)}Nr("MuiModal",["root","hidden","backdrop"]);const Pue=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Oue=t=>{const{open:r,exited:n,classes:o}=t;return $r({root:["root",!r&&n&&"hidden"],backdrop:["backdrop"]},Mue,o)},Lue=rn("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,!n.open&&n.exited&&r.hidden]}})(({theme:t,ownerState:r})=>We({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!r.open&&r.exited&&{visibility:"hidden"})),jue=rn(Qce,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,r)=>r.backdrop})({zIndex:-1}),H8=Y.forwardRef(function(r,n){var o,a,l,d,h,p;const g=Hr({name:"MuiModal",props:r}),{BackdropComponent:b=jue,BackdropProps:v,className:y,closeAfterTransition:k=!1,children:x,container:_,component:D,components:E={},componentsProps:N={},disableAutoFocus:P=!1,disableEnforceFocus:F=!1,disableEscapeKeyDown:V=!1,disablePortal:$=!1,disableRestoreFocus:M=!1,disableScrollLock:B=!1,hideBackdrop:q=!1,keepMounted:Q=!1,onBackdropClick:H,open:R,slotProps:K,slots:j}=g,ne=wn(g,Pue),de=We({},g,{closeAfterTransition:k,disableAutoFocus:P,disableEnforceFocus:F,disableEscapeKeyDown:V,disablePortal:$,disableRestoreFocus:M,disableScrollLock:B,hideBackdrop:q,keepMounted:Q}),{getRootProps:se,getBackdropProps:oe,getTransitionProps:ye,portalRef:re,isTopModal:_e,exited:X,hasTransition:J}=Nue(We({},de,{rootRef:n})),ae=We({},de,{exited:X}),pe=Oue(ae),we={};if(x.props.tabIndex===void 0&&(we.tabIndex="-1"),J){const{onEnter:Ue,onExited:Z}=ye();we.onEnter=Ue,we.onExited=Z}const Pe=(o=(a=j==null?void 0:j.root)!=null?a:E.Root)!=null?o:Lue,Ie=(l=(d=j==null?void 0:j.backdrop)!=null?d:E.Backdrop)!=null?l:b,Ne=(h=K==null?void 0:K.root)!=null?h:N.root,rt=(p=K==null?void 0:K.backdrop)!=null?p:N.backdrop,Qe=xp({elementType:Pe,externalSlotProps:Ne,externalForwardedProps:ne,getSlotProps:se,additionalProps:{ref:n,as:D},ownerState:ae,className:Zt(y,Ne==null?void 0:Ne.className,pe==null?void 0:pe.root,!ae.open&&ae.exited&&(pe==null?void 0:pe.hidden))}),Je=xp({elementType:Ie,externalSlotProps:rt,additionalProps:v,getSlotProps:Ue=>oe(We({},Ue,{onClick:Z=>{H&&H(Z),Ue!=null&&Ue.onClick&&Ue.onClick(Z)}})),className:Zt(rt==null?void 0:rt.className,v==null?void 0:v.className,pe==null?void 0:pe.backdrop),ownerState:ae});return!Q&&!R&&(!J||X)?null:C.jsx(Dce,{ref:re,container:_,disablePortal:$,children:C.jsxs(Pe,We({},Qe,{children:[!q&&b?C.jsx(Ie,We({},Je)):null,C.jsx(Eue,{disableEnforceFocus:F,disableAutoFocus:P,disableRestoreFocus:M,isEnabled:_e,open:R,children:Y.cloneElement(x,we)})]}))})}),Bue=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Rue=t=>{const{classes:r,disableUnderline:n}=t,a=$r({root:["root",!n&&"underline"],input:["input"]},Uce,r);return We({},r,a)},Fue=rn(lw,{shouldForwardProp:t=>bl(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[...sw(t,r),!n.disableUnderline&&r.underline]}})(({theme:t,ownerState:r})=>{var n;const o=t.palette.mode==="light",a=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",l=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",d=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",h=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return We({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:l,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:d,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:l}},[`&.${lh.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:l},[`&.${lh.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:h}},!r.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[r.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${lh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${lh.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${lh.disabled}, .${lh.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${lh.disabled}:before`]:{borderBottomStyle:"dotted"}},r.startAdornment&&{paddingLeft:12},r.endAdornment&&{paddingRight:12},r.multiline&&We({padding:"25px 12px 8px"},r.size==="small"&&{paddingTop:21,paddingBottom:4},r.hiddenLabel&&{paddingTop:16,paddingBottom:17},r.hiddenLabel&&r.size==="small"&&{paddingTop:8,paddingBottom:9}))}),zue=rn(cw,{name:"MuiFilledInput",slot:"Input",overridesResolver:aw})(({theme:t,ownerState:r})=>We({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},r.size==="small"&&{paddingTop:21,paddingBottom:4},r.hiddenLabel&&{paddingTop:16,paddingBottom:17},r.startAdornment&&{paddingLeft:0},r.endAdornment&&{paddingRight:0},r.hiddenLabel&&r.size==="small"&&{paddingTop:8,paddingBottom:9},r.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),MC=Y.forwardRef(function(r,n){var o,a,l,d;const h=Hr({props:r,name:"MuiFilledInput"}),{components:p={},componentsProps:g,fullWidth:b=!1,inputComponent:v="input",multiline:y=!1,slotProps:k,slots:x={},type:_="text"}=h,D=wn(h,Bue),E=We({},h,{fullWidth:b,inputComponent:v,multiline:y,type:_}),N=Rue(h),P={root:{ownerState:E},input:{ownerState:E}},F=k??g?ea(P,k??g):P,V=(o=(a=x.root)!=null?a:p.Root)!=null?o:Fue,$=(l=(d=x.input)!=null?d:p.Input)!=null?l:zue;return C.jsx(NC,We({slots:{root:V,input:$},componentsProps:F,fullWidth:b,inputComponent:v,multiline:y,ref:n,type:_},D,{classes:N}))});MC.muiName="Input";function Uue(t){return jr("MuiFormControl",t)}Nr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const que=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Vue=t=>{const{classes:r,margin:n,fullWidth:o}=t,a={root:["root",n!=="none"&&`margin${en(n)}`,o&&"fullWidth"]};return $r(a,Uue,r)},$ue=rn("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},r)=>We({},r.root,r[`margin${en(t.margin)}`],t.fullWidth&&r.fullWidth)})(({ownerState:t})=>We({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Hue=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiFormControl"}),{children:a,className:l,color:d="primary",component:h="div",disabled:p=!1,error:g=!1,focused:b,fullWidth:v=!1,hiddenLabel:y=!1,margin:k="none",required:x=!1,size:_="medium",variant:D="outlined"}=o,E=wn(o,que),N=We({},o,{color:d,component:h,disabled:p,error:g,fullWidth:v,hiddenLabel:y,margin:k,required:x,size:_,variant:D}),P=Vue(N),[F,V]=Y.useState(()=>{let K=!1;return a&&Y.Children.forEach(a,j=>{if(!eA(j,["Input","Select"]))return;const ne=eA(j,["Select"])?j.props.input:j;ne&&Oce(ne.props)&&(K=!0)}),K}),[$,M]=Y.useState(()=>{let K=!1;return a&&Y.Children.forEach(a,j=>{eA(j,["Input","Select"])&&(h1(j.props,!0)||h1(j.props.inputProps,!0))&&(K=!0)}),K}),[B,q]=Y.useState(!1);p&&B&&q(!1);const Q=b!==void 0&&!p?b:B;let H;const R=Y.useMemo(()=>({adornedStart:F,setAdornedStart:V,color:d,disabled:p,error:g,filled:$,focused:Q,fullWidth:v,hiddenLabel:y,size:_,onBlur:()=>{q(!1)},onEmpty:()=>{M(!1)},onFilled:()=>{M(!0)},onFocus:()=>{q(!0)},registerEffect:H,required:x,variant:D}),[F,d,p,g,$,Q,v,y,H,x,_,D]);return C.jsx(TC.Provider,{value:R,children:C.jsx($ue,We({as:h,ownerState:N,className:Zt(P.root,l),ref:n},E,{children:a}))})});function Wue(t){return jr("MuiFormHelperText",t)}const yN=Nr("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var vN;const Gue=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Yue=t=>{const{classes:r,contained:n,size:o,disabled:a,error:l,filled:d,focused:h,required:p}=t,g={root:["root",a&&"disabled",l&&"error",o&&`size${en(o)}`,n&&"contained",h&&"focused",d&&"filled",p&&"required"]};return $r(g,Wue,r)},Kue=rn("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.size&&r[`size${en(n.size)}`],n.contained&&r.contained,n.filled&&r.filled]}})(({theme:t,ownerState:r})=>We({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${yN.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${yN.error}`]:{color:(t.vars||t).palette.error.main}},r.size==="small"&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})),Que=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiFormHelperText"}),{children:a,className:l,component:d="p"}=o,h=wn(o,Gue),p=Lp(),g=Op({props:o,muiFormControl:p,states:["variant","size","disabled","error","filled","focused","required"]}),b=We({},o,{component:d,contained:g.variant==="filled"||g.variant==="outlined",variant:g.variant,size:g.size,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required}),v=Yue(b);return C.jsx(Kue,We({as:d,ownerState:b,className:Zt(v.root,l),ref:n},h,{children:a===" "?vN||(vN=C.jsx("span",{className:"notranslate",children:"​"})):a}))});function Jue(t){return jr("MuiFormLabel",t)}const vg=Nr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Zue=["children","className","color","component","disabled","error","filled","focused","required"],Xue=t=>{const{classes:r,color:n,focused:o,disabled:a,error:l,filled:d,required:h}=t,p={root:["root",`color${en(n)}`,a&&"disabled",l&&"error",d&&"filled",o&&"focused",h&&"required"],asterisk:["asterisk",l&&"error"]};return $r(p,Jue,r)},ede=rn("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},r)=>We({},r.root,t.color==="secondary"&&r.colorSecondary,t.filled&&r.filled)})(({theme:t,ownerState:r})=>We({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${vg.focused}`]:{color:(t.vars||t).palette[r.color].main},[`&.${vg.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${vg.error}`]:{color:(t.vars||t).palette.error.main}})),tde=rn("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,r)=>r.asterisk})(({theme:t})=>({[`&.${vg.error}`]:{color:(t.vars||t).palette.error.main}})),nde=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiFormLabel"}),{children:a,className:l,component:d="label"}=o,h=wn(o,Zue),p=Lp(),g=Op({props:o,muiFormControl:p,states:["color","required","focused","disabled","error","filled"]}),b=We({},o,{color:g.color||"primary",component:d,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required}),v=Xue(b);return C.jsxs(ede,We({as:d,ownerState:b,className:Zt(v.root,l),ref:n},h,{children:[a,g.required&&C.jsxs(tde,{ownerState:b,"aria-hidden":!0,className:v.asterisk,children:[" ","*"]})]}))}),rde=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function p_(t){return`scale(${t}, ${t**2})`}const ide={entering:{opacity:1,transform:p_(1)},entered:{opacity:1,transform:"none"}},aA=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),W8=Y.forwardRef(function(r,n){const{addEndListener:o,appear:a=!0,children:l,easing:d,in:h,onEnter:p,onEntered:g,onEntering:b,onExit:v,onExited:y,onExiting:k,style:x,timeout:_="auto",TransitionComponent:D=DP}=r,E=wn(r,rde),N=P8(),P=Y.useRef(),F=F8(),V=Y.useRef(null),$=Cs(V,db(l),n),M=ne=>de=>{if(ne){const se=V.current;de===void 0?ne(se):ne(se,de)}},B=M(b),q=M((ne,de)=>{U8(ne);const{duration:se,delay:oe,easing:ye}=d1({style:x,timeout:_,easing:d},{mode:"enter"});let re;_==="auto"?(re=F.transitions.getAutoHeightDuration(ne.clientHeight),P.current=re):re=se,ne.style.transition=[F.transitions.create("opacity",{duration:re,delay:oe}),F.transitions.create("transform",{duration:aA?re:re*.666,delay:oe,easing:ye})].join(","),p&&p(ne,de)}),Q=M(g),H=M(k),R=M(ne=>{const{duration:de,delay:se,easing:oe}=d1({style:x,timeout:_,easing:d},{mode:"exit"});let ye;_==="auto"?(ye=F.transitions.getAutoHeightDuration(ne.clientHeight),P.current=ye):ye=de,ne.style.transition=[F.transitions.create("opacity",{duration:ye,delay:se}),F.transitions.create("transform",{duration:aA?ye:ye*.666,delay:aA?se:se||ye*.333,easing:oe})].join(","),ne.style.opacity=0,ne.style.transform=p_(.75),v&&v(ne)}),K=M(y),j=ne=>{_==="auto"&&N.start(P.current||0,ne),o&&o(V.current,ne)};return C.jsx(D,We({appear:a,in:h,nodeRef:V,onEnter:q,onEntered:Q,onEntering:B,onExit:R,onExited:K,onExiting:H,addEndListener:j,timeout:_==="auto"?null:_},E,{children:(ne,de)=>Y.cloneElement(l,We({style:We({opacity:0,transform:p_(.75),visibility:ne==="exited"&&!h?"hidden":void 0},ide[ne],x,l.props.style),ref:$},de))}))});W8.muiSupportAuto=!0;const ode=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],sde=t=>{const{classes:r,disableUnderline:n}=t,a=$r({root:["root",!n&&"underline"],input:["input"]},Fce,r);return We({},r,a)},ade=rn(lw,{shouldForwardProp:t=>bl(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[...sw(t,r),!n.disableUnderline&&r.underline]}})(({theme:t,ownerState:r})=>{let o=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(o=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),We({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Xm.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Xm.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Xm.disabled}, .${Xm.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${o}`}},[`&.${Xm.disabled}:before`]:{borderBottomStyle:"dotted"}})}),lde=rn(cw,{name:"MuiInput",slot:"Input",overridesResolver:aw})({}),PC=Y.forwardRef(function(r,n){var o,a,l,d;const h=Hr({props:r,name:"MuiInput"}),{disableUnderline:p,components:g={},componentsProps:b,fullWidth:v=!1,inputComponent:y="input",multiline:k=!1,slotProps:x,slots:_={},type:D="text"}=h,E=wn(h,ode),N=sde(h),F={root:{ownerState:{disableUnderline:p}}},V=x??b?ea(x??b,F):F,$=(o=(a=_.root)!=null?a:g.Root)!=null?o:ade,M=(l=(d=_.input)!=null?d:g.Input)!=null?l:lde;return C.jsx(NC,We({slots:{root:$,input:M},slotProps:V,fullWidth:v,inputComponent:y,multiline:k,ref:n,type:D},E,{classes:N}))});PC.muiName="Input";function cde(t){return jr("MuiInputLabel",t)}Nr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const ude=["disableAnimation","margin","shrink","variant","className"],dde=t=>{const{classes:r,formControl:n,size:o,shrink:a,disableAnimation:l,variant:d,required:h}=t,p={root:["root",n&&"formControl",!l&&"animated",a&&"shrink",o&&o!=="normal"&&`size${en(o)}`,d],asterisk:[h&&"asterisk"]},g=$r(p,cde,r);return We({},r,g)},hde=rn(nde,{shouldForwardProp:t=>bl(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[{[`& .${vg.asterisk}`]:r.asterisk},r.root,n.formControl&&r.formControl,n.size==="small"&&r.sizeSmall,n.shrink&&r.shrink,!n.disableAnimation&&r.animated,n.focused&&r.focused,r[n.variant]]}})(({theme:t,ownerState:r})=>We({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},r.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},r.size==="small"&&{transform:"translate(0, 17px) scale(1)"},r.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!r.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},r.variant==="filled"&&We({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},r.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},r.shrink&&We({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},r.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),r.variant==="outlined"&&We({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},r.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},r.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),fde=Y.forwardRef(function(r,n){const o=Hr({name:"MuiInputLabel",props:r}),{disableAnimation:a=!1,shrink:l,className:d}=o,h=wn(o,ude),p=Lp();let g=l;typeof g>"u"&&p&&(g=p.filled||p.focused||p.adornedStart);const b=Op({props:o,muiFormControl:p,states:["size","variant","required","focused"]}),v=We({},o,{disableAnimation:a,formControl:p,shrink:g,size:b.size,variant:b.variant,required:b.required,focused:b.focused}),y=dde(v);return C.jsx(hde,We({"data-shrink":g,ownerState:v,ref:n,className:Zt(y.root,d)},h,{classes:y}))});function pde(t){return jr("MuiLinearProgress",t)}Nr("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const mde=["className","color","value","valueBuffer","variant"];let jp=t=>t,AN,_N,CN,xN,SN,EN;const m_=4,gde=mc(AN||(AN=jp`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),bde=mc(_N||(_N=jp`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),kde=mc(CN||(CN=jp`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),wde=t=>{const{classes:r,variant:n,color:o}=t,a={root:["root",`color${en(o)}`,n],dashed:["dashed",`dashedColor${en(o)}`],bar1:["bar",`barColor${en(o)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${en(o)}`,n==="buffer"&&`color${en(o)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return $r(a,pde,r)},OC=(t,r)=>r==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${r}Bg`]:t.palette.mode==="light"?Qs.lighten(t.palette[r].main,.62):Qs.darken(t.palette[r].main,.5),yde=rn("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[`color${en(n.color)}`],r[n.variant]]}})(({ownerState:t,theme:r})=>We({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:OC(r,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),vde=rn("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.dashed,r[`dashedColor${en(n.color)}`]]}})(({ownerState:t,theme:r})=>{const n=OC(r,t.color);return We({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},qh(xN||(xN=jp`
    animation: ${0} 3s infinite linear;
  `),kde)),Ade=rn("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.bar,r[`barColor${en(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&r.bar1Indeterminate,n.variant==="determinate"&&r.bar1Determinate,n.variant==="buffer"&&r.bar1Buffer]}})(({ownerState:t,theme:r})=>We({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(r.vars||r).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${m_}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${m_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&qh(SN||(SN=jp`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),gde)),_de=rn("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.bar,r[`barColor${en(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&r.bar2Indeterminate,n.variant==="buffer"&&r.bar2Buffer]}})(({ownerState:t,theme:r})=>We({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(r.vars||r).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:OC(r,t.color),transition:`transform .${m_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&qh(EN||(EN=jp`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),bde)),Cde=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiLinearProgress"}),{className:a,color:l="primary",value:d,valueBuffer:h,variant:p="indeterminate"}=o,g=wn(o,mde),b=We({},o,{color:l,variant:p}),v=wde(b),y=j8(),k={},x={bar1:{},bar2:{}};if((p==="determinate"||p==="buffer")&&d!==void 0){k["aria-valuenow"]=Math.round(d),k["aria-valuemin"]=0,k["aria-valuemax"]=100;let _=d-100;y&&(_=-_),x.bar1.transform=`translateX(${_}%)`}if(p==="buffer"&&h!==void 0){let _=(h||0)-100;y&&(_=-_),x.bar2.transform=`translateX(${_}%)`}return C.jsxs(yde,We({className:Zt(v.root,a),ownerState:b,role:"progressbar"},k,{ref:n},g,{children:[p==="buffer"?C.jsx(vde,{className:v.dashed,ownerState:b}):null,C.jsx(Ade,{className:v.bar1,ownerState:b,style:x.bar1}),p==="determinate"?null:C.jsx(_de,{className:v.bar2,ownerState:b,style:x.bar2})]}))}),xde=Y.createContext({});function Sde(t){return jr("MuiList",t)}Nr("MuiList",["root","padding","dense","subheader"]);const Ede=["children","className","component","dense","disablePadding","subheader"],Dde=t=>{const{classes:r,disablePadding:n,dense:o,subheader:a}=t;return $r({root:["root",!n&&"padding",o&&"dense",a&&"subheader"]},Sde,r)},Ide=rn("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,!n.disablePadding&&r.padding,n.dense&&r.dense,n.subheader&&r.subheader]}})(({ownerState:t})=>We({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Tde=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiList"}),{children:a,className:l,component:d="ul",dense:h=!1,disablePadding:p=!1,subheader:g}=o,b=wn(o,Ede),v=Y.useMemo(()=>({dense:h}),[h]),y=We({},o,{component:d,dense:h,disablePadding:p}),k=Dde(y);return C.jsx(xde.Provider,{value:v,children:C.jsxs(Ide,We({as:d,className:Zt(k.root,l),ref:n,ownerState:y},b,{children:[g,a]}))})}),Nde=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function lA(t,r,n){return t===r?t.firstChild:r&&r.nextElementSibling?r.nextElementSibling:n?null:t.firstChild}function DN(t,r,n){return t===r?n?t.firstChild:t.lastChild:r&&r.previousElementSibling?r.previousElementSibling:n?null:t.lastChild}function G8(t,r){if(r===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:r.repeating?n[0]===r.keys[0]:n.indexOf(r.keys.join(""))===0}function eg(t,r,n,o,a,l){let d=!1,h=a(t,r,r?n:!1);for(;h;){if(h===t.firstChild){if(d)return!1;d=!0}const p=o?!1:h.disabled||h.getAttribute("aria-disabled")==="true";if(!h.hasAttribute("tabindex")||!G8(h,l)||p)h=a(t,h,n);else return h.focus(),!0}return!1}const Mde=Y.forwardRef(function(r,n){const{actions:o,autoFocus:a=!1,autoFocusItem:l=!1,children:d,className:h,disabledItemsFocusable:p=!1,disableListWrap:g=!1,onKeyDown:b,variant:v="selectedMenu"}=r,y=wn(r,Nde),k=Y.useRef(null),x=Y.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ud(()=>{a&&k.current.focus()},[a]),Y.useImperativeHandle(o,()=>({adjustStyleForScrollbar:(P,{direction:F})=>{const V=!k.current.style.width;if(P.clientHeight<k.current.clientHeight&&V){const $=`${O8(ta(P))}px`;k.current.style[F==="rtl"?"paddingLeft":"paddingRight"]=$,k.current.style.width=`calc(100% + ${$})`}return k.current}}),[]);const _=P=>{const F=k.current,V=P.key,$=ta(F).activeElement;if(V==="ArrowDown")P.preventDefault(),eg(F,$,g,p,lA);else if(V==="ArrowUp")P.preventDefault(),eg(F,$,g,p,DN);else if(V==="Home")P.preventDefault(),eg(F,null,g,p,lA);else if(V==="End")P.preventDefault(),eg(F,null,g,p,DN);else if(V.length===1){const M=x.current,B=V.toLowerCase(),q=performance.now();M.keys.length>0&&(q-M.lastTime>500?(M.keys=[],M.repeating=!0,M.previousKeyMatched=!0):M.repeating&&B!==M.keys[0]&&(M.repeating=!1)),M.lastTime=q,M.keys.push(B);const Q=$&&!M.repeating&&G8($,M);M.previousKeyMatched&&(Q||eg(F,$,!1,p,lA,M))?P.preventDefault():M.previousKeyMatched=!1}b&&b(P)},D=Cs(k,n);let E=-1;Y.Children.forEach(d,(P,F)=>{if(!Y.isValidElement(P)){E===F&&(E+=1,E>=d.length&&(E=-1));return}P.props.disabled||(v==="selectedMenu"&&P.props.selected||E===-1)&&(E=F),E===F&&(P.props.disabled||P.props.muiSkipListHighlight||P.type.muiSkipListHighlight)&&(E+=1,E>=d.length&&(E=-1))});const N=Y.Children.map(d,(P,F)=>{if(F===E){const V={};return l&&(V.autoFocus=!0),P.props.tabIndex===void 0&&v==="selectedMenu"&&(V.tabIndex=0),Y.cloneElement(P,V)}return P});return C.jsx(Tde,We({role:"menu",ref:D,className:h,onKeyDown:_,tabIndex:a?0:-1},y,{children:N}))});function Pde(t){return jr("MuiPopover",t)}Nr("MuiPopover",["root","paper"]);const Ode=["onEntering"],Lde=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],jde=["slotProps"];function IN(t,r){let n=0;return typeof r=="number"?n=r:r==="center"?n=t.height/2:r==="bottom"&&(n=t.height),n}function TN(t,r){let n=0;return typeof r=="number"?n=r:r==="center"?n=t.width/2:r==="right"&&(n=t.width),n}function NN(t){return[t.horizontal,t.vertical].map(r=>typeof r=="number"?`${r}px`:r).join(" ")}function cA(t){return typeof t=="function"?t():t}const Bde=t=>{const{classes:r}=t;return $r({root:["root"],paper:["paper"]},Pde,r)},Rde=rn(H8,{name:"MuiPopover",slot:"Root",overridesResolver:(t,r)=>r.root})({}),Y8=rn(q8,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,r)=>r.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Fde=Y.forwardRef(function(r,n){var o,a,l;const d=Hr({props:r,name:"MuiPopover"}),{action:h,anchorEl:p,anchorOrigin:g={vertical:"top",horizontal:"left"},anchorPosition:b,anchorReference:v="anchorEl",children:y,className:k,container:x,elevation:_=8,marginThreshold:D=16,open:E,PaperProps:N={},slots:P,slotProps:F,transformOrigin:V={vertical:"top",horizontal:"left"},TransitionComponent:$=W8,transitionDuration:M="auto",TransitionProps:{onEntering:B}={},disableScrollLock:q=!1}=d,Q=wn(d.TransitionProps,Ode),H=wn(d,Lde),R=(o=F==null?void 0:F.paper)!=null?o:N,K=Y.useRef(),j=Cs(K,R.ref),ne=We({},d,{anchorOrigin:g,anchorReference:v,elevation:_,marginThreshold:D,externalPaperSlotProps:R,transformOrigin:V,TransitionComponent:$,transitionDuration:M,TransitionProps:Q}),de=Bde(ne),se=Y.useCallback(()=>{if(v==="anchorPosition")return b;const Ue=cA(p),Ce=(Ue&&Ue.nodeType===1?Ue:ta(K.current).body).getBoundingClientRect();return{top:Ce.top+IN(Ce,g.vertical),left:Ce.left+TN(Ce,g.horizontal)}},[p,g.horizontal,g.vertical,b,v]),oe=Y.useCallback(Ue=>({vertical:IN(Ue,V.vertical),horizontal:TN(Ue,V.horizontal)}),[V.horizontal,V.vertical]),ye=Y.useCallback(Ue=>{const Z={width:Ue.offsetWidth,height:Ue.offsetHeight},Ce=oe(Z);if(v==="none")return{top:null,left:null,transformOrigin:NN(Ce)};const ue=se();let ge=ue.top-Ce.vertical,he=ue.left-Ce.horizontal;const Ae=ge+Z.height,Me=he+Z.width,Te=zh(cA(p)),Ee=Te.innerHeight-D,qe=Te.innerWidth-D;if(D!==null&&ge<D){const Ve=ge-D;ge-=Ve,Ce.vertical+=Ve}else if(D!==null&&Ae>Ee){const Ve=Ae-Ee;ge-=Ve,Ce.vertical+=Ve}if(D!==null&&he<D){const Ve=he-D;he-=Ve,Ce.horizontal+=Ve}else if(Me>qe){const Ve=Me-qe;he-=Ve,Ce.horizontal+=Ve}return{top:`${Math.round(ge)}px`,left:`${Math.round(he)}px`,transformOrigin:NN(Ce)}},[p,v,se,oe,D]),[re,_e]=Y.useState(E),X=Y.useCallback(()=>{const Ue=K.current;if(!Ue)return;const Z=ye(Ue);Z.top!==null&&(Ue.style.top=Z.top),Z.left!==null&&(Ue.style.left=Z.left),Ue.style.transformOrigin=Z.transformOrigin,_e(!0)},[ye]);Y.useEffect(()=>(q&&window.addEventListener("scroll",X),()=>window.removeEventListener("scroll",X)),[p,q,X]);const J=(Ue,Z)=>{B&&B(Ue,Z),X()},ae=()=>{_e(!1)};Y.useEffect(()=>{E&&X()}),Y.useImperativeHandle(h,()=>E?{updatePosition:()=>{X()}}:null,[E,X]),Y.useEffect(()=>{if(!E)return;const Ue=N8(()=>{X()}),Z=zh(p);return Z.addEventListener("resize",Ue),()=>{Ue.clear(),Z.removeEventListener("resize",Ue)}},[p,E,X]);let pe=M;M==="auto"&&!$.muiSupportAuto&&(pe=void 0);const we=x||(p?ta(cA(p)).body:void 0),Pe=(a=P==null?void 0:P.root)!=null?a:Rde,Ie=(l=P==null?void 0:P.paper)!=null?l:Y8,Ne=xp({elementType:Ie,externalSlotProps:We({},R,{style:re?R.style:We({},R.style,{opacity:0})}),additionalProps:{elevation:_,ref:j},ownerState:ne,className:Zt(de.paper,R==null?void 0:R.className)}),rt=xp({elementType:Pe,externalSlotProps:(F==null?void 0:F.root)||{},externalForwardedProps:H,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:we,open:E},ownerState:ne,className:Zt(de.root,k)}),{slotProps:Qe}=rt,Je=wn(rt,jde);return C.jsx(Pe,We({},Je,!u1(Pe)&&{slotProps:Qe,disableScrollLock:q},{children:C.jsx($,We({appear:!0,in:E,onEntering:J,onExited:ae,timeout:pe},Q,{children:C.jsx(Ie,We({},Ne,{children:y}))}))}))});function zde(t){return jr("MuiMenu",t)}Nr("MuiMenu",["root","paper","list"]);const Ude=["onEntering"],qde=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Vde={vertical:"top",horizontal:"right"},$de={vertical:"top",horizontal:"left"},Hde=t=>{const{classes:r}=t;return $r({root:["root"],paper:["paper"],list:["list"]},zde,r)},Wde=rn(Fde,{shouldForwardProp:t=>bl(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,r)=>r.root})({}),Gde=rn(Y8,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,r)=>r.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Yde=rn(Mde,{name:"MuiMenu",slot:"List",overridesResolver:(t,r)=>r.list})({outline:0}),Kde=Y.forwardRef(function(r,n){var o,a;const l=Hr({props:r,name:"MuiMenu"}),{autoFocus:d=!0,children:h,className:p,disableAutoFocusItem:g=!1,MenuListProps:b={},onClose:v,open:y,PaperProps:k={},PopoverClasses:x,transitionDuration:_="auto",TransitionProps:{onEntering:D}={},variant:E="selectedMenu",slots:N={},slotProps:P={}}=l,F=wn(l.TransitionProps,Ude),V=wn(l,qde),$=j8(),M=We({},l,{autoFocus:d,disableAutoFocusItem:g,MenuListProps:b,onEntering:D,PaperProps:k,transitionDuration:_,TransitionProps:F,variant:E}),B=Hde(M),q=d&&!g&&y,Q=Y.useRef(null),H=(oe,ye)=>{Q.current&&Q.current.adjustStyleForScrollbar(oe,{direction:$?"rtl":"ltr"}),D&&D(oe,ye)},R=oe=>{oe.key==="Tab"&&(oe.preventDefault(),v&&v(oe,"tabKeyDown"))};let K=-1;Y.Children.map(h,(oe,ye)=>{Y.isValidElement(oe)&&(oe.props.disabled||(E==="selectedMenu"&&oe.props.selected||K===-1)&&(K=ye))});const j=(o=N.paper)!=null?o:Gde,ne=(a=P.paper)!=null?a:k,de=xp({elementType:N.root,externalSlotProps:P.root,ownerState:M,className:[B.root,p]}),se=xp({elementType:j,externalSlotProps:ne,ownerState:M,className:B.paper});return C.jsx(Wde,We({onClose:v,anchorOrigin:{vertical:"bottom",horizontal:$?"right":"left"},transformOrigin:$?Vde:$de,slots:{paper:j,root:N.root},slotProps:{root:de,paper:se},open:y,ref:n,transitionDuration:_,TransitionProps:We({onEntering:H},F),ownerState:M},V,{classes:x,children:C.jsx(Yde,We({onKeyDown:R,actions:Q,autoFocus:d&&(K===-1||g),autoFocusItem:q,variant:E},b,{className:Zt(B.list,b.className),children:h}))}))});function Qde(t){return jr("MuiNativeSelect",t)}const LC=Nr("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Jde=["className","disabled","error","IconComponent","inputRef","variant"],Zde=t=>{const{classes:r,variant:n,disabled:o,multiple:a,open:l,error:d}=t,h={select:["select",n,o&&"disabled",a&&"multiple",d&&"error"],icon:["icon",`icon${en(n)}`,l&&"iconOpen",o&&"disabled"]};return $r(h,Qde,r)},K8=({ownerState:t,theme:r})=>We({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":We({},r.vars?{backgroundColor:`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:r.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${LC.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(r.vars||r).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}}),Xde=rn("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:bl,overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.select,r[n.variant],n.error&&r.error,{[`&.${LC.multiple}`]:r.multiple}]}})(K8),Q8=({ownerState:t,theme:r})=>We({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(r.vars||r).palette.action.active,[`&.${LC.disabled}`]:{color:(r.vars||r).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),ehe=rn("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.icon,n.variant&&r[`icon${en(n.variant)}`],n.open&&r.iconOpen]}})(Q8),the=Y.forwardRef(function(r,n){const{className:o,disabled:a,error:l,IconComponent:d,inputRef:h,variant:p="standard"}=r,g=wn(r,Jde),b=We({},r,{disabled:a,variant:p,error:l}),v=Zde(b);return C.jsxs(Y.Fragment,{children:[C.jsx(Xde,We({ownerState:b,className:Zt(v.select,o),disabled:a,ref:h||n},g)),r.multiple?null:C.jsx(ehe,{as:d,ownerState:b,className:v.icon})]})});var MN;const nhe=["children","classes","className","label","notched"],rhe=rn("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:bl})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),ihe=rn("legend",{name:"MuiNotchedOutlined",shouldForwardProp:bl})(({ownerState:t,theme:r})=>We({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:r.transitions.create("width",{duration:150,easing:r.transitions.easing.easeOut})},t.withLabel&&We({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:r.transitions.create("max-width",{duration:50,easing:r.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:r.transitions.create("max-width",{duration:100,easing:r.transitions.easing.easeOut,delay:50})})));function ohe(t){const{className:r,label:n,notched:o}=t,a=wn(t,nhe),l=n!=null&&n!=="",d=We({},t,{notched:o,withLabel:l});return C.jsx(rhe,We({"aria-hidden":!0,className:r,ownerState:d},a,{children:C.jsx(ihe,{ownerState:d,children:l?C.jsx("span",{children:n}):MN||(MN=C.jsx("span",{className:"notranslate",children:"​"}))})}))}const she=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],ahe=t=>{const{classes:r}=t,o=$r({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},zce,r);return We({},r,o)},lhe=rn(lw,{shouldForwardProp:t=>bl(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:sw})(({theme:t,ownerState:r})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return We({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Vu.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Vu.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Vu.focused} .${Vu.notchedOutline}`]:{borderColor:(t.vars||t).palette[r.color].main,borderWidth:2},[`&.${Vu.error} .${Vu.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Vu.disabled} .${Vu.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&We({padding:"16.5px 14px"},r.size==="small"&&{padding:"8.5px 14px"}))}),che=rn(ohe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,r)=>r.notchedOutline})(({theme:t})=>{const r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}}),uhe=rn(cw,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:aw})(({theme:t,ownerState:r})=>We({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},r.size==="small"&&{padding:"8.5px 14px"},r.multiline&&{padding:0},r.startAdornment&&{paddingLeft:0},r.endAdornment&&{paddingRight:0})),jC=Y.forwardRef(function(r,n){var o,a,l,d,h;const p=Hr({props:r,name:"MuiOutlinedInput"}),{components:g={},fullWidth:b=!1,inputComponent:v="input",label:y,multiline:k=!1,notched:x,slots:_={},type:D="text"}=p,E=wn(p,she),N=ahe(p),P=Lp(),F=Op({props:p,muiFormControl:P,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),V=We({},p,{color:F.color||"primary",disabled:F.disabled,error:F.error,focused:F.focused,formControl:P,fullWidth:b,hiddenLabel:F.hiddenLabel,multiline:k,size:F.size,type:D}),$=(o=(a=_.root)!=null?a:g.Root)!=null?o:lhe,M=(l=(d=_.input)!=null?d:g.Input)!=null?l:uhe;return C.jsx(NC,We({slots:{root:$,input:M},renderSuffix:B=>C.jsx(che,{ownerState:V,className:N.notchedOutline,label:y!=null&&y!==""&&F.required?h||(h=C.jsxs(Y.Fragment,{children:[y," ","*"]})):y,notched:typeof x<"u"?x:!!(B.startAdornment||B.filled||B.focused)}),fullWidth:b,inputComponent:v,multiline:k,ref:n,type:D},E,{classes:We({},N,{notchedOutline:null})}))});jC.muiName="Input";function dhe(t){return jr("MuiSelect",t)}const tg=Nr("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var PN;const hhe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],fhe=rn("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[{[`&.${tg.select}`]:r.select},{[`&.${tg.select}`]:r[n.variant]},{[`&.${tg.error}`]:r.error},{[`&.${tg.multiple}`]:r.multiple}]}})(K8,{[`&.${tg.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),phe=rn("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.icon,n.variant&&r[`icon${en(n.variant)}`],n.open&&r.iconOpen]}})(Q8),mhe=rn("input",{shouldForwardProp:t=>z8(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,r)=>r.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function ON(t,r){return typeof r=="object"&&r!==null?t===r:String(t)===String(r)}function ghe(t){return t==null||typeof t=="string"&&!t.trim()}const bhe=t=>{const{classes:r,variant:n,disabled:o,multiple:a,open:l,error:d}=t,h={select:["select",n,o&&"disabled",a&&"multiple",d&&"error"],icon:["icon",`icon${en(n)}`,l&&"iconOpen",o&&"disabled"],nativeInput:["nativeInput"]};return $r(h,dhe,r)},khe=Y.forwardRef(function(r,n){var o;const{"aria-describedby":a,"aria-label":l,autoFocus:d,autoWidth:h,children:p,className:g,defaultOpen:b,defaultValue:v,disabled:y,displayEmpty:k,error:x=!1,IconComponent:_,inputRef:D,labelId:E,MenuProps:N={},multiple:P,name:F,onBlur:V,onChange:$,onClose:M,onFocus:B,onOpen:q,open:Q,readOnly:H,renderValue:R,SelectDisplayProps:K={},tabIndex:j,value:ne,variant:de="standard"}=r,se=wn(r,hhe),[oe,ye]=G6({controlled:ne,default:v,name:"Select"}),[re,_e]=G6({controlled:Q,default:b,name:"Select"}),X=Y.useRef(null),J=Y.useRef(null),[ae,pe]=Y.useState(null),{current:we}=Y.useRef(Q!=null),[Pe,Ie]=Y.useState(),Ne=Cs(n,D),rt=Y.useCallback(pt=>{J.current=pt,pt&&pe(pt)},[]),Qe=ae==null?void 0:ae.parentNode;Y.useImperativeHandle(Ne,()=>({focus:()=>{J.current.focus()},node:X.current,value:oe}),[oe]),Y.useEffect(()=>{b&&re&&ae&&!we&&(Ie(h?null:Qe.clientWidth),J.current.focus())},[ae,h]),Y.useEffect(()=>{d&&J.current.focus()},[d]),Y.useEffect(()=>{if(!E)return;const pt=ta(J.current).getElementById(E);if(pt){const Vt=()=>{getSelection().isCollapsed&&J.current.focus()};return pt.addEventListener("click",Vt),()=>{pt.removeEventListener("click",Vt)}}},[E]);const Je=(pt,Vt)=>{pt?q&&q(Vt):M&&M(Vt),we||(Ie(h?null:Qe.clientWidth),_e(pt))},Ue=pt=>{pt.button===0&&(pt.preventDefault(),J.current.focus(),Je(!0,pt))},Z=pt=>{Je(!1,pt)},Ce=Y.Children.toArray(p),ue=pt=>{const Vt=Ce.find(Bt=>Bt.props.value===pt.target.value);Vt!==void 0&&(ye(Vt.props.value),$&&$(pt,Vt))},ge=pt=>Vt=>{let Bt;if(Vt.currentTarget.hasAttribute("tabindex")){if(P){Bt=Array.isArray(oe)?oe.slice():[];const Ft=oe.indexOf(pt.props.value);Ft===-1?Bt.push(pt.props.value):Bt.splice(Ft,1)}else Bt=pt.props.value;if(pt.props.onClick&&pt.props.onClick(Vt),oe!==Bt&&(ye(Bt),$)){const Ft=Vt.nativeEvent||Vt,Kt=new Ft.constructor(Ft.type,Ft);Object.defineProperty(Kt,"target",{writable:!0,value:{value:Bt,name:F}}),$(Kt,pt)}P||Je(!1,Vt)}},he=pt=>{H||[" ","ArrowUp","ArrowDown","Enter"].indexOf(pt.key)!==-1&&(pt.preventDefault(),Je(!0,pt))},Ae=ae!==null&&re,Me=pt=>{!Ae&&V&&(Object.defineProperty(pt,"target",{writable:!0,value:{value:oe,name:F}}),V(pt))};delete se["aria-invalid"];let Te,Ee;const qe=[];let Ve=!1;(h1({value:oe})||k)&&(R?Te=R(oe):Ve=!0);const He=Ce.map(pt=>{if(!Y.isValidElement(pt))return null;let Vt;if(P){if(!Array.isArray(oe))throw new Error(Fh(2));Vt=oe.some(Bt=>ON(Bt,pt.props.value)),Vt&&Ve&&qe.push(pt.props.children)}else Vt=ON(oe,pt.props.value),Vt&&Ve&&(Ee=pt.props.children);return Y.cloneElement(pt,{"aria-selected":Vt?"true":"false",onClick:ge(pt),onKeyUp:Bt=>{Bt.key===" "&&Bt.preventDefault(),pt.props.onKeyUp&&pt.props.onKeyUp(Bt)},role:"option",selected:Vt,value:void 0,"data-value":pt.props.value})});Ve&&(P?qe.length===0?Te=null:Te=qe.reduce((pt,Vt,Bt)=>(pt.push(Vt),Bt<qe.length-1&&pt.push(", "),pt),[]):Te=Ee);let st=Pe;!h&&we&&ae&&(st=Qe.clientWidth);let Fe;typeof j<"u"?Fe=j:Fe=y?null:0;const Ye=K.id||(F?`mui-component-select-${F}`:void 0),Ke=We({},r,{variant:de,value:oe,open:Ae,error:x}),At=bhe(Ke),ht=We({},N.PaperProps,(o=N.slotProps)==null?void 0:o.paper),on=M8();return C.jsxs(Y.Fragment,{children:[C.jsx(fhe,We({ref:rt,tabIndex:Fe,role:"combobox","aria-controls":on,"aria-disabled":y?"true":void 0,"aria-expanded":Ae?"true":"false","aria-haspopup":"listbox","aria-label":l,"aria-labelledby":[E,Ye].filter(Boolean).join(" ")||void 0,"aria-describedby":a,onKeyDown:he,onMouseDown:y||H?null:Ue,onBlur:Me,onFocus:B},K,{ownerState:Ke,className:Zt(K.className,At.select,g),id:Ye,children:ghe(Te)?PN||(PN=C.jsx("span",{className:"notranslate",children:"​"})):Te})),C.jsx(mhe,We({"aria-invalid":x,value:Array.isArray(oe)?oe.join(","):oe,name:F,ref:X,"aria-hidden":!0,onChange:ue,tabIndex:-1,disabled:y,className:At.nativeInput,autoFocus:d,ownerState:Ke},se)),C.jsx(phe,{as:_,className:At.icon,ownerState:Ke}),C.jsx(Kde,We({id:`menu-${F||""}`,anchorEl:Qe,open:Ae,onClose:Z,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},N,{MenuListProps:We({"aria-labelledby":E,role:"listbox","aria-multiselectable":P?"true":void 0,disableListWrap:!0,id:on},N.MenuListProps),slotProps:We({},N.slotProps,{paper:We({},ht,{style:We({minWidth:st},ht!=null?ht.style:null)})}),children:He}))]})}),whe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],yhe=["root"],vhe=t=>{const{classes:r}=t;return r},BC={name:"MuiSelect",overridesResolver:(t,r)=>r.root,shouldForwardProp:t=>bl(t)&&t!=="variant",slot:"Root"},Ahe=rn(PC,BC)(""),_he=rn(jC,BC)(""),Che=rn(MC,BC)(""),J8=Y.forwardRef(function(r,n){const o=Hr({name:"MuiSelect",props:r}),{autoWidth:a=!1,children:l,classes:d={},className:h,defaultOpen:p=!1,displayEmpty:g=!1,IconComponent:b=qce,id:v,input:y,inputProps:k,label:x,labelId:_,MenuProps:D,multiple:E=!1,native:N=!1,onClose:P,onOpen:F,open:V,renderValue:$,SelectDisplayProps:M,variant:B="outlined"}=o,q=wn(o,whe),Q=N?the:khe,H=Lp(),R=Op({props:o,muiFormControl:H,states:["variant","error"]}),K=R.variant||B,j=We({},o,{variant:K,classes:d}),ne=vhe(j),de=wn(ne,yhe),se=y||{standard:C.jsx(Ahe,{ownerState:j}),outlined:C.jsx(_he,{label:x,ownerState:j}),filled:C.jsx(Che,{ownerState:j})}[K],oe=Cs(n,db(se));return C.jsx(Y.Fragment,{children:Y.cloneElement(se,We({inputComponent:Q,inputProps:We({children:l,error:R.error,IconComponent:b,variant:K,type:void 0,multiple:E},N?{id:v}:{autoWidth:a,defaultOpen:p,displayEmpty:g,labelId:_,MenuProps:D,onClose:P,onOpen:F,open:V,renderValue:$,SelectDisplayProps:We({id:v},M)},k,{classes:k?ea(de,k.classes):de},y?y.props.inputProps:{})},(E&&N||g)&&K==="outlined"?{notched:!0}:{},{ref:oe,className:Zt(se.props.className,h,ne.root)},!y&&{variant:K},q))})});J8.muiName="Select";function xhe(t){return jr("MuiTextField",t)}Nr("MuiTextField",["root"]);const She=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Ehe={standard:PC,filled:MC,outlined:jC},Dhe=t=>{const{classes:r}=t;return $r({root:["root"]},xhe,r)},Ihe=rn(Hue,{name:"MuiTextField",slot:"Root",overridesResolver:(t,r)=>r.root})({}),The=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiTextField"}),{autoComplete:a,autoFocus:l=!1,children:d,className:h,color:p="primary",defaultValue:g,disabled:b=!1,error:v=!1,FormHelperTextProps:y,fullWidth:k=!1,helperText:x,id:_,InputLabelProps:D,inputProps:E,InputProps:N,inputRef:P,label:F,maxRows:V,minRows:$,multiline:M=!1,name:B,onBlur:q,onChange:Q,onFocus:H,placeholder:R,required:K=!1,rows:j,select:ne=!1,SelectProps:de,type:se,value:oe,variant:ye="outlined"}=o,re=wn(o,She),_e=We({},o,{autoFocus:l,color:p,disabled:b,error:v,fullWidth:k,multiline:M,required:K,select:ne,variant:ye}),X=Dhe(_e),J={};ye==="outlined"&&(D&&typeof D.shrink<"u"&&(J.notched=D.shrink),J.label=F),ne&&((!de||!de.native)&&(J.id=void 0),J["aria-describedby"]=void 0);const ae=M8(_),pe=x&&ae?`${ae}-helper-text`:void 0,we=F&&ae?`${ae}-label`:void 0,Pe=Ehe[ye],Ie=C.jsx(Pe,We({"aria-describedby":pe,autoComplete:a,autoFocus:l,defaultValue:g,fullWidth:k,multiline:M,name:B,rows:j,maxRows:V,minRows:$,type:se,value:oe,id:ae,inputRef:P,onBlur:q,onChange:Q,onFocus:H,placeholder:R,inputProps:E},J,N));return C.jsxs(Ihe,We({className:Zt(X.root,h),disabled:b,error:v,fullWidth:k,ref:n,required:K,color:p,variant:ye,ownerState:_e},re,{children:[F!=null&&F!==""&&C.jsx(fde,We({htmlFor:ae,id:we},D,{children:F})),ne?C.jsx(J8,We({"aria-describedby":pe,id:ae,labelId:we,value:oe,input:Ie},de,{children:d})):Ie,x&&C.jsx(Que,We({id:pe},y,{children:x}))]}))}),LN=["http","https","mailto","tel"];function Nhe(t){const r=(t||"").trim(),n=r.charAt(0);if(n==="#"||n==="/")return r;const o=r.indexOf(":");if(o===-1)return r;let a=-1;for(;++a<LN.length;){const l=LN[a];if(o===l.length&&r.slice(0,l.length).toLowerCase()===l)return r}return a=r.indexOf("?"),a!==-1&&o>a||(a=r.indexOf("#"),a!==-1&&o>a)?r:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var uA,jN;function Mhe(){return jN||(jN=1,uA=function(r){return r!=null&&r.constructor!=null&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}),uA}var Phe=Mhe();const Z8=ou(Phe);function Ag(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?BN(t.position):"start"in t||"end"in t?BN(t):"line"in t||"column"in t?g_(t):""}function g_(t){return RN(t&&t.line)+":"+RN(t&&t.column)}function BN(t){return g_(t&&t.start)+"-"+g_(t&&t.end)}function RN(t){return t&&typeof t=="number"?t:1}class qa extends Error{constructor(r,n,o){const a=[null,null];let l={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(o=n,n=void 0),typeof o=="string"){const d=o.indexOf(":");d===-1?a[1]=o:(a[0]=o.slice(0,d),a[1]=o.slice(d+1))}n&&("type"in n||"position"in n?n.position&&(l=n.position):"start"in n||"end"in n?l=n:("line"in n||"column"in n)&&(l.start=n)),this.name=Ag(n)||"1:1",this.message=typeof r=="object"?r.message:r,this.stack="",typeof r=="object"&&r.stack&&(this.stack=r.stack),this.reason=this.message,this.fatal,this.line=l.start.line,this.column=l.start.column,this.position=l,this.source=a[0],this.ruleId=a[1],this.file,this.actual,this.expected,this.url,this.note}}qa.prototype.file="";qa.prototype.name="";qa.prototype.reason="";qa.prototype.message="";qa.prototype.stack="";qa.prototype.fatal=null;qa.prototype.column=null;qa.prototype.line=null;qa.prototype.source=null;qa.prototype.ruleId=null;qa.prototype.position=null;const Gl={basename:Ohe,dirname:Lhe,extname:jhe,join:Bhe,sep:"/"};function Ohe(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');hb(t);let n=0,o=-1,a=t.length,l;if(r===void 0||r.length===0||r.length>t.length){for(;a--;)if(t.charCodeAt(a)===47){if(l){n=a+1;break}}else o<0&&(l=!0,o=a+1);return o<0?"":t.slice(n,o)}if(r===t)return"";let d=-1,h=r.length-1;for(;a--;)if(t.charCodeAt(a)===47){if(l){n=a+1;break}}else d<0&&(l=!0,d=a+1),h>-1&&(t.charCodeAt(a)===r.charCodeAt(h--)?h<0&&(o=a):(h=-1,o=d));return n===o?o=d:o<0&&(o=t.length),t.slice(n,o)}function Lhe(t){if(hb(t),t.length===0)return".";let r=-1,n=t.length,o;for(;--n;)if(t.charCodeAt(n)===47){if(o){r=n;break}}else o||(o=!0);return r<0?t.charCodeAt(0)===47?"/":".":r===1&&t.charCodeAt(0)===47?"//":t.slice(0,r)}function jhe(t){hb(t);let r=t.length,n=-1,o=0,a=-1,l=0,d;for(;r--;){const h=t.charCodeAt(r);if(h===47){if(d){o=r+1;break}continue}n<0&&(d=!0,n=r+1),h===46?a<0?a=r:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||n<0||l===0||l===1&&a===n-1&&a===o+1?"":t.slice(a,n)}function Bhe(...t){let r=-1,n;for(;++r<t.length;)hb(t[r]),t[r]&&(n=n===void 0?t[r]:n+"/"+t[r]);return n===void 0?".":Rhe(n)}function Rhe(t){hb(t);const r=t.charCodeAt(0)===47;let n=Fhe(t,!r);return n.length===0&&!r&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),r?"/"+n:n}function Fhe(t,r){let n="",o=0,a=-1,l=0,d=-1,h,p;for(;++d<=t.length;){if(d<t.length)h=t.charCodeAt(d);else{if(h===47)break;h=47}if(h===47){if(!(a===d-1||l===1))if(a!==d-1&&l===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",o=0):(n=n.slice(0,p),o=n.length-1-n.lastIndexOf("/")),a=d,l=0;continue}}else if(n.length>0){n="",o=0,a=d,l=0;continue}}r&&(n=n.length>0?n+"/..":"..",o=2)}else n.length>0?n+="/"+t.slice(a+1,d):n=t.slice(a+1,d),o=d-a-1;a=d,l=0}else h===46&&l>-1?l++:l=-1}return n}function hb(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const zhe={cwd:Uhe};function Uhe(){return"/"}function b_(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function qhe(t){if(typeof t=="string")t=new URL(t);else if(!b_(t)){const r=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw r.code="ERR_INVALID_ARG_TYPE",r}if(t.protocol!=="file:"){const r=new TypeError("The URL must be of scheme file");throw r.code="ERR_INVALID_URL_SCHEME",r}return Vhe(t)}function Vhe(t){if(t.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const r=t.pathname;let n=-1;for(;++n<r.length;)if(r.charCodeAt(n)===37&&r.charCodeAt(n+1)===50){const o=r.charCodeAt(n+2);if(o===70||o===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(r)}const dA=["history","path","basename","stem","extname","dirname"];class X8{constructor(r){let n;r?typeof r=="string"||$he(r)?n={value:r}:b_(r)?n={path:r}:n=r:n={},this.data={},this.messages=[],this.history=[],this.cwd=zhe.cwd(),this.value,this.stored,this.result,this.map;let o=-1;for(;++o<dA.length;){const l=dA[o];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let a;for(a in n)dA.includes(a)||(this[a]=n[a])}get path(){return this.history[this.history.length-1]}set path(r){b_(r)&&(r=qhe(r)),fA(r,"path"),this.path!==r&&this.history.push(r)}get dirname(){return typeof this.path=="string"?Gl.dirname(this.path):void 0}set dirname(r){FN(this.basename,"dirname"),this.path=Gl.join(r||"",this.basename)}get basename(){return typeof this.path=="string"?Gl.basename(this.path):void 0}set basename(r){fA(r,"basename"),hA(r,"basename"),this.path=Gl.join(this.dirname||"",r)}get extname(){return typeof this.path=="string"?Gl.extname(this.path):void 0}set extname(r){if(hA(r,"extname"),FN(this.dirname,"extname"),r){if(r.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(r.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Gl.join(this.dirname,this.stem+(r||""))}get stem(){return typeof this.path=="string"?Gl.basename(this.path,this.extname):void 0}set stem(r){fA(r,"stem"),hA(r,"stem"),this.path=Gl.join(this.dirname||"",r+(this.extname||""))}toString(r){return(this.value||"").toString(r||void 0)}message(r,n,o){const a=new qa(r,n,o);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}info(r,n,o){const a=this.message(r,n,o);return a.fatal=null,a}fail(r,n,o){const a=this.message(r,n,o);throw a.fatal=!0,a}}function hA(t,r){if(t&&t.includes(Gl.sep))throw new Error("`"+r+"` cannot be a path: did not expect `"+Gl.sep+"`")}function fA(t,r){if(!t)throw new Error("`"+r+"` cannot be empty")}function FN(t,r){if(!t)throw new Error("Setting `"+r+"` requires `path` to be set too")}function $he(t){return Z8(t)}function zN(t){if(t)throw t}var pA,UN;function Hhe(){if(UN)return pA;UN=1;var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(g){return typeof Array.isArray=="function"?Array.isArray(g):r.call(g)==="[object Array]"},l=function(g){if(!g||r.call(g)!=="[object Object]")return!1;var b=t.call(g,"constructor"),v=g.constructor&&g.constructor.prototype&&t.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!b&&!v)return!1;var y;for(y in g);return typeof y>"u"||t.call(g,y)},d=function(g,b){n&&b.name==="__proto__"?n(g,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):g[b.name]=b.newValue},h=function(g,b){if(b==="__proto__")if(t.call(g,b)){if(o)return o(g,b).value}else return;return g[b]};return pA=function p(){var g,b,v,y,k,x,_=arguments[0],D=1,E=arguments.length,N=!1;for(typeof _=="boolean"&&(N=_,_=arguments[1]||{},D=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});D<E;++D)if(g=arguments[D],g!=null)for(b in g)v=h(_,b),y=h(g,b),_!==y&&(N&&y&&(l(y)||(k=a(y)))?(k?(k=!1,x=v&&a(v)?v:[]):x=v&&l(v)?v:{},d(_,{name:b,newValue:p(N,x,y)})):typeof y<"u"&&d(_,{name:b,newValue:y}));return _},pA}var Whe=Hhe();const qN=ou(Whe);function k_(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Ghe(){const t=[],r={run:n,use:o};return r;function n(...a){let l=-1;const d=a.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);h(null,...a);function h(p,...g){const b=t[++l];let v=-1;if(p){d(p);return}for(;++v<a.length;)(g[v]===null||g[v]===void 0)&&(g[v]=a[v]);a=g,b?Yhe(b,h)(...g):d(null,...g)}}function o(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),r}}function Yhe(t,r){let n;return o;function o(...d){const h=t.length>d.length;let p;h&&d.push(a);try{p=t.apply(this,d)}catch(g){const b=g;if(h&&n)throw b;return a(b)}h||(p&&p.then&&typeof p.then=="function"?p.then(l,a):p instanceof Error?a(p):l(p))}function a(d,...h){n||(n=!0,r(d,...h))}function l(d){a(null,d)}}const Khe=tj().freeze(),ej={}.hasOwnProperty;function tj(){const t=Ghe(),r=[];let n={},o,a=-1;return l.data=d,l.Parser=void 0,l.Compiler=void 0,l.freeze=h,l.attachers=r,l.use=p,l.parse=g,l.stringify=b,l.run=v,l.runSync=y,l.process=k,l.processSync=x,l;function l(){const _=tj();let D=-1;for(;++D<r.length;)_.use(...r[D]);return _.data(qN(!0,{},n)),_}function d(_,D){return typeof _=="string"?arguments.length===2?(bA("data",o),n[_]=D,l):ej.call(n,_)&&n[_]||null:_?(bA("data",o),n=_,l):n}function h(){if(o)return l;for(;++a<r.length;){const[_,...D]=r[a];if(D[0]===!1)continue;D[0]===!0&&(D[0]=void 0);const E=_.call(l,...D);typeof E=="function"&&t.use(E)}return o=!0,a=Number.POSITIVE_INFINITY,l}function p(_,...D){let E;if(bA("use",o),_!=null)if(typeof _=="function")V(_,...D);else if(typeof _=="object")Array.isArray(_)?F(_):P(_);else throw new TypeError("Expected usable value, not `"+_+"`");return E&&(n.settings=Object.assign(n.settings||{},E)),l;function N($){if(typeof $=="function")V($);else if(typeof $=="object")if(Array.isArray($)){const[M,...B]=$;V(M,...B)}else P($);else throw new TypeError("Expected usable value, not `"+$+"`")}function P($){F($.plugins),$.settings&&(E=Object.assign(E||{},$.settings))}function F($){let M=-1;if($!=null)if(Array.isArray($))for(;++M<$.length;){const B=$[M];N(B)}else throw new TypeError("Expected a list of plugins, not `"+$+"`")}function V($,M){let B=-1,q;for(;++B<r.length;)if(r[B][0]===$){q=r[B];break}q?(k_(q[1])&&k_(M)&&(M=qN(!0,q[1],M)),q[1]=M):r.push([...arguments])}}function g(_){l.freeze();const D=ng(_),E=l.Parser;return mA("parse",E),VN(E,"parse")?new E(String(D),D).parse():E(String(D),D)}function b(_,D){l.freeze();const E=ng(D),N=l.Compiler;return gA("stringify",N),$N(_),VN(N,"compile")?new N(_,E).compile():N(_,E)}function v(_,D,E){if($N(_),l.freeze(),!E&&typeof D=="function"&&(E=D,D=void 0),!E)return new Promise(N);N(null,E);function N(P,F){t.run(_,ng(D),V);function V($,M,B){M=M||_,$?F($):P?P(M):E(null,M,B)}}}function y(_,D){let E,N;return l.run(_,D,P),HN("runSync","run",N),E;function P(F,V){zN(F),E=V,N=!0}}function k(_,D){if(l.freeze(),mA("process",l.Parser),gA("process",l.Compiler),!D)return new Promise(E);E(null,D);function E(N,P){const F=ng(_);l.run(l.parse(F),F,($,M,B)=>{if($||!M||!B)V($);else{const q=l.stringify(M,B);q==null||(Zhe(q)?B.value=q:B.result=q),V($,B)}});function V($,M){$||!M?P($):N?N(M):D(null,M)}}}function x(_){let D;l.freeze(),mA("processSync",l.Parser),gA("processSync",l.Compiler);const E=ng(_);return l.process(E,N),HN("processSync","process",D),E;function N(P){D=!0,zN(P)}}}function VN(t,r){return typeof t=="function"&&t.prototype&&(Qhe(t.prototype)||r in t.prototype)}function Qhe(t){let r;for(r in t)if(ej.call(t,r))return!0;return!1}function mA(t,r){if(typeof r!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function gA(t,r){if(typeof r!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function bA(t,r){if(r)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function $N(t){if(!k_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function HN(t,r,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+r+"` instead")}function ng(t){return Jhe(t)?t:new X8(t)}function Jhe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Zhe(t){return typeof t=="string"||Z8(t)}const Xhe={};function efe(t,r){const n=Xhe,o=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return nj(t,o,a)}function nj(t,r,n){if(tfe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(r&&"alt"in t&&t.alt)return t.alt;if("children"in t)return WN(t.children,r,n)}return Array.isArray(t)?WN(t,r,n):""}function WN(t,r,n){const o=[];let a=-1;for(;++a<t.length;)o[a]=nj(t[a],r,n);return o.join("")}function tfe(t){return!!(t&&typeof t=="object")}function pc(t,r,n,o){const a=t.length;let l=0,d;if(r<0?r=-r>a?0:a+r:r=r>a?a:r,n=n>0?n:0,o.length<1e4)d=Array.from(o),d.unshift(r,n),t.splice(...d);else for(n&&t.splice(r,n);l<o.length;)d=o.slice(l,l+1e4),d.unshift(r,0),t.splice(...d),l+=1e4,r+=1e4}function Ba(t,r){return t.length>0?(pc(t,t.length,0,r),t):r}const GN={}.hasOwnProperty;function nfe(t){const r={};let n=-1;for(;++n<t.length;)rfe(r,t[n]);return r}function rfe(t,r){let n;for(n in r){const a=(GN.call(t,n)?t[n]:void 0)||(t[n]={}),l=r[n];let d;if(l)for(d in l){GN.call(a,d)||(a[d]=[]);const h=l[d];ife(a[d],Array.isArray(h)?h:h?[h]:[])}}}function ife(t,r){let n=-1;const o=[];for(;++n<r.length;)(r[n].add==="after"?t:o).push(r[n]);pc(t,0,0,o)}const ofe=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,nc=kd(/[A-Za-z]/),Js=kd(/[\dA-Za-z]/),sfe=kd(/[#-'*+\--9=?A-Z^-~]/);function w_(t){return t!==null&&(t<32||t===127)}const y_=kd(/\d/),afe=kd(/[\dA-Fa-f]/),lfe=kd(/[!-/:-@[-`{-~]/);function hn(t){return t!==null&&t<-2}function vs(t){return t!==null&&(t<0||t===32)}function Xn(t){return t===-2||t===-1||t===32}const cfe=kd(ofe),ufe=kd(/\s/);function kd(t){return r;function r(n){return n!==null&&t.test(String.fromCharCode(n))}}function Tr(t,r,n,o){const a=o?o-1:Number.POSITIVE_INFINITY;let l=0;return d;function d(p){return Xn(p)?(t.enter(n),h(p)):r(p)}function h(p){return Xn(p)&&l++<a?(t.consume(p),h):(t.exit(n),r(p))}}const dfe={tokenize:hfe};function hfe(t){const r=t.attempt(this.parser.constructs.contentInitial,o,a);let n;return r;function o(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Tr(t,r,"linePrefix")}function a(h){return t.enter("paragraph"),l(h)}function l(h){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,d(h)}function d(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return hn(h)?(t.consume(h),t.exit("chunkText"),l):(t.consume(h),d)}}const ffe={tokenize:pfe},YN={tokenize:mfe};function pfe(t){const r=this,n=[];let o=0,a,l,d;return h;function h(P){if(o<n.length){const F=n[o];return r.containerState=F[1],t.attempt(F[0].continuation,p,g)(P)}return g(P)}function p(P){if(o++,r.containerState._closeFlow){r.containerState._closeFlow=void 0,a&&N();const F=r.events.length;let V=F,$;for(;V--;)if(r.events[V][0]==="exit"&&r.events[V][1].type==="chunkFlow"){$=r.events[V][1].end;break}E(o);let M=F;for(;M<r.events.length;)r.events[M][1].end=Object.assign({},$),M++;return pc(r.events,V+1,0,r.events.slice(F)),r.events.length=M,g(P)}return h(P)}function g(P){if(o===n.length){if(!a)return y(P);if(a.currentConstruct&&a.currentConstruct.concrete)return x(P);r.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return r.containerState={},t.check(YN,b,v)(P)}function b(P){return a&&N(),E(o),y(P)}function v(P){return r.parser.lazy[r.now().line]=o!==n.length,d=r.now().offset,x(P)}function y(P){return r.containerState={},t.attempt(YN,k,x)(P)}function k(P){return o++,n.push([r.currentConstruct,r.containerState]),y(P)}function x(P){if(P===null){a&&N(),E(0),t.consume(P);return}return a=a||r.parser.flow(r.now()),t.enter("chunkFlow",{contentType:"flow",previous:l,_tokenizer:a}),_(P)}function _(P){if(P===null){D(t.exit("chunkFlow"),!0),E(0),t.consume(P);return}return hn(P)?(t.consume(P),D(t.exit("chunkFlow")),o=0,r.interrupt=void 0,h):(t.consume(P),_)}function D(P,F){const V=r.sliceStream(P);if(F&&V.push(null),P.previous=l,l&&(l.next=P),l=P,a.defineSkip(P.start),a.write(V),r.parser.lazy[P.start.line]){let $=a.events.length;for(;$--;)if(a.events[$][1].start.offset<d&&(!a.events[$][1].end||a.events[$][1].end.offset>d))return;const M=r.events.length;let B=M,q,Q;for(;B--;)if(r.events[B][0]==="exit"&&r.events[B][1].type==="chunkFlow"){if(q){Q=r.events[B][1].end;break}q=!0}for(E(o),$=M;$<r.events.length;)r.events[$][1].end=Object.assign({},Q),$++;pc(r.events,B+1,0,r.events.slice(M)),r.events.length=$}}function E(P){let F=n.length;for(;F-- >P;){const V=n[F];r.containerState=V[1],V[0].exit.call(r,t)}n.length=P}function N(){a.write([null]),l=void 0,a=void 0,r.containerState._closeFlow=void 0}}function mfe(t,r,n){return Tr(t,t.attempt(this.parser.constructs.document,r,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function KN(t){if(t===null||vs(t)||ufe(t))return 1;if(cfe(t))return 2}function RC(t,r,n){const o=[];let a=-1;for(;++a<t.length;){const l=t[a].resolveAll;l&&!o.includes(l)&&(r=l(r,n),o.push(l))}return r}const v_={name:"attention",tokenize:bfe,resolveAll:gfe};function gfe(t,r){let n=-1,o,a,l,d,h,p,g,b;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(o=n;o--;)if(t[o][0]==="exit"&&t[o][1].type==="attentionSequence"&&t[o][1]._open&&r.sliceSerialize(t[o][1]).charCodeAt(0)===r.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[o][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[o][1].end.offset-t[o][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[o][1].end.offset-t[o][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const v=Object.assign({},t[o][1].end),y=Object.assign({},t[n][1].start);QN(v,-p),QN(y,p),d={type:p>1?"strongSequence":"emphasisSequence",start:v,end:Object.assign({},t[o][1].end)},h={type:p>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:y},l={type:p>1?"strongText":"emphasisText",start:Object.assign({},t[o][1].end),end:Object.assign({},t[n][1].start)},a={type:p>1?"strong":"emphasis",start:Object.assign({},d.start),end:Object.assign({},h.end)},t[o][1].end=Object.assign({},d.start),t[n][1].start=Object.assign({},h.end),g=[],t[o][1].end.offset-t[o][1].start.offset&&(g=Ba(g,[["enter",t[o][1],r],["exit",t[o][1],r]])),g=Ba(g,[["enter",a,r],["enter",d,r],["exit",d,r],["enter",l,r]]),g=Ba(g,RC(r.parser.constructs.insideSpan.null,t.slice(o+1,n),r)),g=Ba(g,[["exit",l,r],["enter",h,r],["exit",h,r],["exit",a,r]]),t[n][1].end.offset-t[n][1].start.offset?(b=2,g=Ba(g,[["enter",t[n][1],r],["exit",t[n][1],r]])):b=0,pc(t,o-1,n-o+3,g),n=o+g.length-b-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function bfe(t,r){const n=this.parser.constructs.attentionMarkers.null,o=this.previous,a=KN(o);let l;return d;function d(p){return l=p,t.enter("attentionSequence"),h(p)}function h(p){if(p===l)return t.consume(p),h;const g=t.exit("attentionSequence"),b=KN(p),v=!b||b===2&&a||n.includes(p),y=!a||a===2&&b||n.includes(o);return g._open=!!(l===42?v:v&&(a||!y)),g._close=!!(l===42?y:y&&(b||!v)),r(p)}}function QN(t,r){t.column+=r,t.offset+=r,t._bufferIndex+=r}const kfe={name:"autolink",tokenize:wfe};function wfe(t,r,n){let o=0;return a;function a(k){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(k),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),l}function l(k){return nc(k)?(t.consume(k),d):g(k)}function d(k){return k===43||k===45||k===46||Js(k)?(o=1,h(k)):g(k)}function h(k){return k===58?(t.consume(k),o=0,p):(k===43||k===45||k===46||Js(k))&&o++<32?(t.consume(k),h):(o=0,g(k))}function p(k){return k===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(k),t.exit("autolinkMarker"),t.exit("autolink"),r):k===null||k===32||k===60||w_(k)?n(k):(t.consume(k),p)}function g(k){return k===64?(t.consume(k),b):sfe(k)?(t.consume(k),g):n(k)}function b(k){return Js(k)?v(k):n(k)}function v(k){return k===46?(t.consume(k),o=0,b):k===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(k),t.exit("autolinkMarker"),t.exit("autolink"),r):y(k)}function y(k){if((k===45||Js(k))&&o++<63){const x=k===45?y:v;return t.consume(k),x}return n(k)}}const dw={tokenize:yfe,partial:!0};function yfe(t,r,n){return o;function o(l){return Xn(l)?Tr(t,a,"linePrefix")(l):a(l)}function a(l){return l===null||hn(l)?r(l):n(l)}}const rj={name:"blockQuote",tokenize:vfe,continuation:{tokenize:Afe},exit:_fe};function vfe(t,r,n){const o=this;return a;function a(d){if(d===62){const h=o.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(d),t.exit("blockQuoteMarker"),l}return n(d)}function l(d){return Xn(d)?(t.enter("blockQuotePrefixWhitespace"),t.consume(d),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),r):(t.exit("blockQuotePrefix"),r(d))}}function Afe(t,r,n){const o=this;return a;function a(d){return Xn(d)?Tr(t,l,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):l(d)}function l(d){return t.attempt(rj,r,n)(d)}}function _fe(t){t.exit("blockQuote")}const ij={name:"characterEscape",tokenize:Cfe};function Cfe(t,r,n){return o;function o(l){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(l),t.exit("escapeMarker"),a}function a(l){return lfe(l)?(t.enter("characterEscapeValue"),t.consume(l),t.exit("characterEscapeValue"),t.exit("characterEscape"),r):n(l)}}const JN=document.createElement("i");function FC(t){const r="&"+t+";";JN.innerHTML=r;const n=JN.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===r?!1:n}const oj={name:"characterReference",tokenize:xfe};function xfe(t,r,n){const o=this;let a=0,l,d;return h;function h(v){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),p}function p(v){return v===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(v),t.exit("characterReferenceMarkerNumeric"),g):(t.enter("characterReferenceValue"),l=31,d=Js,b(v))}function g(v){return v===88||v===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(v),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),l=6,d=afe,b):(t.enter("characterReferenceValue"),l=7,d=y_,b(v))}function b(v){if(v===59&&a){const y=t.exit("characterReferenceValue");return d===Js&&!FC(o.sliceSerialize(y))?n(v):(t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),t.exit("characterReference"),r)}return d(v)&&a++<l?(t.consume(v),b):n(v)}}const ZN={tokenize:Efe,partial:!0},XN={name:"codeFenced",tokenize:Sfe,concrete:!0};function Sfe(t,r,n){const o=this,a={tokenize:V,partial:!0};let l=0,d=0,h;return p;function p($){return g($)}function g($){const M=o.events[o.events.length-1];return l=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,h=$,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),b($)}function b($){return $===h?(d++,t.consume($),b):d<3?n($):(t.exit("codeFencedFenceSequence"),Xn($)?Tr(t,v,"whitespace")($):v($))}function v($){return $===null||hn($)?(t.exit("codeFencedFence"),o.interrupt?r($):t.check(ZN,_,F)($)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y($))}function y($){return $===null||hn($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),v($)):Xn($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Tr(t,k,"whitespace")($)):$===96&&$===h?n($):(t.consume($),y)}function k($){return $===null||hn($)?v($):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x($))}function x($){return $===null||hn($)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),v($)):$===96&&$===h?n($):(t.consume($),x)}function _($){return t.attempt(a,F,D)($)}function D($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),E}function E($){return l>0&&Xn($)?Tr(t,N,"linePrefix",l+1)($):N($)}function N($){return $===null||hn($)?t.check(ZN,_,F)($):(t.enter("codeFlowValue"),P($))}function P($){return $===null||hn($)?(t.exit("codeFlowValue"),N($)):(t.consume($),P)}function F($){return t.exit("codeFenced"),r($)}function V($,M,B){let q=0;return Q;function Q(ne){return $.enter("lineEnding"),$.consume(ne),$.exit("lineEnding"),H}function H(ne){return $.enter("codeFencedFence"),Xn(ne)?Tr($,R,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):R(ne)}function R(ne){return ne===h?($.enter("codeFencedFenceSequence"),K(ne)):B(ne)}function K(ne){return ne===h?(q++,$.consume(ne),K):q>=d?($.exit("codeFencedFenceSequence"),Xn(ne)?Tr($,j,"whitespace")(ne):j(ne)):B(ne)}function j(ne){return ne===null||hn(ne)?($.exit("codeFencedFence"),M(ne)):B(ne)}}}function Efe(t,r,n){const o=this;return a;function a(d){return d===null?n(d):(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l)}function l(d){return o.parser.lazy[o.now().line]?n(d):r(d)}}const kA={name:"codeIndented",tokenize:Ife},Dfe={tokenize:Tfe,partial:!0};function Ife(t,r,n){const o=this;return a;function a(g){return t.enter("codeIndented"),Tr(t,l,"linePrefix",5)(g)}function l(g){const b=o.events[o.events.length-1];return b&&b[1].type==="linePrefix"&&b[2].sliceSerialize(b[1],!0).length>=4?d(g):n(g)}function d(g){return g===null?p(g):hn(g)?t.attempt(Dfe,d,p)(g):(t.enter("codeFlowValue"),h(g))}function h(g){return g===null||hn(g)?(t.exit("codeFlowValue"),d(g)):(t.consume(g),h)}function p(g){return t.exit("codeIndented"),r(g)}}function Tfe(t,r,n){const o=this;return a;function a(d){return o.parser.lazy[o.now().line]?n(d):hn(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),a):Tr(t,l,"linePrefix",5)(d)}function l(d){const h=o.events[o.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?r(d):hn(d)?a(d):n(d)}}const Nfe={name:"codeText",tokenize:Ofe,resolve:Mfe,previous:Pfe};function Mfe(t){let r=t.length-4,n=3,o,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[r][1].type==="lineEnding"||t[r][1].type==="space")){for(o=n;++o<r;)if(t[o][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[r][1].type="codeTextPadding",n+=2,r-=2;break}}for(o=n-1,r++;++o<=r;)a===void 0?o!==r&&t[o][1].type!=="lineEnding"&&(a=o):(o===r||t[o][1].type==="lineEnding")&&(t[a][1].type="codeTextData",o!==a+2&&(t[a][1].end=t[o-1][1].end,t.splice(a+2,o-a-2),r-=o-a-2,o=a+2),a=void 0);return t}function Pfe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ofe(t,r,n){let o=0,a,l;return d;function d(v){return t.enter("codeText"),t.enter("codeTextSequence"),h(v)}function h(v){return v===96?(t.consume(v),o++,h):(t.exit("codeTextSequence"),p(v))}function p(v){return v===null?n(v):v===32?(t.enter("space"),t.consume(v),t.exit("space"),p):v===96?(l=t.enter("codeTextSequence"),a=0,b(v)):hn(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),p):(t.enter("codeTextData"),g(v))}function g(v){return v===null||v===32||v===96||hn(v)?(t.exit("codeTextData"),p(v)):(t.consume(v),g)}function b(v){return v===96?(t.consume(v),a++,b):a===o?(t.exit("codeTextSequence"),t.exit("codeText"),r(v)):(l.type="codeTextData",g(v))}}function sj(t){const r={};let n=-1,o,a,l,d,h,p,g;for(;++n<t.length;){for(;n in r;)n=r[n];if(o=t[n],n&&o[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(p=o[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(o[0]==="enter")o[1].contentType&&(Object.assign(r,Lfe(t,n)),n=r[n],g=!0);else if(o[1]._container){for(l=n,a=void 0;l--&&(d=t[l],d[1].type==="lineEnding"||d[1].type==="lineEndingBlank");)d[0]==="enter"&&(a&&(t[a][1].type="lineEndingBlank"),d[1].type="lineEnding",a=l);a&&(o[1].end=Object.assign({},t[a][1].start),h=t.slice(a,n),h.unshift(o),pc(t,a,n-a+1,h))}}return!g}function Lfe(t,r){const n=t[r][1],o=t[r][2];let a=r-1;const l=[],d=n._tokenizer||o.parser[n.contentType](n.start),h=d.events,p=[],g={};let b,v,y=-1,k=n,x=0,_=0;const D=[_];for(;k;){for(;t[++a][1]!==k;);l.push(a),k._tokenizer||(b=o.sliceStream(k),k.next||b.push(null),v&&d.defineSkip(k.start),k._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(b),k._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),v=k,k=k.next}for(k=n;++y<h.length;)h[y][0]==="exit"&&h[y-1][0]==="enter"&&h[y][1].type===h[y-1][1].type&&h[y][1].start.line!==h[y][1].end.line&&(_=y+1,D.push(_),k._tokenizer=void 0,k.previous=void 0,k=k.next);for(d.events=[],k?(k._tokenizer=void 0,k.previous=void 0):D.pop(),y=D.length;y--;){const E=h.slice(D[y],D[y+1]),N=l.pop();p.unshift([N,N+E.length-1]),pc(t,N,2,E)}for(y=-1;++y<p.length;)g[x+p[y][0]]=x+p[y][1],x+=p[y][1]-p[y][0]-1;return g}const jfe={tokenize:Ffe,resolve:Rfe},Bfe={tokenize:zfe,partial:!0};function Rfe(t){return sj(t),t}function Ffe(t,r){let n;return o;function o(h){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(h)}function a(h){return h===null?l(h):hn(h)?t.check(Bfe,d,l)(h):(t.consume(h),a)}function l(h){return t.exit("chunkContent"),t.exit("content"),r(h)}function d(h){return t.consume(h),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function zfe(t,r,n){const o=this;return a;function a(d){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),Tr(t,l,"linePrefix")}function l(d){if(d===null||hn(d))return n(d);const h=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?r(d):t.interrupt(o.parser.constructs.flow,n,r)(d)}}function aj(t,r,n,o,a,l,d,h,p){const g=p||Number.POSITIVE_INFINITY;let b=0;return v;function v(E){return E===60?(t.enter(o),t.enter(a),t.enter(l),t.consume(E),t.exit(l),y):E===null||E===32||E===41||w_(E)?n(E):(t.enter(o),t.enter(d),t.enter(h),t.enter("chunkString",{contentType:"string"}),_(E))}function y(E){return E===62?(t.enter(l),t.consume(E),t.exit(l),t.exit(a),t.exit(o),r):(t.enter(h),t.enter("chunkString",{contentType:"string"}),k(E))}function k(E){return E===62?(t.exit("chunkString"),t.exit(h),y(E)):E===null||E===60||hn(E)?n(E):(t.consume(E),E===92?x:k)}function x(E){return E===60||E===62||E===92?(t.consume(E),k):k(E)}function _(E){return!b&&(E===null||E===41||vs(E))?(t.exit("chunkString"),t.exit(h),t.exit(d),t.exit(o),r(E)):b<g&&E===40?(t.consume(E),b++,_):E===41?(t.consume(E),b--,_):E===null||E===32||E===40||w_(E)?n(E):(t.consume(E),E===92?D:_)}function D(E){return E===40||E===41||E===92?(t.consume(E),_):_(E)}}function lj(t,r,n,o,a,l){const d=this;let h=0,p;return g;function g(k){return t.enter(o),t.enter(a),t.consume(k),t.exit(a),t.enter(l),b}function b(k){return h>999||k===null||k===91||k===93&&!p||k===94&&!h&&"_hiddenFootnoteSupport"in d.parser.constructs?n(k):k===93?(t.exit(l),t.enter(a),t.consume(k),t.exit(a),t.exit(o),r):hn(k)?(t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),b):(t.enter("chunkString",{contentType:"string"}),v(k))}function v(k){return k===null||k===91||k===93||hn(k)||h++>999?(t.exit("chunkString"),b(k)):(t.consume(k),p||(p=!Xn(k)),k===92?y:v)}function y(k){return k===91||k===92||k===93?(t.consume(k),h++,v):v(k)}}function cj(t,r,n,o,a,l){let d;return h;function h(y){return y===34||y===39||y===40?(t.enter(o),t.enter(a),t.consume(y),t.exit(a),d=y===40?41:y,p):n(y)}function p(y){return y===d?(t.enter(a),t.consume(y),t.exit(a),t.exit(o),r):(t.enter(l),g(y))}function g(y){return y===d?(t.exit(l),p(d)):y===null?n(y):hn(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),Tr(t,g,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),b(y))}function b(y){return y===d||y===null||hn(y)?(t.exit("chunkString"),g(y)):(t.consume(y),y===92?v:b)}function v(y){return y===d||y===92?(t.consume(y),b):b(y)}}function _g(t,r){let n;return o;function o(a){return hn(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,o):Xn(a)?Tr(t,o,n?"linePrefix":"lineSuffix")(a):r(a)}}function pp(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ufe={name:"definition",tokenize:Vfe},qfe={tokenize:$fe,partial:!0};function Vfe(t,r,n){const o=this;let a;return l;function l(k){return t.enter("definition"),d(k)}function d(k){return lj.call(o,t,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(k)}function h(k){return a=pp(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),k===58?(t.enter("definitionMarker"),t.consume(k),t.exit("definitionMarker"),p):n(k)}function p(k){return vs(k)?_g(t,g)(k):g(k)}function g(k){return aj(t,b,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(k)}function b(k){return t.attempt(qfe,v,v)(k)}function v(k){return Xn(k)?Tr(t,y,"whitespace")(k):y(k)}function y(k){return k===null||hn(k)?(t.exit("definition"),o.parser.defined.push(a),r(k)):n(k)}}function $fe(t,r,n){return o;function o(h){return vs(h)?_g(t,a)(h):n(h)}function a(h){return cj(t,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function l(h){return Xn(h)?Tr(t,d,"whitespace")(h):d(h)}function d(h){return h===null||hn(h)?r(h):n(h)}}const Hfe={name:"hardBreakEscape",tokenize:Wfe};function Wfe(t,r,n){return o;function o(l){return t.enter("hardBreakEscape"),t.consume(l),a}function a(l){return hn(l)?(t.exit("hardBreakEscape"),r(l)):n(l)}}const Gfe={name:"headingAtx",tokenize:Kfe,resolve:Yfe};function Yfe(t,r){let n=t.length-2,o=3,a,l;return t[o][1].type==="whitespace"&&(o+=2),n-2>o&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(o===n-1||n-4>o&&t[n-2][1].type==="whitespace")&&(n-=o+1===n?2:4),n>o&&(a={type:"atxHeadingText",start:t[o][1].start,end:t[n][1].end},l={type:"chunkText",start:t[o][1].start,end:t[n][1].end,contentType:"text"},pc(t,o,n-o+1,[["enter",a,r],["enter",l,r],["exit",l,r],["exit",a,r]])),t}function Kfe(t,r,n){let o=0;return a;function a(b){return t.enter("atxHeading"),l(b)}function l(b){return t.enter("atxHeadingSequence"),d(b)}function d(b){return b===35&&o++<6?(t.consume(b),d):b===null||vs(b)?(t.exit("atxHeadingSequence"),h(b)):n(b)}function h(b){return b===35?(t.enter("atxHeadingSequence"),p(b)):b===null||hn(b)?(t.exit("atxHeading"),r(b)):Xn(b)?Tr(t,h,"whitespace")(b):(t.enter("atxHeadingText"),g(b))}function p(b){return b===35?(t.consume(b),p):(t.exit("atxHeadingSequence"),h(b))}function g(b){return b===null||b===35||vs(b)?(t.exit("atxHeadingText"),h(b)):(t.consume(b),g)}}const Qfe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],eM=["pre","script","style","textarea"],Jfe={name:"htmlFlow",tokenize:tpe,resolveTo:epe,concrete:!0},Zfe={tokenize:rpe,partial:!0},Xfe={tokenize:npe,partial:!0};function epe(t){let r=t.length;for(;r--&&!(t[r][0]==="enter"&&t[r][1].type==="htmlFlow"););return r>1&&t[r-2][1].type==="linePrefix"&&(t[r][1].start=t[r-2][1].start,t[r+1][1].start=t[r-2][1].start,t.splice(r-2,2)),t}function tpe(t,r,n){const o=this;let a,l,d,h,p;return g;function g(J){return b(J)}function b(J){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(J),v}function v(J){return J===33?(t.consume(J),y):J===47?(t.consume(J),l=!0,_):J===63?(t.consume(J),a=3,o.interrupt?r:re):nc(J)?(t.consume(J),d=String.fromCharCode(J),D):n(J)}function y(J){return J===45?(t.consume(J),a=2,k):J===91?(t.consume(J),a=5,h=0,x):nc(J)?(t.consume(J),a=4,o.interrupt?r:re):n(J)}function k(J){return J===45?(t.consume(J),o.interrupt?r:re):n(J)}function x(J){const ae="CDATA[";return J===ae.charCodeAt(h++)?(t.consume(J),h===ae.length?o.interrupt?r:R:x):n(J)}function _(J){return nc(J)?(t.consume(J),d=String.fromCharCode(J),D):n(J)}function D(J){if(J===null||J===47||J===62||vs(J)){const ae=J===47,pe=d.toLowerCase();return!ae&&!l&&eM.includes(pe)?(a=1,o.interrupt?r(J):R(J)):Qfe.includes(d.toLowerCase())?(a=6,ae?(t.consume(J),E):o.interrupt?r(J):R(J)):(a=7,o.interrupt&&!o.parser.lazy[o.now().line]?n(J):l?N(J):P(J))}return J===45||Js(J)?(t.consume(J),d+=String.fromCharCode(J),D):n(J)}function E(J){return J===62?(t.consume(J),o.interrupt?r:R):n(J)}function N(J){return Xn(J)?(t.consume(J),N):Q(J)}function P(J){return J===47?(t.consume(J),Q):J===58||J===95||nc(J)?(t.consume(J),F):Xn(J)?(t.consume(J),P):Q(J)}function F(J){return J===45||J===46||J===58||J===95||Js(J)?(t.consume(J),F):V(J)}function V(J){return J===61?(t.consume(J),$):Xn(J)?(t.consume(J),V):P(J)}function $(J){return J===null||J===60||J===61||J===62||J===96?n(J):J===34||J===39?(t.consume(J),p=J,M):Xn(J)?(t.consume(J),$):B(J)}function M(J){return J===p?(t.consume(J),p=null,q):J===null||hn(J)?n(J):(t.consume(J),M)}function B(J){return J===null||J===34||J===39||J===47||J===60||J===61||J===62||J===96||vs(J)?V(J):(t.consume(J),B)}function q(J){return J===47||J===62||Xn(J)?P(J):n(J)}function Q(J){return J===62?(t.consume(J),H):n(J)}function H(J){return J===null||hn(J)?R(J):Xn(J)?(t.consume(J),H):n(J)}function R(J){return J===45&&a===2?(t.consume(J),de):J===60&&a===1?(t.consume(J),se):J===62&&a===4?(t.consume(J),_e):J===63&&a===3?(t.consume(J),re):J===93&&a===5?(t.consume(J),ye):hn(J)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(Zfe,X,K)(J)):J===null||hn(J)?(t.exit("htmlFlowData"),K(J)):(t.consume(J),R)}function K(J){return t.check(Xfe,j,X)(J)}function j(J){return t.enter("lineEnding"),t.consume(J),t.exit("lineEnding"),ne}function ne(J){return J===null||hn(J)?K(J):(t.enter("htmlFlowData"),R(J))}function de(J){return J===45?(t.consume(J),re):R(J)}function se(J){return J===47?(t.consume(J),d="",oe):R(J)}function oe(J){if(J===62){const ae=d.toLowerCase();return eM.includes(ae)?(t.consume(J),_e):R(J)}return nc(J)&&d.length<8?(t.consume(J),d+=String.fromCharCode(J),oe):R(J)}function ye(J){return J===93?(t.consume(J),re):R(J)}function re(J){return J===62?(t.consume(J),_e):J===45&&a===2?(t.consume(J),re):R(J)}function _e(J){return J===null||hn(J)?(t.exit("htmlFlowData"),X(J)):(t.consume(J),_e)}function X(J){return t.exit("htmlFlow"),r(J)}}function npe(t,r,n){const o=this;return a;function a(d){return hn(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):n(d)}function l(d){return o.parser.lazy[o.now().line]?n(d):r(d)}}function rpe(t,r,n){return o;function o(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(dw,r,n)}}const ipe={name:"htmlText",tokenize:ope};function ope(t,r,n){const o=this;let a,l,d;return h;function h(re){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(re),p}function p(re){return re===33?(t.consume(re),g):re===47?(t.consume(re),V):re===63?(t.consume(re),P):nc(re)?(t.consume(re),B):n(re)}function g(re){return re===45?(t.consume(re),b):re===91?(t.consume(re),l=0,x):nc(re)?(t.consume(re),N):n(re)}function b(re){return re===45?(t.consume(re),k):n(re)}function v(re){return re===null?n(re):re===45?(t.consume(re),y):hn(re)?(d=v,se(re)):(t.consume(re),v)}function y(re){return re===45?(t.consume(re),k):v(re)}function k(re){return re===62?de(re):re===45?y(re):v(re)}function x(re){const _e="CDATA[";return re===_e.charCodeAt(l++)?(t.consume(re),l===_e.length?_:x):n(re)}function _(re){return re===null?n(re):re===93?(t.consume(re),D):hn(re)?(d=_,se(re)):(t.consume(re),_)}function D(re){return re===93?(t.consume(re),E):_(re)}function E(re){return re===62?de(re):re===93?(t.consume(re),E):_(re)}function N(re){return re===null||re===62?de(re):hn(re)?(d=N,se(re)):(t.consume(re),N)}function P(re){return re===null?n(re):re===63?(t.consume(re),F):hn(re)?(d=P,se(re)):(t.consume(re),P)}function F(re){return re===62?de(re):P(re)}function V(re){return nc(re)?(t.consume(re),$):n(re)}function $(re){return re===45||Js(re)?(t.consume(re),$):M(re)}function M(re){return hn(re)?(d=M,se(re)):Xn(re)?(t.consume(re),M):de(re)}function B(re){return re===45||Js(re)?(t.consume(re),B):re===47||re===62||vs(re)?q(re):n(re)}function q(re){return re===47?(t.consume(re),de):re===58||re===95||nc(re)?(t.consume(re),Q):hn(re)?(d=q,se(re)):Xn(re)?(t.consume(re),q):de(re)}function Q(re){return re===45||re===46||re===58||re===95||Js(re)?(t.consume(re),Q):H(re)}function H(re){return re===61?(t.consume(re),R):hn(re)?(d=H,se(re)):Xn(re)?(t.consume(re),H):q(re)}function R(re){return re===null||re===60||re===61||re===62||re===96?n(re):re===34||re===39?(t.consume(re),a=re,K):hn(re)?(d=R,se(re)):Xn(re)?(t.consume(re),R):(t.consume(re),j)}function K(re){return re===a?(t.consume(re),a=void 0,ne):re===null?n(re):hn(re)?(d=K,se(re)):(t.consume(re),K)}function j(re){return re===null||re===34||re===39||re===60||re===61||re===96?n(re):re===47||re===62||vs(re)?q(re):(t.consume(re),j)}function ne(re){return re===47||re===62||vs(re)?q(re):n(re)}function de(re){return re===62?(t.consume(re),t.exit("htmlTextData"),t.exit("htmlText"),r):n(re)}function se(re){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(re),t.exit("lineEnding"),oe}function oe(re){return Xn(re)?Tr(t,ye,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):ye(re)}function ye(re){return t.enter("htmlTextData"),d(re)}}const zC={name:"labelEnd",tokenize:dpe,resolveTo:upe,resolveAll:cpe},spe={tokenize:hpe},ape={tokenize:fpe},lpe={tokenize:ppe};function cpe(t){let r=-1;for(;++r<t.length;){const n=t[r][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(r+1,n.type==="labelImage"?4:2),n.type="data",r++)}return t}function upe(t,r){let n=t.length,o=0,a,l,d,h;for(;n--;)if(a=t[n][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(d){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=n,a.type!=="labelLink")){o=2;break}}else a.type==="labelEnd"&&(d=n);const p={type:t[l][1].type==="labelLink"?"link":"image",start:Object.assign({},t[l][1].start),end:Object.assign({},t[t.length-1][1].end)},g={type:"label",start:Object.assign({},t[l][1].start),end:Object.assign({},t[d][1].end)},b={type:"labelText",start:Object.assign({},t[l+o+2][1].end),end:Object.assign({},t[d-2][1].start)};return h=[["enter",p,r],["enter",g,r]],h=Ba(h,t.slice(l+1,l+o+3)),h=Ba(h,[["enter",b,r]]),h=Ba(h,RC(r.parser.constructs.insideSpan.null,t.slice(l+o+4,d-3),r)),h=Ba(h,[["exit",b,r],t[d-2],t[d-1],["exit",g,r]]),h=Ba(h,t.slice(d+1)),h=Ba(h,[["exit",p,r]]),pc(t,l,t.length,h),t}function dpe(t,r,n){const o=this;let a=o.events.length,l,d;for(;a--;)if((o.events[a][1].type==="labelImage"||o.events[a][1].type==="labelLink")&&!o.events[a][1]._balanced){l=o.events[a][1];break}return h;function h(y){return l?l._inactive?v(y):(d=o.parser.defined.includes(pp(o.sliceSerialize({start:l.end,end:o.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),p):n(y)}function p(y){return y===40?t.attempt(spe,b,d?b:v)(y):y===91?t.attempt(ape,b,d?g:v)(y):d?b(y):v(y)}function g(y){return t.attempt(lpe,b,v)(y)}function b(y){return r(y)}function v(y){return l._balanced=!0,n(y)}}function hpe(t,r,n){return o;function o(v){return t.enter("resource"),t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),a}function a(v){return vs(v)?_g(t,l)(v):l(v)}function l(v){return v===41?b(v):aj(t,d,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function d(v){return vs(v)?_g(t,p)(v):b(v)}function h(v){return n(v)}function p(v){return v===34||v===39||v===40?cj(t,g,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):b(v)}function g(v){return vs(v)?_g(t,b)(v):b(v)}function b(v){return v===41?(t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),t.exit("resource"),r):n(v)}}function fpe(t,r,n){const o=this;return a;function a(h){return lj.call(o,t,l,d,"reference","referenceMarker","referenceString")(h)}function l(h){return o.parser.defined.includes(pp(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?r(h):n(h)}function d(h){return n(h)}}function ppe(t,r,n){return o;function o(l){return t.enter("reference"),t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),a}function a(l){return l===93?(t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),t.exit("reference"),r):n(l)}}const mpe={name:"labelStartImage",tokenize:gpe,resolveAll:zC.resolveAll};function gpe(t,r,n){const o=this;return a;function a(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),l}function l(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),d):n(h)}function d(h){return h===94&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):r(h)}}const bpe={name:"labelStartLink",tokenize:kpe,resolveAll:zC.resolveAll};function kpe(t,r,n){const o=this;return a;function a(d){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelLink"),l}function l(d){return d===94&&"_hiddenFootnoteSupport"in o.parser.constructs?n(d):r(d)}}const wA={name:"lineEnding",tokenize:wpe};function wpe(t,r){return n;function n(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Tr(t,r,"linePrefix")}}const Dk={name:"thematicBreak",tokenize:ype};function ype(t,r,n){let o=0,a;return l;function l(g){return t.enter("thematicBreak"),d(g)}function d(g){return a=g,h(g)}function h(g){return g===a?(t.enter("thematicBreakSequence"),p(g)):o>=3&&(g===null||hn(g))?(t.exit("thematicBreak"),r(g)):n(g)}function p(g){return g===a?(t.consume(g),o++,p):(t.exit("thematicBreakSequence"),Xn(g)?Tr(t,h,"whitespace")(g):h(g))}}const ks={name:"list",tokenize:_pe,continuation:{tokenize:Cpe},exit:Spe},vpe={tokenize:Epe,partial:!0},Ape={tokenize:xpe,partial:!0};function _pe(t,r,n){const o=this,a=o.events[o.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,d=0;return h;function h(k){const x=o.containerState.type||(k===42||k===43||k===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!o.containerState.marker||k===o.containerState.marker:y_(k)){if(o.containerState.type||(o.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),k===42||k===45?t.check(Dk,n,g)(k):g(k);if(!o.interrupt||k===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(k)}return n(k)}function p(k){return y_(k)&&++d<10?(t.consume(k),p):(!o.interrupt||d<2)&&(o.containerState.marker?k===o.containerState.marker:k===41||k===46)?(t.exit("listItemValue"),g(k)):n(k)}function g(k){return t.enter("listItemMarker"),t.consume(k),t.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||k,t.check(dw,o.interrupt?n:b,t.attempt(vpe,y,v))}function b(k){return o.containerState.initialBlankLine=!0,l++,y(k)}function v(k){return Xn(k)?(t.enter("listItemPrefixWhitespace"),t.consume(k),t.exit("listItemPrefixWhitespace"),y):n(k)}function y(k){return o.containerState.size=l+o.sliceSerialize(t.exit("listItemPrefix"),!0).length,r(k)}}function Cpe(t,r,n){const o=this;return o.containerState._closeFlow=void 0,t.check(dw,a,l);function a(h){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,Tr(t,r,"listItemIndent",o.containerState.size+1)(h)}function l(h){return o.containerState.furtherBlankLines||!Xn(h)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,d(h)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,t.attempt(Ape,r,d)(h))}function d(h){return o.containerState._closeFlow=!0,o.interrupt=void 0,Tr(t,t.attempt(ks,r,n),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function xpe(t,r,n){const o=this;return Tr(t,a,"listItemIndent",o.containerState.size+1);function a(l){const d=o.events[o.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===o.containerState.size?r(l):n(l)}}function Spe(t){t.exit(this.containerState.type)}function Epe(t,r,n){const o=this;return Tr(t,a,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const d=o.events[o.events.length-1];return!Xn(l)&&d&&d[1].type==="listItemPrefixWhitespace"?r(l):n(l)}}const tM={name:"setextUnderline",tokenize:Ipe,resolveTo:Dpe};function Dpe(t,r){let n=t.length,o,a,l;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){o=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!l&&t[n][1].type==="definition"&&(l=n);const d={type:"setextHeading",start:Object.assign({},t[a][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[a][1].type="setextHeadingText",l?(t.splice(a,0,["enter",d,r]),t.splice(l+1,0,["exit",t[o][1],r]),t[o][1].end=Object.assign({},t[l][1].end)):t[o][1]=d,t.push(["exit",d,r]),t}function Ipe(t,r,n){const o=this;let a;return l;function l(g){let b=o.events.length,v;for(;b--;)if(o.events[b][1].type!=="lineEnding"&&o.events[b][1].type!=="linePrefix"&&o.events[b][1].type!=="content"){v=o.events[b][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||v)?(t.enter("setextHeadingLine"),a=g,d(g)):n(g)}function d(g){return t.enter("setextHeadingLineSequence"),h(g)}function h(g){return g===a?(t.consume(g),h):(t.exit("setextHeadingLineSequence"),Xn(g)?Tr(t,p,"lineSuffix")(g):p(g))}function p(g){return g===null||hn(g)?(t.exit("setextHeadingLine"),r(g)):n(g)}}const Tpe={tokenize:Npe};function Npe(t){const r=this,n=t.attempt(dw,o,t.attempt(this.parser.constructs.flowInitial,a,Tr(t,t.attempt(this.parser.constructs.flow,a,t.attempt(jfe,a)),"linePrefix")));return n;function o(l){if(l===null){t.consume(l);return}return t.enter("lineEndingBlank"),t.consume(l),t.exit("lineEndingBlank"),r.currentConstruct=void 0,n}function a(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),r.currentConstruct=void 0,n}}const Mpe={resolveAll:dj()},Ppe=uj("string"),Ope=uj("text");function uj(t){return{tokenize:r,resolveAll:dj(t==="text"?Lpe:void 0)};function r(n){const o=this,a=this.parser.constructs[t],l=n.attempt(a,d,h);return d;function d(b){return g(b)?l(b):h(b)}function h(b){if(b===null){n.consume(b);return}return n.enter("data"),n.consume(b),p}function p(b){return g(b)?(n.exit("data"),l(b)):(n.consume(b),p)}function g(b){if(b===null)return!0;const v=a[b];let y=-1;if(v)for(;++y<v.length;){const k=v[y];if(!k.previous||k.previous.call(o,o.previous))return!0}return!1}}}function dj(t){return r;function r(n,o){let a=-1,l;for(;++a<=n.length;)l===void 0?n[a]&&n[a][1].type==="data"&&(l=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==l+2&&(n[l][1].end=n[a-1][1].end,n.splice(l+2,a-l-2),a=l+2),l=void 0);return t?t(n,o):n}}function Lpe(t,r){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const o=t[n-1][1],a=r.sliceStream(o);let l=a.length,d=-1,h=0,p;for(;l--;){const g=a[l];if(typeof g=="string"){for(d=g.length;g.charCodeAt(d-1)===32;)h++,d--;if(d)break;d=-1}else if(g===-2)p=!0,h++;else if(g!==-1){l++;break}}if(h){const g={type:n===t.length||p||h<2?"lineSuffix":"hardBreakTrailing",start:{line:o.end.line,column:o.end.column-h,offset:o.end.offset-h,_index:o.start._index+l,_bufferIndex:l?d:o.start._bufferIndex+d},end:Object.assign({},o.end)};o.end=Object.assign({},g.start),o.start.offset===o.end.offset?Object.assign(o,g):(t.splice(n,0,["enter",g,r],["exit",g,r]),n+=2)}n++}return t}function jpe(t,r,n){let o=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const a={},l=[];let d=[],h=[];const p={consume:N,enter:P,exit:F,attempt:M(V),check:M($),interrupt:M($,{interrupt:!0})},g={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:k,sliceSerialize:y,now:x,defineSkip:_,write:v};let b=r.tokenize.call(g,p);return r.resolveAll&&l.push(r),g;function v(H){return d=Ba(d,H),D(),d[d.length-1]!==null?[]:(B(r,0),g.events=RC(l,g.events,g),g.events)}function y(H,R){return Rpe(k(H),R)}function k(H){return Bpe(d,H)}function x(){const{line:H,column:R,offset:K,_index:j,_bufferIndex:ne}=o;return{line:H,column:R,offset:K,_index:j,_bufferIndex:ne}}function _(H){a[H.line]=H.column,Q()}function D(){let H;for(;o._index<d.length;){const R=d[o._index];if(typeof R=="string")for(H=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===H&&o._bufferIndex<R.length;)E(R.charCodeAt(o._bufferIndex));else E(R)}}function E(H){b=b(H)}function N(H){hn(H)?(o.line++,o.column=1,o.offset+=H===-3?2:1,Q()):H!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===d[o._index].length&&(o._bufferIndex=-1,o._index++)),g.previous=H}function P(H,R){const K=R||{};return K.type=H,K.start=x(),g.events.push(["enter",K,g]),h.push(K),K}function F(H){const R=h.pop();return R.end=x(),g.events.push(["exit",R,g]),R}function V(H,R){B(H,R.from)}function $(H,R){R.restore()}function M(H,R){return K;function K(j,ne,de){let se,oe,ye,re;return Array.isArray(j)?X(j):"tokenize"in j?X([j]):_e(j);function _e(we){return Pe;function Pe(Ie){const Ne=Ie!==null&&we[Ie],rt=Ie!==null&&we.null,Qe=[...Array.isArray(Ne)?Ne:Ne?[Ne]:[],...Array.isArray(rt)?rt:rt?[rt]:[]];return X(Qe)(Ie)}}function X(we){return se=we,oe=0,we.length===0?de:J(we[oe])}function J(we){return Pe;function Pe(Ie){return re=q(),ye=we,we.partial||(g.currentConstruct=we),we.name&&g.parser.constructs.disable.null.includes(we.name)?pe():we.tokenize.call(R?Object.assign(Object.create(g),R):g,p,ae,pe)(Ie)}}function ae(we){return H(ye,re),ne}function pe(we){return re.restore(),++oe<se.length?J(se[oe]):de}}}function B(H,R){H.resolveAll&&!l.includes(H)&&l.push(H),H.resolve&&pc(g.events,R,g.events.length-R,H.resolve(g.events.slice(R),g)),H.resolveTo&&(g.events=H.resolveTo(g.events,g))}function q(){const H=x(),R=g.previous,K=g.currentConstruct,j=g.events.length,ne=Array.from(h);return{restore:de,from:j};function de(){o=H,g.previous=R,g.currentConstruct=K,g.events.length=j,h=ne,Q()}}function Q(){o.line in a&&o.column<2&&(o.column=a[o.line],o.offset+=a[o.line]-1)}}function Bpe(t,r){const n=r.start._index,o=r.start._bufferIndex,a=r.end._index,l=r.end._bufferIndex;let d;if(n===a)d=[t[n].slice(o,l)];else{if(d=t.slice(n,a),o>-1){const h=d[0];typeof h=="string"?d[0]=h.slice(o):d.shift()}l>0&&d.push(t[a].slice(0,l))}return d}function Rpe(t,r){let n=-1;const o=[];let a;for(;++n<t.length;){const l=t[n];let d;if(typeof l=="string")d=l;else switch(l){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=r?" ":"	";break}case-1:{if(!r&&a)continue;d=" ";break}default:d=String.fromCharCode(l)}a=l===-2,o.push(d)}return o.join("")}const Fpe={42:ks,43:ks,45:ks,48:ks,49:ks,50:ks,51:ks,52:ks,53:ks,54:ks,55:ks,56:ks,57:ks,62:rj},zpe={91:Ufe},Upe={[-2]:kA,[-1]:kA,32:kA},qpe={35:Gfe,42:Dk,45:[tM,Dk],60:Jfe,61:tM,95:Dk,96:XN,126:XN},Vpe={38:oj,92:ij},$pe={[-5]:wA,[-4]:wA,[-3]:wA,33:mpe,38:oj,42:v_,60:[kfe,ipe],91:bpe,92:[Hfe,ij],93:zC,95:v_,96:Nfe},Hpe={null:[v_,Mpe]},Wpe={null:[42,95]},Gpe={null:[]},Ype=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Wpe,contentInitial:zpe,disable:Gpe,document:Fpe,flow:qpe,flowInitial:Upe,insideSpan:Hpe,string:Vpe,text:$pe},Symbol.toStringTag,{value:"Module"}));function Kpe(t){const n=nfe([Ype,...(t||{}).extensions||[]]),o={defined:[],lazy:{},constructs:n,content:a(dfe),document:a(ffe),flow:a(Tpe),string:a(Ppe),text:a(Ope)};return o;function a(l){return d;function d(h){return jpe(o,l,h)}}}const nM=/[\0\t\n\r]/g;function Qpe(){let t=1,r="",n=!0,o;return a;function a(l,d,h){const p=[];let g,b,v,y,k;for(l=r+l.toString(d),v=0,r="",n&&(l.charCodeAt(0)===65279&&v++,n=void 0);v<l.length;){if(nM.lastIndex=v,g=nM.exec(l),y=g&&g.index!==void 0?g.index:l.length,k=l.charCodeAt(y),!g){r=l.slice(v);break}if(k===10&&v===y&&o)p.push(-3),o=void 0;else switch(o&&(p.push(-5),o=void 0),v<y&&(p.push(l.slice(v,y)),t+=y-v),k){case 0:{p.push(65533),t++;break}case 9:{for(b=Math.ceil(t/4)*4,p.push(-2);t++<b;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:o=!0,t=1}v=y+1}return h&&(o&&p.push(-5),r&&p.push(r),p.push(null)),p}}function Jpe(t){for(;!sj(t););return t}function hj(t,r){const n=Number.parseInt(t,r);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCharCode(n)}const Zpe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Xpe(t){return t.replace(Zpe,eme)}function eme(t,r,n){if(r)return r;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),l=a===120||a===88;return hj(n.slice(l?2:1),l?16:10)}return FC(n)||t}const fj={}.hasOwnProperty,tme=function(t,r,n){return typeof r!="string"&&(n=r,r=void 0),nme(n)(Jpe(Kpe(n).document().write(Qpe()(t,r,!0))))};function nme(t){const r={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:h(Me),autolinkProtocol:H,autolinkEmail:H,atxHeading:h(ue),blockQuote:h(Qe),characterEscape:H,characterReference:H,codeFenced:h(Je),codeFencedFenceInfo:p,codeFencedFenceMeta:p,codeIndented:h(Je,p),codeText:h(Ue,p),codeTextData:H,data:H,codeFlowValue:H,definition:h(Z),definitionDestinationString:p,definitionLabelString:p,definitionTitleString:p,emphasis:h(Ce),hardBreakEscape:h(ge),hardBreakTrailing:h(ge),htmlFlow:h(he,p),htmlFlowData:H,htmlText:h(he,p),htmlTextData:H,image:h(Ae),label:p,link:h(Me),listItem:h(Ee),listItemValue:x,listOrdered:h(Te,k),listUnordered:h(Te),paragraph:h(qe),reference:pe,referenceString:p,resourceDestinationString:p,resourceTitleString:p,setextHeading:h(ue),strong:h(Ve),thematicBreak:h(st)},exit:{atxHeading:b(),atxHeadingSequence:M,autolink:b(),autolinkEmail:rt,autolinkProtocol:Ne,blockQuote:b(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:Pe,characterReferenceMarkerNumeric:Pe,characterReferenceValue:Ie,codeFenced:b(N),codeFencedFence:E,codeFencedFenceInfo:_,codeFencedFenceMeta:D,codeFlowValue:R,codeIndented:b(P),codeText:b(se),codeTextData:R,data:R,definition:b(),definitionDestinationString:$,definitionLabelString:F,definitionTitleString:V,emphasis:b(),hardBreakEscape:b(j),hardBreakTrailing:b(j),htmlFlow:b(ne),htmlFlowData:R,htmlText:b(de),htmlTextData:R,image:b(ye),label:_e,labelText:re,lineEnding:K,link:b(oe),listItem:b(),listOrdered:b(),listUnordered:b(),paragraph:b(),referenceString:we,resourceDestinationString:X,resourceTitleString:J,resource:ae,setextHeading:b(Q),setextHeadingLineSequence:q,setextHeadingText:B,strong:b(),thematicBreak:b()}};pj(r,(t||{}).mdastExtensions||[]);const n={};return o;function o(Fe){let Ye={type:"root",children:[]};const Ke={stack:[Ye],tokenStack:[],config:r,enter:g,exit:v,buffer:p,resume:y,setData:l,getData:d},At=[];let ht=-1;for(;++ht<Fe.length;)if(Fe[ht][1].type==="listOrdered"||Fe[ht][1].type==="listUnordered")if(Fe[ht][0]==="enter")At.push(ht);else{const on=At.pop();ht=a(Fe,on,ht)}for(ht=-1;++ht<Fe.length;){const on=r[Fe[ht][0]];fj.call(on,Fe[ht][1].type)&&on[Fe[ht][1].type].call(Object.assign({sliceSerialize:Fe[ht][2].sliceSerialize},Ke),Fe[ht][1])}if(Ke.tokenStack.length>0){const on=Ke.tokenStack[Ke.tokenStack.length-1];(on[1]||rM).call(Ke,void 0,on[0])}for(Ye.position={start:Hu(Fe.length>0?Fe[0][1].start:{line:1,column:1,offset:0}),end:Hu(Fe.length>0?Fe[Fe.length-2][1].end:{line:1,column:1,offset:0})},ht=-1;++ht<r.transforms.length;)Ye=r.transforms[ht](Ye)||Ye;return Ye}function a(Fe,Ye,Ke){let At=Ye-1,ht=-1,on=!1,pt,Vt,Bt,Ft;for(;++At<=Ke;){const Kt=Fe[At];if(Kt[1].type==="listUnordered"||Kt[1].type==="listOrdered"||Kt[1].type==="blockQuote"?(Kt[0]==="enter"?ht++:ht--,Ft=void 0):Kt[1].type==="lineEndingBlank"?Kt[0]==="enter"&&(pt&&!Ft&&!ht&&!Bt&&(Bt=At),Ft=void 0):Kt[1].type==="linePrefix"||Kt[1].type==="listItemValue"||Kt[1].type==="listItemMarker"||Kt[1].type==="listItemPrefix"||Kt[1].type==="listItemPrefixWhitespace"||(Ft=void 0),!ht&&Kt[0]==="enter"&&Kt[1].type==="listItemPrefix"||ht===-1&&Kt[0]==="exit"&&(Kt[1].type==="listUnordered"||Kt[1].type==="listOrdered")){if(pt){let pn=At;for(Vt=void 0;pn--;){const En=Fe[pn];if(En[1].type==="lineEnding"||En[1].type==="lineEndingBlank"){if(En[0]==="exit")continue;Vt&&(Fe[Vt][1].type="lineEndingBlank",on=!0),En[1].type="lineEnding",Vt=pn}else if(!(En[1].type==="linePrefix"||En[1].type==="blockQuotePrefix"||En[1].type==="blockQuotePrefixWhitespace"||En[1].type==="blockQuoteMarker"||En[1].type==="listItemIndent"))break}Bt&&(!Vt||Bt<Vt)&&(pt._spread=!0),pt.end=Object.assign({},Vt?Fe[Vt][1].start:Kt[1].end),Fe.splice(Vt||At,0,["exit",pt,Kt[2]]),At++,Ke++}Kt[1].type==="listItemPrefix"&&(pt={type:"listItem",_spread:!1,start:Object.assign({},Kt[1].start),end:void 0},Fe.splice(At,0,["enter",pt,Kt[2]]),At++,Ke++,Bt=void 0,Ft=!0)}}return Fe[Ye][1]._spread=on,Ke}function l(Fe,Ye){n[Fe]=Ye}function d(Fe){return n[Fe]}function h(Fe,Ye){return Ke;function Ke(At){g.call(this,Fe(At),At),Ye&&Ye.call(this,At)}}function p(){this.stack.push({type:"fragment",children:[]})}function g(Fe,Ye,Ke){return this.stack[this.stack.length-1].children.push(Fe),this.stack.push(Fe),this.tokenStack.push([Ye,Ke]),Fe.position={start:Hu(Ye.start)},Fe}function b(Fe){return Ye;function Ye(Ke){Fe&&Fe.call(this,Ke),v.call(this,Ke)}}function v(Fe,Ye){const Ke=this.stack.pop(),At=this.tokenStack.pop();if(At)At[0].type!==Fe.type&&(Ye?Ye.call(this,Fe,At[0]):(At[1]||rM).call(this,Fe,At[0]));else throw new Error("Cannot close `"+Fe.type+"` ("+Ag({start:Fe.start,end:Fe.end})+"): it’s not open");return Ke.position.end=Hu(Fe.end),Ke}function y(){return efe(this.stack.pop())}function k(){l("expectingFirstListItemValue",!0)}function x(Fe){if(d("expectingFirstListItemValue")){const Ye=this.stack[this.stack.length-2];Ye.start=Number.parseInt(this.sliceSerialize(Fe),10),l("expectingFirstListItemValue")}}function _(){const Fe=this.resume(),Ye=this.stack[this.stack.length-1];Ye.lang=Fe}function D(){const Fe=this.resume(),Ye=this.stack[this.stack.length-1];Ye.meta=Fe}function E(){d("flowCodeInside")||(this.buffer(),l("flowCodeInside",!0))}function N(){const Fe=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=Fe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),l("flowCodeInside")}function P(){const Fe=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=Fe.replace(/(\r?\n|\r)$/g,"")}function F(Fe){const Ye=this.resume(),Ke=this.stack[this.stack.length-1];Ke.label=Ye,Ke.identifier=pp(this.sliceSerialize(Fe)).toLowerCase()}function V(){const Fe=this.resume(),Ye=this.stack[this.stack.length-1];Ye.title=Fe}function $(){const Fe=this.resume(),Ye=this.stack[this.stack.length-1];Ye.url=Fe}function M(Fe){const Ye=this.stack[this.stack.length-1];if(!Ye.depth){const Ke=this.sliceSerialize(Fe).length;Ye.depth=Ke}}function B(){l("setextHeadingSlurpLineEnding",!0)}function q(Fe){const Ye=this.stack[this.stack.length-1];Ye.depth=this.sliceSerialize(Fe).charCodeAt(0)===61?1:2}function Q(){l("setextHeadingSlurpLineEnding")}function H(Fe){const Ye=this.stack[this.stack.length-1];let Ke=Ye.children[Ye.children.length-1];(!Ke||Ke.type!=="text")&&(Ke=He(),Ke.position={start:Hu(Fe.start)},Ye.children.push(Ke)),this.stack.push(Ke)}function R(Fe){const Ye=this.stack.pop();Ye.value+=this.sliceSerialize(Fe),Ye.position.end=Hu(Fe.end)}function K(Fe){const Ye=this.stack[this.stack.length-1];if(d("atHardBreak")){const Ke=Ye.children[Ye.children.length-1];Ke.position.end=Hu(Fe.end),l("atHardBreak");return}!d("setextHeadingSlurpLineEnding")&&r.canContainEols.includes(Ye.type)&&(H.call(this,Fe),R.call(this,Fe))}function j(){l("atHardBreak",!0)}function ne(){const Fe=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=Fe}function de(){const Fe=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=Fe}function se(){const Fe=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=Fe}function oe(){const Fe=this.stack[this.stack.length-1];if(d("inReference")){const Ye=d("referenceType")||"shortcut";Fe.type+="Reference",Fe.referenceType=Ye,delete Fe.url,delete Fe.title}else delete Fe.identifier,delete Fe.label;l("referenceType")}function ye(){const Fe=this.stack[this.stack.length-1];if(d("inReference")){const Ye=d("referenceType")||"shortcut";Fe.type+="Reference",Fe.referenceType=Ye,delete Fe.url,delete Fe.title}else delete Fe.identifier,delete Fe.label;l("referenceType")}function re(Fe){const Ye=this.sliceSerialize(Fe),Ke=this.stack[this.stack.length-2];Ke.label=Xpe(Ye),Ke.identifier=pp(Ye).toLowerCase()}function _e(){const Fe=this.stack[this.stack.length-1],Ye=this.resume(),Ke=this.stack[this.stack.length-1];if(l("inReference",!0),Ke.type==="link"){const At=Fe.children;Ke.children=At}else Ke.alt=Ye}function X(){const Fe=this.resume(),Ye=this.stack[this.stack.length-1];Ye.url=Fe}function J(){const Fe=this.resume(),Ye=this.stack[this.stack.length-1];Ye.title=Fe}function ae(){l("inReference")}function pe(){l("referenceType","collapsed")}function we(Fe){const Ye=this.resume(),Ke=this.stack[this.stack.length-1];Ke.label=Ye,Ke.identifier=pp(this.sliceSerialize(Fe)).toLowerCase(),l("referenceType","full")}function Pe(Fe){l("characterReferenceType",Fe.type)}function Ie(Fe){const Ye=this.sliceSerialize(Fe),Ke=d("characterReferenceType");let At;Ke?(At=hj(Ye,Ke==="characterReferenceMarkerNumeric"?10:16),l("characterReferenceType")):At=FC(Ye);const ht=this.stack.pop();ht.value+=At,ht.position.end=Hu(Fe.end)}function Ne(Fe){R.call(this,Fe);const Ye=this.stack[this.stack.length-1];Ye.url=this.sliceSerialize(Fe)}function rt(Fe){R.call(this,Fe);const Ye=this.stack[this.stack.length-1];Ye.url="mailto:"+this.sliceSerialize(Fe)}function Qe(){return{type:"blockquote",children:[]}}function Je(){return{type:"code",lang:null,meta:null,value:""}}function Ue(){return{type:"inlineCode",value:""}}function Z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ce(){return{type:"emphasis",children:[]}}function ue(){return{type:"heading",depth:void 0,children:[]}}function ge(){return{type:"break"}}function he(){return{type:"html",value:""}}function Ae(){return{type:"image",title:null,url:"",alt:null}}function Me(){return{type:"link",title:null,url:"",children:[]}}function Te(Fe){return{type:"list",ordered:Fe.type==="listOrdered",start:null,spread:Fe._spread,children:[]}}function Ee(Fe){return{type:"listItem",spread:Fe._spread,checked:null,children:[]}}function qe(){return{type:"paragraph",children:[]}}function Ve(){return{type:"strong",children:[]}}function He(){return{type:"text",value:""}}function st(){return{type:"thematicBreak"}}}function Hu(t){return{line:t.line,column:t.column,offset:t.offset}}function pj(t,r){let n=-1;for(;++n<r.length;){const o=r[n];Array.isArray(o)?pj(t,o):rme(t,o)}}function rme(t,r){let n;for(n in r)if(fj.call(r,n)){if(n==="canContainEols"){const o=r[n];o&&t[n].push(...o)}else if(n==="transforms"){const o=r[n];o&&t[n].push(...o)}else if(n==="enter"||n==="exit"){const o=r[n];o&&Object.assign(t[n],o)}}}function rM(t,r){throw t?new Error("Cannot close `"+t.type+"` ("+Ag({start:t.start,end:t.end})+"): a different token (`"+r.type+"`, "+Ag({start:r.start,end:r.end})+") is open"):new Error("Cannot close document, a token (`"+r.type+"`, "+Ag({start:r.start,end:r.end})+") is still open")}function ime(t){Object.assign(this,{Parser:n=>{const o=this.data("settings");return tme(n,Object.assign({},o,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function ome(t,r){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(r),!0)};return t.patch(r,n),t.applyData(r,n)}function sme(t,r){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(r,n),[t.applyData(r,n),{type:"text",value:`
`}]}function ame(t,r){const n=r.value?r.value+`
`:"",o=r.lang?r.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,a={};o&&(a.className=["language-"+o]);let l={type:"element",tagName:"code",properties:a,children:[{type:"text",value:n}]};return r.meta&&(l.data={meta:r.meta}),t.patch(r,l),l=t.applyData(r,l),l={type:"element",tagName:"pre",properties:{},children:[l]},t.patch(r,l),l}function lme(t,r){const n={type:"element",tagName:"del",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}function cme(t,r){const n={type:"element",tagName:"em",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}function Bp(t){const r=[];let n=-1,o=0,a=0;for(;++n<t.length;){const l=t.charCodeAt(n);let d="";if(l===37&&Js(t.charCodeAt(n+1))&&Js(t.charCodeAt(n+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(d=String.fromCharCode(l));else if(l>55295&&l<57344){const h=t.charCodeAt(n+1);l<56320&&h>56319&&h<57344?(d=String.fromCharCode(l,h),a=1):d="�"}else d=String.fromCharCode(l);d&&(r.push(t.slice(o,n),encodeURIComponent(d)),o=n+a+1,d=""),a&&(n+=a,a=0)}return r.join("")+t.slice(o)}function mj(t,r){const n=String(r.identifier).toUpperCase(),o=Bp(n.toLowerCase()),a=t.footnoteOrder.indexOf(n);let l;a===-1?(t.footnoteOrder.push(n),t.footnoteCounts[n]=1,l=t.footnoteOrder.length):(t.footnoteCounts[n]++,l=a+1);const d=t.footnoteCounts[n],h={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fn-"+o,id:t.clobberPrefix+"fnref-"+o+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(r,h);const p={type:"element",tagName:"sup",properties:{},children:[h]};return t.patch(r,p),t.applyData(r,p)}function ume(t,r){const n=t.footnoteById;let o=1;for(;o in n;)o++;const a=String(o);return n[a]={type:"footnoteDefinition",identifier:a,children:[{type:"paragraph",children:r.children}],position:r.position},mj(t,{type:"footnoteReference",identifier:a,position:r.position})}function dme(t,r){const n={type:"element",tagName:"h"+r.depth,properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}function hme(t,r){if(t.dangerous){const n={type:"raw",value:r.value};return t.patch(r,n),t.applyData(r,n)}return null}function gj(t,r){const n=r.referenceType;let o="]";if(n==="collapsed"?o+="[]":n==="full"&&(o+="["+(r.label||r.identifier)+"]"),r.type==="imageReference")return{type:"text",value:"!["+r.alt+o};const a=t.all(r),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const d=a[a.length-1];return d&&d.type==="text"?d.value+=o:a.push({type:"text",value:o}),a}function fme(t,r){const n=t.definition(r.identifier);if(!n)return gj(t,r);const o={src:Bp(n.url||""),alt:r.alt};n.title!==null&&n.title!==void 0&&(o.title=n.title);const a={type:"element",tagName:"img",properties:o,children:[]};return t.patch(r,a),t.applyData(r,a)}function pme(t,r){const n={src:Bp(r.url)};r.alt!==null&&r.alt!==void 0&&(n.alt=r.alt),r.title!==null&&r.title!==void 0&&(n.title=r.title);const o={type:"element",tagName:"img",properties:n,children:[]};return t.patch(r,o),t.applyData(r,o)}function mme(t,r){const n={type:"text",value:r.value.replace(/\r?\n|\r/g," ")};t.patch(r,n);const o={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(r,o),t.applyData(r,o)}function gme(t,r){const n=t.definition(r.identifier);if(!n)return gj(t,r);const o={href:Bp(n.url||"")};n.title!==null&&n.title!==void 0&&(o.title=n.title);const a={type:"element",tagName:"a",properties:o,children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function bme(t,r){const n={href:Bp(r.url)};r.title!==null&&r.title!==void 0&&(n.title=r.title);const o={type:"element",tagName:"a",properties:n,children:t.all(r)};return t.patch(r,o),t.applyData(r,o)}function kme(t,r,n){const o=t.all(r),a=n?wme(n):bj(r),l={},d=[];if(typeof r.checked=="boolean"){const b=o[0];let v;b&&b.type==="element"&&b.tagName==="p"?v=b:(v={type:"element",tagName:"p",properties:{},children:[]},o.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:r.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let h=-1;for(;++h<o.length;){const b=o[h];(a||h!==0||b.type!=="element"||b.tagName!=="p")&&d.push({type:"text",value:`
`}),b.type==="element"&&b.tagName==="p"&&!a?d.push(...b.children):d.push(b)}const p=o[o.length-1];p&&(a||p.type!=="element"||p.tagName!=="p")&&d.push({type:"text",value:`
`});const g={type:"element",tagName:"li",properties:l,children:d};return t.patch(r,g),t.applyData(r,g)}function wme(t){let r=!1;if(t.type==="list"){r=t.spread||!1;const n=t.children;let o=-1;for(;!r&&++o<n.length;)r=bj(n[o])}return r}function bj(t){const r=t.spread;return r??t.children.length>1}function yme(t,r){const n={},o=t.all(r);let a=-1;for(typeof r.start=="number"&&r.start!==1&&(n.start=r.start);++a<o.length;){const d=o[a];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:r.ordered?"ol":"ul",properties:n,children:t.wrap(o,!0)};return t.patch(r,l),t.applyData(r,l)}function vme(t,r){const n={type:"element",tagName:"p",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}function Ame(t,r){const n={type:"root",children:t.wrap(t.all(r))};return t.patch(r,n),t.applyData(r,n)}function _me(t,r){const n={type:"element",tagName:"strong",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}const UC=kj("start"),qC=kj("end");function Cme(t){return{start:UC(t),end:qC(t)}}function kj(t){return r;function r(n){const o=n&&n.position&&n.position[t]||{};return{line:o.line||null,column:o.column||null,offset:o.offset>-1?o.offset:null}}}function xme(t,r){const n=t.all(r),o=n.shift(),a=[];if(o){const d={type:"element",tagName:"thead",properties:{},children:t.wrap([o],!0)};t.patch(r.children[0],d),a.push(d)}if(n.length>0){const d={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},h=UC(r.children[1]),p=qC(r.children[r.children.length-1]);h.line&&p.line&&(d.position={start:h,end:p}),a.push(d)}const l={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(r,l),t.applyData(r,l)}function Sme(t,r,n){const o=n?n.children:void 0,l=(o?o.indexOf(r):1)===0?"th":"td",d=n&&n.type==="table"?n.align:void 0,h=d?d.length:r.children.length;let p=-1;const g=[];for(;++p<h;){const v=r.children[p],y={},k=d?d[p]:void 0;k&&(y.align=k);let x={type:"element",tagName:l,properties:y,children:[]};v&&(x.children=t.all(v),t.patch(v,x),x=t.applyData(r,x)),g.push(x)}const b={type:"element",tagName:"tr",properties:{},children:t.wrap(g,!0)};return t.patch(r,b),t.applyData(r,b)}function Eme(t,r){const n={type:"element",tagName:"td",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}const iM=9,oM=32;function Dme(t){const r=String(t),n=/\r?\n|\r/g;let o=n.exec(r),a=0;const l=[];for(;o;)l.push(sM(r.slice(a,o.index),a>0,!0),o[0]),a=o.index+o[0].length,o=n.exec(r);return l.push(sM(r.slice(a),a>0,!1)),l.join("")}function sM(t,r,n){let o=0,a=t.length;if(r){let l=t.codePointAt(o);for(;l===iM||l===oM;)o++,l=t.codePointAt(o)}if(n){let l=t.codePointAt(a-1);for(;l===iM||l===oM;)a--,l=t.codePointAt(a-1)}return a>o?t.slice(o,a):""}function Ime(t,r){const n={type:"text",value:Dme(String(r.value))};return t.patch(r,n),t.applyData(r,n)}function Tme(t,r){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(r,n),t.applyData(r,n)}const Nme={blockquote:ome,break:sme,code:ame,delete:lme,emphasis:cme,footnoteReference:mj,footnote:ume,heading:dme,html:hme,imageReference:fme,image:pme,inlineCode:mme,linkReference:gme,link:bme,listItem:kme,list:yme,paragraph:vme,root:Ame,strong:_me,table:xme,tableCell:Eme,tableRow:Sme,text:Ime,thematicBreak:Tme,toml:ok,yaml:ok,definition:ok,footnoteDefinition:ok};function ok(){return null}const wj=function(t){if(t==null)return Lme;if(typeof t=="string")return Ome(t);if(typeof t=="object")return Array.isArray(t)?Mme(t):Pme(t);if(typeof t=="function")return hw(t);throw new Error("Expected function, string, or object as test")};function Mme(t){const r=[];let n=-1;for(;++n<t.length;)r[n]=wj(t[n]);return hw(o);function o(...a){let l=-1;for(;++l<r.length;)if(r[l].call(this,...a))return!0;return!1}}function Pme(t){return hw(r);function r(n){let o;for(o in t)if(n[o]!==t[o])return!1;return!0}}function Ome(t){return hw(r);function r(n){return n&&n.type===t}}function hw(t){return r;function r(n,...o){return!!(n&&typeof n=="object"&&"type"in n&&t.call(this,n,...o))}}function Lme(){return!0}const jme=!0,aM=!1,Bme="skip",Rme=function(t,r,n,o){typeof r=="function"&&typeof n!="function"&&(o=n,n=r,r=null);const a=wj(r),l=o?-1:1;d(t,void 0,[])();function d(h,p,g){const b=h&&typeof h=="object"?h:{};if(typeof b.type=="string"){const y=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(h.type+(y?"<"+y+">":""))+")"})}return v;function v(){let y=[],k,x,_;if((!r||a(h,p,g[g.length-1]||null))&&(y=Fme(n(h,g)),y[0]===aM))return y;if(h.children&&y[0]!==Bme)for(x=(o?h.children.length:-1)+l,_=g.concat(h);x>-1&&x<h.children.length;){if(k=d(h.children[x],x,_)(),k[0]===aM)return k;x=typeof k[1]=="number"?k[1]:x+l}return y}}};function Fme(t){return Array.isArray(t)?t:typeof t=="number"?[jme,t]:[t]}const VC=function(t,r,n,o){typeof r=="function"&&typeof n!="function"&&(o=n,n=r,r=null),Rme(t,r,a,o);function a(l,d){const h=d[d.length-1];return n(l,h?h.children.indexOf(l):null,h)}};function zme(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const lM={}.hasOwnProperty;function Ume(t){const r=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return VC(t,"definition",o=>{const a=cM(o.identifier);a&&!lM.call(r,a)&&(r[a]=o)}),n;function n(o){const a=cM(o);return a&&lM.call(r,a)?r[a]:null}}function cM(t){return String(t||"").toUpperCase()}const f1={}.hasOwnProperty;function qme(t,r){const n=r||{},o=n.allowDangerousHtml||!1,a={};return d.dangerous=o,d.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,d.footnoteLabel=n.footnoteLabel||"Footnotes",d.footnoteLabelTagName=n.footnoteLabelTagName||"h2",d.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},d.footnoteBackLabel=n.footnoteBackLabel||"Back to content",d.unknownHandler=n.unknownHandler,d.passThrough=n.passThrough,d.handlers={...Nme,...n.handlers},d.definition=Ume(t),d.footnoteById=a,d.footnoteOrder=[],d.footnoteCounts={},d.patch=Vme,d.applyData=$me,d.one=h,d.all=p,d.wrap=Wme,d.augment=l,VC(t,"footnoteDefinition",g=>{const b=String(g.identifier).toUpperCase();f1.call(a,b)||(a[b]=g)}),d;function l(g,b){if(g&&"data"in g&&g.data){const v=g.data;v.hName&&(b.type!=="element"&&(b={type:"element",tagName:"",properties:{},children:[]}),b.tagName=v.hName),b.type==="element"&&v.hProperties&&(b.properties={...b.properties,...v.hProperties}),"children"in b&&b.children&&v.hChildren&&(b.children=v.hChildren)}if(g){const v="type"in g?g:{position:g};zme(v)||(b.position={start:UC(v),end:qC(v)})}return b}function d(g,b,v,y){return Array.isArray(v)&&(y=v,v={}),l(g,{type:"element",tagName:b,properties:v||{},children:y||[]})}function h(g,b){return yj(d,g,b)}function p(g){return $C(d,g)}}function Vme(t,r){t.position&&(r.position=Cme(t))}function $me(t,r){let n=r;if(t&&t.data){const o=t.data.hName,a=t.data.hChildren,l=t.data.hProperties;typeof o=="string"&&(n.type==="element"?n.tagName=o:n={type:"element",tagName:o,properties:{},children:[]}),n.type==="element"&&l&&(n.properties={...n.properties,...l}),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function yj(t,r,n){const o=r&&r.type;if(!o)throw new Error("Expected node, got `"+r+"`");return f1.call(t.handlers,o)?t.handlers[o](t,r,n):t.passThrough&&t.passThrough.includes(o)?"children"in r?{...r,children:$C(t,r)}:r:t.unknownHandler?t.unknownHandler(t,r,n):Hme(t,r)}function $C(t,r){const n=[];if("children"in r){const o=r.children;let a=-1;for(;++a<o.length;){const l=yj(t,o[a],r);if(l){if(a&&o[a-1].type==="break"&&(!Array.isArray(l)&&l.type==="text"&&(l.value=l.value.replace(/^\s+/,"")),!Array.isArray(l)&&l.type==="element")){const d=l.children[0];d&&d.type==="text"&&(d.value=d.value.replace(/^\s+/,""))}Array.isArray(l)?n.push(...l):n.push(l)}}}return n}function Hme(t,r){const n=r.data||{},o="value"in r&&!(f1.call(n,"hProperties")||f1.call(n,"hChildren"))?{type:"text",value:r.value}:{type:"element",tagName:"div",properties:{},children:$C(t,r)};return t.patch(r,o),t.applyData(r,o)}function Wme(t,r){const n=[];let o=-1;for(r&&n.push({type:"text",value:`
`});++o<t.length;)o&&n.push({type:"text",value:`
`}),n.push(t[o]);return r&&t.length>0&&n.push({type:"text",value:`
`}),n}function Gme(t){const r=[];let n=-1;for(;++n<t.footnoteOrder.length;){const o=t.footnoteById[t.footnoteOrder[n]];if(!o)continue;const a=t.all(o),l=String(o.identifier).toUpperCase(),d=Bp(l.toLowerCase());let h=0;const p=[];for(;++h<=t.footnoteCounts[l];){const v={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+d+(h>1?"-"+h:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:"↩"}]};h>1&&v.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(h)}]}),p.length>0&&p.push({type:"text",value:" "}),p.push(v)}const g=a[a.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const v=g.children[g.children.length-1];v&&v.type==="text"?v.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...p)}else a.push(...p);const b={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+d},children:t.wrap(a,!0)};t.patch(o,b),r.push(b)}if(r.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:t.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(r,!0)},{type:"text",value:`
`}]}}function vj(t,r){const n=qme(t,r),o=n.one(t,null),a=Gme(n);return a&&o.children.push({type:"text",value:`
`},a),Array.isArray(o)?{type:"root",children:o}:o}const Yme=function(t,r){return t&&"run"in t?Kme(t,r):Qme(t||r)};function Kme(t,r){return(n,o,a)=>{t.run(vj(n,r),o,l=>{a(l)})}}function Qme(t){return r=>vj(r,t)}class fb{constructor(r,n,o){this.property=r,this.normal=n,o&&(this.space=o)}}fb.prototype.property={};fb.prototype.normal={};fb.prototype.space=null;function Aj(t,r){const n={},o={};let a=-1;for(;++a<t.length;)Object.assign(n,t[a].property),Object.assign(o,t[a].normal);return new fb(n,o,r)}function A_(t){return t.toLowerCase()}class Va{constructor(r,n){this.property=r,this.attribute=n}}Va.prototype.space=null;Va.prototype.boolean=!1;Va.prototype.booleanish=!1;Va.prototype.overloadedBoolean=!1;Va.prototype.number=!1;Va.prototype.commaSeparated=!1;Va.prototype.spaceSeparated=!1;Va.prototype.commaOrSpaceSeparated=!1;Va.prototype.mustUseProperty=!1;Va.prototype.defined=!1;let Jme=0;const vn=Wh(),Ri=Wh(),_j=Wh(),Tt=Wh(),Dr=Wh(),mp=Wh(),Vs=Wh();function Wh(){return 2**++Jme}const __=Object.freeze(Object.defineProperty({__proto__:null,boolean:vn,booleanish:Ri,commaOrSpaceSeparated:Vs,commaSeparated:mp,number:Tt,overloadedBoolean:_j,spaceSeparated:Dr},Symbol.toStringTag,{value:"Module"})),yA=Object.keys(__);class HC extends Va{constructor(r,n,o,a){let l=-1;if(super(r,n),uM(this,"space",a),typeof o=="number")for(;++l<yA.length;){const d=yA[l];uM(this,yA[l],(o&__[d])===__[d])}}}HC.prototype.defined=!0;function uM(t,r,n){n&&(t[r]=n)}const Zme={}.hasOwnProperty;function Rp(t){const r={},n={};let o;for(o in t.properties)if(Zme.call(t.properties,o)){const a=t.properties[o],l=new HC(o,t.transform(t.attributes||{},o),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(o)&&(l.mustUseProperty=!0),r[o]=l,n[A_(o)]=o,n[A_(l.attribute)]=o}return new fb(r,n,t.space)}const Cj=Rp({space:"xlink",transform(t,r){return"xlink:"+r.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),xj=Rp({space:"xml",transform(t,r){return"xml:"+r.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Sj(t,r){return r in t?t[r]:r}function Ej(t,r){return Sj(t,r.toLowerCase())}const Dj=Rp({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Ej,properties:{xmlns:null,xmlnsXLink:null}}),Ij=Rp({transform(t,r){return r==="role"?r:"aria-"+r.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ri,ariaAutoComplete:null,ariaBusy:Ri,ariaChecked:Ri,ariaColCount:Tt,ariaColIndex:Tt,ariaColSpan:Tt,ariaControls:Dr,ariaCurrent:null,ariaDescribedBy:Dr,ariaDetails:null,ariaDisabled:Ri,ariaDropEffect:Dr,ariaErrorMessage:null,ariaExpanded:Ri,ariaFlowTo:Dr,ariaGrabbed:Ri,ariaHasPopup:null,ariaHidden:Ri,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Dr,ariaLevel:Tt,ariaLive:null,ariaModal:Ri,ariaMultiLine:Ri,ariaMultiSelectable:Ri,ariaOrientation:null,ariaOwns:Dr,ariaPlaceholder:null,ariaPosInSet:Tt,ariaPressed:Ri,ariaReadOnly:Ri,ariaRelevant:null,ariaRequired:Ri,ariaRoleDescription:Dr,ariaRowCount:Tt,ariaRowIndex:Tt,ariaRowSpan:Tt,ariaSelected:Ri,ariaSetSize:Tt,ariaSort:null,ariaValueMax:Tt,ariaValueMin:Tt,ariaValueNow:Tt,ariaValueText:null,role:null}}),Xme=Rp({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Ej,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:mp,acceptCharset:Dr,accessKey:Dr,action:null,allow:null,allowFullScreen:vn,allowPaymentRequest:vn,allowUserMedia:vn,alt:null,as:null,async:vn,autoCapitalize:null,autoComplete:Dr,autoFocus:vn,autoPlay:vn,blocking:Dr,capture:null,charSet:null,checked:vn,cite:null,className:Dr,cols:Tt,colSpan:null,content:null,contentEditable:Ri,controls:vn,controlsList:Dr,coords:Tt|mp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:vn,defer:vn,dir:null,dirName:null,disabled:vn,download:_j,draggable:Ri,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:vn,formTarget:null,headers:Dr,height:Tt,hidden:vn,high:Tt,href:null,hrefLang:null,htmlFor:Dr,httpEquiv:Dr,id:null,imageSizes:null,imageSrcSet:null,inert:vn,inputMode:null,integrity:null,is:null,isMap:vn,itemId:null,itemProp:Dr,itemRef:Dr,itemScope:vn,itemType:Dr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:vn,low:Tt,manifest:null,max:null,maxLength:Tt,media:null,method:null,min:null,minLength:Tt,multiple:vn,muted:vn,name:null,nonce:null,noModule:vn,noValidate:vn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:vn,optimum:Tt,pattern:null,ping:Dr,placeholder:null,playsInline:vn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:vn,referrerPolicy:null,rel:Dr,required:vn,reversed:vn,rows:Tt,rowSpan:Tt,sandbox:Dr,scope:null,scoped:vn,seamless:vn,selected:vn,shadowRootClonable:vn,shadowRootDelegatesFocus:vn,shadowRootMode:null,shape:null,size:Tt,sizes:null,slot:null,span:Tt,spellCheck:Ri,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Tt,step:null,style:null,tabIndex:Tt,target:null,title:null,translate:null,type:null,typeMustMatch:vn,useMap:null,value:Ri,width:Tt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Dr,axis:null,background:null,bgColor:null,border:Tt,borderColor:null,bottomMargin:Tt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:vn,declare:vn,event:null,face:null,frame:null,frameBorder:null,hSpace:Tt,leftMargin:Tt,link:null,longDesc:null,lowSrc:null,marginHeight:Tt,marginWidth:Tt,noResize:vn,noHref:vn,noShade:vn,noWrap:vn,object:null,profile:null,prompt:null,rev:null,rightMargin:Tt,rules:null,scheme:null,scrolling:Ri,standby:null,summary:null,text:null,topMargin:Tt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Tt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:vn,disableRemotePlayback:vn,prefix:null,property:null,results:Tt,security:null,unselectable:null}}),ege=Rp({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Sj,properties:{about:Vs,accentHeight:Tt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Tt,amplitude:Tt,arabicForm:null,ascent:Tt,attributeName:null,attributeType:null,azimuth:Tt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Tt,by:null,calcMode:null,capHeight:Tt,className:Dr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Tt,diffuseConstant:Tt,direction:null,display:null,dur:null,divisor:Tt,dominantBaseline:null,download:vn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Tt,enableBackground:null,end:null,event:null,exponent:Tt,externalResourcesRequired:null,fill:null,fillOpacity:Tt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:mp,g2:mp,glyphName:mp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Tt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Tt,horizOriginX:Tt,horizOriginY:Tt,id:null,ideographic:Tt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Tt,k:Tt,k1:Tt,k2:Tt,k3:Tt,k4:Tt,kernelMatrix:Vs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Tt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Tt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Tt,overlineThickness:Tt,paintOrder:null,panose1:null,path:null,pathLength:Tt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Dr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Tt,pointsAtY:Tt,pointsAtZ:Tt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Vs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Vs,rev:Vs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Vs,requiredFeatures:Vs,requiredFonts:Vs,requiredFormats:Vs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Tt,specularExponent:Tt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Tt,strikethroughThickness:Tt,string:null,stroke:null,strokeDashArray:Vs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Tt,strokeOpacity:Tt,strokeWidth:null,style:null,surfaceScale:Tt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Vs,tabIndex:Tt,tableValues:null,target:null,targetX:Tt,targetY:Tt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Vs,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Tt,underlineThickness:Tt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Tt,values:null,vAlphabetic:Tt,vMathematical:Tt,vectorEffect:null,vHanging:Tt,vIdeographic:Tt,version:null,vertAdvY:Tt,vertOriginX:Tt,vertOriginY:Tt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Tt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),tge=/^data[-\w.:]+$/i,dM=/-[a-z]/g,nge=/[A-Z]/g;function rge(t,r){const n=A_(r);let o=r,a=Va;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&tge.test(r)){if(r.charAt(4)==="-"){const l=r.slice(5).replace(dM,oge);o="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=r.slice(4);if(!dM.test(l)){let d=l.replace(nge,ige);d.charAt(0)!=="-"&&(d="-"+d),r="data"+d}}a=HC}return new a(o,r)}function ige(t){return"-"+t.toLowerCase()}function oge(t){return t.charAt(1).toUpperCase()}const hM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},sge=Aj([xj,Cj,Dj,Ij,Xme],"html"),age=Aj([xj,Cj,Dj,Ij,ege],"svg");function lge(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return r=>{VC(r,"element",(n,o,a)=>{const l=a;let d;if(t.allowedElements?d=!t.allowedElements.includes(n.tagName):t.disallowedElements&&(d=t.disallowedElements.includes(n.tagName)),!d&&t.allowElement&&typeof o=="number"&&(d=!t.allowElement(n,o,l)),d&&typeof o=="number")return t.unwrapDisallowed&&n.children?l.children.splice(o,1,...n.children):l.children.splice(o,1),o})}}var vA={exports:{}},ir={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fM;function cge(){if(fM)return ir;fM=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function _(D){if(typeof D=="object"&&D!==null){var E=D.$$typeof;switch(E){case t:switch(D=D.type,D){case n:case a:case o:case g:case b:return D;default:switch(D=D&&D.$$typeof,D){case h:case d:case p:case y:case v:case l:return D;default:return E}}case r:return E}}}return ir.ContextConsumer=d,ir.ContextProvider=l,ir.Element=t,ir.ForwardRef=p,ir.Fragment=n,ir.Lazy=y,ir.Memo=v,ir.Portal=r,ir.Profiler=a,ir.StrictMode=o,ir.Suspense=g,ir.SuspenseList=b,ir.isAsyncMode=function(){return!1},ir.isConcurrentMode=function(){return!1},ir.isContextConsumer=function(D){return _(D)===d},ir.isContextProvider=function(D){return _(D)===l},ir.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},ir.isForwardRef=function(D){return _(D)===p},ir.isFragment=function(D){return _(D)===n},ir.isLazy=function(D){return _(D)===y},ir.isMemo=function(D){return _(D)===v},ir.isPortal=function(D){return _(D)===r},ir.isProfiler=function(D){return _(D)===a},ir.isStrictMode=function(D){return _(D)===o},ir.isSuspense=function(D){return _(D)===g},ir.isSuspenseList=function(D){return _(D)===b},ir.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===n||D===a||D===o||D===g||D===b||D===k||typeof D=="object"&&D!==null&&(D.$$typeof===y||D.$$typeof===v||D.$$typeof===l||D.$$typeof===d||D.$$typeof===p||D.$$typeof===x||D.getModuleId!==void 0)},ir.typeOf=_,ir}var pM;function uge(){return pM||(pM=1,vA.exports=cge()),vA.exports}var dge=uge();const hge=ou(dge);function fge(t){const r=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof r=="string"&&r.replace(/[ \t\n\f\r]/g,"")===""}function pge(t){return t.join(" ").trim()}function mge(t,r){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var sk={exports:{}},AA,mM;function gge(){if(mM)return AA;mM=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,n=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,h=/^\s+|\s+$/g,p=`
`,g="/",b="*",v="",y="comment",k="declaration";AA=function(_,D){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];D=D||{};var E=1,N=1;function P(K){var j=K.match(r);j&&(E+=j.length);var ne=K.lastIndexOf(p);N=~ne?K.length-ne:N+K.length}function F(){var K={line:E,column:N};return function(j){return j.position=new V(K),B(),j}}function V(K){this.start=K,this.end={line:E,column:N},this.source=D.source}V.prototype.content=_;function $(K){var j=new Error(D.source+":"+E+":"+N+": "+K);if(j.reason=K,j.filename=D.source,j.line=E,j.column=N,j.source=_,!D.silent)throw j}function M(K){var j=K.exec(_);if(j){var ne=j[0];return P(ne),_=_.slice(ne.length),j}}function B(){M(n)}function q(K){var j;for(K=K||[];j=Q();)j!==!1&&K.push(j);return K}function Q(){var K=F();if(!(g!=_.charAt(0)||b!=_.charAt(1))){for(var j=2;v!=_.charAt(j)&&(b!=_.charAt(j)||g!=_.charAt(j+1));)++j;if(j+=2,v===_.charAt(j-1))return $("End of comment missing");var ne=_.slice(2,j-2);return N+=2,P(ne),_=_.slice(j),N+=2,K({type:y,comment:ne})}}function H(){var K=F(),j=M(o);if(j){if(Q(),!M(a))return $("property missing ':'");var ne=M(l),de=K({type:k,property:x(j[0].replace(t,v)),value:ne?x(ne[0].replace(t,v)):v});return M(d),de}}function R(){var K=[];q(K);for(var j;j=H();)j!==!1&&(K.push(j),q(K));return K}return B(),R()};function x(_){return _?_.replace(h,v):v}return AA}var gM;function bge(){if(gM)return sk.exports;gM=1;var t=gge();function r(n,o){var a=null;if(!n||typeof n!="string")return a;for(var l,d=t(n),h=typeof o=="function",p,g,b=0,v=d.length;b<v;b++)l=d[b],p=l.property,g=l.value,h?o(p,g,l):g&&(a||(a={}),a[p]=g);return a}return sk.exports=r,sk.exports.default=r,sk.exports}var kge=bge();const wge=ou(kge),C_={}.hasOwnProperty,yge=new Set(["table","thead","tbody","tfoot","tr"]);function Tj(t,r){const n=[];let o=-1,a;for(;++o<r.children.length;)a=r.children[o],a.type==="element"?n.push(vge(t,a,o,r)):a.type==="text"?(r.type!=="element"||!yge.has(r.tagName)||!fge(a))&&n.push(a.value):a.type==="raw"&&!t.options.skipHtml&&n.push(a.value);return n}function vge(t,r,n,o){const a=t.options,l=a.transformLinkUri===void 0?Nhe:a.transformLinkUri,d=t.schema,h=r.tagName,p={};let g=d,b;if(d.space==="html"&&h==="svg"&&(g=age,t.schema=g),r.properties)for(b in r.properties)C_.call(r.properties,b)&&_ge(p,b,r.properties[b],t);(h==="ol"||h==="ul")&&t.listDepth++;const v=Tj(t,r);(h==="ol"||h==="ul")&&t.listDepth--,t.schema=d;const y=r.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},k=a.components&&C_.call(a.components,h)?a.components[h]:h,x=typeof k=="string"||k===at.Fragment;if(!hge.isValidElementType(k))throw new TypeError(`Component for name \`${h}\` not defined or is not renderable`);if(p.key=n,h==="a"&&a.linkTarget&&(p.target=typeof a.linkTarget=="function"?a.linkTarget(String(p.href||""),r.children,typeof p.title=="string"?p.title:null):a.linkTarget),h==="a"&&l&&(p.href=l(String(p.href||""),r.children,typeof p.title=="string"?p.title:null)),!x&&h==="code"&&o.type==="element"&&o.tagName!=="pre"&&(p.inline=!0),!x&&(h==="h1"||h==="h2"||h==="h3"||h==="h4"||h==="h5"||h==="h6")&&(p.level=Number.parseInt(h.charAt(1),10)),h==="img"&&a.transformImageUri&&(p.src=a.transformImageUri(String(p.src||""),String(p.alt||""),typeof p.title=="string"?p.title:null)),!x&&h==="li"&&o.type==="element"){const _=Age(r);p.checked=_&&_.properties?!!_.properties.checked:null,p.index=_A(o,r),p.ordered=o.tagName==="ol"}return!x&&(h==="ol"||h==="ul")&&(p.ordered=h==="ol",p.depth=t.listDepth),(h==="td"||h==="th")&&(p.align&&(p.style||(p.style={}),p.style.textAlign=p.align,delete p.align),x||(p.isHeader=h==="th")),!x&&h==="tr"&&o.type==="element"&&(p.isHeader=o.tagName==="thead"),a.sourcePos&&(p["data-sourcepos"]=Sge(y)),!x&&a.rawSourcePos&&(p.sourcePosition=r.position),!x&&a.includeElementIndex&&(p.index=_A(o,r),p.siblingCount=_A(o)),x||(p.node=r),v.length>0?at.createElement(k,p,v):at.createElement(k,p)}function Age(t){let r=-1;for(;++r<t.children.length;){const n=t.children[r];if(n.type==="element"&&n.tagName==="input")return n}return null}function _A(t,r){let n=-1,o=0;for(;++n<t.children.length&&t.children[n]!==r;)t.children[n].type==="element"&&o++;return o}function _ge(t,r,n,o){const a=rge(o.schema,r);let l=n;l==null||l!==l||(Array.isArray(l)&&(l=a.commaSeparated?mge(l):pge(l)),a.property==="style"&&typeof l=="string"&&(l=Cge(l)),a.space&&a.property?t[C_.call(hM,a.property)?hM[a.property]:a.property]=l:a.attribute&&(t[a.attribute]=l))}function Cge(t){const r={};try{wge(t,n)}catch{}return r;function n(o,a){const l=o.slice(0,4)==="-ms-"?`ms-${o.slice(4)}`:o;r[l.replace(/-([a-z])/g,xge)]=a}}function xge(t,r){return r.toUpperCase()}function Sge(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(String).join("")}const bM={}.hasOwnProperty,Ege="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ak={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function WC(t){for(const l in ak)if(bM.call(ak,l)&&bM.call(t,l)){const d=ak[l];console.warn(`[react-markdown] Warning: please ${d.to?`use \`${d.to}\` instead of`:"remove"} \`${l}\` (see <${Ege}#${d.id}> for more info)`),delete ak[l]}const r=Khe().use(ime).use(t.remarkPlugins||[]).use(Yme,{...t.remarkRehypeOptions,allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(lge,t),n=new X8;typeof t.children=="string"?n.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const o=r.runSync(r.parse(n),n);if(o.type!=="root")throw new TypeError("Expected a `root` node");let a=at.createElement(at.Fragment,{},Tj({options:t,schema:sge,listDepth:0},o));return t.className&&(a=at.createElement("div",{className:t.className},a)),a}WC.propTypes={children:bn.string,className:bn.string,allowElement:bn.func,allowedElements:bn.arrayOf(bn.string),disallowedElements:bn.arrayOf(bn.string),unwrapDisallowed:bn.bool,remarkPlugins:bn.arrayOf(bn.oneOfType([bn.object,bn.func,bn.arrayOf(bn.oneOfType([bn.bool,bn.string,bn.object,bn.func,bn.arrayOf(bn.any)]))])),rehypePlugins:bn.arrayOf(bn.oneOfType([bn.object,bn.func,bn.arrayOf(bn.oneOfType([bn.bool,bn.string,bn.object,bn.func,bn.arrayOf(bn.any)]))])),sourcePos:bn.bool,rawSourcePos:bn.bool,skipHtml:bn.bool,includeElementIndex:bn.bool,transformLinkUri:bn.oneOfType([bn.func,bn.bool]),linkTarget:bn.oneOfType([bn.func,bn.string]),transformImageUri:bn.func,components:bn.object};function GC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function au(t){if(t.__esModule)return t;var r=t.default;if(typeof r=="function"){var n=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var a=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:function(){return t[o]}})}),n}var kM={exports:{}},rg={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wM;function Dge(){if(wM)return rg;wM=1;var t=at,r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,g){var b,v={},y=null,k=null;g!==void 0&&(y=""+g),p.key!==void 0&&(y=""+p.key),p.ref!==void 0&&(k=p.ref);for(b in p)o.call(p,b)&&!l.hasOwnProperty(b)&&(v[b]=p[b]);if(h&&h.defaultProps)for(b in p=h.defaultProps,p)v[b]===void 0&&(v[b]=p[b]);return{$$typeof:r,type:h,key:y,ref:k,props:v,_owner:a.current}}return rg.Fragment=n,rg.jsx=d,rg.jsxs=d,rg}var yM;function YC(){return yM||(yM=1,kM.exports=Dge()),kM.exports}var fn=YC(),ig={},vM={exports:{}},AM;function fw(){return AM||(AM=1,function(t){function r(n){return n&&n.__esModule?n:{default:n}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(vM)),vM.exports}var _M={};function yr(){return yr=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},yr.apply(null,arguments)}function Yu(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Nj(t){if(Y.isValidElement(t)||!Yu(t))return t;const r={};return Object.keys(t).forEach(n=>{r[n]=Nj(t[n])}),r}function uc(t,r,n={clone:!0}){const o=n.clone?yr({},t):t;return Yu(t)&&Yu(r)&&Object.keys(r).forEach(a=>{Y.isValidElement(r[a])?o[a]=r[a]:Yu(r[a])&&Object.prototype.hasOwnProperty.call(t,a)&&Yu(t[a])?o[a]=uc(t[a],r[a],n):n.clone?o[a]=Yu(r[a])?Nj(r[a]):r[a]:o[a]=r[a]}),o}const Ige=Object.freeze(Object.defineProperty({__proto__:null,default:uc,isPlainObject:Yu},Symbol.toStringTag,{value:"Module"}));function zg(t){let r="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+r+" for the full message."}const Tge=Object.freeze(Object.defineProperty({__proto__:null,default:zg},Symbol.toStringTag,{value:"Module"}));var CM={exports:{}},wr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xM;function Nge(){if(xM)return wr;xM=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),k=Symbol.for("react.client.reference");function x(_){if(typeof _=="object"&&_!==null){var D=_.$$typeof;switch(D){case t:switch(_=_.type,_){case n:case a:case o:case p:case g:return _;default:switch(_=_&&_.$$typeof,_){case d:case h:case v:case b:return _;case l:return _;default:return D}}case r:return D}}}return wr.ContextConsumer=l,wr.ContextProvider=d,wr.Element=t,wr.ForwardRef=h,wr.Fragment=n,wr.Lazy=v,wr.Memo=b,wr.Portal=r,wr.Profiler=a,wr.StrictMode=o,wr.Suspense=p,wr.SuspenseList=g,wr.isContextConsumer=function(_){return x(_)===l},wr.isContextProvider=function(_){return x(_)===d},wr.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},wr.isForwardRef=function(_){return x(_)===h},wr.isFragment=function(_){return x(_)===n},wr.isLazy=function(_){return x(_)===v},wr.isMemo=function(_){return x(_)===b},wr.isPortal=function(_){return x(_)===r},wr.isProfiler=function(_){return x(_)===a},wr.isStrictMode=function(_){return x(_)===o},wr.isSuspense=function(_){return x(_)===p},wr.isSuspenseList=function(_){return x(_)===g},wr.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===a||_===o||_===p||_===g||_===y||typeof _=="object"&&_!==null&&(_.$$typeof===v||_.$$typeof===b||_.$$typeof===d||_.$$typeof===l||_.$$typeof===h||_.$$typeof===k||_.getModuleId!==void 0)},wr.typeOf=x,wr}var SM;function Mge(){return SM||(SM=1,CM.exports=Nge()),CM.exports}var EM=Mge();const Pge=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Mj(t){const r=`${t}`.match(Pge);return r&&r[1]||""}function Pj(t,r=""){return t.displayName||t.name||Mj(t)||r}function DM(t,r,n){const o=Pj(r);return t.displayName||(o!==""?`${n}(${o})`:n)}function Oge(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return Pj(t,"Component");if(typeof t=="object")switch(t.$$typeof){case EM.ForwardRef:return DM(t,t.render,"ForwardRef");case EM.Memo:return DM(t,t.type,"memo");default:return}}}const Lge=Object.freeze(Object.defineProperty({__proto__:null,default:Oge,getFunctionName:Mj},Symbol.toStringTag,{value:"Module"}));function dd(t){if(typeof t!="string")throw new Error(zg(7));return t.charAt(0).toUpperCase()+t.slice(1)}const jge=Object.freeze(Object.defineProperty({__proto__:null,default:dd},Symbol.toStringTag,{value:"Module"}));function Bge(...t){return t.reduce((r,n)=>n==null?r:function(...o){r.apply(this,o),n.apply(this,o)},()=>{})}function Rge(t,r=166){let n;function o(...a){const l=()=>{t.apply(this,a)};clearTimeout(n),n=setTimeout(l,r)}return o.clear=()=>{clearTimeout(n)},o}function Fge(t,r){return()=>null}function zge(t,r){var n,o;return Y.isValidElement(t)&&r.indexOf((n=t.type.muiName)!=null?n:(o=t.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function Oj(t){return t&&t.ownerDocument||document}function Uge(t){return Oj(t).defaultView||window}function qge(t,r){return()=>null}function Lj(t,r){typeof t=="function"?t(r):t&&(t.current=r)}const jj=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;let IM=0;function Vge(t){const[r,n]=Y.useState(t),o=t||r;return Y.useEffect(()=>{r==null&&(IM+=1,n(`mui-${IM}`))},[r]),o}const TM=Y.useId;function $ge(t){if(TM!==void 0){const r=TM();return t??r}return Vge(t)}function Hge(t,r,n,o,a){return null}function Wge({controlled:t,default:r,name:n,state:o="value"}){const{current:a}=Y.useRef(t!==void 0),[l,d]=Y.useState(r),h=a?t:l,p=Y.useCallback(g=>{a||d(g)},[]);return[h,p]}function Gge(t){const r=Y.useRef(t);return jj(()=>{r.current=t}),Y.useRef((...n)=>(0,r.current)(...n)).current}function Yge(...t){return Y.useMemo(()=>t.every(r=>r==null)?null:r=>{t.forEach(n=>{Lj(n,r)})},t)}class KC{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new KC}start(r,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},r)}}let pw=!0,x_=!1;const Kge=new KC,Qge={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Jge(t){const{type:r,tagName:n}=t;return!!(n==="INPUT"&&Qge[r]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Zge(t){t.metaKey||t.altKey||t.ctrlKey||(pw=!0)}function CA(){pw=!1}function Xge(){this.visibilityState==="hidden"&&x_&&(pw=!0)}function ebe(t){t.addEventListener("keydown",Zge,!0),t.addEventListener("mousedown",CA,!0),t.addEventListener("pointerdown",CA,!0),t.addEventListener("touchstart",CA,!0),t.addEventListener("visibilitychange",Xge,!0)}function tbe(t){const{target:r}=t;try{return r.matches(":focus-visible")}catch{}return pw||Jge(r)}function nbe(){const t=Y.useCallback(a=>{a!=null&&ebe(a.ownerDocument)},[]),r=Y.useRef(!1);function n(){return r.current?(x_=!0,Kge.start(100,()=>{x_=!1}),r.current=!1,!0):!1}function o(a){return tbe(a)?(r.current=!0,!0):!1}return{isFocusVisibleRef:r,onFocus:o,onBlur:n,ref:t}}function S_(t,r){const n=yr({},r);return Object.keys(t).forEach(o=>{if(o.toString().match(/^(components|slots)$/))n[o]=yr({},t[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const a=t[o]||{},l=r[o];n[o]={},!l||!Object.keys(l)?n[o]=a:!a||!Object.keys(a)?n[o]=l:(n[o]=yr({},l),Object.keys(a).forEach(d=>{n[o][d]=S_(a[d],l[d])}))}else n[o]===void 0&&(n[o]=t[o])}),n}function rbe(t,r,n=void 0){const o={};return Object.keys(t).forEach(a=>{o[a]=t[a].reduce((l,d)=>{if(d){const h=r(d);h!==""&&l.push(h),n&&n[d]&&l.push(n[d])}return l},[]).join(" ")}),o}const NM=t=>t,ibe=()=>{let t=NM;return{configure(r){t=r},generate(r){return t(r)},reset(){t=NM}}},Bj=ibe(),obe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Rj(t,r,n="Mui"){const o=obe[r];return o?`${n}-${o}`:`${Bj.generate(t)}-${r}`}function sbe(t,r,n="Mui"){const o={};return r.forEach(a=>{o[a]=Rj(t,a,n)}),o}function abe(t,r=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(r,Math.min(t,n))}const lbe=Object.freeze(Object.defineProperty({__proto__:null,default:abe},Symbol.toStringTag,{value:"Module"}));function wd(t,r){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(r.includes(o))continue;n[o]=t[o]}return n}function Fj(t){var r,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(n=Fj(t[r]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function cbe(){for(var t,r,n=0,o="",a=arguments.length;n<a;n++)(t=arguments[n])&&(r=Fj(t))&&(o&&(o+=" "),o+=r);return o}const ube=Y.createContext(void 0);function dbe(t){const{theme:r,name:n,props:o}=t;if(!r||!r.components||!r.components[n])return o;const a=r.components[n];return a.defaultProps?S_(a.defaultProps,o):!a.styleOverrides&&!a.variants?S_(a,o):o}function hbe({props:t,name:r}){const n=Y.useContext(ube);return dbe({props:t,name:r,theme:{components:n}})}function fbe(t){return hbe(t)}var ch={},MM={exports:{}},PM;function pbe(){return PM||(PM=1,function(t){function r(){return t.exports=r=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var l in a)({}).hasOwnProperty.call(a,l)&&(n[l]=a[l])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,r.apply(null,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(MM)),MM.exports}var OM={exports:{}},LM;function mbe(){return LM||(LM=1,function(t){function r(n,o){if(n==null)return{};var a={};for(var l in n)if({}.hasOwnProperty.call(n,l)){if(o.includes(l))continue;a[l]=n[l]}return a}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(OM)),OM.exports}function gbe(t){if(t.sheet)return t.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===t)return document.styleSheets[r]}function bbe(t){var r=document.createElement("style");return r.setAttribute("data-emotion",t.key),t.nonce!==void 0&&r.setAttribute("nonce",t.nonce),r.appendChild(document.createTextNode("")),r.setAttribute("data-s",""),r}var kbe=function(){function t(n){var o=this;this._insertTag=function(a){var l;o.tags.length===0?o.insertionPoint?l=o.insertionPoint.nextSibling:o.prepend?l=o.container.firstChild:l=o.before:l=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(a,l),o.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var r=t.prototype;return r.hydrate=function(n){n.forEach(this._insertTag)},r.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(bbe(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=gbe(o);try{a.insertRule(n,a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},r.flush=function(){this.tags.forEach(function(n){var o;return(o=n.parentNode)==null?void 0:o.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Ro="-ms-",p1="-moz-",Jn="-webkit-",zj="comm",QC="rule",JC="decl",wbe="@import",Uj="@keyframes",ybe="@layer",vbe=Math.abs,mw=String.fromCharCode,Abe=Object.assign;function _be(t,r){return wo(t,0)^45?(((r<<2^wo(t,0))<<2^wo(t,1))<<2^wo(t,2))<<2^wo(t,3):0}function qj(t){return t.trim()}function Cbe(t,r){return(t=r.exec(t))?t[0]:t}function Zn(t,r,n){return t.replace(r,n)}function E_(t,r){return t.indexOf(r)}function wo(t,r){return t.charCodeAt(r)|0}function Ug(t,r,n){return t.slice(r,n)}function Jl(t){return t.length}function ZC(t){return t.length}function lk(t,r){return r.push(t),t}function xbe(t,r){return t.map(r).join("")}var gw=1,Ep=1,Vj=0,xs=0,Fi=0,Fp="";function bw(t,r,n,o,a,l,d){return{value:t,root:r,parent:n,type:o,props:a,children:l,line:gw,column:Ep,length:d,return:""}}function og(t,r){return Abe(bw("",null,null,"",null,null,0),t,{length:-t.length},r)}function Sbe(){return Fi}function Ebe(){return Fi=xs>0?wo(Fp,--xs):0,Ep--,Fi===10&&(Ep=1,gw--),Fi}function na(){return Fi=xs<Vj?wo(Fp,xs++):0,Ep++,Fi===10&&(Ep=1,gw++),Fi}function dc(){return wo(Fp,xs)}function Ik(){return xs}function pb(t,r){return Ug(Fp,t,r)}function qg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $j(t){return gw=Ep=1,Vj=Jl(Fp=t),xs=0,[]}function Hj(t){return Fp="",t}function Tk(t){return qj(pb(xs-1,D_(t===91?t+2:t===40?t+1:t)))}function Dbe(t){for(;(Fi=dc())&&Fi<33;)na();return qg(t)>2||qg(Fi)>3?"":" "}function Ibe(t,r){for(;--r&&na()&&!(Fi<48||Fi>102||Fi>57&&Fi<65||Fi>70&&Fi<97););return pb(t,Ik()+(r<6&&dc()==32&&na()==32))}function D_(t){for(;na();)switch(Fi){case t:return xs;case 34:case 39:t!==34&&t!==39&&D_(Fi);break;case 40:t===41&&D_(t);break;case 92:na();break}return xs}function Tbe(t,r){for(;na()&&t+Fi!==57&&!(t+Fi===84&&dc()===47););return"/*"+pb(r,xs-1)+"*"+mw(t===47?t:na())}function Nbe(t){for(;!qg(dc());)na();return pb(t,xs)}function Mbe(t){return Hj(Nk("",null,null,null,[""],t=$j(t),0,[0],t))}function Nk(t,r,n,o,a,l,d,h,p){for(var g=0,b=0,v=d,y=0,k=0,x=0,_=1,D=1,E=1,N=0,P="",F=a,V=l,$=o,M=P;D;)switch(x=N,N=na()){case 40:if(x!=108&&wo(M,v-1)==58){E_(M+=Zn(Tk(N),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:M+=Tk(N);break;case 9:case 10:case 13:case 32:M+=Dbe(x);break;case 92:M+=Ibe(Ik()-1,7);continue;case 47:switch(dc()){case 42:case 47:lk(Pbe(Tbe(na(),Ik()),r,n),p);break;default:M+="/"}break;case 123*_:h[g++]=Jl(M)*E;case 125*_:case 59:case 0:switch(N){case 0:case 125:D=0;case 59+b:E==-1&&(M=Zn(M,/\f/g,"")),k>0&&Jl(M)-v&&lk(k>32?BM(M+";",o,n,v-1):BM(Zn(M," ","")+";",o,n,v-2),p);break;case 59:M+=";";default:if(lk($=jM(M,r,n,g,b,a,h,P,F=[],V=[],v),l),N===123)if(b===0)Nk(M,r,$,$,F,l,v,h,V);else switch(y===99&&wo(M,3)===110?100:y){case 100:case 108:case 109:case 115:Nk(t,$,$,o&&lk(jM(t,$,$,0,0,a,h,P,a,F=[],v),V),a,V,v,h,o?F:V);break;default:Nk(M,$,$,$,[""],V,0,h,V)}}g=b=k=0,_=E=1,P=M="",v=d;break;case 58:v=1+Jl(M),k=x;default:if(_<1){if(N==123)--_;else if(N==125&&_++==0&&Ebe()==125)continue}switch(M+=mw(N),N*_){case 38:E=b>0?1:(M+="\f",-1);break;case 44:h[g++]=(Jl(M)-1)*E,E=1;break;case 64:dc()===45&&(M+=Tk(na())),y=dc(),b=v=Jl(P=M+=Nbe(Ik())),N++;break;case 45:x===45&&Jl(M)==2&&(_=0)}}return l}function jM(t,r,n,o,a,l,d,h,p,g,b){for(var v=a-1,y=a===0?l:[""],k=ZC(y),x=0,_=0,D=0;x<o;++x)for(var E=0,N=Ug(t,v+1,v=vbe(_=d[x])),P=t;E<k;++E)(P=qj(_>0?y[E]+" "+N:Zn(N,/&\f/g,y[E])))&&(p[D++]=P);return bw(t,r,n,a===0?QC:h,p,g,b)}function Pbe(t,r,n){return bw(t,r,n,zj,mw(Sbe()),Ug(t,2,-2),0)}function BM(t,r,n,o){return bw(t,r,n,JC,Ug(t,0,o),Ug(t,o+1,-1),o)}function gp(t,r){for(var n="",o=ZC(t),a=0;a<o;a++)n+=r(t[a],a,t,r)||"";return n}function Obe(t,r,n,o){switch(t.type){case ybe:if(t.children.length)break;case wbe:case JC:return t.return=t.return||t.value;case zj:return"";case Uj:return t.return=t.value+"{"+gp(t.children,o)+"}";case QC:t.value=t.props.join(",")}return Jl(n=gp(t.children,o))?t.return=t.value+"{"+n+"}":""}function Lbe(t){var r=ZC(t);return function(n,o,a,l){for(var d="",h=0;h<r;h++)d+=t[h](n,o,a,l)||"";return d}}function jbe(t){return function(r){r.root||(r=r.return)&&t(r)}}var Bbe=function(t,r,n){for(var o=0,a=0;o=a,a=dc(),o===38&&a===12&&(r[n]=1),!qg(a);)na();return pb(t,xs)},Rbe=function(t,r){var n=-1,o=44;do switch(qg(o)){case 0:o===38&&dc()===12&&(r[n]=1),t[n]+=Bbe(xs-1,r,n);break;case 2:t[n]+=Tk(o);break;case 4:if(o===44){t[++n]=dc()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=mw(o)}while(o=na());return t},Fbe=function(t,r){return Hj(Rbe($j(t),r))},RM=new WeakMap,zbe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,o=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!RM.get(n))&&!o){RM.set(t,!0);for(var a=[],l=Fbe(r,a),d=n.props,h=0,p=0;h<l.length;h++)for(var g=0;g<d.length;g++,p++)t.props[p]=a[h]?l[h].replace(/&\f/g,d[g]):d[g]+" "+l[h]}}},Ube=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function Wj(t,r){switch(_be(t,r)){case 5103:return Jn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Jn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Jn+t+p1+t+Ro+t+t;case 6828:case 4268:return Jn+t+Ro+t+t;case 6165:return Jn+t+Ro+"flex-"+t+t;case 5187:return Jn+t+Zn(t,/(\w+).+(:[^]+)/,Jn+"box-$1$2"+Ro+"flex-$1$2")+t;case 5443:return Jn+t+Ro+"flex-item-"+Zn(t,/flex-|-self/,"")+t;case 4675:return Jn+t+Ro+"flex-line-pack"+Zn(t,/align-content|flex-|-self/,"")+t;case 5548:return Jn+t+Ro+Zn(t,"shrink","negative")+t;case 5292:return Jn+t+Ro+Zn(t,"basis","preferred-size")+t;case 6060:return Jn+"box-"+Zn(t,"-grow","")+Jn+t+Ro+Zn(t,"grow","positive")+t;case 4554:return Jn+Zn(t,/([^-])(transform)/g,"$1"+Jn+"$2")+t;case 6187:return Zn(Zn(Zn(t,/(zoom-|grab)/,Jn+"$1"),/(image-set)/,Jn+"$1"),t,"")+t;case 5495:case 3959:return Zn(t,/(image-set\([^]*)/,Jn+"$1$`$1");case 4968:return Zn(Zn(t,/(.+:)(flex-)?(.*)/,Jn+"box-pack:$3"+Ro+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Jn+t+t;case 4095:case 3583:case 4068:case 2532:return Zn(t,/(.+)-inline(.+)/,Jn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Jl(t)-1-r>6)switch(wo(t,r+1)){case 109:if(wo(t,r+4)!==45)break;case 102:return Zn(t,/(.+:)(.+)-([^]+)/,"$1"+Jn+"$2-$3$1"+p1+(wo(t,r+3)==108?"$3":"$2-$3"))+t;case 115:return~E_(t,"stretch")?Wj(Zn(t,"stretch","fill-available"),r)+t:t}break;case 4949:if(wo(t,r+1)!==115)break;case 6444:switch(wo(t,Jl(t)-3-(~E_(t,"!important")&&10))){case 107:return Zn(t,":",":"+Jn)+t;case 101:return Zn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Jn+(wo(t,14)===45?"inline-":"")+"box$3$1"+Jn+"$2$3$1"+Ro+"$2box$3")+t}break;case 5936:switch(wo(t,r+11)){case 114:return Jn+t+Ro+Zn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Jn+t+Ro+Zn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Jn+t+Ro+Zn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Jn+t+Ro+t+t}return t}var qbe=function(t,r,n,o){if(t.length>-1&&!t.return)switch(t.type){case JC:t.return=Wj(t.value,t.length);break;case Uj:return gp([og(t,{value:Zn(t.value,"@","@"+Jn)})],o);case QC:if(t.length)return xbe(t.props,function(a){switch(Cbe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return gp([og(t,{props:[Zn(a,/:(read-\w+)/,":"+p1+"$1")]})],o);case"::placeholder":return gp([og(t,{props:[Zn(a,/:(plac\w+)/,":"+Jn+"input-$1")]}),og(t,{props:[Zn(a,/:(plac\w+)/,":"+p1+"$1")]}),og(t,{props:[Zn(a,/:(plac\w+)/,Ro+"input-$1")]})],o)}return""})}},Vbe=[qbe],$be=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(x){var _=x.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var o=t.stylisPlugins||Vbe,a={},l,d=[];l=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(x){for(var _=x.getAttribute("data-emotion").split(" "),D=1;D<_.length;D++)a[_[D]]=!0;d.push(x)});var h,p=[zbe,Ube];{var g,b=[Obe,jbe(function(x){g.insert(x)})],v=Lbe(p.concat(o,b)),y=function(x){return gp(Mbe(x),v)};h=function(x,_,D,E){g=D,y(x?x+"{"+_.styles+"}":_.styles),E&&(k.inserted[_.name]=!0)}}var k={key:r,sheet:new kbe({key:r,container:l,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:h};return k.sheet.hydrate(d),k};let I_;typeof document=="object"&&(I_=$be({key:"css",prepend:!0}));function Hbe(t){const{injectFirst:r,children:n}=t;return r&&I_?fn.jsx(SP,{value:I_,children:n}):n}function Wbe(t){return t==null||Object.keys(t).length===0}function Gbe(t){const{styles:r,defaultTheme:n={}}=t,o=typeof r=="function"?a=>r(Wbe(a)?n:a):r;return fn.jsx(EP,{styles:o})}/**
 * @mui/styled-engine v5.16.12
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Ybe(t,r){return U_(t,r)}const Kbe=(t,r)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=r(t.__emotion_styles))},Qbe=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Gbe,StyledEngineProvider:Hbe,ThemeContext:q_,css:qh,default:Ybe,internal_processStyles:Kbe,keyframes:mc},Symbol.toStringTag,{value:"Module"})),Jbe=au(Qbe),Zbe=au(Ige),Xbe=au(jge),e0e=au(Lge),t0e=["values","unit","step"],n0e=t=>{const r=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return r.sort((n,o)=>n.val-o.val),r.reduce((n,o)=>yr({},n,{[o.key]:o.val}),{})};function Gj(t){const{values:r={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=t,a=wd(t,t0e),l=n0e(r),d=Object.keys(l);function h(y){return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n})`}function p(y){return`@media (max-width:${(typeof r[y]=="number"?r[y]:y)-o/100}${n})`}function g(y,k){const x=d.indexOf(k);return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n}) and (max-width:${(x!==-1&&typeof r[d[x]]=="number"?r[d[x]]:k)-o/100}${n})`}function b(y){return d.indexOf(y)+1<d.length?g(y,d[d.indexOf(y)+1]):h(y)}function v(y){const k=d.indexOf(y);return k===0?h(d[1]):k===d.length-1?p(d[k]):g(y,d[d.indexOf(y)+1]).replace("@media","@media not all and")}return yr({keys:d,values:l,up:h,down:p,between:g,only:b,not:v,unit:n},a)}const r0e={borderRadius:4};function Cg(t,r){return r?uc(t,r,{clone:!1}):t}const XC={xs:0,sm:600,md:900,lg:1200,xl:1536},FM={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${XC[t]}px)`};function iu(t,r,n){const o=t.theme||{};if(Array.isArray(r)){const a=o.breakpoints||FM;return r.reduce((l,d,h)=>(l[a.up(a.keys[h])]=n(r[h]),l),{})}if(typeof r=="object"){const a=o.breakpoints||FM;return Object.keys(r).reduce((l,d)=>{if(Object.keys(a.values||XC).indexOf(d)!==-1){const h=a.up(d);l[h]=n(r[d],d)}else{const h=d;l[h]=r[h]}return l},{})}return n(r)}function i0e(t={}){var r;return((r=t.keys)==null?void 0:r.reduce((n,o)=>{const a=t.up(o);return n[a]={},n},{}))||{}}function o0e(t,r){return t.reduce((n,o)=>{const a=n[o];return(!a||Object.keys(a).length===0)&&delete n[o],n},r)}function kw(t,r,n=!0){if(!r||typeof r!="string")return null;if(t&&t.vars&&n){const o=`vars.${r}`.split(".").reduce((a,l)=>a&&a[l]?a[l]:null,t);if(o!=null)return o}return r.split(".").reduce((o,a)=>o&&o[a]!=null?o[a]:null,t)}function m1(t,r,n,o=n){let a;return typeof t=="function"?a=t(n):Array.isArray(t)?a=t[n]||o:a=kw(t,n)||o,r&&(a=r(a,o,t)),a}function Pi(t){const{prop:r,cssProperty:n=t.prop,themeKey:o,transform:a}=t,l=d=>{if(d[r]==null)return null;const h=d[r],p=d.theme,g=kw(p,o)||{};return iu(d,h,b=>{let v=m1(g,a,b);return b===v&&typeof b=="string"&&(v=m1(g,a,`${r}${b==="default"?"":dd(b)}`,b)),n===!1?v:{[n]:v}})};return l.propTypes={},l.filterProps=[r],l}function s0e(t){const r={};return n=>(r[n]===void 0&&(r[n]=t(n)),r[n])}const a0e={m:"margin",p:"padding"},l0e={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},zM={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c0e=s0e(t=>{if(t.length>2)if(zM[t])t=zM[t];else return[t];const[r,n]=t.split(""),o=a0e[r],a=l0e[n]||"";return Array.isArray(a)?a.map(l=>o+l):[o+a]}),e2=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],t2=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...e2,...t2];function mb(t,r,n,o){var a;const l=(a=kw(t,r,!1))!=null?a:n;return typeof l=="number"?d=>typeof d=="string"?d:l*d:Array.isArray(l)?d=>typeof d=="string"?d:l[d]:typeof l=="function"?l:()=>{}}function Yj(t){return mb(t,"spacing",8)}function gb(t,r){if(typeof r=="string"||r==null)return r;const n=Math.abs(r),o=t(n);return r>=0?o:typeof o=="number"?-o:`-${o}`}function u0e(t,r){return n=>t.reduce((o,a)=>(o[a]=gb(r,n),o),{})}function d0e(t,r,n,o){if(r.indexOf(n)===-1)return null;const a=c0e(n),l=u0e(a,o),d=t[n];return iu(t,d,l)}function Kj(t,r){const n=Yj(t.theme);return Object.keys(t).map(o=>d0e(t,r,o,n)).reduce(Cg,{})}function fi(t){return Kj(t,e2)}fi.propTypes={};fi.filterProps=e2;function pi(t){return Kj(t,t2)}pi.propTypes={};pi.filterProps=t2;function h0e(t=8){if(t.mui)return t;const r=Yj({spacing:t}),n=(...o)=>(o.length===0?[1]:o).map(a=>{const l=r(a);return typeof l=="number"?`${l}px`:l}).join(" ");return n.mui=!0,n}function ww(...t){const r=t.reduce((o,a)=>(a.filterProps.forEach(l=>{o[l]=a}),o),{}),n=o=>Object.keys(o).reduce((a,l)=>r[l]?Cg(a,r[l](o)):a,{});return n.propTypes={},n.filterProps=t.reduce((o,a)=>o.concat(a.filterProps),[]),n}function Ra(t){return typeof t!="number"?t:`${t}px solid`}function $a(t,r){return Pi({prop:t,themeKey:"borders",transform:r})}const f0e=$a("border",Ra),p0e=$a("borderTop",Ra),m0e=$a("borderRight",Ra),g0e=$a("borderBottom",Ra),b0e=$a("borderLeft",Ra),k0e=$a("borderColor"),w0e=$a("borderTopColor"),y0e=$a("borderRightColor"),v0e=$a("borderBottomColor"),A0e=$a("borderLeftColor"),_0e=$a("outline",Ra),C0e=$a("outlineColor"),yw=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const r=mb(t.theme,"shape.borderRadius",4),n=o=>({borderRadius:gb(r,o)});return iu(t,t.borderRadius,n)}return null};yw.propTypes={};yw.filterProps=["borderRadius"];ww(f0e,p0e,m0e,g0e,b0e,k0e,w0e,y0e,v0e,A0e,yw,_0e,C0e);const vw=t=>{if(t.gap!==void 0&&t.gap!==null){const r=mb(t.theme,"spacing",8),n=o=>({gap:gb(r,o)});return iu(t,t.gap,n)}return null};vw.propTypes={};vw.filterProps=["gap"];const Aw=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const r=mb(t.theme,"spacing",8),n=o=>({columnGap:gb(r,o)});return iu(t,t.columnGap,n)}return null};Aw.propTypes={};Aw.filterProps=["columnGap"];const _w=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const r=mb(t.theme,"spacing",8),n=o=>({rowGap:gb(r,o)});return iu(t,t.rowGap,n)}return null};_w.propTypes={};_w.filterProps=["rowGap"];const x0e=Pi({prop:"gridColumn"}),S0e=Pi({prop:"gridRow"}),E0e=Pi({prop:"gridAutoFlow"}),D0e=Pi({prop:"gridAutoColumns"}),I0e=Pi({prop:"gridAutoRows"}),T0e=Pi({prop:"gridTemplateColumns"}),N0e=Pi({prop:"gridTemplateRows"}),M0e=Pi({prop:"gridTemplateAreas"}),P0e=Pi({prop:"gridArea"});ww(vw,Aw,_w,x0e,S0e,E0e,D0e,I0e,T0e,N0e,M0e,P0e);function bp(t,r){return r==="grey"?r:t}const O0e=Pi({prop:"color",themeKey:"palette",transform:bp}),L0e=Pi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:bp}),j0e=Pi({prop:"backgroundColor",themeKey:"palette",transform:bp});ww(O0e,L0e,j0e);function Ys(t){return t<=1&&t!==0?`${t*100}%`:t}const B0e=Pi({prop:"width",transform:Ys}),n2=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const r=n=>{var o,a;const l=((o=t.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[n])||XC[n];return l?((a=t.theme)==null||(a=a.breakpoints)==null?void 0:a.unit)!=="px"?{maxWidth:`${l}${t.theme.breakpoints.unit}`}:{maxWidth:l}:{maxWidth:Ys(n)}};return iu(t,t.maxWidth,r)}return null};n2.filterProps=["maxWidth"];const R0e=Pi({prop:"minWidth",transform:Ys}),F0e=Pi({prop:"height",transform:Ys}),z0e=Pi({prop:"maxHeight",transform:Ys}),U0e=Pi({prop:"minHeight",transform:Ys});Pi({prop:"size",cssProperty:"width",transform:Ys});Pi({prop:"size",cssProperty:"height",transform:Ys});const q0e=Pi({prop:"boxSizing"});ww(B0e,n2,R0e,F0e,z0e,U0e,q0e);const bb={border:{themeKey:"borders",transform:Ra},borderTop:{themeKey:"borders",transform:Ra},borderRight:{themeKey:"borders",transform:Ra},borderBottom:{themeKey:"borders",transform:Ra},borderLeft:{themeKey:"borders",transform:Ra},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ra},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:yw},color:{themeKey:"palette",transform:bp},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:bp},backgroundColor:{themeKey:"palette",transform:bp},p:{style:pi},pt:{style:pi},pr:{style:pi},pb:{style:pi},pl:{style:pi},px:{style:pi},py:{style:pi},padding:{style:pi},paddingTop:{style:pi},paddingRight:{style:pi},paddingBottom:{style:pi},paddingLeft:{style:pi},paddingX:{style:pi},paddingY:{style:pi},paddingInline:{style:pi},paddingInlineStart:{style:pi},paddingInlineEnd:{style:pi},paddingBlock:{style:pi},paddingBlockStart:{style:pi},paddingBlockEnd:{style:pi},m:{style:fi},mt:{style:fi},mr:{style:fi},mb:{style:fi},ml:{style:fi},mx:{style:fi},my:{style:fi},margin:{style:fi},marginTop:{style:fi},marginRight:{style:fi},marginBottom:{style:fi},marginLeft:{style:fi},marginX:{style:fi},marginY:{style:fi},marginInline:{style:fi},marginInlineStart:{style:fi},marginInlineEnd:{style:fi},marginBlock:{style:fi},marginBlockStart:{style:fi},marginBlockEnd:{style:fi},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:vw},rowGap:{style:_w},columnGap:{style:Aw},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ys},maxWidth:{style:n2},minWidth:{transform:Ys},height:{transform:Ys},maxHeight:{transform:Ys},minHeight:{transform:Ys},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function V0e(...t){const r=t.reduce((o,a)=>o.concat(Object.keys(a)),[]),n=new Set(r);return t.every(o=>n.size===Object.keys(o).length)}function $0e(t,r){return typeof t=="function"?t(r):t}function Qj(){function t(n,o,a,l){const d={[n]:o,theme:a},h=l[n];if(!h)return{[n]:o};const{cssProperty:p=n,themeKey:g,transform:b,style:v}=h;if(o==null)return null;if(g==="typography"&&o==="inherit")return{[n]:o};const y=kw(a,g)||{};return v?v(d):iu(d,o,k=>{let x=m1(y,b,k);return k===x&&typeof k=="string"&&(x=m1(y,b,`${n}${k==="default"?"":dd(k)}`,k)),p===!1?x:{[p]:x}})}function r(n){var o;const{sx:a,theme:l={}}=n||{};if(!a)return null;const d=(o=l.unstable_sxConfig)!=null?o:bb;function h(p){let g=p;if(typeof p=="function")g=p(l);else if(typeof p!="object")return p;if(!g)return null;const b=i0e(l.breakpoints),v=Object.keys(b);let y=b;return Object.keys(g).forEach(k=>{const x=$0e(g[k],l);if(x!=null)if(typeof x=="object")if(d[k])y=Cg(y,t(k,x,l,d));else{const _=iu({theme:l},x,D=>({[k]:D}));V0e(_,x)?y[k]=r({sx:x,theme:l}):y=Cg(y,_)}else y=Cg(y,t(k,x,l,d))}),o0e(v,y)}return Array.isArray(a)?a.map(h):h(a)}return r}const Cw=Qj();Cw.filterProps=["sx"];function Jj(t,r){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:r}:n.palette.mode===t?r:{}}const H0e=["breakpoints","palette","spacing","shape"];function Zj(t={},...r){const{breakpoints:n={},palette:o={},spacing:a,shape:l={}}=t,d=wd(t,H0e),h=Gj(n),p=h0e(a);let g=uc({breakpoints:h,direction:"ltr",components:{},palette:yr({mode:"light"},o),spacing:p,shape:yr({},r0e,l)},d);return g.applyStyles=Jj,g=r.reduce((b,v)=>uc(b,v),g),g.unstable_sxConfig=yr({},bb,d==null?void 0:d.unstable_sxConfig),g.unstable_sx=function(b){return Cw({sx:b,theme:this})},g}const W0e=Object.freeze(Object.defineProperty({__proto__:null,default:Zj,private_createBreakpoints:Gj,unstable_applyStyles:Jj},Symbol.toStringTag,{value:"Module"})),G0e=au(W0e),Y0e=["sx"],K0e=t=>{var r,n;const o={systemProps:{},otherProps:{}},a=(r=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?r:bb;return Object.keys(t).forEach(l=>{a[l]?o.systemProps[l]=t[l]:o.otherProps[l]=t[l]}),o};function Q0e(t){const{sx:r}=t,n=wd(t,Y0e),{systemProps:o,otherProps:a}=K0e(n);let l;return Array.isArray(r)?l=[o,...r]:typeof r=="function"?l=(...d)=>{const h=r(...d);return Yu(h)?yr({},o,h):o}:l=yr({},o,r),yr({},a,{sx:l})}const J0e=Object.freeze(Object.defineProperty({__proto__:null,default:Cw,extendSxProp:Q0e,unstable_createStyleFunctionSx:Qj,unstable_defaultSxConfig:bb},Symbol.toStringTag,{value:"Module"})),Z0e=au(J0e);var UM;function X0e(){if(UM)return ch;UM=1;var t=fw();Object.defineProperty(ch,"__esModule",{value:!0}),ch.default=F,ch.shouldForwardProp=x,ch.systemDefaultTheme=void 0;var r=t(pbe()),n=t(mbe()),o=v(Jbe),a=Zbe;t(Xbe),t(e0e);var l=t(G0e),d=t(Z0e);const h=["ownerState"],p=["variants"],g=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function b(V){if(typeof WeakMap!="function")return null;var $=new WeakMap,M=new WeakMap;return(b=function(B){return B?M:$})(V)}function v(V,$){if(V&&V.__esModule)return V;if(V===null||typeof V!="object"&&typeof V!="function")return{default:V};var M=b($);if(M&&M.has(V))return M.get(V);var B={__proto__:null},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Q in V)if(Q!=="default"&&Object.prototype.hasOwnProperty.call(V,Q)){var H=q?Object.getOwnPropertyDescriptor(V,Q):null;H&&(H.get||H.set)?Object.defineProperty(B,Q,H):B[Q]=V[Q]}return B.default=V,M&&M.set(V,B),B}function y(V){return Object.keys(V).length===0}function k(V){return typeof V=="string"&&V.charCodeAt(0)>96}function x(V){return V!=="ownerState"&&V!=="theme"&&V!=="sx"&&V!=="as"}const _=ch.systemDefaultTheme=(0,l.default)(),D=V=>V&&V.charAt(0).toLowerCase()+V.slice(1);function E({defaultTheme:V,theme:$,themeId:M}){return y($)?V:$[M]||$}function N(V){return V?($,M)=>M[V]:null}function P(V,$){let{ownerState:M}=$,B=(0,n.default)($,h);const q=typeof V=="function"?V((0,r.default)({ownerState:M},B)):V;if(Array.isArray(q))return q.flatMap(Q=>P(Q,(0,r.default)({ownerState:M},B)));if(q&&typeof q=="object"&&Array.isArray(q.variants)){const{variants:Q=[]}=q;let H=(0,n.default)(q,p);return Q.forEach(R=>{let K=!0;typeof R.props=="function"?K=R.props((0,r.default)({ownerState:M},B,M)):Object.keys(R.props).forEach(j=>{(M==null?void 0:M[j])!==R.props[j]&&B[j]!==R.props[j]&&(K=!1)}),K&&(Array.isArray(H)||(H=[H]),H.push(typeof R.style=="function"?R.style((0,r.default)({ownerState:M},B,M)):R.style))}),H}return q}function F(V={}){const{themeId:$,defaultTheme:M=_,rootShouldForwardProp:B=x,slotShouldForwardProp:q=x}=V,Q=H=>(0,d.default)((0,r.default)({},H,{theme:E((0,r.default)({},H,{defaultTheme:M,themeId:$}))}));return Q.__mui_systemSx=!0,(H,R={})=>{(0,o.internal_processStyles)(H,we=>we.filter(Pe=>!(Pe!=null&&Pe.__mui_systemSx)));const{name:K,slot:j,skipVariantsResolver:ne,skipSx:de,overridesResolver:se=N(D(j))}=R,oe=(0,n.default)(R,g),ye=ne!==void 0?ne:j&&j!=="Root"&&j!=="root"||!1,re=de||!1;let _e,X=x;j==="Root"||j==="root"?X=B:j?X=q:k(H)&&(X=void 0);const J=(0,o.default)(H,(0,r.default)({shouldForwardProp:X,label:_e},oe)),ae=we=>typeof we=="function"&&we.__emotion_real!==we||(0,a.isPlainObject)(we)?Pe=>P(we,(0,r.default)({},Pe,{theme:E({theme:Pe.theme,defaultTheme:M,themeId:$})})):we,pe=(we,...Pe)=>{let Ie=ae(we);const Ne=Pe?Pe.map(ae):[];K&&se&&Ne.push(Je=>{const Ue=E((0,r.default)({},Je,{defaultTheme:M,themeId:$}));if(!Ue.components||!Ue.components[K]||!Ue.components[K].styleOverrides)return null;const Z=Ue.components[K].styleOverrides,Ce={};return Object.entries(Z).forEach(([ue,ge])=>{Ce[ue]=P(ge,(0,r.default)({},Je,{theme:Ue}))}),se(Je,Ce)}),K&&!ye&&Ne.push(Je=>{var Ue;const Z=E((0,r.default)({},Je,{defaultTheme:M,themeId:$})),Ce=Z==null||(Ue=Z.components)==null||(Ue=Ue[K])==null?void 0:Ue.variants;return P({variants:Ce},(0,r.default)({},Je,{theme:Z}))}),re||Ne.push(Q);const rt=Ne.length-Pe.length;if(Array.isArray(we)&&rt>0){const Je=new Array(rt).fill("");Ie=[...we,...Je],Ie.raw=[...we.raw,...Je]}const Qe=J(Ie,...Ne);return H.muiName&&(Qe.muiName=H.muiName),Qe};return J.withConfig&&(pe.withConfig=J.withConfig),pe}}return ch}var eke=X0e();const tke=GC(eke);function nke(t,r){return yr({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},r)}var ei={};const rke=au(Tge),ike=au(lbe);var qM;function oke(){if(qM)return ei;qM=1;var t=fw();Object.defineProperty(ei,"__esModule",{value:!0}),ei.alpha=x,ei.blend=$,ei.colorChannel=void 0,ei.darken=D,ei.decomposeColor=d,ei.emphasize=F,ei.getContrastRatio=k,ei.getLuminance=y,ei.hexToRgb=a,ei.hslToRgb=v,ei.lighten=N,ei.private_safeAlpha=_,ei.private_safeColorChannel=void 0,ei.private_safeDarken=E,ei.private_safeEmphasize=V,ei.private_safeLighten=P,ei.recomposeColor=g,ei.rgbToHex=b;var r=t(rke),n=t(ike);function o(M,B=0,q=1){return(0,n.default)(M,B,q)}function a(M){M=M.slice(1);const B=new RegExp(`.{1,${M.length>=6?2:1}}`,"g");let q=M.match(B);return q&&q[0].length===1&&(q=q.map(Q=>Q+Q)),q?`rgb${q.length===4?"a":""}(${q.map((Q,H)=>H<3?parseInt(Q,16):Math.round(parseInt(Q,16)/255*1e3)/1e3).join(", ")})`:""}function l(M){const B=M.toString(16);return B.length===1?`0${B}`:B}function d(M){if(M.type)return M;if(M.charAt(0)==="#")return d(a(M));const B=M.indexOf("("),q=M.substring(0,B);if(["rgb","rgba","hsl","hsla","color"].indexOf(q)===-1)throw new Error((0,r.default)(9,M));let Q=M.substring(B+1,M.length-1),H;if(q==="color"){if(Q=Q.split(" "),H=Q.shift(),Q.length===4&&Q[3].charAt(0)==="/"&&(Q[3]=Q[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(H)===-1)throw new Error((0,r.default)(10,H))}else Q=Q.split(",");return Q=Q.map(R=>parseFloat(R)),{type:q,values:Q,colorSpace:H}}const h=M=>{const B=d(M);return B.values.slice(0,3).map((q,Q)=>B.type.indexOf("hsl")!==-1&&Q!==0?`${q}%`:q).join(" ")};ei.colorChannel=h;const p=(M,B)=>{try{return h(M)}catch{return M}};ei.private_safeColorChannel=p;function g(M){const{type:B,colorSpace:q}=M;let{values:Q}=M;return B.indexOf("rgb")!==-1?Q=Q.map((H,R)=>R<3?parseInt(H,10):H):B.indexOf("hsl")!==-1&&(Q[1]=`${Q[1]}%`,Q[2]=`${Q[2]}%`),B.indexOf("color")!==-1?Q=`${q} ${Q.join(" ")}`:Q=`${Q.join(", ")}`,`${B}(${Q})`}function b(M){if(M.indexOf("#")===0)return M;const{values:B}=d(M);return`#${B.map((q,Q)=>l(Q===3?Math.round(255*q):q)).join("")}`}function v(M){M=d(M);const{values:B}=M,q=B[0],Q=B[1]/100,H=B[2]/100,R=Q*Math.min(H,1-H),K=(de,se=(de+q/30)%12)=>H-R*Math.max(Math.min(se-3,9-se,1),-1);let j="rgb";const ne=[Math.round(K(0)*255),Math.round(K(8)*255),Math.round(K(4)*255)];return M.type==="hsla"&&(j+="a",ne.push(B[3])),g({type:j,values:ne})}function y(M){M=d(M);let B=M.type==="hsl"||M.type==="hsla"?d(v(M)).values:M.values;return B=B.map(q=>(M.type!=="color"&&(q/=255),q<=.03928?q/12.92:((q+.055)/1.055)**2.4)),Number((.2126*B[0]+.7152*B[1]+.0722*B[2]).toFixed(3))}function k(M,B){const q=y(M),Q=y(B);return(Math.max(q,Q)+.05)/(Math.min(q,Q)+.05)}function x(M,B){return M=d(M),B=o(B),(M.type==="rgb"||M.type==="hsl")&&(M.type+="a"),M.type==="color"?M.values[3]=`/${B}`:M.values[3]=B,g(M)}function _(M,B,q){try{return x(M,B)}catch{return M}}function D(M,B){if(M=d(M),B=o(B),M.type.indexOf("hsl")!==-1)M.values[2]*=1-B;else if(M.type.indexOf("rgb")!==-1||M.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)M.values[q]*=1-B;return g(M)}function E(M,B,q){try{return D(M,B)}catch{return M}}function N(M,B){if(M=d(M),B=o(B),M.type.indexOf("hsl")!==-1)M.values[2]+=(100-M.values[2])*B;else if(M.type.indexOf("rgb")!==-1)for(let q=0;q<3;q+=1)M.values[q]+=(255-M.values[q])*B;else if(M.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)M.values[q]+=(1-M.values[q])*B;return g(M)}function P(M,B,q){try{return N(M,B)}catch{return M}}function F(M,B=.15){return y(M)>.5?D(M,B):N(M,B)}function V(M,B,q){try{return F(M,B)}catch{return M}}function $(M,B,q,Q=1){const H=(ne,de)=>Math.round((ne**(1/Q)*(1-q)+de**(1/Q)*q)**Q),R=d(M),K=d(B),j=[H(R.values[0],K.values[0]),H(R.values[1],K.values[1]),H(R.values[2],K.values[2])];return g({type:"rgb",values:j})}return ei}var T_=oke();const Vg={black:"#000",white:"#fff"},ske={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Wf={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Gf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},sg={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Yf={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Kf={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Qf={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},ake=["mode","contrastThreshold","tonalOffset"],VM={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Vg.white,default:Vg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},xA={text:{primary:Vg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Vg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function $M(t,r,n,o){const a=o.light||o,l=o.dark||o*1.5;t[r]||(t.hasOwnProperty(n)?t[r]=t[n]:r==="light"?t.light=T_.lighten(t.main,a):r==="dark"&&(t.dark=T_.darken(t.main,l)))}function lke(t="light"){return t==="dark"?{main:Yf[200],light:Yf[50],dark:Yf[400]}:{main:Yf[700],light:Yf[400],dark:Yf[800]}}function cke(t="light"){return t==="dark"?{main:Wf[200],light:Wf[50],dark:Wf[400]}:{main:Wf[500],light:Wf[300],dark:Wf[700]}}function uke(t="light"){return t==="dark"?{main:Gf[500],light:Gf[300],dark:Gf[700]}:{main:Gf[700],light:Gf[400],dark:Gf[800]}}function dke(t="light"){return t==="dark"?{main:Kf[400],light:Kf[300],dark:Kf[700]}:{main:Kf[700],light:Kf[500],dark:Kf[900]}}function hke(t="light"){return t==="dark"?{main:Qf[400],light:Qf[300],dark:Qf[700]}:{main:Qf[800],light:Qf[500],dark:Qf[900]}}function fke(t="light"){return t==="dark"?{main:sg[400],light:sg[300],dark:sg[700]}:{main:"#ed6c02",light:sg[500],dark:sg[900]}}function pke(t){const{mode:r="light",contrastThreshold:n=3,tonalOffset:o=.2}=t,a=wd(t,ake),l=t.primary||lke(r),d=t.secondary||cke(r),h=t.error||uke(r),p=t.info||dke(r),g=t.success||hke(r),b=t.warning||fke(r);function v(x){return T_.getContrastRatio(x,xA.text.primary)>=n?xA.text.primary:VM.text.primary}const y=({color:x,name:_,mainShade:D=500,lightShade:E=300,darkShade:N=700})=>{if(x=yr({},x),!x.main&&x[D]&&(x.main=x[D]),!x.hasOwnProperty("main"))throw new Error(zg(11,_?` (${_})`:"",D));if(typeof x.main!="string")throw new Error(zg(12,_?` (${_})`:"",JSON.stringify(x.main)));return $M(x,"light",E,o),$M(x,"dark",N,o),x.contrastText||(x.contrastText=v(x.main)),x},k={dark:xA,light:VM};return uc(yr({common:yr({},Vg),mode:r,primary:y({color:l,name:"primary"}),secondary:y({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:h,name:"error"}),warning:y({color:b,name:"warning"}),info:y({color:p,name:"info"}),success:y({color:g,name:"success"}),grey:ske,contrastThreshold:n,getContrastText:v,augmentColor:y,tonalOffset:o},k[r]),a)}const mke=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function gke(t){return Math.round(t*1e5)/1e5}const HM={textTransform:"uppercase"},WM='"Roboto", "Helvetica", "Arial", sans-serif';function bke(t,r){const n=typeof r=="function"?r(t):r,{fontFamily:o=WM,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:d=400,fontWeightMedium:h=500,fontWeightBold:p=700,htmlFontSize:g=16,allVariants:b,pxToRem:v}=n,y=wd(n,mke),k=a/14,x=v||(E=>`${E/g*k}rem`),_=(E,N,P,F,V)=>yr({fontFamily:o,fontWeight:E,fontSize:x(N),lineHeight:P},o===WM?{letterSpacing:`${gke(F/N)}em`}:{},V,b),D={h1:_(l,96,1.167,-1.5),h2:_(l,60,1.2,-.5),h3:_(d,48,1.167,0),h4:_(d,34,1.235,.25),h5:_(d,24,1.334,0),h6:_(h,20,1.6,.15),subtitle1:_(d,16,1.75,.15),subtitle2:_(h,14,1.57,.1),body1:_(d,16,1.5,.15),body2:_(d,14,1.43,.15),button:_(h,14,1.75,.4,HM),caption:_(d,12,1.66,.4),overline:_(d,12,2.66,1,HM),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return uc(yr({htmlFontSize:g,pxToRem:x,fontFamily:o,fontSize:a,fontWeightLight:l,fontWeightRegular:d,fontWeightMedium:h,fontWeightBold:p},D),y,{clone:!1})}const kke=.2,wke=.14,yke=.12;function Ur(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${kke})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${wke})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${yke})`].join(",")}const vke=["none",Ur(0,2,1,-1,0,1,1,0,0,1,3,0),Ur(0,3,1,-2,0,2,2,0,0,1,5,0),Ur(0,3,3,-2,0,3,4,0,0,1,8,0),Ur(0,2,4,-1,0,4,5,0,0,1,10,0),Ur(0,3,5,-1,0,5,8,0,0,1,14,0),Ur(0,3,5,-1,0,6,10,0,0,1,18,0),Ur(0,4,5,-2,0,7,10,1,0,2,16,1),Ur(0,5,5,-3,0,8,10,1,0,3,14,2),Ur(0,5,6,-3,0,9,12,1,0,3,16,2),Ur(0,6,6,-3,0,10,14,1,0,4,18,3),Ur(0,6,7,-4,0,11,15,1,0,4,20,3),Ur(0,7,8,-4,0,12,17,2,0,5,22,4),Ur(0,7,8,-4,0,13,19,2,0,5,24,4),Ur(0,7,9,-4,0,14,21,2,0,5,26,4),Ur(0,8,9,-5,0,15,22,2,0,6,28,5),Ur(0,8,10,-5,0,16,24,2,0,6,30,5),Ur(0,8,11,-5,0,17,26,2,0,6,32,5),Ur(0,9,11,-5,0,18,28,2,0,7,34,6),Ur(0,9,12,-6,0,19,29,2,0,7,36,6),Ur(0,10,13,-6,0,20,31,3,0,8,38,7),Ur(0,10,13,-6,0,21,33,3,0,8,40,7),Ur(0,10,14,-6,0,22,35,3,0,8,42,7),Ur(0,11,14,-7,0,23,36,3,0,9,44,8),Ur(0,11,15,-7,0,24,38,3,0,9,46,8)],Ake=["duration","easing","delay"],_ke={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Cke={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function GM(t){return`${Math.round(t)}ms`}function xke(t){if(!t)return 0;const r=t/36;return Math.round((4+15*r**.25+r/5)*10)}function Ske(t){const r=yr({},_ke,t.easing),n=yr({},Cke,t.duration);return yr({getAutoHeightDuration:xke,create:(o=["all"],a={})=>{const{duration:l=n.standard,easing:d=r.easeInOut,delay:h=0}=a;return wd(a,Ake),(Array.isArray(o)?o:[o]).map(p=>`${p} ${typeof l=="string"?l:GM(l)} ${d} ${typeof h=="string"?h:GM(h)}`).join(",")}},t,{easing:r,duration:n})}const Eke={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Dke=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ike(t={},...r){const{mixins:n={},palette:o={},transitions:a={},typography:l={}}=t,d=wd(t,Dke);if(t.vars)throw new Error(zg(18));const h=pke(o),p=Zj(t);let g=uc(p,{mixins:nke(p.breakpoints,n),palette:h,shadows:vke.slice(),typography:bke(h,l),transitions:Ske(a),zIndex:yr({},Eke)});return g=uc(g,d),g=r.reduce((b,v)=>uc(b,v),g),g.unstable_sxConfig=yr({},bb,d==null?void 0:d.unstable_sxConfig),g.unstable_sx=function(b){return Cw({sx:b,theme:this})},g}const Tke=Ike(),Nke="$$material";function Mke(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Pke=t=>Mke(t)&&t!=="classes",Oke=tke({themeId:Nke,defaultTheme:Tke,rootShouldForwardProp:Pke});function Lke(t){return Rj("MuiSvgIcon",t)}sbe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const jke=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Bke=t=>{const{color:r,fontSize:n,classes:o}=t,a={root:["root",r!=="inherit"&&`color${dd(r)}`,`fontSize${dd(n)}`]};return rbe(a,Lke,o)},Rke=Oke("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.color!=="inherit"&&r[`color${dd(n.color)}`],r[`fontSize${dd(n.fontSize)}`]]}})(({theme:t,ownerState:r})=>{var n,o,a,l,d,h,p,g,b,v,y,k,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:r.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(o=n.create)==null?void 0:o.call(n,"fill",{duration:(a=t.transitions)==null||(a=a.duration)==null?void 0:a.shorter}),fontSize:{inherit:"inherit",small:((l=t.typography)==null||(d=l.pxToRem)==null?void 0:d.call(l,20))||"1.25rem",medium:((h=t.typography)==null||(p=h.pxToRem)==null?void 0:p.call(h,24))||"1.5rem",large:((g=t.typography)==null||(b=g.pxToRem)==null?void 0:b.call(g,35))||"2.1875rem"}[r.fontSize],color:(v=(y=(t.vars||t).palette)==null||(y=y[r.color])==null?void 0:y.main)!=null?v:{action:(k=(t.vars||t).palette)==null||(k=k.action)==null?void 0:k.active,disabled:(x=(t.vars||t).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[r.color]}}),N_=Y.forwardRef(function(t,r){const n=fbe({props:t,name:"MuiSvgIcon"}),{children:o,className:a,color:l="inherit",component:d="svg",fontSize:h="medium",htmlColor:p,inheritViewBox:g=!1,titleAccess:b,viewBox:v="0 0 24 24"}=n,y=wd(n,jke),k=Y.isValidElement(o)&&o.type==="svg",x=yr({},n,{color:l,component:d,fontSize:h,instanceFontSize:t.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:k}),_={};g||(_.viewBox=v);const D=Bke(x);return fn.jsxs(Rke,yr({as:d,className:cbe(D.root,a),focusable:"false",color:p,"aria-hidden":b?void 0:!0,role:b?"img":void 0,ref:r},_,y,k&&o.props,{ownerState:x,children:[k?o.props.children:o,b?fn.jsx("title",{children:b}):null]}))});N_.muiName="SvgIcon";function Fke(t,r){function n(o,a){return fn.jsx(N_,yr({"data-testid":`${r}Icon`,ref:a},o,{children:t}))}return n.muiName=N_.muiName,Y.memo(Y.forwardRef(n))}const zke={configure:t=>{Bj.configure(t)}},Uke=Object.freeze(Object.defineProperty({__proto__:null,capitalize:dd,createChainedFunction:Bge,createSvgIcon:Fke,debounce:Rge,deprecatedPropType:Fge,isMuiElement:zge,ownerDocument:Oj,ownerWindow:Uge,requirePropFactory:qge,setRef:Lj,unstable_ClassNameGenerator:zke,unstable_useEnhancedEffect:jj,unstable_useId:$ge,unsupportedProp:Hge,useControlled:Wge,useEventCallback:Gge,useForkRef:Yge,useIsFocusVisible:nbe},Symbol.toStringTag,{value:"Module"})),qke=au(Uke);var YM;function Xj(){return YM||(YM=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=qke}(_M)),_M}var KM;function Vke(){if(KM)return ig;KM=1;var t=fw();Object.defineProperty(ig,"__esModule",{value:!0}),ig.default=void 0;var r=t(Xj()),n=YC();return ig.default=(0,r.default)((0,n.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),ig}var $ke=Vke();const Hke=GC($ke),SA={chatToggleButton:{position:"fixed",bottom:20,right:20,bgcolor:"#CDDAFF",color:"white",width:60,height:60,borderRadius:"50%",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.3)","&:hover":{bgcolor:"#0B53C0"},transition:"background-color 0.3s, transform 0.3s","&:active":{transform:"scale(0.95)"}},chatContainer:(t,r)=>({position:"fixed",bottom:t?0:20,right:t?0:20,width:t?"80%":r?"60%":650,height:t?"50%":r?"55%":700,padding:t?1:2,display:"flex",flexDirection:"column",borderRadius:t?0:"16px",backgroundColor:"#F0F4FF",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"}),chatHeader:{fontFamily:"Staatliches, Arial, sans-serif",fontWeight:"bold",color:"black",fontSize:"1.25rem"},chatMessageInput:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif",borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}},chatMessageBox:{maxWidth:"70%",borderRadius:"15px",padding:1,paddingX:2,boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)","&.user":{bgcolor:"#f0f0f0",color:"#555",alignSelf:"flex-end"},"&.bot":{bgcolor:"#CDDAFF",color:"black",alignSelf:"flex-start","&:hover":{bgcolor:"#0B53C0",color:"white"}}},chatButtons:{backgroundColor:"#CDDAFF",color:"black",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",color:"white"}}},Wke=({responses:t})=>fn.jsx(dl,{sx:{flexGrow:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:2,padding:2,backgroundColor:"transparent"},children:t.length>0?t.map((r,n)=>fn.jsxs(dl,{sx:{display:"flex",flexDirection:"column",alignItems:r.question?"flex-end":"flex-start"},children:[r.question&&fn.jsx(dl,{sx:{maxWidth:"70%",bgcolor:"#f0f0f0",color:"#555",borderRadius:"15px",p:1,px:2,mb:2,alignSelf:"flex-end",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},children:fn.jsx(Mh,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"#555"},children:r.question})}),(r.answer||r.text)&&fn.jsx(dl,{sx:{maxWidth:"70%",bgcolor:"#CDDAFF",color:"black",borderRadius:"15px",p:1,px:2,alignSelf:"flex-start",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",mb:.3,"&:hover":{bgcolor:"#0B53C0",color:"white"}},children:fn.jsx(Mh,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"inherit",transition:"color 0.3s ease"},children:fn.jsx(WC,{children:r.answer||r.text})})})]},n)):fn.jsx(Mh,{variant:"body2",sx:{textAlign:"center",color:"#6c757d",fontFamily:"Gabarito, Arial, sans-serif"},children:"No messages yet. Start the conversation!"})}),Gke=({onSendMessage:t,onStartConversation:r,onEndConversation:n,conversationId:o})=>{const[a,l]=Y.useState(""),d=()=>{a.trim()&&(t(a),l(""))},h=()=>{o||r()},p=()=>{o&&n()};return fn.jsxs(dl,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[fn.jsxs(dl,{sx:{display:"flex",gap:1},children:[fn.jsx(The,{variant:"outlined",placeholder:"Type your message...",fullWidth:!0,size:"small",value:a,onChange:g=>l(g.target.value),onKeyDown:g=>{g.key==="Enter"&&d()},sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}}}),fn.jsx(wg,{variant:"contained",onClick:d,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"Send"})]}),o?fn.jsx(wg,{variant:"outlined",onClick:p,sx:{color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none",borderColor:"#CDDAFF","&:hover":{borderColor:"#0B53C0",color:"#0B53C0"}},children:"END CONVERSATION"}):fn.jsx(wg,{variant:"contained",onClick:h,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"START CONVERSATION"})]})};var ag={},QM;function Yke(){if(QM)return ag;QM=1;var t=fw();Object.defineProperty(ag,"__esModule",{value:!0}),ag.default=void 0;var r=t(Xj()),n=YC();return ag.default=(0,r.default)((0,n.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ag}var Kke=Yke();const Qke=GC(Kke);function eB(t,r){return function(){return t.apply(r,arguments)}}const{toString:Jke}=Object.prototype,{getPrototypeOf:r2}=Object,xw=(t=>r=>{const n=Jke.call(r);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kl=t=>(t=t.toLowerCase(),r=>xw(r)===t),Sw=t=>r=>typeof r===t,{isArray:zp}=Array,$g=Sw("undefined");function Zke(t){return t!==null&&!$g(t)&&t.constructor!==null&&!$g(t.constructor)&&ra(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const tB=kl("ArrayBuffer");function Xke(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&tB(t.buffer),r}const e1e=Sw("string"),ra=Sw("function"),nB=Sw("number"),Ew=t=>t!==null&&typeof t=="object",t1e=t=>t===!0||t===!1,Mk=t=>{if(xw(t)!=="object")return!1;const r=r2(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},n1e=kl("Date"),r1e=kl("File"),i1e=kl("Blob"),o1e=kl("FileList"),s1e=t=>Ew(t)&&ra(t.pipe),a1e=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||ra(t.append)&&((r=xw(t))==="formdata"||r==="object"&&ra(t.toString)&&t.toString()==="[object FormData]"))},l1e=kl("URLSearchParams"),[c1e,u1e,d1e,h1e]=["ReadableStream","Request","Response","Headers"].map(kl),f1e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kb(t,r,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let o,a;if(typeof t!="object"&&(t=[t]),zp(t))for(o=0,a=t.length;o<a;o++)r.call(null,t[o],o,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),d=l.length;let h;for(o=0;o<d;o++)h=l[o],r.call(null,t[h],h,t)}}function rB(t,r){r=r.toLowerCase();const n=Object.keys(t);let o=n.length,a;for(;o-- >0;)if(a=n[o],r===a.toLowerCase())return a;return null}const Ah=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iB=t=>!$g(t)&&t!==Ah;function M_(){const{caseless:t}=iB(this)&&this||{},r={},n=(o,a)=>{const l=t&&rB(r,a)||a;Mk(r[l])&&Mk(o)?r[l]=M_(r[l],o):Mk(o)?r[l]=M_({},o):zp(o)?r[l]=o.slice():r[l]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&kb(arguments[o],n);return r}const p1e=(t,r,n,{allOwnKeys:o}={})=>(kb(r,(a,l)=>{n&&ra(a)?t[l]=eB(a,n):t[l]=a},{allOwnKeys:o}),t),m1e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),g1e=(t,r,n,o)=>{t.prototype=Object.create(r.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),n&&Object.assign(t.prototype,n)},b1e=(t,r,n,o)=>{let a,l,d;const h={};if(r=r||{},t==null)return r;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)d=a[l],(!o||o(d,t,r))&&!h[d]&&(r[d]=t[d],h[d]=!0);t=n!==!1&&r2(t)}while(t&&(!n||n(t,r))&&t!==Object.prototype);return r},k1e=(t,r,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=r.length;const o=t.indexOf(r,n);return o!==-1&&o===n},w1e=t=>{if(!t)return null;if(zp(t))return t;let r=t.length;if(!nB(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=t[r];return n},y1e=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&r2(Uint8Array)),v1e=(t,r)=>{const n=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=n.next())&&!o.done;){const a=o.value;r.call(t,a[0],a[1])}},A1e=(t,r)=>{let n;const o=[];for(;(n=t.exec(r))!==null;)o.push(n);return o},_1e=kl("HTMLFormElement"),C1e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),JM=(({hasOwnProperty:t})=>(r,n)=>t.call(r,n))(Object.prototype),x1e=kl("RegExp"),oB=(t,r)=>{const n=Object.getOwnPropertyDescriptors(t),o={};kb(n,(a,l)=>{let d;(d=r(a,l,t))!==!1&&(o[l]=d||a)}),Object.defineProperties(t,o)},S1e=t=>{oB(t,(r,n)=>{if(ra(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=t[n];if(ra(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},E1e=(t,r)=>{const n={},o=a=>{a.forEach(l=>{n[l]=!0})};return zp(t)?o(t):o(String(t).split(r)),n},D1e=()=>{},I1e=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r,EA="abcdefghijklmnopqrstuvwxyz",ZM="0123456789",sB={DIGIT:ZM,ALPHA:EA,ALPHA_DIGIT:EA+EA.toUpperCase()+ZM},T1e=(t=16,r=sB.ALPHA_DIGIT)=>{let n="";const{length:o}=r;for(;t--;)n+=r[Math.random()*o|0];return n};function N1e(t){return!!(t&&ra(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const M1e=t=>{const r=new Array(10),n=(o,a)=>{if(Ew(o)){if(r.indexOf(o)>=0)return;if(!("toJSON"in o)){r[a]=o;const l=zp(o)?[]:{};return kb(o,(d,h)=>{const p=n(d,a+1);!$g(p)&&(l[h]=p)}),r[a]=void 0,l}}return o};return n(t,0)},P1e=kl("AsyncFunction"),O1e=t=>t&&(Ew(t)||ra(t))&&ra(t.then)&&ra(t.catch),aB=((t,r)=>t?setImmediate:r?((n,o)=>(Ah.addEventListener("message",({source:a,data:l})=>{a===Ah&&l===n&&o.length&&o.shift()()},!1),a=>{o.push(a),Ah.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ra(Ah.postMessage)),L1e=typeof queueMicrotask<"u"?queueMicrotask.bind(Ah):typeof process<"u"&&process.nextTick||aB,ut={isArray:zp,isArrayBuffer:tB,isBuffer:Zke,isFormData:a1e,isArrayBufferView:Xke,isString:e1e,isNumber:nB,isBoolean:t1e,isObject:Ew,isPlainObject:Mk,isReadableStream:c1e,isRequest:u1e,isResponse:d1e,isHeaders:h1e,isUndefined:$g,isDate:n1e,isFile:r1e,isBlob:i1e,isRegExp:x1e,isFunction:ra,isStream:s1e,isURLSearchParams:l1e,isTypedArray:y1e,isFileList:o1e,forEach:kb,merge:M_,extend:p1e,trim:f1e,stripBOM:m1e,inherits:g1e,toFlatObject:b1e,kindOf:xw,kindOfTest:kl,endsWith:k1e,toArray:w1e,forEachEntry:v1e,matchAll:A1e,isHTMLForm:_1e,hasOwnProperty:JM,hasOwnProp:JM,reduceDescriptors:oB,freezeMethods:S1e,toObjectSet:E1e,toCamelCase:C1e,noop:D1e,toFiniteNumber:I1e,findKey:rB,global:Ah,isContextDefined:iB,ALPHABET:sB,generateString:T1e,isSpecCompliantForm:N1e,toJSONObject:M1e,isAsyncFn:P1e,isThenable:O1e,setImmediate:aB,asap:L1e};function _n(t,r,n,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}ut.inherits(_n,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ut.toJSONObject(this.config),code:this.code,status:this.status}}});const lB=_n.prototype,cB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{cB[t]={value:t}});Object.defineProperties(_n,cB);Object.defineProperty(lB,"isAxiosError",{value:!0});_n.from=(t,r,n,o,a,l)=>{const d=Object.create(lB);return ut.toFlatObject(t,d,function(h){return h!==Error.prototype},h=>h!=="isAxiosError"),_n.call(d,t.message,r,n,o,a),d.cause=t,d.name=t.name,l&&Object.assign(d,l),d};const j1e=null;function P_(t){return ut.isPlainObject(t)||ut.isArray(t)}function uB(t){return ut.endsWith(t,"[]")?t.slice(0,-2):t}function XM(t,r,n){return t?t.concat(r).map(function(o,a){return o=uB(o),!n&&a?"["+o+"]":o}).join(n?".":""):r}function B1e(t){return ut.isArray(t)&&!t.some(P_)}const R1e=ut.toFlatObject(ut,{},null,function(t){return/^is[A-Z]/.test(t)});function Dw(t,r,n){if(!ut.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,n=ut.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,x){return!ut.isUndefined(x[k])});const o=n.metaTokens,a=n.visitor||g,l=n.dots,d=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&ut.isSpecCompliantForm(r);if(!ut.isFunction(a))throw new TypeError("visitor must be a function");function p(k){if(k===null)return"";if(ut.isDate(k))return k.toISOString();if(!h&&ut.isBlob(k))throw new _n("Blob is not supported. Use a Buffer instead.");return ut.isArrayBuffer(k)||ut.isTypedArray(k)?h&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function g(k,x,_){let D=k;if(k&&!_&&typeof k=="object"){if(ut.endsWith(x,"{}"))x=o?x:x.slice(0,-2),k=JSON.stringify(k);else if(ut.isArray(k)&&B1e(k)||(ut.isFileList(k)||ut.endsWith(x,"[]"))&&(D=ut.toArray(k)))return x=uB(x),D.forEach(function(E,N){!(ut.isUndefined(E)||E===null)&&r.append(d===!0?XM([x],N,l):d===null?x:x+"[]",p(E))}),!1}return P_(k)?!0:(r.append(XM(_,x,l),p(k)),!1)}const b=[],v=Object.assign(R1e,{defaultVisitor:g,convertValue:p,isVisitable:P_});function y(k,x){if(!ut.isUndefined(k)){if(b.indexOf(k)!==-1)throw Error("Circular reference detected in "+x.join("."));b.push(k),ut.forEach(k,function(_,D){(!(ut.isUndefined(_)||_===null)&&a.call(r,_,ut.isString(D)?D.trim():D,x,v))===!0&&y(_,x?x.concat(D):[D])}),b.pop()}}if(!ut.isObject(t))throw new TypeError("data must be an object");return y(t),r}function eP(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return r[n]})}function i2(t,r){this._pairs=[],t&&Dw(t,this,r)}const dB=i2.prototype;dB.append=function(t,r){this._pairs.push([t,r])};dB.toString=function(t){const r=t?function(n){return t.call(this,n,eP)}:eP;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function F1e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hB(t,r,n){if(!r)return t;const o=n&&n.encode||F1e;ut.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(r,n):l=ut.isURLSearchParams(r)?r.toString():new i2(r,n).toString(o),l){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class tP{constructor(){this.handlers=[]}use(r,n,o){return this.handlers.push({fulfilled:r,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ut.forEach(this.handlers,function(n){n!==null&&r(n)})}}const fB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},z1e=typeof URLSearchParams<"u"?URLSearchParams:i2,U1e=typeof FormData<"u"?FormData:null,q1e=typeof Blob<"u"?Blob:null,V1e={isBrowser:!0,classes:{URLSearchParams:z1e,FormData:U1e,Blob:q1e},protocols:["http","https","file","blob","url","data"]},o2=typeof window<"u"&&typeof document<"u",O_=typeof navigator=="object"&&navigator||void 0,$1e=o2&&(!O_||["ReactNative","NativeScript","NS"].indexOf(O_.product)<0),H1e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",W1e=o2&&window.location.href||"http://localhost",G1e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:o2,hasStandardBrowserEnv:$1e,hasStandardBrowserWebWorkerEnv:H1e,navigator:O_,origin:W1e},Symbol.toStringTag,{value:"Module"})),qo={...G1e,...V1e};function Y1e(t,r){return Dw(t,new qo.classes.URLSearchParams,Object.assign({visitor:function(n,o,a,l){return qo.isNode&&ut.isBuffer(n)?(this.append(o,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},r))}function K1e(t){return ut.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Q1e(t){const r={},n=Object.keys(t);let o;const a=n.length;let l;for(o=0;o<a;o++)l=n[o],r[l]=t[l];return r}function pB(t){function r(n,o,a,l){let d=n[l++];if(d==="__proto__")return!0;const h=Number.isFinite(+d),p=l>=n.length;return d=!d&&ut.isArray(a)?a.length:d,p?(ut.hasOwnProp(a,d)?a[d]=[a[d],o]:a[d]=o,!h):((!a[d]||!ut.isObject(a[d]))&&(a[d]=[]),r(n,o,a[d],l)&&ut.isArray(a[d])&&(a[d]=Q1e(a[d])),!h)}if(ut.isFormData(t)&&ut.isFunction(t.entries)){const n={};return ut.forEachEntry(t,(o,a)=>{r(K1e(o),a,n,0)}),n}return null}function J1e(t,r,n){if(ut.isString(t))try{return(r||JSON.parse)(t),ut.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(0,JSON.stringify)(t)}const wb={transitional:fB,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,a=ut.isObject(t);if(a&&ut.isHTMLForm(t)&&(t=new FormData(t)),ut.isFormData(t))return o?JSON.stringify(pB(t)):t;if(ut.isArrayBuffer(t)||ut.isBuffer(t)||ut.isStream(t)||ut.isFile(t)||ut.isBlob(t)||ut.isReadableStream(t))return t;if(ut.isArrayBufferView(t))return t.buffer;if(ut.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Y1e(t,this.formSerializer).toString();if((l=ut.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Dw(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),J1e(t)):t}],transformResponse:[function(t){const r=this.transitional||wb.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(ut.isResponse(t)||ut.isReadableStream(t))return t;if(t&&ut.isString(t)&&(n&&!this.responseType||o)){const a=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?_n.from(l,_n.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qo.classes.FormData,Blob:qo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ut.forEach(["delete","get","head","post","put","patch"],t=>{wb.headers[t]={}});const Z1e=ut.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),X1e=t=>{const r={};let n,o,a;return t&&t.split(`
`).forEach(function(l){a=l.indexOf(":"),n=l.substring(0,a).trim().toLowerCase(),o=l.substring(a+1).trim(),!(!n||r[n]&&Z1e[n])&&(n==="set-cookie"?r[n]?r[n].push(o):r[n]=[o]:r[n]=r[n]?r[n]+", "+o:o)}),r},nP=Symbol("internals");function lg(t){return t&&String(t).trim().toLowerCase()}function Pk(t){return t===!1||t==null?t:ut.isArray(t)?t.map(Pk):String(t)}function ewe(t){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)r[o[1]]=o[2];return r}const twe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function DA(t,r,n,o,a){if(ut.isFunction(o))return o.call(this,r,n);if(a&&(r=n),!!ut.isString(r)){if(ut.isString(o))return r.indexOf(o)!==-1;if(ut.isRegExp(o))return o.test(r)}}function nwe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,o)=>n.toUpperCase()+o)}function rwe(t,r){const n=ut.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+n,{value:function(a,l,d){return this[o].call(this,r,a,l,d)},configurable:!0})})}class As{constructor(r){r&&this.set(r)}set(r,n,o){const a=this;function l(h,p,g){const b=lg(p);if(!b)throw new Error("header name must be a non-empty string");const v=ut.findKey(a,b);(!v||a[v]===void 0||g===!0||g===void 0&&a[v]!==!1)&&(a[v||p]=Pk(h))}const d=(h,p)=>ut.forEach(h,(g,b)=>l(g,b,p));if(ut.isPlainObject(r)||r instanceof this.constructor)d(r,n);else if(ut.isString(r)&&(r=r.trim())&&!twe(r))d(X1e(r),n);else if(ut.isHeaders(r))for(const[h,p]of r.entries())l(p,h,o);else r!=null&&l(n,r,o);return this}get(r,n){if(r=lg(r),r){const o=ut.findKey(this,r);if(o){const a=this[o];if(!n)return a;if(n===!0)return ewe(a);if(ut.isFunction(n))return n.call(this,a,o);if(ut.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=lg(r),r){const o=ut.findKey(this,r);return!!(o&&this[o]!==void 0&&(!n||DA(this,this[o],o,n)))}return!1}delete(r,n){const o=this;let a=!1;function l(d){if(d=lg(d),d){const h=ut.findKey(o,d);h&&(!n||DA(o,o[h],h,n))&&(delete o[h],a=!0)}}return ut.isArray(r)?r.forEach(l):l(r),a}clear(r){const n=Object.keys(this);let o=n.length,a=!1;for(;o--;){const l=n[o];(!r||DA(this,this[l],l,r,!0))&&(delete this[l],a=!0)}return a}normalize(r){const n=this,o={};return ut.forEach(this,(a,l)=>{const d=ut.findKey(o,l);if(d){n[d]=Pk(a),delete n[l];return}const h=r?nwe(l):String(l).trim();h!==l&&delete n[l],n[h]=Pk(a),o[h]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return ut.forEach(this,(o,a)=>{o!=null&&o!==!1&&(n[a]=r&&ut.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const o=new this(r);return n.forEach(a=>o.set(a)),o}static accessor(r){const n=(this[nP]=this[nP]={accessors:{}}).accessors,o=this.prototype;function a(l){const d=lg(l);n[d]||(rwe(o,l),n[d]=!0)}return ut.isArray(r)?r.forEach(a):a(r),this}}As.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ut.reduceDescriptors(As.prototype,({value:t},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(o){this[n]=o}}});ut.freezeMethods(As);function IA(t,r){const n=this||wb,o=r||n,a=As.from(o.headers);let l=o.data;return ut.forEach(t,function(d){l=d.call(n,l,a.normalize(),r?r.status:void 0)}),a.normalize(),l}function mB(t){return!!(t&&t.__CANCEL__)}function Up(t,r,n){_n.call(this,t??"canceled",_n.ERR_CANCELED,r,n),this.name="CanceledError"}ut.inherits(Up,_n,{__CANCEL__:!0});function gB(t,r,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):r(new _n("Request failed with status code "+n.status,[_n.ERR_BAD_REQUEST,_n.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function iwe(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function owe(t,r){t=t||10;const n=new Array(t),o=new Array(t);let a=0,l=0,d;return r=r!==void 0?r:1e3,function(h){const p=Date.now(),g=o[l];d||(d=p),n[a]=h,o[a]=p;let b=l,v=0;for(;b!==a;)v+=n[b++],b=b%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),p-d<r)return;const y=g&&p-g;return y?Math.round(v*1e3/y):void 0}}function swe(t,r){let n=0,o=1e3/r,a,l;const d=(h,p=Date.now())=>{n=p,a=null,l&&(clearTimeout(l),l=null),t.apply(null,h)};return[(...h)=>{const p=Date.now(),g=p-n;g>=o?d(h,p):(a=h,l||(l=setTimeout(()=>{l=null,d(a)},o-g)))},()=>a&&d(a)]}const g1=(t,r,n=3)=>{let o=0;const a=owe(50,250);return swe(l=>{const d=l.loaded,h=l.lengthComputable?l.total:void 0,p=d-o,g=a(p),b=d<=h;o=d;const v={loaded:d,total:h,progress:h?d/h:void 0,bytes:p,rate:g||void 0,estimated:g&&h&&b?(h-d)/g:void 0,event:l,lengthComputable:h!=null,[r?"download":"upload"]:!0};t(v)},n)},rP=(t,r)=>{const n=t!=null;return[o=>r[0]({lengthComputable:n,total:t,loaded:o}),r[1]]},iP=t=>(...r)=>ut.asap(()=>t(...r)),awe=qo.hasStandardBrowserEnv?((t,r)=>n=>(n=new URL(n,qo.origin),t.protocol===n.protocol&&t.host===n.host&&(r||t.port===n.port)))(new URL(qo.origin),qo.navigator&&/(msie|trident)/i.test(qo.navigator.userAgent)):()=>!0,lwe=qo.hasStandardBrowserEnv?{write(t,r,n,o,a,l){const d=[t+"="+encodeURIComponent(r)];ut.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),ut.isString(o)&&d.push("path="+o),ut.isString(a)&&d.push("domain="+a),l===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function cwe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function uwe(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function bB(t,r){return t&&!cwe(r)?uwe(t,r):r}const oP=t=>t instanceof As?{...t}:t;function Uh(t,r){r=r||{};const n={};function o(g,b,v,y){return ut.isPlainObject(g)&&ut.isPlainObject(b)?ut.merge.call({caseless:y},g,b):ut.isPlainObject(b)?ut.merge({},b):ut.isArray(b)?b.slice():b}function a(g,b,v,y){if(ut.isUndefined(b)){if(!ut.isUndefined(g))return o(void 0,g,v,y)}else return o(g,b,v,y)}function l(g,b){if(!ut.isUndefined(b))return o(void 0,b)}function d(g,b){if(ut.isUndefined(b)){if(!ut.isUndefined(g))return o(void 0,g)}else return o(void 0,b)}function h(g,b,v){if(v in r)return o(g,b);if(v in t)return o(void 0,g)}const p={url:l,method:l,data:l,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:h,headers:(g,b,v)=>a(oP(g),oP(b),v,!0)};return ut.forEach(Object.keys(Object.assign({},t,r)),function(g){const b=p[g]||a,v=b(t[g],r[g],g);ut.isUndefined(v)&&b!==h||(n[g]=v)}),n}const kB=t=>{const r=Uh({},t);let{data:n,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:l,headers:d,auth:h}=r;r.headers=d=As.from(d),r.url=hB(bB(r.baseURL,r.url),t.params,t.paramsSerializer),h&&d.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(ut.isFormData(n)){if(qo.hasStandardBrowserEnv||qo.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((p=d.getContentType())!==!1){const[g,...b]=p?p.split(";").map(v=>v.trim()).filter(Boolean):[];d.setContentType([g||"multipart/form-data",...b].join("; "))}}if(qo.hasStandardBrowserEnv&&(o&&ut.isFunction(o)&&(o=o(r)),o||o!==!1&&awe(r.url))){const g=a&&l&&lwe.read(l);g&&d.set(a,g)}return r},dwe=typeof XMLHttpRequest<"u",hwe=dwe&&function(t){return new Promise(function(r,n){const o=kB(t);let a=o.data;const l=As.from(o.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:p}=o,g,b,v,y,k;function x(){y&&y(),k&&k(),o.cancelToken&&o.cancelToken.unsubscribe(g),o.signal&&o.signal.removeEventListener("abort",g)}let _=new XMLHttpRequest;_.open(o.method.toUpperCase(),o.url,!0),_.timeout=o.timeout;function D(){if(!_)return;const N=As.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),P={data:!d||d==="text"||d==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:N,config:t,request:_};gB(function(F){r(F),x()},function(F){n(F),x()},P),_=null}"onloadend"in _?_.onloadend=D:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(D)},_.onabort=function(){_&&(n(new _n("Request aborted",_n.ECONNABORTED,t,_)),_=null)},_.onerror=function(){n(new _n("Network Error",_n.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let N=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const P=o.transitional||fB;o.timeoutErrorMessage&&(N=o.timeoutErrorMessage),n(new _n(N,P.clarifyTimeoutError?_n.ETIMEDOUT:_n.ECONNABORTED,t,_)),_=null},a===void 0&&l.setContentType(null),"setRequestHeader"in _&&ut.forEach(l.toJSON(),function(N,P){_.setRequestHeader(P,N)}),ut.isUndefined(o.withCredentials)||(_.withCredentials=!!o.withCredentials),d&&d!=="json"&&(_.responseType=o.responseType),p&&([v,k]=g1(p,!0),_.addEventListener("progress",v)),h&&_.upload&&([b,y]=g1(h),_.upload.addEventListener("progress",b),_.upload.addEventListener("loadend",y)),(o.cancelToken||o.signal)&&(g=N=>{_&&(n(!N||N.type?new Up(null,t,_):N),_.abort(),_=null)},o.cancelToken&&o.cancelToken.subscribe(g),o.signal&&(o.signal.aborted?g():o.signal.addEventListener("abort",g)));const E=iwe(o.url);if(E&&qo.protocols.indexOf(E)===-1){n(new _n("Unsupported protocol "+E+":",_n.ERR_BAD_REQUEST,t));return}_.send(a||null)})},fwe=(t,r)=>{const{length:n}=t=t?t.filter(Boolean):[];if(r||n){let o=new AbortController,a;const l=function(g){if(!a){a=!0,h();const b=g instanceof Error?g:this.reason;o.abort(b instanceof _n?b:new Up(b instanceof Error?b.message:b))}};let d=r&&setTimeout(()=>{d=null,l(new _n(`timeout ${r} of ms exceeded`,_n.ETIMEDOUT))},r);const h=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),t=null)};t.forEach(g=>g.addEventListener("abort",l));const{signal:p}=o;return p.unsubscribe=()=>ut.asap(h),p}},pwe=function*(t,r){let n=t.byteLength;if(n<r){yield t;return}let o=0,a;for(;o<n;)a=o+r,yield t.slice(o,a),o=a},mwe=async function*(t,r){for await(const n of gwe(t))yield*pwe(n,r)},gwe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:n,value:o}=await r.read();if(n)break;yield o}}finally{await r.cancel()}},sP=(t,r,n,o)=>{const a=mwe(t,r);let l=0,d,h=p=>{d||(d=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:g,value:b}=await a.next();if(g){h(),p.close();return}let v=b.byteLength;if(n){let y=l+=v;n(y)}p.enqueue(new Uint8Array(b))}catch(g){throw h(g),g}},cancel(p){return h(p),a.return()}},{highWaterMark:2})},Iw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wB=Iw&&typeof ReadableStream=="function",bwe=Iw&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),yB=(t,...r)=>{try{return!!t(...r)}catch{return!1}},kwe=wB&&yB(()=>{let t=!1;const r=new Request(qo.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),aP=64*1024,L_=wB&&yB(()=>ut.isReadableStream(new Response("").body)),b1={stream:L_&&(t=>t.body)};Iw&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!b1[r]&&(b1[r]=ut.isFunction(t[r])?n=>n[r]():(n,o)=>{throw new _n(`Response type '${r}' is not supported`,_n.ERR_NOT_SUPPORT,o)})})})(new Response);const wwe=async t=>{if(t==null)return 0;if(ut.isBlob(t))return t.size;if(ut.isSpecCompliantForm(t))return(await new Request(qo.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ut.isArrayBufferView(t)||ut.isArrayBuffer(t))return t.byteLength;if(ut.isURLSearchParams(t)&&(t=t+""),ut.isString(t))return(await bwe(t)).byteLength},ywe=async(t,r)=>ut.toFiniteNumber(t.getContentLength())??wwe(r),vwe=Iw&&(async t=>{let{url:r,method:n,data:o,signal:a,cancelToken:l,timeout:d,onDownloadProgress:h,onUploadProgress:p,responseType:g,headers:b,withCredentials:v="same-origin",fetchOptions:y}=kB(t);g=g?(g+"").toLowerCase():"text";let k=fwe([a,l&&l.toAbortSignal()],d),x;const _=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let D;try{if(p&&kwe&&n!=="get"&&n!=="head"&&(D=await ywe(b,o))!==0){let V=new Request(r,{method:"POST",body:o,duplex:"half"}),$;if(ut.isFormData(o)&&($=V.headers.get("content-type"))&&b.setContentType($),V.body){const[M,B]=rP(D,g1(iP(p)));o=sP(V.body,aP,M,B)}}ut.isString(v)||(v=v?"include":"omit");const E="credentials"in Request.prototype;x=new Request(r,{...y,signal:k,method:n.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:E?v:void 0});let N=await fetch(x);const P=L_&&(g==="stream"||g==="response");if(L_&&(h||P&&_)){const V={};["status","statusText","headers"].forEach(q=>{V[q]=N[q]});const $=ut.toFiniteNumber(N.headers.get("content-length")),[M,B]=h&&rP($,g1(iP(h),!0))||[];N=new Response(sP(N.body,aP,M,()=>{B&&B(),_&&_()}),V)}g=g||"text";let F=await b1[ut.findKey(b1,g)||"text"](N,t);return!P&&_&&_(),await new Promise((V,$)=>{gB(V,$,{data:F,headers:As.from(N.headers),status:N.status,statusText:N.statusText,config:t,request:x})})}catch(E){throw _&&_(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new _n("Network Error",_n.ERR_NETWORK,t,x),{cause:E.cause||E}):_n.from(E,E&&E.code,t,x)}}),j_={http:j1e,xhr:hwe,fetch:vwe};ut.forEach(j_,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const lP=t=>`- ${t}`,Awe=t=>ut.isFunction(t)||t===null||t===!1,vB={getAdapter:t=>{t=ut.isArray(t)?t:[t];const{length:r}=t;let n,o;const a={};for(let l=0;l<r;l++){n=t[l];let d;if(o=n,!Awe(n)&&(o=j_[(d=String(n)).toLowerCase()],o===void 0))throw new _n(`Unknown adapter '${d}'`);if(o)break;a[d||"#"+l]=o}if(!o){const l=Object.entries(a).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=r?l.length>1?`since :
`+l.map(lP).join(`
`):" "+lP(l[0]):"as no adapter specified";throw new _n("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:j_};function TA(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Up(null,t)}function cP(t){return TA(t),t.headers=As.from(t.headers),t.data=IA.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),vB.getAdapter(t.adapter||wb.adapter)(t).then(function(r){return TA(t),r.data=IA.call(t,t.transformResponse,r),r.headers=As.from(r.headers),r},function(r){return mB(r)||(TA(t),r&&r.response&&(r.response.data=IA.call(t,t.transformResponse,r.response),r.response.headers=As.from(r.response.headers))),Promise.reject(r)})}const AB="1.7.9",Tw={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{Tw[t]=function(n){return typeof n===t||"a"+(r<1?"n ":" ")+t}});const uP={};Tw.transitional=function(t,r,n){function o(a,l){return"[Axios v"+AB+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,d)=>{if(t===!1)throw new _n(o(l," has been removed"+(r?" in "+r:"")),_n.ERR_DEPRECATED);return r&&!uP[l]&&(uP[l]=!0,console.warn(o(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,l,d):!0}};Tw.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function _we(t,r,n){if(typeof t!="object")throw new _n("options must be an object",_n.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let a=o.length;for(;a-- >0;){const l=o[a],d=r[l];if(d){const h=t[l],p=h===void 0||d(h,l,t);if(p!==!0)throw new _n("option "+l+" must be "+p,_n.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new _n("Unknown option "+l,_n.ERR_BAD_OPTION)}}const Ok={assertOptions:_we,validators:Tw},Hl=Ok.validators;class Ph{constructor(r){this.defaults=r,this.interceptors={request:new tP,response:new tP}}async request(r,n){try{return await this._request(r,n)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?l&&!String(o.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+l):o.stack=l}catch{}}throw o}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=Uh(this.defaults,n);const{transitional:o,paramsSerializer:a,headers:l}=n;o!==void 0&&Ok.assertOptions(o,{silentJSONParsing:Hl.transitional(Hl.boolean),forcedJSONParsing:Hl.transitional(Hl.boolean),clarifyTimeoutError:Hl.transitional(Hl.boolean)},!1),a!=null&&(ut.isFunction(a)?n.paramsSerializer={serialize:a}:Ok.assertOptions(a,{encode:Hl.function,serialize:Hl.function},!0)),Ok.assertOptions(n,{baseUrl:Hl.spelling("baseURL"),withXsrfToken:Hl.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=l&&ut.merge(l.common,l[n.method]);l&&ut.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),n.headers=As.concat(d,l);const h=[];let p=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(p=p&&x.synchronous,h.unshift(x.fulfilled,x.rejected))});const g=[];this.interceptors.response.forEach(function(x){g.push(x.fulfilled,x.rejected)});let b,v=0,y;if(!p){const x=[cP.bind(this),void 0];for(x.unshift.apply(x,h),x.push.apply(x,g),y=x.length,b=Promise.resolve(n);v<y;)b=b.then(x[v++],x[v++]);return b}y=h.length;let k=n;for(v=0;v<y;){const x=h[v++],_=h[v++];try{k=x(k)}catch(D){_.call(this,D);break}}try{b=cP.call(this,k)}catch(x){return Promise.reject(x)}for(v=0,y=g.length;v<y;)b=b.then(g[v++],g[v++]);return b}getUri(r){r=Uh(this.defaults,r);const n=bB(r.baseURL,r.url);return hB(n,r.params,r.paramsSerializer)}}ut.forEach(["delete","get","head","options"],function(t){Ph.prototype[t]=function(r,n){return this.request(Uh(n||{},{method:t,url:r,data:(n||{}).data}))}});ut.forEach(["post","put","patch"],function(t){function r(n){return function(o,a,l){return this.request(Uh(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Ph.prototype[t]=r(),Ph.prototype[t+"Form"]=r(!0)});class s2{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const o=this;this.promise.then(a=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](a);o._listeners=null}),this.promise.then=a=>{let l;const d=new Promise(h=>{o.subscribe(h),l=h}).then(a);return d.cancel=function(){o.unsubscribe(l)},d},r(function(a,l,d){o.reason||(o.reason=new Up(a,l,d),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=o=>{r.abort(o)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new s2(function(n){r=n}),cancel:r}}}function Cwe(t){return function(r){return t.apply(null,r)}}function xwe(t){return ut.isObject(t)&&t.isAxiosError===!0}const B_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(B_).forEach(([t,r])=>{B_[r]=t});function _B(t){const r=new Ph(t),n=eB(Ph.prototype.request,r);return ut.extend(n,Ph.prototype,r,{allOwnKeys:!0}),ut.extend(n,r,null,{allOwnKeys:!0}),n.create=function(o){return _B(Uh(t,o))},n}const ri=_B(wb);ri.Axios=Ph;ri.CanceledError=Up;ri.CancelToken=s2;ri.isCancel=mB;ri.VERSION=AB;ri.toFormData=Dw;ri.AxiosError=_n;ri.Cancel=ri.CanceledError;ri.all=function(t){return Promise.all(t)};ri.spread=Cwe;ri.isAxiosError=xwe;ri.mergeConfig=Uh;ri.AxiosHeaders=As;ri.formToJSON=t=>pB(ut.isHTMLForm(t)?new FormData(t):t);ri.getAdapter=vB.getAdapter;ri.HttpStatusCode=B_;ri.default=ri;const Swe=async t=>{const r=new FormData;r.append("chatbot_id",t);try{const n=await ri.post("https://rag-flask-api.onrender.com/start_conversation",r,{headers:{"Content-Type":"multipart/form-data"}}),{conversation_id:o,intro_message:a}=n.data;if(!o)throw new Error("Failed to retrieve conversation ID from server.");return{conversationId:o,introMessage:a}}catch(n){throw console.error("Error starting conversation:",n),n}},Ewe=async(t,r,n)=>{const o=new FormData;o.append("chatbot_id",t),o.append("conversation_id",r),o.append("question",n);try{return(await ri.post("https://rag-flask-api.onrender.com/ask",o,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error sending message:",a),a}},Dwe=async(t,r)=>{const n=new FormData;n.append("chatbot_id",t),n.append("conversation_id",r);try{await ri.post("https://rag-flask-api.onrender.com/end_conversation",n,{headers:{"Content-Type":"multipart/form-data"}})}catch(o){throw console.error("Error ending conversation:",o),o}},Iwe=async t=>{try{const r=await ri.get(`https://rag-flask-api.onrender.com/summary/${t}`);if(r.status===200&&r.data.summary)return r.data.summary;throw new Error("Summary not found for this chatbot.")}catch(r){throw console.error("Error fetching summary:",r),r}},Twe=({chatbotId:t,open:r,onClose:n})=>{const[o,a]=Y.useState(null),[l,d]=Y.useState(!1),[h,p]=Y.useState(null),g=async()=>{d(!0),p(null);try{const b=await Iwe(t);a(b)}catch(b){p(b.message||"Failed to fetch summary. Please try again.")}finally{d(!1)}};return Y.useEffect(()=>{r&&g()},[r]),fn.jsx(H8,{open:r,onClose:n,"aria-labelledby":"summary-modal-title","aria-describedby":"summary-modal-description",children:fn.jsxs(dl,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:600,bgcolor:"background.paper",borderRadius:4,boxShadow:24,p:4},children:[fn.jsxs(dl,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[fn.jsx(Mh,{id:"summary-modal-title",variant:"h6",component:"h2",children:"Document Summary"}),fn.jsx(f_,{onClick:n,children:fn.jsx(Qke,{})})]}),l?fn.jsx(dl,{sx:{display:"flex",justifyContent:"center",my:4},children:fn.jsx(mue,{})}):h?fn.jsx(Mh,{color:"error",children:h}):fn.jsx(dl,{sx:{maxHeight:300,overflowY:"auto",padding:2,border:"1px solid #ddd",borderRadius:2,backgroundColor:"#f9f9f9"},children:fn.jsx(WC,{children:o})}),fn.jsx(wg,{variant:"contained",sx:{mt:2},onClick:n,fullWidth:!0,children:"Close"})]})})},Nwe=Y.forwardRef(({chatbotId:t,onConversationStart:r},n)=>{const[o,a]=Y.useState(!1),[l,d]=Y.useState(()=>{const $=localStorage.getItem("responses");return $?JSON.parse($):[]}),[h,p]=Y.useState(()=>localStorage.getItem("conversationId")||null),[g,b]=Y.useState(!1),[v,y]=Y.useState(null),[k,x]=Y.useState(!1),_=V6("(max-width:600px)"),D=V6("(min-width:601px) and (max-width:960px)"),E=Y.useRef(null);Y.useEffect(()=>{typeof r=="function"&&h&&r(h)},[h,r]),Y.useEffect(()=>{E.current&&E.current.scrollIntoView({behavior:"smooth"})},[l]);const N=async()=>{a($=>!$),!o&&!h&&!g&&P()},P=async()=>{if(!h){b(!0),y(null);try{const $=await Swe(t),{conversationId:M,introMessage:B}=$;p(M),localStorage.setItem("conversationId",M),d(q=>{const Q=[...q,{id:"intro",sender:"chatbot",text:B}];return localStorage.setItem("responses",JSON.stringify(Q)),Q})}catch($){console.error("Error starting conversation:",$),y("Failed to start a conversation. Please try again.")}finally{b(!1)}}},F=async($,M=h)=>{b(!0),y(null);try{const B=await Ewe(t,M,$);d(q=>{const Q=[...q,{question:$,answer:B.answer}];return localStorage.setItem("responses",JSON.stringify(Q)),Q})}catch(B){console.error("Error sending message:",B),y("Failed to send the message. Please try again.")}finally{b(!1)}},V=async()=>{b(!0),y(null);try{h&&await Dwe(t,h),p(null),d([]),localStorage.removeItem("conversationId"),localStorage.removeItem("responses")}catch($){console.error("Error ending conversation:",$),y("Failed to end the conversation. Please try again.")}finally{b(!1)}};return Y.useImperativeHandle(n,()=>({endConversation:V})),fn.jsx(fn.Fragment,{children:o?fn.jsxs(q8,{elevation:3,sx:SA.chatContainer(_,D),children:[fn.jsxs(dl,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[fn.jsx(Mh,{sx:SA.chatHeader,children:"PAT (Personalized Academic Tutor)"}),fn.jsx(f_,{onClick:N,sx:{color:"black"},children:"X"})]}),fn.jsx(Wke,{responses:l}),fn.jsx("div",{ref:E}),g&&fn.jsx(Cde,{sx:{position:"absolute",top:0,left:0,width:"100%"}}),v&&fn.jsx(Mh,{color:"error",children:v}),fn.jsx(Gke,{onSendMessage:F,onStartConversation:P,onEndConversation:V,conversationId:h}),fn.jsx(wg,{variant:"outlined",onClick:()=>x(!0),sx:{mt:2},children:"View Summary"}),fn.jsx(Twe,{chatbotId:t,open:k,onClose:()=>x(!1)})]}):fn.jsx(f_,{onClick:N,sx:SA.chatToggleButton,children:fn.jsx(Hke,{fontSize:"large"})})})});class Mwe extends Y.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(r){console.error("Error caught by ErrorBoundary:",r)}render(){return this.state.hasError?C.jsx("h2",{children:"Something went wrong while loading the Chatbot."}):this.props.children}}const CB=Y.forwardRef(({chatbotId:t},r)=>{const{userDetails:n}=Ti(),o=Y.useRef(null),a=async l=>{if(console.log("🤖 Chatbot started. Conversation ID:",l),n!=null&&n.uid)try{await IP(yn(HP,"conversations",l),{conversationId:l,chatbotId:t,userId:n.uid,startedAt:new Date().toISOString()},{merge:!0}),console.log("Conversation saved to Firestore")}catch(d){console.error("Failed to save conversation:",d)}};return Y.useImperativeHandle(r,()=>({endConversation:()=>{o.current&&(console.log("Ending chatbot conversation..."),o.current.endConversation())}})),C.jsx(Mwe,{children:C.jsx(Nwe,{ref:o,chatbotId:t,onConversationStart:a})})});CB.displayName="ChatbotWrapper";const ck="256599ed-a0a2-496f-990d-c51faaefd71a",Pwe=()=>{const[t,r]=Y.useState(ck),[n]=_1(),o=Y.useRef(null);return Y.useEffect(()=>{const a=n.get("material");if(!a){t!==ck&&r(ck);return}(async()=>{var b;console.log("Fetching chatbot ID for material:",a);const d=er(),h=Yn(d,"chatbots"),p=Dp(h,Gg("material.id","==",a)),g=await xo(p);if(g.empty)console.log("No chatbot found for material, using default."),r(ck);else{const v=g.docs[0].data();console.log("Found chatbot ID:",v.chatbotId),v.chatbotId!==t&&((b=o.current)==null||b.endConversation()),r(v.chatbotId)}})()},[n,t]),C.jsx(Le,{sx:{position:"fixed",bottom:16,right:16,zIndex:1100},children:C.jsx(CB,{ref:o,chatbotId:t})})},Owe=()=>{const{notifications:t,removeNotification:r}=KP();return t.length===0?null:C.jsx(Le,{sx:{position:"fixed",top:16,right:16,zIndex:9999,maxWidth:400,display:"flex",flexDirection:"column",gap:1},children:t.map(n=>C.jsx(R_,{in:!0,timeout:300,children:C.jsx(Rn,{elevation:6,children:C.jsxs(Sr,{severity:n.type,sx:{width:"100%","& .MuiAlert-action":{alignItems:"flex-start",padding:"4px 0 0 16px"}},action:C.jsx(or,{size:"small",onClick:()=>r(n.id),sx:{color:"inherit"},children:C.jsx(GW,{fontSize:"small"})}),children:[n.title&&C.jsx(WW,{sx:{fontWeight:"bold",mb:.5},children:n.title}),n.message,n.actions&&n.actions.length>0&&C.jsx(Le,{sx:{mt:1.5,display:"flex",gap:1,flexWrap:"wrap"},children:n.actions.map((o,a)=>C.jsx(xt,{size:"small",variant:o.primary?"contained":"outlined",color:n.type==="error"?"error":"primary",onClick:()=>{o.action(),r(n.id)},sx:{minWidth:"auto",fontSize:"0.75rem",padding:"2px 8px"},children:o.label},a))})]})})},n.id))})},Lwe=()=>{const{userDetails:t,isSuperAdmin:r}=Ti(),n=bse(t,r);return qG(n)},jwe=()=>{const{userDetails:t,loading:r}=Ti();if(r)return C.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:C.jsx(qr,{})});const n="/nexlab",o=!!(t!=null&&t.uid);return C.jsxs(YW,{theme:kse,children:[C.jsx(KW,{}),C.jsxs(sY,{basename:n,children:[o&&C.jsx(g8,{}),C.jsx("div",{className:"content",children:C.jsx(Y.Suspense,{fallback:C.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:C.jsx(qr,{})}),children:C.jsx(Lwe,{})})}),C.jsx(xse,{}),C.jsx(yse,{}),o&&C.jsx(Pwe,{}),C.jsx(Owe,{})]})]})},Bwe=document.getElementById("root"),Rwe=fG.createRoot(Bwe);Rwe.render(C.jsx(at.StrictMode,{children:C.jsx(pY,{children:C.jsx(jwe,{})})}));export{uO as B,kO as C,Ki as _,$P as a,Ti as b,HP as c,bO as d,_1 as e,fr as f,EK as g,DK as h,lO as i,IK as j,$we as m,tse as r,Vr as u,aO as v};
