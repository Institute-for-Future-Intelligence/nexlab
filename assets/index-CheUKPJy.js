const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-QVMK1ZxG.js","assets/vendor-DeqkGhWy.js","assets/index-DlpswmMY.js","assets/MaterialImportWrapper-wAsUdezV.js","assets/ui-H5uQ0MBd.js","assets/firebase-DlMVyB9t.js","assets/index.es-C4H1dHik.js","assets/index-DQ7KfWRq.js","assets/index-DMozo7d_.js","assets/purify.es-CQJ0hv7W.js","assets/SupplementalMaterials-WwcC9LW8.js"])))=>i.map(i=>d[i]);
var kW=Object.defineProperty;var wW=(t,r,n)=>r in t?kW(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n;var yt=(t,r,n)=>wW(t,typeof r!="symbol"?r+"":r,n);import{r as Y,R as A1,j as A,C as Lr,P as Rn,E as bP,T as je,B as Pe,a as wt,b as kP,A as pr,H as yW,c as wP,d as at,e as xs,f as Fk,g as vW,h as yP,G as Pt,D as na,I as Ln,i as zk,k as ys,l as q_,m as Ks,n as Qi,o as Ji,p as Zi,q as Ds,s as Xi,t as vP,u as tc,v as nc,w as ni,x as pl,y as rc,L as Tg,M as AW,S as os,z as pk,F as np,J as rp,K as Jt,N as mk,O as _W,Q as CW,U as xW,V as Ir,W as AP,X as Xt,Y as SW,Z as _1,_ as V_,$ as _p,a0 as EW,a1 as bg,a2 as _P,a3 as CP,a4 as xP,a5 as Uk,a6 as ld,a7 as cd,a8 as bc,a9 as DW,aa as SP,ab as gd,ac as bd,ad as kd,ae as Co,af as It,ag as wd,ah as IW,ai as TW,aj as tu,ak as nu,al as NW,am as MW,an as mh,ao as PW,ap as OW,aq as jW,ar as OA,as as $_,at as Ng,au as LW,av as RW,aw as BW,ax as FW,ay as mI,az as zW,aA as UW,aB as gI,aC as H_,aD as qW,aE as VW,aF as $W,aG as HW,aH as ul,aI as Jl,aJ as EP,aK as W_,aL as DP,aM as qk,aN as WW,aO as GW,aP as YW,aQ as KW,aR as yv,aS as QW,aT as JW,aU as ZW,aV as IP,aW as XW,aX as TP,aY as G_,aZ as Wh,a_ as yc,a$ as We,b0 as vn,b1 as eG,b2 as NP,b3 as wn,b4 as tG,b5 as nG,b6 as rG,b7 as iG}from"./ui-H5uQ0MBd.js";import{a as oG,g as du,b as hu,r as sG,c as td}from"./vendor-DeqkGhWy.js";import{g as aG,G as lG,o as cG,b as uG,a as dG,s as hG,c as fG,d as pG,P as Yn,e as pn,f as $o,h as Eh,m as MP,i as vr,I as PP,j as mG,k as Pp,R as Op,x as gG,_ as Qn,y as Yg,r as Kg,u as C1,l as Qg,p as la,n as ap,q as xo,K as bG,W as Y_,t as Jg,Q as kG}from"./firebase-DlMVyB9t.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var q0={},bI;function wG(){if(bI)return q0;bI=1;var t=oG();return q0.createRoot=t.createRoot,q0.hydrateRoot=t.hydrateRoot,q0}var yG=wG();const vG=du(yG);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mg(){return Mg=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Mg.apply(this,arguments)}var yh;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yh||(yh={}));const kI="popstate";function AG(t){t===void 0&&(t={});function r(o,a){let{pathname:l,search:d,hash:h}=o.location;return jA("",{pathname:l,search:d,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){return typeof a=="string"?a:jP(a)}return CG(r,n,null,t)}function Vo(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function OP(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function _G(){return Math.random().toString(36).substr(2,8)}function wI(t,r){return{usr:t.state,key:t.key,idx:r}}function jA(t,r,n,o){return n===void 0&&(n=null),Mg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?Zg(r):r,{state:n,key:r&&r.key||o||_G()})}function jP(t){let{pathname:r="/",search:n="",hash:o=""}=t;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function Zg(t){let r={};if(t){let n=t.indexOf("#");n>=0&&(r.hash=t.substr(n),t=t.substr(0,n));let o=t.indexOf("?");o>=0&&(r.search=t.substr(o),t=t.substr(0,o)),t&&(r.pathname=t)}return r}function CG(t,r,n,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:l=!1}=o,d=a.history,h=yh.Pop,p=null,g=b();g==null&&(g=0,d.replaceState(Mg({},d.state,{idx:g}),""));function b(){return(d.state||{idx:null}).idx}function y(){h=yh.Pop;let D=b(),S=D==null?null:D-g;g=D,p&&p({action:h,location:C.location,delta:S})}function v(D,S){h=yh.Push;let N=jA(C.location,D,S);g=b()+1;let P=wI(N,g),B=C.createHref(N);try{d.pushState(P,"",B)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;a.location.assign(B)}l&&p&&p({action:h,location:C.location,delta:1})}function k(D,S){h=yh.Replace;let N=jA(C.location,D,S);g=b();let P=wI(N,g),B=C.createHref(N);d.replaceState(P,"",B),l&&p&&p({action:h,location:C.location,delta:0})}function x(D){let S=a.location.origin!=="null"?a.location.origin:a.location.href,N=typeof D=="string"?D:jP(D);return N=N.replace(/ $/,"%20"),Vo(S,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,S)}let C={get action(){return h},get location(){return t(a,d)},listen(D){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(kI,y),p=D,()=>{a.removeEventListener(kI,y),p=null}},createHref(D){return r(a,D)},createURL:x,encodeLocation(D){let S=x(D);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:k,go(D){return d.go(D)}};return C}var yI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yI||(yI={}));function xG(t,r,n){return n===void 0&&(n="/"),SG(t,r,n)}function SG(t,r,n,o){let a=typeof r=="string"?Zg(r):r,l=BP(a.pathname||"/",n);if(l==null)return null;let d=LP(t);EG(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let g=FG(l);h=LG(d[p],g)}return h}function LP(t,r,n,o){r===void 0&&(r=[]),n===void 0&&(n=[]),o===void 0&&(o="");let a=(l,d,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};p.relativePath.startsWith("/")&&(Vo(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let g=Dh([o,p.relativePath]),b=n.concat(p);l.children&&l.children.length>0&&(Vo(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),LP(l.children,r,b,g)),!(l.path==null&&!l.index)&&r.push({path:g,score:OG(g,l.index),routesMeta:b})};return t.forEach((l,d)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,d);else for(let p of RP(l.path))a(l,d,p)}),r}function RP(t){let r=t.split("/");if(r.length===0)return[];let[n,...o]=r,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(o.length===0)return a?[l,""]:[l];let d=RP(o.join("/")),h=[];return h.push(...d.map(p=>p===""?l:[l,p].join("/"))),a&&h.push(...d),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function EG(t){t.sort((r,n)=>r.score!==n.score?n.score-r.score:jG(r.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const DG=/^:[\w-]+$/,IG=3,TG=2,NG=1,MG=10,PG=-2,vI=t=>t==="*";function OG(t,r){let n=t.split("/"),o=n.length;return n.some(vI)&&(o+=PG),r&&(o+=TG),n.filter(a=>!vI(a)).reduce((a,l)=>a+(DG.test(l)?IG:l===""?NG:MG),o)}function jG(t,r){return t.length===r.length&&t.slice(0,-1).every((o,a)=>o===r[a])?t[t.length-1]-r[r.length-1]:0}function LG(t,r,n){let{routesMeta:o}=t,a={},l="/",d=[];for(let h=0;h<o.length;++h){let p=o[h],g=h===o.length-1,b=l==="/"?r:r.slice(l.length)||"/",y=RG({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),v=p.route;if(!y)return null;Object.assign(a,y.params),d.push({params:a,pathname:Dh([l,y.pathname]),pathnameBase:VG(Dh([l,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(l=Dh([l,y.pathnameBase]))}return d}function RG(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,o]=BG(t.path,t.caseSensitive,t.end),a=r.match(n);if(!a)return null;let l=a[0],d=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:o.reduce((g,b,y)=>{let{paramName:v,isOptional:k}=b;if(v==="*"){let C=h[y]||"";d=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const x=h[y];return k&&!x?g[v]=void 0:g[v]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:d,pattern:t}}function BG(t,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),OP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(o.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),o]}function FG(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return OP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function BP(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,o=t.charAt(n);return o&&o!=="/"?null:t.slice(n)||"/"}function zG(t,r){r===void 0&&(r="/");let{pathname:n,search:o="",hash:a=""}=typeof t=="string"?Zg(t):t;return{pathname:n?n.startsWith("/")?n:UG(n,r):r,search:$G(o),hash:HG(a)}}function UG(t,r){let n=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function vv(t,r,n,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qG(t){return t.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function FP(t,r){let n=qG(t);return r?n.map((o,a)=>a===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function zP(t,r,n,o){o===void 0&&(o=!1);let a;typeof t=="string"?a=Zg(t):(a=Mg({},t),Vo(!a.pathname||!a.pathname.includes("?"),vv("?","pathname","search",a)),Vo(!a.pathname||!a.pathname.includes("#"),vv("#","pathname","hash",a)),Vo(!a.search||!a.search.includes("#"),vv("#","search","hash",a)));let l=t===""||a.pathname==="",d=l?"/":a.pathname,h;if(d==null)h=n;else{let y=r.length-1;if(!o&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),y-=1;a.pathname=v.join("/")}h=y>=0?r[y]:"/"}let p=zG(a,h),g=d&&d!=="/"&&d.endsWith("/"),b=(l||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}const Dh=t=>t.join("/").replace(/\/\/+/g,"/"),VG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$G=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const UP=["post","put","patch","delete"];new Set(UP);const GG=["get",...UP];new Set(GG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vk(){return Vk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Vk.apply(this,arguments)}const K_=Y.createContext(null),YG=Y.createContext(null),Xg=Y.createContext(null),Q_=Y.createContext(null),yd=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),qP=Y.createContext(null);function eb(){return Y.useContext(Q_)!=null}function x1(){return eb()||Vo(!1),Y.useContext(Q_).location}function VP(t){Y.useContext(Xg).static||Y.useLayoutEffect(t)}function Vr(){let{isDataRoute:t}=Y.useContext(yd);return t?aY():KG()}function KG(){eb()||Vo(!1);let t=Y.useContext(K_),{basename:r,future:n,navigator:o}=Y.useContext(Xg),{matches:a}=Y.useContext(yd),{pathname:l}=x1(),d=JSON.stringify(FP(a,n.v7_relativeSplatPath)),h=Y.useRef(!1);return VP(()=>{h.current=!0}),Y.useCallback(function(g,b){if(b===void 0&&(b={}),!h.current)return;if(typeof g=="number"){o.go(g);return}let y=zP(g,JSON.parse(d),l,b.relative==="path");t==null&&r!=="/"&&(y.pathname=y.pathname==="/"?r:Dh([r,y.pathname])),(b.replace?o.replace:o.push)(y,b.state,b)},[r,o,d,l,t])}function J_(){let{matches:t}=Y.useContext(yd),r=t[t.length-1];return r?r.params:{}}function QG(t,r){return JG(t)}function JG(t,r,n,o){eb()||Vo(!1);let{navigator:a}=Y.useContext(Xg),{matches:l}=Y.useContext(yd),d=l[l.length-1],h=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let g=x1(),b;b=g;let y=b.pathname||"/",v=y;if(p!=="/"){let C=p.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let k=xG(t,{pathname:v});return nY(k&&k.map(C=>Object.assign({},C,{params:Object.assign({},h,C.params),pathname:Dh([p,a.encodeLocation?a.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:Dh([p,a.encodeLocation?a.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,n,o)}function ZG(){let t=sY(),r=WG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},r),n?Y.createElement("pre",{style:a},n):null,null)}const XG=Y.createElement(ZG,null);class eY extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?Y.createElement(yd.Provider,{value:this.props.routeContext},Y.createElement(qP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tY(t){let{routeContext:r,match:n,children:o}=t,a=Y.useContext(K_);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(yd.Provider,{value:r},o)}function nY(t,r,n,o){var a;if(r===void 0&&(r=[]),n===void 0&&(n=null),o===void 0&&(o=null),t==null){var l;if(!n)return null;if(n.errors)t=n.matches;else if((l=o)!=null&&l.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let d=t,h=(a=n)==null?void 0:a.errors;if(h!=null){let b=d.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id])!==void 0);b>=0||Vo(!1),d=d.slice(0,Math.min(d.length,b+1))}let p=!1,g=-1;if(n&&o&&o.v7_partialHydration)for(let b=0;b<d.length;b++){let y=d[b];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=b),y.route.id){let{loaderData:v,errors:k}=n,x=y.route.loader&&v[y.route.id]===void 0&&(!k||k[y.route.id]===void 0);if(y.route.lazy||x){p=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((b,y,v)=>{let k,x=!1,C=null,D=null;n&&(k=h&&y.route.id?h[y.route.id]:void 0,C=y.route.errorElement||XG,p&&(g<0&&v===0?(lY("route-fallback"),x=!0,D=null):g===v&&(x=!0,D=y.route.hydrateFallbackElement||null)));let S=r.concat(d.slice(0,v+1)),N=()=>{let P;return k?P=C:x?P=D:y.route.Component?P=Y.createElement(y.route.Component,null):y.route.element?P=y.route.element:P=b,Y.createElement(tY,{match:y,routeContext:{outlet:b,matches:S,isDataRoute:n!=null},children:P})};return n&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?Y.createElement(eY,{location:n.location,revalidation:n.revalidation,component:C,error:k,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):N()},null)}var $P=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($P||{}),HP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(HP||{});function rY(t){let r=Y.useContext(K_);return r||Vo(!1),r}function iY(t){let r=Y.useContext(YG);return r||Vo(!1),r}function oY(t){let r=Y.useContext(yd);return r||Vo(!1),r}function WP(t){let r=oY(),n=r.matches[r.matches.length-1];return n.route.id||Vo(!1),n.route.id}function sY(){var t;let r=Y.useContext(qP),n=iY(),o=WP();return r!==void 0?r:(t=n.errors)==null?void 0:t[o]}function aY(){let{router:t}=rY($P.UseNavigateStable),r=WP(HP.UseNavigateStable),n=Y.useRef(!1);return VP(()=>{n.current=!0}),Y.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Vk({fromRouteId:r},l)))},[t,r])}const AI={};function lY(t,r,n){AI[t]||(AI[t]=!0)}function cY(t,r){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function GP(t){let{to:r,replace:n,state:o,relative:a}=t;eb()||Vo(!1);let{future:l,static:d}=Y.useContext(Xg),{matches:h}=Y.useContext(yd),{pathname:p}=x1(),g=Vr(),b=zP(r,FP(h,l.v7_relativeSplatPath),p,a==="path"),y=JSON.stringify(b);return Y.useEffect(()=>g(JSON.parse(y),{replace:n,state:o,relative:a}),[g,y,a,n,o]),null}function uY(t){let{basename:r="/",children:n=null,location:o,navigationType:a=yh.Pop,navigator:l,static:d=!1,future:h}=t;eb()&&Vo(!1);let p=r.replace(/^\/*/,"/"),g=Y.useMemo(()=>({basename:p,navigator:l,static:d,future:Vk({v7_relativeSplatPath:!1},h)}),[p,h,l,d]);typeof o=="string"&&(o=Zg(o));let{pathname:b="/",search:y="",hash:v="",state:k=null,key:x="default"}=o,C=Y.useMemo(()=>{let D=BP(b,p);return D==null?null:{location:{pathname:D,search:y,hash:v,state:k,key:x},navigationType:a}},[p,b,y,v,k,x,a]);return C==null?null:Y.createElement(Xg.Provider,{value:g},Y.createElement(Q_.Provider,{children:n,value:C}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function LA(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,n)=>{let o=t[n];return r.concat(Array.isArray(o)?o.map(a=>[n,a]):[[n,o]])},[]))}function dY(t,r){let n=LA(t);return r&&r.forEach((o,a)=>{n.has(a)||r.getAll(a).forEach(l=>{n.append(a,l)})}),n}const hY="6";try{window.__reactRouterVersion=hY}catch{}const fY="startTransition",_I=A1[fY];function pY(t){let{basename:r,children:n,future:o,window:a}=t,l=Y.useRef();l.current==null&&(l.current=AG({window:a,v5Compat:!0}));let d=l.current,[h,p]=Y.useState({action:d.action,location:d.location}),{v7_startTransition:g}=o||{},b=Y.useCallback(y=>{g&&_I?_I(()=>p(y)):p(y)},[p,g]);return Y.useLayoutEffect(()=>d.listen(b),[d,b]),Y.useEffect(()=>cY(o),[o]),Y.createElement(uY,{basename:r,children:n,location:h.location,navigationType:h.action,navigator:d,future:o})}var CI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(CI||(CI={}));var xI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xI||(xI={}));function S1(t){let r=Y.useRef(LA(t)),n=Y.useRef(!1),o=x1(),a=Y.useMemo(()=>dY(o.search,n.current?null:r.current),[o.search]),l=Vr(),d=Y.useCallback((h,p)=>{const g=LA(typeof h=="function"?h(a):h);n.current=!0,l("?"+g,p)},[l,a]);return[a,d]}const mY="modulepreload",gY=function(t){return"/nexlab/"+t},SI={},Ki=function(r,n,o){let a=Promise.resolve();if(n&&n.length>0){let d=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=d(n.map(g=>{if(g=gY(g),g in SI)return;SI[g]=!0;const b=g.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const v=document.createElement("link");if(v.rel=b?"stylesheet":mY,b||(v.as="script"),v.crossOrigin="",v.href=g,p&&v.setAttribute("nonce",p),document.head.appendChild(v),b)return new Promise((k,x)=>{v.addEventListener("load",k),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return a.then(d=>{for(const h of d||[])h.status==="rejected"&&l(h.reason);return r().catch(l)})};var Gs=(t=>(t.NETWORK="NETWORK",t.AUTHENTICATION="AUTHENTICATION",t.AUTHORIZATION="AUTHORIZATION",t.VALIDATION="VALIDATION",t.NOT_FOUND="NOT_FOUND",t.SERVER_ERROR="SERVER_ERROR",t.UNKNOWN="UNKNOWN",t))(Gs||{});const EI={"auth/user-not-found":{type:"AUTHENTICATION",message:"No user found with this email address."},"auth/wrong-password":{type:"AUTHENTICATION",message:"Incorrect password. Please try again."},"auth/user-disabled":{type:"AUTHORIZATION",message:"This account has been disabled. Please contact support."},"auth/too-many-requests":{type:"NETWORK",message:"Too many failed attempts. Please try again later."},"auth/network-request-failed":{type:"NETWORK",message:"Network error. Please check your connection and try again."},"permission-denied":{type:"AUTHORIZATION",message:"You do not have permission for this action."},"not-found":{type:"NOT_FOUND",message:"The requested resource was not found."},unavailable:{type:"NETWORK",message:"Service is temporarily unavailable. Please try again."}},wh=class wh{constructor(){yt(this,"errorQueue",[]);yt(this,"maxErrorQueueSize",50)}static getInstance(){return wh.instance||(wh.instance=new wh),wh.instance}handleError(r,n){const o=this.createAppError(r,n);return this.logError(o),this.queueError(o),o}createAppError(r,n){let o="UNKNOWN",a="An unexpected error occurred.";if(r!=null&&r.code&&EI[r.code]){const l=EI[r.code];o=l.type,a=l.message}else r!=null&&r.message&&(a=r.message,r.message.includes("network")||r.message.includes("fetch")?o="NETWORK":r.message.includes("unauthorized")||r.message.includes("permission")?o="AUTHORIZATION":r.message.includes("not found")?o="NOT_FOUND":r.message.includes("validation")&&(o="VALIDATION"));return{type:o,message:a,originalError:r instanceof Error?r:new Error(String(r)),context:{...n,userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString()},timestamp:new Date,userId:n==null?void 0:n.userId}}logError(r){const n=`[${r.type}] ${r.message}`,o={error:r.originalError,context:r.context,timestamp:r.timestamp};switch(r.type){case"NETWORK":case"NOT_FOUND":console.warn(n,o);break;case"AUTHENTICATION":case"AUTHORIZATION":case"VALIDATION":console.error(n,o);break;case"SERVER_ERROR":case"UNKNOWN":console.error(n,o);break}}queueError(r){this.errorQueue.push(r),this.errorQueue.length>this.maxErrorQueueSize&&this.errorQueue.shift()}getErrorQueue(){return[...this.errorQueue]}clearErrorQueue(){this.errorQueue=[]}getUserFriendlyMessage(r){return r.message}shouldRetry(r){return r.type==="NETWORK"}};yt(wh,"instance");let Pg=wh;const DI=async(t,r)=>{try{return{data:await t()}}catch(n){return{error:Pg.getInstance().handleError(n,r)}}},bY=()=>{const t=Pg.getInstance();return{handleError:(a,l)=>t.handleError(a,l),getUserFriendlyMessage:a=>t.getUserFriendlyMessage(a),shouldRetry:a=>t.shouldRetry(a)}};Pg.getInstance();class kY{constructor(){yt(this,"auth",null);yt(this,"googleProvider",null)}initialize(){this.auth||(Ki(()=>Promise.resolve().then(()=>up),void 0),this.auth=aG(),this.googleProvider=new lG)}async signInWithGoogle(r=!0){this.initialize();const n=await DI(async()=>{const o=r?uG:dG;await hG(this.auth,o);const a=await fG(this.auth,this.googleProvider);if(!a.user)throw new Error("No user returned from authentication");return a.user},{operation:"google_sign_in",keepSignedIn:r});if(n.error)throw n.error;return n.data}async signOut(){this.initialize();const r=await DI(async()=>{await pG(this.auth)},{operation:"sign_out"});if(r.error)throw r.error}onAuthStateChanged(r){return this.initialize(),cG(this.auth,r)}getCurrentUser(){return this.initialize(),this.auth.currentUser}getErrorMessage(r){return{"auth/network-request-failed":"Login Failed: Network error, please check your connection.","auth/popup-closed-by-user":"Login Failed: The sign-in popup was closed before completion.","auth/cancelled-popup-request":"Login Failed: Another sign-in request was made before the first one was completed.","auth/popup-blocked":"Login Failed: The sign-in popup was blocked by the browser. Please allow popups for this site.","auth/user-disabled":"Login Failed: This account has been disabled.","auth/user-not-found":"Login Failed: No account found with this email.","auth/wrong-password":"Login Failed: Incorrect password.","auth/too-many-requests":"Login Failed: Too many failed attempts. Please try again later."}[r]||"Login Failed: An unexpected error occurred."}}const YP=new kY;class wY{constructor(){yt(this,"db",null);yt(this,"publicCourseId");if(this.publicCourseId="rqoyheM9Lf8jGftIoZyT",!this.publicCourseId)throw new Error("Public course ID is not defined in environment variables.")}initialize(){this.db||(Ki(()=>Promise.resolve().then(()=>up),void 0),this.db=Yn())}async getUserDetails(r){this.initialize();try{const n=pn(this.db,"users",r),o=await $o(n);return o.exists()?{...o.data(),uid:r}:null}catch(n){throw console.error("Error fetching user details:",n),new Error("Failed to fetch user details")}}async createUserDocument(r){this.initialize();try{const n=await this.getPublicCourseInfo(),o=pn(this.db,"users",r.uid),a={isAdmin:!1,isSuperAdmin:!1,lastLogin:Eh(),classes:{[this.publicCourseId]:n}};return await MP(o,a),{uid:r.uid,isAdmin:!1,isSuperAdmin:!1,lastLogin:Eh(),classes:{[this.publicCourseId]:n}}}catch(n){throw console.error("Error creating user document:",n),new Error("Failed to create user document")}}async updateUserLogin(r){this.initialize();try{const n=pn(this.db,"users",r);await vr(n,{lastLogin:Eh()})}catch(n){throw console.error("Error updating user login:",n),new Error("Failed to update user login")}}async refreshUserDetails(r){return this.getUserDetails(r)}subscribeToUserDetails(r,n){this.initialize();const o=pn(this.db,"users",r);return PP(o,a=>{if(a.exists()){const l=a.data();n({...l,uid:r})}else n(null)},a=>{console.error("Error in user details subscription:",a),n(null)})}async ensurePublicCourseAccess(r,n){this.initialize();try{if(n.classes&&n.classes[this.publicCourseId])return n;const o=await this.getPublicCourseInfo(),a=pn(this.db,"users",r);return await vr(a,{[`classes.${this.publicCourseId}`]:o}),{...n,classes:{...n.classes||{},[this.publicCourseId]:o}}}catch(o){throw console.error("Error ensuring public course access:",o),new Error("Failed to ensure public course access")}}async getPublicCourseInfo(){this.initialize();try{const r=pn(this.db,"courses",this.publicCourseId),n=await $o(r);if(!n.exists())throw new Error("Public course document does not exist in the courses collection!");const o=n.data();if(!o||!o.number||!o.title)throw new Error("Public course data is incomplete or invalid.");return{number:o.number,title:o.title,isCourseAdmin:!1}}catch(r){throw console.error("Error fetching public course info:",r),new Error("Failed to fetch public course information")}}}const zf=new wY,yY={apiKey:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",authDomain:"nexlab-prod.firebaseapp.com",projectId:"nexlab-prod",storageBucket:"nexlab-prod.firebasestorage.app",messagingSenderId:"922352392986",appId:"1:922352392986:web:6c4d6e16b5e615bd4daaa3"},Z_=mG(yY),KP=Yn(Z_),vY=Pp(Z_),up=Object.freeze(Object.defineProperty({__proto__:null,app:Z_,db:KP,storage:vY},Symbol.toStringTag,{value:"Module"})),QP=Y.createContext(void 0),AY=({children:t})=>{const[r,n]=Y.useState(null),[o,a]=Y.useState(null),[l,d]=Y.useState(!1),[h,p]=Y.useState(!0),[g,b]=Y.useState(null),y=Y.useRef(null);Y.useEffect(()=>{const k=YP.onAuthStateChanged(async x=>{p(!0),b(null),y.current&&(y.current(),y.current=null);try{if(x){console.log("User is signed in with UID:",x.uid);let C=await zf.getUserDetails(x.uid);C?(await zf.updateUserLogin(x.uid),C=await zf.ensurePublicCourseAccess(x.uid,C)):(console.log("User document does not exist. Creating a new one..."),C=await zf.createUserDocument(x)),a(C),d(C.isSuperAdmin||!1);const D=zf.subscribeToUserDetails(x.uid,S=>{console.log("[UserContext] User details updated in real-time:",{uid:S==null?void 0:S.uid,classesCount:S!=null&&S.classes?Object.keys(S.classes).length:0,classes:S!=null&&S.classes?Object.keys(S.classes):[],timestamp:new Date().toISOString()}),S&&(a(S),d(S.isSuperAdmin||!1))});y.current=D}else a(null),d(!1);n(x)}catch(C){console.error("Error managing user authentication:",C),b(C instanceof Error?C:new Error("Failed to manage user authentication")),n(null),a(null),d(!1)}finally{p(!1)}});return()=>{k(),y.current&&(y.current(),y.current=null)}},[]);const v=async()=>{if(!r){console.warn("No user signed in, cannot refresh user details");return}try{const k=await zf.refreshUserDetails(r.uid);k?(a(k),d(k.isSuperAdmin||!1)):(console.error("User document does not exist. Unable to refresh user details."),b(new Error("User document not found")))}catch(k){console.error("Error refreshing user details:",k),b(k instanceof Error?k:new Error("Failed to refresh user details"))}};return A.jsx(QP.Provider,{value:{user:r,userDetails:o,setUserDetails:a,refreshUserDetails:v,loading:h,error:g,isSuperAdmin:l},children:t})},Ti=()=>{const t=Y.useContext(QP);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t},ks=({element:t})=>{const{userDetails:r,loading:n}=Ti();return n?A.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:A.jsx(Lr,{})}):r?A.jsx(t,{}):A.jsx(GP,{to:"/"})};let JP=class extends Y.Component{constructor(n){super(n);yt(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,o){console.error("ErrorBoundary caught an error:",n,o),this.setState({error:n,errorInfo:o}),this.props.onError&&this.props.onError(n,o)}render(){var n;return this.state.hasError?this.props.fallbackComponent?this.props.fallbackComponent:A.jsxs(Rn,{elevation:3,sx:{p:4,m:2,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0"},children:[A.jsx(bP,{color:"error",sx:{fontSize:48,mb:2}}),A.jsx(je,{variant:"h5",gutterBottom:!0,color:"error",children:"Something went wrong"}),A.jsx(je,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),A.jsxs(Pe,{sx:{mb:3},children:[A.jsx(wt,{variant:"contained",color:"primary",startIcon:A.jsx(kP,{}),onClick:this.handleRetry,sx:{mr:2},children:"Try Again"}),A.jsx(wt,{variant:"outlined",color:"primary",onClick:()=>window.location.reload(),children:"Refresh Page"})]}),this.props.showDetails&&this.state.error&&A.jsxs(pr,{severity:"error",sx:{textAlign:"left",mt:2},children:[A.jsx(je,{variant:"subtitle2",gutterBottom:!0,children:"Error Details:"}),A.jsxs(je,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",fontSize:"0.75rem",fontFamily:"monospace"},children:[this.state.error.message,((n=this.state.errorInfo)==null?void 0:n.componentStack)&&A.jsxs(A.Fragment,{children:[`

Component Stack:`,this.state.errorInfo.componentStack]})]})]})]}):this.props.children}};const _Y=()=>{const t=Vr();return A.jsxs(Rn,{elevation:3,sx:{p:4,m:4,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0",maxWidth:600,mx:"auto",mt:8},children:[A.jsx(bP,{color:"error",sx:{fontSize:64,mb:2}}),A.jsx(je,{variant:"h4",gutterBottom:!0,color:"error",children:"Page Error"}),A.jsx(je,{variant:"body1",sx:{mb:4,color:"text.secondary"},children:"This page encountered an error and cannot be displayed. You can try going back to the previous page or return to the home page."}),A.jsxs(Pe,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[A.jsx(wt,{variant:"contained",color:"primary",startIcon:A.jsx(yW,{}),onClick:()=>t("/"),children:"Go to Home"}),A.jsx(wt,{variant:"outlined",color:"primary",startIcon:A.jsx(wP,{}),onClick:()=>t(-1),children:"Go Back"}),A.jsx(wt,{variant:"outlined",color:"secondary",onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})},ZP=({children:t,showDetails:r})=>A.jsx(JP,{fallbackComponent:A.jsx(_Y,{}),showDetails:r,onError:(n,o)=>{console.error("Route Error:",{error:n.message,stack:n.stack,componentStack:o.componentStack,url:window.location.href,timestamp:new Date().toISOString()})},children:t});class CY{constructor(){yt(this,"db",null);yt(this,"cacheKey","messages")}initialize(){this.db||(Ki(()=>Promise.resolve().then(()=>up),void 0),this.db=Yn())}subscribeToMessages(r){this.initialize();const n=Op(Qn(this.db,"messages"),gG("postedOn","desc"));return PP(n,o=>{const a=o.docs.map(l=>({id:l.id,...l.data()}));r(a),this.setCachedMessages(a)},o=>{console.error("Error listening to messages:",o);const a=this.getCachedMessages();a&&r(a)})}getCachedMessages(){try{const r=sessionStorage.getItem(this.cacheKey);return r?JSON.parse(r):null}catch(r){return console.error("Error reading cached messages:",r),null}}setCachedMessages(r){try{sessionStorage.setItem(this.cacheKey,JSON.stringify(r))}catch(n){console.error("Error caching messages:",n)}}clearCache(){try{sessionStorage.removeItem(this.cacheKey)}catch(r){console.error("Error clearing message cache:",r)}}async togglePinMessage(r,n){this.initialize();try{const o=pn(this.db,"messages",r);await vr(o,{isPinned:!n})}catch(o){throw console.error("Error toggling pin status:",o),o}}async deleteMessage(r){try{const n=pn(this.db,"messages",r);await Yg(n)}catch(n){throw console.error("Error deleting message:",n),n}}}const V0=new CY,II=t=>{let r;const n=new Set,o=(g,b)=>{const y=typeof g=="function"?g(r):g;if(!Object.is(y,r)){const v=r;r=b??(typeof y!="object"||y===null)?y:Object.assign({},r,y),n.forEach(k=>k(r,v))}},a=()=>r,h={setState:o,getState:a,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=r=t(o,a,h);return h},xY=t=>t?II(t):II,SY=t=>t;function EY(t,r=SY){const n=at.useSyncExternalStore(t.subscribe,()=>r(t.getState()),()=>r(t.getInitialState()));return at.useDebugValue(n),n}const TI=t=>{const r=xY(t),n=o=>EY(r,o);return Object.assign(n,r),n},tb=t=>t?TI(t):TI,DY=()=>Math.random().toString(36).substr(2,9),IY=t=>{switch(t){case Gs.NETWORK:return"ðŸŒ";case Gs.AUTHENTICATION:return"ðŸ”’";case Gs.AUTHORIZATION:return"â›”";case Gs.VALIDATION:return"âš ï¸";case Gs.NOT_FOUND:return"ðŸ”";case Gs.SERVER_ERROR:return"ðŸš¨";default:return"âŒ"}},TY=t=>{switch(t){case Gs.NETWORK:return 8e3;case Gs.AUTHENTICATION:case Gs.AUTHORIZATION:return 1e4;case Gs.VALIDATION:return 6e3;case Gs.NOT_FOUND:return 5e3;default:return 7e3}},XP=tb((t,r)=>({notifications:[],addNotification:n=>{const o={...n,id:DY(),timestamp:new Date,duration:n.duration??5e3};t(a=>({notifications:[...a.notifications,o]})),o.duration>0&&setTimeout(()=>{r().removeNotification(o.id)},o.duration)},removeNotification:n=>{t(o=>({notifications:o.notifications.filter(a=>a.id!==n)}))},clearAll:()=>{t({notifications:[]})},showError:(n,o)=>{const a=IY(n.type),l=TY(n.type),d=[];n.type===Gs.NETWORK&&d.push({label:"Retry",action:()=>{console.log("Retry requested for:",n)},primary:!0}),r().addNotification({type:"error",title:`${a} ${n.type.replace("_"," ")} Error`,message:n.message,duration:l,actions:o||d,error:n})},showSuccess:(n,o)=>{r().addNotification({type:"success",title:o||"âœ… Success",message:n,duration:4e3})},showWarning:(n,o)=>{r().addNotification({type:"warning",title:o||"âš ï¸ Warning",message:n,duration:6e3})},showInfo:(n,o)=>{r().addNotification({type:"info",title:o||"â„¹ï¸ Info",message:n,duration:5e3})}})),NY=()=>{const[t,r]=Y.useState([]),[n,o]=Y.useState(!0),[a,l]=Y.useState(null),{handleError:d}=bY(),{showError:h,showSuccess:p}=XP();return Y.useEffect(()=>{const v=V0.getCachedMessages();v&&(r(v),o(!1));const k=V0.subscribeToMessages(x=>{r(x),l(null),v||o(!1)});return()=>{k()}},[]),{messages:t,loading:n,error:a,deleteMessage:async v=>{try{await V0.deleteMessage(v),p("Message deleted successfully")}catch(k){const x=d(k,{operation:"delete_message",messageId:v});l(x.message),h(x)}},togglePinMessage:async(v,k)=>{try{await V0.togglePinMessage(v,k),p(`Message ${k?"unpinned":"pinned"} successfully`)}catch(x){const C=d(x,{operation:"toggle_pin_message",messageId:v,currentPinStatus:k});l(C.message),h(C)}},clearError:()=>{l(null)}}},hl=({title:t,onClick:r,disabled:n=!1,disabledTooltip:o,lockIcon:a=!1,className:l="menu-item"})=>{const d=A.jsx(Fk,{className:l,children:A.jsx(vW,{onClick:r,disabled:n,children:A.jsx(yP,{children:A.jsxs(je,{className:"menu-item-typography",variant:"h6",component:"div",sx:n?{color:"#9e9e9e",opacity:.5}:{},children:[t,a&&A.jsx("span",{style:{marginLeft:8},children:"ðŸ”’"})]})})})});return n&&o?A.jsx(xs,{title:o,children:A.jsx("span",{children:d})}):d},MY=({userDetails:t})=>{const r=Vr(),n=t&&!t.isAdmin&&(!t.classes||Object.keys(t.classes).length===0);return A.jsxs(A.Fragment,{children:[A.jsx(Pt,{item:!0,xs:12,children:A.jsx(hl,{title:"My Account",onClick:()=>r("/my-profile")})}),A.jsx(Pt,{item:!0,xs:12,children:A.jsx(hl,{title:"Laboratory Notebook",onClick:()=>r("/laboratory-notebooks"),disabled:n,disabledTooltip:"The Laboratory Notebook is accessible to users enrolled in an academic course. Please enroll in a course via 'My Account' by following the instructions provided by your academic instructor.",lockIcon:n})}),A.jsx(Pt,{item:!0,xs:12,children:A.jsx(hl,{title:"Course Materials",onClick:()=>r("/supplemental-materials")})})]})},NI={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"256599ed-a0a2-496f-990d-c51faaefd71a",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},Og=new Map,$0=t=>{const r=Og.get(t);return r?Object.fromEntries(Object.entries(r.stores).map(([n,o])=>[n,o.getState()])):{}},PY=(t,r,n)=>{if(t===void 0)return{type:"untracked",connection:r.connect(n)};const o=Og.get(n.name);if(o)return{type:"tracked",store:t,...o};const a={connection:r.connect(n),stores:{}};return Og.set(n.name,a),{type:"tracked",store:t,...a}},OY=(t,r)=>{if(r===void 0)return;const n=Og.get(t);n&&(delete n.stores[r],Object.keys(n.stores).length===0&&Og.delete(t))},jY=t=>{var r,n;if(!t)return;const o=t.split(`
`),a=o.findIndex(d=>d.includes("api.setState"));if(a<0)return;const l=((r=o[a+1])==null?void 0:r.trim())||"";return(n=/.+ (.+) .+/.exec(l))==null?void 0:n[1]},LY=(t,r={})=>(n,o,a)=>{const{enabled:l,anonymousActionType:d,store:h,...p}=r;let g;try{g=(l??(NI?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!g)return t(n,o,a);const{connection:b,...y}=PY(h,g,p);let v=!0;a.setState=(C,D,S)=>{const N=n(C,D);if(!v)return N;const P=S===void 0?{type:d||jY(new Error().stack)||"anonymous"}:typeof S=="string"?{type:S}:S;return h===void 0?(b==null||b.send(P,o()),N):(b==null||b.send({...P,type:`${h}/${P.type}`},{...$0(p.name),[h]:a.getState()}),N)},a.devtools={cleanup:()=>{b&&typeof b.unsubscribe=="function"&&b.unsubscribe(),OY(p.name,h)}};const k=(...C)=>{const D=v;v=!1,n(...C),v=D},x=t(a.setState,o,a);if(y.type==="untracked"?b==null||b.init(x):(y.stores[y.store]=a,b==null||b.init(Object.fromEntries(Object.entries(y.stores).map(([C,D])=>[C,C===y.store?x:D.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let C=!1;const D=a.dispatch;a.dispatch=(...S)=>{(NI?"production":void 0)!=="production"&&S[0].type==="__setState"&&!C&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),C=!0),D(...S)}}return b.subscribe(C=>{var D;switch(C.type){case"ACTION":if(typeof C.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Av(C.payload,S=>{if(S.type==="__setState"){if(h===void 0){k(S.state);return}Object.keys(S.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const N=S.state[h];if(N==null)return;JSON.stringify(a.getState())!==JSON.stringify(N)&&k(N);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(S)});case"DISPATCH":switch(C.payload.type){case"RESET":return k(x),h===void 0?b==null?void 0:b.init(a.getState()):b==null?void 0:b.init($0(p.name));case"COMMIT":if(h===void 0){b==null||b.init(a.getState());return}return b==null?void 0:b.init($0(p.name));case"ROLLBACK":return Av(C.state,S=>{if(h===void 0){k(S),b==null||b.init(a.getState());return}k(S[h]),b==null||b.init($0(p.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Av(C.state,S=>{if(h===void 0){k(S);return}JSON.stringify(a.getState())!==JSON.stringify(S[h])&&k(S[h])});case"IMPORT_STATE":{const{nextLiftedState:S}=C.payload,N=(D=S.computedStates.slice(-1)[0])==null?void 0:D.state;if(!N)return;k(h===void 0?N:N[h]),b==null||b.send(null,S);return}case"PAUSE_RECORDING":return v=!v}return}}),x},E1=LY,Av=(t,r)=>{let n;try{n=JSON.parse(t)}catch(o){console.error("[zustand devtools middleware] Could not parse the received json",o)}n!==void 0&&r(n)};function RY(t,r){let n;try{n=t()}catch{return}return{getItem:a=>{var l;const d=p=>p===null?null:JSON.parse(p,void 0),h=(l=n.getItem(a))!=null?l:null;return h instanceof Promise?h.then(d):d(h)},setItem:(a,l)=>n.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>n.removeItem(a)}}const RA=t=>r=>{try{const n=t(r);return n instanceof Promise?n:{then(o){return RA(o)(n)},catch(o){return this}}}catch(n){return{then(o){return this},catch(o){return RA(o)(n)}}}},BY=(t,r)=>(n,o,a)=>{let l={storage:RY(()=>localStorage),partialize:C=>C,version:0,merge:(C,D)=>({...D,...C}),...r},d=!1;const h=new Set,p=new Set;let g=l.storage;if(!g)return t((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...C)},o,a);const b=()=>{const C=l.partialize({...o()});return g.setItem(l.name,{state:C,version:l.version})},y=a.setState;a.setState=(C,D)=>{y(C,D),b()};const v=t((...C)=>{n(...C),b()},o,a);a.getInitialState=()=>v;let k;const x=()=>{var C,D;if(!g)return;d=!1,h.forEach(N=>{var P;return N((P=o())!=null?P:v)});const S=((D=l.onRehydrateStorage)==null?void 0:D.call(l,(C=o())!=null?C:v))||void 0;return RA(g.getItem.bind(g))(l.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==l.version){if(l.migrate){const P=l.migrate(N.state,N.version);return P instanceof Promise?P.then(B=>[!0,B]):[!0,P]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var P;const[B,$]=N;if(k=l.merge($,(P=o())!=null?P:v),n(k,!0),B)return b()}).then(()=>{S==null||S(k,void 0),k=o(),d=!0,p.forEach(N=>N(k))}).catch(N=>{S==null||S(void 0,N)})};return a.persist={setOptions:C=>{l={...l,...C},C.storage&&(g=C.storage)},clearStorage:()=>{g==null||g.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>x(),hasHydrated:()=>d,onHydrate:C=>(h.add(C),()=>{h.delete(C)}),onFinishHydration:C=>(p.add(C),()=>{p.delete(C)})},l.skipHydration||x(),k||v},eO=BY,tO=tb()(E1(eO((t,r)=>({globalLoading:!1,pageLoading:{},openDialogs:{},currentPage:"/",previousPage:null,navigationSections:{educatorExpanded:!1,superAdminExpanded:!1},sidebarCollapsed:!1,theme:"light",setGlobalLoading:n=>t({globalLoading:n}),setPageLoading:(n,o)=>t(a=>({pageLoading:{...a.pageLoading,[n]:o}})),openDialog:n=>t(o=>({openDialogs:{...o.openDialogs,[n]:!0}})),closeDialog:n=>t(o=>({openDialogs:{...o.openDialogs,[n]:!1}})),toggleDialog:n=>t(o=>({openDialogs:{...o.openDialogs,[n]:!o.openDialogs[n]}})),isDialogOpen:n=>!!r().openDialogs[n],setCurrentPage:n=>t(o=>({currentPage:n,previousPage:o.currentPage})),toggleEducatorSection:()=>t(n=>({navigationSections:{...n.navigationSections,educatorExpanded:!n.navigationSections.educatorExpanded}})),toggleSuperAdminSection:()=>t(n=>({navigationSections:{...n.navigationSections,superAdminExpanded:!n.navigationSections.superAdminExpanded}})),setEducatorSectionExpanded:n=>t(o=>({navigationSections:{...o.navigationSections,educatorExpanded:n}})),setSuperAdminSectionExpanded:n=>t(o=>({navigationSections:{...o.navigationSections,superAdminExpanded:n}})),setSidebarCollapsed:n=>t({sidebarCollapsed:n}),toggleSidebar:()=>t(n=>({sidebarCollapsed:!n.sidebarCollapsed})),setTheme:n=>t({theme:n}),toggleTheme:()=>t(n=>({theme:n.theme==="light"?"dark":"light"}))}),{name:"ui-preferences",partialize:t=>({sidebarCollapsed:t.sidebarCollapsed,theme:t.theme,navigationSections:t.navigationSections})}))),FY=()=>{const t=Vr(),{navigationSections:r,toggleEducatorSection:n}=tO(),o=r.educatorExpanded;return A.jsx(A.Fragment,{children:A.jsxs(Pt,{item:!0,xs:12,children:[A.jsx(na,{sx:{my:2}}),A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",py:1.5,px:2,mx:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},borderRadius:2,transition:"background-color 0.2s"},onClick:n,children:[A.jsx(je,{className:"general-menu-title",variant:"h6",component:"h2",sx:{flexGrow:1,textAlign:"center"},children:"Educator Access"}),A.jsx(Ln,{size:"small",sx:{ml:2,p:.5,color:"primary.main","&:hover":{backgroundColor:"primary.light",color:"primary.contrastText"}},"aria-label":o?"collapse educator section":"expand educator section",children:o?A.jsx(zk,{fontSize:"small"}):A.jsx(ys,{fontSize:"small"})})]}),A.jsx(q_,{in:o,timeout:"auto",unmountOnExit:!0,children:A.jsxs(Pe,{sx:{mt:2,px:1},children:[A.jsx(hl,{title:"Course Management",onClick:()=>t("/course-management")}),A.jsx(Pe,{sx:{mt:1},children:A.jsx(hl,{title:"Chatbot Management",onClick:()=>t("/chatbot-management")})})]})})]})})},zY=()=>{const t=Vr(),{navigationSections:r,toggleSuperAdminSection:n}=tO(),o=r.superAdminExpanded;return A.jsx(A.Fragment,{children:A.jsxs(Pt,{item:!0,xs:12,children:[A.jsx(na,{sx:{my:2}}),A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",py:1.5,px:2,mx:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},borderRadius:2,transition:"background-color 0.2s"},onClick:n,children:[A.jsx(je,{className:"general-menu-title",variant:"h6",component:"h2",sx:{flexGrow:1,textAlign:"center"},children:"Super-Admin Access"}),A.jsx(Ln,{size:"small",sx:{ml:2,p:.5,color:"primary.main","&:hover":{backgroundColor:"primary.light",color:"primary.contrastText"}},"aria-label":o?"collapse super-admin section":"expand super-admin section",children:o?A.jsx(zk,{fontSize:"small"}):A.jsx(ys,{fontSize:"small"})})]}),A.jsx(q_,{in:o,timeout:"auto",unmountOnExit:!0,children:A.jsxs(Pe,{sx:{mt:2,px:1},children:[A.jsx(hl,{title:"User Management",onClick:()=>t("/user-management")}),A.jsx(Pe,{sx:{mt:1},children:A.jsx(hl,{title:"Course Management",onClick:()=>t("/super-admin-course-management")})}),A.jsx(Pe,{sx:{mt:1},children:A.jsx(hl,{title:"Educator Requests",onClick:()=>t("/educator-requests")})}),A.jsx(Pe,{sx:{mt:1},children:A.jsx(hl,{title:"Course Requests",onClick:()=>t("/course-requests")})}),A.jsx(Pe,{sx:{mt:1},children:A.jsx(hl,{title:"Chatbot Requests",onClick:()=>t("/super-admin-chatbot-requests")})}),A.jsx(Pe,{sx:{mt:1},children:A.jsx(hl,{title:"Chatbot Conversations",onClick:()=>t("/chatbot-conversations")})})]})})]})})},UY=({userDetails:t,isSuperAdmin:r})=>A.jsx(Pe,{className:"menu-container",children:A.jsxs(Pt,{container:!0,spacing:2,justifyContent:"center",children:[A.jsx(MY,{userDetails:t}),(t==null?void 0:t.isAdmin)&&A.jsx(FY,{}),r&&A.jsx(zY,{})]})}),MI=({messageId:t,onDelete:r})=>{const[n,o]=Y.useState(!1),a=Yn(),l=()=>{o(!0)},d=()=>{o(!1)},h=async()=>{try{await Yg(pn(a,"messages",t)),r(t),d()}catch(p){console.error("Error deleting message: ",p)}};return A.jsxs(A.Fragment,{children:[A.jsx(Ln,{onClick:l,children:A.jsx(Ks,{})}),A.jsxs(Qi,{open:n,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[A.jsx(Ji,{id:"alert-dialog-title",children:"Confirm Delete"}),A.jsx(Zi,{children:A.jsx(Ds,{id:"alert-dialog-description",children:"Are you sure you want to delete this message? This action cannot be undone."})}),A.jsxs(Xi,{children:[A.jsx(wt,{onClick:d,color:"primary",children:"Cancel"}),A.jsx(wt,{onClick:h,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},PI=({message:t,togglePinMessage:r})=>{const n=async()=>{try{await r(t.id,t.isPinned||!1)}catch(o){console.error("Error updating pin status: ",o)}};return A.jsx(Ln,{onClick:n,sx:{marginRight:1},children:A.jsx(vP,{color:t.isPinned?"primary":"inherit"})})},nd=t=>t?typeof t=="object"&&"toDate"in t?t.toDate().toLocaleString():typeof t=="object"&&"seconds"in t?new Date(t.seconds*1e3).toLocaleString():"N/A":"No data available",qY=({messages:t,userDetails:r,navigate:n,handleDeleteMessage:o,togglePinMessage:a})=>{const[l,d]=Y.useState(0),h=3,p=t.filter(P=>(r==null?void 0:r.classes)&&P.course in r.classes),g=p.filter(P=>P.isPinned),b=p.filter(P=>!P.isPinned),y=(l+1)*h,v=y-h,k=b.slice(v,y),x=Math.ceil(b.length/h),C=()=>d(P=>P+1),D=()=>d(P=>P-1),S=P=>{var B,$;return!!(r!=null&&r.isSuperAdmin||($=(B=r==null?void 0:r.classes)==null?void 0:B[P.course])!=null&&$.isCourseAdmin)},N=P=>{var $;const B=($=r==null?void 0:r.classes)==null?void 0:$[P];return B?`${B.number}`:"Unknown Course"};return A.jsxs(Pe,{className:"messages-display-container",children:[" ",g.length>0&&A.jsxs(Rn,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#FBFADA",borderRadius:"15px"},children:[A.jsxs(Pe,{className:"pinned-section",children:[A.jsx(vP,{color:"primary",sx:{mr:1}}),A.jsx(je,{variant:"h6",className:"pinned-title",children:"Pinned"})]}),g.map(P=>A.jsx(Fk,{className:"messages-card",children:A.jsxs(tc,{children:[A.jsx(nc,{expandIcon:A.jsx(ys,{}),"aria-controls":`panel-${P.id}-content`,id:`panel-${P.id}-header`,children:A.jsxs(Pt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[A.jsxs(Pt,{item:!0,children:[A.jsxs(Pe,{display:"flex",alignItems:"center",children:[A.jsx(ni,{label:N(P.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),A.jsxs(je,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",nd(P.postedOn)," |"]}),P.lastUpdatedOn&&A.jsxs(je,{variant:"subtitle2",className:"message-updated-on",children:["| Last Updated: ",nd(P.lastUpdatedOn)]})]}),A.jsxs(je,{variant:"h6",className:"message-title",children:["Subject: ",P.title]})]}),S(P)&&A.jsxs(Pt,{item:!0,children:[A.jsx(PI,{message:P,togglePinMessage:a}),A.jsx(Ln,{onClick:()=>n(`/edit-message/${P.id}`),sx:{marginRight:1},children:A.jsx(pl,{})}),A.jsx(MI,{messageId:P.id,onDelete:o})]})]})}),A.jsx(rc,{children:A.jsxs(Pe,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[A.jsx(je,{variant:"body1",className:"message-description",children:P.description}),P.links&&P.links.some(B=>B.title&&B.url)&&A.jsxs(Pe,{sx:{mt:1},children:[A.jsx(je,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),P.links.map((B,$)=>B.title&&B.url&&A.jsxs(Pe,{sx:{mt:1},children:[A.jsxs(je,{variant:"body2",component:"span",className:"message-link",children:["ðŸ”— ",B.title,": "]}),A.jsx(Tg,{href:B.url,target:"_blank",rel:"noopener",children:B.url})]},$))]})]})})]})},P.id))]}),A.jsx(Rn,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#f5f5f5",borderRadius:"15px"},children:k.map(P=>A.jsx(Fk,{className:"messages-card",children:A.jsxs(tc,{children:[A.jsx(nc,{expandIcon:A.jsx(ys,{}),"aria-controls":`panel-${P.id}-content`,id:`panel-${P.id}-header`,children:A.jsxs(Pt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[A.jsxs(Pt,{item:!0,children:[A.jsxs(Pe,{display:"flex",alignItems:"center",children:[A.jsx(ni,{label:N(P.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),A.jsxs(je,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",nd(P.postedOn)]}),P.lastUpdatedOn&&A.jsxs(je,{variant:"subtitle2",className:"message-updated-on",children:["Last Updated: ",nd(P.lastUpdatedOn)]})]}),A.jsxs(je,{variant:"h6",className:"message-title",children:["Subject: ",P.title]})]}),S(P)&&A.jsxs(Pt,{item:!0,children:[A.jsx(PI,{message:P,togglePinMessage:a}),A.jsx(Ln,{onClick:()=>n(`/edit-message/${P.id}`),sx:{marginRight:1},children:A.jsx(pl,{})}),A.jsx(MI,{messageId:P.id,onDelete:o})]})]})}),A.jsx(rc,{children:A.jsxs(Pe,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[A.jsx(je,{variant:"body1",className:"message-description",children:P.description}),P.links&&P.links.some(B=>B.title&&B.url)&&A.jsxs(Pe,{sx:{mt:1},children:[A.jsx(je,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),P.links.map((B,$)=>B.title&&B.url&&A.jsxs(Pe,{sx:{mt:1},children:[A.jsxs(je,{variant:"body2",component:"span",className:"message-link",children:["ðŸ”— ",B.title,": "]}),A.jsx(Tg,{href:B.url,target:"_blank",rel:"noopener",children:B.url})]},$))]})]})})]})},P.id))}),A.jsxs(Pe,{className:"pagination-container",children:[" ",A.jsx(wt,{onClick:D,disabled:l===0,className:"pagination-button",children:"Previous"}),A.jsx(wt,{onClick:C,disabled:l>=x-1,className:"pagination-button",children:"Next"})]})]})},VY=({messages:t,loading:r,userDetails:n,handleDeleteMessage:o,togglePinMessage:a})=>{const l=Vr();return A.jsxs(Pe,{className:"messages-container",children:[A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"center"},children:[A.jsx(AW,{sx:{mr:1}}),A.jsx(je,{variant:"h5",component:"h4",className:"inbox-text",children:"Inbox"})]}),(n==null?void 0:n.isAdmin)&&A.jsx(wt,{variant:"contained",onClick:()=>l("/add-message"),sx:{backgroundColor:"#CDDAFF",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",border:"0px solid #0B53C0"}},children:"+ Add Message"})]}),r?A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px"},children:A.jsx(Lr,{})}):A.jsx(qY,{messages:t,userDetails:n,navigate:l,handleDeleteMessage:o,togglePinMessage:a})]})},$Y=()=>{const{userDetails:t,isSuperAdmin:r}=Ti(),[n,o]=Y.useState(!1),{messages:a,loading:l,deleteMessage:d,togglePinMessage:h}=NY(),p=(b,y)=>{y!=="clickaway"&&o(!1)},g=b=>{d(b)};return A.jsxs(Pe,{sx:{flexGrow:1,padding:3},children:[A.jsxs(Pt,{container:!0,spacing:3,children:[A.jsx(Pt,{item:!0,xs:12,md:3,children:A.jsx(UY,{userDetails:t,isSuperAdmin:r})}),A.jsx(Pt,{item:!0,xs:12,md:9,children:A.jsx(VY,{messages:a,loading:l,userDetails:t,handleDeleteMessage:g,togglePinMessage:h})})]}),A.jsx(os,{open:n,autoHideDuration:6e3,onClose:p,children:A.jsx(pr,{onClose:p,severity:"success",sx:{width:"100%"},children:"User ID copied to clipboard!"})})]})};let H0;const HY=new Uint8Array(16);function WY(){if(!H0&&(H0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!H0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return H0(HY)}const Ao=[];for(let t=0;t<256;++t)Ao.push((t+256).toString(16).slice(1));function GY(t,r=0){return Ao[t[r+0]]+Ao[t[r+1]]+Ao[t[r+2]]+Ao[t[r+3]]+"-"+Ao[t[r+4]]+Ao[t[r+5]]+"-"+Ao[t[r+6]]+Ao[t[r+7]]+"-"+Ao[t[r+8]]+Ao[t[r+9]]+"-"+Ao[t[r+10]]+Ao[t[r+11]]+Ao[t[r+12]]+Ao[t[r+13]]+Ao[t[r+14]]+Ao[t[r+15]]}const YY=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),OI={randomUUID:YY};function Ys(t,r,n){if(OI.randomUUID&&!t)return OI.randomUUID();t=t||{};const o=t.random||(t.rng||WY)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,GY(o)}var jI;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(jI||(jI={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LI;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(LI||(LI={}));var RI;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(RI||(RI={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=["user","model","function","system"];var FI;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(FI||(FI={}));var zI;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(zI||(zI={}));var UI;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(UI||(UI={}));var qI;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(qI||(qI={}));var kg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(kg||(kg={}));var VI;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(VI||(VI={}));var $I;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})($I||($I={}));var HI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(HI||(HI={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends Error{constructor(r){super(`[GoogleGenerativeAI Error]: ${r}`)}}class Uf extends Fo{constructor(r,n){super(r),this.response=n}}class nO extends Fo{constructor(r,n,o,a){super(r),this.status=n,this.statusText=o,this.errorDetails=a}}class sd extends Fo{}class rO extends Fo{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KY="https://generativelanguage.googleapis.com",QY="v1beta",JY="0.24.1",ZY="genai-js";var Bh;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Bh||(Bh={}));class XY{constructor(r,n,o,a,l){this.model=r,this.task=n,this.apiKey=o,this.stream=a,this.requestOptions=l}toString(){var r,n;const o=((r=this.requestOptions)===null||r===void 0?void 0:r.apiVersion)||QY;let l=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||KY}/${o}/${this.model}:${this.task}`;return this.stream&&(l+="?alt=sse"),l}}function eK(t){const r=[];return t!=null&&t.apiClient&&r.push(t.apiClient),r.push(`${ZY}/${JY}`),r.join(" ")}async function tK(t){var r;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",eK(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let o=(r=t.requestOptions)===null||r===void 0?void 0:r.customHeaders;if(o){if(!(o instanceof Headers))try{o=new Headers(o)}catch(a){throw new sd(`unable to convert customHeaders value ${JSON.stringify(o)} to Headers: ${a.message}`)}for(const[a,l]of o.entries()){if(a==="x-goog-api-key")throw new sd(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new sd(`Header name ${a} can only be set using the apiClient field`);n.append(a,l)}}return n}async function nK(t,r,n,o,a,l){const d=new XY(t,r,n,o,l);return{url:d.toString(),fetchOptions:Object.assign(Object.assign({},sK(l)),{method:"POST",headers:await tK(d),body:a})}}async function nb(t,r,n,o,a,l={},d=fetch){const{url:h,fetchOptions:p}=await nK(t,r,n,o,a,l);return rK(h,p,d)}async function rK(t,r,n=fetch){let o;try{o=await n(t,r)}catch(a){iK(a,t)}return o.ok||await oK(o,t),o}function iK(t,r){let n=t;throw n.name==="AbortError"?(n=new rO(`Request aborted when fetching ${r.toString()}: ${t.message}`),n.stack=t.stack):t instanceof nO||t instanceof sd||(n=new Fo(`Error fetching from ${r.toString()}: ${t.message}`),n.stack=t.stack),n}async function oK(t,r){let n="",o;try{const a=await t.json();n=a.error.message,a.error.details&&(n+=` ${JSON.stringify(a.error.details)}`,o=a.error.details)}catch{}throw new nO(`Error fetching from ${r.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,o)}function sK(t){const r={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),r.signal=n.signal}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),gk(t.candidates[0]))throw new Uf(`${Zu(t)}`,t);return aK(t)}else if(t.promptFeedback)throw new Uf(`Text not available. ${Zu(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),gk(t.candidates[0]))throw new Uf(`${Zu(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),WI(t)[0]}else if(t.promptFeedback)throw new Uf(`Function call not available. ${Zu(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),gk(t.candidates[0]))throw new Uf(`${Zu(t)}`,t);return WI(t)}else if(t.promptFeedback)throw new Uf(`Function call not available. ${Zu(t)}`,t)},t}function aK(t){var r,n,o,a;const l=[];if(!((n=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||n===void 0)&&n.parts)for(const d of(a=(o=t.candidates)===null||o===void 0?void 0:o[0].content)===null||a===void 0?void 0:a.parts)d.text&&l.push(d.text),d.executableCode&&l.push("\n```"+d.executableCode.language+`
`+d.executableCode.code+"\n```\n"),d.codeExecutionResult&&l.push("\n```\n"+d.codeExecutionResult.output+"\n```\n");return l.length>0?l.join(""):""}function WI(t){var r,n,o,a;const l=[];if(!((n=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||n===void 0)&&n.parts)for(const d of(a=(o=t.candidates)===null||o===void 0?void 0:o[0].content)===null||a===void 0?void 0:a.parts)d.functionCall&&l.push(d.functionCall);if(l.length>0)return l}const lK=[kg.RECITATION,kg.SAFETY,kg.LANGUAGE];function gk(t){return!!t.finishReason&&lK.includes(t.finishReason)}function Zu(t){var r,n,o;let a="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)a+="Response was blocked",!((r=t.promptFeedback)===null||r===void 0)&&r.blockReason&&(a+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(a+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((o=t.candidates)===null||o===void 0)&&o[0]){const l=t.candidates[0];gk(l)&&(a+=`Candidate was blocked due to ${l.finishReason}`,l.finishMessage&&(a+=`: ${l.finishMessage}`))}return a}function jg(t){return this instanceof jg?(this.v=t,this):new jg(t)}function cK(t,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,r||[]),a,l=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(v){o[v]&&(a[v]=function(k){return new Promise(function(x,C){l.push([v,k,x,C])>1||h(v,k)})})}function h(v,k){try{p(o[v](k))}catch(x){y(l[0][3],x)}}function p(v){v.value instanceof jg?Promise.resolve(v.value.v).then(g,b):y(l[0][2],v)}function g(v){h("next",v)}function b(v){h("throw",v)}function y(v,k){v(k),l.shift(),l.length&&h(l[0][0],l[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function uK(t){const r=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=fK(r),[o,a]=n.tee();return{stream:hK(o),response:dK(a)}}async function dK(t){const r=[],n=t.getReader();for(;;){const{done:o,value:a}=await n.read();if(o)return X_(pK(r));r.push(a)}}function hK(t){return cK(this,arguments,function*(){const n=t.getReader();for(;;){const{value:o,done:a}=yield jg(n.read());if(a)break;yield yield jg(X_(o))}})}function fK(t){const r=t.getReader();return new ReadableStream({start(o){let a="";return l();function l(){return r.read().then(({value:d,done:h})=>{if(h){if(a.trim()){o.error(new Fo("Failed to parse stream"));return}o.close();return}a+=d;let p=a.match(GI),g;for(;p;){try{g=JSON.parse(p[1])}catch{o.error(new Fo(`Error parsing JSON response: "${p[1]}"`));return}o.enqueue(g),a=a.substring(p[0].length),p=a.match(GI)}return l()}).catch(d=>{let h=d;throw h.stack=d.stack,h.name==="AbortError"?h=new rO("Request aborted when reading from the stream"):h=new Fo("Error reading from the stream"),h})}}})}function pK(t){const r=t[t.length-1],n={promptFeedback:r==null?void 0:r.promptFeedback};for(const o of t){if(o.candidates){let a=0;for(const l of o.candidates)if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:a}),n.candidates[a].citationMetadata=l.citationMetadata,n.candidates[a].groundingMetadata=l.groundingMetadata,n.candidates[a].finishReason=l.finishReason,n.candidates[a].finishMessage=l.finishMessage,n.candidates[a].safetyRatings=l.safetyRatings,l.content&&l.content.parts){n.candidates[a].content||(n.candidates[a].content={role:l.content.role||"user",parts:[]});const d={};for(const h of l.content.parts)h.text&&(d.text=h.text),h.functionCall&&(d.functionCall=h.functionCall),h.executableCode&&(d.executableCode=h.executableCode),h.codeExecutionResult&&(d.codeExecutionResult=h.codeExecutionResult),Object.keys(d).length===0&&(d.text=""),n.candidates[a].content.parts.push(d)}a++}o.usageMetadata&&(n.usageMetadata=o.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(t,r,n,o){const a=await nb(r,Bh.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),o);return uK(a)}async function oO(t,r,n,o){const l=await(await nb(r,Bh.GENERATE_CONTENT,t,!1,JSON.stringify(n),o)).json();return{response:X_(l)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Lg(t){let r=[];if(typeof t=="string")r=[{text:t}];else for(const n of t)typeof n=="string"?r.push({text:n}):r.push(n);return mK(r)}function mK(t){const r={role:"user",parts:[]},n={role:"function",parts:[]};let o=!1,a=!1;for(const l of t)"functionResponse"in l?(n.parts.push(l),a=!0):(r.parts.push(l),o=!0);if(o&&a)throw new Fo("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!o&&!a)throw new Fo("No content is provided for sending chat message.");return o?r:n}function gK(t,r){var n;let o={model:r==null?void 0:r.model,generationConfig:r==null?void 0:r.generationConfig,safetySettings:r==null?void 0:r.safetySettings,tools:r==null?void 0:r.tools,toolConfig:r==null?void 0:r.toolConfig,systemInstruction:r==null?void 0:r.systemInstruction,cachedContent:(n=r==null?void 0:r.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const a=t.generateContentRequest!=null;if(t.contents){if(a)throw new sd("CountTokensRequest must have one of contents or generateContentRequest, not both.");o.contents=t.contents}else if(a)o=Object.assign(Object.assign({},o),t.generateContentRequest);else{const l=Lg(t);o.contents=[l]}return{generateContentRequest:o}}function YI(t){let r;return t.contents?r=t:r={contents:[Lg(t)]},t.systemInstruction&&(r.systemInstruction=sO(t.systemInstruction)),r}function bK(t){return typeof t=="string"||Array.isArray(t)?{content:Lg(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],kK={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function wK(t){let r=!1;for(const n of t){const{role:o,parts:a}=n;if(!r&&o!=="user")throw new Fo(`First content should be with role 'user', got ${o}`);if(!BI.includes(o))throw new Fo(`Each item should include role field. Got ${o} but valid roles are: ${JSON.stringify(BI)}`);if(!Array.isArray(a))throw new Fo("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new Fo("Each Content should have at least one part");const l={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const h of a)for(const p of KI)p in h&&(l[p]+=1);const d=kK[o];for(const h of KI)if(!d.includes(h)&&l[h]>0)throw new Fo(`Content with role '${o}' can't contain '${h}' part`);r=!0}}function QI(t){var r;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(r=t.candidates[0])===null||r===void 0?void 0:r.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const o of n.parts)if(o===void 0||Object.keys(o).length===0||o.text!==void 0&&o.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="SILENT_ERROR";class yK{constructor(r,n,o,a={}){this.model=n,this.params=o,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=r,o!=null&&o.history&&(wK(o.history),this._history=o.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(r,n={}){var o,a,l,d,h,p;await this._sendPromise;const g=Lg(r),b={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},y=Object.assign(Object.assign({},this._requestOptions),n);let v;return this._sendPromise=this._sendPromise.then(()=>oO(this._apiKey,this.model,b,y)).then(k=>{var x;if(QI(k.response)){this._history.push(g);const C=Object.assign({parts:[],role:"model"},(x=k.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(C)}else{const C=Zu(k.response);C&&console.warn(`sendMessage() was unsuccessful. ${C}. Inspect response object for details.`)}v=k}).catch(k=>{throw this._sendPromise=Promise.resolve(),k}),await this._sendPromise,v}async sendMessageStream(r,n={}){var o,a,l,d,h,p;await this._sendPromise;const g=Lg(r),b={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},y=Object.assign(Object.assign({},this._requestOptions),n),v=iO(this._apiKey,this.model,b,y);return this._sendPromise=this._sendPromise.then(()=>v).catch(k=>{throw new Error(JI)}).then(k=>k.response).then(k=>{if(QI(k)){this._history.push(g);const x=Object.assign({},k.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=Zu(k);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(k=>{k.message!==JI&&console.error(k)}),v}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vK(t,r,n,o){return(await nb(r,Bh.COUNT_TOKENS,t,!1,JSON.stringify(n),o)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AK(t,r,n,o){return(await nb(r,Bh.EMBED_CONTENT,t,!1,JSON.stringify(n),o)).json()}async function _K(t,r,n,o){const a=n.requests.map(d=>Object.assign(Object.assign({},d),{model:r}));return(await nb(r,Bh.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:a}),o)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(r,n,o={}){this.apiKey=r,this._requestOptions=o,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=sO(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(r,n={}){var o;const a=YI(r),l=Object.assign(Object.assign({},this._requestOptions),n);return oO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},a),l)}async generateContentStream(r,n={}){var o;const a=YI(r),l=Object.assign(Object.assign({},this._requestOptions),n);return iO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},a),l)}startChat(r){var n;return new yK(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},r),this._requestOptions)}async countTokens(r,n={}){const o=gK(r,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),n);return vK(this.apiKey,this.model,o,a)}async embedContent(r,n={}){const o=bK(r),a=Object.assign(Object.assign({},this._requestOptions),n);return AK(this.apiKey,this.model,o,a)}async batchEmbedContents(r,n={}){const o=Object.assign(Object.assign({},this._requestOptions),n);return _K(this.apiKey,this.model,r,o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(r){this.apiKey=r}getGenerativeModel(r,n){if(!r.model)throw new Fo("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new ZI(this.apiKey,r,n)}getGenerativeModelFromCachedContent(r,n,o){if(!r.name)throw new sd("Cached content must contain a `name` field.");if(!r.model)throw new sd("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const d of a)if(n!=null&&n[d]&&r[d]&&(n==null?void 0:n[d])!==r[d]){if(d==="model"){const h=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,p=r.model.startsWith("models/")?r.model.replace("models/",""):r.model;if(h===p)continue}throw new sd(`Different value for "${d}" specified in modelParams (${n[d]}) and cachedContent (${r[d]})`)}const l=Object.assign(Object.assign({},n),{model:r.model,tools:r.tools,toolConfig:r.toolConfig,systemInstruction:r.systemInstruction,cachedContent:r});return new ZI(this.apiKey,l,o)}}var _v={exports:{}},XI;function CK(){return XI||(XI=1,(()=>{var t={d:(l,d)=>{for(var h in d)t.o(d,h)&&!t.o(l,h)&&Object.defineProperty(l,h,{enumerable:!0,get:d[h]})},o:(l,d)=>Object.prototype.hasOwnProperty.call(l,d),r:l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})}},r={};function n(l,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}t.r(r),t.d(r,{default:()=>a});var o=function(){function l(){(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,l)}var d,h;return d=l,h=[{key:"changeHeightWidth",value:function(p,g,b,y,v,k){return b>y&&(p=Math.round(p*y/b),b=y),p>g&&(b=Math.round(b*g/p),p=g),v&&b<v&&(p=Math.round(p*v/b),b=v),k&&p<k&&(b=Math.round(b*k/p),p=k),{height:p,width:b}}},{key:"resizeAndRotateImage",value:function(p,g,b,y,v){var k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,C=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,D=x/100,S=document.createElement("canvas"),N=p.width,P=p.height,B=this.changeHeightWidth(P,b,N,g,y,v);!C||C!==90&&C!==270?(S.width=B.width,S.height=B.height):(S.width=B.height,S.height=B.width),N=B.width,P=B.height;var $=S.getContext("2d");return $.fillStyle="rgba(0, 0, 0, 0)",$.fillRect(0,0,N,P),$.imageSmoothingEnabled&&$.imageSmoothingQuality&&($.imageSmoothingQuality="high"),C&&($.rotate(C*Math.PI/180),C===90?$.translate(0,-S.width):C===180?$.translate(-S.width,-S.height):C===270?$.translate(-S.height,0):C!==0&&C!==360||$.translate(0,0)),$.drawImage(p,0,0,N,P),S.toDataURL("image/".concat(k),D)}},{key:"b64toByteArrays",value:function(p,g){for(var b=atob(p.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),y=[],v=0;v<b.length;v+=512){for(var k=b.slice(v,v+512),x=new Array(k.length),C=0;C<k.length;C++)x[C]=k.charCodeAt(C);var D=new Uint8Array(x);y.push(D)}return y}},{key:"b64toBlob",value:function(p,g){var b=this.b64toByteArrays(p,g);return new Blob(b,{type:g,lastModified:new Date})}},{key:"b64toFile",value:function(p,g,b){var y=this.b64toByteArrays(p,b);return new File(y,g,{type:b,lastModified:new Date})}},{key:"createResizedImage",value:function(p,g,b,y,v,k,x){var C=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",D=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,S=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,N=new FileReader;if(!p)throw Error("File Not Found!");if(p.type&&!p.type.includes("image"))throw Error("File Is NOT Image!");N.readAsDataURL(p),N.onload=function(){var P=new Image;P.src=N.result,P.onload=function(){var B=l.resizeAndRotateImage(P,g,b,D,S,y,v,k),$="image/".concat(y);switch(C){case"blob":var V=l.b64toBlob(B,$);x(V);break;case"base64":x(B);break;case"file":var M=p.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(y.toString()),L=l.b64toFile(B,M,$);x(L);break;default:x(B)}}},N.onerror=function(P){throw Error(P)}}}],h&&n(d,h),l}();const a={imageFileResizer:function(l,d,h,p,g,b,y,v,k,x){return o.createResizedImage(l,d,h,p,g,b,y,v,k,x)}};_v.exports=r})()),_v.exports}var xK=CK();const lO=du(xK),SK=(t,r=5*1024*1024)=>new Promise((n,o)=>{var y;const a=t.size>r,l=((y=t.type.split("/")[1])==null?void 0:y.toLowerCase())||"unknown";console.log(`Processing image: ${t.size} bytes, format: ${l}, compress: ${a}`);const d=new File([t],`image.${l}`,{type:t.type});let h="JPEG",p="jpg";(l==="png"||l==="gif")&&(h="PNG",p="png");const g=a?70:85,b=a?800:1200;lO.imageFileResizer(d,b,b,h,g,0,v=>{if(v instanceof Blob){console.log(`Image processed: ${v.size} bytes, format: ${h}`);const k=new Image;k.onload=()=>{console.log(`âœ… Compressed image validation passed: ${k.naturalWidth}x${k.naturalHeight}`),n({blob:v,format:p})},k.onerror=()=>{console.error("âŒ Compressed image validation failed - corrupted blob"),o(new Error("Compression created corrupted image data"))},k.src=URL.createObjectURL(v)}else o(new Error("Compression failed - unexpected result type"))},"blob")}),EK=async(t,r,n,o=3,a=3e4)=>{const l=Pp();for(let d=1;d<=o;d++)try{const{blob:h,format:p}=await SK(t),g=`${r}_${Ys()}.${p}`,b=async()=>{const k=Kg(l,`materials/${n}/${g}`),x=await C1(k,h);return{url:await Qg(x.ref),path:x.ref.fullPath,filename:g,originalSize:t.size,compressedSize:h.size}},y=new Promise((k,x)=>{setTimeout(()=>x(new Error(`Upload timeout after ${a}ms`)),a)}),v=await Promise.race([b(),y]);return console.log(`Successfully uploaded image: ${v.filename} (attempt ${d})`,{originalSize:v.originalSize,compressedSize:v.compressedSize,url:v.url}),{url:v.url,path:v.path}}catch(h){const p=h instanceof Error?h.message:"Unknown error";if(console.warn(`Upload attempt ${d}/${o} failed for ${r}: ${p}`),d===o)throw console.error(`All ${o} upload attempts failed for ${r}:`,h),new Error(`Image upload failed after ${o} attempts: ${p}`);const g=Math.min(1e3*Math.pow(2,d-1),5e3);console.log(`Waiting ${g}ms before retry...`),await new Promise(b=>setTimeout(b,g))}throw new Error("Upload failed - should not reach here")},Cv=t=>{const n=`
    <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="#f44336"/>
      <text x="50%" y="45%" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" dominant-baseline="middle">
        Upload Failed
      </text>
      <text x="50%" y="55%" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" dominant-baseline="middle">
        ${t.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30)}
      </text>
    </svg>
  `;try{return`data:image/svg+xml;base64,${btoa(n)}`}catch(o){return console.error("Failed to create fallback placeholder:",o),`data:image/svg+xml,${encodeURIComponent(n)}`}},DK=async(t,r,n,o=3)=>{const a=t.filter(p=>p.imageBlob),l=[];console.log(`Starting batch upload of ${a.length} images (batch size: ${o})`);for(let p=0;p<a.length;p+=o){const g=Math.min(p+o,a.length),b=a.slice(p,g);console.log(`Processing batch ${Math.floor(p/o)+1}/${Math.ceil(a.length/o)} (images ${p+1}-${g})`);const y=b.map(async(v,k)=>{const x=p+k;console.log(`ðŸš€ Starting upload for image ${x+1}/${a.length} (slide ${v.slideNumber})`);try{const C=`slide_${v.slideNumber}_image_${x+1}`,D=EK(v.imageBlob,C,r,1,6e4),S=new Promise((P,B)=>{setTimeout(()=>{B(new Error(`Individual image timeout after 75 seconds for image ${x+1}`))},75e3)}),{url:N}=await Promise.race([D,S]);return console.log(`âœ… Successfully processed image ${x+1}/${a.length}`),{url:N,title:v.description||`Image from Slide ${v.slideNumber}`,originalFilename:v.filename,slideNumber:v.slideNumber,index:x}}catch(C){return console.error(`âŒ Failed to upload image ${x+1}/${a.length} from slide ${v.slideNumber}:`,C),{url:Cv(v.description||`Image from Slide ${v.slideNumber}`),title:v.description||`Image from Slide ${v.slideNumber}`,originalFilename:v.filename,slideNumber:v.slideNumber,index:x}}});try{console.log(`â³ Waiting for batch ${Math.floor(p/o)+1} to complete...`);const v=6e4,k=new Promise((C,D)=>{setTimeout(()=>{D(new Error(`Batch ${Math.floor(p/o)+1} timeout after ${v}ms`))},v)}),x=await Promise.race([Promise.allSettled(y),k]);console.log(`âœ… Batch ${Math.floor(p/o)+1} completed, processing ${x.length} results...`),x.forEach((C,D)=>{const S=p+D;if(C.status==="fulfilled")l.push(C.value),console.log(`âœ… Image ${S+1}/${a.length} uploaded successfully`);else{console.error(`âŒ Image ${S+1}/${a.length} failed:`,C.reason);const N=b[D];l.push({url:Cv(N.description||`Image from Slide ${N.slideNumber}`),title:N.description||`Image from Slide ${N.slideNumber}`,originalFilename:N.filename,slideNumber:N.slideNumber})}n==null||n(S+1,a.length)})}catch(v){console.error(`âŒ Batch ${Math.floor(p/o)+1} failed or timed out:`,v),b.forEach((k,x)=>{const C=p+x;console.log(`ðŸ”„ Creating fallback for timed out image ${C+1}/${a.length}`),l.push({url:Cv(k.description||`Image from Slide ${k.slideNumber}`),title:k.description||`Image from Slide ${k.slideNumber}`,originalFilename:k.filename,slideNumber:k.slideNumber}),n==null||n(C+1,a.length)})}g<a.length&&(console.log("â³ Waiting 2 seconds before next batch..."),await new Promise(v=>setTimeout(v,2e3)))}l.sort((p,g)=>(p.index||0)-(g.index||0));const d=l.filter(p=>!p.url.startsWith("data:")).length,h=l.length-d;return console.log(`Upload complete: ${d} successful, ${h} failed out of ${l.length} total`),l};class IK{constructor(r){yt(this,"genAI");yt(this,"model");this.genAI=new aO(r),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.2,topK:3,topP:.9,maxOutputTokens:16384}})}async processMaterialContent(r,n,o,a,l,d){if(!(r!=null&&r.trim()))throw new Error("No content provided for processing");l==null||l({stage:"analyzing",percentage:20,currentOperation:"Analyzing document structure..."});const h=r.length,p=Math.ceil(h/4);if(h>15e3||p>4e3){console.log(`Document is large (${h} chars, ~${p} tokens), using chunked processing`);const g=r.substring(0,15e3);return console.log("Truncating input to prevent AI response truncation"),this.processSingleMaterial(g+`

[Content truncated for processing]`,n,o,a,l,d)}return this.processSingleMaterial(r,n,o,a,l,d)}async processSingleMaterial(r,n,o,a,l,d){const h=this.buildMaterialAnalysisPrompt(r,n,o,a,d);l==null||l({stage:"analyzing",percentage:40,currentOperation:"Processing with AI..."});try{const b=(await(await this.model.generateContent(h)).response).text();if(!b||b.trim().length===0)throw new Error("Empty response from AI service");l==null||l({stage:"structuring",percentage:70,currentOperation:"Structuring content..."});let y=b.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();console.log("Raw response text (first 1000 chars):",b.substring(0,1e3)),console.log("Cleaned text (first 1000 chars):",y.substring(0,1e3)),y=this.repairTruncatedJSON(y);let v;try{v=JSON.parse(y)}catch(k){throw console.error("JSON parsing failed:",k),console.error("Raw response text (first 1000 chars):",b.substring(0,1e3)),console.error("Cleaned text (first 1000 chars):",y.substring(0,1e3)),new Error("AI response format invalid - unable to parse JSON")}if(!v||typeof v!="object")throw new Error("AI response is not a valid object");return l==null||l({stage:"complete",percentage:100,currentOperation:"Processing complete!"}),this.validateAndSanitizeMaterialResponse(v,n,o)}catch(p){if(console.error("Material Import AI Error:",p),l==null||l({stage:"error",percentage:0,currentOperation:`Error: ${p instanceof Error?p.message:"Unknown error"}`}),p instanceof Error){if(p.message.includes("API_KEY_INVALID")||p.message.includes("API key"))throw new Error("Invalid API key. Please check your material import API key configuration.");if(p.message.includes("RATE_LIMIT_EXCEEDED"))throw new Error("Rate limit exceeded. Please try again in a few minutes.");if(p.message.includes("SAFETY"))throw new Error("Content flagged by safety filters. Please try with different content.")}throw new Error(`Material processing failed: ${p instanceof Error?p.message:"Unknown error"}`)}}async processLargeMaterial(r,n,o,a,l){l==null||l({stage:"analyzing",percentage:10,currentOperation:"Processing large document with chunking..."});const d=this.chunkMaterialText(r);let h=null;const p=[];l==null||l({stage:"analyzing",percentage:30,currentOperation:`Processing main content (1/${d.length})...`,subSteps:{current:1,total:d.length,description:"Analyzing primary structure"}}),h=await this.processSingleMaterial(d[0],n,o,a);for(let b=1;b<d.length;b++){l==null||l({stage:"analyzing",percentage:30+40*b/d.length,currentOperation:`Processing additional content (${b+1}/${d.length})...`,subSteps:{current:b+1,total:d.length,description:"Extracting supplementary details"}});try{const y=await this.processChunkForAdditionalContent(d[b],n,o);y&&p.push(y)}catch(y){console.warn(`Failed to process chunk ${b+1}:`,y)}}l==null||l({stage:"structuring",percentage:80,currentOperation:"Merging content from all sections..."});const g=this.mergeChunkedMaterialResults(h,p);return l==null||l({stage:"complete",percentage:100,currentOperation:"Large document processing complete!"}),g}buildMaterialAnalysisPrompt(r,n,o,a,l){const d=this.getFileTypeContext(o);return`
Analyze this ${d} educational material and extract structured information for course content management.

File: ${n}
Type: ${o}

CONTENT:
${r}

${l!=null&&l.images&&l.images.length>0?`
DETECTED IMAGES:
${l.images.map((h,p)=>`${p+1}. ${h.description||`Image ${p+1}`}${h.slideNumber?` (Slide ${h.slideNumber})`:""}${h.altText?` - ${h.altText}`:""}`).join(`
`)}

CRITICAL IMAGE PLACEMENT INSTRUCTIONS:
- Each image MUST be placed in the section corresponding to its slide number
- If "Image X (Slide Y)" is detected, place it in the section created from Slide Y content
- Each image should have a unique, descriptive title based on its context
- Include slideNumber property in each image object for proper matching
- DO NOT reuse the same image in multiple sections
`:""}

Please extract and structure this content into a comprehensive educational material format. Focus on:

1. **Document Structure**: Identify main topics, subtopics, and hierarchical organization
2. **Content Quality**: Preserve important educational information and context
3. **Visual Elements**: Note references to images, diagrams, charts (even if not extractable)
4. **Links and Resources**: Extract any URLs, references, or external resources mentioned
5. **Learning Context**: Maintain educational value and logical flow

${d==="presentation slide deck"?`
SPECIAL INSTRUCTIONS FOR PRESENTATIONS:
- Each slide should become a section or subsection
- Preserve slide order and hierarchy
- Note slide titles and main content points
- Identify slide transitions and logical groupings
- Extract speaker notes or additional context if present
`:""}

Return ONLY a JSON object with this exact structure:
{
  "title": "Material title (extracted from content or filename)",
  "description": "Brief description of the material content",
  "header": {
    "title": "Introduction or Overview",
    "content": "HTML formatted introductory content"
  },
  "footer": {
    "title": "Summary or Conclusion", 
    "content": "HTML formatted concluding content"
  },
  "sections": [
    {
      "title": "Section Title",
      "content": "HTML formatted main section content",
      "subsections": [
        {
          "title": "Subsection Title",
          "content": "HTML formatted subsection content",
          "subSubsections": [
            {
              "title": "Sub-subsection Title",
              "content": "HTML formatted detailed content",
              "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 2}],
              "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
            }
          ],
          "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 3}],
          "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
        }
      ],
      "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 4}],
      "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
    }
  ],
  "sourceInfo": {
    "fileName": "${n}",
    "fileType": "${o}",
    "extractedAt": "${new Date().toISOString()}",
    "originalFileReference": "Reference to original file for debugging"
  },
  "images": [{"url": "", "title": "Overall image description", "description": "Context", "slideNumber": 1}],
  "links": [{"title": "Overall link title", "url": "URL", "description": "Link context"}]
}

CRITICAL JSON FORMATTING RULES:
- Return ONLY valid JSON - no comments, no explanations, no additional text
- Use proper HTML tags for content formatting (<p>, <h1>-<h6>, <ul>, <ol>, <li>, <strong>, <em>, <br>)
- Preserve educational structure and hierarchy
- Create logical sections based on content organization
- For images: Use placeholder URLs with descriptive titles, context, and slideNumber property
-- IMPORTANT: Each image object MUST include "slideNumber" property matching the source slide
- For links: Extract actual URLs when present, provide context
- Complete ALL sections and subsections - do not use comments like "// ... continue"
- Ensure all JSON arrays and objects are properly closed
- Maintain educational value and readability

IMPORTANT: Your response must be complete, valid JSON that can be parsed directly. Do not include any explanatory text, comments, or incomplete sections. End your response when the JSON object is complete.
`}async processChunkForAdditionalContent(r,n,o){const a=`
Extract additional educational content from this section of the material:

File: ${n}
Type: ${o}

CONTENT:
${r}

Focus on extracting any additional sections, detailed information, or supplementary content that should be included in the educational material.

Return ONLY a JSON object with additional sections, images, or links:
{
  "sections": [...],
  "images": [...],
  "links": [...]
}
`;try{const h=(await(await this.model.generateContent(a)).response).text();if(!h||h.trim().length===0)return null;let p;try{p=this.extractValidJSON(h)}catch(g){try{p=this.fallbackJSONExtraction(h)}catch{throw g}}return JSON.parse(p)}catch(l){return console.warn("Failed to process additional content chunk:",l),null}}chunkMaterialText(r,n=25e3){const o=[],a=r.split(`
`);let l="";for(const d of a)l.length+d.length>n&&l.length>0?(o.push(l.trim()),l=d):l+=(l?`
`:"")+d;return l.trim()&&o.push(l.trim()),o.length>0?o:[r]}mergeChunkedMaterialResults(r,n){const o={...r};for(const a of n)a.sections&&Array.isArray(a.sections)&&(o.sections=[...o.sections,...a.sections]),a.images&&Array.isArray(a.images)&&(o.images=[...o.images||[],...a.images]),a.links&&Array.isArray(a.links)&&(o.links=[...o.links||[],...a.links]);return o}extractValidJSON(r){let n=r.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();n=n.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const o=n.indexOf("{");if(o===-1)throw new Error("No JSON object found in response");n=n.substring(o);let a=0,l=-1,d=!1,h=!1;for(let b=0;b<n.length;b++){const y=n[b];if(h){h=!1;continue}if(y==="\\"){h=!0;continue}if(y==='"'&&!h){d=!d;continue}if(!d){if(y==="{")a++;else if(y==="}"&&(a--,a===0)){l=b+1;break}}}if(l===-1)throw new Error("No matching closing brace found for JSON object");let p=n.substring(0,l);p=p.replace(/,(\s*[}\]])/g,"$1"),this.detectTruncatedJSON(p)&&(console.warn("Detected truncated JSON response, attempting repair"),p=this.attemptJSONRepair(p));try{return JSON.parse(p),p}catch(b){console.warn("Initial JSON parsing failed, attempting to fix common issues:",b);const y=this.attemptJSONRepair(p);try{return JSON.parse(y),y}catch(v){throw console.error("JSON repair failed:",v),new Error(`Invalid JSON structure: ${v.message}`)}}}detectTruncatedJSON(r){const n=r.trim(),o=[/"[^"]*$/,/:\s*$/,/,\s*$/,/"[a-zA-Z]+\w*$/,/[a-zA-Z]+\w*$/,/\[\s*$/,/{\s*$/];for(const l of o)if(l.test(n))return console.log(`Truncation detected: ${l.toString()}`),!0;const a=n.charAt(n.length-1);return a!=="}"&&a!=="]"?(console.log(`Truncation detected: JSON doesn't end with } or ], ends with: "${a}"`),!0):!1}detectTruncatedResponse(r){const o=r.trim().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),a=[/"[^"]*$/,/\w+$/,/:\s*$/,/,\s*$/,!o.endsWith("}"),!o.endsWith("]"),o.length<500];for(let l=0;l<a.length-1;l++){const d=a[l];if(d instanceof RegExp&&d.test(o))return!0}return!!(a[a.length-3]||a[a.length-2]||a[a.length-1])}attemptJSONRepair(r){let n=r;const o=n.split(`
`),a=[];for(const g of o){const b=g.trim();b.startsWith("//")||b.includes("... (Continue")||b.includes("continue structuring")||b.includes("similarly")||a.push(g)}n=a.join(`
`),n=n.replace(/,(\s*[}\]])/g,"$1");const l=(n.match(/{/g)||[]).length,d=(n.match(/}/g)||[]).length,h=(n.match(/\[/g)||[]).length,p=(n.match(/\]/g)||[]).length;for(let g=0;g<l-d;g++)n+="}";for(let g=0;g<h-p;g++)n+="]";return n}fallbackJSONExtraction(r){console.log("Attempting fallback JSON extraction...");let n=r.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();n=n.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const o=n.indexOf("{");if(o===-1)throw new Error("No JSON object found in response");n=n.substring(o);const a=[/}\s*$/m,/}\s*\n\s*[A-Z]/m,/}\s*\n\s*This/m,/}\s*\n\s*Note:/m];let l=-1;for(const h of a){const p=n.match(h);if(p&&p.index!==void 0){const g=p.index+p[0].indexOf("}")+1;(l===-1||g<l)&&(l=g)}}l>0&&(n=n.substring(0,l));const d=this.attemptJSONRepair(n);try{return JSON.parse(d),d}catch{return console.log("Attempting aggressive JSON repair..."),this.aggressiveJSONRepair(n)}}aggressiveJSONRepair(r){let n=r;const o=n.split(`
`),a=[];for(const g of o){const b=g.trim();if(b.startsWith("//")||b.includes("... (")||b.includes("continue")||b.includes("similarly")||b.includes("Remember to")||b.includes("This structure")||b.length>0&&!b.includes('"')&&!b.includes("{")&&!b.includes("}")&&!b.includes("[")&&!b.includes("]"))break;a.push(g)}n=a.join(`
`),n=n.replace(/,(\s*[}\]])/g,"$1");const l=(n.match(/{/g)||[]).length,d=(n.match(/}/g)||[]).length,h=(n.match(/\[/g)||[]).length,p=(n.match(/\]/g)||[]).length;for(let g=0;g<l-d;g++)n+=`
}`;for(let g=0;g<h-p;g++)n+=`
]`;return n=n.replace(/,(\s*[}\]])/g,"$1"),n}repairTruncatedJSON(r){let n=r;const o=n.split(`
`),a=[];for(const g of o){const b=g.trim();if(b.length===0){a.push(g);continue}if(b.match(/^"[^"]*$/)){a.push('"": ""');break}if(b.match(/:\s*"[^"]*$/)){a.push(b.replace(/:\s*"[^"]*$/,': ""'));break}if(b.match(/^[a-zA-Z]+\w*$/))break;a.push(g)}n=a.join(`
`),n=n.replace(/,(\s*[}\]])/g,"$1"),n=n.replace(/,\s*$/,"");const l=(n.match(/{/g)||[]).length,d=(n.match(/}/g)||[]).length,h=(n.match(/\[/g)||[]).length,p=(n.match(/\]/g)||[]).length;console.log(`JSON structure analysis: ${l} open braces, ${d} close braces, ${h} open brackets, ${p} close brackets`);for(let g=0;g<h-p;g++)n+=`
]`;for(let g=0;g<l-d;g++)n+=`
}`;return n=n.replace(/,(\s*[}\]])/g,"$1"),console.log("Repaired JSON (first 1000 chars):",n.substring(0,1e3)),n}getFileTypeContext(r){const n=r.toLowerCase();return n.includes("presentation")||n.includes("powerpoint")||n.includes("pptx")?"presentation slide deck":n.includes("pdf")?"PDF document":n.includes("word")||n.includes("docx")?"Word document":"document"}validateAndSanitizeMaterialResponse(r,n,o){var l,d,h,p,g;const a={title:r.title||n.replace(/\.[^/.]+$/,"")||"Untitled Material",description:r.description||"",header:{title:((l=r.header)==null?void 0:l.title)||"Introduction",content:((d=r.header)==null?void 0:d.content)||""},footer:{title:((h=r.footer)==null?void 0:h.title)||"Summary",content:((p=r.footer)==null?void 0:p.content)||""},sections:[],sourceInfo:{fileName:n,fileType:o,extractedAt:new Date().toISOString(),originalFileReference:((g=r.sourceInfo)==null?void 0:g.originalFileReference)||n},images:Array.isArray(r.images)?r.images:[],links:Array.isArray(r.links)?r.links:[]};return Array.isArray(r.sections)&&(a.sections=r.sections.map(b=>({title:b.title||"Section",content:b.content||"",subsections:Array.isArray(b.subsections)?b.subsections.map(y=>({title:y.title||"Subsection",content:y.content||"",subSubsections:Array.isArray(y.subSubsections)?y.subSubsections.map(v=>({title:v.title||"Sub-subsection",content:v.content||"",images:Array.isArray(v.images)?v.images:[],links:Array.isArray(v.links)?v.links:[]})):[],images:Array.isArray(y.images)?y.images:[],links:Array.isArray(y.links)?y.links:[]})):[],images:Array.isArray(b.images)?b.images:[],links:Array.isArray(b.links)?b.links:[]}))),a.sections.length===0&&a.sections.push({title:"Main Content",content:"Content extracted from the uploaded material.",subsections:[],images:[],links:[]}),a}convertToMaterialFormat(r,n,o){const a=(h,p=400,g=300)=>{const b=h.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30),y=`
        <svg width="${p}" height="${g}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${b}
          </text>
        </svg>
      `;try{return`data:image/svg+xml;base64,${btoa(y)}`}catch(v){return console.error("Failed to create placeholder image URL:",v),`data:image/svg+xml,${encodeURIComponent(y)}`}},l=h=>{const p=(h==null?void 0:h.map(g=>{const b=a(g.title||"Image"),y={url:g.url&&g.url.trim()?g.url:b,title:g.title||g.description||"Detected Image"};return console.log("Enhanced image (preview):",y),y}))||[];return console.log(`Enhanced ${p.length} images for material preview`),p},d=h=>{var p;return{id:Ys(),title:h.title,content:h.content,subsections:((p=h.subsections)==null?void 0:p.map(g=>{var b;return{id:Ys(),title:g.title,content:g.content,subSubsections:((b=g.subSubsections)==null?void 0:b.map(y=>({id:Ys(),title:y.title,content:y.content,images:l(y.images||[]),links:y.links||[]})))||[],images:l(g.images||[]),links:g.links||[]}}))||[],images:l(h.images||[]),links:h.links||[]}};return{course:n,title:r.title,header:r.header,footer:r.footer,sections:r.sections.map(d),author:o,published:!1,sourceInfo:r.sourceInfo}}async convertToMaterialFormatWithImageUpload(r,n,o,a,l,d){var k;let h=[];if(l!=null&&l.images)try{console.log(`Uploading ${l.images.length} extracted images...`),h=await DK(l.images,a,d),console.log(`Successfully uploaded ${h.length} images`)}catch(x){console.error("Failed to upload extracted images:",x)}const p=(x,C=400,D=300)=>{const S=x.substring(0,30),N=`
        <svg width="${C}" height="${D}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${S}
          </text>
        </svg>
      `;return`data:image/svg+xml;base64,${btoa(N)}`},g=x=>{const C=[...h],D=(x==null?void 0:x.map(S=>{let N=null;if(S.slideNumber&&C.length>0){const B=C.find($=>$.slideNumber===S.slideNumber);if(B){N=B;const $=C.indexOf(B);C.splice($,1)}}if(!N&&C.length>0){const B=(S.title||S.description||"").toLowerCase().split(" "),$=C.find(V=>{const M=V.title.toLowerCase().split(" ");return B.some(L=>L.length>3&&M.some(q=>q.includes(L)))});if($){N=$;const V=C.indexOf($);C.splice(V,1)}}!N&&C.length>0&&(N=C.shift());const P={url:(N==null?void 0:N.url)||(S.url&&S.url.trim()?S.url:p(S.title||"Image")),title:(N==null?void 0:N.title)||S.title||S.description||"Detected Image"};return console.log("Enhanced image with upload:",{...P,url:P.url.substring(0,100)+"...",isUploaded:!!N,originalSlideNumber:S.slideNumber,matchedSlideNumber:N==null?void 0:N.slideNumber,matchStrategy:N?N.slideNumber===S.slideNumber?"slideNumber":P.title.includes(S.title)?"title":"sequential":"placeholder",availableCount:C.length}),P}))||[];return console.log(`Enhanced ${D.length} images for material (${h.length} uploaded, ${C.length} remaining)`),D},b=x=>{var C;return{id:Ys(),title:x.title,content:x.content,images:g(x.images||[]),links:x.links||[],subsections:((C=x.subsections)==null?void 0:C.map(y))||[]}},y=x=>{var C;return{id:Ys(),title:x.title,content:x.content,images:g(x.images||[]),links:x.links||[],subSubsections:((C=x.subSubsections)==null?void 0:C.map(v))||[]}},v=x=>({id:Ys(),title:x.title,content:x.content,images:g(x.images||[]),links:x.links||[]});return{course:n,title:r.title,header:r.header||{title:"",content:""},footer:r.footer||{title:"",content:""},sections:((k=r.sections)==null?void 0:k.map(b))||[],author:o,published:!1,scheduledTimestamp:null}}}let W0=null;const cO=t=>{const r=t||"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0";if(!W0&&r&&(W0=new IK(r)),!W0)throw new Error("Material Import service not initialized. Please configure VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.");return W0},TK=async t=>{try{const r=await Ki(()=>import("./pdf-DQ7craWA.js"),[]),n="/nexlab";r.GlobalWorkerOptions.workerSrc=`${n}/js/pdf.worker.min.js`;const o=await t.arrayBuffer(),a=await r.getDocument({data:o}).promise,l=a.numPages;let d="";for(let h=1;h<=l;h++){const b=(await(await a.getPage(h)).getTextContent()).items.filter(y=>y&&typeof y.str=="string").map(y=>y.str).join(" ").trim();b&&(d+=b+`

`)}return{text:d.trim(),metadata:{pageCount:l,wordCount:d.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"PDF.js"}}}catch(r){throw{message:"Failed to extract text from PDF file. Please ensure the PDF contains selectable text.",code:"PDF_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},NK=async t=>{try{const r=await Ki(()=>import("./index-QVMK1ZxG.js").then(a=>a.i),__vite__mapDeps([0,1])),n=await t.arrayBuffer(),o=await r.extractRawText({arrayBuffer:n});return o.messages&&o.messages.length>0&&console.warn("DOCX extraction warnings:",o.messages),{text:o.value.trim(),metadata:{wordCount:o.value.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"Mammoth"}}}catch(r){throw{message:"Failed to extract text from Word document. Please ensure the file is not corrupted.",code:"DOCX_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},MK=async t=>{var r,n;try{const o=(await Ki(async()=>{const{default:y}=await import("./index-DlpswmMY.js").then(v=>v.i);return{default:y}},__vite__mapDeps([2,1]))).default,a=await t.arrayBuffer(),l=new o(a);let d="",h=0;const p=[],g=Object.keys(l.files).filter(y=>y.startsWith("ppt/slides/slide")&&y.endsWith(".xml"));h=g.length;for(const y of g)try{const v=l.files[y].asText(),k=parseInt(((r=y.match(/slide(\d+)\.xml/))==null?void 0:r[1])||"0"),x=v.matchAll(/<a:blip[^>]*r:embed="([^"]*)"[^>]*>/g);for(const S of x){const N=S[1],P=v.match(new RegExp('<p:cNvPr[^>]*name="([^"]*)"[^>]*>',"i")),B=v.match(new RegExp('<p:cNvPr[^>]*descr="([^"]*)"[^>]*>',"i")),$=v.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();let V=`Image on slide ${k}`;const M=["chart","graph","diagram","figure","table","photo","image","illustration","screenshot","logo","flowchart","timeline","comparison","data","results","example","structure","process"],L=$.toLowerCase().split(/\s+/),q=M.filter(H=>L.some(F=>F.includes(H)));if(q.length>0)V=`${q[0].charAt(0).toUpperCase()+q[0].slice(1)} (Slide ${k})`;else if($.length>0){const H=L.slice(0,3).join(" ");H.length>5&&(V=`Image: ${H}... (Slide ${k})`)}let Q;try{const H=`ppt/slides/_rels/slide${k}.xml.rels`;if(l.files[H]){const G=l.files[H].asText().match(new RegExp(`Id="${N}"[^>]*Target="([^"]*)"`,"i"));if(G){const R=G[1],ne=R.startsWith("../")?`ppt/${R.substring(3)}`:`ppt/slides/${R}`;if(l.files[ne]){const ue=l.files[ne].asUint8Array();let ie="image/jpeg";ne.toLowerCase().includes(".png")?ie="image/png":ne.toLowerCase().includes(".gif")?ie="image/gif":ne.toLowerCase().includes(".bmp")?ie="image/bmp":ne.toLowerCase().includes(".webp")&&(ie="image/webp"),Q=new Blob([ue],{type:ie}),console.log(`Extracted image blob for slide ${k}:`,{size:Q.size,type:ie,path:ne})}}}}catch(H){console.warn(`Failed to extract image blob for ${N} on slide ${k}:`,H)}p.push({slideNumber:k,description:(P==null?void 0:P[1])||V,altText:(B==null?void 0:B[1])||void 0,filename:N,embedId:N,imageBlob:Q})}const C=v.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();C&&(d+=`
--- Slide ${k} ---
${C}
`);const D=p.filter(S=>S.slideNumber===k);D.length>0&&(d+=`
[IMAGES ON SLIDE ${k}]: `,D.forEach(S=>{d+=`"${S.description}"${S.altText?` (${S.altText})`:""}, `}),d=d.slice(0,-2)+`
`)}catch(v){console.warn(`Failed to extract text from ${y}:`,v)}const b=Object.keys(l.files).filter(y=>y.startsWith("ppt/notesSlides/notesSlide")&&y.endsWith(".xml"));for(const y of b)try{const k=l.files[y].asText().replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();if(k){const x=((n=y.match(/notesSlide(\d+)\.xml/))==null?void 0:n[1])||"unknown";d+=`
--- Notes for Slide ${x} ---
${k}
`}}catch(v){console.warn(`Failed to extract notes from ${y}:`,v)}if(!d.trim())throw new Error("No text content found in PowerPoint file");return{text:d.trim(),metadata:{slideCount:h,wordCount:d.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"PizZip",images:p.length>0?p:void 0}}}catch(o){throw{message:"Failed to extract text from PowerPoint file. Please ensure the file is not corrupted and contains text content.",code:"PPTX_EXTRACTION_ERROR",originalError:o instanceof Error?o:new Error(String(o))}}},PK=async t=>{try{const r=await t.text();return{text:r.trim(),metadata:{wordCount:r.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"Native"}}}catch(r){throw{message:"Failed to extract text from text file",code:"TXT_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},uO=async t=>{if(!t)throw{message:"No file provided",code:"NO_FILE_ERROR"};const r=t.type.toLowerCase(),n=t.name.toLowerCase();try{if(r==="application/pdf"||n.endsWith(".pdf"))return await TK(t);if(r==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||n.endsWith(".docx"))return await NK(t);if(r==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||n.endsWith(".pptx"))return await MK(t);if(r==="text/plain"||n.endsWith(".txt"))return await PK(t);throw{message:`Unsupported file format: ${r||"unknown"}. Supported formats: PDF (.pdf), Word (.docx), PowerPoint (.pptx), Text (.txt)`,code:"UNSUPPORTED_FORMAT_ERROR"}}catch(o){throw o&&typeof o=="object"&&"code"in o?o:{message:`Failed to extract text from ${t.name}`,code:"GENERIC_EXTRACTION_ERROR",originalError:o instanceof Error?o:new Error(String(o))}}},dO=t=>{const n=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain"],o=[".pdf",".docx",".pptx",".txt"];if(t.size>52428800)return{isValid:!1,error:`File size (${(t.size/1024/1024).toFixed(1)}MB) exceeds the maximum limit of 50MB.`};const a=t.type.toLowerCase(),l=t.name.toLowerCase(),d=n.includes(a),h=o.some(p=>l.endsWith(p));return!d&&!h?{isValid:!1,error:`Unsupported file format. Please upload files with extensions: ${o.join(", ")}`}:{isValid:!0}},hO=t=>{const r=t.type.toLowerCase(),n=t.name.toLowerCase();return r==="application/pdf"||n.endsWith(".pdf")?"PDF Document":r==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||n.endsWith(".docx")?"Word Document":r==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||n.endsWith(".pptx")?"PowerPoint Presentation":r==="text/plain"||n.endsWith(".txt")?"Text File":"Unknown Format"},OK=t=>{const r=t.size/1048576,n=t.type.toLowerCase();let o=0;return n==="application/pdf"?o=Math.max(2,r*.5):n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?o=Math.max(1,r*.3):n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?o=Math.max(1.5,r*.4):o=Math.max(.5,r*.1),Math.round(o)},eT={isProcessing:!1,progress:null,error:null,uploadedFile:null,extractedText:null,extractionResult:null,aiExtractedData:null,convertedMaterial:null,processingOptions:{maxOutputTokens:4096,topK:1,topP:.1,preserveFormatting:!0,extractImages:!0,extractLinks:!0}},jp=tb()(E1((t,r)=>({...eT,setUploadedFile:n=>{t({uploadedFile:n,extractedText:null,extractionResult:null,aiExtractedData:null,convertedMaterial:null,error:null})},extractTextFromFile:async()=>{const{uploadedFile:n}=r();if(!n){t({error:"No file uploaded"});return}try{const o=dO(n);if(!o.isValid){t({error:o.error||"Invalid file"});return}}catch(o){console.error("File validation error:",o),t({error:"Failed to validate file"});return}t({isProcessing:!0,error:null,progress:{stage:"extracting",percentage:10,currentOperation:`Extracting text from ${hO(n)}...`}});try{const o=await uO(n);if(!o||!o.text||o.text.trim().length===0)throw new Error("No text content could be extracted from the file");const a=o.text.trim().split(/\s+/).length;a<5&&console.warn("Very short text extracted:",{wordCount:a,text:o.text.substring(0,100)}),t({extractedText:o.text,extractionResult:o,progress:{stage:"extracting",percentage:100,currentOperation:"Text extraction complete!"}}),setTimeout(()=>{t({isProcessing:!1,progress:null})},500)}catch(o){console.error("Text extraction error:",o);const a=o;let l="Failed to extract text from file";a.code==="PDF_EXTRACTION_ERROR"?l="Could not extract text from PDF. The file may be image-based or corrupted.":a.code==="DOCX_EXTRACTION_ERROR"?l="Could not extract text from Word document. Please check the file is not corrupted.":a.code==="PPTX_EXTRACTION_ERROR"?l="Could not extract text from PowerPoint presentation. Please ensure it contains text content.":a.message&&(l=a.message),t({error:l,isProcessing:!1,progress:null})}},processWithAI:async(n,o,a)=>{var b;const{uploadedFile:l,extractedText:d,extractionResult:h,processingOptions:p}=r();if(!(n!=null&&n.trim())){t({error:"Course ID is required for AI processing"});return}if(!(o!=null&&o.trim())){t({error:"Author ID is required for AI processing"});return}if(!l||!(d!=null&&d.trim())){t({error:"No file or extracted text available for AI processing"});return}const g=d.trim().split(/\s+/).length;if(g<10){t({error:"Extracted text is too short for meaningful AI processing (minimum 10 words required)"});return}g>5e4&&console.warn("Very large text content detected:",{wordCount:g,fileName:l.name}),t({isProcessing:!0,error:null,progress:{stage:"analyzing",percentage:0,currentOperation:"Initializing AI processing..."}});try{let y;try{y=cO(a)}catch(S){console.error("Service initialization error:",S);let N="Material import service not available.";S instanceof Error&&(S.message.includes("API key")?N="API key not configured. Please set VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.":N=`Service error: ${S.message}`),t({error:N,isProcessing:!1,progress:null});return}const v={maxOutputTokens:Math.min(Math.max(p.maxOutputTokens||16384,8192),32768),topK:Math.min(Math.max(p.topK||3,1),10),topP:Math.min(Math.max(p.topP||.9,.1),1),preserveFormatting:!!p.preserveFormatting,extractImages:!!p.extractImages,extractLinks:!!p.extractLinks},k=12e4,x=new Promise((S,N)=>{setTimeout(()=>N(new Error("AI processing timeout - please try with a smaller file")),k)}),C=await Promise.race([y.processMaterialContent(d,l.name,l.type,v,S=>{S&&typeof S=="object"&&t({progress:S})},h==null?void 0:h.metadata),x]);if(!C||typeof C!="object")throw new Error("Invalid AI processing result received");(b=C.title)!=null&&b.trim()||(console.warn("AI result missing title, using filename as fallback"),C.title=l.name.replace(/\.[^/.]+$/,"")||"Untitled Material"),(!C.sections||!Array.isArray(C.sections)||C.sections.length===0)&&(console.warn("AI result missing sections, creating default section"),C.sections=[{title:"Main Content",content:"Content extracted from uploaded material.",subsections:[],images:[],links:[]}]);const D=y.convertToMaterialFormat(C,n,o);t({aiExtractedData:C,convertedMaterial:D,isProcessing:!1,progress:{stage:"complete",percentage:100,currentOperation:"Material processing complete!"}}),setTimeout(()=>{t({progress:null})},1500)}catch(y){console.error("AI processing error:",y);let v="Failed to process material with AI";y instanceof Error&&(y.message.includes("timeout")?v="AI processing timed out. Please try with a smaller file or simpler content.":y.message.includes("API key")||y.message.includes("API_KEY_INVALID")?v="Invalid API key. Please check your API key configuration.":y.message.includes("RATE_LIMIT")||y.message.includes("rate limit")?v="API rate limit exceeded. Please wait a few minutes before trying again.":y.message.includes("SAFETY")||y.message.includes("safety")?v="Content flagged by safety filters. Please try with different content.":y.message.includes("network")||y.message.includes("fetch")?v="Network error. Please check your internet connection and try again.":v=`AI processing failed: ${y.message}`),t({error:v,isProcessing:!1,progress:null})}},resetImport:()=>{t(eT)},setProcessingOptions:n=>{t(o=>({processingOptions:{...o.processingOptions,...n}}))},setError:n=>{t({error:n})}}),{name:"material-import-store",partialize:t=>({processingOptions:t.processingOptions})})),jK=()=>{const t=jp();return{setUploadedFile:t.setUploadedFile,extractTextFromFile:t.extractTextFromFile,processWithAI:t.processWithAI,resetImport:t.resetImport,setProcessingOptions:t.setProcessingOptions,setError:t.setError}},LK=()=>{const t=jp();return{isProcessing:t.isProcessing,progress:t.progress,error:t.error,uploadedFile:t.uploadedFile,extractedText:t.extractedText,aiExtractedData:t.aiExtractedData,convertedMaterial:t.convertedMaterial,processingOptions:t.processingOptions}},BA=async(t,r,n,o)=>{const a=jp.getState(),{aiExtractedData:l,extractionResult:d}=a;if(!l)throw new Error("No AI result available for conversion");return await cO().convertToMaterialFormatWithImageUpload(l,t,r,n,d==null?void 0:d.metadata,o)},RK=()=>{const{extractedText:t,isProcessing:r}=jp();return!r&&!!(t!=null&&t.trim())},BK=()=>{const{convertedMaterial:t,isProcessing:r}=jp();return!r&&!!t},tye=Object.freeze(Object.defineProperty({__proto__:null,convertMaterialWithImageUpload:BA,useIsImportComplete:BK,useIsReadyForAI:RK,useMaterialImportActions:jK,useMaterialImportStatus:LK,useMaterialImportStore:jp},Symbol.toStringTag,{value:"Module"})),xv=({onDelete:t,itemType:r})=>{const[n,o]=at.useState(!1),a=()=>{o(!0)},l=()=>{o(!1)},d=()=>{t(),l()};return A.jsxs(A.Fragment,{children:[A.jsx(Ln,{onClick:a,size:"small",children:A.jsx(Ks,{})}),A.jsxs(Qi,{open:n,onClose:l,children:[A.jsx(Ji,{children:`Delete ${r}`}),A.jsx(Zi,{children:A.jsx(Ds,{children:`Are you sure you want to delete this ${r}? This action cannot be undone.`})}),A.jsxs(Xi,{children:[A.jsx(wt,{onClick:l,color:"primary",children:"Cancel"}),A.jsx(wt,{onClick:d,color:"secondary",children:"Delete"})]})]})]})},fO=({sections:t,selected:r,onAddSection:n,onAddSubsection:o,onAddSubSubsection:a,onSelectSection:l,onUpdateSectionTitle:d,onUpdateSubsectionTitle:h,onUpdateSubSubsectionTitle:p,onDeleteSection:g,onDeleteSubsection:b,onDeleteSubSubsection:y,isViewMode:v})=>{const[k,x]=Y.useState(null),[C,D]=Y.useState(null),[S,N]=Y.useState(null),[P,B]=Y.useState(""),[$,V]=Y.useState(t.map(()=>!0)),[M,L]=Y.useState(t.reduce((ie,se,ye)=>(ie[ye]=se.subsections.map(()=>!0),ie),{}));Y.useEffect(()=>{V(t.map(()=>!0))},[t]),Y.useEffect(()=>{const ie=t.reduce((se,ye,re)=>(se[re]=ye.subsections.map(()=>!0),se),{});L(ie)},[t]);const q=ie=>{const se=[...$];se[ie]=!se[ie],V(se)},Q=(ie,se)=>{const ye={...M};ye[ie][se]=!ye[ie][se],L(ye)},H=(ie,se)=>{k!==null?d(k,P):C?h(C.section,C.subsection,P):S&&p(S.section,S.subsection,S.subSubsection,P),x(ie),D(null),N(null),B(se)},F=ie=>{d(ie,P),x(null),B("")},G=(ie,se,ye)=>{k!==null?d(k,P):C?h(C.section,C.subsection,P):S&&p(S.section,S.subsection,S.subSubsection,P),x(null),D({section:ie,subsection:se}),N(null),B(ye)},R=(ie,se)=>{h(ie,se,P),D(null),B("")},ne=(ie,se,ye,re)=>{k!==null?d(k,P):C?h(C.section,C.subsection,P):S&&p(S.section,S.subsection,S.subSubsection,P),x(null),D(null),N({section:ie,subsection:se,subSubsection:ye}),B(re)},ue=(ie,se,ye)=>{p(ie,se,ye,P),N(null),B("")};return A.jsxs(Pe,{sx:{width:"450px",borderRight:"1px solid #ddd",padding:2},children:[A.jsx(je,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Outline"}),!v&&A.jsx(wt,{variant:"contained",color:"primary",onClick:n,sx:{mb:2},children:"+ Add Section"}),A.jsxs(pk,{children:[A.jsx(np,{component:"div",onClick:()=>l("header"),sx:{backgroundColor:r.type==="header"?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:A.jsx(rp,{primary:"Header"})}),t.map((ie,se)=>A.jsxs(Pe,{children:[A.jsxs(np,{component:"div",onClick:()=>l(se),sx:{backgroundColor:r.sectionIndex===se&&r.subsectionIndex===void 0?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[k===se?A.jsxs(A.Fragment,{children:[A.jsx(Jt,{value:P,onChange:ye=>B(ye.target.value),size:"small",sx:{mr:1},disabled:v}),!v&&A.jsx(Ln,{onClick:()=>F(se),size:"small",children:A.jsx(mk,{})})]}):A.jsxs(A.Fragment,{children:[A.jsx(rp,{primary:ie.title}),!v&&A.jsxs(A.Fragment,{children:[A.jsx(Ln,{onClick:()=>H(se,ie.title),size:"small",children:A.jsx(pl,{})}),A.jsx(xv,{onDelete:()=>g(se),itemType:"section"})]})]}),ie.subsections.length>0&&A.jsx(Ln,{onClick:()=>q(se),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:$[se]?A.jsx(zk,{sx:{fontSize:"20px"}}):A.jsx(ys,{sx:{fontSize:"20px"}})}),!v&&A.jsx(wt,{variant:"text",onClick:()=>o(se),size:"small",children:"+ Add Subsection"})]}),$[se]&&A.jsx(pk,{sx:{pl:4},children:ie.subsections.map((ye,re)=>A.jsxs(Pe,{children:[A.jsxs(np,{component:"div",onClick:()=>l(se,re),sx:{backgroundColor:r.sectionIndex===se&&r.subsectionIndex===re&&r.subSubsectionIndex===void 0?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[C&&C.section===se&&C.subsection===re?A.jsxs(A.Fragment,{children:[A.jsx(Jt,{value:P,onChange:_e=>B(_e.target.value),size:"small",sx:{mr:1},disabled:v}),!v&&A.jsx(Ln,{onClick:()=>R(se,re),size:"small",children:A.jsx(mk,{})})]}):A.jsxs(A.Fragment,{children:[A.jsx(rp,{primary:ye.title}),!v&&A.jsxs(A.Fragment,{children:[A.jsx(Ln,{onClick:()=>G(se,re,ye.title),size:"small",children:A.jsx(pl,{})}),A.jsx(xv,{onDelete:()=>b(se,re),itemType:"subsection"})]})]}),ye.subSubsections.length>0&&A.jsx(Ln,{onClick:()=>Q(se,re),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:M[se][re]?A.jsx(zk,{sx:{fontSize:"20px"}}):A.jsx(ys,{sx:{fontSize:"20px"}})}),!v&&A.jsx(wt,{variant:"text",onClick:()=>a(se,re),size:"small",children:"+ Add Sub-Subsection"})]}),M[se][re]&&A.jsx(pk,{sx:{pl:4},children:ye.subSubsections.map((_e,Z)=>A.jsx(np,{component:"div",onClick:()=>l(se,re,Z),sx:{backgroundColor:r.sectionIndex===se&&r.subsectionIndex===re&&r.subSubsectionIndex===Z?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:S&&S.section===se&&S.subsection===re&&S.subSubsection===Z?A.jsxs(A.Fragment,{children:[A.jsx(Jt,{value:P,onChange:J=>B(J.target.value),size:"small",sx:{mr:1},disabled:v}),!v&&A.jsx(Ln,{onClick:()=>ue(se,re,Z),size:"small",children:A.jsx(mk,{})})]}):A.jsxs(A.Fragment,{children:[A.jsx(rp,{primary:_e.title}),!v&&A.jsxs(A.Fragment,{children:[A.jsx(Ln,{onClick:()=>ne(se,re,Z,_e.title),size:"small",children:A.jsx(pl,{})}),A.jsx(xv,{onDelete:()=>y(se,re,Z),itemType:"subSubsection"})]})]})},_e.id))})]},ye.id))})]},ie.id)),A.jsx(np,{component:"div",onClick:()=>l("footer"),sx:{backgroundColor:r.type==="footer"?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:A.jsx(rp,{primary:"Footer"})})]})]})},pO=({returnToSelection:t=!1})=>{const r=Vr(),[n]=S1(),o=n.get("course"),a=()=>{r(t||!o?"/supplemental-materials":`/supplemental-materials?course=${o}`)};return A.jsx(wt,{variant:"text",color:"primary",startIcon:A.jsx(wP,{}),onClick:a,className:"supplemental-back-button",children:t?"Course Selection":"Course Materials"})},FK=({sectionId:t,onImagesUploaded:r})=>{const[n,o]=Y.useState(!1),[a,l]=Y.useState(""),[d,h]=Y.useState("success"),p=Pp(),g=async v=>{if(v.target.files){const k=Array.from(v.target.files),x=[];for(const C of k)try{const D=await b(C),S=await y(D);x.push({url:S.url,title:`Image ${Ys()}`})}catch{l("Failed to upload images"),h("error"),o(!0)}r(x),l("Image(s) uploaded successfully"),h("success"),o(!0)}},b=v=>new Promise((k,x)=>{v.size>5*1024*1024?lO.imageFileResizer(v,500,500,"JPEG",70,0,C=>{typeof C=="string"?x(new Error("Compression returned a string instead of a file")):k(C)},"file"):k(v)}),y=v=>new Promise((k,x)=>{const C=Kg(p,`materials/${t}/${v.name}`);C1(C,v).then(D=>{Qg(D.ref).then(S=>{k({url:S,path:D.ref.fullPath})})}).catch(D=>x(D))});return A.jsxs(Pe,{children:[A.jsxs(Pe,{sx:{mt:2,display:"flex",alignItems:"center"},children:[A.jsx(_W,{sx:{mr:1}}),A.jsx(je,{variant:"h6",children:"Images"})]}),A.jsxs(Pe,{sx:{mt:2},children:[A.jsxs(wt,{variant:"contained",component:"label",color:"primary",children:["Add Image",A.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:g})]}),A.jsx(os,{open:n,autoHideDuration:6e3,onClose:()=>o(!1),children:A.jsx(pr,{onClose:()=>o(!1),severity:d,sx:{width:"100%"},children:a})})]})]})},zK=({imageTitle:t,onTitleChange:r})=>A.jsx(Jt,{variant:"outlined",fullWidth:!0,value:t,onChange:n=>r(n.target.value),placeholder:"Image Title",sx:{mt:1}}),UK=({links:t,onLinksChange:r})=>{const n=()=>{const a={title:"",url:"",description:""};r([...t,a])},o=a=>{const l=t.filter((d,h)=>h!==a);r(l)};return A.jsxs(Pe,{children:[A.jsxs(Pe,{sx:{mt:2,display:"flex",alignItems:"center"},children:[A.jsx(CW,{sx:{mr:1}}),A.jsx(je,{variant:"h6",children:"Links"})]}),A.jsx(Pe,{sx:{mt:1},children:t.map((a,l)=>A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",mb:1},children:[A.jsx(Jt,{label:"Title",value:a.title,onChange:d=>{const h=[...t];h[l].title=d.target.value,r(h)},sx:{flexBasis:"20%",mr:1}}),A.jsx(Jt,{label:"URL",value:a.url,onChange:d=>{const h=[...t];h[l].url=d.target.value,r(h)},sx:{flexBasis:"40%",mr:1}}),A.jsx(Jt,{label:"Description",value:a.description,onChange:d=>{const h=[...t];h[l].description=d.target.value,r(h)},sx:{flexBasis:"40%"}}),A.jsx(Ln,{onClick:()=>o(l),children:A.jsx(Ks,{})})]},l))}),A.jsx(wt,{variant:"contained",onClick:n,sx:{mt:2},children:"Add Link"})]})};var Sv={exports:{}};/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class eC{constructor(r){yt(this,"crashes",[]);yt(this,"state","initializing");yt(this,"_crashNumberLimit");yt(this,"_now",Date.now);yt(this,"_minimumNonErrorTimePeriod");yt(this,"_boundErrorHandler");yt(this,"_listeners");if(this.crashes=[],this._crashNumberLimit=typeof r.crashNumberLimit=="number"?r.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof r.minimumNonErrorTimePeriod=="number"?r.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=n=>{const o="error"in n?n.error:n.reason;o instanceof Error&&this._handleError(o,n)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(r,n){this._listeners[r]||(this._listeners[r]=[]),this._listeners[r].push(n)}off(r,n){this._listeners[r]=this._listeners[r].filter(o=>o!==n)}_fire(r,...n){const o=this._listeners[r]||[];for(const a of o)a.apply(this,[null,...n])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(r,n){if(this._shouldReactToError(r)){this.crashes.push({message:r.message,stack:r.stack,filename:n instanceof ErrorEvent?n.filename:void 0,lineno:n instanceof ErrorEvent?n.lineno:void 0,colno:n instanceof ErrorEvent?n.colno:void 0,date:this._now()});const o=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:r,causesRestart:o}),o?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(r){return r.is&&r.is("CKEditorError")&&r.context!==void 0&&r.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(r)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const r=this.crashes[this.crashes.length-1].date,n=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(r-n)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function qK(t){return t==null||typeof t!="object"&&typeof t!="function"}function VK(t){return Object.getOwnPropertySymbols(t).filter(r=>Object.prototype.propertyIsEnumerable.call(t,r))}function $K(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const HK="[object RegExp]",mO="[object String]",gO="[object Number]",bO="[object Boolean]",kO="[object Arguments]",WK="[object Symbol]",GK="[object Date]",YK="[object Map]",KK="[object Set]",QK="[object Array]",JK="[object ArrayBuffer]",ZK="[object Object]",XK="[object DataView]",eQ="[object Uint8Array]",tQ="[object Uint8ClampedArray]",nQ="[object Uint16Array]",rQ="[object Uint32Array]",iQ="[object Int8Array]",oQ="[object Int16Array]",sQ="[object Int32Array]",aQ="[object Float32Array]",lQ="[object Float64Array]";function cQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function uQ(t,r){return lp(t,void 0,t,new Map,r)}function lp(t,r,n,o=new Map,a=void 0){const l=a==null?void 0:a(t,r,n,o);if(l!=null)return l;if(qK(t))return t;if(o.has(t))return o.get(t);if(Array.isArray(t)){const d=new Array(t.length);o.set(t,d);for(let h=0;h<t.length;h++)d[h]=lp(t[h],h,n,o,a);return Object.hasOwn(t,"index")&&(d.index=t.index),Object.hasOwn(t,"input")&&(d.input=t.input),d}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const d=new RegExp(t.source,t.flags);return d.lastIndex=t.lastIndex,d}if(t instanceof Map){const d=new Map;o.set(t,d);for(const[h,p]of t)d.set(h,lp(p,h,n,o,a));return d}if(t instanceof Set){const d=new Set;o.set(t,d);for(const h of t)d.add(lp(h,void 0,n,o,a));return d}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(cQ(t)){const d=new(Object.getPrototypeOf(t)).constructor(t.length);o.set(t,d);for(let h=0;h<t.length;h++)d[h]=lp(t[h],h,n,o,a);return d}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const d=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return o.set(t,d),gh(d,t,n,o,a),d}if(typeof File<"u"&&t instanceof File){const d=new File([t],t.name,{type:t.type});return o.set(t,d),gh(d,t,n,o,a),d}if(t instanceof Blob){const d=new Blob([t],{type:t.type});return o.set(t,d),gh(d,t,n,o,a),d}if(t instanceof Error){const d=new t.constructor;return o.set(t,d),d.message=t.message,d.name=t.name,d.stack=t.stack,d.cause=t.cause,gh(d,t,n,o,a),d}if(typeof t=="object"&&dQ(t)){const d=Object.create(Object.getPrototypeOf(t));return o.set(t,d),gh(d,t,n,o,a),d}return t}function gh(t,r,n=t,o,a){const l=[...Object.keys(r),...VK(r)];for(let d=0;d<l.length;d++){const h=l[d],p=Object.getOwnPropertyDescriptor(t,h);(p==null||p.writable)&&(t[h]=lp(r[h],h,n,o,a))}}function dQ(t){switch($K(t)){case kO:case QK:case JK:case XK:case bO:case GK:case aQ:case lQ:case iQ:case oQ:case sQ:case YK:case gO:case ZK:case HK:case KK:case mO:case WK:case eQ:case tQ:case nQ:case rQ:return!0;default:return!1}}function hQ(t,r){return uQ(t,(n,o,a,l)=>{const d=r==null?void 0:r(n,o,a,l);if(d!=null)return d;if(typeof t=="object")switch(Object.prototype.toString.call(t)){case gO:case mO:case bO:{const h=new t.constructor(t==null?void 0:t.valueOf());return gh(h,t),h}case kO:{const h={};return gh(h,t),h.length=t.length,h[Symbol.iterator]=t[Symbol.iterator],h}default:return}})}function fQ(t){return typeof t=="object"&&t!==null}function pQ(t,r,{signal:n,edges:o}={}){let a,l=null;const d=o!=null&&o.includes("leading"),h=o==null||o.includes("trailing"),p=()=>{l!==null&&(t.apply(a,l),a=void 0,l=null)},g=()=>{h&&p(),k()};let b=null;const y=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},v=()=>{b!==null&&(clearTimeout(b),b=null)},k=()=>{v(),a=void 0,l=null},x=()=>{v(),p()},C=function(...D){if(n!=null&&n.aborted)return;a=this,l=D;const S=b==null;y(),d&&S&&p()};return C.schedule=y,C.cancel=k,C.flush=x,n==null||n.addEventListener("abort",k,{once:!0}),C}function mQ(t,r=0,n={}){typeof n!="object"&&(n={});const{leading:o=!1,trailing:a=!0,maxWait:l}=n,d=Array(2);o&&(d[0]="leading"),a&&(d[1]="trailing");let h,p=null;const g=pQ(function(...v){h=t.apply(this,v),p=null},r,{edges:d}),b=function(...v){return l!=null&&(p===null&&(p=Date.now()),Date.now()-p>=l)?(h=t.apply(this,v),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,v),h)},y=()=>(g.flush(),h);return b.cancel=g.cancel,b.flush=y,b}function gQ(t,r=0,n={}){typeof n!="object"&&(n={});const{leading:o=!0,trailing:a=!0}=n;return mQ(t,r,{leading:o,trailing:a,maxWait:r})}function bQ(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const o=t[Symbol.toStringTag];return o==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${o}]`}let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}function tT(t){return fQ(t)&&t.nodeType===1&&!bQ(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function FA(t,r=new Set){const n=[t],o=new Set;let a=0;for(;n.length>a;){const l=n[a++];if(!(o.has(l)||!kQ(l)||r.has(l)))if(o.add(l),Symbol.iterator in l)try{for(const d of l)n.push(d)}catch{}else for(const d in l)d!=="defaultValue"&&n.push(l[d])}return o}function kQ(t){const r=Object.prototype.toString.call(t),n=typeof t;return!(n==="number"||n==="boolean"||n==="string"||n==="symbol"||n==="function"||r==="[object Date]"||r==="[object RegExp]"||r==="[object Module]"||t===void 0||t===null||t._watchdogExcluded||t instanceof EventTarget||t instanceof Event)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function wO(t,r,n=new Set){if(t===r&&wQ(t))return!0;const o=FA(t,n),a=FA(r,n);for(const l of o)if(a.has(l))return!0;return!1}function wQ(t){return typeof t=="object"&&t!==null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class yO extends eC{constructor(n,o={}){super(o);yt(this,"_editor",null);yt(this,"_lifecyclePromise",null);yt(this,"_throttledSave");yt(this,"_data");yt(this,"_lastDocumentVersion");yt(this,"_elementOrData");yt(this,"_initUsingData",!0);yt(this,"_editables",{});yt(this,"_config");yt(this,"_excludedProps");this._throttledSave=gQ(this._save.bind(this),typeof o.saveInterval=="number"?o.saveInterval:5e3),n&&(this._creator=(a,l)=>n.create(a,l)),this._destructor=a=>a.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(n=>{console.error("An error happened during the editor destroying.",n)}).then(()=>{const n={},o=[],a=this._config.rootsAttributes||{},l={};for(const[h,p]of Object.entries(this._data.roots))p.isLoaded?(n[h]="",l[h]=a[h]||{}):o.push(h);const d={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:o,rootsAttributes:l,_watchdogInitialData:this._data};return delete d.initialData,d.extraPlugins.push(yQ),this._initUsingData?this.create(n,d,d.context):tT(this._elementOrData)?this.create(this._elementOrData,d,d.context):this.create(this._editables,d,d.context)}).then(()=>{this._fire("restart")})}create(n=this._elementOrData,o=this._config,a){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=n,this._initUsingData=typeof n=="string"||Object.keys(n).length>0&&typeof Object.values(n)[0]=="string",this._config=this._cloneEditorConfiguration(o)||{},this._config.context=a,this._creator(n,this._config))).then(l=>{this._editor=l,l.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=l.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const n=this._editor;return this._editor=null,n.model.document.off("change:data",this._throttledSave),this._destructor(n)})}_save(){const n=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=n}catch(o){console.error(o,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(n){this._excludedProps=n}_getData(){const n=this._editor,o=n.model.document.roots.filter(p=>p.isAttached()&&p.rootName!="$graveyard"),{plugins:a}=n,l=a.has("CommentsRepository")&&a.get("CommentsRepository"),d=a.has("TrackChanges")&&a.get("TrackChanges"),h={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};o.forEach(p=>{h.roots[p.rootName]={content:JSON.stringify(Array.from(p.getChildren())),attributes:JSON.stringify(Array.from(p.getAttributes())),isLoaded:p._isLoaded}});for(const p of n.model.markers)p._affectsData&&(h.markers[p.name]={rangeJSON:p.getRange().toJSON(),usingOperation:p._managedUsingOperations,affectsData:p._affectsData});return l&&(h.commentThreads=JSON.stringify(l.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),d&&(h.suggestions=JSON.stringify(d.getSuggestions({toJSON:!0,skipNotAttached:!0}))),h}_getEditables(){const n={};for(const o of this.editor.model.document.getRootNames()){const a=this.editor.ui.getEditableElement(o);a&&(n[o]=a)}return n}_isErrorComingFromThisItem(n){return wO(this._editor,n.context,this._excludedProps)}_cloneEditorConfiguration(n){return hQ(n,(o,a)=>{if(tT(o)||a==="context")return o})}}class yQ{constructor(r){yt(this,"editor");yt(this,"_data");this.editor=r,this._data=r.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",r=>{r.stop(),this.editor.model.enqueueChange({isUndoable:!1},n=>{this._restoreCollaborationData(),this._restoreEditorData(n)}),this.editor.data.fire("ready")},{priority:999})}_createNode(r,n){if("name"in n){const o=r.createElement(n.name,n.attributes);if(n.children)for(const a of n.children)o._appendChild(this._createNode(r,a));return o}else return r.createText(n.data,n.attributes)}_restoreEditorData(r){const n=this.editor;Object.entries(this._data.roots).forEach(([o,{content:a,attributes:l}])=>{const d=JSON.parse(a),h=JSON.parse(l),p=n.model.document.getRoot(o);for(const[g,b]of h)r.setAttribute(g,b,p);for(const g of d){const b=this._createNode(r,g);r.insert(b,p,"end")}}),Object.entries(this._data.markers).forEach(([o,a])=>{const{document:l}=n.model,{rangeJSON:{start:d,end:h},...p}=a,g=l.getRoot(d.root),b=r.createPositionFromPath(g,d.path,d.stickiness),y=r.createPositionFromPath(g,h.path,h.stickiness),v=r.createRange(b,y);r.addMarker(o,{range:v,...p})})}_restoreCollaborationData(){const r=JSON.parse(this._data.commentThreads),n=JSON.parse(this._data.suggestions);r.forEach(o=>{const a=this.editor.config.get("collaboration.channelId"),l=this.editor.plugins.get("CommentsRepository");l.hasCommentThread(o.threadId)&&l.getCommentThread(o.threadId).remove(),l.addCommentThread({channelId:a,...o})}),n.forEach(o=>{const a=this.editor.plugins.get("TrackChangesEditing");if(a.hasSuggestion(o.id)){const l=a.getSuggestion(o.id);l.attributes=o.attributes}else a.addSuggestionData(o)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const wg=Symbol("MainQueueId");class vQ extends eC{constructor(n,o={}){super(o);yt(this,"_watchdogs",new Map);yt(this,"_watchdogConfig");yt(this,"_context",null);yt(this,"_contextProps",new Set);yt(this,"_actionQueues",new AQ);yt(this,"_contextConfig");yt(this,"_item");this._watchdogConfig=o,this._creator=a=>n.create(a),this._destructor=a=>a.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}get context(){return this._context}create(n={}){return this._actionQueues.enqueue(wg,()=>(this._contextConfig=n,this._create()))}getItem(n){return this._getWatchdog(n)._item}getItemState(n){return this._getWatchdog(n).state}add(n){const o=nT(n);return Promise.all(o.map(a=>this._actionQueues.enqueue(a.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let l;if(this._watchdogs.has(a.id))throw new Error(`Item with the given id is already added: '${a.id}'.`);if(a.type==="editor")return l=new yO(null,this._watchdogConfig),l.setCreator(a.creator),l._setExcludedProperties(this._contextProps),a.destructor&&l.setDestructor(a.destructor),this._watchdogs.set(a.id,l),l.on("error",(d,{error:h,causesRestart:p})=>{this._fire("itemError",{itemId:a.id,error:h}),p&&this._actionQueues.enqueue(a.id,()=>new Promise(g=>{const b=()=>{l.off("restart",b),this._fire("itemRestart",{itemId:a.id}),g()};l.on("restart",b)}))}),l.create(a.sourceElementOrData,a.config,this._context);throw new Error(`Not supported item type: '${a.type}'.`)})))}remove(n){const o=nT(n);return Promise.all(o.map(a=>this._actionQueues.enqueue(a,()=>{const l=this._getWatchdog(a);return this._watchdogs.delete(a),l.destroy()})))}destroy(){return this._actionQueues.enqueue(wg,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(wg,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(n=>{console.error("An error happened during destroying the context or items.",n)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(n=>(this._context=n,this._contextProps=FA(this._context),Promise.all(Array.from(this._watchdogs.values()).map(o=>(o._setExcludedProperties(this._contextProps),o.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const n=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(o=>o.destroy())).then(()=>this._destructor(n))})}_getWatchdog(n){const o=this._watchdogs.get(n);if(!o)throw new Error(`Item with the given id was not registered: ${n}.`);return o}_isErrorComingFromThisItem(n){for(const o of this._watchdogs.values())if(o._isErrorComingFromThisItem(n))return!1;return wO(this._context,n.context)}}class AQ{constructor(){yt(this,"_onEmptyCallbacks",[]);yt(this,"_queues",new Map);yt(this,"_activeActions",0)}onEmpty(r){this._onEmptyCallbacks.push(r)}enqueue(r,n){const o=r===wg;this._activeActions++,this._queues.get(r)||this._queues.set(r,Promise.resolve());const l=(o?Promise.all(this._queues.values()):Promise.all([this._queues.get(wg),this._queues.get(r)])).then(n),d=l.catch(()=>{});return this._queues.set(r,d),l.finally(()=>{this._activeActions--,this._queues.get(r)===d&&this._activeActions===0&&this._onEmptyCallbacks.forEach(h=>h())})}}function nT(t){return Array.isArray(t)?t:[t]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const _Q=Object.freeze(Object.defineProperty({__proto__:null,ContextWatchdog:vQ,EditorWatchdog:yO,Watchdog:eC},Symbol.toStringTag,{value:"Module"})),CQ=hu(_Q);/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */var rT;function xQ(){return rT||(rT=1,function(t,r){(function(n,o){t.exports=o(sG(),xW(),CQ)})(self,(n,o,a)=>(()=>{var l={546:g=>{g.exports=a},949:g=>{g.exports=o},155:g=>{g.exports=n}},d={};function h(g){var b=d[g];if(b!==void 0)return b.exports;var y=d[g]={exports:{}};return l[g](y,y.exports,h),y.exports}h.n=g=>{var b=g&&g.__esModule?()=>g.default:()=>g;return h.d(b,{a:b}),b},h.d=(g,b)=>{for(var y in b)h.o(b,y)&&!h.o(g,y)&&Object.defineProperty(g,y,{enumerable:!0,get:b[y]})},h.o=(g,b)=>Object.prototype.hasOwnProperty.call(g,b),h.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var p={};return(()=>{h.r(p),h.d(p,{CKEditor:()=>N,CKEditorContext:()=>D,useMultiRootEditor:()=>V});var g=h(155),b=h.n(g),y=h(949),v=h.n(y);const k=new Array(256).fill("").map((M,L)=>("0"+L.toString(16)).slice(-2));var x=h(546);const C=b().createContext("contextWatchdog");class D extends b().Component{constructor(L,q){super(L,q),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(L){return this._shouldComponentUpdate(L)}async _shouldComponentUpdate(L){return L.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(L.config)),L.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(L.config),!0):this.props.children!==L.children}render(){return b().createElement(C.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(L){this.contextWatchdog=new x.ContextWatchdog(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(q,Q)=>{this.props.onError(Q.error,{phase:"runtime",willContextRestart:Q.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(L).catch(q=>{this.props.onError(q,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}D.defaultProps={isLayoutReady:!0,onError:(M,L)=>console.error(M,L)},D.propTypes={id:v().string,isLayoutReady:v().bool,context:v().func,watchdogConfig:v().object,config:v().object,onReady:v().func,onError:v().func};const S="Lock from React integration (@ckeditor/ckeditor5-react)";class N extends b().Component{constructor(L){super(L),this.editorDestructionInProgress=null,this.domContainer=b().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:q}=window;if(q){const[Q]=q.split(".").map(Number);Q<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(L){return!!this.editor&&(L.id!==this.props.id||L.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(L)&&this.editor.data.set(L.data),"disabled"in L&&(L.disabled?this.editor.enableReadOnlyMode(S):this.editor.disableReadOnlyMode(S)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return b().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof x.ContextWatchdog?this.watchdog=new P(this.context):this.watchdog=new N._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((L,q)=>this._createEditor(L,q)),this.watchdog.on("error",(L,{error:q,causesRestart:Q})=>{(this.props.onError||console.error)(q,{phase:"runtime",willEditorRestart:Q})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(L=>{(this.props.onError||console.error)(L,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(L,q){return this.props.editor.create(L,q).then(Q=>{"disabled"in this.props&&this.props.disabled&&Q.enableReadOnlyMode(S);const H=Q.model.document,F=Q.editing.view.document;return H.on("change:data",G=>{this.props.onChange&&this.props.onChange(G,Q)}),F.on("focus",G=>{this.props.onFocus&&this.props.onFocus(G,Q)}),F.on("blur",G=>{this.props.onBlur&&this.props.onBlur(G,Q)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(Q)}),Q})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(L=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,L()):this.instance?(await this.instance.destroy(),this.instance=null,L()):void L())})}_shouldUpdateEditor(L){return this.props.data!==L.data&&this.editor.data.get()!==L.data}_getConfig(){const L=this.props.config||{};return this.props.data&&L.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...L,initialData:L.initialData||this.props.data||""}}}N.contextType=C,N.propTypes={editor:v().func.isRequired,data:v().string,config:v().object,disableWatchdog:v().bool,watchdogConfig:v().object,onChange:v().func,onReady:v().func,onFocus:v().func,onBlur:v().func,onError:v().func,disabled:v().bool,id:v().any},N._EditorWatchdog=x.EditorWatchdog;class P{constructor(L){this._contextWatchdog=L,this._id=function(){const q=4294967296*Math.random()>>>0,Q=4294967296*Math.random()>>>0,H=4294967296*Math.random()>>>0,F=4294967296*Math.random()>>>0;return"e"+k[255&q]+k[q>>8&255]+k[q>>16&255]+k[q>>24&255]+k[255&Q]+k[Q>>8&255]+k[Q>>16&255]+k[Q>>24&255]+k[255&H]+k[H>>8&255]+k[H>>16&255]+k[H>>24&255]+k[255&F]+k[F>>8&255]+k[F>>16&255]+k[F>>24&255]}()}setCreator(L){this._creator=L}create(L,q){return this._contextWatchdog.add({sourceElementOrData:L,config:q,creator:this._creator,id:this._id,type:"editor"})}on(L,q){this._contextWatchdog.on("itemError",(Q,{itemId:H,error:F})=>{H===this._id&&q(null,{error:F,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const B="Lock from React integration (@ckeditor/ckeditor5-react)",$=({editor:M})=>{const L=(0,g.useRef)(null);return(0,g.useEffect)(()=>{const q=L.current;if(!M||!q)return;const Q=M.ui.view.toolbar.element;return q&&q.appendChild(Q),()=>{q&&q.removeChild(Q)}},[M&&M.id]),b().createElement("div",{ref:L})},V=M=>{const L=(0,g.useRef)(null),q=(0,g.useRef)(null),Q=(0,g.useContext)(C),[H,F]=(0,g.useState)(null),[G,R]=(0,g.useState)(M.data),[ne,ue]=(0,g.useState)(M.rootsAttributes||{}),[ie,se]=(0,g.useState)([]),ye=(0,g.useRef)(!0);(0,g.useEffect)(()=>((async()=>(await q.current,M.isLayoutReady!==!1&&await ae()))(),()=>{J().then(()=>{q.current=null})}),[M.isLayoutReady]),(0,g.useEffect)(()=>{H&&(M.disabled?H.enableReadOnlyMode(B):H.disableReadOnlyMode(B))},[M.disabled]),(0,g.useEffect)(()=>{if(H&&!q.current){const Je=H.getFullData();R({...Je}),ue({...H.getRootsAttributes()}),se([...Object.keys(Je).map(ze=>_e(H,ze))])}},[H&&H.id]);const re=()=>{const Je=M.config||{};return M.data&&Je.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...Je,rootsAttributes:ne}},_e=(Je,ze)=>b().createElement("div",{id:ze,key:ze,ref:X=>{if(X){const Ce=Je.ui.view.createEditable(ze,X);Je.ui.addEditable(Ce),Je.editing.view.forceRender()}}}),Z=(Je,ze)=>M.editor.create(Je,ze).then(X=>{M.disabled&&M.disabled&&X.enableReadOnlyMode(B);const Ce=X.model.document,he=X.editing.view.document;return Ce.on("change:data",be=>((pe,Ae)=>{const Oe=pe.model.document;if(!M.disableTwoWayDataBinding){const Me={},De={};Oe.differ.getChanges().forEach(qe=>{let Ve;if(Ve=qe.type=="insert"||qe.type=="remove"?qe.position.root:qe.range.root,!Ve.isAttached())return;const{rootName:He}=Ve;Me[He]=pe.getData({rootName:He})}),Oe.differ.getChangedRoots().forEach(qe=>{if(qe.state)return void(Me[qe.name]!==void 0&&delete Me[qe.name]);const Ve=qe.name;De[Ve]=pe.getRootAttributes(Ve)}),Object.keys(Me).length&&R(qe=>({...qe,...Me})),Object.keys(De).length&&ue(qe=>({...qe,...De}))}M.onChange&&M.onChange(Ae,pe)})(X,be)),X.on("addRoot",(be,pe)=>((Ae,Oe,Me)=>{const De=Me.rootName,qe=_e(Ae,De);M.disableTwoWayDataBinding||(R(Ve=>({...Ve,[De]:Ae.getData({rootName:De})})),ue(Ve=>({...Ve,[De]:Ae.getRootAttributes(De)}))),se(Ve=>[...Ve,qe])})(X,0,pe)),X.on("detachRoot",(be,pe)=>((Ae,Oe,Me)=>{const De=Me.rootName;se(qe=>qe.filter(Ve=>Ve.props.id!==De)),M.disableTwoWayDataBinding||(R(qe=>{const{[De]:Ve,...He}=qe;return{...He}}),ue(qe=>{const{[De]:Ve,...He}=qe;return{...He}})),Ae.detachEditable(Me)})(X,0,pe)),he.on("focus",be=>{M.onFocus&&M.onFocus(be,X)}),he.on("blur",be=>{M.onBlur&&M.onBlur(be,X)}),F(X),M.onReady&&M.onReady(X),X}),J=async()=>{F(null),R({}),ue({}),se([]),q.current=new Promise(Je=>{setTimeout(async()=>L.current?(await L.current.destroy(),L.current=null,Je()):H?(await H.destroy(),Je()):void Je())})},ae=async()=>{if(M.disableWatchdog)return void await Z(M.data,re());if(L.current)return;Q instanceof x.ContextWatchdog?L.current=new P(Q):L.current=new x.EditorWatchdog(M.editor,M.watchdogConfig);const Je=L.current;Je.setCreator((ze,X)=>Z(ze,X)),Je.on("error",(ze,{error:X,causesRestart:Ce})=>{(M.onError||console.error)(X,{phase:"runtime",willEditorRestart:Ce})}),await Je.create(G,re()).catch(ze=>{(M.onError||console.error)(ze,{phase:"initialization",willEditorRestart:!1})})};(0,g.useEffect)(()=>{if(H&&ye.current){ye.current=!1;const Je=Object.keys(G),ze=Object.keys(ne);if(!Je.every(Oe=>ze.includes(Oe)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const X=H.getFullData(),Ce=H.getRootsAttributes(),{addedKeys:he,removedKeys:be}=fe(X,G||{}),pe=Je.some(Oe=>X[Oe]!==void 0&&JSON.stringify(X[Oe])!==JSON.stringify(G[Oe])),Ae=ze.filter(Oe=>JSON.stringify(Ce[Oe])!==JSON.stringify(ne[Oe]));H.model.change(Oe=>{le(he),Ie(be),pe&&xe(),Ae.length&&Ne(Oe,Ae)})}},[G,ne]);const fe=(Je,ze)=>{const X=Object.keys(Je),Ce=Object.keys(ze);return{addedKeys:Ce.filter(he=>!X.includes(he)),removedKeys:X.filter(he=>!Ce.includes(he))}},le=Je=>{Je.forEach(ze=>{H.addRoot(ze,{data:G[ze]||"",attributes:(ne==null?void 0:ne[ze])||{},isUndoable:!0})})},Ie=Je=>{Je.forEach(ze=>{H.detachRoot(ze,!0)})},xe=()=>{H.data.set(G,{suppressErrorInCollaboration:!0})},Ne=(Je,ze)=>{ze.forEach(X=>{Object.keys(ne[X]).forEach(Ce=>{H.registerRootAttribute(Ce)}),Je.clearAttributes(H.model.document.getRoot(X)),Je.setAttributes(ne[X],H.model.document.getRoot(X))})},Qe=(0,g.useCallback)(Je=>{ye.current=!0,R(Je)},[R]),Ge=(0,g.useCallback)(Je=>{ye.current=!0,ue(Je)},[ue]);return{editor:H,editableElements:ie,toolbarElement:b().createElement($,{editor:H}),data:G,setData:Qe,attributes:ne,setAttributes:Ge}}})(),p})())}(Sv)),Sv.exports}var vO=xQ(),pg={exports:{}};pg.exports;var iT;function SQ(){return iT||(iT=1,function(t,r){(function(n){const o=n.en=n.en||{};o.dictionary=Object.assign(o.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lowerâ€“roman":"Lowerâ€“roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerâ€“latin list style":"Toggle the lowerâ€“latin list style","Toggle the lowerâ€“roman list style":"Toggle the lowerâ€“roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperâ€“latin list style":"Toggle the upperâ€“latin list style","Toggle the upperâ€“roman list style":"Toggle the upperâ€“roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(n,o){t.exports=o()}(self,()=>(()=>{var n={9246:(d,h,p)=>{const g=p(6931),b={};for(const v of Object.keys(g))b[g[v]]=v;const y={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};d.exports=y;for(const v of Object.keys(y)){if(!("channels"in y[v]))throw new Error("missing channels property: "+v);if(!("labels"in y[v]))throw new Error("missing channel labels property: "+v);if(y[v].labels.length!==y[v].channels)throw new Error("channel and label counts mismatch: "+v);const{channels:k,labels:x}=y[v];delete y[v].channels,delete y[v].labels,Object.defineProperty(y[v],"channels",{value:k}),Object.defineProperty(y[v],"labels",{value:x})}y.rgb.hsl=function(v){const k=v[0]/255,x=v[1]/255,C=v[2]/255,D=Math.min(k,x,C),S=Math.max(k,x,C),N=S-D;let P,B;S===D?P=0:k===S?P=(x-C)/N:x===S?P=2+(C-k)/N:C===S&&(P=4+(k-x)/N),P=Math.min(60*P,360),P<0&&(P+=360);const $=(D+S)/2;return B=S===D?0:$<=.5?N/(S+D):N/(2-S-D),[P,100*B,100*$]},y.rgb.hsv=function(v){let k,x,C,D,S;const N=v[0]/255,P=v[1]/255,B=v[2]/255,$=Math.max(N,P,B),V=$-Math.min(N,P,B),M=function(L){return($-L)/6/V+.5};return V===0?(D=0,S=0):(S=V/$,k=M(N),x=M(P),C=M(B),N===$?D=C-x:P===$?D=.3333333333333333+k-C:B===$&&(D=.6666666666666666+x-k),D<0?D+=1:D>1&&(D-=1)),[360*D,100*S,100*$]},y.rgb.hwb=function(v){const k=v[0],x=v[1];let C=v[2];const D=y.rgb.hsl(v)[0],S=1/255*Math.min(k,Math.min(x,C));return C=1-.00392156862745098*Math.max(k,Math.max(x,C)),[D,100*S,100*C]},y.rgb.cmyk=function(v){const k=v[0]/255,x=v[1]/255,C=v[2]/255,D=Math.min(1-k,1-x,1-C);return[100*((1-k-D)/(1-D)||0),100*((1-x-D)/(1-D)||0),100*((1-C-D)/(1-D)||0),100*D]},y.rgb.keyword=function(v){const k=b[v];if(k)return k;let x,C=1/0;for(const N of Object.keys(g)){const P=g[N],B=(S=P,((D=v)[0]-S[0])**2+(D[1]-S[1])**2+(D[2]-S[2])**2);B<C&&(C=B,x=N)}var D,S;return x},y.keyword.rgb=function(v){return g[v]},y.rgb.xyz=function(v){let k=v[0]/255,x=v[1]/255,C=v[2]/255;return k=k>.04045?((k+.055)/1.055)**2.4:k/12.92,x=x>.04045?((x+.055)/1.055)**2.4:x/12.92,C=C>.04045?((C+.055)/1.055)**2.4:C/12.92,[100*(.4124*k+.3576*x+.1805*C),100*(.2126*k+.7152*x+.0722*C),100*(.0193*k+.1192*x+.9505*C)]},y.rgb.lab=function(v){const k=y.rgb.xyz(v);let x=k[0],C=k[1],D=k[2];return x/=95.047,C/=100,D/=108.883,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,C=C>.008856?C**.3333333333333333:7.787*C+.13793103448275862,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,[116*C-16,500*(x-C),200*(C-D)]},y.hsl.rgb=function(v){const k=v[0]/360,x=v[1]/100,C=v[2]/100;let D,S,N;if(x===0)return N=255*C,[N,N,N];D=C<.5?C*(1+x):C+x-C*x;const P=2*C-D,B=[0,0,0];for(let $=0;$<3;$++)S=k+.3333333333333333*-($-1),S<0&&S++,S>1&&S--,N=6*S<1?P+6*(D-P)*S:2*S<1?D:3*S<2?P+(D-P)*(.6666666666666666-S)*6:P,B[$]=255*N;return B},y.hsl.hsv=function(v){const k=v[0];let x=v[1]/100,C=v[2]/100,D=x;const S=Math.max(C,.01);return C*=2,x*=C<=1?C:2-C,D*=S<=1?S:2-S,[k,100*(C===0?2*D/(S+D):2*x/(C+x)),100*((C+x)/2)]},y.hsv.rgb=function(v){const k=v[0]/60,x=v[1]/100;let C=v[2]/100;const D=Math.floor(k)%6,S=k-Math.floor(k),N=255*C*(1-x),P=255*C*(1-x*S),B=255*C*(1-x*(1-S));switch(C*=255,D){case 0:return[C,B,N];case 1:return[P,C,N];case 2:return[N,C,B];case 3:return[N,P,C];case 4:return[B,N,C];case 5:return[C,N,P]}},y.hsv.hsl=function(v){const k=v[0],x=v[1]/100,C=v[2]/100,D=Math.max(C,.01);let S,N;N=(2-x)*C;const P=(2-x)*D;return S=x*D,S/=P<=1?P:2-P,S=S||0,N/=2,[k,100*S,100*N]},y.hwb.rgb=function(v){const k=v[0]/360;let x=v[1]/100,C=v[2]/100;const D=x+C;let S;D>1&&(x/=D,C/=D);const N=Math.floor(6*k),P=1-C;S=6*k-N,1&N&&(S=1-S);const B=x+S*(P-x);let $,V,M;switch(N){default:case 6:case 0:$=P,V=B,M=x;break;case 1:$=B,V=P,M=x;break;case 2:$=x,V=P,M=B;break;case 3:$=x,V=B,M=P;break;case 4:$=B,V=x,M=P;break;case 5:$=P,V=x,M=B}return[255*$,255*V,255*M]},y.cmyk.rgb=function(v){const k=v[0]/100,x=v[1]/100,C=v[2]/100,D=v[3]/100;return[255*(1-Math.min(1,k*(1-D)+D)),255*(1-Math.min(1,x*(1-D)+D)),255*(1-Math.min(1,C*(1-D)+D))]},y.xyz.rgb=function(v){const k=v[0]/100,x=v[1]/100,C=v[2]/100;let D,S,N;return D=3.2406*k+-1.5372*x+-.4986*C,S=-.9689*k+1.8758*x+.0415*C,N=.0557*k+-.204*x+1.057*C,D=D>.0031308?1.055*D**.4166666666666667-.055:12.92*D,S=S>.0031308?1.055*S**.4166666666666667-.055:12.92*S,N=N>.0031308?1.055*N**.4166666666666667-.055:12.92*N,D=Math.min(Math.max(0,D),1),S=Math.min(Math.max(0,S),1),N=Math.min(Math.max(0,N),1),[255*D,255*S,255*N]},y.xyz.lab=function(v){let k=v[0],x=v[1],C=v[2];return k/=95.047,x/=100,C/=108.883,k=k>.008856?k**.3333333333333333:7.787*k+.13793103448275862,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,C=C>.008856?C**.3333333333333333:7.787*C+.13793103448275862,[116*x-16,500*(k-x),200*(x-C)]},y.lab.xyz=function(v){let k,x,C;x=(v[0]+16)/116,k=v[1]/500+x,C=x-v[2]/200;const D=x**3,S=k**3,N=C**3;return x=D>.008856?D:(x-.13793103448275862)/7.787,k=S>.008856?S:(k-.13793103448275862)/7.787,C=N>.008856?N:(C-.13793103448275862)/7.787,k*=95.047,x*=100,C*=108.883,[k,x,C]},y.lab.lch=function(v){const k=v[0],x=v[1],C=v[2];let D;return D=360*Math.atan2(C,x)/2/Math.PI,D<0&&(D+=360),[k,Math.sqrt(x*x+C*C),D]},y.lch.lab=function(v){const k=v[0],x=v[1],C=v[2]/360*2*Math.PI;return[k,x*Math.cos(C),x*Math.sin(C)]},y.rgb.ansi16=function(v,k=null){const[x,C,D]=v;let S=k===null?y.rgb.hsv(v)[2]:k;if(S=Math.round(S/50),S===0)return 30;let N=30+(Math.round(D/255)<<2|Math.round(C/255)<<1|Math.round(x/255));return S===2&&(N+=60),N},y.hsv.ansi16=function(v){return y.rgb.ansi16(y.hsv.rgb(v),v[2])},y.rgb.ansi256=function(v){const k=v[0],x=v[1],C=v[2];return k===x&&x===C?k<8?16:k>248?231:Math.round((k-8)/247*24)+232:16+36*Math.round(k/255*5)+6*Math.round(x/255*5)+Math.round(C/255*5)},y.ansi16.rgb=function(v){let k=v%10;if(k===0||k===7)return v>50&&(k+=3.5),k=k/10.5*255,[k,k,k];const x=.5*(1+~~(v>50));return[(1&k)*x*255,(k>>1&1)*x*255,(k>>2&1)*x*255]},y.ansi256.rgb=function(v){if(v>=232){const x=10*(v-232)+8;return[x,x,x]}let k;return v-=16,[Math.floor(v/36)/5*255,Math.floor((k=v%36)/6)/5*255,k%6/5*255]},y.rgb.hex=function(v){const k=(((255&Math.round(v[0]))<<16)+((255&Math.round(v[1]))<<8)+(255&Math.round(v[2]))).toString(16).toUpperCase();return"000000".substring(k.length)+k},y.hex.rgb=function(v){const k=v.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!k)return[0,0,0];let x=k[0];k[0].length===3&&(x=x.split("").map(D=>D+D).join(""));const C=parseInt(x,16);return[C>>16&255,C>>8&255,255&C]},y.rgb.hcg=function(v){const k=v[0]/255,x=v[1]/255,C=v[2]/255,D=Math.max(Math.max(k,x),C),S=Math.min(Math.min(k,x),C),N=D-S;let P,B;return P=N<1?S/(1-N):0,B=N<=0?0:D===k?(x-C)/N%6:D===x?2+(C-k)/N:4+(k-x)/N,B/=6,B%=1,[360*B,100*N,100*P]},y.hsl.hcg=function(v){const k=v[1]/100,x=v[2]/100,C=x<.5?2*k*x:2*k*(1-x);let D=0;return C<1&&(D=(x-.5*C)/(1-C)),[v[0],100*C,100*D]},y.hsv.hcg=function(v){const k=v[1]/100,x=v[2]/100,C=k*x;let D=0;return C<1&&(D=(x-C)/(1-C)),[v[0],100*C,100*D]},y.hcg.rgb=function(v){const k=v[0]/360,x=v[1]/100,C=v[2]/100;if(x===0)return[255*C,255*C,255*C];const D=[0,0,0],S=k%1*6,N=S%1,P=1-N;let B=0;switch(Math.floor(S)){case 0:D[0]=1,D[1]=N,D[2]=0;break;case 1:D[0]=P,D[1]=1,D[2]=0;break;case 2:D[0]=0,D[1]=1,D[2]=N;break;case 3:D[0]=0,D[1]=P,D[2]=1;break;case 4:D[0]=N,D[1]=0,D[2]=1;break;default:D[0]=1,D[1]=0,D[2]=P}return B=(1-x)*C,[255*(x*D[0]+B),255*(x*D[1]+B),255*(x*D[2]+B)]},y.hcg.hsv=function(v){const k=v[1]/100,x=k+v[2]/100*(1-k);let C=0;return x>0&&(C=k/x),[v[0],100*C,100*x]},y.hcg.hsl=function(v){const k=v[1]/100,x=v[2]/100*(1-k)+.5*k;let C=0;return x>0&&x<.5?C=k/(2*x):x>=.5&&x<1&&(C=k/(2*(1-x))),[v[0],100*C,100*x]},y.hcg.hwb=function(v){const k=v[1]/100,x=k+v[2]/100*(1-k);return[v[0],100*(x-k),100*(1-x)]},y.hwb.hcg=function(v){const k=v[1]/100,x=1-v[2]/100,C=x-k;let D=0;return C<1&&(D=(x-C)/(1-C)),[v[0],100*C,100*D]},y.apple.rgb=function(v){return[v[0]/65535*255,v[1]/65535*255,v[2]/65535*255]},y.rgb.apple=function(v){return[v[0]/255*65535,v[1]/255*65535,v[2]/255*65535]},y.gray.rgb=function(v){return[v[0]/100*255,v[0]/100*255,v[0]/100*255]},y.gray.hsl=function(v){return[0,0,v[0]]},y.gray.hsv=y.gray.hsl,y.gray.hwb=function(v){return[0,100,v[0]]},y.gray.cmyk=function(v){return[0,0,0,v[0]]},y.gray.lab=function(v){return[v[0],0,0]},y.gray.hex=function(v){const k=255&Math.round(v[0]/100*255),x=((k<<16)+(k<<8)+k).toString(16).toUpperCase();return"000000".substring(x.length)+x},y.rgb.gray=function(v){return[(v[0]+v[1]+v[2])/3/255*100]}},9047:(d,h,p)=>{const g=p(9246),b=p(802),y={};Object.keys(g).forEach(v=>{y[v]={},Object.defineProperty(y[v],"channels",{value:g[v].channels}),Object.defineProperty(y[v],"labels",{value:g[v].labels});const k=b(v);Object.keys(k).forEach(x=>{const C=k[x];y[v][x]=function(D){const S=function(...N){const P=N[0];if(P==null)return P;P.length>1&&(N=P);const B=D(N);if(typeof B=="object")for(let $=B.length,V=0;V<$;V++)B[V]=Math.round(B[V]);return B};return"conversion"in D&&(S.conversion=D.conversion),S}(C),y[v][x].raw=function(D){const S=function(...N){const P=N[0];return P==null?P:(P.length>1&&(N=P),D(N))};return"conversion"in D&&(S.conversion=D.conversion),S}(C)})}),d.exports=y},802:(d,h,p)=>{const g=p(9246);function b(k){const x=function(){const D={},S=Object.keys(g);for(let N=S.length,P=0;P<N;P++)D[S[P]]={distance:-1,parent:null};return D}(),C=[k];for(x[k].distance=0;C.length;){const D=C.pop(),S=Object.keys(g[D]);for(let N=S.length,P=0;P<N;P++){const B=S[P],$=x[B];$.distance===-1&&($.distance=x[D].distance+1,$.parent=D,C.unshift(B))}}return x}function y(k,x){return function(C){return x(k(C))}}function v(k,x){const C=[x[k].parent,k];let D=g[x[k].parent][k],S=x[k].parent;for(;x[S].parent;)C.unshift(x[S].parent),D=y(g[x[S].parent][S],D),S=x[S].parent;return D.conversion=C,D}d.exports=function(k){const x=b(k),C={},D=Object.keys(x);for(let S=D.length,N=0;N<S;N++){const P=D[N];x[P].parent!==null&&(C[P]=v(P,x))}return C}},6931:d=>{d.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const k=v},8708:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const k=v},1866:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const k=v},7793:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const k=v},7388:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar,
			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},4098:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const k=v},8264:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const k=v},6269:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const k=v},265:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const k=v},5247:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const k=v},4642:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},3350:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const k=v},7378:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const k=v},3469:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const k=v},6386:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},7693:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const k=v},1559:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const k=v},2267:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const k=v},4062:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},7719:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const k=v},8762:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},3817:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},4808:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const k=v},1232:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const k=v},6903:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},9968:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const k=v},7141:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const k=v},8991:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const k=v},70:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const k=v},7048:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readâ€“only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},5651:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},5506:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},4043:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},2655:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const k=v},5032:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const k=v},2329:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const k=v},4143:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const k=v},8986:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},8795:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const k=v},8137:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const k=v},1623:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},5562:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},8423:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},1801:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const k=v},5727:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=v},9715:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const k=v},4391:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingâ€“point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const k=v},25:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const k=v},7317:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const k=v},1905:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const k=v},6309:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const k=v},9819:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=v},9822:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const k=v},8149:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},3629:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},1792:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},1666:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const k=v},8527:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=v},1185:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=v},7913:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const k=v},9529:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const k=v},7621:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},253:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=v},7801:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const k=v},4962:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},5199:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},497:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const k=v},4:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const k=v},3344:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const k=v},9481:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const k=v},977:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const k=v},9108:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=v},3710:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=v},991:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const k=v},5380:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=v},8298:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=v},2722:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},8107:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const k=v},109:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const k=v},1671:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const k=v},2710:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const k=v},9677:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},9205:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const k=v},7676:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const k=v},695:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const k=v},4095:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const k=v},8508:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),y=p(935),v=p.n(y)()(b());v.push([d.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const k=v},935:d=>{d.exports=function(h){var p=[];return p.toString=function(){return this.map(function(g){var b=h(g);return g[2]?"@media ".concat(g[2]," {").concat(b,"}"):b}).join("")},p.i=function(g,b,y){typeof g=="string"&&(g=[[null,g,""]]);var v={};if(y)for(var k=0;k<this.length;k++){var x=this[k][0];x!=null&&(v[x]=!0)}for(var C=0;C<g.length;C++){var D=[].concat(g[C]);y&&v[D[0]]||(b&&(D[2]?D[2]="".concat(b," and ").concat(D[2]):D[2]=b),p.push(D))}},p}},9372:d=>{function h(g,b){return function(y){if(Array.isArray(y))return y}(g)||function(y,v){var k=y&&(typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"]);if(k!=null){var x,C,D=[],S=!0,N=!1;try{for(k=k.call(y);!(S=(x=k.next()).done)&&(D.push(x.value),!v||D.length!==v);S=!0);}catch(P){N=!0,C=P}finally{try{S||k.return==null||k.return()}finally{if(N)throw C}}return D}}(g,b)||function(y,v){if(y){if(typeof y=="string")return p(y,v);var k=Object.prototype.toString.call(y).slice(8,-1);if(k==="Object"&&y.constructor&&(k=y.constructor.name),k==="Map"||k==="Set")return Array.from(y);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return p(y,v)}}(g,b)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p(g,b){(b==null||b>g.length)&&(b=g.length);for(var y=0,v=new Array(b);y<b;y++)v[y]=g[y];return v}d.exports=function(g){var b=h(g,4),y=b[1],v=b[3];if(!v)return y;if(typeof btoa=="function"){var k=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),x="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(k),C="/*# ".concat(x," */"),D=v.sources.map(function(S){return"/*# sourceURL=".concat(v.sourceRoot||"").concat(S," */")});return[y].concat(D).concat([C]).join(`
`)}return[y].join(`
`)}},2591:(d,h,p)=>{var g,b=function(){return g===void 0&&(g=!!(window&&document&&document.all&&!window.atob)),g},y=function(){var M={};return function(L){if(M[L]===void 0){var q=document.querySelector(L);if(window.HTMLIFrameElement&&q instanceof window.HTMLIFrameElement)try{q=q.contentDocument.head}catch{q=null}M[L]=q}return M[L]}}(),v=[];function k(M){for(var L=-1,q=0;q<v.length;q++)if(v[q].identifier===M){L=q;break}return L}function x(M,L){for(var q={},Q=[],H=0;H<M.length;H++){var F=M[H],G=L.base?F[0]+L.base:F[0],R=q[G]||0,ne="".concat(G," ").concat(R);q[G]=R+1;var ue=k(ne),ie={css:F[1],media:F[2],sourceMap:F[3]};ue!==-1?(v[ue].references++,v[ue].updater(ie)):v.push({identifier:ne,updater:V(ie,L),references:1}),Q.push(ne)}return Q}function C(M){var L=document.createElement("style"),q=M.attributes||{};if(q.nonce===void 0){var Q=p.nc;Q&&(q.nonce=Q)}if(Object.keys(q).forEach(function(F){L.setAttribute(F,q[F])}),typeof M.insert=="function")M.insert(L);else{var H=y(M.insert||"head");if(!H)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");H.appendChild(L)}return L}var D,S=(D=[],function(M,L){return D[M]=L,D.filter(Boolean).join(`
`)});function N(M,L,q,Q){var H=q?"":Q.media?"@media ".concat(Q.media," {").concat(Q.css,"}"):Q.css;if(M.styleSheet)M.styleSheet.cssText=S(L,H);else{var F=document.createTextNode(H),G=M.childNodes;G[L]&&M.removeChild(G[L]),G.length?M.insertBefore(F,G[L]):M.appendChild(F)}}function P(M,L,q){var Q=q.css,H=q.media,F=q.sourceMap;if(H?M.setAttribute("media",H):M.removeAttribute("media"),F&&typeof btoa<"u"&&(Q+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(F))))," */")),M.styleSheet)M.styleSheet.cssText=Q;else{for(;M.firstChild;)M.removeChild(M.firstChild);M.appendChild(document.createTextNode(Q))}}var B=null,$=0;function V(M,L){var q,Q,H;if(L.singleton){var F=$++;q=B||(B=C(L)),Q=N.bind(null,q,F,!1),H=N.bind(null,q,F,!0)}else q=C(L),Q=P.bind(null,q,L),H=function(){(function(G){if(G.parentNode===null)return!1;G.parentNode.removeChild(G)})(q)};return Q(M),function(G){if(G){if(G.css===M.css&&G.media===M.media&&G.sourceMap===M.sourceMap)return;Q(M=G)}else H()}}d.exports=function(M,L){(L=L||{}).singleton||typeof L.singleton=="boolean"||(L.singleton=b());var q=x(M=M||[],L);return function(Q){if(Q=Q||[],Object.prototype.toString.call(Q)==="[object Array]"){for(var H=0;H<q.length;H++){var F=k(q[H]);v[F].references--}for(var G=x(Q,L),R=0;R<q.length;R++){var ne=k(q[R]);v[ne].references===0&&(v[ne].updater(),v.splice(ne,1))}q=G}}}}},o={};function a(d){var h=o[d];if(h!==void 0)return h.exports;var p=o[d]={id:d,exports:{}};return n[d](p,p.exports,a),p.exports}a.n=d=>{var h=d&&d.__esModule?()=>d.default:()=>d;return a.d(h,{a:h}),h},a.d=(d,h)=>{for(var p in h)a.o(h,p)&&!a.o(d,p)&&Object.defineProperty(d,p,{enumerable:!0,get:h[p]})},a.o=(d,h)=>Object.prototype.hasOwnProperty.call(d,h),a.nc=void 0;var l={};return(()=>{let d;a.d(l,{default:()=>wv});try{d={window,document}}catch{d={window:{},document:{}}}const h=d,p=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var g;const b={isMac:y(p),isWindows:(g=p,g.indexOf("windows")>-1),isGecko:function(c){return!!c.match(/gecko\/\d+/)}(p),isSafari:function(c){return c.indexOf(" applewebkit/")>-1&&c.indexOf("chrome")===-1}(p),isiOS:function(c){return!!c.match(/iphone|ipad/i)||y(c)&&navigator.maxTouchPoints>0}(p),isAndroid:function(c){return c.indexOf("android")>-1}(p),isBlink:function(c){return c.indexOf("chrome/")>-1&&c.indexOf("edge/")<0}(p),features:{isRegExpUnicodePropertySupported:function(){let c=!1;try{c="Ä‡".search(new RegExp("[\\p{L}]","u"))===0}catch{}return c}()}};function y(c){return c.indexOf("macintosh")>-1}function v(c,e,i,s){i=i||function(_,E){return _===E};const u=Array.isArray(c)?c:Array.prototype.slice.call(c),f=Array.isArray(e)?e:Array.prototype.slice.call(e),m=function(_,E,T){const O=k(_,E,T);if(O===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const U=x(_,O),K=x(E,O),ee=k(U,K,T),oe=_.length-ee,ke=E.length-ee;return{firstIndex:O,lastIndexOld:oe,lastIndexNew:ke}}(u,f,i);return s?function(_,E){const{firstIndex:T,lastIndexOld:O,lastIndexNew:U}=_;if(T===-1)return Array(E).fill("equal");let K=[];return T>0&&(K=K.concat(Array(T).fill("equal"))),U-T>0&&(K=K.concat(Array(U-T).fill("insert"))),O-T>0&&(K=K.concat(Array(O-T).fill("delete"))),U<E&&(K=K.concat(Array(E-U).fill("equal"))),K}(m,f.length):function(_,E){const T=[],{firstIndex:O,lastIndexOld:U,lastIndexNew:K}=E;return K-O>0&&T.push({index:O,type:"insert",values:_.slice(O,K)}),U-O>0&&T.push({index:O+(K-O),type:"delete",howMany:U-O}),T}(f,m)}function k(c,e,i){for(let s=0;s<Math.max(c.length,e.length);s++)if(c[s]===void 0||e[s]===void 0||!i(c[s],e[s]))return s;return-1}function x(c,e){return c.slice(e).reverse()}function C(c,e,i){i=i||function(oe,ke){return oe===ke};const s=c.length,u=e.length;if(s>200||u>200||s+u>300)return C.fastDiff(c,e,i,!0);let f,m;if(u<s){const oe=c;c=e,e=oe,f="delete",m="insert"}else f="insert",m="delete";const w=c.length,_=e.length,E=_-w,T={},O={};function U(oe){const ke=(O[oe-1]!==void 0?O[oe-1]:-1)+1,Se=O[oe+1]!==void 0?O[oe+1]:-1,Le=ke>Se?-1:1;T[oe+Le]&&(T[oe]=T[oe+Le].slice(0)),T[oe]||(T[oe]=[]),T[oe].push(ke>Se?f:m);let tt=Math.max(ke,Se),ft=tt-oe;for(;ft<w&&tt<_&&i(c[ft],e[tt]);)ft++,tt++,T[oe].push("equal");return tt}let K,ee=0;do{for(K=-ee;K<E;K++)O[K]=U(K);for(K=E+ee;K>E;K--)O[K]=U(K);O[E]=U(E),ee++}while(O[E]!==_);return T[E].slice(1)}C.fastDiff=v;const D=function(){return function c(){c.called=!0}};class S{constructor(e,i){this.source=e,this.name=i,this.path=[],this.stop=D(),this.off=D()}}const N=new Array(256).fill("").map((c,e)=>("0"+e.toString(16)).slice(-2));function P(){const c=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0;return"e"+N[255&c]+N[c>>8&255]+N[c>>16&255]+N[c>>24&255]+N[255&e]+N[e>>8&255]+N[e>>16&255]+N[e>>24&255]+N[255&i]+N[i>>8&255]+N[i>>16&255]+N[i>>24&255]+N[255&s]+N[s>>8&255]+N[s>>16&255]+N[s>>24&255]}const B={get(c="normal"){return typeof c!="number"?this[c]||this.normal:c},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function $(c,e){const i=B.get(e.priority);for(let s=0;s<c.length;s++)if(B.get(c[s].priority)<i)return void c.splice(s,0,e);c.push(e)}const V="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class M extends Error{constructor(e,i,s){super(function(u,f){const m=new WeakSet,w=(T,O)=>{if(typeof O=="object"&&O!==null){if(m.has(O))return`[object ${O.constructor.name}]`;m.add(O)}return O},_=f?` ${JSON.stringify(f,w)}`:"",E=Q(u);return u+_+E}(e,s)),this.name="CKEditorError",this.context=i,this.data=s}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,i){if(e.is&&e.is("CKEditorError"))throw e;const s=new M(e.message,i);throw s.stack=e.stack,s}}function L(c,e){console.warn(...H(c,e))}function q(c,e){console.error(...H(c,e))}function Q(c){return`
Read more: ${V}#error-${c}`}function H(c,e){const i=Q(c);return e?[c,e,i]:[c,i]}const F="41.4.2",G=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new M("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=F;const R=Symbol("listeningTo"),ne=Symbol("emitterId"),ue=Symbol("delegations"),ie=se(Object);function se(c){return c?class extends c{on(e,i,s){this.listenTo(this,e,i,s)}once(e,i,s){let u=!1;this.listenTo(this,e,(f,...m)=>{u||(u=!0,f.off(),i.call(this,f,...m))},s)}off(e,i){this.stopListening(this,e,i)}listenTo(e,i,s,u={}){let f,m;this[R]||(this[R]={});const w=this[R];re(e)||ye(e);const _=re(e);(f=w[_])||(f=w[_]={emitter:e,callbacks:{}}),(m=f.callbacks[i])||(m=f.callbacks[i]=[]),m.push(s),function(E,T,O,U,K){T._addEventListener?T._addEventListener(O,U,K):E._addEventListener.call(T,O,U,K)}(this,e,i,s,u)}stopListening(e,i,s){const u=this[R];let f=e&&re(e);const m=u&&f?u[f]:void 0,w=m&&i?m.callbacks[i]:void 0;if(!(!u||e&&!m||i&&!w))if(s)fe(this,e,i,s),w.indexOf(s)!==-1&&(w.length===1?delete m.callbacks[i]:fe(this,e,i,s));else if(w){for(;s=w.pop();)fe(this,e,i,s);delete m.callbacks[i]}else if(m){for(i in m.callbacks)this.stopListening(e,i);delete u[f]}else{for(f in u)this.stopListening(u[f].emitter);delete this[R]}}fire(e,...i){try{const s=e instanceof S?e:new S(this,e),u=s.name;let f=J(this,u);if(s.path.push(this),f){const w=[s,...i];f=Array.from(f);for(let _=0;_<f.length&&(f[_].callback.apply(this,w),s.off.called&&(delete s.off.called,this._removeEventListener(u,f[_].callback)),!s.stop.called);_++);}const m=this[ue];if(m){const w=m.get(u),_=m.get("*");w&&ae(w,s,i),_&&ae(_,s,i)}return s.return}catch(s){M.rethrowUnexpectedError(s,this)}}delegate(...e){return{to:(i,s)=>{this[ue]||(this[ue]=new Map),e.forEach(u=>{const f=this[ue].get(u);f?f.set(i,s):this[ue].set(u,new Map([[i,s]]))})}}}stopDelegating(e,i){if(this[ue])if(e)if(i){const s=this[ue].get(e);s&&s.delete(i)}else this[ue].delete(e);else this[ue].clear()}_addEventListener(e,i,s){(function(m,w){const _=_e(m);if(_[w])return;let E=w,T=null;const O=[];for(;E!==""&&!_[E];)_[E]={callbacks:[],childEvents:[]},O.push(_[E]),T&&_[E].childEvents.push(T),T=E,E=E.substr(0,E.lastIndexOf(":"));if(E!==""){for(const U of O)U.callbacks=_[E].callbacks.slice();_[E].childEvents.push(T)}})(this,e);const u=Z(this,e),f={callback:i,priority:B.get(s.priority)};for(const m of u)$(m,f)}_removeEventListener(e,i){const s=Z(this,e);for(const u of s)for(let f=0;f<u.length;f++)u[f].callback==i&&(u.splice(f,1),f--)}}:ie}function ye(c,e){c[ne]||(c[ne]=e||P())}function re(c){return c[ne]}function _e(c){return c._events||Object.defineProperty(c,"_events",{value:{}}),c._events}function Z(c,e){const i=_e(c)[e];if(!i)return[];let s=[i.callbacks];for(let u=0;u<i.childEvents.length;u++){const f=Z(c,i.childEvents[u]);s=s.concat(f)}return s}function J(c,e){let i;return c._events&&(i=c._events[e])&&i.callbacks.length?i.callbacks:e.indexOf(":")>-1?J(c,e.substr(0,e.lastIndexOf(":"))):null}function ae(c,e,i){for(let[s,u]of c){u?typeof u=="function"&&(u=u(e.name)):u=e.name;const f=new S(e.source,u);f.path=[...e.path],s.fire(f,...i)}}function fe(c,e,i,s){e._removeEventListener?e._removeEventListener(i,s):c._removeEventListener.call(e,i,s)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{se[c]=ie.prototype[c]});const le=function(c){var e=typeof c;return c!=null&&(e=="object"||e=="function")},Ie=Symbol("observableProperties"),xe=Symbol("boundObservables"),Ne=Symbol("boundProperties"),Qe=Symbol("decoratedMethods"),Ge=Symbol("decoratedOriginal"),Je=ze(se());function ze(c){return c?class extends c{set(e,i){if(le(e))return void Object.keys(e).forEach(u=>{this.set(u,e[u])},this);X(this);const s=this[Ie];if(e in this&&!s.has(e))throw new M("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>s.get(e),set(u){const f=s.get(e);let m=this.fire(`set:${e}`,e,u,f);m===void 0&&(m=u),f===m&&s.has(e)||(s.set(e,m),this.fire(`change:${e}`,e,m,f))}}),this[e]=i}bind(...e){if(!e.length||!be(e))throw new M("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new M("observable-bind-duplicate-properties",this);X(this);const i=this[Ne];e.forEach(u=>{if(i.has(u))throw new M("observable-bind-rebind",this)});const s=new Map;return e.forEach(u=>{const f={property:u,to:[]};i.set(u,f),s.set(u,f)}),{to:Ce,toMany:he,_observable:this,_bindProperties:e,_to:[],_bindings:s}}unbind(...e){if(!this[Ie])return;const i=this[Ne],s=this[xe];if(e.length){if(!be(e))throw new M("observable-unbind-wrong-properties",this);e.forEach(u=>{const f=i.get(u);f&&(f.to.forEach(([m,w])=>{const _=s.get(m),E=_[w];E.delete(f),E.size||delete _[w],Object.keys(_).length||(s.delete(m),this.stopListening(m,"change"))}),i.delete(u))})}else s.forEach((u,f)=>{this.stopListening(f,"change")}),s.clear(),i.clear()}decorate(e){X(this);const i=this[e];if(!i)throw new M("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(s,u)=>{s.return=i.apply(this,u)}),this[e]=function(...s){return this.fire(e,s)},this[e][Ge]=i,this[Qe]||(this[Qe]=[]),this[Qe].push(e)}stopListening(e,i,s){if(!e&&this[Qe]){for(const u of this[Qe])this[u]=this[u][Ge];delete this[Qe]}super.stopListening(e,i,s)}}:Je}function X(c){c[Ie]||(Object.defineProperty(c,Ie,{value:new Map}),Object.defineProperty(c,xe,{value:new Map}),Object.defineProperty(c,Ne,{value:new Map}))}function Ce(...c){const e=function(...f){if(!f.length)throw new M("observable-bind-to-parse-error",null);const m={to:[]};let w;return typeof f[f.length-1]=="function"&&(m.callback=f.pop()),f.forEach(_=>{if(typeof _=="string")w.properties.push(_);else{if(typeof _!="object")throw new M("observable-bind-to-parse-error",null);w={observable:_,properties:[]},m.to.push(w)}}),m}(...c),i=Array.from(this._bindings.keys()),s=i.length;if(!e.callback&&e.to.length>1)throw new M("observable-bind-to-no-callback",this);if(s>1&&e.callback)throw new M("observable-bind-to-extra-callback",this);var u;e.to.forEach(f=>{if(f.properties.length&&f.properties.length!==s)throw new M("observable-bind-to-properties-length",this);f.properties.length||(f.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(i[0]).callback=e.callback),u=this._observable,this._to.forEach(f=>{const m=u[xe];let w;m.get(f.observable)||u.listenTo(f.observable,"change",(_,E)=>{w=m.get(f.observable)[E],w&&w.forEach(T=>{pe(u,T.property)})})}),function(f){let m;f._bindings.forEach((w,_)=>{f._to.forEach(E=>{m=E.properties[w.callback?0:f._bindProperties.indexOf(_)],w.to.push([E.observable,m]),function(T,O,U,K){const ee=T[xe],oe=ee.get(U),ke=oe||{};ke[K]||(ke[K]=new Set),ke[K].add(O),oe||ee.set(U,ke)}(f._observable,w,E.observable,m)})})}(this),this._bindProperties.forEach(f=>{pe(this._observable,f)})}function he(c,e,i){if(this._bindings.size>1)throw new M("observable-bind-to-many-not-one-binding",this);this.to(...function(s,u){const f=s.map(m=>[m,u]);return Array.prototype.concat.apply([],f)}(c,e),i)}function be(c){return c.every(e=>typeof e=="string")}function pe(c,e){const i=c[Ne].get(e);let s;i.callback?s=i.callback.apply(c,i.to.map(u=>u[0][u[1]])):(s=i.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(c,e)?c[e]=s:c.set(e,s)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{ze[c]=Je.prototype[c]});class Ae{constructor(){this._replacedElements=[]}replace(e,i){this._replacedElements.push({element:e,newElement:i}),e.style.display="none",i&&e.parentNode.insertBefore(i,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:i})=>{e.style.display="",i&&i.remove()}),this._replacedElements=[]}}function Oe(c){let e=0;for(const i of c)e++;return e}function Me(c,e){const i=Math.min(c.length,e.length);for(let s=0;s<i;s++)if(c[s]!=e[s])return s;return c.length==e.length?"same":c.length<e.length?"prefix":"extension"}function De(c){return!(!c||!c[Symbol.iterator])}const qe=typeof td=="object"&&td&&td.Object===Object&&td;var Ve=typeof self=="object"&&self&&self.Object===Object&&self;const He=qe||Ve||Function("return this")(),st=He.Symbol;var Ue=Object.prototype,Ke=Ue.hasOwnProperty,Ze=Ue.toString,_t=st?st.toStringTag:void 0;const ht=function(c){var e=Ke.call(c,_t),i=c[_t];try{c[_t]=void 0;var s=!0}catch{}var u=Ze.call(c);return s&&(e?c[_t]=i:delete c[_t]),u};var sn=Object.prototype.toString;const pt=function(c){return sn.call(c)};var $t=st?st.toStringTag:void 0;const Bt=function(c){return c==null?c===void 0?"[object Undefined]":"[object Null]":$t&&$t in Object(c)?ht(c):pt(c)},zt=Array.isArray,Qt=function(c){return c!=null&&typeof c=="object"},gn=function(c){return typeof c=="string"||!zt(c)&&Qt(c)&&Bt(c)=="[object String]"};function En(c,e,i={},s=[]){const u=i&&i.xmlns,f=u?c.createElementNS(u,e):c.createElement(e);for(const m in i)f.setAttribute(m,i[m]);!gn(s)&&De(s)||(s=[s]);for(let m of s)gn(m)&&(m=c.createTextNode(m)),f.appendChild(m);return f}const Vn=function(c,e){return function(i){return c(e(i))}},Br=Vn(Object.getPrototypeOf,Object);var Wr=Function.prototype,Bn=Object.prototype,en=Wr.toString,Dn=Bn.hasOwnProperty,Ho=en.call(Object);const Nn=function(c){if(!Qt(c)||Bt(c)!="[object Object]")return!1;var e=Br(c);if(e===null)return!0;var i=Dn.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&en.call(i)==Ho},eo=function(){this.__data__=[],this.size=0},ii=function(c,e){return c===e||c!=c&&e!=e},Ht=function(c,e){for(var i=c.length;i--;)if(ii(c[i][0],e))return i;return-1};var zi=Array.prototype.splice;const to=function(c){var e=this.__data__,i=Ht(e,c);return!(i<0)&&(i==e.length-1?e.pop():zi.call(e,i,1),--this.size,!0)},oi=function(c){var e=this.__data__,i=Ht(e,c);return i<0?void 0:e[i][1]},_r=function(c){return Ht(this.__data__,c)>-1},Fn=function(c,e){var i=this.__data__,s=Ht(i,c);return s<0?(++this.size,i.push([c,e])):i[s][1]=e,this};function Gr(c){var e=-1,i=c==null?0:c.length;for(this.clear();++e<i;){var s=c[e];this.set(s[0],s[1])}}Gr.prototype.clear=eo,Gr.prototype.delete=to,Gr.prototype.get=oi,Gr.prototype.has=_r,Gr.prototype.set=Fn;const ss=Gr,as=function(){this.__data__=new ss,this.size=0},So=function(c){var e=this.__data__,i=e.delete(c);return this.size=e.size,i},Eo=function(c){return this.__data__.get(c)},Do=function(c){return this.__data__.has(c)},bi=function(c){if(!le(c))return!1;var e=Bt(c);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Ui=He["__core-js_shared__"];var Io=function(){var c=/[^.]+$/.exec(Ui&&Ui.keys&&Ui.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}();const ca=function(c){return!!Io&&Io in c};var Ga=Function.prototype.toString;const mt=function(c){if(c!=null){try{return Ga.call(c)}catch{}try{return c+""}catch{}}return""};var Ct=/^\[object .+?Constructor\]$/,St=Function.prototype,Ut=Object.prototype,Yt=St.toString,Mn=Ut.hasOwnProperty,mr=RegExp("^"+Yt.call(Mn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const qi=function(c){return!(!le(c)||ca(c))&&(bi(c)?mr:Ct).test(mt(c))},Vi=function(c,e){return c==null?void 0:c[e]},Oi=function(c,e){var i=Vi(c,e);return qi(i)?i:void 0},uo=Oi(He,"Map"),To=Oi(Object,"create"),Al=function(){this.__data__=To?To(null):{},this.size=0},Ya=function(c){var e=this.has(c)&&delete this.__data__[c];return this.size-=e?1:0,e};var pu=Object.prototype.hasOwnProperty;const gr=function(c){var e=this.__data__;if(To){var i=e[c];return i==="__lodash_hash_undefined__"?void 0:i}return pu.call(e,c)?e[c]:void 0};var _l=Object.prototype.hasOwnProperty;const _c=function(c){var e=this.__data__;return To?e[c]!==void 0:_l.call(e,c)},Cc=function(c,e){var i=this.__data__;return this.size+=this.has(c)?0:1,i[c]=To&&e===void 0?"__lodash_hash_undefined__":e,this};function ls(c){var e=-1,i=c==null?0:c.length;for(this.clear();++e<i;){var s=c[e];this.set(s[0],s[1])}}ls.prototype.clear=Al,ls.prototype.delete=Ya,ls.prototype.get=gr,ls.prototype.has=_c,ls.prototype.set=Cc;const Jh=ls,Ts=function(){this.size=0,this.__data__={hash:new Jh,map:new(uo||ss),string:new Jh}},mu=function(c){var e=typeof c;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?c!=="__proto__":c===null},$i=function(c,e){var i=c.__data__;return mu(e)?i[typeof e=="string"?"string":"hash"]:i.map},_d=function(c){var e=$i(this,c).delete(c);return this.size-=e?1:0,e},Zh=function(c){return $i(this,c).get(c)},Yp=function(c){return $i(this,c).has(c)},Xh=function(c,e){var i=$i(this,c),s=i.size;return i.set(c,e),this.size+=i.size==s?0:1,this};function Cl(c){var e=-1,i=c==null?0:c.length;for(this.clear();++e<i;){var s=c[e];this.set(s[0],s[1])}}Cl.prototype.clear=Ts,Cl.prototype.delete=_d,Cl.prototype.get=Zh,Cl.prototype.has=Yp,Cl.prototype.set=Xh;const xc=Cl,Kp=function(c,e){var i=this.__data__;if(i instanceof ss){var s=i.__data__;if(!uo||s.length<199)return s.push([c,e]),this.size=++i.size,this;i=this.__data__=new xc(s)}return i.set(c,e),this.size=i.size,this};function ua(c){var e=this.__data__=new ss(c);this.size=e.size}ua.prototype.clear=as,ua.prototype.delete=So,ua.prototype.get=Eo,ua.prototype.has=Do,ua.prototype.set=Kp;const xl=ua,Qp=function(c,e){for(var i=-1,s=c==null?0:c.length;++i<s&&e(c[i],i,c)!==!1;);return c},gu=function(){try{var c=Oi(Object,"defineProperty");return c({},"",{}),c}catch{}}(),cs=function(c,e,i){e=="__proto__"&&gu?gu(c,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):c[e]=i};var bu=Object.prototype.hasOwnProperty;const Sl=function(c,e,i){var s=c[e];bu.call(c,e)&&ii(s,i)&&(i!==void 0||e in c)||cs(c,e,i)},Ka=function(c,e,i,s){var u=!i;i||(i={});for(var f=-1,m=e.length;++f<m;){var w=e[f],_=void 0;_===void 0&&(_=c[w]),u?cs(i,w,_):Sl(i,w,_)}return i},no=function(c,e){for(var i=-1,s=Array(c);++i<c;)s[i]=e(i);return s},ef=function(c){return Qt(c)&&Bt(c)=="[object Arguments]"};var Cd=Object.prototype,un=Cd.hasOwnProperty,Jp=Cd.propertyIsEnumerable;const ku=ef(function(){return arguments}())?ef:function(c){return Qt(c)&&un.call(c,"callee")&&!Jp.call(c,"callee")},da=function(){return!1};var xd=r&&!r.nodeType&&r,Sd=xd&&!0&&t&&!t.nodeType&&t,Sc=Sd&&Sd.exports===xd?He.Buffer:void 0;const Qa=(Sc?Sc.isBuffer:void 0)||da;var Zp=/^(?:0|[1-9]\d*)$/;const wu=function(c,e){var i=typeof c;return!!(e=e??9007199254740991)&&(i=="number"||i!="symbol"&&Zp.test(c))&&c>-1&&c%1==0&&c<e},Ed=function(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991};var Jn={};Jn["[object Float32Array]"]=Jn["[object Float64Array]"]=Jn["[object Int8Array]"]=Jn["[object Int16Array]"]=Jn["[object Int32Array]"]=Jn["[object Uint8Array]"]=Jn["[object Uint8ClampedArray]"]=Jn["[object Uint16Array]"]=Jn["[object Uint32Array]"]=!0,Jn["[object Arguments]"]=Jn["[object Array]"]=Jn["[object ArrayBuffer]"]=Jn["[object Boolean]"]=Jn["[object DataView]"]=Jn["[object Date]"]=Jn["[object Error]"]=Jn["[object Function]"]=Jn["[object Map]"]=Jn["[object Number]"]=Jn["[object Object]"]=Jn["[object RegExp]"]=Jn["[object Set]"]=Jn["[object String]"]=Jn["[object WeakMap]"]=!1;const Ec=function(c){return Qt(c)&&Ed(c.length)&&!!Jn[Bt(c)]},ha=function(c){return function(e){return c(e)}};var tf=r&&!r.nodeType&&r,Ns=tf&&!0&&t&&!t.nodeType&&t,Dc=Ns&&Ns.exports===tf&&qe.process;const Ms=function(){try{var c=Ns&&Ns.require&&Ns.require("util").types;return c||Dc&&Dc.binding&&Dc.binding("util")}catch{}}();var Dd=Ms&&Ms.isTypedArray;const yu=Dd?ha(Dd):Ec;var nf=Object.prototype.hasOwnProperty;const Id=function(c,e){var i=zt(c),s=!i&&ku(c),u=!i&&!s&&Qa(c),f=!i&&!s&&!u&&yu(c),m=i||s||u||f,w=m?no(c.length,String):[],_=w.length;for(var E in c)!e&&!nf.call(c,E)||m&&(E=="length"||u&&(E=="offset"||E=="parent")||f&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||wu(E,_))||w.push(E);return w};var fa=Object.prototype;const Ps=function(c){var e=c&&c.constructor;return c===(typeof e=="function"&&e.prototype||fa)},Xp=Vn(Object.keys,Object);var El=Object.prototype.hasOwnProperty;const Os=function(c){if(!Ps(c))return Xp(c);var e=[];for(var i in Object(c))El.call(c,i)&&i!="constructor"&&e.push(i);return e},Dl=function(c){return c!=null&&Ed(c.length)&&!bi(c)},js=function(c){return Dl(c)?Id(c):Os(c)},em=function(c,e){return c&&Ka(e,js(e),c)},vu=function(c){var e=[];if(c!=null)for(var i in Object(c))e.push(i);return e};var tm=Object.prototype.hasOwnProperty;const Td=function(c){if(!le(c))return vu(c);var e=Ps(c),i=[];for(var s in c)(s!="constructor"||!e&&tm.call(c,s))&&i.push(s);return i},pa=function(c){return Dl(c)?Id(c,!0):Td(c)},rf=function(c,e){return c&&Ka(e,pa(e),c)};var Ic=r&&!r.nodeType&&r,Au=Ic&&!0&&t&&!t.nodeType&&t,_u=Au&&Au.exports===Ic?He.Buffer:void 0,Nd=_u?_u.allocUnsafe:void 0;const of=function(c,e){if(e)return c.slice();var i=c.length,s=Nd?Nd(i):new c.constructor(i);return c.copy(s),s},Tc=function(c,e){var i=-1,s=c.length;for(e||(e=Array(s));++i<s;)e[i]=c[i];return e},Nc=function(c,e){for(var i=-1,s=c==null?0:c.length,u=0,f=[];++i<s;){var m=c[i];e(m,i,c)&&(f[u++]=m)}return f},Cu=function(){return[]};var Il=Object.prototype.propertyIsEnumerable,xu=Object.getOwnPropertySymbols;const z=xu?function(c){return c==null?[]:(c=Object(c),Nc(xu(c),function(e){return Il.call(c,e)}))}:Cu,de=function(c,e){return Ka(c,z(c),e)},Te=function(c,e){for(var i=-1,s=e.length,u=c.length;++i<s;)c[u+i]=e[i];return c},Re=Object.getOwnPropertySymbols?function(c){for(var e=[];c;)Te(e,z(c)),c=Br(c);return e}:Cu,Xe=function(c,e){return Ka(c,Re(c),e)},dt=function(c,e,i){var s=e(c);return zt(c)?s:Te(s,i(c))},xt=function(c){return dt(c,js,z)},jt=function(c){return dt(c,pa,Re)},Gt=Oi(He,"DataView"),dn=Oi(He,"Promise"),cn=Oi(He,"Set"),In=Oi(He,"WeakMap");var Er="[object Map]",Mr="[object Promise]",Yr="[object Set]",Hi="[object WeakMap]",ki="[object DataView]",Ls=mt(Gt),Wo=mt(uo),ma=mt(dn),sf=mt(cn),Md=mt(In),Rs=Bt;(Gt&&Rs(new Gt(new ArrayBuffer(1)))!=ki||uo&&Rs(new uo)!=Er||dn&&Rs(dn.resolve())!=Mr||cn&&Rs(new cn)!=Yr||In&&Rs(new In)!=Hi)&&(Rs=function(c){var e=Bt(c),i=e=="[object Object]"?c.constructor:void 0,s=i?mt(i):"";if(s)switch(s){case Ls:return ki;case Wo:return Er;case ma:return Mr;case sf:return Yr;case Md:return Hi}return e});const ga=Rs;var Pd=Object.prototype.hasOwnProperty;const Od=function(c){var e=c.length,i=new c.constructor(e);return e&&typeof c[0]=="string"&&Pd.call(c,"index")&&(i.index=c.index,i.input=c.input),i},Ja=He.Uint8Array,wi=function(c){var e=new c.constructor(c.byteLength);return new Ja(e).set(new Ja(c)),e},Su=function(c,e){var i=e?wi(c.buffer):c.buffer;return new c.constructor(i,c.byteOffset,c.byteLength)};var Eu=/\w*$/;const Du=function(c){var e=new c.constructor(c.source,Eu.exec(c));return e.lastIndex=c.lastIndex,e};var Iu=st?st.prototype:void 0,ho=Iu?Iu.valueOf:void 0;const nm=function(c){return ho?Object(ho.call(c)):{}},Tu=function(c,e){var i=e?wi(c.buffer):c.buffer;return new c.constructor(i,c.byteOffset,c.length)},af=function(c,e,i){var s=c.constructor;switch(e){case"[object ArrayBuffer]":return wi(c);case"[object Boolean]":case"[object Date]":return new s(+c);case"[object DataView]":return Su(c,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Tu(c,i);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(c);case"[object RegExp]":return Du(c);case"[object Symbol]":return nm(c)}};var Go=Object.create;const Nu=function(){function c(){}return function(e){if(!le(e))return{};if(Go)return Go(e);c.prototype=e;var i=new c;return c.prototype=void 0,i}}(),jd=function(c){return typeof c.constructor!="function"||Ps(c)?{}:Nu(Br(c))},lf=function(c){return Qt(c)&&ga(c)=="[object Map]"};var Za=Ms&&Ms.isMap;const Mc=Za?ha(Za):lf,No=function(c){return Qt(c)&&ga(c)=="[object Set]"};var ro=Ms&&Ms.isSet;const Tl=ro?ha(ro):No;var ba="[object Arguments]",ka="[object Function]",Pc="[object Object]",jn={};jn[ba]=jn["[object Array]"]=jn["[object ArrayBuffer]"]=jn["[object DataView]"]=jn["[object Boolean]"]=jn["[object Date]"]=jn["[object Float32Array]"]=jn["[object Float64Array]"]=jn["[object Int8Array]"]=jn["[object Int16Array]"]=jn["[object Int32Array]"]=jn["[object Map]"]=jn["[object Number]"]=jn[Pc]=jn["[object RegExp]"]=jn["[object Set]"]=jn["[object String]"]=jn["[object Symbol]"]=jn["[object Uint8Array]"]=jn["[object Uint8ClampedArray]"]=jn["[object Uint16Array]"]=jn["[object Uint32Array]"]=!0,jn["[object Error]"]=jn[ka]=jn["[object WeakMap]"]=!1;const Pr=function c(e,i,s,u,f,m){var w,_=1&i,E=2&i,T=4&i;if(s&&(w=f?s(e,u,f,m):s(e)),w!==void 0)return w;if(!le(e))return e;var O=zt(e);if(O){if(w=Od(e),!_)return Tc(e,w)}else{var U=ga(e),K=U==ka||U=="[object GeneratorFunction]";if(Qa(e))return of(e,_);if(U==Pc||U==ba||K&&!f){if(w=E||K?{}:jd(e),!_)return E?Xe(e,rf(w,e)):de(e,em(w,e))}else{if(!jn[U])return f?e:{};w=af(e,U,_)}}m||(m=new xl);var ee=m.get(e);if(ee)return ee;m.set(e,w),Tl(e)?e.forEach(function(ke){w.add(c(ke,i,s,ke,e,m))}):Mc(e)&&e.forEach(function(ke,Se){w.set(Se,c(ke,i,s,Se,e,m))});var oe=O?void 0:(T?E?jt:xt:E?pa:js)(e);return Qp(oe||e,function(ke,Se){oe&&(ke=e[Se=ke]),Sl(w,Se,c(ke,i,s,Se,e,m))}),w},Oc=function(c,e){return Pr(c,5,e=typeof e=="function"?e:void 0)},Kr=function(c){return Qt(c)&&c.nodeType===1&&!Nn(c)};class Yo{constructor(e,i){this._config={},i&&this.define(jc(i)),e&&this._setObjectToTarget(this._config,e)}set(e,i){this._setToTarget(this._config,e,i)}define(e,i){this._setToTarget(this._config,e,i,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,i,s,u=!1){if(Nn(i))return void this._setObjectToTarget(e,i,u);const f=i.split(".");i=f.pop();for(const m of f)Nn(e[m])||(e[m]={}),e=e[m];if(Nn(s))return Nn(e[i])||(e[i]={}),e=e[i],void this._setObjectToTarget(e,s,u);u&&e[i]!==void 0||(e[i]=s)}_getFromSource(e,i){const s=i.split(".");i=s.pop();for(const u of s){if(!Nn(e[u])){e=null;break}e=e[u]}return e?jc(e[i]):void 0}_setObjectToTarget(e,i,s){Object.keys(i).forEach(u=>{this._setToTarget(e,u,i[u],s)})}}function jc(c){return Oc(c,cf)}function cf(c){return Kr(c)||typeof c=="function"?c:void 0}function us(c){if(c){if(c.defaultView)return c instanceof c.defaultView.Document;if(c.ownerDocument&&c.ownerDocument.defaultView)return c instanceof c.ownerDocument.defaultView.Node}return!1}function wa(c){const e=Object.prototype.toString.apply(c);return e=="[object Window]"||e=="[object global]"}const Nl=yi(se());function yi(c){return c?class extends c{listenTo(e,i,s,u={}){if(us(e)||wa(e)){const f={capture:!!u.useCapture,passive:!!u.usePassive},m=this._getProxyEmitter(e,f)||new Lc(e,f);this.listenTo(m,i,s,u)}else super.listenTo(e,i,s,u)}stopListening(e,i,s){if(us(e)||wa(e)){const u=this._getAllProxyEmitters(e);for(const f of u)this.stopListening(f,i,s)}else super.stopListening(e,i,s)}_getProxyEmitter(e,i){return function(s,u){const f=s[R];return f&&f[u]?f[u].emitter:null}(this,Rc(e,i))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(i=>this._getProxyEmitter(e,i)).filter(i=>!!i)}}:Nl}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{yi[c]=Nl.prototype[c]});class Lc extends se(){constructor(e,i){super(),ye(this,Rc(e,i)),this._domNode=e,this._options=i}attach(e){if(this._domListeners&&this._domListeners[e])return;const i=this._createDomListener(e);this._domNode.addEventListener(e,i,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=i}detach(e){let i;!this._domListeners[e]||(i=this._events[e])&&i.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,i,s){this.attach(e),se().prototype._addEventListener.call(this,e,i,s)}_removeEventListener(e,i){se().prototype._removeEventListener.call(this,e,i),this.detach(e)}_createDomListener(e){const i=s=>{this.fire(e,s)};return i.removeListener=()=>{this._domNode.removeEventListener(e,i,this._options),delete this._domListeners[e]},i}}function Rc(c,e){let i=function(s){return s["data-ck-expando"]||(s["data-ck-expando"]=P())}(c);for(const s of Object.keys(e).sort())e[s]&&(i+="-"+s);return i}function Ml(c){const e=c.ownerDocument.defaultView.getComputedStyle(c);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function rr(c){return Object.prototype.toString.call(c)=="[object Text]"}function Pl(c){return Object.prototype.toString.apply(c)=="[object Range]"}function Ko(c){return c&&c.parentNode?c.offsetParent===h.document.body?null:c.offsetParent:null}const Qo=["top","right","bottom","left","width","height"];class qt{constructor(e){const i=Pl(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Qr(e)||i)if(i){const s=qt.getDomRangeRects(e);Zn(this,qt.getBoundingRect(s))}else Zn(this,e.getBoundingClientRect());else if(wa(e)){const{innerWidth:s,innerHeight:u}=e;Zn(this,{top:0,right:s,bottom:u,left:0,width:s,height:u})}else Zn(this,e)}clone(){return new qt(this)}moveTo(e,i){return this.top=i,this.right=e+this.width,this.bottom=i+this.height,this.left=e,this}moveBy(e,i){return this.top+=i,this.right+=e,this.left+=e,this.bottom+=i,this}getIntersection(e){const i={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<0||i.height<0)return null;{const s=new qt(i);return s._source=this._source,s}}getIntersectionArea(e){const i=this.getIntersection(e);return i?i.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let i=this.clone();if(Fr(e))return i;let s,u=e,f=e.parentNode||e.commonAncestorContainer;for(;f&&!Fr(f);){const w=((m=f)instanceof HTMLElement?m.ownerDocument.defaultView.getComputedStyle(m).overflow:"visible")==="visible";u instanceof HTMLElement&&ya(u)==="absolute"&&(s=u);const _=ya(f);if(w||s&&(_==="relative"&&w||_!=="relative")){u=f,f=f.parentNode;continue}const E=new qt(f),T=i.getIntersection(E);if(!T)return null;T.getArea()<i.getArea()&&(i=T),u=f,f=f.parentNode}var m;return i}isEqual(e){for(const i of Qo)if(this[i]!==e[i])return!1;return!0}contains(e){const i=this.getIntersection(e);return!(!i||!i.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:i}=h.window,s=this.clone().moveBy(e,i);if(Qr(s._source)){const u=Ko(s._source);u&&function(f,m){const w=new qt(m),_=Ml(m);let E=0,T=0;E-=w.left,T-=w.top,E+=m.scrollLeft,T+=m.scrollTop,E-=_.left,T-=_.top,f.moveBy(E,T)}(s,u)}return s}excludeScrollbarsAndBorders(){const e=this._source;let i,s,u;if(wa(e))i=e.innerWidth-e.document.documentElement.clientWidth,s=e.innerHeight-e.document.documentElement.clientHeight,u=e.getComputedStyle(e.document.documentElement).direction;else{const f=Ml(e);i=e.offsetWidth-e.clientWidth-f.left-f.right,s=e.offsetHeight-e.clientHeight-f.top-f.bottom,u=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=f.left,this.top+=f.top,this.right-=f.right,this.bottom-=f.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=i,u==="ltr"?this.right-=i:this.left+=i,this.height-=s,this.bottom-=s,this}static getDomRangeRects(e){const i=[],s=Array.from(e.getClientRects());if(s.length)for(const u of s)i.push(new qt(u));else{let u=e.startContainer;rr(u)&&(u=u.parentNode);const f=new qt(u.getBoundingClientRect());f.right=f.left,f.width=0,i.push(f)}return i}static getBoundingRect(e){const i={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let s=0;for(const u of e)s++,i.left=Math.min(i.left,u.left),i.top=Math.min(i.top,u.top),i.right=Math.max(i.right,u.right),i.bottom=Math.max(i.bottom,u.bottom);return s==0?null:(i.width=i.right-i.left,i.height=i.bottom-i.top,new qt(i))}}function Zn(c,e){for(const i of Qo)c[i]=e[i]}function Fr(c){return!!Qr(c)&&c===c.ownerDocument.body}function Qr(c){return c!==null&&typeof c=="object"&&c.nodeType===1&&typeof c.getBoundingClientRect=="function"}function ya(c){return c instanceof HTMLElement?c.ownerDocument.defaultView.getComputedStyle(c).position:"static"}const Cr=class{constructor(c,e){Cr._observerInstance||Cr._createObserver(),this._element=c,this._callback=e,Cr._addElementCallback(c,e),Cr._observerInstance.observe(c)}get element(){return this._element}destroy(){Cr._deleteElementCallback(this._element,this._callback)}static _addElementCallback(c,e){Cr._elementCallbacks||(Cr._elementCallbacks=new Map);let i=Cr._elementCallbacks.get(c);i||(i=new Set,Cr._elementCallbacks.set(c,i)),i.add(e)}static _deleteElementCallback(c,e){const i=Cr._getElementCallbacks(c);i&&(i.delete(e),i.size||(Cr._elementCallbacks.delete(c),Cr._observerInstance.unobserve(c))),Cr._elementCallbacks&&!Cr._elementCallbacks.size&&(Cr._observerInstance=null,Cr._elementCallbacks=null)}static _getElementCallbacks(c){return Cr._elementCallbacks?Cr._elementCallbacks.get(c):null}static _createObserver(){Cr._observerInstance=new h.window.ResizeObserver(c=>{for(const e of c){const i=Cr._getElementCallbacks(e.target);if(i)for(const s of i)s(e)}})}};let va=Cr;function Ld(c,e){c instanceof HTMLTextAreaElement&&(c.value=e),c.innerHTML=e}function Ol(c){return e=>e+c}function jl(c){let e=0;for(;c.previousSibling;)c=c.previousSibling,e++;return e}function Mo(c,e,i){c.insertBefore(i,c.childNodes[e]||null)}function io(c){return c&&c.nodeType===Node.COMMENT_NODE}function Aa(c){return!!(c&&c.getClientRects&&c.getClientRects().length)}va._observerInstance=null,va._elementCallbacks=null;var Rd=Math.pow;function Bd({element:c,target:e,positions:i,limiter:s,fitInViewport:u,viewportOffsetConfig:f}){bi(e)&&(e=e()),bi(s)&&(s=s());const m=Ko(c),w=function(U){U=Object.assign({top:0,bottom:0,left:0,right:0},U);const K=new qt(h.window);return K.top+=U.top,K.height-=U.top,K.bottom-=U.bottom,K.height-=U.bottom,K}(f),_=new qt(c),E=Fd(e,w);let T;if(!E||!w.getIntersection(E))return null;const O={targetRect:E,elementRect:_,positionedElementAncestor:m,viewportRect:w};if(s||u){if(s){const U=Fd(s,w);U&&(O.limiterRect=U)}T=function(U,K){const{elementRect:ee}=K,oe=ee.getArea(),ke=U.map(tt=>new zd(tt,K)).filter(tt=>!!tt.name);let Se=0,Le=null;for(const tt of ke){const{limiterIntersectionArea:ft,viewportIntersectionArea:Mt}=tt;if(ft===oe)return tt;const nn=Rd(Mt,2)+Rd(ft,2);nn>Se&&(Se=nn,Le=tt)}return Le}(i,O)}else T=new zd(i[0],O);return T}function Fd(c,e){const i=new qt(c).getVisible();return i?i.getIntersection(e):null}class zd{constructor(e,i){const s=e(i.targetRect,i.elementRect,i.viewportRect,i.limiterRect);if(!s)return;const{left:u,top:f,name:m,config:w}=s;this.name=m,this.config=w,this._positioningFunctionCoordinates={left:u,top:f},this._options=i}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function uf(c){const e=c.parentNode;e&&e.removeChild(c)}function Cb({window:c,rect:e,alignToTop:i,forceScroll:s,viewportOffset:u}){const f=e.clone().moveBy(0,u.bottom),m=e.clone().moveBy(0,-u.top),w=new qt(c).excludeScrollbarsAndBorders(),_=i&&s,E=[m,f].every(ee=>w.contains(ee));let{scrollX:T,scrollY:O}=c;const U=T,K=O;_?O-=w.top-e.top+u.top:E||(Ud(m,w)?O-=w.top-e.top+u.top:df(f,w)&&(O+=i?e.top-w.top-u.top:e.bottom-w.bottom+u.bottom)),E||(hf(e,w)?T-=w.left-e.left+u.left:xb(e,w)&&(T+=e.right-w.right+u.right)),T==U&&O===K||c.scrollTo(T,O)}function rm({parent:c,getRect:e,alignToTop:i,forceScroll:s,ancestorOffset:u=0,limiterElement:f}){const m=im(c),w=i&&s;let _,E,T;const O=f||m.document.body;for(;c!=O;)E=e(),_=new qt(c).excludeScrollbarsAndBorders(),T=_.contains(E),w?c.scrollTop-=_.top-E.top+u:T||(Ud(E,_)?c.scrollTop-=_.top-E.top+u:df(E,_)&&(c.scrollTop+=i?E.top-_.top-u:E.bottom-_.bottom+u)),T||(hf(E,_)?c.scrollLeft-=_.left-E.left+u:xb(E,_)&&(c.scrollLeft+=E.right-_.right+u)),c=c.parentNode}function df(c,e){return c.bottom>e.bottom}function Ud(c,e){return c.top<e.top}function hf(c,e){return c.left<e.left}function xb(c,e){return c.right>e.right}function im(c){return Pl(c)?c.startContainer.ownerDocument.defaultView:c.ownerDocument.defaultView}function Sb(c){if(Pl(c)){let e=c.commonAncestorContainer;return rr(e)&&(e=e.parentNode),e}return c.parentNode}function Eb(c,e){const i=im(c),s=new qt(c);if(i===e)return s;{let u=i;for(;u!=e;){const f=u.frameElement,m=new qt(f).excludeScrollbarsAndBorders();s.moveBy(m.left,m.top),u=u.parent}}return s}const Ow={ctrl:"âŒƒ",cmd:"âŒ˜",alt:"âŒ¥",shift:"â‡§"},jw={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Db={37:"â†",38:"â†‘",39:"â†’",40:"â†“",9:"â‡¥",33:"Page Up",34:"Page Down"},Pn=function(){const c={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)c[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)c[e-48]=e;for(let e=112;e<=123;e++)c["f"+(e-111)]=e;return Object.assign(c,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),c}(),om=Object.fromEntries(Object.entries(Pn).map(([c,e])=>{let i;return i=e in Db?Db[e]:c.charAt(0).toUpperCase()+c.slice(1),[e,i]}));function Ll(c){let e;if(typeof c=="string"){if(e=Pn[c.toLowerCase()],!e)throw new M("keyboard-unknown-key",null,{key:c})}else e=c.keyCode+(c.altKey?Pn.alt:0)+(c.ctrlKey?Pn.ctrl:0)+(c.shiftKey?Pn.shift:0)+(c.metaKey?Pn.cmd:0);return e}function Xa(c){return typeof c=="string"&&(c=function(e){return e.split("+").map(i=>i.trim())}(c)),c.map(e=>typeof e=="string"?function(i){if(i.endsWith("!"))return Ll(i.slice(0,-1));const s=Ll(i);return(b.isMac||b.isiOS)&&s==Pn.ctrl?Pn.cmd:s}(e):e).reduce((e,i)=>i+e,0)}function ff(c){let e=Xa(c);return Object.entries(b.isMac||b.isiOS?Ow:jw).reduce((i,[s,u])=>(e&Pn[s]&&(e&=~Pn[s],i+=u),i),"")+(e?om[e]:"")}function sm(c,e){const i=e==="ltr";switch(c){case Pn.arrowleft:return i?"left":"right";case Pn.arrowright:return i?"right":"left";case Pn.arrowup:return"up";case Pn.arrowdown:return"down"}}function ir(c){return Array.isArray(c)?c:[c]}const am=function(c,e,i){(i!==void 0&&!ii(c[e],i)||i===void 0&&!(e in c))&&cs(c,e,i)},Ib=function(c){return function(e,i,s){for(var u=-1,f=Object(e),m=s(e),w=m.length;w--;){var _=m[++u];if(i(f[_],_,f)===!1)break}return e}}(),Lw=function(c){return Qt(c)&&Dl(c)},Tb=function(c,e){if((e!=="constructor"||typeof c[e]!="function")&&e!="__proto__")return c[e]},Rl=function(c){return Ka(c,pa(c))},Bs=function(c,e,i,s,u,f,m){var w=Tb(c,i),_=Tb(e,i),E=m.get(_);if(E)am(c,i,E);else{var T=void 0,O=T===void 0;if(O){var U=zt(_),K=!U&&Qa(_),ee=!U&&!K&&yu(_);T=_,U||K||ee?zt(w)?T=w:Lw(w)?T=Tc(w):K?(O=!1,T=of(_,!0)):ee?(O=!1,T=Tu(_,!0)):T=[]:Nn(_)||ku(_)?(T=w,ku(w)?T=Rl(w):le(w)&&!bi(w)||(T=jd(_))):O=!1}O&&(m.set(_,T),u(T,_,s,f,m),m.delete(_)),am(c,i,T)}},el=function c(e,i,s,u,f){e!==i&&Ib(i,function(m,w){if(f||(f=new xl),le(m))Bs(e,i,w,s,c,u,f);else{var _=void 0;_===void 0&&(_=m),am(e,w,_)}},pa)},Bl=function(c){return c},Nb=function(c,e,i){switch(i.length){case 0:return c.call(e);case 1:return c.call(e,i[0]);case 2:return c.call(e,i[0],i[1]);case 3:return c.call(e,i[0],i[1],i[2])}return c.apply(e,i)};var tl=Math.max;const ds=function(c,e,i){return e=tl(e===void 0?c.length-1:e,0),function(){for(var s=arguments,u=-1,f=tl(s.length-e,0),m=Array(f);++u<f;)m[u]=s[e+u];u=-1;for(var w=Array(e+1);++u<e;)w[u]=s[u];return w[e]=i(m),Nb(c,this,w)}},Rw=function(c){return function(){return c}},Bw=gu?function(c,e){return gu(c,"toString",{configurable:!0,enumerable:!1,value:Rw(e),writable:!0})}:Bl;var Mb=Date.now;const Pb=function(c){var e=0,i=0;return function(){var s=Mb(),u=16-(s-i);if(i=s,u>0){if(++e>=800)return arguments[0]}else e=0;return c.apply(void 0,arguments)}}(Bw),Ob=function(c,e){return Pb(ds(c,e,Bl),c+"")},zw=function(c,e,i){if(!le(i))return!1;var s=typeof e;return!!(s=="number"?Dl(i)&&wu(e,i.length):s=="string"&&e in i)&&ii(i[e],c)},qd=function(c){return Ob(function(e,i){var s=-1,u=i.length,f=u>1?i[u-1]:void 0,m=u>2?i[2]:void 0;for(f=c.length>3&&typeof f=="function"?(u--,f):void 0,m&&zw(i[0],i[1],m)&&(f=u<3?void 0:f,u=1),e=Object(e);++s<u;){var w=i[s];w&&c(e,w,s,f)}return e})},Mu=qd(function(c,e,i){el(c,e,i)});function Vd(c,e,i=1,s){if(typeof i!="number")throw new M("translation-service-quantity-not-a-number",null,{quantity:i});const u=s||h.window.CKEDITOR_TRANSLATIONS,f=function(T){return Object.keys(T).length}(u);f===1&&(c=Object.keys(u)[0]);const m=e.id||e.string;if(f===0||!function(T,O,U){return!!U[T]&&!!U[T].dictionary[O]}(c,m,u))return i!==1?e.plural:e.string;const w=u[c].dictionary,_=u[c].getPluralForm||(T=>T===1?0:1),E=w[m];return typeof E=="string"?E:E[Number(_(i))]}h.window.CKEDITOR_TRANSLATIONS||(h.window.CKEDITOR_TRANSLATIONS={});const lm=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function jb(c){return lm.includes(c)?"rtl":"ltr"}class Lb{constructor({uiLanguage:e="en",contentLanguage:i,translations:s}={}){this.uiLanguage=e,this.contentLanguage=i||this.uiLanguage,this.uiLanguageDirection=jb(this.uiLanguage),this.contentLanguageDirection=jb(this.contentLanguage),this.translations=function(u){return Array.isArray(u)?u.reduce((f,m)=>Mu(f,m)):u}(s),this.t=(u,f)=>this._t(u,f)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,i=[]){i=ir(i),typeof e=="string"&&(e={string:e});const s=e.plural?i[0]:1;return function(u,f){return u.replace(/%(\d+)/g,(m,w)=>w<f.length?f[w]:m)}(Vd(this.uiLanguage,e,s,this.translations),i)}}class Fs extends se(){constructor(e={},i={}){super();const s=De(e);if(s||(i=e),this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],s)for(const u of e)this._items.push(u),this._itemMap.set(this._getItemIdBeforeAdding(u),u)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,i){return this.addMany([e],i)}addMany(e,i){if(i===void 0)i=this._items.length;else if(i>this._items.length||i<0)throw new M("collection-add-item-invalid-index",this);let s=0;for(const u of e){const f=this._getItemIdBeforeAdding(u),m=i+s;this._items.splice(m,0,u),this._itemMap.set(f,u),this.fire("add",u,m),s++}return this.fire("change",{added:e,removed:[],index:i}),this}get(e){let i;if(typeof e=="string")i=this._itemMap.get(e);else{if(typeof e!="number")throw new M("collection-get-invalid-arg",this);i=this._items[e]}return i||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const i=e[this._idProperty];return i&&this._itemMap.has(i)}}getIndex(e){let i;return i=typeof e=="string"?this._itemMap.get(e):e,i?this._items.indexOf(i):-1}remove(e){const[i,s]=this._remove(e);return this.fire("change",{added:[],removed:[i],index:s}),i}map(e,i){return this._items.map(e,i)}forEach(e,i){this._items.forEach(e,i)}find(e,i){return this._items.find(e,i)}filter(e,i){return this._items.filter(e,i)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new M("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:i=>{this._setUpBindToBinding(s=>new i(s))},using:i=>{typeof i=="function"?this._setUpBindToBinding(i):this._setUpBindToBinding(s=>s[i])}}}_setUpBindToBinding(e){const i=this._bindToCollection,s=(u,f,m)=>{const w=i._bindToCollection==this,_=i._bindToInternalToExternalMap.get(f);if(w&&_)this._bindToExternalToInternalMap.set(f,_),this._bindToInternalToExternalMap.set(_,f);else{const E=e(f);if(!E)return void this._skippedIndexesFromExternal.push(m);let T=m;for(const O of this._skippedIndexesFromExternal)m>O&&T--;for(const O of i._skippedIndexesFromExternal)T>=O&&T++;this._bindToExternalToInternalMap.set(f,E),this._bindToInternalToExternalMap.set(E,f),this.add(E,T);for(let O=0;O<i._skippedIndexesFromExternal.length;O++)T<=i._skippedIndexesFromExternal[O]&&i._skippedIndexesFromExternal[O]++}};for(const u of i)s(0,u,i.getIndex(u));this.listenTo(i,"add",s),this.listenTo(i,"remove",(u,f,m)=>{const w=this._bindToExternalToInternalMap.get(f);w&&this.remove(w),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((_,E)=>(m<E&&_.push(E-1),m>E&&_.push(E),_),[])})}_getItemIdBeforeAdding(e){const i=this._idProperty;let s;if(i in e){if(s=e[i],typeof s!="string")throw new M("collection-add-invalid-id",this);if(this.get(s))throw new M("collection-add-item-already-exists",this)}else e[i]=s=P();return s}_remove(e){let i,s,u,f=!1;const m=this._idProperty;if(typeof e=="string"?(s=e,u=this._itemMap.get(s),f=!u,u&&(i=this._items.indexOf(u))):typeof e=="number"?(i=e,u=this._items[i],f=!u,u&&(s=u[m])):(u=e,s=u[m],i=this._items.indexOf(u),f=i==-1||!this._itemMap.get(s)),f)throw new M("collection-remove-404",this);this._items.splice(i,1),this._itemMap.delete(s);const w=this._bindToInternalToExternalMap.get(u);return this._bindToInternalToExternalMap.delete(u),this._bindToExternalToInternalMap.delete(w),this.fire("remove",u,i),[u,i]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function ji(c){const e=c.next();return e.done?null:e.value}class Li extends yi(ze()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new M("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class fo{constructor(){this._listener=new(yi())}listenTo(e){this._listener.listenTo(e,"keydown",(i,s)=>{this._listener.fire("_keydown:"+Ll(s),s)})}set(e,i,s={}){const u=Xa(e),f=s.priority;this._listener.listenTo(this._listener,"_keydown:"+u,(m,w)=>{i(w,()=>{w.preventDefault(),w.stopPropagation(),m.stop()}),m.return=!0},{priority:f})}press(e){return!!this._listener.fire("_keydown:"+Ll(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function _a(c){return De(c)?new Map(c):function(e){const i=new Map;for(const s in e)i.set(s,e[s]);return i}(c)}function cm(c,e){let i;function s(...u){s.cancel(),i=setTimeout(()=>c(...u),e)}return s.cancel=()=>{clearTimeout(i)},s}function pf(c,e){return!!(i=c.charAt(e-1))&&i.length==1&&/[\ud800-\udbff]/.test(i)&&function(s){return!!s&&s.length==1&&/[\udc00-\udfff]/.test(s)}(c.charAt(e));var i}function Pu(c,e){return!!(i=c.charAt(e))&&i.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i);var i}const Uw=function(){const c=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,i="(?:"+c.map(s=>s.source).join("|")+")";return new RegExp(`${e}|${i}(?:â€${i})*`,"ug")}();function Rb(c,e){const i=String(c).matchAll(Uw);return Array.from(i).some(s=>s.index<e&&e<s.index+s[0].length)}class Jo extends Fs{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(i,s,u)=>{this._renderViewIntoCollectionParent(s,u)}),this.on("remove",(i,s)=>{s.element&&this._parentElement&&s.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const i of this)this._renderViewIntoCollectionParent(i)}delegate(...e){if(!e.length||!e.every(i=>typeof i=="string"))throw new M("ui-viewcollection-delegate-wrong-events",this);return{to:i=>{for(const s of this)for(const u of e)s.delegate(u).to(i);this.on("add",(s,u)=>{for(const f of e)u.delegate(f).to(i)}),this.on("remove",(s,u)=>{for(const f of e)u.stopDelegating(f,i)})}}}_renderViewIntoCollectionParent(e,i){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[i])}remove(e){return super.remove(e)}}class I extends se(){constructor(e){super(),Object.assign(this,Fe(Ee(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new M("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(i){if(i.children)for(const s of i.children)Be(s)?yield s:$e(s)&&(yield*e(s))}(this)}static bind(e,i){return{to:(s,u)=>new W({eventNameOrFunction:s,attribute:s,observable:e,emitter:i,callback:u}),if:(s,u,f)=>new te({observable:e,emitter:i,attribute:s,valueIfTrue:u,callback:f})}}static extend(e,i){if(e._isRendered)throw new M("template-extend-render",[this,e]);kt(e,Fe(Ee(i)))}_renderNode(e){let i;if(i=e.node?this.tag&&this.text:this.tag?this.text:!this.text,i)throw new M("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let i=e.node;return i||(i=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),i}_renderText(e){let i=e.node;return i?e.revertData.text=i.textContent:i=e.node=document.createTextNode(""),ce(this.text)?this._bindToObservable({schema:this.text,updater:ge(i),data:e}):i.textContent=this.text.join(""),i}_renderAttributes(e){if(!this.attributes)return;const i=e.node,s=e.revertData;for(const u in this.attributes){const f=i.getAttribute(u),m=this.attributes[u];s&&(s.attributes[u]=f);const w=vt(m)?m[0].ns:null;if(ce(m)){const _=vt(m)?m[0].value:m;s&&bt(u)&&_.unshift(f),this._bindToObservable({schema:_,updater:we(i,u,w),data:e})}else if(u=="style"&&typeof m[0]!="string")this._renderStyleAttribute(m[0],e);else{s&&f&&bt(u)&&m.unshift(f);const _=m.map(E=>E&&E.value||E).reduce((E,T)=>E.concat(T),[]).reduce(rt,"");ot(_)||i.setAttributeNS(w,u,_)}}}_renderStyleAttribute(e,i){const s=i.node;for(const u in e){const f=e[u];ce(f)?this._bindToObservable({schema:[f],updater:ve(s,u),data:i}):s.style[u]=f}}_renderElementChildren(e){const i=e.node,s=e.intoFragment?document.createDocumentFragment():i,u=e.isApplying;let f=0;for(const m of this.children)if(gt(m)){if(!u){m.setParent(i);for(const w of m)s.appendChild(w.element)}}else if(Be(m))u||(m.isRendered||m.render(),s.appendChild(m.element));else if(us(m))s.appendChild(m);else if(u){const w={children:[],bindings:[],attributes:{}};e.revertData.children.push(w),m._renderNode({intoFragment:!1,node:s.childNodes[f++],isApplying:!0,revertData:w})}else s.appendChild(m.render());e.intoFragment&&i.appendChild(s)}_setUpListeners(e){if(this.eventListeners)for(const i in this.eventListeners){const s=this.eventListeners[i].map(u=>{const[f,m]=i.split("@");return u.activateDomEventListener(f,m,e)});e.revertData&&e.revertData.bindings.push(s)}}_bindToObservable({schema:e,updater:i,data:s}){const u=s.revertData;me(e,i,s);const f=e.filter(m=>!ot(m)).filter(m=>m.observable).map(m=>m.activateAttributeListener(e,i,s));u&&u.bindings.push(f)}_revertTemplateFromNode(e,i){for(const u of i.bindings)for(const f of u)f();if(i.text)return void(e.textContent=i.text);const s=e;for(const u in i.attributes){const f=i.attributes[u];f===null?s.removeAttribute(u):s.setAttribute(u,f)}for(let u=0;u<i.children.length;++u)this._revertTemplateFromNode(s.childNodes[u],i.children[u])}}class j{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const i=this.observable[this.attribute];return this.callback?this.callback(i,e):i}activateAttributeListener(e,i,s){const u=()=>me(e,i,s);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,u),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,u)}}}class W extends j{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,i,s){const u=(f,m)=>{i&&!m.target.matches(i)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(m):this.observable.fire(this.eventNameOrFunction,m))};return this.emitter.listenTo(s.node,e,u),()=>{this.emitter.stopListening(s.node,e,u)}}}class te extends j{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!ot(super.getValue(e))&&(this.valueIfTrue||!0)}}function ce(c){return!!c&&(c.value&&(c=c.value),Array.isArray(c)?c.some(ce):c instanceof j)}function me(c,e,{node:i}){const s=function(f,m){return f.map(w=>w instanceof j?w.getValue(m):w)}(c,i);let u;u=c.length==1&&c[0]instanceof te?s[0]:s.reduce(rt,""),ot(u)?e.remove():e.set(u)}function ge(c){return{set(e){c.textContent=e},remove(){c.textContent=""}}}function we(c,e,i){return{set(s){c.setAttributeNS(i,e,s)},remove(){c.removeAttributeNS(i,e)}}}function ve(c,e){return{set(i){c.style[e]=i},remove(){c.style[e]=null}}}function Ee(c){return Oc(c,e=>{if(e&&(e instanceof j||$e(e)||Be(e)||gt(e)))return e})}function Fe(c){if(typeof c=="string"?c=function(e){return{text:[e]}}(c):c.text&&function(e){e.text=ir(e.text)}(c),c.on&&(c.eventListeners=function(e){for(const i in e)nt(e,i);return e}(c.on),delete c.on),!c.text){c.attributes&&function(i){for(const s in i)i[s].value&&(i[s].value=ir(i[s].value)),nt(i,s)}(c.attributes);const e=[];if(c.children)if(gt(c.children))e.push(c.children);else for(const i of c.children)$e(i)||Be(i)||us(i)?e.push(i):e.push(new I(i));c.children=e}return c}function nt(c,e){c[e]=ir(c[e])}function rt(c,e){return ot(e)?c:ot(c)?e:`${c} ${e}`}function Ye(c,e){for(const i in e)c[i]?c[i].push(...e[i]):c[i]=e[i]}function kt(c,e){if(e.attributes&&(c.attributes||(c.attributes={}),Ye(c.attributes,e.attributes)),e.eventListeners&&(c.eventListeners||(c.eventListeners={}),Ye(c.eventListeners,e.eventListeners)),e.text&&c.text.push(...e.text),e.children&&e.children.length){if(c.children.length!=e.children.length)throw new M("ui-template-extend-children-mismatch",c);let i=0;for(const s of e.children)kt(c.children[i++],s)}}function ot(c){return!c&&c!==0}function Be(c){return c instanceof Nt}function $e(c){return c instanceof I}function gt(c){return c instanceof Jo}function vt(c){return le(c[0])&&c[0].ns}function bt(c){return c=="class"||c=="style"}var Rt=a(2591),et=a.n(Rt),Zt=a(7676),Ot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(Zt.A,Ot),Zt.A.locals;class Nt extends yi(ze()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Fs,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(i,s)=>{s.locale=e,s.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=I.bind(this,this)}createCollection(e){const i=new Jo(e);return this._viewCollections.add(i),i}registerChild(e){De(e)||(e=[e]);for(const i of e)this._unboundChildren.add(i)}deregisterChild(e){De(e)||(e=[e]);for(const i of e)this._unboundChildren.remove(i)}setTemplate(e){this.template=new I(e)}extendTemplate(e){I.extend(this.template,e)}render(){if(this.isRendered)throw new M("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function zn({emitter:c,activator:e,callback:i,contextElements:s}){c.listenTo(document,"mousedown",(u,f)=>{if(!e())return;const m=typeof f.composedPath=="function"?f.composedPath():[],w=typeof s=="function"?s():s;for(const _ of w)if(_.contains(f.target)||m.includes(_))return;i()})}function On(c){return class extends c{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function xn({view:c}){c.listenTo(c.element,"submit",(e,i)=>{i.preventDefault(),c.fire("submit")},{useCapture:!0})}function ar({keystrokeHandler:c,focusTracker:e,gridItems:i,numberOfColumns:s,uiLanguageDirection:u}){const f=()=>s;function m(E){return T=>{const O=i.find(ee=>ee.element===e.focusedElement),U=i.getIndex(O),K=E(U,i);i.get(K).focus(),T.stopPropagation(),T.preventDefault()}}function w(E,T){return E===T-1?0:E+1}function _(E,T){return E===0?T-1:E-1}c.set("arrowright",m((E,T)=>u==="rtl"?_(E,T.length):w(E,T.length))),c.set("arrowleft",m((E,T)=>u==="rtl"?w(E,T.length):_(E,T.length))),c.set("arrowup",m((E,T)=>{let O=E-f();return O<0&&(O=E+f()*Math.floor(T.length/f()),O>T.length-1&&(O-=f())),O})),c.set("arrowdown",m((E,T)=>{let O=E+f();return O>T.length-1&&(O=E%f()),O}))}class ct extends ze(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",bn,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",bn),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function bn(c){c.return=!1,c.stop()}class Wt extends ze(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",i=>{if(!this.affectsData)return;const s=e.model.document.selection,u=s.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(s);(e.isReadOnly||this._isEnabledBasedOnSelection&&!u)&&(i.return=!1,i.stop())},{priority:"highest"}),this.on("execute",i=>{this.isEnabled||i.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",po,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",po),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function po(c){c.return=!1,c.stop()}class Jr extends Wt{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const i=this._getFirstEnabledCommand();return!!i&&i.execute(e)}registerChildCommand(e,i={}){$(this._childCommandsDefinitions,{command:e,priority:i.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:i})=>i.isEnabled);return e&&e.command}}class mo extends se(){constructor(e,i=[],s=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const u of i)u.pluginName&&this._availablePlugins.set(u.pluginName,u);this._contextPlugins=new Map;for(const[u,f]of s)this._contextPlugins.set(u,f),this._contextPlugins.set(f,u),u.pluginName&&this._availablePlugins.set(u.pluginName,u)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const i=this._plugins.get(e);if(!i){let s=e;throw typeof e=="function"&&(s=e.pluginName||e.name),new M("plugincollection-plugin-not-loaded",this._context,{plugin:s})}return i}has(e){return this._plugins.has(e)}init(e,i=[],s=[]){const u=this,f=this._context;(function ee(oe,ke=new Set){oe.forEach(Se=>{_(Se)&&(ke.has(Se)||(ke.add(Se),Se.pluginName&&!u._availablePlugins.has(Se.pluginName)&&u._availablePlugins.set(Se.pluginName,Se),Se.requires&&ee(Se.requires,ke)))})})(e),U(e);const m=[...function ee(oe,ke=new Set){return oe.map(Se=>_(Se)?Se:u._availablePlugins.get(Se)).reduce((Se,Le)=>ke.has(Le)?Se:(ke.add(Le),Le.requires&&(U(Le.requires,Le),ee(Le.requires,ke).forEach(tt=>Se.add(tt))),Se.add(Le)),new Set)}(e.filter(ee=>!T(ee,i)))];(function(ee,oe){for(const ke of oe){if(typeof ke!="function")throw new M("plugincollection-replace-plugin-invalid-type",null,{pluginItem:ke});const Se=ke.pluginName;if(!Se)throw new M("plugincollection-replace-plugin-missing-name",null,{pluginItem:ke});if(ke.requires&&ke.requires.length)throw new M("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:Se});const Le=u._availablePlugins.get(Se);if(!Le)throw new M("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:Se});const tt=ee.indexOf(Le);if(tt===-1){if(u._contextPlugins.has(Le))return;throw new M("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:Se})}if(Le.requires&&Le.requires.length)throw new M("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:Se});ee.splice(tt,1,ke),u._availablePlugins.set(Se,ke)}})(m,s);const w=m.map(ee=>{let oe=u._contextPlugins.get(ee);return oe=oe||new ee(f),u._add(ee,oe),oe});return K(w,"init").then(()=>K(w,"afterInit")).then(()=>w);function _(ee){return typeof ee=="function"}function E(ee){return _(ee)&&!!ee.isContextPlugin}function T(ee,oe){return oe.some(ke=>ke===ee||O(ee)===ke||O(ke)===ee)}function O(ee){return _(ee)?ee.pluginName||ee.name:ee}function U(ee,oe=null){ee.map(ke=>_(ke)?ke:u._availablePlugins.get(ke)||ke).forEach(ke=>{(function(Se,Le){if(!_(Se))throw Le?new M("plugincollection-soft-required",f,{missingPlugin:Se,requiredBy:O(Le)}):new M("plugincollection-plugin-not-found",f,{plugin:Se})})(ke,oe),function(Se,Le){if(E(Le)&&!E(Se))throw new M("plugincollection-context-required",f,{plugin:O(Se),requiredBy:O(Le)})}(ke,oe),function(Se,Le){if(Le&&T(Se,i))throw new M("plugincollection-required",f,{plugin:O(Se),requiredBy:O(Le)})}(ke,oe)})}function K(ee,oe){return ee.reduce((ke,Se)=>Se[oe]?u._contextPlugins.has(Se)?ke:ke.then(Se[oe].bind(Se)):ke,Promise.resolve())}}destroy(){const e=[];for(const[,i]of this)typeof i.destroy!="function"||this._contextPlugins.has(i)||e.push(i.destroy());return Promise.all(e)}_add(e,i){this._plugins.set(e,i);const s=e.pluginName;if(s){if(this._plugins.has(s))throw new M("plugincollection-plugin-name-conflict",null,{pluginName:s,plugin1:this._plugins.get(s).constructor,plugin2:e});this._plugins.set(s,i)}}}var Kn=Object.getOwnPropertySymbols,Zo=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable;class vi{constructor(e){this._contextOwner=null;const i=e||{},{translations:s}=i,u=((w,_)=>{var E={};for(var T in w)Zo.call(w,T)&&_.indexOf(T)<0&&(E[T]=w[T]);if(w!=null&&Kn)for(var T of Kn(w))_.indexOf(T)<0&&Xo.call(w,T)&&(E[T]=w[T]);return E})(i,["translations"]);this.config=new Yo(u,this.constructor.defaultConfig);const f=this.constructor.builtinPlugins;this.config.define("plugins",f),this.plugins=new mo(this,f);const m=this.config.get("language")||{};this.locale=new Lb({uiLanguage:typeof m=="string"?m:m.ui,contentLanguage:this.config.get("language.content"),translations:s}),this.t=this.locale.t,this.editors=new Fs}initPlugins(){const e=this.config.get("plugins")||[],i=this.config.get("substitutePlugins")||[];for(const s of e.concat(i)){if(typeof s!="function")throw new M("context-initplugins-constructor-only",null,{Plugin:s});if(s.isContextPlugin!==!0)throw new M("context-initplugins-invalid-plugin",null,{Plugin:s})}return this.plugins.init(e,[],i)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,i){if(this._contextOwner)throw new M("context-addeditor-private-context");this.editors.add(e),i&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const i of this.config.names())["plugins","removePlugins","extraPlugins"].includes(i)||(e[i]=this.config.get(i));return e}static create(e){return new Promise(i=>{const s=new this(e);i(s.initPlugins().then(()=>s))})}}class si extends ze(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class go extends fo{constructor(e){super(),this.editor=e}set(e,i,s={}){if(typeof i=="string"){const u=i;i=(f,m)=>{this.editor.execute(u),m()}}super.set(e,i,s)}}var es=a(4098),Ca={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(es.A,Ca),es.A.locals;const Zr=new WeakMap;let xa=!1;function Fl({view:c,element:e,text:i,isDirectHost:s=!0,keepOnFocus:u=!1}){const f=c.document;function m(w){Zr.get(f).set(e,{text:w,isDirectHost:s,keepOnFocus:u,hostElement:s?e:null}),c.change(_=>$d(f,_))}Zr.has(f)||(Zr.set(f,new Map),f.registerPostFixer(w=>$d(f,w)),f.on("change:isComposing",()=>{c.change(w=>$d(f,w))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(w,_,E)=>{m(E)}),e.placeholder?m(e.placeholder):i&&m(i),i&&function(){xa||L("enableplaceholder-deprecated-text-option"),xa=!0}()}function Ou(c,e){return!e.hasClass("ck-placeholder")&&(c.addClass("ck-placeholder",e),!0)}function zl(c,e){return!!e.hasClass("ck-placeholder")&&(c.removeClass("ck-placeholder",e),!0)}function zr(c,e){if(!c.isAttached()||Array.from(c.getChildren()).some(u=>!u.is("uiElement")))return!1;const i=c.document,s=i.selection.anchor;return(!i.isComposing||!s||s.parent!==c)&&(!!e||!i.isFocused||!!s&&s.parent!==c)}function $d(c,e){const i=Zr.get(c),s=[];let u=!1;for(const[f,m]of i)m.isDirectHost&&(s.push(f),um(e,f,m)&&(u=!0));for(const[f,m]of i){if(m.isDirectHost)continue;const w=Bb(f);w&&(s.includes(w)||(m.hostElement=w,um(e,f,m)&&(u=!0)))}return u}function um(c,e,i){const{text:s,isDirectHost:u,hostElement:f}=i;let m=!1;return f.getAttribute("data-placeholder")!==s&&(c.setAttribute("data-placeholder",s,f),m=!0),(u||e.childCount==1)&&zr(f,i.keepOnFocus)?Ou(c,f)&&(m=!0):zl(c,f)&&(m=!0),m}function Bb(c){if(c.childCount){const e=c.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Sa{is(){throw new Error("is() method is abstract")}}const ju=function(c){return Pr(c,4)};class Ea extends se(Sa){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new M("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.index),i=i.parent;return e}getAncestors(e={}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(e,i={}){const s=this.getAncestors(i),u=e.getAncestors(i);let f=0;for(;s[f]==u[f]&&s[f];)f++;return f===0?null:s[f-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),s=e.getPath(),u=Me(i,s);switch(u){case"prefix":return!0;case"extension":return!1;default:return i[u]<s[u]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,i){this.fire(`change:${e}`,i),this.parent&&this.parent._fireChange(e,i)}toJSON(){const e=ju(this);return delete e.parent,e}}Ea.prototype.is=function(c){return c==="node"||c==="view:node"};class Sn extends Ea{constructor(e,i){super(e),this._textData=i}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof Sn&&(this===e||this.data===e.data)}_clone(){return new Sn(this.document,this.data)}}Sn.prototype.is=function(c){return c==="$text"||c==="view:$text"||c==="text"||c==="view:text"||c==="node"||c==="view:node"};class bo extends Sa{constructor(e,i,s){if(super(),this.textNode=e,i<0||i>e.data.length)throw new M("view-textproxy-wrong-offsetintext",this);if(s<0||i+s>e.data.length)throw new M("view-textproxy-wrong-length",this);this.data=e.data.substring(i,i+s),this.offsetInText=i}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const i=[];let s=e.includeSelf?this.textNode:this.parent;for(;s!==null;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}}bo.prototype.is=function(c){return c==="$textProxy"||c==="view:$textProxy"||c==="textProxy"||c==="view:textProxy"};class ko{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let i of e)(typeof i=="string"||i instanceof RegExp)&&(i={name:i}),this._patterns.push(i)}match(...e){for(const i of e)for(const s of this._patterns){const u=dm(i,s);if(u)return{element:i,pattern:s,match:u}}return null}matchAll(...e){const i=[];for(const s of e)for(const u of this._patterns){const f=dm(s,u);f&&i.push({element:s,pattern:u,match:f})}return i.length>0?i:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],i=e.name;return typeof e=="function"||!i||i instanceof RegExp?null:i}}function dm(c,e){if(typeof e=="function")return e(c);const i={};return e.name&&(i.name=function(s,u){return s instanceof RegExp?!!u.match(s):s===u}(e.name,c.name),!i.name)||e.attributes&&(i.attributes=function(s,u){const f=new Set(u.getAttributeKeys());return Nn(s)?(s.style!==void 0&&L("matcher-pattern-deprecated-attributes-style-key",s),s.class!==void 0&&L("matcher-pattern-deprecated-attributes-class-key",s)):(f.delete("style"),f.delete("class")),Lu(s,f,m=>u.getAttribute(m))}(e.attributes,c),!i.attributes)||e.classes&&(i.classes=function(s,u){return Lu(s,u.getClassNames(),()=>{})}(e.classes,c),!i.classes)||e.styles&&(i.styles=function(s,u){return Lu(s,u.getStyleNames(!0),f=>u.getStyle(f))}(e.styles,c),!i.styles)?null:i}function Lu(c,e,i){const s=function(m){return Array.isArray(m)?m.map(w=>Nn(w)?(w.key!==void 0&&w.value!==void 0||L("matcher-pattern-missing-key-or-value",w),[w.key,w.value]):[w,!0]):Nn(m)?Object.entries(m):[[m,!0]]}(c),u=Array.from(e),f=[];if(s.forEach(([m,w])=>{u.forEach(_=>{(function(E,T){return E===!0||E===T||E instanceof RegExp&&T.match(E)})(m,_)&&function(E,T,O){if(E===!0)return!0;const U=O(T);return E===U||E instanceof RegExp&&!!String(U).match(E)}(w,_,i)&&f.push(_)})}),s.length&&!(f.length<s.length))return f}const Hd=function(c){return typeof c=="symbol"||Qt(c)&&Bt(c)=="[object Symbol]"};var mf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hm=/^\w*$/;const Ru=function(c,e){if(zt(c))return!1;var i=typeof c;return!(i!="number"&&i!="symbol"&&i!="boolean"&&c!=null&&!Hd(c))||hm.test(c)||!mf.test(c)||e!=null&&c in Object(e)};function Bc(c,e){if(typeof c!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var i=function(){var s=arguments,u=e?e.apply(this,s):s[0],f=i.cache;if(f.has(u))return f.get(u);var m=c.apply(this,s);return i.cache=f.set(u,m)||f,m};return i.cache=new(Bc.Cache||xc),i}Bc.Cache=xc;const qw=Bc,Vw=function(c){var e=qw(c,function(s){return i.size===500&&i.clear(),s}),i=e.cache;return e};var fm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ul=/\\(\\)?/g,$w=Vw(function(c){var e=[];return c.charCodeAt(0)===46&&e.push(""),c.replace(fm,function(i,s,u,f){e.push(u?f.replace(Ul,"$1"):s||i)}),e});const Hw=$w,Ww=function(c,e){for(var i=-1,s=c==null?0:c.length,u=Array(s);++i<s;)u[i]=e(c[i],i,c);return u};var pm=st?st.prototype:void 0,Wd=pm?pm.toString:void 0;const Fb=function c(e){if(typeof e=="string")return e;if(zt(e))return Ww(e,c)+"";if(Hd(e))return Wd?Wd.call(e):"";var i=e+"";return i=="0"&&1/e==-1/0?"-0":i},gf=function(c){return c==null?"":Fb(c)},Fc=function(c,e){return zt(c)?c:Ru(c,e)?[c]:Hw(gf(c))},mm=function(c){var e=c==null?0:c.length;return e?c[e-1]:void 0},Da=function(c){if(typeof c=="string"||Hd(c))return c;var e=c+"";return e=="0"&&1/c==-1/0?"-0":e},bf=function(c,e){for(var i=0,s=(e=Fc(e,c)).length;c!=null&&i<s;)c=c[Da(e[i++])];return i&&i==s?c:void 0},zb=function(c,e,i){var s=-1,u=c.length;e<0&&(e=-e>u?0:u+e),(i=i>u?u:i)<0&&(i+=u),u=e>i?0:i-e>>>0,e>>>=0;for(var f=Array(u);++s<u;)f[s]=c[s+e];return f},kf=function(c,e){return e.length<2?c:bf(c,zb(e,0,-1))},Ub=function(c,e){return e=Fc(e,c),(c=kf(c,e))==null||delete c[Da(mm(e))]},gm=function(c,e){return c==null||Ub(c,e)},hs=function(c,e,i){var s=c==null?void 0:bf(c,e);return s===void 0?i:s},qb=function(c,e,i,s){if(!le(c))return c;for(var u=-1,f=(e=Fc(e,c)).length,m=f-1,w=c;w!=null&&++u<f;){var _=Da(e[u]),E=i;if(_==="__proto__"||_==="constructor"||_==="prototype")return c;if(u!=m){var T=w[_];(E=void 0)==void 0&&(E=le(T)?T:wu(e[u+1])?[]:{})}Sl(w,_,E),w=w[_]}return c},Vb=function(c,e,i){return c==null?c:qb(c,e,i)};class bm{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const i=function(s){let u=null,f=0,m=0,w=null;const _=new Map;if(s==="")return _;s.charAt(s.length-1)!=";"&&(s+=";");for(let E=0;E<s.length;E++){const T=s.charAt(E);if(u===null)switch(T){case":":w||(w=s.substr(f,E-f),m=E+1);break;case'"':case"'":u=T;break;case";":{const O=s.substr(m,E-m);w&&_.set(w.trim(),O.trim()),w=null,f=E+1;break}}else T===u&&(u=null)}return _}(e);for(const[s,u]of i)this._styleProcessor.toNormalizedForm(s,u,this._styles)}has(e){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(i)}set(e,i){if(le(e))for(const[s,u]of Object.entries(e))this._styleProcessor.toNormalizedForm(s,u,this._styles);else this._styleProcessor.toNormalizedForm(e,i,this._styles)}remove(e){const i=ql(e);gm(this._styles,i),delete this._styles[e],this._cleanEmptyObjectsOnPath(i)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!le(this._styles[e]))return this._styles[e];const i=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(i)?i[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([i])=>i)}clear(){this._styles={}}getStylesEntries(){const e=[],i=Object.keys(this._styles);for(const s of i)e.push(...this._styleProcessor.getReducedForm(s,this._styles));return e}_cleanEmptyObjectsOnPath(e){const i=e.split(".");if(!(i.length>1))return;const s=i.splice(0,i.length-1).join("."),u=hs(this._styles,s);u&&!Object.keys(u).length&&this.remove(s)}}class $b{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,i,s){if(le(i))km(s,ql(e),i);else if(this._normalizers.has(e)){const u=this._normalizers.get(e),{path:f,value:m}=u(i);km(s,f,m)}else km(s,e,i)}getNormalized(e,i){if(!e)return Mu({},i);if(i[e]!==void 0)return i[e];if(this._extractors.has(e)){const s=this._extractors.get(e);if(typeof s=="string")return hs(i,s);const u=s(e,i);if(u)return u}return hs(i,ql(e))}getReducedForm(e,i){const s=this.getNormalized(e,i);return s===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(s):[[e,s]]}getStyleNames(e){const i=Array.from(this._consumables.keys()).filter(u=>{const f=this.getNormalized(u,e);return f&&typeof f=="object"?Object.keys(f).length:f}),s=new Set([...i,...Object.keys(e)]);return Array.from(s)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,i){this._normalizers.set(e,i)}setExtractor(e,i){this._extractors.set(e,i)}setReducer(e,i){this._reducers.set(e,i)}setStyleRelation(e,i){this._mapStyleNames(e,i);for(const s of i)this._mapStyleNames(s,[e])}_mapStyleNames(e,i){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...i)}}function ql(c){return c.replace("-",".")}function km(c,e,i){let s=i;le(i)&&(s=Mu({},hs(c,e),i)),Vb(c,e,s)}class Po extends Ea{constructor(e,i,s,u){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=i,this._attrs=function(f){const m=_a(f);for(const[w,_]of m)_===null?m.delete(w):typeof _!="string"&&m.set(w,String(_));return m}(s),this._children=[],u&&this._insertChild(0,u),this._classes=new Set,this._attrs.has("class")){const f=this._attrs.get("class");Hb(this._classes,f),this._attrs.delete("class")}this._styles=new bm(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const i=this._styles.toString();return i==""?void 0:i}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Po))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[i,s]of this._attrs)if(!e._attrs.has(i)||e._attrs.get(i)!==s)return!1;for(const i of this._classes)if(!e._classes.has(i))return!1;for(const i of this._styles.getStyleNames())if(!e._styles.has(i)||e._styles.getAsString(i)!==this._styles.getAsString(i))return!1;return!0}hasClass(...e){for(const i of e)if(!this._classes.has(i))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const i of e)if(!this._styles.has(i))return!1;return!0}findAncestor(...e){const i=new ko(...e);let s=this.parent;for(;s&&!s.is("documentFragment");){if(i.match(s))return s;s=s.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),i=this._styles.toString(),s=Array.from(this._attrs).map(u=>`${u[0]}="${u[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(i?` style="${i}"`:"")+(s==""?"":` ${s}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const i=[];if(e)for(const u of this.getChildren())i.push(u._clone(e));const s=new this.constructor(this.document,this.name,this._attrs,i);return s._classes=new Set(this._classes),s._styles.set(this._styles.getNormalized()),s._customProperties=new Map(this._customProperties),s.getFillerOffset=this.getFillerOffset,s._unsafeAttributesToRender=this._unsafeAttributesToRender,s}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,i){this._fireChange("children",this);let s=0;const u=function(f,m){return typeof m=="string"?[new Sn(f,m)]:(De(m)||(m=[m]),Array.from(m).map(w=>typeof w=="string"?new Sn(f,w):w instanceof bo?new Sn(f,w.data):w))}(this.document,i);for(const f of u)f.parent!==null&&f._remove(),f.parent=this,f.document=this.document,this._children.splice(e,0,f),e++,s++;return s}_removeChildren(e,i=1){this._fireChange("children",this);for(let s=e;s<e+i;s++)this._children[s].parent=null;return this._children.splice(e,i)}_setAttribute(e,i){const s=String(i);this._fireChange("attributes",this),e=="class"?Hb(this._classes,s):e=="style"?this._styles.setTo(s):this._attrs.set(e,s)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const i of ir(e))this._classes.add(i)}_removeClass(e){this._fireChange("attributes",this);for(const i of ir(e))this._classes.delete(i)}_setStyle(e,i){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,i)}_removeStyle(e){this._fireChange("attributes",this);for(const i of ir(e))this._styles.remove(i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function Hb(c,e){const i=e.split(/\s+/);c.clear(),i.forEach(s=>c.add(s))}Po.prototype.is=function(c,e){return e?e===this.name&&(c==="element"||c==="view:element"):c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Bu extends Po{constructor(e,i,s,u){super(e,i,s,u),this.getFillerOffset=Gw}}function Gw(){const c=[...this.getChildren()],e=c[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const i of c)if(!i.is("uiElement"))return null;return this.childCount}Bu.prototype.is=function(c,e){return e?e===this.name&&(c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Vl extends ze(Bu){constructor(e,i,s,u){super(e,i,s,u),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",f=>f&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Vl.prototype.is=function(c,e){return e?e===this.name&&(c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};const wf=Symbol("rootName");class Gd extends Vl{constructor(e,i){super(e,i),this.rootName="main"}get rootName(){return this.getCustomProperty(wf)}set rootName(e){this._setCustomProperty(wf,e)}set _name(e){this.name=e}}Gd.prototype.is=function(c,e){return e?e===this.name&&(c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class wo{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new M("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new M("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Dt._createAt(e.startPosition):this._position=Dt._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let i,s;do s=this.position,i=this.next();while(!i.done&&e(i.value));i.done||(this._position=s)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const i=this.position,s=e.parent;if(s.parent===null&&e.offset===s.childCount)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let u;if(s instanceof Sn){if(e.isAtEnd)return this._position=Dt._createAfter(s),this._next();u=s.data[e.offset]}else u=s.getChild(e.offset);if(u instanceof Po){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new Dt(u,0);return this._position=e,this._formatReturnValue("elementStart",u,i,e,1)}if(u instanceof Sn){if(this.singleCharacters)return e=new Dt(u,0),this._position=e,this._next();let f,m=u.data.length;return u==this._boundaryEndParent?(m=this.boundaries.end.offset,f=new bo(u,0,m),e=Dt._createAfter(f)):(f=new bo(u,0,u.data.length),e.offset++),this._position=e,this._formatReturnValue("text",f,i,e,m)}if(typeof u=="string"){let f;this.singleCharacters?f=1:f=(s===this._boundaryEndParent?this.boundaries.end.offset:s.data.length)-e.offset;const m=new bo(s,e.offset,f);return e.offset+=f,this._position=e,this._formatReturnValue("text",m,i,e,f)}return e=Dt._createAfter(s),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",s,i,e)}_previous(){let e=this.position.clone();const i=this.position,s=e.parent;if(s.parent===null&&e.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let u;if(s instanceof Sn){if(e.isAtStart)return this._position=Dt._createBefore(s),this._previous();u=s.data[e.offset-1]}else u=s.getChild(e.offset-1);if(u instanceof Po)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",u,i,e,1)):(e=new Dt(u,u.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",u,i,e));if(u instanceof Sn){if(this.singleCharacters)return e=new Dt(u,u.data.length),this._position=e,this._previous();let f,m=u.data.length;if(u==this._boundaryStartParent){const w=this.boundaries.start.offset;f=new bo(u,w,u.data.length-w),m=f.data.length,e=Dt._createBefore(f)}else f=new bo(u,0,u.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",f,i,e,m)}if(typeof u=="string"){let f;if(this.singleCharacters)f=1;else{const w=s===this._boundaryStartParent?this.boundaries.start.offset:0;f=e.offset-w}e.offset-=f;const m=new bo(s,e.offset,f);return this._position=e,this._formatReturnValue("text",m,i,e,f)}return e=Dt._createBefore(s),this._position=e,this._formatReturnValue("elementStart",s,i,e,1)}_formatReturnValue(e,i,s,u,f){return i instanceof bo&&(i.offsetInText+i.data.length==i.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?s=Dt._createAfter(i.textNode):(u=Dt._createAfter(i.textNode),this._position=u)),i.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?s=Dt._createBefore(i.textNode):(u=Dt._createBefore(i.textNode),this._position=u))),{done:!1,value:{type:e,item:i,previousPosition:s,nextPosition:u,length:f}}}}class Dt extends Sa{constructor(e,i){super(),this.parent=e,this.offset=i}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Vl);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const i=Dt._createAt(this),s=i.offset+e;return i.offset=s<0?0:s,i}getLastMatchingPosition(e,i={}){i.startPosition=this;const s=new wo(i);return s.skip(e),s.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const i=this.getAncestors(),s=e.getAncestors();let u=0;for(;i[u]==s[u]&&i[u];)u++;return u===0?null:i[u-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const i=this.parent.is("node")?this.parent.getPath():[],s=e.parent.is("node")?e.parent.getPath():[];i.push(this.offset),s.push(e.offset);const u=Me(i,s);switch(u){case"prefix":return"before";case"extension":return"after";default:return i[u]<s[u]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new wo(e)}clone(){return new Dt(this.parent,this.offset)}static _createAt(e,i){if(e instanceof Dt)return new this(e.parent,e.offset);{const s=e;if(i=="end")i=s.is("$text")?s.data.length:s.childCount;else{if(i=="before")return this._createBefore(s);if(i=="after")return this._createAfter(s);if(i!==0&&!i)throw new M("view-createpositionat-offset-required",s)}return new Dt(s,i)}}static _createAfter(e){if(e.is("$textProxy"))return new Dt(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new M("view-position-after-root",e,{root:e});return new Dt(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Dt(e.textNode,e.offsetInText);if(!e.parent)throw new M("view-position-before-root",e,{root:e});return new Dt(e.parent,e.index)}}Dt.prototype.is=function(c){return c==="position"||c==="view:position"};class Kt extends Sa{constructor(e,i=null){super(),this.start=e.clone(),this.end=i?i.clone():e.clone()}*[Symbol.iterator](){yield*new wo({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(zc,{direction:"backward"}),i=this.end.getLastMatchingPosition(zc);return e.parent.is("$text")&&e.isAtStart&&(e=Dt._createBefore(e.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=Dt._createAfter(i.parent)),new Kt(e,i)}getTrimmed(){let e=this.start.getLastMatchingPosition(zc);if(e.isAfter(this.end)||e.isEqual(this.end))return new Kt(e,e);let i=this.end.getLastMatchingPosition(zc,{direction:"backward"});const s=e.nodeAfter,u=i.nodeBefore;return s&&s.is("$text")&&(e=new Dt(s,0)),u&&u.is("$text")&&(i=new Dt(u,u.data.length)),new Kt(e,i)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const s=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),u=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return s&&u}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new Kt(this.start,e.start)),this.containsPosition(e.end)&&i.push(new Kt(e.end,this.end))):i.push(this.clone()),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,s=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(s=e.end),new Kt(i,s)}return null}getWalker(e={}){return e.boundaries=this,new wo(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,i=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(i=this.end.parent.previousSibling),e&&e.is("element")&&e===i?e:null}clone(){return new Kt(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new wo(e);for(const s of i)yield s.item}*getPositions(e={}){e.boundaries=this;const i=new wo(e);yield i.position;for(const s of i)yield s.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,i,s,u){return new this(new Dt(e,i),new Dt(s,u))}static _createFromPositionAndShift(e,i){const s=e,u=e.getShiftedBy(i);return i>0?new this(s,u):new this(u,s)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const i=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Dt._createBefore(e),i)}}function zc(c){return!(!c.item.is("attributeElement")&&!c.item.is("uiElement"))}Kt.prototype.is=function(c){return c==="range"||c==="view:range"};class ts extends se(Sa){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?e.clone():null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let s=!1;for(const u of e._ranges)if(i.isEqual(u)){s=!0;break}if(!s)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const i=Oe(this.getRanges());if(i!=Oe(e.getRanges()))return!1;if(i==0)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let u=!1;for(let f of e.getRanges())if(f=f.getTrimmed(),s.start.isEqual(f.start)&&s.end.isEqual(f.end)){u=!0;break}if(!u)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[i,s,u]=e;if(typeof s=="object"&&(u=s,s=void 0),i===null)this._setRanges([]),this._setFakeOptions(u);else if(i instanceof ts||i instanceof yf)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof Kt)this._setRanges([i],u&&u.backward),this._setFakeOptions(u);else if(i instanceof Dt)this._setRanges([new Kt(i)]),this._setFakeOptions(u);else if(i instanceof Ea){const f=!!u&&!!u.backward;let m;if(s===void 0)throw new M("view-selection-setto-required-second-parameter",this);m=s=="in"?Kt._createIn(i):s=="on"?Kt._createOn(i):new Kt(Dt._createAt(i,s)),this._setRanges([m],f),this._setFakeOptions(u)}else{if(!De(i))throw new M("view-selection-setto-not-selectable",this);this._setRanges(i,u&&u.backward),this._setFakeOptions(u)}this.fire("change")}setFocus(e,i){if(this.anchor===null)throw new M("view-selection-setfocus-no-ranges",this);const s=Dt._createAt(e,i);if(s.compareWith(this.focus)=="same")return;const u=this.anchor;this._ranges.pop(),s.compareWith(u)=="before"?this._addRange(new Kt(s,u),!0):this._addRange(new Kt(u,s)),this.fire("change")}_setRanges(e,i=!1){e=Array.from(e),this._ranges=[];for(const s of e)this._addRange(s);this._lastRangeBackward=!!i}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,i=!1){if(!(e instanceof Kt))throw new M("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!i}_pushRange(e){for(const i of this._ranges)if(e.isIntersecting(i))throw new M("view-selection-range-intersects",this,{addedRange:e,intersectingRange:i});this._ranges.push(new Kt(e.start,e.end))}}ts.prototype.is=function(c){return c==="selection"||c==="view:selection"};class yf extends se(Sa){constructor(...e){super(),this._selection=new ts,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,i){this._selection.setFocus(e,i)}}yf.prototype.is=function(c){return c==="selection"||c=="documentSelection"||c=="view:selection"||c=="view:documentSelection"};class Fu extends S{constructor(e,i,s){super(e,i),this.startRange=s,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Yd=Symbol("bubbling contexts");function Kd(c){return class extends c{fire(e,...i){try{const s=e instanceof S?e:new S(this,e),u=Yw(this);if(!u.size)return;if(wm(s,"capturing",this),vf(u,"$capture",s,...i))return s.return;const f=s.startRange||this.selection.getFirstRange(),m=f?f.getContainedElement():null,w=!!m&&!!d2(u,m);let _=m||function(E){if(!E)return null;const T=E.start.parent,O=E.end.parent,U=T.getPath(),K=O.getPath();return U.length>K.length?T:O}(f);if(wm(s,"atTarget",_),!w){if(vf(u,"$text",s,...i))return s.return;wm(s,"bubbling",_)}for(;_;){if(_.is("rootElement")){if(vf(u,"$root",s,...i))return s.return}else if(_.is("element")&&vf(u,_.name,s,...i))return s.return;if(vf(u,_,s,...i))return s.return;_=_.parent,wm(s,"bubbling",_)}return wm(s,"bubbling",this),vf(u,"$document",s,...i),s.return}catch(s){M.rethrowUnexpectedError(s,this)}}_addEventListener(e,i,s){const u=ir(s.context||"$document"),f=Yw(this);for(const m of u){let w=f.get(m);w||(w=new(se()),f.set(m,w)),this.listenTo(w,e,i,s)}}_removeEventListener(e,i){const s=Yw(this);for(const u of s.values())this.stopListening(u,e,i)}}}{const c=Kd(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Kd[e]=c.prototype[e]})}function wm(c,e,i){c instanceof Fu&&(c._eventPhase=e,c._currentTarget=i)}function vf(c,e,i,...s){const u=typeof e=="string"?c.get(e):d2(c,e);return!!u&&(u.fire(i,...s),i.stop.called)}function d2(c,e){for(const[i,s]of c)if(typeof i=="function"&&i(e))return s;return null}function Yw(c){return c[Yd]||(c[Yd]=new Map),c[Yd]}class Wb extends Kd(ze()){constructor(e){super(),this._postFixers=new Set,this.selection=new yf,this.roots=new Fs({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let i=!1;do for(const s of this._postFixers)if(i=s(e),i)break;while(i)}}class Qd extends Po{constructor(e,i,s,u){super(e,i,s,u),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=IR}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new M("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const i=super._clone(e);return i._priority=this._priority,i._id=this._id,i}}function IR(){if(Kw(this))return null;let c=this.parent;for(;c&&c.is("attributeElement");){if(Kw(c)>1)return null;c=c.parent}return!c||Kw(c)>1?null:this.childCount}function Kw(c){return Array.from(c.getChildren()).filter(e=>!e.is("uiElement")).length}Qd.DEFAULT_PRIORITY=10,Qd.prototype.is=function(c,e){return e?e===this.name&&(c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"):c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Qw extends Po{constructor(e,i,s,u){super(e,i,s,u),this.getFillerOffset=TR}_insertChild(e,i){if(i&&(i instanceof Ea||Array.from(i).length>0))throw new M("view-emptyelement-cannot-add",[this,i]);return 0}}function TR(){return null}Qw.prototype.is=function(c,e){return e?e===this.name&&(c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"):c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Gb extends Po{constructor(e,i,s,u){super(e,i,s,u),this.getFillerOffset=MR}_insertChild(e,i){if(i&&(i instanceof Ea||Array.from(i).length>0))throw new M("view-uielement-cannot-add",[this,i]);return 0}render(e,i){return this.toDomElement(e)}toDomElement(e){const i=e.createElement(this.name);for(const s of this.getAttributeKeys())i.setAttribute(s,this.getAttribute(s));return i}}function NR(c){c.document.on("arrowKey",(e,i)=>function(s,u,f){if(u.keyCode==Pn.arrowright){const m=u.domTarget.ownerDocument.defaultView.getSelection(),w=m.rangeCount==1&&m.getRangeAt(0).collapsed;if(w||u.shiftKey){const _=m.focusNode,E=m.focusOffset,T=f.domPositionToView(_,E);if(T===null)return;let O=!1;const U=T.getLastMatchingPosition(K=>(K.item.is("uiElement")&&(O=!0),!(!K.item.is("uiElement")&&!K.item.is("attributeElement"))));if(O){const K=f.viewPositionToDom(U);w?m.collapse(K.parent,K.offset):m.extend(K.parent,K.offset)}}}}(0,i,c.domConverter),{priority:"low"})}function MR(){return null}Gb.prototype.is=function(c,e){return e?e===this.name&&(c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"):c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Jw extends Po{constructor(e,i,s,u){super(e,i,s,u),this.getFillerOffset=PR}_insertChild(e,i){if(i&&(i instanceof Ea||Array.from(i).length>0))throw new M("view-rawelement-cannot-add",[this,i]);return 0}render(e,i){}}function PR(){return null}Jw.prototype.is=function(c,e){return e?e===this.name&&(c==="rawElement"||c==="view:rawElement"||c==="element"||c==="view:element"):c==="rawElement"||c==="view:rawElement"||c===this.name||c==="view:"+this.name||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Jd extends se(Sa){constructor(e,i){super(),this._children=[],this._customProperties=new Map,this.document=e,i&&this._insertChild(0,i)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,i){this._fireChange("children",this);let s=0;const u=function(f,m){return typeof m=="string"?[new Sn(f,m)]:(De(m)||(m=[m]),Array.from(m).map(w=>typeof w=="string"?new Sn(f,w):w instanceof bo?new Sn(f,w.data):w))}(this.document,i);for(const f of u)f.parent!==null&&f._remove(),f.parent=this,this._children.splice(e,0,f),e++,s++;return s}_removeChildren(e,i=1){this._fireChange("children",this);for(let s=e;s<e+i;s++)this._children[s].parent=null;return this._children.splice(e,i)}_fireChange(e,i){this.fire("change:"+e,i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Jd.prototype.is=function(c){return c==="documentFragment"||c==="view:documentFragment"};class h2{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,i){this.document.selection._setFocus(e,i)}createDocumentFragment(e){return new Jd(this.document,e)}createText(e){return new Sn(this.document,e)}createAttributeElement(e,i,s={}){const u=new Qd(this.document,e,i);return typeof s.priority=="number"&&(u._priority=s.priority),s.id&&(u._id=s.id),s.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),u}createContainerElement(e,i,s={},u={}){let f=null;Nn(s)?u=s:f=s;const m=new Bu(this.document,e,i,f);return u.renderUnsafeAttributes&&m._unsafeAttributesToRender.push(...u.renderUnsafeAttributes),m}createEditableElement(e,i,s={}){const u=new Vl(this.document,e,i);return s.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),u}createEmptyElement(e,i,s={}){const u=new Qw(this.document,e,i);return s.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),u}createUIElement(e,i,s){const u=new Gb(this.document,e,i);return s&&(u.render=s),u}createRawElement(e,i,s,u={}){const f=new Jw(this.document,e,i);return s&&(f.render=s),u.renderUnsafeAttributes&&f._unsafeAttributesToRender.push(...u.renderUnsafeAttributes),f}setAttribute(e,i,s){s._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,s){Nn(e)&&s===void 0?i._setStyle(e):s._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,s){s._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}breakAttributes(e){return e instanceof Dt?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const i=e.parent;if(!i.is("containerElement"))throw new M("view-writer-break-non-container-element",this.document);if(!i.parent)throw new M("view-writer-break-root",this.document);if(e.isAtStart)return Dt._createBefore(i);if(!e.isAtEnd){const s=i._clone(!1);this.insert(Dt._createAfter(i),s);const u=new Kt(e,Dt._createAt(i,"end")),f=new Dt(s,0);this.move(u,f)}return Dt._createAfter(i)}mergeAttributes(e){const i=e.offset,s=e.parent;if(s.is("$text"))return e;if(s.is("attributeElement")&&s.childCount===0){const m=s.parent,w=s.index;return s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new Dt(m,w))}const u=s.getChild(i-1),f=s.getChild(i);if(!u||!f)return e;if(u.is("$text")&&f.is("$text"))return p2(u,f);if(u.is("attributeElement")&&f.is("attributeElement")&&u.isSimilar(f)){const m=u.childCount;return u._appendChild(f.getChildren()),f._remove(),this._removeFromClonedElementsGroup(f),this.mergeAttributes(new Dt(u,m))}return e}mergeContainers(e){const i=e.nodeBefore,s=e.nodeAfter;if(!(i&&s&&i.is("containerElement")&&s.is("containerElement")))throw new M("view-writer-merge-containers-invalid-position",this.document);const u=i.getChild(i.childCount-1),f=u instanceof Sn?Dt._createAt(u,"end"):Dt._createAt(i,"end");return this.move(Kt._createIn(s),Dt._createAt(i,"end")),this.remove(Kt._createOn(s)),f}insert(e,i){m2(i=De(i)?[...i]:[i],this.document);const s=i.reduce((m,w)=>{const _=m[m.length-1],E=!w.is("uiElement");return _&&_.breakAttributes==E?_.nodes.push(w):m.push({breakAttributes:E,nodes:[w]}),m},[]);let u=null,f=e;for(const{nodes:m,breakAttributes:w}of s){const _=this._insertNodes(f,m,w);u||(u=_.start),f=_.end}return u?new Kt(u,f):new Kt(e)}remove(e){const i=e instanceof Kt?e:Kt._createOn(e);if(ym(i,this.document),i.isCollapsed)return new Jd(this.document);const{start:s,end:u}=this._breakAttributesRange(i,!0),f=s.parent,m=u.offset-s.offset,w=f._removeChildren(s.offset,m);for(const E of w)this._removeFromClonedElementsGroup(E);const _=this.mergeAttributes(s);return i.start=_,i.end=_.clone(),new Jd(this.document,w)}clear(e,i){ym(e,this.document);const s=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const u of s){const f=u.item;let m;if(f.is("element")&&i.isSimilar(f))m=Kt._createOn(f);else if(!u.nextPosition.isAfter(e.start)&&f.is("$textProxy")){const w=f.getAncestors().find(_=>_.is("element")&&i.isSimilar(_));w&&(m=Kt._createIn(w))}m&&(m.end.isAfter(e.end)&&(m.end=e.end),m.start.isBefore(e.start)&&(m.start=e.start),this.remove(m))}}move(e,i){let s;if(i.isAfter(e.end)){const u=(i=this._breakAttributes(i,!0)).parent,f=u.childCount;e=this._breakAttributesRange(e,!0),s=this.remove(e),i.offset+=u.childCount-f}else s=this.remove(e);return this.insert(i,s)}wrap(e,i){if(!(i instanceof Qd))throw new M("view-writer-wrap-invalid-attribute",this.document);if(ym(e,this.document),e.isCollapsed){let u=e.start;u.parent.is("element")&&(s=u.parent,!Array.from(s.getChildren()).some(m=>!m.is("uiElement")))&&(u=u.getLastMatchingPosition(m=>m.item.is("uiElement"))),u=this._wrapPosition(u,i);const f=this.document.selection;return f.isCollapsed&&f.getFirstPosition().isEqual(e.start)&&this.setSelection(u),new Kt(u)}return this._wrapRange(e,i);var s}unwrap(e,i){if(!(i instanceof Qd))throw new M("view-writer-unwrap-invalid-attribute",this.document);if(ym(e,this.document),e.isCollapsed)return e;const{start:s,end:u}=this._breakAttributesRange(e,!0),f=s.parent,m=this._unwrapChildren(f,s.offset,u.offset,i),w=this.mergeAttributes(m.start);w.isEqual(m.start)||m.end.offset--;const _=this.mergeAttributes(m.end);return new Kt(w,_)}rename(e,i){const s=new Bu(this.document,e,i.getAttributes());return this.insert(Dt._createAfter(i),s),this.move(Kt._createIn(i),Dt._createAt(s,0)),this.remove(Kt._createOn(i)),s}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,i){return Dt._createAt(e,i)}createPositionAfter(e){return Dt._createAfter(e)}createPositionBefore(e){return Dt._createBefore(e)}createRange(e,i){return new Kt(e,i)}createRangeOn(e){return Kt._createOn(e)}createRangeIn(e){return Kt._createIn(e)}createSelection(...e){return new ts(...e)}createSlot(e="children"){if(!this._slotFactory)throw new M("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,i,s){let u,f;if(u=s?Zw(e):e.parent.is("$text")?e.parent.parent:e.parent,!u)throw new M("view-writer-invalid-position-container",this.document);f=s?this._breakAttributes(e,!0):e.parent.is("$text")?Xw(e):e;const m=u._insertChild(f.offset,i);for(const T of i)this._addToClonedElementsGroup(T);const w=f.getShiftedBy(m),_=this.mergeAttributes(f);_.isEqual(f)||w.offset--;const E=this.mergeAttributes(w);return new Kt(_,E)}_wrapChildren(e,i,s,u){let f=i;const m=[];for(;f<s;){const _=e.getChild(f),E=_.is("$text"),T=_.is("attributeElement");if(T&&this._wrapAttributeElement(u,_))m.push(new Dt(e,f));else if(E||!T||OR(u,_)){const O=u._clone();_._remove(),O._appendChild(_),e._insertChild(f,O),this._addToClonedElementsGroup(O),m.push(new Dt(e,f))}else this._wrapChildren(_,0,_.childCount,u);f++}let w=0;for(const _ of m)_.offset-=w,_.offset!=i&&(this.mergeAttributes(_).isEqual(_)||(w++,s--));return Kt._createFromParentsAndOffsets(e,i,e,s)}_unwrapChildren(e,i,s,u){let f=i;const m=[];for(;f<s;){const _=e.getChild(f);if(_.is("attributeElement"))if(_.isSimilar(u)){const E=_.getChildren(),T=_.childCount;_._remove(),e._insertChild(f,E),this._removeFromClonedElementsGroup(_),m.push(new Dt(e,f),new Dt(e,f+T)),f+=T,s+=T-1}else this._unwrapAttributeElement(u,_)?(m.push(new Dt(e,f),new Dt(e,f+1)),f++):(this._unwrapChildren(_,0,_.childCount,u),f++);else f++}let w=0;for(const _ of m)_.offset-=w,!(_.offset==i||_.offset==s)&&(this.mergeAttributes(_).isEqual(_)||(w++,s--));return Kt._createFromParentsAndOffsets(e,i,e,s)}_wrapRange(e,i){const{start:s,end:u}=this._breakAttributesRange(e,!0),f=s.parent,m=this._wrapChildren(f,s.offset,u.offset,i),w=this.mergeAttributes(m.start);w.isEqual(m.start)||m.end.offset--;const _=this.mergeAttributes(m.end);return new Kt(w,_)}_wrapPosition(e,i){if(i.isSimilar(e.parent))return f2(e.clone());e.parent.is("$text")&&(e=Xw(e));const s=this.createAttributeElement("_wrapPosition-fake-element");s._priority=Number.POSITIVE_INFINITY,s.isSimilar=()=>!1,e.parent._insertChild(e.offset,s);const u=new Kt(e,e.getShiftedBy(1));this.wrap(u,i);const f=new Dt(s.parent,s.index);s._remove();const m=f.nodeBefore,w=f.nodeAfter;return m instanceof Sn&&w instanceof Sn?p2(m,w):f2(f)}_wrapAttributeElement(e,i){if(!g2(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const s of e.getAttributeKeys())if(s!=="class"&&s!=="style"&&i.hasAttribute(s)&&i.getAttribute(s)!==e.getAttribute(s))return!1;for(const s of e.getStyleNames())if(i.hasStyle(s)&&i.getStyle(s)!==e.getStyle(s))return!1;for(const s of e.getAttributeKeys())s!=="class"&&s!=="style"&&(i.hasAttribute(s)||this.setAttribute(s,e.getAttribute(s),i));for(const s of e.getStyleNames())i.hasStyle(s)||this.setStyle(s,e.getStyle(s),i);for(const s of e.getClassNames())i.hasClass(s)||this.addClass(s,i);return!0}_unwrapAttributeElement(e,i){if(!g2(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const s of e.getAttributeKeys())if(s!=="class"&&s!=="style"&&(!i.hasAttribute(s)||i.getAttribute(s)!==e.getAttribute(s)))return!1;if(!i.hasClass(...e.getClassNames()))return!1;for(const s of e.getStyleNames())if(!i.hasStyle(s)||i.getStyle(s)!==e.getStyle(s))return!1;for(const s of e.getAttributeKeys())s!=="class"&&s!=="style"&&this.removeAttribute(s,i);return this.removeClass(Array.from(e.getClassNames()),i),this.removeStyle(Array.from(e.getStyleNames()),i),!0}_breakAttributesRange(e,i=!1){const s=e.start,u=e.end;if(ym(e,this.document),e.isCollapsed){const _=this._breakAttributes(e.start,i);return new Kt(_,_)}const f=this._breakAttributes(u,i),m=f.parent.childCount,w=this._breakAttributes(s,i);return f.offset+=f.parent.childCount-m,new Kt(w,f)}_breakAttributes(e,i=!1){const s=e.offset,u=e.parent;if(e.parent.is("emptyElement"))throw new M("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new M("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new M("view-writer-cannot-break-raw-element",this.document);if(!i&&u.is("$text")&&ey(u.parent)||ey(u))return e.clone();if(u.is("$text"))return this._breakAttributes(Xw(e),i);if(s==u.childCount){const f=new Dt(u.parent,u.index+1);return this._breakAttributes(f,i)}if(s===0){const f=new Dt(u.parent,u.index);return this._breakAttributes(f,i)}{const f=u.index+1,m=u._clone();u.parent._insertChild(f,m),this._addToClonedElementsGroup(m);const w=u.childCount-s,_=u._removeChildren(s,w);m._appendChild(_);const E=new Dt(u.parent,f);return this._breakAttributes(E,i)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const u of e.getChildren())this._addToClonedElementsGroup(u);const i=e.id;if(!i)return;let s=this._cloneGroups.get(i);s||(s=new Set,this._cloneGroups.set(i,s)),s.add(e),e._clonesGroup=s}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const u of e.getChildren())this._removeFromClonedElementsGroup(u);const i=e.id;if(!i)return;const s=this._cloneGroups.get(i);s&&s.delete(e)}}function Zw(c){let e=c.parent;for(;!ey(e);){if(!e)return;e=e.parent}return e}function OR(c,e){return c.priority<e.priority||!(c.priority>e.priority)&&c.getIdentity()<e.getIdentity()}function f2(c){const e=c.nodeBefore;if(e&&e.is("$text"))return new Dt(e,e.data.length);const i=c.nodeAfter;return i&&i.is("$text")?new Dt(i,0):c}function Xw(c){if(c.offset==c.parent.data.length)return new Dt(c.parent.parent,c.parent.index+1);if(c.offset===0)return new Dt(c.parent.parent,c.parent.index);const e=c.parent.data.slice(c.offset);return c.parent._data=c.parent.data.slice(0,c.offset),c.parent.parent._insertChild(c.parent.index+1,new Sn(c.root.document,e)),new Dt(c.parent.parent,c.parent.index+1)}function p2(c,e){const i=c.data.length;return c._data+=e.data,e._remove(),new Dt(c,i)}const jR=[Sn,Qd,Bu,Qw,Jw,Gb];function m2(c,e){for(const i of c){if(!jR.some(s=>i instanceof s))throw new M("view-writer-insert-invalid-node-type",e);i.is("$text")||m2(i.getChildren(),e)}}function ey(c){return c&&(c.is("containerElement")||c.is("documentFragment"))}function ym(c,e){const i=Zw(c.start),s=Zw(c.end);if(!i||!s||i!==s)throw new M("view-writer-invalid-range-container",e)}function g2(c,e){return c.id===null&&e.id===null}const b2=c=>c.createTextNode("Â "),k2=c=>{const e=c.createElement("span");return e.dataset.ckeFiller="true",e.innerText="Â ",e},w2=c=>{const e=c.createElement("br");return e.dataset.ckeFiller="true",e},nl=7,vm="â ".repeat(nl);function zs(c){return typeof c=="string"?c.substr(0,nl)===vm:rr(c)&&c.data.substr(0,nl)===vm}function Af(c){return c.data.length==nl&&zs(c)}function y2(c){const e=typeof c=="string"?c:c.data;return zs(c)?e.slice(nl):e}function LR(c,e){if(e.keyCode==Pn.arrowleft){const i=e.domTarget.ownerDocument.defaultView.getSelection();if(i.rangeCount==1&&i.getRangeAt(0).collapsed){const s=i.getRangeAt(0).startContainer,u=i.getRangeAt(0).startOffset;zs(s)&&u<=nl&&i.collapse(s,0)}}}var v2=a(8264),RR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(v2.A,RR),v2.A.locals;class BR extends ze(){constructor(e,i){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=i,this.set("isFocused",!1),this.set("isSelecting",!1),b.isBlink&&!b.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,i){if(e==="text")this.domConverter.mapViewToDom(i.parent)&&this.markedTexts.add(i);else{if(!this.domConverter.mapViewToDom(i))return;if(e==="attributes")this.markedAttributes.add(i);else{if(e!=="children")throw new M("view-renderer-unknown-type",this);this.markedChildren.add(i)}}}render(){if(this.isComposing&&!b.isAndroid)return;let e=null;const i=!(b.isBlink&&!b.isAndroid)||!this.isSelecting;for(const s of this.markedChildren)this._updateChildrenMappings(s);i?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Dt._createBefore(e.parent)));for(const s of this.markedAttributes)this._updateAttrs(s);for(const s of this.markedChildren)this._updateChildren(s,{inlineFillerPosition:e});for(const s of this.markedTexts)!this.markedChildren.has(s.parent)&&this.domConverter.mapViewToDom(s.parent)&&this._updateText(s,{inlineFillerPosition:e});if(i)if(e){const s=this.domConverter.viewPositionToDom(e),u=s.parent.ownerDocument;zs(s.parent)?this._inlineFiller=s.parent:this._inlineFiller=A2(u,s.parent,s.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const s=Array.from(i.childNodes),u=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),f=this._diffNodeLists(s,u),m=this._findUpdateActions(f,s,u,FR);if(m.indexOf("update")!==-1){const w={equal:0,insert:0,delete:0};for(const _ of m)if(_==="update"){const E=w.equal+w.insert,T=w.equal+w.delete,O=e.getChild(E);!O||O.is("uiElement")||O.is("rawElement")||this._updateElementMappings(O,s[T]),uf(u[E]),w.equal++}else w[_]++}}_updateElementMappings(e,i){this.domConverter.unbindDomElement(i),this.domConverter.bindElements(i,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Dt._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=this.domConverter.viewPositionToDom(e);return!!(i&&rr(i.parent)&&zs(i.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!zs(e))throw new M("view-renderer-filler-was-lost",this);Af(e)?e.remove():e.data=e.data.substr(nl),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=e.parent,s=e.offset;if(!this.domConverter.mapViewToDom(i.root)||!i.is("element")||!function(m){if(m.getAttribute("contenteditable")=="false")return!1;const w=m.findAncestor(_=>_.hasAttribute("contenteditable"));return!w||w.getAttribute("contenteditable")=="true"}(i))return!1;const u=e.nodeBefore,f=e.nodeAfter;return!(u instanceof Sn||f instanceof Sn)&&!!(s!==i.getFillerOffset()||u&&u.is("element","br"))&&(!b.isAndroid||!u&&!f)}_updateText(e,i){const s=this.domConverter.findCorrespondingDomText(e);let u=this.domConverter.viewToDom(e).data;const f=i.inlineFillerPosition;f&&f.parent==e.parent&&f.offset==e.index&&(u=vm+u),_2(s,u)}_updateAttrs(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const s=Array.from(i.attributes).map(f=>f.name),u=e.getAttributeKeys();for(const f of u)this.domConverter.setDomElementAttribute(i,f,e.getAttribute(f),e);for(const f of s)e.hasAttribute(f)||this.domConverter.removeDomElementAttribute(i,f)}_updateChildren(e,i){const s=this.domConverter.mapViewToDom(e);if(!s)return;if(b.isAndroid){let O=null;for(const U of Array.from(s.childNodes)){if(O&&rr(O)&&rr(U)){s.normalize();break}O=U}}const u=i.inlineFillerPosition,f=s.childNodes,m=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));u&&u.parent===e&&A2(s.ownerDocument,m,u.offset);const w=this._diffNodeLists(f,m),_=this._findUpdateActions(w,f,m,zR);let E=0;const T=new Set;for(const O of _)O==="delete"?(T.add(f[E]),uf(f[E])):O!=="equal"&&O!=="update"||E++;E=0;for(const O of _)O==="insert"?(Mo(s,E,m[E]),E++):O==="update"?(_2(f[E],m[E].data),E++):O==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(m[E])),E++);for(const O of T)O.parentNode||this.domConverter.unbindDomElement(O)}_diffNodeLists(e,i){return e=function(s,u){const f=Array.from(s);return f.length==0||!u||f[f.length-1]==u&&f.pop(),f}(e,this._fakeSelectionContainer),C(e,i,UR.bind(null,this.domConverter))}_findUpdateActions(e,i,s,u){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let f=[],m=[],w=[];const _={equal:0,insert:0,delete:0};for(const E of e)E==="insert"?w.push(s[_.equal+_.insert]):E==="delete"?m.push(i[_.equal+_.delete]):(f=f.concat(C(m,w,u).map(T=>T==="equal"?"update":T)),f.push("equal"),m=[],w=[]),_[E]++;return f.concat(C(m,w,u).map(E=>E==="equal"?"update":E))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const i of e.getChildren())this._markDescendantTextToSync(i)}}_updateSelection(){if(b.isBlink&&!b.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&b.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const i=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(m){const w=m.createElement("div");return w.className="ck-fake-selection-container",Object.assign(w.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),w.textContent="Â ",w}(i));const s=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(s,this.selection),!this._fakeSelectionNeedsUpdate(e))return;s.parentElement&&s.parentElement==e||e.appendChild(s),s.textContent=this.selection.fakeSelectionLabel||"Â ";const u=i.getSelection(),f=i.createRange();u.removeAllRanges(),f.selectNodeContents(s),u.addRange(f)}_updateDomSelection(e){const i=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(i))return;const s=this.domConverter.viewPositionToDom(this.selection.anchor),u=this.domConverter.viewPositionToDom(this.selection.focus);i.setBaseAndExtent(s.parent,s.offset,u.parent,u.offset),b.isGecko&&function(f,m){let w=f.parent,_=f.offset;if(rr(w)&&Af(w)&&(_=jl(w)+1,w=w.parentNode),w.nodeType!=Node.ELEMENT_NODE||_!=w.childNodes.length-1)return;const E=w.childNodes[_];E&&E.tagName=="BR"&&m.addRange(m.getRangeAt(0))}(u,i)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const i=e&&this.domConverter.domSelectionToView(e);return(!i||!this.selection.isEqual(i))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(i))}_fakeSelectionNeedsUpdate(e){const i=this._fakeSelectionContainer,s=e.ownerDocument.getSelection();return!i||i.parentElement!==e||s.anchorNode!==i&&!i.contains(s.anchorNode)||i.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const i=e.getSelection();if(i.rangeCount){const s=e.activeElement,u=this.domConverter.mapDomToView(s);s&&u&&i.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function A2(c,e,i){const s=e instanceof Array?e:e.childNodes,u=s[i];if(rr(u))return u.data=vm+u.data,u;{const f=c.createTextNode(vm);return Array.isArray(e)?s.splice(i,0,f):Mo(e,i,f),f}}function FR(c,e){return us(c)&&us(e)&&!rr(c)&&!rr(e)&&!io(c)&&!io(e)&&c.tagName.toLowerCase()===e.tagName.toLowerCase()}function zR(c,e){return us(c)&&us(e)&&rr(c)&&rr(e)}function UR(c,e,i){return e===i||(rr(e)&&rr(i)?e.data===i.data:!(!c.isBlockFiller(e)||!c.isBlockFiller(i)))}function _2(c,e){const i=c.data;if(i==e)return;const s=v(i,e);for(const u of s)u.type==="insert"?c.insertData(u.index,u.values.join("")):c.deleteData(u.index,u.howMany)}const qR=w2(h.document),VR=b2(h.document),$R=k2(h.document),Yb="data-ck-unsafe-attribute-",C2="data-ck-unsafe-element";class Kb{constructor(e,{blockFillerMode:i,renderingMode:s="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new ko,this._inlineObjectElementMatcher=new ko,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=s,this.blockFillerMode=i||(s==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?h.document:h.document.implementation.createHTMLDocument("")}bindFakeSelection(e,i){this._fakeSelectionMapping.set(e,new ts(i))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}unbindDomElement(e){const i=this._domToViewMapping.get(e);if(i){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(i);for(const s of Array.from(e.children))this.unbindDomElement(s)}}bindDocumentFragments(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}shouldRenderAttribute(e,i,s){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!i.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(s==="img"&&(e==="src"||e==="srcset")||s==="source"&&e==="srcset"||!i.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,i){if(this.renderingMode==="data")return void(e.innerHTML=i);const s=new DOMParser().parseFromString(i,"text/html"),u=s.createDocumentFragment(),f=s.body.childNodes;for(;f.length>0;)u.appendChild(f[0]);const m=s.createTreeWalker(u,NodeFilter.SHOW_ELEMENT),w=[];let _;for(;_=m.nextNode();)w.push(_);for(const E of w){for(const O of E.getAttributeNames())this.setDomElementAttribute(E,O,E.getAttribute(O));const T=E.tagName.toLowerCase();this._shouldRenameElement(T)&&(E2(T),E.replaceWith(this._createReplacementDomElement(T,E)))}for(;e.firstChild;)e.firstChild.remove();e.append(u)}viewToDom(e,i={}){if(e.is("$text")){const s=this._processDataFromViewText(e);return this._domDocument.createTextNode(s)}{const s=e;if(this.mapViewToDom(s)){if(!s.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(s);this._elementsWithTemporaryCustomProperties.add(s)}let u;if(s.is("documentFragment"))u=this._domDocument.createDocumentFragment(),i.bind&&this.bindDocumentFragments(u,s);else{if(s.is("uiElement"))return u=s.name==="$comment"?this._domDocument.createComment(s.getCustomProperty("$rawContent")):s.render(this._domDocument,this),i.bind&&this.bindElements(u,s),u;this._shouldRenameElement(s.name)?(E2(s.name),u=this._createReplacementDomElement(s.name)):u=s.hasAttribute("xmlns")?this._domDocument.createElementNS(s.getAttribute("xmlns"),s.name):this._domDocument.createElement(s.name),s.is("rawElement")&&s.render(u,this),i.bind&&this.bindElements(u,s);for(const f of s.getAttributeKeys())this.setDomElementAttribute(u,f,s.getAttribute(f),s)}if(i.withChildren!==!1)for(const f of this.viewChildrenToDom(s,i))u instanceof HTMLTemplateElement?u.content.appendChild(f):u.appendChild(f);return u}}setDomElementAttribute(e,i,s,u){const f=this.shouldRenderAttribute(i,s,e.tagName.toLowerCase())||u&&u.shouldRenderUnsafeAttribute(i);f||L("domconverter-unsafe-attribute-detected",{domElement:e,key:i,value:s}),function(m){try{h.document.createAttribute(m)}catch{return!1}return!0}(i)?(e.hasAttribute(i)&&!f?e.removeAttribute(i):e.hasAttribute(Yb+i)&&f&&e.removeAttribute(Yb+i),e.setAttribute(f?i:Yb+i,s)):L("domconverter-invalid-attribute-detected",{domElement:e,key:i,value:s})}removeDomElementAttribute(e,i){i!=C2&&(e.removeAttribute(i),e.removeAttribute(Yb+i))}*viewChildrenToDom(e,i={}){const s=e.getFillerOffset&&e.getFillerOffset();let u=0;for(const f of e.getChildren()){s===u&&(yield this._getBlockFiller());const m=f.is("element")&&!!f.getCustomProperty("dataPipeline:transparentRendering")&&!ji(f.getAttributes());m&&this.renderingMode=="data"?yield*this.viewChildrenToDom(f,i):(m&&L("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:f}),yield this.viewToDom(f,i)),u++}s===u&&(yield this._getBlockFiller())}viewRangeToDom(e){const i=this.viewPositionToDom(e.start),s=this.viewPositionToDom(e.end),u=this._domDocument.createRange();return u.setStart(i.parent,i.offset),u.setEnd(s.parent,s.offset),u}viewPositionToDom(e){const i=e.parent;if(i.is("$text")){const s=this.findCorrespondingDomText(i);if(!s)return null;let u=e.offset;return zs(s)&&(u+=nl),{parent:s,offset:u}}{let s,u,f;if(e.offset===0){if(s=this.mapViewToDom(i),!s)return null;f=s.childNodes[0]}else{const m=e.nodeBefore;if(u=m.is("$text")?this.findCorrespondingDomText(m):this.mapViewToDom(m),!u)return null;s=u.parentNode,f=u.nextSibling}return rr(f)&&zs(f)?{parent:f,offset:nl}:{parent:s,offset:u?jl(u)+1:0}}}domToView(e,i={}){const s=[],u=this._domToView(e,i,s),f=u.next().value;return f?(u.next(),this._processDomInlineNodes(null,s,i),f.is("$text")&&f.data.length==0?null:f):null}*domChildrenToView(e,i={},s=[]){let u=[];u=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let f=0;f<u.length;f++){const m=u[f],w=this._domToView(m,i,s),_=w.next().value;_!==null&&(this._isBlockViewElement(_)&&this._processDomInlineNodes(e,s,i),yield _,w.next())}this._processDomInlineNodes(e,s,i)}domSelectionToView(e){if(function(u){if(!b.isGecko||!u.rangeCount)return!1;const f=u.getRangeAt(0).startContainer;try{Object.prototype.toString.call(f)}catch{return!0}return!1}(e))return new ts([]);if(e.rangeCount===1){let u=e.getRangeAt(0).startContainer;rr(u)&&(u=u.parentNode);const f=this.fakeSelectionToView(u);if(f)return f}const i=this.isDomSelectionBackward(e),s=[];for(let u=0;u<e.rangeCount;u++){const f=e.getRangeAt(u),m=this.domRangeToView(f);m&&s.push(m)}return new ts(s,{backward:i})}domRangeToView(e){const i=this.domPositionToView(e.startContainer,e.startOffset),s=this.domPositionToView(e.endContainer,e.endOffset);return i&&s?new Kt(i,s):null}domPositionToView(e,i=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,jl(e));const s=this.mapDomToView(e);if(s&&(s.is("uiElement")||s.is("rawElement")))return Dt._createBefore(s);if(rr(e)){if(Af(e))return this.domPositionToView(e.parentNode,jl(e));const u=this.findCorrespondingViewText(e);let f=i;return u?(zs(e)&&(f-=nl,f=f<0?0:f),new Dt(u,f)):null}if(i===0){const u=this.mapDomToView(e);if(u)return new Dt(u,0)}else{const u=e.childNodes[i-1];if(rr(u)&&Af(u)||u&&this.isBlockFiller(u))return this.domPositionToView(u.parentNode,jl(u));const f=rr(u)?this.findCorrespondingViewText(u):this.mapDomToView(u);if(f&&f.parent)return new Dt(f.parent,f.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Af(e))return null;const i=this.getHostViewElement(e);if(i)return i;const s=e.previousSibling;if(s){if(!this.isElement(s))return null;const u=this.mapDomToView(s);if(u){const f=u.nextSibling;return f instanceof Sn?f:null}}else{const u=this.mapDomToView(e.parentNode);if(u){const f=u.getChild(0);return f instanceof Sn?f:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const i=e.previousSibling;return i&&this.mapViewToDom(i)?this.mapViewToDom(i).nextSibling:!i&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const i=this.mapViewToDom(e);if(i&&i.ownerDocument.activeElement!==i){const{scrollX:s,scrollY:u}=h.window,f=[];x2(i,m=>{const{scrollLeft:w,scrollTop:_}=m;f.push([w,_])}),i.focus(),x2(i,m=>{const[w,_]=f.shift();m.scrollLeft=w,m.scrollTop=_}),h.window.scrollTo(s,u)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const i=e.ownerDocument.defaultView.getSelection(),s=this.domSelectionToView(i);s&&s.rangeCount>0&&i.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(qR):!(e.tagName!=="BR"||!S2(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode($R)||function(i,s){return i.isEqualNode(VR)&&S2(i,s)&&i.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const i=this._domDocument.createRange();try{i.setStart(e.anchorNode,e.anchorOffset),i.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const s=i.collapsed;return i.detach(),s}getHostViewElement(e){const i=function(s){const u=[];let f=s;for(;f&&f.nodeType!=Node.DOCUMENT_NODE;)u.unshift(f),f=f.parentNode;return u}(e);for(i.pop();i.length;){const s=i.pop(),u=this._domToViewMapping.get(s);if(u&&(u.is("uiElement")||u.is("rawElement")))return u}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return b2(this._domDocument);case"markedNbsp":return k2(this._domDocument);case"br":return w2(this._domDocument)}}_isDomSelectionPositionCorrect(e,i){if(rr(e)&&zs(e)&&i<nl||this.isElement(e)&&zs(e.childNodes[i]))return!1;const s=this.mapDomToView(e);return!s||!s.is("uiElement")&&!s.is("rawElement")}*_domToView(e,i,s){if(this.isBlockFiller(e))return null;const u=this.getHostViewElement(e);if(u)return u;if(io(e)&&i.skipComments)return null;if(rr(e)){if(Af(e))return null;{const f=e.data;if(f==="")return null;const m=new Sn(this.document,f);return s.push(m),m}}{let f=this.mapDomToView(e);if(f)return this._isInlineObjectElement(f)&&s.push(f),f;if(this.isDocumentFragment(e))f=new Jd(this.document),i.bind&&this.bindDocumentFragments(e,f);else{f=this._createViewElement(e,i),i.bind&&this.bindElements(e,f);const w=e.attributes;if(w)for(let _=w.length,E=0;E<_;E++)f._setAttribute(w[E].name,w[E].value);if(this._isViewElementWithRawContent(f,i))return f._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(f)||s.push(f),f;if(io(e))return f._setCustomProperty("$rawContent",e.data),f}yield f;const m=[];if(i.withChildren!==!1)for(const w of this.domChildrenToView(e,i,m))f._appendChild(w);if(this._isInlineObjectElement(f))s.push(f);else for(const w of m)s.push(w)}}_processDomInlineNodes(e,i,s){if(!i.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let u=!1;for(let f=0;f<i.length;f++){const m=i[f];if(!m.is("$text")){u=!1;continue}let w,_=!1;if(HR(m,this.preElements))w=y2(m.data);else{w=m.data.replace(/[ \n\t\r]{1,}/g," "),_=/[^\S\u00A0]/.test(w.charAt(w.length-1));const E=f>0?i[f-1]:null,T=f+1<i.length?i[f+1]:null,O=!E||E.is("element")&&E.name=="br"||u,U=!T&&!zs(m.data);s.withChildren!==!1&&(O&&(w=w.replace(/^ /,"")),U&&(w=w.replace(/ $/,""))),w=y2(w),w=w.replace(/ \u00A0/g,"  ");const K=T&&T.is("element")&&T.name!="br",ee=T&&T.is("$text")&&T.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(w)||!T||K||ee)&&(w=w.replace(/\u00A0$/," ")),(O||E&&E.is("element")&&E.name!="br")&&(w=w.replace(/^\u00A0/," "))}w.length==0&&m.parent?(m._remove(),i.splice(f,1),f--):(m._data=w,u=_)}i.length=0}_processDataFromViewText(e){let i=e.data;if(e.getAncestors().some(s=>this.preElements.includes(s.name)))return i;if(i.charAt(0)==" "){const s=this._getTouchingInlineViewNode(e,!1);!(s&&s.is("$textProxy")&&this._nodeEndsWithSpace(s))&&s||(i="Â "+i.substr(1))}if(i.charAt(i.length-1)==" "){const s=this._getTouchingInlineViewNode(e,!0),u=s&&s.is("$textProxy")&&s.data.charAt(0)==" ";i.charAt(i.length-2)!=" "&&s&&!u||(i=i.substr(0,i.length-1)+"Â ")}return i.replace(/ {2}/g," Â ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(s=>this.preElements.includes(s.name)))return!1;const i=this._processDataFromViewText(e);return i.charAt(i.length-1)==" "}_getTouchingInlineViewNode(e,i){const s=new wo({startPosition:i?Dt._createAfter(e):Dt._createBefore(e),direction:i?"forward":"backward"});for(const u of s){if(u.item.is("element","br"))return null;if(this._isInlineObjectElement(u.item))return u.item;if(u.item.is("containerElement"))return null;if(u.item.is("$textProxy"))return u.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,i){if(io(e))return new Gb(this.document,"$comment");const s=i.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Po(this.document,s)}_isViewElementWithRawContent(e,i){return i.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const i=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(i)}_createReplacementDomElement(e,i){const s=this._domDocument.createElement("span");if(s.setAttribute(C2,e),i){for(;i.firstChild;)s.appendChild(i.firstChild);for(const u of i.getAttributeNames())s.setAttribute(u,i.getAttribute(u))}return s}}function HR(c,e){return c.getAncestors().some(i=>i.is("element")&&e.includes(i.name))}function x2(c,e){let i=c;for(;i;)e(i),i=i.parentElement}function S2(c,e){const i=c.parentNode;return!!i&&!!i.tagName&&e.includes(i.tagName.toLowerCase())}function E2(c){c==="script"&&L("domconverter-unsafe-script-element-detected"),c==="style"&&L("domconverter-unsafe-style-element-detected")}class $l extends yi(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const D2=qd(function(c,e){Ka(e,pa(e),c)});class _f{constructor(e,i,s){this.view=e,this.document=e.document,this.domEvent=i,this.domTarget=i.target,D2(this,s)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class zu extends $l{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(e,i,(s,u)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(u.target)&&this.onDomEvent(u)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,i,s){this.isEnabled&&this.document.fire(e,new _f(this.view,i,s))}}class WR extends zu{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const i={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Ll(this)}};this.fire(e.type,e,i)}}const ty=function(){return He.Date.now()};var GR=/\s/;const YR=function(c){for(var e=c.length;e--&&GR.test(c.charAt(e)););return e};var KR=/^\s+/;const QR=function(c){return c&&c.slice(0,YR(c)+1).replace(KR,"")};var JR=/^[-+]0x[0-9a-f]+$/i,ZR=/^0b[01]+$/i,XR=/^0o[0-7]+$/i,eB=parseInt;const I2=function(c){if(typeof c=="number")return c;if(Hd(c))return NaN;if(le(c)){var e=typeof c.valueOf=="function"?c.valueOf():c;c=le(e)?e+"":e}if(typeof c!="string")return c===0?c:+c;c=QR(c);var i=ZR.test(c);return i||XR.test(c)?eB(c.slice(2),i?2:8):JR.test(c)?NaN:+c};var tB=Math.max,nB=Math.min;const Cf=function(c,e,i){var s,u,f,m,w,_,E=0,T=!1,O=!1,U=!0;if(typeof c!="function")throw new TypeError("Expected a function");function K(Le){var tt=s,ft=u;return s=u=void 0,E=Le,m=c.apply(ft,tt)}function ee(Le){var tt=Le-_;return _===void 0||tt>=e||tt<0||O&&Le-E>=f}function oe(){var Le=ty();if(ee(Le))return ke(Le);w=setTimeout(oe,function(tt){var ft=e-(tt-_);return O?nB(ft,f-(tt-E)):ft}(Le))}function ke(Le){return w=void 0,U&&s?K(Le):(s=u=void 0,m)}function Se(){var Le=ty(),tt=ee(Le);if(s=arguments,u=this,_=Le,tt){if(w===void 0)return function(ft){return E=ft,w=setTimeout(oe,e),T?K(ft):m}(_);if(O)return clearTimeout(w),w=setTimeout(oe,e),K(_)}return w===void 0&&(w=setTimeout(oe,e)),m}return e=I2(e)||0,le(i)&&(T=!!i.leading,f=(O="maxWait"in i)?tB(I2(i.maxWait)||0,e):f,U="trailing"in i?!!i.trailing:U),Se.cancel=function(){w!==void 0&&clearTimeout(w),E=0,s=_=u=w=void 0},Se.flush=function(){return w===void 0?m:ke(ty())},Se};class rB extends $l{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Cf(i=>{this.document.fire("selectionChangeDone",i)},200)}observe(){const e=this.document;e.on("arrowKey",(i,s)=>{e.selection.isFake&&this.isEnabled&&s.preventDefault()},{context:"$capture"}),e.on("arrowKey",(i,s)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(s.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const i=this.document.selection,s=new ts(i.getRanges(),{backward:i.isBackward,fake:!1});e!=Pn.arrowleft&&e!=Pn.arrowup||s.setTo(s.getFirstPosition()),e!=Pn.arrowright&&e!=Pn.arrowdown||s.setTo(s.getLastPosition());const u={oldSelection:i,newSelection:s,domSelection:null};this.document.fire("selectionChange",u),this._fireSelectionChangeDoneDebounced(u)}}const iB=function(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this},oB=function(c){return this.__data__.has(c)};function Qb(c){var e=-1,i=c==null?0:c.length;for(this.__data__=new xc;++e<i;)this.add(c[e])}Qb.prototype.add=Qb.prototype.push=iB,Qb.prototype.has=oB;const sB=Qb,aB=function(c,e){for(var i=-1,s=c==null?0:c.length;++i<s;)if(e(c[i],i,c))return!0;return!1},lB=function(c,e){return c.has(e)},T2=function(c,e,i,s,u,f){var m=1&i,w=c.length,_=e.length;if(w!=_&&!(m&&_>w))return!1;var E=f.get(c),T=f.get(e);if(E&&T)return E==e&&T==c;var O=-1,U=!0,K=2&i?new sB:void 0;for(f.set(c,e),f.set(e,c);++O<w;){var ee=c[O],oe=e[O];if(s)var ke=m?s(oe,ee,O,e,c,f):s(ee,oe,O,c,e,f);if(ke!==void 0){if(ke)continue;U=!1;break}if(K){if(!aB(e,function(Se,Le){if(!lB(K,Le)&&(ee===Se||u(ee,Se,i,s,f)))return K.push(Le)})){U=!1;break}}else if(ee!==oe&&!u(ee,oe,i,s,f)){U=!1;break}}return f.delete(c),f.delete(e),U},cB=function(c){var e=-1,i=Array(c.size);return c.forEach(function(s,u){i[++e]=[u,s]}),i},uB=function(c){var e=-1,i=Array(c.size);return c.forEach(function(s){i[++e]=s}),i};var N2=st?st.prototype:void 0,ny=N2?N2.valueOf:void 0;const dB=function(c,e,i,s,u,f,m){switch(i){case"[object DataView]":if(c.byteLength!=e.byteLength||c.byteOffset!=e.byteOffset)return!1;c=c.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(c.byteLength!=e.byteLength||!f(new Ja(c),new Ja(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ii(+c,+e);case"[object Error]":return c.name==e.name&&c.message==e.message;case"[object RegExp]":case"[object String]":return c==e+"";case"[object Map]":var w=cB;case"[object Set]":var _=1&s;if(w||(w=uB),c.size!=e.size&&!_)return!1;var E=m.get(c);if(E)return E==e;s|=2,m.set(c,e);var T=T2(w(c),w(e),s,u,f,m);return m.delete(c),T;case"[object Symbol]":if(ny)return ny.call(c)==ny.call(e)}return!1};var hB=Object.prototype.hasOwnProperty;const fB=function(c,e,i,s,u,f){var m=1&i,w=xt(c),_=w.length;if(_!=xt(e).length&&!m)return!1;for(var E=_;E--;){var T=w[E];if(!(m?T in e:hB.call(e,T)))return!1}var O=f.get(c),U=f.get(e);if(O&&U)return O==e&&U==c;var K=!0;f.set(c,e),f.set(e,c);for(var ee=m;++E<_;){var oe=c[T=w[E]],ke=e[T];if(s)var Se=m?s(ke,oe,T,e,c,f):s(oe,ke,T,c,e,f);if(!(Se===void 0?oe===ke||u(oe,ke,i,s,f):Se)){K=!1;break}ee||(ee=T=="constructor")}if(K&&!ee){var Le=c.constructor,tt=e.constructor;Le==tt||!("constructor"in c)||!("constructor"in e)||typeof Le=="function"&&Le instanceof Le&&typeof tt=="function"&&tt instanceof tt||(K=!1)}return f.delete(c),f.delete(e),K};var M2="[object Arguments]",P2="[object Array]",Jb="[object Object]",O2=Object.prototype.hasOwnProperty;const pB=function(c,e,i,s,u,f){var m=zt(c),w=zt(e),_=m?P2:ga(c),E=w?P2:ga(e),T=(_=_==M2?Jb:_)==Jb,O=(E=E==M2?Jb:E)==Jb,U=_==E;if(U&&Qa(c)){if(!Qa(e))return!1;m=!0,T=!1}if(U&&!T)return f||(f=new xl),m||yu(c)?T2(c,e,i,s,u,f):dB(c,e,_,i,s,u,f);if(!(1&i)){var K=T&&O2.call(c,"__wrapped__"),ee=O&&O2.call(e,"__wrapped__");if(K||ee){var oe=K?c.value():c,ke=ee?e.value():e;return f||(f=new xl),u(oe,ke,i,s,f)}}return!!U&&(f||(f=new xl),fB(c,e,i,s,u,f))},Zb=function c(e,i,s,u,f){return e===i||(e==null||i==null||!Qt(e)&&!Qt(i)?e!=e&&i!=i:pB(e,i,s,u,c,f))},mB=function(c,e,i){var s=(i=typeof i=="function"?i:void 0)?i(c,e):void 0;return s===void 0?Zb(c,e,void 0,i):!!s};class j2 extends $l{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const i=this.domConverter,s=new Set,u=new Set;for(const m of e){const w=i.mapDomToView(m.target);w&&(w.is("uiElement")||w.is("rawElement")||m.type!=="childList"||this._isBogusBrMutation(m)||u.add(w))}for(const m of e){const w=i.mapDomToView(m.target);if((!w||!w.is("uiElement")&&!w.is("rawElement"))&&m.type==="characterData"){const _=i.findCorrespondingViewText(m.target);_&&!u.has(_.parent)?s.add(_):!_&&zs(m.target)&&u.add(i.mapDomToView(m.target.parentNode))}}let f=!1;for(const m of s)f=!0,this.renderer.markToSync("text",m);for(const m of u){const w=i.mapViewToDom(m),_=Array.from(m.getChildren()),E=Array.from(i.domChildrenToView(w,{withChildren:!1}));mB(_,E,gB)||(f=!0,this.renderer.markToSync("children",m))}f&&this.view.forceRender()}_isBogusBrMutation(e){let i=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(i=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}}function gB(c,e){if(!Array.isArray(c))return c===e||!(!c.is("$text")||!e.is("$text"))&&c.data===e.data}class Xb extends zu{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const i=this.document;i.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),i.on("blur",(s,u)=>{const f=i.selection.editableElement;f!==null&&f!==u.target||(i.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class bB extends $l{constructor(e){super(e),this.mutationObserver=e.getObserver(j2),this.focusObserver=e.getObserver(Xb),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Cf(i=>{this.document.fire("selectionChangeDone",i)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Cf(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const i=e.ownerDocument,s=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,i),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",s,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",s,{priority:"highest",useCapture:!0}),this._documents.has(i)||(this.listenTo(i,"mouseup",s,{priority:"highest",useCapture:!0}),this.listenTo(i,"selectionchange",(u,f)=>{this.document.isComposing&&!b.isAndroid||(this._handleSelectionChange(f,i),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(i))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,i){if(!this.isEnabled)return;const s=i.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(s.anchorNode))return;this.mutationObserver.flush();const u=this.domConverter.domSelectionToView(s);if(u.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(u)||!this.domConverter.isDomSelectionCorrect(s))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(u))this.view.forceRender();else{const f={oldSelection:this.selection,newSelection:u,domSelection:s};this.document.fire("selectionChange",f),this._fireSelectionChangeDoneDebounced(f)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class kB extends zu{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const i=this.document;i.on("compositionstart",()=>{i.isComposing=!0},{priority:"low"}),i.on("compositionend",()=>{i.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class L2{constructor(e,i={}){this._files=i.cacheFiles?R2(e):null,this._native=e}get files(){return this._files||(this._files=R2(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,i){this._native.setData(e,i)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,i,s){this._native.setDragImage(e,i,s)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function R2(c){const e=Array.from(c.files||[]),i=Array.from(c.items||[]);return e.length?e:i.filter(s=>s.kind==="file").map(s=>s.getAsFile())}class wB extends zu{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const i=e.getTargetRanges(),s=this.view,u=s.document;let f=null,m=null,w=[];if(e.dataTransfer&&(f=new L2(e.dataTransfer)),e.data!==null?m=e.data:f&&(m=f.getData("text/plain")),u.selection.isFake)w=Array.from(u.selection.getRanges());else if(i.length)w=i.map(_=>{const E=s.domConverter.domPositionToView(_.startContainer,_.startOffset),T=s.domConverter.domPositionToView(_.endContainer,_.endOffset);return E?s.createRange(E,T):T?s.createRange(T):void 0}).filter(_=>!!_);else if(b.isAndroid){const _=e.target.ownerDocument.defaultView.getSelection();w=Array.from(s.domConverter.domSelectionToView(_).getRanges())}if(b.isAndroid&&e.inputType=="insertCompositionText"&&m&&m.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[s.createRange(w[0].end)]});else if(e.inputType=="insertText"&&m&&m.includes(`
`)){const _=m.split(/\n{1,2}/g);let E=w;for(let T=0;T<_.length;T++){const O=_[T];O!=""&&(this.fire(e.type,e,{data:O,dataTransfer:f,targetRanges:E,inputType:e.inputType,isComposing:e.isComposing}),E=[u.selection.getFirstRange()]),T+1<_.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:E}),E=[u.selection.getFirstRange()])}}else this.fire(e.type,e,{data:m,dataTransfer:f,targetRanges:w,inputType:e.inputType,isComposing:e.isComposing})}}class yB extends $l{constructor(e){super(e),this.document.on("keydown",(i,s)=>{if(this.isEnabled&&((u=s.keyCode)==Pn.arrowright||u==Pn.arrowleft||u==Pn.arrowup||u==Pn.arrowdown)){const f=new Fu(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(f,s),f.stop.called&&i.stop()}var u})}observe(){}stopObserving(){}}class vB extends $l{constructor(e){super(e);const i=this.document;i.on("keydown",(s,u)=>{if(!this.isEnabled||u.keyCode!=Pn.tab||u.ctrlKey)return;const f=new Fu(i,"tab",i.selection.getFirstRange());i.fire(f,u),f.stop.called&&s.stop()})}observe(){}stopObserving(){}}const rl=function(c){return Pr(c,5)};class AB extends ze(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Wb(e),this.domConverter=new Kb(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new BR(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new h2(this.document),this.addObserver(j2),this.addObserver(Xb),this.addObserver(bB),this.addObserver(WR),this.addObserver(rB),this.addObserver(kB),this.addObserver(yB),this.addObserver(wB),this.addObserver(vB),this.document.on("arrowKey",LR,{priority:"low"}),NR(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),b.isiOS&&this.listenTo(this.document,"blur",(i,s)=>{this.domConverter.mapDomToView(s.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,i="main"){const s=this.document.getRoot(i);s._name=e.tagName.toLowerCase();const u={};for(const{name:m,value:w}of Array.from(e.attributes))u[m]=w,m==="class"?this._writer.addClass(w.split(" "),s):this._writer.setAttribute(m,w,s);this._initialDomRootAttributes.set(e,u);const f=()=>{this._writer.setAttribute("contenteditable",(!s.isReadOnly).toString(),s),s.isReadOnly?this._writer.addClass("ck-read-only",s):this._writer.removeClass("ck-read-only",s)};f(),this.domRoots.set(i,e),this.domConverter.bindElements(e,s),this._renderer.markToSync("children",s),this._renderer.markToSync("attributes",s),this._renderer.domDocuments.add(e.ownerDocument),s.on("change:children",(m,w)=>this._renderer.markToSync("children",w)),s.on("change:attributes",(m,w)=>this._renderer.markToSync("attributes",w)),s.on("change:text",(m,w)=>this._renderer.markToSync("text",w)),s.on("change:isReadOnly",()=>this.change(f)),s.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const m of this._observers.values())m.observe(e,i)}detachDomRoot(e){const i=this.domRoots.get(e);Array.from(i.attributes).forEach(({name:u})=>i.removeAttribute(u));const s=this._initialDomRootAttributes.get(i);for(const u in s)i.setAttribute(u,s[u]);this.domRoots.delete(e),this.domConverter.unbindDomElement(i);for(const u of this._observers.values())u.stopObserving(i)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let i=this._observers.get(e);if(i)return i;i=new e(this),this._observers.set(e,i);for(const[s,u]of this.domRoots)i.observe(u,s);return i.enable(),i}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:i,viewportOffset:s=20,ancestorOffset:u=20}={}){const f=this.document.selection.getFirstRange();if(!f)return;const m=rl({alignToTop:e,forceScroll:i,viewportOffset:s,ancestorOffset:u});typeof s=="number"&&(s={top:s,bottom:s,left:s,right:s});const w={target:this.domConverter.viewRangeToDom(f),viewportOffset:s,ancestorOffset:u,alignToTop:e,forceScroll:i};this.fire("scrollToTheSelection",w,m),function({target:_,viewportOffset:E=0,ancestorOffset:T=0,alignToTop:O,forceScroll:U}){const K=im(_);let ee=K,oe=null;for(E=function(ke){return typeof ke=="number"?{top:ke,bottom:ke,left:ke,right:ke}:ke}(E);ee;){let ke;ke=Sb(ee==K?_:oe),rm({parent:ke,getRect:()=>Eb(_,ee),alignToTop:O,ancestorOffset:T,forceScroll:U});const Se=Eb(_,ee);if(Cb({window:ee,rect:Se,viewportOffset:E,alignToTop:O,forceScroll:U}),ee.parent!=ee){if(oe=ee.frameElement,ee=ee.parent,!oe)return}else ee=null}}(w)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new M("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const i=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),i}catch(i){M.rethrowUnexpectedError(i,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Xb).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,i){return Dt._createAt(e,i)}createPositionAfter(e){return Dt._createAfter(e)}createPositionBefore(e){return Dt._createBefore(e)}createRange(e,i){return new Kt(e,i)}createRangeOn(e){return Kt._createOn(e)}createRangeIn(e){return Kt._createIn(e)}createSelection(...e){return new ts(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Uu{is(){throw new Error("is() method is abstract")}}class Zd extends Uu{constructor(e){super(),this.parent=null,this._attrs=_a(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new M("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new M("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.startOffset),i=i.parent;return e}getAncestors(e={}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(e,i={}){const s=this.getAncestors(i),u=e.getAncestors(i);let f=0;for(;s[f]==u[f]&&s[f];)f++;return f===0?null:s[f-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),s=e.getPath(),u=Me(i,s);switch(u){case"prefix":return!0;case"extension":return!1;default:return i[u]<s[u]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((i,s)=>(i[s[0]]=s[1],i),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,i){this._attrs.set(e,i)}_setAttributesTo(e){this._attrs=_a(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Zd.prototype.is=function(c){return c==="node"||c==="model:node"};class Am{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,i)=>e+i.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const i=this._nodes.indexOf(e);return i==-1?null:i}getNodeStartOffset(e){const i=this.getNodeIndex(e);return i===null?null:this._nodes.slice(0,i).reduce((s,u)=>s+u.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const i=this._nodes[e];if(!i)throw new M("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(i)}offsetToIndex(e){let i=0;for(const s of this._nodes){if(e>=i&&e<i+s.offsetSize)return this.getNodeIndex(s);i+=s.offsetSize}if(i!=e)throw new M("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,i){for(const s of i)if(!(s instanceof Zd))throw new M("model-nodelist-insertnodes-not-node",this);this._nodes=function(s,u,f,m){if(Math.max(u.length,s.length)>1e4)return s.slice(0,f).concat(u).concat(s.slice(f+m,s.length));{const w=Array.from(s);return w.splice(f,m,...u),w}}(this._nodes,Array.from(i),e,0)}_removeNodes(e,i=1){return this._nodes.splice(e,i)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class br extends Zd{constructor(e,i){super(i),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new br(this.data,this.getAttributes())}static fromJSON(e){return new br(e.data,e.attributes)}}br.prototype.is=function(c){return c==="$text"||c==="model:$text"||c==="text"||c==="model:text"||c==="node"||c==="model:node"};class il extends Uu{constructor(e,i,s){if(super(),this.textNode=e,i<0||i>e.offsetSize)throw new M("model-textproxy-wrong-offsetintext",this);if(s<0||i+s>e.offsetSize)throw new M("model-textproxy-wrong-length",this);this.data=e.data.substring(i,i+s),this.offsetInText=i}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}il.prototype.is=function(c){return c==="$textProxy"||c==="model:$textProxy"||c==="textProxy"||c==="model:textProxy"};class lr extends Zd{constructor(e,i,s){super(i),this._children=new Am,this.name=e,s&&this._insertChild(0,s)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let i=this;for(const s of e)i=i.getChild(i.offsetToIndex(s));return i}findAncestor(e,i={}){let s=i.includeSelf?this:this.parent;for(;s;){if(s.name===e)return s;s=s.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const i of this._children)e.children.push(i.toJSON())}return e}_clone(e=!1){const i=e?Array.from(this._children).map(s=>s._clone(!0)):void 0;return new lr(this.name,this.getAttributes(),i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const s=function(u){return typeof u=="string"?[new br(u)]:(De(u)||(u=[u]),Array.from(u).map(f=>typeof f=="string"?new br(f):f instanceof il?new br(f.data,f.getAttributes()):f))}(i);for(const u of s)u.parent!==null&&u._remove(),u.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,i=1){const s=this._children._removeNodes(e,i);for(const u of s)u.parent=null;return s}static fromJSON(e){let i;if(e.children){i=[];for(const s of e.children)s.name?i.push(lr.fromJSON(s)):i.push(br.fromJSON(s))}return new lr(e.name,e.attributes,i)}}lr.prototype.is=function(c,e){return e?e===this.name&&(c==="element"||c==="model:element"):c==="element"||c==="model:element"||c==="node"||c==="model:node"};class Uc{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new M("model-tree-walker-no-start-position",null);const i=e.direction||"forward";if(i!="forward"&&i!="backward")throw new M("model-tree-walker-unknown-direction",e,{direction:i});this.direction=i,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=At._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let i,s,u,f;do u=this.position,f=this._visitedParent,{done:i,value:s}=this.next();while(!i&&e(s));i||(this._position=u,this._visitedParent=f)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,i=this.position.clone(),s=this._visitedParent;if(s.parent===null&&i.offset===s.maxOffset)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const u=_m(i,s),f=u||B2(i,s,u);if(f instanceof lr){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(i))return{done:!0,value:void 0};i.offset++}else i.path.push(0),this._visitedParent=f;return this._position=i,Xd("elementStart",f,e,i,1)}if(f instanceof br){let m;if(this.singleCharacters)m=1;else{let E=f.endOffset;this._boundaryEndParent==s&&this.boundaries.end.offset<E&&(E=this.boundaries.end.offset),m=E-i.offset}const w=i.offset-f.startOffset,_=new il(f,w,m);return i.offset+=m,this._position=i,Xd("text",_,e,i,m)}return i.path.pop(),i.offset++,this._position=i,this._visitedParent=s.parent,this.ignoreElementEnd?this._next():Xd("elementEnd",s,e,i)}_previous(){const e=this.position,i=this.position.clone(),s=this._visitedParent;if(s.parent===null&&i.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const u=i.parent,f=_m(i,u),m=f||F2(i,u,f);if(m instanceof lr)return i.offset--,this.shallow?(this._position=i,Xd("elementStart",m,e,i,1)):(i.path.push(m.maxOffset),this._position=i,this._visitedParent=m,this.ignoreElementEnd?this._previous():Xd("elementEnd",m,e,i));if(m instanceof br){let w;if(this.singleCharacters)w=1;else{let T=m.startOffset;this._boundaryStartParent==s&&this.boundaries.start.offset>T&&(T=this.boundaries.start.offset),w=i.offset-T}const _=i.offset-m.startOffset,E=new il(m,_-w,w);return i.offset-=w,this._position=i,Xd("text",E,e,i,w)}return i.path.pop(),this._position=i,this._visitedParent=s.parent,Xd("elementStart",s,e,i,1)}}function Xd(c,e,i,s,u){return{done:!1,value:{type:c,item:e,previousPosition:i,nextPosition:s,length:u}}}class At extends Uu{constructor(e,i,s="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new M("model-position-root-invalid",e);if(!(i instanceof Array)||i.length===0)throw new M("model-position-path-incorrect-format",e,{path:i});e.is("rootElement")?i=i.slice():(i=[...e.getPath(),...i],e=e.root),this.root=e,this.path=i,this.stickiness=s}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let i=0;i<this.path.length-1;i++)if(e=e.getChild(e.offsetToIndex(this.path[i])),!e)throw new M("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new M("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return _m(this,this.parent)}get nodeAfter(){const e=this.parent;return B2(this,e,_m(this,e))}get nodeBefore(){const e=this.parent;return F2(this,e,_m(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const i=Me(this.path,e.path);switch(i){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[i]<e.path[i]?"before":"after"}}getLastMatchingPosition(e,i={}){i.startPosition=this;const s=new Uc(i);return s.skip(e),s.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const i=this.parent;return i.is("element")?i.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const i=Me(this.path,e.path),s=typeof i=="string"?Math.min(this.path.length,e.path.length):i;return this.path.slice(0,s)}getCommonAncestor(e){const i=this.getAncestors(),s=e.getAncestors();let u=0;for(;i[u]==s[u]&&i[u];)u++;return u===0?null:i[u-1]}getShiftedBy(e){const i=this.clone(),s=i.offset+e;return i.offset=s<0?0:s,i}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const i=Math.min(this.path.length,e.path.length);for(let s=0;s<i;s++){const u=this.path[s]-e.path[s];if(u<-1||u>1)return!1;if(u===1)return z2(e,this,s);if(u===-1)return z2(this,e,s)}return this.path.length===e.path.length||(this.path.length>e.path.length?ry(this.path,i):ry(e.path,i))}hasSameParentAs(e){return this.root!==e.root?!1:Me(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let i;switch(e.type){case"insert":i=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":i=this._getTransformedByMoveOperation(e);break;case"split":i=this._getTransformedBySplitOperation(e);break;case"merge":i=this._getTransformedByMergeOperation(e);break;default:i=At._createAt(this)}return i}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const i=e.movedRange;return i.containsPosition(this)||i.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const i=e.movedRange;let s;return i.containsPosition(this)||i.start.isEqual(this)?(s=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(s=s._getTransformedByDeletion(e.deletionPosition,1))):s=this.isEqual(e.deletionPosition)?At._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),s}_getTransformedByDeletion(e,i){const s=At._createAt(this);if(this.root!=e.root)return s;if(Me(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+i>this.offset)return null;s.offset-=i}}else if(Me(e.getParentPath(),this.getParentPath())=="prefix"){const u=e.path.length-1;if(e.offset<=this.path[u]){if(e.offset+i>this.path[u])return null;s.path[u]-=i}}return s}_getTransformedByInsertion(e,i){const s=At._createAt(this);if(this.root!=e.root)return s;if(Me(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(s.offset+=i);else if(Me(e.getParentPath(),this.getParentPath())=="prefix"){const u=e.path.length-1;e.offset<=this.path[u]&&(s.path[u]+=i)}return s}_getTransformedByMove(e,i,s){if(i=i._getTransformedByDeletion(e,s),e.isEqual(i))return At._createAt(this);const u=this._getTransformedByDeletion(e,s);return u===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(s).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,i):u._getTransformedByInsertion(i,s)}_getCombined(e,i){const s=e.path.length-1,u=At._createAt(i);return u.stickiness=this.stickiness,u.offset=u.offset+this.path[s]-e.offset,u.path=[...u.path,...this.path.slice(s+1)],u}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,i,s="toNone"){if(e instanceof At)return new At(e.root,e.path,e.stickiness);{const u=e;if(i=="end")i=u.maxOffset;else{if(i=="before")return this._createBefore(u,s);if(i=="after")return this._createAfter(u,s);if(i!==0&&!i)throw new M("model-createpositionat-offset-required",[this,e])}if(!u.is("element")&&!u.is("documentFragment"))throw new M("model-position-parent-incorrect",[this,e]);const f=u.getPath();return f.push(i),new this(u.root,f,s)}}static _createAfter(e,i){if(!e.parent)throw new M("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,i)}static _createBefore(e,i){if(!e.parent)throw new M("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,i)}static fromJSON(e,i){if(e.root==="$graveyard"){const s=new At(i.graveyard,e.path);return s.stickiness=e.stickiness,s}if(!i.getRoot(e.root))throw new M("model-position-fromjson-no-root",i,{rootName:e.root});return new At(i.getRoot(e.root),e.path,e.stickiness)}}function _m(c,e){const i=e.getChild(e.offsetToIndex(c.offset));return i&&i.is("$text")&&i.startOffset<c.offset?i:null}function B2(c,e,i){return i!==null?null:e.getChild(e.offsetToIndex(c.offset))}function F2(c,e,i){return i!==null?null:e.getChild(e.offsetToIndex(c.offset)-1)}function z2(c,e,i){return i+1!==c.path.length&&!!ry(e.path,i+1)&&!!function(s,u){let f=s.parent,m=s.path.length-1,w=0;for(;m>=u;){if(s.path[m]+w!==f.maxOffset)return!1;w=1,m--,f=f.parent}return!0}(c,i+1)}function ry(c,e){for(;e<c.length;){if(c[e]!==0)return!1;e++}return!0}At.prototype.is=function(c){return c==="position"||c==="model:position"};class it extends Uu{constructor(e,i){super(),this.start=At._createAt(e),this.end=i?At._createAt(i):At._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Uc({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Me(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const s=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),u=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return s&&u}containsItem(e){const i=At._createBefore(e);return this.containsPosition(i)||this.start.isEqual(i)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new it(this.start,e.start)),this.containsPosition(e.end)&&i.push(new it(e.end,this.end))):i.push(new it(this.start,this.end)),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,s=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(s=e.end),new it(i,s)}return null}getJoined(e,i=!1){let s=this.isIntersecting(e);if(s||(s=this.start.isBefore(e.start)?i?this.end.isTouching(e.start):this.end.isEqual(e.start):i?e.end.isTouching(this.start):e.end.isEqual(this.start)),!s)return null;let u=this.start,f=this.end;return e.start.isBefore(u)&&(u=e.start),e.end.isAfter(f)&&(f=e.end),new it(u,f)}getMinimalFlatRanges(){const e=[],i=this.start.getCommonPath(this.end).length,s=At._createAt(this.start);let u=s.parent;for(;s.path.length>i+1;){const f=u.maxOffset-s.offset;f!==0&&e.push(new it(s,s.getShiftedBy(f))),s.path=s.path.slice(0,-1),s.offset++,u=u.parent}for(;s.path.length<=this.end.path.length;){const f=this.end.path[s.path.length-1],m=f-s.offset;m!==0&&e.push(new it(s,s.getShiftedBy(m))),s.offset=f,s.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Uc(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new Uc(e);for(const s of i)yield s.item}*getPositions(e={}){e.boundaries=this;const i=new Uc(e);yield i.position;for(const s of i)yield s.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new it(this.start,this.end)]}getTransformedByOperations(e){const i=[new it(this.start,this.end)];for(const s of e)for(let u=0;u<i.length;u++){const f=i[u].getTransformedByOperation(s);i.splice(u,1,...f),u+=f.length-1}for(let s=0;s<i.length;s++){const u=i[s];for(let f=s+1;f<i.length;f++){const m=i[f];(u.containsRange(m)||m.containsRange(u)||u.isEqual(m))&&i.splice(f,1)}}return i}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,i=this.end.nodeBefore;return e&&e.is("element")&&e===i?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,i=!1){return this._getTransformedByInsertion(e.position,e.howMany,i)}_getTransformedByMoveOperation(e,i=!1){const s=e.sourcePosition,u=e.howMany,f=e.targetPosition;return this._getTransformedByMove(s,f,u,i)}_getTransformedBySplitOperation(e){const i=this.start._getTransformedBySplitOperation(e);let s=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(s=this.end.getShiftedBy(1)),i.root!=s.root&&(s=this.end.getShiftedBy(-1)),new it(i,s)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new it(this.start);let i=this.start._getTransformedByMergeOperation(e),s=this.end._getTransformedByMergeOperation(e);return i.root!=s.root&&(s=this.end.getShiftedBy(-1)),i.isAfter(s)?(e.sourcePosition.isBefore(e.targetPosition)?(i=At._createAt(s),i.offset=0):(e.deletionPosition.isEqual(i)||(s=e.deletionPosition),i=e.targetPosition),new it(i,s)):new it(i,s)}_getTransformedByInsertion(e,i,s=!1){if(s&&this.containsPosition(e))return[new it(this.start,e),new it(e.getShiftedBy(i),this.end._getTransformedByInsertion(e,i))];{const u=new it(this.start,this.end);return u.start=u.start._getTransformedByInsertion(e,i),u.end=u.end._getTransformedByInsertion(e,i),[u]}}_getTransformedByMove(e,i,s,u=!1){if(this.isCollapsed){const O=this.start._getTransformedByMove(e,i,s);return[new it(O)]}const f=it._createFromPositionAndShift(e,s),m=i._getTransformedByDeletion(e,s);if(this.containsPosition(i)&&!u&&(f.containsPosition(this.start)||f.containsPosition(this.end))){const O=this.start._getTransformedByMove(e,i,s),U=this.end._getTransformedByMove(e,i,s);return[new it(O,U)]}let w;const _=this.getDifference(f);let E=null;const T=this.getIntersection(f);if(_.length==1?E=new it(_[0].start._getTransformedByDeletion(e,s),_[0].end._getTransformedByDeletion(e,s)):_.length==2&&(E=new it(this.start,this.end._getTransformedByDeletion(e,s))),w=E?E._getTransformedByInsertion(m,s,T!==null||u):[],T){const O=new it(T.start._getCombined(f.start,m),T.end._getCombined(f.start,m));w.length==2?w.splice(1,0,O):w.push(O)}return w}_getTransformedByDeletion(e,i){let s=this.start._getTransformedByDeletion(e,i),u=this.end._getTransformedByDeletion(e,i);return s==null&&u==null?null:(s==null&&(s=e),u==null&&(u=e),new it(s,u))}static _createFromPositionAndShift(e,i){const s=e,u=e.getShiftedBy(i);return i>0?new this(s,u):new this(u,s)}static _createIn(e){return new this(At._createAt(e,0),At._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(At._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new M("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const i=e[0];e.sort((f,m)=>f.start.isAfter(m.start)?1:-1);const s=e.indexOf(i),u=new this(i.start,i.end);if(s>0)for(let f=s-1;e[f].end.isEqual(u.start);f++)u.start=At._createAt(e[f].start);for(let f=s+1;f<e.length&&e[f].start.isEqual(u.end);f++)u.end=At._createAt(e[f].end);return u}static fromJSON(e,i){return new this(At.fromJSON(e.start,i),At.fromJSON(e.end,i))}}it.prototype.is=function(c){return c==="range"||c==="model:range"};class U2 extends se(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,i)=>{if(i.viewPosition)return;const s=this._modelToViewMapping.get(i.modelPosition.parent);if(!s)throw new M("mapping-model-position-view-parent-not-found",this,{modelPosition:i.modelPosition});i.viewPosition=this.findPositionIn(s,i.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,i)=>{if(i.modelPosition)return;const s=this.findMappedViewAncestor(i.viewPosition),u=this._viewToModelMapping.get(s),f=this._toModelOffset(i.viewPosition.parent,i.viewPosition.offset,s);i.modelPosition=At._createAt(u,f)},{priority:"low"})}bindElements(e,i){this._modelToViewMapping.set(e,i),this._viewToModelMapping.set(i,e)}unbindViewElement(e,i={}){const s=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const u of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(u);i.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(s)==e&&this._modelToViewMapping.delete(s))}unbindModelElement(e){const i=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(i)==e&&this._viewToModelMapping.delete(i)}bindElementToMarker(e,i){const s=this._markerNameToElements.get(i)||new Set;s.add(e);const u=this._elementToMarkerNames.get(e)||new Set;u.add(i),this._markerNameToElements.set(i,s),this._elementToMarkerNames.set(e,u)}unbindElementFromMarkerName(e,i){const s=this._markerNameToElements.get(i);s&&(s.delete(e),s.size==0&&this._markerNameToElements.delete(i));const u=this._elementToMarkerNames.get(e);u&&(u.delete(i),u.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,i]of this._deferredBindingRemovals)e.root==i&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new it(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Kt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const i={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",i),i.modelPosition}toViewPosition(e,i={}){const s={modelPosition:e,mapper:this,isPhantom:i.isPhantom};return this.fire("modelToViewPosition",s),s.viewPosition}markerNameToElements(e){const i=this._markerNameToElements.get(e);if(!i)return null;const s=new Set;for(const u of i)if(u.is("attributeElement"))for(const f of u.getElementsWithSameId())s.add(f);else s.add(u);return s}registerViewToModelLength(e,i){this._viewToModelLengthCallbacks.set(e,i)}findMappedViewAncestor(e){let i=e.parent;for(;!this._viewToModelMapping.has(i);)i=i.parent;return i}_toModelOffset(e,i,s){if(s!=e)return this._toModelOffset(e.parent,e.index,s)+this._toModelOffset(e,i,e);if(e.is("$text"))return i;let u=0;for(let f=0;f<i;f++)u+=this.getModelLength(e.getChild(f));return u}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let i=0;for(const s of e.getChildren())i+=this.getModelLength(s);return i}}findPositionIn(e,i){let s,u=0,f=0,m=0;if(e.is("$text"))return new Dt(e,i);for(;f<i;)s=e.getChild(m),u=this.getModelLength(s),f+=u,m++;return f==i?this._moveViewPositionToTextNode(new Dt(e,m)):this.findPositionIn(s,i-(f-u))}_moveViewPositionToTextNode(e){const i=e.nodeBefore,s=e.nodeAfter;return i instanceof Sn?new Dt(i,i.data.length):s instanceof Sn?new Dt(s,0):e}}class _B{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,i){i=e0(i),e instanceof il&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(i,!0)}consume(e,i){return i=e0(i),e instanceof il&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,i)&&(this._consumable.get(e).set(i,!1),!0)}test(e,i){i=e0(i),e instanceof il&&(e=this._getSymbolForTextProxy(e));const s=this._consumable.get(e);if(s===void 0)return null;const u=s.get(i);return u===void 0?null:u}revert(e,i){i=e0(i),e instanceof il&&(e=this._getSymbolForTextProxy(e));const s=this.test(e,i);return s===!1?(this._consumable.get(e).set(i,!0),!0):s!==!0&&null}verifyAllConsumed(e){const i=[];for(const[s,u]of this._consumable)for(const[f,m]of u){const w=f.split(":")[0];m&&e==w&&i.push({event:f,item:s.name||s.description})}if(i.length)throw new M("conversion-model-consumable-not-consumed",null,{items:i})}_getSymbolForTextProxy(e){let i=null;const s=this._textProxyRegistry.get(e.startOffset);if(s){const u=s.get(e.endOffset);u&&(i=u.get(e.parent))}return i||(i=this._addSymbolForTextProxy(e)),i}_addSymbolForTextProxy(e){const i=e.startOffset,s=e.endOffset,u=e.parent,f=Symbol("$textProxy:"+e.data);let m,w;return m=this._textProxyRegistry.get(i),m||(m=new Map,this._textProxyRegistry.set(i,m)),w=m.get(s),w||(w=new Map,m.set(s,w)),w.set(u,f),f}}function e0(c){const e=c.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?c:e.length>1?e[0]+":"+e[1]:e[0]}var CB=Object.defineProperty,xB=Object.defineProperties,SB=Object.getOwnPropertyDescriptors,q2=Object.getOwnPropertySymbols,EB=Object.prototype.hasOwnProperty,DB=Object.prototype.propertyIsEnumerable,V2=(c,e,i)=>e in c?CB(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,iy=(c,e)=>{for(var i in e||(e={}))EB.call(e,i)&&V2(c,i,e[i]);if(q2)for(var i of q2(e))DB.call(e,i)&&V2(c,i,e[i]);return c},$2=(c,e)=>xB(c,SB(e));class H2 extends se(){constructor(e){super(),this._conversionApi=iy({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,i,s){const u=this._createConversionApi(s,e.getRefreshedItems());for(const m of e.getMarkersToRemove())this._convertMarkerRemove(m.name,m.range,u);const f=this._reduceChanges(e.getChanges());for(const m of f)m.type==="insert"?this._convertInsert(it._createFromPositionAndShift(m.position,m.length),u):m.type==="reinsert"?this._convertReinsert(it._createFromPositionAndShift(m.position,m.length),u):m.type==="remove"?this._convertRemove(m.position,m.length,m.name,u):this._convertAttribute(m.range,m.attributeKey,m.attributeOldValue,m.attributeNewValue,u);u.mapper.flushDeferredBindings();for(const m of u.mapper.flushUnboundMarkerNames()){const w=i.get(m).getRange();this._convertMarkerRemove(m,w,u),this._convertMarkerAdd(m,w,u)}for(const m of e.getMarkersToAdd())this._convertMarkerAdd(m.name,m.range,u);u.consumable.verifyAllConsumed("insert")}convert(e,i,s,u={}){const f=this._createConversionApi(s,void 0,u);this._convertInsert(e,f);for(const[m,w]of i)this._convertMarkerAdd(m,w,f);f.consumable.verifyAllConsumed("insert")}convertSelection(e,i,s){const u=this._createConversionApi(s);this.fire("cleanSelection",{selection:e},u);const f=e.getFirstPosition().root;if(!u.mapper.toViewElement(f))return;const m=Array.from(i.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(u.consumable,e,m),this.fire("selection",{selection:e},u),e.isCollapsed){for(const w of m)if(u.consumable.test(e,"addMarker:"+w.name)){const _=w.getRange();if(!IB(e.getFirstPosition(),w,u.mapper))continue;const E={item:e,markerName:w.name,markerRange:_};this.fire(`addMarker:${w.name}`,E,u)}for(const w of e.getAttributeKeys())if(u.consumable.test(e,"attribute:"+w)){const _={item:e,range:e.getFirstRange(),attributeKey:w,attributeOldValue:null,attributeNewValue:e.getAttribute(w)};this.fire(`attribute:${w}:$text`,_,u)}}}_convertInsert(e,i,s={}){s.doNotAddConsumables||this._addConsumablesForInsert(i.consumable,e);for(const u of Array.from(e.getWalker({shallow:!0})).map(W2))this._testAndFire("insert",u,i)}_convertRemove(e,i,s,u){this.fire(`remove:${s}`,{position:e,length:i},u)}_convertAttribute(e,i,s,u,f){this._addConsumablesForRange(f.consumable,e,`attribute:${i}`);for(const m of e){const w={item:m.item,range:it._createFromPositionAndShift(m.previousPosition,m.length),attributeKey:i,attributeOldValue:s,attributeNewValue:u};this._testAndFire(`attribute:${i}`,w,f)}}_convertReinsert(e,i){const s=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(i.consumable,s);for(const u of s.map(W2))this._testAndFire("insert",$2(iy({},u),{reconversion:!0}),i)}_convertMarkerAdd(e,i,s){if(i.root.rootName=="$graveyard")return;const u=`addMarker:${e}`;if(s.consumable.add(i,u),this.fire(u,{markerName:e,markerRange:i},s),s.consumable.consume(i,u)){this._addConsumablesForRange(s.consumable,i,u);for(const f of i.getItems()){if(!s.consumable.test(f,u))continue;const m={item:f,range:it._createOn(f),markerName:e,markerRange:i};this.fire(u,m,s)}}}_convertMarkerRemove(e,i,s){i.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:i},s)}_reduceChanges(e){const i={changes:e};return this.fire("reduceChanges",i),i.changes}_addConsumablesForInsert(e,i){for(const s of i){const u=s.item;if(e.test(u,"insert")===null){e.add(u,"insert");for(const f of u.getAttributeKeys())e.add(u,"attribute:"+f)}}return e}_addConsumablesForRange(e,i,s){for(const u of i.getItems())e.add(u,s);return e}_addConsumablesForSelection(e,i,s){e.add(i,"selection");for(const u of s)e.add(i,"addMarker:"+u.name);for(const u of i.getAttributeKeys())e.add(i,"attribute:"+u);return e}_testAndFire(e,i,s){const u=function(_,E){const T=E.item.is("element")?E.item.name:"$text";return`${_}:${T}`}(e,i),f=i.item.is("$textProxy")?s.consumable._getSymbolForTextProxy(i.item):i.item,m=this._firedEventsMap.get(s),w=m.get(f);if(w){if(w.has(u))return;w.add(u)}else m.set(f,new Set([u]));this.fire(u,i,s)}_testAndFireAddAttributes(e,i){const s={item:e,range:it._createOn(e)};for(const u of s.item.getAttributeKeys())s.attributeKey=u,s.attributeOldValue=null,s.attributeNewValue=s.item.getAttribute(u),this._testAndFire(`attribute:${u}`,s,i)}_createConversionApi(e,i=new Set,s={}){const u=$2(iy({},this._conversionApi),{consumable:new _B,writer:e,options:s,convertItem:f=>this._convertInsert(it._createOn(f),u),convertChildren:f=>this._convertInsert(it._createIn(f),u,{doNotAddConsumables:!0}),convertAttributes:f=>this._testAndFireAddAttributes(f,u),canReuseView:f=>!i.has(u.mapper.toModelElement(f))});return this._firedEventsMap.set(u,new Map),u}}function IB(c,e,i){const s=e.getRange(),u=Array.from(c.getAncestors());return u.shift(),u.reverse(),!u.some(f=>{if(s.containsItem(f))return!!i.toViewElement(f).getCustomProperty("addHighlight")})}function W2(c){return{item:c.item,range:it._createFromPositionAndShift(c.previousPosition,c.length)}}class Us extends se(Uu){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let s=!1;for(const u of e._ranges)if(i.isEqual(u)){s=!0;break}if(!s)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new it(e.start,e.end)}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?new it(e.start,e.end):null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?new it(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[i,s,u]=e;if(typeof s=="object"&&(u=s,s=void 0),i===null)this._setRanges([]);else if(i instanceof Us)this._setRanges(i.getRanges(),i.isBackward);else if(i&&typeof i.getRanges=="function")this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof it)this._setRanges([i],!!u&&!!u.backward);else if(i instanceof At)this._setRanges([new it(i)]);else if(i instanceof Zd){const f=!!u&&!!u.backward;let m;if(s=="in")m=it._createIn(i);else if(s=="on")m=it._createOn(i);else{if(s===void 0)throw new M("model-selection-setto-required-second-parameter",[this,i]);m=new it(At._createAt(i,s))}this._setRanges([m],f)}else{if(!De(i))throw new M("model-selection-setto-not-selectable",[this,i]);this._setRanges(i,u&&!!u.backward)}}_setRanges(e,i=!1){const s=Array.from(e),u=s.some(f=>{if(!(f instanceof it))throw new M("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(m=>!m.isEqual(f))});(s.length!==this._ranges.length||u)&&(this._replaceAllRanges(s),this._lastRangeBackward=!!i,this.fire("change:range",{directChange:!0}))}setFocus(e,i){if(this.anchor===null)throw new M("model-selection-setfocus-no-ranges",[this,e]);const s=At._createAt(e,i);if(s.compareWith(this.focus)=="same")return;const u=this.anchor;this._ranges.length&&this._popRange(),s.compareWith(u)=="before"?(this._pushRange(new it(s,u)),this._lastRangeBackward=!0):(this._pushRange(new it(u,s)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,i){this.getAttribute(e)!==i&&(this._attrs.set(e,i),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const i of this.getRanges()){const s=Y2(i.start,e);NB(s,i)&&(yield s);for(const f of i.getWalker()){const m=f.item;f.type=="elementEnd"&&TB(m,e,i)&&(yield m)}const u=Y2(i.end,e);MB(u,i)&&(yield u)}}containsEntireContent(e=this.anchor.root){const i=At._createAt(e,0),s=At._createAt(e,"end");return i.isTouching(this.getFirstPosition())&&s.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new it(e.start,e.end))}_checkRange(e){for(let i=0;i<this._ranges.length;i++)if(e.isIntersecting(this._ranges[i]))throw new M("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[i]})}_replaceAllRanges(e){this._removeAllRanges();for(const i of e)this._pushRange(i)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function G2(c,e){return!e.has(c)&&(e.add(c),c.root.document.model.schema.isBlock(c)&&!!c.parent)}function TB(c,e,i){return G2(c,e)&&oy(c,i)}function Y2(c,e){const i=c.parent.root.document.model.schema,s=c.parent.getAncestors({parentFirst:!0,includeSelf:!0});let u=!1;const f=s.find(m=>!u&&(u=i.isLimit(m),!u&&G2(m,e)));return s.forEach(m=>e.add(m)),f}function oy(c,e){const i=function(s){const u=s.root.document.model.schema;let f=s.parent;for(;f;){if(u.isBlock(f))return f;f=f.parent}}(c);return i?!e.containsRange(it._createOn(i),!0):!0}function NB(c,e){return!!c&&(!(!e.isCollapsed&&!c.isEmpty)||!e.start.isTouching(At._createAt(c,c.maxOffset))&&oy(c,e))}function MB(c,e){return!!c&&(!(!e.isCollapsed&&!c.isEmpty)||!e.end.isTouching(At._createAt(c,0))&&oy(c,e))}Us.prototype.is=function(c){return c==="selection"||c==="model:selection"};class qs extends se(it){constructor(e,i){super(e,i),PB.call(this)}detach(){this.stopListening()}toRange(){return new it(this.start,this.end)}static fromRange(e){return new qs(e.start,e.end)}}function PB(){this.listenTo(this.root.document.model,"applyOperation",(c,e)=>{const i=e[0];i.isDocumentOperation&&OB.call(this,i)},{priority:"low"})}function OB(c){const e=this.getTransformedByOperation(c),i=it._createFromRanges(e),s=!i.isEqual(this),u=function(m,w){switch(w.type){case"insert":return m.containsPosition(w.position);case"move":case"remove":case"reinsert":case"merge":return m.containsPosition(w.sourcePosition)||m.start.isEqual(w.sourcePosition)||m.containsPosition(w.targetPosition);case"split":return m.containsPosition(w.splitPosition)||m.containsPosition(w.insertionPosition)}return!1}(this,c);let f=null;if(s){i.root.rootName=="$graveyard"&&(f=c.type=="remove"?c.sourcePosition:c.deletionPosition);const m=this.toRange();this.start=i.start,this.end=i.end,this.fire("change:range",m,{deletionPosition:f})}else u&&this.fire("change:content",this.toRange(),{deletionPosition:f})}qs.prototype.is=function(c){return c==="liveRange"||c==="model:liveRange"||c=="range"||c==="model:range"};const t0="selection:";class ol extends se(Uu){constructor(e){super(),this._selection=new jB(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,i){this._selection.setFocus(e,i)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,i){this._selection.setAttribute(e,i)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return t0+e}static _isStoreAttributeKey(e){return e.startsWith(t0)}}ol.prototype.is=function(c){return c==="selection"||c=="model:selection"||c=="documentSelection"||c=="model:documentSelection"};class jB extends Us{constructor(e){super(),this.markers=new Fs({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(i,s)=>{const u=s[0];u.isDocumentOperation&&u.type!="marker"&&u.type!="rename"&&u.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(i,s,u,f)=>{this._updateMarker(s,f)}),this.listenTo(this._document,"change",(i,s)=>{(function(u,f){const m=u.document.differ;for(const w of m.getChanges()){if(w.type!="insert")continue;const _=w.position.parent;w.length===_.maxOffset&&u.enqueueChange(f,E=>{const T=Array.from(_.getAttributeKeys()).filter(O=>O.startsWith(t0));for(const O of T)E.removeAttribute(O,_)})}})(this._model,s)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,i){super.setFocus(e,i),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,i){if(this._setAttribute(e,i)){const s=[e];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}overrideGravity(){const e=P();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new M("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const i=this._prepareRange(e);i&&this._ranges.push(i)}_validateSelectionRanges(e){for(const i of e)if(!this._document._validateSelectionRange(i))throw new M("document-selection-wrong-position",this,{range:i})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const i=qs.fromRange(e);return i.on("change:range",(s,u,f)=>{if(this._hasChangedRange=!0,i.root==this._document.graveyard){this._selectionRestorePosition=f.deletionPosition;const m=this._ranges.indexOf(i);this._ranges.splice(m,1),i.detach()}}),i}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let i=!1;for(const u of this._model.markers){const f=u.name.split(":",1)[0];if(!this._observedMarkers.has(f))continue;const m=u.getRange();for(const w of this.getRanges())m.containsRange(w,!w.isCollapsed)&&e.push(u)}const s=Array.from(this.markers);for(const u of e)this.markers.has(u)||(this.markers.add(u),i=!0);for(const u of Array.from(this.markers))e.includes(u)||(this.markers.remove(u),i=!0);i&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateMarker(e,i){const s=e.name.split(":",1)[0];if(!this._observedMarkers.has(s))return;let u=!1;const f=Array.from(this.markers),m=this.markers.has(e);if(i){let w=!1;for(const _ of this.getRanges())if(i.containsRange(_,!_.isCollapsed)){w=!0;break}w&&!m?(this.markers.add(e),u=!0):!w&&m&&(this.markers.remove(e),u=!0)}else m&&(this.markers.remove(e),u=!0);u&&this.fire("change:marker",{oldMarkers:f,directChange:!1})}_updateAttributes(e){const i=_a(this._getSurroundingAttributes()),s=_a(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[f,m]of this._attributePriority)m=="low"&&(this._attrs.delete(f),this._attributePriority.delete(f));this._setAttributesTo(i);const u=[];for(const[f,m]of this.getAttributes())s.has(f)&&s.get(f)===m||u.push(f);for(const[f]of s)this.hasAttribute(f)||u.push(f);u.length>0&&this.fire("change:attribute",{attributeKeys:u,directChange:!1})}_setAttribute(e,i,s=!0){const u=s?"normal":"low";return u=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==i&&(this._attrs.set(e,i),this._attributePriority.set(e,u),!0)}_removeAttribute(e,i=!0){const s=i?"normal":"low";return(s!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,s),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const i=new Set;for(const[s,u]of this.getAttributes())e.get(s)!==u&&this._removeAttribute(s,!1);for(const[s,u]of e)this._setAttribute(s,u,!1)&&i.add(s);return i}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const i of e.getAttributeKeys())i.startsWith(t0)&&(yield[i.substr(10),e.getAttribute(i)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),i=this._model.schema;if(e.root.rootName=="$graveyard")return null;let s=null;if(this.isCollapsed){const u=e.textNode?e.textNode:e.nodeBefore,f=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(s=Cm(u,i)),s||(s=Cm(f,i)),!this.isGravityOverridden&&!s){let m=u;for(;m&&!s;)m=m.previousSibling,s=Cm(m,i)}if(!s){let m=f;for(;m&&!s;)m=m.nextSibling,s=Cm(m,i)}s||(s=this.getStoredAttributes())}else{const u=this.getFirstRange();for(const f of u){if(f.item.is("element")&&i.isObject(f.item)){s=Cm(f.item,i);break}if(f.type=="text"){s=f.item.getAttributes();break}}}return s}_fixGraveyardSelection(e){const i=this._model.schema.getNearestSelectionRange(e);i&&this._pushRange(i)}}function Cm(c,e){if(!c)return null;if(c instanceof il||c instanceof br)return c.getAttributes();if(!e.isInline(c))return null;if(!e.isObject(c))return[];const i=[];for(const[s,u]of c.getAttributes())e.checkAttribute("$text",s)&&e.getAttributeProperties(s).copyFromObject!==!1&&i.push([s,u]);return i}class K2{constructor(e){this._dispatchers=e}add(e){for(const i of this._dispatchers)e(i);return this}}class LB extends K2{elementToElement(e){return this.add(function(i){const s=Z2(i.model),u=xm(i.view,"container");return s.attributes.length&&(s.children=!0),f=>{f.on(`insert:${s.name}`,BB(u,nx(s)),{priority:i.converterPriority||"normal"}),(s.children||s.attributes.length)&&f.on("reduceChanges",tx(s),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(i){const s=Z2(i.model),u=xm(i.view,"container");return s.children=!0,f=>{if(f._conversionApi.schema.checkChild(s.name,"$text"))throw new M("conversion-element-to-structure-disallowed-text",f,{elementName:s.name});var m,w;f.on(`insert:${s.name}`,(m=u,w=nx(s),(_,E,T)=>{if(!w(E.item,T.consumable,{preflight:!0}))return;const O=new Map;T.writer._registerSlotFactory(function(ee,oe,ke){return(Se,Le)=>{const tt=Se.createContainerElement("$slot");let ft=null;if(Le==="children")ft=Array.from(ee.getChildren());else{if(typeof Le!="function")throw new M("conversion-slot-mode-unknown",ke.dispatcher,{modeOrFilter:Le});ft=Array.from(ee.getChildren()).filter(Mt=>Le(Mt))}return oe.set(tt,ft),tt}}(E.item,O,T));const U=m(E.item,T,E);if(T.writer._clearSlotFactory(),!U)return;(function(ee,oe,ke){const Se=Array.from(oe.values()).flat(),Le=new Set(Se);if(Le.size!=Se.length)throw new M("conversion-slot-filter-overlap",ke.dispatcher,{element:ee});if(Le.size!=ee.childCount)throw new M("conversion-slot-filter-incomplete",ke.dispatcher,{element:ee})})(E.item,O,T),w(E.item,T.consumable);const K=T.mapper.toViewPosition(E.range.start);T.mapper.bindElements(E.item,U),T.writer.insert(K,U),T.convertAttributes(E.item),function(ee,oe,ke,Se){ke.mapper.on("modelToViewPosition",ft,{priority:"highest"});let Le=null,tt=null;for([Le,tt]of oe)rx(ee,tt,ke,Se),ke.writer.move(ke.writer.createRangeIn(Le),ke.writer.createPositionBefore(Le)),ke.writer.remove(Le);function ft(Mt,nn){const kn=nn.modelPosition.nodeAfter,xr=tt.indexOf(kn);xr<0||(nn.viewPosition=nn.mapper.findPositionIn(Le,xr))}ke.mapper.off("modelToViewPosition",ft)}(U,O,T,{reconversion:E.reconversion})}),{priority:i.converterPriority||"normal"}),f.on("reduceChanges",tx(s),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(i){i=rl(i);let s=i.model;typeof s=="string"&&(s={key:s});let u=`attribute:${s.key}`;if(s.name&&(u+=":"+s.name),s.values)for(const m of s.values)i.view[m]=xm(i.view[m],"attribute");else i.view=xm(i.view,"attribute");const f=X2(i);return m=>{m.on(u,RB(f),{priority:i.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(i){i=rl(i);let s=i.model;typeof s=="string"&&(s={key:s});let u=`attribute:${s.key}`;if(s.name&&(u+=":"+s.name),s.values)for(const m of s.values)i.view[m]=ex(i.view[m]);else i.view=ex(i.view);const f=X2(i);return m=>{var w;m.on(u,(w=f,(_,E,T)=>{if(!T.consumable.test(E.item,_.name))return;const O=w(E.attributeOldValue,T,E),U=w(E.attributeNewValue,T,E);if(!O&&!U)return;T.consumable.consume(E.item,_.name);const K=T.mapper.toViewElement(E.item),ee=T.writer;if(!K)throw new M("conversion-attribute-to-attribute-on-text",T.dispatcher,E);if(E.attributeOldValue!==null&&O)if(O.key=="class"){const oe=typeof O.value=="string"?O.value.split(/\s+/):O.value;for(const ke of oe)ee.removeClass(ke,K)}else if(O.key=="style")if(typeof O.value=="string"){const oe=new bm(ee.document.stylesProcessor);oe.setTo(O.value);for(const[ke]of oe.getStylesEntries())ee.removeStyle(ke,K)}else{const oe=Object.keys(O.value);for(const ke of oe)ee.removeStyle(ke,K)}else ee.removeAttribute(O.key,K);if(E.attributeNewValue!==null&&U)if(U.key=="class"){const oe=typeof U.value=="string"?U.value.split(/\s+/):U.value;for(const ke of oe)ee.addClass(ke,K)}else if(U.key=="style")if(typeof U.value=="string"){const oe=new bm(ee.document.stylesProcessor);oe.setTo(U.value);for(const[ke,Se]of oe.getStylesEntries())ee.setStyle(ke,Se,K)}else{const oe=Object.keys(U.value);for(const ke of oe)ee.setStyle(ke,U.value[ke],K)}else ee.setAttribute(U.key,U.value,K)}),{priority:i.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(i){const s=xm(i.view,"ui");return u=>{u.on(`addMarker:${i.model}`,FB(s),{priority:i.converterPriority||"normal"}),u.on(`removeMarker:${i.model}`,(f,m,w)=>{const _=w.mapper.markerNameToElements(m.markerName);if(_){for(const E of _)w.mapper.unbindElementFromMarkerName(E,m.markerName),w.writer.clear(w.writer.createRangeOn(E),E);w.writer.clearClonedElementsGroup(m.markerName),f.stop()}},{priority:i.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(i){return s=>{var u;s.on(`addMarker:${i.model}`,(u=i.view,(f,m,w)=>{if(!m.item||!(m.item instanceof Us||m.item instanceof ol||m.item.is("$textProxy")))return;const _=sy(u,m,w);if(!_||!w.consumable.consume(m.item,f.name))return;const E=w.writer,T=Q2(E,_),O=E.document.selection;if(m.item instanceof Us||m.item instanceof ol)E.wrap(O.getFirstRange(),T);else{const U=w.mapper.toViewRange(m.range),K=E.wrap(U,T);for(const ee of K.getItems())if(ee.is("attributeElement")&&ee.isSimilar(T)){w.mapper.bindElementToMarker(ee,m.markerName);break}}}),{priority:i.converterPriority||"normal"}),s.on(`addMarker:${i.model}`,function(f){return(m,w,_)=>{if(!w.item||!(w.item instanceof lr))return;const E=sy(f,w,_);if(!E||!_.consumable.test(w.item,m.name))return;const T=_.mapper.toViewElement(w.item);if(T&&T.getCustomProperty("addHighlight")){_.consumable.consume(w.item,m.name);for(const O of it._createIn(w.item))_.consumable.consume(O.item,m.name);T.getCustomProperty("addHighlight")(T,E,_.writer),_.mapper.bindElementToMarker(T,w.markerName)}}}(i.view),{priority:i.converterPriority||"normal"}),s.on(`removeMarker:${i.model}`,function(f){return(m,w,_)=>{if(w.markerRange.isCollapsed)return;const E=sy(f,w,_);if(!E)return;const T=Q2(_.writer,E),O=_.mapper.markerNameToElements(w.markerName);if(O){for(const U of O)_.mapper.unbindElementFromMarkerName(U,w.markerName),U.is("attributeElement")?_.writer.unwrap(_.writer.createRangeOn(U),T):U.getCustomProperty("removeHighlight")(U,E.id,_.writer);_.writer.clearClonedElementsGroup(w.markerName),m.stop()}}}(i.view),{priority:i.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(i){i=rl(i);const s=i.model;let u=i.view;return u||(u=f=>({group:s,name:f.substr(i.model.length+1)})),f=>{var m;f.on(`addMarker:${s}`,(m=u,(w,_,E)=>{const T=m(_.markerName,E);if(!T)return;const O=_.markerRange;E.consumable.consume(O,w.name)&&(J2(O,!1,E,_,T),J2(O,!0,E,_,T),w.stop())}),{priority:i.converterPriority||"normal"}),f.on(`removeMarker:${s}`,function(w){return(_,E,T)=>{const O=w(E.markerName,T);if(!O)return;const U=T.mapper.markerNameToElements(E.markerName);if(U){for(const ee of U)T.mapper.unbindElementFromMarkerName(ee,E.markerName),ee.is("containerElement")?(K(`data-${O.group}-start-before`,ee),K(`data-${O.group}-start-after`,ee),K(`data-${O.group}-end-before`,ee),K(`data-${O.group}-end-after`,ee)):T.writer.clear(T.writer.createRangeOn(ee),ee);T.writer.clearClonedElementsGroup(E.markerName),_.stop()}function K(ee,oe){if(oe.hasAttribute(ee)){const ke=new Set(oe.getAttribute(ee).split(","));ke.delete(O.name),ke.size==0?T.writer.removeAttribute(ee,oe):T.writer.setAttribute(ee,Array.from(ke).join(","),oe)}}}}(u),{priority:i.converterPriority||"normal"})}}(e))}}function Q2(c,e){const i=c.createAttributeElement("span",e.attributes);return e.classes&&i._addClass(e.classes),typeof e.priority=="number"&&(i._priority=e.priority),i._id=e.id,i}function RB(c){return(e,i,s)=>{if(!s.consumable.test(i.item,e.name))return;const u=c(i.attributeOldValue,s,i),f=c(i.attributeNewValue,s,i);if(!u&&!f)return;s.consumable.consume(i.item,e.name);const m=s.writer,w=m.document.selection;if(i.item instanceof Us||i.item instanceof ol)m.wrap(w.getFirstRange(),f);else{let _=s.mapper.toViewRange(i.range);i.attributeOldValue!==null&&u&&(_=m.unwrap(_,u)),i.attributeNewValue!==null&&f&&m.wrap(_,f)}}}function BB(c,e=UB){return(i,s,u)=>{if(!e(s.item,u.consumable,{preflight:!0}))return;const f=c(s.item,u,s);if(!f)return;e(s.item,u.consumable);const m=u.mapper.toViewPosition(s.range.start);u.mapper.bindElements(s.item,f),u.writer.insert(m,f),u.convertAttributes(s.item),rx(f,s.item.getChildren(),u,{reconversion:s.reconversion})}}function FB(c){return(e,i,s)=>{i.isOpening=!0;const u=c(i,s);i.isOpening=!1;const f=c(i,s);if(!u||!f)return;const m=i.markerRange;if(m.isCollapsed&&!s.consumable.consume(m,e.name))return;for(const E of m)if(!s.consumable.consume(E.item,e.name))return;const w=s.mapper,_=s.writer;_.insert(w.toViewPosition(m.start),u),s.mapper.bindElementToMarker(u,i.markerName),m.isCollapsed||(_.insert(w.toViewPosition(m.end),f),s.mapper.bindElementToMarker(f,i.markerName)),e.stop()}}function J2(c,e,i,s,u){const f=e?c.start:c.end,m=f.nodeAfter&&f.nodeAfter.is("element")?f.nodeAfter:null,w=f.nodeBefore&&f.nodeBefore.is("element")?f.nodeBefore:null;if(m||w){let _,E;e&&m||!e&&!w?(_=m,E=!0):(_=w,E=!1);const T=i.mapper.toViewElement(_);if(T)return void function(O,U,K,ee,oe,ke){const Se=`data-${ke.group}-${U?"start":"end"}-${K?"before":"after"}`,Le=O.hasAttribute(Se)?O.getAttribute(Se).split(","):[];Le.unshift(ke.name),ee.writer.setAttribute(Se,Le.join(","),O),ee.mapper.bindElementToMarker(O,oe.markerName)}(T,e,E,i,s,u)}(function(_,E,T,O,U){const K=`${U.group}-${E?"start":"end"}`,ee=U.name?{name:U.name}:null,oe=T.writer.createUIElement(K,ee);T.writer.insert(_,oe),T.mapper.bindElementToMarker(oe,O.markerName)})(i.mapper.toViewPosition(f),e,i,s,u)}function Z2(c){return typeof c=="string"&&(c={name:c}),{name:c.name,attributes:c.attributes?ir(c.attributes):[],children:!!c.children}}function xm(c,e){return typeof c=="function"?c:(i,s)=>function(u,f,m){typeof u=="string"&&(u={name:u});let w;const _=f.writer,E=Object.assign({},u.attributes);if(m=="container")w=_.createContainerElement(u.name,E);else if(m=="attribute"){const T={priority:u.priority||Qd.DEFAULT_PRIORITY};w=_.createAttributeElement(u.name,E,T)}else w=_.createUIElement(u.name,E);if(u.styles){const T=Object.keys(u.styles);for(const O of T)_.setStyle(O,u.styles[O],w)}if(u.classes){const T=u.classes;if(typeof T=="string")_.addClass(T,w);else for(const O of T)_.addClass(O,w)}return w}(c,s,e)}function X2(c){return c.model.values?(e,i,s)=>{const u=c.view[e];return u?u(e,i,s):null}:c.view}function ex(c){return typeof c=="string"?e=>({key:c,value:e}):typeof c=="object"?c.value?()=>c:e=>({key:c.key,value:e}):c}function sy(c,e,i){const s=typeof c=="function"?c(e,i):c;return s?(s.priority||(s.priority=10),s.id||(s.id=e.markerName),s):null}function tx(c){const e=function(i){return(s,u)=>{if(!s.is("element",i.name))return!1;if(u.type=="attribute"){if(i.attributes.includes(u.attributeKey))return!0}else if(i.children)return!0;return!1}}(c);return(i,s)=>{const u=[];s.reconvertedElements||(s.reconvertedElements=new Set);for(const f of s.changes){const m=f.type=="attribute"?f.range.start.nodeAfter:f.position.parent;if(m&&e(m,f)){if(!s.reconvertedElements.has(m)){s.reconvertedElements.add(m);const w=At._createBefore(m);let _=u.length;for(let E=u.length-1;E>=0;E--){const T=u[E],O=(T.type=="attribute"?T.range.start:T.position).compareWith(w);if(O=="before"||T.type=="remove"&&O=="same")break;_=E}u.splice(_,0,{type:"remove",name:m.name,position:w,length:1},{type:"reinsert",name:m.name,position:w,length:1})}}else u.push(f)}s.changes=u}}function nx(c){return(e,i,s={})=>{const u=["insert"];for(const f of c.attributes)e.hasAttribute(f)&&u.push(`attribute:${f}`);return!!u.every(f=>i.test(e,f))&&(s.preflight||u.forEach(f=>i.consume(e,f)),!0)}}function rx(c,e,i,s){for(const u of e)zB(c.root,u,i,s)||i.convertItem(u)}function zB(c,e,i,s){const{writer:u,mapper:f}=i;if(!s.reconversion)return!1;const m=f.toViewElement(e);return!(!m||m.root==c)&&!!i.canReuseView(m)&&(u.move(u.createRangeOn(m),f.toViewPosition(At._createBefore(e))),!0)}function UB(c,e,{preflight:i}={}){return i?e.test(c,"insert"):e.consume(c,"insert")}function ix(c){const{schema:e,document:i}=c.model;for(const s of i.getRoots())if(s.isEmpty&&!e.checkChild(s,"$text")&&e.checkChild(s,"paragraph"))return c.insertElement("paragraph",s),!0;return!1}function ox(c,e,i){const s=i.createContext(c);return!!i.checkChild(s,"paragraph")&&!!i.checkChild(s.push("paragraph"),e)}function sx(c,e){const i=e.createElement("paragraph");return e.insert(i,c),e.createPositionAt(i,0)}var qB=Object.defineProperty,VB=Object.defineProperties,$B=Object.getOwnPropertyDescriptors,ax=Object.getOwnPropertySymbols,HB=Object.prototype.hasOwnProperty,WB=Object.prototype.propertyIsEnumerable,lx=(c,e,i)=>e in c?qB(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class GB extends K2{elementToElement(e){return this.add(cx(e))}elementToAttribute(e){return this.add(function(i){i=rl(i),ux(i);const s=dx(i,!1),u=ay(i.view),f=u?`element:${u}`:"element";return m=>{m.on(f,s,{priority:i.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(i){i=rl(i);let s=null;(typeof i.view=="string"||i.view.key)&&(s=function(f){typeof f.view=="string"&&(f.view={key:f.view});const m=f.view.key,w=f.view.value===void 0?/[\s\S]*/:f.view.value;let _;return m=="class"||m=="style"?_={[m=="class"?"classes":"styles"]:w}:_={attributes:{[m]:w}},f.view.name&&(_.name=f.view.name),f.view=_,m}(i)),ux(i,s);const u=dx(i,!0);return f=>{f.on("element",u,{priority:i.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(i){const s=function(m){return(w,_)=>{const E=typeof m=="string"?m:m(w,_);return _.writer.createElement("$marker",{"data-name":E})}}(i.model);return cx((u=((m,w)=>{for(var _ in w||(w={}))HB.call(w,_)&&lx(m,_,w[_]);if(ax)for(var _ of ax(w))WB.call(w,_)&&lx(m,_,w[_]);return m})({},i),f={model:s},VB(u,$B(f))));var u,f}(e))}dataToMarker(e){return this.add(function(i){i=rl(i),i.model||(i.model=m=>m?i.view+":"+m:i.view);const s={view:i.view,model:i.model},u=ly(hx(s,"start")),f=ly(hx(s,"end"));return m=>{m.on(`element:${i.view}-start`,u,{priority:i.converterPriority||"normal"}),m.on(`element:${i.view}-end`,f,{priority:i.converterPriority||"normal"});const w=B.low,_=B.highest,E=B.get(i.converterPriority)/_;m.on("element",function(T){return(O,U,K)=>{const ee=`data-${T.view}`;function oe(ke,Se){for(const Le of Se){const tt=T.model(Le,K),ft=K.writer.createElement("$marker",{"data-name":tt});K.writer.insert(ft,ke),U.modelCursor.isEqual(ke)?U.modelCursor=U.modelCursor.getShiftedBy(1):U.modelCursor=U.modelCursor._getTransformedByInsertion(ke,1),U.modelRange=U.modelRange._getTransformedByInsertion(ke,1)[0]}}(K.consumable.test(U.viewItem,{attributes:ee+"-end-after"})||K.consumable.test(U.viewItem,{attributes:ee+"-start-after"})||K.consumable.test(U.viewItem,{attributes:ee+"-end-before"})||K.consumable.test(U.viewItem,{attributes:ee+"-start-before"}))&&(U.modelRange||Object.assign(U,K.convertChildren(U.viewItem,U.modelCursor)),K.consumable.consume(U.viewItem,{attributes:ee+"-end-after"})&&oe(U.modelRange.end,U.viewItem.getAttribute(ee+"-end-after").split(",")),K.consumable.consume(U.viewItem,{attributes:ee+"-start-after"})&&oe(U.modelRange.end,U.viewItem.getAttribute(ee+"-start-after").split(",")),K.consumable.consume(U.viewItem,{attributes:ee+"-end-before"})&&oe(U.modelRange.start,U.viewItem.getAttribute(ee+"-end-before").split(",")),K.consumable.consume(U.viewItem,{attributes:ee+"-start-before"})&&oe(U.modelRange.start,U.viewItem.getAttribute(ee+"-start-before").split(",")))}}(s),{priority:w+E})}}(e))}}function cx(c){const e=ly(c=rl(c)),i=ay(c.view),s=i?`element:${i}`:"element";return u=>{u.on(s,e,{priority:c.converterPriority||"normal"})}}function ay(c){return typeof c=="string"?c:typeof c=="object"&&typeof c.name=="string"?c.name:null}function ly(c){const e=new ko(c.view);return(i,s,u)=>{const f=e.match(s.viewItem);if(!f)return;const m=f.match;if(m.name=!0,!u.consumable.test(s.viewItem,m))return;const w=function(_,E,T){return _ instanceof Function?_(E,T):T.writer.createElement(_)}(c.model,s.viewItem,u);w&&u.safeInsert(w,s.modelCursor)&&(u.consumable.consume(s.viewItem,m),u.convertChildren(s.viewItem,w),u.updateConversionResult(w,s))}}function ux(c,e=null){const i=e===null||(f=>f.getAttribute(e)),s=typeof c.model!="object"?c.model:c.model.key,u=typeof c.model!="object"||c.model.value===void 0?i:c.model.value;c.model={key:s,value:u}}function dx(c,e){const i=new ko(c.view);return(s,u,f)=>{if(!u.modelRange&&e)return;const m=i.match(u.viewItem);if(!m||(function(T,O){const U=typeof T=="function"?T(O):T;return typeof U=="object"&&!ay(U)?!1:!U.classes&&!U.attributes&&!U.styles}(c.view,u.viewItem)?m.match.name=!0:delete m.match.name,!f.consumable.test(u.viewItem,m.match)))return;const w=c.model.key,_=typeof c.model.value=="function"?c.model.value(u.viewItem,f):c.model.value;if(_===null)return;u.modelRange||Object.assign(u,f.convertChildren(u.viewItem,u.modelCursor)),function(T,O,U,K){let ee=!1;for(const oe of Array.from(T.getItems({shallow:U})))K.schema.checkAttribute(oe,O.key)&&(ee=!0,oe.hasAttribute(O.key)||K.writer.setAttribute(O.key,O.value,oe));return ee}(u.modelRange,{key:w,value:_},e,f)&&(f.consumable.test(u.viewItem,{name:!0})&&(m.match.name=!0),f.consumable.consume(u.viewItem,m.match))}}function hx(c,e){return{view:`${c.view}-${e}`,model:(i,s)=>{const u=i.getAttribute("name"),f=c.model(u,s);return s.writer.createElement("$marker",{"data-name":f})}}}function YB(c){c.document.registerPostFixer(e=>function(i,s){const u=s.document.selection,f=s.schema,m=[];let w=!1;for(const _ of u.getRanges()){const E=fx(_,f);E&&!E.isEqual(_)?(m.push(E),w=!0):m.push(_)}return w&&i.setSelection(function(_){const E=[..._],T=new Set;let O=1;for(;O<E.length;){const U=E[O],K=E.slice(0,O);for(const[ee,oe]of K.entries())if(!T.has(ee)){if(U.isEqual(oe))T.add(ee);else if(U.isIntersecting(oe)){T.add(ee),T.add(O);const ke=U.getJoined(oe);E.push(ke)}}O++}return E.filter((U,K)=>!T.has(K))}(m),{backward:u.isBackward}),!1}(e,c))}function fx(c,e){return c.isCollapsed?function(i,s){const u=i.start,f=s.getNearestSelectionRange(u);if(!f){const w=u.getAncestors().reverse().find(_=>s.isObject(_));return w?it._createOn(w):null}if(!f.isCollapsed)return f;const m=f.start;return u.isEqual(m)?null:new it(m)}(c,e):function(i,s){const{start:u,end:f}=i,m=s.checkChild(u,"$text"),w=s.checkChild(f,"$text"),_=s.getLimitElement(u),E=s.getLimitElement(f);if(_===E){if(m&&w)return null;if(function(U,K,ee){const oe=U.nodeAfter&&!ee.isLimit(U.nodeAfter)||ee.checkChild(U,"$text"),ke=K.nodeBefore&&!ee.isLimit(K.nodeBefore)||ee.checkChild(K,"$text");return oe||ke}(u,f,s)){const U=u.nodeAfter&&s.isSelectable(u.nodeAfter)?null:s.getNearestSelectionRange(u,"forward"),K=f.nodeBefore&&s.isSelectable(f.nodeBefore)?null:s.getNearestSelectionRange(f,"backward"),ee=U?U.start:u,oe=K?K.end:f;return new it(ee,oe)}}const T=_&&!_.is("rootElement"),O=E&&!E.is("rootElement");if(T||O){const U=u.nodeAfter&&f.nodeBefore&&u.nodeAfter.parent===f.nodeBefore.parent,K=T&&(!U||!mx(u.nodeAfter,s)),ee=O&&(!U||!mx(f.nodeBefore,s));let oe=u,ke=f;return K&&(oe=At._createBefore(px(_,s))),ee&&(ke=At._createAfter(px(E,s))),new it(oe,ke)}return null}(c,e)}function px(c,e){let i=c,s=i;for(;e.isLimit(s)&&s.parent;)i=s,s=s.parent;return i}function mx(c,e){return c&&e.isSelectable(c)}class KB extends ze(){constructor(e,i){super(),this.model=e,this.view=new AB(i),this.mapper=new U2,this.downcastDispatcher=new H2({mapper:this.mapper,schema:e.schema});const s=this.model.document,u=s.selection,f=this.model.markers;var m,w,_;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(s,"change",()=>{this.view.change(E=>{this.downcastDispatcher.convertChanges(s.differ,f,E),this.downcastDispatcher.convertSelection(u,f,E)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(E,T){return(O,U)=>{const K=U.newSelection,ee=[];for(const ke of K.getRanges())ee.push(T.toModelRange(ke));const oe=E.createSelection(ee,{backward:K.isBackward});oe.isEqual(E.document.selection)||E.change(ke=>{ke.setSelection(oe)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(m=this.mapper,w=this.model.schema,_=this.view,(E,T)=>{if(!_.document.isComposing||b.isAndroid)for(let O=0;O<T.targetRanges.length;O++){const U=T.targetRanges[O],K=m.toModelRange(U),ee=fx(K,w);ee&&!ee.isEqual(K)&&(T.targetRanges[O]=m.toViewRange(ee))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(E,T,O)=>{if(!O.consumable.consume(T.item,E.name))return;const U=O.writer,K=O.mapper.toViewPosition(T.range.start),ee=U.createText(T.item.data);U.insert(K,ee)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(E,T,O)=>{O.convertAttributes(T.item),T.reconversion||!T.item.is("element")||T.item.isEmpty||O.convertChildren(T.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(E,T,O)=>{const U=O.mapper.toViewPosition(T.position),K=T.position.getShiftedBy(T.length),ee=O.mapper.toViewPosition(K,{isPhantom:!0}),oe=O.writer.createRange(U,ee),ke=O.writer.remove(oe.getTrimmed());for(const Se of O.writer.createRangeIn(ke).getItems())O.mapper.unbindViewElement(Se,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(E,T,O)=>{const U=O.writer,K=U.document.selection;for(const ee of K.getRanges())ee.isCollapsed&&ee.end.parent.isAttached()&&O.writer.mergeAttributes(ee.start);U.setSelection(null)}),this.downcastDispatcher.on("selection",(E,T,O)=>{const U=T.selection;if(U.isCollapsed||!O.consumable.consume(U,"selection"))return;const K=[];for(const ee of U.getRanges())K.push(O.mapper.toViewRange(ee));O.writer.setSelection(K,{backward:U.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(E,T,O)=>{const U=T.selection;if(!U.isCollapsed||!O.consumable.consume(U,"selection"))return;const K=O.writer,ee=U.getFirstPosition(),oe=O.mapper.toViewPosition(ee),ke=K.breakAttributes(oe);K.setSelection(ke)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(E=>{if(E.rootName=="$graveyard")return null;const T=new Gd(this.view.document,E.name);return T.rootName=E.rootName,this.mapper.bindElements(E,T),T})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const i=typeof e=="string"?e:e.name,s=this.model.markers.get(i);if(!s)throw new M("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:i});this.model.change(()=>{this.model.markers._refresh(s)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class Sm{constructor(){this._consumables=new Map}add(e,i){let s;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?s=this._consumables.get(e):(s=new QB(e),this._consumables.set(e,s)),s.add(i))}test(e,i){const s=this._consumables.get(e);return s===void 0?null:e.is("$text")||e.is("documentFragment")?s:s.test(i)}consume(e,i){return!!this.test(e,i)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(i),!0)}revert(e,i){const s=this._consumables.get(e);s!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):s.revert(i))}static consumablesFromElement(e){const i={element:e,name:!0,attributes:[],classes:[],styles:[]},s=e.getAttributeKeys();for(const m of s)m!="style"&&m!="class"&&i.attributes.push(m);const u=e.getClassNames();for(const m of u)i.classes.push(m);const f=e.getStyleNames();for(const m of f)i.styles.push(m);return i}static createFrom(e,i){if(i||(i=new Sm),e.is("$text"))return i.add(e),i;e.is("element")&&i.add(e,Sm.consumablesFromElement(e)),e.is("documentFragment")&&i.add(e);for(const s of e.getChildren())i=Sm.createFrom(s,i);return i}}const n0=["attributes","classes","styles"];class QB{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const i of n0)i in e&&this._add(i,e[i])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const i of n0)if(i in e){const s=this._test(i,e[i]);if(s!==!0)return s}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const i of n0)i in e&&this._consume(i,e[i])}revert(e){e.name&&(this._canConsumeName=!0);for(const i of n0)i in e&&this._revert(i,e[i])}_add(e,i){const s=ir(i),u=this._consumables[e];for(const f of s){if(e==="attributes"&&(f==="class"||f==="style"))throw new M("viewconsumable-invalid-attribute",this);if(u.set(f,!0),e==="styles")for(const m of this.element.document.stylesProcessor.getRelatedStyles(f))u.set(m,!0)}}_test(e,i){const s=ir(i),u=this._consumables[e];for(const f of s)if(e!=="attributes"||f!=="class"&&f!=="style"){const m=u.get(f);if(m===void 0)return null;if(!m)return!1}else{const m=f=="class"?"classes":"styles",w=this._test(m,[...this._consumables[m].keys()]);if(w!==!0)return w}return!0}_consume(e,i){const s=ir(i),u=this._consumables[e];for(const f of s)if(e!=="attributes"||f!=="class"&&f!=="style"){if(u.set(f,!1),e=="styles")for(const m of this.element.document.stylesProcessor.getRelatedStyles(f))u.set(m,!1)}else{const m=f=="class"?"classes":"styles";this._consume(m,[...this._consumables[m].keys()])}}_revert(e,i){const s=ir(i),u=this._consumables[e];for(const f of s)if(e!=="attributes"||f!=="class"&&f!=="style")u.get(f)===!1&&u.set(f,!0);else{const m=f=="class"?"classes":"styles";this._revert(m,[...this._consumables[m].keys()])}}}class JB extends ze(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,i)=>{i[0]=new eh(i[0])},{priority:"highest"}),this.on("checkChild",(e,i)=>{i[0]=new eh(i[0]),i[1]=this.getDefinition(i[1])},{priority:"highest"})}register(e,i){if(this._sourceDefinitions[e])throw new M("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},i)],this._clearCache()}extend(e,i){if(!this._sourceDefinitions[e])throw new M("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},i)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let i;return i=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[i]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const i=this.getDefinition(e);return!(!i||!i.isBlock)}isLimit(e){const i=this.getDefinition(e);return!!i&&!(!i.isLimit&&!i.isObject)}isObject(e){const i=this.getDefinition(e);return!!i&&!!(i.isObject||i.isLimit&&i.isSelectable&&i.isContent)}isInline(e){const i=this.getDefinition(e);return!(!i||!i.isInline)}isSelectable(e){const i=this.getDefinition(e);return!!i&&!(!i.isSelectable&&!i.isObject)}isContent(e){const i=this.getDefinition(e);return!!i&&!(!i.isContent&&!i.isObject)}checkChild(e,i){return!!i&&this._checkContextMatch(i,e)}checkAttribute(e,i){const s=this.getDefinition(e.last);return!!s&&s.allowAttributes.includes(i)}checkMerge(e,i){if(e instanceof At){const s=e.nodeBefore,u=e.nodeAfter;if(!(s instanceof lr))throw new M("schema-check-merge-no-element-before",this);if(!(u instanceof lr))throw new M("schema-check-merge-no-element-after",this);return this.checkMerge(s,u)}for(const s of i.getChildren())if(!this.checkChild(e,s))return!1;return!0}addChildCheck(e){this.on("checkChild",(i,[s,u])=>{if(!u)return;const f=e(s,u);typeof f=="boolean"&&(i.stop(),i.return=f)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(i,[s,u])=>{const f=e(s,u);typeof f=="boolean"&&(i.stop(),i.return=f)},{priority:"high"})}setAttributeProperties(e,i){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),i)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let i;for(e instanceof At?i=e.parent:i=(e instanceof it?[e]:Array.from(e.getRanges())).reduce((s,u)=>{const f=u.getCommonAncestor();return s?s.getCommonAncestor(f,{includeSelf:!0}):f},null);!this.isLimit(i)&&i.parent;)i=i.parent;return i}checkAttributeInSelection(e,i){if(e.isCollapsed){const s=[...e.getFirstPosition().getAncestors(),new br("",e.getAttributes())];return this.checkAttribute(s,i)}{const s=e.getRanges();for(const u of s)for(const f of u)if(this.checkAttribute(f.item,i))return!0}return!1}*getValidRanges(e,i){e=function*(s){for(const u of s)yield*u.getMinimalFlatRanges()}(e);for(const s of e)yield*this._getValidRangesForRange(s,i)}getNearestSelectionRange(e,i="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new it(e);let s,u;const f=e.getAncestors().reverse().find(m=>this.isLimit(m))||e.root;i!="both"&&i!="backward"||(s=new Uc({boundaries:it._createIn(f),startPosition:e,direction:"backward"})),i!="both"&&i!="forward"||(u=new Uc({boundaries:it._createIn(f),startPosition:e}));for(const m of function*(w,_){let E=!1;for(;!E;){if(E=!0,w){const T=w.next();T.done||(E=!1,yield{walker:w,value:T.value})}if(_){const T=_.next();T.done||(E=!1,yield{walker:_,value:T.value})}}}(s,u)){const w=m.walker==s?"elementEnd":"elementStart",_=m.value;if(_.type==w&&this.isObject(_.item))return it._createOn(_.item);if(this.checkChild(_.nextPosition,"$text"))return new it(_.nextPosition)}return null}findAllowedParent(e,i){let s=e.parent;for(;s;){if(this.checkChild(s,i))return s;if(this.isLimit(s))return null;s=s.parent}return null}setAllowedAttributes(e,i,s){const u=s.model;for(const[f,m]of Object.entries(i))u.schema.checkAttribute(e,f)&&s.setAttribute(f,m,e)}removeDisallowedAttributes(e,i){for(const s of e)if(s.is("$text"))gx(this,s,i);else{const u=it._createIn(s).getPositions();for(const f of u)gx(this,f.nodeBefore||f.parent,i)}}getAttributesWithProperty(e,i,s){const u={};for(const[f,m]of e.getAttributes()){const w=this.getAttributeProperties(f);w[i]!==void 0&&(s!==void 0&&s!==w[i]||(u[f]=m))}return u}createContext(e){return new eh(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},i=this._sourceDefinitions,s=Object.keys(i);for(const u of s)e[u]=ZB(i[u],u);for(const u of s)XB(e,u);for(const u of s)e7(e,u);for(const u of s)t7(e,u);for(const u of s)n7(e,u),r7(e,u);for(const u of s)i7(e,u),o7(e,u),s7(e,u);this._compiledDefinitions=e}_checkContextMatch(e,i,s=i.length-1){const u=i.getItem(s);if(e.allowIn.includes(u.name)){if(s==0)return!0;{const f=this.getDefinition(u);return this._checkContextMatch(f,i,s-1)}}return!1}*_getValidRangesForRange(e,i){let s=e.start,u=e.start;for(const f of e.getItems({shallow:!0}))f.is("element")&&(yield*this._getValidRangesForRange(it._createIn(f),i)),this.checkAttribute(f,i)||(s.isEqual(u)||(yield new it(s,u)),s=At._createAfter(f)),u=At._createAfter(f);s.isEqual(u)||(yield new it(s,u))}findOptimalInsertionRange(e,i){const s=e.getSelectedElement();if(s&&this.isObject(s)&&!this.isInline(s))return i=="before"||i=="after"?new it(At._createAt(s,i)):it._createOn(s);const u=ji(e.getSelectedBlocks());if(!u)return new it(e.focus);if(u.isEmpty)return new it(At._createAt(u,0));const f=At._createAfter(u);return e.focus.isTouching(f)?new it(f):new it(At._createBefore(u))}}class eh{constructor(e){if(e instanceof eh)return e;let i;i=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=i.map(l7)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const i=new eh([e]);return i._items=[...this._items,...i._items],i}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function ZB(c,e){const i={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(s,u){for(const f of s){const m=Object.keys(f).filter(w=>w.startsWith("is"));for(const w of m)u[w]=!!f[w]}}(c,i),th(c,i,"allowIn"),th(c,i,"allowContentOf"),th(c,i,"allowWhere"),th(c,i,"allowAttributes"),th(c,i,"allowAttributesOf"),th(c,i,"allowChildren"),th(c,i,"inheritTypesFrom"),function(s,u){for(const f of s){const m=f.inheritAllFrom;m&&(u.allowContentOf.push(m),u.allowWhere.push(m),u.allowAttributesOf.push(m),u.inheritTypesFrom.push(m))}}(c,i),i}function XB(c,e){const i=c[e];for(const s of i.allowChildren){const u=c[s];u&&u.allowIn.push(e)}i.allowChildren.length=0}function e7(c,e){for(const i of c[e].allowContentOf)c[i]&&a7(c,i).forEach(s=>{s.allowIn.push(e)});delete c[e].allowContentOf}function t7(c,e){for(const i of c[e].allowWhere){const s=c[i];if(s){const u=s.allowIn;c[e].allowIn.push(...u)}}delete c[e].allowWhere}function n7(c,e){for(const i of c[e].allowAttributesOf){const s=c[i];if(s){const u=s.allowAttributes;c[e].allowAttributes.push(...u)}}delete c[e].allowAttributesOf}function r7(c,e){const i=c[e];for(const s of i.inheritTypesFrom){const u=c[s];if(u){const f=Object.keys(u).filter(m=>m.startsWith("is"));for(const m of f)m in i||(i[m]=u[m])}}delete i.inheritTypesFrom}function i7(c,e){const i=c[e],s=i.allowIn.filter(u=>c[u]);i.allowIn=Array.from(new Set(s))}function o7(c,e){const i=c[e];for(const s of i.allowIn)c[s].allowChildren.push(e)}function s7(c,e){const i=c[e];i.allowAttributes=Array.from(new Set(i.allowAttributes))}function th(c,e,i){for(const s of c){const u=s[i];typeof u=="string"?e[i].push(u):Array.isArray(u)&&e[i].push(...u)}}function a7(c,e){const i=c[e];return(s=c,Object.keys(s).map(u=>s[u])).filter(u=>u.allowIn.includes(i.name));var s}function l7(c){return typeof c=="string"||c.is("documentFragment")?{name:typeof c=="string"?c:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:c.is("element")?c.name:"$text",*getAttributeKeys(){yield*c.getAttributeKeys()},getAttribute:e=>c.getAttribute(e)}}function gx(c,e,i){for(const s of e.getAttributeKeys())c.checkAttribute(e,s)||i.removeAttribute(s,e)}var c7=Object.defineProperty,u7=Object.defineProperties,d7=Object.getOwnPropertyDescriptors,bx=Object.getOwnPropertySymbols,h7=Object.prototype.hasOwnProperty,f7=Object.prototype.propertyIsEnumerable,kx=(c,e,i)=>e in c?c7(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class p7 extends se(){constructor(e){var i;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(i=((s,u)=>{for(var f in u||(u={}))h7.call(u,f)&&kx(s,f,u[f]);if(bx)for(var f of bx(u))f7.call(u,f)&&kx(s,f,u[f]);return s})({},e),u7(i,d7({consumable:null,writer:null,store:null,convertItem:(s,u)=>this._convertItem(s,u),convertChildren:(s,u)=>this._convertChildren(s,u),safeInsert:(s,u)=>this._safeInsert(s,u),updateConversionResult:(s,u)=>this._updateConversionResult(s,u),splitToAllowedParent:(s,u)=>this._splitToAllowedParent(s,u),getSplitParts:s=>this._getSplitParts(s),keepEmptyElement:s=>this._keepEmptyElement(s)})))}convert(e,i,s=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(m,w){let _;for(const E of new eh(m)){const T={};for(const U of E.getAttributeKeys())T[U]=E.getAttribute(U);const O=w.createElement(E.name,T);_&&w.insert(O,_),_=At._createAt(O,0)}return _}(s,i),this.conversionApi.writer=i,this.conversionApi.consumable=Sm.createFrom(e),this.conversionApi.store={};const{modelRange:u}=this._convertItem(e,this._modelCursor),f=i.createDocumentFragment();if(u){this._removeEmptyElements();for(const m of Array.from(this._modelCursor.parent.getChildren()))i.append(m,f);f.markers=function(m,w){const _=new Set,E=new Map,T=it._createIn(m).getItems();for(const O of T)O.is("element","$marker")&&_.add(O);for(const O of _){const U=O.getAttribute("data-name"),K=w.createPositionBefore(O);E.has(U)?E.get(U).end=K.clone():E.set(U,new it(K.clone())),w.remove(O)}return E}(f,i)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,f}_convertItem(e,i){const s={viewItem:e,modelCursor:i,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,s,this.conversionApi):e.is("$text")?this.fire("text",s,this.conversionApi):this.fire("documentFragment",s,this.conversionApi),s.modelRange&&!(s.modelRange instanceof it))throw new M("view-conversion-dispatcher-incorrect-result",this);return{modelRange:s.modelRange,modelCursor:s.modelCursor}}_convertChildren(e,i){let s=i.is("position")?i:At._createAt(i,0);const u=new it(s);for(const f of Array.from(e.getChildren())){const m=this._convertItem(f,s);m.modelRange instanceof it&&(u.end=m.modelRange.end,s=m.modelCursor)}return{modelRange:u,modelCursor:s}}_safeInsert(e,i){const s=this._splitToAllowedParent(e,i);return!!s&&(this.conversionApi.writer.insert(e,s.position),!0)}_updateConversionResult(e,i){const s=this._getSplitParts(e),u=this.conversionApi.writer;i.modelRange||(i.modelRange=u.createRange(u.createPositionBefore(e),u.createPositionAfter(s[s.length-1])));const f=this._cursorParents.get(e);i.modelCursor=f?u.createPositionAt(f,0):i.modelRange.end}_splitToAllowedParent(e,i){const{schema:s,writer:u}=this.conversionApi;let f=s.findAllowedParent(i,e);if(f){if(f===i.parent)return{position:i};this._modelCursor.parent.getAncestors().includes(f)&&(f=null)}if(!f)return ox(i,e,s)?{position:sx(i,u)}:null;const m=this.conversionApi.writer.split(i,f),w=[];for(const E of m.range.getWalker())if(E.type=="elementEnd")w.push(E.item);else{const T=w.pop(),O=E.item;this._registerSplitPair(T,O)}const _=m.range.end.parent;return this._cursorParents.set(e,_),{position:m.position,cursorParent:_}}_registerSplitPair(e,i){this._splitParts.has(e)||this._splitParts.set(e,[e]);const s=this._splitParts.get(e);this._splitParts.set(i,s),s.push(i)}_getSplitParts(e){let i;return i=this._splitParts.has(e)?this._splitParts.get(e):[e],i}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const i of this._splitParts.keys())i.isEmpty&&!this._emptyElementsToKeep.has(i)&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),e=!0);e&&this._removeEmptyElements()}}class m7{getHtml(e){const i=h.document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(e),i.innerHTML}}class g7{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Kb(e,{renderingMode:"data"}),this.htmlWriter=new m7}toData(e){const i=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(i)}toView(e){const i=this._toDom(e);return this.domConverter.domToView(i,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const i=this.domParser.parseFromString(e,"text/html"),s=i.createDocumentFragment(),u=i.body.childNodes;for(;u.length>0;)s.appendChild(u[0]);return s}}class b7 extends se(){constructor(e,i){super(),this.model=e,this.mapper=new U2,this.downcastDispatcher=new H2({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(s,u,f)=>{if(!f.consumable.consume(u.item,s.name))return;const m=f.writer,w=f.mapper.toViewPosition(u.range.start),_=m.createText(u.item.data);m.insert(w,_)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(s,u,f)=>{f.convertAttributes(u.item),u.reconversion||!u.item.is("element")||u.item.isEmpty||f.convertChildren(u.item)},{priority:"lowest"}),this.upcastDispatcher=new p7({schema:e.schema}),this.viewDocument=new Wb(i),this.stylesProcessor=i,this.htmlProcessor=new g7(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new h2(this.viewDocument),this.upcastDispatcher.on("text",(s,u,{schema:f,consumable:m,writer:w})=>{let _=u.modelCursor;if(!m.test(u.viewItem))return;if(!f.checkChild(_,"$text")){if(!ox(_,"$text",f)||u.viewItem.data.trim().length==0)return;const T=_.nodeBefore;_=sx(_,w),T&&T.is("element","$marker")&&(w.move(w.createRangeOn(T),_),_=w.createPositionAfter(T))}m.consume(u.viewItem);const E=w.createText(u.viewItem.data);w.insert(E,_),u.modelRange=w.createRange(_,_.getShiftedBy(E.offsetSize)),u.modelCursor=u.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(s,u,f)=>{if(!u.modelRange&&f.consumable.consume(u.viewItem,{name:!0})){const{modelRange:m,modelCursor:w}=f.convertChildren(u.viewItem,u.modelCursor);u.modelRange=m,u.modelCursor=w}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(s,u,f)=>{if(!u.modelRange&&f.consumable.consume(u.viewItem,{name:!0})){const{modelRange:m,modelCursor:w}=f.convertChildren(u.viewItem,u.modelCursor);u.modelRange=m,u.modelCursor=w}},{priority:"lowest"}),ze().prototype.decorate.call(this,"init"),ze().prototype.decorate.call(this,"set"),ze().prototype.decorate.call(this,"get"),ze().prototype.decorate.call(this,"toView"),ze().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},ix)},{priority:"lowest"})}get(e={}){const{rootName:i="main",trim:s="empty"}=e;if(!this._checkIfRootsExists([i]))throw new M("datacontroller-get-non-existent-root",this);const u=this.model.document.getRoot(i);return u.isAttached()||L("datacontroller-get-detached-root",this),s!=="empty"||this.model.hasContent(u,{ignoreWhitespaces:!0})?this.stringify(u,e):""}stringify(e,i={}){const s=this.toView(e,i);return this.processor.toData(s)}toView(e,i={}){const s=this.viewDocument,u=this._viewWriter;this.mapper.clearBindings();const f=it._createIn(e),m=new Jd(s);this.mapper.bindElements(e,m);const w=e.is("documentFragment")?e.markers:function(_){const E=[],T=_.root.document;if(!T)return new Map;const O=it._createIn(_);for(const U of T.model.markers){const K=U.getRange(),ee=K.isCollapsed,oe=K.start.isEqual(O.start)||K.end.isEqual(O.end);if(ee&&oe)E.push([U.name,K]);else{const ke=O.getIntersection(K);ke&&E.push([U.name,ke])}}return E.sort(([U,K],[ee,oe])=>{if(K.end.compareWith(oe.start)!=="after")return 1;if(K.start.compareWith(oe.end)!=="before")return-1;switch(K.start.compareWith(oe.start)){case"before":return 1;case"after":return-1;default:switch(K.end.compareWith(oe.end)){case"before":return 1;case"after":return-1;default:return ee.localeCompare(U)}}}),new Map(E)}(e);return this.downcastDispatcher.convert(f,w,u,i),m}init(e){if(this.model.document.version)throw new M("datacontroller-init-document-not-empty",this);let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new M("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},s=>{for(const u of Object.keys(i)){const f=this.model.document.getRoot(u);s.insert(this.parse(i[u],f),f,0)}}),Promise.resolve()}set(e,i={}){let s={};if(typeof e=="string"?s.main=e:s=e,!this._checkIfRootsExists(Object.keys(s)))throw new M("datacontroller-set-non-existent-root",this);this.model.enqueueChange(i.batchType||{},u=>{u.setSelection(null),u.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const f of Object.keys(s)){const m=this.model.document.getRoot(f);u.remove(u.createRangeIn(m)),u.insert(this.parse(s[f],m),m,0)}})}parse(e,i="$root"){const s=this.processor.toView(e);return this.toModel(s,i)}toModel(e,i="$root"){return this.model.change(s=>this.upcastDispatcher.convert(e,s,i))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const i of e)if(!this.model.document.getRoot(i))return!1;return!0}}class k7{constructor(e,i){this._helpers=new Map,this._downcast=ir(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=ir(i),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,i){const s=this._downcast.includes(i);if(!this._upcast.includes(i)&&!s)throw new M("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[i],isDowncast:s})}for(e){if(!this._helpers.has(e))throw new M("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:i,view:s}of cy(e))this.for("upcast").elementToElement({model:i,view:s,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:i,view:s}of cy(e))this.for("upcast").elementToAttribute({view:s,model:i,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:i,view:s}of cy(e))this.for("upcast").attributeToAttribute({view:s,model:i})}_createConversionHelpers({name:e,dispatchers:i,isDowncast:s}){if(this._helpers.has(e))throw new M("conversion-group-exists",this);const u=s?new LB(i):new GB(i);this._helpers.set(e,u)}}function*cy(c){if(c.model.values)for(const e of c.model.values){const i={key:c.model.key,value:e},s=c.view[e],u=c.upcastAlso?c.upcastAlso[e]:void 0;yield*wx(i,s,u)}else yield*wx(c.model,c.view,c.upcastAlso)}function*wx(c,e,i){if(yield{model:c,view:e},i)for(const s of ir(i))yield{model:c,view:s}}class Vs{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,i){return new this(e.baseVersion)}}function uy(c,e){const i=vx(e),s=i.reduce((m,w)=>m+w.offsetSize,0),u=c.parent;Im(c);const f=c.index;return u._insertChild(f,i),Dm(u,f+i.length),Dm(u,f),new it(c,c.getShiftedBy(s))}function yx(c){if(!c.isFlat)throw new M("operation-utils-remove-range-not-flat",this);const e=c.start.parent;Im(c.start),Im(c.end);const i=e._removeChildren(c.start.index,c.end.index-c.start.index);return Dm(e,c.start.index),i}function Em(c,e){if(!c.isFlat)throw new M("operation-utils-move-range-not-flat",this);const i=yx(c);return uy(e=e._getTransformedByDeletion(c.start,c.end.offset-c.start.offset),i)}function vx(c){const e=[];(function i(s){if(typeof s=="string")e.push(new br(s));else if(s instanceof il)e.push(new br(s.data,s.getAttributes()));else if(s instanceof Zd)e.push(s);else if(De(s))for(const u of s)i(u)})(c);for(let i=1;i<e.length;i++){const s=e[i],u=e[i-1];s instanceof br&&u instanceof br&&Ax(s,u)&&(e.splice(i-1,2,new br(u.data+s.data,u.getAttributes())),i--)}return e}function Dm(c,e){const i=c.getChild(e-1),s=c.getChild(e);if(i&&s&&i.is("$text")&&s.is("$text")&&Ax(i,s)){const u=new br(i.data+s.data,i.getAttributes());c._removeChildren(e-1,2),c._insertChild(e-1,u)}}function Im(c){const e=c.textNode,i=c.parent;if(e){const s=c.offset-e.startOffset,u=e.index;i._removeChildren(u,1);const f=new br(e.data.substr(0,s),e.getAttributes()),m=new br(e.data.substr(s),e.getAttributes());i._insertChild(u,[f,m])}}function Ax(c,e){const i=c.getAttributes(),s=e.getAttributes();for(const u of i){if(u[1]!==e.getAttribute(u[0]))return!1;s.next()}return s.next().done}class $n extends Vs{constructor(e,i,s,u){super(u),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[it._createFromPositionAndShift(this.sourcePosition,this.howMany),it._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new $n(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new $n(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent,s=this.sourcePosition.offset,u=this.targetPosition.offset;if(s+this.howMany>e.maxOffset)throw new M("move-operation-nodes-do-not-exist",this);if(e===i&&s<u&&u<s+this.howMany)throw new M("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Me(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const f=this.sourcePosition.path.length-1;if(this.targetPosition.path[f]>=s&&this.targetPosition.path[f]<s+this.howMany)throw new M("move-operation-node-into-itself",this)}}_execute(){Em(it._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,i){const s=At.fromJSON(e.sourcePosition,i),u=At.fromJSON(e.targetPosition,i);return new this(s,e.howMany,u,e.baseVersion)}}class oo extends Vs{constructor(e,i,s){super(s),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Am(vx(i)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Am([...this.nodes].map(s=>s._clone(!0))),i=new oo(this.position,e,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}getReversed(){const e=this.position.root.document.graveyard,i=new At(e,[0]);return new $n(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new M("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Am([...e].map(i=>i._clone(!0))),uy(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,i){const s=[];for(const f of e.nodes)f.name?s.push(lr.fromJSON(f)):s.push(br.fromJSON(f));const u=new oo(At.fromJSON(e.position,i),s,e.baseVersion);return u.shouldReceiveAttributes=e.shouldReceiveAttributes,u}}class kr extends Vs{constructor(e,i,s,u,f){super(f),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=i,this.insertionPosition=s,this.graveyardPosition=u?u.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new At(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new it(this.splitPosition,e)}get affectedSelectable(){const e=[it._createFromPositionAndShift(this.splitPosition,0),it._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(it._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new kr(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,i=new At(e,[0]);return new ai(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,i=this.splitPosition.offset;if(!e||e.maxOffset<i)throw new M("split-operation-position-invalid",this);if(!e.parent)throw new M("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new M("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new M("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Em(it._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=e._clone();uy(this.insertionPosition,i)}Em(new it(At._createAt(e,this.splitPosition.offset),At._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const i=e.path.slice(0,-1);return i[i.length-1]++,new At(e.root,i,"toPrevious")}static fromJSON(e,i){const s=At.fromJSON(e.splitPosition,i),u=At.fromJSON(e.insertionPosition,i),f=e.graveyardPosition?At.fromJSON(e.graveyardPosition,i):null;return new this(s,e.howMany,u,f,e.baseVersion)}}class ai extends Vs{constructor(e,i,s,u,f){super(f),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=u.clone()}get type(){return"merge"}get deletionPosition(){return new At(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new it(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[it._createOn(e),it._createFromPositionAndShift(this.targetPosition,0),it._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new ai(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),s=new At(this.sourcePosition.root,i)._getTransformedByMergeOperation(this);return new kr(e,this.howMany,s,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent;if(!e.parent)throw new M("merge-operation-source-position-invalid",this);if(!i.parent)throw new M("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new M("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Em(it._createIn(e),this.targetPosition),Em(it._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,i){const s=At.fromJSON(e.sourcePosition,i),u=At.fromJSON(e.targetPosition,i),f=At.fromJSON(e.graveyardPosition,i);return new this(s,e.howMany,u,f,e.baseVersion)}}class fs extends Vs{constructor(e,i,s,u,f,m){super(m),this.name=e,this.oldRange=i?i.clone():null,this.newRange=s?s.clone():null,this.affectsData=f,this._markers=u}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new fs(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new fs(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,i){return new fs(e.name,e.oldRange?it.fromJSON(e.oldRange,i):null,e.newRange?it.fromJSON(e.newRange,i):null,i.model.markers,e.affectsData,e.baseVersion)}}const _x=function(c,e){return Zb(c,e)};class Ai extends Vs{constructor(e,i,s,u,f){super(f),this.range=e.clone(),this.key=i,this.oldValue=s===void 0?null:s,this.newValue=u===void 0?null:u}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Ai(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ai(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new M("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!_x(e.getAttribute(this.key),this.oldValue))throw new M("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new M("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){_x(this.oldValue,this.newValue)||function(e,i,s){Im(e.start),Im(e.end);for(const u of e.getItems({shallow:!0})){const f=u.is("$textProxy")?u.textNode:u;s!==null?f._setAttribute(i,s):f._removeAttribute(i),Dm(f.parent,f.index)}Dm(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,i){return new Ai(it.fromJSON(e.range,i),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Wi extends Vs{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Wi(this.baseVersion)}getReversed(){return new Wi(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class ps extends Vs{constructor(e,i,s,u){super(u),this.position=e,this.position.stickiness="toNext",this.oldName=i,this.newName=s}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new ps(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new ps(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof lr))throw new M("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new M("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,i){return new ps(At.fromJSON(e.position,i),e.oldName,e.newName,e.baseVersion)}}class qc extends Vs{constructor(e,i,s,u,f){super(f),this.root=e,this.key=i,this.oldValue=s===void 0?null:s,this.newValue=u===void 0?null:u}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new qc(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new qc(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new M("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new M("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new M("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,i){if(!i.getRoot(e.root))throw new M("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new qc(i.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Hl extends Vs{constructor(e,i,s,u,f){super(f),this.rootName=e,this.elementName=i,this.isAdd=s,this._document=u,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Hl(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Hl(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,i){return new Hl(e.rootName,e.elementName,e.isAdd,i,e.baseVersion)}}const Ia={};Ia[Ai.className]=Ai,Ia[oo.className]=oo,Ia[fs.className]=fs,Ia[$n.className]=$n,Ia[Wi.className]=Wi,Ia[Vs.className]=Vs,Ia[ps.className]=ps,Ia[qc.className]=qc,Ia[Hl.className]=Hl,Ia[kr.className]=kr,Ia[ai.className]=ai;class w7{static fromJSON(e,i){return Ia[e.__className].fromJSON(e,i)}}const dy=new Map;function Un(c,e,i){let s=dy.get(c);s||(s=new Map,dy.set(c,s)),s.set(e,i)}function y7(c){return[c]}function Cx(c,e,i={}){const s=function(u,f){const m=dy.get(u);return m&&m.has(f)?m.get(f):y7}(c.constructor,e.constructor);try{return s(c=c.clone(),e,i)}catch(u){throw u}}function v7(c,e,i){c=c.slice(),e=e.slice();const s=new A7(i.document,i.useRelations,i.forceWeakRemove);s.setOriginalOperations(c),s.setOriginalOperations(e);const u=s.originalOperations;if(c.length==0||e.length==0)return{operationsA:c,operationsB:e,originalOperations:u};const f=new WeakMap;for(const _ of c)f.set(_,0);const m={nextBaseVersionA:c[c.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:c.length,originalOperationsBCount:e.length};let w=0;for(;w<c.length;){const _=c[w],E=f.get(_);if(E==e.length){w++;continue}const T=e[E],O=Cx(_,T,s.getContext(_,T,!0)),U=Cx(T,_,s.getContext(T,_,!1));s.updateRelation(_,T),s.setOriginalOperations(O,_),s.setOriginalOperations(U,T);for(const K of O)f.set(K,E+U.length);c.splice(w,1,...O),e.splice(E,1,...U)}return xx(c,m.nextBaseVersionB),xx(e,m.nextBaseVersionA),{operationsA:c,operationsB:e,originalOperations:u}}class A7{constructor(e,i,s=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=i,this._forceWeakRemove=!!s,this._relations=new Map}setOriginalOperations(e,i=null){const s=i?this.originalOperations.get(i):null;for(const u of e)this.originalOperations.set(u,s||u)}updateRelation(e,i){if(e instanceof $n)i instanceof ai?e.targetPosition.isEqual(i.sourcePosition)||i.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,i,"insertAtSource"):e.targetPosition.isEqual(i.deletionPosition)?this._setRelation(e,i,"insertBetween"):e.targetPosition.isAfter(i.sourcePosition)&&this._setRelation(e,i,"moveTargetAfter"):i instanceof $n&&(e.targetPosition.isEqual(i.sourcePosition)||e.targetPosition.isBefore(i.sourcePosition)?this._setRelation(e,i,"insertBefore"):this._setRelation(e,i,"insertAfter"));else if(e instanceof kr){if(i instanceof ai)e.splitPosition.isBefore(i.sourcePosition)&&this._setRelation(e,i,"splitBefore");else if(i instanceof $n)if(e.splitPosition.isEqual(i.sourcePosition)||e.splitPosition.isBefore(i.sourcePosition))this._setRelation(e,i,"splitBefore");else{const s=it._createFromPositionAndShift(i.sourcePosition,i.howMany);if(e.splitPosition.hasSameParentAs(i.sourcePosition)&&s.containsPosition(e.splitPosition)){const u=s.end.offset-e.splitPosition.offset,f=e.splitPosition.offset-s.start.offset;this._setRelation(e,i,{howMany:u,offset:f})}}}else if(e instanceof ai)i instanceof ai?(e.targetPosition.isEqual(i.sourcePosition)||this._setRelation(e,i,"mergeTargetNotMoved"),e.sourcePosition.isEqual(i.targetPosition)&&this._setRelation(e,i,"mergeSourceNotMoved"),e.sourcePosition.isEqual(i.sourcePosition)&&this._setRelation(e,i,"mergeSameElement")):i instanceof kr?e.sourcePosition.isEqual(i.splitPosition)&&this._setRelation(e,i,"splitAtSource"):i instanceof $n&&i.howMany>0&&(e.sourcePosition.isEqual(i.sourcePosition.getShiftedBy(i.howMany))&&this._setRelation(e,i,"mergeSourceAffected"),e.targetPosition.isEqual(i.sourcePosition)&&this._setRelation(e,i,"mergeTargetWasBefore"));else if(e instanceof fs){const s=e.newRange;if(!s)return;if(i instanceof $n){const u=it._createFromPositionAndShift(i.sourcePosition,i.howMany),f=u.containsPosition(s.start)||u.start.isEqual(s.start),m=u.containsPosition(s.end)||u.end.isEqual(s.end);!f&&!m||u.containsRange(s)||this._setRelation(e,i,{side:f?"left":"right",path:f?s.start.path.slice():s.end.path.slice()})}else if(i instanceof ai){const u=s.start.isEqual(i.targetPosition),f=s.start.isEqual(i.deletionPosition),m=s.end.isEqual(i.deletionPosition),w=s.end.isEqual(i.sourcePosition);(u||f||m||w)&&this._setRelation(e,i,{wasInLeftElement:u,wasStartBeforeMergedElement:f,wasEndBeforeMergedElement:m,wasInRightElement:w})}}}getContext(e,i,s){return{aIsStrong:s,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(i),abRelation:this._useRelations?this._getRelation(e,i):null,baRelation:this._useRelations?this._getRelation(i,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const i=this.originalOperations.get(e);return i.wasUndone||this._history.isUndoneOperation(i)}_getRelation(e,i){const s=this.originalOperations.get(i),u=this._history.getUndoneOperation(s);if(!u)return null;const f=this.originalOperations.get(e),m=this._relations.get(f);return m&&m.get(u)||null}_setRelation(e,i,s){const u=this.originalOperations.get(e),f=this.originalOperations.get(i);let m=this._relations.get(u);m||(m=new Map,this._relations.set(u,m)),m.set(f,s)}}function xx(c,e){for(const i of c)i.baseVersion=e++}function Sx(c,e,i){const s=c.nodes.getNode(0).getAttribute(e);if(s==i)return null;const u=new it(c.position,c.position.getShiftedBy(c.howMany));return new Ai(u,e,s,i,0)}function Ex(c,e){return c.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function xf(c,e){const i=[];for(let s=0;s<c.length;s++){const u=c[s],f=new $n(u.start,u.end.offset-u.start.offset,e,0);i.push(f);for(let m=s+1;m<c.length;m++)c[m]=c[m]._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany)[0];e=e._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany)}return i}Un(Ai,Ai,(c,e,i)=>{if(c.key===e.key&&c.range.start.hasSameParentAs(e.range.start)){const s=c.range.getDifference(e.range).map(f=>new Ai(f,c.key,c.oldValue,c.newValue,0)),u=c.range.getIntersection(e.range);return u&&i.aIsStrong&&s.push(new Ai(u,e.key,e.newValue,c.newValue,0)),s.length==0?[new Wi(0)]:s}return[c]}),Un(Ai,oo,(c,e)=>{if(c.range.start.hasSameParentAs(e.position)&&c.range.containsPosition(e.position)){const i=c.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(s=>new Ai(s,c.key,c.oldValue,c.newValue,c.baseVersion));if(e.shouldReceiveAttributes){const s=Sx(e,c.key,c.oldValue);s&&i.unshift(s)}return i}return c.range=c.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[c]}),Un(Ai,ai,(c,e)=>{const i=[];c.range.start.hasSameParentAs(e.deletionPosition)&&(c.range.containsPosition(e.deletionPosition)||c.range.start.isEqual(e.deletionPosition))&&i.push(it._createFromPositionAndShift(e.graveyardPosition,1));const s=c.range._getTransformedByMergeOperation(e);return s.isCollapsed||i.push(s),i.map(u=>new Ai(u,c.key,c.oldValue,c.newValue,c.baseVersion))}),Un(Ai,$n,(c,e)=>function(s,u){const f=it._createFromPositionAndShift(u.sourcePosition,u.howMany);let m=null,w=[];f.containsRange(s,!0)?m=s:s.start.hasSameParentAs(f.start)?(w=s.getDifference(f),m=s.getIntersection(f)):w=[s];const _=[];for(let E of w){E=E._getTransformedByDeletion(u.sourcePosition,u.howMany);const T=u.getMovedRangeStart(),O=E.start.hasSameParentAs(T),U=E._getTransformedByInsertion(T,u.howMany,O);_.push(...U)}return m&&_.push(m._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany,!1)[0]),_}(c.range,e).map(s=>new Ai(s,c.key,c.oldValue,c.newValue,c.baseVersion))),Un(Ai,kr,(c,e)=>{if(c.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||c.range.end.offset++,[c];if(c.range.start.hasSameParentAs(e.splitPosition)&&c.range.containsPosition(e.splitPosition)){const i=c.clone();return i.range=new it(e.moveTargetPosition.clone(),c.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),c.range.end=e.splitPosition.clone(),c.range.end.stickiness="toPrevious",[c,i]}return c.range=c.range._getTransformedBySplitOperation(e),[c]}),Un(oo,Ai,(c,e)=>{const i=[c];if(c.shouldReceiveAttributes&&c.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(c.position)){const s=Sx(c,e.key,e.newValue);s&&i.push(s)}return i}),Un(oo,oo,(c,e,i)=>(c.position.isEqual(e.position)&&i.aIsStrong||(c.position=c.position._getTransformedByInsertOperation(e)),[c])),Un(oo,$n,(c,e)=>(c.position=c.position._getTransformedByMoveOperation(e),[c])),Un(oo,kr,(c,e)=>(c.position=c.position._getTransformedBySplitOperation(e),[c])),Un(oo,ai,(c,e)=>(c.position=c.position._getTransformedByMergeOperation(e),[c])),Un(fs,oo,(c,e)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByInsertOperation(e)[0]),c.newRange&&(c.newRange=c.newRange._getTransformedByInsertOperation(e)[0]),[c])),Un(fs,fs,(c,e,i)=>{if(c.name==e.name){if(!i.aIsStrong)return[new Wi(0)];c.oldRange=e.newRange?e.newRange.clone():null}return[c]}),Un(fs,ai,(c,e)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByMergeOperation(e)),c.newRange&&(c.newRange=c.newRange._getTransformedByMergeOperation(e)),[c])),Un(fs,$n,(c,e,i)=>{if(c.oldRange&&(c.oldRange=it._createFromRanges(c.oldRange._getTransformedByMoveOperation(e))),c.newRange){if(i.abRelation){const s=it._createFromRanges(c.newRange._getTransformedByMoveOperation(e));if(i.abRelation.side=="left"&&e.targetPosition.isEqual(c.newRange.start))return c.newRange.end=s.end,c.newRange.start.path=i.abRelation.path,[c];if(i.abRelation.side=="right"&&e.targetPosition.isEqual(c.newRange.end))return c.newRange.start=s.start,c.newRange.end.path=i.abRelation.path,[c]}c.newRange=it._createFromRanges(c.newRange._getTransformedByMoveOperation(e))}return[c]}),Un(fs,kr,(c,e,i)=>{if(c.oldRange&&(c.oldRange=c.oldRange._getTransformedBySplitOperation(e)),c.newRange){if(i.abRelation){const s=c.newRange._getTransformedBySplitOperation(e);return c.newRange.start.isEqual(e.splitPosition)&&i.abRelation.wasStartBeforeMergedElement?c.newRange.start=At._createAt(e.insertionPosition):c.newRange.start.isEqual(e.splitPosition)&&!i.abRelation.wasInLeftElement&&(c.newRange.start=At._createAt(e.moveTargetPosition)),c.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasInRightElement?c.newRange.end=At._createAt(e.moveTargetPosition):c.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasEndBeforeMergedElement?c.newRange.end=At._createAt(e.insertionPosition):c.newRange.end=s.end,[c]}c.newRange=c.newRange._getTransformedBySplitOperation(e)}return[c]}),Un(ai,oo,(c,e)=>(c.sourcePosition.hasSameParentAs(e.position)&&(c.howMany+=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByInsertOperation(e),c.targetPosition=c.targetPosition._getTransformedByInsertOperation(e),[c])),Un(ai,ai,(c,e,i)=>{if(c.sourcePosition.isEqual(e.sourcePosition)&&c.targetPosition.isEqual(e.targetPosition)){if(i.bWasUndone){const s=e.graveyardPosition.path.slice();return s.push(0),c.sourcePosition=new At(e.graveyardPosition.root,s),c.howMany=0,[c]}return[new Wi(0)]}if(c.sourcePosition.isEqual(e.sourcePosition)&&!c.targetPosition.isEqual(e.targetPosition)&&!i.bWasUndone&&i.abRelation!="splitAtSource"){const s=c.targetPosition.root.rootName=="$graveyard",u=e.targetPosition.root.rootName=="$graveyard";if(u&&!s||!(s&&!u)&&i.aIsStrong){const f=e.targetPosition._getTransformedByMergeOperation(e),m=c.targetPosition._getTransformedByMergeOperation(e);return[new $n(f,c.howMany,m,0)]}return[new Wi(0)]}return c.sourcePosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMergeOperation(e),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),c.graveyardPosition.isEqual(e.graveyardPosition)&&i.aIsStrong||(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(e)),[c]}),Un(ai,$n,(c,e,i)=>{const s=it._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove&&c.deletionPosition.hasSameParentAs(e.sourcePosition)&&s.containsPosition(c.sourcePosition)?[new Wi(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(c.sourcePosition)?c.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(c.sourcePosition)&&i.abRelation=="mergeSourceAffected"?c.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(c.targetPosition)?(c.targetPosition.stickiness="toNone",c.howMany-=e.howMany):e.targetPosition.isEqual(c.targetPosition)&&i.abRelation=="mergeTargetWasBefore"?(c.targetPosition.stickiness="toPrevious",c.howMany+=e.howMany):(c.sourcePosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.sourcePosition.hasSameParentAs(e.sourcePosition)&&(c.howMany-=e.howMany)),c.sourcePosition=c.sourcePosition._getTransformedByMoveOperation(e),c.targetPosition=c.targetPosition._getTransformedByMoveOperation(e),c.sourcePosition.stickiness="toPrevious",c.targetPosition.stickiness="toNext",c.graveyardPosition.isEqual(e.targetPosition)||(c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(e)),[c])}),Un(ai,kr,(c,e,i)=>{if(e.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),c.deletionPosition.isEqual(e.graveyardPosition)&&(c.howMany=e.howMany)),c.targetPosition.isEqual(e.splitPosition)){const s=e.howMany!=0,u=e.graveyardPosition&&c.deletionPosition.isEqual(e.graveyardPosition);if(s||u||i.abRelation=="mergeTargetNotMoved")return c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(e),[c]}if(c.sourcePosition.isEqual(e.splitPosition)){if(i.abRelation=="mergeSourceNotMoved")return c.howMany=0,c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c];if(i.abRelation=="mergeSameElement"||c.sourcePosition.offset>0)return c.sourcePosition=e.moveTargetPosition.clone(),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c]}return c.sourcePosition.hasSameParentAs(e.splitPosition)&&(c.howMany=e.splitPosition.offset),c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(e),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c]}),Un($n,oo,(c,e)=>{const i=it._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByInsertOperation(e,!1)[0];return c.sourcePosition=i.start,c.howMany=i.end.offset-i.start.offset,c.targetPosition.isEqual(e.position)||(c.targetPosition=c.targetPosition._getTransformedByInsertOperation(e)),[c]}),Un($n,$n,(c,e,i)=>{const s=it._createFromPositionAndShift(c.sourcePosition,c.howMany),u=it._createFromPositionAndShift(e.sourcePosition,e.howMany);let f,m=i.aIsStrong,w=!i.aIsStrong;if(i.abRelation=="insertBefore"||i.baRelation=="insertAfter"?w=!0:i.abRelation!="insertAfter"&&i.baRelation!="insertBefore"||(w=!1),f=c.targetPosition.isEqual(e.targetPosition)&&w?c.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):c.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ex(c,e)&&Ex(e,c))return[e.getReversed()];if(s.containsPosition(e.targetPosition)&&s.containsRange(u,!0))return s.start=s.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),s.end=s.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),xf([s],f);if(u.containsPosition(c.targetPosition)&&u.containsRange(s,!0))return s.start=s.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),s.end=s.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),xf([s],f);const _=Me(c.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(_=="prefix"||_=="extension")return s.start=s.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),s.end=s.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),xf([s],f);c.type!="remove"||e.type=="remove"||i.aWasUndone||i.forceWeakRemove?c.type=="remove"||e.type!="remove"||i.bWasUndone||i.forceWeakRemove||(m=!1):m=!0;const E=[],T=s.getDifference(u);for(const U of T){U.start=U.start._getTransformedByDeletion(e.sourcePosition,e.howMany),U.end=U.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const K=Me(U.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",ee=U._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,K);E.push(...ee)}const O=s.getIntersection(u);return O!==null&&m&&(O.start=O.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),O.end=O.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),E.length===0?E.push(O):E.length==1?u.start.isBefore(s.start)||u.start.isEqual(s.start)?E.unshift(O):E.push(O):E.splice(1,0,O)),E.length===0?[new Wi(c.baseVersion)]:xf(E,f)}),Un($n,kr,(c,e,i)=>{let s=c.targetPosition.clone();c.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&i.abRelation!="moveTargetAfter"||(s=c.targetPosition._getTransformedBySplitOperation(e));const u=it._createFromPositionAndShift(c.sourcePosition,c.howMany);if(u.end.isEqual(e.insertionPosition))return e.graveyardPosition||c.howMany++,c.targetPosition=s,[c];if(u.start.hasSameParentAs(e.splitPosition)&&u.containsPosition(e.splitPosition)){let m=new it(e.splitPosition,u.end);return m=m._getTransformedBySplitOperation(e),xf([new it(u.start,e.splitPosition),m],s)}c.targetPosition.isEqual(e.splitPosition)&&i.abRelation=="insertAtSource"&&(s=e.moveTargetPosition),c.targetPosition.isEqual(e.insertionPosition)&&i.abRelation=="insertBetween"&&(s=c.targetPosition);const f=[u._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const m=u.start.isEqual(e.graveyardPosition)||u.containsPosition(e.graveyardPosition);c.howMany>1&&m&&!i.aWasUndone&&f.push(it._createFromPositionAndShift(e.insertionPosition,1))}return xf(f,s)}),Un($n,ai,(c,e,i)=>{const s=it._createFromPositionAndShift(c.sourcePosition,c.howMany);if(e.deletionPosition.hasSameParentAs(c.sourcePosition)&&s.containsPosition(e.sourcePosition)){if(c.type!="remove"||i.forceWeakRemove){if(c.howMany==1)return i.bWasUndone?(c.sourcePosition=e.graveyardPosition.clone(),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),[c]):[new Wi(0)]}else if(!i.aWasUndone){const f=[];let m=e.graveyardPosition.clone(),w=e.targetPosition._getTransformedByMergeOperation(e);c.howMany>1&&(f.push(new $n(c.sourcePosition,c.howMany-1,c.targetPosition,0)),m=m._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1),w=w._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1));const _=e.deletionPosition._getCombined(c.sourcePosition,c.targetPosition),E=new $n(m,1,_,0),T=E.getMovedRangeStart().path.slice();T.push(0);const O=new At(E.targetPosition.root,T);w=w._getTransformedByMove(m,_,1);const U=new $n(w,e.howMany,O,0);return f.push(E),f.push(U),f}}const u=it._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByMergeOperation(e);return c.sourcePosition=u.start,c.howMany=u.end.offset-u.start.offset,c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),[c]}),Un(ps,oo,(c,e)=>(c.position=c.position._getTransformedByInsertOperation(e),[c])),Un(ps,ai,(c,e)=>c.position.isEqual(e.deletionPosition)?(c.position=e.graveyardPosition.clone(),c.position.stickiness="toNext",[c]):(c.position=c.position._getTransformedByMergeOperation(e),[c])),Un(ps,$n,(c,e)=>(c.position=c.position._getTransformedByMoveOperation(e),[c])),Un(ps,ps,(c,e,i)=>{if(c.position.isEqual(e.position)){if(!i.aIsStrong)return[new Wi(0)];c.oldName=e.newName}return[c]}),Un(ps,kr,(c,e)=>{if(Me(c.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const i=new ps(c.position.getShiftedBy(1),c.oldName,c.newName,0);return[c,i]}return c.position=c.position._getTransformedBySplitOperation(e),[c]}),Un(qc,qc,(c,e,i)=>{if(c.root===e.root&&c.key===e.key){if(!i.aIsStrong||c.newValue===e.newValue)return[new Wi(0)];c.oldValue=e.newValue}return[c]}),Un(Hl,Hl,(c,e)=>c.rootName===e.rootName&&c.isAdd===e.isAdd?[new Wi(0)]:[c]),Un(kr,oo,(c,e)=>(c.splitPosition.hasSameParentAs(e.position)&&c.splitPosition.offset<e.position.offset&&(c.howMany+=e.howMany),c.splitPosition=c.splitPosition._getTransformedByInsertOperation(e),c.insertionPosition=c.insertionPosition._getTransformedByInsertOperation(e),[c])),Un(kr,ai,(c,e,i)=>{if(!c.graveyardPosition&&!i.bWasUndone&&c.splitPosition.hasSameParentAs(e.sourcePosition)){const s=e.graveyardPosition.path.slice();s.push(0);const u=new At(e.graveyardPosition.root,s),f=kr.getInsertionPosition(new At(e.graveyardPosition.root,s)),m=new kr(u,0,f,null,0);return c.splitPosition=c.splitPosition._getTransformedByMergeOperation(e),c.insertionPosition=kr.getInsertionPosition(c.splitPosition),c.graveyardPosition=m.insertionPosition.clone(),c.graveyardPosition.stickiness="toNext",[m,c]}return c.splitPosition.hasSameParentAs(e.deletionPosition)&&!c.splitPosition.isAfter(e.deletionPosition)&&c.howMany--,c.splitPosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.splitPosition=c.splitPosition._getTransformedByMergeOperation(e),c.insertionPosition=kr.getInsertionPosition(c.splitPosition),c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(e)),[c]}),Un(kr,$n,(c,e,i)=>{const s=it._createFromPositionAndShift(e.sourcePosition,e.howMany);if(c.graveyardPosition){const f=s.start.isEqual(c.graveyardPosition)||s.containsPosition(c.graveyardPosition);if(!i.bWasUndone&&f){const m=c.splitPosition._getTransformedByMoveOperation(e),w=c.graveyardPosition._getTransformedByMoveOperation(e),_=w.path.slice();_.push(0);const E=new At(w.root,_);return[new $n(m,c.howMany,E,0)]}c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(e)}const u=c.splitPosition.isEqual(e.targetPosition);if(u&&(i.baRelation=="insertAtSource"||i.abRelation=="splitBefore"))return c.howMany+=e.howMany,c.splitPosition=c.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),c.insertionPosition=kr.getInsertionPosition(c.splitPosition),[c];if(u&&i.abRelation&&i.abRelation.howMany){const{howMany:f,offset:m}=i.abRelation;return c.howMany+=f,c.splitPosition=c.splitPosition.getShiftedBy(m),[c]}if(c.splitPosition.hasSameParentAs(e.sourcePosition)&&s.containsPosition(c.splitPosition)){const f=e.howMany-(c.splitPosition.offset-e.sourcePosition.offset);return c.howMany-=f,c.splitPosition.hasSameParentAs(e.targetPosition)&&c.splitPosition.offset<e.targetPosition.offset&&(c.howMany+=e.howMany),c.splitPosition=e.sourcePosition.clone(),c.insertionPosition=kr.getInsertionPosition(c.splitPosition),[c]}return e.sourcePosition.isEqual(e.targetPosition)||(c.splitPosition.hasSameParentAs(e.sourcePosition)&&c.splitPosition.offset<=e.sourcePosition.offset&&(c.howMany-=e.howMany),c.splitPosition.hasSameParentAs(e.targetPosition)&&c.splitPosition.offset<e.targetPosition.offset&&(c.howMany+=e.howMany)),c.splitPosition.stickiness="toNone",c.splitPosition=c.splitPosition._getTransformedByMoveOperation(e),c.splitPosition.stickiness="toNext",c.graveyardPosition?c.insertionPosition=c.insertionPosition._getTransformedByMoveOperation(e):c.insertionPosition=kr.getInsertionPosition(c.splitPosition),[c]}),Un(kr,kr,(c,e,i)=>{if(c.splitPosition.isEqual(e.splitPosition)){if(!c.graveyardPosition&&!e.graveyardPosition)return[new Wi(0)];if(c.graveyardPosition&&e.graveyardPosition&&c.graveyardPosition.isEqual(e.graveyardPosition))return[new Wi(0)];if(i.abRelation=="splitBefore")return c.howMany=0,c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(e),[c]}if(c.graveyardPosition&&e.graveyardPosition&&c.graveyardPosition.isEqual(e.graveyardPosition)){const s=c.splitPosition.root.rootName=="$graveyard",u=e.splitPosition.root.rootName=="$graveyard";if(u&&!s||!(s&&!u)&&i.aIsStrong){const f=[];return e.howMany&&f.push(new $n(e.moveTargetPosition,e.howMany,e.splitPosition,0)),c.howMany&&f.push(new $n(c.splitPosition,c.howMany,c.moveTargetPosition,0)),f}return[new Wi(0)]}if(c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(e)),c.splitPosition.isEqual(e.insertionPosition)&&i.abRelation=="splitBefore")return c.howMany++,[c];if(e.splitPosition.isEqual(c.insertionPosition)&&i.baRelation=="splitBefore"){const s=e.insertionPosition.path.slice();s.push(0);const u=new At(e.insertionPosition.root,s);return[c,new $n(c.insertionPosition,1,u,0)]}return c.splitPosition.hasSameParentAs(e.splitPosition)&&c.splitPosition.offset<e.splitPosition.offset&&(c.howMany-=e.howMany),c.splitPosition=c.splitPosition._getTransformedBySplitOperation(e),c.insertionPosition=kr.getInsertionPosition(c.splitPosition),[c]});class yo extends se(At){constructor(e,i,s="toNone"){if(super(e,i,s),!this.root.is("rootElement"))throw new M("model-liveposition-root-not-rootelement",e);_7.call(this)}detach(){this.stopListening()}toPosition(){return new At(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,i){return new this(e.root,e.path.slice(),i||e.stickiness)}}function _7(){this.listenTo(this.root.document.model,"applyOperation",(c,e)=>{const i=e[0];i.isDocumentOperation&&C7.call(this,i)},{priority:"low"})}function C7(c){const e=this.getTransformedByOperation(c);if(!this.isEqual(e)){const i=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",i)}}yo.prototype.is=function(c){return c==="livePosition"||c==="model:livePosition"||c=="position"||c==="model:position"};class Sf{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},L("batch-constructor-deprecated-string-type"));const{isUndoable:i=!0,isLocal:s=!0,isUndo:u=!1,isTyping:f=!1}=e;this.operations=[],this.isUndoable=i,this.isLocal=s,this.isUndo=u,this.isTyping=f}get type(){return L("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var x7=Object.defineProperty,S7=Object.defineProperties,E7=Object.getOwnPropertyDescriptors,Dx=Object.getOwnPropertySymbols,D7=Object.prototype.hasOwnProperty,I7=Object.prototype.propertyIsEnumerable,Ix=(c,e,i)=>e in c?x7(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,Tx=(c,e)=>{for(var i in e||(e={}))D7.call(e,i)&&Ix(c,i,e[i]);if(Dx)for(var i of Dx(e))I7.call(e,i)&&Ix(c,i,e[i]);return c};class T7{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const i=e;switch(i.type){case"insert":if(this._isInInsertedElement(i.position.parent))return;this._markInsert(i.position.parent,i.position.offset,i.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const s of i.range.getItems({shallow:!0}))this._isInInsertedElement(s.parent)||this._markAttribute(s);break;case"remove":case"move":case"reinsert":{if(i.sourcePosition.isEqual(i.targetPosition)||i.sourcePosition.getShiftedBy(i.howMany).isEqual(i.targetPosition))return;const s=this._isInInsertedElement(i.sourcePosition.parent),u=this._isInInsertedElement(i.targetPosition.parent);s||this._markRemove(i.sourcePosition.parent,i.sourcePosition.offset,i.howMany),u||this._markInsert(i.targetPosition.parent,i.getMovedRangeStart().offset,i.howMany);break}case"rename":{if(this._isInInsertedElement(i.position.parent))return;this._markRemove(i.position.parent,i.position.offset,1),this._markInsert(i.position.parent,i.position.offset,1);const s=it._createFromPositionAndShift(i.position,1);for(const u of this._markerCollection.getMarkersIntersectingRange(s)){const f=u.getData();this.bufferMarkerChange(u.name,f,f)}break}case"split":{const s=i.splitPosition.parent;this._isInInsertedElement(s)||this._markRemove(s,i.splitPosition.offset,i.howMany),this._isInInsertedElement(i.insertionPosition.parent)||this._markInsert(i.insertionPosition.parent,i.insertionPosition.offset,1),i.graveyardPosition&&this._markRemove(i.graveyardPosition.parent,i.graveyardPosition.offset,1);break}case"merge":{const s=i.sourcePosition.parent;this._isInInsertedElement(s.parent)||this._markRemove(s.parent,s.startOffset,1);const u=i.graveyardPosition.parent;this._markInsert(u,i.graveyardPosition.offset,1);const f=i.targetPosition.parent;this._isInInsertedElement(f)||this._markInsert(f,i.targetPosition.offset,s.maxOffset);break}case"detachRoot":case"addRoot":{const s=i.affectedSelectable;if(!s._isLoaded||s.isAttached()==i.isAdd)return;this._bufferRootStateChange(i.rootName,i.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!i.root._isLoaded)return;const s=i.root.rootName;this._bufferRootAttributeChange(s,i.key,i.oldValue,i.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,i,s){i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null),s.range&&s.range.root.is("rootElement")&&!s.range.root._isLoaded&&(s.range=null);let u=this._changedMarkers.get(e);u?u.newMarkerData=s:(u={newMarkerData:s,oldMarkerData:i},this._changedMarkers.set(e,u)),u.oldMarkerData.range==null&&s.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[i,s]of this._changedMarkers)s.oldMarkerData.range!=null&&e.push({name:i,range:s.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[i,s]of this._changedMarkers)s.newMarkerData.range!=null&&e.push({name:i,range:s.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,i])=>({name:e,data:{oldRange:i.oldMarkerData.range,newRange:i.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:i}of this._changedMarkers.values()){if(e.affectsData!==i.affectsData)return!0;if(e.affectsData){const s=e.range&&!i.range,u=!e.range&&i.range,f=e.range&&i.range&&!e.range.isEqual(i.range);if(s||u||f)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let i=[];for(const s of this._changesInElement.keys()){const u=this._changesInElement.get(s).sort((T,O)=>T.offset===O.offset?T.type!=O.type?T.type=="remove"?-1:1:0:T.offset<O.offset?-1:1),f=this._elementSnapshots.get(s),m=Nx(s.getChildren()),w=N7(f.length,u);let _=0,E=0;for(const T of w)if(T==="i")i.push(this._getInsertDiff(s,_,m[_])),_++;else if(T==="r")i.push(this._getRemoveDiff(s,_,f[E])),E++;else if(T==="a"){const O=m[_].attributes,U=f[E].attributes;let K;if(m[_].name=="$text")K=new it(At._createAt(s,_),At._createAt(s,_+1));else{const ee=s.offsetToIndex(_);K=new it(At._createAt(s,_),At._createAt(s.getChild(ee),0))}i.push(...this._getAttributesDiff(K,U,O)),_++,E++}else _++,E++}i.sort((s,u)=>s.position.root!=u.position.root?s.position.root.rootName<u.position.root.rootName?-1:1:s.position.isEqual(u.position)?s.changeCount-u.changeCount:s.position.isBefore(u.position)?-1:1);for(let s=1,u=0;s<i.length;s++){const f=i[u],m=i[s],w=f.type=="remove"&&m.type=="remove"&&f.name=="$text"&&m.name=="$text"&&f.position.isEqual(m.position),_=f.type=="insert"&&m.type=="insert"&&f.name=="$text"&&m.name=="$text"&&f.position.parent==m.position.parent&&f.position.offset+f.length==m.position.offset,E=f.type=="attribute"&&m.type=="attribute"&&f.position.parent==m.position.parent&&f.range.isFlat&&m.range.isFlat&&f.position.offset+f.length==m.position.offset&&f.attributeKey==m.attributeKey&&f.attributeOldValue==m.attributeOldValue&&f.attributeNewValue==m.attributeNewValue;w||_||E?(f.length++,E&&(f.range.end=f.range.end.getShiftedBy(1)),i[s]=null):u=s}i=i.filter(s=>s);for(const s of i)delete s.changeCount,s.type=="attribute"&&(delete s.position,delete s.length);return this._changeCount=0,this._cachedChangesWithGraveyard=i,this._cachedChanges=i.filter(M7),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const i=Tx({},e);return i.state!==void 0&&delete i.attributes,i})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,i){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:i?"attached":"detached"});const s=this._changedRoots.get(e);s.state!==void 0?(delete s.state,s.attributes===void 0&&this._changedRoots.delete(e)):s.state=i?"attached":"detached"}_bufferRootAttributeChange(e,i,s,u){const f=this._changedRoots.get(e)||{name:e},m=f.attributes||{};if(m[i]){const w=m[i];u===w.oldValue?delete m[i]:w.newValue=u}else m[i]={oldValue:s,newValue:u};Object.entries(m).length===0?(delete f.attributes,f.state===void 0&&this._changedRoots.delete(e)):(f.attributes=m,this._changedRoots.set(e,f))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const i=it._createOn(e);for(const s of this._markerCollection.getMarkersIntersectingRange(i)){const u=s.getData();this.bufferMarkerChange(s.name,u,u)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const s of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,s,null,e.getAttribute(s));for(const s of this._markerCollection)if(s.getRange().root==e){const u=s.getData();this.bufferMarkerChange(s.name,(i=Tx({},u),S7(i,E7({range:null}))),u)}var i}}_markInsert(e,i,s){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const u={type:"insert",offset:i,howMany:s,count:this._changeCount++};this._markChange(e,u)}_markRemove(e,i,s){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const u={type:"remove",offset:i,howMany:s,count:this._changeCount++};this._markChange(e,u),this._removeAllNestedChanges(e,i,s)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,i)}_markChange(e,i){this._makeSnapshot(e);const s=this._getChangesForElement(e);this._handleChange(i,s),s.push(i);for(let u=0;u<s.length;u++)s[u].howMany<1&&(s.splice(u,1),u--)}_getChangesForElement(e){let i;return this._changesInElement.has(e)?i=this._changesInElement.get(e):(i=[],this._changesInElement.set(e,i)),i}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Nx(e.getChildren()))}_handleChange(e,i){e.nodesToHandle=e.howMany;for(const s of i){const u=e.offset+e.howMany,f=s.offset+s.howMany;if(e.type=="insert"&&(s.type=="insert"&&(e.offset<=s.offset?s.offset+=e.howMany:e.offset<f&&(s.howMany+=e.nodesToHandle,e.nodesToHandle=0)),s.type=="remove"&&e.offset<s.offset&&(s.offset+=e.howMany),s.type=="attribute")){if(e.offset<=s.offset)s.offset+=e.howMany;else if(e.offset<f){const m=s.howMany;s.howMany=e.offset-s.offset,i.unshift({type:"attribute",offset:u,howMany:m-s.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(s.type=="insert"){if(u<=s.offset)s.offset-=e.howMany;else if(u<=f)if(e.offset<s.offset){const m=u-s.offset;s.offset=e.offset,s.howMany-=m,e.nodesToHandle-=m}else s.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=s.offset)e.nodesToHandle-=s.howMany,s.howMany=0;else if(e.offset<f){const m=f-e.offset;s.howMany-=m,e.nodesToHandle-=m}}if(s.type=="remove"&&(u<=s.offset?s.offset-=e.howMany:e.offset<s.offset&&(e.nodesToHandle+=s.howMany,s.howMany=0)),s.type=="attribute"){if(u<=s.offset)s.offset-=e.howMany;else if(e.offset<s.offset){const m=u-s.offset;s.offset=e.offset,s.howMany-=m}else if(e.offset<f)if(u<=f){const m=s.howMany;s.howMany=e.offset-s.offset;const w=m-s.howMany-e.nodesToHandle;i.unshift({type:"attribute",offset:e.offset,howMany:w,count:this._changeCount++})}else s.howMany-=f-e.offset}}if(e.type=="attribute"){if(s.type=="insert")if(e.offset<s.offset&&u>s.offset){if(u>f){const m={type:"attribute",offset:f,howMany:u-f,count:this._changeCount++};this._handleChange(m,i),i.push(m)}e.nodesToHandle=s.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=s.offset&&e.offset<f&&(u>f?(e.nodesToHandle=u-f,e.offset=f):e.nodesToHandle=0);if(s.type=="remove"&&e.offset<s.offset&&u>s.offset){const m={type:"attribute",offset:s.offset,howMany:u-s.offset,count:this._changeCount++};this._handleChange(m,i),i.push(m),e.nodesToHandle=s.offset-e.offset,e.howMany=e.nodesToHandle}s.type=="attribute"&&(e.offset>=s.offset&&u<=f?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=s.offset&&u>=f&&(s.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,i,s){return{type:"insert",position:At._createAt(e,i),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++,_element:s.element}}_getRemoveDiff(e,i,s){return{type:"remove",position:At._createAt(e,i),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++,_element:s.element}}_getAttributesDiff(e,i,s){const u=[];s=new Map(s);for(const[f,m]of i){const w=s.has(f)?s.get(f):null;w!==m&&u.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:f,attributeOldValue:m,attributeNewValue:w,changeCount:this._changeCount++}),s.delete(f)}for(const[f,m]of s)u.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:f,attributeOldValue:null,attributeNewValue:m,changeCount:this._changeCount++});return u}_isInInsertedElement(e){const i=e.parent;if(!i)return!1;const s=this._changesInElement.get(i),u=e.startOffset;if(s){for(const f of s)if(f.type=="insert"&&u>=f.offset&&u<f.offset+f.howMany)return!0}return this._isInInsertedElement(i)}_removeAllNestedChanges(e,i,s){const u=new it(At._createAt(e,i),At._createAt(e,i+s));for(const f of u.getItems({shallow:!0}))f.is("element")&&(this._elementSnapshots.delete(f),this._changesInElement.delete(f),this._removeAllNestedChanges(f,0,f.maxOffset))}}function Nx(c){const e=[];for(const i of c)if(i.is("$text"))for(let s=0;s<i.data.length;s++)e.push({name:"$text",attributes:new Map(i.getAttributes())});else e.push({name:i.name,attributes:new Map(i.getAttributes()),element:i});return e}function N7(c,e){const i=[];let s=0,u=0;for(const f of e){if(f.offset>s){for(let m=0;m<f.offset-s;m++)i.push("e");u+=f.offset-s}if(f.type=="insert"){for(let m=0;m<f.howMany;m++)i.push("i");s=f.offset+f.howMany}else if(f.type=="remove"){for(let m=0;m<f.howMany;m++)i.push("r");s=f.offset,u+=f.howMany}else i.push(..."a".repeat(f.howMany).split("")),s=f.offset+f.howMany,u+=f.howMany}if(u<c)for(let f=0;f<c-u-s;f++)i.push("e");return i}function M7(c){const e="position"in c&&c.position.root.rootName=="$graveyard",i="range"in c&&c.range.root.rootName=="$graveyard";return!e&&!i}class P7{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new M("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,i=this.version){if(!this._operations.length)return[];const s=this._operations[0];e===void 0&&(e=s.baseVersion);let u=i-1;for(const[w,_]of this._gaps)e>w&&e<_&&(e=_),u>w&&u<_&&(u=w-1);if(u<s.baseVersion||e>this.lastOperation.baseVersion)return[];let f=this._baseVersionToOperationIndex.get(e);f===void 0&&(f=0);let m=this._baseVersionToOperationIndex.get(u);return m===void 0&&(m=this._operations.length-1),this._operations.slice(f,m+1)}getOperation(e){const i=this._baseVersionToOperationIndex.get(e);if(i!==void 0)return this._operations[i]}setOperationAsUndone(e,i){this._undoPairs.set(i,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class r0 extends lr{constructor(e,i,s="main"){super(i),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=s}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}r0.prototype.is=function(c,e){return e?e===this.name&&(c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"):c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"||c==="node"||c==="model:node"};var O7=Object.defineProperty,j7=Object.defineProperties,L7=Object.getOwnPropertyDescriptors,Mx=Object.getOwnPropertySymbols,R7=Object.prototype.hasOwnProperty,B7=Object.prototype.propertyIsEnumerable,Px=(c,e,i)=>e in c?O7(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,Ox=(c,e)=>{for(var i in e||(e={}))R7.call(e,i)&&Px(c,i,e[i]);if(Mx)for(var i of Mx(e))B7.call(e,i)&&Px(c,i,e[i]);return c},jx=(c,e)=>j7(c,L7(e));const Lx="$graveyard";class F7 extends se(){constructor(e){super(),this.model=e,this.history=new P7,this.selection=new ol(this),this.roots=new Fs({idProperty:"rootName"}),this.differ=new T7(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Lx),this.listenTo(e,"applyOperation",(i,s)=>{const u=s[0];u.isDocumentOperation&&this.differ.bufferOperation(u)},{priority:"high"}),this.listenTo(e,"applyOperation",(i,s)=>{const u=s[0];u.isDocumentOperation&&this.history.addOperation(u)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(i,s,u,f,m)=>{const w=jx(Ox({},s.getData()),{range:f});this.differ.bufferMarkerChange(s.name,m,w),u===null&&s.on("change",(_,E)=>{const T=s.getData();this.differ.bufferMarkerChange(s.name,jx(Ox({},T),{range:E}),T)})}),this.registerPostFixer(i=>{let s=!1;for(const u of this.roots)u.isAttached()||u.isEmpty||(i.remove(i.createRangeIn(u)),s=!0);for(const u of this.model.markers)u.getRange().root.isAttached()||(i.removeMarker(u),s=!0);return s})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Lx)}createRoot(e="$root",i="main"){if(this.roots.get(i))throw new M("model-document-createroot-name-exists",this,{name:i});const s=new r0(this,e,i);return this.roots.add(s),s}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(i=>i.rootName)}getRoots(e=!1){return this.roots.filter(i=>i!=this.graveyard&&(e||i.isAttached())&&i._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=ju(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),i=this.model,s=i.schema,u=i.createPositionFromPath(e,[0]);return s.getNearestSelectionRange(u)||i.createRange(u)}_validateSelectionRange(e){return Rx(e.start)&&Rx(e.end)}_callPostFixers(e){let i=!1;do for(const s of this._postFixers)if(this.selection.refresh(),i=s(e),i)break;while(i)}}function Rx(c){const e=c.textNode;if(e){const i=e.data,s=c.offset-e.startOffset;return!pf(i,s)&&!Pu(i,s)}return!0}var z7=Object.defineProperty,U7=Object.defineProperties,q7=Object.getOwnPropertyDescriptors,Bx=Object.getOwnPropertySymbols,V7=Object.prototype.hasOwnProperty,$7=Object.prototype.propertyIsEnumerable,Fx=(c,e,i)=>e in c?z7(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class H7 extends se(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const i=e instanceof Ef?e.name:e;return this._markers.has(i)}get(e){return this._markers.get(e)||null}_set(e,i,s=!1,u=!1){const f=e instanceof Ef?e.name:e;if(f.includes(","))throw new M("markercollection-incorrect-marker-name",this);const m=this._markers.get(f);if(m){const T=m.getData(),O=m.getRange();let U=!1;return O.isEqual(i)||(m._attachLiveRange(qs.fromRange(i)),U=!0),s!=m.managedUsingOperations&&(m._managedUsingOperations=s,U=!0),typeof u=="boolean"&&u!=m.affectsData&&(m._affectsData=u,U=!0),U&&this.fire(`update:${f}`,m,O,i,T),m}const w=qs.fromRange(i),_=new Ef(f,w,s,u);var E;return this._markers.set(f,_),this.fire(`update:${f}`,_,null,i,(E=((T,O)=>{for(var U in O||(O={}))V7.call(O,U)&&Fx(T,U,O[U]);if(Bx)for(var U of Bx(O))$7.call(O,U)&&Fx(T,U,O[U]);return T})({},_.getData()),U7(E,q7({range:null})))),_}_remove(e){const i=e instanceof Ef?e.name:e,s=this._markers.get(i);return!!s&&(this._markers.delete(i),this.fire(`update:${i}`,s,s.getRange(),null,s.getData()),this._destroyMarker(s),!0)}_refresh(e){const i=e instanceof Ef?e.name:e,s=this._markers.get(i);if(!s)throw new M("markercollection-refresh-marker-not-exists",this);const u=s.getRange();this.fire(`update:${i}`,s,u,u,s.getData())}*getMarkersAtPosition(e){for(const i of this)i.getRange().containsPosition(e)&&(yield i)}*getMarkersIntersectingRange(e){for(const i of this)i.getRange().getIntersection(e)!==null&&(yield i)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const i of this._markers.values())i.name.startsWith(e+":")&&(yield i)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Ef extends se(Uu){constructor(e,i,s,u){super(),this.name=e,this._liveRange=this._attachLiveRange(i),this._managedUsingOperations=s,this._affectsData=u}get managedUsingOperations(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ef.prototype.is=function(c){return c==="marker"||c==="model:marker"};class W7 extends Vs{constructor(e,i){super(null),this.sourcePosition=e.clone(),this.howMany=i}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new M("detach-operation-on-document-node",this)}_execute(){yx(it._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Vc extends Uu{constructor(e){super(),this.markers=new Map,this._children=new Am,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let i=this;for(const s of e)i=i.getChild(i.offsetToIndex(s));return i}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const i of this._children)e.push(i.toJSON());return e}static fromJSON(e){const i=[];for(const s of e)s.name?i.push(lr.fromJSON(s)):i.push(br.fromJSON(s));return new Vc(i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const s=function(u){return typeof u=="string"?[new br(u)]:(De(u)||(u=[u]),Array.from(u).map(f=>typeof f=="string"?new br(f):f instanceof il?new br(f.data,f.getAttributes()):f))}(i);for(const u of s)u.parent!==null&&u._remove(),u.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,i=1){const s=this._children._removeNodes(e,i);for(const u of s)u.parent=null;return s}}Vc.prototype.is=function(c){return c==="documentFragment"||c==="model:documentFragment"};class G7{constructor(e,i){this.model=e,this.batch=i}createText(e,i){return new br(e,i)}createElement(e,i){return new lr(e,i)}createDocumentFragment(){return new Vc}cloneElement(e,i=!0){return e._clone(i)}insert(e,i,s=0){if(this._assertWriterUsedCorrectly(),e instanceof br&&e.data=="")return;const u=At._createAt(i,s);if(e.parent){if(qx(e.root,u.root))return void this.move(it._createOn(e),u);if(e.root.document)throw new M("model-writer-insert-forbidden-move",this);this.remove(e)}const f=u.root.document?u.root.document.version:null,m=new oo(u,e,f);if(e instanceof br&&(m.shouldReceiveAttributes=!0),this.batch.addOperation(m),this.model.applyOperation(m),e instanceof Vc)for(const[w,_]of e.markers){const E=At._createAt(_.root,0),T={range:new it(_.start._getCombined(E,u),_.end._getCombined(E,u)),usingOperation:!0,affectsData:!0};this.model.markers.has(w)?this.updateMarker(w,T):this.addMarker(w,T)}}insertText(e,i,s,u){i instanceof Vc||i instanceof lr||i instanceof At?this.insert(this.createText(e),i,s):this.insert(this.createText(e,i),s,u)}insertElement(e,i,s,u){i instanceof Vc||i instanceof lr||i instanceof At?this.insert(this.createElement(e),i,s):this.insert(this.createElement(e,i),s,u)}append(e,i){this.insert(e,i,"end")}appendText(e,i,s){i instanceof Vc||i instanceof lr?this.insert(this.createText(e),i,"end"):this.insert(this.createText(e,i),s,"end")}appendElement(e,i,s){i instanceof Vc||i instanceof lr?this.insert(this.createElement(e),i,"end"):this.insert(this.createElement(e,i),s,"end")}setAttribute(e,i,s){if(this._assertWriterUsedCorrectly(),s instanceof it){const u=s.getMinimalFlatRanges();for(const f of u)zx(this,e,i,f)}else Ux(this,e,i,s)}setAttributes(e,i){for(const[s,u]of _a(e))this.setAttribute(s,u,i)}removeAttribute(e,i){if(this._assertWriterUsedCorrectly(),i instanceof it){const s=i.getMinimalFlatRanges();for(const u of s)zx(this,e,null,u)}else Ux(this,e,null,i)}clearAttributes(e){this._assertWriterUsedCorrectly();const i=s=>{for(const u of s.getAttributeKeys())this.removeAttribute(u,s)};if(e instanceof it)for(const s of e.getItems())i(s);else i(e)}move(e,i,s){if(this._assertWriterUsedCorrectly(),!(e instanceof it))throw new M("writer-move-invalid-range",this);if(!e.isFlat)throw new M("writer-move-range-not-flat",this);const u=At._createAt(i,s);if(u.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!qx(e.root,u.root))throw new M("writer-move-different-document",this);const f=e.root.document?e.root.document.version:null,m=new $n(e.start,e.end.offset-e.start.offset,u,f);this.batch.addOperation(m),this.model.applyOperation(m)}remove(e){this._assertWriterUsedCorrectly();const i=(e instanceof it?e:it._createOn(e)).getMinimalFlatRanges().reverse();for(const s of i)this._addOperationForAffectedMarkers("move",s),Y7(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const i=e.nodeBefore,s=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(i instanceof lr))throw new M("writer-merge-no-element-before",this);if(!(s instanceof lr))throw new M("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,i,s){return this.model.createPositionFromPath(e,i,s)}createPositionAt(e,i){return this.model.createPositionAt(e,i)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,i){return this.model.createRange(e,i)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const i=e.nodeBefore,s=e.nodeAfter;this.move(it._createIn(s),At._createAt(i,"end")),this.remove(s)}_merge(e){const i=At._createAt(e.nodeBefore,"end"),s=At._createAt(e.nodeAfter,0),u=e.root.document.graveyard,f=new At(u,[0]),m=e.root.document.version,w=new ai(s,e.nodeAfter.maxOffset,i,f,m);this.batch.addOperation(w),this.model.applyOperation(w)}rename(e,i){if(this._assertWriterUsedCorrectly(),!(e instanceof lr))throw new M("writer-rename-not-element-instance",this);const s=e.root.document?e.root.document.version:null,u=new ps(At._createBefore(e),e.name,i,s);this.batch.addOperation(u),this.model.applyOperation(u)}split(e,i){this._assertWriterUsedCorrectly();let s,u,f=e.parent;if(!f.parent)throw new M("writer-split-element-no-parent",this);if(i||(i=f.parent),!e.parent.getAncestors({includeSelf:!0}).includes(i))throw new M("writer-split-invalid-limit-element",this);do{const m=f.root.document?f.root.document.version:null,w=f.maxOffset-e.offset,_=kr.getInsertionPosition(e),E=new kr(e,w,_,null,m);this.batch.addOperation(E),this.model.applyOperation(E),s||u||(s=f,u=e.parent.nextSibling),f=(e=this.createPositionAfter(e.parent)).parent}while(f!==i);return{position:e,range:new it(At._createAt(s,"end"),At._createAt(u,0))}}wrap(e,i){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new M("writer-wrap-range-not-flat",this);const s=i instanceof lr?i:new lr(i);if(s.childCount>0)throw new M("writer-wrap-element-not-empty",this);if(s.parent!==null)throw new M("writer-wrap-element-attached",this);this.insert(s,e.start);const u=new it(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(u,At._createAt(s,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new M("writer-unwrap-element-no-parent",this);this.move(it._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,i){if(this._assertWriterUsedCorrectly(),!i||typeof i.usingOperation!="boolean")throw new M("writer-addmarker-no-usingoperation",this);const s=i.usingOperation,u=i.range,f=i.affectsData!==void 0&&i.affectsData;if(this.model.markers.has(e))throw new M("writer-addmarker-marker-exists",this);if(!u)throw new M("writer-addmarker-no-range",this);return s?(Tm(this,e,null,u,f),this.model.markers.get(e)):this.model.markers._set(e,u,s,f)}updateMarker(e,i){this._assertWriterUsedCorrectly();const s=typeof e=="string"?e:e.name,u=this.model.markers.get(s);if(!u)throw new M("writer-updatemarker-marker-not-exists",this);if(!i)return L("writer-updatemarker-reconvert-using-editingcontroller",{markerName:s}),void this.model.markers._refresh(u);const f=typeof i.usingOperation=="boolean",m=typeof i.affectsData=="boolean",w=m?i.affectsData:u.affectsData;if(!f&&!i.range&&!m)throw new M("writer-updatemarker-wrong-options",this);const _=u.getRange(),E=i.range?i.range:_;f&&i.usingOperation!==u.managedUsingOperations?i.usingOperation?Tm(this,s,null,E,w):(Tm(this,s,_,null,w),this.model.markers._set(s,E,void 0,w)):u.managedUsingOperations?Tm(this,s,_,E,w):this.model.markers._set(s,E,void 0,w)}removeMarker(e){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name;if(!this.model.markers.has(i))throw new M("writer-removemarker-no-marker",this);const s=this.model.markers.get(i);if(!s.managedUsingOperations)return void this.model.markers._remove(i);Tm(this,i,s.getRange(),null,s.affectsData)}addRoot(e,i="$root"){this._assertWriterUsedCorrectly();const s=this.model.document.getRoot(e);if(s&&s.isAttached())throw new M("writer-addroot-root-exists",this);const u=this.model.document,f=new Hl(e,i,!0,u,u.version);return this.batch.addOperation(f),this.model.applyOperation(f),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const i=typeof e=="string"?this.model.document.getRoot(e):e;if(!i||!i.isAttached())throw new M("writer-detachroot-no-root",this);for(const f of this.model.markers)f.getRange().root===i&&this.removeMarker(f);for(const f of i.getAttributeKeys())this.removeAttribute(f,i);this.remove(this.createRangeIn(i));const s=this.model.document,u=new Hl(i.rootName,i.name,!1,s,s.version);this.batch.addOperation(u),this.model.applyOperation(u)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,i){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,i)}setSelectionAttribute(e,i){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,i);else for(const[s,u]of _a(e))this._setSelectionAttribute(s,u)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const i of e)this._removeSelectionAttribute(i)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,i){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const u=ol._getStoreAttributeKey(e);this.setAttribute(u,i,s.anchor.parent)}s._setAttribute(e,i)}_removeSelectionAttribute(e){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const s=ol._getStoreAttributeKey(e);this.removeAttribute(s,i.anchor.parent)}i._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new M("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,i){for(const s of this.model.markers){if(!s.managedUsingOperations)continue;const u=s.getRange();let f=!1;if(e==="move"){const m=i;f=m.containsPosition(u.start)||m.start.isEqual(u.start)||m.containsPosition(u.end)||m.end.isEqual(u.end)}else{const m=i,w=m.nodeBefore,_=m.nodeAfter,E=u.start.parent==w&&u.start.isAtEnd,T=u.end.parent==_&&u.end.offset==0,O=u.end.nodeAfter==_,U=u.start.nodeAfter==_;f=E||T||O||U}f&&this.updateMarker(s.name,{range:u})}}}function zx(c,e,i,s){const u=c.model,f=u.document;let m,w,_,E=s.start;for(const O of s.getWalker({shallow:!0}))_=O.item.getAttribute(e),m&&w!=_&&(w!=i&&T(),E=m),m=O.nextPosition,w=_;function T(){const O=new it(E,m),U=O.root.document?f.version:null,K=new Ai(O,e,w,i,U);c.batch.addOperation(K),u.applyOperation(K)}m instanceof At&&m!=E&&w!=i&&T()}function Ux(c,e,i,s){const u=c.model,f=u.document,m=s.getAttribute(e);let w,_;if(m!=i){if(s.root===s){const E=s.document?f.version:null;_=new qc(s,e,m,i,E)}else{w=new it(At._createBefore(s),c.createPositionAfter(s));const E=w.root.document?f.version:null;_=new Ai(w,e,m,i,E)}c.batch.addOperation(_),u.applyOperation(_)}}function Tm(c,e,i,s,u){const f=c.model,m=f.document,w=new fs(e,i,s,f.markers,!!u,m.version);c.batch.addOperation(w),f.applyOperation(w)}function Y7(c,e,i,s){let u;if(c.root.document){const f=s.document,m=new At(f.graveyard,[0]);u=new $n(c,e,m,f.version)}else u=new W7(c,e);i.addOperation(u),s.applyOperation(u)}function qx(c,e){return c===e||c instanceof r0&&e instanceof r0}function K7(c,e,i={}){if(e.isCollapsed)return;const s=e.getFirstRange();if(s.root.rootName=="$graveyard")return;const u=c.schema;c.change(f=>{if(!i.doNotResetEntireContent&&function(E,T){const O=E.getLimitElement(T);if(!T.containsEntireContent(O))return!1;const U=T.getFirstRange();return U.start.parent==U.end.parent?!1:E.checkChild(O,"paragraph")}(u,e))return void function(E,T){const O=E.model.schema.getLimitElement(T);E.remove(E.createRangeIn(O)),Hx(E,E.createPositionAt(O,0),T)}(f,e);const m={};if(!i.doNotAutoparagraph){const E=e.getSelectedElement();E&&Object.assign(m,u.getAttributesWithProperty(E,"copyOnReplace",!0))}const[w,_]=function(E){const T=E.root.document.model,O=E.start;let U=E.end;if(T.hasContent(E,{ignoreMarkers:!0})){const K=function(ee){const oe=ee.parent,ke=oe.root.document.model.schema,Se=oe.getAncestors({parentFirst:!0,includeSelf:!0});for(const Le of Se){if(ke.isLimit(Le))return null;if(ke.isBlock(Le))return Le}}(U);if(K&&U.isTouching(T.createPositionAt(K,0))){const ee=T.createSelection(E);T.modifySelection(ee,{direction:"backward"});const oe=ee.getLastPosition(),ke=T.createRange(oe,U);T.hasContent(ke,{ignoreMarkers:!0})||(U=oe)}}return[yo.fromPosition(O,"toPrevious"),yo.fromPosition(U,"toNext")]}(s);w.isTouching(_)||f.remove(f.createRange(w,_)),i.leaveUnmerged||(function(E,T,O){const U=E.model;if(!hy(E.model.schema,T,O))return;const[K,ee]=function(oe,ke){const Se=oe.getAncestors(),Le=ke.getAncestors();let tt=0;for(;Se[tt]&&Se[tt]==Le[tt];)tt++;return[Se[tt],Le[tt]]}(T,O);!K||!ee||(!U.hasContent(K,{ignoreMarkers:!0})&&U.hasContent(ee,{ignoreMarkers:!0})?$x(E,T,O,K.parent):Vx(E,T,O,K.parent))}(f,w,_),u.removeDisallowedAttributes(w.parent.getChildren(),f)),Wx(f,e,w),!i.doNotAutoparagraph&&function(E,T){const O=E.checkChild(T,"$text"),U=E.checkChild(T,"paragraph");return!O&&U}(u,w)&&Hx(f,w,e,m),w.detach(),_.detach()})}function Vx(c,e,i,s){const u=e.parent,f=i.parent;if(u!=s&&f!=s){for(e=c.createPositionAfter(u),(i=c.createPositionBefore(f)).isEqual(e)||c.insert(f,e),c.merge(e);i.parent.isEmpty;){const m=i.parent;i=c.createPositionBefore(m),c.remove(m)}hy(c.model.schema,e,i)&&Vx(c,e,i,s)}}function $x(c,e,i,s){const u=e.parent,f=i.parent;if(u!=s&&f!=s){for(e=c.createPositionAfter(u),(i=c.createPositionBefore(f)).isEqual(e)||c.insert(u,i);e.parent.isEmpty;){const m=e.parent;e=c.createPositionBefore(m),c.remove(m)}i=c.createPositionBefore(f),function(m,w){const _=w.nodeBefore,E=w.nodeAfter;_.name!=E.name&&m.rename(_,E.name),m.clearAttributes(_),m.setAttributes(Object.fromEntries(E.getAttributes()),_),m.merge(w)}(c,i),hy(c.model.schema,e,i)&&$x(c,e,i,s)}}function hy(c,e,i){const s=e.parent,u=i.parent;return s!=u&&!c.isLimit(s)&&!c.isLimit(u)&&function(f,m,w){const _=new it(f,m);for(const E of _.getWalker())if(w.isLimit(E.item))return!1;return!0}(e,i,c)}function Hx(c,e,i,s={}){const u=c.createElement("paragraph");c.model.schema.setAllowedAttributes(u,s,c),c.insert(u,e),Wx(c,i,c.createPositionAt(u,0))}function Wx(c,e,i){e instanceof ol?c.setSelection(i):e.setTo(i)}function Gx(c,e){const i=[];Array.from(c.getItems({direction:"backward"})).map(s=>e.createRangeOn(s)).filter(s=>(s.start.isAfter(c.start)||s.start.isEqual(c.start))&&(s.end.isBefore(c.end)||s.end.isEqual(c.end))).forEach(s=>{i.push(s.start.parent),e.remove(s)}),i.forEach(s=>{let u=s;for(;u.parent&&u.isEmpty;){const f=e.createRangeOn(u);u=u.parent,e.remove(f)}})}class Q7{constructor(e,i,s){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=i,this.position=s,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=i.createDocumentFragment(),this._documentFragmentPosition=i.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const i of Array.from(e))this._handleNode(i);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const i=this.writer.createPositionAfter(this._lastNode),s=this.writer.createPositionAfter(e);if(s.isAfter(i)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new M("insertcontent-invalid-insertion-position",this);this.position=s,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?it._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new it(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let i=this._checkAndAutoParagraphToAllowedPosition(e);i||(i=this._checkAndSplitToAllowedPosition(e),i)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=yo.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new M("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=yo.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=yo.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof lr)||!this._canMergeLeft(e))return;const i=yo._createBefore(e);i.stickiness="toNext";const s=yo.fromPosition(this.position,"toNext");this._affectedStart.isEqual(i)&&(this._affectedStart.detach(),this._affectedStart=yo._createAt(i.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=yo._createAt(i.nodeBefore,"end","toNext")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof lr)||!this._canMergeRight(e))return;const i=yo._createAfter(e);if(i.stickiness="toNext",!this.position.isEqual(i))throw new M("insertcontent-invalid-insertion-position",this);this.position=At._createAt(i.nodeBefore,"end");const s=yo.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(i)&&(this._affectedEnd.detach(),this._affectedEnd=yo._createAt(i.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=yo._createAt(i.nodeBefore,0,"toPrevious")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_canMergeLeft(e){const i=e.previousSibling;return i instanceof lr&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(i,e)}_canMergeRight(e){const i=e.nextSibling;return i instanceof lr&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(e,i)}_tryAutoparagraphing(e){const i=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,i)&&this.schema.checkChild(i,e)&&(i._appendChild(e),this._handleNode(i))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const i=this.writer.createElement("paragraph");return this.writer.insert(i,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=i,this.position=this.writer.createPositionAt(i,0),!0}_checkAndSplitToAllowedPosition(e){const i=this._getAllowedIn(this.position.parent,e);if(!i)return!1;for(i!=this.position.parent&&this._insertPartialFragment();i!=this.position.parent;)if(this.position.isAtStart){const s=this.position.parent;this.position=this.writer.createPositionBefore(s),s.isEmpty&&s.parent===i&&this.writer.remove(s)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const s=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=s,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,i){return this.schema.checkChild(e,i)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,i)}}function J7(c,e,i,s={}){if(!c.schema.isObject(e))throw new M("insertobject-element-not-an-object",c,{object:e});const u=i||c.document.selection;let f=u;s.findOptimalPosition&&c.schema.isBlock(e)&&(f=c.createSelection(c.schema.findOptimalInsertionRange(u,s.findOptimalPosition)));const m=ji(u.getSelectedBlocks()),w={};return m&&Object.assign(w,c.schema.getAttributesWithProperty(m,"copyOnReplace",!0)),c.change(_=>{f.isCollapsed||c.deleteContent(f,{doNotAutoparagraph:!0});let E=e;const T=f.anchor.parent;!c.schema.checkChild(T,e)&&c.schema.checkChild(T,"paragraph")&&c.schema.checkChild("paragraph",e)&&(E=_.createElement("paragraph"),_.insert(e,E)),c.schema.setAllowedAttributes(E,w,_);const O=c.insertContent(E,f);return O.isCollapsed||s.setSelection&&function(U,K,ee,oe){const ke=U.model;if(ee=="on")return void U.setSelection(K,"on");if(ee!="after")throw new M("insertobject-invalid-place-parameter-value",ke);let Se=K.nextSibling;if(ke.schema.isInline(K))return void U.setSelection(K,"after");!(Se&&ke.schema.checkChild(Se,"$text"))&&ke.schema.checkChild(K.parent,"paragraph")&&(Se=U.createElement("paragraph"),ke.schema.setAllowedAttributes(Se,oe,U),ke.insertContent(Se,U.createPositionAfter(K))),Se&&U.setSelection(Se,0)}(_,e,s.setSelection,w),O})}const Z7=' ,.?!:;"-()';function X7(c,e){const{isForward:i,walker:s,unit:u,schema:f,treatEmojiAsSingleUnit:m}=c,{type:w,item:_,nextPosition:E}=e;if(w=="text")return c.unit==="word"?function(T,O){let U=T.position.textNode;for(U||(U=O?T.position.nodeAfter:T.position.nodeBefore);U&&U.is("$text");){const K=T.position.offset-U.startOffset;if(nF(U,K,O))U=O?T.position.nodeAfter:T.position.nodeBefore;else{if(tF(U.data,K,O))break;T.next()}}return T.position}(s,i):function(T,O,U){const K=T.position.textNode;if(K){const ee=K.data;let oe=T.position.offset-K.startOffset;for(;pf(ee,oe)||O=="character"&&Pu(ee,oe)||U&&Rb(ee,oe);)T.next(),oe=T.position.offset-K.startOffset}return T.position}(s,u,m);if(w==(i?"elementStart":"elementEnd")){if(f.isSelectable(_))return At._createAt(_,i?"after":"before");if(f.checkChild(E,"$text"))return E}else{if(f.isLimit(_))return void s.skip(()=>!0);if(f.checkChild(E,"$text"))return E}}function eF(c,e){const i=c.root,s=At._createAt(i,e?"end":0);return e?new it(c,s):new it(s,c)}function tF(c,e,i){const s=e+(i?0:-1);return Z7.includes(c.charAt(s))}function nF(c,e,i){return e===(i?c.offsetSize:0)}class rF extends ze(){constructor(){super(),this.markers=new H7,this.document=new F7(this),this.schema=new JB,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,i)=>{i[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,i)=>{if(i.name==="$marker")return!0}),YB(this),this.document.registerPostFixer(ix),this.on("insertContent",(e,[i,s])=>{e.return=function(u,f,m){return u.change(w=>{const _=m||u.document.selection;_.isCollapsed||u.deleteContent(_,{doNotAutoparagraph:!0});const E=new Q7(u,w,_.anchor),T=[];let O;if(f.is("documentFragment")){if(f.markers.size){const ee=[];for(const[oe,ke]of f.markers){const{start:Se,end:Le}=ke,tt=Se.isEqual(Le);ee.push({position:Se,name:oe,isCollapsed:tt},{position:Le,name:oe,isCollapsed:tt})}ee.sort(({position:oe},{position:ke})=>oe.isBefore(ke)?1:-1);for(const{position:oe,name:ke,isCollapsed:Se}of ee){let Le=null,tt=null;const ft=oe.parent===f&&oe.isAtStart,Mt=oe.parent===f&&oe.isAtEnd;ft||Mt?Se&&(tt=ft?"start":"end"):(Le=w.createElement("$marker"),w.insert(Le,oe)),T.push({name:ke,element:Le,collapsed:tt})}}O=f.getChildren()}else O=[f];E.handleNodes(O);let U=E.getSelectionRange();if(f.is("documentFragment")&&T.length){const ee=U?qs.fromRange(U):null,oe={};for(let ke=T.length-1;ke>=0;ke--){const{name:Se,element:Le,collapsed:tt}=T[ke],ft=!oe[Se];if(ft&&(oe[Se]=[]),Le){const Mt=w.createPositionAt(Le,"before");oe[Se].push(Mt),w.remove(Le)}else{const Mt=E.getAffectedRange();if(!Mt){tt&&oe[Se].push(E.position);continue}tt?oe[Se].push(Mt[tt]):oe[Se].push(ft?Mt.start:Mt.end)}}for(const[ke,[Se,Le]]of Object.entries(oe))Se&&Le&&Se.root===Le.root&&Se.root.document&&!w.model.markers.has(ke)&&w.addMarker(ke,{usingOperation:!0,affectsData:!0,range:new it(Se,Le)});ee&&(U=ee.toRange(),ee.detach())}U&&(_ instanceof ol?w.setSelection(U):_.setTo(U));const K=E.getAffectedRange()||u.createRange(_.anchor);return E.destroy(),K})}(this,i,s)}),this.on("insertObject",(e,[i,s,u])=>{e.return=J7(this,i,s,u)}),this.on("canEditAt",e=>{const i=!this.document.isReadOnly;e.return=i,i||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Sf,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(i){M.rethrowUnexpectedError(i,this)}}enqueueChange(e,i){try{e?typeof e=="function"?(i=e,e=new Sf):e instanceof Sf||(e=new Sf(e)):e=new Sf,this._pendingChanges.push({batch:e,callback:i}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(s){M.rethrowUnexpectedError(s,this)}}applyOperation(e){e._execute()}insertContent(e,i,s,...u){const f=fy(i,s);return this.fire("insertContent",[e,f,s,...u])}insertObject(e,i,s,u,...f){const m=fy(i,s);return this.fire("insertObject",[e,m,u,u,...f])}deleteContent(e,i){K7(this,e,i)}modifySelection(e,i){(function(s,u,f={}){const m=s.schema,w=f.direction!="backward",_=f.unit?f.unit:"character",E=!!f.treatEmojiAsSingleUnit,T=u.focus,O=new Uc({boundaries:eF(T,w),singleCharacters:!0,direction:w?"forward":"backward"}),U={walker:O,schema:m,isForward:w,unit:_,treatEmojiAsSingleUnit:E};let K;for(;K=O.next();){if(K.done)return;const ee=X7(U,K.value);if(ee)return void(u instanceof ol?s.change(oe=>{oe.setSelectionFocus(ee)}):u.setFocus(ee))}})(this,e,i)}getSelectedContent(e){return function(i,s){return i.change(u=>{const f=u.createDocumentFragment(),m=s.getFirstRange();if(!m||m.isCollapsed)return f;const w=m.start.root,_=m.start.getCommonPath(m.end),E=w.getNodeByPath(_);let T;T=m.start.parent==m.end.parent?m:u.createRange(u.createPositionAt(E,m.start.path[_.length]),u.createPositionAt(E,m.end.path[_.length]+1));const O=T.end.offset-T.start.offset;for(const U of T.getItems({shallow:!0}))U.is("$textProxy")?u.appendText(U.data,U.getAttributes(),f):u.append(u.cloneElement(U,!0),f);if(T!=m){const U=m._getTransformedByMove(T.start,u.createPositionAt(f,0),O)[0],K=u.createRange(u.createPositionAt(f,0),U.start);Gx(u.createRange(U.end,u.createPositionAt(f,"end")),u),Gx(K,u)}return f})}(this,e)}hasContent(e,i={}){const s=e instanceof it?e:it._createIn(e);if(s.isCollapsed)return!1;const{ignoreWhitespaces:u=!1,ignoreMarkers:f=!1}=i;if(!f){for(const m of this.markers.getMarkersIntersectingRange(s))if(m.affectsData)return!0}for(const m of s.getItems())if(this.schema.isContent(m)&&(!m.is("$textProxy")||!u||m.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const i=fy(e);return this.fire("canEditAt",[i])}createPositionFromPath(e,i,s){return new At(e,i,s)}createPositionAt(e,i){return At._createAt(e,i)}createPositionAfter(e){return At._createAfter(e)}createPositionBefore(e){return At._createBefore(e)}createRange(e,i){return new it(e,i)}createRangeIn(e){return it._createIn(e)}createRangeOn(e){return it._createOn(e)}createSelection(...e){return new Us(...e)}createBatch(e){return new Sf(e)}createOperationFromJSON(e){return w7.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const i=this._pendingChanges[0].batch;this._currentWriter=new G7(this,i);const s=this._pendingChanges[0].callback(this._currentWriter);e.push(s),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function fy(c,e){if(c)return c instanceof Us||c instanceof ol?c:c instanceof Zd?e||e===0?new Us(c,e):c.is("rootElement")?new Us(c,"in"):new Us(c,"on"):new Us(c)}class iF extends zu{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class py extends zu{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class $c{constructor(e){this.document=e}createDocumentFragment(e){return new Jd(this.document,e)}createElement(e,i,s){return new Po(this.document,e,i,s)}createText(e){return new Sn(this.document,e)}clone(e,i=!1){return e._clone(i)}appendChild(e,i){return i._appendChild(e)}insertChild(e,i,s){return s._insertChild(e,i)}removeChildren(e,i,s){return s._removeChildren(e,i)}remove(e){const i=e.parent;return i?this.removeChildren(i.getChildIndex(e),1,i):[]}replace(e,i){const s=e.parent;if(s){const u=s.getChildIndex(e);return this.removeChildren(u,1,s),this.insertChild(u,i,s),!0}return!1}unwrapElement(e){const i=e.parent;if(i){const s=i.getChildIndex(e);this.remove(e),this.insertChild(s,e.getChildren(),i)}}rename(e,i){const s=new Po(this.document,e,i.getAttributes(),i.getChildren());return this.replace(i,s)?s:null}setAttribute(e,i,s){s._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,s){Nn(e)&&s===void 0?i._setStyle(e):s._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,s){s._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}createPositionAt(e,i){return Dt._createAt(e,i)}createPositionAfter(e){return Dt._createAfter(e)}createPositionBefore(e){return Dt._createBefore(e)}createRange(e,i){return new Kt(e,i)}createRangeOn(e){return Kt._createOn(e)}createRangeIn(e){return Kt._createIn(e)}createSelection(...e){return new ts(...e)}}class oF{constructor(){this._commands=new Map}add(e,i){this._commands.set(e,i)}get(e){return this._commands.get(e)}execute(e,...i){const s=this.get(e);if(!s)throw new M("commandcollection-command-not-found",this,{commandName:e});return s.execute(...i)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}var sF=Object.defineProperty,Yx=Object.getOwnPropertySymbols,aF=Object.prototype.hasOwnProperty,lF=Object.prototype.propertyIsEnumerable,Kx=(c,e,i)=>e in c?sF(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;const my="contentEditing",Qx="common";class cF{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const i=e.config.get("menuBar.isVisible"),s=e.locale.t;this.addKeystrokeInfoCategory({id:my,label:s("Content editing keystrokes"),description:s("These keyboard shortcuts allow for quick access to content editing features.")});const u=[{label:s("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:s("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:s("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:s("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:s("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:s("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];i&&u.push({label:s("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:s("User interface and content navigation keystrokes"),description:s("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:u}]})}addKeystrokeInfoCategory({id:e,label:i,description:s,groups:u}){this.keystrokeInfos.set(e,{id:e,label:i,description:s,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:Qx}),u&&u.forEach(f=>{this.addKeystrokeInfoGroup(((m,w)=>{for(var _ in w||(w={}))aF.call(w,_)&&Kx(m,_,w[_]);if(Yx)for(var _ of Yx(w))lF.call(w,_)&&Kx(m,_,w[_]);return m})({categoryId:e},f))})}addKeystrokeInfoGroup({categoryId:e=my,id:i,label:s,keystrokes:u}){const f=this.keystrokeInfos.get(e);if(!f)throw new M("accessibility-unknown-keystroke-info-category",this._editor,{groupId:i,categoryId:e});f.groups.set(i,{id:i,label:s,keystrokes:u||[]})}addKeystrokeInfos({categoryId:e=my,groupId:i=Qx,keystrokes:s}){if(!this.keystrokeInfos.has(e))throw new M("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:s});const u=this.keystrokeInfos.get(e);if(!u.groups.has(i))throw new M("accessibility-unknown-keystroke-info-group",this._editor,{groupId:i,categoryId:e,keystrokes:s});u.groups.get(i).keystrokes.push(...s)}}var Jx=Object.getOwnPropertySymbols,uF=Object.prototype.hasOwnProperty,dF=Object.prototype.propertyIsEnumerable,Zx=(c,e)=>{var i={};for(var s in c)uF.call(c,s)&&e.indexOf(s)<0&&(i[s]=c[s]);if(c!=null&&Jx)for(var s of Jx(c))e.indexOf(s)<0&&dF.call(c,s)&&(i[s]=c[s]);return i};class hF extends ze(){constructor(e={}){super();const i=this.constructor,s=i.defaultConfig||{},{translations:u}=s,f=Zx(s,["translations"]),m=e,{translations:w=u}=m,_=Zx(m,["translations"]),E=e.language||f.language;this._context=e.context||new vi({language:E,translations:w}),this._context._addEditor(this,!e.context);const T=Array.from(i.builtinPlugins||[]);this.config=new Yo(_,f),this.config.define("plugins",T),this.config.define(this._context._getEditorConfig()),this.plugins=new mo(this,T,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new oF,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new rF,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const O=new $b;this.data=new b7(this.model,O),this.editing=new KB(this.model,O),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new k7([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new go(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new cF(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new M("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new M("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new M("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,i=e.get("plugins"),s=e.get("removePlugins")||[],u=e.get("extraPlugins")||[],f=e.get("substitutePlugins")||[];return this.plugins.init(i.concat(u),s,f)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(i=>this.once("ready",i))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...i){try{return this.commands.execute(e,...i)}catch(s){M.rethrowUnexpectedError(s,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function gy(c){return class extends c{updateSourceElement(e){if(!this.sourceElement)throw new M("editor-missing-sourceelement",this);const i=this.config.get("updateSourceElementOnDestroy"),s=this.sourceElement instanceof HTMLTextAreaElement;if(!i&&!s)return void Ld(this.sourceElement,"");const u=typeof e=="string"?e:this.data.get();Ld(this.sourceElement,u)}}}gy.updateSourceElement=gy(Object).prototype.updateSourceElement;class Xx extends si{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Fs({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new M("pendingactions-add-invalid-message",this);const i=new(ze());return i.set("message",e),this._actions.add(i),this.hasAny=!0,i}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const hn={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var e5=a(7801),fF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(e5.A,fF),e5.A.locals;class i0 extends Nt{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${P()}`;const i=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:i.to("for")},children:[{text:i.to("text")}]})}}class pF extends Nt{constructor(e,i){super(e);const s=e.t,u=new i0;u.text=s("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":u.id,role:"document",tabindex:-1},children:[En(document,"p",{},s("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(i.values())),u]})}focus(){this.element.focus()}_createCategories(e){return e.map(i=>{const s=[En(document,"h3",{},i.label),...Array.from(i.groups.values()).map(u=>this._createGroup(u)).flat()];return i.description&&s.splice(1,0,En(document,"p",{},i.description)),En(document,"section",{},s)})}_createGroup(e){const i=e.keystrokes.sort((u,f)=>u.label.localeCompare(f.label)).map(u=>this._createGroupRow(u)).flat(),s=[En(document,"dl",{},i)];return e.label&&s.unshift(En(document,"h4",{},e.label)),s}_createGroupRow(e){const i=this.locale.t,s=En(document,"dt"),u=En(document,"dd"),f=function(w){return typeof w=="string"?[[w]]:typeof w[0]=="string"?[w]:w}(e.keystroke),m=[];for(const w of f)m.push(w.map(mF).join(""));return s.innerHTML=e.label,u.innerHTML=m.join(", ")+(e.mayRequireFn&&b.isMac?` ${i("(may require <kbd>Fn</kbd>)")}`:""),[s,u]}}function mF(c){return ff(c).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}const t5='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var n5=a(8527),gF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(n5.A,gF),n5.A.locals;class bF extends ct{constructor(){super(...arguments),this.contentView=null}static get requires(){return[Gc]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,i=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const s=this._createButton(Hn);return s.set({tooltip:!0,withText:!1,label:i("Accessibility help")}),s}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const s=this._createButton($s);return s.label=i("Accessibility"),s}),e.keystrokes.set("Alt+0",(s,u)=>{this._showDialog(),u()}),this._setupRootLabels()}_createButton(e){const i=new e(this.editor.locale);return i.set({keystroke:"Alt+0",icon:t5}),i.on("execute",()=>this._showDialog()),i}_setupRootLabels(){const e=this.editor,i=e.editing.view,s=e.t;function u(f,m){const w=`${m.getAttribute("aria-label")}. ${s("Press %0 for help.",[ff("Alt+0")])}`;f.setAttribute("aria-label",w,m)}e.ui.on("ready",()=>{i.change(f=>{for(const m of i.document.roots)u(f,m)}),e.on("addRoot",(f,m)=>{const w=e.editing.view.document.getRoot(m.rootName);i.change(_=>u(_,w))},{priority:"low"})})}_showDialog(){const e=this.editor,i=e.plugins.get("Dialog"),s=e.locale.t;this.contentView||(this.contentView=new pF(e.locale,e.accessibility.keystrokeInfos)),i.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:s("Accessibility help"),icon:t5,hasCloseButton:!0,content:this.contentView})}}class kF extends Jo{constructor(e,i=[]){super(i),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new I({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=En(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var r5=a(7621),wF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(r5.A,wF),r5.A.locals;const i5=class extends Nt{constructor(){super();const c=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",c.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",c.if("isColorInherited","ck-icon_inherit-color")],viewBox:c.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const c=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=c.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:i,value:s}of Array.from(c.attributes))i5.presentationalAttributeNames.includes(i)&&this.element.setAttribute(i,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;c.childNodes.length>0;)this.element.appendChild(c.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(c=>{c.style.fill=this.fillColor})}};let Hc=i5;Hc.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class yF extends Nt{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var o5=a(9715),vF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(o5.A,vF),o5.A.locals;class Hn extends Nt{constructor(e,i=new yF){super(e),this._focusDelayed=null;const s=this.bindTemplate,u=P();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${u}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(i),this.iconView=new Hc,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const f={tag:"button",attributes:{class:["ck","ck-button",s.to("class"),s.if("isEnabled","ck-disabled",m=>!m),s.if("isVisible","ck-hidden",m=>!m),s.to("isOn",m=>m?"ck-on":"ck-off"),s.if("withText","ck-button_with-text"),s.if("withKeystroke","ck-button_with-keystroke")],role:s.to("role"),type:s.to("type",m=>m||"button"),tabindex:s.to("tabindex"),"aria-checked":s.to("ariaChecked"),"aria-label":s.to("ariaLabel"),"aria-labelledby":s.to("ariaLabelledBy"),"aria-disabled":s.if("isEnabled",!0,m=>!m),"aria-pressed":s.to("isOn",m=>!!this.isToggleable&&String(!!m)),"data-cke-tooltip-text":s.to("_tooltipString"),"data-cke-tooltip-position":s.to("tooltipPosition")},children:this.children,on:{click:s.to(m=>{this.isEnabled?this.fire("execute"):m.preventDefault()})}};b.isSafari&&(this._focusDelayed||(this._focusDelayed=cm(()=>this.focus(),0)),f.on.mousedown=s.to(()=>{this._focusDelayed()}),f.on.mouseup=s.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(f)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Nt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",i=>ff(i))}]}),e}_getTooltipString(e,i,s){return e?typeof e=="string"?e:(s&&(s=ff(s)),e instanceof Function?e(i,s):`${i}${s?` (${s})`:""}`):""}}var s5=a(4391),AF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(s5.A,AF),s5.A.locals;class o0 extends Hn{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Nt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class a5 extends Hn{constructor(e){super(e),this.buttonView=this,this._fileInputView=new _F(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class _F extends Nt{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const s0='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var l5=a(25),CF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(l5.A,CF),l5.A.locals;class xF extends Nt{constructor(e,i){super(e);const s=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),i&&this.children.addMany(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",s.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:s.if("isCollapsed","hidden"),"aria-labelledby":s.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new Hn(this.locale),i=e.bindTemplate;return e.set({withText:!0,icon:s0}),e.extendTemplate({attributes:{"aria-expanded":i.to("isOn",s=>String(s))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",s=>!s),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}var c5=a(7317),SF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(c5.A,SF),c5.A.locals,a(6931),a(9047);var u5=a(4962),EF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(u5.A,EF),u5.A.locals;class a0 extends Nt{constructor(e,i){super(e);const s=`ck-labeled-field-view-${P()}`,u=`ck-labeled-field-view-status-${P()}`;this.fieldView=i(this,s,u),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(s),this.statusView=this._createStatusView(u),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(m,w)=>m||w);const f=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",f.to("class"),f.if("isEnabled","ck-disabled",m=>!m),f.if("isEmpty","ck-labeled-field-view_empty"),f.if("isFocused","ck-labeled-field-view_focused"),f.if("placeholder","ck-labeled-field-view_placeholder"),f.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const i=new i0(this.locale);return i.for=e,i.bind("text").to(this,"label"),i}_createStatusView(e){const i=new Nt(this.locale),s=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",s.if("errorText","ck-labeled-field-view__status_error"),s.if("_statusText","ck-hidden",u=>!u)],id:e,role:s.if("errorText","alert")},children:[{text:s.to("_statusText")}]}),i}focus(e){this.fieldView.focus(e)}}class DF extends Nt{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Li,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),tabindex:i.to("tabIndex"),readonly:i.to("isReadOnly"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById"),"aria-label":i.to("ariaLabel")},on:{input:i.to((...s)=>{this.fire("input",...s),this._updateIsEmpty()}),change:i.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,i,s)=>{this._setDomElementValue(s),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var d5=a(253),IF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(d5.A,IF),d5.A.locals;class TF extends DF{constructor(e){super(e),this.set("inputMode","text");const i=this.bindTemplate;this.extendTemplate({attributes:{inputmode:i.to("inputMode")}})}}class NF extends TF{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var h5=a(1671),MF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(h5.A,MF),h5.A.locals;class PF extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",s=>`ck-dropdown__panel_${s}`),i.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:i.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():L("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var f5=a(8149),OF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(f5.A,OF),f5.A.locals;const by=class extends Nt{constructor(c,e,i){super(c);const s=this.bindTemplate;this.buttonView=e,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new fo,this.focusTracker=new Li,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",u=>!u)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[e,i]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(e,i,s)=>{if(s)if(this.panelPosition==="auto"){const u=by._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=u?u.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const c=(e,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(e,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(e,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",c),this.keystrokes.set("esc",c)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:c,north:e,southEast:i,southWest:s,northEast:u,northWest:f,southMiddleEast:m,southMiddleWest:w,northMiddleEast:_,northMiddleWest:E}=by.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,s,m,w,c,u,f,_,E,e]:[s,i,w,m,c,f,u,E,_,e]}};let ky=by;ky.defaultPanelPositions={south:(c,e)=>({top:c.bottom,left:c.left-(e.width-c.width)/2,name:"s"}),southEast:c=>({top:c.bottom,left:c.left,name:"se"}),southWest:(c,e)=>({top:c.bottom,left:c.left-e.width+c.width,name:"sw"}),southMiddleEast:(c,e)=>({top:c.bottom,left:c.left-(e.width-c.width)/4,name:"sme"}),southMiddleWest:(c,e)=>({top:c.bottom,left:c.left-3*(e.width-c.width)/4,name:"smw"}),north:(c,e)=>({top:c.top-e.height,left:c.left-(e.width-c.width)/2,name:"n"}),northEast:(c,e)=>({top:c.top-e.height,left:c.left,name:"ne"}),northWest:(c,e)=>({top:c.top-e.height,left:c.left-e.width+c.width,name:"nw"}),northMiddleEast:(c,e)=>({top:c.top-e.height,left:c.left-(e.width-c.width)/4,name:"nme"}),northMiddleWest:(c,e)=>({top:c.top-e.height,left:c.left-3*(e.width-c.width)/4,name:"nmw"})},ky._getOptimalPosition=Bd;class jF extends Hn{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Hc;return e.content=s0,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Ta extends se(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const i in e.actions){let s=e.actions[i];typeof s=="string"&&(s=[s]);for(const u of s)e.keystrokeHandler.set(u,(f,m)=>{this[i](),m()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(wy)||null}get last(){return this.focusables.filter(wy).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((i,s)=>{const u=i.element===this.focusTracker.focusedElement;return u&&(e=s),u}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,i){e&&this.focusTracker.focusedElement!==e.element&&e.focus(i)}_getDomFocusableItem(e){const i=this.focusables.length;if(!i)return null;const s=this.current;if(s===null)return this[e===1?"first":"last"];let u=this.focusables.get(s),f=(s+i+e)%i;do{const m=this.focusables.get(f);if(wy(m)){u=m;break}f=(f+i+e)%i}while(f!==s);return u}}function wy(c){return Nm(c)&&Aa(c.element)}function Nm(c){return!(!("focus"in c)||typeof c.focus!="function")}class p5 extends Nt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class LF extends Nt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var RF=Object.defineProperty,m5=Object.getOwnPropertySymbols,BF=Object.prototype.hasOwnProperty,FF=Object.prototype.propertyIsEnumerable,g5=(c,e,i)=>e in c?RF(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,b5=(c,e)=>{for(var i in e||(e={}))BF.call(e,i)&&g5(c,i,e[i]);if(m5)for(var i of m5(e))FF.call(e,i)&&g5(c,i,e[i]);return c};function k5(c){if(Array.isArray(c))return{items:c,removeItems:[]};const e={items:[],removeItems:[]};return c?b5(b5({},e),c):e}var w5=a(9677),zF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(w5.A,zF),w5.A.locals;const UF={alignLeft:hn.alignLeft,bold:hn.bold,importExport:hn.importExport,paragraph:hn.paragraph,plus:hn.plus,text:hn.text,threeVerticalDots:hn.threeVerticalDots,pilcrow:hn.pilcrow,dragIndicator:hn.dragIndicator};class yy extends Nt{constructor(e,i){super(e);const s=this.bindTemplate,u=this.t;this.options=i||{},this.set("ariaLabel",u("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Li,this.keystrokes=new fo,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new qF(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const f=e.uiLanguageDirection==="rtl";this._focusCycler=new Ta({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[f?"arrowright":"arrowleft","arrowup"],focusNext:[f?"arrowleft":"arrowright","arrowdown"]}});const m=["ck","ck-toolbar",s.to("class"),s.if("isCompact","ck-toolbar_compact")];var w;this.options.shouldGroupWhenFull&&this.options.isFloating&&m.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:m,role:"toolbar","aria-label":s.to("ariaLabel"),style:{maxWidth:s.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(w=this,w.bindTemplate.to(_=>{_.target===w.element&&_.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new $F(this):new VF(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,i,s){this.items.addMany(this._buildItemsFromConfig(e,i,s))}_buildItemsFromConfig(e,i,s){const u=k5(e),f=s||u.removeItems;return this._cleanItemsConfiguration(u.items,i,f).map(m=>le(m)?this._createNestedToolbarDropdown(m,i,f):m==="|"?new p5:m==="-"?new LF:i.create(m)).filter(m=>!!m)}_cleanItemsConfiguration(e,i,s){const u=e.filter((f,m,w)=>f==="|"||s.indexOf(f)===-1&&(f==="-"?!this.options.shouldGroupWhenFull||(L("toolbarview-line-break-ignored-when-grouping-items",w),!1):!(!le(f)&&!i.has(f))||(L("toolbarview-item-unavailable",{item:f}),!1)));return this._cleanSeparatorsAndLineBreaks(u)}_cleanSeparatorsAndLineBreaks(e){const i=m=>m!=="-"&&m!=="|",s=e.length,u=e.findIndex(i);if(u===-1)return[];const f=s-e.slice().reverse().findIndex(i);return e.slice(u,f).filter((m,w,_)=>i(m)?!0:!(w>0&&_[w-1]===m))}_createNestedToolbarDropdown(e,i,s){let{label:u,icon:f,items:m,tooltip:w=!0,withText:_=!1}=e;if(m=this._cleanItemsConfiguration(m,i,s),!m.length)return null;const E=Wc(this.locale);return u||L("toolbarview-nested-toolbar-dropdown-missing-label",e),E.class="ck-toolbar__nested-toolbar-dropdown",E.buttonView.set({label:u,tooltip:w,withText:!!_}),f!==!1?E.buttonView.icon=UF[f]||f||hn.threeVerticalDots:E.buttonView.withText=!0,_y(E,()=>E.toolbarView._buildItemsFromConfig(m,i,s)),E}}class qF extends Nt{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class VF{constructor(e){const i=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(s=>s),e.focusables.bindTo(e.items).using(s=>Nm(s)?s:null),e.extendTemplate({attributes:{class:[i.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class $F{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(i=>i),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(i,s)=>{const u=s.index,f=Array.from(s.added);for(const m of s.removed)u>=this.ungroupedItems.length?this.groupedItems.remove(m):this.ungroupedItems.remove(m);for(let m=u;m<u+f.length;m++){const w=f[m-u];m>this.ungroupedItems.length?this.groupedItems.add(w,m-this.ungroupedItems.length):this.ungroupedItems.add(w,m)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Aa(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let i;for(;this._areItemsOverflowing;)this._groupLastItem(),i=!0;if(!i&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,i=this.viewLocale.uiLanguageDirection,s=new qt(e.lastChild),u=new qt(e);if(!this.cachedPadding){const f=h.window.getComputedStyle(e),m=i==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(f[m])}return i==="ltr"?s.right>u.right-this.cachedPadding:s.left<u.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new va(this.viewElement,i=>{e&&e===i.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=i.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new p5),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,i=e.t,s=Wc(e);return s.class="ck-toolbar__grouped-dropdown",s.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",_y(s,this.groupedItems),s.buttonView.set({label:i("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:hn.threeVerticalDots}),s}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{Nm(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Df extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",i.if("isVisible","ck-hidden",s=>!s)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class vy extends Nt{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class l0 extends Nt{constructor(e,i=new i0){super(e);const s=this.bindTemplate,u=new Ay(e);this.set({label:"",isVisible:!0}),this.labelView=i,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,u]),u.set({role:"group",ariaLabelledBy:i.id}),u.focusTracker.destroy(),u.keystrokes.destroy(),this.items=u.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",s.if("isVisible","ck-hidden",f=>!f)]},children:this.children})}focus(){if(this.items){const e=this.items.find(i=>!(i instanceof vy));e&&e.focus()}}}var y5=a(5199),HF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(y5.A,HF),y5.A.locals;class Ay extends Nt{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const i=this.bindTemplate;this.focusables=new Jo,this.items=this.createCollection(),this.focusTracker=new Li,this.keystrokes=new fo,this._focusCycler=new Ta({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:i.to("role"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof l0?this._registerFocusableItemsGroup(e):e instanceof Df&&this._registerFocusableListItem(e);this.items.on("change",(e,i)=>{for(const s of i.removed)s instanceof l0?this._deregisterFocusableItemsGroup(s):s instanceof Df&&this._deregisterFocusableListItem(s);for(const s of Array.from(i.added).reverse())s instanceof l0?this._registerFocusableItemsGroup(s,i.index):this._registerFocusableListItem(s,i.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,i){this.focusTracker.add(e.element),this.focusables.add(e,i)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(i,s)=>{for(const u of s.removed)this._deregisterFocusableListItem(u);for(const u of Array.from(s.added).reverse())this._registerFocusableListItem(u,this.items.getIndex(e)+s.index)}}_registerFocusableItemsGroup(e,i){Array.from(e.items).forEach((u,f)=>{const m=i!==void 0?i+f:void 0;this._registerFocusableListItem(u,m)});const s=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,s),e.items.on("change",s)}_deregisterFocusableItemsGroup(e){for(const i of e.items)this._deregisterFocusableListItem(i);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}var v5=a(1792),WF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(v5.A,WF),v5.A.locals;class c0 extends Nt{constructor(e,i){super(e);const s=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(i),this.arrowView=this._createArrowView(),this.keystrokes=new fo,this.focusTracker=new Li,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",s.to("class"),s.if("isVisible","ck-hidden",u=>!u),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,i)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),i())}),this.keystrokes.set("arrowleft",(e,i)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),i())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const i=e||new Hn;return e||i.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),i.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),i.delegate("execute").to(this),i}_createArrowView(){const e=new Hn,i=e.bindTemplate;return e.icon=s0,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":i.to("isOn"),"aria-haspopup":!0,"aria-expanded":i.to("isOn",s=>String(s))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var A5=a(1666),GF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(A5.A,GF),A5.A.locals;var _5=a(3629),YF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(_5.A,YF),_5.A.locals;function Wc(c,e=jF){const i=typeof e=="function"?new e(c):e,s=new PF(c),u=new ky(c,i,s);return i.bind("isEnabled").to(u),i instanceof c0?i.arrowView.bind("isOn").to(u,"isOpen"):i.bind("isOn").to(u,"isOpen"),function(f){(function(m){m.on("render",()=>{zn({emitter:m,activator:()=>m.isOpen,callback:()=>{m.isOpen=!1},contextElements:()=>[m.element,...m.focusTracker._elements]})})})(f),function(m){m.on("execute",w=>{w.source instanceof o0||(m.isOpen=!1)})}(f),function(m){m.focusTracker.on("change:isFocused",(w,_,E)=>{m.isOpen&&!E&&(m.isOpen=!1)})}(f),function(m){m.keystrokes.set("arrowdown",(w,_)=>{m.isOpen&&(m.panelView.focus(),_())}),m.keystrokes.set("arrowup",(w,_)=>{m.isOpen&&(m.panelView.focusLast(),_())})}(f),function(m){m.on("change:isOpen",(w,_,E)=>{if(E)return;const T=m.panelView.element;T&&T.contains(h.document.activeElement)&&m.buttonView.focus()})}(f),function(m){m.on("change:isOpen",(w,_,E)=>{E&&m.panelView.focus()},{priority:"low"})}(f)}(u),u}function _y(c,e,i={}){c.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),c.isOpen?C5(c,e,i):c.once("change:isOpen",()=>C5(c,e,i),{priority:"highest"}),i.enableActiveItemFocusOnDropdownOpen&&E5(c,()=>c.toolbarView.items.find(s=>s.isOn))}function C5(c,e,i){const s=c.locale,u=s.t,f=c.toolbarView=new yy(s),m=typeof e=="function"?e():e;f.ariaLabel=i.ariaLabel||u("Dropdown toolbar"),i.maxWidth&&(f.maxWidth=i.maxWidth),i.class&&(f.class=i.class),i.isCompact&&(f.isCompact=i.isCompact),i.isVertical&&(f.isVertical=!0),m instanceof Jo?f.items.bindTo(m).using(w=>w):f.items.addMany(m),c.panelView.children.add(f),f.items.delegate("execute").to(c)}function x5(c,e,i={}){c.isOpen?S5(c,e,i):c.once("change:isOpen",()=>S5(c,e,i),{priority:"highest"}),E5(c,()=>c.listView.items.find(s=>s instanceof Df&&s.children.first.isOn))}function S5(c,e,i){const s=c.locale,u=c.listView=new Ay(s),f=typeof e=="function"?e():e;u.ariaLabel=i.ariaLabel,u.role=i.role,D5(c,u.items,f,s),c.panelView.children.add(u),u.items.delegate("execute").to(c)}function E5(c,e){c.on("change:isOpen",()=>{if(!c.isOpen)return;const i=e();i&&(typeof i.focus=="function"?i.focus():L("ui-dropdown-focus-child-on-open-child-missing-focus",{view:i}))},{priority:B.low-10})}function D5(c,e,i,s){e.bindTo(i).using(u=>{if(u.type==="separator")return new vy(s);if(u.type==="group"){const f=new l0(s);return f.set({label:u.label}),D5(c,f.items,u.items,s),f.items.delegate("execute").to(c),f}if(u.type==="button"||u.type==="switchbutton"){const f=new Df(s);let m;return u.type==="button"?(m=new Hn(s),m.bind("ariaChecked").to(m,"isOn")):m=new o0(s),m.bind(...Object.keys(u.model)).to(u.model),m.delegate("execute").to(f),f.children.add(m),f}return null})}const u0=(c,e,i)=>{const s=new NF(c.locale);return s.set({id:e,ariaDescribedById:i}),s.bind("isReadOnly").to(c,"isEnabled",u=>!u),s.bind("hasError").to(c,"errorText",u=>!!u),s.on("input",()=>{c.errorText=null}),c.bind("isEmpty","isFocused","placeholder").to(s),s};var I5=a(1905),KF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(I5.A,KF),I5.A.locals;var T5=a(6309),QF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(T5.A,QF),T5.A.locals;class JF{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,i){this._components.set(Cy(e),{callback:i,originalName:e})}create(e){if(!this.has(e))throw new M("componentfactory-item-missing",this,{name:e});return this._components.get(Cy(e)).callback(this.editor.locale)}has(e){return this._components.has(Cy(e))}}function Cy(c){return String(c).toLowerCase()}var N5=a(7913),ZF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(N5.A,ZF),N5.A.locals;class XF extends Nt{constructor(e,i={}){super(e);const s=this.bindTemplate;this.set("label",i.label||""),this.set("class",i.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",s.to("class")]},children:this.children}),i.icon&&(this.iconView=new Hc,this.iconView.content=i.icon,this.children.add(this.iconView));const u=new Nt(e);u.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:s.to("label")}]}),this.children.add(u)}}var M5=a(9822),e9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(M5.A,e9),M5.A.locals;class t9 extends Nt{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new fo,this._focusTracker=new Li,this._focusables=new Jo,this.focusCycler=new Ta({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const i of e){const s=new Hn(this.locale);let u;for(u in s.on("execute",()=>i.onExecute()),i.onCreate&&i.onCreate(s),i)u!="onExecute"&&u!="onCreate"&&s.set(u,i[u]);this.children.add(s)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class n9 extends Nt{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var P5=a(9819),r9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(P5.A,r9),P5.A.locals;const d0="screen-center",O5="editor-center",i9="editor-top-side",o9="editor-top-center",s9="editor-bottom-center",a9="editor-above-center",l9="editor-below-center",j5=Ol("px"),L5=class extends function(c){return class extends c{constructor(...e){super(...e),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(h.document,"mouseup",this._onDragEndBound),this.listenTo(h.document,"touchend",this._onDragEndBound),this.listenTo(h.document,"mousemove",this._onDragBound),this.listenTo(h.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(h.document,"mouseup",this._onDragEndBound),this.stopListening(h.document,"touchend",this._onDragEndBound),this.stopListening(h.document,"mousemove",this._onDragBound),this.stopListening(h.document,"touchmove",this._onDragBound)}_onDragStart(e,i){if(!this._isHandleElementPressed(i))return;this._attachDragListeners();let s=0,u=0;i instanceof MouseEvent?(s=i.clientX,u=i.clientY):(s=i.touches[0].clientX,u=i.touches[0].clientY),this._lastDraggingCoordinates={x:s,y:u},this.isDragging=!0}_onDrag(e,i){if(!this.isDragging)return void this._detachDragListeners();let s=0,u=0;i instanceof MouseEvent?(s=i.clientX,u=i.clientY):(s=i.touches[0].clientX,u=i.touches[0].clientY),i.preventDefault(),this.fire("drag",{deltaX:Math.round(s-this._lastDraggingCoordinates.x),deltaY:Math.round(u-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:s,y:u}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}(Nt){constructor(c,{getCurrentDomRoot:e,getViewportOffset:i}){super(c),this.wasMoved=!1;const s=this.bindTemplate,u=c.t;this.set("className",""),this.set("ariaLabel",u("Editor dialog")),this.set("isModal",!1),this.set("position",d0),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=e,this._getViewportOffset=i,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new fo,this.focusTracker=new Li,this._focusables=new Jo,this._focusCycler=new Ta({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",s.if("isModal","ck-dialog-overlay__transparent",f=>!f),s.if("_isVisible","ck-hidden",f=>!f)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",s.to("className")],role:"dialog","aria-label":s.to("ariaLabel"),style:{top:s.to("_top",f=>j5(f)),left:s.to("_left",f=>j5(f)),visibility:s.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(c,e)=>{this.fire("close",{source:"escKeyPress"}),e()}),this.on("drag",(c,{deltaX:e,deltaY:i})=>{this.wasMoved=!0,this.moveBy(e,i)}),this.listenTo(h.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(h.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(c,e,i)=>{i&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:c,title:e,hasCloseButton:i=!0,content:s,actionButtons:u}){e&&(this.headerView=new XF(this.locale,{icon:c}),i&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=e,this.ariaLabel=e,this.parts.add(this.headerView,0)),s&&(s instanceof Nt&&(s=[s]),this.contentView=new n9(this.locale),this.contentView.children.addMany(s),this.parts.add(this.contentView)),u&&(this.actionsView=new t9(this.locale),this.actionsView.setButtons(u),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(c,e){const i=this._getViewportRect(),s=this._getDialogRect();c+s.width>i.right&&(c=i.right-s.width),c<i.left&&(c=i.left),e<i.top&&(e=i.top),this._moveTo(c,e)}_moveTo(c,e){this._left=c,this._top=e}moveBy(c,e){this.moveTo(this._left+c,this._top+e)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const c=this._getViewportRect();let e,i=this.position;this._getCurrentDomRoot()?e=this._getVisibleDomRootRect(c):i=d0;const s=L5.defaultOffset,u=this._getDialogRect();switch(i){case i9:if(e){const f=this.locale.contentLanguageDirection==="ltr"?e.right-u.width-s:e.left+s;this.moveTo(f,e.top+s)}else this._moveOffScreen();break;case O5:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),Math.round(e.top+e.height/2-u.height/2)):this._moveOffScreen();break;case d0:this.moveTo(Math.round((c.width-u.width)/2),Math.round((c.height-u.height)/2));break;case o9:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),e.top+s):this._moveOffScreen();break;case s9:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),e.bottom-u.height-s):this._moveOffScreen();break;case a9:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),e.top-u.height-s):this._moveOffScreen();break;case l9:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),e.bottom+s):this._moveOffScreen()}}_getVisibleDomRootRect(c){let e=new qt(this._getCurrentDomRoot()).getVisible();return e?(e=c.getIntersection(e),e||null):null}_getDialogRect(){return new qt(this.element.firstElementChild)}_getViewportRect(){return function(c){c=Object.assign({top:0,bottom:0,left:0,right:0},c);const e=new qt(h.window);return e.top+=c.top,e.height-=c.top,e.bottom-=c.bottom,e.height-=c.bottom,e.left+=c.left,e.right-=c.right,e.width-=c.left+c.right,e}(this._getViewportOffset())}_updateFocusCyclableItems(){const c=[];if(this.contentView)for(const e of this.contentView.children)Nm(e)&&c.push(e);this.actionsView&&c.push(this.actionsView),this.closeButtonView&&c.push(this.closeButtonView),c.forEach(e=>{var i;this._focusables.add(e),this.focusTracker.add(e.element),Nm(i=e)&&"focusCycler"in i&&i.focusCycler instanceof Ta&&(this.listenTo(e.focusCycler,"forwardCycle",s=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&s.stop()}),this.listenTo(e.focusCycler,"backwardCycle",s=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&s.stop()}))})}_createCloseButton(){const c=new Hn(this.locale),e=this.locale.t;return c.set({label:e("Close"),tooltip:!0,icon:hn.cancel}),c.on("execute",()=>this.fire("close",{source:"closeButton"})),c}};let h0=L5;h0.defaultOffset=15;class Gc extends ct{constructor(e){super(e);const i=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:i("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(e,i)=>{this._show(i)}),this.on("show",(e,i)=>{i.onShow&&i.onShow(this)},{priority:"low"}),this.on("hide",()=>{Gc._visibleDialogPlugin&&Gc._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(i,s)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),s())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const i=e.document.differ.getChangedRoots();for(const s of i)s.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:i,title:s,hasCloseButton:u=!0,content:f,actionButtons:m,className:w,isModal:_,position:E,onHide:T}){const O=this.editor;this.view=new h0(O.locale,{getCurrentDomRoot:()=>O.editing.view.getDomRoot(O.model.document.selection.anchor.root.rootName),getViewportOffset:()=>O.ui.viewportOffset});const U=this.view;U.on("close",()=>{this.hide()}),O.ui.view.body.add(U),O.ui.focusTracker.add(U.element),O.keystrokes.listenTo(U.element),E||(E=_?d0:O5),U.set({position:E,_isVisible:!0,className:w,isModal:_}),U.setupParts({icon:i,title:s,hasCloseButton:u,content:f,actionButtons:m}),this.id=e,T&&(this._onHide=T),this.isOpen=!0,Gc._visibleDialogPlugin=this}hide(){Gc._visibleDialogPlugin&&Gc._visibleDialogPlugin.fire(`hide:${Gc._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,i=this.view;i.contentView&&i.contentView.reset(),e.ui.view.body.remove(i),e.ui.focusTracker.remove(i.element),e.keystrokes.stopListening(i.element),i.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,Gc._visibleDialogPlugin=null}}var R5=a(3710),c9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(R5.A,c9),R5.A.locals;var u9=Object.defineProperty,B5=Object.getOwnPropertySymbols,d9=Object.prototype.hasOwnProperty,h9=Object.prototype.propertyIsEnumerable,F5=(c,e,i)=>e in c?u9(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,Wn=(c,e)=>{for(var i in e||(e={}))d9.call(e,i)&&F5(c,i,e[i]);if(B5)for(var i of B5(e))h9.call(e,i)&&F5(c,i,e[i]);return c};const z5=Ol("px"),U5=h.document.body,f9={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},xy=class extends Nt{constructor(c){super(c);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",i=>`ck-balloon-panel_${i}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",z5),left:e.to("left",z5)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(c){this.show();const e=xy.defaultPositions,i=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:U5,fitInViewport:!0},c),s=xy._getOptimalPosition(i)||f9,u=parseInt(s.left),f=parseInt(s.top),m=s.name,w=s.config||{},{withArrow:_=!0}=w;this.top=f,this.left=u,this.position=m,this.withArrow=_}pin(c){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(c):this._stopPinning()},this._startPinning(c),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(c){this.attachTo(c);const e=Sy(c.target),i=c.limiter?Sy(c.limiter):U5;this.listenTo(h.document,"scroll",(s,u)=>{const f=u.target,m=e&&f.contains(e),w=i&&f.contains(i);!m&&!w&&e&&i||this.attachTo(c)},{useCapture:!0}),this.listenTo(h.window,"resize",()=>{this.attachTo(c)})}_stopPinning(){this.stopListening(h.document,"scroll"),this.stopListening(h.window,"resize")}};let ms=xy;function Sy(c){return Kr(c)?c:Pl(c)?c.commonAncestorContainer:typeof c=="function"?Sy(c()):null}function q5(c={}){const{sideOffset:e=ms.arrowSideOffset,heightOffset:i=ms.arrowHeightOffset,stickyVerticalOffset:s=ms.stickyVerticalOffset,config:u}=c;return{northWestArrowSouthWest:(w,_)=>Wn({top:f(w,_),left:w.left-e,name:"arrow_sw"},u&&{config:u}),northWestArrowSouthMiddleWest:(w,_)=>Wn({top:f(w,_),left:w.left-.25*_.width-e,name:"arrow_smw"},u&&{config:u}),northWestArrowSouth:(w,_)=>Wn({top:f(w,_),left:w.left-_.width/2,name:"arrow_s"},u&&{config:u}),northWestArrowSouthMiddleEast:(w,_)=>Wn({top:f(w,_),left:w.left-.75*_.width+e,name:"arrow_sme"},u&&{config:u}),northWestArrowSouthEast:(w,_)=>Wn({top:f(w,_),left:w.left-_.width+e,name:"arrow_se"},u&&{config:u}),northArrowSouthWest:(w,_)=>Wn({top:f(w,_),left:w.left+w.width/2-e,name:"arrow_sw"},u&&{config:u}),northArrowSouthMiddleWest:(w,_)=>Wn({top:f(w,_),left:w.left+w.width/2-.25*_.width-e,name:"arrow_smw"},u&&{config:u}),northArrowSouth:(w,_)=>Wn({top:f(w,_),left:w.left+w.width/2-_.width/2,name:"arrow_s"},u&&{config:u}),northArrowSouthMiddleEast:(w,_)=>Wn({top:f(w,_),left:w.left+w.width/2-.75*_.width+e,name:"arrow_sme"},u&&{config:u}),northArrowSouthEast:(w,_)=>Wn({top:f(w,_),left:w.left+w.width/2-_.width+e,name:"arrow_se"},u&&{config:u}),northEastArrowSouthWest:(w,_)=>Wn({top:f(w,_),left:w.right-e,name:"arrow_sw"},u&&{config:u}),northEastArrowSouthMiddleWest:(w,_)=>Wn({top:f(w,_),left:w.right-.25*_.width-e,name:"arrow_smw"},u&&{config:u}),northEastArrowSouth:(w,_)=>Wn({top:f(w,_),left:w.right-_.width/2,name:"arrow_s"},u&&{config:u}),northEastArrowSouthMiddleEast:(w,_)=>Wn({top:f(w,_),left:w.right-.75*_.width+e,name:"arrow_sme"},u&&{config:u}),northEastArrowSouthEast:(w,_)=>Wn({top:f(w,_),left:w.right-_.width+e,name:"arrow_se"},u&&{config:u}),southWestArrowNorthWest:w=>Wn({top:m(w),left:w.left-e,name:"arrow_nw"},u&&{config:u}),southWestArrowNorthMiddleWest:(w,_)=>Wn({top:m(w),left:w.left-.25*_.width-e,name:"arrow_nmw"},u&&{config:u}),southWestArrowNorth:(w,_)=>Wn({top:m(w),left:w.left-_.width/2,name:"arrow_n"},u&&{config:u}),southWestArrowNorthMiddleEast:(w,_)=>Wn({top:m(w),left:w.left-.75*_.width+e,name:"arrow_nme"},u&&{config:u}),southWestArrowNorthEast:(w,_)=>Wn({top:m(w),left:w.left-_.width+e,name:"arrow_ne"},u&&{config:u}),southArrowNorthWest:w=>Wn({top:m(w),left:w.left+w.width/2-e,name:"arrow_nw"},u&&{config:u}),southArrowNorthMiddleWest:(w,_)=>Wn({top:m(w),left:w.left+w.width/2-.25*_.width-e,name:"arrow_nmw"},u&&{config:u}),southArrowNorth:(w,_)=>Wn({top:m(w),left:w.left+w.width/2-_.width/2,name:"arrow_n"},u&&{config:u}),southArrowNorthMiddleEast:(w,_)=>Wn({top:m(w),left:w.left+w.width/2-.75*_.width+e,name:"arrow_nme"},u&&{config:u}),southArrowNorthEast:(w,_)=>Wn({top:m(w),left:w.left+w.width/2-_.width+e,name:"arrow_ne"},u&&{config:u}),southEastArrowNorthWest:w=>Wn({top:m(w),left:w.right-e,name:"arrow_nw"},u&&{config:u}),southEastArrowNorthMiddleWest:(w,_)=>Wn({top:m(w),left:w.right-.25*_.width-e,name:"arrow_nmw"},u&&{config:u}),southEastArrowNorth:(w,_)=>Wn({top:m(w),left:w.right-_.width/2,name:"arrow_n"},u&&{config:u}),southEastArrowNorthMiddleEast:(w,_)=>Wn({top:m(w),left:w.right-.75*_.width+e,name:"arrow_nme"},u&&{config:u}),southEastArrowNorthEast:(w,_)=>Wn({top:m(w),left:w.right-_.width+e,name:"arrow_ne"},u&&{config:u}),westArrowEast:(w,_)=>Wn({top:w.top+w.height/2-_.height/2,left:w.left-_.width-i,name:"arrow_e"},u&&{config:u}),eastArrowWest:(w,_)=>Wn({top:w.top+w.height/2-_.height/2,left:w.right+i,name:"arrow_w"},u&&{config:u}),viewportStickyNorth:(w,_,E,T)=>{const O=T||E;return w.getIntersection(O)?O.height-w.height>s?null:{top:O.top+s,left:w.left+w.width/2-_.width/2,name:"arrowless",config:Wn({withArrow:!1},u)}:null}};function f(w,_){return w.top-_.height-i}function m(w){return w.bottom+i}}ms.arrowSideOffset=25,ms.arrowHeightOffset=10,ms.stickyVerticalOffset=20,ms._getOptimalPosition=Bd,ms.defaultPositions=q5();var V5=a(9205),p9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(V5.A,p9),V5.A.locals;const $5="ck-tooltip",gs=class extends yi(){constructor(c){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,gs._editors.add(c),gs._instance)return gs._instance;gs._instance=this,this.tooltipTextView=new Nt(c.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new ms(c.locale),this.balloonPanelView.class=$5,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const i=new MutationObserver(()=>{e()});return{attach(s){i.observe(s,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){i.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=Cf(this._pinTooltip,600),this._unpinTooltipDebounced=Cf(this._unpinTooltip,400),this.listenTo(h.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(h.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(h.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(h.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(h.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(h.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(c){const e=c.ui.view&&c.ui.view.body;gs._editors.delete(c),this.stopListening(c.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),gs._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),gs._instance=null)}static getPositioningFunctions(c){const e=gs.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[c]}_onKeyDown(c,e){e.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),e.stopPropagation())}_onEnterOrFocus(c,{target:e}){const i=Ey(e);i?i!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(i,H5(i))):c.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(c,{target:e,relatedTarget:i}){if(c.name==="mouseleave"){if(!Kr(e))return;const s=this.balloonPanelView.element,u=s&&(s===i||s.contains(i)),f=!u&&e===s;if(u)return void this._unpinTooltipDebounced.cancel();if(!f&&this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const m=Ey(e),w=Ey(i);(f||m&&m!==w)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(c,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(c,{text:e,position:i,cssClass:s}){this._unpinTooltip();const u=ji(gs._editors.values()).ui.view.body;u.has(this.balloonPanelView)||u.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:c,positions:gs.getPositioningFunctions(i)}),this._resizeObserver=new va(c,()=>{Aa(c)||this._unpinTooltip()}),this._mutationObserver.attach(c),this.balloonPanelView.class=[$5,s].filter(f=>f).join(" ");for(const f of gs._editors)this.listenTo(f.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=c,this._currentTooltipPosition=i}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const c of gs._editors)this.stopListening(c.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const c=H5(this._currentElementWithTooltip);Aa(this._currentElementWithTooltip)&&c.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:gs.getPositioningFunctions(c.position)}):this._unpinTooltip()}};let f0=gs;function Ey(c){return Kr(c)?c.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function H5(c){return{text:c.dataset.ckeTooltipText,position:c.dataset.ckeTooltipPosition||"s",cssClass:c.dataset.ckeTooltipClass||""}}f0.defaultBalloonPositions=q5({heightOffset:5,sideOffset:13}),f0._editors=new Set,f0._instance=null;const p0=function(c,e,i){var s=!0,u=!0;if(typeof c!="function")throw new TypeError("Expected a function");return le(i)&&(s="leading"in i?!!i.leading:s,u="trailing"in i?!!i.trailing:u),Cf(c,e,{leading:s,maxWait:e,trailing:u})};var m9=Object.defineProperty,W5=Object.getOwnPropertySymbols,g9=Object.prototype.hasOwnProperty,b9=Object.prototype.propertyIsEnumerable,G5=(c,e,i)=>e in c?m9(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,k9=(c,e)=>{for(var i in e||(e={}))g9.call(e,i)&&G5(c,i,e[i]);if(W5)for(var i of W5(e))b9.call(e,i)&&G5(c,i,e[i]);return c};const w9=50,y9=350,v9="Powered by";class A9 extends yi(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=p0(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(i){function s(K){return K.length>=40&&K.length<=255?"VALID":"INVALID"}if(!i)return"INVALID";let u="";try{u=atob(i)}catch{return"INVALID"}const f=u.split("-"),m=f[0],w=f[1];if(!w)return s(i);try{atob(w)}catch{try{if(atob(m),!atob(m).length)return s(i)}catch{return s(i)}}if(m.length<40||m.length>255)return"INVALID";let _="";try{atob(m),_=atob(w)}catch{return"INVALID"}if(_.length!==8)return"INVALID";const E=Number(_.substring(0,4)),T=Number(_.substring(4,6))-1,O=Number(_.substring(6,8)),U=new Date(E,T,O);return U<G||isNaN(Number(U))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(i,s,u)=>{this._updateLastFocusedEditableElement(),u?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(i,s,u)=>{this._updateLastFocusedEditableElement(),u&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,i=this._balloonView=new ms,s=K5(e),u=new _9(e.locale,s.label);i.content.add(u),i.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(i),e.ui.focusTracker.add(i.element),this._balloonView=i}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(i,s){const u=K5(i),f=u.side==="right"?function(m,w){return Y5(m,w,(_,E)=>_.left+_.width-E.width-w.horizontalOffset)}(s,u):function(m,w){return Y5(m,w,_=>_.left+w.horizontalOffset)}(s,u);return{target:s,positions:[f]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,i=e.ui.focusTracker.isFocused,s=e.ui.focusTracker.focusedElement;if(!i||!s)return void(this._lastFocusedEditableElement=null);const u=Array.from(e.ui.getEditableElementsNames()).map(f=>e.ui.getEditableElement(f));u.includes(s)?this._lastFocusedEditableElement=s:this._lastFocusedEditableElement=u[0]}}class _9 extends Nt{constructor(e,i){super(e);const s=new Hc,u=this.bindTemplate;s.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),s.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...i?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[i]}]:[],s],on:{dragstart:u.to(f=>f.preventDefault())}}]})}}function Y5(c,e,i){return(s,u)=>{const f=new qt(c);if(f.width<y9||f.height<w9)return null;let m;m=e.position==="inside"?f.bottom-u.height:f.bottom-u.height/2,m-=e.verticalOffset;const w=i(f,u),_=s.clone().moveTo(w,m).getIntersection(u.clone().moveTo(w,m)).getVisible();return!_||_.getArea()<u.getArea()?null:{top:m,left:w,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function K5(c){const e=c.config.get("ui.poweredBy"),i=e&&e.position||"border";return k9({position:i,label:v9,verticalOffset:i==="inside"?5:0,horizontalOffset:5,side:c.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var Q5=a(1801),C9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(Q5.A,C9),Q5.A.locals;const J5={POLITE:"polite",ASSERTIVE:"assertive"};class x9{constructor(e){this.editor=e,e.once("ready",()=>{for(const i of Object.values(J5))this.announce("",i)})}announce(e,i=J5.POLITE){const s=this.editor;if(!s.ui.view)return;this.view||(this.view=new S9(s.locale),s.ui.view.body.add(this.view));const{politeness:u,isUnsafeHTML:f}=typeof i=="string"?{politeness:i}:i;let m=this.view.regionViews.find(w=>w.politeness===u);m||(m=new E9(s,u),this.view.regionViews.add(m)),m.announce({announcement:e,isUnsafeHTML:f})}}class S9 extends Nt{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class E9 extends Nt{constructor(e,i){super(e.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":i,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=i,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:i}){if(!e.trim().length)return;const s=document.createElement("li");i?this._domConverter.setContentOf(s,e):s.innerText=e,this._listElement.appendChild(s)}get _listElement(){return this.element.querySelector("ul")}}var D9=Object.defineProperty,Z5=Object.getOwnPropertySymbols,I9=Object.prototype.hasOwnProperty,T9=Object.prototype.propertyIsEnumerable,X5=(c,e,i)=>e in c?D9(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class N9 extends ze(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const i=e.editing.view;this.editor=e,this.componentFactory=new JF(e),this.focusTracker=new Li,this.tooltipManager=new f0(e),this.poweredBy=new A9(e),this.ariaLiveAnnouncer=new x9(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(i.document,"layoutChanged",this.update.bind(this)),this.listenTo(i,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,i){this._editableElementsMap.set(e,i),i.ckeditorInstance||(i.ckeditorInstance=this.editor),this.focusTracker.add(i);const s=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(i)};this.isReady?s():this.once("ready",s)}removeEditableElement(e){const i=this._editableElementsMap.get(e);i&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(i),this.focusTracker.remove(i),i.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,i={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:i})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,i=e.config.get("ui.viewportOffset");if(i)return i;const s=e.config.get("toolbar.viewportTopOffset");return s?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:s}):{top:0}}_initFocusTracking(){const e=this.editor,i=e.editing.view;let s,u;e.keystrokes.set("Alt+F10",(f,m)=>{const w=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(w)&&!Array.from(i.domRoots.values()).includes(w)&&(s=w);const _=this._getCurrentFocusedToolbarDefinition();_&&u||(u=this._getFocusableCandidateToolbarDefinitions());for(let E=0;E<u.length;E++){const T=u.shift();if(u.push(T),T!==_&&this._focusFocusableCandidateToolbar(T)){_&&_.options.afterBlur&&_.options.afterBlur();break}}m()}),e.keystrokes.set("Esc",(f,m)=>{const w=this._getCurrentFocusedToolbarDefinition();w&&(s?(s.focus(),s=null):e.editing.view.focus(),w.options.afterBlur&&w.options.afterBlur(),m())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const i of this._focusableToolbarDefinitions){const{toolbarView:s,options:u}=i;(Aa(s.element)||u.beforeFocus)&&e.push(i)}return e.sort((i,s)=>eS(i)-eS(s)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:i,options:{beforeFocus:s}}=e;return s&&s(),!!Aa(i.element)&&(i.focus(),!0)}_handleScrollToTheSelection(e,i){const s=((u,f)=>{for(var m in f||(f={}))I9.call(f,m)&&X5(u,m,f[m]);if(Z5)for(var m of Z5(f))T9.call(f,m)&&X5(u,m,f[m]);return u})({top:0,bottom:0,left:0,right:0},this.viewportOffset);i.viewportOffset.top+=s.top,i.viewportOffset.bottom+=s.bottom,i.viewportOffset.left+=s.left,i.viewportOffset.right+=s.right}}function eS(c){const{toolbarView:e,options:i}=c;let s=10;return Aa(e.element)&&s--,i.isContextual&&s--,s}var tS=a(1185),M9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(tS.A,M9),tS.A.locals;class P9 extends Nt{constructor(e){super(e),this.body=new kF(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class O9 extends P9{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,i=new i0;return i.text=e("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}class j9 extends Nt{constructor(e,i,s){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=s,this._hasExternalElement=!!this._editableElement,this._editingView=i}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function i(s){e.change(u=>{const f=e.document.getRoot(s.name);u.addClass(s.isFocused?"ck-focused":"ck-blurred",f),u.removeClass(s.isFocused?"ck-blurred":"ck-focused",f)})}e.isRenderingInProgress?function s(u){e.once("change:isRenderingInProgress",(f,m,w)=>{w?s(u):i(u)})}(this):i(this)}}class L9 extends j9{constructor(e,i,s,u={}){super(e,i,s);const f=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=u.label||(()=>f("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(i=>{const s=e.document.getRoot(this.name);i.setAttribute("aria-label",this._generateLabel(this),s)})}}class Dy extends si{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,i)=>{window.alert(i.message)},{priority:"lowest"})}showSuccess(e,i={}){this._showNotification({message:e,type:"success",namespace:i.namespace,title:i.title})}showInfo(e,i={}){this._showNotification({message:e,type:"info",namespace:i.namespace,title:i.title})}showWarning(e,i={}){this._showNotification({message:e,type:"warning",namespace:i.namespace,title:i.title})}_showNotification(e){const i=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(i,{message:e.message,type:e.type,title:e.title||""})}}class nS extends ze(){constructor(e,i){super(),i&&D2(this,i),e&&this.set(e)}}var rS=a(991),R9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(rS.A,R9),rS.A.locals;var iS=a(5380),B9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(iS.A,B9),iS.A.locals;const m0=Ol("px");class g0 extends ct{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const i=this.editor.editing.view,s=i.document.selection.editableElement;return s?i.domConverter.mapViewToDom(s.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new M("contextualballoon-add-view-exist",[this,e]);const i=e.stackId||"main";if(!this._idToStack.has(i))return this._idToStack.set(i,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(i));const s=this._idToStack.get(i);e.singleViewMode&&this.showStack(i),s.set(e.view,e),this._viewToStack.set(e.view,s),s===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new M("contextualballoon-remove-view-not-exist",[this,e]);const i=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const i=this._idToStack.get(e);if(!i)throw new M("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}_createPanelView(){this._view=new ms(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(i=>i[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)+1;e[i]||(i=0),this.showStack(this._getStackId(e[i]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)-1;e[i]||(i=e.length-1),this.showStack(this._getStackId(e[i]))}_createRotatorView(){const e=new F9(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(s,u)=>!u&&s>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(s,u)=>{if(u<2)return"";const f=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return i("%0 of %1",[f,u])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new z9(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(i,s)=>!s&&i>=2?Math.min(i-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:i="",withArrow:s=!0,singleViewMode:u=!1}){this.view.class=i,this.view.withArrow=s,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),u&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class F9 extends Nt{constructor(e){super(e);const i=e.t,s=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Li,this.buttonPrevView=this._createButtonView(i("Previous"),hn.previousArrow),this.buttonNextView=this._createButtonView(i("Next"),hn.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",s.to("isNavigationVisible",u=>u?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:s.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,i){const s=new Hn(this.locale);return s.set({label:e,icon:i,tooltip:!0}),s}}class z9 extends Nt{constructor(e,i){super(e);const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=i,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",s.to("numberOfPanels",u=>u?"":"ck-hidden")],style:{top:s.to("top",m0),left:s.to("left",m0),width:s.to("width",m0),height:s.to("height",m0)}},children:this.content}),this.on("change:numberOfPanels",(u,f,m,w)=>{m>w?this._addPanels(m-w):this._removePanels(w-m),this.updatePosition()})}_addPanels(e){for(;e--;){const i=new Nt;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}_removePanels(e){for(;e--;){const i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:i}=this._balloonPanelView,{width:s,height:u}=new qt(this._balloonPanelView.element);Object.assign(this,{top:e,left:i,width:s,height:u})}}}var oS=a(8298),U9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(oS.A,U9),oS.A.locals;const If=Ol("px");class q9 extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new I({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",s=>s?"block":"none"),height:i.to("isSticky",s=>s?If(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new I({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",s=>s?If(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:i.to("_stickyTopOffset",s=>s&&If(s)),bottom:i.to("_stickyBottomOffset",s=>s&&If(s)),marginLeft:i.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(h.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new qt(this.limiterElement);let i=e.getVisible();if(i){const s=new qt(h.window);s.top+=this.viewportTopOffset,s.height-=this.viewportTopOffset,i=i.getIntersection(s)}if(i&&e.top<i.top){const s=i.top;if(s+this._contentPanelRect.height+this.limiterBottomOffset>i.bottom){const u=Math.max(e.bottom-i.bottom,0)+this.limiterBottomOffset;e.bottom-u>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(u):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(s):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=If(-h.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=If(-h.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new qt(this.contentPanelElement)}}class V9 extends a0{constructor(e,i){const s=e.t,u=Object.assign({},{showResetButton:!0,showIcon:!0,creator:u0},i);super(e,u.creator),this.label=i.label,this._viewConfig=u,this._viewConfig.showIcon&&(this.iconView=new Hc,this.iconView.content=hn.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Hn(e),this.resetButtonView.set({label:s("Clear"),icon:hn.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",f=>!f),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class $9 extends Nt{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",i=>!i)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class H9 extends Nt{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new Li,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Ta({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var sS=/[\\^$.*+?()[\]{}|]/g,W9=RegExp(sS.source);const aS=function(c){return(c=gf(c))&&W9.test(c)?c.replace(sS,"\\$&"):c};var lS=a(8107),G9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(lS.A,G9),lS.A.locals;var Y9=Object.defineProperty,cS=Object.getOwnPropertySymbols,K9=Object.prototype.hasOwnProperty,Q9=Object.prototype.propertyIsEnumerable,uS=(c,e,i)=>e in c?Y9(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class J9 extends Nt{constructor(e,i){super(e),this._config=i,this.filteredView=i.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Li,this.keystrokes=new fo,this.resultsView=new H9(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),i.infoView&&i.infoView.instance?this.infoView=i.infoView.instance:(this.infoView=new $9,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Ta({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(s,{resultsCount:u,totalItemsCount:f})=>{this.resultsCount=u,this.totalItemsCount=f}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",i.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=i=>i.stopPropagation();for(const i of this.focusableChildren)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const i=e?new RegExp(aS(e),"ig"):null,s=this.filteredView.filter(i);this.fire("search",((u,f)=>{for(var m in f||(f={}))K9.call(f,m)&&uS(u,m,f[m]);if(cS)for(var m of cS(f))Q9.call(f,m)&&uS(u,m,f[m]);return u})({query:e},s))}_createSearchTextQueryView(){const e=new V9(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,i=this.infoView;function s(u,{query:f,resultsCount:m,totalItemsCount:w}){return typeof u=="function"?u(f,m,w):u}this.on("search",(u,f)=>{if(f.resultsCount)i.set({isVisible:!1});else{const m=this._config.infoView&&this._config.infoView.text;let w,_;f.totalItemsCount?m&&m.notFound?(w=m.notFound.primary,_=m.notFound.secondary):(w=e("No results found"),_=""):m&&m.noSearchableItems?(w=m.noSearchableItems.primary,_=m.noSearchableItems.secondary):(w=e("No searchable items"),_=""),i.set({primaryText:s(w,f),secondaryText:s(_,f),isVisible:!0})}})}}var dS=a(5727),Z9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(dS.A,Z9),dS.A.locals;const Iy=class extends J9{constructor(c,e){super(c,e),this._config=e;const i=Ol("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const s=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[s.if("isVisible","ck-hidden",u=>!u),s.to("_position",u=>`ck-search__results_${u}`)],style:{width:s.to("_width",i)}}}),this.focusTracker.on("change:isFocused",(u,f,m)=>{this._updateResultsVisibility(),m?this.resultsView.element.scrollTop=0:e.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(u,f)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,f())}),this.listenTo(h.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(u,{value:f})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=f,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new qt(this.queryView.fieldView.element).width;const c=Iy._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:Iy.defaultResultsPositions});this.resultsView._position=c?c.name:"s"}_updateResultsVisibility(){const c=this._config.queryMinChars===void 0?0:this._config.queryMinChars,e=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&e>=c}};let hS=Iy;hS.defaultResultsPositions=[c=>({top:c.bottom,left:c.left,name:"s"}),(c,e)=>({top:c.top-e.height,left:c.left,name:"n"})],hS._getOptimalPosition=Bd;var fS=a(9529),X9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(fS.A,X9),fS.A.locals;var pS=a(109),ez={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(pS.A,ez),pS.A.locals;var mS=a(2710),tz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(mS.A,tz),mS.A.locals;var gS=a(3344),nz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(gS.A,nz),gS.A.locals;class rz extends Hn{constructor(e){super(e);const i=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",s=>String(s)),"data-cke-tooltip-disabled":i.to("isOn")},on:{mouseenter:i.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Hc;return e.content=s0,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}var bS=a(9481),iz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(bS.A,iz),bS.A.locals;class Ty extends Df{constructor(e,i){super(e);const s=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:s.to("mouseenter")}}),this.delegate("mouseenter").to(i)}}var oz=Object.defineProperty,kS=Object.getOwnPropertySymbols,sz=Object.prototype.hasOwnProperty,az=Object.prototype.propertyIsEnumerable,wS=(c,e,i)=>e in c?oz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,yS=(c,e)=>{for(var i in e||(e={}))sz.call(e,i)&&wS(c,i,e[i]);if(kS)for(var i of kS(e))az.call(e,i)&&wS(c,i,e[i]);return c};const Mm={toggleMenusAndFocusItemsOnHover(c){c.on("menu:mouseenter",e=>{if(c.isOpen){for(const i of c.menus){const s=e.path[0],u=s instanceof Ty&&s.children.first===i;i.isOpen=(e.path.includes(i)||u)&&i.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(c){const e=c.locale.uiLanguageDirection==="rtl";function i(s,u){const f=c.children.getIndex(s),m=s.isOpen,w=c.children.length,_=c.children.get((f+w+u)%w);s.isOpen=!1,m&&(_.isOpen=!0),_.buttonView.focus()}c.on("menu:arrowright",s=>{i(s.source,e?-1:1)}),c.on("menu:arrowleft",s=>{i(s.source,e?1:-1)})},closeMenusWhenTheBarCloses(c){c.on("change:isOpen",()=>{c.isOpen||c.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(c){c.on("menu:change:isOpen",(e,i,s)=>{s&&c.menus.filter(u=>e.source.parentMenuView===u.parentMenuView&&e.source!==u&&u.isOpen).forEach(u=>{u.isOpen=!1})})},closeOnClickOutside(c){zn({emitter:c,activator:()=>c.isOpen,callback:()=>c.close(),contextElements:()=>c.children.map(e=>e.element)})}},nh={openAndFocusPanelOnArrowDownKey(c){c.keystrokes.set("arrowdown",(e,i)=>{c.focusTracker.focusedElement===c.buttonView.element&&(c.isOpen||(c.isOpen=!0),c.panelView.focus(),i())})},openOnArrowRightKey(c){const e=c.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";c.keystrokes.set(e,(i,s)=>{c.focusTracker.focusedElement===c.buttonView.element&&c.isEnabled&&(c.isOpen||(c.isOpen=!0),c.panelView.focus(),s())})},openOnButtonClick(c){c.buttonView.on("execute",()=>{c.isOpen=!0,c.panelView.focus()})},toggleOnButtonClick(c){c.buttonView.on("execute",()=>{c.isOpen=!c.isOpen,c.isOpen&&c.panelView.focus()})},closeOnArrowLeftKey(c){const e=c.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";c.keystrokes.set(e,(i,s)=>{c.isOpen&&(c.isOpen=!1,c.focus(),s())})},closeOnEscKey(c){c.keystrokes.set("esc",(e,i)=>{c.isOpen&&(c.isOpen=!1,c.focus(),i())})},closeOnParentClose(c){c.parentMenuView.on("change:isOpen",(e,i,s)=>{s||e.source!==c.parentMenuView||(c.isOpen=!1)})}},lz={southEast:c=>({top:c.bottom,left:c.left,name:"se"}),southWest:(c,e)=>({top:c.bottom,left:c.left-e.width+c.width,name:"sw"}),northEast:(c,e)=>({top:c.top-e.height,left:c.left,name:"ne"}),northWest:(c,e)=>({top:c.top-e.height,left:c.left-e.width+c.width,name:"nw"}),eastSouth:c=>({top:c.top,left:c.right-5,name:"es"}),eastNorth:(c,e)=>({top:c.top-e.height,left:c.right-5,name:"en"}),westSouth:(c,e)=>({top:c.top,left:c.left-e.width+5,name:"ws"}),westNorth:(c,e)=>({top:c.top-e.height,left:c.left-e.width+5,name:"wn"})},cz=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function uz({normalizedConfig:c,locale:e,componentFactory:i}){const s=rl(c);return function(u,f){const m=f.removeItems,w=[];f.items=f.items.filter(({menuId:_})=>!m.includes(_)||(w.push(_),!1)),Tf(f.items,_=>{_.groups=_.groups.filter(({groupId:E})=>!m.includes(E)||(w.push(E),!1));for(const E of _.groups)E.items=E.items.filter(T=>{const O=_S(T);return!m.includes(O)||(w.push(O),!1)})});for(const _ of m)w.includes(_)||L("menu-bar-item-could-not-be-removed",{menuBarConfig:u,itemName:_})}(c,s),function(u,f){const m=f.addItems,w=[];for(const _ of m){const E=fz(_.position),T=pz(_.position);if(dz(_))if(T){const O=f.items.findIndex(U=>U.menuId===T);O!=-1?E==="before"?(f.items.splice(O,0,_.menu),w.push(_)):E==="after"&&(f.items.splice(O+1,0,_.menu),w.push(_)):vS(f,_.menu,T,E)&&w.push(_)}else E==="start"?(f.items.unshift(_.menu),w.push(_)):E==="end"&&(f.items.push(_.menu),w.push(_));else hz(_)?Tf(f.items,O=>{if(O.menuId===T)E==="start"?(O.groups.unshift(_.group),w.push(_)):E==="end"&&(O.groups.push(_.group),w.push(_));else{const U=O.groups.findIndex(K=>K.groupId===T);U!==-1&&(E==="before"?(O.groups.splice(U,0,_.group),w.push(_)):E==="after"&&(O.groups.splice(U+1,0,_.group),w.push(_)))}}):vS(f,_.item,T,E)&&w.push(_)}for(const _ of m)w.includes(_)||L("menu-bar-item-could-not-be-added",{menuBarConfig:u,addedItemConfig:_})}(c,s),function(u,f,m){Tf(f.items,w=>{for(const _ of w.groups)_.items=_.items.filter(E=>{const T=typeof E=="string"&&!m.has(E);return T&&!f.isUsingDefaultConfig&&L("menu-bar-item-unavailable",{menuBarConfig:u,parentMenuConfig:rl(w),componentName:E}),!T})})}(c,s,i),AS(c,s),function(u,f){const m=f.t,w={File:m({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:m({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:m({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:m({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:m({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:m({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:m({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:m({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:m({string:"Font",id:"MENU_BAR_MENU_FONT"})};Tf(u.items,_=>{_.label in w&&(_.label=w[_.label])})}(s,e),s}function vS(c,e,i,s){let u=!1;return Tf(c.items,f=>{for(const{groupId:m,items:w}of f.groups){if(u)return;if(m===i)s==="start"?(w.unshift(e),u=!0):s==="end"&&(w.push(e),u=!0);else{const _=w.findIndex(E=>_S(E)===i);_!==-1&&(s==="before"?(w.splice(_,0,e),u=!0):s==="after"&&(w.splice(_+1,0,e),u=!0))}}}),u}function AS(c,e){const i=e.isUsingDefaultConfig;let s=!1;e.items=e.items.filter(u=>!!u.groups.length||(Ny(c,u,i),!1)),e.items.length?(Tf(e.items,u=>{u.groups=u.groups.filter(f=>!!f.items.length||(s=!0,!1));for(const f of u.groups)f.items=f.items.filter(m=>!(CS(m)&&!m.groups.length)||(Ny(c,m,i),s=!0,!1))}),s&&AS(c,e)):Ny(c,c,i)}function Ny(c,e,i){i||L("menu-bar-menu-empty",{menuBarConfig:c,emptyMenuConfig:e})}function Tf(c,e){if(Array.isArray(c))for(const s of c)i(s);function i(s){e(s);for(const u of s.groups)for(const f of u.items)CS(f)&&i(f)}}function dz(c){return typeof c=="object"&&"menu"in c}function hz(c){return typeof c=="object"&&"group"in c}function fz(c){return c.startsWith("start")?"start":c.startsWith("end")?"end":c.startsWith("after")?"after":"before"}function pz(c){const e=c.match(/^[^:]+:(.+)/);return e?e[1]:null}function _S(c){return typeof c=="string"?c:c.menuId}function CS(c){return typeof c=="object"&&"menuId"in c}function mz(c,e){const i=e.element;c.ui.focusTracker.add(i),c.keystrokes.listenTo(i);const s=function(u){let f;return f="items"in u&&u.items?yS({items:u.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},u):yS({items:rl(cz),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},u),f}(c.config.get("menuBar")||{});e.fillFromConfig(s,c.ui.componentFactory),c.keystrokes.set("Esc",(u,f)=>{i.contains(c.ui.focusTracker.focusedElement)&&(c.editing.view.focus(),f())}),c.keystrokes.set("Alt+F9",(u,f)=>{i.contains(c.ui.focusTracker.focusedElement)||(e.focus(),f())})}var xS=a(9108),gz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(xS.A,gz),xS.A.locals;class bz extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",i.to("position",s=>`ck-menu-bar__menu__panel_position_${s}`),i.if("isVisible","ck-hidden",s=>!s)],tabindex:"-1"},children:this.children,on:{selectstart:i.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}var SS=a(4),kz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(SS.A,kz),SS.A.locals;const ES=class extends Nt{constructor(c){super(c);const e=this.bindTemplate;this.buttonView=new rz(c),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new bz(c),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new fo,this.focusTracker=new Li,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",e.to("class"),e.if("isEnabled","ck-disabled",i=>!i),e.if("parentMenuView","ck-menu-bar__menu_top-level",i=>!i)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),nh.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(nh.openOnButtonClick(this),nh.openOnArrowRightKey(this),nh.closeOnArrowLeftKey(this),nh.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),nh.openAndFocusPanelOnArrowDownKey(this),nh.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(c,e)=>{this.fire("arrowright"),e()}),this.keystrokes.set("arrowleft",(c,e)=>{this.fire("arrowleft"),e()})}_repositionPanelOnOpen(){this.on("change:isOpen",(c,e,i)=>{if(!i)return;const s=ES._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=s?s.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:c,southWest:e,northEast:i,northWest:s,westSouth:u,eastSouth:f,westNorth:m,eastNorth:w}=lz;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[f,w,u,m]:[c,e,i,s]:this.parentMenuView?[u,m,f,w]:[e,c,s,i]}};let Nf=ES;Nf._getOptimalPosition=Bd;class My extends Ay{constructor(e){super(e),this.role="menu"}}var DS=a(977),wz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(DS.A,wz),DS.A.locals;class $s extends Hn{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class IS extends a5{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var TS=a(497),yz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(TS.A,yz),TS.A.locals;const NS=["mouseenter","arrowleft","arrowright","change:isOpen"];class vz extends Nt{constructor(e){super(e),this.menus=[];const i=e.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":i("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,i){const s=uz({normalizedConfig:e,locale:this.locale,componentFactory:i}).items.map(u=>this._createMenu({componentFactory:i,menuDefinition:u}));this.children.addMany(s)}render(){super.render(),Mm.toggleMenusAndFocusItemsOnHover(this),Mm.closeMenusWhenTheBarCloses(this),Mm.closeMenuWhenAnotherOnTheSameLevelOpens(this),Mm.focusCycleMenusOnArrows(this),Mm.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,i=null){i?(e.delegate(...NS).to(i),e.parentMenuView=i):e.delegate(...NS).to(this,s=>"menu:"+s),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:i,parentMenuView:s}){const u=this.locale,f=new Nf(u);return this.registerMenu(f,s),f.buttonView.set({label:i.label}),f.once("change:isOpen",()=>{const m=new My(u);m.ariaLabel=i.label,f.panelView.children.add(m),m.items.addMany(this._createMenuItems({menuDefinition:i,parentMenuView:f,componentFactory:e}))}),f}_createMenuItems({menuDefinition:e,parentMenuView:i,componentFactory:s}){const u=this.locale,f=[];for(const m of e.groups){for(const w of m.items){const _=new Ty(u,i);if(le(w))_.children.add(this._createMenu({componentFactory:s,menuDefinition:w,parentMenuView:i}));else{const E=this._createMenuItemContentFromFactory({componentName:w,componentFactory:s,parentMenuView:i});if(!E)continue;_.children.add(E)}f.push(_)}m!==e.groups[e.groups.length-1]&&f.push(new vy(u))}return f}_createMenuItemContentFromFactory({componentName:e,parentMenuView:i,componentFactory:s}){const u=s.create(e);return u instanceof Nf||u instanceof $s||u instanceof IS?(this._registerMenuTree(u,i),u.on("execute",()=>{this.close()}),u):(L("menu-bar-component-unsupported",{componentName:e,componentView:u}),null)}_registerMenuTree(e,i){if(!(e instanceof Nf))return void e.delegate("mouseenter").to(i);this.registerMenu(e,i);const s=e.panelView.children.filter(f=>f instanceof My)[0];if(!s)return void e.delegate("mouseenter").to(i);const u=s.items.filter(f=>f instanceof Df);for(const f of u)this._registerMenuTree(f.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(i,s,u)=>{clearTimeout(e),u?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(f=>f.isOpen)},0)})}}class Az extends N9{constructor(e,i){super(e),this.view=i,this._toolbarConfig=k5(e.config.get("toolbar")),this._elementReplacer=new Ae,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const i=this.editor,s=this.view,u=i.editing.view,f=s.editable,m=u.document.getRoot();f.name=m.rootName,s.render();const w=f.element;this.setEditableElement(f.name,w),s.editable.bind("isFocused").to(this.focusTracker),u.attachDomRoot(w),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),s.menuBarView&&mz(i,s.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:i})=>i||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,i=e.editing.view,s=i.document.getRoot(),u=e.sourceElement;let f;const m=e.config.get("placeholder");m&&(f=typeof m=="string"?m:m[this.view.editable.name]),!f&&u&&u.tagName.toLowerCase()==="textarea"&&(f=u.getAttribute("placeholder")),f&&(s.placeholder=f),Fl({view:i,element:s,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,i,s){const u=this.view.stickyPanel;if(u.isSticky){const f=new qt(u.element).height;i.viewportOffset.top+=f}else{const f=()=>{this.editor.editing.view.scrollToTheSelection(s)};this.listenTo(u,"change:isSticky",f),setTimeout(()=>{this.stopListening(u,"change:isSticky",f)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,i=this.editor.plugins.get("Dialog");i.on("show",()=>{const s=i.view;s.on("moveTo",(u,f)=>{if(!e.isSticky||s.wasMoved)return;const m=new qt(e.contentPanelElement);f[1]<m.bottom+h0.defaultOffset&&(f[1]=m.bottom+h0.defaultOffset)},{priority:"high"})},{priority:"low"})}}var MS=a(7388),_z={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(MS.A,_z),MS.A.locals;class Cz extends O9{constructor(e,i,s={}){super(e),this.stickyPanel=new q9(e),this.toolbar=new yy(e,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull}),s.useMenuBar&&(this.menuBarView=new vz(e)),this.editable=new L9(e,i)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class PS{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=i=>{const s="error"in i?i.error:i.reason;s instanceof Error&&this._handleError(s,i)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,i){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(i)}off(e,i){this._listeners[e]=this._listeners[e].filter(s=>s!==i)}_fire(e,...i){const s=this._listeners[e]||[];for(const u of s)u.apply(this,[null,...i])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,i){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:i instanceof ErrorEvent?i.filename:void 0,lineno:i instanceof ErrorEvent?i.lineno:void 0,colno:i instanceof ErrorEvent?i.colno:void 0,date:this._now()});const s=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:s}),s?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Py(c,e=new Set){const i=[c],s=new Set;let u=0;for(;i.length>u;){const f=i[u++];if(!s.has(f)&&xz(f)&&!e.has(f))if(s.add(f),Symbol.iterator in f)try{for(const m of f)i.push(m)}catch{}else for(const m in f)m!=="defaultValue"&&i.push(f[m])}return s}function xz(c){const e=Object.prototype.toString.call(c),i=typeof c;return!(i==="number"||i==="boolean"||i==="string"||i==="symbol"||i==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||c==null||c._watchdogExcluded||c instanceof EventTarget||c instanceof Event)}function OS(c,e,i=new Set){if(c===e&&typeof(s=c)=="object"&&s!==null)return!0;var s;const u=Py(c,i),f=Py(e,i);for(const m of u)if(f.has(m))return!0;return!1}var Sz=Object.defineProperty,Ez=Object.defineProperties,Dz=Object.getOwnPropertyDescriptors,b0=Object.getOwnPropertySymbols,jS=Object.prototype.hasOwnProperty,LS=Object.prototype.propertyIsEnumerable,RS=(c,e,i)=>e in c?Sz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,Oy=(c,e)=>{for(var i in e||(e={}))jS.call(e,i)&&RS(c,i,e[i]);if(b0)for(var i of b0(e))LS.call(e,i)&&RS(c,i,e[i]);return c};class BS extends PS{constructor(e,i={}){super(i),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=p0(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),e&&(this._creator=(s,u)=>e.create(s,u)),this._destructor=s=>s.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},i=[],s=this._config.rootsAttributes||{},u={};for(const[_,E]of Object.entries(this._data.roots))E.isLoaded?(e[_]="",u[_]=s[_]||{}):i.push(_);const f=(m=Oy({},this._config),w={extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:u,_watchdogInitialData:this._data},Ez(m,Dz(w)));var m,w;return delete f.initialData,f.extraPlugins.push(Iz),this._initUsingData?this.create(e,f,f.context):Kr(this._elementOrData)?this.create(this._elementOrData,f,f.context):this.create(this._editables,f,f.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,i=this._config,s){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=s,this._creator(e,this._config))).then(u=>{this._editor=u,u.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=u.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,i=e.model.document.roots.filter(w=>w.isAttached()&&w.rootName!="$graveyard"),{plugins:s}=e,u=s.has("CommentsRepository")&&s.get("CommentsRepository"),f=s.has("TrackChanges")&&s.get("TrackChanges"),m={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(w=>{m.roots[w.rootName]={content:JSON.stringify(Array.from(w.getChildren())),attributes:JSON.stringify(Array.from(w.getAttributes())),isLoaded:w._isLoaded}});for(const w of e.model.markers)w._affectsData&&(m.markers[w.name]={rangeJSON:w.getRange().toJSON(),usingOperation:w._managedUsingOperations,affectsData:w._affectsData});return u&&(m.commentThreads=JSON.stringify(u.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),f&&(m.suggestions=JSON.stringify(f.getSuggestions({toJSON:!0,skipNotAttached:!0}))),m}_getEditables(){const e={};for(const i of this.editor.model.document.getRootNames()){const s=this.editor.ui.getEditableElement(i);s&&(e[i]=s)}return e}_isErrorComingFromThisItem(e){return OS(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Oc(e,(i,s)=>Kr(i)||s==="context"?i:void 0)}}class Iz{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},i=>{this._restoreCollaborationData(),this._restoreEditorData(i)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,i){if("name"in i){const s=e.createElement(i.name,i.attributes);if(i.children)for(const u of i.children)s._appendChild(this._createNode(e,u));return s}return e.createText(i.data,i.attributes)}_restoreEditorData(e){const i=this.editor;Object.entries(this._data.roots).forEach(([s,{content:u,attributes:f}])=>{const m=JSON.parse(u),w=JSON.parse(f),_=i.model.document.getRoot(s);for(const[E,T]of w)e.setAttribute(E,T,_);for(const E of m){const T=this._createNode(e,E);e.insert(T,_,"end")}}),Object.entries(this._data.markers).forEach(([s,u])=>{const{document:f}=i.model,m=u,{rangeJSON:{start:w,end:_}}=m,E=((ee,oe)=>{var ke={};for(var Se in ee)jS.call(ee,Se)&&oe.indexOf(Se)<0&&(ke[Se]=ee[Se]);if(ee!=null&&b0)for(var Se of b0(ee))oe.indexOf(Se)<0&&LS.call(ee,Se)&&(ke[Se]=ee[Se]);return ke})(m,["rangeJSON"]),T=f.getRoot(w.root),O=e.createPositionFromPath(T,w.path,w.stickiness),U=e.createPositionFromPath(T,_.path,_.stickiness),K=e.createRange(O,U);e.addMarker(s,Oy({range:K},E))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),i=JSON.parse(this._data.suggestions);e.forEach(s=>{const u=this.editor.config.get("collaboration.channelId"),f=this.editor.plugins.get("CommentsRepository");f.hasCommentThread(s.threadId)&&f.getCommentThread(s.threadId).remove(),f.addCommentThread(Oy({channelId:u},s))}),i.forEach(s=>{const u=this.editor.plugins.get("TrackChangesEditing");u.hasSuggestion(s.id)?u.getSuggestion(s.id).attributes=s.attributes:u.addSuggestionData(s)})}}const Pm=Symbol("MainQueueId");class Tz{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,i){const s=e===Pm;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const u=(s?Promise.all(this._queues.values()):Promise.all([this._queues.get(Pm),this._queues.get(e)])).then(i),f=u.catch(()=>{});return this._queues.set(e,f),u.finally(()=>{this._activeActions--,this._queues.get(e)===f&&this._activeActions===0&&this._onEmptyCallbacks.forEach(m=>m())})}}function FS(c){return Array.isArray(c)?c:[c]}class k0 extends gy(hF){constructor(e,i={}){if(!w0(e)&&i.initialData!==void 0)throw new M("editor-create-initial-data",null);super(i),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(m){return w0(m)?(w=m,w instanceof HTMLTextAreaElement?w.value:w.innerHTML):m;var w}(e)),w0(e)&&(this.sourceElement=e),this.model.document.createRoot();const s=!this.config.get("toolbar.shouldNotGroupWhenFull"),u=this.config.get("menuBar"),f=new Cz(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:s,useMenuBar:u.isVisible});this.ui=new Az(this,f),function(m){if(!bi(m.updateSourceElement))throw new M("attachtoform-missing-elementapi-interface",m);const w=m.sourceElement;if(function(_){return!!_&&_.tagName.toLowerCase()==="textarea"}(w)&&w.form){let _;const E=w.form,T=()=>m.updateSourceElement();bi(E.submit)&&(_=E.submit,E.submit=()=>{T(),_.apply(E)}),E.addEventListener("submit",T),m.on("destroy",()=>{E.removeEventListener("submit",T),_&&(E.submit=_)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,i={}){return new Promise(s=>{const u=new this(e,i);s(u.initPlugins().then(()=>u.ui.init(w0(e)?e:null)).then(()=>u.data.init(u.config.get("initialData"))).then(()=>u.fire("ready")).then(()=>u))})}}function w0(c){return Kr(c)}k0.Context=vi,k0.EditorWatchdog=BS,k0.ContextWatchdog=class extends PS{constructor(c,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Tz,this._watchdogConfig=e,this._creator=i=>c.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(c){this._creator=c}setDestructor(c){this._destructor=c}get context(){return this._context}create(c={}){return this._actionQueues.enqueue(Pm,()=>(this._contextConfig=c,this._create()))}getItem(c){return this._getWatchdog(c)._item}getItemState(c){return this._getWatchdog(c).state}add(c){const e=FS(c);return Promise.all(e.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return s=new BS(null,this._watchdogConfig),s.setCreator(i.creator),s._setExcludedProperties(this._contextProps),i.destructor&&s.setDestructor(i.destructor),this._watchdogs.set(i.id,s),s.on("error",(u,{error:f,causesRestart:m})=>{this._fire("itemError",{itemId:i.id,error:f}),m&&this._actionQueues.enqueue(i.id,()=>new Promise(w=>{const _=()=>{s.off("restart",_),this._fire("itemRestart",{itemId:i.id}),w()};s.on("restart",_)}))}),s.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(c){const e=FS(c);return Promise.all(e.map(i=>this._actionQueues.enqueue(i,()=>{const s=this._getWatchdog(i);return this._watchdogs.delete(i),s.destroy()})))}destroy(){return this._actionQueues.enqueue(Pm,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Pm,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(c=>{console.error("An error happened during destroying the context or items.",c)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(c=>(this._context=c,this._contextProps=Py(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const c=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(c))})}_getWatchdog(c){const e=this._watchdogs.get(c);if(!e)throw new Error(`Item with the given id was not registered: ${c}.`);return e}_isErrorComingFromThisItem(c){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(c))return!1;return OS(this._context,c.context)}};class Om extends zu{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const i=this.document;function s(u){return(f,m)=>{m.preventDefault();const w=m.dropRange?[m.dropRange]:null,_=new S(i,u);i.fire(_,{dataTransfer:m.dataTransfer,method:f.name,targetRanges:w,target:m.target,domEvent:m.domEvent}),_.stop.called&&m.stopPropagation()}}this.listenTo(i,"paste",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"drop",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"dragover",s("dragging"),{priority:"low"})}onDomEvent(e){const i="clipboardData"in e?e.clipboardData:e.dataTransfer,s=e.type=="drop"||e.type=="paste",u={dataTransfer:new L2(i,{cacheFiles:s})};e.type!="drop"&&e.type!="dragover"||(u.dropRange=function(f,m){const w=m.target.ownerDocument,_=m.clientX,E=m.clientY;let T;return w.caretRangeFromPoint&&w.caretRangeFromPoint(_,E)?T=w.caretRangeFromPoint(_,E):m.rangeParent&&(T=w.createRange(),T.setStart(m.rangeParent,m.rangeOffset),T.collapse(!0)),T?f.domConverter.domRangeToView(T):null}(this.view,e)),this.fire(e.type,e,u)}}const zS=["figcaption","li"],US=["ol","ul"];function qS(c){if(c.is("$text")||c.is("$textProxy"))return c.data;if(c.is("element","img")&&c.hasAttribute("alt"))return c.getAttribute("alt");if(c.is("element","br"))return`
`;let e="",i=null;for(const s of c.getChildren())e+=Nz(s,i)+qS(s),i=s;return e}function Nz(c,e){return e?c.is("element","li")&&!c.isEmpty&&c.getChild(0).is("containerElement")||US.includes(c.name)&&US.includes(e.name)?`

`:c.is("containerElement")||e.is("containerElement")?zS.includes(c.name)||zS.includes(e.name)?`
`:`

`:"":""}const Mz=function(c,e){return c&&Ib(c,e,js)},Pz=function(c,e,i,s){var u=i.length,f=u;if(c==null)return!f;for(c=Object(c);u--;){var m=i[u];if(m[2]?m[1]!==c[m[0]]:!(m[0]in c))return!1}for(;++u<f;){var w=(m=i[u])[0],_=c[w],E=m[1];if(m[2]){if(_===void 0&&!(w in c))return!1}else{var T=new xl,O;if(!(O===void 0?Zb(E,_,3,s,T):O))return!1}}return!0},VS=function(c){return c==c&&!le(c)},Oz=function(c){for(var e=js(c),i=e.length;i--;){var s=e[i],u=c[s];e[i]=[s,u,VS(u)]}return e},$S=function(c,e){return function(i){return i!=null&&i[c]===e&&(e!==void 0||c in Object(i))}},jz=function(c){var e=Oz(c);return e.length==1&&e[0][2]?$S(e[0][0],e[0][1]):function(i){return i===c||Pz(i,c,e)}},Lz=function(c,e){return c!=null&&e in Object(c)},Rz=function(c,e,i){for(var s=-1,u=(e=Fc(e,c)).length,f=!1;++s<u;){var m=Da(e[s]);if(!(f=c!=null&&i(c,m)))break;c=c[m]}return f||++s!=u?f:!!(u=c==null?0:c.length)&&Ed(u)&&wu(m,u)&&(zt(c)||ku(c))},Bz=function(c,e){return c!=null&&Rz(c,e,Lz)},Fz=function(c,e){return Ru(c)&&VS(e)?$S(Da(c),e):function(i){var s=hs(i,c);return s===void 0&&s===e?Bz(i,c):Zb(e,s,3)}},zz=function(c){return function(e){return e==null?void 0:e[c]}},Uz=function(c){return function(e){return bf(e,c)}},qz=function(c){return Ru(c)?zz(Da(c)):Uz(c)},Vz=function(c){return typeof c=="function"?c:c==null?Bl:typeof c=="object"?zt(c)?Fz(c[0],c[1]):jz(c):qz(c)},$z=function(c,e){var i={};return e=Vz(e),Mz(c,function(s,u,f){cs(i,u,e(s,u,f))}),i};var Hz=Object.defineProperty,Wz=Object.defineProperties,Gz=Object.getOwnPropertyDescriptors,HS=Object.getOwnPropertySymbols,Yz=Object.prototype.hasOwnProperty,Kz=Object.prototype.propertyIsEnumerable,WS=(c,e,i)=>e in c?Hz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class jm extends ct{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,i){this._markersToCopy.set(e,i)}_copySelectedFragmentWithMarkers(e,i,s=u=>u.model.getSelectedContent(u.model.document.selection)){return this.editor.model.change(u=>{const f=u.model.document.selection;u.setSelection(i);const m=this._insertFakeMarkersIntoSelection(u,u.model.document.selection,e),w=s(u),_=this._removeFakeMarkersInsideElement(u,w);for(const[E,T]of Object.entries(m)){_[E]||(_[E]=u.createRangeIn(w));for(const O of T)u.remove(O)}w.markers.clear();for(const[E,T]of Object.entries(_))w.markers.set(E,T);return u.setSelection(f),w})}_pasteMarkersIntoTransformedElement(e,i){const s=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(u=>{const f=this._insertFakeMarkersElements(u,s),m=i(u),w=this._removeFakeMarkersInsideElement(u,m);for(const _ of Object.values(f).flat())u.remove(_);for(const[_,E]of Object.entries(w))u.model.markers.has(_)||u.addMarker(_,{usingOperation:!0,affectsData:!0,range:E});return m})}_pasteFragmentWithMarkers(e){const i=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const s of i)e.markers.set(s.name,s.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,i,s={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const u=this._markersToCopy.get(e);this._markersToCopy.set(e,s),i(),u?this._markersToCopy.set(e,u):this._markersToCopy.delete(e)}_isMarkerCopyable(e,i){const s=this._getMarkerClipboardConfig(e);if(!s)return!1;if(!i)return!0;const{allowedActions:u}=s;return u==="all"||u.includes(i)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[i]=e.split(":");return this._markersToCopy.get(i)||null}_insertFakeMarkersIntoSelection(e,i,s){const u=this._getCopyableMarkersFromSelection(e,i,s);return this._insertFakeMarkersElements(e,u)}_getCopyableMarkersFromSelection(e,i,s){const u=Array.from(i.getRanges()),f=new Set(u.flatMap(m=>Array.from(e.model.markers.getMarkersIntersectingRange(m))));return Array.from(f).filter(m=>{if(!this._isMarkerCopyable(m.name,s))return!1;const{copyPartiallySelected:w}=this._getMarkerClipboardConfig(m.name);if(!w){const _=m.getRange();return u.some(E=>E.containsRange(_,!0))}return!0}).map(m=>({name:s==="dragstart"?this._getUniqueMarkerName(m.name):m.name,range:m.getRange()}))}_getPasteMarkersFromRangeMap(e,i=null){const{model:s}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([u,f])=>{if(!this._hasMarkerConfiguration(u))return[{name:u,range:f}];if(this._isMarkerCopyable(u,i)){const m=this._getMarkerClipboardConfig(u),w=s.markers.has(u)&&s.markers.get(u).getRange().root.rootName==="$graveyard";return(m.duplicateOnPaste||w)&&(u=this._getUniqueMarkerName(u)),[{name:u,range:f}]}return[]})}_insertFakeMarkersElements(e,i){const s={},u=i.flatMap(f=>{const{start:m,end:w}=f.range;return[{position:m,marker:f,type:"start"},{position:w,marker:f,type:"end"}]}).sort(({position:f},{position:m})=>f.isBefore(m)?1:-1);for(const{position:f,marker:m,type:w}of u){const _=e.createElement("$marker",{"data-name":m.name,"data-type":w});s[m.name]||(s[m.name]=[]),s[m.name].push(_),e.insert(_,f)}return s}_removeFakeMarkersInsideElement(e,i){const s=this._getAllFakeMarkersFromElement(e,i).reduce((u,f)=>{const m=f.markerElement&&e.createPositionBefore(f.markerElement);let w=u[f.name],_=!1;w&&w.start&&w.end&&(this._getMarkerClipboardConfig(f.name).duplicateOnPaste?u[this._getUniqueMarkerName(f.name)]=u[f.name]:_=!0,w=null);var E,T;return _||(u[f.name]=(E=((O,U)=>{for(var K in U||(U={}))Yz.call(U,K)&&WS(O,K,U[K]);if(HS)for(var K of HS(U))Kz.call(U,K)&&WS(O,K,U[K]);return O})({},w),T={[f.type]:m},Wz(E,Gz(T)))),f.markerElement&&e.remove(f.markerElement),u},{});return $z(s,u=>new it(u.start||e.createPositionFromPath(i,[0]),u.end||e.createPositionAt(i,"end")))}_getAllFakeMarkersFromElement(e,i){const s=Array.from(e.createRangeIn(i)).flatMap(({item:m})=>{if(!m.is("element","$marker"))return[];const w=m.getAttribute("data-name"),_=m.getAttribute("data-type");return[{markerElement:m,name:w,type:_}]}),u=[],f=[];for(const m of s)m.type==="end"&&(s.some(w=>w.name===m.name&&w.type==="start")||u.push({markerElement:null,name:m.name,type:"start"})),m.type==="start"&&(s.some(w=>w.name===m.name&&w.type==="end")||f.unshift({markerElement:null,name:m.name,type:"end"}));return[...u,...s,...f]}_getUniqueMarkerName(e){const i=e.split(":"),s=P().substring(1,6);return i.length===3?`${i.slice(0,2).join(":")}:${s}`:`${i.join(":")}:${s}`}}class Na extends ct{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[jm]}init(){this.editor.editing.view.addObserver(Om),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,i,s){const u=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:s==="cut"},()=>{const f=u._copySelectedFragmentWithMarkers(s,i);this.fire("outputTransformation",{dataTransfer:e,content:f,method:s})})}_setupPasteDrop(){const e=this.editor,i=e.model,s=e.editing.view,u=s.document,f=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(u,"clipboardInput",(m,w)=>{w.method!="paste"||e.model.canEditAt(e.model.document.selection)||m.stop()},{priority:"highest"}),this.listenTo(u,"clipboardInput",(m,w)=>{const _=w.dataTransfer;let E;if(w.content)E=w.content;else{let U="";_.getData("text/html")?U=function(K){return K.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(ee,oe)=>oe.length==1?" ":oe).replace(/<!--[\s\S]*?-->/g,"")}(_.getData("text/html")):_.getData("text/plain")&&(((T=(T=_.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||T.includes("<br>"))&&(T=`<p>${T}</p>`),U=T),E=this.editor.data.htmlProcessor.toView(U)}var T;const O=new S(this,"inputTransformation");this.fire(O,{content:E,dataTransfer:_,targetRanges:w.targetRanges,method:w.method}),O.stop.called&&m.stop(),s.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(m,w)=>{if(w.content.isEmpty)return;const _=this.editor.data.toModel(w.content,"$clipboardHolder");_.childCount!=0&&(m.stop(),i.change(()=>{this.fire("contentInsertion",{content:_,method:w.method,dataTransfer:w.dataTransfer,targetRanges:w.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(m,w)=>{w.resultRange=f._pasteFragmentWithMarkers(w.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,i=e.model.document,s=e.editing.view.document,u=(f,m)=>{const w=m.dataTransfer;m.preventDefault(),this._fireOutputTransformationEvent(w,i.selection,f.name)};this.listenTo(s,"copy",u,{priority:"low"}),this.listenTo(s,"cut",(f,m)=>{e.model.canEditAt(e.model.document.selection)?u(f,m):m.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(f,m)=>{const w=e.data.toView(m.content);s.fire("clipboardOutput",{dataTransfer:m.dataTransfer,content:w,method:m.method})},{priority:"low"}),this.listenTo(s,"clipboardOutput",(f,m)=>{m.content.isEmpty||(m.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(m.content)),m.dataTransfer.setData("text/plain",qS(m.content))),m.method=="cut"&&e.model.deleteContent(i.selection)},{priority:"low"})}}class GS{constructor(e,i=20){this._batch=null,this.model=e,this._size=0,this.limit=i,this._isLocked=!1,this._changeCallback=(s,u)=>{u.isLocal&&u.isUndoable&&u!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class Qz extends Wt{constructor(e,i){super(e),this._buffer=new GS(e.model,i),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const i=this.editor.model,s=i.document,u=e.text||"",f=u.length;let m=s.selection;if(e.selection?m=e.selection:e.range&&(m=i.createSelection(e.range)),!i.canEditAt(m))return;const w=e.resultRange;i.enqueueChange(this._buffer.batch,_=>{this._buffer.lock();const E=Array.from(s.selection.getAttributes());i.deleteContent(m),u&&i.insertContent(_.createText(u,E),m),w?_.setSelection(w):m.is("documentSelection")||_.setSelection(m),this._buffer.unlock(),this._buffer.input(f)})}}const YS=["insertText","insertReplacementText"];class Jz extends $l{constructor(e){super(e),this.focusObserver=e.getObserver(Xb),b.isAndroid&&YS.push("insertCompositionText");const i=e.document;i.on("beforeinput",(s,u)=>{if(!this.isEnabled)return;const{data:f,targetRanges:m,inputType:w,domEvent:_}=u;if(!YS.includes(w))return;this.focusObserver.flush();const E=new S(i,"insertText");i.fire(E,new _f(e,_,{text:f,selection:e.createSelection(m)})),E.stop.called&&s.stop()}),i.on("compositionend",(s,{data:u,domEvent:f})=>{this.isEnabled&&!b.isAndroid&&u&&i.fire("insertText",new _f(e,f,{text:u,selection:i.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class KS extends ct{static get pluginName(){return"Input"}init(){const e=this.editor,i=e.model,s=e.editing.view,u=i.document.selection;s.addObserver(Jz);const f=new Qz(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",f),e.commands.add("input",f),this.listenTo(s.document,"insertText",(m,w)=>{s.document.isComposing||w.preventDefault();const{text:_,selection:E,resultRange:T}=w,O=Array.from(E.getRanges()).map(ee=>e.editing.mapper.toModelRange(ee));let U=_;if(b.isAndroid){const ee=Array.from(O[0].getItems()).reduce((oe,ke)=>oe+(ke.is("$textProxy")?ke.data:""),"");ee&&(ee.length<=U.length?U.startsWith(ee)&&(U=U.substring(ee.length),O[0].start=O[0].start.getShiftedBy(ee.length)):ee.startsWith(U)&&(O[0].start=O[0].start.getShiftedBy(U.length),U=""))}const K={text:U,selection:i.createSelection(O)};T&&(K.resultRange=e.editing.mapper.toModelRange(T)),e.execute("insertText",K),s.scrollToTheSelection()}),b.isAndroid?this.listenTo(s.document,"keydown",(m,w)=>{!u.isCollapsed&&w.keyCode==229&&s.document.isComposing&&QS(i,f)}):this.listenTo(s.document,"compositionstart",()=>{u.isCollapsed||QS(i,f)})}}function QS(c,e){if(!e.isEnabled)return;const i=e.buffer;i.lock(),c.enqueueChange(i.batch,()=>{c.deleteContent(c.document.selection)}),i.unlock()}class JS extends Wt{constructor(e,i){super(e),this.direction=i,this._buffer=new GS(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const i=this.editor.model,s=i.document;i.enqueueChange(this._buffer.batch,u=>{this._buffer.lock();const f=u.createSelection(e.selection||s.selection);if(!i.canEditAt(f))return;const m=e.sequence||1,w=f.isCollapsed;if(f.isCollapsed&&i.modifySelection(f,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(m))return void this._replaceEntireContentWithParagraph(u);if(this._shouldReplaceFirstBlockWithParagraph(f,m))return void this.editor.execute("paragraph",{selection:f});if(f.isCollapsed)return;let _=0;f.getFirstRange().getMinimalFlatRanges().forEach(E=>{_+=Oe(E.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(f,{doNotResetEntireContent:w,direction:this.direction}),this._buffer.input(_),u.setSelection(f),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const i=this.editor.model,s=i.document.selection,u=i.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(u))||!i.schema.checkChild(u,"paragraph"))return!1;const f=u.getChild(0);return!f||!f.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const i=this.editor.model,s=i.document.selection,u=i.schema.getLimitElement(s),f=e.createElement("paragraph");e.remove(e.createRangeIn(u)),e.insert(f,u),e.setSelection(f,0)}_shouldReplaceFirstBlockWithParagraph(e,i){const s=this.editor.model;if(i>1||this.direction!="backward"||!e.isCollapsed)return!1;const u=e.getFirstPosition(),f=s.schema.getLimitElement(u),m=f.getChild(0);return u.parent==m&&!!e.containsEntireContent(m)&&!!s.schema.checkChild(f,"paragraph")&&m.name!="paragraph"}}const ZS="word",qu="selection",Mf="backward",Lm="forward",XS={deleteContent:{unit:qu,direction:Mf},deleteContentBackward:{unit:"codePoint",direction:Mf},deleteWordBackward:{unit:ZS,direction:Mf},deleteHardLineBackward:{unit:qu,direction:Mf},deleteSoftLineBackward:{unit:qu,direction:Mf},deleteContentForward:{unit:"character",direction:Lm},deleteWordForward:{unit:ZS,direction:Lm},deleteHardLineForward:{unit:qu,direction:Lm},deleteSoftLineForward:{unit:qu,direction:Lm}};class Zz extends $l{constructor(e){super(e);const i=e.document;let s=0;i.on("keydown",()=>{s++}),i.on("keyup",()=>{s=0}),i.on("beforeinput",(u,f)=>{if(!this.isEnabled)return;const{targetRanges:m,domEvent:w,inputType:_}=f,E=XS[_];if(!E)return;const T={direction:E.direction,unit:E.unit,sequence:s};T.unit==qu&&(T.selectionToRemove=e.createSelection(m[0])),_==="deleteContentBackward"&&(b.isAndroid&&(T.sequence=1),function(U){if(U.length!=1||U[0].isCollapsed)return!1;const K=U[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let ee=0;for(const{nextPosition:oe,item:ke}of K){if(oe.parent.is("$text")){const Se=oe.parent.data,Le=oe.offset;if(pf(Se,Le)||Pu(Se,Le)||Rb(Se,Le))continue;ee++}else(ke.is("containerElement")||ke.is("emptyElement"))&&ee++;if(ee>1)return!0}return!1}(m)&&(T.unit=qu,T.selectionToRemove=e.createSelection(m)));const O=new Fu(i,"delete",m[0]);i.fire(O,new _f(e,w,T)),O.stop.called&&u.stop()}),b.isBlink&&function(u){const f=u.view,m=f.document;let w=null,_=!1;function E(O){return O==Pn.backspace||O==Pn.delete}function T(O){return O==Pn.backspace?Mf:Lm}m.on("keydown",(O,{keyCode:U})=>{w=U,_=!1}),m.on("keyup",(O,{keyCode:U,domEvent:K})=>{const ee=m.selection,oe=u.isEnabled&&U==w&&E(U)&&!ee.isCollapsed&&!_;if(w=null,oe){const ke=ee.getFirstRange(),Se=new Fu(m,"delete",ke),Le={unit:qu,direction:T(U),selectionToRemove:ee};m.fire(Se,new _f(f,K,Le))}}),m.on("beforeinput",(O,{inputType:U})=>{const K=XS[U];E(w)&&K&&K.direction==T(w)&&(_=!0)},{priority:"high"}),m.on("beforeinput",(O,{inputType:U,data:K})=>{w==Pn.delete&&U=="insertText"&&K==""&&O.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class Yc extends ct{static get pluginName(){return"Delete"}init(){const e=this.editor,i=e.editing.view,s=i.document,u=e.model.document;i.addObserver(Zz),this._undoOnBackspace=!1;const f=new JS(e,"forward");e.commands.add("deleteForward",f),e.commands.add("forwardDelete",f),e.commands.add("delete",new JS(e,"backward")),this.listenTo(s,"delete",(m,w)=>{s.isComposing||w.preventDefault();const{direction:_,sequence:E,selectionToRemove:T,unit:O}=w,U=_==="forward"?"deleteForward":"delete",K={sequence:E};if(O=="selection"){const ee=Array.from(T.getRanges()).map(oe=>e.editing.mapper.toModelRange(oe));K.selection=e.model.createSelection(ee)}else K.unit=O;e.execute(U,K),i.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(s,"delete",(m,w)=>{this._undoOnBackspace&&w.direction=="backward"&&w.sequence==1&&w.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),w.preventDefault(),m.stop())},{context:"$capture"}),this.listenTo(u,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Xz extends ct{static get requires(){return[KS,Yc]}static get pluginName(){return"Typing"}}function eE(c,e){let i=c.start;return{text:Array.from(c.getWalker({ignoreElementEnd:!1})).reduce((s,{item:u})=>u.is("$text")||u.is("$textProxy")?s+u.data:(i=e.createPositionAfter(u),""),""),range:e.createRange(i,c.end)}}class tE extends ze(){constructor(e,i){super(),this.model=e,this.testCallback=i,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(i,{directChange:s})=>{s&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(i,s)=>{!s.isUndo&&s.isLocal&&this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(e,i={}){const s=this.model,u=s.document.selection,f=s.createRange(s.createPositionAt(u.focus.parent,0),u.focus),{text:m,range:w}=eE(f,s),_=this.testCallback(m);if(!_&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!_,_){const E=Object.assign(i,{text:m,range:w});typeof _=="object"&&Object.assign(E,_),this.fire(`matched:${e}`,E)}}}class nE extends ct{constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,i=e.model,s=e.editing.view,u=e.locale,f=i.document.selection;this.listenTo(s.document,"arrowKey",(m,w)=>{if(!f.isCollapsed||w.shiftKey||w.altKey||w.ctrlKey)return;const _=w.keyCode==Pn.arrowright,E=w.keyCode==Pn.arrowleft;if(!_&&!E)return;const T=u.contentLanguageDirection;let O=!1;O=T==="ltr"&&_||T==="rtl"&&E?this._handleForwardMovement(w):this._handleBackwardMovement(w),O===!0&&m.stop()},{context:"$text",priority:"highest"}),this.listenTo(f,"change:range",(m,w)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!w.directChange&&Ma(f.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const i=this.attributes,s=this.editor.model,u=s.document.selection,f=u.getFirstPosition();return!this._isGravityOverridden&&(!f.isAtStart||!Kc(u,i))&&!!Ma(f,i)&&(Bm(e),Kc(u,i)&&Ma(f,i,!0)?Rm(s,i):this._overrideGravity(),!0)}_handleBackwardMovement(e){const i=this.attributes,s=this.editor.model,u=s.document.selection,f=u.getFirstPosition();return this._isGravityOverridden?(Bm(e),this._restoreGravity(),Ma(f,i,!0)?Rm(s,i):y0(s,i,f),!0):f.isAtStart?!!Kc(u,i)&&(Bm(e),y0(s,i,f),!0):!Kc(u,i)&&Ma(f,i,!0)?(Bm(e),y0(s,i,f),!0):!!rE(f,i)&&(f.isAtEnd&&!Kc(u,i)&&Ma(f,i)?(Bm(e),y0(s,i,f),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,i=e.model,s=i.document.selection,u=e.editing.view.document;e.editing.view.addObserver(py);let f=!1;this.listenTo(u,"mousedown",()=>{f=!0}),this.listenTo(u,"selectionChange",()=>{const m=this.attributes;if(!f||(f=!1,!s.isCollapsed)||!Kc(s,m))return;const w=s.getFirstPosition();Ma(w,m)&&(w.isAtStart||Ma(w,m,!0)?Rm(i,m):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,i=e.document.selection,s=this.attributes;this.listenTo(e,"insertContent",()=>{const u=i.getFirstPosition();Kc(i,s)&&Ma(u,s)&&Rm(e,s)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,i=e.model,s=i.document.selection,u=e.editing.view;let f=!1,m=!1;this.listenTo(u.document,"delete",(w,_)=>{f=_.direction==="backward"},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{if(!f)return;const w=s.getFirstPosition();m=Kc(s,this.attributes)&&!rE(w,this.attributes)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{f&&(f=!1,m||e.model.enqueueChange(()=>{const w=s.getFirstPosition();Kc(s,this.attributes)&&Ma(w,this.attributes)&&(w.isAtStart||Ma(w,this.attributes,!0)?Rm(i,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Kc(c,e){for(const i of e)if(c.hasAttribute(i))return!0;return!1}function y0(c,e,i){const s=i.nodeBefore;c.change(u=>{if(s){const f=[],m=c.schema.isObject(s)&&c.schema.isInline(s);for(const[w,_]of s.getAttributes())!c.schema.checkAttribute("$text",w)||m&&c.schema.getAttributeProperties(w).copyFromObject===!1||f.push([w,_]);u.setSelectionAttribute(f)}else u.removeSelectionAttribute(e)})}function Rm(c,e){c.change(i=>{i.removeSelectionAttribute(e)})}function Bm(c){c.preventDefault()}function rE(c,e){return Ma(c.getShiftedBy(-1),e)}function Ma(c,e,i=!1){const{nodeBefore:s,nodeAfter:u}=c;for(const f of e){const m=s?s.getAttribute(f):void 0,w=u?u.getAttribute(f):void 0;if((!i||m!==void 0&&w!==void 0)&&w!==m)return!0}return!1}const iE={copyright:{from:"(c)",to:"Â©"},registeredTrademark:{from:"(r)",to:"Â®"},trademark:{from:"(tm)",to:"â„¢"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"Â½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"â…“",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"â…”",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"Â¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"Â¾",null]},lessThanOrEqual:{from:"<=",to:"â‰¤"},greaterThanOrEqual:{from:">=",to:"â‰¥"},notEqual:{from:"!=",to:"â‰ "},arrowLeft:{from:"<-",to:"â†"},arrowRight:{from:"->",to:"â†’"},horizontalEllipsis:{from:"...",to:"â€¦"},enDash:{from:/(^| )(--)( )$/,to:[null,"â€“",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"â€”",null]},quotesPrimary:{from:Pf('"'),to:[null,"â€œ",null,"â€"]},quotesSecondary:{from:Pf("'"),to:[null,"â€˜",null,"â€™"]},quotesPrimaryEnGb:{from:Pf("'"),to:[null,"â€˜",null,"â€™"]},quotesSecondaryEnGb:{from:Pf('"'),to:[null,"â€œ",null,"â€"]},quotesPrimaryPl:{from:Pf('"'),to:[null,"â€ž",null,"â€"]},quotesSecondaryPl:{from:Pf("'"),to:[null,"â€š",null,"â€™"]}},oE={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},eU=["symbols","mathematical","typography","quotes"];function tU(c){return typeof c=="string"?new RegExp(`(${aS(c)})$`):c}function nU(c){return typeof c=="string"?()=>[c]:c instanceof Array?()=>c:c}function rU(c){return(c.textNode?c.textNode:c.nodeAfter).getAttributes()}function Pf(c){return new RegExp(`(^|\\s)(${c})([^${c}]*)(${c})$`)}function v0(c,e,i,s){return s.createRange(sE(c,e,i,!0,s),sE(c,e,i,!1,s))}function sE(c,e,i,s,u){let f=c.textNode||(s?c.nodeBefore:c.nodeAfter),m=null;for(;f&&f.getAttribute(e)==i;)m=f,f=s?f.previousSibling:f.nextSibling;return m?u.createPositionAt(m,s?"before":"after"):c}function*aE(c,e){for(const i of e)i&&c.getAttributeProperties(i[0]).copyOnEnter&&(yield i)}class iU extends Wt{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const i=this.editor.model,s=i.document.selection,u=i.schema,f=s.isCollapsed,m=s.getFirstRange(),w=m.start.parent,_=m.end.parent;if(u.isLimit(w)||u.isLimit(_))return f||w!=_||i.deleteContent(s),!1;if(f){const E=aE(e.model.schema,s.getAttributes());return lE(e,m.start),e.setSelectionAttribute(E),!0}{const E=!(m.start.isAtStart&&m.end.isAtEnd),T=w==_;if(i.deleteContent(s,{leaveUnmerged:E}),E){if(T)return lE(e,s.focus),!0;e.setSelection(_,0)}}return!1}}function lE(c,e){c.split(e),c.setSelection(e.parent.nextSibling,0)}const oU={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class cE extends $l{constructor(e){super(e);const i=this.document;let s=!1;i.on("keydown",(u,f)=>{s=f.shiftKey}),i.on("beforeinput",(u,f)=>{if(!this.isEnabled)return;let m=f.inputType;b.isSafari&&s&&m=="insertParagraph"&&(m="insertLineBreak");const w=f.domEvent,_=oU[m];if(!_)return;const E=new Fu(i,"enter",f.targetRanges[0]);i.fire(E,new _f(e,w,{isSoft:_.isSoft})),E.stop.called&&u.stop()})}observe(){}stopObserving(){}}class A0 extends ct{static get pluginName(){return"Enter"}init(){const e=this.editor,i=e.editing.view,s=i.document,u=this.editor.t;i.addObserver(cE),e.commands.add("enter",new iU(e)),this.listenTo(s,"enter",(f,m)=>{s.isComposing||m.preventDefault(),m.isSoft||(e.execute("enter"),i.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:u("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class sU extends Wt{execute(){const e=this.editor.model,i=e.document;e.change(s=>{(function(u,f,m){const w=m.isCollapsed,_=m.getFirstRange(),E=_.start.parent,T=_.end.parent,O=E==T;if(w){const U=aE(u.schema,m.getAttributes());uE(u,f,_.end),f.removeSelectionAttribute(m.getAttributeKeys()),f.setSelectionAttribute(U)}else{const U=!(_.start.isAtStart&&_.end.isAtEnd);u.deleteContent(m,{leaveUnmerged:U}),O?uE(u,f,m.focus):U&&f.setSelection(T,0)}})(e,s,i.selection),this.fire("afterExecute",{writer:s})})}refresh(){const e=this.editor.model,i=e.document;this.isEnabled=function(s,u){if(u.rangeCount>1)return!1;const f=u.anchor;if(!f||!s.checkChild(f,"softBreak"))return!1;const m=u.getFirstRange(),w=m.start.parent,_=m.end.parent;return!((jy(w,s)||jy(_,s))&&w!==_)}(e.schema,i.selection)}}function uE(c,e,i){const s=e.createElement("softBreak");c.insertContent(s,i),e.setSelection(s,"after")}function jy(c,e){return!c.is("rootElement")&&(e.isLimit(c)||jy(c.parent,e))}class aU extends ct{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,i=e.model.schema,s=e.conversion,u=e.editing.view,f=u.document,m=this.editor.t;i.register("softBreak",{allowWhere:"$text",isInline:!0}),s.for("upcast").elementToElement({model:"softBreak",view:"br"}),s.for("downcast").elementToElement({model:"softBreak",view:(w,{writer:_})=>_.createEmptyElement("br")}),u.addObserver(cE),e.commands.add("shiftEnter",new sU(e)),this.listenTo(f,"enter",(w,_)=>{f.isComposing||_.preventDefault(),_.isSoft&&(e.execute("shiftEnter"),u.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:m("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class lU extends se(){constructor(){super(...arguments),this._stack=[]}add(e,i){const s=this._stack,u=s[0];this._insertDescriptor(e);const f=s[0];u===f||Ly(u,f)||this.fire("change:top",{oldDescriptor:u,newDescriptor:f,writer:i})}remove(e,i){const s=this._stack,u=s[0];this._removeDescriptor(e);const f=s[0];u===f||Ly(u,f)||this.fire("change:top",{oldDescriptor:u,newDescriptor:f,writer:i})}_insertDescriptor(e){const i=this._stack,s=i.findIndex(f=>f.id===e.id);if(Ly(e,i[s]))return;s>-1&&i.splice(s,1);let u=0;for(;i[u]&&cU(i[u],e);)u++;i.splice(u,0,e)}_removeDescriptor(e){const i=this._stack,s=i.findIndex(u=>u.id===e);s>-1&&i.splice(s,1)}}function Ly(c,e){return c&&e&&c.priority==e.priority&&_0(c.classes)==_0(e.classes)}function cU(c,e){return c.priority>e.priority||!(c.priority<e.priority)&&_0(c.classes)>_0(e.classes)}function _0(c){return Array.isArray(c)?c.sort().join(","):c}const uU='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',dU="ck-widget",dE="ck-widget_selected";function _i(c){return!!c.is("element")&&!!c.getCustomProperty("widget")}function Ry(c,e,i={}){if(!c.is("containerElement"))throw new M("widget-to-widget-wrong-element-type",null,{element:c});return e.setAttribute("contenteditable","false",c),e.addClass(dU,c),e.setCustomProperty("widget",!0,c),c.getFillerOffset=pU,e.setCustomProperty("widgetLabel",[],c),i.label&&function(s,u){s.getCustomProperty("widgetLabel").push(u)}(c,i.label),i.hasSelectionHandle&&function(s,u){const f=u.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(m){const w=this.toDomElement(m),_=new Hc;return _.set("content",uU),_.render(),w.appendChild(_.element),w});u.insert(u.createPositionAt(s,0),f),u.addClass(["ck-widget_with-selection-handle"],s)}(c,e),hE(c,e),c}function hU(c,e,i){if(e.classes&&i.addClass(ir(e.classes),c),e.attributes)for(const s in e.attributes)i.setAttribute(s,e.attributes[s],c)}function fU(c,e,i){if(e.classes&&i.removeClass(ir(e.classes),c),e.attributes)for(const s in e.attributes)i.removeAttribute(s,c)}function hE(c,e,i=hU,s=fU){const u=new lU;u.on("change:top",(f,m)=>{m.oldDescriptor&&s(c,m.oldDescriptor,m.writer),m.newDescriptor&&i(c,m.newDescriptor,m.writer)}),e.setCustomProperty("addHighlight",(f,m,w)=>u.add(m,w),c),e.setCustomProperty("removeHighlight",(f,m,w)=>u.remove(m,w),c)}function fE(c,e,i={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],c),e.setAttribute("role","textbox",c),e.setAttribute("tabindex","-1",c),i.label&&e.setAttribute("aria-label",i.label,c),e.setAttribute("contenteditable",c.isReadOnly?"false":"true",c),c.on("change:isReadOnly",(s,u,f)=>{e.setAttribute("contenteditable",f?"false":"true",c)}),c.on("change:isFocused",(s,u,f)=>{f?e.addClass("ck-editor__nested-editable_focused",c):e.removeClass("ck-editor__nested-editable_focused",c)}),hE(c,e),c}function pE(c,e){const i=c.getSelectedElement();if(i){const s=Vu(c);if(s)return e.createRange(e.createPositionAt(i,s))}return e.schema.findOptimalInsertionRange(c)}function pU(){return null}const Qc="widget-type-around";function rh(c,e,i){return!!c&&_i(c)&&!i.isInline(e)}function Vu(c){return c.getAttribute(Qc)}var mE=a(8508),mU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(mE.A,mU),mE.A.locals;const gE=["before","after"],gU=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,bE="ck-widget__type-around_disabled";class bU extends ct{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[A0,Yc]}init(){const e=this.editor,i=e.editing.view;this.on("change:isEnabled",(s,u,f)=>{i.change(m=>{for(const w of i.document.roots)f?m.removeClass(bE,w):m.addClass(bE,w)}),f||e.model.change(m=>{m.removeSelectionAttribute(Qc)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,i){const s=this.editor,u=s.editing.view,f=s.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);s.execute("insertParagraph",{position:s.model.createPositionAt(e,i),attributes:f}),u.focus(),u.scrollToTheSelection()}_listenToIfEnabled(e,i,s,u){this.listenTo(e,i,(...f)=>{this.isEnabled&&s(...f)},u)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,i=Vu(e);if(!i)return!1;const s=e.getSelectedElement();return this._insertParagraph(s,i),!0}_enableTypeAroundUIInjection(){const e=this.editor,i=e.model.schema,s=e.locale.t,u={before:s("Insert paragraph before block"),after:s("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(f,m,w)=>{const _=w.mapper.toViewElement(m.item);_&&rh(_,m.item,i)&&(function(E,T,O){const U=E.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(K){const ee=this.toDomElement(K);return function(oe,ke){for(const Se of gE){const Le=new I({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${Se}`],title:ke[Se],"aria-hidden":"true"},children:[oe.ownerDocument.importNode(gU,!0)]});oe.appendChild(Le.render())}}(ee,T),function(oe){const ke=new I({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});oe.appendChild(ke.render())}(ee),ee});E.insert(E.createPositionAt(O,"end"),U)}(w.writer,u,_),_.getCustomProperty("widgetLabel").push(()=>this.isEnabled?s("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,i=e.model,s=i.document.selection,u=i.schema,f=e.editing.view;function m(w){return`ck-widget_type-around_show-fake-caret_${w}`}this._listenToIfEnabled(f.document,"arrowKey",(w,_)=>{this._handleArrowKeyPress(w,_)},{context:[_i,"$text"],priority:"high"}),this._listenToIfEnabled(s,"change:range",(w,_)=>{_.directChange&&e.model.change(E=>{E.removeSelectionAttribute(Qc)})}),this._listenToIfEnabled(i.document,"change:data",()=>{const w=s.getSelectedElement();w&&rh(e.editing.mapper.toViewElement(w),w,u)||e.model.change(_=>{_.removeSelectionAttribute(Qc)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(w,_,E)=>{const T=E.writer;if(this._currentFakeCaretModelElement){const ee=E.mapper.toViewElement(this._currentFakeCaretModelElement);ee&&(T.removeClass(gE.map(m),ee),this._currentFakeCaretModelElement=null)}const O=_.selection.getSelectedElement();if(!O)return;const U=E.mapper.toViewElement(O);if(!rh(U,O,u))return;const K=Vu(_.selection);K&&(T.addClass(m(K),U),this._currentFakeCaretModelElement=O)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(w,_,E)=>{E||e.model.change(T=>{T.removeSelectionAttribute(Qc)})})}_handleArrowKeyPress(e,i){const s=this.editor,u=s.model,f=u.document.selection,m=u.schema,w=s.editing.view,_=function(O,U){const K=sm(O,U);return K==="down"||K==="right"}(i.keyCode,s.locale.contentLanguageDirection),E=w.document.selection.getSelectedElement();let T;rh(E,s.editing.mapper.toModelElement(E),m)?T=this._handleArrowKeyPressOnSelectedWidget(_):f.isCollapsed?T=this._handleArrowKeyPressWhenSelectionNextToAWidget(_):i.shiftKey||(T=this._handleArrowKeyPressWhenNonCollapsedSelection(_)),T&&(i.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const i=this.editor.model,s=Vu(i.document.selection);return i.change(u=>s?s!==(e?"after":"before")?(u.removeSelectionAttribute(Qc),!0):!1:(u.setSelectionAttribute(Qc,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const i=this.editor,s=i.model,u=s.schema,f=i.plugins.get("Widget"),m=f._getObjectElementNextToSelection(e);return!!rh(i.editing.mapper.toViewElement(m),m,u)&&(s.change(w=>{f._setSelectionOverElement(m),w.setSelectionAttribute(Qc,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const i=this.editor,s=i.model,u=s.schema,f=i.editing.mapper,m=s.document.selection,w=e?m.getLastPosition().nodeBefore:m.getFirstPosition().nodeAfter;return!!rh(f.toViewElement(w),w,u)&&(s.change(_=>{_.setSelection(w,"on"),_.setSelectionAttribute(Qc,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,i=e.editing.view;this._listenToIfEnabled(i.document,"mousedown",(s,u)=>{const f=u.domTarget.closest(".ck-widget__type-around__button");if(!f)return;const m=function(E){return E.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(f),w=function(E,T){const O=E.closest(".ck-widget");return T.mapDomToView(O)}(f,i.domConverter),_=e.editing.mapper.toModelElement(w);this._insertParagraph(_,m),u.preventDefault(),s.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,i=e.model.document.selection,s=e.editing.view;this._listenToIfEnabled(s.document,"enter",(u,f)=>{if(u.eventPhase!="atTarget")return;const m=i.getSelectedElement(),w=e.editing.mapper.toViewElement(m),_=e.model.schema;let E;this._insertParagraphAccordingToFakeCaretPosition()?E=!0:rh(w,m,_)&&(this._insertParagraph(m,f.isSoft?"before":"after"),E=!0),E&&(f.preventDefault(),u.stop())},{context:_i})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(i,s)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(s.selection=e.selection)},{priority:"high"}),b.isAndroid?this._listenToIfEnabled(e,"keydown",(i,s)=>{s.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,i=e.editing.view,s=e.model,u=s.schema;this._listenToIfEnabled(i.document,"delete",(f,m)=>{if(f.eventPhase!="atTarget")return;const w=Vu(s.document.selection);if(!w)return;const _=m.direction,E=s.document.selection.getSelectedElement(),T=_=="forward";if(w==="before"===T)e.execute("delete",{selection:s.createSelection(E,"on")});else{const O=u.getNearestSelectionRange(s.createPositionAt(E,w),_);if(O)if(O.isCollapsed){const U=s.createSelection(O.start);if(s.modifySelection(U,{direction:_}),U.focus.isEqual(O.start)){const K=function(ee,oe){let ke=oe;for(const Se of oe.getAncestors({parentFirst:!0})){if(Se.childCount>1||ee.isLimit(Se))break;ke=Se}return ke}(u,O.start.parent);s.deleteContent(s.createSelection(K,"on"),{doNotAutoparagraph:!0})}else s.change(K=>{K.setSelection(O),e.execute(T?"deleteForward":"delete")})}else s.change(U=>{U.setSelection(O),e.execute(T?"deleteForward":"delete")})}m.preventDefault(),f.stop()},{context:_i})}_enableInsertContentIntegration(){const e=this.editor,i=this.editor.model,s=i.document.selection;this._listenToIfEnabled(e.model,"insertContent",(u,[f,m])=>{if(m&&!m.is("documentSelection"))return;const w=Vu(s);return w?(u.stop(),i.change(_=>{const E=s.getSelectedElement(),T=i.createPositionAt(E,w),O=_.createSelection(T),U=i.insertContent(f,O);return _.setSelection(O),U})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(s,u)=>{const[,f,m={}]=u;if(f&&!f.is("documentSelection"))return;const w=Vu(i);w&&(m.findOptimalPosition=w,u[3]=m)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(s,[u])=>{u&&!u.is("documentSelection")||Vu(i)&&s.stop()},{priority:"high"})}}function kU(c){const e=c.model;return(i,s)=>{const u=s.keyCode==Pn.arrowup,f=s.keyCode==Pn.arrowdown,m=s.shiftKey,w=e.document.selection;if(!u&&!f)return;const _=f;if(m&&function(T,O){return!T.isCollapsed&&T.isBackward==O}(w,_))return;const E=function(T,O,U){const K=T.model;if(U){const ee=O.isCollapsed?O.focus:O.getLastPosition(),oe=kE(K,ee,"forward");if(!oe)return null;const ke=K.createRange(ee,oe),Se=wE(K.schema,ke,"backward");return Se?K.createRange(ee,Se):null}{const ee=O.isCollapsed?O.focus:O.getFirstPosition(),oe=kE(K,ee,"backward");if(!oe)return null;const ke=K.createRange(oe,ee),Se=wE(K.schema,ke,"forward");return Se?K.createRange(Se,ee):null}}(c,w,_);if(E){if(E.isCollapsed&&(w.isCollapsed||m))return;(E.isCollapsed||function(T,O,U){const K=T.model,ee=T.view.domConverter;if(U){const tt=K.createSelection(O.start);K.modifySelection(tt),tt.focus.isAtEnd||O.start.isEqual(tt.focus)||(O=K.createRange(tt.focus,O.end))}const oe=T.mapper.toViewRange(O),ke=ee.viewRangeToDom(oe),Se=qt.getDomRangeRects(ke);let Le;for(const tt of Se)if(Le!==void 0){if(Math.round(tt.top)>=Le)return!1;Le=Math.max(Le,Math.round(tt.bottom))}else Le=Math.round(tt.bottom);return!0}(c,E,_))&&(e.change(T=>{const O=_?E.end:E.start;if(m){const U=e.createSelection(w.anchor);U.setFocus(O),T.setSelection(U)}else T.setSelection(O)}),i.stop(),s.preventDefault(),s.stopPropagation())}}}function kE(c,e,i){const s=c.schema,u=c.createRangeIn(e.root),f=i=="forward"?"elementStart":"elementEnd";for(const{previousPosition:m,item:w,type:_}of u.getWalker({startPosition:e,direction:i})){if(s.isLimit(w)&&!s.isInline(w))return m;if(_==f&&s.isBlock(w))return null}return null}function wE(c,e,i){const s=i=="backward"?e.end:e.start;if(c.checkChild(s,"$text"))return s;for(const{nextPosition:u}of e.getWalker({direction:i}))if(c.checkChild(u,"$text"))return u;return null}var yE=a(695),wU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(yE.A,wU),yE.A.locals;class Fm extends ct{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[bU,Yc]}init(){const e=this.editor,i=e.editing.view,s=i.document,u=e.t;this.editor.editing.downcastDispatcher.on("selection",(f,m,w)=>{const _=w.writer,E=m.selection;if(E.isCollapsed)return;const T=E.getSelectedElement();if(!T)return;const O=e.editing.mapper.toViewElement(T);var U;_i(O)&&w.consumable.consume(E,"selection")&&_.setSelection(_.createRangeOn(O),{fake:!0,label:(U=O,U.getCustomProperty("widgetLabel").reduce((K,ee)=>typeof ee=="function"?K?K+". "+ee():ee():K?K+". "+ee:ee,""))})}),this.editor.editing.downcastDispatcher.on("selection",(f,m,w)=>{this._clearPreviouslySelectedWidgets(w.writer);const _=w.writer,E=_.document.selection;let T=null;for(const O of E.getRanges())for(const U of O){const K=U.item;_i(K)&&!yU(K,T)&&(_.addClass(dE,K),this._previouslySelected.add(K),T=K)}},{priority:"low"}),i.addObserver(py),this.listenTo(s,"mousedown",(...f)=>this._onMousedown(...f)),this.listenTo(s,"arrowKey",(...f)=>{this._handleSelectionChangeOnArrowKeyPress(...f)},{context:[_i,"$text"]}),this.listenTo(s,"arrowKey",(...f)=>{this._preventDefaultOnArrowKeyPress(...f)},{context:"$root"}),this.listenTo(s,"arrowKey",kU(this.editor.editing),{context:"$text"}),this.listenTo(s,"delete",(f,m)=>{this._handleDelete(m.direction=="forward")&&(m.preventDefault(),f.stop())},{context:"$root"}),this.listenTo(s,"tab",(f,m)=>{f.eventPhase=="atTarget"&&(m.shiftKey||this._selectFirstNestedEditable()&&(m.preventDefault(),f.stop()))},{context:_i,priority:"low"}),this.listenTo(s,"tab",(f,m)=>{m.shiftKey&&this._selectAncestorWidget()&&(m.preventDefault(),f.stop())},{priority:"low"}),this.listenTo(s,"keydown",(f,m)=>{m.keystroke==Pn.esc&&this._selectAncestorWidget()&&(m.preventDefault(),f.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:u("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:u("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:u("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:u("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:u("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,i){const s=this.editor,u=s.editing.view,f=u.document;let m=i.target;if(i.domEvent.detail>=3)return void(this._selectBlockContent(m)&&i.preventDefault());if(function(_){let E=_;for(;E;){if(E.is("editableElement")&&!E.is("rootElement"))return!0;if(_i(E))return!1;E=E.parent}return!1}(m)||!_i(m)&&(m=m.findAncestor(_i),!m))return;b.isAndroid&&i.preventDefault(),f.isFocused||u.focus();const w=s.editing.mapper.toModelElement(m);this._setSelectionOverElement(w)}_selectBlockContent(e){const i=this.editor,s=i.model,u=i.editing.mapper,f=s.schema,m=u.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),w=function(_,E){for(const T of _.getAncestors({includeSelf:!0,parentFirst:!0})){if(E.checkChild(T,"$text"))return T;if(E.isLimit(T)&&!E.isObject(T))break}return null}(u.toModelElement(m),s.schema);return!!w&&(s.change(_=>{const E=f.isLimit(w)?null:function(U,K){const ee=new Uc({startPosition:U});for(const{item:oe}of ee){if(K.isLimit(oe)||!oe.is("element"))return null;if(K.checkChild(oe,"$text"))return oe}return null}(_.createPositionAfter(w),f),T=_.createPositionAt(w,0),O=E?_.createPositionAt(E,0):_.createPositionAt(w,"end");_.setSelection(_.createRange(T,O))}),!0)}_handleSelectionChangeOnArrowKeyPress(e,i){const s=i.keyCode,u=this.editor.model,f=u.schema,m=u.document.selection,w=m.getSelectedElement(),_=sm(s,this.editor.locale.contentLanguageDirection),E=_=="down"||_=="right",T=_=="up"||_=="down";if(w&&f.isObject(w)){const U=E?m.getLastPosition():m.getFirstPosition(),K=f.getNearestSelectionRange(U,E?"forward":"backward");return void(K&&(u.change(ee=>{ee.setSelection(K)}),i.preventDefault(),e.stop()))}if(!m.isCollapsed&&!i.shiftKey){const U=m.getFirstPosition(),K=m.getLastPosition(),ee=U.nodeAfter,oe=K.nodeBefore;return void((ee&&f.isObject(ee)||oe&&f.isObject(oe))&&(u.change(ke=>{ke.setSelection(E?K:U)}),i.preventDefault(),e.stop()))}if(!m.isCollapsed)return;const O=this._getObjectElementNextToSelection(E);if(O&&f.isObject(O)){if(f.isInline(O)&&T)return;this._setSelectionOverElement(O),i.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,i){const s=this.editor.model,u=s.schema,f=s.document.selection.getSelectedElement();f&&u.isObject(f)&&(i.preventDefault(),e.stop())}_handleDelete(e){const i=this.editor.model.document.selection;if(!this.editor.model.canEditAt(i)||!i.isCollapsed)return;const s=this._getObjectElementNextToSelection(e);return s?(this.editor.model.change(u=>{let f=i.anchor.parent;for(;f.isEmpty;){const m=f;f=m.parent,u.remove(m)}this._setSelectionOverElement(s)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(i=>{i.setSelection(i.createRangeOn(e))})}_getObjectElementNextToSelection(e){const i=this.editor.model,s=i.schema,u=i.document.selection,f=i.createSelection(u);if(i.modifySelection(f,{direction:e?"forward":"backward"}),f.isEqual(u))return null;const m=e?f.focus.nodeBefore:f.focus.nodeAfter;return m&&s.isObject(m)?m:null}_clearPreviouslySelectedWidgets(e){for(const i of this._previouslySelected)e.removeClass(dE,i);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,i=this.editor.editing.view.document;for(const s of i.selection.getFirstRange().getItems())if(s.is("editableElement")){const u=e.editing.mapper.toModelElement(s);if(!u)continue;const f=e.model.createPositionAt(u,0),m=e.model.schema.getNearestSelectionRange(f,"forward");return e.model.change(w=>{w.setSelection(m)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,i=e.editing.mapper,s=e.editing.view.document.selection.getFirstPosition().parent,u=(s.is("$text")?s.parent:s).findAncestor(_i);if(!u)return!1;const f=i.toModelElement(u);return!!f&&(e.model.change(m=>{m.setSelection(f,"on")}),!0)}}function yU(c,e){return!!e&&Array.from(c.getAncestors()).includes(e)}class C0 extends ct{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[g0]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const i=e.plugins.get("BalloonToolbar");this.listenTo(i,"show",s=>{(function(u){const f=u.getSelectedElement();return!(!f||!_i(f))})(e.editing.view.document.selection)&&s.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:i,items:s,getRelatedElement:u,balloonClassName:f="ck-toolbar-container"}){if(!s.length)return void L("widget-toolbar-no-items",{toolbarId:e});const m=this.editor,w=m.t,_=new yy(m.locale);if(_.ariaLabel=i||w("Widget toolbar"),this._toolbarDefinitions.has(e))throw new M("widget-toolbar-duplicated",this,{toolbarId:e});const E={view:_,getRelatedElement:u,balloonClassName:f,itemsConfig:s,initialized:!1};m.ui.addToolbar(_,{isContextual:!0,beforeFocus:()=>{const T=u(m.editing.view.document.selection);T&&this._showToolbar(E,T)},afterBlur:()=>{this._hideToolbar(E)}}),this._toolbarDefinitions.set(e,E)}_updateToolbarsVisibility(){let e=0,i=null,s=null;for(const u of this._toolbarDefinitions.values()){const f=u.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&f)if(this.editor.ui.focusTracker.isFocused){const m=f.getAncestors().length;m>e&&(e=m,i=f,s=u)}else this._isToolbarVisible(u)&&this._hideToolbar(u);else this._isToolbarInBalloon(u)&&this._hideToolbar(u)}s&&this._showToolbar(s,i)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,i){this._isToolbarVisible(e)?vE(this.editor,i):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:AE(this.editor,i),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const s of this._toolbarDefinitions.values())if(this._isToolbarVisible(s)){const u=s.getRelatedElement(this.editor.editing.view.document.selection);vE(this.editor,u)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function vE(c,e){const i=c.plugins.get("ContextualBalloon"),s=AE(c,e);i.updatePosition(s)}function AE(c,e){const i=c.editing.view,s=ms.defaultPositions;return{target:i.domConverter.mapViewToDom(e),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}var _E=a(4095),vU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(_E.A,vU),_E.A.locals;const By=Ol("px");class AU extends Nt{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",i=>!i)],style:{left:e.to("left",i=>By(i)),top:e.to("top",i=>By(i)),width:e.to("width",i=>By(i))}}})}}class x0 extends ct{constructor(){super(...arguments),this.removeDropMarkerDelayed=cm(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=p0(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=p0(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new AU,this._domEmitter=new(yi()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,i,s,u,f,m){this.removeDropMarkerDelayed.cancel();const w=CE(this.editor,e,i,s,u,f,m);if(w)return m&&m.containsRange(w)?this.removeDropMarker():void this._updateDropMarkerThrottled(w)}getFinalDropRange(e,i,s,u,f,m){const w=CE(this.editor,e,i,s,u,f,m);return this.removeDropMarker(),w}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(i=>{i.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(i,{writer:s})=>{if(e.model.schema.checkChild(i.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(s);i.markerRange.isCollapsed?this._updateDropTargetLine(i.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const i=this.editor,s=i.model.markers;i.model.change(u=>{s.has("drop-target")?s.get("drop-target").getRange().isEqual(e)||u.updateMarker("drop-target",{range:e}):u.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(i){const s=this.toDomElement(i);return s.append("â ",i.createElement("span"),"â "),s})}_updateDropTargetLine(e){const i=this.editor.editing,s=e.start.nodeBefore,u=e.start.nodeAfter,f=e.start.parent,m=s?i.mapper.toViewElement(s):null,w=m?i.view.domConverter.mapViewToDom(m):null,_=u?i.mapper.toViewElement(u):null,E=_?i.view.domConverter.mapViewToDom(_):null,T=i.mapper.toViewElement(f);if(!T)return;const O=i.view.domConverter.mapViewToDom(T),U=this._getScrollableRect(T),{scrollX:K,scrollY:ee}=h.window,oe=w?new qt(w):null,ke=E?new qt(E):null,Se=new qt(O).excludeScrollbarsAndBorders(),Le=oe?oe.bottom:Se.top,tt=ke?ke.top:Se.bottom,ft=h.window.getComputedStyle(O),Mt=Le<=tt?(Le+tt)/2:tt;if(U.top<Mt&&Mt<U.bottom){const nn=Se.left+parseFloat(ft.paddingLeft),kn=Se.right-parseFloat(ft.paddingRight),xr=Math.max(nn+K,U.left),Yi=Math.min(kn+K,U.right);this._dropTargetLineView.set({isVisible:!0,left:xr,top:Mt+ee,width:Yi-xr})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const i=e.root.rootName;let s;if(this._scrollables.has(i))s=this._scrollables.get(i).domElement;else{s=function(f){let m=f;do{m=m.parentElement;const w=h.window.getComputedStyle(m).overflowY;if(w=="auto"||w=="scroll")break}while(m.tagName!="BODY");return m}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(s,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const u=new va(s,this._reconvertMarkerThrottled);this._scrollables.set(i,{domElement:s,resizeObserver:u})}return new qt(s).excludeScrollbarsAndBorders()}}function CE(c,e,i,s,u,f,m){const w=c.model,_=c.editing.mapper;let E=SE(c,e);for(;E;){if(!f){if(w.schema.checkChild(E,"$text")){if(i){const T=i[0].start,O=_.toModelPosition(T);if(!m||Array.from(m.getItems()).every(U=>w.schema.checkChild(O,U))){if(w.schema.checkChild(O,"$text"))return w.createRange(O);if(T)return S0(c,SE(c,T.parent),s,u)}}}else if(w.schema.isInline(E))return S0(c,E,s,u)}if(w.schema.isBlock(E))return S0(c,E,s,u);if(w.schema.checkChild(E,"$block")){const T=Array.from(E.getChildren()).filter(K=>K.is("element")&&!_U(c,K));let O=0,U=T.length;if(U==0)return w.createRange(w.createPositionAt(E,"end"));for(;O<U-1;){const K=Math.floor((O+U)/2);xE(c,T[K],s,u)=="before"?U=K:O=K}return S0(c,T[O],s,u)}E=E.parent}return null}function _U(c,e){const i=c.editing.mapper,s=c.editing.view.domConverter,u=i.toViewElement(e);if(!u)return!0;const f=s.mapViewToDom(u);return h.window.getComputedStyle(f).float!="none"}function S0(c,e,i,s){const u=c.model;return u.createRange(u.createPositionAt(e,xE(c,e,i,s)))}function xE(c,e,i,s){const u=c.editing.mapper,f=c.editing.view.domConverter,m=u.toViewElement(e),w=f.mapViewToDom(m),_=new qt(w);return c.model.schema.isInline(e)?i<(_.left+_.right)/2?"before":"after":s<(_.top+_.bottom)/2?"before":"after"}function SE(c,e){const i=c.editing.mapper,s=c.editing.view,u=i.toModelElement(e);if(u)return u;const f=s.createPositionBefore(e),m=i.findMappedViewAncestor(f);return i.toModelElement(m)}var CU=Object.defineProperty,xU=Object.defineProperties,SU=Object.getOwnPropertyDescriptors,EE=Object.getOwnPropertySymbols,EU=Object.prototype.hasOwnProperty,DU=Object.prototype.propertyIsEnumerable,DE=(c,e,i)=>e in c?CU(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class IU extends ct{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(yi())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(i,s,u)=>{u?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),b.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const i=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(i,"dragstart",(s,u)=>this._handleBlockDragStart(u)),this._domEmitter.listenTo(h.document,"dragover",(s,u)=>this._handleBlockDragging(u)),this._domEmitter.listenTo(h.document,"drop",(s,u)=>this._handleBlockDragging(u)),this._domEmitter.listenTo(h.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&i.setAttribute("draggable","true"),this.on("change:isEnabled",(s,u,f)=>{i.setAttribute("draggable",f?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const i=this.editor.model,s=i.document.selection,u=this.editor.editing.view,f=Array.from(s.getSelectedBlocks()),m=i.createRange(i.createPositionBefore(f[0]),i.createPositionAfter(f[f.length-1]));i.change(w=>w.setSelection(m)),this._isBlockDragging=!0,u.focus(),u.getObserver(Om).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const i=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),s=e.clientY,u=document.elementFromPoint(i,s),f=this.editor.editing.view;var m,w;u&&u.closest(".ck-editor__editable")&&f.getObserver(Om).onDomEvent((m=((_,E)=>{for(var T in E||(E={}))EU.call(E,T)&&DE(_,T,E[T]);if(EE)for(var T of EE(E))DU.call(E,T)&&DE(_,T,E[T]);return _})({},e),w={type:e.type,dataTransfer:e.dataTransfer,target:u,clientX:i,clientY:s,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()},xU(m,SU(w))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var IE=a(7793),TU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(IE.A,TU),IE.A.locals;class NU extends ct{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=cm(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(yi())}static get pluginName(){return"DragDrop"}static get requires(){return[Na,Fm,x0,IU]}init(){const e=this.editor,i=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,i.addObserver(Om),i.addObserver(py),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(s,u,f)=>{f?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(s,u,f)=>{f||this._finalizeDragging(!1)}),b.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,i=e.model,s=e.editing.view,u=s.document,f=e.plugins.get(x0);this.listenTo(u,"dragstart",(m,w)=>{if(w.target&&w.target.is("editableElement")||(this._prepareDraggedRange(w.target),!this._draggedRange))return void w.preventDefault();this._draggingUid=P(),w.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",w.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const _=i.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(w.dataTransfer,_,"dragstart");const{dataTransfer:E,domTarget:T,domEvent:O}=w,{clientX:U}=O;this._updatePreview({dataTransfer:E,domTarget:T,clientX:U}),w.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(u,"dragend",(m,w)=>{this._finalizeDragging(!w.dataTransfer.isCanceled&&w.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(h.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(u,"dragenter",()=>{this.isEnabled&&s.focus()}),this.listenTo(u,"dragleave",()=>{f.removeDropMarkerDelayed()}),this.listenTo(u,"dragging",(m,w)=>{if(!this.isEnabled)return void(w.dataTransfer.dropEffect="none");const{clientX:_,clientY:E}=w.domEvent;f.updateDropMarker(w.target,w.targetRanges,_,E,this._blockMode,this._draggedRange),this._draggedRange||(w.dataTransfer.dropEffect="copy"),b.isGecko||(w.dataTransfer.effectAllowed=="copy"?w.dataTransfer.dropEffect="copy":["all","copyMove"].includes(w.dataTransfer.effectAllowed)&&(w.dataTransfer.dropEffect="move")),m.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,i=e.editing.view.document,s=e.plugins.get(x0);this.listenTo(i,"clipboardInput",(u,f)=>{if(f.method!="drop")return;const{clientX:m,clientY:w}=f.domEvent,_=s.getFinalDropRange(f.target,f.targetRanges,m,w,this._blockMode,this._draggedRange);if(!_)return this._finalizeDragging(!1),void u.stop();if(this._draggedRange&&this._draggingUid!=f.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),TE(f.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(_,!0))return this._finalizeDragging(!1),void u.stop();f.targetRanges=[e.editing.mapper.toViewRange(_)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Na);e.on("contentInsertion",(i,s)=>{if(!this.isEnabled||s.method!=="drop")return;const u=s.targetRanges.map(f=>this.editor.editing.mapper.toModelRange(f));this.editor.model.change(f=>f.setSelection(u))},{priority:"high"}),e.on("contentInsertion",(i,s)=>{if(!this.isEnabled||s.method!=="drop")return;const u=TE(s.dataTransfer)=="move",f=!s.resultRange||!s.resultRange.isCollapsed;this._finalizeDragging(f&&u)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,i=e.editing.view,s=i.document;this.listenTo(s,"mousedown",(u,f)=>{if(b.isAndroid||!f)return;this._clearDraggableAttributesDelayed.cancel();let m=NE(f.target);if(b.isBlink&&!e.isReadOnly&&!m&&!s.selection.isCollapsed){const w=s.selection.getSelectedElement();w&&_i(w)||(m=s.selection.editableElement)}m&&(i.change(w=>{w.setAttribute("draggable","true",m)}),this._draggableElement=e.editing.mapper.toModelElement(m))}),this.listenTo(s,"mouseup",()=>{b.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(i=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&i.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const i=this.editor,s=i.model;i.plugins.get(x0).removeDropMarker(),this._clearDraggableAttributes(),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&s.change(u=>{const f=s.createSelection(this._draggedRange);s.deleteContent(f,{doNotAutoparagraph:!0});const m=f.getFirstPosition().parent;m.isEmpty&&!s.schema.checkChild(m,"$text")&&s.schema.checkChild(m,"paragraph")&&u.insertElement("paragraph",m,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const i=this.editor,s=i.model,u=s.document.selection,f=e?NE(e):null;if(f){const E=i.editing.mapper.toModelElement(f);this._draggedRange=qs.fromRange(s.createRangeOn(E)),this._blockMode=s.schema.isBlock(E),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(u.isCollapsed&&!u.getFirstPosition().parent.isEmpty)return;const m=Array.from(u.getSelectedBlocks()),w=u.getFirstRange();if(m.length==0)return void(this._draggedRange=qs.fromRange(w));const _=ME(s,m);if(m.length>1)this._draggedRange=qs.fromRange(_),this._blockMode=!0;else if(m.length==1){const E=w.start.isTouching(_.start)&&w.end.isTouching(_.end);this._draggedRange=qs.fromRange(E?_:w),this._blockMode=E}s.change(E=>E.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:i,clientX:s}){const u=this.editor.editing.view,f=u.document.selection.editableElement,m=u.domConverter.mapViewToDom(f),w=h.window.getComputedStyle(m);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=En(h.document,"div",{style:"position: fixed; left: -999999px;"}),h.document.body.appendChild(this._previewContainer));const _=new qt(m);if(m.contains(i))return;const E=parseFloat(w.paddingLeft),T=En(h.document,"div");T.className="ck ck-content",T.style.width=w.width,T.style.paddingLeft=`${_.left-s+E}px`,b.isiOS&&(T.style.backgroundColor="white"),T.innerHTML=e.getData("text/html"),e.setDragImage(T,0,0),this._previewContainer.appendChild(T)}}function TE(c){return b.isGecko?c.dropEffect:["all","copyMove"].includes(c.effectAllowed)?"move":"copy"}function NE(c){if(c.is("editableElement"))return null;if(c.hasClass("ck-widget__selection-handle"))return c.findAncestor(_i);if(_i(c))return c;const e=c.findAncestor(i=>_i(i)||i.is("editableElement"));return _i(e)?e:null}function ME(c,e){const i=e[0],s=e[e.length-1],u=i.getCommonAncestor(s),f=c.createPositionBefore(i),m=c.createPositionAfter(s);if(u&&u.is("element")&&!c.schema.isLimit(u)){const w=c.createRangeOn(u),_=f.isTouching(w.start),E=m.isTouching(w.end);if(_&&E)return ME(c,[u])}return c.createRange(f,m)}class MU extends ct{static get pluginName(){return"PastePlainText"}static get requires(){return[Na]}init(){const e=this.editor,i=e.model,s=e.editing.view,u=s.document,f=i.document.selection;let m=!1;s.addObserver(Om),this.listenTo(u,"keydown",(w,_)=>{m=_.shiftKey}),e.plugins.get(Na).on("contentInsertion",(w,_)=>{(m||function(E,T){if(E.childCount>1)return!1;const O=E.getChild(0);return T.isObject(O)?!1:Array.from(O.getAttributeKeys()).length==0}(_.content,i.schema))&&i.change(E=>{const T=Array.from(f.getAttributes()).filter(([U])=>i.schema.getAttributeProperties(U).isFormatting);f.isCollapsed||i.deleteContent(f,{doNotAutoparagraph:!0}),T.push(...f.getAttributes());const O=E.createRangeIn(_.content);for(const U of O.getItems())U.is("$textProxy")&&E.setAttributes(T,U)})})}}class PE extends ct{static get pluginName(){return"Clipboard"}static get requires(){return[jm,Na,NU,MU]}init(){const e=this.editor,i=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Copy selected content"),keystroke:"CTRL+C"},{label:i("Paste content"),keystroke:"CTRL+V"},{label:i("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class PU extends Wt{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,i=e.document.selection;let s=e.schema.getLimitElement(i);if(i.containsEntireContent(s)||!OE(e.schema,s))do if(s=s.parent,!s)return;while(!OE(e.schema,s));e.change(u=>{u.setSelection(s,"in")})}}function OE(c,e){return c.isLimit(e)&&(c.checkChild(e,"$text")||c.checkChild(e,"paragraph"))}const OU=Xa("Ctrl+A");class jU extends ct{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,i=e.t,s=e.editing.view.document;e.commands.add("selectAll",new PU(e)),this.listenTo(s,"keydown",(u,f)=>{Ll(f)===OU&&(e.execute("selectAll"),f.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Select all"),keystroke:"CTRL+A"}]})}}class LU extends ct{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const i=this._createButton(Hn);return i.set({tooltip:!0}),i}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton($s))}_createButton(e){const i=this.editor,s=i.locale,u=i.commands.get("selectAll"),f=new e(i.locale),m=s.t;return f.set({label:m("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),f.bind("isEnabled").to(u,"isEnabled"),this.listenTo(f,"execute",()=>{i.execute("selectAll"),i.editing.view.focus()}),f}}class RU extends ct{static get requires(){return[jU,LU]}static get pluginName(){return"SelectAll"}}var BU=Object.defineProperty,jE=Object.getOwnPropertySymbols,FU=Object.prototype.hasOwnProperty,zU=Object.prototype.propertyIsEnumerable,LE=(c,e,i)=>e in c?BU(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class RE extends Wt{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(i,s)=>{s[1]=((f,m)=>{for(var w in m||(m={}))FU.call(m,w)&&LE(f,w,m[w]);if(jE)for(var w of jE(m))zU.call(m,w)&&LE(f,w,m[w]);return f})({},s[1]);const u=s[1];u.batchType||(u.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(i,s)=>{s[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const i=this.editor.model.document.selection,s={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:e,selection:s}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,i,s){const u=this.editor.model,f=u.document,m=[],w=e.map(E=>E.getTransformedByOperations(s)),_=w.flat();for(const E of w){const T=E.filter(O=>O.root!=f.graveyard).filter(O=>!qU(O,_));T.length&&(UU(T),m.push(T[0]))}m.length&&u.change(E=>{E.setSelection(m,{backward:i})})}_undo(e,i){const s=this.editor.model,u=s.document;this._createdBatches.add(i);const f=e.operations.slice().filter(m=>m.isDocumentOperation);f.reverse();for(const m of f){const w=m.baseVersion+1,_=Array.from(u.history.getOperations(w)),E=v7([m.getReversed()],_,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let T of E){const O=T.affectedSelectable;O&&!s.canEditAt(O)&&(T=new Wi(T.baseVersion)),i.addOperation(T),s.applyOperation(T),u.history.setOperationAsUndone(m,T)}}}}function UU(c){c.sort((e,i)=>e.start.isBefore(i.start)?-1:1);for(let e=1;e<c.length;e++){const i=c[e-1].getJoined(c[e],!0);i&&(e--,c.splice(e,2,i))}}function qU(c,e){return e.some(i=>i!==c&&i.containsRange(c,!0))}class VU extends RE{execute(e=null){const i=e?this._stack.findIndex(f=>f.batch==e):this._stack.length-1,s=this._stack.splice(i,1)[0],u=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(u,()=>{this._undo(s.batch,u);const f=this.editor.model.document.history.getOperations(s.batch.baseVersion);this._restoreSelection(s.selection.ranges,s.selection.isBackward,f)}),this.fire("revert",s.batch,u),this.refresh()}}class $U extends RE{execute(){const e=this._stack.pop(),i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{const s=e.batch.operations[e.batch.operations.length-1].baseVersion+1,u=this.editor.model.document.history.getOperations(s);this._restoreSelection(e.selection.ranges,e.selection.isBackward,u),this._undo(e.batch,i)}),this.refresh()}}class HU extends ct{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,i=e.t;this._undoCommand=new VU(e),this._redoCommand=new $U(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(s,u)=>{const f=u[0];if(!f.isDocumentOperation)return;const m=f.batch,w=this._redoCommand.createdBatches.has(m),_=this._undoCommand.createdBatches.has(m);this._batchRegistry.has(m)||(this._batchRegistry.add(m),m.isUndoable&&(w?this._undoCommand.addBatch(m):_||(this._undoCommand.addBatch(m),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(s,u,f)=>{this._redoCommand.addBatch(f)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Undo"),keystroke:"CTRL+Z"},{label:i("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class WU extends ct{static get pluginName(){return"UndoUI"}init(){const e=this.editor,i=e.locale,s=e.t,u=i.uiLanguageDirection=="ltr"?hn.undo:hn.redo,f=i.uiLanguageDirection=="ltr"?hn.redo:hn.undo;this._addButtonsToFactory("undo",s("Undo"),"CTRL+Z",u),this._addButtonsToFactory("redo",s("Redo"),"CTRL+Y",f)}_addButtonsToFactory(e,i,s,u){const f=this.editor;f.ui.componentFactory.add(e,()=>{const m=this._createButton(Hn,e,i,s,u);return m.set({tooltip:!0}),m}),f.ui.componentFactory.add("menuBar:"+e,()=>this._createButton($s,e,i,s,u))}_createButton(e,i,s,u,f){const m=this.editor,w=m.locale,_=m.commands.get(i),E=new e(w);return E.set({label:s,icon:f,keystroke:u}),E.bind("isEnabled").to(_,"isEnabled"),this.listenTo(E,"execute",()=>{m.execute(i),m.editing.view.focus()}),E}}class BE extends ct{static get requires(){return[HU,WU]}static get pluginName(){return"Undo"}}class GU extends ze(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=i=>{this.loaded=i.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const i=this._reader;return this.total=e.size,new Promise((s,u)=>{i.onload=()=>{const f=i.result;this._data=f,s(f)},i.onerror=()=>{u("error")},i.onabort=()=>{u("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class sl extends ct{constructor(){super(...arguments),this.loaders=new Fs,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[Xx]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,i)=>i?e/i*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return L("filerepository-no-upload-adapter"),null;const i=new FE(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(i),this._loadersMap.set(e,i),e instanceof Promise&&i.file.then(s=>{this._loadersMap.set(s,i)}).catch(()=>{}),i.on("change:uploaded",()=>{let s=0;for(const u of this.loaders)s+=u.uploaded;this.uploaded=s}),i.on("change:uploadTotal",()=>{let s=0;for(const u of this.loaders)u.uploadTotal&&(s+=u.uploadTotal);this.uploadTotal=s}),i}destroyLoader(e){const i=e instanceof FE?e:this.getLoader(e);i._destroy(),this.loaders.remove(i),this._loadersMap.forEach((s,u)=>{s===i&&this._loadersMap.delete(u)})}_updatePendingAction(){const e=this.editor.plugins.get(Xx);if(this.loaders.length){if(!this._pendingAction){const i=this.editor.t,s=u=>`${i("Upload in progress")} ${parseInt(u)}%.`;this._pendingAction=e.add(s(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",s)}}else e.remove(this._pendingAction),this._pendingAction=null}}class FE extends ze(){constructor(e,i){super(),this.id=P(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=i(this),this._reader=new GU,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(s,u)=>u?s/u*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new M("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new M("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const i={};return i.promise=new Promise((s,u)=>{i.rejecter=u,i.isFulfilled=!1,e.then(f=>{i.isFulfilled=!0,s(f)}).catch(f=>{i.isFulfilled=!0,u(f)})}),i}}const zE="ckCsrfToken",UE="abcdefghijklmnopqrstuvwxyz0123456789";function YU(){let c=function(s){s=s.toLowerCase();const u=document.cookie.split(";");for(const f of u){const m=f.split("=");if(decodeURIComponent(m[0].trim().toLowerCase())===s)return decodeURIComponent(m[1])}return null}(zE);var e,i;return c&&c.length==40||(c=function(s){let u="";const f=new Uint8Array(s);window.crypto.getRandomValues(f);for(let m=0;m<f.length;m++){const w=UE.charAt(f[m]%UE.length);u+=Math.random()>.5?w.toUpperCase():w}return u}(40),e=zE,i=c,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(i)+";path=/"),c}class KU{constructor(e,i,s){this.loader=e,this.url=i,this.t=s}upload(){return this.loader.file.then(e=>new Promise((i,s)=>{this._initRequest(),this._initListeners(i,s,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,i,s){const u=this.xhr,f=this.loader,m=(0,this.t)("Cannot upload file:")+` ${s.name}.`;u.addEventListener("error",()=>i(m)),u.addEventListener("abort",()=>i()),u.addEventListener("load",()=>{const w=u.response;if(!w||!w.uploaded)return i(w&&w.error&&w.error.message?w.error.message:m);e({default:w.url})}),u.upload&&u.upload.addEventListener("progress",w=>{w.lengthComputable&&(f.uploadTotal=w.total,f.uploaded=w.loaded)})}_sendRequest(e){const i=new FormData;i.append("upload",e),i.append("ckCsrfToken",YU()),this.xhr.send(i)}}function $u(c,e,i,s){let u,f=null;typeof s=="function"?u=s:(f=c.commands.get(s),u=()=>{c.execute(s)}),c.model.document.on("change:data",(m,w)=>{if(f&&!f.isEnabled||!e.isEnabled)return;const _=ji(c.model.document.selection.getRanges());if(!_.isCollapsed||w.isUndo||!w.isLocal)return;const E=Array.from(c.model.document.differ.getChanges()),T=E[0];if(E.length!=1||T.type!=="insert"||T.name!="$text"||T.length!=1)return;const O=T.position.parent;if(O.is("element","codeBlock")||O.is("element","listItem")&&typeof s!="function"&&!["numberedList","bulletedList","todoList"].includes(s)||f&&f.value===!0)return;const U=O.getChild(0),K=c.model.createRangeOn(U);if(!K.containsRange(_)&&!_.end.isEqual(K.end))return;const ee=i.exec(U.data.substr(0,_.end.offset));ee&&c.model.enqueueChange(oe=>{const ke=oe.createPositionAt(O,0),Se=oe.createPositionAt(O,ee[0].length),Le=new qs(ke,Se);if(u({match:ee})!==!1){oe.remove(Le);const tt=c.model.document.selection.getFirstRange(),ft=oe.createRangeIn(O);!O.isEmpty||ft.isEqual(tt)||ft.containsRange(tt,!0)||oe.remove(O)}Le.detach(),c.model.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})})})}function Of(c,e,i,s){let u,f;i instanceof RegExp?u=i:f=i,f=f||(m=>{let w;const _=[],E=[];for(;(w=u.exec(m))!==null&&!(w&&w.length<4);){let{index:T,1:O,2:U,3:K}=w;const ee=O+U+K;T+=w[0].length-ee.length;const oe=[T,T+O.length],ke=[T+O.length+U.length,T+O.length+U.length+K.length];_.push(oe),_.push(ke),E.push([T+O.length,T+O.length+U.length])}return{remove:_,format:E}}),c.model.document.on("change:data",(m,w)=>{if(w.isUndo||!w.isLocal||!e.isEnabled)return;const _=c.model,E=_.document.selection;if(!E.isCollapsed)return;const T=Array.from(_.document.differ.getChanges()),O=T[0];if(T.length!=1||O.type!=="insert"||O.name!="$text"||O.length!=1)return;const U=E.focus,K=U.parent,{text:ee,range:oe}=function(tt,ft){let Mt=tt.start;return{text:Array.from(tt.getItems()).reduce((kn,xr)=>!xr.is("$text")&&!xr.is("$textProxy")||xr.getAttribute("code")?(Mt=ft.createPositionAfter(xr),""):kn+xr.data,""),range:ft.createRange(Mt,tt.end)}}(_.createRange(_.createPositionAt(K,0),U),_),ke=f(ee),Se=qE(oe.start,ke.format,_),Le=qE(oe.start,ke.remove,_);Se.length&&Le.length&&_.enqueueChange(tt=>{if(s(tt,Se)!==!1){for(const ft of Le.reverse())tt.remove(ft);_.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})}})})}function qE(c,e,i){return e.filter(s=>s[0]!==void 0&&s[1]!==void 0).map(s=>i.createRange(c.getShiftedBy(s[0]),c.getShiftedBy(s[1])))}function E0(c,e){return(i,s)=>{if(!c.commands.get(e).isEnabled)return!1;const u=c.model.schema.getValidRanges(s,e);for(const f of u)i.setAttribute(e,!0,f);i.removeSelectionAttribute(e)}}class VE extends Wt{constructor(e,i){super(e),this.attributeKey=i}refresh(){const e=this.editor.model,i=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(e={}){const i=this.editor.model,s=i.document.selection,u=e.forceValue===void 0?!this.value:e.forceValue;i.change(f=>{if(s.isCollapsed)u?f.setSelectionAttribute(this.attributeKey,!0):f.removeSelectionAttribute(this.attributeKey);else{const m=i.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const w of m)u?f.setAttribute(this.attributeKey,u,w):f.removeAttribute(this.attributeKey,w)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,i=e.schema,s=e.document.selection;if(s.isCollapsed)return s.hasAttribute(this.attributeKey);for(const u of s.getRanges())for(const f of u.getItems())if(i.checkAttribute(f,this.attributeKey))return f.hasAttribute(this.attributeKey);return!1}}const jf="bold";class QU extends ct{static get pluginName(){return"BoldEditing"}init(){const e=this.editor,i=this.editor.t;e.model.schema.extend("$text",{allowAttributes:jf}),e.model.schema.setAttributeProperties(jf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:jf,view:"strong",upcastAlso:["b",s=>{const u=s.getStyle("font-weight");return u&&(u=="bold"||Number(u)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(jf,new VE(e,jf)),e.keystrokes.set("CTRL+B",jf),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Bold text"),keystroke:"CTRL+B"}]})}}function $E({editor:c,commandName:e,plugin:i,icon:s,label:u,keystroke:f}){return m=>{const w=c.commands.get(e),_=new m(c.locale);return _.set({label:u,icon:s,keystroke:f,isToggleable:!0}),_.bind("isEnabled").to(w,"isEnabled"),i.listenTo(_,"execute",()=>{c.execute(e),c.editing.view.focus()}),_}}const D0="bold";class JU extends ct{static get pluginName(){return"BoldUI"}init(){const e=this.editor,i=e.locale.t,s=e.commands.get(D0),u=$E({editor:e,commandName:D0,plugin:this,icon:hn.bold,label:i("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(D0,()=>{const f=u(Hn);return f.set({tooltip:!0}),f.bind("isOn").to(s,"value"),f}),e.ui.componentFactory.add("menuBar:"+D0,()=>u($s))}}var HE=a(4199),ZU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(HE.A,ZU),HE.A.locals;const Lf="italic";class XU extends ct{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor,i=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Lf}),e.model.schema.setAttributeProperties(Lf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Lf,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Lf,new VE(e,Lf)),e.keystrokes.set("CTRL+I",Lf),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Italic text"),keystroke:"CTRL+I"}]})}}const I0="italic";class eq extends ct{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,i=e.commands.get(I0),s=e.locale.t,u=$E({editor:e,commandName:I0,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:s("Italic")});e.ui.componentFactory.add(I0,()=>{const f=u(Hn);return f.set({tooltip:!0}),f.bind("isOn").to(i,"value"),f}),e.ui.componentFactory.add("menuBar:"+I0,()=>u($s))}}class tq extends Wt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,s=i.schema,u=i.document.selection,f=Array.from(u.getSelectedBlocks()),m=e.forceValue===void 0?!this.value:e.forceValue;i.change(w=>{if(m){const _=f.filter(E=>T0(E)||GE(s,E));this._applyQuote(w,_)}else this._removeQuote(w,f.filter(T0))})}_getValue(){const e=ji(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!T0(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,i=this.editor.model.schema,s=ji(e.getSelectedBlocks());return!!s&&GE(i,s)}_removeQuote(e,i){WE(e,i).reverse().forEach(s=>{if(s.start.isAtStart&&s.end.isAtEnd)return void e.unwrap(s.start.parent);if(s.start.isAtStart){const f=e.createPositionBefore(s.start.parent);return void e.move(s,f)}s.end.isAtEnd||e.split(s.end);const u=e.createPositionAfter(s.end.parent);e.move(s,u)})}_applyQuote(e,i){const s=[];WE(e,i).reverse().forEach(u=>{let f=T0(u.start);f||(f=e.createElement("blockQuote"),e.wrap(u,f)),s.push(f)}),s.reverse().reduce((u,f)=>u.nextSibling==f?(e.merge(e.createPositionAfter(u)),u):f)}}function T0(c){return c.parent.name=="blockQuote"?c.parent:null}function WE(c,e){let i,s=0;const u=[];for(;s<e.length;){const f=e[s],m=e[s+1];i||(i=c.createPositionBefore(f)),m&&f.nextSibling==m||(u.push(c.createRange(i,c.createPositionAfter(f))),i=null),s++}return u}function GE(c,e){const i=c.checkChild(e.parent,"blockQuote"),s=c.checkChild(["$root","blockQuote"],e);return i&&s}class nq extends ct{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[A0,Yc]}init(){const e=this.editor,i=e.model.schema;e.commands.add("blockQuote",new tq(e)),i.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(m=>{const w=e.model.document.differ.getChanges();for(const _ of w)if(_.type=="insert"){const E=_.position.nodeAfter;if(!E)continue;if(E.is("element","blockQuote")&&E.isEmpty)return m.remove(E),!0;if(E.is("element","blockQuote")&&!i.checkChild(_.position,E))return m.unwrap(E),!0;if(E.is("element")){const T=m.createRangeIn(E);for(const O of T.getItems())if(O.is("element","blockQuote")&&!i.checkChild(m.createPositionBefore(O),O))return m.unwrap(O),!0}}else if(_.type=="remove"){const E=_.position.parent;if(E.is("element","blockQuote")&&E.isEmpty)return m.remove(E),!0}return!1});const s=this.editor.editing.view.document,u=e.model.document.selection,f=e.commands.get("blockQuote");this.listenTo(s,"enter",(m,w)=>{!u.isCollapsed||!f.value||u.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),w.preventDefault(),m.stop())},{context:"blockquote"}),this.listenTo(s,"delete",(m,w)=>{if(w.direction!="backward"||!u.isCollapsed||!f.value)return;const _=u.getLastPosition().parent;_.isEmpty&&!_.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),w.preventDefault(),m.stop())},{context:"blockquote"})}}var YE=a(8708),rq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(YE.A,rq),YE.A.locals;class iq extends ct{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,i=e.commands.get("blockQuote");e.ui.componentFactory.add("blockQuote",()=>{const s=this._createButton(Hn);return s.set({tooltip:!0}),s.bind("isOn").to(i,"value"),s}),e.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton($s))}_createButton(e){const i=this.editor,s=i.locale,u=i.commands.get("blockQuote"),f=new e(i.locale),m=s.t;return f.set({label:m("Block quote"),icon:hn.quote,isToggleable:!0}),f.bind("isEnabled").to(u,"isEnabled"),this.listenTo(f,"execute",()=>{i.execute("blockQuote"),i.editing.view.focus()}),f}}class oq extends ct{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;if(!e.commands.get("ckbox"))return;const i=e.t,s=e.ui.componentFactory;if(s.add("ckbox",()=>{const u=this._createButton(Hn);return u.tooltip=!0,u}),s.add("menuBar:ckbox",()=>this._createButton($s)),e.plugins.has("ImageInsertUI")){const u=e.plugins.get("ImageInsertUI");u.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckbox"),buttonViewCreator:()=>{const f=this.editor.ui.componentFactory.create("ckbox");return f.icon=hn.imageAssetManager,f.bind("label").to(u,"isImageSelected",m=>i(m?"Replace image with file manager":"Insert image with file manager")),f},formViewCreator:()=>{const f=this.editor.ui.componentFactory.create("ckbox");return f.icon=hn.imageAssetManager,f.withText=!0,f.bind("label").to(u,"isImageSelected",m=>i(m?"Replace with file manager":"Insert with file manager")),f.on("execute",()=>{u.dropdownView.isOpen=!1}),f}})}}_createButton(e){const i=this.editor,s=i.locale,u=new e(s),f=i.commands.get("ckbox"),m=s.t;return u.set({label:m("Open file manager"),icon:hn.browseFiles}),u.bind("isOn","isEnabled").to(f,"value","isEnabled"),u.on("execute",()=>{i.execute("ckbox")}),u}}var sq=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],zm=c=>{let e=0;for(let i=0;i<c.length;i++){let s=c[i];e=83*e+sq.indexOf(s)}return e},Fy=c=>{let e=c/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},zy=c=>{let e=Math.max(0,Math.min(1,c));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},Uy=(c,e)=>(i=>i<0?-1:1)(c)*Math.pow(Math.abs(c),e),KE=class extends Error{constructor(c){super(c),this.name="ValidationError",this.message=c}},aq=c=>{if(!c||c.length<6)throw new KE("The blurhash string must be at least 6 characters");let e=zm(c[0]),i=Math.floor(e/9)+1,s=e%9+1;if(c.length!==4+2*s*i)throw new KE(`blurhash length mismatch: length is ${c.length} but it should be ${4+2*s*i}`)},lq=c=>{let e=c>>8&255,i=255&c;return[Fy(c>>16),Fy(e),Fy(i)]},cq=(c,e)=>{let i=Math.floor(c/361),s=Math.floor(c/19)%19,u=c%19;return[Uy((i-9)/9,2)*e,Uy((s-9)/9,2)*e,Uy((u-9)/9,2)*e]},uq=(c,e,i,s)=>{aq(c),s|=1;let u=zm(c[0]),f=Math.floor(u/9)+1,m=u%9+1,w=(zm(c[1])+1)/166,_=new Array(m*f);for(let O=0;O<_.length;O++)if(O===0){let U=zm(c.substring(2,6));_[O]=lq(U)}else{let U=zm(c.substring(4+2*O,6+2*O));_[O]=cq(U,w*s)}let E=4*e,T=new Uint8ClampedArray(E*i);for(let O=0;O<i;O++)for(let U=0;U<e;U++){let K=0,ee=0,oe=0;for(let tt=0;tt<f;tt++)for(let ft=0;ft<m;ft++){let Mt=Math.cos(Math.PI*U*ft/e)*Math.cos(Math.PI*O*tt/i),nn=_[ft+tt*m];K+=nn[0]*Mt,ee+=nn[1]*Mt,oe+=nn[2]*Mt}let ke=zy(K),Se=zy(ee),Le=zy(oe);T[4*U+0+O*E]=ke,T[4*U+1+O*E]=Se,T[4*U+2+O*E]=Le,T[4*U+3+O*E]=255}return T},dq=Object.defineProperty,QE=Object.getOwnPropertySymbols,hq=Object.prototype.hasOwnProperty,fq=Object.prototype.propertyIsEnumerable,JE=(c,e,i)=>e in c?dq(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;function ZE(c){const e=[];let i=0;for(const u in c){const f=parseInt(u,10);isNaN(f)||(f>i&&(i=f),e.push(`${c[u]} ${u}w`))}const s=[{srcset:e.join(","),sizes:`(max-width: ${i}px) 100vw, ${i}px`,type:"image/webp"}];return{imageFallbackUrl:c.default,imageSources:s}}const Um=32;function XE({url:c,method:e="GET",data:i,onUploadProgress:s,signal:u,authorization:f}){const m=new XMLHttpRequest;m.open(e,c.toString()),m.setRequestHeader("Authorization",f),m.setRequestHeader("CKBox-Version","CKEditor 5"),m.responseType="json";const w=()=>{m.abort()};return new Promise((_,E)=>{u.throwIfAborted(),u.addEventListener("abort",w),m.addEventListener("loadstart",()=>{u.addEventListener("abort",w)}),m.addEventListener("loadend",()=>{u.removeEventListener("abort",w)}),m.addEventListener("error",()=>{E()}),m.addEventListener("abort",()=>{E()}),m.addEventListener("load",()=>{const T=m.response;if(!T||T.statusCode>=400)return E(T&&T.message);_(T)}),s&&m.upload.addEventListener("progress",T=>{s(T)}),m.send(i)})}const pq={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function mq(c,e){return i=this,s=null,u=function*(){try{const f=yield fetch(c,((m,w)=>{for(var _ in w||(w={}))hq.call(w,_)&&JE(m,_,w[_]);if(QE)for(var _ of QE(w))fq.call(w,_)&&JE(m,_,w[_]);return m})({method:"HEAD",cache:"force-cache"},e));return f.ok&&f.headers.get("content-type")||""}catch{return""}},new Promise((f,m)=>{var w=T=>{try{E(u.next(T))}catch(O){m(O)}},_=T=>{try{E(u.throw(T))}catch(O){m(O)}},E=T=>T.done?f(T.value):Promise.resolve(T.value).then(w,_);E((u=u.apply(i,s)).next())});var i,s,u}var gq=Object.defineProperty,e3=Object.getOwnPropertySymbols,bq=Object.prototype.hasOwnProperty,kq=Object.prototype.propertyIsEnumerable,t3=(c,e,i)=>e in c?gq(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,n3=(c,e)=>{for(var i in e||(e={}))bq.call(e,i)&&t3(c,i,e[i]);if(e3)for(var i of e3(e))kq.call(e,i)&&t3(c,i,e[i]);return c};class wq extends Wt{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");return!(!e.isEnabled&&!i.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,forceDemoLabel:e.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:i=>this.fire("ckbox:choose",i)}}}_initListeners(){const e=this.editor,i=e.model,s=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=En(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,e.editing.view.focus())}),this.on("ckbox:choose",(u,f)=>{if(!this.isEnabled)return;const m=e.commands.get("insertImage"),w=e.commands.get("link"),_=function({assets:T,isImageAllowed:O,isLinkAllowed:U}){return T.map(K=>function(ee){const oe=ee.data.metadata;return oe?oe.width&&oe.height:!1}(K)?{id:K.data.id,type:"image",attributes:yq(K)}:{id:K.data.id,type:"link",attributes:vq(K)}).filter(K=>K.type==="image"?O:U)}({assets:f,isImageAllowed:m.isEnabled,isLinkAllowed:w.isEnabled}),E=_.length;E!==0&&(i.change(T=>{for(const O of _){const U=O===_[E-1],K=E===1;this._insertAsset(O,U,T,K),s&&(setTimeout(()=>this._chosenAssets.delete(O),1e3),this._chosenAssets.add(O))}}),e.editing.view.focus())}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,i,s,u){const f=this.editor.model.document.selection;s.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,s,u),i||s.setSelection(f.getLastPosition())}_insertImage(e){const i=this.editor,{imageFallbackUrl:s,imageSources:u,imageTextAlternative:f,imageWidth:m,imageHeight:w,imagePlaceholder:_}=e.attributes;i.execute("insertImage",{source:n3({src:s,sources:u,alt:f,width:m,height:w},_?{placeholder:_}:null)})}_insertLink(e,i,s){const u=this.editor,f=u.model,m=f.document.selection,{linkName:w,linkHref:_}=e.attributes;if(m.isCollapsed){const E=_a(m.getAttributes()),T=i.createText(w,E);if(!s){const U=m.getLastPosition(),K=U.parent;K.name==="paragraph"&&K.isEmpty||u.execute("insertParagraph",{position:U});const ee=f.insertContent(T);return i.setSelection(ee),void u.execute("link",_)}const O=f.insertContent(T);i.setSelection(O)}u.execute("link",_)}}function yq(c){const{imageFallbackUrl:e,imageSources:i}=ZE(c.data.imageUrls),{description:s,width:u,height:f,blurHash:m}=c.data.metadata,w=function(_){if(_)try{const E=`${Um}px`,T=document.createElement("canvas");T.setAttribute("width",E),T.setAttribute("height",E);const O=T.getContext("2d");if(!O)return;const U=O.createImageData(Um,Um),K=uq(_,Um,Um);return U.data.set(K),O.putImageData(U,0,0),T.toDataURL()}catch{return}}(m);return n3({imageFallbackUrl:e,imageSources:i,imageTextAlternative:s||"",imageWidth:u,imageHeight:f},w?{imagePlaceholder:w}:null)}function vq(c){return{linkName:c.data.name,linkHref:Aq(c)}}function Aq(c){const e=new URL(c.data.url);return e.searchParams.set("download","true"),e.toString()}var qy=(c,e,i)=>new Promise((s,u)=>{var f=_=>{try{w(i.next(_))}catch(E){u(E)}},m=_=>{try{w(i.throw(_))}catch(E){u(E)}},w=_=>_.done?s(_.value):Promise.resolve(_.value).then(f,m);w((i=i.apply(c,e)).next())});class r3 extends ct{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return qy(this,null,function*(){const e=this.editor,i=!!e.config.get("ckbox"),s=!!window.CKBox;if(!i&&!s)return;e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"lark",tokenUrl:e.config.get("cloudServices.tokenUrl")});const u=e.plugins.get("CloudServices"),f=e.config.get("cloudServices.tokenUrl"),m=e.config.get("ckbox.tokenUrl");if(!m)throw new M("ckbox-plugin-missing-token-url",this);this._token=m==f?u.token:yield u.registerTokenUrl(m)})}getToken(){return this._token}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),i=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),s=function(u,f){const[,m]=u.value.split("."),w=JSON.parse(atob(m)),_=w.auth&&w.auth.ckbox&&w.auth.ckbox.workspaces||[w.aud];return f?(w.auth&&w.auth.ckbox&&w.auth.ckbox.role)=="superadmin"||_.includes(f)?f:null:_[0]}(this._token,i);if(s==null)throw q("ckbox-access-default-workspace-error"),e;return s}getCategoryIdForFile(e,i){return qy(this,null,function*(){const s=(0,this.editor.t)("Cannot determine a category for the uploaded file."),u=this.editor.config.get("ckbox.defaultUploadCategories"),f=this._getAvailableCategories(i),m=typeof e=="string"?(w=yield mq(e,i),pq[w]):function(T){const O=T.name,U=new RegExp("\\.(?<ext>[^.]+)$");return O.match(U).groups.ext.toLowerCase()}(e);var w;const _=yield f;if(!_)throw s;if(u){const T=Object.keys(u).find(O=>u[O].find(U=>U.toLowerCase()==m));if(T){const O=_.find(U=>U.id===T||U.name===T);if(!O)throw s;return O.id}}const E=_.find(T=>T.extensions.find(O=>O.toLowerCase()==m));if(!E)throw s;return E.id})}_getAvailableCategories(e){return qy(this,null,function*(){const i=this.editor,s=this._token,{signal:u}=e,f=i.config.get("ckbox.serviceOrigin"),m=this.getWorkspaceId();try{const _=[];let E,T=0;do{const O=yield w(T);_.push(...O.items),E=O.totalCount-(T+50),T+=50}while(E>0);return _}catch{return u.throwIfAborted(),void q("ckbox-fetch-category-http-error")}function w(_){const E=new URL("categories",f);return E.searchParams.set("limit","50"),E.searchParams.set("offset",_.toString()),E.searchParams.set("workspaceId",m),XE({url:E,signal:u,authorization:s.value})}})}}var Vy=(c,e,i)=>new Promise((s,u)=>{var f=_=>{try{w(i.next(_))}catch(E){u(E)}},m=_=>{try{w(i.throw(_))}catch(E){u(E)}},w=_=>_.done?s(_.value):Promise.resolve(_.value).then(f,m);w((i=i.apply(c,e)).next())});class _q extends ct{static get requires(){return["ImageUploadEditing","ImageUploadProgress",sl,i3]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return Vy(this,null,function*(){const e=this.editor,i=!!e.config.get("ckbox"),s=!!window.CKBox;if(!i&&!s)return;const u=e.plugins.get(sl),f=e.plugins.get(r3);u.createUploadAdapter=_=>new Cq(_,e,f);const m=!e.config.get("ckbox.ignoreDataId"),w=e.plugins.get("ImageUploadEditing");m&&w.on("uploadComplete",(_,{imageElement:E,data:T})=>{e.model.change(O=>{O.setAttribute("ckboxImageId",T.ckboxImageId,E)})})})}}class Cq{constructor(e,i,s){this.loader=e,this.token=s.getToken(),this.ckboxUtils=s,this.editor=i,this.controller=new AbortController,this.serviceOrigin=i.config.get("ckbox.serviceOrigin")}upload(){return Vy(this,null,function*(){const e=this.ckboxUtils,i=this.editor.t,s=yield this.loader.file,u=yield e.getCategoryIdForFile(s,{signal:this.controller.signal}),f=new URL("assets",this.serviceOrigin),m=new FormData;return f.searchParams.set("workspaceId",e.getWorkspaceId()),m.append("categoryId",u),m.append("file",s),XE({method:"POST",url:f,data:m,onUploadProgress:w=>{w.lengthComputable&&(this.loader.uploadTotal=w.total,this.loader.uploaded=w.loaded)},signal:this.controller.signal,authorization:this.token.value}).then(w=>Vy(this,null,function*(){const _=ZE(w.imageUrls);return{ckboxImageId:w.id,default:_.imageFallbackUrl,sources:_.imageSources}})).catch(()=>{const w=i("Cannot upload file:")+` ${s.name}.`;return Promise.reject(w)})})}abort(){this.controller.abort()}}class i3 extends ct{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",_q,r3]}init(){const e=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),s3()&&e.commands.add("ckbox",new wq(e)))}afterInit(){const e=this.editor;this._shouldBeInitialised()&&(e.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||s3()}_checkImagePlugins(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||q("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((i,s)=>{if(!i.last.getAttribute("linkHref")&&s==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(s=>{s.on("attribute:ckboxLinkId:imageBlock",(u,f,m)=>{const{writer:w,mapper:_,consumable:E}=m;if(!E.consume(f.item,u.name))return;const T=[..._.toViewElement(f.item).getChildren()].find(O=>O.name==="a");T&&(f.item.hasAttribute("ckboxLinkId")?w.setAttribute("data-ckbox-resource-id",f.item.getAttribute("ckboxLinkId"),T):w.removeAttribute("data-ckbox-resource-id",T))},{priority:"low"}),s.on("attribute:ckboxLinkId",(u,f,m)=>{const{writer:w,mapper:_,consumable:E}=m;if(E.consume(f.item,u.name)){if(f.attributeOldValue){const T=o3(w,f.attributeOldValue);w.unwrap(_.toViewRange(f.range),T)}if(f.attributeNewValue){const T=o3(w,f.attributeNewValue);if(f.item.is("selection")){const O=w.document.selection;w.wrap(O.getFirstRange(),T)}else w.wrap(_.toViewRange(f.range),T)}}},{priority:"low"})}),e.conversion.for("upcast").add(s=>{s.on("element:a",(u,f,m)=>{const{writer:w,consumable:_}=m;if(!f.viewItem.getAttribute("href")||!_.consume(f.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const E=f.viewItem.getAttribute("data-ckbox-resource-id");if(E)if(f.modelRange)for(let T of f.modelRange.getItems())T.is("$textProxy")&&(T=T.textNode),Sq(T)&&w.setAttribute("ckboxLinkId",E,T);else{const T=f.modelCursor.nodeBefore||f.modelCursor.parent;w.setAttribute("ckboxLinkId",E,T)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:s=>s.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const i=e.commands.get("replaceImageSource");i&&this.listenTo(i,"cleanupImage",(s,[u,f])=>{u.removeAttribute("ckboxImageId",f)})}_initFixers(){const e=this.editor,i=e.model,s=i.document.selection;i.document.registerPostFixer(function(u){return f=>{let m=!1;const w=u.model,_=u.commands.get("ckbox");if(!_)return m;for(const E of w.document.differ.getChanges()){if(E.type!=="insert"&&E.type!=="attribute")continue;const T=E.type==="insert"?new it(E.position,E.position.getShiftedBy(E.length)):E.range,O=E.type==="attribute"&&E.attributeKey==="linkHref"&&E.attributeNewValue===null;for(const U of T.getItems()){if(O&&U.hasAttribute("ckboxLinkId")){f.removeAttribute("ckboxLinkId",U),m=!0;continue}const K=xq(U,_._chosenAssets);for(const ee of K){const oe=ee.type==="image"?"ckboxImageId":"ckboxLinkId";ee.id!==U.getAttribute(oe)&&(f.setAttribute(oe,ee.id,U),m=!0)}}}return m}}(e)),i.document.registerPostFixer(function(u){return f=>!(u.hasAttribute("linkHref")||!u.hasAttribute("ckboxLinkId"))&&(f.removeSelectionAttribute("ckboxLinkId"),!0)}(s))}}function xq(c,e){const i=c.is("element","imageInline")||c.is("element","imageBlock"),s=c.hasAttribute("linkHref");return[...e].filter(u=>u.type==="image"&&i?u.attributes.imageFallbackUrl===c.getAttribute("src"):u.type==="link"&&s?u.attributes.linkHref===c.getAttribute("linkHref"):void 0)}function o3(c,e){const i=c.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return c.setCustomProperty("link",!0,i),i}function Sq(c){return!!c.is("$text")||!(!c.is("element","imageInline")&&!c.is("element","imageBlock"))}function s3(){return!!window.CKBox}var a3=a(1866),Eq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(a3.A,Eq),a3.A.locals;class Dq extends ct{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,i=e.ui.componentFactory,s=e.t;if(i.add("ckfinder",u=>{const f=this._createButton(Hn),m=u.t;return f.set({label:m("Insert image or file"),tooltip:!0}),f}),i.add("menuBar:ckfinder",u=>{const f=this._createButton($s),m=u.t;return f.label=m("Image or file"),f}),e.plugins.has("ImageInsertUI")){const u=e.plugins.get("ImageInsertUI");u.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckfinder"),buttonViewCreator:()=>{const f=this.editor.ui.componentFactory.create("ckfinder");return f.icon=hn.imageAssetManager,f.bind("label").to(u,"isImageSelected",m=>s(m?"Replace image with file manager":"Insert image with file manager")),f},formViewCreator:()=>{const f=this.editor.ui.componentFactory.create("ckfinder");return f.icon=hn.imageAssetManager,f.withText=!0,f.bind("label").to(u,"isImageSelected",m=>s(m?"Replace with file manager":"Insert with file manager")),f.on("execute",()=>{u.dropdownView.isOpen=!1}),f}})}}_createButton(e){const i=this.editor,s=new e(i.locale),u=i.commands.get("ckfinder");return s.icon=hn.browseFiles,s.bind("isEnabled").to(u),s.on("execute",()=>{i.execute("ckfinder"),i.editing.view.focus()}),s}}class Iq extends Wt{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");this.isEnabled=e.isEnabled||i.isEnabled}execute(){const e=this.editor,i=this.editor.config.get("ckfinder.openerMethod")||"modal";if(i!="popup"&&i!="modal")throw new M("ckfinder-unknown-openermethod",e);const s=this.editor.config.get("ckfinder.options")||{};s.chooseFiles=!0;const u=s.onInit;s.language||(s.language=e.locale.uiLanguage),s.onInit=f=>{u&&u(f),f.on("files:choose",m=>{const w=m.data.files.toArray(),_=w.filter(O=>!O.isImage()),E=w.filter(O=>O.isImage());for(const O of _)e.execute("link",O.getUrl());const T=[];for(const O of E){const U=O.getUrl();T.push(U||f.request("file:getProxyUrl",{file:O}))}T.length&&l3(e,T)}),f.on("file:choose:resizedImage",m=>{const w=m.data.resizedUrl;if(w)l3(e,[w]);else{const _=e.plugins.get("Notification"),E=e.locale.t;_.showWarning(E("Could not obtain resized image URL."),{title:E("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[i](s)}}function l3(c,e){if(c.commands.get("insertImage").isEnabled)c.execute("insertImage",{source:e});else{const i=c.plugins.get("Notification"),s=c.locale.t;i.showWarning(s("Could not insert image at the current position."),{title:s("Inserting image failed"),namespace:"ckfinder"})}}class Tq extends ct{static get pluginName(){return"CKFinderEditing"}static get requires(){return[Dy,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new M("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new Iq(e))}}class Nq extends ct{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",sl]}init(){const e=this.editor,i=e.plugins.get("CloudServices"),s=i.token,u=i.uploadUrl;if(!s)return;const f=e.plugins.get("CloudServicesCore");this._uploadGateway=f.createUploadGateway(s,u),e.plugins.get(sl).createUploadAdapter=m=>new Mq(this._uploadGateway,m)}}class Mq{constructor(e,i){this.uploadGateway=e,this.loader=i}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(i,s)=>{this.loader.uploadTotal=s.total,this.loader.uploaded=s.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class Pq extends Wt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,i=ji(e.document.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&c3(i,e.schema)}execute(e={}){const i=this.editor.model,s=i.document,u=e.selection||s.selection;i.canEditAt(u)&&i.change(f=>{const m=u.getSelectedBlocks();for(const w of m)!w.is("element","paragraph")&&c3(w,i.schema)&&f.rename(w,"paragraph")})}}function c3(c,e){return e.checkChild(c.parent,"paragraph")&&!e.isObject(c)}class Oq extends Wt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const i=this.editor.model,s=e.attributes;let u=e.position;i.canEditAt(u)&&i.change(f=>{if(u=this._findPositionToInsertParagraph(u,f),!u)return;const m=f.createElement("paragraph");s&&i.schema.setAllowedAttributes(m,s,f),i.insertContent(m,u),f.setSelection(m,"in")})}_findPositionToInsertParagraph(e,i){const s=this.editor.model;if(s.schema.checkChild(e,"paragraph"))return e;const u=s.schema.findAllowedParent(e,"paragraph");if(!u)return null;const f=e.parent,m=s.schema.checkChild(f,"$text");return f.isEmpty||m&&e.isAtEnd?s.createPositionAfter(f):!f.isEmpty&&m&&e.isAtStart?s.createPositionBefore(f):i.split(e,u).position}}const u3=class extends ct{static get pluginName(){return"Paragraph"}init(){const c=this.editor,e=c.model;c.commands.add("paragraph",new Pq(c)),c.commands.add("insertParagraph",new Oq(c)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),c.conversion.elementToElement({model:"paragraph",view:"p"}),c.conversion.for("upcast").elementToElement({model:(i,{writer:s})=>u3.paragraphLikeElements.has(i.name)?i.isEmpty?null:s.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let $y=u3;$y.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class jq extends Wt{constructor(e,i){super(e),this.modelElements=i}refresh(){const e=ji(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(i=>d3(e,i,this.editor.model.schema))}execute(e){const i=this.editor.model,s=i.document,u=e.value;i.change(f=>{const m=Array.from(s.selection.getSelectedBlocks()).filter(w=>d3(w,u,i.schema));for(const w of m)w.is("element",u)||f.rename(w,u)})}}function d3(c,e,i){return i.checkChild(c.parent,e)&&!i.isObject(c)}const h3="paragraph";class Lq extends ct{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[$y]}init(){const e=this.editor,i=e.config.get("heading.options"),s=[];for(const u of i)u.model!=="paragraph"&&(e.model.schema.register(u.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(u),s.push(u.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new jq(e,s))}afterInit(){const e=this.editor,i=e.commands.get("enter"),s=e.config.get("heading.options");i&&this.listenTo(i,"afterExecute",(u,f)=>{const m=e.model.document.selection.getFirstPosition().parent;s.some(w=>m.is("element",w.model))&&!m.is("element",h3)&&m.childCount===0&&f.writer.rename(m,h3)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:B.low+1})}}var f3=a(6269),Rq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(f3.A,Rq),f3.A.locals;class Bq extends ct{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,i=e.t,s=function(m){const w=m.t,_={Paragraph:w("Paragraph"),"Heading 1":w("Heading 1"),"Heading 2":w("Heading 2"),"Heading 3":w("Heading 3"),"Heading 4":w("Heading 4"),"Heading 5":w("Heading 5"),"Heading 6":w("Heading 6")};return m.config.get("heading.options").map(E=>{const T=_[E.title];return T&&T!=E.title&&(E.title=T),E})}(e),u=i("Choose heading"),f=i("Heading");e.ui.componentFactory.add("heading",m=>{const w={},_=new Fs,E=e.commands.get("heading"),T=e.commands.get("paragraph"),O=[E];for(const K of s){const ee={type:"button",model:new nS({label:K.title,class:K.class,role:"menuitemradio",withText:!0})};K.model==="paragraph"?(ee.model.bind("isOn").to(T,"value"),ee.model.set("commandName","paragraph"),O.push(T)):(ee.model.bind("isOn").to(E,"value",oe=>oe===K.model),ee.model.set({commandName:"heading",commandValue:K.model})),_.add(ee),w[K.model]=K.title}const U=Wc(m);return x5(U,_,{ariaLabel:f,role:"menu"}),U.buttonView.set({ariaLabel:f,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:f}),U.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),U.bind("isEnabled").toMany(O,"isEnabled",(...K)=>K.some(ee=>ee)),U.buttonView.bind("label").to(E,"value",T,"value",(K,ee)=>{const oe=ee?"paragraph":K;return typeof oe=="boolean"?u:w[oe]?w[oe]:u}),U.buttonView.bind("ariaLabel").to(E,"value",T,"value",(K,ee)=>{const oe=ee?"paragraph":K;return typeof oe=="boolean"?f:w[oe]?`${w[oe]}, ${f}`:f}),this.listenTo(U,"execute",K=>{const{commandName:ee,commandValue:oe}=K.source;e.execute(ee,oe?{value:oe}:void 0),e.editing.view.focus()}),U}),e.ui.componentFactory.add("menuBar:heading",m=>{const w=new Nf(m),_=e.commands.get("heading"),E=e.commands.get("paragraph"),T=[_],O=new My(m);w.set({class:"ck-heading-dropdown"}),O.set({ariaLabel:i("Heading"),role:"menu"}),w.buttonView.set({label:i("Heading")}),w.panelView.children.add(O);for(const U of s){const K=new Ty(m,w),ee=new $s(m);K.children.add(ee),O.items.add(K),ee.set({label:U.title,role:"menuitemradio",class:U.class}),ee.bind("ariaChecked").to(ee,"isOn"),ee.delegate("execute").to(w),ee.on("execute",()=>{const oe=U.model==="paragraph"?"paragraph":"heading";e.execute(oe,{value:U.model}),e.editing.view.focus()}),U.model==="paragraph"?(ee.bind("isOn").to(E,"value"),T.push(E)):ee.bind("isOn").to(_,"value",oe=>oe===U.model)}return w.bind("isEnabled").toMany(T,"isEnabled",(...U)=>U.some(K=>K)),w})}}function p3(c){return c.createContainerElement("figure",{class:"image"},[c.createEmptyElement("img"),c.createSlot("children")])}function m3(c,e){const i=c.plugins.get("ImageUtils"),s=c.plugins.has("ImageInlineEditing")&&c.plugins.has("ImageBlockEditing");return f=>i.isInlineImageView(f)?s&&(f.getStyle("display")=="block"||f.findAncestor(i.isBlockImageView)?"imageBlock":"imageInline")!==e?null:u(f):null;function u(f){const m={name:!0};return f.hasAttribute("src")&&(m.attributes=["src"]),m}}function Hy(c,e){const i=ji(e.getSelectedBlocks());return!i||c.isObject(i)||i.isEmpty&&i.name!="listItem"?"imageBlock":"imageInline"}function N0(c){return c&&c.endsWith("px")?parseInt(c):null}function g3(c){const e=N0(c.getStyle("width")),i=N0(c.getStyle("height"));return!(!e||!i)}var Fq=Object.defineProperty,b3=Object.getOwnPropertySymbols,zq=Object.prototype.hasOwnProperty,Uq=Object.prototype.propertyIsEnumerable,k3=(c,e,i)=>e in c?Fq(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,w3=(c,e)=>{for(var i in e||(e={}))zq.call(e,i)&&k3(c,i,e[i]);if(b3)for(var i of b3(e))Uq.call(e,i)&&k3(c,i,e[i]);return c};const qq=/^(image|image-inline)$/;class bs extends ct{constructor(){super(...arguments),this._domEmitter=new(yi())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},i=null,s=null,u={}){const f=this.editor,m=f.model,w=m.document.selection,_=y3(f,i||w,s);e=w3(w3({},Object.fromEntries(w.getAttributes())),e);for(const E in e)m.schema.checkAttribute(_,E)||delete e[E];return m.change(E=>{const{setImageSizes:T=!0}=u,O=E.createElement(_,e);return m.insertObject(O,i,null,{setSelection:"on",findOptimalPosition:i||_=="imageInline"?void 0:"auto"}),O.parent?(T&&this.setImageNaturalSizeAttributes(O),O):null})}setImageNaturalSizeAttributes(e){const i=e.getAttribute("src");i&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(s=>{const u=new h.window.Image;this._domEmitter.listenTo(u,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(s.batch,f=>{f.setAttribute("width",u.naturalWidth,e),f.setAttribute("height",u.naturalHeight,e)}),this._domEmitter.stopListening(u,"load")}),u.src=i}))}getClosestSelectedImageWidget(e){const i=e.getFirstPosition();if(!i)return null;const s=e.getSelectedElement();if(s&&this.isImageWidget(s))return s;let u=i.parent;for(;u;){if(u.is("element")&&this.isImageWidget(u))return u;u=u.parent}return null}getClosestSelectedImageElement(e){const i=e.getSelectedElement();return this.isImage(i)?i:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:qq})}isImageAllowed(){const e=this.editor.model.document.selection;return function(i,s){if(y3(i,s,null)=="imageBlock"){const f=function(m,w){const _=pE(m,w),E=_.start.parent;return E.isEmpty&&!E.is("element","$root")?E.parent:E}(s,i.model);if(i.model.schema.checkChild(f,"imageBlock"))return!0}else if(i.model.schema.checkChild(s.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(i){return[...i.focus.getAncestors()].every(s=>!s.is("element","imageBlock"))}(e)}toImageWidget(e,i,s){return i.setCustomProperty("image",!0,e),Ry(e,i,{label:()=>{const u=this.findViewImgElement(e).getAttribute("alt");return u?`${u} ${s}`:s}})}isImageWidget(e){return!!e.getCustomProperty("image")&&_i(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const i=this.editor.editing.view;for(const{item:s}of i.createRangeIn(e))if(this.isInlineImageView(s))return s}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function y3(c,e,i){const s=c.model.schema,u=c.config.get("image.insert.type");return c.plugins.has("ImageBlockEditing")?c.plugins.has("ImageInlineEditing")?i||(u==="inline"?"imageInline":u!=="auto"?"imageBlock":e.is("selection")?Hy(s,e):s.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Vq extends Wt{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const i=this.editor,s=i.plugins.get("ImageUtils"),u=i.model,f=s.getClosestSelectedImageElement(u.document.selection);u.change(m=>{m.setAttribute("alt",e.newValue,f)})}}class $q extends ct{static get requires(){return[bs]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Vq(this.editor))}}var v3=a(4062),Hq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(v3.A,Hq),v3.A.locals;var A3=a(2722),Wq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(A3.A,Wq),A3.A.locals;class Gq extends Nt{constructor(e){super(e);const i=this.locale.t;this.focusTracker=new Li,this.keystrokes=new fo,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(i("Save"),hn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),hn.cancel,"ck-button-cancel","cancel"),this._focusables=new Jo,this._focusCycler=new Ta({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),xn({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,i,s,u){const f=new Hn(this.locale);return f.set({label:e,icon:i,tooltip:!0}),f.extendTemplate({attributes:{class:s}}),u&&f.delegate("execute").to(this,u),f}_createLabeledInputView(){const e=this.locale.t,i=new a0(this.locale,u0);return i.label=e("Text alternative"),i}}function _3(c){const e=c.editing.view,i=ms.defaultPositions,s=c.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(s.getClosestSelectedImageWidget(e.document.selection)),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}class Yq extends ct{static get requires(){return[g0]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,i=e.t;e.ui.componentFactory.add("imageTextAlternative",s=>{const u=e.commands.get("imageTextAlternative"),f=new Hn(s);return f.set({label:i("Change image text alternative"),icon:hn.textAlternative,tooltip:!0}),f.bind("isEnabled").to(u,"isEnabled"),f.bind("isOn").to(u,"value",m=>!!m),this.listenTo(f,"execute",()=>{this._showForm()}),f})}_createForm(){const e=this.editor,i=e.editing.view.document,s=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(On(Gq))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(u,f)=>{this._hideForm(!0),f()}),this.listenTo(e.ui,"update",()=>{s.getClosestSelectedImageWidget(i.selection)?this._isVisible&&function(u){const f=u.plugins.get("ContextualBalloon");if(u.plugins.get("ImageUtils").getClosestSelectedImageWidget(u.editing.view.document.selection)){const m=_3(u);f.updatePosition(m)}}(e):this._hideForm(!0)}),zn({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,i=e.commands.get("imageTextAlternative"),s=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:_3(e)}),s.fieldView.value=s.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class C3 extends ct{static get requires(){return[$q,Yq]}static get pluginName(){return"ImageTextAlternative"}}function x3(c,e){const i=(s,u,f)=>{if(!f.consumable.consume(u.item,s.name))return;const m=f.writer,w=f.mapper.toViewElement(u.item),_=c.findViewImgElement(w);u.attributeNewValue===null?(m.removeAttribute("srcset",_),m.removeAttribute("sizes",_)):u.attributeNewValue&&(m.setAttribute("srcset",u.attributeNewValue,_),m.setAttribute("sizes","100vw",_))};return s=>{s.on(`attribute:srcset:${e}`,i)}}function M0(c,e,i){const s=(u,f,m)=>{if(!m.consumable.consume(f.item,u.name))return;const w=m.writer,_=m.mapper.toViewElement(f.item),E=c.findViewImgElement(_);w.setAttribute(f.attributeKey,f.attributeNewValue||"",E)};return u=>{u.on(`attribute:${i}:${e}`,s)}}class S3 extends $l{observe(e){this.listenTo(e,"load",(i,s)=>{const u=s.target;this.checkShouldIgnoreEventFromTarget(u)||u.tagName=="IMG"&&this._fireEvents(s)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var Kq=Object.defineProperty,E3=Object.getOwnPropertySymbols,Qq=Object.prototype.hasOwnProperty,Jq=Object.prototype.propertyIsEnumerable,D3=(c,e,i)=>e in c?Kq(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,P0=(c,e)=>{for(var i in e||(e={}))Qq.call(e,i)&&D3(c,i,e[i]);if(E3)for(var i of E3(e))Jq.call(e,i)&&D3(c,i,e[i]);return c};class Zq extends Wt{constructor(e){super(e);const i=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||i==="block"&&L("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||i==="inline"&&L("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const i=ir(e.source),s=this.editor.model.document.selection,u=this.editor.plugins.get("ImageUtils"),f=Object.fromEntries(s.getAttributes());i.forEach((m,w)=>{const _=s.getSelectedElement();if(typeof m=="string"&&(m={src:m}),w&&_&&u.isImage(_)){const E=this.editor.model.createPositionAfter(_);u.insertImage(P0(P0({},m),f),E)}else u.insertImage(P0(P0({},m),f))})}}class Xq extends Wt{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(i),this.value=this.isEnabled?i.getAttribute("src"):null}execute(e){const i=this.editor.model.document.selection.getSelectedElement(),s=this.editor.plugins.get("ImageUtils");this.editor.model.change(u=>{u.setAttribute("src",e.source,i),this.cleanupImage(u,i),s.setImageNaturalSizeAttributes(i)})}cleanupImage(e,i){e.removeAttribute("srcset",i),e.removeAttribute("sizes",i),e.removeAttribute("sources",i),e.removeAttribute("width",i),e.removeAttribute("height",i),e.removeAttribute("alt",i)}}class Wy extends ct{static get requires(){return[bs]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,i=e.conversion;e.editing.view.addObserver(S3),i.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const s=new Zq(e),u=new Xq(e);e.commands.add("insertImage",s),e.commands.add("replaceImageSource",u),e.commands.add("imageInsert",s)}}class I3 extends ct{static get requires(){return[bs]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const i=this.editor,s=i.plugins.get("ImageUtils"),u=e==="imageBlock"?"figure":"img";function f(m,w,_,E){m.on(`attribute:${w}:${e}`,(T,O,U)=>{if(!U.consumable.consume(O.item,T.name))return;const K=U.writer,ee=U.mapper.toViewElement(O.item),oe=s.findViewImgElement(ee);if(O.attributeNewValue!==null?K.setAttribute(_,O.attributeNewValue,oe):K.removeAttribute(_,oe),O.item.hasAttribute("sources"))return;const ke=O.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!ke&&!E)return;const Se=O.item.getAttribute("width"),Le=O.item.getAttribute("height");Se&&Le&&K.setStyle("aspect-ratio",`${Se}/${Le}`,oe)})}i.conversion.for("upcast").attributeToAttribute({view:{name:u,styles:{width:/.+/}},model:{key:"width",value:m=>g3(m)?N0(m.getStyle("width")):null}}).attributeToAttribute({view:{name:u,key:"width"},model:"width"}).attributeToAttribute({view:{name:u,styles:{height:/.+/}},model:{key:"height",value:m=>g3(m)?N0(m.getStyle("height")):null}}).attributeToAttribute({view:{name:u,key:"height"},model:"height"}),i.conversion.for("editingDowncast").add(m=>{f(m,"width","width",!0),f(m,"height","height",!0)}),i.conversion.for("dataDowncast").add(m=>{f(m,"width","width",!1),f(m,"height","height",!1)})}}class T3 extends Wt{constructor(e,i){super(e),this._modelElementName=i}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(i):this.isEnabled=e.isBlockImage(i)}execute(e={}){const i=this.editor,s=this.editor.model,u=i.plugins.get("ImageUtils"),f=u.getClosestSelectedImageElement(s.document.selection),m=Object.fromEntries(f.getAttributes());return m.src||m.uploadId?s.change(w=>{const{setImageSizes:_=!0}=e,E=Array.from(s.markers).filter(U=>U.getRange().containsItem(f)),T=u.insertImage(m,s.createSelection(f,"on"),this._modelElementName,{setImageSizes:_});if(!T)return null;const O=w.createRangeOn(T);for(const U of E){const K=U.getRange(),ee=K.root.rootName!="$graveyard"?K.getJoined(O,!0):O;w.updateMarker(U,{range:ee})}return{oldElement:f,newElement:T}}):null}}var N3=a(7378),eV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(N3.A,eV),N3.A.locals;class M3 extends ct{static get requires(){return[bs]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,i=e.conversion,s=e.plugins.get("ImageUtils");i.for("editingDowncast").add(u=>{u.on("attribute:placeholder",(f,m,w)=>{if(!w.consumable.test(m.item,f.name)||!m.item.is("element","imageBlock")&&!m.item.is("element","imageInline"))return;w.consumable.consume(m.item,f.name);const _=w.writer,E=w.mapper.toViewElement(m.item),T=s.findViewImgElement(E);m.attributeNewValue?(_.addClass("image_placeholder",T),_.setStyle("background-image",`url(${m.attributeNewValue})`,T),_.setCustomProperty("editingPipeline:doNotReuseOnce",!0,T)):(_.removeClass("image_placeholder",T),_.removeStyle("background-image",T))})})}_setupLoadListener(){const e=this.editor,i=e.model,s=e.editing,u=s.view,f=e.plugins.get("ImageUtils");u.addObserver(S3),this.listenTo(u.document,"imageLoaded",(m,w)=>{const _=u.domConverter.mapDomToView(w.target);if(!_)return;const E=f.getImageWidgetFromImageView(_);if(!E)return;const T=s.mapper.toModelElement(E);T&&T.hasAttribute("placeholder")&&i.enqueueChange({isUndoable:!1},O=>{O.removeAttribute("placeholder",T)})})}}class P3 extends ct{static get requires(){return[Wy,I3,bs,M3,Na]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new T3(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,s=e.conversion,u=e.plugins.get("ImageUtils");s.for("dataDowncast").elementToStructure({model:"imageBlock",view:(f,{writer:m})=>p3(m)}),s.for("editingDowncast").elementToStructure({model:"imageBlock",view:(f,{writer:m})=>u.toImageWidget(p3(m),m,i("image widget"))}),s.for("downcast").add(M0(u,"imageBlock","src")).add(M0(u,"imageBlock","alt")).add(x3(u,"imageBlock")),s.for("upcast").elementToElement({view:m3(e,"imageBlock"),model:(f,{writer:m})=>m.createElement("imageBlock",f.hasAttribute("src")?{src:f.getAttribute("src")}:void 0)}).add(function(f){const m=(w,_,E)=>{if(!E.consumable.test(_.viewItem,{name:!0,classes:"image"}))return;const T=f.findViewImgElement(_.viewItem);if(!T||!E.consumable.test(T,{name:!0}))return;E.consumable.consume(_.viewItem,{name:!0,classes:"image"});const O=ji(E.convertItem(T,_.modelCursor).modelRange.getItems());O?(E.convertChildren(_.viewItem,O),E.updateConversionResult(O,_)):E.consumable.revert(_.viewItem,{name:!0,classes:"image"})};return w=>{w.on("element:figure",m)}}(u))}_setupClipboardIntegration(){const e=this.editor,i=e.model,s=e.editing.view,u=e.plugins.get("ImageUtils"),f=e.plugins.get("ClipboardPipeline");this.listenTo(f,"inputTransformation",(m,w)=>{const _=Array.from(w.content.getChildren());let E;if(!_.every(u.isInlineImageView))return;E=w.targetRanges?e.editing.mapper.toModelRange(w.targetRanges[0]):i.document.selection.getFirstRange();const T=i.createSelection(E);if(Hy(i.schema,T)==="imageBlock"){const O=new $c(s.document),U=_.map(K=>O.createElement("figure",{class:"image"},K));w.content=O.createDocumentFragment(U)}}),this.listenTo(f,"contentInsertion",(m,w)=>{w.method==="paste"&&i.change(_=>{const E=_.createRangeIn(w.content);for(const T of E.getItems())T.is("element","imageBlock")&&u.setImageNaturalSizeAttributes(T)})})}}var O3=a(3350),tV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(O3.A,tV),O3.A.locals;class nV extends Nt{constructor(e,i=[]){super(e),this.focusTracker=new Li,this.keystrokes=new fo,this._focusables=new Jo,this.children=this.createCollection(),this._focusCycler=new Ta({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const s of i)this.children.add(s),this._focusables.add(s),s instanceof xF&&this._focusables.addMany(s.children);if(this._focusables.length>1)for(const s of this._focusables)rV(s)&&(s.focusCycler.on("forwardCycle",u=>{this._focusCycler.focusNext(),u.stop()}),s.focusCycler.on("backwardCycle",u=>{this._focusCycler.focusPrevious(),u.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),xn({view:this});for(const i of this._focusables)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function rV(c){return"focusCycler"in c}class j3 extends ct{constructor(e){super(e),this._integrations=new Map,e.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[bs]}init(){const e=this.editor,i=e.model.document.selection,s=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=s.isImage(i.getSelectedElement())});const u=f=>this._createToolbarComponent(f);e.ui.componentFactory.add("insertImage",u),e.ui.componentFactory.add("imageInsert",u)}registerIntegration({name:e,observable:i,buttonViewCreator:s,formViewCreator:u,requiresForm:f}){this._integrations.has(e)&&L("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:i,buttonViewCreator:s,formViewCreator:u,requiresForm:!!f})}_createToolbarComponent(e){const i=this.editor,s=e.t,u=this._prepareIntegrations();if(!u.length)return null;let f;const m=u[0];if(u.length==1){if(!m.requiresForm)return m.buttonViewCreator(!0);f=m.buttonViewCreator(!0)}else{const E=m.buttonViewCreator(!1);f=new c0(e,E),f.tooltip=!0,f.bind("label").to(this,"isImageSelected",T=>s(T?"Replace image":"Insert image"))}const w=this.dropdownView=Wc(e,f),_=u.map(({observable:E})=>typeof E=="function"?E():E);return w.bind("isEnabled").toMany(_,"isEnabled",(...E)=>E.some(T=>T)),w.once("change:isOpen",()=>{const E=u.map(({formViewCreator:O})=>O(u.length==1)),T=new nV(i.locale,E);w.panelView.children.add(T)}),w}_prepareIntegrations(){const e=this.editor.config.get("image.insert.integrations"),i=[];if(!e.length)return L("image-insert-integrations-not-specified"),i;for(const s of e)this._integrations.has(s)?i.push(this._integrations.get(s)):["upload","assetManager","url"].includes(s)||L("image-insert-unknown-integration",{item:s});return i.length||L("image-insert-integrations-not-registered"),i}}var L3=a(265),iV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(L3.A,iV),L3.A.locals;class oV extends ct{static get requires(){return[P3,Fm,C3,j3]}static get pluginName(){return"ImageBlock"}}class sV extends ct{static get requires(){return[Wy,I3,bs,M3,Na]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,i=e.model.schema;i.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),i.addChildCheck((s,u)=>{if(s.endsWith("caption")&&u.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new T3(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,s=e.conversion,u=e.plugins.get("ImageUtils");s.for("dataDowncast").elementToElement({model:"imageInline",view:(f,{writer:m})=>m.createEmptyElement("img")}),s.for("editingDowncast").elementToStructure({model:"imageInline",view:(f,{writer:m})=>u.toImageWidget(function(w){return w.createContainerElement("span",{class:"image-inline"},w.createEmptyElement("img"))}(m),m,i("image widget"))}),s.for("downcast").add(M0(u,"imageInline","src")).add(M0(u,"imageInline","alt")).add(x3(u,"imageInline")),s.for("upcast").elementToElement({view:m3(e,"imageInline"),model:(f,{writer:m})=>m.createElement("imageInline",f.hasAttribute("src")?{src:f.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,i=e.model,s=e.editing.view,u=e.plugins.get("ImageUtils"),f=e.plugins.get("ClipboardPipeline");this.listenTo(f,"inputTransformation",(m,w)=>{const _=Array.from(w.content.getChildren());let E;if(!_.every(u.isBlockImageView))return;E=w.targetRanges?e.editing.mapper.toModelRange(w.targetRanges[0]):i.document.selection.getFirstRange();const T=i.createSelection(E);if(Hy(i.schema,T)==="imageInline"){const O=new $c(s.document),U=_.map(K=>K.childCount===1?(Array.from(K.getAttributes()).forEach(ee=>O.setAttribute(...ee,u.findViewImgElement(K))),K.getChild(0)):K);w.content=O.createDocumentFragment(U)}}),this.listenTo(f,"contentInsertion",(m,w)=>{w.method==="paste"&&i.change(_=>{const E=_.createRangeIn(w.content);for(const T of E.getItems())T.is("element","imageInline")&&u.setImageNaturalSizeAttributes(T)})})}}class aV extends ct{static get requires(){return[sV,Fm,C3,j3]}static get pluginName(){return"ImageInline"}}class R3 extends ct{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[bs]}getCaptionFromImageModelElement(e){for(const i of e.getChildren())if(i&&i.is("element","caption"))return i;return null}getCaptionFromModelSelection(e){const i=this.editor.plugins.get("ImageUtils"),s=e.getFirstPosition().findAncestor("caption");return s&&i.isBlockImage(s.parent)?s:null}matchImageCaptionViewElement(e){const i=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&i.isBlockImageView(e.parent)?{name:!0}:null}}class lV extends Wt{refresh(){const e=this.editor,i=e.plugins.get("ImageCaptionUtils"),s=e.plugins.get("ImageUtils");if(!e.plugins.has(P3))return this.isEnabled=!1,void(this.value=!1);const u=e.model.document.selection,f=u.getSelectedElement();if(!f){const m=i.getCaptionFromModelSelection(u);return this.isEnabled=!!m,void(this.value=!!m)}this.isEnabled=s.isImage(f),this.isEnabled?this.value=!!i.getCaptionFromImageModelElement(f):this.value=!1}execute(e={}){const{focusCaptionOnShow:i}=e;this.editor.model.change(s=>{this.value?this._hideImageCaption(s):this._showImageCaption(s,i)})}_showImageCaption(e,i){const s=this.editor.model.document.selection,u=this.editor.plugins.get("ImageCaptionEditing"),f=this.editor.plugins.get("ImageUtils");let m=s.getSelectedElement();const w=u._getSavedCaption(m);f.isInlineImage(m)&&(this.editor.execute("imageTypeBlock"),m=s.getSelectedElement());const _=w||e.createElement("caption");e.append(_,m),i&&e.setSelection(_,"in")}_hideImageCaption(e){const i=this.editor,s=i.model.document.selection,u=i.plugins.get("ImageCaptionEditing"),f=i.plugins.get("ImageCaptionUtils");let m,w=s.getSelectedElement();w?m=f.getCaptionFromImageModelElement(w):(m=f.getCaptionFromModelSelection(s),w=m.parent),u._saveCaption(w,m),e.setSelection(w,"on"),e.remove(m)}}class cV extends ct{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[bs,R3]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,i=e.model.schema;i.isRegistered("caption")?i.extend("caption",{allowIn:"imageBlock"}):i.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new lV(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,i=e.editing.view,s=e.plugins.get("ImageUtils"),u=e.plugins.get("ImageCaptionUtils"),f=e.t;e.conversion.for("upcast").elementToElement({view:m=>u.matchImageCaptionViewElement(m),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(m,{writer:w})=>s.isBlockImage(m.parent)?w.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(m,{writer:w})=>{if(!s.isBlockImage(m.parent))return null;const _=w.createEditableElement("figcaption");w.setCustomProperty("imageCaption",!0,_),_.placeholder=f("Enter image caption"),Fl({view:i,element:_,keepOnFocus:!0});const E=m.parent.getAttribute("alt");return fE(_,w,{label:E?f("Caption for image: %0",[E]):f("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,i=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),u=e.commands.get("imageTypeInline"),f=e.commands.get("imageTypeBlock"),m=w=>{if(!w.return)return;const{oldElement:_,newElement:E}=w.return;if(!_)return;if(i.isBlockImage(_)){const O=s.getCaptionFromImageModelElement(_);if(O)return void this._saveCaption(E,O)}const T=this._getSavedCaption(_);T&&this._saveCaption(E,T)};u&&this.listenTo(u,"execute",m,{priority:"low"}),f&&this.listenTo(f,"execute",m,{priority:"low"})}_getSavedCaption(e){const i=this._savedCaptionsMap.get(e);return i?lr.fromJSON(i):null}_saveCaption(e,i){this._savedCaptionsMap.set(e,i.toJSON())}_registerCaptionReconversion(){const e=this.editor,i=e.model,s=e.plugins.get("ImageUtils"),u=e.plugins.get("ImageCaptionUtils");i.document.on("change:data",()=>{const f=i.document.differ.getChanges();for(const m of f){if(m.attributeKey!=="alt")continue;const w=m.range.start.nodeAfter;if(s.isBlockImage(w)){const _=u.getCaptionFromImageModelElement(w);if(!_)return;e.editing.reconvertItem(_)}}})}}class uV extends ct{static get requires(){return[R3]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,i=e.editing.view,s=e.plugins.get("ImageCaptionUtils"),u=e.t;e.ui.componentFactory.add("toggleImageCaption",f=>{const m=e.commands.get("toggleImageCaption"),w=new Hn(f);return w.set({icon:hn.caption,tooltip:!0,isToggleable:!0}),w.bind("isOn","isEnabled").to(m,"value","isEnabled"),w.bind("label").to(m,"value",_=>u(_?"Toggle caption off":"Toggle caption on")),this.listenTo(w,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const _=s.getCaptionFromModelSelection(e.model.document.selection);if(_){const E=e.editing.mapper.toViewElement(_);i.scrollToTheSelection(),i.change(T=>{T.addClass("image__caption_highlighted",E)})}e.editing.view.focus()}),w})}}var B3=a(5247),dV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(B3.A,dV),B3.A.locals;function F3(c){const e=c.map(i=>i.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function hV(c){return new Promise((e,i)=>{const s=c.getAttribute("src");fetch(s).then(u=>u.blob()).then(u=>{const f=z3(u,s),m=f.replace("image/",""),w=new File([u],`image.${m}`,{type:f});e(w)}).catch(u=>u&&u.name==="TypeError"?function(f){return function(m){return new Promise((w,_)=>{const E=h.document.createElement("img");E.addEventListener("load",()=>{const T=h.document.createElement("canvas");T.width=E.width,T.height=E.height,T.getContext("2d").drawImage(E,0,0),T.toBlob(O=>O?w(O):_())}),E.addEventListener("error",()=>_()),E.src=m})}(f).then(m=>{const w=z3(m,f),_=w.replace("image/","");return new File([m],`image.${_}`,{type:w})})}(s).then(e).catch(i):i(u))})}function z3(c,e){return c.type?c.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class fV extends ct{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,i=e.t,s=()=>{const u=this._createButton(a5);return u.set({label:i("Upload image from computer"),tooltip:!0}),u};if(e.ui.componentFactory.add("uploadImage",s),e.ui.componentFactory.add("imageUpload",s),e.ui.componentFactory.add("menuBar:uploadImage",()=>{const u=this._createButton(IS);return u.label=i("Image from computer"),u}),e.plugins.has("ImageInsertUI")){const u=e.plugins.get("ImageInsertUI");u.registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>{const f=e.ui.componentFactory.create("uploadImage");return f.bind("label").to(u,"isImageSelected",m=>i(m?"Replace image from computer":"Upload image from computer")),f},formViewCreator:()=>{const f=e.ui.componentFactory.create("uploadImage");return f.withText=!0,f.bind("label").to(u,"isImageSelected",m=>i(m?"Replace from computer":"Upload from computer")),f.on("execute",()=>{u.dropdownView.isOpen=!1}),f}})}}_createButton(e){const i=this.editor,s=i.locale,u=i.commands.get("uploadImage"),f=i.config.get("image.upload.types"),m=F3(f),w=new e(i.locale),_=s.t;return w.set({acceptedType:f.map(E=>`image/${E}`).join(","),allowMultipleFiles:!0,label:_("Upload image from computer"),icon:hn.imageUpload}),w.bind("isEnabled").to(u),w.on("done",(E,T)=>{const O=Array.from(T).filter(U=>m.test(U.type));O.length&&(i.execute("uploadImage",{file:O}),i.editing.view.focus())}),w}}var U3=a(2267),pV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(U3.A,pV),U3.A.locals;var q3=a(7693),mV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(q3.A,mV),q3.A.locals;var V3=a(1559),gV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(V3.A,gV),V3.A.locals;class bV extends ct{constructor(e){super(e),this.uploadStatusChange=(i,s,u)=>{const f=this.editor,m=s.item,w=m.getAttribute("uploadId");if(!u.consumable.consume(s.item,i.name))return;const _=f.plugins.get("ImageUtils"),E=f.plugins.get(sl),T=w?s.attributeNewValue:null,O=this.placeholder,U=f.editing.mapper.toViewElement(m),K=u.writer;if(T=="reading")return $3(U,K),void H3(_,O,U,K);if(T=="uploading"){const ee=E.loaders.get(w);return $3(U,K),void(ee?(W3(U,K),function(oe,ke,Se,Le){const tt=function(ft){const Mt=ft.createUIElement("div",{class:"ck-progress-bar"});return ft.setCustomProperty("progressBar",!0,Mt),Mt}(ke);ke.insert(ke.createPositionAt(oe,"end"),tt),Se.on("change:uploadedPercent",(ft,Mt,nn)=>{Le.change(kn=>{kn.setStyle("width",nn+"%",tt)})})}(U,K,ee,f.editing.view),function(oe,ke,Se,Le){if(Le.data){const tt=oe.findViewImgElement(ke);Se.setAttribute("src",Le.data,tt)}}(_,U,K,ee)):H3(_,O,U,K))}T=="complete"&&E.loaders.get(w)&&function(ee,oe,ke){const Se=oe.createUIElement("div",{class:"ck-image-upload-complete-icon"});oe.insert(oe.createPositionAt(ee,"end"),Se),setTimeout(()=>{ke.change(Le=>Le.remove(Le.createRangeOn(Se)))},3e3)}(U,K,f.editing.view),function(ee,oe){Y3(ee,oe,"progressBar")}(U,K),W3(U,K),function(ee,oe){oe.removeClass("ck-appear",ee)}(U,K)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function $3(c,e){c.hasClass("ck-appear")||e.addClass("ck-appear",c)}function H3(c,e,i,s){i.hasClass("ck-image-upload-placeholder")||s.addClass("ck-image-upload-placeholder",i);const u=c.findViewImgElement(i);u.getAttribute("src")!==e&&s.setAttribute("src",e,u),G3(i,"placeholder")||s.insert(s.createPositionAfter(u),function(f){const m=f.createUIElement("div",{class:"ck-upload-placeholder-loader"});return f.setCustomProperty("placeholder",!0,m),m}(s))}function W3(c,e){c.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",c),Y3(c,e,"placeholder")}function G3(c,e){for(const i of c.getChildren())if(i.getCustomProperty(e))return i}function Y3(c,e,i){const s=G3(c,i);s&&e.remove(e.createRangeOn(s))}var kV=Object.defineProperty,wV=Object.defineProperties,yV=Object.getOwnPropertyDescriptors,K3=Object.getOwnPropertySymbols,vV=Object.prototype.hasOwnProperty,AV=Object.prototype.propertyIsEnumerable,Q3=(c,e,i)=>e in c?kV(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class _V extends Wt{refresh(){const e=this.editor,i=e.plugins.get("ImageUtils"),s=e.model.document.selection.getSelectedElement();this.isEnabled=i.isImageAllowed()||i.isImage(s)}execute(e){const i=ir(e.file),s=this.editor.model.document.selection,u=this.editor.plugins.get("ImageUtils"),f=Object.fromEntries(s.getAttributes());i.forEach((m,w)=>{const _=s.getSelectedElement();if(w&&_&&u.isImage(_)){const E=this.editor.model.createPositionAfter(_);this._uploadImage(m,f,E)}else this._uploadImage(m,f)})}_uploadImage(e,i,s){const u=this.editor,f=u.plugins.get(sl).createLoader(e),m=u.plugins.get("ImageUtils");var w,_;f&&m.insertImage((w=((E,T)=>{for(var O in T||(T={}))vV.call(T,O)&&Q3(E,O,T[O]);if(K3)for(var O of K3(T))AV.call(T,O)&&Q3(E,O,T[O]);return E})({},i),_={uploadId:f.id},wV(w,yV(_))),s)}}class CV extends ct{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[sl,Dy,Na,bs]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,i=e.model.document,s=e.conversion,u=e.plugins.get(sl),f=e.plugins.get("ImageUtils"),m=e.plugins.get("ClipboardPipeline"),w=F3(e.config.get("image.upload.types")),_=new _V(e);e.commands.add("uploadImage",_),e.commands.add("imageUpload",_),s.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(E,T)=>{if(O=T.dataTransfer,Array.from(O.types).includes("text/html")&&O.getData("text/html")!=="")return;var O;const U=Array.from(T.dataTransfer.files).filter(K=>!!K&&w.test(K.type));U.length&&(E.stop(),e.model.change(K=>{T.targetRanges&&K.setSelection(T.targetRanges.map(ee=>e.editing.mapper.toModelRange(ee))),e.execute("uploadImage",{file:U})}))}),this.listenTo(m,"inputTransformation",(E,T)=>{const O=Array.from(e.editing.view.createRangeIn(T.content)).map(K=>K.item).filter(K=>function(ee,oe){return!(!ee.isInlineImageView(oe)||!oe.getAttribute("src")||!oe.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!oe.getAttribute("src").match(/^blob:/g))}(f,K)&&!K.getAttribute("uploadProcessed")).map(K=>({promise:hV(K),imageElement:K}));if(!O.length)return;const U=new $c(e.editing.view.document);for(const K of O){U.setAttribute("uploadProcessed",!0,K.imageElement);const ee=u.createLoader(K.promise);ee&&(U.setAttribute("src","",K.imageElement),U.setAttribute("uploadId",ee.id,K.imageElement))}}),e.editing.view.document.on("dragover",(E,T)=>{T.preventDefault()}),i.on("change",()=>{const E=i.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),T=new Set;for(const O of E)if(O.type=="insert"&&O.name!="$text"){const U=O.position.nodeAfter,K=O.position.root.rootName=="$graveyard";for(const ee of xV(e,U)){const oe=ee.getAttribute("uploadId");if(!oe)continue;const ke=u.loaders.get(oe);ke&&(K?T.has(oe)||ke.abort():(T.add(oe),this._uploadImageElements.set(oe,ee),ke.status=="idle"&&this._readAndUpload(ke)))}}}),this.on("uploadComplete",(E,{imageElement:T,data:O})=>{const U=O.urls?O.urls:O;this.editor.model.change(K=>{K.setAttribute("src",U.default,T),this._parseAndSetSrcsetAttributeOnImage(U,T,K),f.setImageNaturalSizeAttributes(T)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const i=this.editor,s=i.model,u=i.locale.t,f=i.plugins.get(sl),m=i.plugins.get(Dy),w=i.plugins.get("ImageUtils"),_=this._uploadImageElements;return s.enqueueChange({isUndoable:!1},T=>{T.setAttribute("uploadStatus","reading",_.get(e.id))}),e.read().then(()=>{const T=e.upload(),O=_.get(e.id);if(b.isSafari){const U=i.editing.mapper.toViewElement(O),K=w.findViewImgElement(U);i.editing.view.once("render",()=>{if(!K.parent)return;const ee=i.editing.view.domConverter.mapViewToDom(K.parent);if(!ee)return;const oe=ee.style.display;ee.style.display="none",ee._ckHack=ee.offsetHeight,ee.style.display=oe})}return i.ui&&i.ui.ariaLiveAnnouncer.announce(u("Uploading image")),s.enqueueChange({isUndoable:!1},U=>{U.setAttribute("uploadStatus","uploading",O)}),T}).then(T=>{s.enqueueChange({isUndoable:!1},O=>{const U=_.get(e.id);O.setAttribute("uploadStatus","complete",U),i.ui&&i.ui.ariaLiveAnnouncer.announce(u("Image upload complete")),this.fire("uploadComplete",{data:T,imageElement:U})}),E()}).catch(T=>{if(i.ui&&i.ui.ariaLiveAnnouncer.announce(u("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw T;e.status=="error"&&T&&m.showWarning(T,{title:u("Upload failed"),namespace:"upload"}),s.enqueueChange({isUndoable:!1},O=>{O.remove(_.get(e.id))}),E()});function E(){s.enqueueChange({isUndoable:!1},T=>{const O=_.get(e.id);T.removeAttribute("uploadId",O),T.removeAttribute("uploadStatus",O),_.delete(e.id)}),f.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,i,s){let u=0;const f=Object.keys(e).filter(m=>{const w=parseInt(m,10);if(!isNaN(w))return u=Math.max(u,w),!0}).map(m=>`${e[m]} ${m}w`).join(", ");if(f!=""){const m={srcset:f};i.hasAttribute("width")||i.hasAttribute("height")||(m.width=u),s.setAttributes(m,i)}}}function xV(c,e){const i=c.plugins.get("ImageUtils");return Array.from(c.model.createRangeOn(e)).filter(s=>i.isImage(s.item)).map(s=>s.item)}var J3=a(4642),SV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(J3.A,SV),J3.A.locals;var Z3=a(3469),EV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(Z3.A,EV),Z3.A.locals;class DV extends Wt{constructor(e,i){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(i.map(s=>{if(s.isDefault)for(const u of s.modelElements)this._defaultStyles[u]=s.name;return[s.name,s]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const i=this.editor,s=i.model,u=i.plugins.get("ImageUtils");s.change(f=>{const m=e.value,{setImageSizes:w=!0}=e;let _=u.getClosestSelectedImageElement(s.document.selection);m&&this.shouldConvertImageType(m,_)&&(this.editor.execute(u.isBlockImage(_)?"imageTypeInline":"imageTypeBlock",{setImageSizes:w}),_=u.getClosestSelectedImageElement(s.document.selection)),!m||this._styles.get(m).isDefault?f.removeAttribute("imageStyle",_):f.setAttribute("imageStyle",m,_),w&&u.setImageNaturalSizeAttributes(_)})}shouldConvertImageType(e,i){return!this._styles.get(e).modelElements.includes(i.name)}}var IV=Object.defineProperty,X3=Object.getOwnPropertySymbols,TV=Object.prototype.hasOwnProperty,NV=Object.prototype.propertyIsEnumerable,e4=(c,e,i)=>e in c?IV(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,t4=(c,e)=>{for(var i in e||(e={}))TV.call(e,i)&&e4(c,i,e[i]);if(X3)for(var i of X3(e))NV.call(e,i)&&e4(c,i,e[i]);return c};const{objectFullWidth:MV,objectInline:n4,objectLeft:r4,objectRight:Gy,objectCenter:Yy,objectBlockLeft:i4,objectBlockRight:o4}=hn,O0={get inline(){return{name:"inline",title:"In line",icon:n4,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:r4,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:i4,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Yy,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Gy,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:o4,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Yy,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Gy,modelElements:["imageBlock"],className:"image-style-side"}}},s4={full:MV,left:i4,right:o4,center:Yy,inlineLeft:r4,inlineRight:Gy,inline:n4},a4=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function l4(c){L("image-style-configuration-definition-invalid",c)}const Ky={normalizeStyles:function(c){return(c.configuredStyles.options||[]).map(e=>function(i){return i=typeof i=="string"?O0[i]?t4({},O0[i]):{name:i}:function(s,u){const f=t4({},u);for(const m in s)Object.prototype.hasOwnProperty.call(u,m)||(f[m]=s[m]);return f}(O0[i.name],i),typeof i.icon=="string"&&(i.icon=s4[i.icon]||i.icon),i}(e)).filter(e=>function(i,{isBlockPluginLoaded:s,isInlinePluginLoaded:u}){const{modelElements:f,name:m}=i;if(!(f&&f.length&&m))return l4({style:i}),!1;{const w=[s?"imageBlock":null,u?"imageInline":null];if(!f.some(_=>w.includes(_)))return L("image-style-missing-dependency",{style:i,missingPlugins:f.map(_=>_==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,c))},getDefaultStylesConfiguration:function(c,e){return c&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:c?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(c){return c.has("ImageBlockEditing")&&c.has("ImageInlineEditing")?[...a4]:[]},warnInvalidStyle:l4,DEFAULT_OPTIONS:O0,DEFAULT_ICONS:s4,DEFAULT_DROPDOWN_DEFINITIONS:a4};function c4(c,e){for(const i of e)if(i.name===c)return i}class u4 extends ct{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[bs]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:i}=Ky,s=this.editor,u=s.plugins.has("ImageBlockEditing"),f=s.plugins.has("ImageInlineEditing");s.config.define("image.styles",i(u,f)),this.normalizedStyles=e({configuredStyles:s.config.get("image.styles"),isBlockPluginLoaded:u,isInlinePluginLoaded:f}),this._setupConversion(u,f),this._setupPostFixer(),s.commands.add("imageStyle",new DV(s,this.normalizedStyles))}_setupConversion(e,i){const s=this.editor,u=s.model.schema,f=(m=this.normalizedStyles,(_,E,T)=>{if(!T.consumable.consume(E.item,_.name))return;const O=c4(E.attributeNewValue,m),U=c4(E.attributeOldValue,m),K=T.mapper.toViewElement(E.item),ee=T.writer;U&&ee.removeClass(U.className,K),O&&ee.addClass(O.className,K)});var m;const w=function(_){const E={imageInline:_.filter(T=>!T.isDefault&&T.modelElements.includes("imageInline")),imageBlock:_.filter(T=>!T.isDefault&&T.modelElements.includes("imageBlock"))};return(T,O,U)=>{if(!O.modelRange)return;const K=O.viewItem,ee=ji(O.modelRange.getItems());if(ee&&U.schema.checkAttribute(ee,"imageStyle"))for(const oe of E[ee.name])U.consumable.consume(K,{classes:oe.className})&&U.writer.setAttribute("imageStyle",oe.name,ee)}}(this.normalizedStyles);s.editing.downcastDispatcher.on("attribute:imageStyle",f),s.data.downcastDispatcher.on("attribute:imageStyle",f),e&&(u.extend("imageBlock",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:figure",w,{priority:"low"})),i&&(u.extend("imageInline",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:img",w,{priority:"low"}))}_setupPostFixer(){const e=this.editor,i=e.model.document,s=e.plugins.get(bs),u=new Map(this.normalizedStyles.map(f=>[f.name,f]));i.registerPostFixer(f=>{let m=!1;for(const w of i.differ.getChanges())if(w.type=="insert"||w.type=="attribute"&&w.attributeKey=="imageStyle"){let _=w.type=="insert"?w.position.nodeAfter:w.range.start.nodeAfter;if(_&&_.is("element","paragraph")&&_.childCount>0&&(_=_.getChild(0)),!s.isImage(_))continue;const E=_.getAttribute("imageStyle");if(!E)continue;const T=u.get(E);T&&T.modelElements.includes(_.name)||(f.removeAttribute("imageStyle",_),m=!0)}return m})}}var d4=a(6386),PV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(d4.A,PV),d4.A.locals;class OV extends ct{static get requires(){return[u4]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,i=this.editor.config.get("image.toolbar")||[],s=h4(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const f of s)this._createButton(f);const u=h4([...i.filter(le),...Ky.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const f of u)this._createDropdown(f,s)}_createDropdown(e,i){const s=this.editor.ui.componentFactory;s.add(e.name,u=>{let f;const{defaultItem:m,items:w,title:_}=e,E=w.filter(K=>i.find(({name:ee})=>f4(ee)===K)).map(K=>{const ee=s.create(K);return K===m&&(f=ee),ee});w.length!==E.length&&Ky.warnInvalidStyle({dropdown:e});const T=Wc(u,c0),O=T.buttonView,U=O.arrowView;return _y(T,E,{enableActiveItemFocusOnDropdownOpen:!0}),O.set({label:p4(_,f.label),class:null,tooltip:!0}),U.unbind("label"),U.set({label:_}),O.bind("icon").toMany(E,"isOn",(...K)=>{const ee=K.findIndex(Bl);return ee<0?f.icon:E[ee].icon}),O.bind("label").toMany(E,"isOn",(...K)=>{const ee=K.findIndex(Bl);return p4(_,ee<0?f.label:E[ee].label)}),O.bind("isOn").toMany(E,"isOn",(...K)=>K.some(Bl)),O.bind("class").toMany(E,"isOn",(...K)=>K.some(Bl)?"ck-splitbutton_flatten":void 0),O.on("execute",()=>{E.some(({isOn:K})=>K)?T.isOpen=!T.isOpen:f.fire("execute")}),T.bind("isEnabled").toMany(E,"isEnabled",(...K)=>K.some(Bl)),this.listenTo(T,"execute",()=>{this.editor.editing.view.focus()}),T})}_createButton(e){const i=e.name;this.editor.ui.componentFactory.add(f4(i),s=>{const u=this.editor.commands.get("imageStyle"),f=new Hn(s);return f.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),f.bind("isEnabled").to(u,"isEnabled"),f.bind("isOn").to(u,"value",m=>m===i),f.on("execute",this._executeCommand.bind(this,i)),f})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function h4(c,e){for(const i of c)e[i.title]&&(i.title=e[i.title]);return c}function f4(c){return`imageStyle:${c}`}function p4(c,e){return(c?c+": ":"")+e}class jV extends ct{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Jr(e)),e.commands.add("outdent",new Jr(e))}}class LV extends ct{static get pluginName(){return"IndentUI"}init(){const e=this.editor,i=e.locale,s=e.t,u=i.uiLanguageDirection=="ltr"?hn.indent:hn.outdent,f=i.uiLanguageDirection=="ltr"?hn.outdent:hn.indent;this._defineButton("indent",s("Increase indent"),u),this._defineButton("outdent",s("Decrease indent"),f)}_defineButton(e,i,s){const u=this.editor;u.ui.componentFactory.add(e,()=>{const f=this._createButton(Hn,e,i,s);return f.set({tooltip:!0}),f}),u.ui.componentFactory.add("menuBar:"+e,()=>this._createButton($s,e,i,s))}_createButton(e,i,s,u){const f=this.editor,m=f.commands.get(i),w=new e(f.locale);return w.set({label:s,icon:u}),w.bind("isEnabled").to(m,"isEnabled"),this.listenTo(w,"execute",()=>{f.execute(i),f.editing.view.focus()}),w}}class RV{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(i=>this._definitions.add(i)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(i,s,u)=>{if(!u.consumable.test(s.item,"attribute:linkHref")||!s.item.is("selection")&&!u.schema.isInline(s.item))return;const f=u.writer,m=f.document.selection;for(const w of this._definitions){const _=f.createAttributeElement("a",w.attributes,{priority:5});w.classes&&f.addClass(w.classes,_);for(const E in w.styles)f.setStyle(E,w.styles[E],_);f.setCustomProperty("link",!0,_),w.callback(s.attributeNewValue)?s.item.is("selection")?f.wrap(m.getFirstRange(),_):f.wrap(u.mapper.toViewRange(s.range),_):f.unwrap(u.mapper.toViewRange(s.range),_)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(i,s,{writer:u,mapper:f})=>{const m=f.toViewElement(s.item),w=Array.from(m.getChildren()).find(_=>_.is("element","a"));for(const _ of this._definitions){const E=_a(_.attributes);if(_.callback(s.attributeNewValue)){for(const[T,O]of E)T==="class"?u.addClass(O,w):u.setAttribute(T,O,w);_.classes&&u.addClass(_.classes,w);for(const T in _.styles)u.setStyle(T,_.styles[T],w)}else{for(const[T,O]of E)T==="class"?u.removeClass(O,w):u.removeAttribute(T,w);_.classes&&u.removeClass(_.classes,w);for(const T in _.styles)u.removeStyle(T,w)}}})}}}const BV=function(c,e,i){var s=c.length;return i=i===void 0?s:i,!e&&i>=s?c:zb(c,e,i)};var FV=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const m4=function(c){return FV.test(c)},zV=function(c){return c.split("")};var g4="\\ud800-\\udfff",UV="["+g4+"]",Qy="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Jy="\\ud83c[\\udffb-\\udfff]",b4="[^"+g4+"]",k4="(?:\\ud83c[\\udde6-\\uddff]){2}",w4="[\\ud800-\\udbff][\\udc00-\\udfff]",y4="(?:"+Qy+"|"+Jy+")?",v4="[\\ufe0e\\ufe0f]?",qV=v4+y4+("(?:\\u200d(?:"+[b4,k4,w4].join("|")+")"+v4+y4+")*"),VV="(?:"+[b4+Qy+"?",Qy,k4,w4,UV].join("|")+")",$V=RegExp(Jy+"(?="+Jy+")|"+VV+qV,"g");const HV=function(c){return c.match($V)||[]},WV=function(c){return m4(c)?HV(c):zV(c)},GV=function(c){return function(e){e=gf(e);var i=m4(e)?WV(e):void 0,s=i?i[0]:e.charAt(0),u=i?BV(i,1).join(""):e.slice(1);return s[c]()+u}}("toUpperCase"),YV=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,KV=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,QV=/^((\w+:(\/{2,})?)|(\W))/i,JV=["https?","ftps?","mailto"],j0="Ctrl+K";function A4(c,{writer:e}){const i=e.createAttributeElement("a",{href:c},{priority:5});return e.setCustomProperty("link",!0,i),i}function _4(c,e=JV){const i=String(c),s=e.join("|");return function(u,f){return!!u.replace(YV,"").match(f)}(i,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",s)}`,"i"))?i:"#"}function Zy(c,e){return!!c&&e.checkAttribute(c.name,"linkHref")}function Xy(c,e){const i=(s=c,KV.test(s)?"mailto:":e);var s;const u=!!i&&!C4(c);return c&&u?i+c:c}function C4(c){return QV.test(c)}function x4(c){window.open(c,"_blank","noopener")}class ZV extends Wt{constructor(){super(...arguments),this.manualDecorators=new Fs,this.automaticDecorators=new RV}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,i=e.document.selection,s=i.getSelectedElement()||ji(i.getSelectedBlocks());Zy(s,e.schema)?(this.value=s.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(s,"linkHref")):(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref"));for(const u of this.manualDecorators)u.value=this._getDecoratorStateFromModel(u.id)}execute(e,i={}){const s=this.editor.model,u=s.document.selection,f=[],m=[];for(const w in i)i[w]?f.push(w):m.push(w);s.change(w=>{if(u.isCollapsed){const _=u.getFirstPosition();if(u.hasAttribute("linkHref")){const E=S4(u);let T=v0(_,"linkHref",u.getAttribute("linkHref"),s);u.getAttribute("linkHref")===E&&(T=this._updateLinkContent(s,w,T,e)),w.setAttribute("linkHref",e,T),f.forEach(O=>{w.setAttribute(O,!0,T)}),m.forEach(O=>{w.removeAttribute(O,T)}),w.setSelection(w.createPositionAfter(T.end.nodeBefore))}else if(e!==""){const E=_a(u.getAttributes());E.set("linkHref",e),f.forEach(O=>{E.set(O,!0)});const{end:T}=s.insertContent(w.createText(e,E),_);w.setSelection(T)}["linkHref",...f,...m].forEach(E=>{w.removeSelectionAttribute(E)})}else{const _=s.schema.getValidRanges(u.getRanges(),"linkHref"),E=[];for(const O of u.getSelectedBlocks())s.schema.checkAttribute(O,"linkHref")&&E.push(w.createRangeOn(O));const T=E.slice();for(const O of _)this._isRangeToUpdate(O,E)&&T.push(O);for(const O of T){let U=O;if(T.length===1){const K=S4(u);u.getAttribute("linkHref")===K&&(U=this._updateLinkContent(s,w,O,e),w.setSelection(w.createSelection(U)))}w.setAttribute("linkHref",e,U),f.forEach(K=>{w.setAttribute(K,!0,U)}),m.forEach(K=>{w.removeAttribute(K,U)})}}})}_getDecoratorStateFromModel(e){const i=this.editor.model,s=i.document.selection,u=s.getSelectedElement();return Zy(u,i.schema)?u.getAttribute(e):s.getAttribute(e)}_isRangeToUpdate(e,i){for(const s of i)if(s.containsRange(e))return!1;return!0}_updateLinkContent(e,i,s,u){const f=i.createText(u,{linkHref:u});return e.insertContent(f,s)}}function S4(c){if(c.isCollapsed){const e=c.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(c.getFirstRange().getItems());if(e.length>1)return null;const i=e[0];return i.is("$text")||i.is("$textProxy")?i.data:null}}class XV extends Wt{refresh(){const e=this.editor.model,i=e.document.selection,s=i.getSelectedElement();Zy(s,e.schema)?this.isEnabled=e.schema.checkAttribute(s,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref")}execute(){const e=this.editor,i=this.editor.model,s=i.document.selection,u=e.commands.get("link");i.change(f=>{const m=s.isCollapsed?[v0(s.getFirstPosition(),"linkHref",s.getAttribute("linkHref"),i)]:i.schema.getValidRanges(s.getRanges(),"linkHref");for(const w of m)if(f.removeAttribute("linkHref",w),u)for(const _ of u.manualDecorators)f.removeAttribute(_.id,w)})}}class e$ extends ze(){constructor({id:e,label:i,attributes:s,classes:u,styles:f,defaultValue:m}){super(),this.id=e,this.set("value",void 0),this.defaultValue=m,this.label=i,this.attributes=s,this.classes=u,this.styles=f}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var E4=a(7719),t$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(E4.A,t$),E4.A.locals;var n$=Object.defineProperty,D4=Object.getOwnPropertySymbols,r$=Object.prototype.hasOwnProperty,i$=Object.prototype.propertyIsEnumerable,I4=(c,e,i)=>e in c?n$(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,o$=(c,e)=>{for(var i in e||(e={}))r$.call(e,i)&&I4(c,i,e[i]);if(D4)for(var i of D4(e))i$.call(e,i)&&I4(c,i,e[i]);return c};const T4="automatic",s$=/^(https?:)?\/\//;class N4 extends ct{static get pluginName(){return"LinkEditing"}static get requires(){return[nE,KS,Na]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,i=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:A4}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(u,f)=>A4(_4(u,i),f)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:u=>u.getAttribute("href")}}),e.commands.add("link",new ZV(e)),e.commands.add("unlink",new XV(e));const s=function(u,f){const m={"Open in a new tab":u("Open in a new tab"),Downloadable:u("Downloadable")};return f.forEach(w=>("label"in w&&m[w.label]&&(w.label=m[w.label]),w)),f}(e.t,function(u){const f=[];if(u)for(const[m,w]of Object.entries(u)){const _=Object.assign({},w,{id:`link${GV(m)}`});f.push(_)}return f}(e.config.get("link.decorators")));this._enableAutomaticDecorators(s.filter(u=>u.mode===T4)),this._enableManualDecorators(s.filter(u=>u.mode==="manual")),e.plugins.get(nE).registerAttribute("linkHref"),function(u,f,m,w){const _=u.editing.view,E=new Set;_.document.registerPostFixer(T=>{const O=u.model.document.selection;let U=!1;if(O.hasAttribute(f)){const K=v0(O.getFirstPosition(),f,O.getAttribute(f),u.model),ee=u.editing.mapper.toViewRange(K);for(const oe of ee.getItems())oe.is("element",m)&&!oe.hasClass(w)&&(T.addClass(w,oe),E.add(oe),U=!0)}return U}),u.conversion.for("editingDowncast").add(T=>{function O(){_.change(U=>{for(const K of E.values())U.removeClass(w,K),E.delete(K)})}T.on("insert",O,{priority:"highest"}),T.on("remove",O,{priority:"highest"}),T.on("attribute",O,{priority:"highest"}),T.on("selection",O,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const i=this.editor,s=i.commands.get("link").automaticDecorators;i.config.get("link.addTargetToExternalLinks")&&s.add({id:"linkIsExternal",mode:T4,callback:u=>!!u&&s$.test(u),attributes:{target:"_blank",rel:"noopener noreferrer"}}),s.add(e),s.length&&i.conversion.for("downcast").add(s.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const i=this.editor,s=i.commands.get("link").manualDecorators;e.forEach(u=>{i.model.schema.extend("$text",{allowAttributes:u.id});const f=new e$(u);s.add(f),i.conversion.for("downcast").attributeToElement({model:f.id,view:(m,{writer:w,schema:_},{item:E})=>{if((E.is("selection")||_.isInline(E))&&m){const T=w.createAttributeElement("a",f.attributes,{priority:5});f.classes&&w.addClass(f.classes,T);for(const O in f.styles)w.setStyle(O,f.styles[O],T);return w.setCustomProperty("link",!0,T),T}}}),i.conversion.for("upcast").elementToAttribute({view:o$({name:"a"},f._createPattern()),model:{key:f.id}})})}_enableLinkOpen(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",(s,u)=>{if(!(b.isMac?u.domEvent.metaKey:u.domEvent.ctrlKey))return;let f=u.domTarget;if(f.tagName.toLowerCase()!="a"&&(f=f.closest("a")),!f)return;const m=f.getAttribute("href");m&&(s.stop(),u.preventDefault(),x4(m))},{context:"$capture"}),this.listenTo(i,"keydown",(s,u)=>{const f=e.commands.get("link").value;f&&u.keyCode===Pn.enter&&u.altKey&&(s.stop(),x4(f))})}_enableSelectionAttributesFixer(){const e=this.editor.model,i=e.document.selection;this.listenTo(i,"change:attribute",(s,{attributeKeys:u})=>{u.includes("linkHref")&&!i.hasAttribute("linkHref")&&e.change(f=>{var m;(function(w,_){w.removeSelectionAttribute("linkHref");for(const E of _)w.removeSelectionAttribute(E)})(f,(m=e.schema,m.getDefinition("$text").allowAttributes.filter(w=>w.startsWith("link"))))})})}_enableClipboardIntegration(){const e=this.editor,i=e.model,s=this.editor.config.get("link.defaultProtocol");s&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(u,f)=>{i.change(m=>{const w=m.createRangeIn(f.content);for(const _ of w.getItems())if(_.hasAttribute("linkHref")){const E=Xy(_.getAttribute("linkHref"),s);m.setAttribute("linkHref",E,_)}})})}}var M4=a(3817),a$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(M4.A,a$),M4.A.locals;class l$ extends Nt{constructor(e,i,s){super(e),this.focusTracker=new Li,this.keystrokes=new fo,this._focusables=new Jo;const u=e.t;this._validators=s,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(u("Save"),hn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(u("Cancel"),hn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(i),this.children=this._createFormChildren(i.manualDecorators),this._focusCycler=new Ta({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const f=["ck","ck-link-form","ck-responsive-form"];i.manualDecorators.length&&f.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:f,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,i)=>(e[i.name]=i.isOn,e),{})}render(){super.render(),xn({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,i=new a0(this.locale,u0);return i.label=e("Link URL"),i}_createButton(e,i,s,u){const f=new Hn(this.locale);return f.set({label:e,icon:i,tooltip:!0}),f.extendTemplate({attributes:{class:s}}),u&&f.delegate("execute").to(this,u),f}_createManualDecoratorSwitches(e){const i=this.createCollection();for(const s of e.manualDecorators){const u=new o0(this.locale);u.set({name:s.id,label:s.label,withText:!0}),u.bind("isOn").toMany([s,e],"value",(f,m)=>m===void 0&&f===void 0?!!s.defaultValue:!!f),u.on("execute",()=>{s.set("value",!u.isOn)}),i.add(u)}return i}_createFormChildren(e){const i=this.createCollection();if(i.add(this.urlInputView),e.length){const s=new Nt;s.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(u=>({tag:"li",children:[u],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(s)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}var P4=a(8762),c$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(P4.A,c$),P4.A.locals;class u$ extends Nt{constructor(e,i={}){super(e),this.focusTracker=new Li,this.keystrokes=new fo,this._focusables=new Jo;const s=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(s("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(s("Edit link"),hn.pencil,"edit"),this.set("href",void 0),this._linkConfig=i,this._focusCycler=new Ta({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,i,s){const u=new Hn(this.locale);return u.set({label:e,icon:i,tooltip:!0}),u.delegate("execute").to(this,s),u}_createPreviewButton(){const e=new Hn(this.locale),i=this.bindTemplate,s=this.t;return e.set({withText:!0,tooltip:s("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",u=>u&&_4(u,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",u=>u||s("This link has no URL")),e.bind("isEnabled").to(this,"href",u=>!!u),e.template.tag="a",e.template.eventListeners={},e}}const Wl="link-ui";class d$ extends ct{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[g0]}static get pluginName(){return"LinkUI"}init(){const e=this.editor,i=this.editor.t;e.editing.view.addObserver(iF),this._balloon=e.plugins.get(g0),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Wl,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Wl,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Create link"),keystroke:j0},{label:i("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,i=new u$(e.locale,e.config.get("link")),s=e.commands.get("link"),u=e.commands.get("unlink");return i.bind("href").to(s,"value"),i.editButtonView.bind("isEnabled").to(s),i.unlinkButtonView.bind("isEnabled").to(u),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"unlink",()=>{e.execute("unlink"),this._hideUI()}),i.keystrokes.set("Esc",(f,m)=>{this._hideUI(),m()}),i.keystrokes.set(j0,(f,m)=>{this._addFormView(),m()}),i}_createFormView(){const e=this.editor,i=e.commands.get("link"),s=e.config.get("link.defaultProtocol"),u=new(On(l$))(e.locale,i,function(f){const m=f.t,w=f.config.get("link.allowCreatingEmptyLinks");return[_=>{if(!w&&!_.url.length)return m("Link URL must not be empty.")}]}(e));return u.urlInputView.fieldView.bind("value").to(i,"value"),u.urlInputView.bind("isEnabled").to(i,"isEnabled"),u.saveButtonView.bind("isEnabled").to(i,"isEnabled"),this.listenTo(u,"submit",()=>{if(u.isValid()){const{value:f}=u.urlInputView.fieldView.element,m=Xy(f,s);e.execute("link",m,u.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(u.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(u,"cancel",()=>{this._closeFormView()}),u.keystrokes.set("Esc",(f,m)=>{this._closeFormView(),m()}),u}_createToolbarLinkButton(){const e=this.editor,i=e.commands.get("link");e.ui.componentFactory.add("link",()=>{const s=this._createButton(Hn);return s.set({tooltip:!0,isToggleable:!0}),s.bind("isOn").to(i,"value",u=>!!u),s}),e.ui.componentFactory.add("menuBar:link",()=>this._createButton($s))}_createButton(e){const i=this.editor,s=i.locale,u=i.commands.get("link"),f=new e(i.locale),m=s.t;return f.set({label:m("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:j0}),f.bind("isEnabled").to(u,"isEnabled"),this.listenTo(f,"execute",()=>this._showUI(!0)),f}_enableBalloonActivators(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(j0,(s,u)=>{u(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,i)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,i)=>{this._isUIVisible&&(this._hideUI(),i())}),zn({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,i=e.editing.view.document;let s=this._getSelectedLinkElement(),u=m();const f=()=>{const w=this._getSelectedLinkElement(),_=m();s&&!w||!s&&_!==u?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),s=w,u=_};function m(){return i.selection.focus.getAncestors().reverse().find(w=>w.is("element"))}this.listenTo(e.ui,"update",f),this.listenTo(this._balloon,"change:visibleView",f)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,i=this.editor.model,s=e.document;let u;if(i.markers.has(Wl)){const f=Array.from(this.editor.editing.mapper.markerNameToElements(Wl)),m=e.createRange(e.createPositionBefore(f[0]),e.createPositionAfter(f[f.length-1]));u=e.domConverter.viewRangeToDom(m)}else u=()=>{const f=this._getSelectedLinkElement();return f?e.domConverter.mapViewToDom(f):e.domConverter.viewRangeToDom(s.selection.getFirstRange())};return{target:u}}_getSelectedLinkElement(){const e=this.editor.editing.view,i=e.document.selection,s=i.getSelectedElement();if(i.isCollapsed||s&&_i(s))return ev(i.getFirstPosition());{const u=i.getFirstRange().getTrimmed(),f=ev(u.start),m=ev(u.end);return f&&f==m&&e.createRangeIn(f).getTrimmed().isEqual(u)?f:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(i=>{const s=e.document.selection.getFirstRange();if(e.markers.has(Wl))i.updateMarker(Wl,{range:s});else if(s.start.isAtEnd){const u=s.start.getLastMatchingPosition(({item:f})=>!e.schema.isContent(f),{boundaries:s});i.addMarker(Wl,{usingOperation:!1,affectsData:!1,range:i.createRange(u,s.end)})}else i.addMarker(Wl,{usingOperation:!1,affectsData:!1,range:s})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Wl)&&e.change(i=>{i.removeMarker(Wl)})}}function ev(c){return c.getAncestors().find(e=>{return(i=e).is("attributeElement")&&!!i.getCustomProperty("link");var i})||null}const O4=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class h$ extends ct{static get requires(){return[Yc,N4]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,i){return i.textNode&&i.textNode.hasAttribute("linkHref")?v0(i,"linkHref",i.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,i){const s=this.editor.model,u=s.document.selection,f=u.getFirstPosition(),m=u.getLastPosition();let w=i.getJoined(this._expandLinkRange(s,f)||i);w&&(w=w.getJoined(this._expandLinkRange(s,m)||i)),w&&(w.start.isBefore(f)||w.end.isAfter(m))&&e.setSelection(w)}_enablePasteLinking(){const e=this.editor,i=e.model,s=i.document.selection,u=e.plugins.get("ClipboardPipeline"),f=e.commands.get("link");u.on("inputTransformation",(m,w)=>{if(!this.isEnabled||!f.isEnabled||s.isCollapsed||w.method!=="paste"||s.rangeCount>1)return;const _=s.getFirstRange(),E=w.dataTransfer.getData("text/plain");if(!E)return;const T=E.match(O4);T&&T[2]===E&&(i.change(O=>{this._selectEntireLinks(O,_),f.execute(E)}),m.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,i=new tE(e.model,s=>{if(!function(f){return f.length>4&&f[f.length-1]===" "&&f[f.length-2]!==" "}(s))return;const u=j4(s.substr(0,s.length-1));return u?{url:u}:void 0});i.on("matched:data",(s,u)=>{const{batch:f,range:m,url:w}=u;if(!f.isTyping)return;const _=m.end.getShiftedBy(-1),E=_.getShiftedBy(-w.length),T=e.model.createRange(E,_);this._applyAutoLink(w,T)}),i.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,i=e.model,s=e.commands.get("enter");s&&s.on("execute",()=>{const u=i.document.selection.getFirstPosition();if(!u.parent.previousSibling)return;const f=i.createRangeIn(u.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(f)})}_enableShiftEnterHandling(){const e=this.editor,i=e.model,s=e.commands.get("shiftEnter");s&&s.on("execute",()=>{const u=i.document.selection.getFirstPosition(),f=i.createRange(i.createPositionAt(u.parent,0),u.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(f)})}_checkAndApplyAutoLinkOnRange(e){const i=this.editor.model,{text:s,range:u}=eE(e,i),f=j4(s);if(f){const m=i.createRange(u.end.getShiftedBy(-f.length),u.end);this._applyAutoLink(f,m)}}_applyAutoLink(e,i){const s=this.editor.model,u=Xy(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(f,m){return m.schema.checkAttributeInSelection(m.createSelection(f),"linkHref")}(i,s)&&C4(u)&&!function(f){const m=f.start.nodeAfter;return!!m&&m.hasAttribute("linkHref")}(i)&&this._persistAutoLink(u,i)}_persistAutoLink(e,i){const s=this.editor.model,u=this.editor.plugins.get("Delete");s.enqueueChange(f=>{f.setAttribute("linkHref",e,i),s.enqueueChange(()=>{u.requestUndoOnBackspace()})})}}function j4(c){const e=O4.exec(c);return e?e[2]:null}var L4=a(4808),f$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(L4.A,f$),L4.A.locals;class Pa{constructor(e,i){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=i.direction=="forward",this._includeSelf=!!i.includeSelf,this._sameAttributes=ir(i.sameAttributes||[]),this._sameIndent=!!i.sameIndent,this._lowerIndent=!!i.lowerIndent,this._higherIndent=!!i.higherIndent}static first(e,i){return ji(new this(e,i)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:i}of qm(this._getStartNode(),this._isForward?"forward":"backward")){const s=i.getAttribute("listIndent");if(s<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=s}else if(s>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(i);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(u=>i.getAttribute(u)!==this._startElement.getAttribute(u)))break}e.length&&(yield*e,e.length=0),yield i}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*qm(c,e="forward"){const i=e=="forward",s=[];let u=null;for(;Gi(c);){let f=null;if(u){const m=c.getAttribute("listIndent"),w=u.getAttribute("listIndent");m>w?s[w]=u:m<w?(f=s[m],s.length=m):f=u}yield{node:c,previous:u,previousNodeInList:f},u=c,c=i?c.nextSibling:c.previousSibling}}class p${constructor(e){this._listHead=e}[Symbol.iterator](){return qm(this._listHead,"forward")}}var m$=Object.defineProperty,g$=Object.defineProperties,b$=Object.getOwnPropertyDescriptors,R4=Object.getOwnPropertySymbols,k$=Object.prototype.hasOwnProperty,w$=Object.prototype.propertyIsEnumerable,B4=(c,e,i)=>e in c?m$(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,Vm=(c,e)=>{for(var i in e||(e={}))k$.call(e,i)&&B4(c,i,e[i]);if(R4)for(var i of R4(e))w$.call(e,i)&&B4(c,i,e[i]);return c},tv=(c,e)=>g$(c,b$(e));class Rf{static next(){return P()}}function Gi(c){return!!c&&c.is("element")&&c.hasAttribute("listItemId")}function nv(c,e={}){return[...Hu(c,tv(Vm({},e),{direction:"backward"})),...Hu(c,tv(Vm({},e),{direction:"forward"}))]}function Hu(c,e={}){const i=e.direction=="forward",s=Array.from(new Pa(c,tv(Vm({},e),{includeSelf:i,sameIndent:!0,sameAttributes:"listItemId"})));return i?s:s.reverse()}function F4(c,e){const i=new Pa(c,Vm({sameIndent:!0,sameAttributes:"listType"},e)),s=new Pa(c,Vm({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},e));return[...Array.from(i).reverse(),...s]}function ih(c){return!Pa.first(c,{sameIndent:!0,sameAttributes:"listItemId"})}function z4(c){return!Pa.first(c,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function $m(c,e={}){c=ir(c);const i=e.withNested!==!1,s=new Set;for(const u of c)for(const f of nv(u,{higherIndent:i}))s.add(f);return oh(s)}function y$(c){c=ir(c);const e=new Set;for(const i of c)for(const s of F4(i))e.add(s);return oh(e)}function rv(c,e){const i=Hu(c,{direction:"forward"}),s=Rf.next();for(const u of i)e.setAttribute("listItemId",s,u);return i}function iv(c,e,i){const s={};for(const[f,m]of e.getAttributes())f.startsWith("list")&&(s[f]=m);const u=Hu(c,{direction:"forward"});for(const f of u)i.setAttributes(s,f);return u}function ov(c,e,{expand:i,indentBy:s=1}={}){c=ir(c);const u=i?$m(c):c;for(const f of u){const m=f.getAttribute("listIndent")+s;m<0?L0(f,e):e.setAttribute("listIndent",m,f)}return u}function L0(c,e){c=ir(c);for(const i of c)i.is("element","listItem")&&e.rename(i,"paragraph");for(const i of c)for(const s of i.getAttributeKeys())s.startsWith("list")&&e.removeAttribute(s,i);return c}function Hm(c){if(!c.length)return!1;const e=c[0].getAttribute("listItemId");return!!e&&!c.some(i=>i.getAttribute("listItemId")!=e)}function oh(c){return Array.from(c).filter(e=>e.root.rootName!=="$graveyard").sort((e,i)=>e.index-i.index)}function Wm(c){const e=c.document.selection.getSelectedElement();return e&&c.schema.isObject(e)&&c.schema.isBlock(e)?e:null}function sv(c,e){return e.checkChild(c.parent,"listItem")&&e.checkChild(c,"$text")&&!e.isObject(c)}function v$(c){return c=="numbered"||c=="customNumbered"}function A$(c,e,i){return Hu(e,{direction:"forward"}).pop().index>c.index?iv(c,e,i):[]}class U4 extends Wt{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,i=q4(e.document.selection);e.change(s=>{const u=[];Hm(i)&&!ih(i[0])?(this._direction=="forward"&&u.push(...ov(i,s)),u.push(...rv(i[0],s))):this._direction=="forward"?u.push(...ov(i,s,{expand:!0})):u.push(...function(f,m){const w=$m(f=ir(f)),_=new Set,E=Math.min(...w.map(O=>O.getAttribute("listIndent"))),T=new Map;for(const O of w)T.set(O,Pa.first(O,{lowerIndent:!0}));for(const O of w){if(_.has(O))continue;_.add(O);const U=O.getAttribute("listIndent")-1;if(U<0)L0(O,m);else{if(O.getAttribute("listIndent")==E){const K=A$(O,T.get(O),m);for(const ee of K)_.add(ee);if(K.length)continue}m.setAttribute("listIndent",U,O)}}return oh(_)}(i,s));for(const f of u){if(!f.hasAttribute("listType"))continue;const m=Pa.first(f,{sameIndent:!0});m&&s.setAttribute("listType",m.getAttribute("listType"),f)}this._fireAfterExecute(u)})}_fireAfterExecute(e){this.fire("afterExecute",oh(new Set(e)))}_checkEnabled(){let e=q4(this.editor.model.document.selection),i=e[0];if(!i)return!1;if(this._direction=="backward"||Hm(e)&&!ih(e[0]))return!0;e=$m(e),i=e[0];const s=Pa.first(i,{sameIndent:!0});return!!s&&s.getAttribute("listType")==i.getAttribute("listType")}}function q4(c){const e=Array.from(c.getSelectedBlocks()),i=e.findIndex(s=>!Gi(s));return i!=-1&&(e.length=i),e}var _$=Object.defineProperty,C$=Object.defineProperties,x$=Object.getOwnPropertyDescriptors,V4=Object.getOwnPropertySymbols,S$=Object.prototype.hasOwnProperty,E$=Object.prototype.propertyIsEnumerable,$4=(c,e,i)=>e in c?_$(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,av=(c,e)=>{for(var i in e||(e={}))S$.call(e,i)&&$4(c,i,e[i]);if(V4)for(var i of V4(e))E$.call(e,i)&&$4(c,i,e[i]);return c},lv=(c,e)=>C$(c,x$(e));class R0 extends Wt{constructor(e,i,s={}){super(e),this.type=i,this._listWalkerOptions=s.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,s=i.document,u=Wm(i),f=Array.from(s.selection.getSelectedBlocks()).filter(w=>i.schema.checkAttribute(w,"listType")||sv(w,i.schema)),m=e.forceValue!==void 0?!e.forceValue:this.value;i.change(w=>{if(m){const _=f[f.length-1],E=Hu(_,{direction:"forward"}),T=[];E.length>1&&T.push(...rv(E[1],w)),T.push(...L0(f,w)),T.push(...function(O,U){const K=[];let ee=Number.POSITIVE_INFINITY;for(const{node:oe}of qm(O.nextSibling,"forward")){const ke=oe.getAttribute("listIndent");if(ke==0)break;ke<ee&&(ee=ke);const Se=ke-ee;U.setAttribute("listIndent",Se,oe),K.push(oe)}return K}(_,w)),this._fireAfterExecute(T)}else if((u||s.selection.isCollapsed)&&Gi(f[0])){const _=F4(u||f[0],this._listWalkerOptions);for(const E of _)w.setAttributes(lv(av({},e.additionalAttributes),{listType:this.type}),E);this._fireAfterExecute(_)}else{const _=[];for(const E of f)if(E.hasAttribute("listType"))for(const T of $m(E,{withNested:!1}))T.getAttribute("listType")!=this.type&&(w.setAttributes(lv(av({},e.additionalAttributes),{listType:this.type}),T),_.push(T));else!E.is("element","listItem")&&sv(E,i.schema)&&w.rename(E,"listItem"),w.setAttributes(lv(av({},e.additionalAttributes),{listIndent:0,listItemId:Rf.next(),listType:this.type}),E),_.push(E);this._fireAfterExecute(_)}})}_fireAfterExecute(e){this.fire("afterExecute",oh(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,i=Array.from(e.getSelectedBlocks());if(!i.length)return!1;for(const s of i)if(s.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,i=e.schema,s=e.document.selection,u=Array.from(s.getSelectedBlocks());if(!u.length)return!1;if(this.value)return!0;for(const f of u)if(i.checkAttribute(f,"listType")||sv(f,i))return!0;return!1}}class H4 extends Wt{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const i=this.editor.model,s=i.document.selection,u=[];i.change(f=>{const{firstElement:m,lastElement:w}=this._getMergeSubjectElements(s,e),_=m.getAttribute("listIndent")||0,E=w.getAttribute("listIndent"),T=w.getAttribute("listItemId");if(_!=E){const U=(O=w,Array.from(new Pa(O,{direction:"forward",higherIndent:!0})));u.push(...ov([w,...U],f,{indentBy:_-E,expand:_<E}))}var O;if(e){let U=s;s.isCollapsed&&(U=f.createSelection(f.createRange(f.createPositionAt(m,"end"),f.createPositionAt(w,0)))),i.deleteContent(U,{doNotResetEntireContent:s.isCollapsed});const K=U.getLastPosition().parent,ee=K.nextSibling;u.push(K),ee&&ee!==w&&ee.getAttribute("listItemId")==T&&u.push(...iv(ee,K,f))}else u.push(...iv(w,m,f));this._fireAfterExecute(u)})}_fireAfterExecute(e){this.fire("afterExecute",oh(new Set(e)))}_checkEnabled(){const e=this.editor.model,i=e.document.selection,s=Wm(e);if(i.isCollapsed||s){const u=s||i.getFirstPosition().parent;if(!Gi(u))return!1;const f=this._direction=="backward"?u.previousSibling:u.nextSibling;if(!f||Hm([u,f]))return!1}else{const u=i.getLastPosition(),f=i.getFirstPosition();if(u.parent===f.parent||!Gi(u.parent))return!1}return!0}_getMergeSubjectElements(e,i){const s=Wm(this.editor.model);let u,f;if(e.isCollapsed||s){const m=s||e.getFirstPosition().parent,w=ih(m);this._direction=="backward"?(f=m,u=w&&!i?Pa.first(m,{sameIndent:!0,lowerIndent:!0}):m.previousSibling):(u=m,f=m.nextSibling)}else u=e.getFirstPosition().parent,f=e.getLastPosition().parent;return{firstElement:u,lastElement:f}}}class W4 extends Wt{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(e=>{const i=rv(this._getStartBlock(),e);this._fireAfterExecute(i)})}_fireAfterExecute(e){this.fire("afterExecute",oh(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,i=this._getStartBlock();return e.isCollapsed&&Gi(i)&&!ih(i)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?e:e.nextSibling}}class D$ extends ct{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(e){return y$(e)}isFirstBlockOfListItem(e){return ih(e)}isListItemBlock(e){return Gi(e)}expandListBlocksToCompleteItems(e,i={}){return $m(e,i)}isNumberedListType(e){return v$(e)}}function G4(c){return c.is("element","ol")||c.is("element","ul")}function B0(c){return c.is("element","li")}function I$(c,e,i,s=K4(i,e)){return c.createAttributeElement(Y4(i),null,{priority:2*e/100-100,id:s})}function T$(c,e,i){return c.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:i})}function Y4(c){return c=="numbered"||c=="customNumbered"?"ol":"ul"}function K4(c,e){return`list-${c}-${e}`}function al(c,e){const i=c.nodeBefore;if(Gi(i)){let s=i;for(const{node:u}of qm(s,"backward"))if(s=u,e.has(s))return;e.set(i,s)}else{const s=c.nodeAfter;Gi(s)&&e.set(s,s)}}function N$(){return(c,e,i)=>{const{writer:s,schema:u}=i;if(!e.modelRange)return;const f=Array.from(e.modelRange.getItems({shallow:!0})).filter(O=>u.checkAttribute(O,"listItemId"));if(!f.length)return;const m=Rf.next(),w=function(O){let U=0,K=O.parent;for(;K;){if(B0(K))U++;else{const ee=K.previousSibling;ee&&B0(ee)&&U++}K=K.parent}return U}(e.viewItem);let _=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const E=f[0].getAttribute("listType");E&&(_=E);const T={listItemId:m,listIndent:w,listType:_};for(const O of f)O.hasAttribute("listItemId")||s.setAttributes(T,O);f.length>1&&f[1].getAttribute("listItemId")!=T.listItemId&&i.keepEmptyElement(f[0])}}function Q4(){return(c,e,i)=>{if(!i.consumable.test(e.viewItem,{name:!0}))return;const s=new $c(e.viewItem.document);for(const u of Array.from(e.viewItem.getChildren()))B0(u)||G4(u)||s.remove(u)}}function J4(c,e,i,{dataPipeline:s}={}){const u=function(f){return(m,w)=>{const _=[];for(const E of f)m.hasAttribute(E)&&_.push(`attribute:${E}`);return!!_.every(E=>w.test(m,E)!==!1)&&(_.forEach(E=>w.consume(m,E)),!0)}}(c);return(f,m,w)=>{const{writer:_,mapper:E,consumable:T}=w,O=m.item;if(!c.includes(m.attributeKey)||!u(O,T))return;const U=function(ee,oe,ke){const Se=ke.createRangeOn(ee);return oe.toViewRange(Se).getTrimmed().end.nodeBefore}(O,E,i);X4(U,_,E),function(ee,oe){let ke=ee.parent;for(;ke.is("attributeElement")&&["ul","ol","li"].includes(ke.name);){const Se=ke.parent;oe.unwrap(oe.createRangeOn(ee),ke),ke=Se}}(U,_);const K=function(ee,oe,ke,Se,{dataPipeline:Le}){let tt=Se.createRangeOn(oe);if(!ih(ee))return tt;for(const ft of ke){if(ft.scope!="itemMarker")continue;const Mt=ft.createElement(Se,ee,{dataPipeline:Le});if(!Mt||(Se.setCustomProperty("listItemMarker",!0,Mt),ft.canInjectMarkerIntoElement&&ft.canInjectMarkerIntoElement(ee)?Se.insert(Se.createPositionAt(oe,0),Mt):(Se.insert(tt.start,Mt),tt=Se.createRange(Se.createPositionBefore(Mt),Se.createPositionAfter(oe))),!ft.createWrapperElement||!ft.canWrapElement))continue;const nn=ft.createWrapperElement(Se,ee,{dataPipeline:Le});Se.setCustomProperty("listItemWrapper",!0,nn),ft.canWrapElement(ee)?tt=Se.wrap(tt,nn):(tt=Se.wrap(Se.createRangeOn(Mt),nn),tt=Se.createRange(tt.start,Se.createPositionAfter(oe)))}return tt}(O,U,e,_,{dataPipeline:s});(function(ee,oe,ke,Se){if(!ee.hasAttribute("listIndent"))return;const Le=ee.getAttribute("listIndent");let tt=ee;for(let ft=Le;ft>=0;ft--){const Mt=T$(Se,ft,tt.getAttribute("listItemId")),nn=I$(Se,ft,tt.getAttribute("listType"));for(const kn of ke)kn.scope!="list"&&kn.scope!="item"||!tt.hasAttribute(kn.attributeName)||kn.setAttributeOnDowncast(Se,tt.getAttribute(kn.attributeName),kn.scope=="list"?nn:Mt);if(oe=Se.wrap(oe,Mt),oe=Se.wrap(oe,nn),ft==0||(tt=Pa.first(tt,{lowerIndent:!0}),!tt))break}})(O,K,e,_)}}function Z4(c,{dataPipeline:e}={}){return(i,{writer:s})=>{if(!eD(i,c))return null;if(!e)return s.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const u=s.createContainerElement("p");return s.setCustomProperty("dataPipeline:transparentRendering",!0,u),u}}function X4(c,e,i){for(;c.parent.is("attributeElement")&&c.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(c),c.parent);const s=[];u(e.createPositionBefore(c).getWalker({direction:"backward"})),u(e.createRangeIn(c).getWalker());for(const f of s)e.remove(f);function u(f){for(const{item:m}of f){if(m.is("element")&&i.toModelElement(m))break;m.is("element")&&m.getCustomProperty("listItemMarker")&&s.push(m)}}}function eD(c,e,i=nv(c)){if(!Gi(c))return!1;for(const s of c.getAttributeKeys())if(!s.startsWith("selection:")&&!e.includes(s))return!1;return i.length<2}var tD=a(1232),M$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(tD.A,M$),tD.A.locals;var nD=a(6903),P$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(nD.A,P$),nD.A.locals;const F0=["listType","listIndent","listItemId"];class O$ extends ct{constructor(e){super(e),this._downcastStrategies=[],e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[A0,Yc,D$,Na]}init(){const e=this.editor,i=e.model,s=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new M("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});i.schema.register("$listItem",{allowAttributes:F0}),s?(i.schema.extend("$container",{allowAttributesOf:"$listItem"}),i.schema.extend("$block",{allowAttributesOf:"$listItem"}),i.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):i.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const u of F0)i.schema.setAttributeProperties(u,{copyOnReplace:!0});e.commands.add("numberedList",new R0(e,"numbered")),e.commands.add("bulletedList",new R0(e,"bulleted")),e.commands.add("customNumberedList",new R0(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new R0(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new U4(e,"forward")),e.commands.add("outdentList",new U4(e,"backward")),e.commands.add("splitListItemBefore",new W4(e,"before")),e.commands.add("splitListItemAfter",new W4(e,"after")),s&&(e.commands.add("mergeListItemBackward",new H4(e,"backward")),e.commands.add("mergeListItemForward",new H4(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,i=e.get("indent"),s=e.get("outdent");i&&i.registerChildCommand(e.get("indentList"),{priority:"high"}),s&&s.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...F0,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,i=e.commands.get("mergeListItemBackward"),s=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(u,f)=>{const m=e.model.document.selection;Wm(e.model)||e.model.change(()=>{const w=m.getFirstPosition();if(m.isCollapsed&&f.direction=="backward"){if(!w.isAtStart)return;const _=w.parent;if(!Gi(_))return;if(Pa.first(_,{sameAttributes:"listType",sameIndent:!0})||_.getAttribute("listIndent")!==0){if(!i||!i.isEnabled)return;i.execute({shouldMergeOnBlocksContentLevel:rD(e.model,"backward")})}else z4(_)||e.execute("splitListItemAfter"),e.execute("outdentList");f.preventDefault(),u.stop()}else{if(m.isCollapsed&&!m.getLastPosition().isAtEnd||!s||!s.isEnabled)return;s.execute({shouldMergeOnBlocksContentLevel:rD(e.model,"forward")}),f.preventDefault(),u.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,i=e.model,s=e.commands,u=s.get("enter");this.listenTo(e.editing.view.document,"enter",(f,m)=>{const w=i.document,_=w.selection.getFirstPosition().parent;if(w.selection.isCollapsed&&Gi(_)&&_.isEmpty&&!m.isSoft){const E=ih(_),T=z4(_);E&&T?(e.execute("outdentList"),m.preventDefault(),f.stop()):E&&!T?(e.execute("splitListItemAfter"),m.preventDefault(),f.stop()):T&&(e.execute("splitListItemBefore"),m.preventDefault(),f.stop())}},{context:"li"}),this.listenTo(u,"afterExecute",()=>{const f=s.get("splitListItemBefore");f.refresh(),f.isEnabled&&nv(e.model.document.selection.getLastPosition().parent).length===2&&f.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(i,s)=>{const u=s.shiftKey?"outdentList":"indentList";this.editor.commands.get(u).isEnabled&&(e.execute(u),s.stopPropagation(),s.preventDefault(),i.stop())},{context:"li"})}_setupConversion(){const e=this.editor,i=e.model,s=this.getListAttributeNames(),u=e.config.get("list.multiBlock"),f=u?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(E,{writer:T})=>T.createElement(f,{listType:""})}).elementToElement({view:"p",model:(E,{writer:T})=>E.parent&&E.parent.is("element","li")?T.createElement(f,{listType:""}):null,converterPriority:"high"}).add(E=>{E.on("element:li",N$()),E.on("element:ul",Q4(),{priority:"high"}),E.on("element:ol",Q4(),{priority:"high"})}),u||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:f,view:Z4(s),converterPriority:"high"}).add(E=>{var T;E.on("attribute",J4(s,this._downcastStrategies,i)),E.on("remove",(T=i.schema,(O,U,K)=>{const{writer:ee,mapper:oe}=K,ke=O.name.split(":")[1];if(!T.checkAttribute(ke,"listItemId"))return;const Se=oe.toViewPosition(U.position),Le=U.position.getShiftedBy(U.length),tt=oe.toViewPosition(Le,{isPhantom:!0}),ft=ee.createRange(Se,tt).getTrimmed().end.nodeBefore;ft&&X4(ft,ee,oe)}))}),e.conversion.for("dataDowncast").elementToElement({model:f,view:Z4(s,{dataPipeline:!0}),converterPriority:"high"}).add(E=>{E.on("attribute",J4(s,this._downcastStrategies,i,{dataPipeline:!0}))});const m=(w=this._downcastStrategies,_=e.editing.view,(E,T)=>{if(T.modelPosition.offset>0)return;const O=T.modelPosition.parent;if(!Gi(O)||!w.some(ke=>ke.scope=="itemMarker"&&ke.canInjectMarkerIntoElement&&ke.canInjectMarkerIntoElement(O)))return;const U=T.mapper.toViewElement(O),K=_.createRangeIn(U),ee=K.getWalker();let oe=K.start;for(const{item:ke}of ee){if(ke.is("element")&&T.mapper.toModelElement(ke)||ke.is("$textProxy"))break;ke.is("element")&&ke.getCustomProperty("listItemMarker")&&(oe=_.createPositionAfter(ke),ee.skip(({previousPosition:Se})=>!Se.isEqual(oe)))}T.viewPosition=oe});var w,_;e.editing.mapper.on("modelToViewPosition",m),e.data.mapper.on("modelToViewPosition",m),this.listenTo(i.document,"change:data",function(E,T,O,U){return()=>{const ke=E.document.differ.getChanges(),Se=[],Le=new Map,tt=new Set;for(const ft of ke)if(ft.type=="insert"&&ft.name!="$text")al(ft.position,Le),ft.attributes.has("listItemId")?tt.add(ft.position.nodeAfter):al(ft.position.getShiftedBy(ft.length),Le);else if(ft.type=="remove"&&ft.attributes.has("listItemId"))al(ft.position,Le);else if(ft.type=="attribute"){const Mt=ft.range.start.nodeAfter;O.includes(ft.attributeKey)?(al(ft.range.start,Le),ft.attributeNewValue===null?(al(ft.range.start.getShiftedBy(1),Le),ee(Mt)&&Se.push(Mt)):tt.add(Mt)):Gi(Mt)&&ee(Mt)&&Se.push(Mt)}for(const ft of Le.values())Se.push(...K(ft,tt));for(const ft of new Set(Se))T.reconvertItem(ft)};function K(ke,Se){const Le=[],tt=new Set,ft=[];for(const{node:Mt,previous:nn}of qm(ke,"forward")){if(tt.has(Mt))continue;const kn=Mt.getAttribute("listIndent");nn&&kn<nn.getAttribute("listIndent")&&(ft.length=kn+1),ft[kn]=Object.fromEntries(Array.from(Mt.getAttributes()).filter(([Yi])=>O.includes(Yi)));const xr=Hu(Mt,{direction:"forward"});for(const Yi of xr)tt.add(Yi),(ee(Yi,xr)||oe(Yi,ft,Se))&&Le.push(Yi)}return Le}function ee(ke,Se){const Le=T.mapper.toViewElement(ke);if(!Le)return!1;if(U.fire("checkElement",{modelElement:ke,viewElement:Le}))return!0;if(!ke.is("element","paragraph")&&!ke.is("element","listItem"))return!1;const tt=eD(ke,O,Se);return!(!tt||!Le.is("element","p"))||!(tt||!Le.is("element","span"))}function oe(ke,Se,Le){if(Le.has(ke))return!1;const tt=T.mapper.toViewElement(ke);let ft=Se.length-1;for(let Mt=tt.parent;!Mt.is("editableElement");Mt=Mt.parent){const nn=B0(Mt),kn=G4(Mt);if(!kn&&!nn)continue;const xr="checkAttributes:"+(nn?"item":"list");if(U.fire(xr,{viewElement:Mt,modelAttributes:Se[ft]}))break;if(kn&&(ft--,ft<0))return!1}return!0}}(i,e.editing,s,this),{priority:"high"}),this.on("checkAttributes:item",(E,{viewElement:T,modelAttributes:O})=>{T.id!=O.listItemId&&(E.return=!0,E.stop())}),this.on("checkAttributes:list",(E,{viewElement:T,modelAttributes:O})=>{T.name==Y4(O.listType)&&T.id==K4(O.listType,O.listIndent)||(E.return=!0,E.stop())})}_setupModelPostFixing(){const e=this.editor.model,i=this.getListAttributeNames();e.document.registerPostFixer(s=>function(u,f,m,w){const _=u.document.differ.getChanges(),E=new Map,T=w.editor.config.get("list.multiBlock");let O=!1;for(const K of _){if(K.type=="insert"&&K.name!="$text"){const ee=K.position.nodeAfter;if(!u.schema.checkAttribute(ee,"listItemId"))for(const oe of Array.from(ee.getAttributeKeys()))m.includes(oe)&&(f.removeAttribute(oe,ee),O=!0);al(K.position,E),K.attributes.has("listItemId")||al(K.position.getShiftedBy(K.length),E);for(const{item:oe,previousPosition:ke}of u.createRangeIn(ee))Gi(oe)&&al(ke,E)}else K.type=="remove"?al(K.position,E):K.type=="attribute"&&m.includes(K.attributeKey)&&(al(K.range.start,E),K.attributeNewValue===null&&al(K.range.start.getShiftedBy(1),E));if(!T&&K.type=="attribute"&&F0.includes(K.attributeKey)){const ee=K.range.start.nodeAfter;K.attributeNewValue===null&&ee&&ee.is("element","listItem")?(f.rename(ee,"paragraph"),O=!0):K.attributeOldValue===null&&ee&&ee.is("element")&&ee.name!="listItem"&&(f.rename(ee,"listItem"),O=!0)}}const U=new Set;for(const K of E.values())O=w.fire("postFixer",{listNodes:new p$(K),listHead:K,writer:f,seenIds:U})||O;return O}(e,s,i,this)),this.on("postFixer",(s,{listNodes:u,writer:f})=>{s.return=function(m,w){let _=0,E=-1,T=null,O=!1;for(const{node:U}of m){const K=U.getAttribute("listIndent");if(K>_){let ee;T===null?(T=K-_,ee=_):(T>K&&(T=K),ee=K-T),ee>E+1&&(ee=E+1),w.setAttribute("listIndent",ee,U),O=!0,E=ee}else T=null,_=K+1,E=K}return O}(u,f)||s.return},{priority:"high"}),this.on("postFixer",(s,{listNodes:u,writer:f,seenIds:m})=>{s.return=function(w,_,E){const T=new Set;let O=!1;for(const{node:U}of w){if(T.has(U))continue;let K=U.getAttribute("listType"),ee=U.getAttribute("listItemId");if(_.has(ee)&&(ee=Rf.next()),_.add(ee),U.is("element","listItem"))U.getAttribute("listItemId")!=ee&&(E.setAttribute("listItemId",ee,U),O=!0);else for(const oe of Hu(U,{direction:"forward"}))T.add(oe),oe.getAttribute("listType")!=K&&(ee=Rf.next(),K=oe.getAttribute("listType")),oe.getAttribute("listItemId")!=ee&&(E.setAttribute("listItemId",ee,oe),O=!0)}return O}(u,m,f)||s.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,i=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(s){return(u,[f,m])=>{const w=f.is("documentFragment")?Array.from(f.getChildren()):[f];if(!w.length)return;const _=(m?s.createSelection(m):s.document.selection).getFirstPosition();let E;if(Gi(_.parent))E=_.parent;else{if(!Gi(_.nodeBefore))return;E=_.nodeBefore}s.change(T=>{const O=E.getAttribute("listType"),U=E.getAttribute("listIndent"),K=w[0].getAttribute("listIndent")||0,ee=Math.max(U-K,0);for(const oe of w){const ke=Gi(oe);E.is("element","listItem")&&oe.is("element","paragraph")&&T.rename(oe,"listItem"),T.setAttributes({listIndent:(ke?oe.getAttribute("listIndent"):0)+ee,listItemId:ke?oe.getAttribute("listItemId"):Rf.next(),listType:O},oe)}})}}(e),{priority:"high"}),this.listenTo(i,"outputTransformation",(s,u)=>{e.change(f=>{const m=Array.from(u.content.getChildren()),w=m[m.length-1];if(m.length>1&&w.is("element")&&w.isEmpty&&m.slice(0,-1).every(Gi)&&f.remove(w),u.method=="copy"||u.method=="cut"){const _=Array.from(u.content.getChildren());Hm(_)&&L0(_,f)}})})}_setupAccessibilityIntegration(){const e=this.editor,i=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:i("Keystrokes that can be used in a list"),keystrokes:[{label:i("Increase list item indent"),keystroke:"Tab"},{label:i("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function rD(c,e){const i=c.document.selection;if(!i.isCollapsed)return!Wm(c);if(e==="forward")return!0;const s=i.getFirstPosition().parent,u=s.previousSibling;return!c.schema.isObject(u)&&(!!u.isEmpty||Hm([s,u]))}function iD(c,e,i,s){c.ui.componentFactory.add(e,()=>{const u=oD(Hn,c,e,i,s);return u.set({tooltip:!0,isToggleable:!0}),u}),c.ui.componentFactory.add(`menuBar:${e}`,()=>oD($s,c,e,i,s))}function oD(c,e,i,s,u){const f=e.commands.get(i),m=new c(e.locale);return m.set({label:s,icon:u}),m.bind("isOn","isEnabled").to(f,"value","isEnabled"),m.on("execute",()=>{e.execute(i),e.editing.view.focus()}),m}class j$ extends ct{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||iD(this.editor,"numberedList",e("Numbered List"),hn.numberedList),this.editor.ui.componentFactory.has("bulletedList")||iD(this.editor,"bulletedList",e("Bulleted List"),hn.bulletedList)}}class L$ extends ct{static get requires(){return[O$,j$]}static get pluginName(){return"List"}}const R$=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:c,typeAttribute:e,listType:i}of R$);var sD=a(9968),B$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(sD.A,B$),sD.A.locals;var aD=a(7141),F$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(aD.A,F$),aD.A.locals,Xa("Ctrl+Enter");var lD=a(8991),z$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(lD.A,z$),lD.A.locals,Xa("Ctrl+Enter");function cD(c,e){const i=(s,u,f)=>{if(!f.consumable.consume(u.item,s.name))return;const m=u.attributeNewValue,w=f.writer,_=f.mapper.toViewElement(u.item),E=[..._.getChildren()].find(O=>O.getCustomProperty("media-content"));w.remove(E);const T=c.getMediaViewElement(w,m,e);w.insert(w.createPositionAt(_,0),T)};return s=>{s.on("attribute:url:media",i)}}function uD(c,e,i,s){return c.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(c,i,s),c.createSlot()])}function dD(c){const e=c.getSelectedElement();return e&&e.is("element","media")?e:null}function hD(c,e,i,s){c.change(u=>{const f=u.createElement("media",{url:e});c.insertObject(f,i,null,{setSelection:"on",findOptimalPosition:s?"auto":void 0})})}class U$ extends Wt{refresh(){const e=this.editor.model,i=e.document.selection,s=dD(i);this.value=s?s.getAttribute("url"):void 0,this.isEnabled=function(u){const f=u.getSelectedElement();return!!f&&f.name==="media"}(i)||function(u,f){let w=pE(u,f).start.parent;return w.isEmpty&&!f.schema.isLimit(w)&&(w=w.parent),f.schema.checkChild(w,"media")}(i,e)}execute(e){const i=this.editor.model,s=i.document.selection,u=dD(s);u?i.change(f=>{f.setAttribute("url",e,u)}):hD(i,e,s,!0)}}class q${constructor(e,i){const s=i.providers,u=i.extraProviders||[],f=new Set(i.removeProviders),m=s.concat(u).filter(w=>{const _=w.name;return _?!f.has(_):(L("media-embed-no-provider-name",{provider:w}),!1)});this.locale=e,this.providerDefinitions=m}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,i,s){return this._getMedia(i).getViewElement(e,s)}_getMedia(e){if(!e)return new fD(this.locale);e=e.trim();for(const i of this.providerDefinitions){const s=i.html,u=ir(i.url);for(const f of u){const m=this._getUrlMatches(e,f);if(m)return new fD(this.locale,e,m,s)}}return null}_getUrlMatches(e,i){let s=e.match(i);if(s)return s;let u=e.replace(/^https?:\/\//,"");return s=u.match(i),s||(u=u.replace(/^www\./,""),s=u.match(i),s||null)}}class fD{constructor(e,i,s,u){this.url=this._getValidUrl(i),this._locale=e,this._match=s,this._previewRenderer=u}getViewElement(e,i){const s={};let u;if(i.renderForEditingView||i.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(s["data-oembed-url"]=this.url),i.renderForEditingView&&(s.class="ck-media__wrapper");const f=this._getPreviewHtml(i);u=e.createRawElement("div",s,(m,w)=>{w.setContentOf(m,f)})}else this.url&&(s.url=this.url),u=e.createEmptyElement(i.elementName,s);return e.setCustomProperty("media-content",!0,u),u}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new Hc,i=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new I({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":i("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var pD=a(7048),V$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(pD.A,V$),pD.A.locals;class z0 extends ct{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:i=>{const s=i[1],u=i[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${s}${u?`?start=${u}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new q$(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,i=e.model.schema,s=e.t,u=e.conversion,f=e.config.get("mediaEmbed.previewsInData"),m=e.config.get("mediaEmbed.elementName"),w=this.registry;e.commands.add("mediaEmbed",new U$(e)),i.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),u.for("dataDowncast").elementToStructure({model:"media",view:(_,{writer:E})=>{const T=_.getAttribute("url");return uD(E,w,T,{elementName:m,renderMediaPreview:!!T&&f})}}),u.for("dataDowncast").add(cD(w,{elementName:m,renderMediaPreview:f})),u.for("editingDowncast").elementToStructure({model:"media",view:(_,{writer:E})=>{const T=_.getAttribute("url");return function(O,U,K){return U.setCustomProperty("media",!0,O),Ry(O,U,{label:K})}(uD(E,w,T,{elementName:m,renderForEditingView:!0}),E,s("media widget"))}}),u.for("editingDowncast").add(cD(w,{elementName:m,renderForEditingView:!0})),u.for("upcast").elementToElement({view:_=>["oembed",m].includes(_.name)&&_.getAttribute("url")?{name:!0}:null,model:(_,{writer:E})=>{const T=_.getAttribute("url");return w.hasMedia(T)?E.createElement("media",{url:T}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(_,{writer:E})=>{const T=_.getAttribute("data-oembed-url");return w.hasMedia(T)?E.createElement("media",{url:T}):null}}).add(_=>{_.on("element:figure",(E,T,O)=>{if(!O.consumable.consume(T.viewItem,{name:!0,classes:"media"}))return;const{modelRange:U,modelCursor:K}=O.convertChildren(T.viewItem,T.modelCursor);T.modelRange=U,T.modelCursor=K,ji(U.getItems())||O.consumable.revert(T.viewItem,{name:!0,classes:"media"})})})}}const $$=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class H$ extends ct{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[PE,Yc,BE]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,i=e.model.document,s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",()=>{const u=i.selection.getFirstRange(),f=yo.fromPosition(u.start);f.stickiness="toPrevious";const m=yo.fromPosition(u.end);m.stickiness="toNext",i.once("change:data",()=>{this._embedMediaBetweenPositions(f,m),f.detach(),m.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(h.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,i){const s=this.editor,u=s.plugins.get(z0).registry,f=new qs(e,i),m=f.getWalker({ignoreElementEnd:!0});let w="";for(const _ of m)_.item.is("$textProxy")&&(w+=_.item.data);if(w=w.trim(),!w.match($$)||!u.hasMedia(w))return void f.detach();s.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=yo.fromPosition(e),this._timeoutId=h.window.setTimeout(()=>{s.model.change(_=>{this._timeoutId=null,_.remove(f),f.detach();let E=null;this._positionToInsert.root.rootName!=="$graveyard"&&(E=this._positionToInsert),hD(s.model,w,E,!1),this._positionToInsert.detach(),this._positionToInsert=null}),s.plugins.get(Yc).requestUndoOnBackspace()},100)):f.detach()}}var mD=a(5651),W$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(mD.A,W$),mD.A.locals;class G$ extends Nt{constructor(e,i){super(i);const s=i.t;this.focusTracker=new Li,this.keystrokes=new fo,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(s("Save"),hn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),hn.cancel,"ck-button-cancel","cancel"),this._focusables=new Jo,this._focusCycler=new Ta({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),xn({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,i=new a0(this.locale,u0),s=i.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),i.label=e("Media URL"),i.infoText=this._urlInputViewInfoDefault,s.on("input",()=>{i.infoText=s.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=s.element.value.trim()}),i}_createButton(e,i,s,u){const f=new Hn(this.locale);return f.set({label:e,icon:i,tooltip:!0}),f.extendTemplate({attributes:{class:s}}),u&&f.delegate("execute").to(this,u),f}}class Y$ extends ct{static get requires(){return[z0]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,i=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",s=>{const u=Wc(s);return this._setUpDropdown(u,i),u})}_setUpDropdown(e,i){const s=this.editor,u=s.t,f=e.buttonView,m=s.plugins.get(z0).registry;e.once("change:isOpen",()=>{const w=new(On(G$))(function(_,E){return[T=>{if(!T.url.length)return _("The URL must not be empty.")},T=>{if(!E.hasMedia(T.url))return _("This media URL is not supported.")}]}(s.t,m),s.locale);e.panelView.children.add(w),f.on("open",()=>{w.disableCssTransitions(),w.url=i.value||"",w.urlInputView.fieldView.select(),w.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{w.isValid()&&(s.execute("mediaEmbed",w.url),s.editing.view.focus())}),e.on("change:isOpen",()=>w.resetFormStatus()),e.on("cancel",()=>{s.editing.view.focus()}),w.delegate("submit","cancel").to(e),w.urlInputView.fieldView.bind("value").to(i,"value"),w.urlInputView.on("change:errorText",()=>{s.ui.update()}),w.urlInputView.bind("isEnabled").to(i,"isEnabled")}),e.bind("isEnabled").to(i),f.set({label:u("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var gD=a(70),K$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(gD.A,K$),gD.A.locals;function bD(c){return c!==void 0&&c.endsWith("px")}function Bf(c){return c.toFixed(2).replace(/\.?0+$/,"")+"px"}var Q$=Object.defineProperty,J$=Object.defineProperties,Z$=Object.getOwnPropertyDescriptors,kD=Object.getOwnPropertySymbols,X$=Object.prototype.hasOwnProperty,eH=Object.prototype.propertyIsEnumerable,wD=(c,e,i)=>e in c?Q$(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,tH=(c,e)=>{for(var i in e||(e={}))X$.call(e,i)&&wD(c,i,e[i]);if(kD)for(var i of kD(e))eH.call(e,i)&&wD(c,i,e[i]);return c};function nH(c,e,i){if(!c.childCount)return;const s=new $c(c.document),u=function(_,E){const T=E.createRangeIn(_),O=[],U=new Set;for(const K of T.getItems()){if(!K.is("element")||!K.name.match(/^(p|h\d+|li|div)$/))continue;let ee=uH(K);if(ee===void 0||parseFloat(ee)!=0||Array.from(K.getClassNames()).find(oe=>oe.startsWith("MsoList"))||(ee=void 0),K.hasStyle("mso-list")||ee!==void 0&&U.has(ee)){const oe=lH(K);O.push({element:K,id:oe.id,order:oe.order,indent:oe.indent,marginLeft:ee}),ee!==void 0&&U.add(ee)}else U.clear()}return O}(c,s);if(!u.length)return;const f={},m=[];for(const _ of u)if(_.indent!==void 0){rH(_)||(m.length=0);const E=`${_.id}:${_.indent}`,T=Math.min(_.indent-1,m.length);if(T<m.length&&m[T].id!==_.id&&(m.length=T),T<m.length-1)m.length=T+1;else{const U=oH(_,e);if(T>m.length-1||m[T].listElement.name!=U.type){T==0&&U.type=="ol"&&_.id!==void 0&&f[E]&&(U.startIndex=f[E]);const K=aH(U,s,i);if(bD(_.marginLeft)&&(T==0||bD(m[T-1].marginLeft))){let ee=_.marginLeft;T>0&&(ee=Bf(parseFloat(ee)-parseFloat(m[T-1].marginLeft))),s.setStyle("padding-left",ee,K)}if(m.length==0){const ee=_.element.parent,oe=ee.getChildIndex(_.element)+1;s.insertChild(oe,K,ee)}else{const ee=m[T-1].listItemElements;s.appendChild(K,ee[ee.length-1])}m[T]=(w=tH({},_),J$(w,Z$({listElement:K,listItemElements:[]}))),T==0&&_.id!==void 0&&(f[E]=U.startIndex||1)}}const O=_.element.name=="li"?_.element:s.createElement("li");s.appendChild(O,m[T].listElement),m[T].listItemElements.push(O),T==0&&_.id!==void 0&&f[E]++,_.element!=O&&s.appendChild(_.element,O),cH(_.element,s),s.removeStyle("text-indent",_.element),s.removeStyle("margin-left",_.element)}else{const E=m.find(T=>T.marginLeft==_.marginLeft);if(E){const T=E.listItemElements;s.appendChild(_.element,T[T.length-1]),s.removeStyle("margin-left",_.element)}else m.length=0}var w}function rH(c){const e=c.element.previousSibling;return iH(e||c.element.parent)}function iH(c){return c.is("element","ol")||c.is("element","ul")}function oH(c,e){const i=new RegExp(`@list l${c.id}:level${c.indent}\\s*({[^}]*)`,"gi"),s=/mso-level-number-format:([^;]{0,100});/gi,u=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,f=new RegExp(`@list\\s+l${c.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),m=new RegExp(`@list l${c.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),w=f.exec(e),_=m.exec(e),E=w&&!_,T=i.exec(e);let O="decimal",U="ol",K=null;if(T&&T[1]){const ee=s.exec(T[1]);if(ee&&ee[1]&&(O=ee[1].trim(),U=O!=="bullet"&&O!=="image"?"ol":"ul"),O==="bullet"){const oe=function(ke){if(ke.name=="li"&&ke.parent.name=="ul"&&ke.parent.hasAttribute("type"))return ke.parent.getAttribute("type");const Se=function(tt){if(tt.getChild(0).is("$text"))return null;for(const ft of tt.getChildren()){if(!ft.is("element","span"))continue;const Mt=ft.getChild(0);if(Mt)return Mt.is("$text")?Mt:Mt.getChild(0)}return null}(ke);if(!Se)return null;const Le=Se._data;return Le==="o"?"circle":Le==="Â·"?"disc":Le==="Â§"?"square":null}(c.element);oe&&(O=oe)}else{const oe=u.exec(T[1]);oe&&oe[1]&&(K=parseInt(oe[1]))}E&&(U="ol")}return{type:U,startIndex:K,style:sH(O),isLegalStyleList:E}}function sH(c){if(c.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(c){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return c;default:return null}}function aH(c,e,i){const s=e.createElement(c.type);return c.style&&e.setStyle("list-style-type",c.style,s),c.startIndex&&c.startIndex>1&&e.setAttribute("start",c.startIndex,s),c.isLegalStyleList&&i&&e.addClass("legal-list",s),s}function lH(c){const e=c.getStyle("mso-list");if(e===void 0)return{};const i=e.match(/(^|\s{1,100})l(\d+)/i),s=e.match(/\s{0,100}lfo(\d+)/i),u=e.match(/\s{0,100}level(\d+)/i);return i&&s&&u?{id:i[2],order:s[1],indent:parseInt(u[1])}:{indent:1}}function cH(c,e){const i=new ko({name:"span",styles:{"mso-list":"Ignore"}}),s=e.createRangeIn(c);for(const u of s)u.type==="elementStart"&&i.match(u.item)&&e.remove(u.item)}function uH(c){const e=c.getStyle("margin-left");return e===void 0||e.endsWith("px")?e:function(i){const s=parseFloat(i);return i.endsWith("pt")?Bf(96*s/72):i.endsWith("pc")?Bf(12*s*96/72):i.endsWith("in")?Bf(96*s):i.endsWith("cm")?Bf(96*s/2.54):i.endsWith("mm")?Bf(s/10*96/2.54):i}(e)}function dH(c,e){if(!c.childCount)return;const i=new $c(c.document),s=function(f,m){const w=m.createRangeIn(f),_=new ko({name:/v:(.+)/}),E=[];for(const T of w){if(T.type!="elementStart")continue;const O=T.item,U=O.previousSibling,K=U&&U.is("element")?U.name:null,ee=["Chart"],oe=_.match(O),ke=O.getAttribute("o:gfxdata"),Se=K==="v:shapetype",Le=ke&&ee.some(tt=>O.getAttribute("id").includes(tt));oe&&ke&&!Se&&!Le&&E.push(T.item.getAttribute("id"))}return E}(c,i);(function(f,m,w){const _=w.createRangeIn(m),E=new ko({name:"img"}),T=[];for(const O of _)if(O.item.is("element")&&E.match(O.item)){const U=O.item,K=U.getAttribute("v:shapes")?U.getAttribute("v:shapes").split(" "):[];K.length&&K.every(ee=>f.indexOf(ee)>-1)?T.push(U):U.getAttribute("src")||T.push(U)}for(const O of T)w.remove(O)})(s,c,i),function(f,m,w){const _=w.createRangeIn(m),E=[];for(const U of _)if(U.type=="elementStart"&&U.item.is("element","v:shape")){const K=U.item.getAttribute("id");if(f.includes(K))continue;T(U.item.parent.getChildren(),K)||E.push(U.item)}for(const U of E){const K={src:O(U)};U.hasAttribute("alt")&&(K.alt=U.getAttribute("alt"));const ee=w.createElement("img",K);w.insertChild(U.index+1,ee,U.parent)}function T(U,K){for(const ee of U)if(ee.is("element")&&(ee.name=="img"&&ee.getAttribute("v:shapes")==K||T(ee.getChildren(),K)))return!0;return!1}function O(U){for(const K of U.getChildren())if(K.is("element")&&K.getAttribute("src"))return K.getAttribute("src")}}(s,c,i),function(f,m){const w=m.createRangeIn(f),_=new ko({name:/v:(.+)/}),E=[];for(const T of w)T.type=="elementStart"&&_.match(T.item)&&E.push(T.item);for(const T of E)m.remove(T)}(c,i);const u=function(f,m){const w=m.createRangeIn(f),_=new ko({name:"img"}),E=[];for(const T of w)T.item.is("element")&&_.match(T.item)&&T.item.getAttribute("src").startsWith("file://")&&E.push(T.item);return E}(c,i);u.length&&function(f,m,w){if(f.length===m.length)for(let _=0;_<f.length;_++){const E=`data:${m[_].type};base64,${hH(m[_].hex)}`;w.setAttribute("src",E,f[_])}}(u,function(f){if(!f)return[];const m=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,w=new RegExp("(?:("+m.source+"))([\\da-fA-F\\s]+)\\}","g"),_=f.match(w),E=[];if(_)for(const T of _){let O=!1;T.includes("\\pngblip")?O="image/png":T.includes("\\jpegblip")&&(O="image/jpeg"),O&&E.push({hex:T.replace(m,"").replace(/[^\da-fA-F]/g,""),type:O})}return E}(e),i)}function hH(c){return btoa(c.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const fH=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,pH=/xmlns:o="urn:schemas-microsoft-com/i;class mH{constructor(e,i=!1){this.document=e,this.hasMultiLevelListPlugin=i}isActive(e){return fH.test(e)||pH.test(e)}execute(e){const{body:i,stylesString:s}=e._parsedData;nH(i,s,this.hasMultiLevelListPlugin),dH(i,e.dataTransfer.getData("text/rtf")),function(u){const f=[],m=new $c(u.document);for(const{item:w}of m.createRangeIn(u))if(w.is("element")){for(const _ of w.getClassNames())/\bmso/gi.exec(_)&&m.removeClass(_,w);for(const _ of w.getStyleNames())/\bmso/gi.exec(_)&&m.removeStyle(_,w);(w.is("element","w:sdt")||w.is("element","w:sdtpr")&&w.isEmpty||w.is("element","o:p")&&w.isEmpty)&&f.push(w)}for(const w of f){const _=w.parent,E=_.getChildIndex(w);m.insertChild(E,w.getChildren(),_),m.remove(w)}}(i),e.content=i}}function yD(c,e,i,{blockElements:s,inlineObjectElements:u}){let f=i.createPositionAt(c,e=="forward"?"after":"before");return f=f.getLastMatchingPosition(({item:m})=>m.is("element")&&!s.includes(m.name)&&!u.includes(m.name),{direction:e}),e=="forward"?f.nodeAfter:f.nodeBefore}function vD(c,e){return!!c&&c.is("element")&&e.includes(c.name)}const gH=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class bH{constructor(e){this.document=e}isActive(e){return gH.test(e)}execute(e){const i=new $c(this.document),{body:s}=e._parsedData;(function(u,f){for(const m of u.getChildren())if(m.is("element","b")&&m.getStyle("font-weight")==="normal"){const w=u.getChildIndex(m);f.remove(m),f.insertChild(w,m.getChildren(),u)}})(s,i),function(u,f){for(const m of f.createRangeIn(u)){const w=m.item;if(w.is("element","li")){const _=w.getChild(0);_&&_.is("element","p")&&f.unwrapElement(_)}}}(s,i),function(u,f){const m=new Wb(f.document.stylesProcessor),w=new Kb(m,{renderingMode:"data"}),_=w.blockElements,E=w.inlineObjectElements,T=[];for(const O of f.createRangeIn(u)){const U=O.item;if(U.is("element","br")){const K=yD(U,"forward",f,{blockElements:_,inlineObjectElements:E}),ee=yD(U,"backward",f,{blockElements:_,inlineObjectElements:E}),oe=vD(K,_);(vD(ee,_)||oe)&&T.push(U)}}for(const O of T)O.hasClass("Apple-interchange-newline")?f.remove(O):f.replace(O,f.createElement("p"))}(s,i),e.content=s}}const kH=/<google-sheets-html-origin/i;class wH{constructor(e){this.document=e}isActive(e){return kH.test(e)}execute(e){const i=new $c(this.document),{body:s}=e._parsedData;(function(u,f){for(const m of u.getChildren())if(m.is("element","google-sheets-html-origin")){const w=u.getChildIndex(m);f.remove(m),f.insertChild(w,m.getChildren(),u)}})(s,i),function(u,f){for(const m of u.getChildren())m.is("element","table")&&m.hasAttribute("xmlns")&&f.removeAttribute("xmlns",m)}(s,i),function(u,f){for(const m of u.getChildren())m.is("element","table")&&m.getStyle("width")==="0px"&&f.removeStyle("width",m)}(s,i),function(u,f){for(const m of Array.from(u.getChildren()))m.is("element","style")&&f.remove(m)}(s,i),e.content=s}}function AD(c){return c.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,i)=>i.length===1?" ":Array(i.length+1).join("Â  ").substr(0,i.length))}function yH(c,e){const i=new DOMParser,s=function(_){return AD(AD(_)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"Â </").replace(/ <o:p><\/o:p>/g,"Â <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(_){const E="</body>",T="</html>",O=_.indexOf(E);if(O<0)return _;const U=_.indexOf(T,O+E.length);return _.substring(0,O+E.length)+(U>=0?_.substring(U):"")}(c=(c=c.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),u=i.parseFromString(s,"text/html");(function(_){_.querySelectorAll("span[style*=spacerun]").forEach(E=>{const T=E,O=T.innerText.length||0;T.innerText=Array(O+1).join("Â  ").substr(0,O)})})(u);const f=u.body.innerHTML,m=function(_,E){const T=new Wb(E),O=new Kb(T,{renderingMode:"data"}),U=_.createDocumentFragment(),K=_.body.childNodes;for(;K.length>0;)U.appendChild(K[0]);return O.domToView(U,{skipComments:!0})}(u,e),w=function(_){const E=[],T=[],O=Array.from(_.getElementsByTagName("style"));for(const U of O)U.sheet&&U.sheet.cssRules&&U.sheet.cssRules.length&&(E.push(U.sheet),T.push(U.innerHTML));return{styles:E,stylesString:T.join(" ")}}(u);return{body:m,bodyString:f,styles:w.styles,stylesString:w.stylesString}}function li(c,e,i,s,u=1){e!=null&&u!=null&&e>u?s.setAttribute(c,e,i):s.removeAttribute(c,i)}function sh(c,e,i={}){const s=c.createElement("tableCell",i);return c.insertElement("paragraph",s),c.insert(s,e),s}function cv(c,e){const i=e.parent.parent,s=parseInt(i.getAttribute("headingColumns")||"0"),{column:u}=c.getCellLocation(e);return!!s&&u<s}function vH(){return c=>{c.on("element:table",(e,i,s)=>{const u=i.viewItem;if(!s.consumable.test(u,{name:!0}))return;const{rows:f,headingRows:m,headingColumns:w}=function(T){let O,U=0;const K=[],ee=[];let oe;for(const ke of Array.from(T.getChildren())){if(ke.name!=="tbody"&&ke.name!=="thead"&&ke.name!=="tfoot")continue;ke.name!=="thead"||oe||(oe=ke);const Se=Array.from(ke.getChildren()).filter(Le=>Le.is("element","tr"));for(const Le of Se)if(oe&&ke===oe||ke.name==="tbody"&&Array.from(Le.getChildren()).length&&Array.from(Le.getChildren()).every(tt=>tt.is("element","th")))U++,K.push(Le);else{ee.push(Le);const tt=AH(Le);(!O||tt<O)&&(O=tt)}}return{headingRows:U,headingColumns:O||0,rows:[...K,...ee]}}(u),_={};w&&(_.headingColumns=w),m&&(_.headingRows=m);const E=s.writer.createElement("table",_);if(s.safeInsert(E,i.modelCursor)){if(s.consumable.consume(u,{name:!0}),f.forEach(T=>s.convertItem(T,s.writer.createPositionAt(E,"end"))),s.convertChildren(u,s.writer.createPositionAt(E,"end")),E.isEmpty){const T=s.writer.createElement("tableRow");s.writer.insert(T,s.writer.createPositionAt(E,"end")),sh(s.writer,s.writer.createPositionAt(T,"end"))}s.updateConversionResult(E,i)}})}}function _D(c){return e=>{e.on(`element:${c}`,(i,s,{writer:u})=>{if(!s.modelRange)return;const f=s.modelRange.start.nodeAfter,m=u.createPositionAt(f,0);if(s.viewItem.isEmpty)return void u.insertElement("paragraph",m);const w=Array.from(f.getChildren());if(w.every(_=>_.is("element","$marker"))){const _=u.createElement("paragraph");u.insert(_,u.createPositionAt(f,0));for(const E of w)u.move(u.createRangeOn(E),u.createPositionAt(_,"end"))}},{priority:"low"})}}function AH(c){let e=0,i=0;const s=Array.from(c.getChildren()).filter(u=>u.name==="th"||u.name==="td");for(;i<s.length&&s[i].name==="th";){const u=s[i];e+=parseInt(u.getAttribute("colspan")||"1"),i++}return e}class cr{constructor(e,i={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=i.row!==void 0?i.row:i.startRow||0,this._endRow=i.row!==void 0?i.row:i.endRow,this._startColumn=i.column!==void 0?i.column:i.startColumn||0,this._endColumn=i.column!==void 0?i.column:i.endColumn,this._includeAllSlots=!!i.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let i=null;const s=this._getSpanned();if(s)this._includeAllSlots&&!this._shouldSkipSlot()&&(i=this._formatOutValue(s.cell,s.row,s.column));else{const u=e.getChild(this._cellIndex);if(!u)return this._advanceToNextRow();const f=parseInt(u.getAttribute("colspan")||"1"),m=parseInt(u.getAttribute("rowspan")||"1");(f>1||m>1)&&this._recordSpans(u,m,f),this._shouldSkipSlot()||(i=this._formatOutValue(u)),this._nextCellAtColumn=this._column+f}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,i||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,i=this._row,s=this._column){return{done:!1,value:new _H(this,e,i,s)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),i=this._row<this._startRow,s=this._column<this._startColumn,u=this._endColumn!==void 0&&this._column>this._endColumn;return e||i||s||u}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,i,s){const u={cell:e,row:this._row,column:this._column};for(let f=this._row;f<this._row+i;f++)for(let m=this._column;m<this._column+s;m++)f==this._row&&m==this._column||this._markSpannedCell(f,m,u)}_markSpannedCell(e,i,s){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(i,s)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let i=this._startRow;!this._jumpedToStartRow;i--)e===this._getRowLength(i)&&(this._row=i,this._rowIndex=i,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((i,s)=>i+parseInt(s.getAttribute("colspan")||"1"),0)}}class _H{constructor(e,i,s,u){this.cell=i,this.row=e._row,this.column=e._column,this.cellAnchorRow=s,this.cellAnchorColumn=u,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function CD(c,e){return(i,{writer:s})=>{const u=i.getAttribute("headingRows")||0,f=s.createContainerElement("table",null,[]),m=s.createContainerElement("figure",{class:"table"},f);u>0&&s.insert(s.createPositionAt(f,"end"),s.createContainerElement("thead",null,s.createSlot(w=>w.is("element","tableRow")&&w.index<u))),u<c.getRows(i)&&s.insert(s.createPositionAt(f,"end"),s.createContainerElement("tbody",null,s.createSlot(w=>w.is("element","tableRow")&&w.index>=u)));for(const{positionOffset:w,filter:_}of e.additionalSlots)s.insert(s.createPositionAt(f,w),s.createSlot(_));return s.insert(s.createPositionAt(f,"after"),s.createSlot(w=>!w.is("element","tableRow")&&!e.additionalSlots.some(({filter:_})=>_(w)))),e.asWidget?function(w,_){return _.setCustomProperty("table",!0,w),Ry(w,_,{hasSelectionHandle:!0})}(m,s):m}}function xD(c={}){return(e,{writer:i})=>{const s=e.parent,u=s.parent,f=u.getChildIndex(s),m=new cr(u,{row:f}),w=u.getAttribute("headingRows")||0,_=u.getAttribute("headingColumns")||0;let E=null;for(const T of m)if(T.cell==e){const O=T.row<w||T.column<_?"th":"td";E=c.asWidget?fE(i.createEditableElement(O),i):i.createContainerElement(O);break}return E}}function SD(c={}){return(e,{writer:i})=>{if(!e.parent.is("element","tableCell")||!ED(e))return null;if(c.asWidget)return i.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const s=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,s),s}}}function ED(c){return c.parent.childCount==1&&!!c.getAttributeKeys().next().done}class CH extends Wt{refresh(){const e=this.editor.model,i=e.document.selection,s=e.schema;this.isEnabled=function(u,f){const m=u.getFirstPosition().parent,w=m===m.root?m:m.parent;return f.checkChild(w,"table")}(i,s)}execute(e={}){const i=this.editor,s=i.model,u=i.plugins.get("TableUtils"),f=i.config.get("table.defaultHeadings.rows"),m=i.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&f&&(e.headingRows=f),e.headingColumns===void 0&&m&&(e.headingColumns=m),s.change(w=>{const _=u.createTable(w,e);s.insertObject(_,null,null,{findOptimalPosition:"auto"}),w.setSelection(w.createPositionAt(_.getNodeByPath([0,0,0]),0))})}}class DD extends Wt{constructor(e,i={}){super(e),this.order=i.order||"below"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,s=e.plugins.get("TableUtils"),u=this.order==="above",f=s.getSelectionAffectedTableCells(i),m=s.getRowIndexes(f),w=u?m.first:m.last,_=f[0].findAncestor("table");s.insertRows(_,{at:u?w:w+1,copyStructureFromAbove:!u})}}class ID extends Wt{constructor(e,i={}){super(e),this.order=i.order||"right"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,s=e.plugins.get("TableUtils"),u=this.order==="left",f=s.getSelectionAffectedTableCells(i),m=s.getColumnIndexes(f),w=u?m.first:m.last,_=f[0].findAncestor("table");s.insertColumns(_,{columns:1,at:u?w:w+1})}}class TD extends Wt{constructor(e,i={}){super(e),this.direction=i.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(i,2):e.splitCellVertically(i,2)}}function ND(c,e,i){const{startRow:s,startColumn:u,endRow:f,endColumn:m}=e,w=i.createElement("table"),_=f-s+1;for(let T=0;T<_;T++)i.insertElement("tableRow",w,"end");const E=[...new cr(c,{startRow:s,endRow:f,startColumn:u,endColumn:m,includeAllSlots:!0})];for(const{row:T,column:O,cell:U,isAnchor:K,cellAnchorRow:ee,cellAnchorColumn:oe}of E){const ke=T-s,Se=w.getChild(ke);if(K){const Le=i.cloneElement(U);i.append(Le,Se),LD(Le,T,O,f,m,i)}else(ee<s||oe<u)&&sh(i,i.createPositionAt(Se,"end"))}return function(T,O,U,K,ee){const oe=parseInt(O.getAttribute("headingRows")||"0");oe>0&&li("headingRows",oe-U,T,ee,0);const ke=parseInt(O.getAttribute("headingColumns")||"0");ke>0&&li("headingColumns",ke-K,T,ee,0)}(w,c,s,u,i),w}function MD(c,e,i=0){const s=[],u=new cr(c,{startRow:i,endRow:e-1});for(const f of u){const{row:m,cellHeight:w}=f;m<e&&e<=m+w-1&&s.push(f)}return s}function PD(c,e,i){const s=c.parent,u=s.parent,f=s.index,m=e-f,w={},_=parseInt(c.getAttribute("rowspan"))-m;_>1&&(w.rowspan=_);const E=parseInt(c.getAttribute("colspan")||"1");E>1&&(w.colspan=E);const T=f+m,O=[...new cr(u,{startRow:f,endRow:T,includeAllSlots:!0})];let U,K=null;for(const ee of O){const{row:oe,column:ke,cell:Se}=ee;Se===c&&U===void 0&&(U=ke),U!==void 0&&U===ke&&oe===T&&(K=sh(i,ee.getPositionBefore(),w))}return li("rowspan",m,c,i),K}function OD(c,e){const i=[],s=new cr(c);for(const u of s){const{column:f,cellWidth:m}=u;f<e&&e<=f+m-1&&i.push(u)}return i}function jD(c,e,i,s){const u=i-e,f={},m=parseInt(c.getAttribute("colspan"))-u;m>1&&(f.colspan=m);const w=parseInt(c.getAttribute("rowspan")||"1");w>1&&(f.rowspan=w);const _=sh(s,s.createPositionAfter(c),f);return li("colspan",u,c,s),_}function LD(c,e,i,s,u,f){const m=parseInt(c.getAttribute("colspan")||"1"),w=parseInt(c.getAttribute("rowspan")||"1");i+m-1>u&&li("colspan",u-i+1,c,f,1),e+w-1>s&&li("rowspan",s-e+1,c,f,1)}function uv(c,e){const i=e.getColumns(c),s=new Array(i).fill(0);for(const{column:f}of new cr(c))s[f]++;const u=s.reduce((f,m,w)=>m?f:[...f,w],[]);if(u.length>0){const f=u[u.length-1];return e.removeColumns(c,{at:f}),!0}return!1}function dv(c,e){const i=[],s=e.getRows(c);for(let u=0;u<s;u++)c.getChild(u).isEmpty&&i.push(u);if(i.length>0){const u=i[i.length-1];return e.removeRows(c,{at:u}),!0}return!1}function hv(c,e){uv(c,e)||dv(c,e)}function RD(c,e){const i=Array.from(new cr(c,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(i.every(({cellHeight:u})=>u===1))return e.lastRow;const s=i[0].cellHeight-1;return e.lastRow+s}function BD(c,e){const i=Array.from(new cr(c,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(i.every(({cellWidth:u})=>u===1))return e.lastColumn;const s=i[0].cellWidth-1;return e.lastColumn+s}class U0 extends Wt{constructor(e,i){super(e),this.direction=i.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,i=e.document,s=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(i.selection)[0],u=this.value,f=this.direction;e.change(m=>{const w=f=="right"||f=="down",_=w?s:u,E=w?u:s,T=E.parent;(function(oe,ke,Se){FD(oe)||(FD(ke)&&Se.remove(Se.createRangeIn(ke)),Se.move(Se.createRangeIn(oe),Se.createPositionAt(ke,"end"))),Se.remove(oe)})(E,_,m);const O=this.isHorizontal?"colspan":"rowspan",U=parseInt(s.getAttribute(O)||"1"),K=parseInt(u.getAttribute(O)||"1");m.setAttribute(O,U+K,_),m.setSelection(m.createRangeIn(_));const ee=this.editor.plugins.get("TableUtils");hv(T.findAncestor("table"),ee)})}_getMergeableCell(){const e=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),s=i.getTableCellsContainingSelection(e.selection)[0];if(!s)return;const u=this.isHorizontal?function(w,_,E){const T=w.parent,O=T.parent,U=_=="right"?w.nextSibling:w.previousSibling,K=(O.getAttribute("headingColumns")||0)>0;if(!U)return;const ee=_=="right"?w:U,oe=_=="right"?U:w,{column:ke}=E.getCellLocation(ee),{column:Se}=E.getCellLocation(oe),Le=parseInt(ee.getAttribute("colspan")||"1"),tt=cv(E,ee),ft=cv(E,oe);if(!(K&&tt!=ft))return ke+Le===Se?U:void 0}(s,this.direction,i):function(w,_,E){const T=w.parent,O=T.parent,U=O.getChildIndex(T);if(_=="down"&&U===E.getRows(O)-1||_=="up"&&U===0)return null;const K=parseInt(w.getAttribute("rowspan")||"1"),ee=O.getAttribute("headingRows")||0,oe=_=="down"&&U+K===ee,ke=_=="up"&&U===ee;if(ee&&(oe||ke))return null;const Se=parseInt(w.getAttribute("rowspan")||"1"),Le=_=="down"?U+Se:U,tt=[...new cr(O,{endRow:Le})],ft=tt.find(kn=>kn.cell===w),Mt=ft.column,nn=tt.find(({row:kn,cellHeight:xr,column:Yi})=>Yi===Mt&&(_=="down"?kn===Le:Le===kn+xr));return nn&&nn.cell?nn.cell:null}(s,this.direction,i);if(!u)return;const f=this.isHorizontal?"rowspan":"colspan",m=parseInt(s.getAttribute(f)||"1");return parseInt(u.getAttribute(f)||"1")===m?u:void 0}}function FD(c){const e=c.getChild(0);return c.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class xH extends Wt{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),s=i[0];if(s){const u=s.findAncestor("table"),f=e.getRows(u)-1,m=e.getRowIndexes(i),w=m.first===0&&m.last===f;this.isEnabled=!w}else this.isEnabled=!1}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(e.document.selection),u=i.getRowIndexes(s),f=s[0],m=f.findAncestor("table"),w=i.getCellLocation(f).column;e.change(_=>{const E=u.last-u.first+1;i.removeRows(m,{at:u.first,rows:E});const T=function(O,U,K,ee){const oe=O.getChild(Math.min(U,ee-1));let ke=oe.getChild(0),Se=0;for(const Le of oe.getChildren()){if(Se>K)return ke;ke=Le,Se+=parseInt(Le.getAttribute("colspan")||"1")}return ke}(m,u.first,w,i.getRows(m));_.setSelection(_.createPositionAt(T,0))})}}class SH extends Wt{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),s=i[0];if(s){const u=s.findAncestor("table"),f=e.getColumns(u),{first:m,last:w}=e.getColumnIndexes(i);this.isEnabled=w-m<f-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[i,s]=function(_,E){const T=E.getSelectionAffectedTableCells(_),O=T[0],U=T.pop(),K=[O,U];return O.isBefore(U)?K:K.reverse()}(this.editor.model.document.selection,e),u=i.parent.parent,f=[...new cr(u)],m={first:f.find(_=>_.cell===i).column,last:f.find(_=>_.cell===s).column},w=function(_,E,T,O){return parseInt(T.getAttribute("colspan")||"1")>1?T:E.previousSibling||T.nextSibling?T.nextSibling||E.previousSibling:O.first?_.reverse().find(({column:K})=>K<O.first).cell:_.reverse().find(({column:K})=>K>O.last).cell}(f,i,s,m);this.editor.model.change(_=>{const E=m.last-m.first+1;e.removeColumns(u,{at:m.first,columns:E}),_.setSelection(_.createPositionAt(w,0))})}}class EH extends Wt{refresh(){const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=e.getSelectionAffectedTableCells(i.document.selection),u=s.length>0;this.isEnabled=u,this.value=u&&s.every(f=>this._isInHeading(f,f.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),s=this.editor.model,u=i.getSelectionAffectedTableCells(s.document.selection),f=u[0].findAncestor("table"),{first:m,last:w}=i.getRowIndexes(u),_=this.value?m:w+1,E=f.getAttribute("headingRows")||0;s.change(T=>{if(_){const O=MD(f,_,_>E?E:0);for(const{cell:U}of O)PD(U,_,T)}li("headingRows",_,f,T,0)})}_isInHeading(e,i){const s=parseInt(i.getAttribute("headingRows")||"0");return!!s&&e.parent.index<s}}class DH extends Wt{refresh(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(e.document.selection),u=s.length>0;this.isEnabled=u,this.value=u&&s.every(f=>cv(i,f))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),s=this.editor.model,u=i.getSelectionAffectedTableCells(s.document.selection),f=u[0].findAncestor("table"),{first:m,last:w}=i.getColumnIndexes(u),_=this.value?m:w+1;s.change(E=>{if(_){const T=OD(f,_);for(const{cell:O,column:U}of T)jD(O,U,_,E)}li("headingColumns",_,f,E,0)})}}function IH(c){if(c.is("element","tableColumnGroup"))return c;const e=c.getChildren();return Array.from(e).find(i=>i.is("element","tableColumnGroup"))}function TH(c){const e=IH(c);return e?Array.from(e.getChildren()):[]}class vo extends ct{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const i=e.parent,s=i.parent,u=s.getChildIndex(i),f=new cr(s,{row:u});for(const{cell:m,row:w,column:_}of f)if(m===e)return{row:w,column:_}}createTable(e,i){const s=e.createElement("table"),u=i.rows||2,f=i.columns||2;return fv(e,s,0,u,f),i.headingRows&&li("headingRows",Math.min(i.headingRows,u),s,e,0),i.headingColumns&&li("headingColumns",Math.min(i.headingColumns,f),s,e,0),s}insertRows(e,i={}){const s=this.editor.model,u=i.at||0,f=i.rows||1,m=i.copyStructureFromAbove!==void 0,w=i.copyStructureFromAbove?u-1:u,_=this.getRows(e),E=this.getColumns(e);if(u>_)throw new M("tableutils-insertrows-insert-out-of-range",this,{options:i});s.change(T=>{const O=e.getAttribute("headingRows")||0;if(O>u&&li("headingRows",O+f,e,T,0),!m&&(u===0||u===_))return void fv(T,e,u,f,E);const U=m?Math.max(u,w):u,K=new cr(e,{endRow:U}),ee=new Array(E).fill(1);for(const{row:oe,column:ke,cellHeight:Se,cellWidth:Le,cell:tt}of K){const ft=oe+Se-1,Mt=oe<=w&&w<=ft;oe<u&&u<=ft?(T.setAttribute("rowspan",Se+f,tt),ee[ke]=-Le):m&&Mt&&(ee[ke]=Le)}for(let oe=0;oe<f;oe++){const ke=T.createElement("tableRow");T.insert(ke,e,u);for(let Se=0;Se<ee.length;Se++){const Le=ee[Se],tt=T.createPositionAt(ke,"end");Le>0&&sh(T,tt,Le>1?{colspan:Le}:void 0),Se+=Math.abs(Le)-1}}})}insertColumns(e,i={}){const s=this.editor.model,u=i.at||0,f=i.columns||1;s.change(m=>{const w=e.getAttribute("headingColumns");u<w&&m.setAttribute("headingColumns",w+f,e);const _=this.getColumns(e);if(u===0||_===u){for(const T of e.getChildren())T.is("element","tableRow")&&Ff(f,m,m.createPositionAt(T,u?"end":0));return}const E=new cr(e,{column:u,includeAllSlots:!0});for(const T of E){const{row:O,cell:U,cellAnchorColumn:K,cellAnchorRow:ee,cellWidth:oe,cellHeight:ke}=T;if(K<u){m.setAttribute("colspan",oe+f,U);const Se=ee+ke-1;for(let Le=O;Le<=Se;Le++)E.skipRow(Le)}else Ff(f,m,T.getPositionBefore())}})}removeRows(e,i){const s=this.editor.model,u=i.rows||1,f=this.getRows(e),m=i.at,w=m+u-1;if(w>f-1)throw new M("tableutils-removerows-row-index-out-of-range",this,{table:e,options:i});s.change(_=>{const E={first:m,last:w},{cellsToMove:T,cellsToTrim:O}=function(U,{first:K,last:ee}){const oe=new Map,ke=[];for(const{row:Se,column:Le,cellHeight:tt,cell:ft}of new cr(U,{endRow:ee})){const Mt=Se+tt-1;if(Se>=K&&Se<=ee&&Mt>ee){const nn=tt-(ee-Se+1);oe.set(Le,{cell:ft,rowspan:nn})}if(Se<K&&Mt>=K){let nn;nn=Mt>=ee?ee-K+1:Mt-K+1,ke.push({cell:ft,rowspan:tt-nn})}}return{cellsToMove:oe,cellsToTrim:ke}}(e,E);T.size&&function(U,K,ee,oe){const ke=new cr(U,{includeAllSlots:!0,row:K}),Se=[...ke],Le=U.getChild(K);let tt;for(const{column:ft,cell:Mt,isAnchor:nn}of Se)if(ee.has(ft)){const{cell:kn,rowspan:xr}=ee.get(ft),Yi=tt?oe.createPositionAfter(tt):oe.createPositionAt(Le,0);oe.move(oe.createRangeOn(kn),Yi),li("rowspan",xr,kn,oe),tt=kn}else nn&&(tt=Mt)}(e,w+1,T,_);for(let U=w;U>=m;U--)_.remove(e.getChild(U));for(const{rowspan:U,cell:K}of O)li("rowspan",U,K,_);(function(U,{first:K,last:ee},oe){const ke=U.getAttribute("headingRows")||0;K<ke&&li("headingRows",ee<ke?ke-(ee-K+1):K,U,oe,0)})(e,E,_),uv(e,this)||dv(e,this)})}removeColumns(e,i){const s=this.editor.model,u=i.at,f=i.columns||1,m=i.at+f-1;s.change(w=>{(function(E,T,O){const U=E.getAttribute("headingColumns")||0;if(U&&T.first<U){const K=Math.min(U-1,T.last)-T.first+1;O.setAttribute("headingColumns",U-K,E)}})(e,{first:u,last:m},w);const _=TH(e);for(let E=m;E>=u;E--){for(const{cell:T,column:O,cellWidth:U}of[...new cr(e)])O<=E&&U>1&&O+U>E?li("colspan",U-1,T,w):O===E&&w.remove(T);if(_[E]){const T=E===0?_[1]:_[E-1],O=parseFloat(_[E].getAttribute("columnWidth")),U=parseFloat(T.getAttribute("columnWidth"));w.remove(_[E]),w.setAttribute("columnWidth",O+U+"%",T)}}dv(e,this)||uv(e,this)})}splitCellVertically(e,i=2){const s=this.editor.model,u=e.parent.parent,f=parseInt(e.getAttribute("rowspan")||"1"),m=parseInt(e.getAttribute("colspan")||"1");s.change(w=>{if(m>1){const{newCellsSpan:_,updatedSpan:E}=zD(m,i);li("colspan",E,e,w);const T={};_>1&&(T.colspan=_),f>1&&(T.rowspan=f),Ff(m>i?i-1:m-1,w,w.createPositionAfter(e),T)}if(m<i){const _=i-m,E=[...new cr(u)],{column:T}=E.find(({cell:ee})=>ee===e),O=E.filter(({cell:ee,cellWidth:oe,column:ke})=>ee!==e&&ke===T||ke<T&&ke+oe>T);for(const{cell:ee,cellWidth:oe}of O)w.setAttribute("colspan",oe+_,ee);const U={};f>1&&(U.rowspan=f),Ff(_,w,w.createPositionAfter(e),U);const K=u.getAttribute("headingColumns")||0;K>T&&li("headingColumns",K+_,u,w)}})}splitCellHorizontally(e,i=2){const s=this.editor.model,u=e.parent,f=u.parent,m=f.getChildIndex(u),w=parseInt(e.getAttribute("rowspan")||"1"),_=parseInt(e.getAttribute("colspan")||"1");s.change(E=>{if(w>1){const T=[...new cr(f,{startRow:m,endRow:m+w-1,includeAllSlots:!0})],{newCellsSpan:O,updatedSpan:U}=zD(w,i);li("rowspan",U,e,E);const{column:K}=T.find(({cell:oe})=>oe===e),ee={};O>1&&(ee.rowspan=O),_>1&&(ee.colspan=_);for(const oe of T){const{column:ke,row:Se}=oe;Se>=m+U&&ke===K&&(Se+m+U)%O==0&&Ff(1,E,oe.getPositionBefore(),ee)}}if(w<i){const T=i-w,O=[...new cr(f,{startRow:0,endRow:m})];for(const{cell:ee,cellHeight:oe,row:ke}of O)if(ee!==e&&ke+oe>m){const Se=oe+T;E.setAttribute("rowspan",Se,ee)}const U={};_>1&&(U.colspan=_),fv(E,f,m+1,T,1,U);const K=f.getAttribute("headingRows")||0;K>m&&li("headingRows",K+T,f,E)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(i=>i.is("element","tableCell")).reduce((i,s)=>i+parseInt(s.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((i,s)=>s.is("element","tableRow")?i+1:i,0)}createTableWalker(e,i={}){return new cr(e,i)}getSelectedTableCells(e){const i=[];for(const s of this.sortRanges(e.getRanges())){const u=s.getContainedElement();u&&u.is("element","tableCell")&&i.push(u)}return i}getTableCellsContainingSelection(e){const i=[];for(const s of e.getRanges()){const u=s.start.findAncestor("tableCell");u&&i.push(u)}return i}getSelectionAffectedTableCells(e){const i=this.getSelectedTableCells(e);return i.length?i:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const i=e.map(s=>s.parent.index);return this._getFirstLastIndexesObject(i)}getColumnIndexes(e){const i=e[0].findAncestor("table"),s=[...new cr(i)].filter(u=>e.includes(u.cell)).map(u=>u.column);return this._getFirstLastIndexesObject(s)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const i=new Set,s=new Set;let u=0;for(const m of e){const{row:w,column:_}=this.getCellLocation(m),E=parseInt(m.getAttribute("rowspan"))||1,T=parseInt(m.getAttribute("colspan"))||1;i.add(w),s.add(_),E>1&&i.add(w+E-1),T>1&&s.add(_+T-1),u+=E*T}return function(m,w){const _=Array.from(m.values()),E=Array.from(w.values()),T=Math.max(..._),O=Math.min(..._),U=Math.max(...E),K=Math.min(...E);return(T-O+1)*(U-K+1)}(i,s)==u}sortRanges(e){return Array.from(e).sort(NH)}_getFirstLastIndexesObject(e){const i=e.sort((s,u)=>s-u);return{first:i[0],last:i[i.length-1]}}_areCellInTheSameTableSection(e){const i=e[0].findAncestor("table"),s=this.getRowIndexes(e),u=parseInt(i.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(s,u))return!1;const f=this.getColumnIndexes(e),m=parseInt(i.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(f,m)}_areIndexesInSameSection({first:e,last:i},s){return e<s==i<s}}function fv(c,e,i,s,u,f={}){for(let m=0;m<s;m++){const w=c.createElement("tableRow");c.insert(w,e,i),Ff(u,c,c.createPositionAt(w,"end"),f)}}function Ff(c,e,i,s={}){for(let u=0;u<c;u++)sh(e,i,s)}function zD(c,e){if(c<e)return{newCellsSpan:1,updatedSpan:1};const i=Math.floor(c/e);return{newCellsSpan:i,updatedSpan:c-i*e+i}}function NH(c,e){const i=c.start,s=e.start;return i.isBefore(s)?-1:1}class MH extends Wt{refresh(){const e=this.editor.plugins.get(vo),i=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(i)}execute(){const e=this.editor.model,i=this.editor.plugins.get(vo);e.change(s=>{const u=i.getSelectedTableCells(e.document.selection),f=u.shift(),{mergeWidth:m,mergeHeight:w}=function(_,E,T){let O=0,U=0;for(const Se of E){const{row:Le,column:tt}=T.getCellLocation(Se);O=qD(Se,tt,O,"colspan"),U=qD(Se,Le,U,"rowspan")}const{row:K,column:ee}=T.getCellLocation(_),oe=O-ee,ke=U-K;return{mergeWidth:oe,mergeHeight:ke}}(f,u,i);li("colspan",m,f,s),li("rowspan",w,f,s);for(const _ of u)PH(_,f,s);hv(f.findAncestor("table"),i),s.setSelection(f,"in")})}}function PH(c,e,i){UD(c)||(UD(e)&&i.remove(i.createRangeIn(e)),i.move(i.createRangeIn(c),i.createPositionAt(e,"end"))),i.remove(c)}function UD(c){const e=c.getChild(0);return c.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function qD(c,e,i,s){const u=parseInt(c.getAttribute(s)||"1");return Math.max(i,e+u)}class OH extends Wt{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(e.document.selection),u=i.getRowIndexes(s),f=s[0].findAncestor("table"),m=[];for(let w=u.first;w<=u.last;w++)for(const _ of f.getChild(w).getChildren())m.push(e.createRangeOn(_));e.change(w=>{w.setSelection(m)})}}class jH extends Wt{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=e.getSelectionAffectedTableCells(i.document.selection),u=s[0],f=s.pop(),m=u.findAncestor("table"),w=e.getCellLocation(u),_=e.getCellLocation(f),E=Math.min(w.column,_.column),T=Math.max(w.column,_.column),O=[];for(const U of new cr(m,{startColumn:E,endColumn:T}))O.push(i.createRangeOn(U.cell));i.change(U=>{U.setSelection(O)})}}function LH(c){c.document.registerPostFixer(e=>function(i,s){const u=s.document.differ.getChanges();let f=!1;const m=new Set;for(const w of u){let _=null;w.type=="insert"&&w.name=="table"&&(_=w.position.nodeAfter),w.type!="insert"&&w.type!="remove"||w.name!="tableRow"&&w.name!="tableCell"||(_=w.position.findAncestor("table")),FH(w)&&(_=w.range.start.findAncestor("table")),_&&!m.has(_)&&(f=RH(_,i)||f,f=BH(_,i)||f,m.add(_))}return f}(e,c))}function RH(c,e){let i=!1;const s=function(u){const f=parseInt(u.getAttribute("headingRows")||"0"),m=Array.from(u.getChildren()).reduce((_,E)=>E.is("element","tableRow")?_+1:_,0),w=[];for(const{row:_,cell:E,cellHeight:T}of new cr(u)){if(T<2)continue;const O=_<f?f:m;if(_+T>O){const U=O-_;w.push({cell:E,rowspan:U})}}return w}(c);if(s.length){i=!0;for(const u of s)li("rowspan",u.rowspan,u.cell,e,1)}return i}function BH(c,e){let i=!1;const s=function(w){const _=new Array(w.childCount).fill(0);for(const{rowIndex:E}of new cr(w,{includeAllSlots:!0}))_[E]++;return _}(c),u=[];for(const[w,_]of s.entries())!_&&c.getChild(w).is("element","tableRow")&&u.push(w);if(u.length){i=!0;for(const w of u.reverse())e.remove(c.getChild(w)),s.splice(w,1)}const f=s.filter((w,_)=>c.getChild(_).is("element","tableRow")),m=f[0];if(!f.every(w=>w===m)){const w=f.reduce((_,E)=>E>_?E:_,0);for(const[_,E]of f.entries()){const T=w-E;if(T){for(let O=0;O<T;O++)sh(e,e.createPositionAt(c.getChild(_),"end"));i=!0}}}return i}function FH(c){if(c.type!=="attribute")return!1;const e=c.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function zH(c){c.document.registerPostFixer(e=>function(i,s){const u=s.document.differ.getChanges();let f=!1;for(const m of u)m.type=="insert"&&m.name=="table"&&(f=UH(m.position.nodeAfter,i)||f),m.type=="insert"&&m.name=="tableRow"&&(f=VD(m.position.nodeAfter,i)||f),m.type=="insert"&&m.name=="tableCell"&&(f=pv(m.position.nodeAfter,i)||f),m.type!="remove"&&m.type!="insert"||!qH(m)||(f=pv(m.position.parent,i)||f);return f}(e,c))}function UH(c,e){let i=!1;for(const s of c.getChildren())s.is("element","tableRow")&&(i=VD(s,e)||i);return i}function VD(c,e){let i=!1;for(const s of c.getChildren())i=pv(s,e)||i;return i}function pv(c,e){if(c.childCount==0)return e.insertElement("paragraph",c),!0;const i=Array.from(c.getChildren()).filter(s=>s.is("$text"));for(const s of i)e.wrap(e.createRangeOn(s),"paragraph");return!!i.length}function qH(c){return!!c.position.parent.is("element","tableCell")&&(c.type=="insert"&&c.name=="$text"||c.type=="remove")}function VH(c,e){if(!c.is("element","paragraph"))return!1;const i=e.toViewElement(c);return!!i&&ED(c)!==i.is("element","span")}var $D=a(8137),$H={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()($D.A,$H),$D.A.locals;class HH extends ct{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[vo]}init(){const e=this.editor,i=e.model,s=i.schema,u=e.conversion,f=e.plugins.get(vo);s.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),s.register("tableRow",{allowIn:"table",isLimit:!0}),s.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),u.for("upcast").add(m=>{m.on("element:figure",(w,_,E)=>{if(!E.consumable.test(_.viewItem,{name:!0,classes:"table"}))return;const T=function(U){for(const K of U.getChildren())if(K.is("element","table"))return K}(_.viewItem);if(!T||!E.consumable.test(T,{name:!0}))return;E.consumable.consume(_.viewItem,{name:!0,classes:"table"});const O=ji(E.convertItem(T,_.modelCursor).modelRange.getItems());O?(E.convertChildren(_.viewItem,E.writer.createPositionAt(O,"end")),E.updateConversionResult(O,_)):E.consumable.revert(_.viewItem,{name:!0,classes:"table"})})}),u.for("upcast").add(vH()),u.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:CD(f,{asWidget:!0,additionalSlots:this._additionalSlots})}),u.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:CD(f,{additionalSlots:this._additionalSlots})}),u.for("upcast").elementToElement({model:"tableRow",view:"tr"}),u.for("upcast").add(m=>{m.on("element:tr",(w,_)=>{_.viewItem.isEmpty&&_.modelCursor.index==0&&w.stop()},{priority:"high"})}),u.for("downcast").elementToElement({model:"tableRow",view:(m,{writer:w})=>m.isEmpty?w.createEmptyElement("tr"):w.createContainerElement("tr")}),u.for("upcast").elementToElement({model:"tableCell",view:"td"}),u.for("upcast").elementToElement({model:"tableCell",view:"th"}),u.for("upcast").add(_D("td")),u.for("upcast").add(_D("th")),u.for("editingDowncast").elementToElement({model:"tableCell",view:xD({asWidget:!0})}),u.for("dataDowncast").elementToElement({model:"tableCell",view:xD()}),u.for("editingDowncast").elementToElement({model:"paragraph",view:SD({asWidget:!0}),converterPriority:"high"}),u.for("dataDowncast").elementToElement({model:"paragraph",view:SD(),converterPriority:"high"}),u.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),u.for("upcast").attributeToAttribute({model:{key:"colspan",value:HD("colspan")},view:"colspan"}),u.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),u.for("upcast").attributeToAttribute({model:{key:"rowspan",value:HD("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new CH(e)),e.commands.add("insertTableRowAbove",new DD(e,{order:"above"})),e.commands.add("insertTableRowBelow",new DD(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new ID(e,{order:"left"})),e.commands.add("insertTableColumnRight",new ID(e,{order:"right"})),e.commands.add("removeTableRow",new xH(e)),e.commands.add("removeTableColumn",new SH(e)),e.commands.add("splitTableCellVertically",new TD(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new TD(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new MH(e)),e.commands.add("mergeTableCellRight",new U0(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new U0(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new U0(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new U0(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new DH(e)),e.commands.add("setTableRowHeader",new EH(e)),e.commands.add("selectTableRow",new OH(e)),e.commands.add("selectTableColumn",new jH(e)),LH(i),zH(i),this.listenTo(i.document,"change:data",()=>{(function(m,w){const _=m.document.differ;for(const E of _.getChanges()){let T,O=!1;if(E.type=="attribute"){const oe=E.range.start.nodeAfter;if(!oe||!oe.is("element","table")||E.attributeKey!="headingRows"&&E.attributeKey!="headingColumns")continue;T=oe,O=E.attributeKey=="headingRows"}else E.name!="tableRow"&&E.name!="tableCell"||(T=E.position.findAncestor("table"),O=E.name=="tableRow");if(!T)continue;const U=T.getAttribute("headingRows")||0,K=T.getAttribute("headingColumns")||0,ee=new cr(T);for(const oe of ee){const ke=oe.row<U||oe.column<K?"th":"td",Se=w.mapper.toViewElement(oe.cell);Se&&Se.is("element")&&Se.name!=ke&&w.reconvertItem(O?oe.cell.parent:oe.cell)}}})(i,e.editing),function(m,w){const _=m.document.differ,E=new Set;for(const T of _.getChanges()){const O=T.type=="attribute"?T.range.start.parent:T.position.parent;O.is("element","tableCell")&&E.add(O)}for(const T of E.values()){const O=Array.from(T.getChildren()).filter(U=>VH(U,w.mapper));for(const U of O)w.reconvertItem(U)}}(i,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function HD(c){return e=>{const i=parseInt(e.getAttribute(c));return Number.isNaN(i)||i<=0?null:i}}var WD=a(5032),WH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(WD.A,WH),WD.A.locals;class GD extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new fo,this.focusTracker=new Li,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(s,u)=>`${u} Ã— ${s}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:i.to("label")}]}],on:{mousedown:i.to(s=>{s.preventDefault()}),click:i.to(()=>{this.fire("execute")})}}),this.on("boxover",(s,u)=>{const{row:f,column:m}=u.target.dataset;this.items.get(10*(parseInt(f,10)-1)+(parseInt(m,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(s,u,f)=>{if(!f)return;const{row:m,column:w}=f.dataset;this.set({rows:parseInt(m),columns:parseInt(w)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),ar({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,i=this.columns;this.items.map((s,u)=>{const f=Math.floor(u/10)<e&&u%10<i;s.set("isOn",f)})}_createGridButton(e,i,s,u){const f=new Hn(e);return f.set({label:u,class:"ck-insert-table-dropdown-grid-box"}),f.extendTemplate({attributes:{"data-row":i,"data-column":s}}),f}_createGridCollection(){const e=[];for(let i=0;i<100;i++){const s=Math.floor(i/10),u=i%10,f=`${s+1} Ã— ${u+1}`;e.push(this._createGridButton(this.locale,s+1,u+1,f))}return this.createCollection(e)}}class GH extends ct{static get pluginName(){return"TableUI"}init(){const e=this.editor,i=this.editor.t,s=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",u=>{const f=e.commands.get("insertTable"),m=Wc(u);let w;return m.bind("isEnabled").to(f),m.buttonView.set({icon:hn.table,label:i("Insert table"),tooltip:!0}),m.on("change:isOpen",()=>{w||(w=new GD(u),m.panelView.children.add(w),w.delegate("execute").to(m),m.on("execute",()=>{e.execute("insertTable",{rows:w.rows,columns:w.columns}),e.editing.view.focus()}))}),m}),e.ui.componentFactory.add("menuBar:insertTable",u=>{const f=e.commands.get("insertTable"),m=new Nf(u),w=new GD(u);return w.delegate("execute").to(m),m.on("change:isOpen",(_,E,T)=>{T||w.reset()}),w.on("execute",()=>{e.execute("insertTable",{rows:w.rows,columns:w.columns}),e.editing.view.focus()}),m.buttonView.set({label:i("Table"),icon:hn.table}),m.panelView.children.add(w),m.bind("isEnabled").to(f),m}),e.ui.componentFactory.add("tableColumn",u=>{const f=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:i("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:s?"insertTableColumnLeft":"insertTableColumnRight",label:i("Insert column left")}},{type:"button",model:{commandName:s?"insertTableColumnRight":"insertTableColumnLeft",label:i("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:i("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:i("Select column")}}];return this._prepareDropdown(i("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',f,u)}),e.ui.componentFactory.add("tableRow",u=>{const f=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:i("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:i("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:i("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:i("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:i("Select row")}}];return this._prepareDropdown(i("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',f,u)}),e.ui.componentFactory.add("mergeTableCells",u=>{const f=[{type:"button",model:{commandName:"mergeTableCellUp",label:i("Merge cell up")}},{type:"button",model:{commandName:s?"mergeTableCellRight":"mergeTableCellLeft",label:i("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:i("Merge cell down")}},{type:"button",model:{commandName:s?"mergeTableCellLeft":"mergeTableCellRight",label:i("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:i("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:i("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(i("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',f,u)})}_prepareDropdown(e,i,s,u){const f=this.editor,m=Wc(u),w=this._fillDropdownWithListOptions(m,s);return m.buttonView.set({label:e,icon:i,tooltip:!0}),m.bind("isEnabled").toMany(w,"isEnabled",(..._)=>_.some(E=>E)),this.listenTo(m,"execute",_=>{f.execute(_.source.commandName),_.source instanceof o0||f.editing.view.focus()}),m}_prepareMergeSplitButtonDropdown(e,i,s,u){const f=this.editor,m=Wc(u,c0),w="mergeTableCells",_=f.commands.get(w),E=this._fillDropdownWithListOptions(m,s);return m.buttonView.set({label:e,icon:i,tooltip:!0,isEnabled:!0}),m.bind("isEnabled").toMany([_,...E],"isEnabled",(...T)=>T.some(O=>O)),this.listenTo(m.buttonView,"execute",()=>{f.execute(w),f.editing.view.focus()}),this.listenTo(m,"execute",T=>{f.execute(T.source.commandName),f.editing.view.focus()}),m}_fillDropdownWithListOptions(e,i){const s=this.editor,u=[],f=new Fs;for(const m of i)YH(m,s,u,f);return x5(e,f),u}}function YH(c,e,i,s){if(c.type==="button"||c.type==="switchbutton"){const u=c.model=new nS(c.model),{commandName:f,bindIsOn:m}=c.model,w=e.commands.get(f);i.push(w),u.set({commandName:f}),u.bind("isEnabled").to(w),m&&u.bind("isOn").to(w,"value"),u.set({withText:!0})}s.add(c)}var YD=a(8423),KH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(YD.A,KH),YD.A.locals;class ah extends ct{static get pluginName(){return"TableSelection"}static get requires(){return[vo,vo]}init(){const e=this.editor,i=e.model,s=e.editing.view;this.listenTo(i,"deleteContent",(u,f)=>this._handleDeleteContent(u,f),{priority:"high"}),this.listenTo(s.document,"insertText",(u,f)=>this._handleInsertTextEvent(u,f),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(vo),i=this.editor.model.document.selection,s=e.getSelectedTableCells(i);return s.length==0?null:s}getSelectionAsFragment(){const e=this.editor.plugins.get(vo),i=this.getSelectedTableCells();return i?this.editor.model.change(s=>{const u=s.createDocumentFragment(),{first:f,last:m}=e.getColumnIndexes(i),{first:w,last:_}=e.getRowIndexes(i),E=i[0].findAncestor("table");let T=_,O=m;if(e.isSelectionRectangular(i)){const K={firstColumn:f,lastColumn:m,firstRow:w,lastRow:_};T=RD(E,K),O=BD(E,K)}const U=ND(E,{startRow:w,startColumn:f,endRow:T,endColumn:O},s);return s.insert(U,u,0),u}):null}setCellSelection(e,i){const s=this._getCellsToSelect(e,i);this.editor.model.change(u=>{u.setSelection(s.cells.map(f=>u.createRangeOn(f)),{backward:s.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=ji(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,i=new Set;e.conversion.for("editingDowncast").add(s=>s.on("selection",(u,f,m)=>{const w=m.writer;(function(T){for(const O of i)T.removeClass("ck-editor__editable_selected",O);i.clear()})(w);const _=this.getSelectedTableCells();if(!_)return;for(const T of _){const O=m.mapper.toViewElement(T);w.addClass("ck-editor__editable_selected",O),i.add(O)}const E=m.mapper.toViewElement(_[_.length-1]);w.setSelection(E,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const i=this.getSelectedTableCells();if(!i)return;e.model.change(s=>{const u=s.createPositionAt(i[0],0),f=e.model.schema.getNearestSelectionRange(u);s.setSelection(f)})}})}_handleDeleteContent(e,i){const s=this.editor.plugins.get(vo),u=i[0],f=i[1],m=this.editor.model,w=!f||f.direction=="backward",_=s.getSelectedTableCells(u);_.length&&(e.stop(),m.change(E=>{const T=_[w?_.length-1:0];m.change(U=>{for(const K of _)m.deleteContent(U.createSelection(K,"in"))});const O=m.schema.getNearestSelectionRange(E.createPositionAt(T,0));u.is("documentSelection")?E.setSelection(O):u.setTo(O)}))}_handleInsertTextEvent(e,i){const s=this.editor,u=this.getSelectedTableCells();if(!u)return;const f=s.editing.view,m=s.editing.mapper,w=u.map(_=>f.createRangeOn(m.toViewElement(_)));i.selection=f.createSelection(w)}_getCellsToSelect(e,i){const s=this.editor.plugins.get("TableUtils"),u=s.getCellLocation(e),f=s.getCellLocation(i),m=Math.min(u.row,f.row),w=Math.max(u.row,f.row),_=Math.min(u.column,f.column),E=Math.max(u.column,f.column),T=new Array(w-m+1).fill(null).map(()=>[]),O={startRow:m,endRow:w,startColumn:_,endColumn:E};for(const{row:ee,cell:oe}of new cr(e.findAncestor("table"),O))T[ee-m].push(oe);const U=f.row<u.row,K=f.column<u.column;return U&&T.reverse(),K&&T.forEach(ee=>ee.reverse()),{cells:T.flat(),backward:U||K}}}class QH extends ct{static get pluginName(){return"TableClipboard"}static get requires(){return[jm,Na,ah,vo]}init(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"copy",(s,u)=>this._onCopyCut(s,u)),this.listenTo(i,"cut",(s,u)=>this._onCopyCut(s,u)),this.listenTo(e.model,"insertContent",(s,[u,f])=>this._onInsertContent(s,u,f),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,i){const s=this.editor.editing.view,u=this.editor.plugins.get(ah),f=this.editor.plugins.get(jm);u.getSelectedTableCells()&&(e.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(i.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:e.name==="cut"},()=>{const m=f._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>u.getSelectionAsFragment());s.document.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:this.editor.data.toView(m),method:e.name})}))}_onInsertContent(e,i,s){if(s&&!s.is("documentSelection"))return;const u=this.editor.model,f=this.editor.plugins.get(vo),m=this.editor.plugins.get(jm),w=this.getTableIfOnlyTableInContent(i,u);if(!w)return;const _=f.getSelectionAffectedTableCells(u.document.selection);_.length?(e.stop(),i.is("documentFragment")?m._pasteMarkersIntoTransformedElement(i.markers,E=>this._replaceSelectedCells(w,_,E)):this.editor.model.change(E=>{this._replaceSelectedCells(w,_,E)})):hv(w,f)}_replaceSelectedCells(e,i,s){const u=this.editor.plugins.get(vo),f={width:u.getColumns(e),height:u.getRows(e)},m=function(O,U,K,ee){const oe=O[0].findAncestor("table"),ke=ee.getColumnIndexes(O),Se=ee.getRowIndexes(O),Le={firstColumn:ke.first,lastColumn:ke.last,firstRow:Se.first,lastRow:Se.last},tt=O.length===1;return tt&&(Le.lastRow+=U.height-1,Le.lastColumn+=U.width-1,function(ft,Mt,nn,kn){const xr=kn.getColumns(ft),Yi=kn.getRows(ft);nn>xr&&kn.insertColumns(ft,{at:xr,columns:nn-xr}),Mt>Yi&&kn.insertRows(ft,{at:Yi,rows:Mt-Yi})}(oe,Le.lastRow+1,Le.lastColumn+1,ee)),tt||!ee.isSelectionRectangular(O)?function(ft,Mt,nn){const{firstRow:kn,lastRow:xr,firstColumn:Yi,lastColumn:hI}=Mt,fI={first:kn,last:xr},pI={first:Yi,last:hI};gv(ft,Yi,fI,nn),gv(ft,hI+1,fI,nn),mv(ft,kn,pI,nn),mv(ft,xr+1,pI,nn,kn)}(oe,Le,K):(Le.lastRow=RD(oe,Le),Le.lastColumn=BD(oe,Le)),Le}(i,f,s,u),w=m.lastRow-m.firstRow+1,_=m.lastColumn-m.firstColumn+1;e=ND(e,{startRow:0,startColumn:0,endRow:Math.min(w,f.height)-1,endColumn:Math.min(_,f.width)-1},s);const E=i[0].findAncestor("table"),T=this._replaceSelectedCellsWithPasted(e,f,E,m,s);if(this.editor.plugins.get("TableSelection").isEnabled){const O=u.sortRanges(T.map(U=>s.createRangeOn(U)));s.setSelection(O)}else s.setSelection(T[0],0);return E}_replaceSelectedCellsWithPasted(e,i,s,u,f){const{width:m,height:w}=i,_=function(ke,Se,Le){const tt=new Array(Le).fill(null).map(()=>new Array(Se).fill(null));for(const{column:ft,row:Mt,cell:nn}of new cr(ke))tt[Mt][ft]=nn;return tt}(e,m,w),E=[...new cr(s,{startRow:u.firstRow,endRow:u.lastRow,startColumn:u.firstColumn,endColumn:u.lastColumn,includeAllSlots:!0})],T=[];let O;for(const ke of E){const{row:Se,column:Le}=ke;Le===u.firstColumn&&(O=ke.getPositionBefore());const tt=Se-u.firstRow,ft=Le-u.firstColumn,Mt=_[tt%w][ft%m],nn=Mt?f.cloneElement(Mt):null,kn=this._replaceTableSlotCell(ke,nn,O,f);kn&&(LD(kn,Se,Le,u.lastRow,u.lastColumn,f),T.push(kn),O=f.createPositionAfter(kn))}const U=parseInt(s.getAttribute("headingRows")||"0"),K=parseInt(s.getAttribute("headingColumns")||"0"),ee=u.firstRow<U&&U<=u.lastRow,oe=u.firstColumn<K&&K<=u.lastColumn;if(ee){const ke=mv(s,U,{first:u.firstColumn,last:u.lastColumn},f,u.firstRow);T.push(...ke)}if(oe){const ke=gv(s,K,{first:u.firstRow,last:u.lastRow},f);T.push(...ke)}return T}_replaceTableSlotCell(e,i,s,u){const{cell:f,isAnchor:m}=e;return m&&u.remove(f),i?(u.insert(i,s),i):null}getTableIfOnlyTableInContent(e,i){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const s=i.createRangeIn(e);for(const u of s.getItems())if(u.is("element","table")){const f=i.createRange(s.start,i.createPositionBefore(u));if(i.hasContent(f,{ignoreWhitespaces:!0}))return null;const m=i.createRange(i.createPositionAfter(u),s.end);return i.hasContent(m,{ignoreWhitespaces:!0})?null:u}return null}}function mv(c,e,i,s,u=0){if(!(e<1))return MD(c,e,u).filter(({column:f,cellWidth:m})=>KD(f,m,i)).map(({cell:f})=>PD(f,e,s))}function gv(c,e,i,s){if(!(e<1))return OD(c,e).filter(({row:u,cellHeight:f})=>KD(u,f,i)).map(({cell:u,column:f})=>jD(u,f,e,s))}function KD(c,e,i){const s=c+e-1,{first:u,last:f}=i;return c>=u&&c<=f||c<u&&s>=u}class JH extends ct{static get pluginName(){return"TableKeyboard"}static get requires(){return[ah,vo]}init(){const e=this.editor,i=e.editing.view.document,s=e.t;this.listenTo(i,"arrowKey",(...u)=>this._onArrowKey(...u),{context:"table"}),this.listenTo(i,"tab",(...u)=>this._handleTabOnSelectedTable(...u),{context:"figure"}),this.listenTo(i,"tab",(...u)=>this._handleTab(...u),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:s("Keystrokes that can be used in a table cell"),keystrokes:[{label:s("Move the selection to the next cell"),keystroke:"Tab"},{label:s("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:s("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:s("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,i){const s=this.editor,u=s.model.document.selection.getSelectedElement();u&&u.is("element","table")&&(i.preventDefault(),i.stopPropagation(),e.stop(),s.model.change(f=>{f.setSelection(f.createRangeIn(u.getChild(0).getChild(0)))}))}_handleTab(e,i){const s=this.editor,u=this.editor.plugins.get(vo),f=this.editor.plugins.get("TableSelection"),m=s.model.document.selection,w=!i.shiftKey;let _=u.getTableCellsContainingSelection(m)[0];if(_||(_=f.getFocusCell()),!_)return;i.preventDefault(),i.stopPropagation(),e.stop();const E=_.parent,T=E.parent,O=T.getChildIndex(E),U=E.getChildIndex(_),K=U===0;if(!w&&K&&O===0)return void s.model.change(Se=>{Se.setSelection(Se.createRangeOn(T))});const ee=U===E.childCount-1,oe=O===u.getRows(T)-1;if(w&&oe&&ee&&(s.execute("insertTableRowBelow"),O===u.getRows(T)-1))return void s.model.change(Se=>{Se.setSelection(Se.createRangeOn(T))});let ke;if(w&&ee)ke=T.getChild(O+1).getChild(0);else if(!w&&K){const Se=T.getChild(O-1);ke=Se.getChild(Se.childCount-1)}else ke=E.getChild(U+(w?1:-1));s.model.change(Se=>{Se.setSelection(Se.createRangeIn(ke))})}_onArrowKey(e,i){const s=this.editor,u=sm(i.keyCode,s.locale.contentLanguageDirection);this._handleArrowKeys(u,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),e.stop())}_handleArrowKeys(e,i){const s=this.editor.plugins.get(vo),u=this.editor.plugins.get("TableSelection"),f=this.editor.model,m=f.document.selection,w=["right","down"].includes(e),_=s.getSelectedTableCells(m);if(_.length){let T;return T=i?u.getFocusCell():w?_[_.length-1]:_[0],this._navigateFromCellInDirection(T,e,i),!0}const E=m.focus.findAncestor("tableCell");if(!E)return!1;if(!m.isCollapsed)if(i){if(m.isBackward==w&&!m.containsEntireContent(E))return!1}else{const T=m.getSelectedElement();if(!T||!f.schema.isObject(T))return!1}return!!this._isSelectionAtCellEdge(m,E,w)&&(this._navigateFromCellInDirection(E,e,i),!0)}_isSelectionAtCellEdge(e,i,s){const u=this.editor.model,f=this.editor.model.schema,m=s?e.getLastPosition():e.getFirstPosition();if(!f.getLimitElement(m).is("element","tableCell"))return u.createPositionAt(i,s?"end":0).isTouching(m);const w=u.createSelection(m);return u.modifySelection(w,{direction:s?"forward":"backward"}),m.isEqual(w.focus)}_navigateFromCellInDirection(e,i,s=!1){const u=this.editor.model,f=e.findAncestor("table"),m=[...new cr(f,{includeAllSlots:!0})],{row:w,column:_}=m[m.length-1],E=m.find(({cell:oe})=>oe==e);let{row:T,column:O}=E;switch(i){case"left":O--;break;case"up":T--;break;case"right":O+=E.cellWidth;break;case"down":T+=E.cellHeight}if(T<0||T>w||O<0&&T<=0||O>_&&T>=w)return void u.change(oe=>{oe.setSelection(oe.createRangeOn(f))});O<0?(O=s?0:_,T--):O>_&&(O=s?_:0,T++);const U=m.find(oe=>oe.row==T&&oe.column==O).cell,K=["right","down"].includes(i),ee=this.editor.plugins.get("TableSelection");if(s&&ee.isEnabled){const oe=ee.getAnchorCell()||e;ee.setCellSelection(oe,U)}else{const oe=u.createPositionAt(U,K?0:"end");u.change(ke=>{ke.setSelection(oe)})}}}class ZH extends zu{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class XH extends ct{static get pluginName(){return"TableMouse"}static get requires(){return[ah,vo]}init(){this.editor.editing.view.addObserver(ZH),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,i=e.plugins.get(vo);let s=!1;const u=e.plugins.get(ah);this.listenTo(e.editing.view.document,"mousedown",(f,m)=>{const w=e.model.document.selection;if(!this.isEnabled||!u.isEnabled||!m.domEvent.shiftKey)return;const _=u.getAnchorCell()||i.getTableCellsContainingSelection(w)[0];if(!_)return;const E=this._getModelTableCellFromDomEvent(m);E&&QD(_,E)&&(s=!0,u.setCellSelection(_,E),m.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{s=!1}),this.listenTo(e.editing.view.document,"selectionChange",f=>{s&&f.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let i,s,u=!1,f=!1;const m=e.plugins.get(ah);this.listenTo(e.editing.view.document,"mousedown",(w,_)=>{this.isEnabled&&m.isEnabled&&(_.domEvent.shiftKey||_.domEvent.ctrlKey||_.domEvent.altKey||(i=this._getModelTableCellFromDomEvent(_)))}),this.listenTo(e.editing.view.document,"mousemove",(w,_)=>{if(!_.domEvent.buttons||!i)return;const E=this._getModelTableCellFromDomEvent(_);E&&QD(i,E)&&(s=E,u||s==i||(u=!0)),u&&(f=!0,m.setCellSelection(i,s),_.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{u=!1,f=!1,i=null,s=null}),this.listenTo(e.editing.view.document,"selectionChange",w=>{f&&w.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const i=e.target,s=this.editor.editing.view.createPositionAt(i,0);return this.editor.editing.mapper.toModelPosition(s).parent.findAncestor("tableCell",{includeSelf:!0})}}function QD(c,e){return c.parent.parent==e.parent.parent}var JD=a(2329),eW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(JD.A,eW),JD.A.locals;function tW(c){const e=c.getSelectedElement();return e&&ZD(e)?e:null}function nW(c){const e=c.getFirstPosition();if(!e)return null;let i=e.parent;for(;i;){if(i.is("element")&&ZD(i))return i;i=i.parent}return null}function ZD(c){return!!c.getCustomProperty("table")&&_i(c)}var XD=a(5506),rW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(XD.A,rW),XD.A.locals;var eI=a(2655),iW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(eI.A,iW),eI.A.locals;var tI=a(4043),oW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(tI.A,oW),tI.A.locals;var nI=a(1623),sW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(nI.A,sW),nI.A.locals;var rI=a(8986),aW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(rI.A,aW),rI.A.locals;const lh=ms.defaultPositions;lh.northArrowSouth,lh.northArrowSouthWest,lh.northArrowSouthEast,lh.southArrowNorth,lh.southArrowNorthWest,lh.southArrowNorthEast,lh.viewportStickyNorth;var iI=a(5562),lW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(iI.A,lW),iI.A.locals;var oI=a(4143),cW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(oI.A,cW),oI.A.locals;var sI=a(8795),uW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(sI.A,uW),sI.A.locals;var dW=Object.defineProperty,aI=Object.getOwnPropertySymbols,hW=Object.prototype.hasOwnProperty,fW=Object.prototype.propertyIsEnumerable,lI=(c,e,i)=>e in c?dW(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,cI=(c,e)=>{for(var i in e||(e={}))hW.call(e,i)&&lI(c,i,e[i]);if(aI)for(var i of aI(e))fW.call(e,i)&&lI(c,i,e[i]);return c};const pW={autoRefresh:!0},uI=36e5;class bv extends ze(){constructor(e,i={}){if(super(),!e)throw new M("token-missing-token-url",this);i.initValue&&this._validateTokenValue(i.initValue),this.set("value",i.initValue),this._refresh=typeof e=="function"?e:()=>{return s=e,new Promise((u,f)=>{const m=new XMLHttpRequest;m.open("GET",s),m.addEventListener("load",()=>{const w=m.status,_=m.response;return w<200||w>299?f(new M("token-cannot-download-new-token",null)):u(_)}),m.addEventListener("error",()=>f(new Error("Network Error"))),m.addEventListener("abort",()=>f(new Error("Abort"))),m.send()});var s},this._options=cI(cI({},pW),i)}init(){return new Promise((e,i)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(i)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const i=typeof e=="string",s=!/^".*"$/.test(e),u=i&&e.split(".").length===3;if(!s||!u)throw new M("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:i}=JSON.parse(atob(e));return i?Math.floor((1e3*i-Date.now())/2):uI}catch{return uI}}static create(e,i={}){return new bv(e,i).init()}}const kv=/^data:(\S*?);base64,/;class mW extends se(){constructor(e,i,s){if(super(),!e)throw new M("fileuploader-missing-file",null);if(!i)throw new M("fileuploader-missing-token",null);if(!s)throw new M("fileuploader-missing-api-address",null);this.file=function(u){if(typeof u!="string")return!1;const f=u.match(kv);return!(!f||!f.length)}(e)?function(u,f=512){try{const m=u.match(kv)[1],w=atob(u.replace(kv,"")),_=[];for(let E=0;E<w.length;E+=f){const T=w.slice(E,E+f),O=new Array(T.length);for(let U=0;U<T.length;U++)O[U]=T.charCodeAt(U);_.push(new Uint8Array(O))}return new Blob(_,{type:m})}catch{throw new M("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=i,this._apiAddress=s}onProgress(e){return this.on("progress",(i,s)=>e(s)),this}onError(e){return this.once("error",(i,s)=>e(s)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,i=s=>()=>this.fire("error",s);e.addEventListener("error",i("Network Error")),e.addEventListener("abort",i("Abort")),e.upload&&e.upload.addEventListener("progress",s=>{s.lengthComputable&&this.fire("progress",{total:s.total,uploaded:s.loaded})}),e.addEventListener("load",()=>{const s=e.status,u=e.response;if(s<200||s>299)return this.fire("error",u.message||u.error)})}_sendRequest(){const e=new FormData,i=this.xhr;return e.append("file",this.file),new Promise((s,u)=>{i.addEventListener("load",()=>{const f=i.status,m=i.response;return f<200||f>299?m.message?u(new M("fileuploader-uploading-data-failed",this,{message:m.message})):u(m.error):s(m)}),i.addEventListener("error",()=>u(new Error("Network Error"))),i.addEventListener("abort",()=>u(new Error("Abort"))),i.send(e)})}}class gW{constructor(e,i){if(!e)throw new M("uploadgateway-missing-token",null);if(!i)throw new M("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=i}upload(e){return new mW(e,this._token,this._apiAddress)}}class bW extends si{static get pluginName(){return"CloudServicesCore"}createToken(e,i){return new bv(e,i)}createUploadGateway(e,i){return new gW(e,i)}}var dI=(c,e,i)=>new Promise((s,u)=>{var f=_=>{try{w(i.next(_))}catch(E){u(E)}},m=_=>{try{w(i.throw(_))}catch(E){u(E)}},w=_=>_.done?s(_.value):Promise.resolve(_.value).then(f,m);w((i=i.apply(c,e)).next())});class wv extends k0{}wv.builtinPlugins=[class extends ct{static get requires(){return[bF,PE,A0,RU,aU,Xz,BE]}static get pluginName(){return"Essentials"}},class extends ct{static get requires(){return[sl]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const c=this.editor.config.get("ckfinder.uploadUrl");c&&(this.editor.plugins.get(sl).createUploadAdapter=e=>new KU(e,c,this.editor.t))}},class extends ct{static get requires(){return[Yc]}static get pluginName(){return"Autoformat"}afterInit(){const c=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),c.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const c=this.editor.commands;c.get("bulletedList")&&$u(this.editor,this,/^[*-]\s$/,"bulletedList"),c.get("numberedList")&&$u(this.editor,this,/^1[.|)]\s$/,"numberedList"),c.get("todoList")&&$u(this.editor,this,/^\[\s?\]\s$/,"todoList"),c.get("checkTodoList")&&$u(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const c=this.editor.commands;if(c.get("bold")){const e=E0(this.editor,"bold");Of(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Of(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(c.get("italic")){const e=E0(this.editor,"italic");Of(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Of(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(c.get("code")){const e=E0(this.editor,"code");Of(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(c.get("strikethrough")){const e=E0(this.editor,"strikethrough");Of(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const c=this.editor.commands.get("heading");c&&c.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const i=e[7],s=new RegExp(`^(#{${i}})\\s$`);$u(this.editor,this,s,()=>{if(!c.isEnabled||c.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&$u(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const c=this.editor,e=c.model.document.selection;c.commands.get("codeBlock")&&$u(c,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&$u(this.editor,this,/^---$/,"horizontalLine")}},class extends ct{static get requires(){return[QU,JU]}static get pluginName(){return"Bold"}},class extends ct{static get requires(){return[XU,eq]}static get pluginName(){return"Italic"}},class extends ct{static get requires(){return[nq,iq]}static get pluginName(){return"BlockQuote"}},class extends ct{static get pluginName(){return"CKBox"}static get requires(){return[i3,oq]}},class extends ct{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",Tq,Dq]}},class extends si{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[bW]}init(){return dI(this,null,function*(){const c=this.context.config.get("cloudServices")||{};for(const[i,s]of Object.entries(c))this[i]=s;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(c){return dI(this,null,function*(){if(this._tokens.has(c))return this.getTokenFor(c);const e=this.context.plugins.get("CloudServicesCore"),i=yield e.createToken(c).init();return this._tokens.set(c,i),i})}getTokenFor(c){const e=this._tokens.get(c);if(!e)throw new M("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const c of this._tokens.values())c.destroy()}},class extends ct{static get pluginName(){return"EasyImage"}static get requires(){return[Nq,"ImageUpload"]}init(){const c=this.editor;c.plugins.has("ImageBlockEditing")||c.plugins.has("ImageInlineEditing")||L("easy-image-image-feature-missing",c)}},class extends ct{static get requires(){return[Lq,Bq]}static get pluginName(){return"Heading"}},class extends ct{static get requires(){return[oV,aV]}static get pluginName(){return"Image"}},class extends ct{static get requires(){return[cV,uV]}static get pluginName(){return"ImageCaption"}},class extends ct{static get requires(){return[u4,OV]}static get pluginName(){return"ImageStyle"}},class extends ct{static get requires(){return[C0,bs]}static get pluginName(){return"ImageToolbar"}afterInit(){const c=this.editor,e=c.t,i=c.plugins.get(C0),s=c.plugins.get("ImageUtils");var u;i.register("image",{ariaLabel:e("Image toolbar"),items:(u=c.config.get("image.toolbar")||[],u.map(f=>le(f)?f.name:f)),getRelatedElement:f=>s.getClosestSelectedImageWidget(f)})}},class extends ct{static get pluginName(){return"ImageUpload"}static get requires(){return[CV,fV,bV]}},class extends ct{static get pluginName(){return"Indent"}static get requires(){return[jV,LV]}},class extends ct{static get requires(){return[N4,d$,h$]}static get pluginName(){return"Link"}},L$,class extends ct{static get requires(){return[z0,Y$,H$,Fm]}static get pluginName(){return"MediaEmbed"}},$y,class extends ct{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Na]}init(){const c=this.editor,e=c.plugins.get("ClipboardPipeline"),i=c.editing.view.document,s=[],u=this.editor.plugins.has("MultiLevelList");s.push(new mH(i,u)),s.push(new bH(i)),s.push(new wH(i)),e.on("inputTransformation",(f,m)=>{if(m._isTransformedWithPasteFromOffice||c.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const w=m.dataTransfer.getData("text/html"),_=s.find(E=>E.isActive(w));_&&(m._parsedData||(m._parsedData=yH(w,i.stylesProcessor)),_.execute(m),m._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends ct{static get requires(){return[Wy,bs]}static get pluginName(){return"PictureEditing"}afterInit(){const c=this.editor;c.plugins.has("ImageBlockEditing")&&c.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),c.plugins.has("ImageInlineEditing")&&c.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const c=this.editor,e=c.conversion,i=c.plugins.get("ImageUtils");e.for("upcast").add(function(s){const u=["srcset","media","type","sizes"],f=(m,w,_)=>{const E=w.viewItem;if(!_.consumable.test(E,{name:!0}))return;const T=new Map;for(const K of E.getChildren())if(K.is("element","source")){const ee={};for(const oe of u)K.hasAttribute(oe)&&_.consumable.test(K,{attributes:oe})&&(ee[oe]=K.getAttribute(oe));Object.keys(ee).length&&T.set(K,ee)}const O=s.findViewImgElement(E);if(!O)return;let U=w.modelCursor.parent;if(!U.is("element","imageBlock")){const K=_.convertItem(O,w.modelCursor);w.modelRange=K.modelRange,w.modelCursor=K.modelCursor,U=ji(K.modelRange.getItems())}_.consumable.consume(E,{name:!0});for(const[K,ee]of T)_.consumable.consume(K,{attributes:Object.keys(ee)});T.size&&_.writer.setAttribute("sources",Array.from(T.values()),U),_.convertChildren(E,U)};return m=>{m.on("element:picture",f)}}(i)),e.for("downcast").add(function(s){const u=(f,m,w)=>{if(!w.consumable.consume(m.item,f.name))return;const _=w.writer,E=w.mapper.toViewElement(m.item),T=s.findViewImgElement(E),O=m.attributeNewValue;if(O&&O.length){const U=_.createContainerElement("picture",null,O.map(oe=>_.createEmptyElement("source",oe))),K=[];let ee=T.parent;for(;ee&&ee.is("attributeElement");){const oe=ee.parent;_.unwrap(_.createRangeOn(T),ee),K.unshift(ee),ee=oe}_.insert(_.createPositionBefore(T),U),_.move(_.createRangeOn(T),_.createPositionAt(U,"end"));for(const oe of K)_.wrap(_.createRangeOn(U),oe)}else if(T.parent.is("element","picture")){const U=T.parent;_.move(_.createRangeOn(T),_.createPositionBefore(U)),_.remove(U)}};return f=>{f.on("attribute:sources:imageBlock",u),f.on("attribute:sources:imageInline",u)}}(i))}_setupImageUploadEditingIntegration(){const c=this.editor;if(!c.plugins.has("ImageUploadEditing"))return;const e=c.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(i,{imageElement:s,data:u})=>{const f=u.sources;f&&c.model.change(m=>{m.setAttributes({sources:f},s)})})}},class extends ct{static get requires(){return[HH,GH,ah,XH,JH,QH,Fm]}static get pluginName(){return"Table"}},class extends ct{static get requires(){return[C0]}static get pluginName(){return"TableToolbar"}afterInit(){const c=this.editor,e=c.t,i=c.plugins.get(C0),s=c.config.get("table.contentToolbar"),u=c.config.get("table.tableToolbar");s&&i.register("tableContent",{ariaLabel:e("Table toolbar"),items:s,getRelatedElement:nW}),u&&i.register("table",{ariaLabel:e("Table toolbar"),items:u,getRelatedElement:tW})}},class extends ct{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(c){super(c),c.config.define("typing",{transformations:{include:eU}})}init(){const c=this.editor.model.document.selection;c.on("change:range",()=>{this.isEnabled=!c.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const c=this.editor,e=c.model,i=c.plugins.get("Delete"),s=function(f){const m=f.extra||[],w=f.remove||[],_=E=>!w.includes(E);return function(E){const T=new Set;for(const O of E)if(typeof O=="string"&&oE[O])for(const U of oE[O])T.add(U);else T.add(O);return Array.from(T)}(f.include.concat(m).filter(_)).filter(_).map(E=>typeof E=="string"&&iE[E]?iE[E]:E).filter(E=>typeof E=="object").map(E=>({from:tU(E.from),to:nU(E.to)}))}(c.config.get("typing.transformations")),u=new tE(c.model,f=>{for(const m of s)if(m.from.test(f))return{normalizedTransformation:m}});u.on("matched:data",(f,m)=>{if(!m.batch.isTyping)return;const{from:w,to:_}=m.normalizedTransformation,E=w.exec(m.text),T=_(E.slice(1)),O=m.range;let U=E.index;e.enqueueChange(K=>{for(let ee=1;ee<E.length;ee++){const oe=E[ee],ke=T[ee-1];if(ke==null){U+=oe.length;continue}const Se=O.start.getShiftedBy(U),Le=e.createRange(Se,Se.getShiftedBy(oe.length)),tt=rU(Se);e.insertContent(K.createText(ke,tt),Le),U+=ke.length}e.enqueueChange(()=>{i.requestUndoOnBackspace()})})}),u.bind("isEnabled").to(this)}}],wv.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),l=l.default})())}(pg,pg.exports)),pg.exports}var EQ=SQ();const AO=du(EQ),DQ=({content:t,onChange:r})=>{const n=(o,a)=>{const l=a.getData();r(l)};return A.jsx(vO.CKEditor,{editor:AO,data:t,onChange:n,config:{toolbar:["undo","redo","|","heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","insertTable","link","|"]}})},IQ=(t,r={enabled:!0,priority:"low"})=>{const n=Y.useCallback(o=>{!r.enabled||o.length===0||o.forEach((a,l)=>{if(!a||a.startsWith("data:"))return;const d=new Image;"loading"in d&&(d.loading="lazy");const h=r.priority==="low"?l*100:0;setTimeout(()=>{d.src=a,d.onload=()=>{console.log(`âœ… Preloaded image: ${a.substring(0,50)}...`)},d.onerror=p=>{console.error(`âŒ Failed to preload image: ${a}`,p),console.error("Image details:",{url:a,naturalWidth:d.naturalWidth,naturalHeight:d.naturalHeight,complete:d.complete})}},h)})},[r.enabled,r.priority]);return Y.useEffect(()=>{n(t)},[t,n]),{preloadImages:n}},_O=(t,r,n=!0)=>{const{preloadImages:o}=IQ([],{enabled:n,priority:"low"});Y.useEffect(()=>{var d,h;if(!n||!t.length)return;const a=[];if(r>0){const p=t[r-1];p!=null&&p.images&&a.push(...p.images.map(g=>g.url)),(d=p==null?void 0:p.subsections)==null||d.forEach(g=>{var b;g.images&&a.push(...g.images.map(y=>y.url)),(b=g==null?void 0:g.subSubsections)==null||b.forEach(y=>{y.images&&a.push(...y.images.map(v=>v.url))})})}if(r<t.length-1){const p=t[r+1];p!=null&&p.images&&a.push(...p.images.map(g=>g.url)),(h=p==null?void 0:p.subsections)==null||h.forEach(g=>{var b;g.images&&a.push(...g.images.map(y=>y.url)),(b=g==null?void 0:g.subSubsections)==null||b.forEach(y=>{y.images&&a.push(...y.images.map(v=>v.url))})})}const l=Array.from(new Set(a.filter(Boolean)));l.length>0&&(console.log(`Preloading ${l.length} images from adjacent sections`),o(l))},[t,r,n,o])},oT=({content:t,onChange:r})=>{const n=(o,a)=>{const l=a.getData();r(l)};return A.jsx(vO.CKEditor,{editor:AO,data:t,onChange:n,config:{toolbar:["heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","link"]}})},TQ=({value:t,onChange:r})=>{const[n,o]=Y.useState([]),[a,l]=Y.useState(!0),{userDetails:d}=Ti();Y.useEffect(()=>{if(console.log("User Details in CourseDropdown:",d),d!=null&&d.classes){const p=Object.entries(d.classes).filter(([g,b])=>b.isCourseAdmin||d.isSuperAdmin).map(([g,b])=>({id:g,number:b.number,title:b.title}));console.log("Filtered Courses for Dropdown:",p),o(p)}else o([]);l(!1)},[d]);const h=n.some(p=>p.id===t);return a?A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:A.jsx(Lr,{})}):A.jsx(Jt,{select:!0,label:"Select Course",value:h?t:"",onChange:p=>r(p.target.value),fullWidth:!0,sx:{mb:2},error:!h&&t!=="",helperText:!h&&t!==""?"Invalid course selected":"",children:n.length>0?n.map(p=>A.jsxs(Ir,{value:p.id,children:[p.number," - ",p.title]},p.id)):A.jsx(Ir,{disabled:!0,children:"No courses available"})})};function Ft(t){const r=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&r==="[object Date]"?new t.constructor(+t):typeof t=="number"||r==="[object Number]"||typeof t=="string"||r==="[object String]"?new Date(t):new Date(NaN)}function dr(t,r){return t instanceof Date?new t.constructor(r):new Date(r)}function ml(t,r){const n=Ft(t);return isNaN(r)?dr(t,NaN):(r&&n.setDate(n.getDate()+r),n)}function gl(t,r){const n=Ft(t);if(isNaN(r))return dr(t,NaN);if(!r)return n;const o=n.getDate(),a=dr(t,n.getTime());a.setMonth(n.getMonth()+r+1,0);const l=a.getDate();return o>=l?a:(n.setFullYear(a.getFullYear(),a.getMonth(),o),n)}function tC(t,r){const n=+Ft(t);return dr(t,n+r)}const CO=6048e5,NQ=864e5,D1=6e4,I1=36e5,MQ=1e3;function PQ(t,r){return tC(t,r*I1)}let OQ={};function Gh(){return OQ}function au(t,r){var h,p,g,b;const n=Gh(),o=(r==null?void 0:r.weekStartsOn)??((p=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((b=(g=n.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??0,a=Ft(t),l=a.getDay(),d=(l<o?7:0)+l-o;return a.setDate(a.getDate()-d),a.setHours(0,0,0,0),a}function Cp(t){return au(t,{weekStartsOn:1})}function xO(t){const r=Ft(t),n=r.getFullYear(),o=dr(t,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const a=Cp(o),l=dr(t,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const d=Cp(l);return r.getTime()>=a.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function Fh(t){const r=Ft(t);return r.setHours(0,0,0,0),r}function $k(t){const r=Ft(t),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+t-+n}function xp(t,r){const n=Fh(t),o=Fh(r),a=+n-$k(n),l=+o-$k(o);return Math.round((a-l)/NQ)}function jQ(t){const r=xO(t),n=dr(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Cp(n)}function zA(t,r){return tC(t,r*D1)}function nC(t,r){const n=r*3;return gl(t,n)}function LQ(t,r){return tC(t,r*1e3)}function Hk(t,r){const n=r*7;return ml(t,n)}function ru(t,r){return gl(t,r*12)}function sT(t){let r;return t.forEach(function(n){const o=Ft(n);(r===void 0||r<o||isNaN(Number(o)))&&(r=o)}),r||new Date(NaN)}function aT(t){let r;return t.forEach(n=>{const o=Ft(n);(!r||r>o||isNaN(+o))&&(r=o)}),r||new Date(NaN)}function RQ(t,r){const n=Fh(t),o=Fh(r);return+n==+o}function iu(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Wk(t){if(!iu(t)&&typeof t!="number")return!1;const r=Ft(t);return!isNaN(Number(r))}function Gk(t,r){const n=Ft(t),o=Ft(r),a=n.getFullYear()-o.getFullYear(),l=n.getMonth()-o.getMonth();return a*12+l}function Ih(t){const r=Ft(t);return Math.trunc(r.getMonth()/3)+1}function Yk(t,r){const n=Ft(t),o=Ft(r),a=n.getFullYear()-o.getFullYear(),l=Ih(n)-Ih(o);return a*4+l}function Kk(t,r){const n=Ft(t),o=Ft(r);return n.getFullYear()-o.getFullYear()}function BQ(t,r){const n=Ft(t),o=Ft(r),a=lT(n,o),l=Math.abs(xp(n,o));n.setDate(n.getDate()-a*l);const d=+(lT(n,o)===-a),h=a*(l-d);return h===0?0:h}function lT(t,r){const n=t.getFullYear()-r.getFullYear()||t.getMonth()-r.getMonth()||t.getDate()-r.getDate()||t.getHours()-r.getHours()||t.getMinutes()-r.getMinutes()||t.getSeconds()-r.getSeconds()||t.getMilliseconds()-r.getMilliseconds();return n<0?-1:n>0?1:n}function SO(t){const r=Ft(t);return r.setHours(23,59,59,999),r}function EO(t){const r=Ft(t),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function UA(t){const r=Ft(t),n=r.getMonth(),o=n-n%3;return r.setMonth(o,1),r.setHours(0,0,0,0),r}function DO(t){const r=Ft(t);return r.setDate(1),r.setHours(0,0,0,0),r}function IO(t){const r=Ft(t),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function T1(t){const r=Ft(t),n=dr(t,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}function FQ(t,r){var h,p;const n=Gh(),o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,a=Ft(t),l=a.getDay(),d=(l<o?-7:0)+6-(l-o);return a.setDate(a.getDate()+d),a.setHours(23,59,59,999),a}const zQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UQ=(t,r,n)=>{let o;const a=zQ[t];return typeof a=="string"?o=a:r===1?o=a.one:o=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function Ev(t){return(r={})=>{const n=r.width?String(r.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const qQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},VQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$Q={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HQ={date:Ev({formats:qQ,defaultWidth:"full"}),time:Ev({formats:VQ,defaultWidth:"full"}),dateTime:Ev({formats:$Q,defaultWidth:"full"})},WQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},GQ=(t,r,n,o)=>WQ[t];function Gm(t){return(r,n)=>{const o=n!=null&&n.context?String(n.context):"standalone";let a;if(o==="formatting"&&t.formattingValues){const d=t.defaultFormattingWidth||t.defaultWidth,h=n!=null&&n.width?String(n.width):d;a=t.formattingValues[h]||t.formattingValues[d]}else{const d=t.defaultWidth,h=n!=null&&n.width?String(n.width):t.defaultWidth;a=t.values[h]||t.values[d]}const l=t.argumentCallback?t.argumentCallback(r):r;return a[l]}}const YQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},KQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},QQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},JQ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ZQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},XQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eJ=(t,r)=>{const n=Number(t),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tJ={ordinalNumber:eJ,era:Gm({values:YQ,defaultWidth:"wide"}),quarter:Gm({values:KQ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Gm({values:QQ,defaultWidth:"wide"}),day:Gm({values:JQ,defaultWidth:"wide"}),dayPeriod:Gm({values:ZQ,defaultWidth:"wide",formattingValues:XQ,defaultFormattingWidth:"wide"})};function Ym(t){return(r,n={})=>{const o=n.width,a=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],l=r.match(a);if(!l)return null;const d=l[0],h=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth],p=Array.isArray(h)?rJ(h,y=>y.test(d)):nJ(h,y=>y.test(d));let g;g=t.valueCallback?t.valueCallback(p):p,g=n.valueCallback?n.valueCallback(g):g;const b=r.slice(d.length);return{value:g,rest:b}}}function nJ(t,r){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r(t[n]))return n}function rJ(t,r){for(let n=0;n<t.length;n++)if(r(t[n]))return n}function iJ(t){return(r,n={})=>{const o=r.match(t.matchPattern);if(!o)return null;const a=o[0],l=r.match(t.parsePattern);if(!l)return null;let d=t.valueCallback?t.valueCallback(l[0]):l[0];d=n.valueCallback?n.valueCallback(d):d;const h=r.slice(a.length);return{value:d,rest:h}}}const oJ=/^(\d+)(th|st|nd|rd)?/i,sJ=/\d+/i,aJ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lJ={any:[/^b/i,/^(a|c)/i]},cJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uJ={any:[/1/i,/2/i,/3/i,/4/i]},dJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pJ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mJ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bJ={ordinalNumber:iJ({matchPattern:oJ,parsePattern:sJ,valueCallback:t=>parseInt(t,10)}),era:Ym({matchPatterns:aJ,defaultMatchWidth:"wide",parsePatterns:lJ,defaultParseWidth:"any"}),quarter:Ym({matchPatterns:cJ,defaultMatchWidth:"wide",parsePatterns:uJ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ym({matchPatterns:dJ,defaultMatchWidth:"wide",parsePatterns:hJ,defaultParseWidth:"any"}),day:Ym({matchPatterns:fJ,defaultMatchWidth:"wide",parsePatterns:pJ,defaultParseWidth:"any"}),dayPeriod:Ym({matchPatterns:mJ,defaultMatchWidth:"any",parsePatterns:gJ,defaultParseWidth:"any"})},TO={code:"en-US",formatDistance:UQ,formatLong:HQ,formatRelative:GQ,localize:tJ,match:bJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kJ(t){const r=Ft(t);return xp(r,T1(r))+1}function rC(t){const r=Ft(t),n=+Cp(r)-+jQ(r);return Math.round(n/CO)+1}function iC(t,r){var b,y,v,k;const n=Ft(t),o=n.getFullYear(),a=Gh(),l=(r==null?void 0:r.firstWeekContainsDate)??((y=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:y.firstWeekContainsDate)??a.firstWeekContainsDate??((k=(v=a.locale)==null?void 0:v.options)==null?void 0:k.firstWeekContainsDate)??1,d=dr(t,0);d.setFullYear(o+1,0,l),d.setHours(0,0,0,0);const h=au(d,r),p=dr(t,0);p.setFullYear(o,0,l),p.setHours(0,0,0,0);const g=au(p,r);return n.getTime()>=h.getTime()?o+1:n.getTime()>=g.getTime()?o:o-1}function wJ(t,r){var h,p,g,b;const n=Gh(),o=(r==null?void 0:r.firstWeekContainsDate)??((p=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((b=(g=n.locale)==null?void 0:g.options)==null?void 0:b.firstWeekContainsDate)??1,a=iC(t,r),l=dr(t,0);return l.setFullYear(a,0,o),l.setHours(0,0,0,0),au(l,r)}function NO(t,r){const n=Ft(t),o=+au(n,r)-+wJ(n,r);return Math.round(o/CO)+1}function ur(t,r){const n=t<0?"-":"",o=Math.abs(t).toString().padStart(r,"0");return n+o}const Wu={y(t,r){const n=t.getFullYear(),o=n>0?n:1-n;return ur(r==="yy"?o%100:o,r.length)},M(t,r){const n=t.getMonth();return r==="M"?String(n+1):ur(n+1,2)},d(t,r){return ur(t.getDate(),r.length)},a(t,r){const n=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,r){return ur(t.getHours()%12||12,r.length)},H(t,r){return ur(t.getHours(),r.length)},m(t,r){return ur(t.getMinutes(),r.length)},s(t,r){return ur(t.getSeconds(),r.length)},S(t,r){const n=r.length,o=t.getMilliseconds(),a=Math.trunc(o*Math.pow(10,n-3));return ur(a,r.length)}},qf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cT={G:function(t,r,n){const o=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){const o=t.getFullYear(),a=o>0?o:1-o;return n.ordinalNumber(a,{unit:"year"})}return Wu.y(t,r)},Y:function(t,r,n,o){const a=iC(t,o),l=a>0?a:1-a;if(r==="YY"){const d=l%100;return ur(d,2)}return r==="Yo"?n.ordinalNumber(l,{unit:"year"}):ur(l,r.length)},R:function(t,r){const n=xO(t);return ur(n,r.length)},u:function(t,r){const n=t.getFullYear();return ur(n,r.length)},Q:function(t,r,n){const o=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return ur(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,r,n){const o=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return ur(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,r,n){const o=t.getMonth();switch(r){case"M":case"MM":return Wu.M(t,r);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(t,r,n){const o=t.getMonth();switch(r){case"L":return String(o+1);case"LL":return ur(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(t,r,n,o){const a=NO(t,o);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):ur(a,r.length)},I:function(t,r,n){const o=rC(t);return r==="Io"?n.ordinalNumber(o,{unit:"week"}):ur(o,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Wu.d(t,r)},D:function(t,r,n){const o=kJ(t);return r==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):ur(o,r.length)},E:function(t,r,n){const o=t.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(t,r,n,o){const a=t.getDay(),l=(a-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(l);case"ee":return ur(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,r,n,o){const a=t.getDay(),l=(a-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(l);case"cc":return ur(l,r.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,r,n){const o=t.getDay(),a=o===0?7:o;switch(r){case"i":return String(a);case"ii":return ur(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(t,r,n){const a=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,r,n){const o=t.getHours();let a;switch(o===12?a=qf.noon:o===0?a=qf.midnight:a=o/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,r,n){const o=t.getHours();let a;switch(o>=17?a=qf.evening:o>=12?a=qf.afternoon:o>=4?a=qf.morning:a=qf.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){let o=t.getHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return Wu.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Wu.H(t,r)},K:function(t,r,n){const o=t.getHours()%12;return r==="Ko"?n.ordinalNumber(o,{unit:"hour"}):ur(o,r.length)},k:function(t,r,n){let o=t.getHours();return o===0&&(o=24),r==="ko"?n.ordinalNumber(o,{unit:"hour"}):ur(o,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Wu.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Wu.s(t,r)},S:function(t,r){return Wu.S(t,r)},X:function(t,r,n){const o=t.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return dT(o);case"XXXX":case"XX":return fh(o);case"XXXXX":case"XXX":default:return fh(o,":")}},x:function(t,r,n){const o=t.getTimezoneOffset();switch(r){case"x":return dT(o);case"xxxx":case"xx":return fh(o);case"xxxxx":case"xxx":default:return fh(o,":")}},O:function(t,r,n){const o=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+uT(o,":");case"OOOO":default:return"GMT"+fh(o,":")}},z:function(t,r,n){const o=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+uT(o,":");case"zzzz":default:return"GMT"+fh(o,":")}},t:function(t,r,n){const o=Math.trunc(t.getTime()/1e3);return ur(o,r.length)},T:function(t,r,n){const o=t.getTime();return ur(o,r.length)}};function uT(t,r=""){const n=t>0?"-":"+",o=Math.abs(t),a=Math.trunc(o/60),l=o%60;return l===0?n+String(a):n+String(a)+r+ur(l,2)}function dT(t,r){return t%60===0?(t>0?"-":"+")+ur(Math.abs(t)/60,2):fh(t,r)}function fh(t,r=""){const n=t>0?"-":"+",o=Math.abs(t),a=ur(Math.trunc(o/60),2),l=ur(o%60,2);return n+a+r+l}const hT=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},MO=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},yJ=(t,r)=>{const n=t.match(/(P+)(p+)?/)||[],o=n[1],a=n[2];if(!a)return hT(t,r);let l;switch(o){case"P":l=r.dateTime({width:"short"});break;case"PP":l=r.dateTime({width:"medium"});break;case"PPP":l=r.dateTime({width:"long"});break;case"PPPP":default:l=r.dateTime({width:"full"});break}return l.replace("{{date}}",hT(o,r)).replace("{{time}}",MO(a,r))},Qk={p:MO,P:yJ},vJ=/^D+$/,AJ=/^Y+$/,_J=["D","DD","YY","YYYY"];function PO(t){return vJ.test(t)}function OO(t){return AJ.test(t)}function qA(t,r,n){const o=CJ(t,r,n);if(console.warn(o),_J.includes(t))throw new RangeError(o)}function CJ(t,r,n){const o=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${o} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EJ=/^'([^]*?)'?$/,DJ=/''/g,IJ=/[a-zA-Z]/;function fT(t,r,n){var b,y,v,k,x,C,D,S;const o=Gh(),a=(n==null?void 0:n.locale)??o.locale??TO,l=(n==null?void 0:n.firstWeekContainsDate)??((y=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:y.firstWeekContainsDate)??o.firstWeekContainsDate??((k=(v=o.locale)==null?void 0:v.options)==null?void 0:k.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((C=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:C.weekStartsOn)??o.weekStartsOn??((S=(D=o.locale)==null?void 0:D.options)==null?void 0:S.weekStartsOn)??0,h=Ft(t);if(!Wk(h))throw new RangeError("Invalid time value");let p=r.match(SJ).map(N=>{const P=N[0];if(P==="p"||P==="P"){const B=Qk[P];return B(N,a.formatLong)}return N}).join("").match(xJ).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const P=N[0];if(P==="'")return{isToken:!1,value:TJ(N)};if(cT[P])return{isToken:!0,value:N};if(P.match(IJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:N}});a.localize.preprocessor&&(p=a.localize.preprocessor(h,p));const g={firstWeekContainsDate:l,weekStartsOn:d,locale:a};return p.map(N=>{if(!N.isToken)return N.value;const P=N.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&OO(P)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&PO(P))&&qA(P,r,String(t));const B=cT[P[0]];return B(h,P,a.localize,g)}).join("")}function TJ(t){const r=t.match(EJ);return r?r[1].replace(DJ,"'"):t}function pT(t){return Ft(t).getDate()}function NJ(t){return Ft(t).getDay()}function MJ(t){const r=Ft(t),n=r.getFullYear(),o=r.getMonth(),a=dr(t,0);return a.setFullYear(n,o+1,0),a.setHours(0,0,0,0),a.getDate()}function PJ(){return Object.assign({},Gh())}function dc(t){return Ft(t).getHours()}function OJ(t){let n=Ft(t).getDay();return n===0&&(n=7),n}function hc(t){return Ft(t).getMinutes()}function rs(t){return Ft(t).getMonth()}function ou(t){return Ft(t).getSeconds()}function VA(t){return Ft(t).getTime()}function Tn(t){return Ft(t).getFullYear()}function ud(t,r){const n=Ft(t),o=Ft(r);return n.getTime()>o.getTime()}function zh(t,r){const n=Ft(t),o=Ft(r);return+n<+o}function jJ(t,r){const n=Ft(t),o=Ft(r);return+n==+o}function LJ(t,r){const n=r instanceof Date?dr(r,0):new r(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const RJ=10;class jO{constructor(){yt(this,"subPriority",0)}validate(r,n){return!0}}class BJ extends jO{constructor(r,n,o,a,l){super(),this.value=r,this.validateValue=n,this.setValue=o,this.priority=a,l&&(this.subPriority=l)}validate(r,n){return this.validateValue(r,this.value,n)}set(r,n,o){return this.setValue(r,n,this.value,o)}}class FJ extends jO{constructor(){super(...arguments);yt(this,"priority",RJ);yt(this,"subPriority",-1)}set(n,o){return o.timestampIsSet?n:dr(n,LJ(n,Date))}}let nr=class{run(r,n,o,a){const l=this.parse(r,n,o,a);return l?{setter:new BJ(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(r,n,o){return!0}};class zJ extends nr{constructor(){super(...arguments);yt(this,"priority",140);yt(this,"incompatibleTokens",["R","u","t","T"])}parse(n,o,a){switch(o){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})||a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"})}}set(n,o,a){return o.era=a,n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}const Ei={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ic={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Di(t,r){return t&&{value:r(t.value),rest:t.rest}}function ti(t,r){const n=r.match(t);return n?{value:parseInt(n[0],10),rest:r.slice(n[0].length)}:null}function oc(t,r){const n=r.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:r.slice(1)};const o=n[1]==="+"?1:-1,a=n[2]?parseInt(n[2],10):0,l=n[3]?parseInt(n[3],10):0,d=n[5]?parseInt(n[5],10):0;return{value:o*(a*I1+l*D1+d*MQ),rest:r.slice(n[0].length)}}function LO(t){return ti(Ei.anyDigitsSigned,t)}function gi(t,r){switch(t){case 1:return ti(Ei.singleDigit,r);case 2:return ti(Ei.twoDigits,r);case 3:return ti(Ei.threeDigits,r);case 4:return ti(Ei.fourDigits,r);default:return ti(new RegExp("^\\d{1,"+t+"}"),r)}}function Jk(t,r){switch(t){case 1:return ti(Ei.singleDigitSigned,r);case 2:return ti(Ei.twoDigitsSigned,r);case 3:return ti(Ei.threeDigitsSigned,r);case 4:return ti(Ei.fourDigitsSigned,r);default:return ti(new RegExp("^-?\\d{1,"+t+"}"),r)}}function oC(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function RO(t,r){const n=r>0,o=n?r:1-r;let a;if(o<=50)a=t||100;else{const l=o+50,d=Math.trunc(l/100)*100,h=t>=l%100;a=t+d-(h?100:0)}return n?a:1-a}function BO(t){return t%400===0||t%4===0&&t%100!==0}class UJ extends nr{constructor(){super(...arguments);yt(this,"priority",130);yt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,o,a){const l=d=>({year:d,isTwoDigitYear:o==="yy"});switch(o){case"y":return Di(gi(4,n),l);case"yo":return Di(a.ordinalNumber(n,{unit:"year"}),l);default:return Di(gi(o.length,n),l)}}validate(n,o){return o.isTwoDigitYear||o.year>0}set(n,o,a){const l=n.getFullYear();if(a.isTwoDigitYear){const h=RO(a.year,l);return n.setFullYear(h,0,1),n.setHours(0,0,0,0),n}const d=!("era"in o)||o.era===1?a.year:1-a.year;return n.setFullYear(d,0,1),n.setHours(0,0,0,0),n}}class qJ extends nr{constructor(){super(...arguments);yt(this,"priority",130);yt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,o,a){const l=d=>({year:d,isTwoDigitYear:o==="YY"});switch(o){case"Y":return Di(gi(4,n),l);case"Yo":return Di(a.ordinalNumber(n,{unit:"year"}),l);default:return Di(gi(o.length,n),l)}}validate(n,o){return o.isTwoDigitYear||o.year>0}set(n,o,a,l){const d=iC(n,l);if(a.isTwoDigitYear){const p=RO(a.year,d);return n.setFullYear(p,0,l.firstWeekContainsDate),n.setHours(0,0,0,0),au(n,l)}const h=!("era"in o)||o.era===1?a.year:1-a.year;return n.setFullYear(h,0,l.firstWeekContainsDate),n.setHours(0,0,0,0),au(n,l)}}class VJ extends nr{constructor(){super(...arguments);yt(this,"priority",130);yt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,o){return Jk(o==="R"?4:o.length,n)}set(n,o,a){const l=dr(n,0);return l.setFullYear(a,0,4),l.setHours(0,0,0,0),Cp(l)}}class $J extends nr{constructor(){super(...arguments);yt(this,"priority",130);yt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,o){return Jk(o==="u"?4:o.length,n)}set(n,o,a){return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class HJ extends nr{constructor(){super(...arguments);yt(this,"priority",120);yt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,o,a){switch(o){case"Q":case"QQ":return gi(o.length,n);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})||a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=1&&o<=4}set(n,o,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class WJ extends nr{constructor(){super(...arguments);yt(this,"priority",120);yt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,o,a){switch(o){case"q":case"qq":return gi(o.length,n);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})||a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=1&&o<=4}set(n,o,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class GJ extends nr{constructor(){super(...arguments);yt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);yt(this,"priority",110)}parse(n,o,a){const l=d=>d-1;switch(o){case"M":return Di(ti(Ei.month,n),l);case"MM":return Di(gi(2,n),l);case"Mo":return Di(a.ordinalNumber(n,{unit:"month"}),l);case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})||a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=11}set(n,o,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}class YJ extends nr{constructor(){super(...arguments);yt(this,"priority",110);yt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,o,a){const l=d=>d-1;switch(o){case"L":return Di(ti(Ei.month,n),l);case"LL":return Di(gi(2,n),l);case"Lo":return Di(a.ordinalNumber(n,{unit:"month"}),l);case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})||a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=0&&o<=11}set(n,o,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}function KJ(t,r,n){const o=Ft(t),a=NO(o,n)-r;return o.setDate(o.getDate()-a*7),o}class QJ extends nr{constructor(){super(...arguments);yt(this,"priority",100);yt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,o,a){switch(o){case"w":return ti(Ei.week,n);case"wo":return a.ordinalNumber(n,{unit:"week"});default:return gi(o.length,n)}}validate(n,o){return o>=1&&o<=53}set(n,o,a,l){return au(KJ(n,a,l),l)}}function JJ(t,r){const n=Ft(t),o=rC(n)-r;return n.setDate(n.getDate()-o*7),n}class ZJ extends nr{constructor(){super(...arguments);yt(this,"priority",100);yt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,o,a){switch(o){case"I":return ti(Ei.week,n);case"Io":return a.ordinalNumber(n,{unit:"week"});default:return gi(o.length,n)}}validate(n,o){return o>=1&&o<=53}set(n,o,a){return Cp(JJ(n,a))}}const XJ=[31,28,31,30,31,30,31,31,30,31,30,31],eZ=[31,29,31,30,31,30,31,31,30,31,30,31];class tZ extends nr{constructor(){super(...arguments);yt(this,"priority",90);yt(this,"subPriority",1);yt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,o,a){switch(o){case"d":return ti(Ei.date,n);case"do":return a.ordinalNumber(n,{unit:"date"});default:return gi(o.length,n)}}validate(n,o){const a=n.getFullYear(),l=BO(a),d=n.getMonth();return l?o>=1&&o<=eZ[d]:o>=1&&o<=XJ[d]}set(n,o,a){return n.setDate(a),n.setHours(0,0,0,0),n}}class nZ extends nr{constructor(){super(...arguments);yt(this,"priority",90);yt(this,"subpriority",1);yt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,o,a){switch(o){case"D":case"DD":return ti(Ei.dayOfYear,n);case"Do":return a.ordinalNumber(n,{unit:"date"});default:return gi(o.length,n)}}validate(n,o){const a=n.getFullYear();return BO(a)?o>=1&&o<=366:o>=1&&o<=365}set(n,o,a){return n.setMonth(0,a),n.setHours(0,0,0,0),n}}function sC(t,r,n){var y,v,k,x;const o=Gh(),a=(n==null?void 0:n.weekStartsOn)??((v=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??o.weekStartsOn??((x=(k=o.locale)==null?void 0:k.options)==null?void 0:x.weekStartsOn)??0,l=Ft(t),d=l.getDay(),p=(r%7+7)%7,g=7-a,b=r<0||r>6?r-(d+g)%7:(p+g)%7-(d+g)%7;return ml(l,b)}class rZ extends nr{constructor(){super(...arguments);yt(this,"priority",90);yt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,o,a){switch(o){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=6}set(n,o,a,l){return n=sC(n,a,l),n.setHours(0,0,0,0),n}}class iZ extends nr{constructor(){super(...arguments);yt(this,"priority",90);yt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,o,a,l){const d=h=>{const p=Math.floor((h-1)/7)*7;return(h+l.weekStartsOn+6)%7+p};switch(o){case"e":case"ee":return Di(gi(o.length,n),d);case"eo":return Di(a.ordinalNumber(n,{unit:"day"}),d);case"eee":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=6}set(n,o,a,l){return n=sC(n,a,l),n.setHours(0,0,0,0),n}}class oZ extends nr{constructor(){super(...arguments);yt(this,"priority",90);yt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,o,a,l){const d=h=>{const p=Math.floor((h-1)/7)*7;return(h+l.weekStartsOn+6)%7+p};switch(o){case"c":case"cc":return Di(gi(o.length,n),d);case"co":return Di(a.ordinalNumber(n,{unit:"day"}),d);case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})||a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=0&&o<=6}set(n,o,a,l){return n=sC(n,a,l),n.setHours(0,0,0,0),n}}function sZ(t,r){const n=Ft(t),o=OJ(n),a=r-o;return ml(n,a)}class aZ extends nr{constructor(){super(...arguments);yt(this,"priority",90);yt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,o,a){const l=d=>d===0?7:d;switch(o){case"i":case"ii":return gi(o.length,n);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return Di(a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),l);case"iiiii":return Di(a.day(n,{width:"narrow",context:"formatting"}),l);case"iiiiii":return Di(a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),l);case"iiii":default:return Di(a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),l)}}validate(n,o){return o>=1&&o<=7}set(n,o,a){return n=sZ(n,a),n.setHours(0,0,0,0),n}}class lZ extends nr{constructor(){super(...arguments);yt(this,"priority",80);yt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,o,a){switch(o){case"a":case"aa":case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,a){return n.setHours(oC(a),0,0,0),n}}class cZ extends nr{constructor(){super(...arguments);yt(this,"priority",80);yt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,o,a){switch(o){case"b":case"bb":case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,a){return n.setHours(oC(a),0,0,0),n}}class uZ extends nr{constructor(){super(...arguments);yt(this,"priority",80);yt(this,"incompatibleTokens",["a","b","t","T"])}parse(n,o,a){switch(o){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,a){return n.setHours(oC(a),0,0,0),n}}class dZ extends nr{constructor(){super(...arguments);yt(this,"priority",70);yt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,o,a){switch(o){case"h":return ti(Ei.hour12h,n);case"ho":return a.ordinalNumber(n,{unit:"hour"});default:return gi(o.length,n)}}validate(n,o){return o>=1&&o<=12}set(n,o,a){const l=n.getHours()>=12;return l&&a<12?n.setHours(a+12,0,0,0):!l&&a===12?n.setHours(0,0,0,0):n.setHours(a,0,0,0),n}}class hZ extends nr{constructor(){super(...arguments);yt(this,"priority",70);yt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,o,a){switch(o){case"H":return ti(Ei.hour23h,n);case"Ho":return a.ordinalNumber(n,{unit:"hour"});default:return gi(o.length,n)}}validate(n,o){return o>=0&&o<=23}set(n,o,a){return n.setHours(a,0,0,0),n}}class fZ extends nr{constructor(){super(...arguments);yt(this,"priority",70);yt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,o,a){switch(o){case"K":return ti(Ei.hour11h,n);case"Ko":return a.ordinalNumber(n,{unit:"hour"});default:return gi(o.length,n)}}validate(n,o){return o>=0&&o<=11}set(n,o,a){return n.getHours()>=12&&a<12?n.setHours(a+12,0,0,0):n.setHours(a,0,0,0),n}}class pZ extends nr{constructor(){super(...arguments);yt(this,"priority",70);yt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,o,a){switch(o){case"k":return ti(Ei.hour24h,n);case"ko":return a.ordinalNumber(n,{unit:"hour"});default:return gi(o.length,n)}}validate(n,o){return o>=1&&o<=24}set(n,o,a){const l=a<=24?a%24:a;return n.setHours(l,0,0,0),n}}class mZ extends nr{constructor(){super(...arguments);yt(this,"priority",60);yt(this,"incompatibleTokens",["t","T"])}parse(n,o,a){switch(o){case"m":return ti(Ei.minute,n);case"mo":return a.ordinalNumber(n,{unit:"minute"});default:return gi(o.length,n)}}validate(n,o){return o>=0&&o<=59}set(n,o,a){return n.setMinutes(a,0,0),n}}class gZ extends nr{constructor(){super(...arguments);yt(this,"priority",50);yt(this,"incompatibleTokens",["t","T"])}parse(n,o,a){switch(o){case"s":return ti(Ei.second,n);case"so":return a.ordinalNumber(n,{unit:"second"});default:return gi(o.length,n)}}validate(n,o){return o>=0&&o<=59}set(n,o,a){return n.setSeconds(a,0),n}}class bZ extends nr{constructor(){super(...arguments);yt(this,"priority",30);yt(this,"incompatibleTokens",["t","T"])}parse(n,o){const a=l=>Math.trunc(l*Math.pow(10,-o.length+3));return Di(gi(o.length,n),a)}set(n,o,a){return n.setMilliseconds(a),n}}class kZ extends nr{constructor(){super(...arguments);yt(this,"priority",10);yt(this,"incompatibleTokens",["t","T","x"])}parse(n,o){switch(o){case"X":return oc(ic.basicOptionalMinutes,n);case"XX":return oc(ic.basic,n);case"XXXX":return oc(ic.basicOptionalSeconds,n);case"XXXXX":return oc(ic.extendedOptionalSeconds,n);case"XXX":default:return oc(ic.extended,n)}}set(n,o,a){return o.timestampIsSet?n:dr(n,n.getTime()-$k(n)-a)}}class wZ extends nr{constructor(){super(...arguments);yt(this,"priority",10);yt(this,"incompatibleTokens",["t","T","X"])}parse(n,o){switch(o){case"x":return oc(ic.basicOptionalMinutes,n);case"xx":return oc(ic.basic,n);case"xxxx":return oc(ic.basicOptionalSeconds,n);case"xxxxx":return oc(ic.extendedOptionalSeconds,n);case"xxx":default:return oc(ic.extended,n)}}set(n,o,a){return o.timestampIsSet?n:dr(n,n.getTime()-$k(n)-a)}}class yZ extends nr{constructor(){super(...arguments);yt(this,"priority",40);yt(this,"incompatibleTokens","*")}parse(n){return LO(n)}set(n,o,a){return[dr(n,a*1e3),{timestampIsSet:!0}]}}class vZ extends nr{constructor(){super(...arguments);yt(this,"priority",20);yt(this,"incompatibleTokens","*")}parse(n){return LO(n)}set(n,o,a){return[dr(n,a),{timestampIsSet:!0}]}}const AZ={G:new zJ,y:new UJ,Y:new qJ,R:new VJ,u:new $J,Q:new HJ,q:new WJ,M:new GJ,L:new YJ,w:new QJ,I:new ZJ,d:new tZ,D:new nZ,E:new rZ,e:new iZ,c:new oZ,i:new aZ,a:new lZ,b:new cZ,B:new uZ,h:new dZ,H:new hZ,K:new fZ,k:new pZ,m:new mZ,s:new gZ,S:new bZ,X:new kZ,x:new wZ,t:new yZ,T:new vZ},_Z=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xZ=/^'([^]*?)'?$/,SZ=/''/g,EZ=/\S/,DZ=/[a-zA-Z]/;function Dv(t,r,n,o){var C,D,S,N,P,B,$,V;const a=PJ(),l=(o==null?void 0:o.locale)??a.locale??TO,d=(o==null?void 0:o.firstWeekContainsDate)??((D=(C=o==null?void 0:o.locale)==null?void 0:C.options)==null?void 0:D.firstWeekContainsDate)??a.firstWeekContainsDate??((N=(S=a.locale)==null?void 0:S.options)==null?void 0:N.firstWeekContainsDate)??1,h=(o==null?void 0:o.weekStartsOn)??((B=(P=o==null?void 0:o.locale)==null?void 0:P.options)==null?void 0:B.weekStartsOn)??a.weekStartsOn??((V=($=a.locale)==null?void 0:$.options)==null?void 0:V.weekStartsOn)??0;if(r==="")return t===""?Ft(n):dr(n,NaN);const p={firstWeekContainsDate:d,weekStartsOn:h,locale:l},g=[new FJ],b=r.match(CZ).map(M=>{const L=M[0];if(L in Qk){const q=Qk[L];return q(M,l.formatLong)}return M}).join("").match(_Z),y=[];for(let M of b){!(o!=null&&o.useAdditionalWeekYearTokens)&&OO(M)&&qA(M,r,t),!(o!=null&&o.useAdditionalDayOfYearTokens)&&PO(M)&&qA(M,r,t);const L=M[0],q=AZ[L];if(q){const{incompatibleTokens:Q}=q;if(Array.isArray(Q)){const F=y.find(G=>Q.includes(G.token)||G.token===L);if(F)throw new RangeError(`The format string mustn't contain \`${F.fullToken}\` and \`${M}\` at the same time`)}else if(q.incompatibleTokens==="*"&&y.length>0)throw new RangeError(`The format string mustn't contain \`${M}\` and any other token at the same time`);y.push({token:L,fullToken:M});const H=q.run(t,M,l.match,p);if(!H)return dr(n,NaN);g.push(H.setter),t=H.rest}else{if(L.match(DZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");if(M==="''"?M="'":L==="'"&&(M=IZ(M)),t.indexOf(M)===0)t=t.slice(M.length);else return dr(n,NaN)}}if(t.length>0&&EZ.test(t))return dr(n,NaN);const v=g.map(M=>M.priority).sort((M,L)=>L-M).filter((M,L,q)=>q.indexOf(M)===L).map(M=>g.filter(L=>L.priority===M).sort((L,q)=>q.subPriority-L.subPriority)).map(M=>M[0]);let k=Ft(n);if(isNaN(k.getTime()))return dr(n,NaN);const x={};for(const M of v){if(!M.validate(k,p))return dr(n,NaN);const L=M.set(k,x,p);Array.isArray(L)?(k=L[0],Object.assign(x,L[1])):k=L}return dr(n,k)}function IZ(t){return t.match(xZ)[1].replace(SZ,"'")}function TZ(t,r){const n=Ft(t),o=Ft(r);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}function NZ(t,r){const n=UA(t),o=UA(r);return+n==+o}function MZ(t,r){const n=Ft(t),o=Ft(r);return n.getFullYear()===o.getFullYear()}function Rg(t,r){const n=+Ft(t),[o,a]=[+Ft(r.start),+Ft(r.end)].sort((l,d)=>l-d);return n>=o&&n<=a}function PZ(t,r){return ml(t,-1)}function OZ(t,r){const o=BZ(t);let a;if(o.date){const p=FZ(o.date,2);a=zZ(p.restDateString,p.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const l=a.getTime();let d=0,h;if(o.time&&(d=UZ(o.time),isNaN(d)))return new Date(NaN);if(o.timezone){if(h=qZ(o.timezone),isNaN(h))return new Date(NaN)}else{const p=new Date(l+d),g=new Date(0);return g.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),g.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),g}return new Date(l+d+h)}const G0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},jZ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,LZ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,RZ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function BZ(t){const r={},n=t.split(G0.dateTimeDelimiter);let o;if(n.length>2)return r;if(/:/.test(n[0])?o=n[0]:(r.date=n[0],o=n[1],G0.timeZoneDelimiter.test(r.date)&&(r.date=t.split(G0.timeZoneDelimiter)[0],o=t.substr(r.date.length,t.length))),o){const a=G0.timezone.exec(o);a?(r.time=o.replace(a[1],""),r.timezone=a[1]):r.time=o}return r}function FZ(t,r){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),o=t.match(n);if(!o)return{year:NaN,restDateString:""};const a=o[1]?parseInt(o[1]):null,l=o[2]?parseInt(o[2]):null;return{year:l===null?a:l*100,restDateString:t.slice((o[1]||o[2]).length)}}function zZ(t,r){if(r===null)return new Date(NaN);const n=t.match(jZ);if(!n)return new Date(NaN);const o=!!n[4],a=Km(n[1]),l=Km(n[2])-1,d=Km(n[3]),h=Km(n[4]),p=Km(n[5])-1;if(o)return GZ(r,h,p)?VZ(r,h,p):new Date(NaN);{const g=new Date(0);return!HZ(r,l,d)||!WZ(r,a)?new Date(NaN):(g.setUTCFullYear(r,l,Math.max(a,d)),g)}}function Km(t){return t?parseInt(t):1}function UZ(t){const r=t.match(LZ);if(!r)return NaN;const n=Iv(r[1]),o=Iv(r[2]),a=Iv(r[3]);return YZ(n,o,a)?n*I1+o*D1+a*1e3:NaN}function Iv(t){return t&&parseFloat(t.replace(",","."))||0}function qZ(t){if(t==="Z")return 0;const r=t.match(RZ);if(!r)return 0;const n=r[1]==="+"?-1:1,o=parseInt(r[2]),a=r[3]&&parseInt(r[3])||0;return KZ(o,a)?n*(o*I1+a*D1):NaN}function VZ(t,r,n){const o=new Date(0);o.setUTCFullYear(t,0,4);const a=o.getUTCDay()||7,l=(r-1)*7+n+1-a;return o.setUTCDate(o.getUTCDate()+l),o}const $Z=[31,null,31,30,31,30,31,31,30,31,30,31];function FO(t){return t%400===0||t%4===0&&t%100!==0}function HZ(t,r,n){return r>=0&&r<=11&&n>=1&&n<=($Z[r]||(FO(t)?29:28))}function WZ(t,r){return r>=1&&r<=(FO(t)?366:365)}function GZ(t,r,n){return r>=1&&r<=53&&n>=0&&n<=6}function YZ(t,r,n){return t===24?r===0&&n===0:n>=0&&n<60&&r>=0&&r<60&&t>=0&&t<25}function KZ(t,r){return r>=0&&r<=59}function Ws(t,r){const n=Ft(t),o=n.getFullYear(),a=n.getDate(),l=dr(t,0);l.setFullYear(o,r,15),l.setHours(0,0,0,0);const d=MJ(l);return n.setMonth(r,Math.min(a,d)),n}function QZ(t,r){let n=Ft(t);return isNaN(+n)?dr(t,NaN):(r.year!=null&&n.setFullYear(r.year),r.month!=null&&(n=Ws(n,r.month)),r.date!=null&&n.setDate(r.date),r.hours!=null&&n.setHours(r.hours),r.minutes!=null&&n.setMinutes(r.minutes),r.seconds!=null&&n.setSeconds(r.seconds),r.milliseconds!=null&&n.setMilliseconds(r.milliseconds),n)}function bk(t,r){const n=Ft(t);return n.setHours(r),n}function kk(t,r){const n=Ft(t);return n.setMinutes(r),n}function ip(t,r){const n=Ft(t),o=Math.trunc(n.getMonth()/3)+1,a=r-o;return Ws(n,n.getMonth()+a*3)}function wk(t,r){const n=Ft(t);return n.setSeconds(r),n}function Zl(t,r){const n=Ft(t);return isNaN(+n)?dr(t,NaN):(n.setFullYear(r),n)}function Th(t,r){return gl(t,-r)}function zO(t,r){return nC(t,-1)}function mT(t,r){return Hk(t,-1)}function Sp(t,r){return ru(t,-r)}function N1(){return typeof window<"u"}function Lp(t){return UO(t)?(t.nodeName||"").toLowerCase():"#document"}function ra(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function vc(t){var r;return(r=(UO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function UO(t){return N1()?t instanceof Node||t instanceof ra(t).Node:!1}function is(t){return N1()?t instanceof Element||t instanceof ra(t).Element:!1}function kc(t){return N1()?t instanceof HTMLElement||t instanceof ra(t).HTMLElement:!1}function gT(t){return!N1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ra(t).ShadowRoot}const JZ=new Set(["inline","contents"]);function rb(t){const{overflow:r,overflowX:n,overflowY:o,display:a}=Ua(t);return/auto|scroll|overlay|hidden|clip/.test(r+o+n)&&!JZ.has(a)}const ZZ=new Set(["table","td","th"]);function XZ(t){return ZZ.has(Lp(t))}const eX=[":popover-open",":modal"];function M1(t){return eX.some(r=>{try{return t.matches(r)}catch{return!1}})}const tX=["transform","translate","scale","rotate","perspective"],nX=["transform","translate","scale","rotate","perspective","filter"],rX=["paint","layout","strict","content"];function aC(t){const r=lC(),n=is(t)?Ua(t):t;return tX.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!r&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!r&&(n.filter?n.filter!=="none":!1)||nX.some(o=>(n.willChange||"").includes(o))||rX.some(o=>(n.contain||"").includes(o))}function iX(t){let r=dd(t);for(;kc(r)&&!Ep(r);){if(aC(r))return r;if(M1(r))return null;r=dd(r)}return null}function lC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oX=new Set(["html","body","#document"]);function Ep(t){return oX.has(Lp(t))}function Ua(t){return ra(t).getComputedStyle(t)}function P1(t){return is(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function dd(t){if(Lp(t)==="html")return t;const r=t.assignedSlot||t.parentNode||gT(t)&&t.host||vc(t);return gT(r)?r.host:r}function qO(t){const r=dd(t);return Ep(r)?t.ownerDocument?t.ownerDocument.body:t.body:kc(r)&&rb(r)?r:qO(r)}function Bg(t,r,n){var o;r===void 0&&(r=[]),n===void 0&&(n=!0);const a=qO(t),l=a===((o=t.ownerDocument)==null?void 0:o.body),d=ra(a);if(l){const h=$A(d);return r.concat(d,d.visualViewport||[],rb(a)?a:[],h&&n?Bg(h):[])}return r.concat(a,Bg(a,[],n))}function $A(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Dp=Math.min,Nh=Math.max,Zk=Math.round,Y0=Math.floor,fc=t=>({x:t,y:t}),sX={left:"right",right:"left",bottom:"top",top:"bottom"},aX={start:"end",end:"start"};function lX(t,r,n){return Nh(t,Dp(r,n))}function O1(t,r){return typeof t=="function"?t(r):t}function Ip(t){return t.split("-")[0]}function ib(t){return t.split("-")[1]}function cX(t){return t==="x"?"y":"x"}function cC(t){return t==="y"?"height":"width"}const uX=new Set(["top","bottom"]);function vh(t){return uX.has(Ip(t))?"y":"x"}function uC(t){return cX(vh(t))}function dX(t,r,n){n===void 0&&(n=!1);const o=ib(t),a=uC(t),l=cC(a);let d=a==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[l]>r.floating[l]&&(d=Xk(d)),[d,Xk(d)]}function hX(t){const r=Xk(t);return[HA(t),r,HA(r)]}function HA(t){return t.replace(/start|end/g,r=>aX[r])}const bT=["left","right"],kT=["right","left"],fX=["top","bottom"],pX=["bottom","top"];function mX(t,r,n){switch(t){case"top":case"bottom":return n?r?kT:bT:r?bT:kT;case"left":case"right":return r?fX:pX;default:return[]}}function gX(t,r,n,o){const a=ib(t);let l=mX(Ip(t),n==="start",o);return a&&(l=l.map(d=>d+"-"+a),r&&(l=l.concat(l.map(HA)))),l}function Xk(t){return t.replace(/left|right|bottom|top/g,r=>sX[r])}function bX(t){return{top:0,right:0,bottom:0,left:0,...t}}function VO(t){return typeof t!="number"?bX(t):{top:t,right:t,bottom:t,left:t}}function e1(t){const{x:r,y:n,width:o,height:a}=t;return{width:o,height:a,top:n,left:r,right:r+o,bottom:n+a,x:r,y:n}}var kX=typeof document<"u",wX=function(){},t1=kX?Y.useLayoutEffect:wX;const yX={...A1},vX=yX.useInsertionEffect,AX=vX||(t=>t());function _X(t){const r=Y.useRef(()=>{});return AX(()=>{r.current=t}),Y.useCallback(function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r.current==null?void 0:r.current(...o)},[])}function wT(t,r,n){let{reference:o,floating:a}=t;const l=vh(r),d=uC(r),h=cC(d),p=Ip(r),g=l==="y",b=o.x+o.width/2-a.width/2,y=o.y+o.height/2-a.height/2,v=o[h]/2-a[h]/2;let k;switch(p){case"top":k={x:b,y:o.y-a.height};break;case"bottom":k={x:b,y:o.y+o.height};break;case"right":k={x:o.x+o.width,y};break;case"left":k={x:o.x-a.width,y};break;default:k={x:o.x,y:o.y}}switch(ib(r)){case"start":k[d]-=v*(n&&g?-1:1);break;case"end":k[d]+=v*(n&&g?-1:1);break}return k}const CX=async(t,r,n)=>{const{placement:o="bottom",strategy:a="absolute",middleware:l=[],platform:d}=n,h=l.filter(Boolean),p=await(d.isRTL==null?void 0:d.isRTL(r));let g=await d.getElementRects({reference:t,floating:r,strategy:a}),{x:b,y}=wT(g,o,p),v=o,k={},x=0;for(let C=0;C<h.length;C++){const{name:D,fn:S}=h[C],{x:N,y:P,data:B,reset:$}=await S({x:b,y,initialPlacement:o,placement:v,strategy:a,middlewareData:k,rects:g,platform:d,elements:{reference:t,floating:r}});b=N??b,y=P??y,k={...k,[D]:{...k[D],...B}},$&&x<=50&&(x++,typeof $=="object"&&($.placement&&(v=$.placement),$.rects&&(g=$.rects===!0?await d.getElementRects({reference:t,floating:r,strategy:a}):$.rects),{x:b,y}=wT(g,v,p)),C=-1)}return{x:b,y,placement:v,strategy:a,middlewareData:k}};async function xX(t,r){var n;r===void 0&&(r={});const{x:o,y:a,platform:l,rects:d,elements:h,strategy:p}=t,{boundary:g="clippingAncestors",rootBoundary:b="viewport",elementContext:y="floating",altBoundary:v=!1,padding:k=0}=O1(r,t),x=VO(k),D=h[v?y==="floating"?"reference":"floating":y],S=e1(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(D)))==null||n?D:D.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:g,rootBoundary:b,strategy:p})),N=y==="floating"?{x:o,y:a,width:d.floating.width,height:d.floating.height}:d.reference,P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),B=await(l.isElement==null?void 0:l.isElement(P))?await(l.getScale==null?void 0:l.getScale(P))||{x:1,y:1}:{x:1,y:1},$=e1(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:N,offsetParent:P,strategy:p}):N);return{top:(S.top-$.top+x.top)/B.y,bottom:($.bottom-S.bottom+x.bottom)/B.y,left:(S.left-$.left+x.left)/B.x,right:($.right-S.right+x.right)/B.x}}const SX=t=>({name:"arrow",options:t,async fn(r){const{x:n,y:o,placement:a,rects:l,platform:d,elements:h,middlewareData:p}=r,{element:g,padding:b=0}=O1(t,r)||{};if(g==null)return{};const y=VO(b),v={x:n,y:o},k=uC(a),x=cC(k),C=await d.getDimensions(g),D=k==="y",S=D?"top":"left",N=D?"bottom":"right",P=D?"clientHeight":"clientWidth",B=l.reference[x]+l.reference[k]-v[k]-l.floating[x],$=v[k]-l.reference[k],V=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g));let M=V?V[P]:0;(!M||!await(d.isElement==null?void 0:d.isElement(V)))&&(M=h.floating[P]||l.floating[x]);const L=B/2-$/2,q=M/2-C[x]/2-1,Q=Dp(y[S],q),H=Dp(y[N],q),F=Q,G=M-C[x]-H,R=M/2-C[x]/2+L,ne=lX(F,R,G),ue=!p.arrow&&ib(a)!=null&&R!==ne&&l.reference[x]/2-(R<F?Q:H)-C[x]/2<0,ie=ue?R<F?R-F:R-G:0;return{[k]:v[k]+ie,data:{[k]:ne,centerOffset:R-ne-ie,...ue&&{alignmentOffset:ie}},reset:ue}}}),EX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var n,o;const{placement:a,middlewareData:l,rects:d,initialPlacement:h,platform:p,elements:g}=r,{mainAxis:b=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:C=!0,...D}=O1(t,r);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const S=Ip(a),N=vh(h),P=Ip(h)===h,B=await(p.isRTL==null?void 0:p.isRTL(g.floating)),$=v||(P||!C?[Xk(h)]:hX(h)),V=x!=="none";!v&&V&&$.push(...gX(h,C,x,B));const M=[h,...$],L=await xX(r,D),q=[];let Q=((o=l.flip)==null?void 0:o.overflows)||[];if(b&&q.push(L[S]),y){const R=dX(a,d,B);q.push(L[R[0]],L[R[1]])}if(Q=[...Q,{placement:a,overflows:q}],!q.every(R=>R<=0)){var H,F;const R=(((H=l.flip)==null?void 0:H.index)||0)+1,ne=M[R];if(ne&&(!(y==="alignment"?N!==vh(ne):!1)||Q.every(se=>se.overflows[0]>0&&vh(se.placement)===N)))return{data:{index:R,overflows:Q},reset:{placement:ne}};let ue=(F=Q.filter(ie=>ie.overflows[0]<=0).sort((ie,se)=>ie.overflows[1]-se.overflows[1])[0])==null?void 0:F.placement;if(!ue)switch(k){case"bestFit":{var G;const ie=(G=Q.filter(se=>{if(V){const ye=vh(se.placement);return ye===N||ye==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(ye=>ye>0).reduce((ye,re)=>ye+re,0)]).sort((se,ye)=>se[1]-ye[1])[0])==null?void 0:G[0];ie&&(ue=ie);break}case"initialPlacement":ue=h;break}if(a!==ue)return{reset:{placement:ue}}}return{}}}},DX=new Set(["left","top"]);async function IX(t,r){const{placement:n,platform:o,elements:a}=t,l=await(o.isRTL==null?void 0:o.isRTL(a.floating)),d=Ip(n),h=ib(n),p=vh(n)==="y",g=DX.has(d)?-1:1,b=l&&p?-1:1,y=O1(r,t);let{mainAxis:v,crossAxis:k,alignmentAxis:x}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return h&&typeof x=="number"&&(k=h==="end"?x*-1:x),p?{x:k*b,y:v*g}:{x:v*g,y:k*b}}const TX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var n,o;const{x:a,y:l,placement:d,middlewareData:h}=r,p=await IX(r,t);return d===((n=h.offset)==null?void 0:n.placement)&&(o=h.arrow)!=null&&o.alignmentOffset?{}:{x:a+p.x,y:l+p.y,data:{...p,placement:d}}}}};function $O(t){const r=Ua(t);let n=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const a=kc(t),l=a?t.offsetWidth:n,d=a?t.offsetHeight:o,h=Zk(n)!==l||Zk(o)!==d;return h&&(n=l,o=d),{width:n,height:o,$:h}}function dC(t){return is(t)?t:t.contextElement}function dp(t){const r=dC(t);if(!kc(r))return fc(1);const n=r.getBoundingClientRect(),{width:o,height:a,$:l}=$O(r);let d=(l?Zk(n.width):n.width)/o,h=(l?Zk(n.height):n.height)/a;return(!d||!Number.isFinite(d))&&(d=1),(!h||!Number.isFinite(h))&&(h=1),{x:d,y:h}}const NX=fc(0);function HO(t){const r=ra(t);return!lC()||!r.visualViewport?NX:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function MX(t,r,n){return r===void 0&&(r=!1),!n||r&&n!==ra(t)?!1:r}function Uh(t,r,n,o){r===void 0&&(r=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),l=dC(t);let d=fc(1);r&&(o?is(o)&&(d=dp(o)):d=dp(t));const h=MX(l,n,o)?HO(l):fc(0);let p=(a.left+h.x)/d.x,g=(a.top+h.y)/d.y,b=a.width/d.x,y=a.height/d.y;if(l){const v=ra(l),k=o&&is(o)?ra(o):o;let x=v,C=$A(x);for(;C&&o&&k!==x;){const D=dp(C),S=C.getBoundingClientRect(),N=Ua(C),P=S.left+(C.clientLeft+parseFloat(N.paddingLeft))*D.x,B=S.top+(C.clientTop+parseFloat(N.paddingTop))*D.y;p*=D.x,g*=D.y,b*=D.x,y*=D.y,p+=P,g+=B,x=ra(C),C=$A(x)}}return e1({width:b,height:y,x:p,y:g})}function hC(t,r){const n=P1(t).scrollLeft;return r?r.left+n:Uh(vc(t)).left+n}function WO(t,r,n){n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=o.left+r.scrollLeft-(n?0:hC(t,o)),l=o.top+r.scrollTop;return{x:a,y:l}}function PX(t){let{elements:r,rect:n,offsetParent:o,strategy:a}=t;const l=a==="fixed",d=vc(o),h=r?M1(r.floating):!1;if(o===d||h&&l)return n;let p={scrollLeft:0,scrollTop:0},g=fc(1);const b=fc(0),y=kc(o);if((y||!y&&!l)&&((Lp(o)!=="body"||rb(d))&&(p=P1(o)),kc(o))){const k=Uh(o);g=dp(o),b.x=k.x+o.clientLeft,b.y=k.y+o.clientTop}const v=d&&!y&&!l?WO(d,p,!0):fc(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-p.scrollLeft*g.x+b.x+v.x,y:n.y*g.y-p.scrollTop*g.y+b.y+v.y}}function OX(t){return Array.from(t.getClientRects())}function jX(t){const r=vc(t),n=P1(t),o=t.ownerDocument.body,a=Nh(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),l=Nh(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let d=-n.scrollLeft+hC(t);const h=-n.scrollTop;return Ua(o).direction==="rtl"&&(d+=Nh(r.clientWidth,o.clientWidth)-a),{width:a,height:l,x:d,y:h}}function LX(t,r){const n=ra(t),o=vc(t),a=n.visualViewport;let l=o.clientWidth,d=o.clientHeight,h=0,p=0;if(a){l=a.width,d=a.height;const g=lC();(!g||g&&r==="fixed")&&(h=a.offsetLeft,p=a.offsetTop)}return{width:l,height:d,x:h,y:p}}const RX=new Set(["absolute","fixed"]);function BX(t,r){const n=Uh(t,!0,r==="fixed"),o=n.top+t.clientTop,a=n.left+t.clientLeft,l=kc(t)?dp(t):fc(1),d=t.clientWidth*l.x,h=t.clientHeight*l.y,p=a*l.x,g=o*l.y;return{width:d,height:h,x:p,y:g}}function yT(t,r,n){let o;if(r==="viewport")o=LX(t,n);else if(r==="document")o=jX(vc(t));else if(is(r))o=BX(r,n);else{const a=HO(t);o={x:r.x-a.x,y:r.y-a.y,width:r.width,height:r.height}}return e1(o)}function GO(t,r){const n=dd(t);return n===r||!is(n)||Ep(n)?!1:Ua(n).position==="fixed"||GO(n,r)}function FX(t,r){const n=r.get(t);if(n)return n;let o=Bg(t,[],!1).filter(h=>is(h)&&Lp(h)!=="body"),a=null;const l=Ua(t).position==="fixed";let d=l?dd(t):t;for(;is(d)&&!Ep(d);){const h=Ua(d),p=aC(d);!p&&h.position==="fixed"&&(a=null),(l?!p&&!a:!p&&h.position==="static"&&!!a&&RX.has(a.position)||rb(d)&&!p&&GO(t,d))?o=o.filter(b=>b!==d):a=h,d=dd(d)}return r.set(t,o),o}function zX(t){let{element:r,boundary:n,rootBoundary:o,strategy:a}=t;const d=[...n==="clippingAncestors"?M1(r)?[]:FX(r,this._c):[].concat(n),o],h=d[0],p=d.reduce((g,b)=>{const y=yT(r,b,a);return g.top=Nh(y.top,g.top),g.right=Dp(y.right,g.right),g.bottom=Dp(y.bottom,g.bottom),g.left=Nh(y.left,g.left),g},yT(r,h,a));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function UX(t){const{width:r,height:n}=$O(t);return{width:r,height:n}}function qX(t,r,n){const o=kc(r),a=vc(r),l=n==="fixed",d=Uh(t,!0,l,r);let h={scrollLeft:0,scrollTop:0};const p=fc(0);function g(){p.x=hC(a)}if(o||!o&&!l)if((Lp(r)!=="body"||rb(a))&&(h=P1(r)),o){const k=Uh(r,!0,l,r);p.x=k.x+r.clientLeft,p.y=k.y+r.clientTop}else a&&g();l&&!o&&a&&g();const b=a&&!o&&!l?WO(a,h):fc(0),y=d.left+h.scrollLeft-p.x-b.x,v=d.top+h.scrollTop-p.y-b.y;return{x:y,y:v,width:d.width,height:d.height}}function Tv(t){return Ua(t).position==="static"}function vT(t,r){if(!kc(t)||Ua(t).position==="fixed")return null;if(r)return r(t);let n=t.offsetParent;return vc(t)===n&&(n=n.ownerDocument.body),n}function YO(t,r){const n=ra(t);if(M1(t))return n;if(!kc(t)){let a=dd(t);for(;a&&!Ep(a);){if(is(a)&&!Tv(a))return a;a=dd(a)}return n}let o=vT(t,r);for(;o&&XZ(o)&&Tv(o);)o=vT(o,r);return o&&Ep(o)&&Tv(o)&&!aC(o)?n:o||iX(t)||n}const VX=async function(t){const r=this.getOffsetParent||YO,n=this.getDimensions,o=await n(t.floating);return{reference:qX(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function $X(t){return Ua(t).direction==="rtl"}const HX={convertOffsetParentRelativeRectToViewportRelativeRect:PX,getDocumentElement:vc,getClippingRect:zX,getOffsetParent:YO,getElementRects:VX,getClientRects:OX,getDimensions:UX,getScale:dp,isElement:is,isRTL:$X};function KO(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function WX(t,r){let n=null,o;const a=vc(t);function l(){var h;clearTimeout(o),(h=n)==null||h.disconnect(),n=null}function d(h,p){h===void 0&&(h=!1),p===void 0&&(p=1),l();const g=t.getBoundingClientRect(),{left:b,top:y,width:v,height:k}=g;if(h||r(),!v||!k)return;const x=Y0(y),C=Y0(a.clientWidth-(b+v)),D=Y0(a.clientHeight-(y+k)),S=Y0(b),P={rootMargin:-x+"px "+-C+"px "+-D+"px "+-S+"px",threshold:Nh(0,Dp(1,p))||1};let B=!0;function $(V){const M=V[0].intersectionRatio;if(M!==p){if(!B)return d();M?d(!1,M):o=setTimeout(()=>{d(!1,1e-7)},1e3)}M===1&&!KO(g,t.getBoundingClientRect())&&d(),B=!1}try{n=new IntersectionObserver($,{...P,root:a.ownerDocument})}catch{n=new IntersectionObserver($,P)}n.observe(t)}return d(!0),l}function GX(t,r,n,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:p=!1}=o,g=dC(t),b=a||l?[...g?Bg(g):[],...Bg(r)]:[];b.forEach(S=>{a&&S.addEventListener("scroll",n,{passive:!0}),l&&S.addEventListener("resize",n)});const y=g&&h?WX(g,n):null;let v=-1,k=null;d&&(k=new ResizeObserver(S=>{let[N]=S;N&&N.target===g&&k&&(k.unobserve(r),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var P;(P=k)==null||P.observe(r)})),n()}),g&&!p&&k.observe(g),k.observe(r));let x,C=p?Uh(t):null;p&&D();function D(){const S=Uh(t);C&&!KO(C,S)&&n(),C=S,x=requestAnimationFrame(D)}return n(),()=>{var S;b.forEach(N=>{a&&N.removeEventListener("scroll",n),l&&N.removeEventListener("resize",n)}),y==null||y(),(S=k)==null||S.disconnect(),k=null,p&&cancelAnimationFrame(x)}}const YX=TX,KX=EX,AT=SX,QX=(t,r,n)=>{const o=new Map,a={platform:HX,...n},l={...a.platform,_c:o};return CX(t,r,{...a,platform:l})};var JX=typeof document<"u",ZX=function(){},yk=JX?Y.useLayoutEffect:ZX;function n1(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let n,o,a;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==r.length)return!1;for(o=n;o--!==0;)if(!n1(t[o],r[o]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(r,a[o]))return!1;for(o=n;o--!==0;){const l=a[o];if(!(l==="_owner"&&t.$$typeof)&&!n1(t[l],r[l]))return!1}return!0}return t!==t&&r!==r}function QO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _T(t,r){const n=QO(t);return Math.round(r*n)/n}function Nv(t){const r=Y.useRef(t);return yk(()=>{r.current=t}),r}function XX(t){t===void 0&&(t={});const{placement:r="bottom",strategy:n="absolute",middleware:o=[],platform:a,elements:{reference:l,floating:d}={},transform:h=!0,whileElementsMounted:p,open:g}=t,[b,y]=Y.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[v,k]=Y.useState(o);n1(v,o)||k(o);const[x,C]=Y.useState(null),[D,S]=Y.useState(null),N=Y.useCallback(se=>{se!==V.current&&(V.current=se,C(se))},[]),P=Y.useCallback(se=>{se!==M.current&&(M.current=se,S(se))},[]),B=l||x,$=d||D,V=Y.useRef(null),M=Y.useRef(null),L=Y.useRef(b),q=p!=null,Q=Nv(p),H=Nv(a),F=Nv(g),G=Y.useCallback(()=>{if(!V.current||!M.current)return;const se={placement:r,strategy:n,middleware:v};H.current&&(se.platform=H.current),QX(V.current,M.current,se).then(ye=>{const re={...ye,isPositioned:F.current!==!1};R.current&&!n1(L.current,re)&&(L.current=re,AP.flushSync(()=>{y(re)}))})},[v,r,n,H,F]);yk(()=>{g===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,y(se=>({...se,isPositioned:!1})))},[g]);const R=Y.useRef(!1);yk(()=>(R.current=!0,()=>{R.current=!1}),[]),yk(()=>{if(B&&(V.current=B),$&&(M.current=$),B&&$){if(Q.current)return Q.current(B,$,G);G()}},[B,$,G,Q,q]);const ne=Y.useMemo(()=>({reference:V,floating:M,setReference:N,setFloating:P}),[N,P]),ue=Y.useMemo(()=>({reference:B,floating:$}),[B,$]),ie=Y.useMemo(()=>{const se={position:n,left:0,top:0};if(!ue.floating)return se;const ye=_T(ue.floating,b.x),re=_T(ue.floating,b.y);return h?{...se,transform:"translate("+ye+"px, "+re+"px)",...QO(ue.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ye,top:re}},[n,h,ue.floating,b.x,b.y]);return Y.useMemo(()=>({...b,update:G,refs:ne,elements:ue,floatingStyles:ie}),[b,G,ne,ue,ie])}const eee=t=>{function r(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:a}=typeof t=="function"?t(n):t;return o&&r(o)?o.current!=null?AT({element:o.current,padding:a}).fn(n):{}:o?AT({element:o,padding:a}).fn(n):{}}}},tee=(t,r)=>({...YX(t),options:[t,r]}),nee=(t,r)=>({...KX(t),options:[t,r]}),ree=(t,r)=>({...eee(t),options:[t,r]}),iee={...A1};let CT=!1,oee=0;const xT=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+oee++;function see(){const[t,r]=Y.useState(()=>CT?xT():void 0);return t1(()=>{t==null&&r(xT())},[]),Y.useEffect(()=>{CT=!0},[]),t}const aee=iee.useId,JO=aee||see,lee=Y.forwardRef(function(r,n){const{context:{placement:o,elements:{floating:a},middlewareData:{arrow:l,shift:d}},width:h=14,height:p=7,tipRadius:g=0,strokeWidth:b=0,staticOffset:y,stroke:v,d:k,style:{transform:x,...C}={},...D}=r,S=JO(),[N,P]=Y.useState(!1);if(t1(()=>{if(!a)return;Ua(a).direction==="rtl"&&P(!0)},[a]),!a)return null;const[B,$]=o.split("-"),V=B==="top"||B==="bottom";let M=y;(V&&d!=null&&d.x||!V&&d!=null&&d.y)&&(M=null);const L=b*2,q=L/2,Q=h/2*(g/-8+1),H=p/2*g/4,F=!!k,G=M&&$==="end"?"bottom":"top";let R=M&&$==="end"?"right":"left";M&&N&&(R=$==="end"?"left":"right");const ne=(l==null?void 0:l.x)!=null?M||l.x:"",ue=(l==null?void 0:l.y)!=null?M||l.y:"",ie=k||"M0,0"+(" H"+h)+(" L"+(h-Q)+","+(p-H))+(" Q"+h/2+","+p+" "+Q+","+(p-H))+" Z",se={top:F?"rotate(180deg)":"",left:F?"rotate(90deg)":"rotate(-90deg)",bottom:F?"":"rotate(180deg)",right:F?"rotate(-90deg)":"rotate(90deg)"}[B];return A.jsxs("svg",{...D,"aria-hidden":!0,ref:n,width:F?h:h+L,height:h,viewBox:"0 0 "+h+" "+(p>h?p:h),style:{position:"absolute",pointerEvents:"none",[R]:ne,[G]:ue,[B]:V||F?"100%":"calc(100% - "+L/2+"px)",transform:[se,x].filter(ye=>!!ye).join(" "),...C},children:[L>0&&A.jsx("path",{clipPath:"url(#"+S+")",fill:"none",stroke:v,strokeWidth:L+(k?0:1),d:ie}),A.jsx("path",{stroke:L&&!k?D.fill:"none",d:ie}),A.jsx("clipPath",{id:S,children:A.jsx("rect",{x:-q,y:q*(F?-1:1),width:h+L,height:h})})]})});function cee(){const t=new Map;return{emit(r,n){var o;(o=t.get(r))==null||o.forEach(a=>a(n))},on(r,n){t.has(r)||t.set(r,new Set),t.get(r).add(n)},off(r,n){var o;(o=t.get(r))==null||o.delete(n)}}}const uee=Y.createContext(null),dee=Y.createContext(null),hee=()=>{var t;return((t=Y.useContext(uee))==null?void 0:t.id)||null},fee=()=>Y.useContext(dee);function pee(t){const{open:r=!1,onOpenChange:n,elements:o}=t,a=JO(),l=Y.useRef({}),[d]=Y.useState(()=>cee()),h=hee()!=null,[p,g]=Y.useState(o.reference),b=_X((k,x,C)=>{l.current.openEvent=k?x:void 0,d.emit("openchange",{open:k,event:x,reason:C,nested:h}),n==null||n(k,x,C)}),y=Y.useMemo(()=>({setPositionReference:g}),[]),v=Y.useMemo(()=>({reference:p||o.reference||null,floating:o.floating||null,domReference:o.reference}),[p,o.reference,o.floating]);return Y.useMemo(()=>({dataRef:l,open:r,onOpenChange:b,elements:v,events:d,floatingId:a,refs:y}),[r,b,v,d,a,y])}function mee(t){t===void 0&&(t={});const{nodeId:r}=t,n=pee({...t,elements:{reference:null,floating:null,...t.elements}}),o=t.rootContext||n,a=o.elements,[l,d]=Y.useState(null),[h,p]=Y.useState(null),b=(a==null?void 0:a.domReference)||l,y=Y.useRef(null),v=fee();t1(()=>{b&&(y.current=b)},[b]);const k=XX({...t,elements:{...a,...h&&{reference:h}}}),x=Y.useCallback(P=>{const B=is(P)?{getBoundingClientRect:()=>P.getBoundingClientRect(),getClientRects:()=>P.getClientRects(),contextElement:P}:P;p(B),k.refs.setReference(B)},[k.refs]),C=Y.useCallback(P=>{(is(P)||P===null)&&(y.current=P,d(P)),(is(k.refs.reference.current)||k.refs.reference.current===null||P!==null&&!is(P))&&k.refs.setReference(P)},[k.refs]),D=Y.useMemo(()=>({...k.refs,setReference:C,setPositionReference:x,domReference:y}),[k.refs,C,x]),S=Y.useMemo(()=>({...k.elements,domReference:b}),[k.elements,b]),N=Y.useMemo(()=>({...k,...o,refs:D,elements:S,nodeId:r}),[k,D,S,r,o]);return t1(()=>{o.dataRef.current.floatingContext=N;const P=v==null?void 0:v.nodesRef.current.find(B=>B.id===r);P&&(P.context=N)}),Y.useMemo(()=>({...k,context:N,refs:D,elements:S}),[k,D,S,N])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var WA=function(r,n){return WA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])},WA(r,n)};function co(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");WA(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var Gn=function(){return Gn=Object.assign||function(n){for(var o,a=1,l=arguments.length;a<l;a++){o=arguments[a];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(n[d]=o[d])}return n},Gn.apply(this,arguments)};function cc(t,r,n){if(n||arguments.length===2)for(var o=0,a=r.length,l;o<a;o++)(l||!(o in r))&&(l||(l=Array.prototype.slice.call(r,0,o)),l[o]=r[o]);return t.concat(l||Array.prototype.slice.call(r))}var gee=function(t){var r=t.showTimeSelectOnly,n=r===void 0?!1:r,o=t.showTime,a=o===void 0?!1:o,l=t.className,d=t.children,h=n?"Choose Time":"Choose Date".concat(a?" and Time":"");return at.createElement("div",{className:l,role:"dialog","aria-label":h,"aria-modal":"true"},d)},bee=function(t,r){var n=Y.useRef(null),o=Y.useRef(t);o.current=t;var a=Y.useCallback(function(l){var d;n.current&&!n.current.contains(l.target)&&(r&&l.target instanceof HTMLElement&&l.target.classList.contains(r)||(d=o.current)===null||d===void 0||d.call(o,l))},[r]);return Y.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),n},j1=function(t){var r=t.children,n=t.onClickOutside,o=t.className,a=t.containerRef,l=t.style,d=t.ignoreClass,h=bee(n,d);return at.createElement("div",{className:o,style:l,ref:function(p){h.current=p,a&&(a.current=p)}},r)},Lt;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Lt||(Lt={}));function ZO(){var t=typeof window<"u"?window:globalThis;return t}var ob=12,kee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function hr(t){if(t==null)return new Date;var r=typeof t=="string"?OZ(t):Ft(t);return Xc(r)?r:new Date}function Mv(t,r,n,o,a){var l,d=null,h=Mh(n)||Mh(yg()),p=!0;if(Array.isArray(r))return r.forEach(function(b){var y=Dv(t,b,new Date,{locale:h,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});o&&(p=Xc(y,a)&&t===jr(y,b,n)),Xc(y,a)&&p&&(d=y)}),d;if(d=Dv(t,r,new Date,{locale:h,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),o)p=Xc(d)&&t===jr(d,r,n);else if(!Xc(d)){var g=((l=r.match(kee))!==null&&l!==void 0?l:[]).map(function(b){var y=b[0];if(y==="p"||y==="P"){var v=Qk[y];return h?v(b,h.formatLong):y}return b}).join("");t.length>0&&(d=Dv(t,g.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Xc(d)||(d=new Date(t))}return Xc(d)&&p?d:null}function Xc(t,r){return Wk(t)&&!zh(t,r??new Date("1/1/1800"))}function jr(t,r,n){if(n==="en")return fT(t,r,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var o=n?Mh(n):void 0;return n&&!o&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!o&&yg()&&Mh(yg())&&(o=Mh(yg())),fT(t,r,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Oa(t,r){var n=r.dateFormat,o=r.locale,a=Array.isArray(n)&&n.length>0?n[0]:n;return t&&jr(t,a,o)||""}function wee(t,r,n){if(!t)return"";var o=Oa(t,n),a=r?Oa(r,n):"";return"".concat(o," - ").concat(a)}function yee(t,r){if(!(t!=null&&t.length))return"";var n=t[0]?Oa(t[0],r):"";if(t.length===1)return n;if(t.length===2&&t[1]){var o=Oa(t[1],r);return"".concat(n,", ").concat(o)}var a=t.length-1;return"".concat(n," (+").concat(a,")")}function Pv(t,r){var n=r.hour,o=n===void 0?0:n,a=r.minute,l=a===void 0?0:a,d=r.second,h=d===void 0?0:d;return bk(kk(wk(t,h),l),o)}function vee(t){return rC(t)}function Aee(t,r){return jr(t,"ddd",r)}function vk(t){return Fh(t)}function ad(t,r,n){var o=Mh(r||yg());return au(t,{locale:o,weekStartsOn:n})}function su(t){return DO(t)}function mg(t){return T1(t)}function ST(t){return UA(t)}function ET(){return Fh(hr())}function DT(t){return SO(t)}function _ee(t){return FQ(t)}function Cee(t){return EO(t)}function Xl(t,r){return t&&r?MZ(t,r):!t&&!r}function ns(t,r){return t&&r?TZ(t,r):!t&&!r}function r1(t,r){return t&&r?NZ(t,r):!t&&!r}function qn(t,r){return t&&r?RQ(t,r):!t&&!r}function Ah(t,r){return t&&r?jJ(t,r):!t&&!r}function gg(t,r,n){var o,a=Fh(r),l=SO(n);try{o=Rg(t,{start:a,end:l})}catch{o=!1}return o}function yg(){var t=ZO();return t.__localeId__}function Mh(t){if(typeof t=="string"){var r=ZO();return r.__localeData__?r.__localeData__[t]:void 0}else return t}function xee(t,r,n){return r(jr(t,"EEEE",n))}function See(t,r){return jr(t,"EEEEEE",r)}function Eee(t,r){return jr(t,"EEE",r)}function fC(t,r){return jr(Ws(hr(),t),"LLLL",r)}function XO(t,r){return jr(Ws(hr(),t),"LLL",r)}function Dee(t,r){return jr(ip(hr(),t),"QQQ",r)}function La(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.maxDate,l=n.excludeDates,d=n.excludeDateIntervals,h=n.includeDates,p=n.includeDateIntervals,g=n.filterDate;return sb(t,{minDate:o,maxDate:a})||l&&l.some(function(b){return b instanceof Date?qn(t,b):qn(t,b.date)})||d&&d.some(function(b){var y=b.start,v=b.end;return Rg(t,{start:y,end:v})})||h&&!h.some(function(b){return qn(t,b)})||p&&!p.some(function(b){var y=b.start,v=b.end;return Rg(t,{start:y,end:v})})||g&&!g(hr(t))||!1}function pC(t,r){var n=r===void 0?{}:r,o=n.excludeDates,a=n.excludeDateIntervals;return a&&a.length>0?a.some(function(l){var d=l.start,h=l.end;return Rg(t,{start:d,end:h})}):o&&o.some(function(l){var d;return l instanceof Date?qn(t,l):qn(t,(d=l.date)!==null&&d!==void 0?d:new Date)})||!1}function ej(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.maxDate,l=n.excludeDates,d=n.includeDates,h=n.filterDate;return sb(t,{minDate:o?DO(o):void 0,maxDate:a?EO(a):void 0})||(l==null?void 0:l.some(function(p){return ns(t,p instanceof Date?p:p.date)}))||d&&!d.some(function(p){return ns(t,p)})||h&&!h(hr(t))||!1}function K0(t,r,n,o){var a=Tn(t),l=rs(t),d=Tn(r),h=rs(r),p=Tn(o);return a===d&&a===p?l<=n&&n<=h:a<d?p===a&&l<=n||p===d&&h>=n||p<d&&p>a:!1}function Iee(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.maxDate,l=n.excludeDates,d=n.includeDates;return sb(t,{minDate:o,maxDate:a})||l&&l.some(function(h){return ns(h instanceof Date?h:h.date,t)})||d&&!d.some(function(h){return ns(h,t)})||!1}function Q0(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.maxDate,l=n.excludeDates,d=n.includeDates,h=n.filterDate;return sb(t,{minDate:o,maxDate:a})||(l==null?void 0:l.some(function(p){return r1(t,p instanceof Date?p:p.date)}))||d&&!d.some(function(p){return r1(t,p)})||h&&!h(hr(t))||!1}function J0(t,r,n){if(!r||!n||!Wk(r)||!Wk(n))return!1;var o=Tn(r),a=Tn(n);return o<=t&&a>=t}function Ak(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.maxDate,l=n.excludeDates,d=n.includeDates,h=n.filterDate,p=new Date(t,0,1);return sb(p,{minDate:o?T1(o):void 0,maxDate:a?IO(a):void 0})||(l==null?void 0:l.some(function(g){return Xl(p,g instanceof Date?g:g.date)}))||d&&!d.some(function(g){return Xl(p,g)})||h&&!h(hr(p))||!1}function Z0(t,r,n,o){var a=Tn(t),l=Ih(t),d=Tn(r),h=Ih(r),p=Tn(o);return a===d&&a===p?l<=n&&n<=h:a<d?p===a&&l<=n||p===d&&h>=n||p<d&&p>a:!1}function sb(t,r){var n,o=r===void 0?{}:r,a=o.minDate,l=o.maxDate;return(n=a&&xp(t,a)<0||l&&xp(t,l)>0)!==null&&n!==void 0?n:!1}function IT(t,r){return r.some(function(n){return dc(n)===dc(t)&&hc(n)===hc(t)&&ou(n)===ou(t)})}function TT(t,r){var n=r===void 0?{}:r,o=n.excludeTimes,a=n.includeTimes,l=n.filterTime;return o&&IT(t,o)||a&&!IT(t,a)||l&&!l(t)||!1}function NT(t,r){var n=r.minTime,o=r.maxTime;if(!n||!o)throw new Error("Both minTime and maxTime props required");var a=hr();a=bk(a,dc(t)),a=kk(a,hc(t)),a=wk(a,ou(t));var l=hr();l=bk(l,dc(n)),l=kk(l,hc(n)),l=wk(l,ou(n));var d=hr();d=bk(d,dc(o)),d=kk(d,hc(o)),d=wk(d,ou(o));var h;try{h=!Rg(a,{start:l,end:d})}catch{h=!1}return h}function MT(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.includeDates,l=Th(t,1);return o&&Gk(o,l)>0||a&&a.every(function(d){return Gk(d,l)>0})||!1}function PT(t,r){var n=r===void 0?{}:r,o=n.maxDate,a=n.includeDates,l=gl(t,1);return o&&Gk(l,o)>0||a&&a.every(function(d){return Gk(l,d)>0})||!1}function Tee(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.includeDates,l=T1(t),d=zO(l);return o&&Yk(o,d)>0||a&&a.every(function(h){return Yk(h,d)>0})||!1}function Nee(t,r){var n=r===void 0?{}:r,o=n.maxDate,a=n.includeDates,l=IO(t),d=nC(l,1);return o&&Yk(d,o)>0||a&&a.every(function(h){return Yk(d,h)>0})||!1}function OT(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.includeDates,l=Sp(t,1);return o&&Kk(o,l)>0||a&&a.every(function(d){return Kk(d,l)>0})||!1}function Mee(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.yearItemNumber,l=a===void 0?ob:a,d=mg(Sp(t,l)),h=rd(d,l).endPeriod,p=o&&Tn(o);return p&&p>h||!1}function jT(t,r){var n=r===void 0?{}:r,o=n.maxDate,a=n.includeDates,l=ru(t,1);return o&&Kk(l,o)>0||a&&a.every(function(d){return Kk(l,d)>0})||!1}function Pee(t,r){var n=r===void 0?{}:r,o=n.maxDate,a=n.yearItemNumber,l=a===void 0?ob:a,d=ru(t,l),h=rd(d,l).startPeriod,p=o&&Tn(o);return p&&p<h||!1}function tj(t){var r=t.minDate,n=t.includeDates;if(n&&r){var o=n.filter(function(a){return xp(a,r)>=0});return aT(o)}else return n?aT(n):r}function nj(t){var r=t.maxDate,n=t.includeDates;if(n&&r){var o=n.filter(function(a){return xp(a,r)<=0});return sT(o)}else return n?sT(n):r}function LT(t,r){var n;t===void 0&&(t=[]),r===void 0&&(r="react-datepicker__day--highlighted");for(var o=new Map,a=0,l=t.length;a<l;a++){var d=t[a];if(iu(d)){var h=jr(d,"MM.dd.yyyy"),p=o.get(h)||[];p.includes(r)||(p.push(r),o.set(h,p))}else if(typeof d=="object"){var g=Object.keys(d),b=(n=g[0])!==null&&n!==void 0?n:"",y=d[b];if(typeof b=="string"&&Array.isArray(y))for(var v=0,k=y.length;v<k;v++){var x=y[v];if(x){var h=jr(x,"MM.dd.yyyy"),p=o.get(h)||[];p.includes(b)||(p.push(b),o.set(h,p))}}}}return o}function Oee(t,r){return t.length!==r.length?!1:t.every(function(n,o){return n===r[o]})}function jee(t,r){t===void 0&&(t=[]),r===void 0&&(r="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(o){var a=o.date,l=o.holidayName;if(iu(a)){var d=jr(a,"MM.dd.yyyy"),h=n.get(d)||{className:"",holidayNames:[]};if(!("className"in h&&h.className===r&&Oee(h.holidayNames,[l]))){h.className=r;var p=h.holidayNames;h.holidayNames=p?cc(cc([],p,!0),[l],!1):[l],n.set(d,h)}}}),n}function Lee(t,r,n,o,a){for(var l=a.length,d=[],h=0;h<l;h++){var p=t,g=a[h];g&&(p=PQ(p,dc(g)),p=zA(p,hc(g)),p=LQ(p,ou(g)));var b=zA(t,(n+1)*o);ud(p,r)&&zh(p,b)&&g!=null&&d.push(g)}return d}function RT(t){return t<10?"0".concat(t):"".concat(t)}function rd(t,r){r===void 0&&(r=ob);var n=Math.ceil(Tn(t)/r)*r,o=n-(r-1);return{startPeriod:o,endPeriod:n}}function Ree(t){var r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+r)/36e5)}function BT(t){var r=t.getSeconds(),n=t.getMilliseconds();return Ft(t.getTime()-r*1e3-n)}function Bee(t,r){return BT(t).getTime()===BT(r).getTime()}function FT(t){if(!iu(t))throw new Error("Invalid date");var r=new Date(t);return r.setHours(0,0,0,0),r}function zT(t,r){if(!iu(t)||!iu(r))throw new Error("Invalid date received");var n=FT(t),o=FT(r);return zh(n,o)}function rj(t){return t.key===Lt.Space}var Fee=function(t){co(r,t);function r(n){var o=t.call(this,n)||this;return o.inputRef=at.createRef(),o.onTimeChange=function(a){var l,d;o.setState({time:a});var h=o.props.date,p=h instanceof Date&&!isNaN(+h),g=p?h:new Date;if(a!=null&&a.includes(":")){var b=a.split(":"),y=b[0],v=b[1];g.setHours(Number(y)),g.setMinutes(Number(v))}(d=(l=o.props).onChange)===null||d===void 0||d.call(l,g)},o.renderTimeInput=function(){var a=o.state.time,l=o.props,d=l.date,h=l.timeString,p=l.customTimeInput;return p?Y.cloneElement(p,{date:d,value:a,onChange:o.onTimeChange}):at.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:o.inputRef,onClick:function(){var g;(g=o.inputRef.current)===null||g===void 0||g.focus()},required:!0,value:a,onChange:function(g){o.onTimeChange(g.target.value||h)}})},o.state={time:o.props.timeString},o}return r.getDerivedStateFromProps=function(n,o){return n.timeString!==o.time?{time:n.timeString}:null},r.prototype.render=function(){return at.createElement("div",{className:"react-datepicker__input-time-container"},at.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),at.createElement("div",{className:"react-datepicker-time__input-container"},at.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},r}(Y.Component),zee=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=Y.createRef(),n.handleClick=function(o){!n.isDisabled()&&n.props.onClick&&n.props.onClick(o)},n.handleMouseEnter=function(o){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(o)},n.handleOnKeyDown=function(o){var a,l,d=o.key;d===Lt.Space&&(o.preventDefault(),o.key=Lt.Enter),(l=(a=n.props).handleOnKeyDown)===null||l===void 0||l.call(a,o)},n.isSameDay=function(o){return qn(n.props.day,o)},n.isKeyboardSelected=function(){var o;if(n.props.disabledKeyboardNavigation)return!1;var a=n.props.selectsMultiple?(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(d){return n.isSameDayOrWeek(d)}):n.isSameDayOrWeek(n.props.selected),l=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!a&&n.isSameDayOrWeek(n.props.preSelection)&&!l},n.isDisabled=function(o){return o===void 0&&(o=n.props.day),La(o,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return pC(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return qn(n.props.day,ad(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(o){return n.props.showWeekPicker&&qn(o,ad(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(o){return n.isSameDay(o)||n.isSameWeek(o)},n.getHighLightedClass=function(){var o=n.props,a=o.day,l=o.highlightDates;if(!l)return!1;var d=jr(a,"MM.dd.yyyy");return l.get(d)},n.getHolidaysClass=function(){var o,a=n.props,l=a.day,d=a.holidays;if(!d)return[void 0];var h=jr(l,"MM.dd.yyyy");return d.has(h)?[(o=d.get(h))===null||o===void 0?void 0:o.className]:[void 0]},n.isInRange=function(){var o=n.props,a=o.day,l=o.startDate,d=o.endDate;return!l||!d?!1:gg(a,l,d)},n.isInSelectingRange=function(){var o,a=n.props,l=a.day,d=a.selectsStart,h=a.selectsEnd,p=a.selectsRange,g=a.selectsDisabledDaysInRange,b=a.startDate,y=a.endDate,v=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(d||h||p)||!v||!g&&n.isDisabled()?!1:d&&y&&(zh(v,y)||Ah(v,y))?gg(l,v,y):h&&b&&(ud(v,b)||Ah(v,b))||p&&b&&!y&&(ud(v,b)||Ah(v,b))?gg(l,b,v):!1},n.isSelectingRangeStart=function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,d=a.startDate,h=a.selectsStart,p=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return h?qn(l,p):qn(l,d)},n.isSelectingRangeEnd=function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,d=a.endDate,h=a.selectsEnd,p=a.selectsRange,g=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return h||p?qn(l,g):qn(l,d)},n.isRangeStart=function(){var o=n.props,a=o.day,l=o.startDate,d=o.endDate;return!l||!d?!1:qn(l,a)},n.isRangeEnd=function(){var o=n.props,a=o.day,l=o.startDate,d=o.endDate;return!l||!d?!1:qn(d,a)},n.isWeekend=function(){var o=NJ(n.props.day);return o===0||o===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===rs(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(rs(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(hr())},n.isSelected=function(){var o;return n.props.selectsMultiple?(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(o){var a=n.props.dayClassName?n.props.dayClassName(o):void 0;return Xt("react-datepicker__day",a,"react-datepicker__day--"+Aee(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var o=n.props,a=o.day,l=o.ariaLabelPrefixWhenEnabled,d=l===void 0?"Choose":l,h=o.ariaLabelPrefixWhenDisabled,p=h===void 0?"Not available":h,g=n.isDisabled()||n.isExcluded()?p:d;return"".concat(g," ").concat(jr(a,"PPPP",n.props.locale))},n.getTitle=function(){var o=n.props,a=o.day,l=o.holidays,d=l===void 0?new Map:l,h=o.excludeDates,p=jr(a,"MM.dd.yyyy"),g=[];return d.has(p)&&g.push.apply(g,d.get(p).holidayNames),n.isExcluded()&&g.push(h==null?void 0:h.filter(function(b){return b instanceof Date?qn(b,a):qn(b==null?void 0:b.date,a)}).map(function(b){if(!(b instanceof Date))return b==null?void 0:b.message})),g.join(", ")},n.getTabIndex=function(){var o=n.props.selected,a=n.props.preSelection,l=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(o)&&qn(a,o))?0:-1;return l},n.handleFocusDay=function(){var o;n.shouldFocusDay()&&((o=n.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(pT(n.props.day),n.props.day):pT(n.props.day)},n.render=function(){return at.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&at.createElement("span",{className:"overlay"},n.getTitle()))},n}return r.prototype.componentDidMount=function(){this.handleFocusDay()},r.prototype.componentDidUpdate=function(){this.handleFocusDay()},r.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},r.prototype.isDayActiveElement=function(){var n,o,a;return((o=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||o===void 0?void 0:o.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},r.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},r}(Y.Component),Uee=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=Y.createRef(),n.handleClick=function(o){n.props.onClick&&n.props.onClick(o)},n.handleOnKeyDown=function(o){var a,l,d=o.key;d===Lt.Space&&(o.preventDefault(),o.key=Lt.Enter),(l=(a=n.props).handleOnKeyDown)===null||l===void 0||l.call(a,o)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!qn(n.props.date,n.props.selected)&&qn(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||qn(n.props.date,n.props.selected)&&qn(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(o){var a=!1;n.getTabIndex()===0&&!(o!=null&&o.isInputFocused)&&qn(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(a=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(r,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},r.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},r.prototype.render=function(){var n=this.props,o=n.weekNumber,a=n.isWeekDisabled,l=n.ariaLabelPrefix,d=l===void 0?r.defaultProps.ariaLabelPrefix:l,h=n.onClick,p={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!h&&!a,"react-datepicker__week-number--selected":!!h&&qn(this.props.date,this.props.selected)};return at.createElement("div",{ref:this.weekNumberEl,className:Xt(p),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},o)},r}(Y.Component),qee=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(o){return La(o,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(o,a){n.props.onDayClick&&n.props.onDayClick(o,a)},n.handleDayMouseEnter=function(o){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)},n.handleWeekClick=function(o,a,l){for(var d,h,p,g=new Date(o),b=0;b<7;b++){var y=new Date(o);y.setDate(y.getDate()+b);var v=!n.isDisabled(y);if(v){g=y;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(g,a,l),n.props.showWeekPicker&&n.handleDayClick(g,l),((d=n.props.shouldCloseOnSelect)!==null&&d!==void 0?d:r.defaultProps.shouldCloseOnSelect)&&((p=(h=n.props).setOpen)===null||p===void 0||p.call(h,!1))},n.formatWeekNumber=function(o){return n.props.formatWeekNumber?n.props.formatWeekNumber(o):vee(o)},n.isWeekDisabled=function(){for(var o=n.startOfWeek(),a=ml(o,6),l=new Date(o);l<=a;){if(!n.isDisabled(l))return!1;l=ml(l,1)}return!0},n.renderDays=function(){var o=n.startOfWeek(),a=[],l=n.formatWeekNumber(o);if(n.props.showWeekNumber){var d=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,o,l):void 0;a.push(at.createElement(Uee,Gn({key:"W"},r.defaultProps,n.props,{weekNumber:l,isWeekDisabled:n.isWeekDisabled(),date:o,onClick:d})))}return a.concat([0,1,2,3,4,5,6].map(function(h){var p=ml(o,h);return at.createElement(zee,Gn({},r.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:p.valueOf(),day:p,onClick:n.handleDayClick.bind(n,p),onMouseEnter:n.handleDayMouseEnter.bind(n,p)}))}))},n.startOfWeek=function(){return ad(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!qn(n.startOfWeek(),n.props.selected)&&qn(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(r,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":qn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return at.createElement("div",{className:Xt(n)},this.renderDays())},r}(Y.Component),Qm,Vee=6,hp={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Ov=(Qm={},Qm[hp.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Qm[hp.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Qm[hp.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Qm),X0=1;function UT(t,r){return t?hp.FOUR_COLUMNS:r?hp.TWO_COLUMNS:hp.THREE_COLUMNS}var $ee=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=cc([],Array(12),!0).map(function(){return Y.createRef()}),n.QUARTER_REFS=cc([],Array(4),!0).map(function(){return Y.createRef()}),n.isDisabled=function(o){return La(o,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(o){return pC(o,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(o,a){var l,d;(d=(l=n.props).onDayClick)===null||d===void 0||d.call(l,o,a,n.props.orderInDisplay)},n.handleDayMouseEnter=function(o){var a,l;(l=(a=n.props).onDayMouseEnter)===null||l===void 0||l.call(a,o)},n.handleMouseLeave=function(){var o,a;(a=(o=n.props).onMouseLeave)===null||a===void 0||a.call(o)},n.isRangeStartMonth=function(o){var a=n.props,l=a.day,d=a.startDate,h=a.endDate;return!d||!h?!1:ns(Ws(l,o),d)},n.isRangeStartQuarter=function(o){var a=n.props,l=a.day,d=a.startDate,h=a.endDate;return!d||!h?!1:r1(ip(l,o),d)},n.isRangeEndMonth=function(o){var a=n.props,l=a.day,d=a.startDate,h=a.endDate;return!d||!h?!1:ns(Ws(l,o),h)},n.isRangeEndQuarter=function(o){var a=n.props,l=a.day,d=a.startDate,h=a.endDate;return!d||!h?!1:r1(ip(l,o),h)},n.isInSelectingRangeMonth=function(o){var a,l=n.props,d=l.day,h=l.selectsStart,p=l.selectsEnd,g=l.selectsRange,b=l.startDate,y=l.endDate,v=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(h||p||g)||!v?!1:h&&y?K0(v,y,o,d):p&&b||g&&b&&!y?K0(b,v,o,d):!1},n.isSelectingMonthRangeStart=function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var l=n.props,d=l.day,h=l.startDate,p=l.selectsStart,g=Ws(d,o),b=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return p?ns(g,b):ns(g,h)},n.isSelectingMonthRangeEnd=function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var l=n.props,d=l.day,h=l.endDate,p=l.selectsEnd,g=l.selectsRange,b=Ws(d,o),y=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return p||g?ns(b,y):ns(b,h)},n.isInSelectingRangeQuarter=function(o){var a,l=n.props,d=l.day,h=l.selectsStart,p=l.selectsEnd,g=l.selectsRange,b=l.startDate,y=l.endDate,v=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(h||p||g)||!v?!1:h&&y?Z0(v,y,o,d):p&&b||g&&b&&!y?Z0(b,v,o,d):!1},n.isWeekInMonth=function(o){var a=n.props.day,l=ml(o,6);return ns(o,a)||ns(l,a)},n.isCurrentMonth=function(o,a){return Tn(o)===Tn(hr())&&a===rs(hr())},n.isCurrentQuarter=function(o,a){return Tn(o)===Tn(hr())&&a===Ih(hr())},n.isSelectedMonth=function(o,a,l){return rs(l)===a&&Tn(o)===Tn(l)},n.isSelectMonthInList=function(o,a,l){return l.some(function(d){return n.isSelectedMonth(o,a,d)})},n.isSelectedQuarter=function(o,a,l){return Ih(o)===a&&Tn(o)===Tn(l)},n.renderWeeks=function(){for(var o=[],a=n.props.fixedHeight,l=0,d=!1,h=ad(su(n.props.day),n.props.locale,n.props.calendarStartDay),p=function(x){return n.props.showWeekPicker?ad(x,n.props.locale,n.props.calendarStartDay):n.props.preSelection},g=function(x){return n.props.showWeekPicker?ad(x,n.props.locale,n.props.calendarStartDay):n.props.selected},b=n.props.selected?g(n.props.selected):void 0,y=n.props.preSelection?p(n.props.preSelection):void 0;o.push(at.createElement(qee,Gn({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:l,day:h,month:rs(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:b,preSelection:y,showWeekNumber:n.props.showWeekNumbers}))),!d;){l++,h=Hk(h,1);var v=a&&l>=Vee,k=!a&&!n.isWeekInMonth(h);if(v||k)if(n.props.peekNextMonth)d=!0;else break}return o},n.onMonthClick=function(o,a){var l=n.isMonthDisabledForLabelDate(a),d=l.isDisabled,h=l.labelDate;d||n.handleDayClick(su(h),o)},n.onMonthMouseEnter=function(o){var a=n.isMonthDisabledForLabelDate(o),l=a.isDisabled,d=a.labelDate;l||n.handleDayMouseEnter(su(d))},n.handleMonthNavigation=function(o,a){var l,d,h,p;(d=(l=n.props).setPreSelection)===null||d===void 0||d.call(l,a),(p=(h=n.MONTH_REFS[o])===null||h===void 0?void 0:h.current)===null||p===void 0||p.focus()},n.handleKeyboardNavigation=function(o,a,l){var d,h=n.props,p=h.selected,g=h.preSelection,b=h.setPreSelection,y=h.minDate,v=h.maxDate,k=h.showFourColumnMonthYearPicker,x=h.showTwoColumnMonthYearPicker;if(g){var C=UT(k,x),D=n.getVerticalOffset(C),S=(d=Ov[C])===null||d===void 0?void 0:d.grid,N=function(M,L,q){var Q,H,F=L,G=q;switch(M){case Lt.ArrowRight:F=gl(L,X0),G=q===11?0:q+X0;break;case Lt.ArrowLeft:F=Th(L,X0),G=q===0?11:q-X0;break;case Lt.ArrowUp:F=Th(L,D),G=!((Q=S==null?void 0:S[0])===null||Q===void 0)&&Q.includes(q)?q+12-D:q-D;break;case Lt.ArrowDown:F=gl(L,D),G=!((H=S==null?void 0:S[S.length-1])===null||H===void 0)&&H.includes(q)?q-12+D:q+D;break}return{newCalculatedDate:F,newCalculatedMonth:G}},P=function(M,L,q){for(var Q=40,H=M,F=!1,G=0,R=N(H,L,q),ne=R.newCalculatedDate,ue=R.newCalculatedMonth;!F;){if(G>=Q){ne=L,ue=q;break}if(y&&ne<y){H=Lt.ArrowRight;var ie=N(H,ne,ue);ne=ie.newCalculatedDate,ue=ie.newCalculatedMonth}if(v&&ne>v){H=Lt.ArrowLeft;var ie=N(H,ne,ue);ne=ie.newCalculatedDate,ue=ie.newCalculatedMonth}if(Iee(ne,n.props)){var ie=N(H,ne,ue);ne=ie.newCalculatedDate,ue=ie.newCalculatedMonth}else F=!0;G++}return{newCalculatedDate:ne,newCalculatedMonth:ue}};if(a===Lt.Enter){n.isMonthDisabled(l)||(n.onMonthClick(o,l),b==null||b(p));return}var B=P(a,g,l),$=B.newCalculatedDate,V=B.newCalculatedMonth;switch(a){case Lt.ArrowRight:case Lt.ArrowLeft:case Lt.ArrowUp:case Lt.ArrowDown:n.handleMonthNavigation(V,$);break}}},n.getVerticalOffset=function(o){var a,l;return(l=(a=Ov[o])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&l!==void 0?l:0},n.onMonthKeyDown=function(o,a){var l=n.props,d=l.disabledKeyboardNavigation,h=l.handleOnMonthKeyDown,p=o.key;p!==Lt.Tab&&o.preventDefault(),d||n.handleKeyboardNavigation(o,p,a),h&&h(o)},n.onQuarterClick=function(o,a){var l=ip(n.props.day,a);Q0(l,n.props)||n.handleDayClick(ST(l),o)},n.onQuarterMouseEnter=function(o){var a=ip(n.props.day,o);Q0(a,n.props)||n.handleDayMouseEnter(ST(a))},n.handleQuarterNavigation=function(o,a){var l,d,h,p;n.isDisabled(a)||n.isExcluded(a)||((d=(l=n.props).setPreSelection)===null||d===void 0||d.call(l,a),(p=(h=n.QUARTER_REFS[o-1])===null||h===void 0?void 0:h.current)===null||p===void 0||p.focus())},n.onQuarterKeyDown=function(o,a){var l,d,h=o.key;if(!n.props.disabledKeyboardNavigation)switch(h){case Lt.Enter:n.onQuarterClick(o,a),(d=(l=n.props).setPreSelection)===null||d===void 0||d.call(l,n.props.selected);break;case Lt.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===4?1:a+1,nC(n.props.preSelection,1));break;case Lt.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===1?4:a-1,zO(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(o){var a,l=n.props,d=l.day,h=l.minDate,p=l.maxDate,g=l.excludeDates,b=l.includeDates,y=Ws(d,o);return{isDisabled:(a=(h||p||g||b)&&ej(y,n.props))!==null&&a!==void 0?a:!1,labelDate:y}},n.isMonthDisabled=function(o){var a=n.isMonthDisabledForLabelDate(o).isDisabled;return a},n.getMonthClassNames=function(o){var a=n.props,l=a.day,d=a.startDate,h=a.endDate,p=a.preSelection,g=a.monthClassName,b=g?g(Ws(l,o)):void 0,y=n.getSelection();return Xt("react-datepicker__month-text","react-datepicker__month-".concat(o),b,{"react-datepicker__month-text--disabled":n.isMonthDisabled(o),"react-datepicker__month-text--selected":y?n.isSelectMonthInList(l,o,y):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&p&&n.isSelectedMonth(l,o,p)&&!n.isMonthDisabled(o),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":d&&h?K0(d,h,o,l):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(o),"react-datepicker__month-text--range-end":n.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":n.isCurrentMonth(l,o)})},n.getTabIndex=function(o){if(n.props.preSelection==null)return"-1";var a=rs(n.props.preSelection),l=n.isMonthDisabledForLabelDate(a).isDisabled,d=o===a&&!(l||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getQuarterTabIndex=function(o){if(n.props.preSelection==null)return"-1";var a=Ih(n.props.preSelection),l=Q0(n.props.day,n.props),d=o===a&&!(l||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getAriaLabel=function(o){var a=n.props,l=a.chooseDayAriaLabelPrefix,d=l===void 0?"Choose":l,h=a.disabledDayAriaLabelPrefix,p=h===void 0?"Not available":h,g=a.day,b=a.locale,y=Ws(g,o),v=n.isDisabled(y)||n.isExcluded(y)?p:d;return"".concat(v," ").concat(jr(y,"MMMM yyyy",b))},n.getQuarterClassNames=function(o){var a=n.props,l=a.day,d=a.startDate,h=a.endDate,p=a.selected,g=a.minDate,b=a.maxDate,y=a.excludeDates,v=a.includeDates,k=a.filterDate,x=a.preSelection,C=a.disabledKeyboardNavigation,D=(g||b||y||v||k)&&Q0(ip(l,o),n.props);return Xt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":D,"react-datepicker__quarter-text--selected":p?n.isSelectedQuarter(l,o,p):void 0,"react-datepicker__quarter-text--keyboard-selected":!C&&x&&n.isSelectedQuarter(l,o,x)&&!D,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":d&&h?Z0(d,h,o,l):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(o)})},n.getMonthContent=function(o){var a=n.props,l=a.showFullMonthYearPicker,d=a.renderMonthContent,h=a.locale,p=a.day,g=XO(o,h),b=fC(o,h);return d?d(o,g,b,p):l?b:g},n.getQuarterContent=function(o){var a,l=n.props,d=l.renderQuarterContent,h=l.locale,p=Dee(o,h);return(a=d==null?void 0:d(o,p))!==null&&a!==void 0?a:p},n.renderMonths=function(){var o,a=n.props,l=a.showTwoColumnMonthYearPicker,d=a.showFourColumnMonthYearPicker,h=a.day,p=a.selected,g=(o=Ov[UT(d,l)])===null||o===void 0?void 0:o.grid;return g==null?void 0:g.map(function(b,y){return at.createElement("div",{className:"react-datepicker__month-wrapper",key:y},b.map(function(v,k){return at.createElement("div",{ref:n.MONTH_REFS[v],key:k,onClick:function(x){n.onMonthClick(x,v)},onKeyDown:function(x){rj(x)&&(x.preventDefault(),x.key=Lt.Enter),n.onMonthKeyDown(x,v)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(v)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(v)}:void 0,tabIndex:Number(n.getTabIndex(v)),className:n.getMonthClassNames(v),"aria-disabled":n.isMonthDisabled(v),role:"option","aria-label":n.getAriaLabel(v),"aria-current":n.isCurrentMonth(h,v)?"date":void 0,"aria-selected":p?n.isSelectedMonth(h,v,p):void 0},n.getMonthContent(v))}))})},n.renderQuarters=function(){var o=n.props,a=o.day,l=o.selected,d=[1,2,3,4];return at.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(h,p){return at.createElement("div",{key:p,ref:n.QUARTER_REFS[p],role:"option",onClick:function(g){n.onQuarterClick(g,h)},onKeyDown:function(g){n.onQuarterKeyDown(g,h)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(h)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(h)}:void 0,className:n.getQuarterClassNames(h),"aria-selected":l?n.isSelectedQuarter(a,h,l):void 0,tabIndex:Number(n.getQuarterTabIndex(h)),"aria-current":n.isCurrentQuarter(a,h)?"date":void 0},n.getQuarterContent(h))}))},n.getClassNames=function(){var o=n.props,a=o.selectingDate,l=o.selectsStart,d=o.selectsEnd,h=o.showMonthYearPicker,p=o.showQuarterYearPicker,g=o.showWeekPicker;return Xt("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(l||d)},{"react-datepicker__monthPicker":h},{"react-datepicker__quarterPicker":p},{"react-datepicker__weekPicker":g})},n}return r.prototype.getSelection=function(){var n=this.props,o=n.selected,a=n.selectedDates,l=n.selectsMultiple;if(l)return a;if(o)return[o]},r.prototype.render=function(){var n=this.props,o=n.showMonthYearPicker,a=n.showQuarterYearPicker,l=n.day,d=n.ariaLabelPrefix,h=d===void 0?"Month ":d,p=h?h.trim()+" ":"";return at.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(p).concat(jr(l,"MMMM, yyyy",this.props.locale)),role:"listbox"},o?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},r}(Y.Component),Hee=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(o){return n.props.month===o},n.renderOptions=function(){return n.props.monthNames.map(function(o,a){return at.createElement("div",{className:n.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:n.onChange.bind(n,a),"aria-selected":n.isSelectedMonth(a)?"true":void 0},n.isSelectedMonth(a)?at.createElement("span",{className:"react-datepicker__month-option--selected"},"âœ“"):"",o)})},n.onChange=function(o){return n.props.onChange(o)},n.handleClickOutside=function(){return n.props.onCancel()},n}return r.prototype.render=function(){return at.createElement(j1,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},r}(Y.Component),Wee=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(o){return o.map(function(a,l){return at.createElement("option",{key:a,value:l},a)})},n.renderSelectMode=function(o){return at.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(a){return n.onChange(parseInt(a.target.value))}},n.renderSelectOptions(o))},n.renderReadView=function(o,a){return at.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},at.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),at.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[n.props.month]))},n.renderDropdown=function(o){return at.createElement(Hee,Gn({key:"dropdown"},n.props,{monthNames:o,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(o){var a=n.state.dropdownVisible,l=[n.renderReadView(!a,o)];return a&&l.unshift(n.renderDropdown(o)),l},n.onChange=function(o){n.toggleDropdown(),o!==n.props.month&&n.props.onChange(o)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return r.prototype.render=function(){var n=this,o=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(l){return XO(l,n.props.locale)}:function(l){return fC(l,n.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(o);break;case"select":a=this.renderSelectMode(o);break}return at.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},r}(Y.Component);function Gee(t,r){for(var n=[],o=su(t),a=su(r);!ud(o,a);)n.push(hr(o)),o=gl(o,1);return n}var Yee=function(t){co(r,t);function r(n){var o=t.call(this,n)||this;return o.renderOptions=function(){return o.state.monthYearsList.map(function(a){var l=VA(a),d=Xl(o.props.date,a)&&ns(o.props.date,a);return at.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:l,onClick:o.onChange.bind(o,l),"aria-selected":d?"true":void 0},d?at.createElement("span",{className:"react-datepicker__month-year-option--selected"},"âœ“"):"",jr(a,o.props.dateFormat,o.props.locale))})},o.onChange=function(a){return o.props.onChange(a)},o.handleClickOutside=function(){o.props.onCancel()},o.state={monthYearsList:Gee(o.props.minDate,o.props.maxDate)},o}return r.prototype.render=function(){var n=Xt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return at.createElement(j1,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(Y.Component),Kee=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var o=su(n.props.minDate),a=su(n.props.maxDate),l=[];!ud(o,a);){var d=VA(o);l.push(at.createElement("option",{key:d,value:d},jr(o,n.props.dateFormat,n.props.locale))),o=gl(o,1)}return l},n.onSelectChange=function(o){n.onChange(parseInt(o.target.value))},n.renderSelectMode=function(){return at.createElement("select",{value:VA(su(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(o){var a=jr(n.props.date,n.props.dateFormat,n.props.locale);return at.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},at.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),at.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},n.renderDropdown=function(){return at.createElement(Yee,Gn({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a},n.onChange=function(o){n.toggleDropdown();var a=hr(o);Xl(n.props.date,a)&&ns(n.props.date,a)||n.props.onChange(a)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return r.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return at.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},r}(Y.Component),Qee=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var o,a,l;n.list&&(n.list.scrollTop=(l=n.centerLi&&r.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((a=(o=n.header)===null||o===void 0?void 0:o.clientHeight)!==null&&a!==void 0?a:0):n.list.clientHeight,n.centerLi))!==null&&l!==void 0?l:0)})},n.handleClick=function(o){var a,l;(n.props.minTime||n.props.maxTime)&&NT(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&TT(o,n.props)||(l=(a=n.props).onChange)===null||l===void 0||l.call(a,o)},n.isSelectedTime=function(o){return n.props.selected&&Bee(n.props.selected,o)},n.isDisabledTime=function(o){return(n.props.minTime||n.props.maxTime)&&NT(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&TT(o,n.props)},n.liClasses=function(o){var a,l=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(o):void 0];return n.isSelectedTime(o)&&l.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(o)&&l.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(dc(o)*3600+hc(o)*60+ou(o))%(((a=n.props.intervals)!==null&&a!==void 0?a:r.defaultProps.intervals)*60)!==0&&l.push("react-datepicker__time-list-item--injected"),l.join(" ")},n.handleOnKeyDown=function(o,a){var l,d;o.key===Lt.Space&&(o.preventDefault(),o.key=Lt.Enter),(o.key===Lt.ArrowUp||o.key===Lt.ArrowLeft)&&o.target instanceof HTMLElement&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling instanceof HTMLElement&&o.target.previousSibling.focus()),(o.key===Lt.ArrowDown||o.key===Lt.ArrowRight)&&o.target instanceof HTMLElement&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling instanceof HTMLElement&&o.target.nextSibling.focus()),o.key===Lt.Enter&&n.handleClick(a),(d=(l=n.props).handleOnKeyDown)===null||d===void 0||d.call(l,o)},n.renderTimes=function(){for(var o,a=[],l=typeof n.props.format=="string"?n.props.format:"p",d=(o=n.props.intervals)!==null&&o!==void 0?o:r.defaultProps.intervals,h=n.props.selected||n.props.openToDate||hr(),p=vk(h),g=n.props.injectTimes&&n.props.injectTimes.sort(function(D,S){return D.getTime()-S.getTime()}),b=60*Ree(h),y=b/d,v=0;v<y;v++){var k=zA(p,v*d);if(a.push(k),g){var x=Lee(p,k,v,d,g);a=a.concat(x)}}var C=a.reduce(function(D,S){return S.getTime()<=h.getTime()?S:D},a[0]);return a.map(function(D){return at.createElement("li",{key:D.valueOf(),onClick:n.handleClick.bind(n,D),className:n.liClasses(D),ref:function(S){D===C&&(n.centerLi=S)},onKeyDown:function(S){n.handleOnKeyDown(S,D)},tabIndex:D===C?0:-1,role:"option","aria-selected":n.isSelectedTime(D)?"true":void 0,"aria-disabled":n.isDisabledTime(D)?"true":void 0},jr(D,l,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?at.createElement(at.Fragment,null):at.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){n.header=o}},at.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(r,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},r.prototype.render=function(){var n=this,o,a=this.state.height;return at.createElement("div",{className:"react-datepicker__time-container ".concat(((o=this.props.todayButton)!==null&&o!==void 0?o:r.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),at.createElement("div",{className:"react-datepicker__time"},at.createElement("div",{className:"react-datepicker__time-box"},at.createElement("ul",{className:"react-datepicker__time-list",ref:function(l){n.list=l},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},r.calcCenterPosition=function(n,o){return o.offsetTop-(n/2-o.clientHeight/2)},r}(Y.Component),qT=3,Jee=function(t){co(r,t);function r(n){var o=t.call(this,n)||this;return o.YEAR_REFS=cc([],Array(o.props.yearItemNumber),!0).map(function(){return Y.createRef()}),o.isDisabled=function(a){return La(a,{minDate:o.props.minDate,maxDate:o.props.maxDate,excludeDates:o.props.excludeDates,includeDates:o.props.includeDates,filterDate:o.props.filterDate})},o.isExcluded=function(a){return pC(a,{excludeDates:o.props.excludeDates})},o.selectingDate=function(){var a;return(a=o.props.selectingDate)!==null&&a!==void 0?a:o.props.preSelection},o.updateFocusOnPaginate=function(a){var l=function(){var d,h;(h=(d=o.YEAR_REFS[a])===null||d===void 0?void 0:d.current)===null||h===void 0||h.focus()};window.requestAnimationFrame(l)},o.handleYearClick=function(a,l){o.props.onDayClick&&o.props.onDayClick(a,l)},o.handleYearNavigation=function(a,l){var d,h,p,g,b=o.props,y=b.date,v=b.yearItemNumber;if(!(y===void 0||v===void 0)){var k=rd(y,v).startPeriod;o.isDisabled(l)||o.isExcluded(l)||((h=(d=o.props).setPreSelection)===null||h===void 0||h.call(d,l),a-k<0?o.updateFocusOnPaginate(v-(k-a)):a-k>=v?o.updateFocusOnPaginate(Math.abs(v-(a-k))):(g=(p=o.YEAR_REFS[a-k])===null||p===void 0?void 0:p.current)===null||g===void 0||g.focus())}},o.isSameDay=function(a,l){return qn(a,l)},o.isCurrentYear=function(a){return a===Tn(hr())},o.isRangeStart=function(a){return o.props.startDate&&o.props.endDate&&Xl(Zl(hr(),a),o.props.startDate)},o.isRangeEnd=function(a){return o.props.startDate&&o.props.endDate&&Xl(Zl(hr(),a),o.props.endDate)},o.isInRange=function(a){return J0(a,o.props.startDate,o.props.endDate)},o.isInSelectingRange=function(a){var l=o.props,d=l.selectsStart,h=l.selectsEnd,p=l.selectsRange,g=l.startDate,b=l.endDate;return!(d||h||p)||!o.selectingDate()?!1:d&&b?J0(a,o.selectingDate(),b):h&&g||p&&g&&!b?J0(a,g,o.selectingDate()):!1},o.isSelectingRangeStart=function(a){var l;if(!o.isInSelectingRange(a))return!1;var d=o.props,h=d.startDate,p=d.selectsStart,g=Zl(hr(),a);return p?Xl(g,(l=o.selectingDate())!==null&&l!==void 0?l:null):Xl(g,h??null)},o.isSelectingRangeEnd=function(a){var l;if(!o.isInSelectingRange(a))return!1;var d=o.props,h=d.endDate,p=d.selectsEnd,g=d.selectsRange,b=Zl(hr(),a);return p||g?Xl(b,(l=o.selectingDate())!==null&&l!==void 0?l:null):Xl(b,h??null)},o.isKeyboardSelected=function(a){if(!(o.props.date===void 0||o.props.selected==null||o.props.preSelection==null)){var l=o.props,d=l.minDate,h=l.maxDate,p=l.excludeDates,g=l.includeDates,b=l.filterDate,y=mg(Zl(o.props.date,a)),v=(d||h||p||g||b)&&Ak(a,o.props);return!o.props.disabledKeyboardNavigation&&!o.props.inline&&!qn(y,mg(o.props.selected))&&qn(y,mg(o.props.preSelection))&&!v}},o.onYearClick=function(a,l){var d=o.props.date;d!==void 0&&o.handleYearClick(mg(Zl(d,l)),a)},o.onYearKeyDown=function(a,l){var d,h,p=a.key,g=o.props,b=g.date,y=g.yearItemNumber,v=g.handleOnKeyDown;if(p!==Lt.Tab&&a.preventDefault(),!o.props.disabledKeyboardNavigation)switch(p){case Lt.Enter:if(o.props.selected==null)break;o.onYearClick(a,l),(h=(d=o.props).setPreSelection)===null||h===void 0||h.call(d,o.props.selected);break;case Lt.ArrowRight:if(o.props.preSelection==null)break;o.handleYearNavigation(l+1,ru(o.props.preSelection,1));break;case Lt.ArrowLeft:if(o.props.preSelection==null)break;o.handleYearNavigation(l-1,Sp(o.props.preSelection,1));break;case Lt.ArrowUp:{if(b===void 0||y===void 0||o.props.preSelection==null)break;var k=rd(b,y).startPeriod,x=qT,C=l-x;if(C<k){var D=y%x;l>=k&&l<k+D?x=D:x+=D,C=l-x}o.handleYearNavigation(C,Sp(o.props.preSelection,x));break}case Lt.ArrowDown:{if(b===void 0||y===void 0||o.props.preSelection==null)break;var S=rd(b,y).endPeriod,x=qT,C=l+x;if(C>S){var D=y%x;l<=S&&l>S-D?x=D:x+=D,C=l+x}o.handleYearNavigation(C,ru(o.props.preSelection,x));break}}v&&v(a)},o.getYearClassNames=function(a){var l=o.props,d=l.date,h=l.minDate,p=l.maxDate,g=l.selected,b=l.excludeDates,y=l.includeDates,v=l.filterDate,k=l.yearClassName;return Xt("react-datepicker__year-text","react-datepicker__year-".concat(a),d?k==null?void 0:k(Zl(d,a)):void 0,{"react-datepicker__year-text--selected":g?a===Tn(g):void 0,"react-datepicker__year-text--disabled":(h||p||b||y||v)&&Ak(a,o.props),"react-datepicker__year-text--keyboard-selected":o.isKeyboardSelected(a),"react-datepicker__year-text--range-start":o.isRangeStart(a),"react-datepicker__year-text--range-end":o.isRangeEnd(a),"react-datepicker__year-text--in-range":o.isInRange(a),"react-datepicker__year-text--in-selecting-range":o.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":o.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":o.isSelectingRangeEnd(a),"react-datepicker__year-text--today":o.isCurrentYear(a)})},o.getYearTabIndex=function(a){if(o.props.disabledKeyboardNavigation||o.props.preSelection==null)return"-1";var l=Tn(o.props.preSelection),d=Ak(a,o.props);return a===l&&!d?"0":"-1"},o.getYearContent=function(a){return o.props.renderYearContent?o.props.renderYearContent(a):a},o}return r.prototype.render=function(){var n=this,o=[],a=this.props,l=a.date,d=a.yearItemNumber,h=a.onYearMouseEnter,p=a.onYearMouseLeave;if(l===void 0)return null;for(var g=rd(l,d),b=g.startPeriod,y=g.endPeriod,v=function(C){o.push(at.createElement("div",{ref:k.YEAR_REFS[C-b],onClick:function(D){n.onYearClick(D,C)},onKeyDown:function(D){rj(D)&&(D.preventDefault(),D.key=Lt.Enter),n.onYearKeyDown(D,C)},tabIndex:Number(k.getYearTabIndex(C)),className:k.getYearClassNames(C),onMouseEnter:k.props.usePointerEvent?void 0:function(D){return h(D,C)},onPointerEnter:k.props.usePointerEvent?function(D){return h(D,C)}:void 0,onMouseLeave:k.props.usePointerEvent?void 0:function(D){return p(D,C)},onPointerLeave:k.props.usePointerEvent?function(D){return p(D,C)}:void 0,key:C,"aria-current":k.isCurrentYear(C)?"date":void 0},k.getYearContent(C)))},k=this,x=b;x<=y;x++)v(x);return at.createElement("div",{className:"react-datepicker__year"},at.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},o))},r}(Y.Component);function Zee(t,r,n,o){for(var a=[],l=0;l<2*r+1;l++){var d=t+r-l,h=!0;n&&(h=Tn(n)<=d),o&&h&&(h=Tn(o)>=d),h&&a.push(d)}return a}var Xee=function(t){co(r,t);function r(n){var o=t.call(this,n)||this;o.renderOptions=function(){var h=o.props.year,p=o.state.yearsList.map(function(y){return at.createElement("div",{className:h===y?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:y,onClick:o.onChange.bind(o,y),"aria-selected":h===y?"true":void 0},h===y?at.createElement("span",{className:"react-datepicker__year-option--selected"},"âœ“"):"",y)}),g=o.props.minDate?Tn(o.props.minDate):null,b=o.props.maxDate?Tn(o.props.maxDate):null;return(!b||!o.state.yearsList.find(function(y){return y===b}))&&p.unshift(at.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:o.incrementYears},at.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!g||!o.state.yearsList.find(function(y){return y===g}))&&p.push(at.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:o.decrementYears},at.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),p},o.onChange=function(h){o.props.onChange(h)},o.handleClickOutside=function(){o.props.onCancel()},o.shiftYears=function(h){var p=o.state.yearsList.map(function(g){return g+h});o.setState({yearsList:p})},o.incrementYears=function(){return o.shiftYears(1)},o.decrementYears=function(){return o.shiftYears(-1)};var a=n.yearDropdownItemNumber,l=n.scrollableYearDropdown,d=a||(l?10:5);return o.state={yearsList:Zee(o.props.year,d,o.props.minDate,o.props.maxDate)},o.dropdownRef=Y.createRef(),o}return r.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var o=n.children?Array.from(n.children):null,a=o?o.find(function(l){return l.ariaSelected}):null;n.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},r.prototype.render=function(){var n=Xt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return at.createElement(j1,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(Y.Component),ete=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var o=n.props.minDate?Tn(n.props.minDate):1900,a=n.props.maxDate?Tn(n.props.maxDate):2100,l=[],d=o;d<=a;d++)l.push(at.createElement("option",{key:d,value:d},d));return l},n.onSelectChange=function(o){n.onChange(parseInt(o.target.value))},n.renderSelectMode=function(){return at.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(o){return at.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return n.toggleDropdown(a)}},at.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),at.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return at.createElement(Xee,Gn({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a},n.onChange=function(o){n.toggleDropdown(),o!==n.props.year&&n.props.onChange(o)},n.toggleDropdown=function(o){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,o)})},n.handleYearChange=function(o,a){var l;(l=n.onSelect)===null||l===void 0||l.call(n,o,a),n.setOpen()},n.onSelect=function(o,a){var l,d;(d=(l=n.props).onSelect)===null||d===void 0||d.call(l,o,a)},n.setOpen=function(){var o,a;(a=(o=n.props).setOpen)===null||a===void 0||a.call(o,!0)},n}return r.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return at.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},r}(Y.Component),tte=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],nte=function(t){var r=(t.className||"").split(/\s+/);return tte.some(function(n){return r.indexOf(n)>=0})},rte=function(t){co(r,t);function r(n){var o=t.call(this,n)||this;return o.monthContainer=void 0,o.handleClickOutside=function(a){o.props.onClickOutside(a)},o.setClickOutsideRef=function(){return o.containerRef.current},o.handleDropdownFocus=function(a){var l,d;nte(a.target)&&((d=(l=o.props).onDropdownFocus)===null||d===void 0||d.call(l,a))},o.getDateInView=function(){var a=o.props,l=a.preSelection,d=a.selected,h=a.openToDate,p=tj(o.props),g=nj(o.props),b=hr(),y=h||d||l;return y||(p&&zh(b,p)?p:g&&ud(b,g)?g:b)},o.increaseMonth=function(){o.setState(function(a){var l=a.date;return{date:gl(l,1)}},function(){return o.handleMonthChange(o.state.date)})},o.decreaseMonth=function(){o.setState(function(a){var l=a.date;return{date:Th(l,1)}},function(){return o.handleMonthChange(o.state.date)})},o.handleDayClick=function(a,l,d){o.props.onSelect(a,l,d),o.props.setPreSelection&&o.props.setPreSelection(a)},o.handleDayMouseEnter=function(a){o.setState({selectingDate:a}),o.props.onDayMouseEnter&&o.props.onDayMouseEnter(a)},o.handleMonthMouseLeave=function(){o.setState({selectingDate:void 0}),o.props.onMonthMouseLeave&&o.props.onMonthMouseLeave()},o.handleYearMouseEnter=function(a,l){o.setState({selectingDate:Zl(hr(),l)}),o.props.onYearMouseEnter&&o.props.onYearMouseEnter(a,l)},o.handleYearMouseLeave=function(a,l){o.props.onYearMouseLeave&&o.props.onYearMouseLeave(a,l)},o.handleYearChange=function(a){var l,d,h,p;(d=(l=o.props).onYearChange)===null||d===void 0||d.call(l,a),o.setState({isRenderAriaLiveMessage:!0}),o.props.adjustDateOnChange&&(o.props.onSelect(a),(p=(h=o.props).setOpen)===null||p===void 0||p.call(h,!0)),o.props.setPreSelection&&o.props.setPreSelection(a)},o.getEnabledPreSelectionDateForMonth=function(a){if(!La(a,o.props))return a;for(var l=su(a),d=Cee(a),h=BQ(d,l),p=null,g=0;g<=h;g++){var b=ml(l,g);if(!La(b,o.props)){p=b;break}}return p},o.handleMonthChange=function(a){var l,d,h,p=(l=o.getEnabledPreSelectionDateForMonth(a))!==null&&l!==void 0?l:a;o.handleCustomMonthChange(p),o.props.adjustDateOnChange&&(o.props.onSelect(p),(h=(d=o.props).setOpen)===null||h===void 0||h.call(d,!0)),o.props.setPreSelection&&o.props.setPreSelection(p)},o.handleCustomMonthChange=function(a){var l,d;(d=(l=o.props).onMonthChange)===null||d===void 0||d.call(l,a),o.setState({isRenderAriaLiveMessage:!0})},o.handleMonthYearChange=function(a){o.handleYearChange(a),o.handleMonthChange(a)},o.changeYear=function(a){o.setState(function(l){var d=l.date;return{date:Zl(d,Number(a))}},function(){return o.handleYearChange(o.state.date)})},o.changeMonth=function(a){o.setState(function(l){var d=l.date;return{date:Ws(d,Number(a))}},function(){return o.handleMonthChange(o.state.date)})},o.changeMonthYear=function(a){o.setState(function(l){var d=l.date;return{date:Zl(Ws(d,rs(a)),Tn(a))}},function(){return o.handleMonthYearChange(o.state.date)})},o.header=function(a){a===void 0&&(a=o.state.date);var l=ad(a,o.props.locale,o.props.calendarStartDay),d=[];return o.props.showWeekNumbers&&d.push(at.createElement("div",{key:"W",className:"react-datepicker__day-name"},o.props.weekLabel||"#")),d.concat([0,1,2,3,4,5,6].map(function(h){var p=ml(l,h),g=o.formatWeekday(p,o.props.locale),b=o.props.weekDayClassName?o.props.weekDayClassName(p):void 0;return at.createElement("div",{key:h,"aria-label":jr(p,"EEEE",o.props.locale),className:Xt("react-datepicker__day-name",b)},g)}))},o.formatWeekday=function(a,l){return o.props.formatWeekDay?xee(a,o.props.formatWeekDay,l):o.props.useWeekdaysShort?Eee(a,l):See(a,l)},o.decreaseYear=function(){o.setState(function(a){var l,d=a.date;return{date:Sp(d,o.props.showYearPicker?(l=o.props.yearItemNumber)!==null&&l!==void 0?l:r.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.clearSelectingDate=function(){o.setState({selectingDate:void 0})},o.renderPreviousButton=function(){var a,l,d;if(!o.props.renderCustomHeader){var h=(a=o.props.monthsShown)!==null&&a!==void 0?a:r.defaultProps.monthsShown,p=o.props.showPreviousMonths?h-1:0,g=(l=o.props.monthSelectedIn)!==null&&l!==void 0?l:p,b=Th(o.state.date,g),y;switch(!0){case o.props.showMonthYearPicker:y=OT(o.state.date,o.props);break;case o.props.showYearPicker:y=Mee(o.state.date,o.props);break;case o.props.showQuarterYearPicker:y=Tee(o.state.date,o.props);break;default:y=MT(b,o.props);break}if(!(!((d=o.props.forceShowMonthNavigation)!==null&&d!==void 0?d:r.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&y||o.props.showTimeSelectOnly)){var v=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],k=["react-datepicker__navigation","react-datepicker__navigation--previous"],x=o.decreaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(x=o.decreaseYear),y&&o.props.showDisabledMonthNavigation&&(k.push("react-datepicker__navigation--previous--disabled"),x=void 0);var C=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,D=o.props,S=D.previousMonthButtonLabel,N=S===void 0?r.defaultProps.previousMonthButtonLabel:S,P=D.previousYearButtonLabel,B=P===void 0?r.defaultProps.previousYearButtonLabel:P,$=o.props,V=$.previousMonthAriaLabel,M=V===void 0?typeof N=="string"?N:"Previous Month":V,L=$.previousYearAriaLabel,q=L===void 0?typeof B=="string"?B:"Previous Year":L;return at.createElement("button",{type:"button",className:k.join(" "),onClick:x,onKeyDown:o.props.handleOnKeyDown,"aria-label":C?q:M},at.createElement("span",{className:v.join(" ")},C?B:N))}}},o.increaseYear=function(){o.setState(function(a){var l,d=a.date;return{date:ru(d,o.props.showYearPicker?(l=o.props.yearItemNumber)!==null&&l!==void 0?l:r.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.renderNextButton=function(){var a;if(!o.props.renderCustomHeader){var l;switch(!0){case o.props.showMonthYearPicker:l=jT(o.state.date,o.props);break;case o.props.showYearPicker:l=Pee(o.state.date,o.props);break;case o.props.showQuarterYearPicker:l=Nee(o.state.date,o.props);break;default:l=PT(o.state.date,o.props);break}if(!(!((a=o.props.forceShowMonthNavigation)!==null&&a!==void 0?a:r.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&l||o.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];o.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),o.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var p=o.increaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(p=o.increaseYear),l&&o.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),p=void 0);var g=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,b=o.props,y=b.nextMonthButtonLabel,v=y===void 0?r.defaultProps.nextMonthButtonLabel:y,k=b.nextYearButtonLabel,x=k===void 0?r.defaultProps.nextYearButtonLabel:k,C=o.props,D=C.nextMonthAriaLabel,S=D===void 0?typeof v=="string"?v:"Next Month":D,N=C.nextYearAriaLabel,P=N===void 0?typeof x=="string"?x:"Next Year":N;return at.createElement("button",{type:"button",className:d.join(" "),onClick:p,onKeyDown:o.props.handleOnKeyDown,"aria-label":g?P:S},at.createElement("span",{className:h.join(" ")},g?x:v))}}},o.renderCurrentMonth=function(a){a===void 0&&(a=o.state.date);var l=["react-datepicker__current-month"];return o.props.showYearDropdown&&l.push("react-datepicker__current-month--hasYearDropdown"),o.props.showMonthDropdown&&l.push("react-datepicker__current-month--hasMonthDropdown"),o.props.showMonthYearDropdown&&l.push("react-datepicker__current-month--hasMonthYearDropdown"),at.createElement("h2",{className:l.join(" ")},jr(a,o.props.dateFormat,o.props.locale))},o.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!o.props.showYearDropdown||a))return at.createElement(ete,Gn({},r.defaultProps,o.props,{date:o.state.date,onChange:o.changeYear,year:Tn(o.state.date)}))},o.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!o.props.showMonthDropdown||a))return at.createElement(Wee,Gn({},r.defaultProps,o.props,{month:rs(o.state.date),onChange:o.changeMonth}))},o.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!o.props.showMonthYearDropdown||a))return at.createElement(Kee,Gn({},r.defaultProps,o.props,{date:o.state.date,onChange:o.changeMonthYear}))},o.handleTodayButtonClick=function(a){o.props.onSelect(ET(),a),o.props.setPreSelection&&o.props.setPreSelection(ET())},o.renderTodayButton=function(){if(!(!o.props.todayButton||o.props.showTimeSelectOnly))return at.createElement("div",{className:"react-datepicker__today-button",onClick:o.handleTodayButtonClick},o.props.todayButton)},o.renderDefaultHeader=function(a){var l=a.monthDate,d=a.i;return at.createElement("div",{className:"react-datepicker__header ".concat(o.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},o.renderCurrentMonth(l),at.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(o.props.dropdownMode),onFocus:o.handleDropdownFocus},o.renderMonthDropdown(d!==0),o.renderMonthYearDropdown(d!==0),o.renderYearDropdown(d!==0)),at.createElement("div",{className:"react-datepicker__day-names"},o.header(l)))},o.renderCustomHeader=function(a){var l,d,h=a.monthDate,p=a.i;if(o.props.showTimeSelect&&!o.state.monthContainer||o.props.showTimeSelectOnly)return null;var g=MT(o.state.date,o.props),b=PT(o.state.date,o.props),y=OT(o.state.date,o.props),v=jT(o.state.date,o.props),k=!o.props.showMonthYearPicker&&!o.props.showQuarterYearPicker&&!o.props.showYearPicker;return at.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:o.props.onDropdownFocus},(d=(l=o.props).renderCustomHeader)===null||d===void 0?void 0:d.call(l,Gn(Gn({},o.state),{customHeaderCount:p,monthDate:h,changeMonth:o.changeMonth,changeYear:o.changeYear,decreaseMonth:o.decreaseMonth,increaseMonth:o.increaseMonth,decreaseYear:o.decreaseYear,increaseYear:o.increaseYear,prevMonthButtonDisabled:g,nextMonthButtonDisabled:b,prevYearButtonDisabled:y,nextYearButtonDisabled:v})),k&&at.createElement("div",{className:"react-datepicker__day-names"},o.header(h)))},o.renderYearHeader=function(a){var l=a.monthDate,d=o.props,h=d.showYearPicker,p=d.yearItemNumber,g=p===void 0?r.defaultProps.yearItemNumber:p,b=rd(l,g),y=b.startPeriod,v=b.endPeriod;return at.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},h?"".concat(y," - ").concat(v):Tn(l))},o.renderHeader=function(a){var l=a.monthDate,d=a.i,h=d===void 0?0:d,p={monthDate:l,i:h};switch(!0){case o.props.renderCustomHeader!==void 0:return o.renderCustomHeader(p);case(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker):return o.renderYearHeader(p);default:return o.renderDefaultHeader(p)}},o.renderMonths=function(){var a,l;if(!(o.props.showTimeSelectOnly||o.props.showYearPicker)){for(var d=[],h=(a=o.props.monthsShown)!==null&&a!==void 0?a:r.defaultProps.monthsShown,p=o.props.showPreviousMonths?h-1:0,g=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?ru(o.state.date,p):Th(o.state.date,p),b=(l=o.props.monthSelectedIn)!==null&&l!==void 0?l:p,y=0;y<h;++y){var v=y-b+p,k=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?ru(g,v):gl(g,v),x="month-".concat(y),C=y<h-1,D=y>0;d.push(at.createElement("div",{key:x,ref:function(S){o.monthContainer=S??void 0},className:"react-datepicker__month-container"},o.renderHeader({monthDate:k,i:y}),at.createElement($ee,Gn({},r.defaultProps,o.props,{ariaLabelPrefix:o.props.monthAriaLabelPrefix,day:k,onDayClick:o.handleDayClick,handleOnKeyDown:o.props.handleOnDayKeyDown,handleOnMonthKeyDown:o.props.handleOnKeyDown,onDayMouseEnter:o.handleDayMouseEnter,onMouseLeave:o.handleMonthMouseLeave,orderInDisplay:y,selectingDate:o.state.selectingDate,monthShowsDuplicateDaysEnd:C,monthShowsDuplicateDaysStart:D}))))}return d}},o.renderYears=function(){if(!o.props.showTimeSelectOnly&&o.props.showYearPicker)return at.createElement("div",{className:"react-datepicker__year--container"},o.renderHeader({monthDate:o.state.date}),at.createElement(Jee,Gn({},r.defaultProps,o.props,{selectingDate:o.state.selectingDate,date:o.state.date,onDayClick:o.handleDayClick,clearSelectingDate:o.clearSelectingDate,onYearMouseEnter:o.handleYearMouseEnter,onYearMouseLeave:o.handleYearMouseLeave})))},o.renderTimeSection=function(){if(o.props.showTimeSelect&&(o.state.monthContainer||o.props.showTimeSelectOnly))return at.createElement(Qee,Gn({},r.defaultProps,o.props,{onChange:o.props.onTimeChange,format:o.props.timeFormat,intervals:o.props.timeIntervals,monthRef:o.state.monthContainer}))},o.renderInputTimeSection=function(){var a=o.props.selected?new Date(o.props.selected):void 0,l=a&&Xc(a)&&!!o.props.selected,d=l?"".concat(RT(a.getHours()),":").concat(RT(a.getMinutes())):"";if(o.props.showTimeInput)return at.createElement(Fee,Gn({},r.defaultProps,o.props,{date:a,timeString:d,onChange:o.props.onTimeChange}))},o.renderAriaLiveRegion=function(){var a,l=rd(o.state.date,(a=o.props.yearItemNumber)!==null&&a!==void 0?a:r.defaultProps.yearItemNumber),d=l.startPeriod,h=l.endPeriod,p;return o.props.showYearPicker?p="".concat(d," - ").concat(h):o.props.showMonthYearPicker||o.props.showQuarterYearPicker?p=Tn(o.state.date):p="".concat(fC(rs(o.state.date),o.props.locale)," ").concat(Tn(o.state.date)),at.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},o.state.isRenderAriaLiveMessage&&p)},o.renderChildren=function(){if(o.props.children)return at.createElement("div",{className:"react-datepicker__children-container"},o.props.children)},o.containerRef=Y.createRef(),o.state={date:o.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},o}return Object.defineProperty(r,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:ob}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},r.prototype.componentDidUpdate=function(n){var o=this;if(this.props.preSelection&&(!qn(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var a=!ns(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&o.handleCustomMonthChange(o.state.date)})}else this.props.openToDate&&!qn(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},r.prototype.render=function(){var n=this.props.container||gee;return at.createElement(j1,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},at.createElement(n,{className:Xt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},r}(Y.Component),ite=function(t){var r=t.icon,n=t.className,o=n===void 0?"":n,a=t.onClick,l="react-datepicker__calendar-icon";return typeof r=="string"?at.createElement("i",{className:"".concat(l," ").concat(r," ").concat(o),"aria-hidden":"true",onClick:a}):at.isValidElement(r)?at.cloneElement(r,{className:"".concat(r.props.className||""," ").concat(l," ").concat(o),onClick:function(d){typeof r.props.onClick=="function"&&r.props.onClick(d),typeof a=="function"&&a(d)}}):at.createElement("svg",{className:"".concat(l," ").concat(o),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},at.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},ij=function(t){co(r,t);function r(n){var o=t.call(this,n)||this;return o.portalRoot=null,o.el=document.createElement("div"),o}return r.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},r.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},r.prototype.render=function(){return SW.createPortal(this.props.children,this.el)},r}(Y.Component),ote="[tabindex], a, button, input, select, textarea",ste=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},oj=function(t){co(r,t);function r(n){var o=t.call(this,n)||this;return o.getTabChildren=function(){var a;return Array.prototype.slice.call((a=o.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(ote),1,-1).filter(ste)},o.handleFocusStart=function(){var a=o.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},o.handleFocusEnd=function(){var a=o.getTabChildren();a&&a.length>1&&a[0].focus()},o.tabLoopRef=Y.createRef(),o}return r.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:r.defaultProps.enableTabLoop)?at.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},at.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,at.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},r.defaultProps={enableTabLoop:!0},r}(Y.Component);function ate(t){var r=function(n){var o,a=typeof n.hidePopper=="boolean"?n.hidePopper:!0,l=Y.useRef(null),d=mee(Gn({open:!a,whileElementsMounted:GX,placement:n.popperPlacement,middleware:cc([nee({padding:15}),tee(10),ree({element:l})],(o=n.popperModifiers)!==null&&o!==void 0?o:[],!0)},n.popperProps)),h=Gn(Gn({},n),{hidePopper:a,popperProps:Gn(Gn({},d),{arrowRef:l})});return at.createElement(t,Gn({},h))};return r}var lte=function(t){co(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(r,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var n=this.props,o=n.className,a=n.wrapperClassName,l=n.hidePopper,d=l===void 0?r.defaultProps.hidePopper:l,h=n.popperComponent,p=n.targetComponent,g=n.enableTabLoop,b=n.popperOnKeyDown,y=n.portalId,v=n.portalHost,k=n.popperProps,x=n.showArrow,C=void 0;if(!d){var D=Xt("react-datepicker-popper",o);C=at.createElement(oj,{enableTabLoop:g},at.createElement("div",{ref:k.refs.setFloating,style:k.floatingStyles,className:D,"data-placement":k.placement,onKeyDown:b},h,x&&at.createElement(lee,{ref:k.arrowRef,context:k.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(C=Y.createElement(this.props.popperContainer,{},C)),y&&!d&&(C=at.createElement(ij,{portalId:y,portalHost:v},C));var S=Xt("react-datepicker-wrapper",a);return at.createElement(at.Fragment,null,at.createElement("div",{ref:k.refs.setReference,className:S},p),C)},r}(Y.Component),cte=ate(lte),VT="react-datepicker-ignore-onclickoutside";function ute(t,r){return t&&r?rs(t)!==rs(r)||Tn(t)!==Tn(r):t!==r}var jv="Date input not valid.",dte=function(t){co(r,t);function r(n){var o=t.call(this,n)||this;return o.calendar=null,o.input=null,o.getPreSelection=function(){return o.props.openToDate?o.props.openToDate:o.props.selectsEnd&&o.props.startDate?o.props.startDate:o.props.selectsStart&&o.props.endDate?o.props.endDate:hr()},o.modifyHolidays=function(){var a;return(a=o.props.holidays)===null||a===void 0?void 0:a.reduce(function(l,d){var h=new Date(d.date);return Xc(h)?cc(cc([],l,!0),[Gn(Gn({},d),{date:h})],!1):l},[])},o.calcInitialState=function(){var a,l=o.getPreSelection(),d=tj(o.props),h=nj(o.props),p=d&&zh(l,vk(d))?d:h&&ud(l,DT(h))?h:l;return{open:o.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=o.props.selectsRange?o.props.startDate:o.props.selected)!==null&&a!==void 0?a:p,highlightDates:LT(o.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},o.resetHiddenStatus=function(){o.setState(Gn(Gn({},o.state),{wasHidden:!1}))},o.setHiddenStatus=function(){o.setState(Gn(Gn({},o.state),{wasHidden:!0}))},o.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&o.setHiddenStatus()},o.clearPreventFocusTimeout=function(){o.preventFocusTimeout&&clearTimeout(o.preventFocusTimeout)},o.safeFocus=function(){setTimeout(function(){var a,l;(l=(a=o.input)===null||a===void 0?void 0:a.focus)===null||l===void 0||l.call(a,{preventScroll:!0})},0)},o.safeBlur=function(){setTimeout(function(){var a,l;(l=(a=o.input)===null||a===void 0?void 0:a.blur)===null||l===void 0||l.call(a)},0)},o.setFocus=function(){o.safeFocus()},o.setBlur=function(){o.safeBlur(),o.cancelFocusInput()},o.setOpen=function(a,l){l===void 0&&(l=!1),o.setState({open:a,preSelection:a&&o.state.open?o.state.preSelection:o.calcInitialState().preSelection,lastPreSelectChange:Lv},function(){a||o.setState(function(d){return{focused:l?d.focused:!1}},function(){!l&&o.setBlur(),o.setState({inputValue:null})})})},o.inputOk=function(){return iu(o.state.preSelection)},o.isCalendarOpen=function(){return o.props.open===void 0?o.state.open&&!o.props.disabled&&!o.props.readOnly:o.props.open},o.handleFocus=function(a){var l,d,h=o.state.wasHidden,p=h?o.state.open:!0;h&&o.resetHiddenStatus(),!o.state.preventFocus&&p&&((d=(l=o.props).onFocus)===null||d===void 0||d.call(l,a),!o.props.preventOpenOnFocus&&!o.props.readOnly&&o.setOpen(!0)),o.setState({focused:!0})},o.sendFocusBackToInput=function(){o.preventFocusTimeout&&o.clearPreventFocusTimeout(),o.setState({preventFocus:!0},function(){o.preventFocusTimeout=setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})})},o.cancelFocusInput=function(){clearTimeout(o.inputFocusTimeout),o.inputFocusTimeout=void 0},o.deferFocusInput=function(){o.cancelFocusInput(),o.inputFocusTimeout=setTimeout(function(){return o.setFocus()},1)},o.handleDropdownFocus=function(){o.cancelFocusInput()},o.handleBlur=function(a){var l,d;(!o.state.open||o.props.withPortal||o.props.showTimeInput)&&((d=(l=o.props).onBlur)===null||d===void 0||d.call(l,a)),o.setState({focused:!1})},o.handleCalendarClickOutside=function(a){var l,d;o.props.inline||o.setOpen(!1),(d=(l=o.props).onClickOutside)===null||d===void 0||d.call(l,a),o.props.withPortal&&a.preventDefault()},o.handleChange=function(){for(var a,l,d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var p=d[0];if(!(o.props.onChangeRaw&&(o.props.onChangeRaw.apply(o,d),!p||typeof p.isDefaultPrevented!="function"||p.isDefaultPrevented()))){o.setState({inputValue:(p==null?void 0:p.target)instanceof HTMLInputElement?p.target.value:null,lastPreSelectChange:hte});var g=o.props,b=g.dateFormat,y=b===void 0?r.defaultProps.dateFormat:b,v=g.strictParsing,k=v===void 0?r.defaultProps.strictParsing:v,x=g.selectsRange,C=g.startDate,D=g.endDate,S=(p==null?void 0:p.target)instanceof HTMLInputElement?p.target.value:"";if(x){var N=S.split("-",2).map(function(Q){return Q.trim()}),P=N[0],B=N[1],$=Mv(P??"",y,o.props.locale,k),V=Mv(B??"",y,o.props.locale,k),M=(C==null?void 0:C.getTime())!==($==null?void 0:$.getTime()),L=(D==null?void 0:D.getTime())!==(V==null?void 0:V.getTime());if(!M&&!L||$&&La($,o.props)||V&&La(V,o.props))return;(l=(a=o.props).onChange)===null||l===void 0||l.call(a,[$,V],p)}else{var q=Mv(S,y,o.props.locale,k,o.props.minDate);o.props.showTimeSelectOnly&&o.props.selected&&q&&!qn(q,o.props.selected)&&(q=QZ(o.props.selected,{hours:dc(q),minutes:hc(q),seconds:ou(q)})),(q||!S)&&o.setSelected(q,p,!0)}}},o.handleSelect=function(a,l,d){if(o.props.shouldCloseOnSelect&&!o.props.showTimeSelect&&o.sendFocusBackToInput(),o.props.onChangeRaw&&o.props.onChangeRaw(l),o.setSelected(a,l,!1,d),o.props.showDateSelect&&o.setState({isRenderAriaLiveMessage:!0}),!o.props.shouldCloseOnSelect||o.props.showTimeSelect)o.setPreSelection(a);else if(!o.props.inline){o.props.selectsRange||o.setOpen(!1);var h=o.props,p=h.startDate,g=h.endDate;p&&!g&&(o.props.swapRange||!zT(a,p))&&o.setOpen(!1)}},o.setSelected=function(a,l,d,h){var p,g,b=a;if(o.props.showYearPicker){if(b!==null&&Ak(Tn(b),o.props))return}else if(o.props.showMonthYearPicker){if(b!==null&&ej(b,o.props))return}else if(b!==null&&La(b,o.props))return;var y=o.props,v=y.onChange,k=y.selectsRange,x=y.startDate,C=y.endDate,D=y.selectsMultiple,S=y.selectedDates,N=y.minTime,P=y.swapRange;if(!Ah(o.props.selected,b)||o.props.allowSameDay||k||D)if(b!==null&&(o.props.selected&&(!d||!o.props.showTimeSelect&&!o.props.showTimeSelectOnly&&!o.props.showTimeInput)&&(b=Pv(b,{hour:dc(o.props.selected),minute:hc(o.props.selected),second:ou(o.props.selected)})),!d&&(o.props.showTimeSelect||o.props.showTimeSelectOnly)&&N&&(b=Pv(b,{hour:N.getHours(),minute:N.getMinutes(),second:N.getSeconds()})),o.props.inline||o.setState({preSelection:b}),o.props.focusSelectedMonth||o.setState({monthSelectedIn:h})),k){var B=!x&&!C,$=x&&!C,V=x&&C;B?v==null||v([b,null],l):$&&(b===null?v==null||v([null,null],l):zT(b,x)?P?v==null||v([b,x],l):v==null||v([b,null],l):v==null||v([x,b],l)),V&&(v==null||v([b,null],l))}else if(D){if(b!==null)if(!(S!=null&&S.length))v==null||v([b],l);else{var M=S.some(function(q){return qn(q,b)});if(M){var L=S.filter(function(q){return!qn(q,b)});v==null||v(L,l)}else v==null||v(cc(cc([],S,!0),[b],!1),l)}}else v==null||v(b,l);d||((g=(p=o.props).onSelect)===null||g===void 0||g.call(p,b,l),o.setState({inputValue:null}))},o.setPreSelection=function(a){var l=iu(o.props.minDate),d=iu(o.props.maxDate),h=!0;if(a){var p=vk(a);if(l&&d)h=gg(a,o.props.minDate,o.props.maxDate);else if(l){var g=vk(o.props.minDate);h=ud(a,g)||Ah(p,g)}else if(d){var b=DT(o.props.maxDate);h=zh(a,b)||Ah(p,b)}}h&&o.setState({preSelection:a})},o.toggleCalendar=function(){o.setOpen(!o.state.open)},o.handleTimeChange=function(a){var l,d;if(!(o.props.selectsRange||o.props.selectsMultiple)){var h=o.props.selected?o.props.selected:o.getPreSelection(),p=o.props.selected?a:Pv(h,{hour:dc(a),minute:hc(a)});o.setState({preSelection:p}),(d=(l=o.props).onChange)===null||d===void 0||d.call(l,p),o.props.shouldCloseOnSelect&&!o.props.showTimeInput&&(o.sendFocusBackToInput(),o.setOpen(!1)),o.props.showTimeInput&&o.setOpen(!0),(o.props.showTimeSelectOnly||o.props.showTimeSelect)&&o.setState({isRenderAriaLiveMessage:!0}),o.setState({inputValue:null})}},o.onInputClick=function(){var a,l;!o.props.disabled&&!o.props.readOnly&&o.setOpen(!0),(l=(a=o.props).onInputClick)===null||l===void 0||l.call(a)},o.onInputKeyDown=function(a){var l,d,h,p,g,b;(d=(l=o.props).onKeyDown)===null||d===void 0||d.call(l,a);var y=a.key;if(!o.state.open&&!o.props.inline&&!o.props.preventOpenOnFocus){(y===Lt.ArrowDown||y===Lt.ArrowUp||y===Lt.Enter)&&((h=o.onInputClick)===null||h===void 0||h.call(o));return}if(o.state.open){if(y===Lt.ArrowDown||y===Lt.ArrowUp){a.preventDefault();var v=o.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":o.props.showWeekPicker&&o.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':o.props.showFullMonthYearPicker||o.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',k=((p=o.calendar)===null||p===void 0?void 0:p.containerRef.current)instanceof Element&&o.calendar.containerRef.current.querySelector(v);k instanceof HTMLElement&&k.focus({preventScroll:!0});return}var x=hr(o.state.preSelection);y===Lt.Enter?(a.preventDefault(),a.target.blur(),o.inputOk()&&o.state.lastPreSelectChange===Lv?(o.handleSelect(x,a),!o.props.shouldCloseOnSelect&&o.setPreSelection(x)):o.setOpen(!1)):y===Lt.Escape?(a.preventDefault(),a.target.blur(),o.sendFocusBackToInput(),o.setOpen(!1)):y===Lt.Tab&&o.setOpen(!1),o.inputOk()||(b=(g=o.props).onInputError)===null||b===void 0||b.call(g,{code:1,msg:jv})}},o.onPortalKeyDown=function(a){var l=a.key;l===Lt.Escape&&(a.preventDefault(),o.setState({preventFocus:!0},function(){o.setOpen(!1),setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})}))},o.onDayKeyDown=function(a){var l,d,h,p,g,b,y=o.props,v=y.minDate,k=y.maxDate,x=y.disabledKeyboardNavigation,C=y.showWeekPicker,D=y.shouldCloseOnSelect,S=y.locale,N=y.calendarStartDay,P=y.adjustDateOnChange,B=y.inline;if((d=(l=o.props).onKeyDown)===null||d===void 0||d.call(l,a),!x){var $=a.key,V=a.shiftKey,M=hr(o.state.preSelection),L=function(ne,ue){var ie=ue;switch(ne){case Lt.ArrowRight:ie=C?Hk(ue,1):ml(ue,1);break;case Lt.ArrowLeft:ie=C?mT(ue):PZ(ue);break;case Lt.ArrowUp:ie=mT(ue);break;case Lt.ArrowDown:ie=Hk(ue,1);break;case Lt.PageUp:ie=V?Sp(ue,1):Th(ue,1);break;case Lt.PageDown:ie=V?ru(ue,1):gl(ue,1);break;case Lt.Home:ie=ad(ue,S,N);break;case Lt.End:ie=_ee(ue);break}return ie},q=function(ne,ue){for(var ie=40,se=ne,ye=!1,re=0,_e=L(ne,ue);!ye;){if(re>=ie){_e=ue;break}v&&_e<v&&(se=Lt.ArrowRight,_e=La(v,o.props)?L(se,_e):v),k&&_e>k&&(se=Lt.ArrowLeft,_e=La(k,o.props)?L(se,_e):k),La(_e,o.props)?((se===Lt.PageUp||se===Lt.Home)&&(se=Lt.ArrowRight),(se===Lt.PageDown||se===Lt.End)&&(se=Lt.ArrowLeft),_e=L(se,_e)):ye=!0,re++}return _e};if($===Lt.Enter){a.preventDefault(),o.handleSelect(M,a),!D&&o.setPreSelection(M);return}else if($===Lt.Escape){a.preventDefault(),o.setOpen(!1),o.inputOk()||(p=(h=o.props).onInputError)===null||p===void 0||p.call(h,{code:1,msg:jv});return}var Q=null;switch($){case Lt.ArrowLeft:case Lt.ArrowRight:case Lt.ArrowUp:case Lt.ArrowDown:case Lt.PageUp:case Lt.PageDown:case Lt.Home:case Lt.End:Q=q($,M);break}if(!Q){(b=(g=o.props).onInputError)===null||b===void 0||b.call(g,{code:1,msg:jv});return}if(a.preventDefault(),o.setState({lastPreSelectChange:Lv}),P&&o.setSelected(Q),o.setPreSelection(Q),B){var H=rs(M),F=rs(Q),G=Tn(M),R=Tn(Q);H!==F||G!==R?o.setState({shouldFocusDayInline:!0}):o.setState({shouldFocusDayInline:!1})}}},o.onPopperKeyDown=function(a){var l=a.key;l===Lt.Escape&&(a.preventDefault(),o.sendFocusBackToInput())},o.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),o.sendFocusBackToInput();var l=o.props,d=l.selectsRange,h=l.onChange;d?h==null||h([null,null],a):h==null||h(null,a),o.setState({inputValue:null})},o.clear=function(){o.onClearClick()},o.onScroll=function(a){typeof o.props.closeOnScroll=="boolean"&&o.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&o.setOpen(!1):typeof o.props.closeOnScroll=="function"&&o.props.closeOnScroll(a)&&o.setOpen(!1)},o.renderCalendar=function(){var a,l;return!o.props.inline&&!o.isCalendarOpen()?null:at.createElement(rte,Gn({showMonthYearDropdown:void 0,ref:function(d){o.calendar=d}},o.props,o.state,{setOpen:o.setOpen,dateFormat:(a=o.props.dateFormatCalendar)!==null&&a!==void 0?a:r.defaultProps.dateFormatCalendar,onSelect:o.handleSelect,onClickOutside:o.handleCalendarClickOutside,holidays:jee(o.modifyHolidays()),outsideClickIgnoreClass:VT,onDropdownFocus:o.handleDropdownFocus,onTimeChange:o.handleTimeChange,className:o.props.calendarClassName,container:o.props.calendarContainer,handleOnKeyDown:o.props.onKeyDown,handleOnDayKeyDown:o.onDayKeyDown,setPreSelection:o.setPreSelection,dropdownMode:(l=o.props.dropdownMode)!==null&&l!==void 0?l:r.defaultProps.dropdownMode}),o.props.children)},o.renderAriaLiveRegion=function(){var a=o.props,l=a.dateFormat,d=l===void 0?r.defaultProps.dateFormat:l,h=a.locale,p=o.props.showTimeInput||o.props.showTimeSelect,g=p?"PPPPp":"PPPP",b;return o.props.selectsRange?b="Selected start date: ".concat(Oa(o.props.startDate,{dateFormat:g,locale:h}),". ").concat(o.props.endDate?"End date: "+Oa(o.props.endDate,{dateFormat:g,locale:h}):""):o.props.showTimeSelectOnly?b="Selected time: ".concat(Oa(o.props.selected,{dateFormat:d,locale:h})):o.props.showYearPicker?b="Selected year: ".concat(Oa(o.props.selected,{dateFormat:"yyyy",locale:h})):o.props.showMonthYearPicker?b="Selected month: ".concat(Oa(o.props.selected,{dateFormat:"MMMM yyyy",locale:h})):o.props.showQuarterYearPicker?b="Selected quarter: ".concat(Oa(o.props.selected,{dateFormat:"yyyy, QQQ",locale:h})):b="Selected date: ".concat(Oa(o.props.selected,{dateFormat:g,locale:h})),at.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},b)},o.renderDateInput=function(){var a,l,d,h=Xt(o.props.className,(a={},a[VT]=o.state.open,a)),p=o.props.customInput||at.createElement("input",{type:"text"}),g=o.props.customInputRef||"ref",b=o.props,y=b.dateFormat,v=y===void 0?r.defaultProps.dateFormat:y,k=b.locale,x=typeof o.props.value=="string"?o.props.value:typeof o.state.inputValue=="string"?o.state.inputValue:o.props.selectsRange?wee(o.props.startDate,o.props.endDate,{dateFormat:v,locale:k}):o.props.selectsMultiple?yee((d=o.props.selectedDates)!==null&&d!==void 0?d:[],{dateFormat:v,locale:k}):Oa(o.props.selected,{dateFormat:v,locale:k});return Y.cloneElement(p,(l={},l[g]=function(C){o.input=C},l.value=x,l.onBlur=o.handleBlur,l.onChange=o.handleChange,l.onClick=o.onInputClick,l.onFocus=o.handleFocus,l.onKeyDown=o.onInputKeyDown,l.id=o.props.id,l.name=o.props.name,l.form=o.props.form,l.autoFocus=o.props.autoFocus,l.placeholder=o.props.placeholderText,l.disabled=o.props.disabled,l.autoComplete=o.props.autoComplete,l.className=Xt(p.props.className,h),l.title=o.props.title,l.readOnly=o.props.readOnly,l.required=o.props.required,l.tabIndex=o.props.tabIndex,l["aria-describedby"]=o.props.ariaDescribedBy,l["aria-invalid"]=o.props.ariaInvalid,l["aria-labelledby"]=o.props.ariaLabelledBy,l["aria-required"]=o.props.ariaRequired,l))},o.renderClearButton=function(){var a=o.props,l=a.isClearable,d=a.disabled,h=a.selected,p=a.startDate,g=a.endDate,b=a.clearButtonTitle,y=a.clearButtonClassName,v=y===void 0?"":y,k=a.ariaLabelClose,x=k===void 0?"Close":k,C=a.selectedDates;return l&&(h!=null||p!=null||g!=null||C!=null&&C.length)?at.createElement("button",{type:"button",className:Xt("react-datepicker__close-icon",v,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":x,onClick:o.onClearClick,title:b,tabIndex:-1}):null},o.state=o.calcInitialState(),o.preventFocusTimeout=void 0,o}return Object.defineProperty(r,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:ob,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.componentDidUpdate=function(n,o){var a,l,d,h;n.inline&&ute(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:LT(this.props.highlightDates)}),!o.focused&&!Ah(n.selected,this.props.selected)&&this.setState({inputValue:null}),o.open!==this.state.open&&(o.open===!1&&this.state.open===!0&&((l=(a=this.props).onCalendarOpen)===null||l===void 0||l.call(a)),o.open===!0&&this.state.open===!1&&((h=(d=this.props).onCalendarClose)===null||h===void 0||h.call(d)))},r.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.renderInputContainer=function(){var n=this.props,o=n.showIcon,a=n.icon,l=n.calendarIconClassname,d=n.calendarIconClassName,h=n.toggleCalendarOnIconClick,p=this.state.open;return l&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),at.createElement("div",{className:"react-datepicker__input-container".concat(o?" react-datepicker__view-calendar-icon":"")},o&&at.createElement(ite,Gn({icon:a,className:Xt(d,!d&&l,p&&"react-datepicker-ignore-onclickoutside")},h?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},r.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var o=this.state.open?at.createElement(oj,{enableTabLoop:this.props.enableTabLoop},at.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(o=at.createElement(ij,Gn({portalId:this.props.portalId},this.props),o)),at.createElement("div",null,this.renderInputContainer(),o)}return at.createElement(cte,Gn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},r}(Y.Component),hte="input",Lv="navigate";const fte=_1(Jt)({width:"100%"}),sj=at.forwardRef((t,r)=>A.jsx(fte,{...t,inputRef:r,fullWidth:!0}));sj.displayName="CustomInput";const pte=({value:t,onChange:r})=>A.jsx(Pe,{sx:{mb:2},children:A.jsx(dte,{selected:t,onChange:n=>r(n),showTimeSelect:!0,dateFormat:"Pp",customInput:A.jsx(sj,{label:"Schedule Publish Date & Time"})})}),mte=Y.lazy(()=>Ki(()=>import("./MaterialImportWrapper-wAsUdezV.js"),__vite__mapDeps([3,4,1,5]))),gte=({src:t,alt:r})=>{const[n,o]=Y.useState(!1),[a,l]=Y.useState(!1);return Y.useEffect(()=>{const d=new Image;return d.src=t,d.onload=()=>o(!0),d.onerror=()=>l(!0),()=>{d.onload=null,d.onerror=null}},[t]),a?A.jsx(Pe,{sx:{width:"50%",height:150,bgcolor:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #ccc",marginBottom:"16px"},children:A.jsx(je,{variant:"body2",color:"text.secondary",children:"Image failed to load"})}):A.jsxs(A.Fragment,{children:[!n&&A.jsx(xP,{variant:"rectangular",width:"50%",height:150,sx:{borderRadius:1,marginBottom:"16px"}}),A.jsx(Uk,{in:n,timeout:300,children:A.jsx(Pe,{sx:{display:n?"block":"none"},children:A.jsx("img",{src:t,alt:r,style:{maxWidth:"50%",marginBottom:"16px",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"all 0.2s ease-in-out"}})})})]})},aj=({materialData:t})=>{var pt,$t,Bt,zt,Qt,gn,En,Vn,Br,Wr,Bn,en,Dn,Ho,Nn,eo,ii,Ht,zi,to,oi,_r,Fn,Gr,ss,as,So,Eo,Do,bi,Ui,Io,ca,Ga;const r=Vr(),{userDetails:n}=Ti(),o=Yn(),[a]=S1(),l=a.get("course"),[d,h]=Y.useState((t==null?void 0:t.course)||l||""),[p,g]=Y.useState((t==null?void 0:t.id)||null),[b,y]=Y.useState((t==null?void 0:t.title)||""),[v,k]=Y.useState((t==null?void 0:t.header)||{title:"Header",content:""}),[x,C]=Y.useState((t==null?void 0:t.footer)||{title:"Footer",content:""}),[D,S]=Y.useState((t==null?void 0:t.sections)||[{id:Ys(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[N,P]=Y.useState({sectionIndex:0}),[B,$]=Y.useState(!1),[V,M]=Y.useState(""),[L,q]=Y.useState("success"),[Q,H]=Y.useState(!1),[F,G]=Y.useState(((pt=t==null?void 0:t.scheduledTimestamp)==null?void 0:pt.toDate())||null),[R,ne]=Y.useState(!1),[ue,ie]=Y.useState("manual"),[se,ye]=Y.useState(!1),[re,_e]=Y.useState(null),[Z,J]=Y.useState(null),[ae,fe]=Y.useState(!1);_O(D,N.sectionIndex||0,D.length>1),Y.useEffect(()=>{const mt=Ct=>{Ct.key==="ArrowLeft"?He("prev"):Ct.key==="ArrowRight"&&He("next")};return window.addEventListener("keydown",mt),()=>{window.removeEventListener("keydown",mt)}},[N,D]);const le=async(mt,Ct=!1,St)=>{mt.preventDefault();try{if(se&&!p){const Ut=await la(Qn(o,"materials"),{course:d,title:b,header:v,footer:x,sections:[],author:(n==null?void 0:n.uid)||"",timestamp:Eh(),published:!1,scheduledTimestamp:null}),Yt=Ut.id;g(Yt);try{M("Uploading images..."),q("info"),$(!0);const Mn=600*1e3,mr=BA(d,(n==null?void 0:n.uid)||"",Yt,(Oi,uo)=>{_e({completed:Oi,total:uo}),console.log(`Image upload progress: ${Oi}/${uo}`)}),qi=new Promise((Oi,uo)=>{setTimeout(()=>uo(new Error("Image upload timeout - taking too long")),Mn)}),Vi=await Promise.race([mr,qi]);await vr(Ut,{sections:Vi.sections,published:Ct,scheduledTimestamp:St?ap.fromDate(St):null}),S(Vi.sections),ye(!1),_e(null),M(`Material ${Ct?"published":"saved"} successfully with images!`)}catch(Mn){console.error("Image upload failed:",Mn);const mr=Mn instanceof Error?Mn.message:"Unknown error occurred";J(mr),_e(null),await vr(Ut,{sections:D,published:Ct,scheduledTimestamp:St?ap.fromDate(St):null}),M("Material saved, but some images failed to upload"),q("warning")}}else if(p){const Ut=pn(o,"materials",p);await vr(Ut,{course:d,title:b,header:v,footer:x,sections:D,published:Ct,scheduledTimestamp:St?ap.fromDate(St):null}),M("Material updated successfully")}else{console.log("Saving material with sections:",D.map(Yt=>{var Mn,mr;return{title:Yt.title,imageCount:((Mn=Yt.images)==null?void 0:Mn.length)||0,images:(mr=Yt.images)==null?void 0:mr.map(qi=>({url:qi.url.substring(0,100)+"...",title:qi.title}))}}));const Ut=await la(Qn(o,"materials"),{course:d,title:b,header:v,footer:x,sections:D,author:(n==null?void 0:n.uid)||"",timestamp:Eh(),published:Ct,scheduledTimestamp:St?ap.fromDate(St):null});g(Ut.id),M("Material saved successfully")}q("success"),$(!0),H(!0),setTimeout(()=>H(!1),3e3)}catch{M("Failed to save material"),q("error"),$(!0)}},Ie=()=>{r(l?`/supplemental-materials?course=${l}`:"/supplemental-materials")},xe=mt=>{le(mt,!0)},Ne=mt=>{R&&F?le(mt,!1,F):ne(!0)},Qe=()=>{S([...D,{id:Ys(),title:`Section ${D.length+1}`,content:"",subsections:[],images:[],links:[]}])},Ge=mt=>{const Ct=[...D],St=Ct[mt];St.subsections.push({id:Ys(),title:`Subsection ${St.subsections.length+1}`,content:"",subSubsections:[],images:[],links:[]}),S(Ct),P({sectionIndex:mt,subsectionIndex:St.subsections.length-1})},Je=(mt,Ct)=>{const St=[...D],Ut=St[mt].subsections[Ct];Ut.subSubsections.push({id:Ys(),title:`Sub-Subsection ${Ut.subSubsections.length+1}`,content:"",images:[],links:[]}),S(St),P({sectionIndex:mt,subsectionIndex:Ct,subSubsectionIndex:Ut.subSubsections.length-1})},ze=(mt,Ct,St,Ut)=>{const Yt=[...D];Ut!==void 0?Yt[mt].subsections[St].subSubsections[Ut].images=[...Yt[mt].subsections[St].subSubsections[Ut].images,...Ct]:St!==void 0?Yt[mt].subsections[St].images=[...Yt[mt].subsections[St].images,...Ct]:Yt[mt].images=[...Yt[mt].images,...Ct],S(Yt)},X=(mt,Ct,St,Ut)=>{const Yt=[...D];Ut!==void 0?Yt[mt].subsections[St].subSubsections[Ut].links=Ct:St!==void 0?Yt[mt].subsections[St].links=Ct:Yt[mt].links=Ct,S(Yt)},Ce=(mt,Ct,St)=>{P({sectionIndex:typeof mt=="number"?mt:void 0,subsectionIndex:Ct,subSubsectionIndex:St,type:typeof mt=="string"?mt:void 0})},he=(mt,Ct)=>{const St=[...D];St[mt].title=Ct,S(St)},be=(mt,Ct,St)=>{const Ut=[...D];Ut[mt].subsections[Ct].title=St,S(Ut)},pe=(mt,Ct,St,Ut)=>{const Yt=[...D];Yt[mt].subsections[Ct].subSubsections[St].title=Ut,S(Yt)},Ae=(mt,Ct,St,Ut)=>{const Yt=[...D];Ut!==void 0?Yt[mt].subsections[St].subSubsections[Ut].content=Ct:St!==void 0?Yt[mt].subsections[St].content=Ct:Yt[mt].content=Ct,S(Yt)},Oe=mt=>{k({...v,content:mt})},Me=mt=>{C({...x,content:mt})},De=mt=>{const Ct=D.filter((St,Ut)=>Ut!==mt);S(Ct),Ct.length===0?P({sectionIndex:void 0,type:"header"}):mt>=Ct.length?P({sectionIndex:Ct.length-1}):P({sectionIndex:mt})},qe=(mt,Ct)=>{var Ut;const St=[...D];(Ut=St[mt])!=null&&Ut.subsections&&(St[mt].subsections=St[mt].subsections.filter((Yt,Mn)=>Mn!==Ct),S(St),St[mt].subsections.length===0?P({sectionIndex:mt}):Ct>=St[mt].subsections.length?P({sectionIndex:mt,subsectionIndex:St[mt].subsections.length-1}):P({sectionIndex:mt,subsectionIndex:Ct}))},Ve=(mt,Ct,St)=>{var Mn,mr;const Ut=[...D],Yt=(mr=(Mn=Ut[mt])==null?void 0:Mn.subsections)==null?void 0:mr[Ct];Yt&&Yt.subSubsections&&(Yt.subSubsections=Yt.subSubsections.filter((qi,Vi)=>Vi!==St),S(Ut),Yt.subSubsections.length?St>=Yt.subSubsections.length?P({sectionIndex:mt,subsectionIndex:Ct,subSubsectionIndex:Yt.subSubsections.length-1}):P({sectionIndex:mt,subsectionIndex:Ct,subSubsectionIndex:St}):P({sectionIndex:mt,subsectionIndex:Ct}))},He=mt=>{const{sectionIndex:Ct,subsectionIndex:St,subSubsectionIndex:Ut,type:Yt}=N;if(mt==="prev")if(Ut!==void 0&&Ut>0)P({sectionIndex:Ct,subsectionIndex:St,subSubsectionIndex:Ut-1});else if(Ut!==void 0&&Ut===0)P({sectionIndex:Ct,subsectionIndex:St});else if(St!==void 0&&St>0)P({sectionIndex:Ct,subsectionIndex:St-1});else if(St!==void 0&&St===0)P({sectionIndex:Ct});else if(Ct>0){const Mn=D[Ct-1];P({sectionIndex:Ct-1,subsectionIndex:Mn.subsections.length?Mn.subsections.length-1:void 0,subSubsectionIndex:Mn.subsections.length?Mn.subsections[Mn.subsections.length-1].subSubsections.length-1:void 0})}else Yt==="footer"?P({sectionIndex:D.length-1,type:"footer"}):Ct===void 0&&Yt==="header"&&P({sectionIndex:D.length-1});else mt==="next"&&(Ut===void 0&&St!==void 0&&D[Ct].subsections[St].subSubsections.length?P({sectionIndex:Ct,subsectionIndex:St,subSubsectionIndex:0}):Ut!==void 0&&Ut<D[Ct].subsections[St].subSubsections.length-1?P({sectionIndex:Ct,subsectionIndex:St,subSubsectionIndex:Ut+1}):Ut!==void 0&&Ut===D[Ct].subsections[St].subSubsections.length-1&&St<D[Ct].subsections.length-1?P({sectionIndex:Ct,subsectionIndex:St+1}):St===void 0&&D[Ct].subsections.length?P({sectionIndex:Ct,subsectionIndex:0}):St!==void 0&&St<D[Ct].subsections.length-1?P({sectionIndex:Ct,subsectionIndex:St+1}):St!==void 0&&St===D[Ct].subsections.length-1&&Ct<D.length-1?P({sectionIndex:Ct+1}):Ct<D.length-1?P({sectionIndex:Ct+1}):Ct===D.length-1&&St===void 0&&P({sectionIndex:void 0,type:"footer"}))},st=N.type==="header"||N.type==="footer"?"":N.sectionIndex!==void 0?N.subSubsectionIndex!==void 0?(($t=D[N.sectionIndex].subsections[N.subsectionIndex].subSubsections[N.subSubsectionIndex])==null?void 0:$t.content)||"":N.subsectionIndex!==void 0?((Bt=D[N.sectionIndex].subsections[N.subsectionIndex])==null?void 0:Bt.content)||"":((zt=D[N.sectionIndex])==null?void 0:zt.content)||"":"",Ue=N.type==="header"||N.type==="footer"?"":N.sectionIndex!==void 0?N.subSubsectionIndex!==void 0?((Qt=D[N.sectionIndex].subsections[N.subsectionIndex].subSubsections[N.subSubsectionIndex])==null?void 0:Qt.title)||"":N.subsectionIndex!==void 0?((gn=D[N.sectionIndex].subsections[N.subsectionIndex])==null?void 0:gn.title)||"":((En=D[N.sectionIndex])==null?void 0:En.title)||"":"",Ke=(mt,Ct,St,Ut)=>{const Yt=[...D];Ut!==void 0?Yt[mt].subsections[St].subSubsections[Ut].images=Yt[mt].subsections[St].subSubsections[Ut].images.filter(Mn=>Mn.url!==Ct):St!==void 0?Yt[mt].subsections[St].images=Yt[mt].subsections[St].images.filter(Mn=>Mn.url!==Ct):Yt[mt].images=Yt[mt].images.filter(Mn=>Mn.url!==Ct),S(Yt)},Ze=(mt,Ct)=>{Ct!==null&&ie(Ct)},_t=mt=>{y(mt.title),k(mt.header),C(mt.footer),S(mt.sections),h(mt.course),ye(!0),ie("manual"),M("Material imported successfully! You can now edit and save it."),q("success"),$(!0),P({sectionIndex:0})},ht=()=>{ie("manual")},sn=async()=>{if(!p||!d||!(n!=null&&n.uid)){M("Cannot retry - missing material information"),q("error"),$(!0);return}fe(!0),J(null),_e({completed:0,total:1});try{M("Analyzing existing images and retrying failed uploads..."),q("info"),$(!0);const mt=600*1e3,Ct=[];let St=0;if(D.forEach((qi,Vi)=>{var Oi,uo;(Oi=qi.images)==null||Oi.forEach((To,Al)=>{(!To.url||To.url.startsWith("data:image/svg+xml"))&&(Ct.push({sectionIndex:Vi,imageIndex:Al}),St++)}),(uo=qi.subsections)==null||uo.forEach((To,Al)=>{var Ya,pu;(Ya=To.images)==null||Ya.forEach((gr,_l)=>{(!gr.url||gr.url.startsWith("data:image/svg+xml"))&&(Ct.push({sectionIndex:Vi,subsectionIndex:Al,imageIndex:_l}),St++)}),(pu=To.subSubsections)==null||pu.forEach((gr,_l)=>{var _c;(_c=gr.images)==null||_c.forEach((Cc,ls)=>{(!Cc.url||Cc.url.startsWith("data:image/svg+xml"))&&(Ct.push({sectionIndex:Vi,subsectionIndex:Al,subSubsectionIndex:_l,imageIndex:ls}),St++)})})})}),console.log(`Found ${St} images that need uploading (out of total images)`),St===0){M("All images are already uploaded successfully!"),q("success"),$(!0),J(null),_e(null);return}M(`Retrying upload for ${St} failed images...`);const Ut=BA(d,n.uid,p,(qi,Vi)=>{_e({completed:qi,total:Vi}),console.log(`Retry image upload progress: ${qi}/${Vi}`)}),Yt=new Promise((qi,Vi)=>{setTimeout(()=>Vi(new Error("Image upload timeout - taking too long")),mt)}),Mn=await Promise.race([Ut,Yt]),mr=pn(o,"materials",p);await vr(mr,{sections:Mn.sections}),S(Mn.sections),_e(null),J(null),M("Images uploaded successfully!"),q("success"),$(!0)}catch(mt){console.error("Retry image upload failed:",mt);const Ct=mt instanceof Error?mt.message:"Unknown error occurred";J(Ct),_e(null),M(`Image upload retry failed: ${Ct}`),q("error"),$(!0)}finally{fe(!1)}};return A.jsx(Pe,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:A.jsxs(Pe,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[A.jsx(Pe,{sx:{width:"450px",ml:2,mt:2},children:A.jsx(pO,{})}),A.jsxs(Rn,{elevation:2,sx:{mx:2,mt:2,p:2},children:[A.jsx(je,{variant:"h6",gutterBottom:!0,children:"ðŸ“ Create Material"}),A.jsxs(V_,{value:ue,exclusive:!0,onChange:Ze,"aria-label":"import mode",fullWidth:!0,sx:{mb:2},children:[A.jsxs(_p,{value:"manual","aria-label":"manual creation",children:[A.jsx(pl,{sx:{mr:1}}),"Manual Creation"]}),A.jsxs(_p,{value:"ai","aria-label":"ai import",children:[A.jsx(EW,{sx:{mr:1}}),"AI Import"]})]}),ue==="ai"&&A.jsx(pr,{severity:"info",sx:{mb:2},children:A.jsx(je,{variant:"body2",children:"Upload your presentation, document, or material and let AI automatically structure it into course content."})})]}),A.jsxs(A.Fragment,{children:[ue==="ai"?A.jsx(Pe,{sx:{flexGrow:1,p:2},children:A.jsx(Y.Suspense,{fallback:A.jsxs(Pe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:[A.jsx(Lr,{}),A.jsx(je,{variant:"body2",sx:{ml:2},children:"Loading AI Import..."})]}),children:A.jsx(mte,{courseId:d,authorId:(n==null?void 0:n.uid)||"",onMaterialReady:_t,onCancel:ht,onError:(mt,Ct)=>{console.error("Material Import Error:",mt,Ct),M(`Import error: ${mt.message}`),q("error"),$(!0)}})})}):A.jsxs(Pe,{sx:{display:"flex",flexGrow:1},children:[A.jsx(fO,{sections:D,selected:N,onAddSection:Qe,onAddSubsection:Ge,onAddSubSubsection:Je,onSelectSection:Ce,onUpdateSectionTitle:he,onUpdateSubsectionTitle:be,onUpdateSubSubsectionTitle:pe,onDeleteSection:De,onDeleteSubsection:qe,onDeleteSubSubsection:Ve}),A.jsxs(Pe,{sx:{flexGrow:1,padding:3},children:[A.jsx(Jt,{label:"Material Title",variant:"outlined",fullWidth:!0,value:b,onChange:mt=>y(mt.target.value),sx:{mb:2}}),A.jsx(TQ,{value:d,onChange:h}),F&&A.jsxs(je,{variant:"body1",gutterBottom:!0,children:["Scheduled Publish Date & Time: ",F.toLocaleString()]}),A.jsxs(Pe,{sx:{borderRadius:1,padding:2,mb:2},children:[A.jsx(Pe,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:A.jsx(je,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Header"})}),A.jsx(oT,{content:v.content,onChange:Oe})]}),A.jsx(je,{variant:"h4",align:"center",gutterBottom:!0,children:Ue}),N.type!=="header"&&N.type!=="footer"&&A.jsxs(A.Fragment,{children:[A.jsx(DQ,{content:st,onChange:mt=>Ae(N.sectionIndex,mt,N.subsectionIndex,N.subSubsectionIndex)},`${N.sectionIndex}-${N.subsectionIndex}-${N.subSubsectionIndex}`),A.jsx(FK,{sectionId:N.sectionIndex!==void 0?N.subSubsectionIndex!==void 0&&N.subsectionIndex!==void 0?((en=(Bn=(Wr=(Br=(Vn=D[N.sectionIndex])==null?void 0:Vn.subsections)==null?void 0:Br[N.subsectionIndex])==null?void 0:Wr.subSubsections)==null?void 0:Bn[N.subSubsectionIndex])==null?void 0:en.id)||"":N.subsectionIndex!==void 0?((Nn=(Ho=(Dn=D[N.sectionIndex])==null?void 0:Dn.subsections)==null?void 0:Ho[N.subsectionIndex])==null?void 0:Nn.id)||"":((eo=D[N.sectionIndex])==null?void 0:eo.id)||"":"",onImagesUploaded:mt=>ze(N.sectionIndex,mt,N.subsectionIndex,N.subSubsectionIndex)}),(N.subSubsectionIndex!==void 0?((oi=(to=(zi=(Ht=(ii=D[N.sectionIndex])==null?void 0:ii.subsections)==null?void 0:Ht[N.subsectionIndex])==null?void 0:zi.subSubsections)==null?void 0:to[N.subSubsectionIndex])==null?void 0:oi.images)||[]:N.subsectionIndex!==void 0?((Gr=(Fn=(_r=D[N.sectionIndex])==null?void 0:_r.subsections)==null?void 0:Fn[N.subsectionIndex])==null?void 0:Gr.images)||[]:((ss=D[N.sectionIndex])==null?void 0:ss.images)||[]).map((mt,Ct)=>A.jsxs(Pe,{sx:{position:"relative",mt:2},children:[A.jsx(gte,{src:mt.url,alt:`Section ${N.sectionIndex+1} Image ${Ct+1}`,title:mt.title}),A.jsx(zK,{imageTitle:mt.title,onTitleChange:St=>{var Yt,Mn;const Ut=[...D];if(N.sectionIndex!==void 0)if(N.subSubsectionIndex!==void 0&&N.subsectionIndex!==void 0){const mr=(Mn=(Yt=Ut[N.sectionIndex].subsections)==null?void 0:Yt[N.subsectionIndex])==null?void 0:Mn.subSubsections;mr&&mr[N.subSubsectionIndex]&&(mr[N.subSubsectionIndex].images[Ct].title=St)}else if(N.subsectionIndex!==void 0){const mr=Ut[N.sectionIndex].subsections;mr&&mr[N.subsectionIndex]&&(mr[N.subsectionIndex].images[Ct].title=St)}else Ut[N.sectionIndex].images[Ct].title=St;S(Ut)}}),A.jsx(Ln,{sx:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.7)"},onClick:()=>Ke(N.sectionIndex,mt.url,N.subsectionIndex,N.subSubsectionIndex),children:A.jsx(Ks,{})})]},`${mt.url}-${Ct}`)),A.jsx(UK,{links:N.sectionIndex!==void 0?N.subSubsectionIndex!==void 0&&N.subsectionIndex!==void 0?((bi=(Do=(Eo=(So=(as=D[N.sectionIndex])==null?void 0:as.subsections)==null?void 0:So[N.subsectionIndex])==null?void 0:Eo.subSubsections)==null?void 0:Do[N.subSubsectionIndex])==null?void 0:bi.links)||[]:N.subsectionIndex!==void 0?((ca=(Io=(Ui=D[N.sectionIndex])==null?void 0:Ui.subsections)==null?void 0:Io[N.subsectionIndex])==null?void 0:ca.links)||[]:((Ga=D[N.sectionIndex])==null?void 0:Ga.links)||[]:[],onLinksChange:mt=>X(N.sectionIndex,mt,N.subsectionIndex,N.subSubsectionIndex)})]}),A.jsxs(Pe,{sx:{borderRadius:1,padding:2,mt:2},children:[A.jsx(Pe,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:A.jsx(je,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Footer"})}),A.jsx(oT,{content:x.content,onChange:Me})]}),re&&A.jsxs(Pe,{sx:{mb:2,p:2,border:"1px solid #e0e0e0",borderRadius:1,bgcolor:"#f5f5f5"},children:[A.jsxs(je,{variant:"body2",gutterBottom:!0,children:[ae?"Retrying image upload...":"Uploading images:"," ",re.completed," / ",re.total]}),A.jsx(bg,{variant:"determinate",value:re.completed/re.total*100,sx:{height:8,borderRadius:1}})]}),Z&&!re&&A.jsxs(Pe,{sx:{mb:2,p:2,border:"1px solid #f44336",borderRadius:1,bgcolor:"#ffebee"},children:[A.jsxs(je,{variant:"body2",color:"error",gutterBottom:!0,children:["Image upload failed: ",Z]}),A.jsx(wt,{variant:"contained",color:"primary",size:"small",onClick:sn,disabled:ae,startIcon:ae?A.jsx(Lr,{size:16}):A.jsx(kP,{}),sx:{mt:1},children:ae?"Retrying...":"Retry Image Upload"})]}),A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between"},children:[A.jsx(xs,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:A.jsx("span",{children:A.jsx(Ln,{onClick:()=>He("prev"),disabled:N.sectionIndex===0&&N.subsectionIndex===void 0&&N.type==="header",children:A.jsx(_P,{})})})}),A.jsx(xs,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:A.jsx("span",{children:A.jsx(Ln,{onClick:()=>He("next"),disabled:N.sectionIndex===D.length-1&&(N.subsectionIndex===void 0||N.subsectionIndex===D[N.sectionIndex].subsections.length-1)&&N.type==="footer",children:A.jsx(CP,{})})})})]}),A.jsxs(Pe,{sx:{mt:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsx(wt,{type:"button",variant:"outlined",onClick:Ie,className:"supplemental-button cancel-button",children:"Cancel"}),A.jsxs(Pe,{sx:{display:"flex",alignItems:"center"},children:[A.jsx(wt,{type:"submit",variant:"outlined",onClick:mt=>le(mt,!1),className:"supplemental-button save-button",children:"Save"}),Q&&A.jsx(je,{variant:"body2",sx:{fontStyle:"italic",ml:1},children:"Changes Saved"})]}),A.jsx(wt,{type:"button",variant:"outlined",onClick:xe,className:"supplemental-button publish-button",children:"Publish"}),A.jsxs("div",{children:[R&&A.jsx(pte,{value:F,onChange:G}),A.jsx(wt,{type:"button",variant:"outlined",onClick:Ne,className:"supplemental-button schedule-publish-button",children:"Schedule Publish"})]})]})]})]}),A.jsx(os,{open:B,autoHideDuration:6e3,onClose:()=>$(!1),children:A.jsx(pr,{onClose:()=>$(!1),severity:L,sx:{width:"100%"},children:V})})]})]})})},bte=()=>{const{id:t}=J_(),r=Yn(),{userDetails:n}=Ti(),[o,a]=Y.useState(null),l=Y.useMemo(()=>n!=null&&n.classes?Object.entries(n.classes).filter(([h,p])=>p.isCourseAdmin).map(([h])=>h):[],[n==null?void 0:n.classes]);Y.useEffect(()=>{t&&(async()=>{var p;try{const g=pn(r,"materials",t),b=await $o(g);if(b.exists()){const y={id:b.id,...b.data()};y.sections=((p=y.sections)==null?void 0:p.map(v=>{var k,x;return{...v,images:((k=v.images)==null?void 0:k.map(C=>({...C,title:C.title||""})))||[],subsections:((x=v.subsections)==null?void 0:x.map(C=>{var D,S;return{...C,images:((D=C.images)==null?void 0:D.map(N=>({...N,title:N.title||""})))||[],subSubsections:((S=C.subSubsections)==null?void 0:S.map(N=>{var P;return{...N,images:((P=N.images)==null?void 0:P.map(B=>({...B,title:B.title||""})))||[]}}))||[]}}))||[]}}))||[],y.course=l.includes(y.course)?y.course:l[0]||"",a(y)}}catch(g){console.error("Error fetching material:",g)}})()},[t,r,n,l]);const d=async h=>{try{if(t){const p=pn(r,"materials",t);await vr(p,{...h})}}catch(p){console.error("Error updating material:",p)}};return o?A.jsx(aj,{materialData:o,onSubmit:d}):A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:A.jsx(Lr,{})})},$T=_1(Pe)(({theme:t})=>({marginBottom:t.spacing(4),textAlign:"center",position:"relative"})),kte=_1("img")(({theme:t})=>({maxWidth:"100%",maxHeight:"500px",marginBottom:t.spacing(1),borderRadius:t.spacing(1),boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease-in-out","&:hover":{transform:"scale(1.02)",boxShadow:"0 8px 24px rgba(0,0,0,0.15)"}})),wte=_1(xP)(({theme:t})=>({borderRadius:t.spacing(1),marginBottom:t.spacing(1)})),yte=({src:t,alt:r,title:n})=>{const[o,a]=Y.useState(!1),[l,d]=Y.useState(!1),[h]=Y.useState(0);return Y.useEffect(()=>{a(!1),d(!1);const p=new Image;return p.src=t,p.onload=()=>{console.log(`âœ… SmartImage loaded: ${t.substring(0,50)}...`),a(!0)},p.onerror=g=>{console.error(`âŒ SmartImage failed to load: ${t}`,g),console.error("Image details:",{src:t,naturalWidth:p.naturalWidth,naturalHeight:p.naturalHeight,complete:p.complete}),console.error("Image load failed. URL accessible via curl but blocked in browser."),console.error("This is likely a Firebase Storage CORS configuration issue."),console.error(`Fix: Configure CORS to allow ${window.location.origin}`),d(!0)},()=>{p.onload=null,p.onerror=null}},[t,h]),l?A.jsxs($T,{children:[A.jsxs(Pe,{sx:{width:"100%",maxWidth:400,height:200,bgcolor:"#ffebee",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #f44336",p:2},children:[A.jsx(je,{variant:"body2",color:"error",gutterBottom:!0,children:"Image failed to load"}),A.jsx(je,{variant:"caption",color:"text.secondary",sx:{textAlign:"center",wordBreak:"break-all"},children:n}),A.jsxs(je,{variant:"caption",color:"text.secondary",sx:{mt:1,fontSize:"0.7rem"},children:["URL: ",t.substring(0,60),"..."]})]}),A.jsx(je,{variant:"body2",sx:{fontStyle:"italic",mt:1},children:n})]}):A.jsxs($T,{children:[!o&&A.jsx(wte,{variant:"rectangular",width:"100%",height:300,sx:{maxWidth:400}}),A.jsx(Uk,{in:o,timeout:500,children:A.jsx(Pe,{sx:{display:o?"block":"none"},children:A.jsx(kte,{src:t,alt:r,loading:"lazy"})})}),o&&A.jsx(Uk,{in:o,timeout:700,children:A.jsx(je,{variant:"body2",sx:{fontStyle:"italic",color:"text.secondary"},children:n})})]})},Rv=({images:t})=>A.jsx(Pe,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:t.map((r,n)=>A.jsx(yte,{src:r.url,alt:`Image ${n+1}`,title:r.title,index:n},`${r.url}-${n}`))}),vte=t=>!t.startsWith("http://")&&!t.startsWith("https://")?`https://${t}`:t,Ate=({links:t})=>t.length===0?null:A.jsxs(Pe,{sx:{mt:2,width:"50%"},children:[A.jsx(je,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),A.jsxs(Pe,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[A.jsx(je,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),A.jsx(je,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),A.jsx(je,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),t.map((r,n)=>A.jsx(Pe,{children:A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[A.jsx(je,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:r.title}),A.jsx(Tg,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:vte(r.url),target:"_blank",rel:"noopener",children:r.url}),A.jsx(je,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:r.description})]})},n))]});function fr(t){"@babel/helpers - typeof";return fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fr(t)}var zo=Uint8Array,Xs=Uint16Array,mC=Int32Array,L1=new zo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),R1=new zo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),GA=new zo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lj=function(t,r){for(var n=new Xs(31),o=0;o<31;++o)n[o]=r+=1<<t[o-1];for(var a=new mC(n[30]),o=1;o<30;++o)for(var l=n[o];l<n[o+1];++l)a[l]=l-n[o]<<5|o;return{b:n,r:a}},cj=lj(L1,2),uj=cj.b,YA=cj.r;uj[28]=258,YA[258]=28;var dj=lj(R1,0),_te=dj.b,HT=dj.r,KA=new Xs(32768);for(var Or=0;Or<32768;++Or){var Gu=(Or&43690)>>1|(Or&21845)<<1;Gu=(Gu&52428)>>2|(Gu&13107)<<2,Gu=(Gu&61680)>>4|(Gu&3855)<<4,KA[Or]=((Gu&65280)>>8|(Gu&255)<<8)>>1}var pc=function(t,r,n){for(var o=t.length,a=0,l=new Xs(r);a<o;++a)t[a]&&++l[t[a]-1];var d=new Xs(r);for(a=1;a<r;++a)d[a]=d[a-1]+l[a-1]<<1;var h;if(n){h=new Xs(1<<r);var p=15-r;for(a=0;a<o;++a)if(t[a])for(var g=a<<4|t[a],b=r-t[a],y=d[t[a]-1]++<<b,v=y|(1<<b)-1;y<=v;++y)h[KA[y]>>p]=g}else for(h=new Xs(o),a=0;a<o;++a)t[a]&&(h[a]=KA[d[t[a]-1]++]>>15-t[a]);return h},hd=new zo(288);for(var Or=0;Or<144;++Or)hd[Or]=8;for(var Or=144;Or<256;++Or)hd[Or]=9;for(var Or=256;Or<280;++Or)hd[Or]=7;for(var Or=280;Or<288;++Or)hd[Or]=8;var Fg=new zo(32);for(var Or=0;Or<32;++Or)Fg[Or]=5;var Cte=pc(hd,9,0),xte=pc(hd,9,1),Ste=pc(Fg,5,0),Ete=pc(Fg,5,1),Bv=function(t){for(var r=t[0],n=1;n<t.length;++n)t[n]>r&&(r=t[n]);return r},ll=function(t,r,n){var o=r/8|0;return(t[o]|t[o+1]<<8)>>(r&7)&n},Fv=function(t,r){var n=r/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(r&7)},gC=function(t){return(t+7)/8|0},hj=function(t,r,n){return(n==null||n>t.length)&&(n=t.length),new zo(t.subarray(r,n))},Dte=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],dl=function(t,r,n){var o=new Error(r||Dte[t]);if(o.code=t,Error.captureStackTrace&&Error.captureStackTrace(o,dl),!n)throw o;return o},Ite=function(t,r,n,o){var a=t.length,l=0;if(!a||r.f&&!r.l)return n||new zo(0);var d=!n,h=d||r.i!=2,p=r.i;d&&(n=new zo(a*3));var g=function(Ge){var Je=n.length;if(Ge>Je){var ze=new zo(Math.max(Je*2,Ge));ze.set(n),n=ze}},b=r.f||0,y=r.p||0,v=r.b||0,k=r.l,x=r.d,C=r.m,D=r.n,S=a*8;do{if(!k){b=ll(t,y,1);var N=ll(t,y+1,3);if(y+=3,N)if(N==1)k=xte,x=Ete,C=9,D=5;else if(N==2){var V=ll(t,y,31)+257,M=ll(t,y+10,15)+4,L=V+ll(t,y+5,31)+1;y+=14;for(var q=new zo(L),Q=new zo(19),H=0;H<M;++H)Q[GA[H]]=ll(t,y+H*3,7);y+=M*3;for(var F=Bv(Q),G=(1<<F)-1,R=pc(Q,F,1),H=0;H<L;){var ne=R[ll(t,y,G)];y+=ne&15;var P=ne>>4;if(P<16)q[H++]=P;else{var ue=0,ie=0;for(P==16?(ie=3+ll(t,y,3),y+=2,ue=q[H-1]):P==17?(ie=3+ll(t,y,7),y+=3):P==18&&(ie=11+ll(t,y,127),y+=7);ie--;)q[H++]=ue}}var se=q.subarray(0,V),ye=q.subarray(V);C=Bv(se),D=Bv(ye),k=pc(se,C,1),x=pc(ye,D,1)}else dl(1);else{var P=gC(y)+4,B=t[P-4]|t[P-3]<<8,$=P+B;if($>a){p&&dl(0);break}h&&g(v+B),n.set(t.subarray(P,$),v),r.b=v+=B,r.p=y=$*8,r.f=b;continue}if(y>S){p&&dl(0);break}}h&&g(v+131072);for(var re=(1<<C)-1,_e=(1<<D)-1,Z=y;;Z=y){var ue=k[Fv(t,y)&re],J=ue>>4;if(y+=ue&15,y>S){p&&dl(0);break}if(ue||dl(2),J<256)n[v++]=J;else if(J==256){Z=y,k=null;break}else{var ae=J-254;if(J>264){var H=J-257,fe=L1[H];ae=ll(t,y,(1<<fe)-1)+uj[H],y+=fe}var le=x[Fv(t,y)&_e],Ie=le>>4;le||dl(3),y+=le&15;var ye=_te[Ie];if(Ie>3){var fe=R1[Ie];ye+=Fv(t,y)&(1<<fe)-1,y+=fe}if(y>S){p&&dl(0);break}h&&g(v+131072);var xe=v+ae;if(v<ye){var Ne=l-ye,Qe=Math.min(ye,xe);for(Ne+v<0&&dl(3);v<Qe;++v)n[v]=o[Ne+v]}for(;v<xe;++v)n[v]=n[v-ye]}}r.l=k,r.p=Z,r.b=v,r.f=b,k&&(b=1,r.m=C,r.d=x,r.n=D)}while(!b);return v!=n.length&&d?hj(n,0,v):n.subarray(0,v)},Jc=function(t,r,n){n<<=r&7;var o=r/8|0;t[o]|=n,t[o+1]|=n>>8},Jm=function(t,r,n){n<<=r&7;var o=r/8|0;t[o]|=n,t[o+1]|=n>>8,t[o+2]|=n>>16},zv=function(t,r){for(var n=[],o=0;o<t.length;++o)t[o]&&n.push({s:o,f:t[o]});var a=n.length,l=n.slice();if(!a)return{t:pj,l:0};if(a==1){var d=new zo(n[0].s+1);return d[n[0].s]=1,{t:d,l:1}}n.sort(function($,V){return $.f-V.f}),n.push({s:-1,f:25001});var h=n[0],p=n[1],g=0,b=1,y=2;for(n[0]={s:-1,f:h.f+p.f,l:h,r:p};b!=a-1;)h=n[n[g].f<n[y].f?g++:y++],p=n[g!=b&&n[g].f<n[y].f?g++:y++],n[b++]={s:-1,f:h.f+p.f,l:h,r:p};for(var v=l[0].s,o=1;o<a;++o)l[o].s>v&&(v=l[o].s);var k=new Xs(v+1),x=QA(n[b-1],k,0);if(x>r){var o=0,C=0,D=x-r,S=1<<D;for(l.sort(function(V,M){return k[M.s]-k[V.s]||V.f-M.f});o<a;++o){var N=l[o].s;if(k[N]>r)C+=S-(1<<x-k[N]),k[N]=r;else break}for(C>>=D;C>0;){var P=l[o].s;k[P]<r?C-=1<<r-k[P]++-1:++o}for(;o>=0&&C;--o){var B=l[o].s;k[B]==r&&(--k[B],++C)}x=r}return{t:new zo(k),l:x}},QA=function(t,r,n){return t.s==-1?Math.max(QA(t.l,r,n+1),QA(t.r,r,n+1)):r[t.s]=n},WT=function(t){for(var r=t.length;r&&!t[--r];);for(var n=new Xs(++r),o=0,a=t[0],l=1,d=function(p){n[o++]=p},h=1;h<=r;++h)if(t[h]==a&&h!=r)++l;else{if(!a&&l>2){for(;l>138;l-=138)d(32754);l>2&&(d(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(d(a),--l;l>6;l-=6)d(8304);l>2&&(d(l-3<<5|8208),l=0)}for(;l--;)d(a);l=1,a=t[h]}return{c:n.subarray(0,o),n:r}},Zm=function(t,r){for(var n=0,o=0;o<r.length;++o)n+=t[o]*r[o];return n},fj=function(t,r,n){var o=n.length,a=gC(r+2);t[a]=o&255,t[a+1]=o>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var l=0;l<o;++l)t[a+l+4]=n[l];return(a+4+o)*8},GT=function(t,r,n,o,a,l,d,h,p,g,b){Jc(r,b++,n),++a[256];for(var y=zv(a,15),v=y.t,k=y.l,x=zv(l,15),C=x.t,D=x.l,S=WT(v),N=S.c,P=S.n,B=WT(C),$=B.c,V=B.n,M=new Xs(19),L=0;L<N.length;++L)++M[N[L]&31];for(var L=0;L<$.length;++L)++M[$[L]&31];for(var q=zv(M,7),Q=q.t,H=q.l,F=19;F>4&&!Q[GA[F-1]];--F);var G=g+5<<3,R=Zm(a,hd)+Zm(l,Fg)+d,ne=Zm(a,v)+Zm(l,C)+d+14+3*F+Zm(M,Q)+2*M[16]+3*M[17]+7*M[18];if(p>=0&&G<=R&&G<=ne)return fj(r,b,t.subarray(p,p+g));var ue,ie,se,ye;if(Jc(r,b,1+(ne<R)),b+=2,ne<R){ue=pc(v,k,0),ie=v,se=pc(C,D,0),ye=C;var re=pc(Q,H,0);Jc(r,b,P-257),Jc(r,b+5,V-1),Jc(r,b+10,F-4),b+=14;for(var L=0;L<F;++L)Jc(r,b+3*L,Q[GA[L]]);b+=3*F;for(var _e=[N,$],Z=0;Z<2;++Z)for(var J=_e[Z],L=0;L<J.length;++L){var ae=J[L]&31;Jc(r,b,re[ae]),b+=Q[ae],ae>15&&(Jc(r,b,J[L]>>5&127),b+=J[L]>>12)}}else ue=Cte,ie=hd,se=Ste,ye=Fg;for(var L=0;L<h;++L){var fe=o[L];if(fe>255){var ae=fe>>18&31;Jm(r,b,ue[ae+257]),b+=ie[ae+257],ae>7&&(Jc(r,b,fe>>23&31),b+=L1[ae]);var le=fe&31;Jm(r,b,se[le]),b+=ye[le],le>3&&(Jm(r,b,fe>>5&8191),b+=R1[le])}else Jm(r,b,ue[fe]),b+=ie[fe]}return Jm(r,b,ue[256]),b+ie[256]},Tte=new mC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pj=new zo(0),Nte=function(t,r,n,o,a,l){var d=l.z||t.length,h=new zo(o+d+5*(1+Math.ceil(d/7e3))+a),p=h.subarray(o,h.length-a),g=l.l,b=(l.r||0)&7;if(r){b&&(p[0]=l.r>>3);for(var y=Tte[r-1],v=y>>13,k=y&8191,x=(1<<n)-1,C=l.p||new Xs(32768),D=l.h||new Xs(x+1),S=Math.ceil(n/3),N=2*S,P=function(X){return(t[X]^t[X+1]<<S^t[X+2]<<N)&x},B=new mC(25e3),$=new Xs(288),V=new Xs(32),M=0,L=0,q=l.i||0,Q=0,H=l.w||0,F=0;q+2<d;++q){var G=P(q),R=q&32767,ne=D[G];if(C[R]=ne,D[G]=R,H<=q){var ue=d-q;if((M>7e3||Q>24576)&&(ue>423||!g)){b=GT(t,p,0,B,$,V,L,Q,F,q-F,b),Q=M=L=0,F=q;for(var ie=0;ie<286;++ie)$[ie]=0;for(var ie=0;ie<30;++ie)V[ie]=0}var se=2,ye=0,re=k,_e=R-ne&32767;if(ue>2&&G==P(q-_e))for(var Z=Math.min(v,ue)-1,J=Math.min(32767,q),ae=Math.min(258,ue);_e<=J&&--re&&R!=ne;){if(t[q+se]==t[q+se-_e]){for(var fe=0;fe<ae&&t[q+fe]==t[q+fe-_e];++fe);if(fe>se){if(se=fe,ye=_e,fe>Z)break;for(var le=Math.min(_e,fe-2),Ie=0,ie=0;ie<le;++ie){var xe=q-_e+ie&32767,Ne=C[xe],Qe=xe-Ne&32767;Qe>Ie&&(Ie=Qe,ne=xe)}}}R=ne,ne=C[R],_e+=R-ne&32767}if(ye){B[Q++]=268435456|YA[se]<<18|HT[ye];var Ge=YA[se]&31,Je=HT[ye]&31;L+=L1[Ge]+R1[Je],++$[257+Ge],++V[Je],H=q+se,++M}else B[Q++]=t[q],++$[t[q]]}}for(q=Math.max(q,H);q<d;++q)B[Q++]=t[q],++$[t[q]];b=GT(t,p,g,B,$,V,L,Q,F,q-F,b),g||(l.r=b&7|p[b/8|0]<<3,b-=7,l.h=D,l.p=C,l.i=q,l.w=H)}else{for(var q=l.w||0;q<d+g;q+=65535){var ze=q+65535;ze>=d&&(p[b/8|0]=g,ze=d),b=fj(p,b+1,t.subarray(q,ze))}l.i=d}return hj(h,0,o+gC(b)+a)},mj=function(){var t=1,r=0;return{p:function(n){for(var o=t,a=r,l=n.length|0,d=0;d!=l;){for(var h=Math.min(d+2655,l);d<h;++d)a+=o+=n[d];o=(o&65535)+15*(o>>16),a=(a&65535)+15*(a>>16)}t=o,r=a},d:function(){return t%=65521,r%=65521,(t&255)<<24|(t&65280)<<8|(r&255)<<8|r>>8}}},Mte=function(t,r,n,o,a){if(!a&&(a={l:1},r.dictionary)){var l=r.dictionary.subarray(-32768),d=new zo(l.length+t.length);d.set(l),d.set(t,l.length),t=d,a.w=l.length}return Nte(t,r.level==null?6:r.level,r.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+r.mem,n,o,a)},gj=function(t,r,n){for(;n;++r)t[r]=n,n>>>=8},Pte=function(t,r){var n=r.level,o=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=o<<6|(r.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,r.dictionary){var a=mj();a.p(r.dictionary),gj(t,2,a.d())}},Ote=function(t,r){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&dl(6,"invalid zlib data"),(t[1]>>5&1)==1&&dl(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function JA(t,r){r||(r={});var n=mj();n.p(t);var o=Mte(t,r,r.dictionary?6:2,4);return Pte(o,r),gj(o,o.length-4,n.d()),o}function jte(t,r){return Ite(t.subarray(Ote(t),-4),{i:2},r,r)}var Lte=typeof TextDecoder<"u"&&new TextDecoder,Rte=0;try{Lte.decode(pj,{stream:!0}),Rte=1}catch{}var ln=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Uv(){ln.console&&typeof ln.console.log=="function"&&ln.console.log.apply(ln.console,arguments)}var Sr={log:Uv,warn:function(t){ln.console&&(typeof ln.console.warn=="function"?ln.console.warn.apply(ln.console,arguments):Uv.call(null,arguments))},error:function(t){ln.console&&(typeof ln.console.error=="function"?ln.console.error.apply(ln.console,arguments):Uv(t))}};function qv(t,r,n){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){ph(o.response,r,n)},o.onerror=function(){Sr.error("could not download file")},o.send()}function YT(t){var r=new XMLHttpRequest;r.open("HEAD",t,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function ek(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(r)}}var vg,ZA,ph=ln.saveAs||((typeof window>"u"?"undefined":fr(window))!=="object"||window!==ln?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,r,n){var o=ln.URL||ln.webkitURL,a=document.createElement("a");r=r||t.name||"download",a.download=r,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?YT(a.href)?qv(t,r,n):ek(a,a.target="_blank"):ek(a)):(a.href=o.createObjectURL(t),setTimeout(function(){o.revokeObjectURL(a.href)},4e4),setTimeout(function(){ek(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,n){if(r=r||t.name||"download",typeof t=="string")if(YT(t))qv(t,r,n);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout(function(){ek(o)})}else navigator.msSaveOrOpenBlob(function(a,l){return l===void 0?l={autoBom:!1}:fr(l)!=="object"&&(Sr.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,n),r)}:function(t,r,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),typeof t=="string")return qv(t,r,n);var a=t.type==="application/octet-stream",l=/constructor/i.test(ln.HTMLElement)||ln.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||a&&l)&&(typeof FileReader>"u"?"undefined":fr(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var b=h.result;b=d?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=b:location=b,o=null},h.readAsDataURL(t)}else{var p=ln.URL||ln.webkitURL,g=p.createObjectURL(t);o?o.location=g:location.href=g,o=null,setTimeout(function(){p.revokeObjectURL(g)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function bj(t){var r;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],o=0;o<n.length;o++){var a=n[o].re,l=n[o].process,d=a.exec(t);d&&(r=l(d),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),p=this.g.toString(16),g=this.b.toString(16);return h.length==1&&(h="0"+h),p.length==1&&(p="0"+p),g.length==1&&(g="0"+g),"#"+h+p+g}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Vv(t,r){var n=t[0],o=t[1],a=t[2],l=t[3];n=Oo(n,o,a,l,r[0],7,-680876936),l=Oo(l,n,o,a,r[1],12,-389564586),a=Oo(a,l,n,o,r[2],17,606105819),o=Oo(o,a,l,n,r[3],22,-1044525330),n=Oo(n,o,a,l,r[4],7,-176418897),l=Oo(l,n,o,a,r[5],12,1200080426),a=Oo(a,l,n,o,r[6],17,-1473231341),o=Oo(o,a,l,n,r[7],22,-45705983),n=Oo(n,o,a,l,r[8],7,1770035416),l=Oo(l,n,o,a,r[9],12,-1958414417),a=Oo(a,l,n,o,r[10],17,-42063),o=Oo(o,a,l,n,r[11],22,-1990404162),n=Oo(n,o,a,l,r[12],7,1804603682),l=Oo(l,n,o,a,r[13],12,-40341101),a=Oo(a,l,n,o,r[14],17,-1502002290),n=jo(n,o=Oo(o,a,l,n,r[15],22,1236535329),a,l,r[1],5,-165796510),l=jo(l,n,o,a,r[6],9,-1069501632),a=jo(a,l,n,o,r[11],14,643717713),o=jo(o,a,l,n,r[0],20,-373897302),n=jo(n,o,a,l,r[5],5,-701558691),l=jo(l,n,o,a,r[10],9,38016083),a=jo(a,l,n,o,r[15],14,-660478335),o=jo(o,a,l,n,r[4],20,-405537848),n=jo(n,o,a,l,r[9],5,568446438),l=jo(l,n,o,a,r[14],9,-1019803690),a=jo(a,l,n,o,r[3],14,-187363961),o=jo(o,a,l,n,r[8],20,1163531501),n=jo(n,o,a,l,r[13],5,-1444681467),l=jo(l,n,o,a,r[2],9,-51403784),a=jo(a,l,n,o,r[7],14,1735328473),n=Lo(n,o=jo(o,a,l,n,r[12],20,-1926607734),a,l,r[5],4,-378558),l=Lo(l,n,o,a,r[8],11,-2022574463),a=Lo(a,l,n,o,r[11],16,1839030562),o=Lo(o,a,l,n,r[14],23,-35309556),n=Lo(n,o,a,l,r[1],4,-1530992060),l=Lo(l,n,o,a,r[4],11,1272893353),a=Lo(a,l,n,o,r[7],16,-155497632),o=Lo(o,a,l,n,r[10],23,-1094730640),n=Lo(n,o,a,l,r[13],4,681279174),l=Lo(l,n,o,a,r[0],11,-358537222),a=Lo(a,l,n,o,r[3],16,-722521979),o=Lo(o,a,l,n,r[6],23,76029189),n=Lo(n,o,a,l,r[9],4,-640364487),l=Lo(l,n,o,a,r[12],11,-421815835),a=Lo(a,l,n,o,r[15],16,530742520),n=Ro(n,o=Lo(o,a,l,n,r[2],23,-995338651),a,l,r[0],6,-198630844),l=Ro(l,n,o,a,r[7],10,1126891415),a=Ro(a,l,n,o,r[14],15,-1416354905),o=Ro(o,a,l,n,r[5],21,-57434055),n=Ro(n,o,a,l,r[12],6,1700485571),l=Ro(l,n,o,a,r[3],10,-1894986606),a=Ro(a,l,n,o,r[10],15,-1051523),o=Ro(o,a,l,n,r[1],21,-2054922799),n=Ro(n,o,a,l,r[8],6,1873313359),l=Ro(l,n,o,a,r[15],10,-30611744),a=Ro(a,l,n,o,r[6],15,-1560198380),o=Ro(o,a,l,n,r[13],21,1309151649),n=Ro(n,o,a,l,r[4],6,-145523070),l=Ro(l,n,o,a,r[11],10,-1120210379),a=Ro(a,l,n,o,r[2],15,718787259),o=Ro(o,a,l,n,r[9],21,-343485551),t[0]=id(n,t[0]),t[1]=id(o,t[1]),t[2]=id(a,t[2]),t[3]=id(l,t[3])}function B1(t,r,n,o,a,l){return r=id(id(r,t),id(o,l)),id(r<<a|r>>>32-a,n)}function Oo(t,r,n,o,a,l,d){return B1(r&n|~r&o,t,r,a,l,d)}function jo(t,r,n,o,a,l,d){return B1(r&o|n&~o,t,r,a,l,d)}function Lo(t,r,n,o,a,l,d){return B1(r^n^o,t,r,a,l,d)}function Ro(t,r,n,o,a,l,d){return B1(n^(r|~o),t,r,a,l,d)}function kj(t){var r,n=t.length,o=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=t.length;r+=64)Vv(o,Bte(t.substring(r-64,r)));t=t.substring(r-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<t.length;r++)a[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(a[r>>2]|=128<<(r%4<<3),r>55)for(Vv(o,a),r=0;r<16;r++)a[r]=0;return a[14]=8*n,Vv(o,a),o}function Bte(t){var r,n=[];for(r=0;r<64;r+=4)n[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return n}vg=ln.atob.bind(ln),ZA=ln.btoa.bind(ln);var KT="0123456789abcdef".split("");function Fte(t){for(var r="",n=0;n<4;n++)r+=KT[t>>8*n+4&15]+KT[t>>8*n&15];return r}function zte(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function XA(t){return kj(t).map(zte).join("")}var Ute=function(t){for(var r=0;r<t.length;r++)t[r]=Fte(t[r]);return t.join("")}(kj("hello"))!="5d41402abc4b2a76b9719d911017c592";function id(t,r){if(Ute){var n=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(n>>16)<<16|65535&n}return t+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function e_(t,r){var n,o,a,l;if(t!==n){for(var d=(a=t,l=1+(256/t.length>>0),new Array(l+1).join(a)),h=[],p=0;p<256;p++)h[p]=p;var g=0;for(p=0;p<256;p++){var b=h[p];g=(g+b+d.charCodeAt(p))%256,h[p]=h[g],h[g]=b}n=t,o=h}else h=o;var y=r.length,v=0,k=0,x="";for(p=0;p<y;p++)k=(k+(b=h[v=(v+1)%256]))%256,h[v]=h[k],h[k]=b,d=h[(h[v]+h[k])%256],x+=String.fromCharCode(r.charCodeAt(p)^d);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var QT={print:4,modify:8,copy:16,"annot-forms":32};function op(t,r,n,o){this.v=1,this.r=2;var a=192;t.forEach(function(h){if(QT.perm!==void 0)throw new Error("Invalid permission: "+h);a+=QT[h]}),this.padding="(Â¿N^NuÂŠAd\0NVÃ¿Ãº\b..\0Â¶Ãh>Â€/\fÂ©Ã¾dSiz";var l=(r+this.padding).substr(0,32),d=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,d),this.P=-(1+(255^a)),this.encryptionKey=XA(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(o)).substr(0,5),this.U=e_(this.encryptionKey,this.padding)}function sp(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var r="",n=t.length,o=0;o<n;o++){var a=t.charCodeAt(o);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?r+="#"+("0"+a.toString(16)).slice(-2):r+=t[o]}return r}function JT(t){if(fr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(n,o,a){if(a=a||!1,typeof n!="string"||typeof o!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(n)||(r[n]={});var l=Math.random().toString(35);return r[n][l]=[o,!!a],l},this.unsubscribe=function(n){for(var o in r)if(r[o][n])return delete r[o][n],Object.keys(r[o]).length===0&&delete r[o],!0;return!1},this.publish=function(n){if(r.hasOwnProperty(n)){var o=Array.prototype.slice.call(arguments,1),a=[];for(var l in r[n]){var d=r[n][l];try{d[0].apply(t,o)}catch(h){ln.console&&Sr.error("jsPDF PubSub Error",h.message,h)}d[1]&&a.push(l)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function i1(t){if(!(this instanceof i1))return new i1(t);var r="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&r.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function wj(t,r){this.gState=t,this.matrix=r,this.id="",this.objectNumber=-1}function bh(t,r,n,o,a){if(!(this instanceof bh))return new bh(t,r,n,o,a);this.type=t==="axial"?2:3,this.coords=r,this.colors=n,wj.call(this,o,a)}function cp(t,r,n,o,a){if(!(this instanceof cp))return new cp(t,r,n,o,a);this.boundingBox=t,this.xStep=r,this.yStep=n,this.stream="",this.cloneIndex=0,wj.call(this,o,a)}function an(t){var r,n=typeof arguments[0]=="string"?arguments[0]:"p",o=arguments[1],a=arguments[2],l=arguments[3],d=[],h=1,p=16,g="S",b=null;fr(t=t||{})==="object"&&(n=t.orientation,o=t.unit||o,a=t.format||a,l=t.compress||t.compressPdf||l,(b=t.encryption||null)!==null&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),h=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(r=t.precision),t.floatPrecision!==void 0&&(p=t.floatPrecision),g=t.defaultPathOperation||"S"),d=t.filters||(l===!0?["FlateEncode"]:d),o=o||"mm",n=(""+(n||"P")).toLowerCase();var y=t.putOnlyUsedFonts||!1,v={},k={internal:{},__private__:{}};k.__private__.PubSub=JT;var x="1.3",C=k.__private__.getPdfVersion=function(){return x};k.__private__.setPdfVersion=function(z){x=z};var D={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};k.__private__.getPageFormats=function(){return D};var S=k.__private__.getPageFormat=function(z){return D[z]};a=a||"a4";var N={COMPAT:"compat",ADVANCED:"advanced"},P=N.COMPAT;function B(){this.saveGraphicsState(),he(new Ht(ht,0,0,-ht,0,Il()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),g="n",P=N.ADVANCED}function $(){this.restoreGraphicsState(),g="S",P=N.COMPAT}var V=k.__private__.combineFontStyleAndFontWeight=function(z,de){if(z=="bold"&&de=="normal"||z=="bold"&&de==400||z=="normal"&&de=="italic"||z=="bold"&&de=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return de&&(z=de==400||de==="normal"?z==="italic"?"italic":"normal":de!=700&&de!=="bold"||z!=="normal"?(de==700?"bold":de)+""+z:"bold"),z};k.advancedAPI=function(z){var de=P===N.COMPAT;return de&&B.call(this),typeof z!="function"||(z(this),de&&$.call(this)),this},k.compatAPI=function(z){var de=P===N.ADVANCED;return de&&$.call(this),typeof z!="function"||(z(this),de&&B.call(this)),this},k.isAdvancedAPI=function(){return P===N.ADVANCED};var M,L=function(z){if(P!==N.ADVANCED)throw new Error(z+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=k.roundToPrecision=k.__private__.roundToPrecision=function(z,de){var Te=r||de;if(isNaN(z)||isNaN(Te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return z.toFixed(Te).replace(/0+$/,"")};M=k.hpf=k.__private__.hpf=typeof p=="number"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return q(z,p)}:p==="smart"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return q(z,z>-1&&z<1?16:5)}:function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return q(z,16)};var Q=k.f2=k.__private__.f2=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f2");return q(z,2)},H=k.__private__.f3=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f3");return q(z,3)},F=k.scale=k.__private__.scale=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.scale");return P===N.COMPAT?z*ht:P===N.ADVANCED?z:void 0},G=function(z){return P===N.COMPAT?Il()-z:P===N.ADVANCED?z:void 0},R=function(z){return F(G(z))};k.__private__.setPrecision=k.setPrecision=function(z){typeof parseInt(z,10)=="number"&&(r=parseInt(z,10))};var ne,ue="00000000000000000000000000000000",ie=k.__private__.getFileId=function(){return ue},se=k.__private__.setFileId=function(z){return ue=z!==void 0&&/^[a-fA-F0-9]{32}$/.test(z)?z.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),b!==null&&(no=new op(b.userPermissions,b.userPassword,b.ownerPassword,ue)),ue};k.setFileId=function(z){return se(z),this},k.getFileId=function(){return ie()};var ye=k.__private__.convertDateToPDFDate=function(z){var de=z.getTimezoneOffset(),Te=de<0?"+":"-",Re=Math.floor(Math.abs(de/60)),Xe=Math.abs(de%60),dt=[Te,ae(Re),"'",ae(Xe),"'"].join("");return["D:",z.getFullYear(),ae(z.getMonth()+1),ae(z.getDate()),ae(z.getHours()),ae(z.getMinutes()),ae(z.getSeconds()),dt].join("")},re=k.__private__.convertPDFDateToDate=function(z){var de=parseInt(z.substr(2,4),10),Te=parseInt(z.substr(6,2),10)-1,Re=parseInt(z.substr(8,2),10),Xe=parseInt(z.substr(10,2),10),dt=parseInt(z.substr(12,2),10),xt=parseInt(z.substr(14,2),10);return new Date(de,Te,Re,Xe,dt,xt,0)},_e=k.__private__.setCreationDate=function(z){var de;if(z===void 0&&(z=new Date),z instanceof Date)de=ye(z);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(z))throw new Error("Invalid argument passed to jsPDF.setCreationDate");de=z}return ne=de},Z=k.__private__.getCreationDate=function(z){var de=ne;return z==="jsDate"&&(de=re(ne)),de};k.setCreationDate=function(z){return _e(z),this},k.getCreationDate=function(z){return Z(z)};var J,ae=k.__private__.padd2=function(z){return("0"+parseInt(z)).slice(-2)},fe=k.__private__.padd2Hex=function(z){return("00"+(z=z.toString())).substr(z.length)},le=0,Ie=[],xe=[],Ne=0,Qe=[],Ge=[],Je=!1,ze=xe,X=function(){le=0,Ne=0,xe=[],Ie=[],Qe=[],as=Fn(),So=Fn()};k.__private__.setCustomOutputDestination=function(z){Je=!0,ze=z};var Ce=function(z){Je||(ze=z)};k.__private__.resetCustomOutputDestination=function(){Je=!1,ze=xe};var he=k.__private__.out=function(z){return z=z.toString(),Ne+=z.length+1,ze.push(z),ze},be=k.__private__.write=function(z){return he(arguments.length===1?z.toString():Array.prototype.join.call(arguments," "))},pe=k.__private__.getArrayBuffer=function(z){for(var de=z.length,Te=new ArrayBuffer(de),Re=new Uint8Array(Te);de--;)Re[de]=z.charCodeAt(de);return Te},Ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];k.__private__.getStandardFonts=function(){return Ae};var Oe=t.fontSize||16;k.__private__.setFontSize=k.setFontSize=function(z){return Oe=P===N.ADVANCED?z/ht:z,this};var Me,De=k.__private__.getFontSize=k.getFontSize=function(){return P===N.COMPAT?Oe:Oe*ht},qe=t.R2L||!1;k.__private__.setR2L=k.setR2L=function(z){return qe=z,this},k.__private__.getR2L=k.getR2L=function(){return qe};var Ve,He=k.__private__.setZoomMode=function(z){var de=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(z))Me=z;else if(isNaN(z)){if(de.indexOf(z)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+z+'" is not recognized.');Me=z}else Me=parseInt(z,10)};k.__private__.getZoomMode=function(){return Me};var st,Ue=k.__private__.setPageMode=function(z){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(z)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+z+'" is not recognized.');Ve=z};k.__private__.getPageMode=function(){return Ve};var Ke=k.__private__.setLayoutMode=function(z){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(z)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+z+'" is not recognized.');st=z};k.__private__.getLayoutMode=function(){return st},k.__private__.setDisplayMode=k.setDisplayMode=function(z,de,Te){return He(z),Ke(de),Ue(Te),this};var Ze={title:"",subject:"",author:"",keywords:"",creator:""};k.__private__.getDocumentProperty=function(z){if(Object.keys(Ze).indexOf(z)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ze[z]},k.__private__.getDocumentProperties=function(){return Ze},k.__private__.setDocumentProperties=k.setProperties=k.setDocumentProperties=function(z){for(var de in Ze)Ze.hasOwnProperty(de)&&z[de]&&(Ze[de]=z[de]);return this},k.__private__.setDocumentProperty=function(z,de){if(Object.keys(Ze).indexOf(z)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ze[z]=de};var _t,ht,sn,pt,$t,Bt={},zt={},Qt=[],gn={},En={},Vn={},Br={},Wr=null,Bn=0,en=[],Dn=new JT(k),Ho=t.hotfixes||[],Nn={},eo={},ii=[],Ht=function z(de,Te,Re,Xe,dt,xt){if(!(this instanceof z))return new z(de,Te,Re,Xe,dt,xt);isNaN(de)&&(de=1),isNaN(Te)&&(Te=0),isNaN(Re)&&(Re=0),isNaN(Xe)&&(Xe=1),isNaN(dt)&&(dt=0),isNaN(xt)&&(xt=0),this._matrix=[de,Te,Re,Xe,dt,xt]};Object.defineProperty(Ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(Ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(Ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(Ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(Ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(Ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(Ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(Ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(Ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(Ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(Ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(Ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(Ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ht.prototype.join=function(z){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(z)},Ht.prototype.multiply=function(z){var de=z.sx*this.sx+z.shy*this.shx,Te=z.sx*this.shy+z.shy*this.sy,Re=z.shx*this.sx+z.sy*this.shx,Xe=z.shx*this.shy+z.sy*this.sy,dt=z.tx*this.sx+z.ty*this.shx+this.tx,xt=z.tx*this.shy+z.ty*this.sy+this.ty;return new Ht(de,Te,Re,Xe,dt,xt)},Ht.prototype.decompose=function(){var z=this.sx,de=this.shy,Te=this.shx,Re=this.sy,Xe=this.tx,dt=this.ty,xt=Math.sqrt(z*z+de*de),jt=(z/=xt)*Te+(de/=xt)*Re;Te-=z*jt,Re-=de*jt;var Gt=Math.sqrt(Te*Te+Re*Re);return jt/=Gt,z*(Re/=Gt)<de*(Te/=Gt)&&(z=-z,de=-de,jt=-jt,xt=-xt),{scale:new Ht(xt,0,0,Gt,0,0),translate:new Ht(1,0,0,1,Xe,dt),rotate:new Ht(z,de,-de,z,0,0),skew:new Ht(1,0,jt,1,0,0)}},Ht.prototype.toString=function(z){return this.join(" ")},Ht.prototype.inversed=function(){var z=this.sx,de=this.shy,Te=this.shx,Re=this.sy,Xe=this.tx,dt=this.ty,xt=1/(z*Re-de*Te),jt=Re*xt,Gt=-de*xt,dn=-Te*xt,cn=z*xt;return new Ht(jt,Gt,dn,cn,-jt*Xe-dn*dt,-Gt*Xe-cn*dt)},Ht.prototype.applyToPoint=function(z){var de=z.x*this.sx+z.y*this.shx+this.tx,Te=z.x*this.shy+z.y*this.sy+this.ty;return new Ic(de,Te)},Ht.prototype.applyToRectangle=function(z){var de=this.applyToPoint(z),Te=this.applyToPoint(new Ic(z.x+z.w,z.y+z.h));return new Au(de.x,de.y,Te.x-de.x,Te.y-de.y)},Ht.prototype.clone=function(){var z=this.sx,de=this.shy,Te=this.shx,Re=this.sy,Xe=this.tx,dt=this.ty;return new Ht(z,de,Te,Re,Xe,dt)},k.Matrix=Ht;var zi=k.matrixMult=function(z,de){return de.multiply(z)},to=new Ht(1,0,0,1,0,0);k.unitMatrix=k.identityMatrix=to;var oi=function(z,de){if(!En[z]){var Te=(de instanceof bh?"Sh":"P")+(Object.keys(gn).length+1).toString(10);de.id=Te,En[z]=Te,gn[Te]=de,Dn.publish("addPattern",de)}};k.ShadingPattern=bh,k.TilingPattern=cp,k.addShadingPattern=function(z,de){return L("addShadingPattern()"),oi(z,de),this},k.beginTilingPattern=function(z){L("beginTilingPattern()"),Nd(z.boundingBox[0],z.boundingBox[1],z.boundingBox[2]-z.boundingBox[0],z.boundingBox[3]-z.boundingBox[1],z.matrix)},k.endTilingPattern=function(z,de){L("endTilingPattern()"),de.stream=Ge[J].join(`
`),oi(z,de),Dn.publish("endTilingPattern",de),ii.pop().restore()};var _r=k.__private__.newObject=function(){var z=Fn();return Gr(z,!0),z},Fn=k.__private__.newObjectDeferred=function(){return le++,Ie[le]=function(){return Ne},le},Gr=function(z,de){return de=typeof de=="boolean"&&de,Ie[z]=Ne,de&&he(z+" 0 obj"),z},ss=k.__private__.newAdditionalObject=function(){var z={objId:Fn(),content:""};return Qe.push(z),z},as=Fn(),So=Fn(),Eo=k.__private__.decodeColorString=function(z){var de=z.split(" ");if(de.length!==2||de[1]!=="g"&&de[1]!=="G")de.length===5&&(de[4]==="k"||de[4]==="K")&&(de=[(1-de[0])*(1-de[3]),(1-de[1])*(1-de[3]),(1-de[2])*(1-de[3]),"r"]);else{var Te=parseFloat(de[0]);de=[Te,Te,Te,"r"]}for(var Re="#",Xe=0;Xe<3;Xe++)Re+=("0"+Math.floor(255*parseFloat(de[Xe])).toString(16)).slice(-2);return Re},Do=k.__private__.encodeColorString=function(z){var de;typeof z=="string"&&(z={ch1:z});var Te=z.ch1,Re=z.ch2,Xe=z.ch3,dt=z.ch4,xt=z.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Te=="string"&&Te.charAt(0)!=="#"){var jt=new bj(Te);if(jt.ok)Te=jt.toHex();else if(!/^\d*\.?\d*$/.test(Te))throw new Error('Invalid color "'+Te+'" passed to jsPDF.encodeColorString.')}if(typeof Te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Te)&&(Te="#"+Te[1]+Te[1]+Te[2]+Te[2]+Te[3]+Te[3]),typeof Te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Te)){var Gt=parseInt(Te.substr(1),16);Te=Gt>>16&255,Re=Gt>>8&255,Xe=255&Gt}if(Re===void 0||dt===void 0&&Te===Re&&Re===Xe)if(typeof Te=="string")de=Te+" "+xt[0];else switch(z.precision){case 2:de=Q(Te/255)+" "+xt[0];break;case 3:default:de=H(Te/255)+" "+xt[0]}else if(dt===void 0||fr(dt)==="object"){if(dt&&!isNaN(dt.a)&&dt.a===0)return de=["1.","1.","1.",xt[1]].join(" ");if(typeof Te=="string")de=[Te,Re,Xe,xt[1]].join(" ");else switch(z.precision){case 2:de=[Q(Te/255),Q(Re/255),Q(Xe/255),xt[1]].join(" ");break;default:case 3:de=[H(Te/255),H(Re/255),H(Xe/255),xt[1]].join(" ")}}else if(typeof Te=="string")de=[Te,Re,Xe,dt,xt[2]].join(" ");else switch(z.precision){case 2:de=[Q(Te),Q(Re),Q(Xe),Q(dt),xt[2]].join(" ");break;case 3:default:de=[H(Te),H(Re),H(Xe),H(dt),xt[2]].join(" ")}return de},bi=k.__private__.getFilters=function(){return d},Ui=k.__private__.putStream=function(z){var de=(z=z||{}).data||"",Te=z.filters||bi(),Re=z.alreadyAppliedFilters||[],Xe=z.addLength1||!1,dt=de.length,xt=z.objectId,jt=function(Hi){return Hi};if(b!==null&&xt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");b!==null&&(jt=no.encryptor(xt,0));var Gt={};Te===!0&&(Te=["FlateEncode"]);var dn=z.additionalKeyValues||[],cn=(Gt=an.API.processDataByFilters!==void 0?an.API.processDataByFilters(de,Te):{data:de,reverseChain:[]}).reverseChain+(Array.isArray(Re)?Re.join(" "):Re.toString());if(Gt.data.length!==0&&(dn.push({key:"Length",value:Gt.data.length}),Xe===!0&&dn.push({key:"Length1",value:dt})),cn.length!=0)if(cn.split("/").length-1==1)dn.push({key:"Filter",value:cn});else{dn.push({key:"Filter",value:"["+cn+"]"});for(var In=0;In<dn.length;In+=1)if(dn[In].key==="DecodeParms"){for(var Er=[],Mr=0;Mr<Gt.reverseChain.split("/").length-1;Mr+=1)Er.push("null");Er.push(dn[In].value),dn[In].value="["+Er.join(" ")+"]"}}he("<<");for(var Yr=0;Yr<dn.length;Yr++)he("/"+dn[Yr].key+" "+dn[Yr].value);he(">>"),Gt.data.length!==0&&(he("stream"),he(jt(Gt.data)),he("endstream"))},Io=k.__private__.putPage=function(z){var de=z.number,Te=z.data,Re=z.objId,Xe=z.contentsObjId;Gr(Re,!0),he("<</Type /Page"),he("/Parent "+z.rootDictionaryObjId+" 0 R"),he("/Resources "+z.resourceDictionaryObjId+" 0 R"),he("/MediaBox ["+parseFloat(M(z.mediaBox.bottomLeftX))+" "+parseFloat(M(z.mediaBox.bottomLeftY))+" "+M(z.mediaBox.topRightX)+" "+M(z.mediaBox.topRightY)+"]"),z.cropBox!==null&&he("/CropBox ["+M(z.cropBox.bottomLeftX)+" "+M(z.cropBox.bottomLeftY)+" "+M(z.cropBox.topRightX)+" "+M(z.cropBox.topRightY)+"]"),z.bleedBox!==null&&he("/BleedBox ["+M(z.bleedBox.bottomLeftX)+" "+M(z.bleedBox.bottomLeftY)+" "+M(z.bleedBox.topRightX)+" "+M(z.bleedBox.topRightY)+"]"),z.trimBox!==null&&he("/TrimBox ["+M(z.trimBox.bottomLeftX)+" "+M(z.trimBox.bottomLeftY)+" "+M(z.trimBox.topRightX)+" "+M(z.trimBox.topRightY)+"]"),z.artBox!==null&&he("/ArtBox ["+M(z.artBox.bottomLeftX)+" "+M(z.artBox.bottomLeftY)+" "+M(z.artBox.topRightX)+" "+M(z.artBox.topRightY)+"]"),typeof z.userUnit=="number"&&z.userUnit!==1&&he("/UserUnit "+z.userUnit),Dn.publish("putPage",{objId:Re,pageContext:en[de],pageNumber:de,page:Te}),he("/Contents "+Xe+" 0 R"),he(">>"),he("endobj");var dt=Te.join(`
`);return P===N.ADVANCED&&(dt+=`
Q`),Gr(Xe,!0),Ui({data:dt,filters:bi(),objectId:Xe}),he("endobj"),Re},ca=k.__private__.putPages=function(){var z,de,Te=[];for(z=1;z<=Bn;z++)en[z].objId=Fn(),en[z].contentsObjId=Fn();for(z=1;z<=Bn;z++)Te.push(Io({number:z,data:Ge[z],objId:en[z].objId,contentsObjId:en[z].contentsObjId,mediaBox:en[z].mediaBox,cropBox:en[z].cropBox,bleedBox:en[z].bleedBox,trimBox:en[z].trimBox,artBox:en[z].artBox,userUnit:en[z].userUnit,rootDictionaryObjId:as,resourceDictionaryObjId:So}));Gr(as,!0),he("<</Type /Pages");var Re="/Kids [";for(de=0;de<Bn;de++)Re+=Te[de]+" 0 R ";he(Re+"]"),he("/Count "+Bn),he(">>"),he("endobj"),Dn.publish("postPutPages")},Ga=function(z){Dn.publish("putFont",{font:z,out:he,newObject:_r,putStream:Ui}),z.isAlreadyPutted!==!0&&(z.objectNumber=_r(),he("<<"),he("/Type /Font"),he("/BaseFont /"+sp(z.postScriptName)),he("/Subtype /Type1"),typeof z.encoding=="string"&&he("/Encoding /"+z.encoding),he("/FirstChar 32"),he("/LastChar 255"),he(">>"),he("endobj"))},mt=function(){for(var z in Bt)Bt.hasOwnProperty(z)&&(y===!1||y===!0&&v.hasOwnProperty(z))&&Ga(Bt[z])},Ct=function(z){z.objectNumber=_r();var de=[];de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Form"}),de.push({key:"BBox",value:"["+[M(z.x),M(z.y),M(z.x+z.width),M(z.y+z.height)].join(" ")+"]"}),de.push({key:"Matrix",value:"["+z.matrix.toString()+"]"});var Te=z.pages[1].join(`
`);Ui({data:Te,additionalKeyValues:de,objectId:z.objectNumber}),he("endobj")},St=function(){for(var z in Nn)Nn.hasOwnProperty(z)&&Ct(Nn[z])},Ut=function(z,de){var Te,Re=[],Xe=1/(de-1);for(Te=0;Te<1;Te+=Xe)Re.push(Te);if(Re.push(1),z[0].offset!=0){var dt={offset:0,color:z[0].color};z.unshift(dt)}if(z[z.length-1].offset!=1){var xt={offset:1,color:z[z.length-1].color};z.push(xt)}for(var jt="",Gt=0,dn=0;dn<Re.length;dn++){for(Te=Re[dn];Te>z[Gt+1].offset;)Gt++;var cn=z[Gt].offset,In=(Te-cn)/(z[Gt+1].offset-cn),Er=z[Gt].color,Mr=z[Gt+1].color;jt+=fe(Math.round((1-In)*Er[0]+In*Mr[0]).toString(16))+fe(Math.round((1-In)*Er[1]+In*Mr[1]).toString(16))+fe(Math.round((1-In)*Er[2]+In*Mr[2]).toString(16))}return jt.trim()},Yt=function(z,de){de||(de=21);var Te=_r(),Re=Ut(z.colors,de),Xe=[];Xe.push({key:"FunctionType",value:"0"}),Xe.push({key:"Domain",value:"[0.0 1.0]"}),Xe.push({key:"Size",value:"["+de+"]"}),Xe.push({key:"BitsPerSample",value:"8"}),Xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ui({data:Re,additionalKeyValues:Xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Te}),he("endobj"),z.objectNumber=_r(),he("<< /ShadingType "+z.type),he("/ColorSpace /DeviceRGB");var dt="/Coords ["+M(parseFloat(z.coords[0]))+" "+M(parseFloat(z.coords[1]))+" ";z.type===2?dt+=M(parseFloat(z.coords[2]))+" "+M(parseFloat(z.coords[3])):dt+=M(parseFloat(z.coords[2]))+" "+M(parseFloat(z.coords[3]))+" "+M(parseFloat(z.coords[4]))+" "+M(parseFloat(z.coords[5])),he(dt+="]"),z.matrix&&he("/Matrix ["+z.matrix.toString()+"]"),he("/Function "+Te+" 0 R"),he("/Extend [true true]"),he(">>"),he("endobj")},Mn=function(z,de){var Te=Fn(),Re=_r();de.push({resourcesOid:Te,objectOid:Re}),z.objectNumber=Re;var Xe=[];Xe.push({key:"Type",value:"/Pattern"}),Xe.push({key:"PatternType",value:"1"}),Xe.push({key:"PaintType",value:"1"}),Xe.push({key:"TilingType",value:"1"}),Xe.push({key:"BBox",value:"["+z.boundingBox.map(M).join(" ")+"]"}),Xe.push({key:"XStep",value:M(z.xStep)}),Xe.push({key:"YStep",value:M(z.yStep)}),Xe.push({key:"Resources",value:Te+" 0 R"}),z.matrix&&Xe.push({key:"Matrix",value:"["+z.matrix.toString()+"]"}),Ui({data:z.stream,additionalKeyValues:Xe,objectId:z.objectNumber}),he("endobj")},mr=function(z){var de;for(de in gn)gn.hasOwnProperty(de)&&(gn[de]instanceof bh?Yt(gn[de]):gn[de]instanceof cp&&Mn(gn[de],z))},qi=function(z){for(var de in z.objectNumber=_r(),he("<<"),z)switch(de){case"opacity":he("/ca "+Q(z[de]));break;case"stroke-opacity":he("/CA "+Q(z[de]))}he(">>"),he("endobj")},Vi=function(){var z;for(z in Vn)Vn.hasOwnProperty(z)&&qi(Vn[z])},Oi=function(){for(var z in he("/XObject <<"),Nn)Nn.hasOwnProperty(z)&&Nn[z].objectNumber>=0&&he("/"+z+" "+Nn[z].objectNumber+" 0 R");Dn.publish("putXobjectDict"),he(">>")},uo=function(){no.oid=_r(),he("<<"),he("/Filter /Standard"),he("/V "+no.v),he("/R "+no.r),he("/U <"+no.toHexString(no.U)+">"),he("/O <"+no.toHexString(no.O)+">"),he("/P "+no.P),he(">>"),he("endobj")},To=function(){for(var z in he("/Font <<"),Bt)Bt.hasOwnProperty(z)&&(y===!1||y===!0&&v.hasOwnProperty(z))&&he("/"+z+" "+Bt[z].objectNumber+" 0 R");he(">>")},Al=function(){if(Object.keys(gn).length>0){for(var z in he("/Shading <<"),gn)gn.hasOwnProperty(z)&&gn[z]instanceof bh&&gn[z].objectNumber>=0&&he("/"+z+" "+gn[z].objectNumber+" 0 R");Dn.publish("putShadingPatternDict"),he(">>")}},Ya=function(z){if(Object.keys(gn).length>0){for(var de in he("/Pattern <<"),gn)gn.hasOwnProperty(de)&&gn[de]instanceof k.TilingPattern&&gn[de].objectNumber>=0&&gn[de].objectNumber<z&&he("/"+de+" "+gn[de].objectNumber+" 0 R");Dn.publish("putTilingPatternDict"),he(">>")}},pu=function(){if(Object.keys(Vn).length>0){var z;for(z in he("/ExtGState <<"),Vn)Vn.hasOwnProperty(z)&&Vn[z].objectNumber>=0&&he("/"+z+" "+Vn[z].objectNumber+" 0 R");Dn.publish("putGStateDict"),he(">>")}},gr=function(z){Gr(z.resourcesOid,!0),he("<<"),he("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),To(),Al(),Ya(z.objectOid),pu(),Oi(),he(">>"),he("endobj")},_l=function(){var z=[];mt(),Vi(),St(),mr(z),Dn.publish("putResources"),z.forEach(gr),gr({resourcesOid:So,objectOid:Number.MAX_SAFE_INTEGER}),Dn.publish("postPutResources")},_c=function(){Dn.publish("putAdditionalObjects");for(var z=0;z<Qe.length;z++){var de=Qe[z];Gr(de.objId,!0),he(de.content),he("endobj")}Dn.publish("postPutAdditionalObjects")},Cc=function(z){zt[z.fontName]=zt[z.fontName]||{},zt[z.fontName][z.fontStyle]=z.id},ls=function(z,de,Te,Re,Xe){var dt={id:"F"+(Object.keys(Bt).length+1).toString(10),postScriptName:z,fontName:de,fontStyle:Te,encoding:Re,isStandardFont:Xe||!1,metadata:{}};return Dn.publish("addFont",{font:dt,instance:this}),Bt[dt.id]=dt,Cc(dt),dt.id},Jh=function(z){for(var de=0,Te=Ae.length;de<Te;de++){var Re=ls.call(this,z[de][0],z[de][1],z[de][2],Ae[de][3],!0);y===!1&&(v[Re]=!0);var Xe=z[de][0].split("-");Cc({id:Re,fontName:Xe[0],fontStyle:Xe[1]||""})}Dn.publish("addFonts",{fonts:Bt,dictionary:zt})},Ts=function(z){return z.foo=function(){try{return z.apply(this,arguments)}catch(Re){var de=Re.stack||"";~de.indexOf(" at ")&&(de=de.split(" at ")[1]);var Te="Error in function "+de.split(`
`)[0].split("<")[0]+": "+Re.message;if(!ln.console)throw new Error(Te);ln.console.error(Te,Re),ln.alert&&alert(Te)}},z.foo.bar=z,z.foo},mu=function(z,de){var Te,Re,Xe,dt,xt,jt,Gt,dn,cn;if(Xe=(de=de||{}).sourceEncoding||"Unicode",xt=de.outputEncoding,(de.autoencode||xt)&&Bt[_t].metadata&&Bt[_t].metadata[Xe]&&Bt[_t].metadata[Xe].encoding&&(dt=Bt[_t].metadata[Xe].encoding,!xt&&Bt[_t].encoding&&(xt=Bt[_t].encoding),!xt&&dt.codePages&&(xt=dt.codePages[0]),typeof xt=="string"&&(xt=dt[xt]),xt)){for(Gt=!1,jt=[],Te=0,Re=z.length;Te<Re;Te++)(dn=xt[z.charCodeAt(Te)])?jt.push(String.fromCharCode(dn)):jt.push(z[Te]),jt[Te].charCodeAt(0)>>8&&(Gt=!0);z=jt.join("")}for(Te=z.length;Gt===void 0&&Te!==0;)z.charCodeAt(Te-1)>>8&&(Gt=!0),Te--;if(!Gt)return z;for(jt=de.noBOM?[]:[254,255],Te=0,Re=z.length;Te<Re;Te++){if((cn=(dn=z.charCodeAt(Te))>>8)>>8)throw new Error("Character at position "+Te+" of string '"+z+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");jt.push(cn),jt.push(dn-(cn<<8))}return String.fromCharCode.apply(void 0,jt)},$i=k.__private__.pdfEscape=k.pdfEscape=function(z,de){return mu(z,de).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_d=k.__private__.beginPage=function(z){Ge[++Bn]=[],en[Bn]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(z[0]),topRightY:Number(z[1])}},Xh(Bn),Ce(Ge[J])},Zh=function(z,de){var Te,Re,Xe;switch(n=de||n,typeof z=="string"&&(Te=S(z.toLowerCase()),Array.isArray(Te)&&(Re=Te[0],Xe=Te[1])),Array.isArray(z)&&(Re=z[0]*ht,Xe=z[1]*ht),isNaN(Re)&&(Re=a[0],Xe=a[1]),(Re>14400||Xe>14400)&&(Sr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Re=Math.min(14400,Re),Xe=Math.min(14400,Xe)),a=[Re,Xe],n.substr(0,1)){case"l":Xe>Re&&(a=[Xe,Re]);break;case"p":Re>Xe&&(a=[Xe,Re])}_d(a),Dd(Dc),he(Os),Td!==0&&he(Td+" J"),pa!==0&&he(pa+" j"),Dn.publish("addPage",{pageNumber:Bn})},Yp=function(z){z>0&&z<=Bn&&(Ge.splice(z,1),en.splice(z,1),Bn--,J>Bn&&(J=Bn),this.setPage(J))},Xh=function(z){z>0&&z<=Bn&&(J=z)},Cl=k.__private__.getNumberOfPages=k.getNumberOfPages=function(){return Ge.length-1},xc=function(z,de,Te){var Re,Xe=void 0;return Te=Te||{},z=z!==void 0?z:Bt[_t].fontName,de=de!==void 0?de:Bt[_t].fontStyle,Re=z.toLowerCase(),zt[Re]!==void 0&&zt[Re][de]!==void 0?Xe=zt[Re][de]:zt[z]!==void 0&&zt[z][de]!==void 0?Xe=zt[z][de]:Te.disableWarning===!1&&Sr.warn("Unable to look up font label for font '"+z+"', '"+de+"'. Refer to getFontList() for available fonts."),Xe||Te.noFallback||(Xe=zt.times[de])==null&&(Xe=zt.times.normal),Xe},Kp=k.__private__.putInfo=function(){var z=_r(),de=function(Re){return Re};for(var Te in b!==null&&(de=no.encryptor(z,0)),he("<<"),he("/Producer ("+$i(de("jsPDF "+an.version))+")"),Ze)Ze.hasOwnProperty(Te)&&Ze[Te]&&he("/"+Te.substr(0,1).toUpperCase()+Te.substr(1)+" ("+$i(de(Ze[Te]))+")");he("/CreationDate ("+$i(de(ne))+")"),he(">>"),he("endobj")},ua=k.__private__.putCatalog=function(z){var de=(z=z||{}).rootDictionaryObjId||as;switch(_r(),he("<<"),he("/Type /Catalog"),he("/Pages "+de+" 0 R"),Me||(Me="fullwidth"),Me){case"fullwidth":he("/OpenAction [3 0 R /FitH null]");break;case"fullheight":he("/OpenAction [3 0 R /FitV null]");break;case"fullpage":he("/OpenAction [3 0 R /Fit]");break;case"original":he("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Te=""+Me;Te.substr(Te.length-1)==="%"&&(Me=parseInt(Me)/100),typeof Me=="number"&&he("/OpenAction [3 0 R /XYZ null null "+Q(Me)+"]")}switch(st||(st="continuous"),st){case"continuous":he("/PageLayout /OneColumn");break;case"single":he("/PageLayout /SinglePage");break;case"two":case"twoleft":he("/PageLayout /TwoColumnLeft");break;case"tworight":he("/PageLayout /TwoColumnRight")}Ve&&he("/PageMode /"+Ve),Dn.publish("putCatalog"),he(">>"),he("endobj")},xl=k.__private__.putTrailer=function(){he("trailer"),he("<<"),he("/Size "+(le+1)),he("/Root "+le+" 0 R"),he("/Info "+(le-1)+" 0 R"),b!==null&&he("/Encrypt "+no.oid+" 0 R"),he("/ID [ <"+ue+"> <"+ue+"> ]"),he(">>")},Qp=k.__private__.putHeader=function(){he("%PDF-"+x),he("%ÂºÃŸÂ¬Ã ")},gu=k.__private__.putXRef=function(){var z="0000000000";he("xref"),he("0 "+(le+1)),he("0000000000 65535 f ");for(var de=1;de<=le;de++)typeof Ie[de]=="function"?he((z+Ie[de]()).slice(-10)+" 00000 n "):Ie[de]!==void 0?he((z+Ie[de]).slice(-10)+" 00000 n "):he("0000000000 00000 n ")},cs=k.__private__.buildDocument=function(){X(),Ce(xe),Dn.publish("buildDocument"),Qp(),ca(),_c(),_l(),b!==null&&uo(),Kp(),ua();var z=Ne;return gu(),xl(),he("startxref"),he(""+z),he("%%EOF"),Ce(Ge[J]),xe.join(`
`)},bu=k.__private__.getBlob=function(z){return new Blob([pe(z)],{type:"application/pdf"})},Sl=k.output=k.__private__.output=Ts(function(z,de){switch(typeof(de=de||{})=="string"?de={filename:de}:de.filename=de.filename||"generated.pdf",z){case void 0:return cs();case"save":k.save(de.filename);break;case"arraybuffer":return pe(cs());case"blob":return bu(cs());case"bloburi":case"bloburl":if(ln.URL!==void 0&&typeof ln.URL.createObjectURL=="function")return ln.URL&&ln.URL.createObjectURL(bu(cs()))||void 0;Sr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Te="",Re=cs();try{Te=ZA(Re)}catch{Te=ZA(unescape(encodeURIComponent(Re)))}return"data:application/pdf;filename="+de.filename+";base64,"+Te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ln)==="[object Window]"){var Xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",dt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';de.pdfObjectUrl&&(Xe=de.pdfObjectUrl,dt="");var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Xe+'"'+dt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(de)+");<\/script></body></html>",jt=ln.open();return jt!==null&&jt.document.write(xt),jt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ln)==="[object Window]"){var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(de.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+de.filename+'" width="500px" height="400px" /></body></html>',dn=ln.open();if(dn!==null){dn.document.write(Gt);var cn=this;dn.document.documentElement.querySelector("#pdfViewer").onload=function(){dn.document.title=de.filename,dn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(cn.output("bloburl"))}}return dn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ln)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var In='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",de)+'"></iframe></body></html>',Er=ln.open();if(Er!==null&&(Er.document.write(In),Er.document.title=de.filename),Er||typeof safari>"u")return Er;break;case"datauri":case"dataurl":return ln.document.location.href=this.output("datauristring",de);default:return null}}),Ka=function(z){return Array.isArray(Ho)===!0&&Ho.indexOf(z)>-1};switch(o){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=Ka("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof o!="number")throw new Error("Invalid unit: "+o);ht=o}var no=null;_e(),se();var ef=function(z){return b!==null?no.encryptor(z,0):function(de){return de}},Cd=k.__private__.getPageInfo=k.getPageInfo=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:en[z].objId,pageNumber:z,pageContext:en[z]}},un=k.__private__.getPageInfoByObjId=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var de in en)if(en[de].objId===z)break;return Cd(de)},Jp=k.__private__.getCurrentPageInfo=k.getCurrentPageInfo=function(){return{objId:en[J].objId,pageNumber:J,pageContext:en[J]}};k.addPage=function(){return Zh.apply(this,arguments),this},k.setPage=function(){return Xh.apply(this,arguments),Ce.call(this,Ge[J]),this},k.insertPage=function(z){return this.addPage(),this.movePage(J,z),this},k.movePage=function(z,de){var Te,Re;if(z>de){Te=Ge[z],Re=en[z];for(var Xe=z;Xe>de;Xe--)Ge[Xe]=Ge[Xe-1],en[Xe]=en[Xe-1];Ge[de]=Te,en[de]=Re,this.setPage(de)}else if(z<de){Te=Ge[z],Re=en[z];for(var dt=z;dt<de;dt++)Ge[dt]=Ge[dt+1],en[dt]=en[dt+1];Ge[de]=Te,en[de]=Re,this.setPage(de)}return this},k.deletePage=function(){return Yp.apply(this,arguments),this},k.__private__.text=k.text=function(z,de,Te,Re,Xe){var dt,xt,jt,Gt,dn,cn,In,Er,Mr,Yr=(Re=Re||{}).scope||this;if(typeof z=="number"&&typeof de=="number"&&(typeof Te=="string"||Array.isArray(Te))){var Hi=Te;Te=de,de=z,z=Hi}if(arguments[3]instanceof Ht?(L("The transform parameter of text() with a Matrix value"),Mr=Xe):(jt=arguments[4],Gt=arguments[5],fr(In=arguments[3])==="object"&&In!==null||(typeof jt=="string"&&(Gt=jt,jt=null),typeof In=="string"&&(Gt=In,In=null),typeof In=="number"&&(jt=In,In=null),Re={flags:In,angle:jt,align:Gt})),isNaN(de)||isNaN(Te)||z==null)throw new Error("Invalid arguments passed to jsPDF.text");if(z.length===0)return Yr;var ki="",Ls=!1,Wo=typeof Re.lineHeightFactor=="number"?Re.lineHeightFactor:Ns,ma=Yr.internal.scaleFactor;function sf(qt){return qt=qt.split("	").join(Array(Re.TabLen||9).join(" ")),$i(qt,In)}function Md(qt){for(var Zn,Fr=qt.concat(),Qr=[],ya=Fr.length;ya--;)typeof(Zn=Fr.shift())=="string"?Qr.push(Zn):Array.isArray(qt)&&(Zn.length===1||Zn[1]===void 0&&Zn[2]===void 0)?Qr.push(Zn[0]):Qr.push([Zn[0],Zn[1],Zn[2]]);return Qr}function Rs(qt,Zn){var Fr;if(typeof qt=="string")Fr=Zn(qt)[0];else if(Array.isArray(qt)){for(var Qr,ya,Cr=qt.concat(),va=[],Ld=Cr.length;Ld--;)typeof(Qr=Cr.shift())=="string"?va.push(Zn(Qr)[0]):Array.isArray(Qr)&&typeof Qr[0]=="string"&&(ya=Zn(Qr[0],Qr[1],Qr[2]),va.push([ya[0],ya[1],ya[2]]));Fr=va}return Fr}var ga=!1,Pd=!0;if(typeof z=="string")ga=!0;else if(Array.isArray(z)){var Od=z.concat();xt=[];for(var Ja,wi=Od.length;wi--;)(typeof(Ja=Od.shift())!="string"||Array.isArray(Ja)&&typeof Ja[0]!="string")&&(Pd=!1);ga=Pd}if(ga===!1)throw new Error('Type of text must be string or Array. "'+z+'" is not recognized.');typeof z=="string"&&(z=z.match(/[\r?\n]/)?z.split(/\r\n|\r|\n/g):[z]);var Su=Oe/Yr.internal.scaleFactor,Eu=Su*(Wo-1);switch(Re.baseline){case"bottom":Te-=Eu;break;case"top":Te+=Su-Eu;break;case"hanging":Te+=Su-2*Eu;break;case"middle":Te+=Su/2-Eu}if((cn=Re.maxWidth||0)>0&&(typeof z=="string"?z=Yr.splitTextToSize(z,cn):Object.prototype.toString.call(z)==="[object Array]"&&(z=z.reduce(function(qt,Zn){return qt.concat(Yr.splitTextToSize(Zn,cn))},[]))),dt={text:z,x:de,y:Te,options:Re,mutex:{pdfEscape:$i,activeFontKey:_t,fonts:Bt,activeFontSize:Oe}},Dn.publish("preProcessText",dt),z=dt.text,jt=(Re=dt.options).angle,!(Mr instanceof Ht)&&jt&&typeof jt=="number"){jt*=Math.PI/180,Re.rotationDirection===0&&(jt=-jt),P===N.ADVANCED&&(jt=-jt);var Du=Math.cos(jt),Iu=Math.sin(jt);Mr=new Ht(Du,Iu,-Iu,Du,0,0)}else jt&&jt instanceof Ht&&(Mr=jt);P!==N.ADVANCED||Mr||(Mr=to),(dn=Re.charSpace||vu)!==void 0&&(ki+=M(F(dn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Er=Re.horizontalScale)!==void 0&&(ki+=M(100*Er)+` Tz
`),Re.lang;var ho=-1,nm=Re.renderingMode!==void 0?Re.renderingMode:Re.stroke,Tu=Yr.internal.getCurrentPageInfo().pageContext;switch(nm){case 0:case!1:case"fill":ho=0;break;case 1:case!0:case"stroke":ho=1;break;case 2:case"fillThenStroke":ho=2;break;case 3:case"invisible":ho=3;break;case 4:case"fillAndAddForClipping":ho=4;break;case 5:case"strokeAndAddPathForClipping":ho=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ho=6;break;case 7:case"addToPathForClipping":ho=7}var af=Tu.usedRenderingMode!==void 0?Tu.usedRenderingMode:-1;ho!==-1?ki+=ho+` Tr
`:af!==-1&&(ki+=`0 Tr
`),ho!==-1&&(Tu.usedRenderingMode=ho),Gt=Re.align||"left";var Go,Nu=Oe*Wo,jd=Yr.internal.pageSize.getWidth(),lf=Bt[_t];dn=Re.charSpace||vu,cn=Re.maxWidth||0,In=Object.assign({autoencode:!0,noBOM:!0},Re.flags);var Za=[],Mc=function(qt){return Yr.getStringUnitWidth(qt,{font:lf,charSpace:dn,fontSize:Oe,doKerning:!1})*Oe/ma};if(Object.prototype.toString.call(z)==="[object Array]"){var No;xt=Md(z),Gt!=="left"&&(Go=xt.map(Mc));var ro,Tl=0;if(Gt==="right"){de-=Go[0],z=[],wi=xt.length;for(var ba=0;ba<wi;ba++)ba===0?(ro=fa(de),No=Ps(Te)):(ro=F(Tl-Go[ba]),No=-Nu),z.push([xt[ba],ro,No]),Tl=Go[ba]}else if(Gt==="center"){de-=Go[0]/2,z=[],wi=xt.length;for(var ka=0;ka<wi;ka++)ka===0?(ro=fa(de),No=Ps(Te)):(ro=F((Tl-Go[ka])/2),No=-Nu),z.push([xt[ka],ro,No]),Tl=Go[ka]}else if(Gt==="left"){z=[],wi=xt.length;for(var Pc=0;Pc<wi;Pc++)z.push(xt[Pc])}else if(Gt==="justify"&&lf.encoding==="Identity-H"){z=[],wi=xt.length,cn=cn!==0?cn:jd;for(var jn=0,Pr=0;Pr<wi;Pr++)if(No=Pr===0?Ps(Te):-Nu,ro=Pr===0?fa(de):jn,Pr<wi-1){var Oc=F((cn-Go[Pr])/(xt[Pr].split(" ").length-1)),Kr=xt[Pr].split(" ");z.push([Kr[0]+" ",ro,No]),jn=0;for(var Yo=1;Yo<Kr.length;Yo++){var jc=(Mc(Kr[Yo-1]+" "+Kr[Yo])-Mc(Kr[Yo]))*ma+Oc;Yo==Kr.length-1?z.push([Kr[Yo],jc,0]):z.push([Kr[Yo]+" ",jc,0]),jn-=jc}}else z.push([xt[Pr],ro,No]);z.push(["",jn,0])}else{if(Gt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(z=[],wi=xt.length,cn=cn!==0?cn:jd,Pr=0;Pr<wi;Pr++)No=Pr===0?Ps(Te):-Nu,ro=Pr===0?fa(de):0,Pr<wi-1?Za.push(M(F((cn-Go[Pr])/(xt[Pr].split(" ").length-1)))):Za.push(0),z.push([xt[Pr],ro,No])}}var cf=typeof Re.R2L=="boolean"?Re.R2L:qe;cf===!0&&(z=Rs(z,function(qt,Zn,Fr){return[qt.split("").reverse().join(""),Zn,Fr]})),dt={text:z,x:de,y:Te,options:Re,mutex:{pdfEscape:$i,activeFontKey:_t,fonts:Bt,activeFontSize:Oe}},Dn.publish("postProcessText",dt),z=dt.text,Ls=dt.mutex.isHex||!1;var us=Bt[_t].encoding;us!=="WinAnsiEncoding"&&us!=="StandardEncoding"||(z=Rs(z,function(qt,Zn,Fr){return[sf(qt),Zn,Fr]})),xt=Md(z),z=[];for(var wa,Nl,yi,Lc=0,Rc=1,Ml=Array.isArray(xt[0])?Rc:Lc,rr="",Pl=function(qt,Zn,Fr){var Qr="";return Fr instanceof Ht?(Fr=typeof Re.angle=="number"?zi(Fr,new Ht(1,0,0,1,qt,Zn)):zi(new Ht(1,0,0,1,qt,Zn),Fr),P===N.ADVANCED&&(Fr=zi(new Ht(1,0,0,-1,0,0),Fr)),Qr=Fr.join(" ")+` Tm
`):Qr=M(qt)+" "+M(Zn)+` Td
`,Qr},Ko=0;Ko<xt.length;Ko++){switch(rr="",Ml){case Rc:yi=(Ls?"<":"(")+xt[Ko][0]+(Ls?">":")"),wa=parseFloat(xt[Ko][1]),Nl=parseFloat(xt[Ko][2]);break;case Lc:yi=(Ls?"<":"(")+xt[Ko]+(Ls?">":")"),wa=fa(de),Nl=Ps(Te)}Za!==void 0&&Za[Ko]!==void 0&&(rr=Za[Ko]+` Tw
`),Ko===0?z.push(rr+Pl(wa,Nl,Mr)+yi):Ml===Lc?z.push(rr+yi):Ml===Rc&&z.push(rr+Pl(wa,Nl,Mr)+yi)}z=Ml===Lc?z.join(` Tj
T* `):z.join(` Tj
`),z+=` Tj
`;var Qo=`BT
/`;return Qo+=_t+" "+Oe+` Tf
`,Qo+=M(Oe*Wo)+` TL
`,Qo+=js+`
`,Qo+=ki,Qo+=z,he(Qo+="ET"),v[_t]=!0,Yr};var ku=k.__private__.clip=k.clip=function(z){return he(z==="evenodd"?"W*":"W"),this};k.clipEvenOdd=function(){return ku("evenodd")},k.__private__.discardPath=k.discardPath=function(){return he("n"),this};var da=k.__private__.isValidStyle=function(z){var de=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(z)!==-1&&(de=!0),de};k.__private__.setDefaultPathOperation=k.setDefaultPathOperation=function(z){return da(z)&&(g=z),this};var xd=k.__private__.getStyle=k.getStyle=function(z){var de=g;switch(z){case"D":case"S":de="S";break;case"F":de="f";break;case"FD":case"DF":de="B";break;case"f":case"f*":case"B":case"B*":de=z}return de},Sd=k.close=function(){return he("h"),this};k.stroke=function(){return he("S"),this},k.fill=function(z){return Sc("f",z),this},k.fillEvenOdd=function(z){return Sc("f*",z),this},k.fillStroke=function(z){return Sc("B",z),this},k.fillStrokeEvenOdd=function(z){return Sc("B*",z),this};var Sc=function(z,de){fr(de)==="object"?wu(de,z):he(z)},Qa=function(z){z===null||P===N.ADVANCED&&z===void 0||(z=xd(z),he(z))};function Zp(z,de,Te,Re,Xe){var dt=new cp(de||this.boundingBox,Te||this.xStep,Re||this.yStep,this.gState,Xe||this.matrix);dt.stream=this.stream;var xt=z+"$$"+this.cloneIndex+++"$$";return oi(xt,dt),dt}var wu=function(z,de){var Te=En[z.key],Re=gn[Te];if(Re instanceof bh)he("q"),he(Ed(de)),Re.gState&&k.setGState(Re.gState),he(z.matrix.toString()+" cm"),he("/"+Te+" sh"),he("Q");else if(Re instanceof cp){var Xe=new Ht(1,0,0,-1,0,Il());z.matrix&&(Xe=Xe.multiply(z.matrix||to),Te=Zp.call(Re,z.key,z.boundingBox,z.xStep,z.yStep,Xe).id),he("q"),he("/Pattern cs"),he("/"+Te+" scn"),Re.gState&&k.setGState(Re.gState),he(de),he("Q")}},Ed=function(z){switch(z){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Jn=k.moveTo=function(z,de){return he(M(F(z))+" "+M(R(de))+" m"),this},Ec=k.lineTo=function(z,de){return he(M(F(z))+" "+M(R(de))+" l"),this},ha=k.curveTo=function(z,de,Te,Re,Xe,dt){return he([M(F(z)),M(R(de)),M(F(Te)),M(R(Re)),M(F(Xe)),M(R(dt)),"c"].join(" ")),this};k.__private__.line=k.line=function(z,de,Te,Re,Xe){if(isNaN(z)||isNaN(de)||isNaN(Te)||isNaN(Re)||!da(Xe))throw new Error("Invalid arguments passed to jsPDF.line");return P===N.COMPAT?this.lines([[Te-z,Re-de]],z,de,[1,1],Xe||"S"):this.lines([[Te-z,Re-de]],z,de,[1,1]).stroke()},k.__private__.lines=k.lines=function(z,de,Te,Re,Xe,dt){var xt,jt,Gt,dn,cn,In,Er,Mr,Yr,Hi,ki,Ls;if(typeof z=="number"&&(Ls=Te,Te=de,de=z,z=Ls),Re=Re||[1,1],dt=dt||!1,isNaN(de)||isNaN(Te)||!Array.isArray(z)||!Array.isArray(Re)||!da(Xe)||typeof dt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Jn(de,Te),xt=Re[0],jt=Re[1],dn=z.length,Hi=de,ki=Te,Gt=0;Gt<dn;Gt++)(cn=z[Gt]).length===2?(Hi=cn[0]*xt+Hi,ki=cn[1]*jt+ki,Ec(Hi,ki)):(In=cn[0]*xt+Hi,Er=cn[1]*jt+ki,Mr=cn[2]*xt+Hi,Yr=cn[3]*jt+ki,Hi=cn[4]*xt+Hi,ki=cn[5]*jt+ki,ha(In,Er,Mr,Yr,Hi,ki));return dt&&Sd(),Qa(Xe),this},k.path=function(z){for(var de=0;de<z.length;de++){var Te=z[de],Re=Te.c;switch(Te.op){case"m":Jn(Re[0],Re[1]);break;case"l":Ec(Re[0],Re[1]);break;case"c":ha.apply(this,Re);break;case"h":Sd()}}return this},k.__private__.rect=k.rect=function(z,de,Te,Re,Xe){if(isNaN(z)||isNaN(de)||isNaN(Te)||isNaN(Re)||!da(Xe))throw new Error("Invalid arguments passed to jsPDF.rect");return P===N.COMPAT&&(Re=-Re),he([M(F(z)),M(R(de)),M(F(Te)),M(F(Re)),"re"].join(" ")),Qa(Xe),this},k.__private__.triangle=k.triangle=function(z,de,Te,Re,Xe,dt,xt){if(isNaN(z)||isNaN(de)||isNaN(Te)||isNaN(Re)||isNaN(Xe)||isNaN(dt)||!da(xt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Te-z,Re-de],[Xe-Te,dt-Re],[z-Xe,de-dt]],z,de,[1,1],xt,!0),this},k.__private__.roundedRect=k.roundedRect=function(z,de,Te,Re,Xe,dt,xt){if(isNaN(z)||isNaN(de)||isNaN(Te)||isNaN(Re)||isNaN(Xe)||isNaN(dt)||!da(xt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var jt=4/3*(Math.SQRT2-1);return Xe=Math.min(Xe,.5*Te),dt=Math.min(dt,.5*Re),this.lines([[Te-2*Xe,0],[Xe*jt,0,Xe,dt-dt*jt,Xe,dt],[0,Re-2*dt],[0,dt*jt,-Xe*jt,dt,-Xe,dt],[2*Xe-Te,0],[-Xe*jt,0,-Xe,-dt*jt,-Xe,-dt],[0,2*dt-Re],[0,-dt*jt,Xe*jt,-dt,Xe,-dt]],z+Xe,de,[1,1],xt,!0),this},k.__private__.ellipse=k.ellipse=function(z,de,Te,Re,Xe){if(isNaN(z)||isNaN(de)||isNaN(Te)||isNaN(Re)||!da(Xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var dt=4/3*(Math.SQRT2-1)*Te,xt=4/3*(Math.SQRT2-1)*Re;return Jn(z+Te,de),ha(z+Te,de-xt,z+dt,de-Re,z,de-Re),ha(z-dt,de-Re,z-Te,de-xt,z-Te,de),ha(z-Te,de+xt,z-dt,de+Re,z,de+Re),ha(z+dt,de+Re,z+Te,de+xt,z+Te,de),Qa(Xe),this},k.__private__.circle=k.circle=function(z,de,Te,Re){if(isNaN(z)||isNaN(de)||isNaN(Te)||!da(Re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(z,de,Te,Te,Re)},k.setFont=function(z,de,Te){return Te&&(de=V(de,Te)),_t=xc(z,de,{disableWarning:!1}),this};var tf=k.__private__.getFont=k.getFont=function(){return Bt[xc.apply(k,arguments)]};k.__private__.getFontList=k.getFontList=function(){var z,de,Te={};for(z in zt)if(zt.hasOwnProperty(z))for(de in Te[z]=[],zt[z])zt[z].hasOwnProperty(de)&&Te[z].push(de);return Te},k.addFont=function(z,de,Te,Re,Xe){var dt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&dt.indexOf(arguments[3])!==-1?Xe=arguments[3]:arguments[3]&&dt.indexOf(arguments[3])==-1&&(Te=V(Te,Re)),Xe=Xe||"Identity-H",ls.call(this,z,de,Te,Xe)};var Ns,Dc=t.lineWidth||.200025,Ms=k.__private__.getLineWidth=k.getLineWidth=function(){return Dc},Dd=k.__private__.setLineWidth=k.setLineWidth=function(z){return Dc=z,he(M(F(z))+" w"),this};k.__private__.setLineDash=an.API.setLineDash=an.API.setLineDashPattern=function(z,de){if(z=z||[],de=de||0,isNaN(de)||!Array.isArray(z))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return z=z.map(function(Te){return M(F(Te))}).join(" "),de=M(F(de)),he("["+z+"] "+de+" d"),this};var yu=k.__private__.getLineHeight=k.getLineHeight=function(){return Oe*Ns};k.__private__.getLineHeight=k.getLineHeight=function(){return Oe*Ns};var nf=k.__private__.setLineHeightFactor=k.setLineHeightFactor=function(z){return typeof(z=z||1.15)=="number"&&(Ns=z),this},Id=k.__private__.getLineHeightFactor=k.getLineHeightFactor=function(){return Ns};nf(t.lineHeight);var fa=k.__private__.getHorizontalCoordinate=function(z){return F(z)},Ps=k.__private__.getVerticalCoordinate=function(z){return P===N.ADVANCED?z:en[J].mediaBox.topRightY-en[J].mediaBox.bottomLeftY-F(z)},Xp=k.__private__.getHorizontalCoordinateString=k.getHorizontalCoordinateString=function(z){return M(fa(z))},El=k.__private__.getVerticalCoordinateString=k.getVerticalCoordinateString=function(z){return M(Ps(z))},Os=t.strokeColor||"0 G";k.__private__.getStrokeColor=k.getDrawColor=function(){return Eo(Os)},k.__private__.setStrokeColor=k.setDrawColor=function(z,de,Te,Re){return Os=Do({ch1:z,ch2:de,ch3:Te,ch4:Re,pdfColorType:"draw",precision:2}),he(Os),this};var Dl=t.fillColor||"0 g";k.__private__.getFillColor=k.getFillColor=function(){return Eo(Dl)},k.__private__.setFillColor=k.setFillColor=function(z,de,Te,Re){return Dl=Do({ch1:z,ch2:de,ch3:Te,ch4:Re,pdfColorType:"fill",precision:2}),he(Dl),this};var js=t.textColor||"0 g",em=k.__private__.getTextColor=k.getTextColor=function(){return Eo(js)};k.__private__.setTextColor=k.setTextColor=function(z,de,Te,Re){return js=Do({ch1:z,ch2:de,ch3:Te,ch4:Re,pdfColorType:"text",precision:3}),this};var vu=t.charSpace,tm=k.__private__.getCharSpace=k.getCharSpace=function(){return parseFloat(vu||0)};k.__private__.setCharSpace=k.setCharSpace=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vu=z,this};var Td=0;k.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},k.__private__.setLineCap=k.setLineCap=function(z){var de=k.CapJoinStyles[z];if(de===void 0)throw new Error("Line cap style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Td=de,he(de+" J"),this};var pa=0;k.__private__.setLineJoin=k.setLineJoin=function(z){var de=k.CapJoinStyles[z];if(de===void 0)throw new Error("Line join style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pa=de,he(de+" j"),this},k.__private__.setLineMiterLimit=k.__private__.setMiterLimit=k.setLineMiterLimit=k.setMiterLimit=function(z){if(z=z||0,isNaN(z))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return he(M(F(z))+" M"),this},k.GState=i1,k.setGState=function(z){(z=typeof z=="string"?Vn[Br[z]]:rf(null,z)).equals(Wr)||(he("/"+z.id+" gs"),Wr=z)};var rf=function(z,de){if(!z||!Br[z]){var Te=!1;for(var Re in Vn)if(Vn.hasOwnProperty(Re)&&Vn[Re].equals(de)){Te=!0;break}if(Te)de=Vn[Re];else{var Xe="GS"+(Object.keys(Vn).length+1).toString(10);Vn[Xe]=de,de.id=Xe}return z&&(Br[z]=de.id),Dn.publish("addGState",de),de}};k.addGState=function(z,de){return rf(z,de),this},k.saveGraphicsState=function(){return he("q"),Qt.push({key:_t,size:Oe,color:js}),this},k.restoreGraphicsState=function(){he("Q");var z=Qt.pop();return _t=z.key,Oe=z.size,js=z.color,Wr=null,this},k.setCurrentTransformationMatrix=function(z){return he(z.toString()+" cm"),this},k.comment=function(z){return he("#"+z),this};var Ic=function(z,de){var Te=z||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Te},set:function(dt){isNaN(dt)||(Te=parseFloat(dt))}});var Re=de||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(dt){isNaN(dt)||(Re=parseFloat(dt))}});var Xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Xe},set:function(dt){Xe=dt.toString()}}),this},Au=function(z,de,Te,Re){Ic.call(this,z,de),this.type="rect";var Xe=Te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Xe},set:function(xt){isNaN(xt)||(Xe=parseFloat(xt))}});var dt=Re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return dt},set:function(xt){isNaN(xt)||(dt=parseFloat(xt))}}),this},_u=function(){this.page=Bn,this.currentPage=J,this.pages=Ge.slice(0),this.pagesContext=en.slice(0),this.x=sn,this.y=pt,this.matrix=$t,this.width=Nc(J),this.height=Il(J),this.outputDestination=ze,this.id="",this.objectNumber=-1};_u.prototype.restore=function(){Bn=this.page,J=this.currentPage,en=this.pagesContext,Ge=this.pages,sn=this.x,pt=this.y,$t=this.matrix,Cu(J,this.width),xu(J,this.height),ze=this.outputDestination};var Nd=function(z,de,Te,Re,Xe){ii.push(new _u),Bn=J=0,Ge=[],sn=z,pt=de,$t=Xe,_d([Te,Re])},of=function(z){if(eo[z])ii.pop().restore();else{var de=new _u,Te="Xo"+(Object.keys(Nn).length+1).toString(10);de.id=Te,eo[z]=Te,Nn[Te]=de,Dn.publish("addFormObject",de),ii.pop().restore()}};for(var Tc in k.beginFormObject=function(z,de,Te,Re,Xe){return Nd(z,de,Te,Re,Xe),this},k.endFormObject=function(z){return of(z),this},k.doFormObject=function(z,de){var Te=Nn[eo[z]];return he("q"),he(de.toString()+" cm"),he("/"+Te.id+" Do"),he("Q"),this},k.getFormObject=function(z){var de=Nn[eo[z]];return{x:de.x,y:de.y,width:de.width,height:de.height,matrix:de.matrix}},k.save=function(z,de){return z=z||"generated.pdf",(de=de||{}).returnPromise=de.returnPromise||!1,de.returnPromise===!1?(ph(bu(cs()),z),typeof ph.unload=="function"&&ln.setTimeout&&setTimeout(ph.unload,911),this):new Promise(function(Te,Re){try{var Xe=ph(bu(cs()),z);typeof ph.unload=="function"&&ln.setTimeout&&setTimeout(ph.unload,911),Te(Xe)}catch(dt){Re(dt.message)}})},an.API)an.API.hasOwnProperty(Tc)&&(Tc==="events"&&an.API.events.length?function(z,de){var Te,Re,Xe;for(Xe=de.length-1;Xe!==-1;Xe--)Te=de[Xe][0],Re=de[Xe][1],z.subscribe.apply(z,[Te].concat(typeof Re=="function"?[Re]:Re))}(Dn,an.API.events):k[Tc]=an.API[Tc]);var Nc=k.getPageWidth=function(z){return(en[z=z||J].mediaBox.topRightX-en[z].mediaBox.bottomLeftX)/ht},Cu=k.setPageWidth=function(z,de){en[z].mediaBox.topRightX=de*ht+en[z].mediaBox.bottomLeftX},Il=k.getPageHeight=function(z){return(en[z=z||J].mediaBox.topRightY-en[z].mediaBox.bottomLeftY)/ht},xu=k.setPageHeight=function(z,de){en[z].mediaBox.topRightY=de*ht+en[z].mediaBox.bottomLeftY};return k.internal={pdfEscape:$i,getStyle:xd,getFont:tf,getFontSize:De,getCharSpace:tm,getTextColor:em,getLineHeight:yu,getLineHeightFactor:Id,getLineWidth:Ms,write:be,getHorizontalCoordinate:fa,getVerticalCoordinate:Ps,getCoordinateString:Xp,getVerticalCoordinateString:El,collections:{},newObject:_r,newAdditionalObject:ss,newObjectDeferred:Fn,newObjectDeferredBegin:Gr,getFilters:bi,putStream:Ui,events:Dn,scaleFactor:ht,pageSize:{getWidth:function(){return Nc(J)},setWidth:function(z){Cu(J,z)},getHeight:function(){return Il(J)},setHeight:function(z){xu(J,z)}},encryptionOptions:b,encryption:no,getEncryptor:ef,output:Sl,getNumberOfPages:Cl,pages:Ge,out:he,f2:Q,f3:H,getPageInfo:Cd,getPageInfoByObjId:un,getCurrentPageInfo:Jp,getPDFVersion:C,Point:Ic,Rectangle:Au,Matrix:Ht,hasHotfix:Ka},Object.defineProperty(k.internal.pageSize,"width",{get:function(){return Nc(J)},set:function(z){Cu(J,z)},enumerable:!0,configurable:!0}),Object.defineProperty(k.internal.pageSize,"height",{get:function(){return Il(J)},set:function(z){xu(J,z)},enumerable:!0,configurable:!0}),Jh.call(k,Ae),_t="F1",Zh(a,n),Dn.publish("initialized"),k}op.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},op.prototype.toHexString=function(t){return t.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},op.prototype.hexToBytes=function(t){for(var r=[],n=0;n<t.length;n+=2)r.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return r.join("")},op.prototype.processOwnerPassword=function(t,r){return e_(XA(r).substr(0,5),t)},op.prototype.encryptor=function(t,r){var n=XA(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&r,r>>8&255)).substr(0,10);return function(o){return e_(n,o)}},i1.prototype.equals=function(t){var r,n="id,objectNumber,equals";if(!t||fr(t)!==fr(this))return!1;var o=0;for(r in this)if(!(n.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!t.hasOwnProperty(r)||this[r]!==t[r])return!1;o++}for(r in t)t.hasOwnProperty(r)&&n.indexOf(r)<0&&o--;return o===0},an.API={events:[]},an.version="3.0.1";var mi=an.API,bC=1,Yh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yn=function(t){return t.toFixed(2)},Yu=function(t){return t.toFixed(5)};mi.__acroform__={};var Is=function(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t},ZT=function(t){return t*bC},Kl=function(t){var r=new vj,n=Vt.internal.getHeight(t)||0,o=Vt.internal.getWidth(t)||0;return r.BBox=[0,0,Number(yn(o)),Number(yn(n))],r},qte=mi.__acroform__.setBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<r},Vte=mi.__acroform__.clearBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<r)},$te=mi.__acroform__.getBit=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<r)==0?0:1},Ci=mi.__acroform__.getBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return $te(t,r-1)},xi=mi.__acroform__.setBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return qte(t,r-1)},Si=mi.__acroform__.clearBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Vte(t,r-1)},Hte=mi.__acroform__.calculateCoordinates=function(t,r){var n=r.internal.getHorizontalCoordinate,o=r.internal.getVerticalCoordinate,a=t[0],l=t[1],d=t[2],h=t[3],p={};return p.lowerLeft_X=n(a)||0,p.lowerLeft_Y=o(l+h)||0,p.upperRight_X=n(a+d)||0,p.upperRight_Y=o(l)||0,[Number(yn(p.lowerLeft_X)),Number(yn(p.lowerLeft_Y)),Number(yn(p.upperRight_X)),Number(yn(p.upperRight_Y))]},Wte=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var r=[],n=t._V||t.DV,o=t_(t,n),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(t.scope.__private__.encodeColorString(t.color)),r.push("/"+a+" "+yn(o.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC");var l=Kl(t);return l.scope=t.scope,l.stream=r.join(`
`),l}},t_=function(t,r){var n=t.fontSize===0?t.maxFontSize:t.fontSize,o={text:"",fontSize:""},a=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");a=t.multiline?a.map(function(H){return H.split(`
`)}):a.map(function(H){return[H]});var l=n,d=Vt.internal.getHeight(t)||0;d=d<0?-d:d;var h=Vt.internal.getWidth(t)||0;h=h<0?-h:h;var p=function(H,F,G){if(H+1<a.length){var R=F+" "+a[H+1][0];return tk(R,t,G).width<=h-4}return!1};l++;e:for(;l>0;){r="",l--;var g,b,y=tk("3",t,l).height,v=t.multiline?d-l:(d-y)/2,k=v+=2,x=0,C=0,D=0;if(l<=0){r=`(...) Tj
`,r+="% Width of Text: "+tk(r,t,l=12).width+", FieldWidth:"+h+`
`;break}for(var S="",N=0,P=0;P<a.length;P++)if(a.hasOwnProperty(P)){var B=!1;if(a[P].length!==1&&D!==a[P].length-1){if((y+2)*(N+2)+2>d)continue e;S+=a[P][D],B=!0,C=P,P--}else{S=(S+=a[P][D]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var $=parseInt(P),V=p($,S,l),M=P>=a.length-1;if(V&&!M){S+=" ",D=0;continue}if(V||M){if(M)C=$;else if(t.multiline&&(y+2)*(N+2)+2>d)continue e}else{if(!t.multiline||(y+2)*(N+2)+2>d)continue e;C=$}}for(var L="",q=x;q<=C;q++){var Q=a[q];if(t.multiline){if(q===C){L+=Q[D]+" ",D=(D+1)%Q.length;continue}if(q===x){L+=Q[Q.length-1]+" ";continue}}L+=Q[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,b=tk(L,t,l).width,t.textAlign){case"right":g=h-b-2;break;case"center":g=(h-b)/2;break;case"left":default:g=2}r+=yn(g)+" "+yn(k)+` Td
`,r+="("+Yh(L)+`) Tj
`,r+=-yn(g)+` 0 Td
`,k=-(l+2),b=0,x=B?C:C+1,N++,S=""}break}return o.text=r,o.fontSize=l,o},tk=function(t,r,n){var o=r.scope.internal.getFont(r.fontName,r.fontStyle),a=r.scope.getStringUnitWidth(t,{font:o,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:r.scope.getStringUnitWidth("3",{font:o,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},Gte={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Yte=function(t,r){var n={type:"reference",object:t};r.internal.getPageInfo(t.page).pageContext.annotations.find(function(o){return o.type===n.type&&o.object===n.object})===void 0&&r.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Kte=function(t,r){for(var n in t)if(t.hasOwnProperty(n)){var o=n,a=t[n];r.internal.newObjectDeferredBegin(a.objId,!0),fr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[o]}},Qte=function(t,r){if(r.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(bl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Gte)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");bC=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Aj,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var o=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];l.objId=void 0,l.hasAnnotation&&Yte(l,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(o,a){var l=!o;for(var d in o||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),o=o||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(o.hasOwnProperty(d)){var h=o[d],p=[],g=h.Rect;if(h.Rect&&(h.Rect=Hte(h.Rect,a)),a.internal.newObjectDeferredBegin(h.objId,!0),h.DA=Vt.createDefaultAppearanceStream(h),fr(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(p=h.getKeyValueListForStream()),h.Rect=g,h.hasAppearanceStream&&!h.appearanceStreamContent){var b=Wte(h);p.push({key:"AP",value:"<</N "+b+">>"}),a.internal.acroformPlugin.xForms.push(b)}if(h.appearanceStreamContent){var y="";for(var v in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(v)){var k=h.appearanceStreamContent[v];if(y+="/"+v+" ",y+="<<",Object.keys(k).length>=1||Array.isArray(k)){for(var d in k)if(k.hasOwnProperty(d)){var x=k[d];typeof x=="function"&&(x=x.call(a,h)),y+="/"+d+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=k)=="function"&&(x=x.call(a,h)),y+="/"+d+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);y+=">>"}p.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:p,objectId:h.objId}),a.internal.out("endobj")}l&&Kte(a.internal.acroformPlugin.xForms,a)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},yj=mi.__acroform__.arrayToPdfArray=function(t,r,n){var o=function(d){return d};if(Array.isArray(t)){for(var a="[",l=0;l<t.length;l++)switch(l!==0&&(a+=" "),fr(t[l])){case"boolean":case"number":case"object":a+=t[l].toString();break;case"string":t[l].substr(0,1)!=="/"?(r!==void 0&&n&&(o=n.internal.getEncryptor(r)),a+="("+Yh(o(t[l].toString()))+")"):a+=t[l].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$v=function(t,r,n){var o=function(a){return a};return r!==void 0&&n&&(o=n.internal.getEncryptor(r)),(t=t||"").toString(),t="("+Yh(o(t))+")"},uc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};uc.prototype.toString=function(){return this.objId+" 0 R"},uc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},uc.prototype.getKeyValueListForStream=function(){var t=[],r=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var n in r)if(Object.getOwnPropertyDescriptor(this,r[n]).configurable===!1){var o=r[n],a=this[o];a&&(Array.isArray(a)?t.push({key:o,value:yj(a,this.objId,this.scope)}):a instanceof uc?(a.scope=this.scope,t.push({key:o,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:o,value:a}))}return t};var vj=function(){uc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Is(vj,uc);var Aj=function(){uc.call(this);var t,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(o){return o};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Yh(n(t))+")"}},set:function(n){t=n}})};Is(Aj,uc);var bl=function t(){uc.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');r=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ci(r,3)},set:function(S){S?this.F=xi(r,3):this.F=Si(r,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');n=S}});var o=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(o.length!==0)return o},set:function(S){o=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[0])?0:o[0]},set:function(S){o[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[1])?0:o[1]},set:function(S){o[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[2])?0:o[2]},set:function(S){o[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[3])?0:o[3]},set:function(S){o[3]=S}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof o1)return;l="FieldObject"+t.FieldNum++}var S=function(N){return N};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Yh(S(l))+")"},set:function(S){l=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(S){l=S}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var p=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return p},set:function(S){p=S}});var g=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return g===void 0?50/bC:g},set:function(S){g=S}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(S){b=S}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof o1||this instanceof Ph))return $v(y,this.objId,this.scope)},set:function(S){S=S.toString(),y=S}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof ao?v:$v(v,this.objId,this.scope)},set:function(S){S=S.toString(),v=this instanceof ao?S:S.substr(0,1)==="("?Vf(S.substr(1,S.length-2)):Vf(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ao?Vf(v.substr(1,v.length-1)):v},set:function(S){S=S.toString(),v=this instanceof ao?"/"+S:S}});var k=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(k)return k},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(k)return this instanceof ao?k:$v(k,this.objId,this.scope)},set:function(S){S=S.toString(),k=this instanceof ao?S:S.substr(0,1)==="("?Vf(S.substr(1,S.length-2)):Vf(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ao?Vf(k.substr(1,k.length-1)):k},set:function(S){S=S.toString(),k=this instanceof ao?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(S){S=!!S,C=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(S){x=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,1)},set:function(S){S?this.Ff=xi(this.Ff,1):this.Ff=Si(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,2)},set:function(S){S?this.Ff=xi(this.Ff,2):this.Ff=Si(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,3)},set:function(S){S?this.Ff=xi(this.Ff,3):this.Ff=Si(this.Ff,3)}});var D=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(D!==null)return D},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');D=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(D){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:D=2;break;case"center":case 1:D=1;break;case"left":case 0:default:D=0}}})};Is(bl,uc);var fp=function(){bl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return yj(r,this.objId,this.scope)},set:function(n){var o,a;a=[],typeof(o=n)=="string"&&(a=function(l,d,h){h||(h=1);for(var p,g=[];p=d.exec(l);)g.push(p[h]);return g}(o,/\((.*?)\)/g)),r=a}}),this.getOptions=function(){return r},this.setOptions=function(n){r=n,this.sort&&r.sort()},this.addOption=function(n){n=(n=n||"").toString(),r.push(n),this.sort&&r.sort()},this.removeOption=function(n,o){for(o=o||!1,n=(n=n||"").toString();r.indexOf(n)!==-1&&(r.splice(r.indexOf(n),1),o!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,18)},set:function(n){n?this.Ff=xi(this.Ff,18):this.Ff=Si(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=xi(this.Ff,19):this.Ff=Si(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,20)},set:function(n){n?(this.Ff=xi(this.Ff,20),r.sort()):this.Ff=Si(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,22)},set:function(n){n?this.Ff=xi(this.Ff,22):this.Ff=Si(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,23)},set:function(n){n?this.Ff=xi(this.Ff,23):this.Ff=Si(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,27)},set:function(n){n?this.Ff=xi(this.Ff,27):this.Ff=Si(this.Ff,27)}}),this.hasAppearanceStream=!1};Is(fp,bl);var pp=function(){fp.call(this),this.fontName="helvetica",this.combo=!1};Is(pp,fp);var mp=function(){pp.call(this),this.combo=!0};Is(mp,pp);var _k=function(){mp.call(this),this.edit=!0};Is(_k,mp);var ao=function(){bl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,15)},set:function(n){n?this.Ff=xi(this.Ff,15):this.Ff=Si(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,16)},set:function(n){n?this.Ff=xi(this.Ff,16):this.Ff=Si(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,17)},set:function(n){n?this.Ff=xi(this.Ff,17):this.Ff=Si(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,26)},set:function(n){n?this.Ff=xi(this.Ff,26):this.Ff=Si(this.Ff,26)}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var o,a=[];for(o in a.push("<<"),r)a.push("/"+o+" ("+Yh(n(r[o]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){fr(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Is(ao,bl);var Ck=function(){ao.call(this),this.pushButton=!0};Is(Ck,ao);var gp=function(){ao.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r!==void 0?r:[]}})};Is(gp,ao);var o1=function(){var t,r;bl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(a){r=a}});var n,o={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(h){return h};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var l,d=[];for(l in d.push("<<"),o)d.push("/"+l+" ("+Yh(a(o[l]))+")");return d.push(">>"),d.join(`
`)},set:function(a){fr(a)==="object"&&(o=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return o.CA||""},set:function(a){typeof a=="string"&&(o.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Is(o1,bl),gp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var n=this.Kids[r];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},gp.prototype.createOption=function(t){var r=new o1;return r.Parent=this,r.optionName=t,this.Kids.push(r),Jte.call(this.scope,r),r};var xk=function(){ao.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Vt.CheckBox.createAppearanceStream()};Is(xk,ao);var Ph=function(){bl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,13)},set:function(r){r?this.Ff=xi(this.Ff,13):this.Ff=Si(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,21)},set:function(r){r?this.Ff=xi(this.Ff,21):this.Ff=Si(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,23)},set:function(r){r?this.Ff=xi(this.Ff,23):this.Ff=Si(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,24)},set:function(r){r?this.Ff=xi(this.Ff,24):this.Ff=Si(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,25)},set:function(r){r?this.Ff=xi(this.Ff,25):this.Ff=Si(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,26)},set:function(r){r?this.Ff=xi(this.Ff,26):this.Ff=Si(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){Number.isInteger(r)&&(t=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Is(Ph,bl);var Sk=function(){Ph.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,14)},set:function(t){t?this.Ff=xi(this.Ff,14):this.Ff=Si(this.Ff,14)}}),this.password=!0};Is(Sk,Ph);var Vt={CheckBox:{createAppearanceStream:function(){return{N:{On:Vt.CheckBox.YesNormal},D:{On:Vt.CheckBox.YesPushDown,Off:Vt.CheckBox.OffPushDown}}},YesPushDown:function(t){var r=Kl(t);r.scope=t.scope;var n=[],o=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),l=t_(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+yn(Vt.internal.getWidth(t))+" "+yn(Vt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+o+" "+yn(l.fontSize)+" Tf "+a),n.push("BT"),n.push(l.text),n.push("ET"),n.push("Q"),n.push("EMC"),r.stream=n.join(`
`),r},YesNormal:function(t){var r=Kl(t);r.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,o=t.scope.__private__.encodeColorString(t.color),a=[],l=Vt.internal.getHeight(t),d=Vt.internal.getWidth(t),h=t_(t,t.caption);return a.push("1 g"),a.push("0 0 "+yn(d)+" "+yn(l)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+yn(d-1)+" "+yn(l-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+yn(h.fontSize)+" Tf "+o),a.push(h.text),a.push("ET"),a.push("Q"),r.stream=a.join(`
`),r},OffPushDown:function(t){var r=Kl(t);r.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yn(Vt.internal.getWidth(t))+" "+yn(Vt.internal.getHeight(t))+" re"),n.push("f"),r.stream=n.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(t){var r={D:{Off:Vt.RadioButton.Circle.OffPushDown},N:{}};return r.N[t]=Vt.RadioButton.Circle.YesNormal,r.D[t]=Vt.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(t){var r=Kl(t);r.scope=t.scope;var n=[],o=Vt.internal.getWidth(t)<=Vt.internal.getHeight(t)?Vt.internal.getWidth(t)/4:Vt.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=Vt.internal.Bezier_C,l=Number((o*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Yu(Vt.internal.getWidth(t)/2)+" "+Yu(Vt.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),n.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),n.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),n.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(t){var r=Kl(t);r.scope=t.scope;var n=[],o=Vt.internal.getWidth(t)<=Vt.internal.getHeight(t)?Vt.internal.getWidth(t)/4:Vt.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),l=Number((a*Vt.internal.Bezier_C).toFixed(5)),d=Number((o*Vt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Yu(Vt.internal.getWidth(t)/2)+" "+Yu(Vt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),n.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),n.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),n.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Yu(Vt.internal.getWidth(t)/2)+" "+Yu(Vt.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+d+" "+d+" "+o+" 0 "+o+" c"),n.push("-"+d+" "+o+" -"+o+" "+d+" -"+o+" 0 c"),n.push("-"+o+" -"+d+" -"+d+" -"+o+" 0 -"+o+" c"),n.push(d+" -"+o+" "+o+" -"+d+" "+o+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},OffPushDown:function(t){var r=Kl(t);r.scope=t.scope;var n=[],o=Vt.internal.getWidth(t)<=Vt.internal.getHeight(t)?Vt.internal.getWidth(t)/4:Vt.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),l=Number((a*Vt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Yu(Vt.internal.getWidth(t)/2)+" "+Yu(Vt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),n.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),n.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),n.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r}},Cross:{createAppearanceStream:function(t){var r={D:{Off:Vt.RadioButton.Cross.OffPushDown},N:{}};return r.N[t]=Vt.RadioButton.Cross.YesNormal,r.D[t]=Vt.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(t){var r=Kl(t);r.scope=t.scope;var n=[],o=Vt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+yn(Vt.internal.getWidth(t)-2)+" "+yn(Vt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(yn(o.x1.x)+" "+yn(o.x1.y)+" m"),n.push(yn(o.x2.x)+" "+yn(o.x2.y)+" l"),n.push(yn(o.x4.x)+" "+yn(o.x4.y)+" m"),n.push(yn(o.x3.x)+" "+yn(o.x3.y)+" l"),n.push("s"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(t){var r=Kl(t);r.scope=t.scope;var n=Vt.internal.calculateCross(t),o=[];return o.push("0.749023 g"),o.push("0 0 "+yn(Vt.internal.getWidth(t))+" "+yn(Vt.internal.getHeight(t))+" re"),o.push("f"),o.push("q"),o.push("1 1 "+yn(Vt.internal.getWidth(t)-2)+" "+yn(Vt.internal.getHeight(t)-2)+" re"),o.push("W"),o.push("n"),o.push(yn(n.x1.x)+" "+yn(n.x1.y)+" m"),o.push(yn(n.x2.x)+" "+yn(n.x2.y)+" l"),o.push(yn(n.x4.x)+" "+yn(n.x4.y)+" m"),o.push(yn(n.x3.x)+" "+yn(n.x3.y)+" l"),o.push("s"),o.push("Q"),r.stream=o.join(`
`),r},OffPushDown:function(t){var r=Kl(t);r.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yn(Vt.internal.getWidth(t))+" "+yn(Vt.internal.getHeight(t))+" re"),n.push("f"),r.stream=n.join(`
`),r}}},createDefaultAppearanceStream:function(t){var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+r+" "+t.fontSize+" Tf "+n}};Vt.internal={Bezier_C:.551915024494,calculateCross:function(t){var r=Vt.internal.getWidth(t),n=Vt.internal.getHeight(t),o=Math.min(r,n);return{x1:{x:(r-o)/2,y:(n-o)/2+o},x2:{x:(r-o)/2+o,y:(n-o)/2},x3:{x:(r-o)/2,y:(n-o)/2},x4:{x:(r-o)/2+o,y:(n-o)/2+o}}}},Vt.internal.getWidth=function(t){var r=0;return fr(t)==="object"&&(r=ZT(t.Rect[2])),r},Vt.internal.getHeight=function(t){var r=0;return fr(t)==="object"&&(r=ZT(t.Rect[3])),r};var Jte=mi.addField=function(t){if(Qte(this,t),!(t instanceof bl))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=t).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};mi.AcroFormChoiceField=fp,mi.AcroFormListBox=pp,mi.AcroFormComboBox=mp,mi.AcroFormEditBox=_k,mi.AcroFormButton=ao,mi.AcroFormPushButton=Ck,mi.AcroFormRadioButton=gp,mi.AcroFormCheckBox=xk,mi.AcroFormTextField=Ph,mi.AcroFormPasswordField=Sk,mi.AcroFormAppearance=Vt,mi.AcroForm={ChoiceField:fp,ListBox:pp,ComboBox:mp,EditBox:_k,Button:ao,PushButton:Ck,RadioButton:gp,CheckBox:xk,TextField:Ph,PasswordField:Sk,Appearance:Vt},an.AcroForm={ChoiceField:fp,ListBox:pp,ComboBox:mp,EditBox:_k,Button:ao,PushButton:Ck,RadioButton:gp,CheckBox:xk,TextField:Ph,PasswordField:Sk,Appearance:Vt};an.AcroForm;function _j(t){return t.reduce(function(r,n,o){return r[n]=o,r},{})}(function(t){t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=t.__addimage__.getImageFileTypeByImageData=function(H,F){var G,R,ne,ue,ie,se=r;if((F=F||r)==="RGBA"||H.data!==void 0&&H.data instanceof Uint8ClampedArray&&"height"in H&&"width"in H)return"RGBA";if(V(H))for(ie in n)for(ne=n[ie],G=0;G<ne.length;G+=1){for(ue=!0,R=0;R<ne[G].length;R+=1)if(ne[G][R]!==void 0&&ne[G][R]!==H[R]){ue=!1;break}if(ue===!0){se=ie;break}}else for(ie in n)for(ne=n[ie],G=0;G<ne.length;G+=1){for(ue=!0,R=0;R<ne[G].length;R+=1)if(ne[G][R]!==void 0&&ne[G][R]!==H.charCodeAt(R)){ue=!1;break}if(ue===!0){se=ie;break}}return se===r&&F!==r&&(se=F),se},a=function H(F){for(var G=this.internal.write,R=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:F.width}),ue.push({key:"Height",value:F.height}),F.colorSpace===D.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===D.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var ie="",se=0,ye=F.transparency.length;se<ye;se++)ie+=F.transparency[se]+" "+F.transparency[se]+" ";ue.push({key:"Mask",value:"["+ie+"]"})}F.sMask!==void 0&&ue.push({key:"SMask",value:F.objectId+1+" 0 R"});var re=F.filter!==void 0?["/"+F.filter]:void 0;if(R({data:F.data,additionalKeyValues:ue,alreadyAppliedFilters:re,objectId:F.objectId}),G("endobj"),"sMask"in F&&F.sMask!==void 0){var _e="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,Z={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:_e,data:F.sMask};"filter"in F&&(Z.filter=F.filter),H.call(this,Z)}if(F.colorSpace===D.INDEXED){var J=this.internal.newObject();R({data:L(new Uint8Array(F.palette)),objectId:J}),G("endobj")}},l=function(){var H=this.internal.collections.addImage_images;for(var F in H)a.call(this,H[F])},d=function(){var H,F=this.internal.collections.addImage_images,G=this.internal.write;for(var R in F)G("/I"+(H=F[R]).index,H.objectId,"0","R")},h=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",d))},p=function(){var H=this.internal.collections.addImage_images;return h.call(this),H},g=function(){return Object.keys(this.internal.collections.addImage_images).length},b=function(H){return typeof t["process"+H.toUpperCase()]=="function"},y=function(H){return fr(H)==="object"&&H.nodeType===1},v=function(H,F){if(H.nodeName==="IMG"&&H.hasAttribute("src")){var G=""+H.getAttribute("src");if(G.indexOf("data:image/")===0)return vg(unescape(G).split("base64,").pop());var R=t.loadFile(G,!0);if(R!==void 0)return R}if(H.nodeName==="CANVAS"){if(H.width===0||H.height===0)throw new Error("Given canvas must have data. Canvas width: "+H.width+", height: "+H.height);var ne;switch(F){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;case"JPEG":case"JPG":default:ne="image/jpeg"}return vg(H.toDataURL(ne,1).split("base64,").pop())}},k=function(H){var F=this.internal.collections.addImage_images;if(F){for(var G in F)if(H===F[G].alias)return F[G]}},x=function(H,F,G){return H||F||(H=-96,F=-96),H<0&&(H=-1*G.width*72/H/this.internal.scaleFactor),F<0&&(F=-1*G.height*72/F/this.internal.scaleFactor),H===0&&(H=F*G.width/G.height),F===0&&(F=H*G.height/G.width),[H,F]},C=function(H,F,G,R,ne,ue){var ie=x.call(this,G,R,ne),se=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,re=p.call(this);if(G=ie[0],R=ie[1],re[ne.index]=ne,ue){ue*=Math.PI/180;var _e=Math.cos(ue),Z=Math.sin(ue),J=function(fe){return fe.toFixed(4)},ae=[J(_e),J(Z),J(-1*Z),J(_e),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,se(H),ye(F+R),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([se(G),"0","0",se(R),"0","0","cm"].join(" "))):this.internal.write([se(G),"0","0",se(R),se(H),ye(F+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},D=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=t.__addimage__.sHashCode=function(H){var F,G,R=0;if(typeof H=="string")for(G=H.length,F=0;F<G;F++)R=(R<<5)-R+H.charCodeAt(F),R|=0;else if(V(H))for(G=H.byteLength/2,F=0;F<G;F++)R=(R<<5)-R+H[F],R|=0;return R},P=t.__addimage__.validateStringAsBase64=function(H){(H=H||"").toString().trim();var F=!0;return H.length===0&&(F=!1),H.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(H.substr(0,H.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(H.substr(-2))===!1&&(F=!1),F},B=t.__addimage__.extractImageFromDataUrl=function(H){if(H==null||!(H=H.trim()).startsWith("data:"))return null;var F=H.indexOf(",");return F<0?null:H.substring(0,F).trim().endsWith("base64")?H.substring(F+1):null},$=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(H){return $()&&H instanceof ArrayBuffer};var V=t.__addimage__.isArrayBufferView=function(H){return $()&&typeof Uint32Array<"u"&&(H instanceof Int8Array||H instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&H instanceof Uint8ClampedArray||H instanceof Int16Array||H instanceof Uint16Array||H instanceof Int32Array||H instanceof Uint32Array||H instanceof Float32Array||H instanceof Float64Array)},M=t.__addimage__.binaryStringToUint8Array=function(H){for(var F=H.length,G=new Uint8Array(F),R=0;R<F;R++)G[R]=H.charCodeAt(R);return G},L=t.__addimage__.arrayBufferToBinaryString=function(H){for(var F="",G=V(H)?H:new Uint8Array(H),R=0;R<G.length;R+=8192)F+=String.fromCharCode.apply(null,G.subarray(R,R+8192));return F};t.addImage=function(){var H,F,G,R,ne,ue,ie,se,ye;if(typeof arguments[1]=="number"?(F=r,G=arguments[1],R=arguments[2],ne=arguments[3],ue=arguments[4],ie=arguments[5],se=arguments[6],ye=arguments[7]):(F=arguments[1],G=arguments[2],R=arguments[3],ne=arguments[4],ue=arguments[5],ie=arguments[6],se=arguments[7],ye=arguments[8]),fr(H=arguments[0])==="object"&&!y(H)&&"imageData"in H){var re=H;H=re.imageData,F=re.format||F||r,G=re.x||G||0,R=re.y||R||0,ne=re.w||re.width||ne,ue=re.h||re.height||ue,ie=re.alias||ie,se=re.compression||se,ye=re.rotation||re.angle||ye}var _e=this.internal.getFilters();if(se===void 0&&_e.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(G)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var Z=q.call(this,H,F,ie,se);return C.call(this,G,R,ne,ue,Z,ye),this};var q=function(H,F,G,R){var ne,ue,ie;if(typeof H=="string"&&o(H)===r){H=unescape(H);var se=Q(H,!1);(se!==""||(se=t.loadFile(H,!0))!==void 0)&&(H=se)}if(y(H)&&(H=v(H,F)),F=o(H,F),!b(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((ie=G)==null||ie.length===0)&&(G=function(ye){return typeof ye=="string"||V(ye)?N(ye):V(ye.data)?N(ye.data):null}(H)),(ne=k.call(this,G))||($()&&(H instanceof Uint8Array||F==="RGBA"||(ue=H,H=M(H))),ne=this["process"+F.toUpperCase()](H,g.call(this),G,function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in t.image_compression?ye:S.NONE}(R),ue)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},Q=t.__addimage__.convertBase64ToBinaryString=function(H,F){F=typeof F!="boolean"||F;var G,R="";if(typeof H=="string"){var ne;G=(ne=B(H))!==null&&ne!==void 0?ne:H;try{R=vg(G)}catch(ue){if(F)throw P(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};t.getImageProperties=function(H){var F,G,R="";if(y(H)&&(H=v(H)),typeof H=="string"&&o(H)===r&&((R=Q(H,!1))===""&&(R=t.loadFile(H)||""),H=R),G=o(H),!b(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(!$()||H instanceof Uint8Array||(H=M(H)),!(F=this["process"+G.toUpperCase()](H)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=G,F}})(an.API),function(t){var r=function(n){if(n!==void 0&&n!="")return!0};an.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var o,a,l,d=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,p=this.internal.getPageInfoByObjId(n.objId),g=n.pageContext.annotations,b=!1,y=0;y<g.length&&!b;y++)switch((o=g[y]).type){case"link":(r(o.options.url)||r(o.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(b!=0){this.internal.write("/Annots [");for(var v=0;v<g.length;v++){o=g[v];var k=this.internal.pdfEscape,x=this.internal.getEncryptor(n.objId);switch(o.type){case"reference":this.internal.write(" "+o.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),D=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(C.objId),N=o.title||"Note";l="<</Type /Annot /Subtype /Text "+(a="/Rect ["+d(o.bounds.x)+" "+h(o.bounds.y+o.bounds.h)+" "+d(o.bounds.x+o.bounds.w)+" "+h(o.bounds.y)+"] ")+"/Contents ("+k(S(o.contents))+")",l+=" /Popup "+D.objId+" 0 R",l+=" /P "+p.objId+" 0 R",l+=" /T ("+k(S(N))+") >>",C.content=l;var P=C.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+d(o.bounds.x+30)+" "+h(o.bounds.y+o.bounds.h)+" "+d(o.bounds.x+o.bounds.w+30)+" "+h(o.bounds.y)+"] ")+" /Parent "+P,o.open&&(l+=" /Open true"),l+=" >>",D.content=l,this.internal.write(C.objId,"0 R",D.objId,"0 R");break;case"freetext":a="/Rect ["+d(o.bounds.x)+" "+h(o.bounds.y)+" "+d(o.bounds.x+o.bounds.w)+" "+h(o.bounds.y+o.bounds.h)+"] ";var B=o.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+k(x(o.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(o.options.name){var $=this.annotations._nameMap[o.options.name];o.options.pageNumber=$.page,o.options.top=$.y}else o.options.top||(o.options.top=0);if(a="/Rect ["+o.finalBounds.x+" "+o.finalBounds.y+" "+o.finalBounds.w+" "+o.finalBounds.h+"] ",l="",o.options.url)l="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+k(x(o.options.url))+") >>";else if(o.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(o.options.pageNumber).objId+" 0 R",o.options.magFactor=o.options.magFactor||"XYZ",o.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+o.options.top+"]";break;case"FitV":o.options.left=o.options.left||0,l+=" /FitV "+o.options.left+"]";break;case"XYZ":default:var V=h(o.options.top);o.options.left=o.options.left||0,o.options.zoom===void 0&&(o.options.zoom=0),l+=" /XYZ "+o.options.left+" "+V+" "+o.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var o=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":o.pageContext.annotations.push(n)}},t.link=function(n,o,a,l,d){var h=this.internal.getCurrentPageInfo(),p=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:p(n),y:g(o),w:p(n+a),h:g(o+l)},options:d,type:"link"})},t.textWithLink=function(n,o,a,l){var d,h,p=this.getTextWidth(n),g=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){h=l.maxWidth;var b=this.splitTextToSize(n,h).length;d=Math.ceil(g*b)}else h=p,d=g;return this.text(n,o,a,l),a+=.2*g,l.align==="center"&&(o-=p/2),l.align==="right"&&(o-=p),this.link(o,a-g,h,d,l),p},t.getTextWidth=function(n){var o=this.internal.getFontSize();return this.getStringUnitWidth(n)*o/this.internal.scaleFactor}}(an.API),function(t){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},o={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var l=t.__arabicParser__.isInArabicSubstitutionA=function(C){return r[C.charCodeAt(0)]!==void 0},d=t.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},h=t.__arabicParser__.isArabicEndLetter=function(C){return d(C)&&l(C)&&r[C.charCodeAt(0)].length<=2},p=t.__arabicParser__.isArabicAlfLetter=function(C){return d(C)&&a.indexOf(C.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return d(C)&&l(C)&&r[C.charCodeAt(0)].length>=1};var g=t.__arabicParser__.arabicLetterHasFinalForm=function(C){return d(C)&&l(C)&&r[C.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(C){return d(C)&&l(C)&&r[C.charCodeAt(0)].length>=3};var b=t.__arabicParser__.arabicLetterHasMedialForm=function(C){return d(C)&&l(C)&&r[C.charCodeAt(0)].length==4},y=t.__arabicParser__.resolveLigatures=function(C){var D=0,S=n,N="",P=0;for(D=0;D<C.length;D+=1)S[C.charCodeAt(D)]!==void 0?(P++,typeof(S=S[C.charCodeAt(D)])=="number"&&(N+=String.fromCharCode(S),S=n,P=0),D===C.length-1&&(S=n,N+=C.charAt(D-(P-1)),D-=P-1,P=0)):(S=n,N+=C.charAt(D-P),D-=P,P=0);return N};t.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&o[C.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(C,D,S){return d(C)?l(C)===!1?-1:!g(C)||!d(D)&&!d(S)||!d(S)&&h(D)||h(C)&&!d(D)||h(C)&&p(D)||h(C)&&h(D)?0:b(C)&&d(D)&&!h(D)&&d(S)&&g(S)?3:h(C)||!d(S)?1:2:-1},k=function(C){var D=0,S=0,N=0,P="",B="",$="",V=(C=C||"").split("\\s+"),M=[];for(D=0;D<V.length;D+=1){for(M.push(""),S=0;S<V[D].length;S+=1)P=V[D][S],B=V[D][S-1],$=V[D][S+1],d(P)?(N=v(P,B,$),M[D]+=N!==-1?String.fromCharCode(r[P.charCodeAt(0)][N]):P):M[D]+=P;M[D]=y(M[D])}return M.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var C,D=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(D)){var N=0;for(S=[],N=0;N<D.length;N+=1)Array.isArray(D[N])?S.push([k(D[N][0]),D[N][1],D[N][2]]):S.push([k(D[N])]);C=S}else C=k(D);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};t.events.push(["preProcessText",x])}(an.API),an.API.autoPrint=function(t){var r;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})}return this},function(t){var r=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(h){n=h}});var o=150;Object.defineProperty(this,"width",{get:function(){return o},set:function(h){o=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=o+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(h){l=h}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(h){d=h}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(n,o){var a;if((n=n||"2d")!=="2d")return null;for(a in o)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=o[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])}(an.API),function(t){var r={left:0,top:0,bottom:0,right:0},n=!1,o=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var p=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return p},set:function(C){p=C}});var g=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return g},set:function(C){g=C}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(C){b=C}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(C){y=C}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(C){v=C}});var k=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return k},set:function(C){k=C}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(C){x=C}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(p){return o.call(this),this.internal.__cell__.headerFunction=typeof p=="function"?p:void 0,this},t.getTextDimensions=function(p,g){o.call(this);var b=(g=g||{}).fontSize||this.getFontSize(),y=g.font||this.getFont(),v=g.scaleFactor||this.internal.scaleFactor,k=0,x=0,C=0,D=this;if(!Array.isArray(p)&&typeof p!="string"){if(typeof p!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");p=String(p)}var S=g.maxWidth;S>0?typeof p=="string"?p=this.splitTextToSize(p,S):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(P,B){return P.concat(D.splitTextToSize(B,S))},[])):p=Array.isArray(p)?p:[p];for(var N=0;N<p.length;N++)k<(C=this.getStringUnitWidth(p[N],{font:y})*b)&&(k=C);return k!==0&&(x=p.length),{w:k/=v,h:Math.max((x*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){o.call(this),this.addPage();var p=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new l(p.left,p.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=t.cell=function(){var p;p=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),o.call(this);var g=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,y=this.internal.__cell__.margins||r,v=this.internal.__cell__.tableHeaderRow,k=this.internal.__cell__.printHeaders;return g.lineNumber!==void 0&&(g.lineNumber===p.lineNumber?(p.x=(g.x||0)+(g.width||0),p.y=g.y||0):g.y+g.height+p.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),p.y=y.top,k&&v&&(this.printHeaderRow(p.lineNumber,!0),p.y+=v[0].height)):p.y=g.y+g.height||p.y),p.text[0]!==void 0&&(this.rect(p.x,p.y,p.width,p.height,n===!0?"FD":void 0),p.align==="right"?this.text(p.text,p.x+p.width-b,p.y+b,{align:"right",baseline:"top"}):p.align==="center"?this.text(p.text,p.x+p.width/2,p.y+b,{align:"center",baseline:"top",maxWidth:p.width-b-b}):this.text(p.text,p.x+b,p.y+b,{align:"left",baseline:"top",maxWidth:p.width-b-b})),this.internal.__cell__.lastCell=p,this};t.table=function(p,g,b,y,v){if(o.call(this),!b)throw new Error("No data for PDF table.");var k,x,C,D,S=[],N=[],P=[],B={},$={},V=[],M=[],L=(v=v||{}).autoSize||!1,q=v.printHeaders!==!1,Q=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,H=v.margins||Object.assign({width:this.getPageWidth()},r),F=typeof v.padding=="number"?v.padding:3,G=v.headerBackgroundColor||"#c8c8c8",R=v.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=H,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=R,this.setFontSize(Q),y==null)N=S=Object.keys(b[0]),P=S.map(function(){return"left"});else if(Array.isArray(y)&&fr(y[0])==="object")for(S=y.map(function(re){return re.name}),N=y.map(function(re){return re.prompt||re.name||""}),P=y.map(function(re){return re.align||"left"}),k=0;k<y.length;k+=1)$[y[k].name]=y[k].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(N=S=y,P=S.map(function(){return"left"}));if(L||Array.isArray(y)&&typeof y[0]=="string")for(k=0;k<S.length;k+=1){for(B[D=S[k]]=b.map(function(re){return re[D]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(N[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=B[D],this.setFont(void 0,"normal"),C=0;C<x.length;C+=1)V.push(this.getTextDimensions(x[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$[D]=Math.max.apply(null,V)+F+F,V=[]}if(q){var ne={};for(k=0;k<S.length;k+=1)ne[S[k]]={},ne[S[k]].text=N[k],ne[S[k]].align=P[k];var ue=h.call(this,ne,$);M=S.map(function(re){return new l(p,g,$[re],ue,ne[re].text,void 0,ne[re].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var ie=y.reduce(function(re,_e){return re[_e.name]=_e.align,re},{});for(k=0;k<b.length;k+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:k,data:b[k]},this);var se=h.call(this,b[k],$);for(C=0;C<S.length;C+=1){var ye=b[k][S[C]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:k,col:C,data:ye},this),d.call(this,new l(p,g,$[S[C]],se,ye,k+2,ie[S[C]]))}}return this.internal.__cell__.table_x=p,this.internal.__cell__.table_y=g,this};var h=function(p,g){var b=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(p).map(function(k){var x=p[k];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,g[k]-b-b)},this).map(function(k){return this.getLineHeightFactor()*k.length*y/v+b+b},this).reduce(function(k,x){return Math.max(k,x)},0)};t.setTableHeaderRow=function(p){o.call(this),this.internal.__cell__.tableHeaderRow=p},t.printHeaderRow=function(p,g){if(o.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],k=0;k<this.internal.__cell__.tableHeaderRow.length;k+=1){b=this.internal.__cell__.tableHeaderRow[k].clone(),g&&(b.y=this.internal.__cell__.margins.top||0,v.push(b)),b.lineNumber=p;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,b),this.setTextColor(x)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),n=!1}}(an.API);var Cj={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},xj=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],n_=_j(xj),Sj=[100,200,300,400,500,600,700,800,900],Zte=_j(Sj);function r_(t){var r=t.family.replace(/"|'/g,"").toLowerCase(),n=function(l){return Cj[l=l||"normal"]?l:"normal"}(t.style),o=function(l){if(!l)return 400;if(typeof l=="number")return l>=100&&l<=900&&l%100==0?l:400;if(/^\d00$/.test(l))return parseInt(l);switch(l){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(l){return typeof n_[l=l||"normal"]=="number"?l:"normal"}(t.stretch);return{family:r,style:n,weight:o,stretch:a,src:t.src||[],ref:t.ref||{name:r,style:[a,n,o].join(" ")}}}function XT(t,r,n,o){var a;for(a=n;a>=0&&a<r.length;a+=o)if(t[r[a]])return t[r[a]];for(a=n;a>=0&&a<r.length;a-=o)if(t[r[a]])return t[r[a]]}var Xte={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},e6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function t6(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function ene(t,r,n){for(var o=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},Xte,n.genericFontFamilies||{}),l=null,d=null,h=0;h<r.length;++h)if(a[(l=r_(r[h])).family]&&(l.family=a[l.family]),t.hasOwnProperty(l.family)){d=t[l.family];break}if(!(d=d||t[o]))throw new Error("Could not find a font-family for the rule '"+t6(l)+"' and default family '"+o+"'.");if(d=function(p,g){if(g[p])return g[p];var b=n_[p],y=b<=n_.normal?-1:1,v=XT(g,xj,b,y);if(!v)throw new Error("Could not find a matching font-stretch value for "+p);return v}(l.stretch,d),d=function(p,g){if(g[p])return g[p];for(var b=Cj[p],y=0;y<b.length;++y)if(g[b[y]])return g[b[y]];throw new Error("Could not find a matching font-style for "+p)}(l.style,d),!(d=function(p,g){if(g[p])return g[p];if(p===400&&g[500])return g[500];if(p===500&&g[400])return g[400];var b=Zte[p],y=XT(g,Sj,b,p<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+p);return y}(l.weight,d)))throw new Error("Failed to resolve a font for the rule '"+t6(l)+"'.");return d}function n6(t){return t.trimLeft()}function tne(t,r){for(var n=0;n<t.length;){if(t.charAt(n)===r)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function nne(t){var r=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],t.substring(r[0].length)]}var nk,r6,i6,Hv=["times"];(function(t){var r,n,o,a,l,d,h,p,g,b=function(Z){return Z=Z||{},this.isStrokeTransparent=Z.isStrokeTransparent||!1,this.strokeOpacity=Z.strokeOpacity||1,this.strokeStyle=Z.strokeStyle||"#000000",this.fillStyle=Z.fillStyle||"#000000",this.isFillTransparent=Z.isFillTransparent||!1,this.fillOpacity=Z.fillOpacity||1,this.font=Z.font||"10px sans-serif",this.textBaseline=Z.textBaseline||"alphabetic",this.textAlign=Z.textAlign||"left",this.lineWidth=Z.lineWidth||1,this.lineJoin=Z.lineJoin||"miter",this.lineCap=Z.lineCap||"butt",this.path=Z.path||[],this.transform=Z.transform!==void 0?Z.transform.clone():new p,this.globalCompositeOperation=Z.globalCompositeOperation||"normal",this.globalAlpha=Z.globalAlpha||1,this.clip_path=Z.clip_path||[],this.currentPoint=Z.currentPoint||new d,this.miterLimit=Z.miterLimit||10,this.lastPoint=Z.lastPoint||new d,this.lineDashOffset=Z.lineDashOffset||0,this.lineDash=Z.lineDash||[],this.margin=Z.margin||[0,0,0,0],this.prevPageLastElemOffset=Z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Z.ignoreClearRect!="boolean"||Z.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new y(this),r=this.internal.f2,n=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,d=this.internal.Point,h=this.internal.Rectangle,p=this.internal.Matrix,g=new b}]);var y=function(Z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=Z;Object.defineProperty(this,"pdf",{get:function(){return J}});var ae=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ae},set:function(Ce){ae=!!Ce}});var fe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return fe},set:function(Ce){fe=!!Ce}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(Ce){isNaN(Ce)||(le=Ce)}});var Ie=0;Object.defineProperty(this,"posY",{get:function(){return Ie},set:function(Ce){isNaN(Ce)||(Ie=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return g.margin},set:function(Ce){var he;typeof Ce=="number"?he=[Ce,Ce,Ce,Ce]:((he=new Array(4))[0]=Ce[0],he[1]=Ce.length>=2?Ce[1]:he[0],he[2]=Ce.length>=3?Ce[2]:he[0],he[3]=Ce.length>=4?Ce[3]:he[1]),g.margin=he}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Ce){xe=Ce}});var Ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ne},set:function(Ce){Ne=Ce}});var Qe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Qe},set:function(Ce){Qe=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return g},set:function(Ce){Ce instanceof b&&(g=Ce)}}),Object.defineProperty(this,"path",{get:function(){return g.path},set:function(Ce){g.path=Ce}});var Ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ge},set:function(Ce){Ge=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var he;he=v(Ce),this.ctx.fillStyle=he.style,this.ctx.isFillTransparent=he.a===0,this.ctx.fillOpacity=he.a,this.pdf.setFillColor(he.r,he.g,he.b,{a:he.a}),this.pdf.setTextColor(he.r,he.g,he.b,{a:he.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var he=v(Ce);this.ctx.strokeStyle=he.style,this.ctx.isStrokeTransparent=he.a===0,this.ctx.strokeOpacity=he.a,he.a===0?this.pdf.setDrawColor(255,255,255):(he.a,this.pdf.setDrawColor(he.r,he.g,he.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var Je=null;function ze(Ce,he){if(Je===null){var be=function(pe){var Ae=[];return Object.keys(pe).forEach(function(Oe){pe[Oe].forEach(function(Me){var De=null;switch(Me){case"bold":De={family:Oe,weight:"bold"};break;case"italic":De={family:Oe,style:"italic"};break;case"bolditalic":De={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":De={family:Oe}}De!==null&&(De.ref={name:Oe,style:Me},Ae.push(De))})}),Ae}(Ce.getFontList());Je=function(pe){for(var Ae={},Oe=0;Oe<pe.length;++Oe){var Me=r_(pe[Oe]),De=Me.family,qe=Me.stretch,Ve=Me.style,He=Me.weight;Ae[De]=Ae[De]||{},Ae[De][qe]=Ae[De][qe]||{},Ae[De][qe][Ve]=Ae[De][qe][Ve]||{},Ae[De][qe][Ve][He]=Me}return Ae}(be.concat(he))}return Je}var X=null;Object.defineProperty(this,"fontFaces",{get:function(){return X},set:function(Ce){Je=null,X=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var he;if(this.ctx.font=Ce,(he=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var be=he[1];he[2];var pe=he[3],Ae=he[4];he[5];var Oe=he[6],Me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ae)[2];Ae=Math.floor(Me==="px"?parseFloat(Ae)*this.pdf.internal.scaleFactor:Me==="em"?parseFloat(Ae)*this.pdf.getFontSize():parseFloat(Ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ae);var De=function(Ze){var _t,ht,sn=[],pt=Ze.trim();if(pt==="")return Hv;if(pt in e6)return[e6[pt]];for(;pt!=="";){switch(ht=null,_t=(pt=n6(pt)).charAt(0)){case'"':case"'":ht=tne(pt.substring(1),_t);break;default:ht=nne(pt)}if(ht===null||(sn.push(ht[0]),(pt=n6(ht[1]))!==""&&pt.charAt(0)!==","))return Hv;pt=pt.replace(/^,/,"")}return sn}(Oe);if(this.fontFaces){var qe=ene(ze(this.pdf,this.fontFaces),De.map(function(Ze){return{family:Ze,stretch:"normal",weight:pe,style:be}}));this.pdf.setFont(qe.ref.name,qe.ref.style)}else{var Ve="";(pe==="bold"||parseInt(pe,10)>=700||be==="bold")&&(Ve="bold"),be==="italic"&&(Ve+="italic"),Ve.length===0&&(Ve="normal");for(var He="",st={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ue=0;Ue<De.length;Ue++){if(this.pdf.internal.getFont(De[Ue],Ve,{noFallback:!0,disableWarning:!0})!==void 0){He=De[Ue];break}if(Ve==="bolditalic"&&this.pdf.internal.getFont(De[Ue],"bold",{noFallback:!0,disableWarning:!0})!==void 0)He=De[Ue],Ve="bold";else if(this.pdf.internal.getFont(De[Ue],"normal",{noFallback:!0,disableWarning:!0})!==void 0){He=De[Ue],Ve="normal";break}}if(He===""){for(var Ke=0;Ke<De.length;Ke++)if(st[De[Ke]]){He=st[De[Ke]];break}}He=He===""?"Times":He,this.pdf.setFont(He,Ve)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,_e.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,_e.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};y.prototype.setLineDash=function(Z){this.lineDash=Z},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){B.call(this,"fill",!1)},y.prototype.stroke=function(){B.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(Z,J){if(isNaN(Z)||isNaN(J))throw Sr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ae=this.ctx.transform.applyToPoint(new d(Z,J));this.path.push({type:"mt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new d(Z,J)},y.prototype.closePath=function(){var Z=new d(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&fr(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){Z=new d(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(Z.x,Z.y)},y.prototype.lineTo=function(Z,J){if(isNaN(Z)||isNaN(J))throw Sr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ae=this.ctx.transform.applyToPoint(new d(Z,J));this.path.push({type:"lt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new d(ae.x,ae.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},y.prototype.quadraticCurveTo=function(Z,J,ae,fe){if(isNaN(ae)||isNaN(fe)||isNaN(Z)||isNaN(J))throw Sr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new d(ae,fe)),Ie=this.ctx.transform.applyToPoint(new d(Z,J));this.path.push({type:"qct",x1:Ie.x,y1:Ie.y,x:le.x,y:le.y}),this.ctx.lastPoint=new d(le.x,le.y)},y.prototype.bezierCurveTo=function(Z,J,ae,fe,le,Ie){if(isNaN(le)||isNaN(Ie)||isNaN(Z)||isNaN(J)||isNaN(ae)||isNaN(fe))throw Sr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new d(le,Ie)),Ne=this.ctx.transform.applyToPoint(new d(Z,J)),Qe=this.ctx.transform.applyToPoint(new d(ae,fe));this.path.push({type:"bct",x1:Ne.x,y1:Ne.y,x2:Qe.x,y2:Qe.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new d(xe.x,xe.y)},y.prototype.arc=function(Z,J,ae,fe,le,Ie){if(isNaN(Z)||isNaN(J)||isNaN(ae)||isNaN(fe)||isNaN(le))throw Sr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ie=!!Ie,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new d(Z,J));Z=xe.x,J=xe.y;var Ne=this.ctx.transform.applyToPoint(new d(0,ae)),Qe=this.ctx.transform.applyToPoint(new d(0,0));ae=Math.sqrt(Math.pow(Ne.x-Qe.x,2)+Math.pow(Ne.y-Qe.y,2))}Math.abs(le-fe)>=2*Math.PI&&(fe=0,le=2*Math.PI),this.path.push({type:"arc",x:Z,y:J,radius:ae,startAngle:fe,endAngle:le,counterclockwise:Ie})},y.prototype.arcTo=function(Z,J,ae,fe,le){throw new Error("arcTo not implemented.")},y.prototype.rect=function(Z,J,ae,fe){if(isNaN(Z)||isNaN(J)||isNaN(ae)||isNaN(fe))throw Sr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Z,J),this.lineTo(Z+ae,J),this.lineTo(Z+ae,J+fe),this.lineTo(Z,J+fe),this.lineTo(Z,J),this.lineTo(Z+ae,J),this.lineTo(Z,J)},y.prototype.fillRect=function(Z,J,ae,fe){if(isNaN(Z)||isNaN(J)||isNaN(ae)||isNaN(fe))throw Sr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!k.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Z,J,ae,fe),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},y.prototype.strokeRect=function(Z,J,ae,fe){if(isNaN(Z)||isNaN(J)||isNaN(ae)||isNaN(fe))throw Sr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(Z,J,ae,fe),this.stroke())},y.prototype.clearRect=function(Z,J,ae,fe){if(isNaN(Z)||isNaN(J)||isNaN(ae)||isNaN(fe))throw Sr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Z,J,ae,fe))},y.prototype.save=function(Z){Z=typeof Z!="boolean"||Z;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),Z){this.ctx.fontSize=this.pdf.internal.getFontSize();var fe=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=fe}},y.prototype.restore=function(Z){Z=typeof Z!="boolean"||Z;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("Q");this.pdf.setPage(J),Z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(Z){var J,ae,fe,le;if(Z.isCanvasGradient===!0&&(Z=Z.getColor()),!Z)return{r:0,g:0,b:0,a:0,style:Z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Z))J=0,ae=0,fe=0,le=0;else{var Ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Z);if(Ie!==null)J=parseInt(Ie[1]),ae=parseInt(Ie[2]),fe=parseInt(Ie[3]),le=1;else if((Ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Z))!==null)J=parseInt(Ie[1]),ae=parseInt(Ie[2]),fe=parseInt(Ie[3]),le=parseFloat(Ie[4]);else{if(le=1,typeof Z=="string"&&Z.charAt(0)!=="#"){var xe=new bj(Z);Z=xe.ok?xe.toHex():"#000000"}Z.length===4?(J=Z.substring(1,2),J+=J,ae=Z.substring(2,3),ae+=ae,fe=Z.substring(3,4),fe+=fe):(J=Z.substring(1,3),ae=Z.substring(3,5),fe=Z.substring(5,7)),J=parseInt(J,16),ae=parseInt(ae,16),fe=parseInt(fe,16)}}return{r:J,g:ae,b:fe,a:le,style:Z}},k=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(Z,J,ae,fe){if(isNaN(J)||isNaN(ae)||typeof Z!="string")throw Sr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(fe=isNaN(fe)?void 0:fe,!k.call(this)){var le=se(this.ctx.transform.rotation),Ie=this.ctx.transform.scaleX;F.call(this,{text:Z,x:J,y:ae,scale:Ie,angle:le,align:this.textAlign,maxWidth:fe})}},y.prototype.strokeText=function(Z,J,ae,fe){if(isNaN(J)||isNaN(ae)||typeof Z!="string")throw Sr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){fe=isNaN(fe)?void 0:fe;var le=se(this.ctx.transform.rotation),Ie=this.ctx.transform.scaleX;F.call(this,{text:Z,x:J,y:ae,scale:Ie,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:fe})}},y.prototype.measureText=function(Z){if(typeof Z!="string")throw Sr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,ae=this.pdf.internal.scaleFactor,fe=J.internal.getFontSize(),le=J.getStringUnitWidth(Z)*fe/J.internal.scaleFactor,Ie=function(xe){var Ne=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this};return new Ie({width:le*=Math.round(96*ae/72*1e4)/1e4})},y.prototype.scale=function(Z,J){if(isNaN(Z)||isNaN(J))throw Sr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ae=new p(Z,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},y.prototype.rotate=function(Z){if(isNaN(Z))throw Sr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new p(Math.cos(Z),Math.sin(Z),-Math.sin(Z),Math.cos(Z),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},y.prototype.translate=function(Z,J){if(isNaN(Z)||isNaN(J))throw Sr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ae=new p(1,0,0,1,Z,J);this.ctx.transform=this.ctx.transform.multiply(ae)},y.prototype.transform=function(Z,J,ae,fe,le,Ie){if(isNaN(Z)||isNaN(J)||isNaN(ae)||isNaN(fe)||isNaN(le)||isNaN(Ie))throw Sr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new p(Z,J,ae,fe,le,Ie);this.ctx.transform=this.ctx.transform.multiply(xe)},y.prototype.setTransform=function(Z,J,ae,fe,le,Ie){Z=isNaN(Z)?1:Z,J=isNaN(J)?0:J,ae=isNaN(ae)?0:ae,fe=isNaN(fe)?1:fe,le=isNaN(le)?0:le,Ie=isNaN(Ie)?0:Ie,this.ctx.transform=new p(Z,J,ae,fe,le,Ie)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(Z,J,ae,fe,le,Ie,xe,Ne,Qe){var Ge=this.pdf.getImageProperties(Z),Je=1,ze=1,X=1,Ce=1;fe!==void 0&&Ne!==void 0&&(X=Ne/fe,Ce=Qe/le,Je=Ge.width/fe*Ne/fe,ze=Ge.height/le*Qe/le),Ie===void 0&&(Ie=J,xe=ae,J=0,ae=0),fe!==void 0&&Ne===void 0&&(Ne=fe,Qe=le),fe===void 0&&Ne===void 0&&(Ne=Ge.width,Qe=Ge.height);for(var he,be=this.ctx.transform.decompose(),pe=se(be.rotate.shx),Ae=new p,Oe=(Ae=(Ae=(Ae=Ae.multiply(be.translate)).multiply(be.skew)).multiply(be.scale)).applyToRectangle(new h(Ie-J*X,xe-ae*Ce,fe*Je,le*ze)),Me=D.call(this,Oe),De=[],qe=0;qe<Me.length;qe+=1)De.indexOf(Me[qe])===-1&&De.push(Me[qe]);if(P(De),this.autoPaging)for(var Ve=De[0],He=De[De.length-1],st=Ve;st<He+1;st++){this.pdf.setPage(st);var Ue=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=st===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=st===1?0:Ze+(st-2)*_t;if(this.ctx.clip_path.length!==0){var sn=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(he,this.posX+this.margin[3],-ht+Ke+this.ctx.prevPageLastElemOffset),$.call(this,"fill",!0),this.path=sn}var pt=JSON.parse(JSON.stringify(Oe));pt=N([pt],this.posX+this.margin[3],-ht+Ke+this.ctx.prevPageLastElemOffset)[0];var $t=(st>Ve||st<He)&&C.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,_t,null).clip().discardPath()),this.pdf.addImage(Z,"JPEG",pt.x,pt.y,pt.w,pt.h,null,null,pe),$t&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Z,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,pe)};var D=function(Z,J,ae){var fe=[];J=J||this.pdf.internal.pageSize.width,ae=ae||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(Z.type){default:case"mt":case"lt":fe.push(Math.floor((Z.y+le)/ae)+1);break;case"arc":fe.push(Math.floor((Z.y+le-Z.radius)/ae)+1),fe.push(Math.floor((Z.y+le+Z.radius)/ae)+1);break;case"qct":var Ie=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Z.x1,Z.y1,Z.x,Z.y);fe.push(Math.floor((Ie.y+le)/ae)+1),fe.push(Math.floor((Ie.y+Ie.h+le)/ae)+1);break;case"bct":var xe=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Z.x1,Z.y1,Z.x2,Z.y2,Z.x,Z.y);fe.push(Math.floor((xe.y+le)/ae)+1),fe.push(Math.floor((xe.y+xe.h+le)/ae)+1);break;case"rect":fe.push(Math.floor((Z.y+le)/ae)+1),fe.push(Math.floor((Z.y+Z.h+le)/ae)+1)}for(var Ne=0;Ne<fe.length;Ne+=1)for(;this.pdf.internal.getNumberOfPages()<fe[Ne];)S.call(this);return fe},S=function(){var Z=this.fillStyle,J=this.strokeStyle,ae=this.font,fe=this.lineCap,le=this.lineWidth,Ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=Z,this.strokeStyle=J,this.font=ae,this.lineCap=fe,this.lineWidth=le,this.lineJoin=Ie},N=function(Z,J,ae){for(var fe=0;fe<Z.length;fe++)switch(Z[fe].type){case"bct":Z[fe].x2+=J,Z[fe].y2+=ae;case"qct":Z[fe].x1+=J,Z[fe].y1+=ae;case"mt":case"lt":case"arc":default:Z[fe].x+=J,Z[fe].y+=ae}return Z},P=function(Z){return Z.sort(function(J,ae){return J-ae})},B=function(Z,J){for(var ae,fe,le=this.fillStyle,Ie=this.strokeStyle,xe=this.lineCap,Ne=this.lineWidth,Qe=Math.abs(Ne*this.ctx.transform.scaleX),Ge=this.lineJoin,Je=JSON.parse(JSON.stringify(this.path)),ze=JSON.parse(JSON.stringify(this.path)),X=[],Ce=0;Ce<ze.length;Ce++)if(ze[Ce].x!==void 0)for(var he=D.call(this,ze[Ce]),be=0;be<he.length;be+=1)X.indexOf(he[be])===-1&&X.push(he[be]);for(var pe=0;pe<X.length;pe++)for(;this.pdf.internal.getNumberOfPages()<X[pe];)S.call(this);if(P(X),this.autoPaging)for(var Ae=X[0],Oe=X[X.length-1],Me=Ae;Me<Oe+1;Me++){this.pdf.setPage(Me),this.fillStyle=le,this.strokeStyle=Ie,this.lineCap=xe,this.lineWidth=Qe,this.lineJoin=Ge;var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qe=Me===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=Me===1?0:Ve+(Me-2)*He;if(this.ctx.clip_path.length!==0){var Ue=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(ae,this.posX+this.margin[3],-st+qe+this.ctx.prevPageLastElemOffset),$.call(this,Z,!0),this.path=Ue}if(fe=JSON.parse(JSON.stringify(Je)),this.path=N(fe,this.posX+this.margin[3],-st+qe+this.ctx.prevPageLastElemOffset),J===!1||Me===0){var Ke=(Me>Ae||Me<Oe)&&C.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,He,null).clip().discardPath()),$.call(this,Z,J),Ke&&this.pdf.restoreGraphicsState()}this.lineWidth=Ne}else this.lineWidth=Qe,$.call(this,Z,J),this.lineWidth=Ne;this.path=Je},$=function(Z,J){if((Z!=="stroke"||J||!x.call(this))&&(Z==="stroke"||J||!k.call(this))){for(var ae,fe,le=[],Ie=this.path,xe=0;xe<Ie.length;xe++){var Ne=Ie[xe];switch(Ne.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:Ne,deltas:[],abs:[]});break;case"lt":var Qe=le.length;if(Ie[xe-1]&&!isNaN(Ie[xe-1].x)&&(ae=[Ne.x-Ie[xe-1].x,Ne.y-Ie[xe-1].y],Qe>0)){for(;Qe>=0;Qe--)if(le[Qe-1].close!==!0&&le[Qe-1].begin!==!0){le[Qe-1].deltas.push(ae),le[Qe-1].abs.push(Ne);break}}break;case"bct":ae=[Ne.x1-Ie[xe-1].x,Ne.y1-Ie[xe-1].y,Ne.x2-Ie[xe-1].x,Ne.y2-Ie[xe-1].y,Ne.x-Ie[xe-1].x,Ne.y-Ie[xe-1].y],le[le.length-1].deltas.push(ae);break;case"qct":var Ge=Ie[xe-1].x+2/3*(Ne.x1-Ie[xe-1].x),Je=Ie[xe-1].y+2/3*(Ne.y1-Ie[xe-1].y),ze=Ne.x+2/3*(Ne.x1-Ne.x),X=Ne.y+2/3*(Ne.y1-Ne.y),Ce=Ne.x,he=Ne.y;ae=[Ge-Ie[xe-1].x,Je-Ie[xe-1].y,ze-Ie[xe-1].x,X-Ie[xe-1].y,Ce-Ie[xe-1].x,he-Ie[xe-1].y],le[le.length-1].deltas.push(ae);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(Ne)}}fe=J?null:Z==="stroke"?"stroke":"fill";for(var be=!1,pe=0;pe<le.length;pe++)if(le[pe].arc)for(var Ae=le[pe].abs,Oe=0;Oe<Ae.length;Oe++){var Me=Ae[Oe];Me.type==="arc"?L.call(this,Me.x,Me.y,Me.radius,Me.startAngle,Me.endAngle,Me.counterclockwise,void 0,J,!be):G.call(this,Me.x,Me.y),be=!0}else if(le[pe].close===!0)this.pdf.internal.out("h"),be=!1;else if(le[pe].begin!==!0){var De=le[pe].start.x,qe=le[pe].start.y;R.call(this,le[pe].deltas,De,qe),be=!0}fe&&q.call(this,fe),J&&Q.call(this)}},V=function(Z){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ae=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Z-ae;case"top":return Z+J-ae;case"hanging":return Z+J-2*ae;case"middle":return Z+J/2-ae;case"ideographic":return Z;case"alphabetic":default:return Z}},M=function(Z){return Z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var Z=function(){};return Z.colorStops=[],Z.addColorStop=function(J,ae){this.colorStops.push([J,ae])},Z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Z.isCanvasGradient=!0,Z},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(Z,J,ae,fe,le,Ie,xe,Ne,Qe){for(var Ge=ue.call(this,ae,fe,le,Ie),Je=0;Je<Ge.length;Je++){var ze=Ge[Je];Je===0&&(Qe?H.call(this,ze.x1+Z,ze.y1+J):G.call(this,ze.x1+Z,ze.y1+J)),ne.call(this,Z,J,ze.x2,ze.y2,ze.x3,ze.y3,ze.x4,ze.y4)}Ne?Q.call(this):q.call(this,xe)},q=function(Z){switch(Z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},H=function(Z,J){this.pdf.internal.out(n(Z)+" "+o(J)+" m")},F=function(Z){var J;switch(Z.align){case"right":case"end":J="right";break;case"center":J="center";break;case"left":case"start":default:J="left"}var ae=this.pdf.getTextDimensions(Z.text),fe=V.call(this,Z.y),le=M.call(this,fe)-ae.h,Ie=this.ctx.transform.applyToPoint(new d(Z.x,fe)),xe=this.ctx.transform.decompose(),Ne=new p;Ne=(Ne=(Ne=Ne.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var Qe,Ge,Je,ze=this.ctx.transform.applyToRectangle(new h(Z.x,fe,ae.w,ae.h)),X=Ne.applyToRectangle(new h(Z.x,le,ae.w,ae.h)),Ce=D.call(this,X),he=[],be=0;be<Ce.length;be+=1)he.indexOf(Ce[be])===-1&&he.push(Ce[be]);if(P(he),this.autoPaging)for(var pe=he[0],Ae=he[he.length-1],Oe=pe;Oe<Ae+1;Oe++){this.pdf.setPage(Oe);var Me=Oe===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[2],Ve=qe-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],st=He-this.margin[3],Ue=Oe===1?0:De+(Oe-2)*Ve;if(this.ctx.clip_path.length!==0){var Ke=this.path;Qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Qe,this.posX+this.margin[3],-1*Ue+Me),$.call(this,"fill",!0),this.path=Ke}var Ze=N([JSON.parse(JSON.stringify(X))],this.posX+this.margin[3],-Ue+Me+this.ctx.prevPageLastElemOffset)[0];Z.scale>=.01&&(Ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ge*Z.scale),Je=this.lineWidth,this.lineWidth=Je*Z.scale);var _t=this.autoPaging!=="text";if(_t||Ze.y+Ze.h<=qe){if(_t||Ze.y>=Me&&Ze.x<=He){var ht=_t?Z.text:this.pdf.splitTextToSize(Z.text,Z.maxWidth||He-Ze.x)[0],sn=N([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-Ue+Me+this.ctx.prevPageLastElemOffset)[0],pt=_t&&(Oe>pe||Oe<Ae)&&C.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Ve,null).clip().discardPath()),this.pdf.text(ht,sn.x,sn.y,{angle:Z.angle,align:J,renderingMode:Z.renderingMode}),pt&&this.pdf.restoreGraphicsState()}}else Ze.y<qe&&(this.ctx.prevPageLastElemOffset+=qe-Ze.y);Z.scale>=.01&&(this.pdf.setFontSize(Ge),this.lineWidth=Je)}else Z.scale>=.01&&(Ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ge*Z.scale),Je=this.lineWidth,this.lineWidth=Je*Z.scale),this.pdf.text(Z.text,Ie.x+this.posX,Ie.y+this.posY,{angle:Z.angle,align:J,renderingMode:Z.renderingMode,maxWidth:Z.maxWidth}),Z.scale>=.01&&(this.pdf.setFontSize(Ge),this.lineWidth=Je)},G=function(Z,J,ae,fe){ae=ae||0,fe=fe||0,this.pdf.internal.out(n(Z+ae)+" "+o(J+fe)+" l")},R=function(Z,J,ae){return this.pdf.lines(Z,J,ae,null,null)},ne=function(Z,J,ae,fe,le,Ie,xe,Ne){this.pdf.internal.out([r(a(ae+Z)),r(l(fe+J)),r(a(le+Z)),r(l(Ie+J)),r(a(xe+Z)),r(l(Ne+J)),"c"].join(" "))},ue=function(Z,J,ae,fe){for(var le=2*Math.PI,Ie=Math.PI/2;J>ae;)J-=le;var xe=Math.abs(ae-J);xe<le&&fe&&(xe=le-xe);for(var Ne=[],Qe=fe?-1:1,Ge=J;xe>1e-5;){var Je=Ge+Qe*Math.min(xe,Ie);Ne.push(ie.call(this,Z,Ge,Je)),xe-=Math.abs(Je-Ge),Ge=Je}return Ne},ie=function(Z,J,ae){var fe=(ae-J)/2,le=Z*Math.cos(fe),Ie=Z*Math.sin(fe),xe=le,Ne=-Ie,Qe=xe*xe+Ne*Ne,Ge=Qe+xe*le+Ne*Ie,Je=4/3*(Math.sqrt(2*Qe*Ge)-Ge)/(xe*Ie-Ne*le),ze=xe-Je*Ne,X=Ne+Je*xe,Ce=ze,he=-X,be=fe+J,pe=Math.cos(be),Ae=Math.sin(be);return{x1:Z*Math.cos(J),y1:Z*Math.sin(J),x2:ze*pe-X*Ae,y2:ze*Ae+X*pe,x3:Ce*pe-he*Ae,y3:Ce*Ae+he*pe,x4:Z*Math.cos(ae),y4:Z*Math.sin(ae)}},se=function(Z){return 180*Z/Math.PI},ye=function(Z,J,ae,fe,le,Ie){var xe=Z+.5*(ae-Z),Ne=J+.5*(fe-J),Qe=le+.5*(ae-le),Ge=Ie+.5*(fe-Ie),Je=Math.min(Z,le,xe,Qe),ze=Math.max(Z,le,xe,Qe),X=Math.min(J,Ie,Ne,Ge),Ce=Math.max(J,Ie,Ne,Ge);return new h(Je,X,ze-Je,Ce-X)},re=function(Z,J,ae,fe,le,Ie,xe,Ne){var Qe,Ge,Je,ze,X,Ce,he,be,pe,Ae,Oe,Me,De,qe,Ve=ae-Z,He=fe-J,st=le-ae,Ue=Ie-fe,Ke=xe-le,Ze=Ne-Ie;for(Ge=0;Ge<41;Ge++)pe=(he=(Je=Z+(Qe=Ge/40)*Ve)+Qe*((X=ae+Qe*st)-Je))+Qe*(X+Qe*(le+Qe*Ke-X)-he),Ae=(be=(ze=J+Qe*He)+Qe*((Ce=fe+Qe*Ue)-ze))+Qe*(Ce+Qe*(Ie+Qe*Ze-Ce)-be),Ge==0?(Oe=pe,Me=Ae,De=pe,qe=Ae):(Oe=Math.min(Oe,pe),Me=Math.min(Me,Ae),De=Math.max(De,pe),qe=Math.max(qe,Ae));return new h(Math.round(Oe),Math.round(Me),Math.round(De-Oe),Math.round(qe-Me))},_e=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Z,J,ae=(Z=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:Z,lineDashOffset:J}));this.prevLineDash!==ae&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ae)}}})(an.API),function(t){var r=function(l){var d,h,p,g,b,y,v,k,x,C;for(h=[],p=0,g=(l+=d="\0\0\0\0".slice(l.length%4||4)).length;g>p;p+=4)(b=(l.charCodeAt(p)<<24)+(l.charCodeAt(p+1)<<16)+(l.charCodeAt(p+2)<<8)+l.charCodeAt(p+3))!==0?(y=(b=((b=((b=((b=(b-(C=b%85))/85)-(x=b%85))/85)-(k=b%85))/85)-(v=b%85))/85)%85,h.push(y+33,v+33,k+33,x+33,C+33)):h.push(122);return function(D,S){for(var N=S;N>0;N--)D.pop()}(h,d.length),String.fromCharCode.apply(String,h)+"~>"},n=function(l){var d,h,p,g,b,y=String,v="length",k=255,x="charCodeAt",C="slice",D="replace";for(l[C](-2),l=l[C](0,-2)[D](/\s/g,"")[D]("z","!!!!!"),p=[],g=0,b=(l+=d="uuuuu"[C](l[v]%5||5))[v];b>g;g+=5)h=52200625*(l[x](g)-33)+614125*(l[x](g+1)-33)+7225*(l[x](g+2)-33)+85*(l[x](g+3)-33)+(l[x](g+4)-33),p.push(k&h>>24,k&h>>16,k&h>>8,k&h);return function(S,N){for(var P=N;P>0;P--)S.pop()}(p,d[v]),y.fromCharCode.apply(y,p)},o=function(l){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),d.test(l)===!1)return"";for(var h="",p=0;p<l.length;p+=2)h+=String.fromCharCode("0x"+(l[p]+l[p+1]));return h},a=function(l){for(var d=new Uint8Array(l.length),h=l.length;h--;)d[h]=l.charCodeAt(h);return l=(d=JA(d)).reduce(function(p,g){return p+String.fromCharCode(g)},"")};t.processDataByFilters=function(l,d){var h=0,p=l||"",g=[];for(typeof(d=d||[])=="string"&&(d=[d]),h=0;h<d.length;h+=1)switch(d[h]){case"ASCII85Decode":case"/ASCII85Decode":p=n(p),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=r(p),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=o(p),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=p.split("").map(function(b){return("0"+b.charCodeAt().toString(16)).slice(-2)}).join("")+">",g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=a(p),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[h]+'" is not implemented')}return{data:p,reverseChain:g.reverse().join(" ")}}}(an.API),function(t){t.loadFile=function(r,n,o){return function(a,l,d){l=l!==!1,d=typeof d=="function"?d:function(){};var h=void 0;try{h=function(p,g,b){var y=new XMLHttpRequest,v=0,k=function(x){var C=x.length,D=[],S=String.fromCharCode;for(v=0;v<C;v+=1)D.push(S(255&x.charCodeAt(v)));return D.join("")};if(y.open("GET",p,!g),y.overrideMimeType("text/plain; charset=x-user-defined"),g===!1&&(y.onload=function(){y.status===200?b(k(this.responseText)):b(void 0)}),y.send(null),g&&y.status===200)return k(y.responseText)}(a,l,d)}catch{}return h}(r,n,o)},t.loadImageFile=t.loadFile}(an.API),function(t){function r(){return(ln.html2canvas?Promise.resolve(ln.html2canvas):Ki(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function n(){return(ln.DOMPurify?Promise.resolve(ln.DOMPurify):Ki(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var o=function(d){var h=fr(d);return h==="undefined"?"undefined":h==="string"||d instanceof String?"string":h==="number"||d instanceof Number?"number":h==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":h==="object"?"object":"unknown"},a=function(d,h){var p=document.createElement(d);for(var g in h.className&&(p.className=h.className),h.innerHTML&&h.dompurify&&(p.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)p.style[g]=h.style[g];return p},l=function d(h){var p=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),g=d.convert(Promise.resolve(),p);return g=(g=g.setProgress(1,d,1,[d])).set(h)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(d,h){return d.__proto__=h||l.prototype,d},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(d,h){return this.then(function(){switch(h=h||function(p){switch(o(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(d)){case"string":return this.then(n).then(function(p){return this.set({src:a("div",{innerHTML:d,dompurify:p})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},l.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=function p(g,b){for(var y=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),v=g.firstChild;v;v=v.nextSibling)b!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||y.appendChild(p(v,b));return g.nodeType===1&&(g.nodeName==="CANVAS"?(y.width=g.width,y.height=g.height,y.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(y.value=g.value),y.addEventListener("load",function(){y.scrollTop=g.scrollTop,y.scrollLeft=g.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(r).then(function(h){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,h(this.prop.container,p)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(r).then(function(h){var p=this.opt.jsPDF,g=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=g,g)for(var v=0;v<g.length;++v){var k=g[v],x=k.src.find(function(C){return C.format==="truetype"});x&&p.addFont(x.url,k.ref.name,k.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,p.context2d.save(!0),h(this.prop.container,y)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(d,h,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(d,h):this.outputPdf(d,h)},l.prototype.outputPdf=function(d,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,h)})},l.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},l.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(d){if(o(d)!=="object")return this;var h=Object.keys(d||{}).map(function(p){if(p in l.template.prop)return function(){this.prop[p]=d[p]};switch(p){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[p]=d[p]}}},this);return this.then(function(){return this.thenList(h)})},l.prototype.get=function(d,h){return this.then(function(){var p=d in l.template.prop?this.prop[d]:this.opt[d];return h?h(p):p})},l.prototype.setMargin=function(d){return this.then(function(){switch(o(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},l.prototype.setPageSize=function(d){function h(p,g){return Math.floor(p*g/72*96)}return this.then(function(){(d=d||an.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:h(d.inner.width,d.k),height:h(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},l.prototype.setProgress=function(d,h,p,g){return d!=null&&(this.progress.val=d),h!=null&&(this.progress.state=h),p!=null&&(this.progress.n=p),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(d,h,p,g){return this.setProgress(d?this.progress.val+d:null,h||null,p?this.progress.n+p:null,g?this.progress.stack.concat(g):null)},l.prototype.then=function(d,h){var p=this;return this.thenCore(d,h,function(g,b){return p.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(y){return p.updateProgress(null,g),y}).then(g,b).then(function(y){return p.updateProgress(1),y})})},l.prototype.thenCore=function(d,h,p){p=p||Promise.prototype.then,d&&(d=d.bind(this)),h&&(h=h.bind(this));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:l.convert(Object.assign({},this),Promise.prototype),b=p.call(g,d,h);return l.convert(b,this.__proto__)},l.prototype.thenExternal=function(d,h){return Promise.prototype.then.call(this,d,h)},l.prototype.thenList=function(d){var h=this;return d.forEach(function(p){h=h.thenCore(p)}),h},l.prototype.catch=function(d){d&&(d=d.bind(this));var h=Promise.prototype.catch.call(this,d);return l.convert(h,this)},l.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},l.prototype.error=function(d){return this.then(function(){throw new Error(d)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,an.getPageSize=function(d,h,p){if(fr(d)==="object"){var g=d;d=g.orientation,h=g.unit||h,p=g.format||p}h=h||"mm",p=p||"a4",d=(""+(d||"P")).toLowerCase();var b,y=(""+p).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+h}var k,x=0,C=0;if(v.hasOwnProperty(y))x=v[y][1]/b,C=v[y][0]/b;else try{x=p[1],C=p[0]}catch{throw new Error("Invalid format: "+p)}if(d==="p"||d==="portrait")d="p",C>x&&(k=C,C=x,x=k);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",x>C&&(k=C,C=x,x=k)}return{width:C,height:x,unit:h,k:b,orientation:d}},t.html=function(d,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(r_):null;var p=new l(h);return h.worker?p:p.from(d).doCallback()}}(an.API),an.API.addJS=function(t){return i6=t,this.internal.events.subscribe("postPutResources",function(){nk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(nk+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+i6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){nk!==void 0&&r6!==void 0&&this.internal.out("/Names <</JavaScript "+nk+" 0 R>>")}),this},function(t){var r;t.events.push(["postPutResources",function(){var n=this,o=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),l=0;l<a.length;l++){var d=a[l],h=o.exec(d);if(h!=null){var p=h[1];n.internal.newObjectDeferredBegin(p,!1)}n.internal.write(d)}if(this.outline.createNamedDestinations){var g=this.internal.pages.length,b=[];for(l=0;l<g;l++){var y=n.internal.newObject();b.push(y);var v=n.internal.getPageInfo(l+1);n.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var k=n.internal.newObject();for(n.internal.write("<< /Names [ "),l=0;l<b.length;l++)n.internal.write("(page_"+(l+1)+")"+b[l]+" 0 R");n.internal.write(" ] >>","endobj"),r=n.internal.newObject(),n.internal.write("<< /Dests "+k+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+r+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(o,a,l){var d={title:a,options:l,children:[]};return o==null&&(o=this.root),o.children.push(d),d},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(o){o.id=n.internal.newObjectDeferred();for(var a=0;a<o.children.length;a++)this.genIds_r(o.children[a])},n.outline.renderRoot=function(o){this.objStart(o),this.line("/Type /Outlines"),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1]))),this.line("/Count "+this.count_r({count:0},o)),this.objEnd()},n.outline.renderItems=function(o){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<o.children.length;l++){var d=o.children[l];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(o)),l>0&&this.line("/Prev "+this.makeRef(o.children[l-1])),l<o.children.length-1&&this.line("/Next "+this.makeRef(o.children[l+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var h=this.count=this.count_r({count:0},d);if(h>0&&this.line("/Count "+h),d.options&&d.options.pageNumber){var p=n.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+p.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var g=0;g<o.children.length;g++)this.renderItems(o.children[g])},n.outline.line=function(o){this.ctx.val+=o+`\r
`},n.outline.makeRef=function(o){return o.id+" 0 R"},n.outline.makeString=function(o){return"("+n.internal.pdfEscape(o)+")"},n.outline.objStart=function(o){this.ctx.val+=`\r
`+o.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(o,a){for(var l=0;l<a.children.length;l++)o.count++,this.count_r(o,a.children[l]);return o.count}}])}(an.API),function(t){var r=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,o,a,l,d,h){var p,g=this.decode.DCT_DECODE,b=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=d||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(p=function(y){for(var v,k=256*y.charCodeAt(4)+y.charCodeAt(5),x=y.length,C={width:0,height:0,numcomponents:1},D=4;D<x;D+=2){if(D+=k,r.indexOf(y.charCodeAt(D+1))!==-1){v=256*y.charCodeAt(D+5)+y.charCodeAt(D+6),C={width:256*y.charCodeAt(D+7)+y.charCodeAt(D+8),height:v,numcomponents:y.charCodeAt(D+9)};break}k=256*y.charCodeAt(D+2)+y.charCodeAt(D+3)}return C}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}b={data:n,width:p.width,height:p.height,colorSpace:h,bitsPerComponent:8,filter:g,index:o,alias:a}}return b}}(an.API);var $f,rk,o6,s6,a6,rne=function(){var t,r,n;function o(l){var d,h,p,g,b,y,v,k,x,C,D,S,N,P;for(this.data=l,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(d=this.readUInt32(),x=(function(){var B,$;for($=[],B=0;B<4;++B)$.push(String.fromCharCode(this.data[this.pos++]));return $}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(d);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},b=this.readUInt16(),g=this.readUInt16()||100,y.delay=1e3*b/g,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,d-=4),l=(y!=null?y.data:void 0)||this.imgData,S=0;0<=d?S<d:S>d;0<=d?++S:--S)l.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(p=this.palette.length/3,this.transparency.indexed=this.read(d),this.transparency.indexed.length>p)throw new Error("More transparent colors than palette size");if((C=p-this.transparency.indexed.length)>0)for(N=0;0<=C?N<C:N>C;0<=C?++N:--N)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(d)[0];break;case 2:this.transparency.rgb=this.read(d)}break;case"tEXt":v=(D=this.read(d)).indexOf(0),k=String.fromCharCode.apply(String,D.slice(0,v)),this.text[k]=String.fromCharCode.apply(String,D.slice(v+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(P=this.colorType)===4||P===6,h=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*h,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=d}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}o.prototype.read=function(l){var d,h;for(h=[],d=0;0<=l?d<l:d>l;0<=l?++d:--d)h.push(this.data[this.pos++]);return h},o.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.decodePixels=function(l){var d=this.pixelBitlength/8,h=new Uint8Array(this.width*this.height*d),p=0,g=this;if(l==null&&(l=this.imgData),l.length===0)return new Uint8Array(0);function b(y,v,k,x){var C,D,S,N,P,B,$,V,M,L,q,Q,H,F,G,R,ne,ue,ie,se,ye,re=Math.ceil((g.width-y)/k),_e=Math.ceil((g.height-v)/x),Z=g.width==re&&g.height==_e;for(F=d*re,Q=Z?h:new Uint8Array(F*_e),B=l.length,H=0,D=0;H<_e&&p<B;){switch(l[p++]){case 0:for(N=ne=0;ne<F;N=ne+=1)Q[D++]=l[p++];break;case 1:for(N=ue=0;ue<F;N=ue+=1)C=l[p++],P=N<d?0:Q[D-d],Q[D++]=(C+P)%256;break;case 2:for(N=ie=0;ie<F;N=ie+=1)C=l[p++],S=(N-N%d)/d,G=H&&Q[(H-1)*F+S*d+N%d],Q[D++]=(G+C)%256;break;case 3:for(N=se=0;se<F;N=se+=1)C=l[p++],S=(N-N%d)/d,P=N<d?0:Q[D-d],G=H&&Q[(H-1)*F+S*d+N%d],Q[D++]=(C+Math.floor((P+G)/2))%256;break;case 4:for(N=ye=0;ye<F;N=ye+=1)C=l[p++],S=(N-N%d)/d,P=N<d?0:Q[D-d],H===0?G=R=0:(G=Q[(H-1)*F+S*d+N%d],R=S&&Q[(H-1)*F+(S-1)*d+N%d]),$=P+G-R,V=Math.abs($-P),L=Math.abs($-G),q=Math.abs($-R),M=V<=L&&V<=q?P:L<=q?G:R,Q[D++]=(C+M)%256;break;default:throw new Error("Invalid filter algorithm: "+l[p-1])}if(!Z){var J=((v+H*x)*g.width+y)*d,ae=H*F;for(N=0;N<re;N+=1){for(var fe=0;fe<d;fe+=1)h[J++]=Q[ae++];J+=(k-1)*d}}H++}}return l=jte(l),g.interlaceMethod==1?(b(0,0,8,8),b(4,0,8,8),b(0,4,4,8),b(2,0,4,4),b(0,2,2,4),b(1,0,2,2),b(0,1,1,2)):b(0,0,1,1),h},o.prototype.decodePalette=function(){var l,d,h,p,g,b,y,v,k;for(h=this.palette,b=this.transparency.indexed||[],g=new Uint8Array((b.length||0)+h.length),p=0,l=0,d=y=0,v=h.length;y<v;d=y+=3)g[p++]=h[d],g[p++]=h[d+1],g[p++]=h[d+2],g[p++]=(k=b[l++])!=null?k:255;return g},o.prototype.copyToImageData=function(l,d){var h,p,g,b,y,v,k,x,C,D,S;if(p=this.colors,C=null,h=this.hasAlphaChannel,this.palette.length&&(C=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),p=4,h=!0),x=(g=l.data||l).length,y=C||d,b=v=0,p===1)for(;b<x;)k=C?4*d[b/4]:v,D=y[k++],g[b++]=D,g[b++]=D,g[b++]=D,g[b++]=h?y[k++]:255,v=k;else for(;b<x;)k=C?4*d[b/4]:v,g[b++]=y[k++],g[b++]=y[k++],g[b++]=y[k++],g[b++]=h?y[k++]:255,v=k},o.prototype.decode=function(){var l;return l=new Uint8Array(this.width*this.height*4),this.copyToImageData(l,this.decodePixels()),l};var a=function(){if(Object.prototype.toString.call(ln)==="[object Window]"){try{r=ln.document.createElement("canvas"),n=r.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(l){var d;if(a()===!0)return n.width=l.width,n.height=l.height,n.clearRect(0,0,l.width,l.height),n.putImageData(l,0,0),(d=new Image).src=r.toDataURL(),d;throw new Error("This method requires a Browser with Canvas-capability.")},o.prototype.decodeFrames=function(l){var d,h,p,g,b,y,v,k;if(this.animation){for(k=[],h=b=0,y=(v=this.animation.frames).length;b<y;h=++b)d=v[h],p=l.createImageData(d.width,d.height),g=this.decodePixels(new Uint8Array(d.data)),this.copyToImageData(p,g),d.imageData=p,k.push(d.image=t(p));return k}},o.prototype.renderFrame=function(l,d){var h,p,g;return h=(p=this.animation.frames)[d],g=p[d-1],d===0&&l.clearRect(0,0,this.width,this.height),(g!=null?g.disposeOp:void 0)===1?l.clearRect(g.xOffset,g.yOffset,g.width,g.height):(g!=null?g.disposeOp:void 0)===2&&l.putImageData(g.imageData,g.xOffset,g.yOffset),h.blendOp===0&&l.clearRect(h.xOffset,h.yOffset,h.width,h.height),l.drawImage(h.image,h.xOffset,h.yOffset)},o.prototype.animate=function(l){var d,h,p,g,b,y,v=this;return h=0,y=this.animation,g=y.numFrames,p=y.frames,b=y.numPlays,(d=function(){var k,x;if(k=h++%g,x=p[k],v.renderFrame(l,k),g>1&&h/g<b)return v.animation._timeout=setTimeout(d,x.delay)})()},o.prototype.stopAnimation=function(){var l;return clearTimeout((l=this.animation)!=null?l._timeout:void 0)},o.prototype.render=function(l){var d,h;return l._png&&l._png.stopAnimation(),l._png=this,l.width=this.width,l.height=this.height,d=l.getContext("2d"),this.animation?(this.decodeFrames(d),this.animate(d)):(h=d.createImageData(this.width,this.height),this.copyToImageData(h,this.decodePixels()),d.putImageData(h,0,0))},o}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function ine(t){var r=0;if(t[r++]!==71||t[r++]!==73||t[r++]!==70||t[r++]!==56||(t[r++]+1&253)!=56||t[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[r++]|t[r++]<<8,o=t[r++]|t[r++]<<8,a=t[r++],l=a>>7,d=1<<(7&a)+1;t[r++],t[r++];var h=null,p=null;l&&(h=r,p=d,r+=3*d);var g=!0,b=[],y=0,v=null,k=0,x=null;for(this.width=n,this.height=o;g&&r<t.length;)switch(t[r++]){case 33:switch(t[r++]){case 255:if(t[r]!==11||t[r+1]==78&&t[r+2]==69&&t[r+3]==84&&t[r+4]==83&&t[r+5]==67&&t[r+6]==65&&t[r+7]==80&&t[r+8]==69&&t[r+9]==50&&t[r+10]==46&&t[r+11]==48&&t[r+12]==3&&t[r+13]==1&&t[r+16]==0)r+=14,x=t[r++]|t[r++]<<8,r++;else for(r+=12;;){if(!((H=t[r++])>=0))throw Error("Invalid block size");if(H===0)break;r+=H}break;case 249:if(t[r++]!==4||t[r+4]!==0)throw new Error("Invalid graphics extension block.");var C=t[r++];y=t[r++]|t[r++]<<8,v=t[r++],(1&C)==0&&(v=null),k=C>>2&7,r++;break;case 254:for(;;){if(!((H=t[r++])>=0))throw Error("Invalid block size");if(H===0)break;r+=H}break;default:throw new Error("Unknown graphic control label: 0x"+t[r-1].toString(16))}break;case 44:var D=t[r++]|t[r++]<<8,S=t[r++]|t[r++]<<8,N=t[r++]|t[r++]<<8,P=t[r++]|t[r++]<<8,B=t[r++],$=B>>6&1,V=1<<(7&B)+1,M=h,L=p,q=!1;B>>7&&(q=!0,M=r,L=V,r+=3*V);var Q=r;for(r++;;){var H;if(!((H=t[r++])>=0))throw Error("Invalid block size");if(H===0)break;r+=H}b.push({x:D,y:S,width:N,height:P,has_local_palette:q,palette_offset:M,palette_size:L,data_offset:Q,data_length:r-Q,transparent_index:v,interlaced:!!$,delay:y,disposal:k});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+t[r-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return x},this.frameInfo=function(F){if(F<0||F>=b.length)throw new Error("Frame index out of range.");return b[F]},this.decodeAndBlitFrameBGRA=function(F,G){var R=this.frameInfo(F),ne=R.width*R.height,ue=new Uint8Array(ne);l6(t,R.data_offset,ue,ne);var ie=R.palette_offset,se=R.transparent_index;se===null&&(se=256);var ye=R.width,re=n-ye,_e=ye,Z=4*(R.y*n+R.x),J=4*((R.y+R.height)*n+R.x),ae=Z,fe=4*re;R.interlaced===!0&&(fe+=4*n*7);for(var le=8,Ie=0,xe=ue.length;Ie<xe;++Ie){var Ne=ue[Ie];if(_e===0&&(_e=ye,(ae+=fe)>=J&&(fe=4*re+4*n*(le-1),ae=Z+(ye+re)*(le<<1),le>>=1)),Ne===se)ae+=4;else{var Qe=t[ie+3*Ne],Ge=t[ie+3*Ne+1],Je=t[ie+3*Ne+2];G[ae++]=Je,G[ae++]=Ge,G[ae++]=Qe,G[ae++]=255}--_e}},this.decodeAndBlitFrameRGBA=function(F,G){var R=this.frameInfo(F),ne=R.width*R.height,ue=new Uint8Array(ne);l6(t,R.data_offset,ue,ne);var ie=R.palette_offset,se=R.transparent_index;se===null&&(se=256);var ye=R.width,re=n-ye,_e=ye,Z=4*(R.y*n+R.x),J=4*((R.y+R.height)*n+R.x),ae=Z,fe=4*re;R.interlaced===!0&&(fe+=4*n*7);for(var le=8,Ie=0,xe=ue.length;Ie<xe;++Ie){var Ne=ue[Ie];if(_e===0&&(_e=ye,(ae+=fe)>=J&&(fe=4*re+4*n*(le-1),ae=Z+(ye+re)*(le<<1),le>>=1)),Ne===se)ae+=4;else{var Qe=t[ie+3*Ne],Ge=t[ie+3*Ne+1],Je=t[ie+3*Ne+2];G[ae++]=Qe,G[ae++]=Ge,G[ae++]=Je,G[ae++]=255}--_e}}}function l6(t,r,n,o){for(var a=t[r++],l=1<<a,d=l+1,h=d+1,p=a+1,g=(1<<p)-1,b=0,y=0,v=0,k=t[r++],x=new Int32Array(4096),C=null;;){for(;b<16&&k!==0;)y|=t[r++]<<b,b+=8,k===1?k=t[r++]:--k;if(b<p)break;var D=y&g;if(y>>=p,b-=p,D!==l){if(D===d)break;for(var S=D<h?D:C,N=0,P=S;P>l;)P=x[P]>>8,++N;var B=P;if(v+N+(S!==D?1:0)>o)return void Sr.log("Warning, gif stream longer than expected.");n[v++]=B;var $=v+=N;for(S!==D&&(n[v++]=B),P=S;N--;)P=x[P],n[--$]=255&P,P>>=8;C!==null&&h<4096&&(x[h++]=C<<8|B,h>=g+1&&p<12&&(++p,g=g<<1|1)),C=D}else h=d+1,g=(1<<(p=a+1))-1,C=null}return v!==o&&Sr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Wv(t){var r,n,o,a,l,d=Math.floor,h=new Array(64),p=new Array(64),g=new Array(64),b=new Array(64),y=new Array(65535),v=new Array(65535),k=new Array(64),x=new Array(64),C=[],D=0,S=7,N=new Array(64),P=new Array(64),B=new Array(64),$=new Array(256),V=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],H=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(Z,J){for(var ae=0,fe=0,le=new Array,Ie=1;Ie<=16;Ie++){for(var xe=1;xe<=Z[Ie];xe++)le[J[fe]]=[],le[J[fe]][0]=ae,le[J[fe]][1]=Ie,fe++,ae++;ae*=2}return le}function ie(Z){for(var J=Z[0],ae=Z[1]-1;ae>=0;)J&1<<ae&&(D|=1<<S),ae--,--S<0&&(D==255?(se(255),se(0)):se(D),S=7,D=0)}function se(Z){C.push(Z)}function ye(Z){se(Z>>8&255),se(255&Z)}function re(Z,J,ae,fe,le){for(var Ie,xe=le[0],Ne=le[240],Qe=function(Ae,Oe){var Me,De,qe,Ve,He,st,Ue,Ke,Ze,_t,ht=0;for(Ze=0;Ze<8;++Ze){Me=Ae[ht],De=Ae[ht+1],qe=Ae[ht+2],Ve=Ae[ht+3],He=Ae[ht+4],st=Ae[ht+5],Ue=Ae[ht+6];var sn=Me+(Ke=Ae[ht+7]),pt=Me-Ke,$t=De+Ue,Bt=De-Ue,zt=qe+st,Qt=qe-st,gn=Ve+He,En=Ve-He,Vn=sn+gn,Br=sn-gn,Wr=$t+zt,Bn=$t-zt;Ae[ht]=Vn+Wr,Ae[ht+4]=Vn-Wr;var en=.707106781*(Bn+Br);Ae[ht+2]=Br+en,Ae[ht+6]=Br-en;var Dn=.382683433*((Vn=En+Qt)-(Bn=Bt+pt)),Ho=.5411961*Vn+Dn,Nn=1.306562965*Bn+Dn,eo=.707106781*(Wr=Qt+Bt),ii=pt+eo,Ht=pt-eo;Ae[ht+5]=Ht+Ho,Ae[ht+3]=Ht-Ho,Ae[ht+1]=ii+Nn,Ae[ht+7]=ii-Nn,ht+=8}for(ht=0,Ze=0;Ze<8;++Ze){Me=Ae[ht],De=Ae[ht+8],qe=Ae[ht+16],Ve=Ae[ht+24],He=Ae[ht+32],st=Ae[ht+40],Ue=Ae[ht+48];var zi=Me+(Ke=Ae[ht+56]),to=Me-Ke,oi=De+Ue,_r=De-Ue,Fn=qe+st,Gr=qe-st,ss=Ve+He,as=Ve-He,So=zi+ss,Eo=zi-ss,Do=oi+Fn,bi=oi-Fn;Ae[ht]=So+Do,Ae[ht+32]=So-Do;var Ui=.707106781*(bi+Eo);Ae[ht+16]=Eo+Ui,Ae[ht+48]=Eo-Ui;var Io=.382683433*((So=as+Gr)-(bi=_r+to)),ca=.5411961*So+Io,Ga=1.306562965*bi+Io,mt=.707106781*(Do=Gr+_r),Ct=to+mt,St=to-mt;Ae[ht+40]=St+ca,Ae[ht+24]=St-ca,Ae[ht+8]=Ct+Ga,Ae[ht+56]=Ct-Ga,ht++}for(Ze=0;Ze<64;++Ze)_t=Ae[Ze]*Oe[Ze],k[Ze]=_t>0?_t+.5|0:_t-.5|0;return k}(Z,J),Ge=0;Ge<64;++Ge)x[M[Ge]]=Qe[Ge];var Je=x[0]-ae;ae=x[0],Je==0?ie(fe[0]):(ie(fe[v[Ie=32767+Je]]),ie(y[Ie]));for(var ze=63;ze>0&&x[ze]==0;)ze--;if(ze==0)return ie(xe),ae;for(var X,Ce=1;Ce<=ze;){for(var he=Ce;x[Ce]==0&&Ce<=ze;)++Ce;var be=Ce-he;if(be>=16){X=be>>4;for(var pe=1;pe<=X;++pe)ie(Ne);be&=15}Ie=32767+x[Ce],ie(le[(be<<4)+v[Ie]]),ie(y[Ie]),Ce++}return ze!=63&&ie(xe),ae}function _e(Z){Z=Math.min(Math.max(Z,1),100),l!=Z&&(function(J){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],fe=0;fe<64;fe++){var le=d((ae[fe]*J+50)/100);le=Math.min(Math.max(le,1),255),h[M[fe]]=le}for(var Ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var Ne=d((Ie[xe]*J+50)/100);Ne=Math.min(Math.max(Ne,1),255),p[M[xe]]=Ne}for(var Qe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ge=0,Je=0;Je<8;Je++)for(var ze=0;ze<8;ze++)g[Ge]=1/(h[M[Ge]]*Qe[Je]*Qe[ze]*8),b[Ge]=1/(p[M[Ge]]*Qe[Je]*Qe[ze]*8),Ge++}(Z<50?Math.floor(5e3/Z):Math.floor(200-2*Z)),l=Z)}this.encode=function(Z,J){J&&_e(J),C=new Array,D=0,S=7,ye(65496),ye(65504),ye(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),ye(1),ye(1),se(0),se(0),function(){ye(65499),ye(132),se(0);for(var De=0;De<64;De++)se(h[De]);se(1);for(var qe=0;qe<64;qe++)se(p[qe])}(),function(De,qe){ye(65472),ye(17),se(8),ye(qe),ye(De),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)}(Z.width,Z.height),function(){ye(65476),ye(418),se(0);for(var De=0;De<16;De++)se(L[De+1]);for(var qe=0;qe<=11;qe++)se(q[qe]);se(16);for(var Ve=0;Ve<16;Ve++)se(Q[Ve+1]);for(var He=0;He<=161;He++)se(H[He]);se(1);for(var st=0;st<16;st++)se(F[st+1]);for(var Ue=0;Ue<=11;Ue++)se(G[Ue]);se(17);for(var Ke=0;Ke<16;Ke++)se(R[Ke+1]);for(var Ze=0;Ze<=161;Ze++)se(ne[Ze])}(),ye(65498),ye(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var ae=0,fe=0,le=0;D=0,S=7,this.encode.displayName="_encode_";for(var Ie,xe,Ne,Qe,Ge,Je,ze,X,Ce,he=Z.data,be=Z.width,pe=Z.height,Ae=4*be,Oe=0;Oe<pe;){for(Ie=0;Ie<Ae;){for(Ge=Ae*Oe+Ie,ze=-1,X=0,Ce=0;Ce<64;Ce++)Je=Ge+(X=Ce>>3)*Ae+(ze=4*(7&Ce)),Oe+X>=pe&&(Je-=Ae*(Oe+1+X-pe)),Ie+ze>=Ae&&(Je-=Ie+ze-Ae+4),xe=he[Je++],Ne=he[Je++],Qe=he[Je++],N[Ce]=(V[xe]+V[Ne+256>>0]+V[Qe+512>>0]>>16)-128,P[Ce]=(V[xe+768>>0]+V[Ne+1024>>0]+V[Qe+1280>>0]>>16)-128,B[Ce]=(V[xe+1280>>0]+V[Ne+1536>>0]+V[Qe+1792>>0]>>16)-128;ae=re(N,g,ae,r,o),fe=re(P,b,fe,n,a),le=re(B,b,le,n,a),Ie+=32}Oe+=8}if(S>=0){var Me=[];Me[1]=S+1,Me[0]=(1<<S+1)-1,ie(Me)}return ye(65497),new Uint8Array(C)},t=t||50,function(){for(var Z=String.fromCharCode,J=0;J<256;J++)$[J]=Z(J)}(),r=ue(L,q),n=ue(F,G),o=ue(Q,H),a=ue(R,ne),function(){for(var Z=1,J=2,ae=1;ae<=15;ae++){for(var fe=Z;fe<J;fe++)v[32767+fe]=ae,y[32767+fe]=[],y[32767+fe][1]=ae,y[32767+fe][0]=fe;for(var le=-(J-1);le<=-Z;le++)v[32767+le]=ae,y[32767+le]=[],y[32767+le][1]=ae,y[32767+le][0]=J-1+le;Z<<=1,J<<=1}}(),function(){for(var Z=0;Z<256;Z++)V[Z]=19595*Z,V[Z+256>>0]=38470*Z,V[Z+512>>0]=7471*Z+32768,V[Z+768>>0]=-11059*Z,V[Z+1024>>0]=-21709*Z,V[Z+1280>>0]=32768*Z+8421375,V[Z+1536>>0]=-27439*Z,V[Z+1792>>0]=-5329*Z}(),_e(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function cl(t,r){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function c6(t){function r(L){if(!L)throw Error("assert :P")}function n(L,q,Q){for(var H=0;4>H;H++)if(L[q+H]!=Q.charCodeAt(H))return!0;return!1}function o(L,q,Q,H,F){for(var G=0;G<F;G++)L[q+G]=Q[H+G]}function a(L,q,Q,H){for(var F=0;F<H;F++)L[q+F]=Q}function l(L){return new Int32Array(L)}function d(L,q){for(var Q=[],H=0;H<L;H++)Q.push(new q);return Q}function h(L,q){var Q=[];return function H(F,G,R){for(var ne=R[G],ue=0;ue<ne&&(F.push(R.length>G+1?[]:new q),!(R.length<G+1));ue++)H(F[ue],G+1,R)}(Q,0,L),Q}var p=function(){var L=this;function q(I,j){for(var W=1<<j-1>>>0;I&W;)W>>>=1;return W?(I&W-1)+W:I}function Q(I,j,W,te,ce){r(!(te%W));do I[j+(te-=W)]=ce;while(0<te)}function H(I,j,W,te,ce){if(r(2328>=ce),512>=ce)var me=l(512);else if((me=l(ce))==null)return 0;return function(ge,we,ve,Ee,Fe,nt){var rt,Ye,kt=we,ot=1<<ve,Be=l(16),$e=l(16);for(r(Fe!=0),r(Ee!=null),r(ge!=null),r(0<ve),Ye=0;Ye<Fe;++Ye){if(15<Ee[Ye])return 0;++Be[Ee[Ye]]}if(Be[0]==Fe)return 0;for($e[1]=0,rt=1;15>rt;++rt){if(Be[rt]>1<<rt)return 0;$e[rt+1]=$e[rt]+Be[rt]}for(Ye=0;Ye<Fe;++Ye)rt=Ee[Ye],0<Ee[Ye]&&(nt[$e[rt]++]=Ye);if($e[15]==1)return(Ee=new F).g=0,Ee.value=nt[0],Q(ge,kt,1,ot,Ee),ot;var gt,vt=-1,bt=ot-1,Rt=0,et=1,Zt=1,Ot=1<<ve;for(Ye=0,rt=1,Fe=2;rt<=ve;++rt,Fe<<=1){if(et+=Zt<<=1,0>(Zt-=Be[rt]))return 0;for(;0<Be[rt];--Be[rt])(Ee=new F).g=rt,Ee.value=nt[Ye++],Q(ge,kt+Rt,Fe,Ot,Ee),Rt=q(Rt,rt)}for(rt=ve+1,Fe=2;15>=rt;++rt,Fe<<=1){if(et+=Zt<<=1,0>(Zt-=Be[rt]))return 0;for(;0<Be[rt];--Be[rt]){if(Ee=new F,(Rt&bt)!=vt){for(kt+=Ot,gt=1<<(vt=rt)-ve;15>vt&&!(0>=(gt-=Be[vt]));)++vt,gt<<=1;ot+=Ot=1<<(gt=vt-ve),ge[we+(vt=Rt&bt)].g=gt+ve,ge[we+vt].value=kt-we-vt}Ee.g=rt-ve,Ee.value=nt[Ye++],Q(ge,kt+(Rt>>ve),Fe,Ot,Ee),Rt=q(Rt,rt)}}return et!=2*$e[15]-1?0:ot}(I,j,W,te,ce,me)}function F(){this.value=this.g=0}function G(){this.value=this.g=0}function R(){this.G=d(5,F),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(wi,G)}function ne(I,j,W,te){r(I!=null),r(j!=null),r(2147483648>te),I.Ca=254,I.I=0,I.b=-8,I.Ka=0,I.oa=j,I.pa=W,I.Jd=j,I.Yc=W+te,I.Zc=4<=te?W+te-4+1:W,Ie(I)}function ue(I,j){for(var W=0;0<j--;)W|=Ne(I,128)<<j;return W}function ie(I,j){var W=ue(I,j);return xe(I)?-W:W}function se(I,j,W,te){var ce,me=0;for(r(I!=null),r(j!=null),r(4294967288>te),I.Sb=te,I.Ra=0,I.u=0,I.h=0,4<te&&(te=4),ce=0;ce<te;++ce)me+=j[W+ce]<<8*ce;I.Ra=me,I.bb=te,I.oa=j,I.pa=W}function ye(I){for(;8<=I.u&&I.bb<I.Sb;)I.Ra>>>=8,I.Ra+=I.oa[I.pa+I.bb]<<Du-8>>>0,++I.bb,I.u-=8;ae(I)&&(I.h=1,I.u=0)}function re(I,j){if(r(0<=j),!I.h&&j<=Eu){var W=J(I)&Su[j];return I.u+=j,ye(I),W}return I.h=1,I.u=0}function _e(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(I){return I.Ra>>>(I.u&Du-1)>>>0}function ae(I){return r(I.bb<=I.Sb),I.h||I.bb==I.Sb&&I.u>Du}function fe(I,j){I.u=j,I.h=ae(I)}function le(I){I.u>=Iu&&(r(I.u>=Iu),ye(I))}function Ie(I){r(I!=null&&I.oa!=null),I.pa<I.Zc?(I.I=(I.oa[I.pa++]|I.I<<8)>>>0,I.b+=8):(r(I!=null&&I.oa!=null),I.pa<I.Yc?(I.b+=8,I.I=I.oa[I.pa++]|I.I<<8):I.Ka?I.b=0:(I.I<<=8,I.b+=8,I.Ka=1))}function xe(I){return ue(I,1)}function Ne(I,j){var W=I.Ca;0>I.b&&Ie(I);var te=I.b,ce=W*j>>>8,me=(I.I>>>te>ce)+0;for(me?(W-=ce,I.I-=ce+1<<te>>>0):W=ce+1,te=W,ce=0;256<=te;)ce+=8,te>>=8;return te=7^ce+ho[te],I.b-=te,I.Ca=(W<<te)-1,me}function Qe(I,j,W){I[j+0]=W>>24&255,I[j+1]=W>>16&255,I[j+2]=W>>8&255,I[j+3]=W>>0&255}function Ge(I,j){return I[j+0]<<0|I[j+1]<<8}function Je(I,j){return Ge(I,j)|I[j+2]<<16}function ze(I,j){return Ge(I,j)|Ge(I,j+2)<<16}function X(I,j){var W=1<<j;return r(I!=null),r(0<j),I.X=l(W),I.X==null?0:(I.Mb=32-j,I.Xa=j,1)}function Ce(I,j){r(I!=null),r(j!=null),r(I.Xa==j.Xa),o(j.X,0,I.X,0,1<<j.Xa)}function he(){this.X=[],this.Xa=this.Mb=0}function be(I,j,W,te){r(W!=null),r(te!=null);var ce=W[0],me=te[0];return ce==0&&(ce=(I*me+j/2)/j),me==0&&(me=(j*ce+I/2)/I),0>=ce||0>=me?0:(W[0]=ce,te[0]=me,1)}function pe(I,j){return I+(1<<j)-1>>>j}function Ae(I,j){return((4278255360&I)+(4278255360&j)>>>0&4278255360)+((16711935&I)+(16711935&j)>>>0&16711935)>>>0}function Oe(I,j){L[j]=function(W,te,ce,me,ge,we,ve){var Ee;for(Ee=0;Ee<ge;++Ee){var Fe=L[I](we[ve+Ee-1],ce,me+Ee);we[ve+Ee]=Ae(W[te+Ee],Fe)}}}function Me(){this.ud=this.hd=this.jd=0}function De(I,j){return((4278124286&(I^j))>>>1)+(I&j)>>>0}function qe(I){return 0<=I&&256>I?I:0>I?0:255<I?255:void 0}function Ve(I,j){return qe(I+(I-j+.5>>1))}function He(I,j,W){return Math.abs(j-W)-Math.abs(I-W)}function st(I,j,W,te,ce,me,ge){for(te=me[ge-1],W=0;W<ce;++W)me[ge+W]=te=Ae(I[j+W],te)}function Ue(I,j,W,te,ce){var me;for(me=0;me<W;++me){var ge=I[j+me],we=ge>>8&255,ve=16711935&(ve=(ve=16711935&ge)+((we<<16)+we));te[ce+me]=(4278255360&ge)+ve>>>0}}function Ke(I,j){j.jd=I>>0&255,j.hd=I>>8&255,j.ud=I>>16&255}function Ze(I,j,W,te,ce,me){var ge;for(ge=0;ge<te;++ge){var we=j[W+ge],ve=we>>>8,Ee=we,Fe=255&(Fe=(Fe=we>>>16)+((I.jd<<24>>24)*(ve<<24>>24)>>>5));Ee=255&(Ee=(Ee=Ee+((I.hd<<24>>24)*(ve<<24>>24)>>>5))+((I.ud<<24>>24)*(Fe<<24>>24)>>>5)),ce[me+ge]=(4278255360&we)+(Fe<<16)+Ee}}function _t(I,j,W,te,ce){L[j]=function(me,ge,we,ve,Ee,Fe,nt,rt,Ye){for(ve=nt;ve<rt;++ve)for(nt=0;nt<Ye;++nt)Ee[Fe++]=ce(we[te(me[ge++])])},L[I]=function(me,ge,we,ve,Ee,Fe,nt){var rt=8>>me.b,Ye=me.Ea,kt=me.K[0],ot=me.w;if(8>rt)for(me=(1<<me.b)-1,ot=(1<<rt)-1;ge<we;++ge){var Be,$e=0;for(Be=0;Be<Ye;++Be)Be&me||($e=te(ve[Ee++])),Fe[nt++]=ce(kt[$e&ot]),$e>>=rt}else L["VP8LMapColor"+W](ve,Ee,kt,ot,Fe,nt,ge,we,Ye)}}function ht(I,j,W,te,ce){for(W=j+W;j<W;){var me=I[j++];te[ce++]=me>>16&255,te[ce++]=me>>8&255,te[ce++]=me>>0&255}}function sn(I,j,W,te,ce){for(W=j+W;j<W;){var me=I[j++];te[ce++]=me>>16&255,te[ce++]=me>>8&255,te[ce++]=me>>0&255,te[ce++]=me>>24&255}}function pt(I,j,W,te,ce){for(W=j+W;j<W;){var me=(ge=I[j++])>>16&240|ge>>12&15,ge=ge>>0&240|ge>>28&15;te[ce++]=me,te[ce++]=ge}}function $t(I,j,W,te,ce){for(W=j+W;j<W;){var me=(ge=I[j++])>>16&248|ge>>13&7,ge=ge>>5&224|ge>>3&31;te[ce++]=me,te[ce++]=ge}}function Bt(I,j,W,te,ce){for(W=j+W;j<W;){var me=I[j++];te[ce++]=me>>0&255,te[ce++]=me>>8&255,te[ce++]=me>>16&255}}function zt(I,j,W,te,ce,me){if(me==0)for(W=j+W;j<W;)Qe(te,((me=I[j++])[0]>>24|me[1]>>8&65280|me[2]<<8&16711680|me[3]<<24)>>>0),ce+=32;else o(te,ce,I,j,W)}function Qt(I,j){L[j][0]=L[I+"0"],L[j][1]=L[I+"1"],L[j][2]=L[I+"2"],L[j][3]=L[I+"3"],L[j][4]=L[I+"4"],L[j][5]=L[I+"5"],L[j][6]=L[I+"6"],L[j][7]=L[I+"7"],L[j][8]=L[I+"8"],L[j][9]=L[I+"9"],L[j][10]=L[I+"10"],L[j][11]=L[I+"11"],L[j][12]=L[I+"12"],L[j][13]=L[I+"13"],L[j][14]=L[I+"0"],L[j][15]=L[I+"0"]}function gn(I){return I==rm||I==df||I==Ud||I==hf}function En(){this.eb=[],this.size=this.A=this.fb=0}function Vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Br(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new En,this.f.kb=new Vn,this.sd=null}function Wr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Bn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function en(I){return alert("todo:WebPSamplerProcessPlane"),I.T}function Dn(I,j){var W=I.T,te=j.ba.f.RGBA,ce=te.eb,me=te.fb+I.ka*te.A,ge=ds[j.ba.S],we=I.y,ve=I.O,Ee=I.f,Fe=I.N,nt=I.ea,rt=I.W,Ye=j.cc,kt=j.dc,ot=j.Mc,Be=j.Nc,$e=I.ka,gt=I.ka+I.T,vt=I.U,bt=vt+1>>1;for($e==0?ge(we,ve,null,null,Ee,Fe,nt,rt,Ee,Fe,nt,rt,ce,me,null,null,vt):(ge(j.ec,j.fc,we,ve,Ye,kt,ot,Be,Ee,Fe,nt,rt,ce,me-te.A,ce,me,vt),++W);$e+2<gt;$e+=2)Ye=Ee,kt=Fe,ot=nt,Be=rt,Fe+=I.Rc,rt+=I.Rc,me+=2*te.A,ge(we,(ve+=2*I.fa)-I.fa,we,ve,Ye,kt,ot,Be,Ee,Fe,nt,rt,ce,me-te.A,ce,me,vt);return ve+=I.fa,I.j+gt<I.o?(o(j.ec,j.fc,we,ve,vt),o(j.cc,j.dc,Ee,Fe,bt),o(j.Mc,j.Nc,nt,rt,bt),W--):1&gt||ge(we,ve,null,null,Ee,Fe,nt,rt,Ee,Fe,nt,rt,ce,me+te.A,null,null,vt),W}function Ho(I,j,W){var te=I.F,ce=[I.J];if(te!=null){var me=I.U,ge=j.ba.S,we=ge==zd||ge==Ud;j=j.ba.f.RGBA;var ve=[0],Ee=I.ka;ve[0]=I.T,I.Kb&&(Ee==0?--ve[0]:(--Ee,ce[0]-=I.width),I.j+I.ka+I.T==I.o&&(ve[0]=I.o-I.j-Ee));var Fe=j.eb;Ee=j.fb+Ee*j.A,I=Zn(te,ce[0],I.width,me,ve,Fe,Ee+(we?0:3),j.A),r(W==ve),I&&gn(ge)&&Qo(Fe,Ee,we,me,ve,j.A)}return 0}function Nn(I){var j=I.ma,W=j.ba.S,te=11>W,ce=W==Rd||W==Fd||W==zd||W==uf||W==12||gn(W);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!Pd(j.Oa,I,ce?11:12))return 0;if(ce&&gn(W)&&xt(),I.da)alert("todo:use_scaling");else{if(te){if(j.Ib=en,I.Kb){if(W=I.U+1>>1,j.memory=l(I.U+2*W),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+I.U,j.Mc=j.cc,j.Nc=j.dc+W,j.Ib=Dn,xt()}}else alert("todo:EmitYUV");ce&&(j.Jb=Ho,te&&Xe())}if(te&&!Lb){for(I=0;256>I;++I)Fs[I]=89858*(I-128)+Mu>>qd,fo[I]=-22014*(I-128)+Mu,Li[I]=-45773*(I-128),ji[I]=113618*(I-128)+Mu>>qd;for(I=Vd;I<lm;++I)j=76283*(I-16)+Mu>>qd,_a[I-Vd]=Wo(j,255),cm[I-Vd]=Wo(j+8>>4,15);Lb=1}return 1}function eo(I){var j=I.ma,W=I.U,te=I.T;return r(!(1&I.ka)),0>=W||0>=te?0:(W=j.Ib(I,j),j.Jb!=null&&j.Jb(I,j,W),j.Dc+=W,1)}function ii(I){I.ma.memory=null}function Ht(I,j,W,te){return re(I,8)!=47?0:(j[0]=re(I,14)+1,W[0]=re(I,14)+1,te[0]=re(I,1),re(I,3)!=0?0:!I.h)}function zi(I,j){if(4>I)return I+1;var W=I-2>>1;return(2+(1&I)<<W)+re(j,W)+1}function to(I,j){return 120<j?j-120:1<=(W=((W=jw[j-1])>>4)*I+(8-(15&W)))?W:1;var W}function oi(I,j,W){var te=J(W),ce=I[j+=255&te].g-8;return 0<ce&&(fe(W,W.u+8),te=J(W),j+=I[j].value,j+=te&(1<<ce)-1),fe(W,W.u+I[j].g),I[j].value}function _r(I,j,W){return W.g+=I.g,W.value+=I.value<<j>>>0,r(8>=W.g),I.g}function Fn(I,j,W){var te=I.xc;return r((j=te==0?0:I.vc[I.md*(W>>te)+(j>>te)])<I.Wb),I.Ya[j]}function Gr(I,j,W,te){var ce=I.ab,me=I.c*j,ge=I.C;j=ge+j;var we=W,ve=te;for(te=I.Ta,W=I.Ua;0<ce--;){var Ee=I.gc[ce],Fe=ge,nt=j,rt=we,Ye=ve,kt=(ve=te,we=W,Ee.Ea);switch(r(Fe<nt),r(nt<=Ee.nc),Ee.hc){case 2:af(rt,Ye,(nt-Fe)*kt,ve,we);break;case 0:var ot=Fe,Be=nt,$e=ve,gt=we,vt=(Ot=Ee).Ea;ot==0&&(nm(rt,Ye,null,null,1,$e,gt),st(rt,Ye+1,0,0,vt-1,$e,gt+1),Ye+=vt,gt+=vt,++ot);for(var bt=1<<Ot.b,Rt=bt-1,et=pe(vt,Ot.b),Zt=Ot.K,Ot=Ot.w+(ot>>Ot.b)*et;ot<Be;){var Nt=Zt,zn=Ot,On=1;for(Tu(rt,Ye,$e,gt-vt,1,$e,gt);On<vt;){var xn=(On&~Rt)+bt;xn>vt&&(xn=vt),(0,Za[Nt[zn++]>>8&15])(rt,Ye+ +On,$e,gt+On-vt,xn-On,$e,gt+On),On=xn}Ye+=vt,gt+=vt,++ot&Rt||(Ot+=et)}nt!=Ee.nc&&o(ve,we-kt,ve,we+(nt-Fe-1)*kt,kt);break;case 1:for(kt=rt,Be=Ye,vt=(rt=Ee.Ea)-(gt=rt&~($e=(Ye=1<<Ee.b)-1)),ot=pe(rt,Ee.b),bt=Ee.K,Ee=Ee.w+(Fe>>Ee.b)*ot;Fe<nt;){for(Rt=bt,et=Ee,Zt=new Me,Ot=Be+gt,Nt=Be+rt;Be<Ot;)Ke(Rt[et++],Zt),Mc(Zt,kt,Be,Ye,ve,we),Be+=Ye,we+=Ye;Be<Nt&&(Ke(Rt[et++],Zt),Mc(Zt,kt,Be,vt,ve,we),Be+=vt,we+=vt),++Fe&$e||(Ee+=ot)}break;case 3:if(rt==ve&&Ye==we&&0<Ee.b){for(Be=ve,rt=kt=we+(nt-Fe)*kt-(gt=(nt-Fe)*pe(Ee.Ea,Ee.b)),Ye=ve,$e=we,ot=[],gt=(vt=gt)-1;0<=gt;--gt)ot[gt]=Ye[$e+gt];for(gt=vt-1;0<=gt;--gt)Be[rt+gt]=ot[gt];Go(Ee,Fe,nt,ve,kt,ve,we)}else Go(Ee,Fe,nt,rt,Ye,ve,we)}we=te,ve=W}ve!=W&&o(te,W,we,ve,me)}function ss(I,j){var W=I.V,te=I.Ba+I.c*I.C,ce=j-I.C;if(r(j<=I.l.o),r(16>=ce),0<ce){var me=I.l,ge=I.Ta,we=I.Ua,ve=me.width;if(Gr(I,ce,W,te),ce=we=[we],r((W=I.C)<(te=j)),r(me.v<me.va),te>me.o&&(te=me.o),W<me.j){var Ee=me.j-W;W=me.j,ce[0]+=Ee*ve}if(W>=te?W=0:(ce[0]+=4*me.v,me.ka=W-me.j,me.U=me.va-me.v,me.T=te-W,W=1),W){if(we=we[0],11>(W=I.ca).S){var Fe=W.f.RGBA,nt=(te=W.S,ce=me.U,me=me.T,Ee=Fe.eb,Fe.A),rt=me;for(Fe=Fe.fb+I.Ma*Fe.A;0<rt--;){var Ye=ge,kt=we,ot=ce,Be=Ee,$e=Fe;switch(te){case Aa:No(Ye,kt,ot,Be,$e);break;case Rd:ro(Ye,kt,ot,Be,$e);break;case rm:ro(Ye,kt,ot,Be,$e),Qo(Be,$e,0,ot,1,0);break;case Bd:ka(Ye,kt,ot,Be,$e);break;case Fd:zt(Ye,kt,ot,Be,$e,1);break;case df:zt(Ye,kt,ot,Be,$e,1),Qo(Be,$e,0,ot,1,0);break;case zd:zt(Ye,kt,ot,Be,$e,0);break;case Ud:zt(Ye,kt,ot,Be,$e,0),Qo(Be,$e,1,ot,1,0);break;case uf:Tl(Ye,kt,ot,Be,$e);break;case hf:Tl(Ye,kt,ot,Be,$e),qt(Be,$e,ot,1,0);break;case Cb:ba(Ye,kt,ot,Be,$e);break;default:r(0)}we+=ve,Fe+=nt}I.Ma+=me}else alert("todo:EmitRescaledRowsYUVA");r(I.Ma<=W.height)}}I.C=j,r(I.C<=I.i)}function as(I){var j;if(0<I.ua)return 0;for(j=0;j<I.Wb;++j){var W=I.Ya[j].G,te=I.Ya[j].H;if(0<W[1][te[1]+0].g||0<W[2][te[2]+0].g||0<W[3][te[3]+0].g)return 0}return 1}function So(I,j,W,te,ce,me){if(I.Z!=0){var ge=I.qd,we=I.rd;for(r(tl[I.Z]!=null);j<W;++j)tl[I.Z](ge,we,te,ce,te,ce,me),ge=te,we=ce,ce+=me;I.qd=ge,I.rd=we}}function Eo(I,j){var W=I.l.ma,te=W.Z==0||W.Z==1?I.l.j:I.C;if(te=I.C<te?te:I.C,r(j<=I.l.o),j>te){var ce=I.l.width,me=W.ca,ge=W.tb+ce*te,we=I.V,ve=I.Ba+I.c*te,Ee=I.gc;r(I.ab==1),r(Ee[0].hc==3),jd(Ee[0],te,j,we,ve,me,ge),So(W,te,j,me,ge,ce)}I.C=I.Ma=j}function Do(I,j,W,te,ce,me,ge){var we=I.$/te,ve=I.$%te,Ee=I.m,Fe=I.s,nt=W+I.$,rt=nt;ce=W+te*ce;var Ye=W+te*me,kt=280+Fe.ua,ot=I.Pb?we:16777216,Be=0<Fe.ua?Fe.Wa:null,$e=Fe.wc,gt=nt<Ye?Fn(Fe,ve,we):null;r(I.C<me),r(Ye<=ce);var vt=!1;e:for(;;){for(;vt||nt<Ye;){var bt=0;if(we>=ot){var Rt=nt-W;r((ot=I).Pb),ot.wd=ot.m,ot.xd=Rt,0<ot.s.ua&&Ce(ot.s.Wa,ot.s.vb),ot=we+Pn}if(ve&$e||(gt=Fn(Fe,ve,we)),r(gt!=null),gt.Qb&&(j[nt]=gt.qb,vt=!0),!vt)if(le(Ee),gt.jc){bt=Ee,Rt=j;var et=nt,Zt=gt.pd[J(bt)&wi-1];r(gt.jc),256>Zt.g?(fe(bt,bt.u+Zt.g),Rt[et]=Zt.value,bt=0):(fe(bt,bt.u+Zt.g-256),r(256<=Zt.value),bt=Zt.value),bt==0&&(vt=!0)}else bt=oi(gt.G[0],gt.H[0],Ee);if(Ee.h)break;if(vt||256>bt){if(!vt)if(gt.nd)j[nt]=(gt.qb|bt<<8)>>>0;else{if(le(Ee),vt=oi(gt.G[1],gt.H[1],Ee),le(Ee),Rt=oi(gt.G[2],gt.H[2],Ee),et=oi(gt.G[3],gt.H[3],Ee),Ee.h)break;j[nt]=(et<<24|vt<<16|bt<<8|Rt)>>>0}if(vt=!1,++nt,++ve>=te&&(ve=0,++we,ge!=null&&we<=me&&!(we%16)&&ge(I,we),Be!=null))for(;rt<nt;)bt=j[rt++],Be.X[(506832829*bt&4294967295)>>>Be.Mb]=bt}else if(280>bt){if(bt=zi(bt-256,Ee),Rt=oi(gt.G[4],gt.H[4],Ee),le(Ee),Rt=to(te,Rt=zi(Rt,Ee)),Ee.h)break;if(nt-W<Rt||ce-nt<bt)break e;for(et=0;et<bt;++et)j[nt+et]=j[nt+et-Rt];for(nt+=bt,ve+=bt;ve>=te;)ve-=te,++we,ge!=null&&we<=me&&!(we%16)&&ge(I,we);if(r(nt<=ce),ve&$e&&(gt=Fn(Fe,ve,we)),Be!=null)for(;rt<nt;)bt=j[rt++],Be.X[(506832829*bt&4294967295)>>>Be.Mb]=bt}else{if(!(bt<kt))break e;for(vt=bt-280,r(Be!=null);rt<nt;)bt=j[rt++],Be.X[(506832829*bt&4294967295)>>>Be.Mb]=bt;bt=nt,r(!(vt>>>(Rt=Be).Xa)),j[bt]=Rt.X[vt],vt=!0}vt||r(Ee.h==ae(Ee))}if(I.Pb&&Ee.h&&nt<ce)r(I.m.h),I.a=5,I.m=I.wd,I.$=I.xd,0<I.s.ua&&Ce(I.s.vb,I.s.Wa);else{if(Ee.h)break e;ge!=null&&ge(I,we>me?me:we),I.a=0,I.$=nt-W}return 1}return I.a=3,0}function bi(I){r(I!=null),I.vc=null,I.yc=null,I.Ya=null;var j=I.Wa;j!=null&&(j.X=null),I.vb=null,r(I!=null)}function Ui(){var I=new of;return I==null?null:(I.a=0,I.xb=Nb,Qt("Predictor","VP8LPredictors"),Qt("Predictor","VP8LPredictors_C"),Qt("PredictorAdd","VP8LPredictorsAdd"),Qt("PredictorAdd","VP8LPredictorsAdd_C"),af=Ue,Mc=Ze,No=ht,ro=sn,Tl=pt,ba=$t,ka=Bt,L.VP8LMapColor32b=Nu,L.VP8LMapColor8b=lf,I)}function Io(I,j,W,te,ce){var me=1,ge=[I],we=[j],ve=te.m,Ee=te.s,Fe=null,nt=0;e:for(;;){if(W)for(;me&&re(ve,1);){var rt=ge,Ye=we,kt=te,ot=1,Be=kt.m,$e=kt.gc[kt.ab],gt=re(Be,2);if(kt.Oc&1<<gt)me=0;else{switch(kt.Oc|=1<<gt,$e.hc=gt,$e.Ea=rt[0],$e.nc=Ye[0],$e.K=[null],++kt.ab,r(4>=kt.ab),gt){case 0:case 1:$e.b=re(Be,3)+2,ot=Io(pe($e.Ea,$e.b),pe($e.nc,$e.b),0,kt,$e.K),$e.K=$e.K[0];break;case 3:var vt,bt=re(Be,8)+1,Rt=16<bt?0:4<bt?1:2<bt?2:3;if(rt[0]=pe($e.Ea,Rt),$e.b=Rt,vt=ot=Io(bt,1,0,kt,$e.K)){var et,Zt=bt,Ot=$e,Nt=1<<(8>>Ot.b),zn=l(Nt);if(zn==null)vt=0;else{var On=Ot.K[0],xn=Ot.w;for(zn[0]=Ot.K[0][0],et=1;et<1*Zt;++et)zn[et]=Ae(On[xn+et],zn[et-1]);for(;et<4*Nt;++et)zn[et]=0;Ot.K[0]=null,Ot.K[0]=zn,vt=1}}ot=vt;break;case 2:break;default:r(0)}me=ot}}if(ge=ge[0],we=we[0],me&&re(ve,1)&&!(me=1<=(nt=re(ve,4))&&11>=nt)){te.a=3;break e}var ar;if(ar=me)t:{var ct,bn,Wt,po=te,Jr=ge,mo=we,Kn=nt,Zo=W,Xo=po.m,vi=po.s,si=[null],go=1,es=0,Ca=Db[Kn];n:for(;;){if(Zo&&re(Xo,1)){var Zr=re(Xo,3)+2,xa=pe(Jr,Zr),Fl=pe(mo,Zr),Ou=xa*Fl;if(!Io(xa,Fl,0,po,si))break n;for(si=si[0],vi.xc=Zr,ct=0;ct<Ou;++ct){var zl=si[ct]>>8&65535;si[ct]=zl,zl>=go&&(go=zl+1)}}if(Xo.h)break n;for(bn=0;5>bn;++bn){var zr=Sb[bn];!bn&&0<Kn&&(zr+=1<<Kn),es<zr&&(es=zr)}var $d=d(go*Ca,F),um=go,Bb=d(um,R);if(Bb==null)var Sa=null;else r(65536>=um),Sa=Bb;var ju=l(es);if(Sa==null||ju==null||$d==null){po.a=1;break n}var Ea=$d;for(ct=Wt=0;ct<go;++ct){var Sn=Sa[ct],bo=Sn.G,ko=Sn.H,dm=0,Lu=1,Hd=0;for(bn=0;5>bn;++bn){zr=Sb[bn],bo[bn]=Ea,ko[bn]=Wt,!bn&&0<Kn&&(zr+=1<<Kn);i:{var mf,hm=zr,Ru=po,Bc=ju,qw=Ea,Vw=Wt,fm=0,Ul=Ru.m,$w=re(Ul,1);if(a(Bc,0,0,hm),$w){var Hw=re(Ul,1)+1,Ww=re(Ul,1),pm=re(Ul,Ww==0?1:8);Bc[pm]=1,Hw==2&&(Bc[pm=re(Ul,8)]=1);var Wd=1}else{var Fb=l(19),gf=re(Ul,4)+4;if(19<gf){Ru.a=3;var Fc=0;break i}for(mf=0;mf<gf;++mf)Fb[Ow[mf]]=re(Ul,3);var mm=void 0,Da=void 0,bf=Ru,zb=Fb,kf=hm,Ub=Bc,gm=0,hs=bf.m,qb=8,Vb=d(128,F);r:for(;H(Vb,0,7,zb,19);){if(re(hs,1)){var bm=2+2*re(hs,3);if((mm=2+re(hs,bm))>kf)break r}else mm=kf;for(Da=0;Da<kf&&mm--;){le(hs);var $b=Vb[0+(127&J(hs))];fe(hs,hs.u+$b.g);var ql=$b.value;if(16>ql)Ub[Da++]=ql,ql!=0&&(qb=ql);else{var km=ql==16,Po=ql-16,Hb=im[Po],Bu=re(hs,xb[Po])+Hb;if(Da+Bu>kf)break r;for(var Gw=km?qb:0;0<Bu--;)Ub[Da++]=Gw}}gm=1;break r}gm||(bf.a=3),Wd=gm}(Wd=Wd&&!Ul.h)&&(fm=H(qw,Vw,8,Bc,hm)),Wd&&fm!=0?Fc=fm:(Ru.a=3,Fc=0)}if(Fc==0)break n;if(Lu&&Eb[bn]==1&&(Lu=Ea[Wt].g==0),dm+=Ea[Wt].g,Wt+=Fc,3>=bn){var Vl,wf=ju[0];for(Vl=1;Vl<zr;++Vl)ju[Vl]>wf&&(wf=ju[Vl]);Hd+=wf}}if(Sn.nd=Lu,Sn.Qb=0,Lu&&(Sn.qb=(bo[3][ko[3]+0].value<<24|bo[1][ko[1]+0].value<<16|bo[2][ko[2]+0].value)>>>0,dm==0&&256>bo[0][ko[0]+0].value&&(Sn.Qb=1,Sn.qb+=bo[0][ko[0]+0].value<<8)),Sn.jc=!Sn.Qb&&6>Hd,Sn.jc){var Gd,wo=Sn;for(Gd=0;Gd<wi;++Gd){var Dt=Gd,Kt=wo.pd[Dt],zc=wo.G[0][wo.H[0]+Dt];256<=zc.value?(Kt.g=zc.g+256,Kt.value=zc.value):(Kt.g=0,Kt.value=0,Dt>>=_r(zc,8,Kt),Dt>>=_r(wo.G[1][wo.H[1]+Dt],16,Kt),Dt>>=_r(wo.G[2][wo.H[2]+Dt],0,Kt),_r(wo.G[3][wo.H[3]+Dt],24,Kt))}}}vi.vc=si,vi.Wb=go,vi.Ya=Sa,vi.yc=$d,ar=1;break t}ar=0}if(!(me=ar)){te.a=3;break e}if(0<nt){if(Ee.ua=1<<nt,!X(Ee.Wa,nt)){te.a=1,me=0;break e}}else Ee.ua=0;var ts=te,yf=ge,Fu=we,Yd=ts.s,Kd=Yd.xc;if(ts.c=yf,ts.i=Fu,Yd.md=pe(yf,Kd),Yd.wc=Kd==0?-1:(1<<Kd)-1,W){te.xb=Bl;break e}if((Fe=l(ge*we))==null){te.a=1,me=0;break e}me=(me=Do(te,Fe,0,ge,we,we,null))&&!ve.h;break e}return me?(ce!=null?ce[0]=Fe:(r(Fe==null),r(W)),te.$=0,W||bi(Ee)):bi(Ee),me}function ca(I,j){var W=I.c*I.i,te=W+j+16*j;return r(I.c<=j),I.V=l(te),I.V==null?(I.Ta=null,I.Ua=0,I.a=1,0):(I.Ta=I.V,I.Ua=I.Ba+W+j,1)}function Ga(I,j){var W=I.C,te=j-W,ce=I.V,me=I.Ba+I.c*W;for(r(j<=I.l.o);0<te;){var ge=16<te?16:te,we=I.l.ma,ve=I.l.width,Ee=ve*ge,Fe=we.ca,nt=we.tb+ve*W,rt=I.Ta,Ye=I.Ua;Gr(I,ge,ce,me),Fr(rt,Ye,Fe,nt,Ee),So(we,W,W+ge,Fe,nt,ve),te-=ge,ce+=ge*I.c,W+=ge}r(W==j),I.C=I.Ma=j}function mt(){this.ub=this.yd=this.td=this.Rb=0}function Ct(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function St(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function Ut(){this.Yb=function(){var I=[];return function j(W,te,ce){for(var me=ce[te],ge=0;ge<me&&(W.push(ce.length>te+1?[]:0),!(ce.length<te+1));ge++)j(W[ge],te+1,ce)}(I,0,[3,11]),I}()}function Yt(){this.jb=l(3),this.Wc=h([4,8],Ut),this.Xc=h([4,17],Ut)}function Mn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function mr(){this.ld=this.La=this.dd=this.tc=0}function qi(){this.Na=this.la=0}function Vi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Oi(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function uo(){this.uc=this.M=this.Nb=0,this.wa=Array(new mr),this.Y=0,this.ya=Array(new Oi),this.aa=0,this.l=new Ya}function To(){this.y=l(16),this.f=l(8),this.ea=l(8)}function Al(){this.cb=this.a=0,this.sc="",this.m=new _e,this.Od=new mt,this.Kc=new Ct,this.ed=new Mn,this.Qa=new St,this.Ic=this.$c=this.Aa=0,this.D=new uo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,_e),this.ia=0,this.pb=d(4,Vi),this.Pa=new Yt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new To),this.Hd=0,this.rb=Array(new qi),this.sb=0,this.wa=Array(new mr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Oi),this.L=this.aa=0,this.gd=h([4,2],mr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ya(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function pu(){var I=new Al;return I!=null&&(I.a=0,I.sc="OK",I.cb=0,I.Xb=0,Xa||(Xa=Cc)),I}function gr(I,j,W){return I.a==0&&(I.a=j,I.sc=W,I.cb=0),0}function _l(I,j,W){return 3<=W&&I[j+0]==157&&I[j+1]==1&&I[j+2]==42}function _c(I,j){if(I==null)return 0;if(I.a=0,I.sc="OK",j==null)return gr(I,2,"null VP8Io passed to VP8GetHeaders()");var W=j.data,te=j.w,ce=j.ha;if(4>ce)return gr(I,7,"Truncated header.");var me=W[te+0]|W[te+1]<<8|W[te+2]<<16,ge=I.Od;if(ge.Rb=!(1&me),ge.td=me>>1&7,ge.yd=me>>4&1,ge.ub=me>>5,3<ge.td)return gr(I,3,"Incorrect keyframe parameters.");if(!ge.yd)return gr(I,4,"Frame not displayable.");te+=3,ce-=3;var we=I.Kc;if(ge.Rb){if(7>ce)return gr(I,7,"cannot parse picture header");if(!_l(W,te,ce))return gr(I,3,"Bad code word");we.c=16383&(W[te+4]<<8|W[te+3]),we.Td=W[te+4]>>6,we.i=16383&(W[te+6]<<8|W[te+5]),we.Ud=W[te+6]>>6,te+=7,ce-=7,I.za=we.c+15>>4,I.Ub=we.i+15>>4,j.width=we.c,j.height=we.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,a((me=I.Pa).jb,0,255,me.jb.length),r((me=I.Qa)!=null),me.Cb=0,me.Bb=0,me.Fb=1,a(me.Zb,0,0,me.Zb.length),a(me.Lb,0,0,me.Lb)}if(ge.ub>ce)return gr(I,7,"bad partition length");ne(me=I.m,W,te,ge.ub),te+=ge.ub,ce-=ge.ub,ge.Rb&&(we.Ld=xe(me),we.Kd=xe(me)),we=I.Qa;var ve,Ee=I.Pa;if(r(me!=null),r(we!=null),we.Cb=xe(me),we.Cb){if(we.Bb=xe(me),xe(me)){for(we.Fb=xe(me),ve=0;4>ve;++ve)we.Zb[ve]=xe(me)?ie(me,7):0;for(ve=0;4>ve;++ve)we.Lb[ve]=xe(me)?ie(me,6):0}if(we.Bb)for(ve=0;3>ve;++ve)Ee.jb[ve]=xe(me)?ue(me,8):255}else we.Bb=0;if(me.Ka)return gr(I,3,"cannot parse segment header");if((we=I.ed).zd=xe(me),we.Tb=ue(me,6),we.wb=ue(me,3),we.Pc=xe(me),we.Pc&&xe(me)){for(Ee=0;4>Ee;++Ee)xe(me)&&(we.vd[Ee]=ie(me,6));for(Ee=0;4>Ee;++Ee)xe(me)&&(we.od[Ee]=ie(me,6))}if(I.L=we.Tb==0?0:we.zd?1:2,me.Ka)return gr(I,3,"cannot parse filter header");var Fe=ce;if(ce=ve=te,te=ve+Fe,we=Fe,I.Xb=(1<<ue(I.m,2))-1,Fe<3*(Ee=I.Xb))W=7;else{for(ve+=3*Ee,we-=3*Ee,Fe=0;Fe<Ee;++Fe){var nt=W[ce+0]|W[ce+1]<<8|W[ce+2]<<16;nt>we&&(nt=we),ne(I.Jc[+Fe],W,ve,nt),ve+=nt,we-=nt,ce+=3}ne(I.Jc[+Ee],W,ve,we),W=ve<te?0:5}if(W!=0)return gr(I,W,"cannot parse partitions");for(W=ue(ve=I.m,7),ce=xe(ve)?ie(ve,4):0,te=xe(ve)?ie(ve,4):0,we=xe(ve)?ie(ve,4):0,Ee=xe(ve)?ie(ve,4):0,ve=xe(ve)?ie(ve,4):0,Fe=I.Qa,nt=0;4>nt;++nt){if(Fe.Cb){var rt=Fe.Zb[nt];Fe.Fb||(rt+=W)}else{if(0<nt){I.pb[nt]=I.pb[0];continue}rt=W}var Ye=I.pb[nt];Ye.Sc[0]=om[Wo(rt+ce,127)],Ye.Sc[1]=Ll[Wo(rt+0,127)],Ye.Eb[0]=2*om[Wo(rt+te,127)],Ye.Eb[1]=101581*Ll[Wo(rt+we,127)]>>16,8>Ye.Eb[1]&&(Ye.Eb[1]=8),Ye.Qc[0]=om[Wo(rt+Ee,117)],Ye.Qc[1]=Ll[Wo(rt+ve,127)],Ye.lc=rt+ve}if(!ge.Rb)return gr(I,4,"Not a key frame.");for(xe(me),ge=I.Pa,W=0;4>W;++W){for(ce=0;8>ce;++ce)for(te=0;3>te;++te)for(we=0;11>we;++we)Ee=Ne(me,Lw[W][ce][te][we])?ue(me,8):am[W][ce][te][we],ge.Wc[W][ce].Yb[te][we]=Ee;for(ce=0;17>ce;++ce)ge.Xc[W][ce]=ge.Wc[W][Tb[ce]]}return I.kc=xe(me),I.kc&&(I.Bd=ue(me,8)),I.cb=1}function Cc(I,j,W,te,ce,me,ge){var we=j[ce].Yb[W];for(W=0;16>ce;++ce){if(!Ne(I,we[W+0]))return ce;for(;!Ne(I,we[W+1]);)if(we=j[++ce].Yb[0],W=0,ce==16)return 16;var ve=j[ce+1].Yb;if(Ne(I,we[W+2])){var Ee=I,Fe=0;if(Ne(Ee,(rt=we)[(nt=W)+3]))if(Ne(Ee,rt[nt+6])){for(we=0,nt=2*(Fe=Ne(Ee,rt[nt+8]))+(rt=Ne(Ee,rt[nt+9+Fe])),Fe=0,rt=ff[nt];rt[we];++we)Fe+=Fe+Ne(Ee,rt[we]);Fe+=3+(8<<nt)}else Ne(Ee,rt[nt+7])?(Fe=7+2*Ne(Ee,165),Fe+=Ne(Ee,145)):Fe=5+Ne(Ee,159);else Fe=Ne(Ee,rt[nt+4])?3+Ne(Ee,rt[nt+5]):2;we=ve[2]}else Fe=1,we=ve[1];ve=ge+sm[ce],0>(Ee=I).b&&Ie(Ee);var nt,rt=Ee.b,Ye=(nt=Ee.Ca>>1)-(Ee.I>>rt)>>31;--Ee.b,Ee.Ca+=Ye,Ee.Ca|=1,Ee.I-=(nt+1&Ye)<<rt,me[ve]=((Fe^Ye)-Ye)*te[(0<ce)+0]}return 16}function ls(I){var j=I.rb[I.sb-1];j.la=0,j.Na=0,a(I.zc,0,0,I.zc.length),I.ja=0}function Jh(I,j){if(I==null)return 0;if(j==null)return gr(I,2,"NULL VP8Io parameter in VP8Decode().");if(!I.cb&&!_c(I,j))return 0;if(r(I.cb),j.ac==null||j.ac(j)){j.ob&&(I.L=0);var W=Pu[I.L];if(I.L==2?(I.yb=0,I.zb=0):(I.yb=j.v-W>>4,I.zb=j.j-W>>4,0>I.yb&&(I.yb=0),0>I.zb&&(I.zb=0)),I.Va=j.o+15+W>>4,I.Hb=j.va+15+W>>4,I.Hb>I.za&&(I.Hb=I.za),I.Va>I.Ub&&(I.Va=I.Ub),0<I.L){var te=I.ed;for(W=0;4>W;++W){var ce;if(I.Qa.Cb){var me=I.Qa.Lb[W];I.Qa.Fb||(me+=te.Tb)}else me=te.Tb;for(ce=0;1>=ce;++ce){var ge=I.gd[W][ce],we=me;if(te.Pc&&(we+=te.vd[0],ce&&(we+=te.od[0])),0<(we=0>we?0:63<we?63:we)){var ve=we;0<te.wb&&(ve=4<te.wb?ve>>2:ve>>1)>9-te.wb&&(ve=9-te.wb),1>ve&&(ve=1),ge.dd=ve,ge.tc=2*we+ve,ge.ld=40<=we?2:15<=we?1:0}else ge.tc=0;ge.La=ce}}}W=0}else gr(I,6,"Frame setup failed"),W=I.a;if(W=W==0){if(W){I.$c=0,0<I.Aa||(I.Ic=Rb);e:{W=I.Ic,te=4*(ve=I.za);var Ee=32*ve,Fe=ve+1,nt=0<I.L?ve*(0<I.Aa?2:1):0,rt=(I.Aa==2?2:1)*ve;if((ge=te+832+(ce=3*(16*W+Pu[I.L])/2*Ee)+(me=I.Fa!=null&&0<I.Fa.length?I.Kc.c*I.Kc.i:0))!=ge)W=0;else{if(ge>I.Vb){if(I.Vb=0,I.Ec=l(ge),I.Fc=0,I.Ec==null){W=gr(I,1,"no memory during frame initialization.");break e}I.Vb=ge}ge=I.Ec,we=I.Fc,I.Ac=ge,I.Bc=we,we+=te,I.Gd=d(Ee,To),I.Hd=0,I.rb=d(Fe+1,qi),I.sb=1,I.wa=nt?d(nt,mr):null,I.Y=0,I.D.Nb=0,I.D.wa=I.wa,I.D.Y=I.Y,0<I.Aa&&(I.D.Y+=ve),r(!0),I.oc=ge,I.pc=we,we+=832,I.ya=d(rt,Oi),I.aa=0,I.D.ya=I.ya,I.D.aa=I.aa,I.Aa==2&&(I.D.aa+=ve),I.R=16*ve,I.B=8*ve,ve=(Ee=Pu[I.L])*I.R,Ee=Ee/2*I.B,I.sa=ge,I.ta=we+ve,I.qa=I.sa,I.ra=I.ta+16*W*I.R+Ee,I.Ha=I.qa,I.Ia=I.ra+8*W*I.B+Ee,I.$c=0,we+=ce,I.mb=me?ge:null,I.nb=me?we:null,r(we+me<=I.Fc+I.Vb),ls(I),a(I.Ac,I.Bc,0,te),W=1}}if(W){if(j.ka=0,j.y=I.sa,j.O=I.ta,j.f=I.qa,j.N=I.ra,j.ea=I.Ha,j.Vd=I.Ia,j.fa=I.R,j.Rc=I.B,j.F=null,j.J=0,!Ld){for(W=-255;255>=W;++W)Qr[255+W]=0>W?-W:W;for(W=-1020;1020>=W;++W)ya[1020+W]=-128>W?-128:127<W?127:W;for(W=-112;112>=W;++W)Cr[112+W]=-16>W?-16:15<W?15:W;for(W=-255;510>=W;++W)va[255+W]=0>W?0:255<W?255:W;Ld=1}Pc=Kp,jn=Yp,Oc=Xh,Kr=Cl,Yo=xc,Pr=Zh,jc=Dl,cf=js,us=tm,wa=Td,Nl=em,yi=vu,Lc=pa,Rc=rf,Ml=Id,rr=fa,Pl=Ps,Ko=Xp,Bs[0]=da,Bs[1]=xl,Bs[2]=Jp,Bs[3]=ku,Bs[4]=xd,Bs[5]=Sc,Bs[6]=Sd,Bs[7]=Qa,Bs[8]=wu,Bs[9]=Zp,Rl[0]=Ka,Rl[1]=gu,Rl[2]=cs,Rl[3]=bu,Rl[4]=no,Rl[5]=ef,Rl[6]=Cd,el[0]=ha,el[1]=Qp,el[2]=Ed,el[3]=Jn,el[4]=Ns,el[5]=tf,el[6]=Dc,W=1}else W=0}W&&(W=function(Ye,kt){for(Ye.M=0;Ye.M<Ye.Va;++Ye.M){var ot,Be=Ye.Jc[Ye.M&Ye.Xb],$e=Ye.m,gt=Ye;for(ot=0;ot<gt.za;++ot){var vt=$e,bt=gt,Rt=bt.Ac,et=bt.Bc+4*ot,Zt=bt.zc,Ot=bt.ya[bt.aa+ot];if(bt.Qa.Bb?Ot.$b=Ne(vt,bt.Pa.jb[0])?2+Ne(vt,bt.Pa.jb[2]):Ne(vt,bt.Pa.jb[1]):Ot.$b=0,bt.kc&&(Ot.Ad=Ne(vt,bt.Bd)),Ot.Za=!Ne(vt,145)+0,Ot.Za){var Nt=Ot.Ob,zn=0;for(bt=0;4>bt;++bt){var On,xn=Zt[0+bt];for(On=0;4>On;++On){xn=Ib[Rt[et+On]][xn];for(var ar=ir[Ne(vt,xn[0])];0<ar;)ar=ir[2*ar+Ne(vt,xn[ar])];xn=-ar,Rt[et+On]=xn}o(Nt,zn,Rt,et,4),zn+=4,Zt[0+bt]=xn}}else xn=Ne(vt,156)?Ne(vt,128)?1:3:Ne(vt,163)?2:0,Ot.Ob[0]=xn,a(Rt,et,xn,4),a(Zt,0,xn,4);Ot.Dd=Ne(vt,142)?Ne(vt,114)?Ne(vt,183)?1:3:2:0}if(gt.m.Ka)return gr(Ye,7,"Premature end-of-partition0 encountered.");for(;Ye.ja<Ye.za;++Ye.ja){if(gt=Be,vt=($e=Ye).rb[$e.sb-1],Rt=$e.rb[$e.sb+$e.ja],ot=$e.ya[$e.aa+$e.ja],et=$e.kc?ot.Ad:0)vt.la=Rt.la=0,ot.Za||(vt.Na=Rt.Na=0),ot.Hc=0,ot.Gc=0,ot.ia=0;else{var ct,bn;if(vt=Rt,Rt=gt,et=$e.Pa.Xc,Zt=$e.ya[$e.aa+$e.ja],Ot=$e.pb[Zt.$b],bt=Zt.ad,Nt=0,zn=$e.rb[$e.sb-1],xn=On=0,a(bt,Nt,0,384),Zt.Za)var Wt=0,po=et[3];else{ar=l(16);var Jr=vt.Na+zn.Na;if(Jr=Xa(Rt,et[1],Jr,Ot.Eb,0,ar,0),vt.Na=zn.Na=(0<Jr)+0,1<Jr)Pc(ar,0,bt,Nt);else{var mo=ar[0]+3>>3;for(ar=0;256>ar;ar+=16)bt[Nt+ar]=mo}Wt=1,po=et[0]}var Kn=15&vt.la,Zo=15&zn.la;for(ar=0;4>ar;++ar){var Xo=1&Zo;for(mo=bn=0;4>mo;++mo)Kn=Kn>>1|(Xo=(Jr=Xa(Rt,po,Jr=Xo+(1&Kn),Ot.Sc,Wt,bt,Nt))>Wt)<<7,bn=bn<<2|(3<Jr?3:1<Jr?2:bt[Nt+0]!=0),Nt+=16;Kn>>=4,Zo=Zo>>1|Xo<<7,On=(On<<8|bn)>>>0}for(po=Kn,Wt=Zo>>4,ct=0;4>ct;ct+=2){for(bn=0,Kn=vt.la>>4+ct,Zo=zn.la>>4+ct,ar=0;2>ar;++ar){for(Xo=1&Zo,mo=0;2>mo;++mo)Jr=Xo+(1&Kn),Kn=Kn>>1|(Xo=0<(Jr=Xa(Rt,et[2],Jr,Ot.Qc,0,bt,Nt)))<<3,bn=bn<<2|(3<Jr?3:1<Jr?2:bt[Nt+0]!=0),Nt+=16;Kn>>=2,Zo=Zo>>1|Xo<<5}xn|=bn<<4*ct,po|=Kn<<4<<ct,Wt|=(240&Zo)<<ct}vt.la=po,zn.la=Wt,Zt.Hc=On,Zt.Gc=xn,Zt.ia=43690&xn?0:Ot.ia,et=!(On|xn)}if(0<$e.L&&($e.wa[$e.Y+$e.ja]=$e.gd[ot.$b][ot.Za],$e.wa[$e.Y+$e.ja].La|=!et),gt.Ka)return gr(Ye,7,"Premature end-of-file encountered.")}if(ls(Ye),$e=kt,gt=1,ot=(Be=Ye).D,vt=0<Be.L&&Be.M>=Be.zb&&Be.M<=Be.Va,Be.Aa==0)e:{if(ot.M=Be.M,ot.uc=vt,Rs(Be,ot),gt=1,ot=(bn=Be.D).Nb,vt=(xn=Pu[Be.L])*Be.R,Rt=xn/2*Be.B,ar=16*ot*Be.R,mo=8*ot*Be.B,et=Be.sa,Zt=Be.ta-vt+ar,Ot=Be.qa,bt=Be.ra-Rt+mo,Nt=Be.Ha,zn=Be.Ia-Rt+mo,Zo=(Kn=bn.M)==0,On=Kn>=Be.Va-1,Be.Aa==2&&Rs(Be,bn),bn.uc)for(Xo=(Jr=Be).D.M,r(Jr.D.uc),bn=Jr.yb;bn<Jr.Hb;++bn){Wt=bn,po=Xo;var vi=(si=(zr=Jr).D).Nb;ct=zr.R;var si=si.wa[si.Y+Wt],go=zr.sa,es=zr.ta+16*vi*ct+16*Wt,Ca=si.dd,Zr=si.tc;if(Zr!=0)if(r(3<=Zr),zr.L==1)0<Wt&&rr(go,es,ct,Zr+4),si.La&&Ko(go,es,ct,Zr),0<po&&Ml(go,es,ct,Zr+4),si.La&&Pl(go,es,ct,Zr);else{var xa=zr.B,Fl=zr.qa,Ou=zr.ra+8*vi*xa+8*Wt,zl=zr.Ha,zr=zr.Ia+8*vi*xa+8*Wt;vi=si.ld,0<Wt&&(cf(go,es,ct,Zr+4,Ca,vi),wa(Fl,Ou,zl,zr,xa,Zr+4,Ca,vi)),si.La&&(yi(go,es,ct,Zr,Ca,vi),Rc(Fl,Ou,zl,zr,xa,Zr,Ca,vi)),0<po&&(jc(go,es,ct,Zr+4,Ca,vi),us(Fl,Ou,zl,zr,xa,Zr+4,Ca,vi)),si.La&&(Nl(go,es,ct,Zr,Ca,vi),Lc(Fl,Ou,zl,zr,xa,Zr,Ca,vi))}}if(Be.ia&&alert("todo:DitherRow"),$e.put!=null){if(bn=16*Kn,Kn=16*(Kn+1),Zo?($e.y=Be.sa,$e.O=Be.ta+ar,$e.f=Be.qa,$e.N=Be.ra+mo,$e.ea=Be.Ha,$e.W=Be.Ia+mo):(bn-=xn,$e.y=et,$e.O=Zt,$e.f=Ot,$e.N=bt,$e.ea=Nt,$e.W=zn),On||(Kn-=xn),Kn>$e.o&&(Kn=$e.o),$e.F=null,$e.J=null,Be.Fa!=null&&0<Be.Fa.length&&bn<Kn&&($e.J=xu(Be,$e,bn,Kn-bn),$e.F=Be.mb,$e.F==null&&$e.F.length==0)){gt=gr(Be,3,"Could not decode alpha data.");break e}bn<$e.j&&(xn=$e.j-bn,bn=$e.j,r(!(1&xn)),$e.O+=Be.R*xn,$e.N+=Be.B*(xn>>1),$e.W+=Be.B*(xn>>1),$e.F!=null&&($e.J+=$e.width*xn)),bn<Kn&&($e.O+=$e.v,$e.N+=$e.v>>1,$e.W+=$e.v>>1,$e.F!=null&&($e.J+=$e.v),$e.ka=bn-$e.j,$e.U=$e.va-$e.v,$e.T=Kn-bn,gt=$e.put($e))}ot+1!=Be.Ic||On||(o(Be.sa,Be.ta-vt,et,Zt+16*Be.R,vt),o(Be.qa,Be.ra-Rt,Ot,bt+8*Be.B,Rt),o(Be.Ha,Be.Ia-Rt,Nt,zn+8*Be.B,Rt))}if(!gt)return gr(Ye,6,"Output aborted.")}return 1}(I,j)),j.bc!=null&&j.bc(j),W&=1}return W?(I.cb=0,W):0}function Ts(I,j,W,te,ce){ce=I[j+W+32*te]+(ce>>3),I[j+W+32*te]=-256&ce?0>ce?0:255:ce}function mu(I,j,W,te,ce,me){Ts(I,j,0,W,te+ce),Ts(I,j,1,W,te+me),Ts(I,j,2,W,te-me),Ts(I,j,3,W,te-ce)}function $i(I){return(20091*I>>16)+I}function _d(I,j,W,te){var ce,me=0,ge=l(16);for(ce=0;4>ce;++ce){var we=I[j+0]+I[j+8],ve=I[j+0]-I[j+8],Ee=(35468*I[j+4]>>16)-$i(I[j+12]),Fe=$i(I[j+4])+(35468*I[j+12]>>16);ge[me+0]=we+Fe,ge[me+1]=ve+Ee,ge[me+2]=ve-Ee,ge[me+3]=we-Fe,me+=4,j++}for(ce=me=0;4>ce;++ce)we=(I=ge[me+0]+4)+ge[me+8],ve=I-ge[me+8],Ee=(35468*ge[me+4]>>16)-$i(ge[me+12]),Ts(W,te,0,0,we+(Fe=$i(ge[me+4])+(35468*ge[me+12]>>16))),Ts(W,te,1,0,ve+Ee),Ts(W,te,2,0,ve-Ee),Ts(W,te,3,0,we-Fe),me++,te+=32}function Zh(I,j,W,te){var ce=I[j+0]+4,me=35468*I[j+4]>>16,ge=$i(I[j+4]),we=35468*I[j+1]>>16;mu(W,te,0,ce+ge,I=$i(I[j+1]),we),mu(W,te,1,ce+me,I,we),mu(W,te,2,ce-me,I,we),mu(W,te,3,ce-ge,I,we)}function Yp(I,j,W,te,ce){_d(I,j,W,te),ce&&_d(I,j+16,W,te+4)}function Xh(I,j,W,te){jn(I,j+0,W,te,1),jn(I,j+32,W,te+128,1)}function Cl(I,j,W,te){var ce;for(I=I[j+0]+4,ce=0;4>ce;++ce)for(j=0;4>j;++j)Ts(W,te,j,ce,I)}function xc(I,j,W,te){I[j+0]&&Kr(I,j+0,W,te),I[j+16]&&Kr(I,j+16,W,te+4),I[j+32]&&Kr(I,j+32,W,te+128),I[j+48]&&Kr(I,j+48,W,te+128+4)}function Kp(I,j,W,te){var ce,me=l(16);for(ce=0;4>ce;++ce){var ge=I[j+0+ce]+I[j+12+ce],we=I[j+4+ce]+I[j+8+ce],ve=I[j+4+ce]-I[j+8+ce],Ee=I[j+0+ce]-I[j+12+ce];me[0+ce]=ge+we,me[8+ce]=ge-we,me[4+ce]=Ee+ve,me[12+ce]=Ee-ve}for(ce=0;4>ce;++ce)ge=(I=me[0+4*ce]+3)+me[3+4*ce],we=me[1+4*ce]+me[2+4*ce],ve=me[1+4*ce]-me[2+4*ce],Ee=I-me[3+4*ce],W[te+0]=ge+we>>3,W[te+16]=Ee+ve>>3,W[te+32]=ge-we>>3,W[te+48]=Ee-ve>>3,te+=64}function ua(I,j,W){var te,ce=j-32,me=Mo,ge=255-I[ce-1];for(te=0;te<W;++te){var we,ve=me,Ee=ge+I[j-1];for(we=0;we<W;++we)I[j+we]=ve[Ee+I[ce+we]];j+=32}}function xl(I,j){ua(I,j,4)}function Qp(I,j){ua(I,j,8)}function gu(I,j){ua(I,j,16)}function cs(I,j){var W;for(W=0;16>W;++W)o(I,j+32*W,I,j-32,16)}function bu(I,j){var W;for(W=16;0<W;--W)a(I,j,I[j-1],16),j+=32}function Sl(I,j,W){var te;for(te=0;16>te;++te)a(j,W+32*te,I,16)}function Ka(I,j){var W,te=16;for(W=0;16>W;++W)te+=I[j-1+32*W]+I[j+W-32];Sl(te>>5,I,j)}function no(I,j){var W,te=8;for(W=0;16>W;++W)te+=I[j-1+32*W];Sl(te>>4,I,j)}function ef(I,j){var W,te=8;for(W=0;16>W;++W)te+=I[j+W-32];Sl(te>>4,I,j)}function Cd(I,j){Sl(128,I,j)}function un(I,j,W){return I+2*j+W+2>>2}function Jp(I,j){var W,te=j-32;for(te=new Uint8Array([un(I[te-1],I[te+0],I[te+1]),un(I[te+0],I[te+1],I[te+2]),un(I[te+1],I[te+2],I[te+3]),un(I[te+2],I[te+3],I[te+4])]),W=0;4>W;++W)o(I,j+32*W,te,0,te.length)}function ku(I,j){var W=I[j-1],te=I[j-1+32],ce=I[j-1+64],me=I[j-1+96];Qe(I,j+0,16843009*un(I[j-1-32],W,te)),Qe(I,j+32,16843009*un(W,te,ce)),Qe(I,j+64,16843009*un(te,ce,me)),Qe(I,j+96,16843009*un(ce,me,me))}function da(I,j){var W,te=4;for(W=0;4>W;++W)te+=I[j+W-32]+I[j-1+32*W];for(te>>=3,W=0;4>W;++W)a(I,j+32*W,te,4)}function xd(I,j){var W=I[j-1+0],te=I[j-1+32],ce=I[j-1+64],me=I[j-1-32],ge=I[j+0-32],we=I[j+1-32],ve=I[j+2-32],Ee=I[j+3-32];I[j+0+96]=un(te,ce,I[j-1+96]),I[j+1+96]=I[j+0+64]=un(W,te,ce),I[j+2+96]=I[j+1+64]=I[j+0+32]=un(me,W,te),I[j+3+96]=I[j+2+64]=I[j+1+32]=I[j+0+0]=un(ge,me,W),I[j+3+64]=I[j+2+32]=I[j+1+0]=un(we,ge,me),I[j+3+32]=I[j+2+0]=un(ve,we,ge),I[j+3+0]=un(Ee,ve,we)}function Sd(I,j){var W=I[j+1-32],te=I[j+2-32],ce=I[j+3-32],me=I[j+4-32],ge=I[j+5-32],we=I[j+6-32],ve=I[j+7-32];I[j+0+0]=un(I[j+0-32],W,te),I[j+1+0]=I[j+0+32]=un(W,te,ce),I[j+2+0]=I[j+1+32]=I[j+0+64]=un(te,ce,me),I[j+3+0]=I[j+2+32]=I[j+1+64]=I[j+0+96]=un(ce,me,ge),I[j+3+32]=I[j+2+64]=I[j+1+96]=un(me,ge,we),I[j+3+64]=I[j+2+96]=un(ge,we,ve),I[j+3+96]=un(we,ve,ve)}function Sc(I,j){var W=I[j-1+0],te=I[j-1+32],ce=I[j-1+64],me=I[j-1-32],ge=I[j+0-32],we=I[j+1-32],ve=I[j+2-32],Ee=I[j+3-32];I[j+0+0]=I[j+1+64]=me+ge+1>>1,I[j+1+0]=I[j+2+64]=ge+we+1>>1,I[j+2+0]=I[j+3+64]=we+ve+1>>1,I[j+3+0]=ve+Ee+1>>1,I[j+0+96]=un(ce,te,W),I[j+0+64]=un(te,W,me),I[j+0+32]=I[j+1+96]=un(W,me,ge),I[j+1+32]=I[j+2+96]=un(me,ge,we),I[j+2+32]=I[j+3+96]=un(ge,we,ve),I[j+3+32]=un(we,ve,Ee)}function Qa(I,j){var W=I[j+0-32],te=I[j+1-32],ce=I[j+2-32],me=I[j+3-32],ge=I[j+4-32],we=I[j+5-32],ve=I[j+6-32],Ee=I[j+7-32];I[j+0+0]=W+te+1>>1,I[j+1+0]=I[j+0+64]=te+ce+1>>1,I[j+2+0]=I[j+1+64]=ce+me+1>>1,I[j+3+0]=I[j+2+64]=me+ge+1>>1,I[j+0+32]=un(W,te,ce),I[j+1+32]=I[j+0+96]=un(te,ce,me),I[j+2+32]=I[j+1+96]=un(ce,me,ge),I[j+3+32]=I[j+2+96]=un(me,ge,we),I[j+3+64]=un(ge,we,ve),I[j+3+96]=un(we,ve,Ee)}function Zp(I,j){var W=I[j-1+0],te=I[j-1+32],ce=I[j-1+64],me=I[j-1+96];I[j+0+0]=W+te+1>>1,I[j+2+0]=I[j+0+32]=te+ce+1>>1,I[j+2+32]=I[j+0+64]=ce+me+1>>1,I[j+1+0]=un(W,te,ce),I[j+3+0]=I[j+1+32]=un(te,ce,me),I[j+3+32]=I[j+1+64]=un(ce,me,me),I[j+3+64]=I[j+2+64]=I[j+0+96]=I[j+1+96]=I[j+2+96]=I[j+3+96]=me}function wu(I,j){var W=I[j-1+0],te=I[j-1+32],ce=I[j-1+64],me=I[j-1+96],ge=I[j-1-32],we=I[j+0-32],ve=I[j+1-32],Ee=I[j+2-32];I[j+0+0]=I[j+2+32]=W+ge+1>>1,I[j+0+32]=I[j+2+64]=te+W+1>>1,I[j+0+64]=I[j+2+96]=ce+te+1>>1,I[j+0+96]=me+ce+1>>1,I[j+3+0]=un(we,ve,Ee),I[j+2+0]=un(ge,we,ve),I[j+1+0]=I[j+3+32]=un(W,ge,we),I[j+1+32]=I[j+3+64]=un(te,W,ge),I[j+1+64]=I[j+3+96]=un(ce,te,W),I[j+1+96]=un(me,ce,te)}function Ed(I,j){var W;for(W=0;8>W;++W)o(I,j+32*W,I,j-32,8)}function Jn(I,j){var W;for(W=0;8>W;++W)a(I,j,I[j-1],8),j+=32}function Ec(I,j,W){var te;for(te=0;8>te;++te)a(j,W+32*te,I,8)}function ha(I,j){var W,te=8;for(W=0;8>W;++W)te+=I[j+W-32]+I[j-1+32*W];Ec(te>>4,I,j)}function tf(I,j){var W,te=4;for(W=0;8>W;++W)te+=I[j+W-32];Ec(te>>3,I,j)}function Ns(I,j){var W,te=4;for(W=0;8>W;++W)te+=I[j-1+32*W];Ec(te>>3,I,j)}function Dc(I,j){Ec(128,I,j)}function Ms(I,j,W){var te=I[j-W],ce=I[j+0],me=3*(ce-te)+Ol[1020+I[j-2*W]-I[j+W]],ge=jl[112+(me+4>>3)];I[j-W]=Mo[255+te+jl[112+(me+3>>3)]],I[j+0]=Mo[255+ce-ge]}function Dd(I,j,W,te){var ce=I[j+0],me=I[j+W];return io[255+I[j-2*W]-I[j-W]]>te||io[255+me-ce]>te}function yu(I,j,W,te){return 4*io[255+I[j-W]-I[j+0]]+io[255+I[j-2*W]-I[j+W]]<=te}function nf(I,j,W,te,ce){var me=I[j-3*W],ge=I[j-2*W],we=I[j-W],ve=I[j+0],Ee=I[j+W],Fe=I[j+2*W],nt=I[j+3*W];return 4*io[255+we-ve]+io[255+ge-Ee]>te?0:io[255+I[j-4*W]-me]<=ce&&io[255+me-ge]<=ce&&io[255+ge-we]<=ce&&io[255+nt-Fe]<=ce&&io[255+Fe-Ee]<=ce&&io[255+Ee-ve]<=ce}function Id(I,j,W,te){var ce=2*te+1;for(te=0;16>te;++te)yu(I,j+te,W,ce)&&Ms(I,j+te,W)}function fa(I,j,W,te){var ce=2*te+1;for(te=0;16>te;++te)yu(I,j+te*W,1,ce)&&Ms(I,j+te*W,1)}function Ps(I,j,W,te){var ce;for(ce=3;0<ce;--ce)Id(I,j+=4*W,W,te)}function Xp(I,j,W,te){var ce;for(ce=3;0<ce;--ce)fa(I,j+=4,W,te)}function El(I,j,W,te,ce,me,ge,we){for(me=2*me+1;0<ce--;){if(nf(I,j,W,me,ge))if(Dd(I,j,W,we))Ms(I,j,W);else{var ve=I,Ee=j,Fe=W,nt=ve[Ee-2*Fe],rt=ve[Ee-Fe],Ye=ve[Ee+0],kt=ve[Ee+Fe],ot=ve[Ee+2*Fe],Be=27*(gt=Ol[1020+3*(Ye-rt)+Ol[1020+nt-kt]])+63>>7,$e=18*gt+63>>7,gt=9*gt+63>>7;ve[Ee-3*Fe]=Mo[255+ve[Ee-3*Fe]+gt],ve[Ee-2*Fe]=Mo[255+nt+$e],ve[Ee-Fe]=Mo[255+rt+Be],ve[Ee+0]=Mo[255+Ye-Be],ve[Ee+Fe]=Mo[255+kt-$e],ve[Ee+2*Fe]=Mo[255+ot-gt]}j+=te}}function Os(I,j,W,te,ce,me,ge,we){for(me=2*me+1;0<ce--;){if(nf(I,j,W,me,ge))if(Dd(I,j,W,we))Ms(I,j,W);else{var ve=I,Ee=j,Fe=W,nt=ve[Ee-Fe],rt=ve[Ee+0],Ye=ve[Ee+Fe],kt=jl[112+((ot=3*(rt-nt))+4>>3)],ot=jl[112+(ot+3>>3)],Be=kt+1>>1;ve[Ee-2*Fe]=Mo[255+ve[Ee-2*Fe]+Be],ve[Ee-Fe]=Mo[255+nt+ot],ve[Ee+0]=Mo[255+rt-kt],ve[Ee+Fe]=Mo[255+Ye-Be]}j+=te}}function Dl(I,j,W,te,ce,me){El(I,j,W,1,16,te,ce,me)}function js(I,j,W,te,ce,me){El(I,j,1,W,16,te,ce,me)}function em(I,j,W,te,ce,me){var ge;for(ge=3;0<ge;--ge)Os(I,j+=4*W,W,1,16,te,ce,me)}function vu(I,j,W,te,ce,me){var ge;for(ge=3;0<ge;--ge)Os(I,j+=4,1,W,16,te,ce,me)}function tm(I,j,W,te,ce,me,ge,we){El(I,j,ce,1,8,me,ge,we),El(W,te,ce,1,8,me,ge,we)}function Td(I,j,W,te,ce,me,ge,we){El(I,j,1,ce,8,me,ge,we),El(W,te,1,ce,8,me,ge,we)}function pa(I,j,W,te,ce,me,ge,we){Os(I,j+4*ce,ce,1,8,me,ge,we),Os(W,te+4*ce,ce,1,8,me,ge,we)}function rf(I,j,W,te,ce,me,ge,we){Os(I,j+4,1,ce,8,me,ge,we),Os(W,te+4,1,ce,8,me,ge,we)}function Ic(){this.ba=new Br,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Bn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Au(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function _u(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Nd(){this.ua=0,this.Wa=new he,this.vb=new he,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new R,this.yc=new F}function of(){this.xb=this.a=0,this.l=new Ya,this.ca=new Br,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Z,this.Pb=0,this.wd=new Z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Nd,this.ab=0,this.gc=d(4,_u),this.Oc=0}function Tc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ya,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Nc(I,j,W,te,ce,me,ge){for(I=I==null?0:I[j+0],j=0;j<ge;++j)ce[me+j]=I+W[te+j]&255,I=ce[me+j]}function Cu(I,j,W,te,ce,me,ge){var we;if(I==null)Nc(null,null,W,te,ce,me,ge);else for(we=0;we<ge;++we)ce[me+we]=I[j+we]+W[te+we]&255}function Il(I,j,W,te,ce,me,ge){if(I==null)Nc(null,null,W,te,ce,me,ge);else{var we,ve=I[j+0],Ee=ve,Fe=ve;for(we=0;we<ge;++we)Ee=Fe+(ve=I[j+we])-Ee,Fe=W[te+we]+(-256&Ee?0>Ee?0:255:Ee)&255,Ee=ve,ce[me+we]=Fe}}function xu(I,j,W,te){var ce=j.width,me=j.o;if(r(I!=null&&j!=null),0>W||0>=te||W+te>me)return null;if(!I.Cc){if(I.ga==null){var ge;if(I.ga=new Tc,(ge=I.ga==null)||(ge=j.width*j.o,r(I.Gb.length==0),I.Gb=l(ge),I.Uc=0,I.Gb==null?ge=0:(I.mb=I.Gb,I.nb=I.Uc,I.rc=null,ge=1),ge=!ge),!ge){ge=I.ga;var we=I.Fa,ve=I.P,Ee=I.qc,Fe=I.mb,nt=I.nb,rt=ve+1,Ye=Ee-1,kt=ge.l;if(r(we!=null&&Fe!=null&&j!=null),tl[0]=null,tl[1]=Nc,tl[2]=Cu,tl[3]=Il,ge.ca=Fe,ge.tb=nt,ge.c=j.width,ge.i=j.height,r(0<ge.c&&0<ge.i),1>=Ee)j=0;else if(ge.$a=we[ve+0]>>0&3,ge.Z=we[ve+0]>>2&3,ge.Lc=we[ve+0]>>4&3,ve=we[ve+0]>>6&3,0>ge.$a||1<ge.$a||4<=ge.Z||1<ge.Lc||ve)j=0;else if(kt.put=eo,kt.ac=Nn,kt.bc=ii,kt.ma=ge,kt.width=j.width,kt.height=j.height,kt.Da=j.Da,kt.v=j.v,kt.va=j.va,kt.j=j.j,kt.o=j.o,ge.$a)e:{r(ge.$a==1),j=Ui();t:for(;;){if(j==null){j=0;break e}if(r(ge!=null),ge.mc=j,j.c=ge.c,j.i=ge.i,j.l=ge.l,j.l.ma=ge,j.l.width=ge.c,j.l.height=ge.i,j.a=0,se(j.m,we,rt,Ye),!Io(ge.c,ge.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&as(j.s)?(ge.ic=1,we=j.c*j.i,j.Ta=null,j.Ua=0,j.V=l(we),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(ge.ic=0,j=ca(j,ge.c)),!j))break t;j=1;break e}ge.mc=null,j=0}else j=Ye>=ge.c*ge.i;ge=!j}if(ge)return null;I.ga.Lc!=1?I.Ga=0:te=me-W}r(I.ga!=null),r(W+te<=me);e:{if(j=(we=I.ga).c,me=we.l.o,we.$a==0){if(rt=I.rc,Ye=I.Vc,kt=I.Fa,ve=I.P+1+W*j,Ee=I.mb,Fe=I.nb+W*j,r(ve<=I.P+I.qc),we.Z!=0)for(r(tl[we.Z]!=null),ge=0;ge<te;++ge)tl[we.Z](rt,Ye,kt,ve,Ee,Fe,j),rt=Ee,Ye=Fe,Fe+=j,ve+=j;else for(ge=0;ge<te;++ge)o(Ee,Fe,kt,ve,j),rt=Ee,Ye=Fe,Fe+=j,ve+=j;I.rc=rt,I.Vc=Ye}else{if(r(we.mc!=null),j=W+te,r((ge=we.mc)!=null),r(j<=ge.i),ge.C>=j)j=1;else if(we.ic||Xe(),we.ic){we=ge.V,rt=ge.Ba,Ye=ge.c;var ot=ge.i,Be=(kt=1,ve=ge.$/Ye,Ee=ge.$%Ye,Fe=ge.m,nt=ge.s,ge.$),$e=Ye*ot,gt=Ye*j,vt=nt.wc,bt=Be<gt?Fn(nt,Ee,ve):null;r(Be<=$e),r(j<=ot),r(as(nt));t:for(;;){for(;!Fe.h&&Be<gt;){if(Ee&vt||(bt=Fn(nt,Ee,ve)),r(bt!=null),le(Fe),256>(ot=oi(bt.G[0],bt.H[0],Fe)))we[rt+Be]=ot,++Be,++Ee>=Ye&&(Ee=0,++ve<=j&&!(ve%16)&&Eo(ge,ve));else{if(!(280>ot)){kt=0;break t}ot=zi(ot-256,Fe);var Rt,et=oi(bt.G[4],bt.H[4],Fe);if(le(Fe),!(Be>=(et=to(Ye,et=zi(et,Fe)))&&$e-Be>=ot)){kt=0;break t}for(Rt=0;Rt<ot;++Rt)we[rt+Be+Rt]=we[rt+Be+Rt-et];for(Be+=ot,Ee+=ot;Ee>=Ye;)Ee-=Ye,++ve<=j&&!(ve%16)&&Eo(ge,ve);Be<gt&&Ee&vt&&(bt=Fn(nt,Ee,ve))}r(Fe.h==ae(Fe))}Eo(ge,ve>j?j:ve);break t}!kt||Fe.h&&Be<$e?(kt=0,ge.a=Fe.h?5:3):ge.$=Be,j=kt}else j=Do(ge,ge.V,ge.Ba,ge.c,ge.i,j,Ga);if(!j){te=0;break e}}W+te>=me&&(I.Cc=1),te=1}if(!te)return null;if(I.Cc&&((te=I.ga)!=null&&(te.mc=null),I.ga=null,0<I.Ga))return alert("todo:WebPDequantizeLevels"),null}return I.nb+W*ce}function z(I,j,W,te,ce,me){for(;0<ce--;){var ge,we=I,ve=j+(W?1:0),Ee=I,Fe=j+(W?0:3);for(ge=0;ge<te;++ge){var nt=Ee[Fe+4*ge];nt!=255&&(nt*=32897,we[ve+4*ge+0]=we[ve+4*ge+0]*nt>>23,we[ve+4*ge+1]=we[ve+4*ge+1]*nt>>23,we[ve+4*ge+2]=we[ve+4*ge+2]*nt>>23)}j+=me}}function de(I,j,W,te,ce){for(;0<te--;){var me;for(me=0;me<W;++me){var ge=I[j+2*me+0],we=15&(Ee=I[j+2*me+1]),ve=4369*we,Ee=(240&Ee|Ee>>4)*ve>>16;I[j+2*me+0]=(240&ge|ge>>4)*ve>>16&240|(15&ge|ge<<4)*ve>>16>>4&15,I[j+2*me+1]=240&Ee|we}j+=ce}}function Te(I,j,W,te,ce,me,ge,we){var ve,Ee,Fe=255;for(Ee=0;Ee<ce;++Ee){for(ve=0;ve<te;++ve){var nt=I[j+ve];me[ge+4*ve]=nt,Fe&=nt}j+=W,ge+=we}return Fe!=255}function Re(I,j,W,te,ce){var me;for(me=0;me<ce;++me)W[te+me]=I[j+me]>>8}function Xe(){Qo=z,qt=de,Zn=Te,Fr=Re}function dt(I,j,W){L[I]=function(te,ce,me,ge,we,ve,Ee,Fe,nt,rt,Ye,kt,ot,Be,$e,gt,vt){var bt,Rt=vt-1>>1,et=we[ve+0]|Ee[Fe+0]<<16,Zt=nt[rt+0]|Ye[kt+0]<<16;r(te!=null);var Ot=3*et+Zt+131074>>2;for(j(te[ce+0],255&Ot,Ot>>16,ot,Be),me!=null&&(Ot=3*Zt+et+131074>>2,j(me[ge+0],255&Ot,Ot>>16,$e,gt)),bt=1;bt<=Rt;++bt){var Nt=we[ve+bt]|Ee[Fe+bt]<<16,zn=nt[rt+bt]|Ye[kt+bt]<<16,On=et+Nt+Zt+zn+524296,xn=On+2*(Nt+Zt)>>3;Ot=xn+et>>1,et=(On=On+2*(et+zn)>>3)+Nt>>1,j(te[ce+2*bt-1],255&Ot,Ot>>16,ot,Be+(2*bt-1)*W),j(te[ce+2*bt-0],255&et,et>>16,ot,Be+(2*bt-0)*W),me!=null&&(Ot=On+Zt>>1,et=xn+zn>>1,j(me[ge+2*bt-1],255&Ot,Ot>>16,$e,gt+(2*bt-1)*W),j(me[ge+2*bt+0],255&et,et>>16,$e,gt+(2*bt+0)*W)),et=Nt,Zt=zn}1&vt||(Ot=3*et+Zt+131074>>2,j(te[ce+vt-1],255&Ot,Ot>>16,ot,Be+(vt-1)*W),me!=null&&(Ot=3*Zt+et+131074>>2,j(me[ge+vt-1],255&Ot,Ot>>16,$e,gt+(vt-1)*W)))}}function xt(){ds[Aa]=Rw,ds[Rd]=Mb,ds[Bd]=Bw,ds[Fd]=Fw,ds[zd]=Pb,ds[uf]=Ob,ds[Cb]=zw,ds[rm]=Mb,ds[df]=Fw,ds[Ud]=Pb,ds[hf]=Ob}function jt(I){return I&-16384?0>I?0:255:I>>jb}function Gt(I,j){return jt((19077*I>>8)+(26149*j>>8)-14234)}function dn(I,j,W){return jt((19077*I>>8)-(6419*j>>8)-(13320*W>>8)+8708)}function cn(I,j){return jt((19077*I>>8)+(33050*j>>8)-17685)}function In(I,j,W,te,ce){te[ce+0]=Gt(I,W),te[ce+1]=dn(I,j,W),te[ce+2]=cn(I,j)}function Er(I,j,W,te,ce){te[ce+0]=cn(I,j),te[ce+1]=dn(I,j,W),te[ce+2]=Gt(I,W)}function Mr(I,j,W,te,ce){var me=dn(I,j,W);j=me<<3&224|cn(I,j)>>3,te[ce+0]=248&Gt(I,W)|me>>5,te[ce+1]=j}function Yr(I,j,W,te,ce){var me=240&cn(I,j)|15;te[ce+0]=240&Gt(I,W)|dn(I,j,W)>>4,te[ce+1]=me}function Hi(I,j,W,te,ce){te[ce+0]=255,In(I,j,W,te,ce+1)}function ki(I,j,W,te,ce){Er(I,j,W,te,ce),te[ce+3]=255}function Ls(I,j,W,te,ce){In(I,j,W,te,ce),te[ce+3]=255}function Wo(I,j){return 0>I?0:I>j?j:I}function ma(I,j,W){L[I]=function(te,ce,me,ge,we,ve,Ee,Fe,nt){for(var rt=Fe+(-2&nt)*W;Fe!=rt;)j(te[ce+0],me[ge+0],we[ve+0],Ee,Fe),j(te[ce+1],me[ge+0],we[ve+0],Ee,Fe+W),ce+=2,++ge,++ve,Fe+=2*W;1&nt&&j(te[ce+0],me[ge+0],we[ve+0],Ee,Fe)}}function sf(I,j,W){return W==0?I==0?j==0?6:5:j==0?4:0:W}function Md(I,j,W,te,ce){switch(I>>>30){case 3:jn(j,W,te,ce,0);break;case 2:Pr(j,W,te,ce);break;case 1:Kr(j,W,te,ce)}}function Rs(I,j){var W,te,ce=j.M,me=j.Nb,ge=I.oc,we=I.pc+40,ve=I.oc,Ee=I.pc+584,Fe=I.oc,nt=I.pc+600;for(W=0;16>W;++W)ge[we+32*W-1]=129;for(W=0;8>W;++W)ve[Ee+32*W-1]=129,Fe[nt+32*W-1]=129;for(0<ce?ge[we-1-32]=ve[Ee-1-32]=Fe[nt-1-32]=129:(a(ge,we-32-1,127,21),a(ve,Ee-32-1,127,9),a(Fe,nt-32-1,127,9)),te=0;te<I.za;++te){var rt=j.ya[j.aa+te];if(0<te){for(W=-1;16>W;++W)o(ge,we+32*W-4,ge,we+32*W+12,4);for(W=-1;8>W;++W)o(ve,Ee+32*W-4,ve,Ee+32*W+4,4),o(Fe,nt+32*W-4,Fe,nt+32*W+4,4)}var Ye=I.Gd,kt=I.Hd+te,ot=rt.ad,Be=rt.Hc;if(0<ce&&(o(ge,we-32,Ye[kt].y,0,16),o(ve,Ee-32,Ye[kt].f,0,8),o(Fe,nt-32,Ye[kt].ea,0,8)),rt.Za){var $e=ge,gt=we-32+16;for(0<ce&&(te>=I.za-1?a($e,gt,Ye[kt].y[15],4):o($e,gt,Ye[kt+1].y,0,4)),W=0;4>W;W++)$e[gt+128+W]=$e[gt+256+W]=$e[gt+384+W]=$e[gt+0+W];for(W=0;16>W;++W,Be<<=2)$e=ge,gt=we+pf[W],Bs[rt.Ob[W]]($e,gt),Md(Be,ot,16*+W,$e,gt)}else if($e=sf(te,ce,rt.Ob[0]),Rl[$e](ge,we),Be!=0)for(W=0;16>W;++W,Be<<=2)Md(Be,ot,16*+W,ge,we+pf[W]);for(W=rt.Gc,$e=sf(te,ce,rt.Dd),el[$e](ve,Ee),el[$e](Fe,nt),Be=ot,$e=ve,gt=Ee,255&(rt=W>>0)&&(170&rt?Oc(Be,256,$e,gt):Yo(Be,256,$e,gt)),rt=Fe,Be=nt,255&(W>>=8)&&(170&W?Oc(ot,320,rt,Be):Yo(ot,320,rt,Be)),ce<I.Ub-1&&(o(Ye[kt].y,0,ge,we+480,16),o(Ye[kt].f,0,ve,Ee+224,8),o(Ye[kt].ea,0,Fe,nt+224,8)),W=8*me*I.B,Ye=I.sa,kt=I.ta+16*te+16*me*I.R,ot=I.qa,rt=I.ra+8*te+W,Be=I.Ha,$e=I.Ia+8*te+W,W=0;16>W;++W)o(Ye,kt+W*I.R,ge,we+32*W,16);for(W=0;8>W;++W)o(ot,rt+W*I.B,ve,Ee+32*W,8),o(Be,$e+W*I.B,Fe,nt+32*W,8)}}function ga(I,j,W,te,ce,me,ge,we,ve){var Ee=[0],Fe=[0],nt=0,rt=ve!=null?ve.kd:0,Ye=ve??new Au;if(I==null||12>W)return 7;Ye.data=I,Ye.w=j,Ye.ha=W,j=[j],W=[W],Ye.gb=[Ye.gb];e:{var kt=j,ot=W,Be=Ye.gb;if(r(I!=null),r(ot!=null),r(Be!=null),Be[0]=0,12<=ot[0]&&!n(I,kt[0],"RIFF")){if(n(I,kt[0]+8,"WEBP")){Be=3;break e}var $e=ze(I,kt[0]+4);if(12>$e||4294967286<$e){Be=3;break e}if(rt&&$e>ot[0]-8){Be=7;break e}Be[0]=$e,kt[0]+=12,ot[0]-=12}Be=0}if(Be!=0)return Be;for($e=0<Ye.gb[0],W=W[0];;){e:{var gt=I;ot=j,Be=W;var vt=Ee,bt=Fe,Rt=kt=[0];if((Ot=nt=[nt])[0]=0,8>Be[0])Be=7;else{if(!n(gt,ot[0],"VP8X")){if(ze(gt,ot[0]+4)!=10){Be=3;break e}if(18>Be[0]){Be=7;break e}var et=ze(gt,ot[0]+8),Zt=1+Je(gt,ot[0]+12);if(2147483648<=Zt*(gt=1+Je(gt,ot[0]+15))){Be=3;break e}Rt!=null&&(Rt[0]=et),vt!=null&&(vt[0]=Zt),bt!=null&&(bt[0]=gt),ot[0]+=18,Be[0]-=18,Ot[0]=1}Be=0}}if(nt=nt[0],kt=kt[0],Be!=0)return Be;if(ot=!!(2&kt),!$e&&nt)return 3;if(me!=null&&(me[0]=!!(16&kt)),ge!=null&&(ge[0]=ot),we!=null&&(we[0]=0),ge=Ee[0],kt=Fe[0],nt&&ot&&ve==null){Be=0;break}if(4>W){Be=7;break}if($e&&nt||!$e&&!nt&&!n(I,j[0],"ALPH")){W=[W],Ye.na=[Ye.na],Ye.P=[Ye.P],Ye.Sa=[Ye.Sa];e:{et=I,Be=j,$e=W;var Ot=Ye.gb;vt=Ye.na,bt=Ye.P,Rt=Ye.Sa,Zt=22,r(et!=null),r($e!=null),gt=Be[0];var Nt=$e[0];for(r(vt!=null),r(Rt!=null),vt[0]=null,bt[0]=null,Rt[0]=0;;){if(Be[0]=gt,$e[0]=Nt,8>Nt){Be=7;break e}var zn=ze(et,gt+4);if(4294967286<zn){Be=3;break e}var On=8+zn+1&-2;if(Zt+=On,0<Ot&&Zt>Ot){Be=3;break e}if(!n(et,gt,"VP8 ")||!n(et,gt,"VP8L")){Be=0;break e}if(Nt[0]<On){Be=7;break e}n(et,gt,"ALPH")||(vt[0]=et,bt[0]=gt+8,Rt[0]=zn),gt+=On,Nt-=On}}if(W=W[0],Ye.na=Ye.na[0],Ye.P=Ye.P[0],Ye.Sa=Ye.Sa[0],Be!=0)break}W=[W],Ye.Ja=[Ye.Ja],Ye.xa=[Ye.xa];e:if(Ot=I,Be=j,$e=W,vt=Ye.gb[0],bt=Ye.Ja,Rt=Ye.xa,et=Be[0],gt=!n(Ot,et,"VP8 "),Zt=!n(Ot,et,"VP8L"),r(Ot!=null),r($e!=null),r(bt!=null),r(Rt!=null),8>$e[0])Be=7;else{if(gt||Zt){if(Ot=ze(Ot,et+4),12<=vt&&Ot>vt-12){Be=3;break e}if(rt&&Ot>$e[0]-8){Be=7;break e}bt[0]=Ot,Be[0]+=8,$e[0]-=8,Rt[0]=Zt}else Rt[0]=5<=$e[0]&&Ot[et+0]==47&&!(Ot[et+4]>>5),bt[0]=$e[0];Be=0}if(W=W[0],Ye.Ja=Ye.Ja[0],Ye.xa=Ye.xa[0],j=j[0],Be!=0)break;if(4294967286<Ye.Ja)return 3;if(we==null||ot||(we[0]=Ye.xa?2:1),ge=[ge],kt=[kt],Ye.xa){if(5>W){Be=7;break}we=ge,rt=kt,ot=me,I==null||5>W?I=0:5<=W&&I[j+0]==47&&!(I[j+4]>>5)?($e=[0],Ot=[0],vt=[0],se(bt=new Z,I,j,W),Ht(bt,$e,Ot,vt)?(we!=null&&(we[0]=$e[0]),rt!=null&&(rt[0]=Ot[0]),ot!=null&&(ot[0]=vt[0]),I=1):I=0):I=0}else{if(10>W){Be=7;break}we=kt,I==null||10>W||!_l(I,j+3,W-3)?I=0:(rt=I[j+0]|I[j+1]<<8|I[j+2]<<16,ot=16383&(I[j+7]<<8|I[j+6]),I=16383&(I[j+9]<<8|I[j+8]),1&rt||3<(rt>>1&7)||!(rt>>4&1)||rt>>5>=Ye.Ja||!ot||!I?I=0:(ge&&(ge[0]=ot),we&&(we[0]=I),I=1))}if(!I||(ge=ge[0],kt=kt[0],nt&&(Ee[0]!=ge||Fe[0]!=kt)))return 3;ve!=null&&(ve[0]=Ye,ve.offset=j-ve.w,r(4294967286>j-ve.w),r(ve.offset==ve.ha-W));break}return Be==0||Be==7&&nt&&ve==null?(me!=null&&(me[0]|=Ye.na!=null&&0<Ye.na.length),te!=null&&(te[0]=ge),ce!=null&&(ce[0]=kt),0):Be}function Pd(I,j,W){var te=j.width,ce=j.height,me=0,ge=0,we=te,ve=ce;if(j.Da=I!=null&&0<I.Da,j.Da&&(we=I.cd,ve=I.bd,me=I.v,ge=I.j,11>W||(me&=-2,ge&=-2),0>me||0>ge||0>=we||0>=ve||me+we>te||ge+ve>ce))return 0;if(j.v=me,j.j=ge,j.va=me+we,j.o=ge+ve,j.U=we,j.T=ve,j.da=I!=null&&0<I.da,j.da){if(!be(we,ve,W=[I.ib],me=[I.hb]))return 0;j.ib=W[0],j.hb=me[0]}return j.ob=I!=null&&I.ob,j.Kb=I==null||!I.Sd,j.da&&(j.ob=j.ib<3*te/4&&j.hb<3*ce/4,j.Kb=0),1}function Od(I){if(I==null)return 2;if(11>I.S){var j=I.f.RGBA;j.fb+=(I.height-1)*j.A,j.A=-j.A}else j=I.f.kb,I=I.height,j.O+=(I-1)*j.fa,j.fa=-j.fa,j.N+=(I-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(I-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(I-1)*j.lb,j.lb=-j.lb);return 0}function Ja(I,j,W,te){if(te==null||0>=I||0>=j)return 2;if(W!=null){if(W.Da){var ce=W.cd,me=W.bd,ge=-2&W.v,we=-2&W.j;if(0>ge||0>we||0>=ce||0>=me||ge+ce>I||we+me>j)return 2;I=ce,j=me}if(W.da){if(!be(I,j,ce=[W.ib],me=[W.hb]))return 2;I=ce[0],j=me[0]}}te.width=I,te.height=j;e:{var ve=te.width,Ee=te.height;if(I=te.S,0>=ve||0>=Ee||!(I>=Aa&&13>I))I=2;else{if(0>=te.Rd&&te.sd==null){ge=me=ce=j=0;var Fe=(we=ve*Jo[I])*Ee;if(11>I||(me=(Ee+1)/2*(j=(ve+1)/2),I==12&&(ge=(ce=ve)*Ee)),(Ee=l(Fe+2*me+ge))==null){I=1;break e}te.sd=Ee,11>I?((ve=te.f.RGBA).eb=Ee,ve.fb=0,ve.A=we,ve.size=Fe):((ve=te.f.kb).y=Ee,ve.O=0,ve.fa=we,ve.Fd=Fe,ve.f=Ee,ve.N=0+Fe,ve.Ab=j,ve.Cd=me,ve.ea=Ee,ve.W=0+Fe+me,ve.Db=j,ve.Ed=me,I==12&&(ve.F=Ee,ve.J=0+Fe+2*me),ve.Tc=ge,ve.lb=ce)}if(j=1,ce=te.S,me=te.width,ge=te.height,ce>=Aa&&13>ce)if(11>ce)I=te.f.RGBA,j&=(we=Math.abs(I.A))*(ge-1)+me<=I.size,j&=we>=me*Jo[ce],j&=I.eb!=null;else{I=te.f.kb,we=(me+1)/2,Fe=(ge+1)/2,ve=Math.abs(I.fa),Ee=Math.abs(I.Ab);var nt=Math.abs(I.Db),rt=Math.abs(I.lb),Ye=rt*(ge-1)+me;j&=ve*(ge-1)+me<=I.Fd,j&=Ee*(Fe-1)+we<=I.Cd,j=(j&=nt*(Fe-1)+we<=I.Ed)&ve>=me&Ee>=we&nt>=we,j&=I.y!=null,j&=I.f!=null,j&=I.ea!=null,ce==12&&(j&=rt>=me,j&=Ye<=I.Tc,j&=I.F!=null)}else j=0;I=j?0:2}}return I!=0||W!=null&&W.fd&&(I=Od(te)),I}var wi=64,Su=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Eu=24,Du=32,Iu=8,ho=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Oe("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(I){return I},L.Predictor2=function(I,j,W){return j[W+0]},L.Predictor3=function(I,j,W){return j[W+1]},L.Predictor4=function(I,j,W){return j[W-1]},L.Predictor5=function(I,j,W){return De(De(I,j[W+1]),j[W+0])},L.Predictor6=function(I,j,W){return De(I,j[W-1])},L.Predictor7=function(I,j,W){return De(I,j[W+0])},L.Predictor8=function(I,j,W){return De(j[W-1],j[W+0])},L.Predictor9=function(I,j,W){return De(j[W+0],j[W+1])},L.Predictor10=function(I,j,W){return De(De(I,j[W-1]),De(j[W+0],j[W+1]))},L.Predictor11=function(I,j,W){var te=j[W+0];return 0>=He(te>>24&255,I>>24&255,(j=j[W-1])>>24&255)+He(te>>16&255,I>>16&255,j>>16&255)+He(te>>8&255,I>>8&255,j>>8&255)+He(255&te,255&I,255&j)?te:I},L.Predictor12=function(I,j,W){var te=j[W+0];return(qe((I>>24&255)+(te>>24&255)-((j=j[W-1])>>24&255))<<24|qe((I>>16&255)+(te>>16&255)-(j>>16&255))<<16|qe((I>>8&255)+(te>>8&255)-(j>>8&255))<<8|qe((255&I)+(255&te)-(255&j)))>>>0},L.Predictor13=function(I,j,W){var te=j[W-1];return(Ve((I=De(I,j[W+0]))>>24&255,te>>24&255)<<24|Ve(I>>16&255,te>>16&255)<<16|Ve(I>>8&255,te>>8&255)<<8|Ve(I>>0&255,te>>0&255))>>>0};var nm=L.PredictorAdd0;L.PredictorAdd1=st,Oe("Predictor2","PredictorAdd2"),Oe("Predictor3","PredictorAdd3"),Oe("Predictor4","PredictorAdd4"),Oe("Predictor5","PredictorAdd5"),Oe("Predictor6","PredictorAdd6"),Oe("Predictor7","PredictorAdd7"),Oe("Predictor8","PredictorAdd8"),Oe("Predictor9","PredictorAdd9"),Oe("Predictor10","PredictorAdd10"),Oe("Predictor11","PredictorAdd11"),Oe("Predictor12","PredictorAdd12"),Oe("Predictor13","PredictorAdd13");var Tu=L.PredictorAdd2;_t("ColorIndexInverseTransform","MapARGB","32b",function(I){return I>>8&255},function(I){return I}),_t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(I){return I},function(I){return I>>8&255});var af,Go=L.ColorIndexInverseTransform,Nu=L.MapARGB,jd=L.VP8LColorIndexInverseTransformAlpha,lf=L.MapAlpha,Za=L.VP8LPredictorsAdd=[];Za.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Mc,No,ro,Tl,ba,ka,Pc,jn,Pr,Oc,Kr,Yo,jc,cf,us,wa,Nl,yi,Lc,Rc,Ml,rr,Pl,Ko,Qo,qt,Zn,Fr,Qr=l(511),ya=l(2041),Cr=l(225),va=l(767),Ld=0,Ol=ya,jl=Cr,Mo=va,io=Qr,Aa=0,Rd=1,Bd=2,Fd=3,zd=4,uf=5,Cb=6,rm=7,df=8,Ud=9,hf=10,xb=[2,3,7],im=[3,3,11],Sb=[280,256,256,256,40],Eb=[0,1,1,1,0],Ow=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],jw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Db=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Pn=8,om=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ll=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xa=null,ff=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ir=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],am=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ib=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Lw=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Tb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Rl=[],Bs=[],el=[],Bl=1,Nb=2,tl=[],ds=[];dt("UpsampleRgbLinePair",In,3),dt("UpsampleBgrLinePair",Er,3),dt("UpsampleRgbaLinePair",Ls,4),dt("UpsampleBgraLinePair",ki,4),dt("UpsampleArgbLinePair",Hi,4),dt("UpsampleRgba4444LinePair",Yr,2),dt("UpsampleRgb565LinePair",Mr,2);var Rw=L.UpsampleRgbLinePair,Bw=L.UpsampleBgrLinePair,Mb=L.UpsampleRgbaLinePair,Fw=L.UpsampleBgraLinePair,Pb=L.UpsampleArgbLinePair,Ob=L.UpsampleRgba4444LinePair,zw=L.UpsampleRgb565LinePair,qd=16,Mu=1<<qd-1,Vd=-227,lm=482,jb=6,Lb=0,Fs=l(256),ji=l(256),Li=l(256),fo=l(256),_a=l(lm-Vd),cm=l(lm-Vd);ma("YuvToRgbRow",In,3),ma("YuvToBgrRow",Er,3),ma("YuvToRgbaRow",Ls,4),ma("YuvToBgraRow",ki,4),ma("YuvToArgbRow",Hi,4),ma("YuvToRgba4444Row",Yr,2),ma("YuvToRgb565Row",Mr,2);var pf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Pu=[0,2,8],Uw=[8,7,6,4,4,2,2,2,1,1,1,1],Rb=1;this.WebPDecodeRGBA=function(I,j,W,te,ce){var me=Rd,ge=new Ic,we=new Br;ge.ba=we,we.S=me,we.width=[we.width],we.height=[we.height];var ve=we.width,Ee=we.height,Fe=new Wr;if(Fe==null||I==null)var nt=2;else r(Fe!=null),nt=ga(I,j,W,Fe.width,Fe.height,Fe.Pd,Fe.Qd,Fe.format,null);if(nt!=0?ve=0:(ve!=null&&(ve[0]=Fe.width[0]),Ee!=null&&(Ee[0]=Fe.height[0]),ve=1),ve){we.width=we.width[0],we.height=we.height[0],te!=null&&(te[0]=we.width),ce!=null&&(ce[0]=we.height);e:{if(te=new Ya,(ce=new Au).data=I,ce.w=j,ce.ha=W,ce.kd=1,j=[0],r(ce!=null),((I=ga(ce.data,ce.w,ce.ha,null,null,null,j,null,ce))==0||I==7)&&j[0]&&(I=4),(j=I)==0){if(r(ge!=null),te.data=ce.data,te.w=ce.w+ce.offset,te.ha=ce.ha-ce.offset,te.put=eo,te.ac=Nn,te.bc=ii,te.ma=ge,ce.xa){if((I=Ui())==null){ge=1;break e}if(function(rt,Ye){var kt=[0],ot=[0],Be=[0];t:for(;;){if(rt==null)return 0;if(Ye==null)return rt.a=2,0;if(rt.l=Ye,rt.a=0,se(rt.m,Ye.data,Ye.w,Ye.ha),!Ht(rt.m,kt,ot,Be)){rt.a=3;break t}if(rt.xb=Nb,Ye.width=kt[0],Ye.height=ot[0],!Io(kt[0],ot[0],1,rt,null))break t;return 1}return r(rt.a!=0),0}(I,te)){if(te=(j=Ja(te.width,te.height,ge.Oa,ge.ba))==0){t:{te=I;n:for(;;){if(te==null){te=0;break t}if(r(te.s.yc!=null),r(te.s.Ya!=null),r(0<te.s.Wb),r((W=te.l)!=null),r((ce=W.ma)!=null),te.xb!=0){if(te.ca=ce.ba,te.tb=ce.tb,r(te.ca!=null),!Pd(ce.Oa,W,Fd)){te.a=2;break n}if(!ca(te,W.width)||W.da)break n;if((W.da||gn(te.ca.S))&&Xe(),11>te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),te.ca.f.kb.F!=null&&Xe()),te.Pb&&0<te.s.ua&&te.s.vb.X==null&&!X(te.s.vb,te.s.Wa.Xa)){te.a=1;break n}te.xb=0}if(!Do(te,te.V,te.Ba,te.c,te.i,W.o,ss))break n;ce.Dc=te.Ma,te=1;break t}r(te.a!=0),te=0}te=!te}te&&(j=I.a)}else j=I.a}else{if((I=new pu)==null){ge=1;break e}if(I.Fa=ce.na,I.P=ce.P,I.qc=ce.Sa,_c(I,te)){if((j=Ja(te.width,te.height,ge.Oa,ge.ba))==0){if(I.Aa=0,W=ge.Oa,r((ce=I)!=null),W!=null){if(0<(ve=0>(ve=W.Md)?0:100<ve?255:255*ve/100)){for(Ee=Fe=0;4>Ee;++Ee)12>(nt=ce.pb[Ee]).lc&&(nt.ia=ve*Uw[0>nt.lc?0:nt.lc]>>3),Fe|=nt.ia;Fe&&(alert("todo:VP8InitRandom"),ce.ia=1)}ce.Ga=W.Id,100<ce.Ga?ce.Ga=100:0>ce.Ga&&(ce.Ga=0)}Jh(I,te)||(j=I.a)}}else j=I.a}j==0&&ge.Oa!=null&&ge.Oa.fd&&(j=Od(ge.ba))}ge=j}me=ge!=0?null:11>me?we.f.RGBA.eb:we.f.kb.y}else me=null;return me};var Jo=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function g(L,q){for(var Q="",H=0;H<4;H++)Q+=String.fromCharCode(L[q++]);return Q}function b(L,q){return(L[q+0]<<0|L[q+1]<<8|L[q+2]<<16)>>>0}function y(L,q){return(L[q+0]<<0|L[q+1]<<8|L[q+2]<<16|L[q+3]<<24)>>>0}new p;var v=[0],k=[0],x=[],C=new p,D=t,S=function(L,q){var Q={},H=0,F=!1,G=0,R=0;if(Q.frames=[],!function(J,ae,fe,le){for(var Ie=0;Ie<le;Ie++)if(J[ae+Ie]!=fe.charCodeAt(Ie))return!0;return!1}(L,q,"RIFF",4)){for(y(L,q+=4),q+=8;q<L.length;){var ne=g(L,q),ue=y(L,q+=4);q+=4;var ie=ue+(1&ue);switch(ne){case"VP8 ":case"VP8L":Q.frames[H]===void 0&&(Q.frames[H]={}),(re=Q.frames[H]).src_off=F?R:q-8,re.src_size=G+ue+8,H++,F&&(F=!1,G=0,R=0);break;case"VP8X":(re=Q.header={}).feature_flags=L[q];var se=q+4;re.canvas_width=1+b(L,se),se+=3,re.canvas_height=1+b(L,se),se+=3;break;case"ALPH":F=!0,G=ie+8,R=q-8;break;case"ANIM":(re=Q.header).bgcolor=y(L,q),se=q+4,re.loop_count=(_e=L)[(Z=se)+0]<<0|_e[Z+1]<<8,se+=2;break;case"ANMF":var ye,re;(re=Q.frames[H]={}).offset_x=2*b(L,q),q+=3,re.offset_y=2*b(L,q),q+=3,re.width=1+b(L,q),q+=3,re.height=1+b(L,q),q+=3,re.duration=b(L,q),q+=3,ye=L[q++],re.dispose=1&ye,re.blend=ye>>1&1}ne!="ANMF"&&(q+=ie)}var _e,Z;return Q}}(D,0);S.response=D,S.rgbaoutput=!0,S.dataurl=!1;var N=S.header?S.header:null,P=S.frames?S.frames:null;if(N){N.loop_counter=N.loop_count,v=[N.canvas_height],k=[N.canvas_width];for(var B=0;B<P.length&&P[B].blend!=0;B++);}var $=P[0],V=C.WebPDecodeRGBA(D,$.src_off,$.src_size,k,v);$.rgba=V,$.imgwidth=k[0],$.imgheight=v[0];for(var M=0;M<k[0]*v[0]*4;M++)x[M]=V[M];return this.width=k,this.height=v,this.data=x,this}(function(t){var r=function(){return typeof JA=="function"},n=function(v,k,x,C){var D=4,S=d;switch(C){case t.image_compression.FAST:D=1,S=l;break;case t.image_compression.MEDIUM:D=6,S=h;break;case t.image_compression.SLOW:D=9,S=p}v=o(v,k,x,S);var N=JA(v,{level:D});return t.__addimage__.arrayBufferToBinaryString(N)},o=function(v,k,x,C){for(var D,S,N,P=v.length/k,B=new Uint8Array(v.length+P),$=b(),V=0;V<P;V+=1){if(N=V*k,D=v.subarray(N,N+k),C)B.set(C(D,x,S),N+V);else{for(var M,L=$.length,q=[];M<L;M+=1)q[M]=$[M](D,x,S);var Q=y(q.concat());B.set(q[Q],N+V)}S=D}return B},a=function(v){var k=Array.apply([],v);return k.unshift(0),k},l=function(v,k){var x,C=[],D=v.length;C[0]=1;for(var S=0;S<D;S+=1)x=v[S-k]||0,C[S+1]=v[S]-x+256&255;return C},d=function(v,k,x){var C,D=[],S=v.length;D[0]=2;for(var N=0;N<S;N+=1)C=x&&x[N]||0,D[N+1]=v[N]-C+256&255;return D},h=function(v,k,x){var C,D,S=[],N=v.length;S[0]=3;for(var P=0;P<N;P+=1)C=v[P-k]||0,D=x&&x[P]||0,S[P+1]=v[P]+256-(C+D>>>1)&255;return S},p=function(v,k,x){var C,D,S,N,P=[],B=v.length;P[0]=4;for(var $=0;$<B;$+=1)C=v[$-k]||0,D=x&&x[$]||0,S=x&&x[$-k]||0,N=g(C,D,S),P[$+1]=v[$]-N+256&255;return P},g=function(v,k,x){if(v===k&&k===x)return v;var C=Math.abs(k-x),D=Math.abs(v-x),S=Math.abs(v+k-x-x);return C<=D&&C<=S?v:D<=S?k:x},b=function(){return[a,l,d,h,p]},y=function(v){var k=v.map(function(x){return x.reduce(function(C,D){return C+Math.abs(D)},0)});return k.indexOf(Math.min.apply(null,k))};t.processPNG=function(v,k,x,C){var D,S,N,P,B,$,V,M,L,q,Q,H,F,G,R,ne=this.decode.FLATE_DECODE,ue="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(N=new rne(v)).imgData,S=N.bits,D=N.colorSpace,B=N.colors,[4,6].indexOf(N.colorType)!==-1){if(N.bits===8){L=(M=N.pixelBitlength==32?new Uint32Array(N.decodePixels().buffer):N.pixelBitlength==16?new Uint16Array(N.decodePixels().buffer):new Uint8Array(N.decodePixels().buffer)).length,Q=new Uint8Array(L*N.colors),q=new Uint8Array(L);var ie,se=N.pixelBitlength-N.bits;for(G=0,R=0;G<L;G++){for(F=M[G],ie=0;ie<se;)Q[R++]=F>>>ie&255,ie+=N.bits;q[G]=F>>>ie&255}}if(N.bits===16){L=(M=new Uint32Array(N.decodePixels().buffer)).length,Q=new Uint8Array(L*(32/N.pixelBitlength)*N.colors),q=new Uint8Array(L*(32/N.pixelBitlength)),H=N.colors>1,G=0,R=0;for(var ye=0;G<L;)F=M[G++],Q[R++]=F>>>0&255,H&&(Q[R++]=F>>>16&255,F=M[G++],Q[R++]=F>>>0&255),q[ye++]=F>>>16&255;S=8}C!==t.image_compression.NONE&&r()?(v=n(Q,N.width*N.colors,N.colors,C),V=n(q,N.width,1,C)):(v=Q,V=q,ne=void 0)}if(N.colorType===3&&(D=this.color_spaces.INDEXED,$=N.palette,N.transparency.indexed)){var re=N.transparency.indexed,_e=0;for(G=0,L=re.length;G<L;++G)_e+=re[G];if((_e/=255)===L-1&&re.indexOf(0)!==-1)P=[re.indexOf(0)];else if(_e!==L){for(M=N.decodePixels(),q=new Uint8Array(M.length),G=0,L=M.length;G<L;G++)q[G]=re[M[G]];V=n(q,N.width,1)}}var Z=function(J){var ae;switch(J){case t.image_compression.FAST:ae=11;break;case t.image_compression.MEDIUM:ae=13;break;case t.image_compression.SLOW:ae=14;break;default:ae=12}return ae}(C);return ne===this.decode.FLATE_DECODE&&(ue="/Predictor "+Z+" "),ue+="/Colors "+B+" /BitsPerComponent "+S+" /Columns "+N.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(V&&this.__addimage__.isArrayBuffer(V)||this.__addimage__.isArrayBufferView(V))&&(V=this.__addimage__.arrayBufferToBinaryString(V)),{alias:x,data:v,index:k,filter:ne,decodeParameters:ue,transparency:P,palette:$,sMask:V,predictor:Z,width:N.width,height:N.height,bitsPerComponent:S,colorSpace:D}}}})(an.API),function(t){t.processGIF89A=function(r,n,o,a){var l=new ine(r),d=l.width,h=l.height,p=[];l.decodeAndBlitFrameRGBA(0,p);var g={data:p,width:d,height:h},b=new Wv(100).encode(g,100);return t.processJPEG.call(this,b,n,o,a)},t.processGIF87A=t.processGIF89A}(an.API),cl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var r=0;r<t;r++){var n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:a,green:o,blue:n,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},cl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[t]()}catch(n){Sr.log("bit decode error:"+n)}},cl.prototype.bit1=function(){var t,r=Math.ceil(this.width/8),n=r%4;for(t=this.height-1;t>=0;t--){for(var o=this.bottom_up?t:this.height-1-t,a=0;a<r;a++)for(var l=this.datav.getUint8(this.pos++,!0),d=o*this.width*4+8*a*4,h=0;h<8&&8*a+h<this.width;h++){var p=this.palette[l>>7-h&1];this.data[d+4*h]=p.blue,this.data[d+4*h+1]=p.green,this.data[d+4*h+2]=p.red,this.data[d+4*h+3]=255}n!==0&&(this.pos+=4-n)}},cl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),r=t%4,n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,a=0;a<t;a++){var l=this.datav.getUint8(this.pos++,!0),d=o*this.width*4+2*a*4,h=l>>4,p=15&l,g=this.palette[h];if(this.data[d]=g.blue,this.data[d+1]=g.green,this.data[d+2]=g.red,this.data[d+3]=255,2*a+1>=this.width)break;g=this.palette[p],this.data[d+4]=g.blue,this.data[d+4+1]=g.green,this.data[d+4+2]=g.red,this.data[d+4+3]=255}r!==0&&(this.pos+=4-r)}},cl.prototype.bit8=function(){for(var t=this.width%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*o;if(a<this.palette.length){var d=this.palette[a];this.data[l]=d.red,this.data[l+1]=d.green,this.data[l+2]=d.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}t!==0&&(this.pos+=4-t)}},cl.prototype.bit15=function(){for(var t=this.width%3,r=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(l&r)/r*255|0,h=(l>>5&r)/r*255|0,p=(l>>10&r)/r*255|0,g=l>>15?255:0,b=o*this.width*4+4*a;this.data[b]=p,this.data[b+1]=h,this.data[b+2]=d,this.data[b+3]=g}this.pos+=t}},cl.prototype.bit16=function(){for(var t=this.width%3,r=parseInt("11111",2),n=parseInt("111111",2),o=this.height-1;o>=0;o--){for(var a=this.bottom_up?o:this.height-1-o,l=0;l<this.width;l++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(d&r)/r*255|0,p=(d>>5&n)/n*255|0,g=(d>>11)/r*255|0,b=a*this.width*4+4*l;this.data[b]=g,this.data[b+1]=p,this.data[b+2]=h,this.data[b+3]=255}this.pos+=t}},cl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=r*this.width*4+4*n;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=255}this.pos+=this.width%4}},cl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),h=r*this.width*4+4*n;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=o,this.data[h+3]=d}},cl.prototype.getData=function(){return this.data},function(t){t.processBMP=function(r,n,o,a){var l=new cl(r,!1),d=l.width,h=l.height,p={data:l.getData(),width:d,height:h},g=new Wv(100).encode(p,100);return t.processJPEG.call(this,g,n,o,a)}}(an.API),c6.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(r,n,o,a){var l=new c6(r),d=l.width,h=l.height,p={data:l.getData(),width:d,height:h},g=new Wv(100).encode(p,100);return t.processJPEG.call(this,g,n,o,a)}}(an.API),an.API.processRGBA=function(t,r,n){for(var o=t.data,a=o.length,l=new Uint8Array(a/4*3),d=new Uint8Array(a/4),h=0,p=0,g=0;g<a;g+=4){var b=o[g],y=o[g+1],v=o[g+2],k=o[g+3];l[h++]=b,l[h++]=y,l[h++]=v,d[p++]=k}var x=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:x,index:r,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},an.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},$f=an.API,rk=$f.getCharWidthsArray=function(t,r){var n,o,a=(r=r||{}).font||this.internal.getFont(),l=r.fontSize||this.internal.getFontSize(),d=r.charSpace||this.internal.getCharSpace(),h=r.widths?r.widths:a.metadata.Unicode.widths,p=h.fof?h.fof:1,g=r.kerning?r.kerning:a.metadata.Unicode.kerning,b=g.fof?g.fof:1,y=r.doKerning!==!1,v=0,k=t.length,x=0,C=h[0]||p,D=[];for(n=0;n<k;n++)o=t.charCodeAt(n),typeof a.metadata.widthOfString=="function"?D.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(o))+d*(1e3/l)||0)/1e3):(v=y&&fr(g[o])==="object"&&!isNaN(parseInt(g[o][x],10))?g[o][x]/b:0,D.push((h[o]||C)/p+v)),x=o;return D},o6=$f.getStringUnitWidth=function(t,r){var n=(r=r||{}).fontSize||this.internal.getFontSize(),o=r.font||this.internal.getFont(),a=r.charSpace||this.internal.getCharSpace();return $f.processArabic&&(t=$f.processArabic(t)),typeof o.metadata.widthOfString=="function"?o.metadata.widthOfString(t,n,a)/n:rk.apply(this,arguments).reduce(function(l,d){return l+d},0)},s6=function(t,r,n,o){for(var a=[],l=0,d=t.length,h=0;l!==d&&h+r[l]<n;)h+=r[l],l++;a.push(t.slice(0,l));var p=l;for(h=0;l!==d;)h+r[l]>o&&(a.push(t.slice(p,l)),h=0,p=l),h+=r[l],l++;return p!==l&&a.push(t.slice(p,l)),a},a6=function(t,r,n){n||(n={});var o,a,l,d,h,p,g,b=[],y=[b],v=n.textIndent||0,k=0,x=0,C=t.split(" "),D=rk.apply(this,[" ",n])[0];if(p=n.lineIndent===-1?C[0].length+2:n.lineIndent||0){var S=Array(p).join(" "),N=[];C.map(function(B){(B=B.split(/\s*\n/)).length>1?N=N.concat(B.map(function($,V){return(V&&$.length?`
`:"")+$})):N.push(B[0])}),C=N,p=o6.apply(this,[S,n])}for(l=0,d=C.length;l<d;l++){var P=0;if(o=C[l],p&&o[0]==`
`&&(o=o.substr(1),P=1),v+k+(x=(a=rk.apply(this,[o,n])).reduce(function(B,$){return B+$},0))>r||P){if(x>r){for(h=s6.apply(this,[o,a,r-(v+k),r]),b.push(h.shift()),b=[h.pop()];h.length;)y.push([h.shift()]);x=a.slice(o.length-(b[0]?b[0].length:0)).reduce(function(B,$){return B+$},0)}else b=[o];y.push(b),v=x+p,k=D}else b.push(o),v+=k+x,k=D}return g=p?function(B,$){return($?S:"")+B.join(" ")}:function(B){return B.join(" ")},y.map(g)},$f.splitTextToSize=function(t,r,n){var o,a=(n=n||{}).fontSize||this.internal.getFontSize(),l=(function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var y=this.internal.getFont(b.fontName,b.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);o=Array.isArray(t)?t:String(t).split(/\r?\n/);var d=1*this.internal.scaleFactor*r/a;l.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,l.lineIndent=n.lineIndent;var h,p,g=[];for(h=0,p=o.length;h<p;h++)g=g.concat(a6.apply(this,[o[h],d,l]));return g},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var r="klmnopqrstuvwxyz",n={},o={},a=0;a<r.length;a++)n[r[a]]="0123456789abcdef"[a],o["0123456789abcdef"[a]]=r[a];var l=function(y){return"0x"+parseInt(y,10).toString(16)},d=t.__fontmetrics__.compress=function(y){var v,k,x,C,D=["{"];for(var S in y){if(v=y[S],isNaN(parseInt(S,10))?k="'"+S+"'":(S=parseInt(S,10),k=(k=l(S).slice(2)).slice(0,-1)+o[k.slice(-1)]),typeof v=="number")v<0?(x=l(v).slice(3),C="-"):(x=l(v).slice(2),C=""),x=C+x.slice(0,-1)+o[x.slice(-1)];else{if(fr(v)!=="object")throw new Error("Don't know what to do with value type "+fr(v)+".");x=d(v)}D.push(k+x)}return D.push("}"),D.join("")},h=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,k,x,C,D={},S=1,N=D,P=[],B="",$="",V=y.length-1,M=1;M<V;M+=1)(C=y[M])=="'"?v?(x=v.join(""),v=void 0):v=[]:v?v.push(C):C=="{"?(P.push([N,x]),N={},x=void 0):C=="}"?((k=P.pop())[0][k[1]]=N,x=void 0,N=k[0]):C=="-"?S=-1:x===void 0?n.hasOwnProperty(C)?(B+=n[C],x=parseInt(B,16)*S,S=1,B=""):B+=C:n.hasOwnProperty(C)?($+=n[C],N[x]=parseInt($,16)*S,S=1,x=void 0,$=""):$+=C;return D},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},b={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var v=y.font,k=b.Unicode[v.postScriptName];k&&(v.metadata.Unicode={},v.metadata.Unicode.widths=k.widths,v.metadata.Unicode.kerning=k.kerning);var x=g.Unicode[v.postScriptName];x&&(v.metadata.Unicode.encoding=x,v.encoding=x.codePages[0])}])}(an.API),function(t){var r=function(n){for(var o=n.length,a=new Uint8Array(o),l=0;l<o;l++)a[l]=n.charCodeAt(l);return a};t.API.events.push(["addFont",function(n){var o=void 0,a=n.font,l=n.instance;if(!a.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(o=l.existsFileInVFS(a.postScriptName)===!1?l.loadFile(a.postScriptName):l.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(d,h){h=/^\x00\x01\x00\x00/.test(h)?r(h):r(vg(h)),d.metadata=t.API.TTFFont.open(h),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(a,o)}}])}(an),function(t){function r(){return(ln.canvg?Promise.resolve(ln.canvg):Ki(()=>import("./index.es-C4H1dHik.js"),__vite__mapDeps([6,1,4,5]))).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}an.API.addSvgAsImage=function(n,o,a,l,d,h,p,g){if(isNaN(o)||isNaN(a))throw Sr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(d))throw Sr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var b=document.createElement("canvas");b.width=l,b.height=d;var y=b.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,b.width,b.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},k=this;return r().then(function(x){return x.fromString(y,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(v)}).then(function(){k.addImage(b.toDataURL("image/jpeg",1),o,a,l,d,p,g)})}}(),an.API.putTotalPages=function(t){var r,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var o=1;o<=this.internal.getNumberOfPages();o++)for(var a=0;a<this.internal.pages[o].length;a++)this.internal.pages[o][a]=this.internal.pages[o][a].replace(r,n);return this},an.API.viewerPreferences=function(t,r){var n;t=t||{},r=r||!1;var o,a,l,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(d),p=[],g=0,b=0,y=0;function v(x,C){var D,S=!1;for(D=0;D<x.length;D+=1)x[D]===C&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||r===!0){var k=h.length;for(y=0;y<k;y+=1)n[h[y]].value=n[h[y]].defaultValue,n[h[y]].explicitSet=!1}if(fr(t)==="object"){for(a in t)if(l=t[a],v(h,a)&&l!==void 0){if(n[a].type==="boolean"&&typeof l=="boolean")n[a].value=l;else if(n[a].type==="name"&&v(n[a].valueSet,l))n[a].value=l;else if(n[a].type==="integer"&&Number.isInteger(l))n[a].value=l;else if(n[a].type==="array"){for(g=0;g<l.length;g+=1)if(o=!0,l[g].length===1&&typeof l[g][0]=="number")p.push(String(l[g]-1));else if(l[g].length>1){for(b=0;b<l[g].length;b+=1)typeof l[g][b]!="number"&&(o=!1);o===!0&&p.push([l[g][0]-1,l[g][1]-1].join(" "))}n[a].value="["+p.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,C=[];for(x in n)n[x].explicitSet===!0&&(n[x].type==="name"?C.push("/"+x+" /"+n[x].value):C.push("/"+x+" "+n[x].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var r=function(){var o='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(o)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),p=unescape(encodeURIComponent("</x:xmpmeta>")),g=l.length+d.length+h.length+a.length+p.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+g+" >>"),this.internal.write("stream"),this.internal.write(a+l+d+h+p),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(o,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:o,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",r)),this}}(an.API),function(t){var r=t.API,n=r.pdfEscape16=function(l,d){for(var h,p=d.metadata.Unicode.widths,g=["","0","00","000","0000"],b=[""],y=0,v=l.length;y<v;++y){if(h=d.metadata.characterToGlyph(l.charCodeAt(y)),d.metadata.glyIdsUsed.push(h),d.metadata.toUnicode[h]=l.charCodeAt(y),p.indexOf(h)==-1&&(p.push(h),p.push([parseInt(d.metadata.widthOfGlyph(h),10)])),h=="0")return b.join("");h=h.toString(16),b.push(g[4-h.length],h)}return b.join("")},o=function(l){var d,h,p,g,b,y,v;for(b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,p=[],y=0,v=(h=Object.keys(l).sort(function(k,x){return k-x})).length;y<v;y++)d=h[y],p.length>=100&&(b+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar`,p=[]),l[d]!==void 0&&l[d]!==null&&typeof l[d].toString=="function"&&(g=("0000"+l[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),p.push("<"+d+"><"+g+">"));return p.length&&(b+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar
`),b+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(l){(function(d){var h=d.font,p=d.out,g=d.newObject,b=d.putStream;if(h.metadata instanceof t.API.TTFFont&&h.encoding==="Identity-H"){for(var y=h.metadata.Unicode.widths,v=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),k="",x=0;x<v.length;x++)k+=String.fromCharCode(v[x]);var C=g();b({data:k,addLength1:!0,objectId:C}),p("endobj");var D=g();b({data:o(h.metadata.toUnicode),addLength1:!0,objectId:D}),p("endobj");var S=g();p("<<"),p("/Type /FontDescriptor"),p("/FontName /"+sp(h.fontName)),p("/FontFile2 "+C+" 0 R"),p("/FontBBox "+t.API.PDFObject.convert(h.metadata.bbox)),p("/Flags "+h.metadata.flags),p("/StemV "+h.metadata.stemV),p("/ItalicAngle "+h.metadata.italicAngle),p("/Ascent "+h.metadata.ascender),p("/Descent "+h.metadata.decender),p("/CapHeight "+h.metadata.capHeight),p(">>"),p("endobj");var N=g();p("<<"),p("/Type /Font"),p("/BaseFont /"+sp(h.fontName)),p("/FontDescriptor "+S+" 0 R"),p("/W "+t.API.PDFObject.convert(y)),p("/CIDToGIDMap /Identity"),p("/DW 1000"),p("/Subtype /CIDFontType2"),p("/CIDSystemInfo"),p("<<"),p("/Supplement 0"),p("/Registry (Adobe)"),p("/Ordering ("+h.encoding+")"),p(">>"),p(">>"),p("endobj"),h.objectNumber=g(),p("<<"),p("/Type /Font"),p("/Subtype /Type0"),p("/ToUnicode "+D+" 0 R"),p("/BaseFont /"+sp(h.fontName)),p("/Encoding /"+h.encoding),p("/DescendantFonts ["+N+" 0 R]"),p(">>"),p("endobj"),h.isAlreadyPutted=!0}})(l)}]),r.events.push(["putFont",function(l){(function(d){var h=d.font,p=d.out,g=d.newObject,b=d.putStream;if(h.metadata instanceof t.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var y=h.metadata.rawData,v="",k=0;k<y.length;k++)v+=String.fromCharCode(y[k]);var x=g();b({data:v,addLength1:!0,objectId:x}),p("endobj");var C=g();b({data:o(h.metadata.toUnicode),addLength1:!0,objectId:C}),p("endobj");var D=g();p("<<"),p("/Descent "+h.metadata.decender),p("/CapHeight "+h.metadata.capHeight),p("/StemV "+h.metadata.stemV),p("/Type /FontDescriptor"),p("/FontFile2 "+x+" 0 R"),p("/Flags 96"),p("/FontBBox "+t.API.PDFObject.convert(h.metadata.bbox)),p("/FontName /"+sp(h.fontName)),p("/ItalicAngle "+h.metadata.italicAngle),p("/Ascent "+h.metadata.ascender),p(">>"),p("endobj"),h.objectNumber=g();for(var S=0;S<h.metadata.hmtx.widths.length;S++)h.metadata.hmtx.widths[S]=parseInt(h.metadata.hmtx.widths[S]*(1e3/h.metadata.head.unitsPerEm));p("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+sp(h.fontName)+"/FontDescriptor "+D+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),p("endobj"),h.isAlreadyPutted=!0}})(l)}]);var a=function(l){var d,h=l.text||"",p=l.x,g=l.y,b=l.options||{},y=l.mutex||{},v=y.pdfEscape,k=y.activeFontKey,x=y.fonts,C=k,D="",S=0,N="",P=x[C].encoding;if(x[C].encoding!=="Identity-H")return{text:h,x:p,y:g,options:b,mutex:y};for(N=h,C=k,Array.isArray(h)&&(N=h[0]),S=0;S<N.length;S+=1)x[C].metadata.hasOwnProperty("cmap")&&(d=x[C].metadata.cmap.unicode.codeMap[N[S].charCodeAt(0)]),d||N[S].charCodeAt(0)<256&&x[C].metadata.hasOwnProperty("Unicode")?D+=N[S]:D+="";var B="";return parseInt(C.slice(1))<14||P==="WinAnsiEncoding"?B=v(D,C).split("").map(function($){return $.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(B=n(D,x[C])),y.isHex=!0,{text:B,x:p,y:g,options:b,mutex:y}};r.events.push(["postProcessText",function(l){var d=l.text||"",h=[],p={text:d,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(d)){var g=0;for(g=0;g<d.length;g+=1)Array.isArray(d[g])&&d[g].length===3?h.push([a(Object.assign({},p,{text:d[g][0]})).text,d[g][1],d[g][2]]):h.push(a(Object.assign({},p,{text:d[g]})).text);l.text=h}else l.text=a(Object.assign({},p,{text:d})).text}])}(an),function(t){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,o){return r.call(this),this.internal.vFS[n]=o,this},t.getFileFromVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(an.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(o){var a,l,d,h,p,g,b,y=r,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],k=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},D=["(",")","(","<",">","<","[","]","[","{","}","{","Â«","Â»","Â«","â€¹","â€º","â€¹","â…","â†","â…","â½","â¾","â½","â‚","â‚Ž","â‚","â‰¤","â‰¥","â‰¤","âŒ©","âŒª","âŒ©","ï¹™","ï¹š","ï¹™","ï¹›","ï¹œ","ï¹›","ï¹","ï¹ž","ï¹","ï¹¤","ï¹¥","ï¹¤"],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,P=0;this.__bidiEngine__={};var B=function(H){var F=H.charCodeAt(),G=F>>8,R=C[G];return R!==void 0?y[256*R+(255&F)]:G===252||G===253?"AL":S.test(G)?"L":G===8?"R":"N"},$=function(H){for(var F,G=0;G<H.length;G++){if((F=B(H.charAt(G)))==="L")return!1;if(F==="R")return!0}return!1},V=function(H,F,G,R){var ne,ue,ie,se,ye=F[R];switch(ye){case"L":case"R":N=!1;break;case"N":case"AN":break;case"EN":N&&(ye="AN");break;case"AL":N=!0,ye="R";break;case"WS":ye="N";break;case"CS":R<1||R+1>=F.length||(ne=G[R-1])!=="EN"&&ne!=="AN"||(ue=F[R+1])!=="EN"&&ue!=="AN"?ye="N":N&&(ue="AN"),ye=ue===ne?ue:"N";break;case"ES":ye=(ne=R>0?G[R-1]:"B")==="EN"&&R+1<F.length&&F[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&G[R-1]==="EN"){ye="EN";break}if(N){ye="N";break}for(ie=R+1,se=F.length;ie<se&&F[ie]==="ET";)ie++;ye=ie<se&&F[ie]==="EN"?"EN":"N";break;case"NSM":if(d&&!h){for(se=F.length,ie=R+1;ie<se&&F[ie]==="NSM";)ie++;if(ie<se){var re=H[R],_e=re>=1425&&re<=2303||re===64286;if(ne=F[ie],_e&&(ne==="R"||ne==="AL")){ye="R";break}}}ye=R<1||(ne=F[R-1])==="B"?"N":G[R-1];break;case"B":N=!1,a=!0,ye=P;break;case"S":l=!0,ye="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"BN":ye="N"}return ye},M=function(H,F,G){var R=H.split("");return G&&L(R,G,{hiLevel:P}),R.reverse(),F&&F.reverse(),R.join("")},L=function(H,F,G){var R,ne,ue,ie,se,ye=-1,re=H.length,_e=0,Z=[],J=P?k:v,ae=[];for(N=!1,a=!1,l=!1,ne=0;ne<re;ne++)ae[ne]=B(H[ne]);for(ue=0;ue<re;ue++){if(se=_e,Z[ue]=V(H,ae,Z,ue),R=240&(_e=J[se][x[Z[ue]]]),_e&=15,F[ue]=ie=J[_e][5],R>0)if(R===16){for(ne=ye;ne<ue;ne++)F[ne]=1;ye=-1}else ye=-1;if(J[_e][6])ye===-1&&(ye=ue);else if(ye>-1){for(ne=ye;ne<ue;ne++)F[ne]=ie;ye=-1}ae[ue]==="B"&&(F[ue]=0),G.hiLevel|=ie}l&&function(fe,le,Ie){for(var xe=0;xe<Ie;xe++)if(fe[xe]==="S"){le[xe]=P;for(var Ne=xe-1;Ne>=0&&fe[Ne]==="WS";Ne--)le[Ne]=P}}(ae,F,re)},q=function(H,F,G,R,ne){if(!(ne.hiLevel<H)){if(H===1&&P===1&&!a)return F.reverse(),void(G&&G.reverse());for(var ue,ie,se,ye,re=F.length,_e=0;_e<re;){if(R[_e]>=H){for(se=_e+1;se<re&&R[se]>=H;)se++;for(ye=_e,ie=se-1;ye<ie;ye++,ie--)ue=F[ye],F[ye]=F[ie],F[ie]=ue,G&&(ue=G[ye],G[ye]=G[ie],G[ie]=ue);_e=se}_e++}}},Q=function(H,F,G){var R=H.split(""),ne={hiLevel:P};return G||(G=[]),L(R,G,ne),function(ue,ie,se){if(se.hiLevel!==0&&b)for(var ye,re=0;re<ue.length;re++)ie[re]===1&&(ye=D.indexOf(ue[re]))>=0&&(ue[re]=D[ye+1])}(R,G,ne),q(2,R,F,G,ne),q(1,R,F,G,ne),R.join("")};return this.__bidiEngine__.doBidiReorder=function(H,F,G){if(function(ne,ue){if(ue)for(var ie=0;ie<ne.length;ie++)ue[ie]=ie;h===void 0&&(h=$(ne)),g===void 0&&(g=$(ne))}(H,F),d||!p||g)if(d&&p&&h^g)P=h?1:0,H=M(H,F,G);else if(!d&&p&&g)P=h?1:0,H=Q(H,F,G),H=M(H,F);else if(!d||h||p||g){if(d&&!p&&h^g)H=M(H,F),h?(P=0,H=Q(H,F,G)):(P=1,H=Q(H,F,G),H=M(H,F));else if(d&&h&&!p&&g)P=1,H=Q(H,F,G),H=M(H,F);else if(!d&&!p&&h^g){var R=b;h?(P=1,H=Q(H,F,G),P=0,b=!1,H=Q(H,F,G),b=R):(P=0,H=Q(H,F,G),H=M(H,F),P=1,b=!1,H=Q(H,F,G),b=R,H=M(H,F))}}else P=0,H=Q(H,F,G);else P=h?1:0,H=Q(H,F,G);return H},this.__bidiEngine__.setOptions=function(H){H&&(d=H.isInputVisual,p=H.isOutputVisual,h=H.isInputRtl,g=H.isOutputRtl,b=H.isSymmetricSwapping)},this.__bidiEngine__.setOptions(o),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(o){var a=o.text;o.x,o.y;var l=o.options||{};o.mutex,l.lang;var d=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,n.setOptions(l),Object.prototype.toString.call(a)==="[object Array]"){var h=0;for(d=[],h=0;h<a.length;h+=1)Object.prototype.toString.call(a[h])==="[object Array]"?d.push([n.doBidiReorder(a[h][0]),a[h][1],a[h][2]]):d.push([n.doBidiReorder(a[h])]);o.text=d}else o.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])}(an),an.API.TTFFont=function(){function t(r){var n;if(this.rawData=r,n=this.contents=new fd(r),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new wne(this),this.registerTTF()}return t.open=function(r){return new t(r)},t.prototype.parse=function(){return this.directory=new one(this.contents),this.head=new ane(this),this.name=new hne(this),this.cmap=new Ej(this),this.toUnicode={},this.hhea=new lne(this),this.maxp=new fne(this),this.hmtx=new pne(this),this.post=new une(this),this.os2=new cne(this),this.loca=new kne(this),this.glyf=new mne(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var r,n,o,a,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,h,p,g;for(g=[],d=0,h=(p=this.bbox).length;d<h;d++)r=p[d],g.push(Math.round(r*this.scaleFactor));return g}).call(this),this.stemV=0,this.post.exists?(o=255&(a=this.post.italic_angle),(32768&(n=a>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+o)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(r){var n;return((n=this.cmap.unicode)!=null?n.codeMap[r]:void 0)||0},t.prototype.widthOfGlyph=function(r){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*n},t.prototype.widthOfString=function(r,n,o){var a,l,d,h;for(d=0,l=0,h=(r=""+r).length;0<=h?l<h:l>h;l=0<=h?++l:--l)a=r.charCodeAt(l),d+=this.widthOfGlyph(this.characterToGlyph(a))+o*(1e3/n)||0;return d*(n/1e3)},t.prototype.lineHeight=function(r,n){var o;return n==null&&(n=!1),o=n?this.lineGap:0,(this.ascender+o-this.decender)/1e3*r},t}();var kl,fd=function(){function t(r){this.data=r??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(r){return this.data[this.pos++]=r},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},t.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},t.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},t.prototype.readString=function(r){var n,o;for(o=[],n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)o[n]=String.fromCharCode(this.readByte());return o.join("")},t.prototype.writeString=function(r){var n,o,a;for(a=[],n=0,o=r.length;0<=o?n<o:n>o;n=0<=o?++n:--n)a.push(this.writeByte(r.charCodeAt(n)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(r){return this.writeInt16(r)},t.prototype.readLongLong=function(){var r,n,o,a,l,d,h,p;return r=this.readByte(),n=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),d=this.readByte(),h=this.readByte(),p=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^n)+1099511627776*(255^o)+4294967296*(255^a)+16777216*(255^l)+65536*(255^d)+256*(255^h)+(255^p)+1):72057594037927940*r+281474976710656*n+1099511627776*o+4294967296*a+16777216*l+65536*d+256*h+p},t.prototype.writeLongLong=function(r){var n,o;return n=Math.floor(r/4294967296),o=4294967295&r,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(o>>24&255),this.writeByte(o>>16&255),this.writeByte(o>>8&255),this.writeByte(255&o)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(r){return this.writeInt32(r)},t.prototype.read=function(r){var n,o;for(n=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)n.push(this.readByte());return n},t.prototype.write=function(r){var n,o,a,l;for(l=[],o=0,a=r.length;o<a;o++)n=r[o],l.push(this.writeByte(n));return l},t}(),one=function(){var t;function r(n){var o,a,l;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,l=this.tableCount;0<=l?a<l:a>l;a=0<=l?++a:--a)o={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[o.tag]=o}return r.prototype.encode=function(n){var o,a,l,d,h,p,g,b,y,v,k,x,C;for(C in k=Object.keys(n).length,p=Math.log(2),y=16*Math.floor(Math.log(k)/p),d=Math.floor(y/p),b=16*k-y,(a=new fd).writeInt(this.scalarType),a.writeShort(k),a.writeShort(y),a.writeShort(d),a.writeShort(b),l=16*k,g=a.pos+l,h=null,x=[],n)for(v=n[C],a.writeString(C),a.writeInt(t(v)),a.writeInt(g),a.writeInt(v.length),x=x.concat(v),C==="head"&&(h=g),g+=v.length;g%4;)x.push(0),g++;return a.write(x),o=2981146554-t(a.data),a.pos=h+8,a.writeUInt32(o),a.data},t=function(n){var o,a,l,d;for(n=Dj.call(n);n.length%4;)n.push(0);for(l=new fd(n),a=0,o=0,d=n.length;o<d;o=o+=4)a+=l.readUInt32();return 4294967295&a},r}(),sne={}.hasOwnProperty,Ac=function(t,r){for(var n in r)sne.call(r,n)&&(t[n]=r[n]);function o(){this.constructor=t}return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t};kl=function(){function t(r){var n;this.file=r,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var ane=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Ac(r,kl),r.prototype.tag="head",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},r.prototype.encode=function(n){var o;return(o=new fd).writeInt(this.version),o.writeInt(this.revision),o.writeInt(this.checkSumAdjustment),o.writeInt(this.magicNumber),o.writeShort(this.flags),o.writeShort(this.unitsPerEm),o.writeLongLong(this.created),o.writeLongLong(this.modified),o.writeShort(this.xMin),o.writeShort(this.yMin),o.writeShort(this.xMax),o.writeShort(this.yMax),o.writeShort(this.macStyle),o.writeShort(this.lowestRecPPEM),o.writeShort(this.fontDirectionHint),o.writeShort(n),o.writeShort(this.glyphDataFormat),o.data},r}(),u6=function(){function t(r,n){var o,a,l,d,h,p,g,b,y,v,k,x,C,D,S,N,P;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=n+r.readInt(),y=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(p=0;p<256;++p)this.codeMap[p]=r.readByte();break;case 4:for(k=r.readUInt16(),v=k/2,r.pos+=6,l=function(){var B,$;for($=[],p=B=0;0<=v?B<v:B>v;p=0<=v?++B:--B)$.push(r.readUInt16());return $}(),r.pos+=2,C=function(){var B,$;for($=[],p=B=0;0<=v?B<v:B>v;p=0<=v?++B:--B)$.push(r.readUInt16());return $}(),g=function(){var B,$;for($=[],p=B=0;0<=v?B<v:B>v;p=0<=v?++B:--B)$.push(r.readUInt16());return $}(),b=function(){var B,$;for($=[],p=B=0;0<=v?B<v:B>v;p=0<=v?++B:--B)$.push(r.readUInt16());return $}(),a=(this.length-r.pos+this.offset)/2,h=function(){var B,$;for($=[],p=B=0;0<=a?B<a:B>a;p=0<=a?++B:--B)$.push(r.readUInt16());return $}(),p=S=0,P=l.length;S<P;p=++S)for(D=l[p],o=N=x=C[p];x<=D?N<=D:N>=D;o=x<=D?++N:--N)b[p]===0?d=o+g[p]:(d=h[b[p]/2+(o-x)-(v-p)]||0)!==0&&(d+=g[p]),this.codeMap[o]=65535&d}r.pos=y}return t.encode=function(r,n){var o,a,l,d,h,p,g,b,y,v,k,x,C,D,S,N,P,B,$,V,M,L,q,Q,H,F,G,R,ne,ue,ie,se,ye,re,_e,Z,J,ae,fe,le,Ie,xe,Ne,Qe,Ge,Je;switch(R=new fd,d=Object.keys(r).sort(function(ze,X){return ze-X}),n){case"macroman":for(C=0,D=function(){var ze=[];for(x=0;x<256;++x)ze.push(0);return ze}(),N={0:0},l={},ne=0,ye=d.length;ne<ye;ne++)N[Ne=r[a=d[ne]]]==null&&(N[Ne]=++C),l[a]={old:r[a],new:N[r[a]]},D[a]=N[r[a]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(D),{charMap:l,subtable:R.data,maxGlyphID:C+1};case"unicode":for(F=[],y=[],P=0,N={},o={},S=g=null,ue=0,re=d.length;ue<re;ue++)N[$=r[a=d[ue]]]==null&&(N[$]=++P),o[a]={old:$,new:N[$]},h=N[$]-a,S!=null&&h===g||(S&&y.push(S),F.push(a),g=h),S=a;for(S&&y.push(S),y.push(65535),F.push(65535),Q=2*(q=F.length),L=2*Math.pow(Math.log(q)/Math.LN2,2),v=Math.log(L/2)/Math.LN2,M=2*q-L,p=[],V=[],k=[],x=ie=0,_e=F.length;ie<_e;x=++ie){if(H=F[x],b=y[x],H===65535){p.push(0),V.push(0);break}if(H-(G=o[H].new)>=32768)for(p.push(0),V.push(2*(k.length+q-x)),a=se=H;H<=b?se<=b:se>=b;a=H<=b?++se:--se)k.push(o[a].new);else p.push(G-H),V.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*q+2*k.length),R.writeUInt16(0),R.writeUInt16(Q),R.writeUInt16(L),R.writeUInt16(v),R.writeUInt16(M),Ie=0,Z=y.length;Ie<Z;Ie++)a=y[Ie],R.writeUInt16(a);for(R.writeUInt16(0),xe=0,J=F.length;xe<J;xe++)a=F[xe],R.writeUInt16(a);for(Qe=0,ae=p.length;Qe<ae;Qe++)h=p[Qe],R.writeUInt16(h);for(Ge=0,fe=V.length;Ge<fe;Ge++)B=V[Ge],R.writeUInt16(B);for(Je=0,le=k.length;Je<le;Je++)C=k[Je],R.writeUInt16(C);return{charMap:o,subtable:R.data,maxGlyphID:P+1}}},t}(),Ej=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Ac(r,kl),r.prototype.tag="cmap",r.prototype.parse=function(n){var o,a,l;for(n.pos=this.offset,this.version=n.readUInt16(),l=n.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=l?a<l:a>l;a=0<=l?++a:--a)o=new u6(n,this.offset),this.tables.push(o),o.isUnicode&&this.unicode==null&&(this.unicode=o);return!0},r.encode=function(n,o){var a,l;return o==null&&(o="macroman"),a=u6.encode(n,o),(l=new fd).writeUInt16(0),l.writeUInt16(1),a.table=l.data.concat(a.subtable),a},r}(),lne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Ac(r,kl),r.prototype.tag="hhea",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},r}(),cne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Ac(r,kl),r.prototype.tag="OS/2",r.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var o,a;for(a=[],o=0;o<10;++o)a.push(n.readByte());return a}(),this.charRange=function(){var o,a;for(a=[],o=0;o<4;++o)a.push(n.readInt());return a}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var o,a;for(a=[],o=0;o<2;o=++o)a.push(n.readInt());return a}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},r}(),une=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Ac(r,kl),r.prototype.tag="post",r.prototype.parse=function(n){var o,a,l;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var d;for(a=n.readUInt16(),this.glyphNameIndex=[],d=0;0<=a?d<a:d>a;d=0<=a?++d:--d)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],l=[];n.pos<this.offset+this.length;)o=n.readByte(),l.push(this.names.push(n.readString(o)));return l;case 151552:return a=n.readUInt16(),this.offsets=n.read(a);case 196608:break;case 262144:return this.map=(function(){var h,p,g;for(g=[],d=h=0,p=this.file.maxp.numGlyphs;0<=p?h<p:h>p;d=0<=p?++h:--h)g.push(n.readUInt32());return g}).call(this)}},r}(),dne=function(t,r){this.raw=t,this.length=t.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},hne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Ac(r,kl),r.prototype.tag="name",r.prototype.parse=function(n){var o,a,l,d,h,p,g,b,y,v,k;for(n.pos=this.offset,n.readShort(),o=n.readShort(),p=n.readShort(),a=[],d=0;0<=o?d<o:d>o;d=0<=o?++d:--d)a.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+p+n.readShort()});for(g={},d=y=0,v=a.length;y<v;d=++y)l=a[d],n.pos=l.offset,b=n.readString(l.length),h=new dne(b,l),g[k=l.nameID]==null&&(g[k]=[]),g[l.nameID].push(h);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},r}(),fne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Ac(r,kl),r.prototype.tag="maxp",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},r}(),pne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Ac(r,kl),r.prototype.tag="hmtx",r.prototype.parse=function(n){var o,a,l,d,h,p,g;for(n.pos=this.offset,this.metrics=[],o=0,p=this.file.hhea.numberOfMetrics;0<=p?o<p:o>p;o=0<=p?++o:--o)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(l=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var b,y;for(y=[],o=b=0;0<=l?b<l:b>l;o=0<=l?++b:--b)y.push(n.readInt16());return y}(),this.widths=(function(){var b,y,v,k;for(k=[],b=0,y=(v=this.metrics).length;b<y;b++)d=v[b],k.push(d.advance);return k}).call(this),a=this.widths[this.widths.length-1],g=[],o=h=0;0<=l?h<l:h>l;o=0<=l?++h:--h)g.push(this.widths.push(a));return g},r.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},r}(),Dj=[].slice,mne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Ac(r,kl),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(n){var o,a,l,d,h,p,g,b,y,v;return n in this.cache?this.cache[n]:(d=this.file.loca,o=this.file.contents,a=d.indexOf(n),(l=d.lengthOf(n))===0?this.cache[n]=null:(o.pos=this.offset+a,h=(p=new fd(o.read(l))).readShort(),b=p.readShort(),v=p.readShort(),g=p.readShort(),y=p.readShort(),this.cache[n]=h===-1?new bne(p,b,v,g,y):new gne(p,h,b,v,g,y),this.cache[n]))},r.prototype.encode=function(n,o,a){var l,d,h,p,g;for(h=[],d=[],p=0,g=o.length;p<g;p++)l=n[o[p]],d.push(h.length),l&&(h=h.concat(l.encode(a)));return d.push(h.length),{table:h,offsets:d}},r}(),gne=function(){function t(r,n,o,a,l,d){this.raw=r,this.numberOfContours=n,this.xMin=o,this.yMin=a,this.xMax=l,this.yMax=d,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),bne=function(){function t(r,n,o,a,l){var d,h;for(this.raw=r,this.xMin=n,this.yMin=o,this.xMax=a,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;h=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&h;)d.pos+=1&h?4:2,128&h?d.pos+=8:64&h?d.pos+=4:8&h&&(d.pos+=2)}return t.prototype.encode=function(){var r,n,o;for(n=new fd(Dj.call(this.raw.data)),r=0,o=this.glyphIDs.length;r<o;++r)n.pos=this.glyphOffsets[r];return n.data},t}(),kne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Ac(r,kl),r.prototype.tag="loca",r.prototype.parse=function(n){var o,a;return n.pos=this.offset,o=this.file.head.indexToLocFormat,this.offsets=o===0?(function(){var l,d;for(d=[],a=0,l=this.length;a<l;a+=2)d.push(2*n.readUInt16());return d}).call(this):(function(){var l,d;for(d=[],a=0,l=this.length;a<l;a+=4)d.push(n.readUInt32());return d}).call(this)},r.prototype.indexOf=function(n){return this.offsets[n]},r.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},r.prototype.encode=function(n,o){for(var a=new Uint32Array(this.offsets.length),l=0,d=0,h=0;h<a.length;++h)if(a[h]=l,d<o.length&&o[d]==h){++d,a[h]=l;var p=this.offsets[h],g=this.offsets[h+1]-p;g>0&&(l+=g)}for(var b=new Array(4*a.length),y=0;y<a.length;++y)b[4*y+3]=255&a[y],b[4*y+2]=(65280&a[y])>>8,b[4*y+1]=(16711680&a[y])>>16,b[4*y]=(4278190080&a[y])>>24;return b},r}(),wne=function(){function t(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var r,n,o,a,l;for(n in a=this.font.cmap.tables[0].codeMap,r={},l=this.subset)o=l[n],r[n]=a[o];return r},t.prototype.glyphsFor=function(r){var n,o,a,l,d,h,p;for(a={},d=0,h=r.length;d<h;d++)a[l=r[d]]=this.font.glyf.glyphFor(l);for(l in n=[],a)(o=a[l])!=null&&o.compound&&n.push.apply(n,o.glyphIDs);if(n.length>0)for(l in p=this.glyphsFor(n))o=p[l],a[l]=o;return a},t.prototype.encode=function(r,n){var o,a,l,d,h,p,g,b,y,v,k,x,C,D,S;for(a in o=Ej.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(r),k={0:0},S=o.charMap)k[(p=S[a]).old]=p.new;for(x in v=o.maxGlyphID,d)x in k||(k[x]=v++);return b=function(N){var P,B;for(P in B={},N)B[N[P]]=P;return B}(k),y=Object.keys(b).sort(function(N,P){return N-P}),C=function(){var N,P,B;for(B=[],N=0,P=y.length;N<P;N++)h=y[N],B.push(b[h]);return B}(),l=this.font.glyf.encode(d,C,k),g=this.font.loca.encode(l.offsets,C),D={cmap:this.font.cmap.raw(),glyf:l.table,loca:g,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(D["OS/2"]=this.font.os2.raw()),this.font.directory.encode(D)},t}();an.API.PDFObject=function(){var t;function r(){}return t=function(n,o){return(Array(o+1).join("0")+n).slice(-o)},r.convert=function(n){var o,a,l,d;if(Array.isArray(n))return"["+function(){var h,p,g;for(g=[],h=0,p=n.length;h<p;h++)o=n[h],g.push(r.convert(o));return g}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in l=["<<"],n)d=n[a],l.push("/"+a+" "+r.convert(d));return l.push(">>"),l.join(`
`)}return""+n},r}();const yne=new Uint16Array('áµ<Ã•Ä±ÊŠÒÕ»×ÙµÛžÞ¢ß–à à©Šàª‘à¶¡à¹­à¼‰à¼¦áƒŠáˆ¨á‹¡á•á’á“ƒá“Ÿá”¥\0\0\0\0\0\0á•«á›á¦á°’á·á½¾â â†°âŠâ€â»â‘‚â ¤â¤’â´ˆâ¹ˆâ¿Žã€–ãŠºã˜¹ãž¬ã£¾ã¨¨ã©±ã« ã¬®à €EMabcfglmnoprstu\\bfmsÂ„Â‹ÂÂ•Â˜Â¦Â³Â¹ÃˆÃligè€»Ã†äƒ†Pè€»&ä€¦cuteè€»Ãäƒreve;ä„‚Ä€iyx}rcè€»Ã‚äƒ‚;är;ì€€ð”„raveè€»Ã€äƒ€pha;äŽ‘acr;ä„€d;æ©“Ä€gpÂÂ¡on;ä„„f;ì€€ð”¸plyFunction;æ¡ingè€»Ã…äƒ…Ä€csÂ¾Ãƒr;ì€€ð’œign;æ‰”ildeè€»Ãƒäƒƒmlè€»Ã„äƒ„Ð€aceforsuÃ¥Ã»Ã¾Ä—ÄœÄ¢Ä§ÄªÄ€crÃªÃ²kslash;æˆ–Å¶Ã¶Ã¸;æ«§ed;æŒ†y;ä‘Æ€crtÄ…Ä‹Ä”ause;æˆµnoullis;æ„¬a;äŽ’r;ì€€ð”…pf;ì€€ð”¹eve;ä‹˜cÃ²Ä“mpeq;æ‰ŽÜ€HOacdefhilorsuÅÅ‘Å–Æ€ÆžÆ¢ÆµÆ·ÆºÇœÈ•É³É¸É¾cy;ä§PYè€»Â©ä‚©Æ€cpyÅÅ¢Åºute;ä„†Ä€;iÅ§Å¨æ‹’talDifferentialD;æ……leys;æ„­È€aeioÆ‰ÆŽÆ”Æ˜ron;ä„Œdilè€»Ã‡äƒ‡rc;ä„ˆnint;æˆ°ot;ä„ŠÄ€dnÆ§Æ­illa;ä‚¸terDot;ä‚·Ã²Å¿i;äŽ§rcleÈ€DMPTÇ‡Ç‹Ç‘Ç–ot;æŠ™inus;æŠ–lus;æŠ•imes;æŠ—oÄ€csÇ¢Ç¸kwiseContourIntegral;æˆ²eCurlyÄ€DQÈƒÈoubleQuote;æ€uote;æ€™È€lnpuÈžÈ¨É‡É•onÄ€;eÈ¥È¦æˆ·;æ©´Æ€gitÈ¯È¶Èºruent;æ‰¡nt;æˆ¯ourIntegral;æˆ®Ä€frÉŒÉŽ;æ„‚oduct;æˆnterClockwiseContourIntegral;æˆ³oss;æ¨¯cr;ì€€ð’žpÄ€;CÊ„Ê…æ‹“ap;æ‰Ö€DJSZacefiosÊ Ê¬Ê°Ê´Ê¸Ë‹Ë—Ë¡Ë¦Ì³ÒÄ€;oÅ¹Ê¥trahd;æ¤‘cy;ä‚cy;ä…cy;äÆ€grsÊ¿Ë„Ë‡ger;æ€¡r;æ†¡hv;æ«¤Ä€ayËË•ron;ä„Ž;ä”lÄ€;tËËžæˆ‡a;äŽ”r;ì€€ð”‡Ä€afË«Ì§Ä€cmË°Ì¢riticalÈ€ADGTÌ€Ì†Ì–Ìœcute;ä‚´oÅ´Ì‹Ì;ä‹™bleAcute;ä‹rave;ä ilde;ä‹œond;æ‹„ferentialD;æ…†Ñ°Ì½\0\0\0Í‚Í”\0Ð…f;ì€€ð”»Æ€;DEÍˆÍ‰Íä‚¨ot;æƒœqual;æ‰bleÌ€CDLRUVÍ£Í²Î‚ÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»Í‰nArrow;æ‡“Ä€eoÎ‡Î¤ftÆ€ARTÎÎ–Î¡rrow;æ‡ightArrow;æ‡”eÃ¥ËŠngÄ€LRÎ«Ï„eftÄ€ARÎ³Î¹rrow;æŸ¸ightArrow;æŸºightArrow;æŸ¹ightÄ€ATÏ˜Ïžrrow;æ‡’ee;æŠ¨pÉÏ©\0\0Ï¯rrow;æ‡‘ownArrow;æ‡•erticalBar;æˆ¥nÌ€ABLRTaÐ’ÐªÐ°ÑžÑ¿Í¼rrowÆ€;BUÐÐžÐ¢æ†“ar;æ¤“pArrow;æ‡µreve;äŒ‘eftË’Ðº\0Ñ†\0ÑightVector;æ¥eeVector;æ¥žectorÄ€;BÑ™Ñšæ†½ar;æ¥–ightÇ”Ñ§\0Ñ±eeVector;æ¥ŸectorÄ€;BÑºÑ»æ‡ar;æ¥—eeÄ€;AÒ†Ò‡æŠ¤rrow;æ†§Ä€ctÒ’Ò—r;ì€€ð’Ÿrok;ä„à €NTacdfglmopqstuxÒ½Ó€Ó„Ó‹ÓžÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶Õ’ÕÕ Õ¥G;ä…ŠHè€»Ãäƒcuteè€»Ã‰äƒ‰Æ€aiyÓ’Ó—Óœron;ä„šrcè€»ÃŠäƒŠ;ä­ot;ä„–r;ì€€ð”ˆraveè€»Ãˆäƒˆement;æˆˆÄ€apÓºÓ¾cr;ä„’tyÉ“Ô†\0\0Ô’mallSquare;æ—»erySmallSquare;æ–«Ä€gpÔ¦Ôªon;ä„˜f;ì€€ð”¼silon;äŽ•uÄ€aiÔ¼Õ‰lÄ€;TÕ‚Õƒæ©µilde;æ‰‚librium;æ‡ŒÄ€ciÕ—Õšr;æ„°m;æ©³a;äŽ—mlè€»Ã‹äƒ‹Ä€ipÕªÕ¯sts;æˆƒonentialE;æ…‡Ê€cfiosÖ…ÖˆÖÖ²×Œy;ä¤r;ì€€ð”‰lledÉ“Ö—\0\0Ö£mallSquare;æ—¼erySmallSquare;æ–ªÍ°Öº\0Ö¿\0\0×„f;ì€€ð”½All;æˆ€riertrf;æ„±cÃ²×‹Ø€JTabcdfgorst×¨×¬×¯×ºØ€Ø’Ø–Ø›ØØ£Ù¬Ù²cy;äƒè€»>ä€¾mmaÄ€;d×·×¸äŽ“;äœreve;ä„žÆ€eiyØ‡ØŒØdil;ä„¢rc;ä„œ;ä“ot;ä„ r;ì€€ð”Š;æ‹™pf;ì€€ð”¾eaterÌ€EFGLSTØµÙ„ÙŽÙ–Ù›Ù¦qualÄ€;LØ¾Ø¿æ‰¥ess;æ‹›ullEqual;æ‰§reater;æª¢ess;æ‰·lantEqual;æ©¾ilde;æ‰³cr;ì€€ð’¢;æ‰«Ð€AacfiosuÚ…Ú‹Ú–Ú›ÚžÚªÚ¾ÛŠRDcy;äªÄ€ctÚÚ”ek;ä‹‡;äžirc;ä„¤r;æ„ŒlbertSpace;æ„‹Ç°Ú¯\0Ú²f;æ„izontalLine;æ”€Ä€ctÛƒÛ…Ã²Ú©rok;ä„¦mpÅ„ÛÛ˜ownHumÃ°Ä¯qual;æ‰Ü€EJOacdfgmnostuÛºÛ¾ÜƒÜ‡ÜŽÜšÜžÜ¡Ü¨Ý„Ý¸Þ‹ÞÞ•cy;ä•lig;ä„²cy;äcuteè€»ÃäƒÄ€iyÜ“Ü˜rcè€»ÃŽäƒŽ;ä˜ot;ä„°r;æ„‘raveè€»ÃŒäƒŒÆ€;apÜ Ü¯Ü¿Ä€cgÜ´Ü·r;ä„ªinaryI;æ…ˆlieÃ³ÏÇ´Ý‰\0Ý¢Ä€;eÝÝŽæˆ¬Ä€grÝ“Ý˜ral;æˆ«section;æ‹‚isibleÄ€CTÝ¬Ý²omma;æ£imes;æ¢Æ€gptÝ¿ÞƒÞˆon;ä„®f;ì€€ð•€a;äŽ™cr;æ„ilde;ä„¨Ç«Þš\0Þžcy;ä†lè€»ÃäƒÊ€cfosuÞ¬Þ·Þ¼ß‚ßÄ€iyÞ±Þµrc;ä„´;ä™r;ì€€ð”pf;ì€€ð•Ç£ß‡\0ßŒr;ì€€ð’¥rcy;äˆkcy;ä„Î€HJacfosß¤ß¨ß¬ß±ß½à ‚à ˆcy;ä¥cy;äŒppa;äŽšÄ€eyß¶ß»dil;ä„¶;äšr;ì€€ð”Žpf;ì€€ð•‚cr;ì€€ð’¦Ö€JTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§‡à§à¨·à©‡cy;ä‰è€»<ä€¼Ê€cmnprà ·à ¼à¡à¡„à¡ute;ä„¹bda;äŽ›g;æŸªlacetrf;æ„’r;æ†žÆ€aeyà¡—à¡œà¡¡ron;ä„½dil;ä„»;ä›Ä€fsà¡¨à¥°tÔ€ACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥›Îà¥ªÄ€nrà¢ƒà¢gleBracket;æŸ¨rowÆ€;BRà¢™à¢šà¢žæ†ar;æ‡¤ightArrow;æ‡†eiling;æŒˆoÇµà¢·\0à£ƒbleBracket;æŸ¦nÇ”à£ˆ\0à£’eeVector;æ¥¡ectorÄ€;Bà£›à£œæ‡ƒar;æ¥™loor;æŒŠightÄ€AVà£¯à£µrrow;æ†”ector;æ¥ŽÄ€erà¤à¤—eÆ€;AVà¤‰à¤Šà¤æŠ£rrow;æ†¤ector;æ¥šiangleÆ€;BEà¤¤à¤¥à¤©æŠ²ar;æ§qual;æŠ´pÆ€DTVà¤·à¥‚à¥ŒownVector;æ¥‘eeVector;æ¥ ectorÄ€;Bà¥–à¥—æ†¿ar;æ¥˜ectorÄ€;Bà¥¥à¥¦æ†¼ar;æ¥’ightÃ¡ÎœsÌ€EFGLSTà¥¾à¦‹à¦•à¦à¦¢à¦­qualGreater;æ‹šullEqual;æ‰¦reater;æ‰¶ess;æª¡lantEqual;æ©½ilde;æ‰²r;ì€€ð”Ä€;eà¦½à¦¾æ‹˜ftarrow;æ‡šidot;ä„¿Æ€npwà§”à¨–à¨›gÈ€LRlrà§žà§·à¨‚à¨eftÄ€ARà§¦à§¬rrow;æŸµightArrow;æŸ·ightArrow;æŸ¶eftÄ€arÎ³à¨ŠightÃ¡Î¿ightÃ¡ÏŠf;ì€€ð•ƒerÄ€LRà¨¢à¨¬eftArrow;æ†™ightArrow;æ†˜Æ€chtà¨¾à©€à©‚Ã²à¡Œ;æ†°rok;ä…;æ‰ªÐ€acefiosuà©šà©à© à©·à©¼àª…àª‹àªŽp;æ¤…y;äœÄ€dlà©¥à©¯iumSpace;æŸlintrf;æ„³r;ì€€ð”nusPlus;æˆ“pf;ì€€ð•„cÃ²à©¶;äŽœÒ€Jacefostuàª£àª§àª­à«€à¬”à¬™à¶‘à¶—à¶žcy;äŠcute;ä…ƒÆ€aeyàª´àª¹àª¾ron;ä…‡dil;ä……;äÆ€gswà«‡à«°à¬ŽativeÆ€MTVà«“à«Ÿà«¨ediumSpace;æ€‹hiÄ€cnà«¦à«˜Ã«à«™eryThiÃ®à«™tedÄ€GLà«¸à¬†reaterGreateÃ²Ù³essLesÃ³à©ˆLine;ä€Šr;ì€€ð”‘È€Bnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä‚ f;æ„•Ú€;CDEGHLNPRSTVà­•à­–à­ªà­¼à®¡à¯«à°„à±žà²„à²¦à³˜àµ¡à¶…æ«¬Ä€ouà­›à­¤ngruent;æ‰¢pCap;æ‰­oubleVerticalBar;æˆ¦Æ€lqxà®ƒà®Šà®›ement;æˆ‰ualÄ€;Tà®’à®“æ‰ ilde;ì€€â‰‚Ì¸ists;æˆ„reaterÎ€;EFGLSTà®¶à®·à®½à¯‰à¯“à¯˜à¯¥æ‰¯qual;æ‰±ullEqual;ì€€â‰§Ì¸reater;ì€€â‰«Ì¸ess;æ‰¹lantEqual;ì€€â©¾Ì¸ilde;æ‰µumpÅ„à¯²à¯½ownHump;ì€€â‰ŽÌ¸qual;ì€€â‰Ì¸eÄ€fsà°Šà°§tTriangleÆ€;BEà°šà°›à°¡æ‹ªar;ì€€â§Ì¸qual;æ‹¬sÌ€;EGLSTà°µà°¶à°¼à±„à±‹à±˜æ‰®qual;æ‰°reater;æ‰¸ess;ì€€â‰ªÌ¸lantEqual;ì€€â©½Ì¸ilde;æ‰´estedÄ€GLà±¨à±¹reaterGreater;ì€€âª¢Ì¸essLess;ì€€âª¡Ì¸recedesÆ€;ESà²’à²“à²›æŠ€qual;ì€€âª¯Ì¸lantEqual;æ‹ Ä€eià²«à²¹verseElement;æˆŒghtTriangleÆ€;BEà³‹à³Œà³’æ‹«ar;ì€€â§Ì¸qual;æ‹­Ä€quà³à´ŒuareSuÄ€bpà³¨à³¹setÄ€;Eà³°à³³ì€€âŠÌ¸qual;æ‹¢ersetÄ€;Eà´ƒà´†ì€€âŠÌ¸qual;æ‹£Æ€bcpà´“à´¤àµŽsetÄ€;Eà´›à´žì€€âŠ‚âƒ’qual;æŠˆceedsÈ€;ESTà´²à´³à´»àµ†æŠqual;ì€€âª°Ì¸lantEqual;æ‹¡ilde;ì€€â‰¿Ì¸ersetÄ€;Eàµ˜àµ›ì€€âŠƒâƒ’qual;æŠ‰ildeÈ€;EFTàµ®àµ¯àµµàµ¿æ‰qual;æ‰„ullEqual;æ‰‡ilde;æ‰‰erticalBar;æˆ¤cr;ì€€ð’©ildeè€»Ã‘äƒ‘;äŽÜ€Eacdfgmoprstuvà¶½à·‚à·‰à·•à·›à· à·§à·¼à¸‚à¸ à¸¢à¸²à¸¿à¹„lig;ä…’cuteè€»Ã“äƒ“Ä€iyà·Žà·“rcè€»Ã”äƒ”;äžblac;ä…r;ì€€ð”’raveè€»Ã’äƒ’Æ€aeià·®à·²à·¶cr;ä…Œga;äŽ©cron;äŽŸpf;ì€€ð•†enCurlyÄ€DQà¸Žà¸šoubleQuote;æ€œuote;æ€˜;æ©”Ä€clà¸§à¸¬r;ì€€ð’ªashè€»Ã˜äƒ˜iÅ¬à¸·à¸¼deè€»Ã•äƒ•es;æ¨·mlè€»Ã–äƒ–erÄ€BPà¹‹à¹ Ä€arà¹à¹“r;æ€¾acÄ€ekà¹šà¹œ;æžet;æŽ´arenthesis;æœÒ€acfhilorsà¹¿àº‡àºŠàºàº’àº”àºàº°à»¼rtialD;æˆ‚y;äŸr;ì€€ð”“i;äŽ¦;äŽ usMinus;ä‚±Ä€ipàº¢àº­ncareplanÃ¥Úf;æ„™È€;eioàº¹àººà» à»¤æª»cedesÈ€;ESTà»ˆà»‰à»à»šæ‰ºqual;æª¯lantEqual;æ‰¼ilde;æ‰¾me;æ€³Ä€dpà»©à»®uct;æˆortionÄ€;aÈ¥à»¹l;æˆÄ€cià¼à¼†r;ì€€ð’«;äŽ¨È€Ufosà¼‘à¼–à¼›à¼ŸOTè€»"ä€¢r;ì€€ð””pf;æ„šcr;ì€€ð’¬Ø€BEacefhiorsuà¼¾à½ƒà½‡à½ à½³à¾§à¾ªà¾­á‚–á‚©á‚´á‚¾arr;æ¤Gè€»Â®ä‚®Æ€cnrà½Žà½“à½–ute;ä…”g;æŸ«rÄ€;tà½œà½æ† l;æ¤–Æ€aeyà½§à½¬à½±ron;ä…˜dil;ä…–;ä Ä€;và½¸à½¹æ„œerseÄ€EUà¾‚à¾™Ä€lqà¾‡à¾Žement;æˆ‹uilibrium;æ‡‹pEquilibrium;æ¥¯rÂ»à½¹o;äŽ¡ghtÐ€ACDFTUVaà¿à¿«à¿³á€¢á€¨á›á‚‡Ï˜Ä€nrà¿†à¿’gleBracket;æŸ©rowÆ€;BLà¿œà¿à¿¡æ†’ar;æ‡¥eftArrow;æ‡„eiling;æŒ‰oÇµà¿¹\0á€…bleBracket;æŸ§nÇ”á€Š\0á€”eeVector;æ¥ectorÄ€;Bá€á€žæ‡‚ar;æ¥•loor;æŒ‹Ä€erá€­áƒeÆ€;AVá€µá€¶á€¼æŠ¢rrow;æ†¦ector;æ¥›iangleÆ€;BEáá‘á•æŠ³ar;æ§qual;æŠµpÆ€DTVá£á®á¸ownVector;æ¥eeVector;æ¥œectorÄ€;Bá‚‚á‚ƒæ†¾ar;æ¥”ectorÄ€;Bá‚‘á‚’æ‡€ar;æ¥“Ä€puá‚›á‚žf;æ„ndImplies;æ¥°ightarrow;æ‡›Ä€chá‚¹á‚¼r;æ„›;æ†±leDelayed;æ§´Ú€HOacfhimoqstuáƒ¤áƒ±áƒ·áƒ½á„™á„žá…‘á…–á…¡á…§á†µá†»á†¿Ä€Ccáƒ©áƒ®Hcy;ä©y;ä¨FTcy;ä¬cute;ä…šÊ€;aeiyá„ˆá„‰á„Žá„“á„—æª¼ron;ä… dil;ä…žrc;ä…œ;ä¡r;ì€€ð”–ortÈ€DLRUá„ªá„´á„¾á…‰ownArrowÂ»ÐžeftArrowÂ»à¢šightArrowÂ»à¿pArrow;æ†‘gma;äŽ£allCircle;æˆ˜pf;ì€€ð•ŠÉ²á…­\0\0á…°t;æˆšareÈ€;ISUá…»á…¼á†‰á†¯æ–¡ntersection;æŠ“uÄ€bpá†á†žsetÄ€;Eá†—á†˜æŠqual;æŠ‘ersetÄ€;Eá†¨á†©æŠqual;æŠ’nion;æŠ”cr;ì€€ð’®ar;æ‹†È€bcmpá‡ˆá‡›áˆ‰áˆ‹Ä€;sá‡á‡Žæ‹etÄ€;Eá‡á‡•qual;æŠ†Ä€chá‡ áˆ…eedsÈ€;ESTá‡­á‡®á‡´á‡¿æ‰»qual;æª°lantEqual;æ‰½ilde;æ‰¿ThÃ¡à¾Œ;æˆ‘Æ€;esáˆ’áˆ“áˆ£æ‹‘rsetÄ€;EáˆœáˆæŠƒqual;æŠ‡etÂ»áˆ“Ö€HRSacfhiorsáˆ¾á‰„á‰‰á‰•á‰žá‰±á‰¶áŠŸá‹‚á‹ˆá‹‘ORNè€»ÃžäƒžADE;æ„¢Ä€Hcá‰Žá‰’cy;ä‹y;ä¦Ä€buá‰šá‰œ;ä€‰;äŽ¤Æ€aeyá‰¥á‰ªá‰¯ron;ä…¤dil;ä…¢;ä¢r;ì€€ð”—Ä€eiá‰»áŠ‰Ç²áŠ€\0áŠ‡efore;æˆ´a;äŽ˜Ä€cnáŠŽáŠ˜kSpace;ì€€âŸâ€ŠSpace;æ€‰ldeÈ€;EFTáŠ«áŠ¬áŠ²áŠ¼æˆ¼qual;æ‰ƒullEqual;æ‰…ilde;æ‰ˆpf;ì€€ð•‹ipleDot;æƒ›Ä€ctá‹–á‹›r;ì€€ð’¯rok;ä…¦à«¡á‹·áŒŽáŒšáŒ¦\0áŒ¬áŒ±\0\0\0\0\0áŒ¸áŒ½á·áŽ…\0á¿á„áŠáÄ€crá‹»áŒuteè€»ÃšäƒšrÄ€;oáŒ‡áŒˆæ†Ÿcir;æ¥‰rÇ£áŒ“\0áŒ–y;äŽve;ä…¬Ä€iyáŒžáŒ£rcè€»Ã›äƒ›;ä£blac;ä…°r;ì€€ð”˜raveè€»Ã™äƒ™acr;ä…ªÄ€diáá©erÄ€BPáˆáÄ€aráár;äŸacÄ€eká—á™;æŸet;æŽµarenthesis;æonÄ€;Pá°á±æ‹ƒlus;æŠŽÄ€gpá»á¿on;ä…²f;ì€€ð•ŒÐ€ADETadpsáŽ•áŽ®áŽ¸á„Ï¨á’á—á³rrowÆ€;BDá…áŽ áŽ¤ar;æ¤’ownArrow;æ‡…ownArrow;æ†•quilibrium;æ¥®eeÄ€;Aá‹áŒæŠ¥rrow;æ†¥ownÃ¡Ï³erÄ€LRážá¨eftArrow;æ†–ightArrow;æ†—iÄ€;lá¹áºä’on;äŽ¥ing;ä…®cr;ì€€ð’°ilde;ä…¨mlè€»ÃœäƒœÒ€Dbcdefosvá§á¬á°á³á¾á’…á’Šá’á’–ash;æŠ«ar;æ««y;ä’ashÄ€;lá»á¼æŠ©;æ«¦Ä€erá‘ƒá‘…;æ‹Æ€btyá‘Œá‘á‘ºar;æ€–Ä€;iá‘á‘•calÈ€BLSTá‘¡á‘¥á‘ªá‘´ar;æˆ£ine;ä¼eparator;æ˜ilde;æ‰€ThinSpace;æ€Šr;ì€€ð”™pf;ì€€ð•cr;ì€€ð’±dash;æŠªÊ€cefosá’§á’¬á’±á’¶á’¼irc;ä…´dge;æ‹€r;ì€€ð”špf;ì€€ð•Žcr;ì€€ð’²È€fiosá“‹á“á“’á“˜r;ì€€ð”›;äŽžpf;ì€€ð•cr;ì€€ð’³Ò€AIUacfosuá“±á“µá“¹á“½á”„á”á””á”šá” cy;ä¯cy;ä‡cy;ä®cuteè€»ÃäƒÄ€iyá”‰á”rc;ä…¶;ä«r;ì€€ð”œpf;ì€€ð•cr;ì€€ð’´ml;ä…¸Ð€Hacdefosá”µá”¹á”¿á•‹á•á•á• á•¤cy;ä–cute;ä…¹Ä€ayá•„á•‰ron;ä…½;ä—ot;ä…»Ç²á•”\0á•›oWidtÃ¨à«™a;äŽ–r;æ„¨pf;æ„¤cr;ì€€ð’µà¯¡á–ƒá–Šá–\0á–°á–¶á–¿\0\0\0\0á—†á—›á—«á™Ÿá™­\0áš•áš›áš²áš¹\0áš¾cuteè€»Ã¡äƒ¡reve;ä„ƒÌ€;Ediuyá–œá–á–¡á–£á–¨á–­æˆ¾;ì€€âˆ¾Ì³;æˆ¿rcè€»Ã¢äƒ¢teè‚»Â´Ì†;ä°ligè€»Ã¦äƒ¦Ä€;rÂ²á–º;ì€€ð”žraveè€»Ã äƒ Ä€epá—Šá—–Ä€fpá—á—”sym;æ„µÃ¨á—“ha;äŽ±Ä€apá—ŸcÄ€clá—¤á—§r;ä„g;æ¨¿É¤á—°\0\0á˜ŠÊ€;adsvá—ºá—»á—¿á˜á˜‡æˆ§nd;æ©•;æ©œlope;æ©˜;æ©šÎ€;elmrszá˜˜á˜™á˜›á˜žá˜¿á™á™™æˆ ;æ¦¤eÂ»á˜™sdÄ€;aá˜¥á˜¦æˆ¡Ñ¡á˜°á˜²á˜´á˜¶á˜¸á˜ºá˜¼á˜¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ€;vá™…á™†æˆŸbÄ€;dá™Œá™æŠ¾;æ¦Ä€ptá™”á™—h;æˆ¢Â»Â¹arr;æ¼Ä€gpá™£á™§on;ä„…f;ì€€ð•’Î€;Eaeiopá‹á™»á™½áš‚áš„áš‡ášŠ;æ©°cir;æ©¯;æ‰Šd;æ‰‹s;ä€§roxÄ€;eá‹áš’Ã±ášƒingè€»Ã¥äƒ¥Æ€ctyáš¡áš¦áš¨r;ì€€ð’¶;ä€ªmpÄ€;eá‹áš¯Ã±Êˆildeè€»Ã£äƒ£mlè€»Ã¤äƒ¤Ä€ciá›‚á›ˆoninÃ´É²nt;æ¨‘à €Nabcdefiklnoprsuá›­á›±áœ°áœ¼áƒáˆá¸á½áŸ áŸ¦á ¹á¡áœá¤½á¥ˆá¥°ot;æ«­Ä€crá›¶áœžkÈ€cepsáœ€áœ…áœáœ“ong;æ‰Œpsilon;ä¶rime;æ€µimÄ€;eáœšáœ›æˆ½q;æ‹Å¶áœ¢áœ¦ee;æŠ½edÄ€;gáœ¬áœ­æŒ…eÂ»áœ­rkÄ€;táœáœ·brk;æŽ¶Ä€oyáœá;ä±quo;æ€žÊ€cmprtá“á›á¡á¤á¨ausÄ€;eÄŠÄ‰ptyv;æ¦°sÃ©áœŒnoÃµÄ“Æ€ahwá¯á±á³;äŽ²;æ„¶een;æ‰¬r;ì€€ð”ŸgÎ€costuvwážážáž³áŸáŸ•áŸ›áŸžÆ€aiuáž”áž–ážšÃ°Ý rc;æ—¯pÂ»á±Æ€dptáž¤áž¨áž­ot;æ¨€lus;æ¨imes;æ¨‚É±áž¹\0\0áž¾cup;æ¨†ar;æ˜…riangleÄ€duáŸáŸ’own;æ–½p;æ–³plus;æ¨„eÃ¥á‘„Ã¥á’­arow;æ¤Æ€akoáŸ­á ¦á µÄ€cnáŸ²á £kÆ€lstáŸºÖ«á ‚ozenge;æ§«riangleÈ€;dlrá ’á “á ˜á æ–´own;æ–¾eft;æ—‚ight;æ–¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ–’;æ–‘4;æ–“ck;æ–ˆÄ€eoá ¾á¡Ä€;qá¡ƒá¡†ì€€=âƒ¥uiv;ì€€â‰¡âƒ¥t;æŒÈ€ptwxá¡™á¡žá¡§á¡¬f;ì€€ð•“Ä€;tá‹á¡£omÂ»áŒtie;æ‹ˆØ€DHUVbdhmptuvá¢…á¢–á¢ªá¢»á£—á£›á£¬á£¿á¤…á¤Šá¤á¤¡È€LRlrá¢Žá¢á¢’á¢”;æ•—;æ•”;æ•–;æ•“Ê€;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ•;æ•¦;æ•©;æ•¤;æ•§È€LRlrá¢³á¢µá¢·á¢¹;æ•;æ•š;æ•œ;æ•™Î€;HLRhlrá£Šá£‹á£á£á£‘á£“á£•æ•‘;æ•¬;æ•£;æ• ;æ•«;æ•¢;æ•Ÿox;æ§‰È€LRlrá£¤á£¦á£¨á£ª;æ••;æ•’;æ”;æ”ŒÊ€;DUduÚ½á£·á£¹á£»á£½;æ•¥;æ•¨;æ”¬;æ”´inus;æŠŸlus;æŠžimes;æŠ È€LRlrá¤™á¤›á¤á¤Ÿ;æ•›;æ•˜;æ”˜;æ””Î€;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ”‚;æ•ª;æ•¡;æ•ž;æ”¼;æ”¤;æ”œÄ€evÄ£á¥‚barè€»Â¦ä‚¦È€ceioá¥‘á¥–á¥šá¥ r;ì€€ð’·mi;æmÄ€;eáœšáœœlÆ€;bhá¥¨á¥©á¥«äœ;æ§…sub;æŸˆÅ¬á¥´á¥¾lÄ€;eá¥¹á¥ºæ€¢tÂ»á¥ºpÆ€;EeÄ¯á¦…á¦‡;æª®Ä€;qÛœÛ›à³¡á¦§\0á§¨á¨‘á¨•á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­’\0á¯½\0á°ŒÆ€cprá¦­á¦²á§ute;ä„‡Ì€;abcdsá¦¿á§€á§„á§Šá§•á§™æˆ©nd;æ©„rcup;æ©‰Ä€auá§á§’p;æ©‹p;æ©‡ot;æ©€;ì€€âˆ©ï¸€Ä€eoá§¢á§¥t;æÃ®Ú“È€aeiuá§°á§»á¨á¨…Ç°á§µ\0á§¸s;æ©on;ä„dilè€»Ã§äƒ§rc;ä„‰psÄ€;sá¨Œá¨æ©Œm;æ©ot;ä„‹Æ€dmná¨›á¨ á¨¦ilè‚»Â¸Æ­ptyv;æ¦²tè„€Â¢;eá¨­á¨®ä‚¢rÃ¤Æ²r;ì€€ð” Æ€ceiá¨½á©€á©y;ä‘‡ckÄ€;má©‡á©ˆæœ“arkÂ»á©ˆ;ä‡rÎ€;Ecefmsá©Ÿá© á©¢á©«áª¤áªªáª®æ—‹;æ§ƒÆ€;elá©©á©ªá©­ä‹†q;æ‰—eÉ¡á©´\0\0áªˆrrowÄ€lrá©¼áªeft;æ†ºight;æ†»Ê€RSacdáª’áª”áª–áªšáªŸÂ»à½‡;æ“ˆst;æŠ›irc;æŠšash;æŠnint;æ¨id;æ«¯cir;æ§‚ubsÄ€;uáª»áª¼æ™£itÂ»áª¼Ë¬á«‡á«”á«º\0á¬ŠonÄ€;eá«á«Žä€ºÄ€;qÃ‡Ã†É­á«™\0\0á«¢aÄ€;tá«žá«Ÿä€¬;ä€Æ€;flá«¨á«©á««æˆÃ®á… eÄ€mxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬‡Ä€;dáŠ»á¬‚ot;æ©­nÃ´É†Æ€fryá¬á¬”á¬—;ì€€ð•”oÃ¤É”è„€Â©;sÅ•á¬r;æ„—Ä€aoá¬¥á¬©rr;æ†µss;æœ—Ä€cuá¬²á¬·r;ì€€ð’¸Ä€bpá¬¼á­„Ä€;eá­á­‚æ«;æ«‘Ä€;eá­‰á­Šæ«;æ«’dot;æ‹¯Î€delprvwá­ á­¬á­·á®‚á®¬á¯”á¯¹arrÄ€lrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æ‹žc;æ‹ŸarrÄ€;pá­¿á®€æ†¶;æ¤½Ì€;bcdosá®á®á®–á®¡á®¥á®¨æˆªrcap;æ©ˆÄ€auá®›á®žp;æ©†p;æ©Šot;æŠr;æ©…;ì€€âˆªï¸€È€alrvá®µá®¿á¯žá¯£rrÄ€;má®¼á®½æ†·;æ¤¼yÆ€evwá¯‡á¯”á¯˜qÉ°á¯Ž\0\0á¯’reÃ£á­³uÃ£á­µee;æ‹Žedge;æ‹enè€»Â¤ä‚¤earrowÄ€lrá¯®á¯³eftÂ»á®€ightÂ»á®½eÃ¤á¯Ä€ciá°á°‡oninÃ´Ç·nt;æˆ±lcty;æŒ­à¦€AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²Šá²žá²¬á²·á³»á³¿á´áµ»á¶‘á¶«á¶»á·†á·rÃ²Îar;æ¥¥È€glrsá±ˆá±á±’á±”ger;æ€ eth;æ„¸Ã²á„³hÄ€;vá±šá±›æ€Â»à¤ŠÅ«á±¡á±§arow;æ¤aÃ£Ì•Ä€ayá±®á±³ron;ä„;ä´Æ€;aoÌ²á±¼á²„Ä€grÊ¿á²r;æ‡Štseq;æ©·Æ€glmá²‘á²”á²˜è€»Â°ä‚°ta;äŽ´ptyv;æ¦±Ä€irá²£á²¨sht;æ¥¿;ì€€ð”¡arÄ€lrá²³á²µÂ»à£œÂ»á€žÊ€aegsvá³‚Í¸á³–á³œá³ mÆ€;osÌ¦á³Šá³”ndÄ€;sÌ¦á³‘uit;æ™¦amma;äin;æ‹²Æ€;ioá³§á³¨á³¸äƒ·deè„€Ã·;oá³§á³°ntimes;æ‹‡nÃ¸á³·cy;ä‘’cÉ¯á´†\0\0á´Šrn;æŒžop;æŒÊ€lptuwá´˜á´á´¢áµ‰áµ•lar;ä€¤f;ì€€ð••Ê€;empsÌ‹á´­á´·á´½áµ‚qÄ€;dÍ’á´³ot;æ‰‘inus;æˆ¸lus;æˆ”quare;æŠ¡blebarwedgÃ¥ÃºnÆ€adhá„®áµáµ§ownarrowÃ³á²ƒarpoonÄ€lráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶…karoÃ·à½‚É¯á¶Š\0\0á¶Žrn;æŒŸop;æŒŒÆ€cotá¶˜á¶£á¶¦Ä€ryá¶á¶¡;ì€€ð’¹;ä‘•l;æ§¶rok;ä„‘Ä€drá¶°á¶´ot;æ‹±iÄ€;fá¶ºá –æ–¿Ä€ahá·€á·ƒrÃ²Ð©aÃ²à¾¦angle;æ¦¦Ä€ciá·’á·•y;ä‘Ÿgrarr;æŸ¿à¤€Dacdefglmnopqrstuxá¸á¸‰á¸™á¸¸Õ¸á¸¼á¹‰á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½„á½Žá½šÄ€Doá¸†á´´oÃ´á²‰Ä€csá¸Žá¸”uteè€»Ã©äƒ©ter;æ©®È€aioyá¸¢á¸§á¸±á¸¶ron;ä„›rÄ€;cá¸­á¸®æ‰–è€»Ãªäƒªlon;æ‰•;ä‘ot;ä„—Ä€Drá¹á¹…ot;æ‰’;ì€€ð”¢Æ€;rsá¹á¹‘á¹—æªšaveè€»Ã¨äƒ¨Ä€;dá¹œá¹æª–ot;æª˜È€;ilsá¹ªá¹«á¹²á¹´æª™nters;æ§;æ„“Ä€;dá¹¹á¹ºæª•ot;æª—Æ€apsáº…áº‰áº—cr;ä„“tyÆ€;sváº’áº“áº•æˆ…etÂ»áº“pÄ€1;áºáº¤Ä³áº¡áº£;æ€„;æ€…æ€ƒÄ€gsáºªáº¬;ä…‹p;æ€‚Ä€gpáº´áº¸on;ä„™f;ì€€ð•–Æ€alsá»„á»Žá»’rÄ€;sá»Šá»‹æ‹•l;æ§£us;æ©±iÆ€;lvá»šá»›á»ŸäŽµonÂ»á»›;äµÈ€csuvá»ªá»³á¼‹á¼£Ä€ioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕˆantÄ€glá¼‚á¼†trÂ»á¹essÂ»á¹ºÆ€aeiá¼’á¼–á¼šls;ä€½st;æ‰ŸvÄ€;DÈµá¼ D;æ©¸parsl;æ§¥Ä€Daá¼¯á¼³ot;æ‰“rr;æ¥±Æ€cdiá¼¾á½á»¸r;æ„¯oÃ´Í’Ä€ahá½‰á½‹;äŽ·è€»Ã°äƒ°Ä€mrá½“á½—lè€»Ã«äƒ«o;æ‚¬Æ€cipá½¡á½¤á½§l;ä€¡sÃ´Õ®Ä€eoá½¬á½´ctatioÃ®Õ™nentialÃ¥Õ¹à§¡á¾’\0á¾ž\0á¾¡á¾§\0\0á¿†á¿Œ\0á¿“\0á¿¦á¿ªâ€€\0â€ˆâšllingdotseÃ±á¹„y;ä‘„male;æ™€Æ€ilrá¾­á¾³á¿lig;è€€ï¬ƒÉ©á¾¹\0\0á¾½g;è€€ï¬€ig;è€€ï¬„;ì€€ð”£lig;è€€ï¬lig;ì€€fjÆ€altá¿™á¿œá¿¡t;æ™­ig;è€€ï¬‚ns;æ–±of;ä†’Ç°á¿®\0á¿³f;ì€€ð•—Ä€akÖ¿á¿·Ä€;vá¿¼á¿½æ‹”;æ«™artint;æ¨Ä€aoâ€Œâ•Ä€csâ€‘â’Î±â€šâ€°â€¸â…âˆ\0âÎ²â€¢â€¥â€§â€ªâ€¬\0â€®è€»Â½ä‚½;æ…“è€»Â¼ä‚¼;æ…•;æ…™;æ…›Æ³â€´\0â€¶;æ…”;æ…–Ê´â€¾â\0\0âƒè€»Â¾ä‚¾;æ…—;æ…œ5;æ…˜Æ¶âŒ\0âŽ;æ…š;æ…8;æ…žl;æ„wn;æŒ¢cr;ì€€ð’»à¢€Eabcdefgijlnorstvâ‚‚â‚‰â‚Ÿâ‚¥â‚°â‚´âƒ°âƒµâƒºâƒ¿â„ƒâ„’â„¸Ì—â„¾â…’â†žÄ€;lÙâ‚‡;æªŒÆ€cmpâ‚â‚•â‚ute;ä‡µmaÄ€;dâ‚œá³šäŽ³;æª†reve;ä„ŸÄ€iyâ‚ªâ‚®rc;ä„;ä³ot;ä„¡È€;lqsØ¾Ù‚â‚½âƒ‰Æ€;qsØ¾ÙŒâƒ„lanÃ´Ù¥È€;cdlÙ¥âƒ’âƒ•âƒ¥c;æª©otÄ€;oâƒœâƒæª€Ä€;lâƒ¢âƒ£æª‚;æª„Ä€;eâƒªâƒ­ì€€â‹›ï¸€s;æª”r;ì€€ð”¤Ä€;gÙ³Ø›mel;æ„·cy;ä‘“È€;EajÙšâ„Œâ„Žâ„;æª’;æª¥;æª¤È€Eaesâ„›â„â„©â„´;æ‰©pÄ€;pâ„£â„¤æªŠroxÂ»â„¤Ä€;qâ„®â„¯æªˆÄ€;qâ„®â„›im;æ‹§pf;ì€€ð•˜Ä€ciâ…ƒâ…†r;æ„ŠmÆ€;elÙ«â…Žâ…;æªŽ;æªèŒ€>;cdlqr×®â… â…ªâ…®â…³â…¹Ä€ciâ…¥â…§;æª§r;æ©ºot;æ‹—Par;æ¦•uest;æ©¼Ê€adelsâ†„â…ªâ†Ù–â†›Ç°â†‰\0â†ŽproÃ¸â‚žr;æ¥¸qÄ€lqØ¿â†–lesÃ³â‚ˆiÃ­Ù«Ä€enâ†£â†­rtneqq;ì€€â‰©ï¸€Ã…â†ªÔ€Aabcefkosyâ‡„â‡‡â‡±â‡µâ‡ºâˆ˜âˆâˆ¯â‰¨â‰½rÃ²Î È€ilmrâ‡â‡”â‡—â‡›rsÃ°á’„fÂ»â€¤ilÃ´Ú©Ä€drâ‡ â‡¤cy;ä‘ŠÆ€;cwà£´â‡«â‡¯ir;æ¥ˆ;æ†­ar;æ„irc;ä„¥Æ€alrâˆâˆŽâˆ“rtsÄ€;uâˆ‰âˆŠæ™¥itÂ»âˆŠlip;æ€¦con;æŠ¹r;ì€€ð”¥sÄ€ewâˆ£âˆ©arow;æ¤¥arow;æ¤¦Ê€amoprâˆºâˆ¾â‰ƒâ‰žâ‰£rr;æ‡¿tht;æˆ»kÄ€lrâ‰‰â‰“eftarrow;æ†©ightarrow;æ†ªf;ì€€ð•™bar;æ€•Æ€cltâ‰¯â‰´â‰¸r;ì€€ð’½asÃ¨â‡´rok;ä„§Ä€bpâŠ‚âŠ‡ull;æƒhenÂ»á±›à«¡âŠ£\0âŠª\0âŠ¸â‹…â‹Ž\0â‹•â‹³\0\0â‹¸âŒ¢â§â¢â¿\0âŽ†âŽªâŽ´cuteè€»Ã­äƒ­Æ€;iyÝ±âŠ°âŠµrcè€»Ã®äƒ®;ä¸Ä€cxâŠ¼âŠ¿y;äµclè€»Â¡ä‚¡Ä€frÎŸâ‹‰;ì€€ð”¦raveè€»Ã¬äƒ¬È€;inoÜ¾â‹â‹©â‹®Ä€inâ‹¢â‹¦nt;æ¨Œt;æˆ­fin;æ§œta;æ„©lig;ä„³Æ€aopâ‹¾âŒšâŒÆ€cgtâŒ…âŒˆâŒ—r;ä„«Æ€elpÜŸâŒâŒ“inÃ¥ÞŽarÃ´Ü h;ä„±f;æŠ·ed;ä†µÊ€;cfotÓ´âŒ¬âŒ±âŒ½âare;æ„…inÄ€;tâŒ¸âŒ¹æˆžie;æ§doÃ´âŒ™Ê€;celpÝ—âŒââ›â¡al;æŠºÄ€grâ•â™erÃ³á•£Ã£âarhk;æ¨—rod;æ¨¼È€cgptâ¯â²â¶â»y;ä‘‘on;ä„¯f;ì€€ð•ša;äŽ¹uestè€»Â¿ä‚¿Ä€ciâŽŠâŽr;ì€€ð’¾nÊ€;EdsvÓ´âŽ›âŽâŽ¡Ó³;æ‹¹ot;æ‹µÄ€;vâŽ¦âŽ§æ‹´;æ‹³Ä€;iÝ·âŽ®lde;ä„©Ç«âŽ¸\0âŽ¼cy;ä‘–lè€»Ã¯äƒ¯Ì€cfmosuâŒâ—âœâ¡â§âµÄ€iyâ‘â•rc;ä„µ;ä¹r;ì€€ð”§ath;äˆ·pf;ì€€ð•›Ç£â¬\0â±r;ì€€ð’¿rcy;ä‘˜kcy;ä‘”Ð€acfghjosâ‹â–â¢â§â­â±âµâ»ppaÄ€;vâ“â”äŽº;ä°Ä€eyâ›â dil;ä„·;äºr;ì€€ð”¨reen;ä„¸cy;ä‘…cy;ä‘œpf;ì€€ð•œcr;ì€€ð“€à®€ABEHabcdefghjlmnoprstuvâ‘°â’â’†â’â’‘â”Žâ”½â•šâ–€â™Žâ™žâ™¥â™¹â™½âššâš²â›˜ââ¨âž‹âŸ€â â ’Æ€artâ‘·â‘ºâ‘¼rÃ²à§†Ã²Î•ail;æ¤›arr;æ¤ŽÄ€;gà¦”â’‹;æª‹ar;æ¥¢à¥£â’¥\0â’ª\0â’±\0\0\0\0\0â’µâ’º\0â“†â“ˆâ“\0â“¹ute;ä„ºmptyv;æ¦´raÃ®à¡Œbda;äŽ»gÆ€;dlà¢Žâ“â“ƒ;æ¦‘Ã¥à¢Ž;æª…uoè€»Â«ä‚«rÐ€;bfhlpstà¢™â“žâ“¦â“©â“«â“®â“±â“µÄ€;fà¢â“£s;æ¤Ÿs;æ¤Ã«â‰’p;æ†«l;æ¤¹im;æ¥³l;æ†¢Æ€;aeâ“¿â”€â”„æª«il;æ¤™Ä€;sâ”‰â”Šæª­;ì€€âª­ï¸€Æ€abrâ”•â”™â”rr;æ¤Œrk;æ²Ä€akâ”¢â”¬cÄ€ekâ”¨â”ª;ä»;ä›Ä€esâ”±â”³;æ¦‹lÄ€duâ”¹â”»;æ¦;æ¦È€aeuyâ•†â•‹â•–â•˜ron;ä„¾Ä€diâ•â•”il;ä„¼Ã¬à¢°Ã¢â”©;ä»È€cqrsâ•£â•¦â•­â•½a;æ¤¶uoÄ€;rà¸™á†Ä€duâ•²â•·har;æ¥§shar;æ¥‹h;æ†²Ê€;fgqsâ–‹â–Œà¦‰â—³â—¿æ‰¤tÊ€ahlrtâ–˜â–¤â–·â—‚â—¨rrowÄ€;tà¢™â–¡aÃ©â“¶arpoonÄ€duâ–¯â–´ownÂ»ÑšpÂ»à¥¦eftarrows;æ‡‡ightÆ€ahsâ—â—–â—žrrowÄ€;sà£´à¢§arpoonÃ³à¾˜quigarroÃ·â‡°hreetimes;æ‹‹Æ€;qsâ–‹à¦“â—ºlanÃ´à¦¬Ê€;cdgsà¦¬â˜Šâ˜â˜â˜¨c;æª¨otÄ€;oâ˜”â˜•æ©¿Ä€;râ˜šâ˜›æª;æªƒÄ€;eâ˜¢â˜¥ì€€â‹šï¸€s;æª“Ê€adegsâ˜³â˜¹â˜½â™‰â™‹pproÃ¸â“†ot;æ‹–qÄ€gqâ™ƒâ™…Ã´à¦‰gtÃ²â’ŒÃ´à¦›iÃ­à¦²Æ€ilrâ™•à£¡â™šsht;æ¥¼;ì€€ð”©Ä€;Eà¦œâ™£;æª‘Å¡â™©â™¶rÄ€duâ–²â™®Ä€;là¥¥â™³;æ¥ªlk;æ–„cy;ä‘™Ê€;achtà©ˆâšˆâš‹âš‘âš–rÃ²â—orneÃ²á´ˆard;æ¥«ri;æ—ºÄ€ioâšŸâš¤dot;ä…€ustÄ€;aâš¬âš­æŽ°cheÂ»âš­È€Eaesâš»âš½â›‰â›”;æ‰¨pÄ€;pâ›ƒâ›„æª‰roxÂ»â›„Ä€;qâ›Žâ›æª‡Ä€;qâ›Žâš»im;æ‹¦Ð€abnoptwzâ›©â›´â›·âœšâœ¯ââ‡âÄ€nrâ›®â›±g;æŸ¬r;æ‡½rÃ«à£gÆ€lmrâ›¿âœâœ”eftÄ€arà§¦âœ‡ightÃ¡à§²apsto;æŸ¼ightÃ¡à§½parrowÄ€lrâœ¥âœ©efÃ´â“­ight;æ†¬Æ€aflâœ¶âœ¹âœ½r;æ¦…;ì€€ð•us;æ¨­imes;æ¨´Å¡â‹âst;æˆ—Ã¡áŽÆ€;efâ—â˜á €æ—ŠngeÂ»â˜arÄ€;lâ¤â¥ä€¨t;æ¦“Ê€achmtâ³â¶â¼âž…âž‡rÃ²à¢¨orneÃ²á¶ŒarÄ€;dà¾˜âžƒ;æ¥­;æ€Žri;æŠ¿Ì€achiqtâž˜âžà©€âž¢âž®âž»quo;æ€¹r;ì€€ð“mÆ€;egà¦²âžªâž¬;æª;æªÄ€buâ”ªâž³oÄ€;rà¸Ÿâž¹;æ€šrok;ä…‚è€<;cdhilqrà «âŸ’â˜¹âŸœâŸ âŸ¥âŸªâŸ°Ä€ciâŸ—âŸ™;æª¦r;æ©¹reÃ¥â—²mes;æ‹‰arr;æ¥¶uest;æ©»Ä€PiâŸµâŸ¹ar;æ¦–Æ€;efâ €à¤­á ›æ—ƒrÄ€duâ ‡â shar;æ¥Šhar;æ¥¦Ä€enâ —â ¡rtneqq;ì€€â‰¨ï¸€Ã…â žÜ€Dacdefhilnopsuâ¡€â¡…â¢‚â¢Žâ¢“â¢ â¢¥â¢¨â£šâ£¢â£¤àªƒâ£³â¤‚Dot;æˆºÈ€clprâ¡Žâ¡’â¡£â¡½rè€»Â¯ä‚¯Ä€etâ¡—â¡™;æ™‚Ä€;eâ¡žâ¡Ÿæœ seÂ»â¡ŸÄ€;sá€»â¡¨toÈ€;dluá€»â¡³â¡·â¡»owÃ®ÒŒefÃ´à¤Ã°á‘ker;æ–®Ä€oyâ¢‡â¢Œmma;æ¨©;ä¼ash;æ€”asuredangleÂ»á˜¦r;ì€€ð”ªo;æ„§Æ€cdnâ¢¯â¢´â£‰roè€»Âµä‚µÈ€;acdá‘¤â¢½â£€â£„sÃ´áš§ir;æ«°otè‚»Â·ÆµusÆ€;bdâ£’á¤ƒâ£“æˆ’Ä€;uá´¼â£˜;æ¨ªÅ£â£žâ£¡p;æ«›Ã²âˆ’Ã°àªÄ€dpâ£©â£®els;æŠ§f;ì€€ð•žÄ€ctâ£¸â£½r;ì€€ð“‚posÂ»á–Æ€;lmâ¤‰â¤Šâ¤äŽ¼timap;æŠ¸à°€GLRVabcdefghijlmoprstuvwâ¥‚â¥“â¥¾â¦‰â¦˜â§šâ§©â¨•â¨šâ©˜â©âªƒâª•âª¤âª¨â¬„â¬‡â­„â­¿â®®â°´â±§â±¼â³©Ä€gtâ¥‡â¥‹;ì€€â‹™Ì¸Ä€;vâ¥à¯ì€€â‰«âƒ’Æ€eltâ¥šâ¥²â¥¶ftÄ€arâ¥¡â¥§rrow;æ‡ightarrow;æ‡Ž;ì€€â‹˜Ì¸Ä€;vâ¥»à±‡ì€€â‰ªâƒ’ightarrow;æ‡Ä€Ddâ¦Žâ¦“ash;æŠ¯ash;æŠ®Ê€bcnptâ¦£â¦§â¦¬â¦±â§ŒlaÂ»Ëžute;ä…„g;ì€€âˆ âƒ’Ê€;Eiopà¶„â¦¼â§€â§…â§ˆ;ì€€â©°Ì¸d;ì€€â‰‹Ì¸s;ä…‰roÃ¸à¶„urÄ€;aâ§“â§”æ™®lÄ€;sâ§“à¬¸Ç³â§Ÿ\0â§£pè‚»Â à¬·mpÄ€;eà¯¹à°€Ê€aeouyâ§´â§¾â¨ƒâ¨â¨“Ç°â§¹\0â§»;æ©ƒon;ä…ˆdil;ä…†ngÄ€;dàµ¾â¨Šot;ì€€â©­Ì¸p;æ©‚;ä½ash;æ€“Î€;Aadqsxà®’â¨©â¨­â¨»â©â©…â©rr;æ‡—rÄ€hrâ¨³â¨¶k;æ¤¤Ä€;oá²á°ot;ì€€â‰Ì¸uiÃ¶à­£Ä€eiâ©Šâ©Žar;æ¤¨Ã­à®˜istÄ€;sà® à®Ÿr;ì€€ð”«È€Eestà¯…â©¦â©¹â©¼Æ€;qsà®¼â©­à¯¡Æ€;qsà®¼à¯…â©´lanÃ´à¯¢iÃ­à¯ªÄ€;rà®¶âªÂ»à®·Æ€AapâªŠâªâª‘rÃ²â¥±rr;æ†®ar;æ«²Æ€;svà¾âªœà¾ŒÄ€;dâª¡âª¢æ‹¼;æ‹ºcy;ä‘šÎ€AEadestâª·âªºâª¾â«‚â«…â«¶â«¹rÃ²â¥¦;ì€€â‰¦Ì¸rr;æ†šr;æ€¥È€;fqsà°»â«Žâ«£â«¯tÄ€arâ«”â«™rroÃ·â«ightarroÃ·âªÆ€;qsà°»âªºâ«ªlanÃ´à±•Ä€;sà±•â«´Â»à°¶iÃ­à±Ä€;rà°µâ«¾iÄ€;eà°šà°¥iÃ¤à¶Ä€ptâ¬Œâ¬‘f;ì€€ð•Ÿè†€Â¬;inâ¬™â¬šâ¬¶ä‚¬nÈ€;Edvà®‰â¬¤â¬¨â¬®;ì€€â‹¹Ì¸ot;ì€€â‹µÌ¸Ç¡à®‰â¬³â¬µ;æ‹·;æ‹¶iÄ€;và²¸â¬¼Ç¡à²¸â­â­ƒ;æ‹¾;æ‹½Æ€aorâ­‹â­£â­©rÈ€;astà­»â­•â­šâ­ŸlleÃ¬à­»l;ì€€â«½âƒ¥;ì€€âˆ‚Ì¸lint;æ¨”Æ€;ceà²’â­°â­³uÃ¥à²¥Ä€;cà²˜â­¸Ä€;eà²’â­½Ã±à²˜È€Aaitâ®ˆâ®‹â®â®§rÃ²â¦ˆrrÆ€;cwâ®”â®•â®™æ†›;ì€€â¤³Ì¸;ì€€â†Ì¸ghtarrowÂ»â®•riÄ€;eà³‹à³–Î€chimpquâ®½â¯â¯™â¬„à­¸â¯¤â¯¯È€;cerà´²â¯†à´·â¯‰uÃ¥àµ…;ì€€ð“ƒortÉ­â¬…\0\0â¯–arÃ¡â­–mÄ€;eàµ®â¯ŸÄ€;qàµ´àµ³suÄ€bpâ¯«â¯­Ã¥à³¸Ã¥à´‹Æ€bcpâ¯¶â°‘â°™È€;Eesâ¯¿â°€à´¢â°„æŠ„;ì€€â«…Ì¸etÄ€;eà´›â°‹qÄ€;qà´£â°€cÄ€;eà´²â°—Ã±à´¸È€;Eesâ°¢â°£àµŸâ°§æŠ…;ì€€â«†Ì¸etÄ€;eàµ˜â°®qÄ€;qàµ â°£È€gilrâ°½â°¿â±…â±‡Ã¬à¯—ldeè€»Ã±äƒ±Ã§à±ƒiangleÄ€lrâ±’â±œeftÄ€;eà°šâ±šÃ±à°¦ightÄ€;eà³‹â±¥Ã±à³—Ä€;mâ±¬â±­äŽ½Æ€;esâ±´â±µâ±¹ä€£ro;æ„–p;æ€‡Ò€DHadgilrsâ²â²”â²™â²žâ²£â²°â²¶â³“â³£ash;æŠ­arr;æ¤„p;ì€€â‰âƒ’ash;æŠ¬Ä€etâ²¨â²¬;ì€€â‰¥âƒ’;ì€€>âƒ’nfin;æ§žÆ€Aetâ²½â³â³…rr;æ¤‚;ì€€â‰¤âƒ’Ä€;râ³Šâ³ì€€<âƒ’ie;ì€€âŠ´âƒ’Ä€Atâ³˜â³œrr;æ¤ƒrie;ì€€âŠµâƒ’im;ì€€âˆ¼âƒ’Æ€Aanâ³°â³´â´‚rr;æ‡–rÄ€hrâ³ºâ³½k;æ¤£Ä€;oá§á¥ear;æ¤§á‰“áª•\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµˆâµ âµ¥âµ²â¶„á¬‡\0\0â¶â¶«\0â·ˆâ·Ž\0â·œâ¸™â¸«â¸¾â¹ƒÄ€csâ´±áª—uteè€»Ã³äƒ³Ä€iyâ´¼âµ…rÄ€;cáªžâµ‚è€»Ã´äƒ´;ä¾Ê€abiosáª âµ’âµ—Çˆâµšlac;ä…‘v;æ¨¸old;æ¦¼lig;ä…“Ä€crâµ©âµ­ir;æ¦¿;ì€€ð”¬Í¯âµ¹\0\0âµ¼\0â¶‚n;ä‹›aveè€»Ã²äƒ²;æ§Ä€bmâ¶ˆà·´ar;æ¦µÈ€acitâ¶•â¶˜â¶¥â¶¨rÃ²áª€Ä€irâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹’;æ§€Æ€aeiâ¶±â¶µâ¶¹cr;ä…ga;ä‰Æ€cdnâ·€â·…Çron;äŽ¿;æ¦¶pf;ì€€ð• Æ€aelâ·”â·—Ç’r;æ¦·rp;æ¦¹Î€;adiosvâ·ªâ·«â·®â¸ˆâ¸â¸â¸–æˆ¨rÃ²áª†È€;efmâ··â·¸â¸‚â¸…æ©rÄ€;oâ·¾â·¿æ„´fÂ»â·¿è€»Âªä‚ªè€»Âºä‚ºgof;æŠ¶r;æ©–lope;æ©—;æ©›Æ€cloâ¸Ÿâ¸¡â¸§Ã²â¸ashè€»Ã¸äƒ¸l;æŠ˜iÅ¬â¸¯â¸´deè€»ÃµäƒµesÄ€;aÇ›â¸ºs;æ¨¶mlè€»Ã¶äƒ¶bar;æŒ½à«¡â¹ž\0â¹½\0âº€âº\0âº¢âº¹\0\0â»‹àºœ\0â¼“\0\0â¼«â¾¼\0â¿ˆrÈ€;astÐƒâ¹§â¹²àº…è„€Â¶;lâ¹­â¹®ä‚¶leÃ¬ÐƒÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊ€cimptâº‹âºâº“á¡¥âº—nt;ä€¥od;ä€®il;æ€°enk;æ€±r;ì€€ð”­Æ€imoâº¨âº°âº´Ä€;vâº­âº®ä†;ä•maÃ´à©¶ne;æ˜ŽÆ€;tvâº¿â»€â»ˆä€chforkÂ»á¿½;ä–Ä€auâ»â»ŸnÄ€ckâ»•â»kÄ€;hâ‡´â»›;æ„ŽÃ¶â‡´sÒ€;abcdemstâ»³â»´á¤ˆâ»¹â»½â¼„â¼†â¼Šâ¼Žä€«cir;æ¨£ir;æ¨¢Ä€ouáµ€â¼‚;æ¨¥;æ©²nè‚»Â±àºim;æ¨¦wo;æ¨§Æ€ipuâ¼™â¼ â¼¥ntint;æ¨•f;ì€€ð•¡ndè€»Â£ä‚£Ô€;Eaceinosuà»ˆâ¼¿â½â½„â½‡â¾â¾‰â¾’â½¾â¾¶;æª³p;æª·uÃ¥à»™Ä€;cà»Žâ½ŒÌ€;acensà»ˆâ½™â½Ÿâ½¦â½¨â½¾pproÃ¸â½ƒurlyeÃ±à»™Ã±à»ŽÆ€aesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ‹¨iÃ­à»ŸmeÄ€;sâ¾ˆàº®æ€²Æ€Easâ½¸â¾â½ºÃ°â½µÆ€dfpà»¬â¾™â¾¯Æ€alsâ¾ â¾¥â¾ªlar;æŒ®ine;æŒ’urf;æŒ“Ä€;tà»»â¾´Ã¯à»»rel;æŠ°Ä€ciâ¿€â¿…r;ì€€ð“…;äˆncsp;æ€ˆÌ€fiopsuâ¿šâ‹¢â¿Ÿâ¿¥â¿«â¿±r;ì€€ð”®pf;ì€€ð•¢rime;æ—cr;ì€€ð“†Æ€aeoâ¿¸ã€‰ã€“tÄ€eiâ¿¾ã€…rnionÃ³Ú°nt;æ¨–stÄ€;eã€ã€‘ä€¿Ã±á¼™Ã´à¼”àª€ABHabcdefhilmnoprstuxã€ã‘ã•ã™ãƒ ã„Žã„«ã…‡ã…¢ã…²ã†Žãˆ†ãˆ•ãˆ¤ãˆ©ã‰˜ã‰®ã‰²ãŠãŠ°ãŠ·Æ€artã‡ãŠãŒrÃ²á‚³Ã²Ïail;æ¤œarÃ²á±¥ar;æ¥¤Î€cdenqrtã¨ãµã¸ã¿ã‚ã‚”ãƒŒÄ€euã­ã±;ì€€âˆ½Ì±te;ä…•iÃ£á…®mptyv;æ¦³gÈ€;delà¿‘ã‚‰ã‚‹ã‚;æ¦’;æ¦¥Ã¥à¿‘uoè€»Â»ä‚»rÖ€;abcfhlpstwà¿œã‚¬ã‚¯ã‚·ã‚¹ã‚¼ã‚¾ãƒ€ãƒƒãƒ‡ãƒŠp;æ¥µÄ€;fà¿ ã‚´s;æ¤ ;æ¤³s;æ¤žÃ«â‰Ã°âœ®l;æ¥…im;æ¥´l;æ†£;æ†Ä€aiãƒ‘ãƒ•il;æ¤šoÄ€;nãƒ›ãƒœæˆ¶alÃ³à¼žÆ€abrãƒ§ãƒªãƒ®rÃ²áŸ¥rk;æ³Ä€akãƒ³ãƒ½cÄ€ekãƒ¹ãƒ»;ä½;äÄ€esã„‚ã„„;æ¦ŒlÄ€duã„Šã„Œ;æ¦Ž;æ¦È€aeuyã„—ã„œã„§ã„©ron;ä…™Ä€diã„¡ã„¥il;ä…—Ã¬à¿²Ã¢ãƒº;ä‘€È€clqsã„´ã„·ã„½ã…„a;æ¤·dhar;æ¥©uoÄ€;rÈŽÈh;æ†³Æ€acgã…Žã…Ÿà½„lÈ€;ipsà½¸ã…˜ã…›á‚œnÃ¥á‚»arÃ´à¾©t;æ–­Æ€ilrã…©á€£ã…®sht;æ¥½;ì€€ð”¯Ä€aoã…·ã††rÄ€duã…½ã…¿Â»Ñ»Ä€;lá‚‘ã†„;æ¥¬Ä€;vã†‹ã†Œä;ä±Æ€gnsã†•ã‡¹ã‡¼htÌ€ahlrstã†¤ã†°ã‡‚ã‡˜ã‡¤ã‡®rrowÄ€;tà¿œã†­aÃ©ãƒˆarpoonÄ€duã†»ã†¿owÃ®ã…¾pÂ»á‚’eftÄ€ahã‡Šã‡rrowÃ³à¿ªarpoonÃ³Õ‘ightarrows;æ‡‰quigarroÃ·ãƒ‹hreetimes;æ‹Œg;ä‹šingdotseÃ±á¼²Æ€ahmãˆãˆãˆ“rÃ²à¿ªaÃ²Õ‘;æ€oustÄ€;aãˆžãˆŸæŽ±cheÂ»ãˆŸmid;æ«®È€abptãˆ²ãˆ½ã‰€ã‰’Ä€nrãˆ·ãˆºg;æŸ­r;æ‡¾rÃ«á€ƒÆ€aflã‰‡ã‰Šã‰Žr;æ¦†;ì€€ð•£us;æ¨®imes;æ¨µÄ€apã‰ã‰§rÄ€;gã‰£ã‰¤ä€©t;æ¦”olint;æ¨’arÃ²ã‡£È€achqã‰»ãŠ€á‚¼ãŠ…quo;æ€ºr;ì€€ð“‡Ä€buãƒ»ãŠŠoÄ€;rÈ”È“Æ€hirãŠ—ãŠ›ãŠ reÃ¥ã‡¸mes;æ‹ŠiÈ€;eflãŠªá™á ¡ãŠ«æ–¹tri;æ§Žluhar;æ¥¨;æ„žàµ¡ã‹•ã‹›ã‹ŸãŒ¬ãŒ¸ã±\0ãºãŽ¤\0\0ã¬ã°\0ã¨ã‘ˆã‘šã’­ã’±ã“Šã“±\0ã˜–\0\0ã˜³cute;ä…›quÃ¯âžºÔ€;Eaceinpsyá‡­ã‹³ã‹µã‹¿ãŒ‚ãŒ‹ãŒãŒŸãŒ¦ãŒ©;æª´Ç°ã‹º\0ã‹¼;æª¸on;ä…¡uÃ¥á‡¾Ä€;dá‡³ãŒ‡il;ä…Ÿrc;ä…Æ€EasãŒ–ãŒ˜ãŒ›;æª¶p;æªºim;æ‹©olint;æ¨“iÃ­áˆ„;ä‘otÆ€;beãŒ´áµ‡ãŒµæ‹…;æ©¦Î€Aacmstxã†ãŠã—ã›ãžã£ã­rr;æ‡˜rÄ€hrãã’Ã«âˆ¨Ä€;oà¨¶à¨´tè€»Â§ä‚§i;ä€»war;æ¤©mÄ€inã©Ã°nuÃ³Ã±t;æœ¶rÄ€;oã¶â•ì€€ð”°È€acoyãŽ‚ãŽ†ãŽ‘ãŽ rp;æ™¯Ä€hyãŽ‹ãŽcy;ä‘‰;ä‘ˆrtÉ­ãŽ™\0\0ãŽœiÃ¤á‘¤araÃ¬â¹¯è€»Â­ä‚­Ä€gmãŽ¨ãŽ´maÆ€;fvãŽ±ãŽ²ãŽ²äƒ;ä‚Ð€;deglnpráŠ«ã…ã‰ãŽã–ãžã¡ã¦ot;æ©ªÄ€;qáŠ±áŠ°Ä€;Eã“ã”æªž;æª Ä€;Eã›ãœæª;æªŸe;æ‰†lus;æ¨¤arr;æ¥²arÃ²á„½È€aeitã¸ãˆãã—Ä€lsã½ã„lsetmÃ©ãªhp;æ¨³parsl;æ§¤Ä€dlá‘£ã”e;æŒ£Ä€;eãœãæªªÄ€;sã¢ã£æª¬;ì€€âª¬ï¸€Æ€flpã®ã³ã‘‚tcy;ä‘ŒÄ€;bã¸ã¹ä€¯Ä€;aã¾ã¿æ§„r;æŒ¿f;ì€€ð•¤aÄ€drã‘Ð‚esÄ€;uã‘”ã‘•æ™ itÂ»ã‘•Æ€csuã‘ ã‘¹ã’ŸÄ€auã‘¥ã‘¯pÄ€;sá†ˆã‘«;ì€€âŠ“ï¸€pÄ€;sá†´ã‘µ;ì€€âŠ”ï¸€uÄ€bpã‘¿ã’Æ€;esá†—á†œã’†etÄ€;eá†—ã’Ã±á†Æ€;esá†¨á†­ã’–etÄ€;eá†¨ã’Ã±á†®Æ€;afá…»ã’¦Ö°rÅ¥ã’«Ö±Â»á…¼arÃ²á…ˆÈ€cemtã’¹ã’¾ã“‚ã“…r;ì€€ð“ˆtmÃ®Ã±iÃ¬ã•arÃ¦á†¾Ä€arã“Žã“•rÄ€;fã“”áž¿æ˜†Ä€anã“šã“­ightÄ€epã“£ã“ªpsiloÃ®á» hÃ©âº¯sÂ»â¡’Ê€bcmnpã“»ã•žáˆ‰ã–‹ã–ŽÒ€;Edemnprsã”Žã”ã”‘ã”•ã”žã”£ã”¬ã”±ã”¶æŠ‚;æ«…ot;æª½Ä€;dá‡šã”šot;æ«ƒult;æ«Ä€Eeã”¨ã”ª;æ«‹;æŠŠlus;æª¿arr;æ¥¹Æ€eiuã”½ã•’ã••tÆ€;enã”Žã•…ã•‹qÄ€;qá‡šã”eqÄ€;qã”«ã”¨m;æ«‡Ä€bpã•šã•œ;æ«•;æ«“cÌ€;acensá‡­ã•¬ã•²ã•¹ã•»ãŒ¦pproÃ¸ã‹ºurlyeÃ±á‡¾Ã±á‡³Æ€aesã–‚ã–ˆãŒ›pproÃ¸ãŒšqÃ±ãŒ—g;æ™ªÚ€123;Edehlmnpsã–©ã–¬ã–¯áˆœã–²ã–´ã—€ã—‰ã—•ã—šã—Ÿã—¨ã—­è€»Â¹ä‚¹è€»Â²ä‚²è€»Â³ä‚³;æ«†Ä€osã–¹ã–¼t;æª¾ub;æ«˜Ä€;dáˆ¢ã—…ot;æ«„sÄ€ouã—ã—’l;æŸ‰b;æ«—arr;æ¥»ult;æ«‚Ä€Eeã—¤ã—¦;æ«Œ;æŠ‹lus;æ«€Æ€eiuã—´ã˜‰ã˜ŒtÆ€;enáˆœã—¼ã˜‚qÄ€;qáˆ¢ã–²eqÄ€;qã—§ã—¤m;æ«ˆÄ€bpã˜‘ã˜“;æ«”;æ«–Æ€Aanã˜œã˜ ã˜­rr;æ‡™rÄ€hrã˜¦ã˜¨Ã«âˆ®Ä€;oà¨«à¨©war;æ¤ªligè€»ÃŸäƒŸà¯¡ã™‘ã™ã™ á‹Žã™³ã™¹\0ã™¾ã›‚\0\0\0\0\0ã››ãœƒ\0ãœ‰ã¬\0\0\0ãž‡É²ã™–\0\0ã™›get;æŒ–;ä„rÃ«à¹ŸÆ€aeyã™¦ã™«ã™°ron;ä…¥dil;ä…£;ä‘‚lrec;æŒ•r;ì€€ð”±È€eikoãš†ãšãšµãš¼Ç²ãš‹\0ãš‘eÄ€4fáŠ„áŠaÆ€;svãš˜ãš™ãš›äŽ¸ym;ä‘Ä€cnãš¢ãš²kÄ€asãš¨ãš®pproÃ¸á‹imÂ»áŠ¬sÃ°áŠžÄ€asãšºãš®Ã°á‹rnè€»Ã¾äƒ¾Ç¬ÌŸã›†â‹§esè†€Ã—;bdã›ã›ã›˜äƒ—Ä€;aá¤ã›•r;æ¨±;æ¨°Æ€epsã›¡ã›£ãœ€Ã¡â©È€;bcfÒ†ã›¬ã›°ã›´ot;æŒ¶ir;æ«±Ä€;oã›¹ã›¼ì€€ð•¥rk;æ«šÃ¡ã¢rime;æ€´Æ€aipãœãœ’ã¤dÃ¥á‰ˆÎ€adempstãœ¡ãã€ã‘ã—ãœãŸngleÊ€;dlqrãœ°ãœ±ãœ¶ã€ã‚æ–µownÂ»á¶»eftÄ€;eâ €ãœ¾Ã±à¤®;æ‰œightÄ€;eãŠªã‹Ã±ášot;æ—¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æ€chtã²ã½ãžÄ€ryã·ã»;ì€€ð“‰;ä‘†cy;ä‘›rok;ä…§Ä€ioãž‹ãžŽxÃ´á·headÄ€lrãž—ãž eftarroÃ·à¡ightarrowÂ»à½à¤€AHabcdfghlmoprstuwãŸãŸ“ãŸ—ãŸ¤ãŸ°ãŸ¼ã Žã œã £ã ´ã¡‘ã¡ã¡«ã¢©ã£Œã£’ã£ªã£¶rÃ²Ï­ar;æ¥£Ä€crãŸœãŸ¢uteè€»ÃºäƒºÃ²á…rÇ£ãŸª\0ãŸ­y;ä‘žve;ä…­Ä€iyãŸµãŸºrcè€»Ã»äƒ»;ä‘ƒÆ€abhã ƒã †ã ‹rÃ²áŽ­lac;ä…±aÃ²áƒÄ€irã “ã ˜sht;æ¥¾;ì€€ð”²raveè€»Ã¹äƒ¹Å¡ã §ã ±rÄ€lrã ¬ã ®Â»à¥—Â»á‚ƒlk;æ–€Ä€ctã ¹ã¡É¯ã ¿\0\0ã¡ŠrnÄ€;eã¡…ã¡†æŒœrÂ»ã¡†op;æŒri;æ—¸Ä€alã¡–ã¡šcr;ä…«è‚»Â¨Í‰Ä€gpã¡¢ã¡¦on;ä…³f;ì€€ð•¦Ì€adhlsuá…‹ã¡¸ã¡½á²ã¢‘ã¢ ownÃ¡áŽ³arpoonÄ€lrã¢ˆã¢ŒefÃ´ã ­ighÃ´ã ¯iÆ€;hlã¢™ã¢šã¢œä…Â»áºonÂ»ã¢šparrows;æ‡ˆÆ€citã¢°ã£„ã£ˆÉ¯ã¢¶\0\0ã£rnÄ€;eã¢¼ã¢½æŒrÂ»ã¢½op;æŒŽng;ä…¯ri;æ—¹cr;ì€€ð“ŠÆ€dirã£™ã£ã£¢ot;æ‹°lde;ä…©iÄ€;fãœ°ã£¨Â»á “Ä€amã£¯ã£²rÃ²ã¢¨lè€»Ã¼äƒ¼angle;æ¦§Þ€ABDacdeflnoprszã¤œã¤Ÿã¤©ã¤­ã¦µã¦¸ã¦½ã§Ÿã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ€;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Ä€nrã¤²ã¤·grt;æ¦œÎ€eknprstã“£ã¥†ã¥‹ã¥’ã¥ã¥¤ã¦–appÃ¡â•othinÃ§áº–Æ€hirã“«â»ˆã¥™opÃ´â¾µÄ€;háŽ·ã¥¢Ã¯ã†Ä€iuã¥©ã¥­gmÃ¡ãŽ³Ä€bpã¥²ã¦„setneqÄ€;qã¥½ã¦€ì€€âŠŠï¸€;ì€€â«‹ï¸€setneqÄ€;qã¦ã¦’ì€€âŠ‹ï¸€;ì€€â«Œï¸€Ä€hrã¦›ã¦ŸetÃ¡ãšœiangleÄ€lrã¦ªã¦¯eftÂ»à¤¥ightÂ»á‘y;ä²ashÂ»á€¶Æ€elrã§„ã§’ã§—Æ€;beâ·ªã§‹ã§ar;æŠ»q;æ‰šlip;æ‹®Ä€btã§œá‘¨aÃ²á‘©r;ì€€ð”³trÃ©ã¦®suÄ€bpã§¯ã§±Â»à´œÂ»àµ™pf;ì€€ð•§roÃ°à»»trÃ©ã¦´Ä€cuã¨†ã¨‹r;ì€€ð“‹Ä€bpã¨ã¨˜nÄ€Eeã¦€ã¨–Â»ã¥¾nÄ€Eeã¦’ã¨žÂ»ã¦igzag;æ¦šÎ€cefoprsã¨¶ã¨»ã©–ã©›ã©”ã©¡ã©ªirc;ä…µÄ€diã©€ã©‘Ä€bgã©…ã©‰ar;æ©ŸeÄ€;qá—ºã©;æ‰™erp;æ„˜r;ì€€ð”´pf;ì€€ð•¨Ä€;eá‘¹ã©¦atÃ¨á‘¹cr;ì€€ð“Œà«£ážŽãª‡\0ãª‹\0ãªãª›\0\0ãªãª¨ãª«ãª¯\0\0ã«ƒã«Ž\0ã«˜áŸœáŸŸtrÃ©áŸ‘r;ì€€ð”µÄ€Aaãª”ãª—rÃ²ÏƒrÃ²à§¶;äŽ¾Ä€Aaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âœ“is;æ‹»Æ€dptáž¤ãªµãª¾Ä€flãªºáž©;ì€€ð•©imÃ¥áž²Ä€Aaã«‡ã«ŠrÃ²ÏŽrÃ²à¨Ä€cqã«’áž¸r;ì€€ð“Ä€ptáŸ–ã«œrÃ©áŸ”Ð€acefiosuã«°ã«½ã¬ˆã¬Œã¬‘ã¬•ã¬›ã¬¡cÄ€uyã«¶ã«»teè€»Ã½äƒ½;ä‘Ä€iyã¬‚ã¬†rc;ä…·;ä‘‹nè€»Â¥ä‚¥r;ì€€ð”¶cy;ä‘—pf;ì€€ð•ªcr;ì€€ð“ŽÄ€cmã¬¦ã¬©y;ä‘Žlè€»Ã¿äƒ¿Ô€acdefhioswã­‚ã­ˆã­”ã­˜ã­¤ã­©ã­­ã­´ã­ºã®€cute;ä…ºÄ€ayã­ã­’ron;ä…¾;ä·ot;ä…¼Ä€etã­ã­¡trÃ¦á•Ÿa;äŽ¶r;ì€€ð”·cy;ä¶grarr;æ‡pf;ì€€ð•«cr;ì€€ð“Ä€jnã®…ã®‡;æ€j;æ€Œ'.split("").map(t=>t.charCodeAt(0))),vne=new Uint16Array("È€aglq	\x1BÉ­\0\0p;ä€¦os;ä€§t;ä€¾t;ä€¼uot;ä€¢".split("").map(t=>t.charCodeAt(0)));var Gv;const Ane=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),d6=(Gv=String.fromCodePoint)!==null&&Gv!==void 0?Gv:function(t){let r="";return t>65535&&(t-=65536,r+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),r+=String.fromCharCode(t),r};function _ne(t){var r;return t>=55296&&t<=57343||t>1114111?65533:(r=Ane.get(t))!==null&&r!==void 0?r:t}var lo;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(lo||(lo={}));const Cne=32;var od;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(od||(od={}));function i_(t){return t>=lo.ZERO&&t<=lo.NINE}function xne(t){return t>=lo.UPPER_A&&t<=lo.UPPER_F||t>=lo.LOWER_A&&t<=lo.LOWER_F}function Sne(t){return t>=lo.UPPER_A&&t<=lo.UPPER_Z||t>=lo.LOWER_A&&t<=lo.LOWER_Z||i_(t)}function Ene(t){return t===lo.EQUALS||Sne(t)}var so;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(so||(so={}));var sc;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(sc||(sc={}));class Dne{constructor(r,n,o){this.decodeTree=r,this.emitCodePoint=n,this.errors=o,this.state=so.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=sc.Strict}startEntity(r){this.decodeMode=r,this.state=so.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(r,n){switch(this.state){case so.EntityStart:return r.charCodeAt(n)===lo.NUM?(this.state=so.NumericStart,this.consumed+=1,this.stateNumericStart(r,n+1)):(this.state=so.NamedEntity,this.stateNamedEntity(r,n));case so.NumericStart:return this.stateNumericStart(r,n);case so.NumericDecimal:return this.stateNumericDecimal(r,n);case so.NumericHex:return this.stateNumericHex(r,n);case so.NamedEntity:return this.stateNamedEntity(r,n)}}stateNumericStart(r,n){return n>=r.length?-1:(r.charCodeAt(n)|Cne)===lo.LOWER_X?(this.state=so.NumericHex,this.consumed+=1,this.stateNumericHex(r,n+1)):(this.state=so.NumericDecimal,this.stateNumericDecimal(r,n))}addToNumericResult(r,n,o,a){if(n!==o){const l=o-n;this.result=this.result*Math.pow(a,l)+Number.parseInt(r.substr(n,l),a),this.consumed+=l}}stateNumericHex(r,n){const o=n;for(;n<r.length;){const a=r.charCodeAt(n);if(i_(a)||xne(a))n+=1;else return this.addToNumericResult(r,o,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(r,o,n,16),-1}stateNumericDecimal(r,n){const o=n;for(;n<r.length;){const a=r.charCodeAt(n);if(i_(a))n+=1;else return this.addToNumericResult(r,o,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(r,o,n,10),-1}emitNumericEntity(r,n){var o;if(this.consumed<=n)return(o=this.errors)===null||o===void 0||o.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(r===lo.SEMI)this.consumed+=1;else if(this.decodeMode===sc.Strict)return 0;return this.emitCodePoint(_ne(this.result),this.consumed),this.errors&&(r!==lo.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(r,n){const{decodeTree:o}=this;let a=o[this.treeIndex],l=(a&od.VALUE_LENGTH)>>14;for(;n<r.length;n++,this.excess++){const d=r.charCodeAt(n);if(this.treeIndex=Ine(o,a,this.treeIndex+Math.max(1,l),d),this.treeIndex<0)return this.result===0||this.decodeMode===sc.Attribute&&(l===0||Ene(d))?0:this.emitNotTerminatedNamedEntity();if(a=o[this.treeIndex],l=(a&od.VALUE_LENGTH)>>14,l!==0){if(d===lo.SEMI)return this.emitNamedEntityData(this.treeIndex,l,this.consumed+this.excess);this.decodeMode!==sc.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var r;const{result:n,decodeTree:o}=this,a=(o[n]&od.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(r=this.errors)===null||r===void 0||r.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(r,n,o){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[r]&~od.VALUE_LENGTH:a[r+1],o),n===3&&this.emitCodePoint(a[r+2],o),o}end(){var r;switch(this.state){case so.NamedEntity:return this.result!==0&&(this.decodeMode!==sc.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case so.NumericDecimal:return this.emitNumericEntity(0,2);case so.NumericHex:return this.emitNumericEntity(0,3);case so.NumericStart:return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case so.EntityStart:return 0}}}function Ine(t,r,n,o){const a=(r&od.BRANCH_LENGTH)>>7,l=r&od.JUMP_TABLE;if(a===0)return l!==0&&o===l?n:-1;if(l){const p=o-l;return p<0||p>=a?-1:t[n+p]-1}let d=n,h=d+a-1;for(;d<=h;){const p=d+h>>>1,g=t[p];if(g<o)d=p+1;else if(g>o)h=p-1;else return t[p+a]}return-1}var rn;(function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"})(rn||(rn={}));var Et;(function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.BeforeSpecialT=23]="BeforeSpecialT",t[t.SpecialStartSequence=24]="SpecialStartSequence",t[t.InSpecialTag=25]="InSpecialTag",t[t.InEntity=26]="InEntity"})(Et||(Et={}));function Zc(t){return t===rn.Space||t===rn.NewLine||t===rn.Tab||t===rn.FormFeed||t===rn.CarriageReturn}function ik(t){return t===rn.Slash||t===rn.Gt||Zc(t)}function Tne(t){return t>=rn.LowerA&&t<=rn.LowerZ||t>=rn.UpperA&&t<=rn.UpperZ}var ac;(function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"})(ac||(ac={}));const Ri={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class Nne{constructor({xmlMode:r=!1,decodeEntities:n=!0},o){this.cbs=o,this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Et.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=r,this.decodeEntities=n,this.entityDecoder=new Dne(r?vne:yne,(a,l)=>this.emitCodePoint(a,l))}reset(){this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Et.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(r){this.offset+=this.buffer.length,this.buffer=r,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(r){r===rn.Lt||!this.decodeEntities&&this.fastForwardTo(rn.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Et.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&r===rn.Amp&&this.startEntity()}stateSpecialStartSequence(r){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?ik(r):(r|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Et.InTagName,this.stateInTagName(r)}stateInSpecialTag(r){if(this.sequenceIndex===this.currentSequence.length){if(r===rn.Gt||Zc(r)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const o=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=o}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(r);return}this.sequenceIndex=0}(r|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Ri.TitleEnd?this.decodeEntities&&r===rn.Amp&&this.startEntity():this.fastForwardTo(rn.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(r===rn.Lt)}stateCDATASequence(r){r===Ri.Cdata[this.sequenceIndex]?++this.sequenceIndex===Ri.Cdata.length&&(this.state=Et.InCommentLike,this.currentSequence=Ri.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Et.InDeclaration,this.stateInDeclaration(r))}fastForwardTo(r){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===r)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(r){r===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Ri.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Et.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):r!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(r){return this.xmlMode?!ik(r):Tne(r)}startSpecial(r,n){this.isSpecial=!0,this.currentSequence=r,this.sequenceIndex=n,this.state=Et.SpecialStartSequence}stateBeforeTagName(r){if(r===rn.ExclamationMark)this.state=Et.BeforeDeclaration,this.sectionStart=this.index+1;else if(r===rn.Questionmark)this.state=Et.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(r)){const n=r|32;this.sectionStart=this.index,this.xmlMode?this.state=Et.InTagName:n===Ri.ScriptEnd[2]?this.state=Et.BeforeSpecialS:n===Ri.TitleEnd[2]||n===Ri.XmpEnd[2]?this.state=Et.BeforeSpecialT:this.state=Et.InTagName}else r===rn.Slash?this.state=Et.BeforeClosingTagName:(this.state=Et.Text,this.stateText(r))}stateInTagName(r){ik(r)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(r))}stateBeforeClosingTagName(r){Zc(r)||(r===rn.Gt?this.state=Et.Text:(this.state=this.isTagStartChar(r)?Et.InClosingTagName:Et.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(r){(r===rn.Gt||Zc(r))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.AfterClosingTagName,this.stateAfterClosingTagName(r))}stateAfterClosingTagName(r){(r===rn.Gt||this.fastForwardTo(rn.Gt))&&(this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(r){r===rn.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Et.InSpecialTag,this.sequenceIndex=0):this.state=Et.Text,this.sectionStart=this.index+1):r===rn.Slash?this.state=Et.InSelfClosingTag:Zc(r)||(this.state=Et.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(r){r===rn.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Et.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Zc(r)||(this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(r))}stateInAttributeName(r){(r===rn.Eq||ik(r))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Et.AfterAttributeName,this.stateAfterAttributeName(r))}stateAfterAttributeName(r){r===rn.Eq?this.state=Et.BeforeAttributeValue:r===rn.Slash||r===rn.Gt?(this.cbs.onattribend(ac.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(r)):Zc(r)||(this.cbs.onattribend(ac.NoValue,this.sectionStart),this.state=Et.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(r){r===rn.DoubleQuote?(this.state=Et.InAttributeValueDq,this.sectionStart=this.index+1):r===rn.SingleQuote?(this.state=Et.InAttributeValueSq,this.sectionStart=this.index+1):Zc(r)||(this.sectionStart=this.index,this.state=Et.InAttributeValueNq,this.stateInAttributeValueNoQuotes(r))}handleInAttributeValue(r,n){r===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===rn.DoubleQuote?ac.Double:ac.Single,this.index+1),this.state=Et.BeforeAttributeName):this.decodeEntities&&r===rn.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(r){this.handleInAttributeValue(r,rn.DoubleQuote)}stateInAttributeValueSingleQuotes(r){this.handleInAttributeValue(r,rn.SingleQuote)}stateInAttributeValueNoQuotes(r){Zc(r)||r===rn.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(ac.Unquoted,this.index),this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(r)):this.decodeEntities&&r===rn.Amp&&this.startEntity()}stateBeforeDeclaration(r){r===rn.OpeningSquareBracket?(this.state=Et.CDATASequence,this.sequenceIndex=0):this.state=r===rn.Dash?Et.BeforeComment:Et.InDeclaration}stateInDeclaration(r){(r===rn.Gt||this.fastForwardTo(rn.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(r){(r===rn.Gt||this.fastForwardTo(rn.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeComment(r){r===rn.Dash?(this.state=Et.InCommentLike,this.currentSequence=Ri.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Et.InDeclaration}stateInSpecialComment(r){(r===rn.Gt||this.fastForwardTo(rn.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(r){const n=r|32;n===Ri.ScriptEnd[3]?this.startSpecial(Ri.ScriptEnd,4):n===Ri.StyleEnd[3]?this.startSpecial(Ri.StyleEnd,4):(this.state=Et.InTagName,this.stateInTagName(r))}stateBeforeSpecialT(r){switch(r|32){case Ri.TitleEnd[3]:{this.startSpecial(Ri.TitleEnd,4);break}case Ri.TextareaEnd[3]:{this.startSpecial(Ri.TextareaEnd,4);break}case Ri.XmpEnd[3]:{this.startSpecial(Ri.XmpEnd,4);break}default:this.state=Et.InTagName,this.stateInTagName(r)}}startEntity(){this.baseState=this.state,this.state=Et.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?sc.Strict:this.baseState===Et.Text||this.baseState===Et.InSpecialTag?sc.Legacy:sc.Attribute)}stateInEntity(){const r=this.entityDecoder.write(this.buffer,this.index-this.offset);r>=0?(this.state=this.baseState,r===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Et.Text||this.state===Et.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const r=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Et.Text:{this.stateText(r);break}case Et.SpecialStartSequence:{this.stateSpecialStartSequence(r);break}case Et.InSpecialTag:{this.stateInSpecialTag(r);break}case Et.CDATASequence:{this.stateCDATASequence(r);break}case Et.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(r);break}case Et.InAttributeName:{this.stateInAttributeName(r);break}case Et.InCommentLike:{this.stateInCommentLike(r);break}case Et.InSpecialComment:{this.stateInSpecialComment(r);break}case Et.BeforeAttributeName:{this.stateBeforeAttributeName(r);break}case Et.InTagName:{this.stateInTagName(r);break}case Et.InClosingTagName:{this.stateInClosingTagName(r);break}case Et.BeforeTagName:{this.stateBeforeTagName(r);break}case Et.AfterAttributeName:{this.stateAfterAttributeName(r);break}case Et.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(r);break}case Et.BeforeAttributeValue:{this.stateBeforeAttributeValue(r);break}case Et.BeforeClosingTagName:{this.stateBeforeClosingTagName(r);break}case Et.AfterClosingTagName:{this.stateAfterClosingTagName(r);break}case Et.BeforeSpecialS:{this.stateBeforeSpecialS(r);break}case Et.BeforeSpecialT:{this.stateBeforeSpecialT(r);break}case Et.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(r);break}case Et.InSelfClosingTag:{this.stateInSelfClosingTag(r);break}case Et.InDeclaration:{this.stateInDeclaration(r);break}case Et.BeforeDeclaration:{this.stateBeforeDeclaration(r);break}case Et.BeforeComment:{this.stateBeforeComment(r);break}case Et.InProcessingInstruction:{this.stateInProcessingInstruction(r);break}case Et.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===Et.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const r=this.buffer.length+this.offset;this.sectionStart>=r||(this.state===Et.InCommentLike?this.currentSequence===Ri.CdataEnd?this.cbs.oncdata(this.sectionStart,r,0):this.cbs.oncomment(this.sectionStart,r,0):this.state===Et.InTagName||this.state===Et.BeforeAttributeName||this.state===Et.BeforeAttributeValue||this.state===Et.AfterAttributeName||this.state===Et.InAttributeName||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueNq||this.state===Et.InClosingTagName||this.cbs.ontext(this.sectionStart,r))}emitCodePoint(r,n){this.baseState!==Et.Text&&this.baseState!==Et.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(r)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(r,this.sectionStart))}}const Hf=new Set(["input","option","optgroup","select","button","datalist","textarea"]),wr=new Set(["p"]),h6=new Set(["thead","tbody"]),f6=new Set(["dd","dt"]),p6=new Set(["rt","rp"]),Mne=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",wr],["h1",wr],["h2",wr],["h3",wr],["h4",wr],["h5",wr],["h6",wr],["select",Hf],["input",Hf],["output",Hf],["button",Hf],["datalist",Hf],["textarea",Hf],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",f6],["dt",f6],["address",wr],["article",wr],["aside",wr],["blockquote",wr],["details",wr],["div",wr],["dl",wr],["fieldset",wr],["figcaption",wr],["figure",wr],["footer",wr],["form",wr],["header",wr],["hr",wr],["main",wr],["nav",wr],["ol",wr],["pre",wr],["section",wr],["table",wr],["ul",wr],["rt",p6],["rp",p6],["tbody",h6],["tfoot",h6]]),Pne=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),m6=new Set(["math","svg"]),g6=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),One=/\s|\//;class jne{constructor(r,n={}){var o,a,l,d,h,p;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=r??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(o=n.lowerCaseTags)!==null&&o!==void 0?o:this.htmlMode,this.lowerCaseAttributeNames=(a=n.lowerCaseAttributeNames)!==null&&a!==void 0?a:this.htmlMode,this.recognizeSelfClosing=(l=n.recognizeSelfClosing)!==null&&l!==void 0?l:!this.htmlMode,this.tokenizer=new((d=n.Tokenizer)!==null&&d!==void 0?d:Nne)(this.options,this),this.foreignContext=[!this.htmlMode],(p=(h=this.cbs).onparserinit)===null||p===void 0||p.call(h,this)}ontext(r,n){var o,a;const l=this.getSlice(r,n);this.endIndex=n-1,(a=(o=this.cbs).ontext)===null||a===void 0||a.call(o,l),this.startIndex=n}ontextentity(r,n){var o,a;this.endIndex=n-1,(a=(o=this.cbs).ontext)===null||a===void 0||a.call(o,d6(r)),this.startIndex=n}isVoidElement(r){return this.htmlMode&&Pne.has(r)}onopentagname(r,n){this.endIndex=n;let o=this.getSlice(r,n);this.lowerCaseTagNames&&(o=o.toLowerCase()),this.emitOpenTag(o)}emitOpenTag(r){var n,o,a,l;this.openTagStart=this.startIndex,this.tagname=r;const d=this.htmlMode&&Mne.get(r);if(d)for(;this.stack.length>0&&d.has(this.stack[0]);){const h=this.stack.shift();(o=(n=this.cbs).onclosetag)===null||o===void 0||o.call(n,h,!0)}this.isVoidElement(r)||(this.stack.unshift(r),this.htmlMode&&(m6.has(r)?this.foreignContext.unshift(!0):g6.has(r)&&this.foreignContext.unshift(!1))),(l=(a=this.cbs).onopentagname)===null||l===void 0||l.call(a,r),this.cbs.onopentag&&(this.attribs={})}endOpenTag(r){var n,o;this.startIndex=this.openTagStart,this.attribs&&((o=(n=this.cbs).onopentag)===null||o===void 0||o.call(n,this.tagname,this.attribs,r),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(r){this.endIndex=r,this.endOpenTag(!1),this.startIndex=r+1}onclosetag(r,n){var o,a,l,d,h,p,g,b;this.endIndex=n;let y=this.getSlice(r,n);if(this.lowerCaseTagNames&&(y=y.toLowerCase()),this.htmlMode&&(m6.has(y)||g6.has(y))&&this.foreignContext.shift(),this.isVoidElement(y))this.htmlMode&&y==="br"&&((d=(l=this.cbs).onopentagname)===null||d===void 0||d.call(l,"br"),(p=(h=this.cbs).onopentag)===null||p===void 0||p.call(h,"br",{},!0),(b=(g=this.cbs).onclosetag)===null||b===void 0||b.call(g,"br",!1));else{const v=this.stack.indexOf(y);if(v!==-1)for(let k=0;k<=v;k++){const x=this.stack.shift();(a=(o=this.cbs).onclosetag)===null||a===void 0||a.call(o,x,k!==v)}else this.htmlMode&&y==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(r){this.endIndex=r,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=r+1):this.onopentagend(r)}closeCurrentTag(r){var n,o;const a=this.tagname;this.endOpenTag(r),this.stack[0]===a&&((o=(n=this.cbs).onclosetag)===null||o===void 0||o.call(n,a,!r),this.stack.shift())}onattribname(r,n){this.startIndex=r;const o=this.getSlice(r,n);this.attribname=this.lowerCaseAttributeNames?o.toLowerCase():o}onattribdata(r,n){this.attribvalue+=this.getSlice(r,n)}onattribentity(r){this.attribvalue+=d6(r)}onattribend(r,n){var o,a;this.endIndex=n,(a=(o=this.cbs).onattribute)===null||a===void 0||a.call(o,this.attribname,this.attribvalue,r===ac.Double?'"':r===ac.Single?"'":r===ac.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(r){const n=r.search(One);let o=n<0?r:r.substr(0,n);return this.lowerCaseTagNames&&(o=o.toLowerCase()),o}ondeclaration(r,n){this.endIndex=n;const o=this.getSlice(r,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(o);this.cbs.onprocessinginstruction(`!${a}`,`!${o}`)}this.startIndex=n+1}onprocessinginstruction(r,n){this.endIndex=n;const o=this.getSlice(r,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(o);this.cbs.onprocessinginstruction(`?${a}`,`?${o}`)}this.startIndex=n+1}oncomment(r,n,o){var a,l,d,h;this.endIndex=n,(l=(a=this.cbs).oncomment)===null||l===void 0||l.call(a,this.getSlice(r,n-o)),(h=(d=this.cbs).oncommentend)===null||h===void 0||h.call(d),this.startIndex=n+1}oncdata(r,n,o){var a,l,d,h,p,g,b,y,v,k;this.endIndex=n;const x=this.getSlice(r,n-o);!this.htmlMode||this.options.recognizeCDATA?((l=(a=this.cbs).oncdatastart)===null||l===void 0||l.call(a),(h=(d=this.cbs).ontext)===null||h===void 0||h.call(d,x),(g=(p=this.cbs).oncdataend)===null||g===void 0||g.call(p)):((y=(b=this.cbs).oncomment)===null||y===void 0||y.call(b,`[CDATA[${x}]]`),(k=(v=this.cbs).oncommentend)===null||k===void 0||k.call(v)),this.startIndex=n+1}onend(){var r,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let o=0;o<this.stack.length;o++)this.cbs.onclosetag(this.stack[o],!0)}(n=(r=this.cbs).onend)===null||n===void 0||n.call(r)}reset(){var r,n,o,a;(n=(r=this.cbs).onreset)===null||n===void 0||n.call(r),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(o=this.cbs).onparserinit)===null||a===void 0||a.call(o,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(r){this.reset(),this.end(r)}getSlice(r,n){for(;r-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let o=this.buffers[0].slice(r-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),o+=this.buffers[0].slice(0,n-this.bufferOffset);return o}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(r){var n,o;if(this.ended){(o=(n=this.cbs).onerror)===null||o===void 0||o.call(n,new Error(".write() after done!"));return}this.buffers.push(r),this.tokenizer.running&&(this.tokenizer.write(r),this.writeIndex++)}end(r){var n,o;if(this.ended){(o=(n=this.cbs).onerror)===null||o===void 0||o.call(n,new Error(".end() after done!"));return}r&&this.write(r),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(r){this.write(r)}done(r){this.end(r)}}var sr;(function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"})(sr||(sr={}));function Ek(t){return t.type===sr.Tag||t.type===sr.Script||t.type===sr.Style}sr.Root;sr.Text;sr.Directive;sr.Comment;sr.Script;sr.Style;sr.Tag;sr.CDATA;sr.Doctype;let Ij=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(r){this.parent=r}get previousSibling(){return this.prev}set previousSibling(r){this.prev=r}get nextSibling(){return this.next}set nextSibling(r){this.next=r}cloneNode(r=!1){return Rj(this,r)}};class kC extends Ij{constructor(r){super(),this.data=r}get nodeValue(){return this.data}set nodeValue(r){this.data=r}}class o_ extends kC{constructor(){super(...arguments),this.type=sr.Text}get nodeType(){return 3}}class Tj extends kC{constructor(){super(...arguments),this.type=sr.Comment}get nodeType(){return 8}}class Nj extends kC{constructor(r,n){super(n),this.name=r,this.type=sr.Directive}get nodeType(){return 1}}class wC extends Ij{constructor(r){super(),this.children=r}get firstChild(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(r){this.children=r}}class Mj extends wC{constructor(){super(...arguments),this.type=sr.CDATA}get nodeType(){return 4}}class s_ extends wC{constructor(){super(...arguments),this.type=sr.Root}get nodeType(){return 9}}let Pj=class extends wC{constructor(r,n,o=[],a=r==="script"?sr.Script:r==="style"?sr.Style:sr.Tag){super(o),this.name=r,this.attribs=n,this.type=a}get nodeType(){return 1}get tagName(){return this.name}set tagName(r){this.name=r}get attributes(){return Object.keys(this.attribs).map(r=>{var n,o;return{name:r,value:this.attribs[r],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[r],prefix:(o=this["x-attribsPrefix"])===null||o===void 0?void 0:o[r]}})}};function Oj(t){return Ek(t)}function jj(t){return t.type===sr.CDATA}function Lj(t){return t.type===sr.Text}function Lne(t){return t.type===sr.Comment}function Rne(t){return t.type===sr.Directive}function Bne(t){return t.type===sr.Root}function Rj(t,r=!1){let n;if(Lj(t))n=new o_(t.data);else if(Lne(t))n=new Tj(t.data);else if(Oj(t)){const o=r?Yv(t.children):[],a=new Pj(t.name,{...t.attribs},o);o.forEach(l=>l.parent=a),t.namespace!=null&&(a.namespace=t.namespace),t["x-attribsNamespace"]&&(a["x-attribsNamespace"]={...t["x-attribsNamespace"]}),t["x-attribsPrefix"]&&(a["x-attribsPrefix"]={...t["x-attribsPrefix"]}),n=a}else if(jj(t)){const o=r?Yv(t.children):[],a=new Mj(o);o.forEach(l=>l.parent=a),n=a}else if(Bne(t)){const o=r?Yv(t.children):[],a=new s_(o);o.forEach(l=>l.parent=a),t["x-mode"]&&(a["x-mode"]=t["x-mode"]),n=a}else if(Rne(t)){const o=new Nj(t.name,t.data);t["x-name"]!=null&&(o["x-name"]=t["x-name"],o["x-publicId"]=t["x-publicId"],o["x-systemId"]=t["x-systemId"]),n=o}else throw new Error(`Not implemented yet: ${t.type}`);return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}function Yv(t){const r=t.map(n=>Rj(n,!0));for(let n=1;n<r.length;n++)r[n].prev=r[n-1],r[n-1].next=r[n];return r}const b6={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class Fne{constructor(r,n,o){this.dom=[],this.root=new s_(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(o=n,n=b6),typeof r=="object"&&(n=r,r=void 0),this.callback=r??null,this.options=n??b6,this.elementCB=o??null}onparserinit(r){this.parser=r}onreset(){this.dom=[],this.root=new s_(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(r){this.handleCallback(r)}onclosetag(){this.lastNode=null;const r=this.tagStack.pop();this.options.withEndIndices&&(r.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(r)}onopentag(r,n){const o=this.options.xmlMode?sr.Tag:void 0,a=new Pj(r,n,void 0,o);this.addNode(a),this.tagStack.push(a)}ontext(r){const{lastNode:n}=this;if(n&&n.type===sr.Text)n.data+=r,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const o=new o_(r);this.addNode(o),this.lastNode=o}}oncomment(r){if(this.lastNode&&this.lastNode.type===sr.Comment){this.lastNode.data+=r;return}const n=new Tj(r);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const r=new o_(""),n=new Mj([r]);this.addNode(n),r.parent=n,this.lastNode=r}oncdataend(){this.lastNode=null}onprocessinginstruction(r,n){const o=new Nj(r,n);this.addNode(o)}handleCallback(r){if(typeof this.callback=="function")this.callback(r,this.dom);else if(r)throw r}addNode(r){const n=this.tagStack[this.tagStack.length-1],o=n.children[n.children.length-1];this.options.withStartIndices&&(r.startIndex=this.parser.startIndex),this.options.withEndIndices&&(r.endIndex=this.parser.endIndex),n.children.push(r),o&&(r.prev=o,o.next=r),r.parent=n,this.lastNode=null}}function eu(t){return Array.isArray(t)?t.map(eu).join(""):Oj(t)?t.name==="br"?`
`:eu(t.children):jj(t)?eu(t.children):Lj(t)?t.data:""}function zne(t,r){const n=new Fne(void 0,r);return new jne(n,r).end(t),n.root}const Une=async(t,r)=>{var k,x,C,D,S,N,P,B;if(!t)return;const n=new an("p","mm","a4",!0);let o=10;const a=297,l=$=>{o+$*6>a-20&&(n.addPage(),o=10)},d=t.sections.length+t.sections.reduce(($,V)=>$+V.subsections.length,0)+t.sections.reduce(($,V)=>$+V.subsections.reduce((M,L)=>M+L.subSubsections.length,0),0)+t.sections.reduce(($,V)=>{var M;return $+(((M=V.images)==null?void 0:M.length)||0)+V.subsections.reduce((L,q)=>{var Q;return L+(((Q=q.images)==null?void 0:Q.length)||0)+q.subSubsections.reduce((H,F)=>{var G;return H+(((G=F.images)==null?void 0:G.length)||0)},0)},0)},0);let h=0;const p=()=>{h+=1,r(Math.round(h/d*100))},g=async($,V=150,M=150)=>new Promise(L=>{const q=new Image;q.crossOrigin="anonymous",q.src=$.url,q.onload=()=>{const Q=q.width/q.height;let H=V,F=M;Q>1?F=V/Q:H=M*Q,l(F+15);const G=(210-H)/2;if(n.addImage(q,"JPEG",G,o,H,F),o+=F+5,$.title){n.setFont("helvetica","italic"),n.setFontSize(10);const ne=(210-n.getTextWidth($.title))/2;n.text($.title,ne,o),n.setFont("helvetica","normal"),o+=6}p(),L()},q.onerror=()=>{console.warn(`Image failed to load: ${$.url}`),p(),L()}}),b=($,V=10,M=12)=>{var Q;const L=zne($),q=(H,F=0,G=!1)=>{var R,ne,ue,ie,se,ye,re;if(H){if(Ek(H)){const _e=H,Z=_e.name.toLowerCase();switch(Z){case"p":o+=6,(R=_e.children)==null||R.forEach(J=>q(J,F)),o+=6;break;case"br":o+=6;break;case"strong":case"b":case"i":case"em":n.setFont("helvetica",Z==="strong"||Z==="b"?"bold":"italic"),(ne=_e.children)==null||ne.forEach(J=>q(J,F)),n.setFont("helvetica","normal");break;case"ul":case"ol":o+=4,(ue=_e.children)==null||ue.forEach(J=>q(J,F+1,!0));break;case"li":{const J=F===1?"-":"--";let ae="";(ie=_e.children)==null||ie.forEach(fe=>{if(Ek(fe)){const le=fe;le.name==="strong"||le.name==="b"?(n.setFont("helvetica","bold"),ae+=` ${eu(le)}`,n.setFont("helvetica","normal")):le.name!=="ul"&&le.name!=="ol"&&(ae+=` ${eu(le)}`)}else fe.type==="text"&&"data"in fe&&(ae+=` ${fe.data.trim()}`)}),ae=ae.trim(),ae&&(F===0?y(`${J} ${ae}`,V,M+2,!0):y(`${J} ${ae}`,V+F*8,M),o+=6),(se=_e.children)==null||se.forEach(fe=>{if(Ek(fe)){const le=fe;["ul","ol"].includes(le.name)&&q(le,F+1,!0)}});break}case"a":(ye=_e.attribs)!=null&&ye.href&&v(eu(_e),_e.attribs.href);break;case"h1":y(eu(_e),V,20,!0),o+=8;break;case"h2":y(eu(_e),V,18,!0),o+=8;break;case"h3":y(eu(_e),V,16,!0),o+=6;break;default:(re=_e.children)==null||re.forEach(J=>q(J,F))}}else if(H.type==="text"&&"data"in H){const _e=H.data.trim();_e&&y(_e,V+F*8,M)}}};(Q=L.children)==null||Q.forEach(H=>q(H))},y=($,V,M=12,L=!1,q=[0,0,0],Q=!1,H=200)=>{if(!$)return;n.setFontSize(M),n.setTextColor(q[0],q[1],q[2]),n.setFont("helvetica",L?Q?"bolditalic":"bold":Q?"italic":"normal"),n.splitTextToSize($,H-V).forEach(G=>{l(1),n.text(G,V,o),o+=6})},v=($,V)=>{l(1),n.setTextColor(10,104,71),n.textWithLink($,10,o,{url:V}),o+=6};(k=t.header)!=null&&k.content&&(y("Header:",10,12,!0),b(t.header.content),o+=5),t.title&&(y(t.title,10,18,!0,[10,104,71]),o+=5);for(const $ of t.sections){if(y($.title,10,16,!0),b($.content),(x=$.images)!=null&&x.length)for(const V of $.images)await g(V);p();for(const V of $.subsections){if(y(V.title,12,14,!0),b(V.content,12),(C=V.images)!=null&&C.length)for(const M of V.images)await g(M);p();for(const M of V.subSubsections){if(y(M.title,14,12,!0),b(M.content,14),(D=M.images)!=null&&D.length)for(const L of M.images)await g(L);p(),(S=M.links)!=null&&S.length&&(y("Links:",14,12,!0),M.links.forEach(L=>v(L.title,L.url)))}(N=V.links)!=null&&N.length&&(y("Links:",12,12,!0),V.links.forEach(M=>v(M.title,M.url)))}(P=$.links)!=null&&P.length&&(y("Links:",10,12,!0),$.links.forEach(V=>v(V.title,V.url))),o+=5}(B=t.footer)!=null&&B.content&&(y("Footer:",10,12,!0),b(t.footer.content)),n.save(`${t.title||"Material"}.pdf`),r(100)},qne=()=>{var S,N,P,B,$,V,M,L,q,Q,H,F,G,R,ne,ue,ie,se,ye,re,_e,Z,J,ae,fe,le,Ie,xe,Ne,Qe,Ge,Je,ze,X,Ce,he,be,pe,Ae,Oe,Me,De;const{id:t}=J_(),[r,n]=S1(),o=Yn(),[a,l]=Y.useState(null),[d,h]=Y.useState({sectionIndex:0}),[p,g]=Y.useState(null),[b,y]=Y.useState(0);_O((a==null?void 0:a.sections)||[],d.sectionIndex||0,!!a),Y.useEffect(()=>{y(qe=>qe+1)},[d]),Y.useEffect(()=>{t&&(async()=>{var st,Ue,Ke;const Ve=pn(o,"materials",t),He=await $o(Ve);if(He.exists()){const Ze={id:He.id,...He.data()};console.log("Loaded material from database:",{title:Ze.title,sectionsCount:((st=Ze.sections)==null?void 0:st.length)||0,sectionsWithImages:((Ue=Ze.sections)==null?void 0:Ue.filter(_t=>{var ht;return((ht=_t.images)==null?void 0:ht.length)>0}).length)||0,allImages:(Ke=Ze.sections)==null?void 0:Ke.flatMap(_t=>_t.images||[]).map(_t=>({url:_t.url.substring(0,100)+"...",title:_t.title}))}),l(Ze)}})()},[t,o]),Y.useEffect(()=>{t&&r.get("material")!==t?(console.log("ðŸ”¹ Updating URL: Adding material ID to query parameters:",t),n(qe=>{const Ve=new URLSearchParams(qe);return Ve.set("material",t),Ve},{replace:!0})):console.log("Material ID already in URL:",r.get("material"))},[t,r,n]);const v=(qe,Ve,He)=>{h({sectionIndex:typeof qe=="number"?qe:void 0,subsectionIndex:Ve,subSubsectionIndex:He,type:typeof qe=="string"?qe:void 0})},k=qe=>{var Ke,Ze,_t,ht,sn,pt,$t,Bt,zt,Qt,gn,En,Vn,Br,Wr,Bn,en,Dn,Ho,Nn,eo,ii,Ht,zi,to,oi,_r;const{sectionIndex:Ve,subsectionIndex:He,subSubsectionIndex:st,type:Ue}=d;if(qe==="prev")if(st!==void 0&&st>0)h({sectionIndex:Ve,subsectionIndex:He,subSubsectionIndex:st-1});else if(st!==void 0&&st===0)h({sectionIndex:Ve,subsectionIndex:He});else if(He!==void 0&&He>0)h({sectionIndex:Ve,subsectionIndex:He-1});else if(He!==void 0&&He===0)h({sectionIndex:Ve});else if(Ve>0){const Fn=a==null?void 0:a.sections[Ve-1];h({sectionIndex:Ve-1,subsectionIndex:(Ke=Fn==null?void 0:Fn.subsections)!=null&&Ke.length?Fn.subsections.length-1:void 0,subSubsectionIndex:(Ze=Fn==null?void 0:Fn.subsections)!=null&&Ze.length?((ht=(_t=Fn.subsections[Fn.subsections.length-1])==null?void 0:_t.subSubsections)==null?void 0:ht.length)-1:void 0})}else Ue==="footer"?h({sectionIndex:((a==null?void 0:a.sections.length)??1)-1,type:"footer"}):Ve===void 0&&Ue==="header"&&h({sectionIndex:((a==null?void 0:a.sections.length)??1)-1});else qe==="next"&&(st===void 0&&He!==void 0&&((Bt=($t=(pt=(sn=a==null?void 0:a.sections[Ve??0])==null?void 0:sn.subsections)==null?void 0:pt[He])==null?void 0:$t.subSubsections)!=null&&Bt.length)?h({sectionIndex:Ve,subsectionIndex:He,subSubsectionIndex:0}):st!==void 0&&st<(((En=(gn=(Qt=(zt=a==null?void 0:a.sections[Ve??0])==null?void 0:zt.subsections)==null?void 0:Qt[He??0])==null?void 0:gn.subSubsections)==null?void 0:En.length)??1)-1?h({sectionIndex:Ve,subsectionIndex:He,subSubsectionIndex:st+1}):st!==void 0&&st===(((Bn=(Wr=(Br=(Vn=a==null?void 0:a.sections[Ve??0])==null?void 0:Vn.subsections)==null?void 0:Br[He??0])==null?void 0:Wr.subSubsections)==null?void 0:Bn.length)??1)-1&&(He??0)<(((Dn=(en=a==null?void 0:a.sections[Ve??0])==null?void 0:en.subsections)==null?void 0:Dn.length)??1)-1?h({sectionIndex:Ve,subsectionIndex:(He??0)+1}):He===void 0&&((Nn=(Ho=a==null?void 0:a.sections[Ve??0])==null?void 0:Ho.subsections)!=null&&Nn.length)?h({sectionIndex:Ve,subsectionIndex:0}):He!==void 0&&He<(((ii=(eo=a==null?void 0:a.sections[Ve??0])==null?void 0:eo.subsections)==null?void 0:ii.length)??1)-1?h({sectionIndex:Ve,subsectionIndex:He+1}):He!==void 0&&He===(((zi=(Ht=a==null?void 0:a.sections[Ve??0])==null?void 0:Ht.subsections)==null?void 0:zi.length)??1)-1&&(Ve??0)<(((to=a==null?void 0:a.sections)==null?void 0:to.length)??1)-1?h({sectionIndex:(Ve??0)+1}):(Ve??0)<(((oi=a==null?void 0:a.sections)==null?void 0:oi.length)??1)-1?h({sectionIndex:(Ve??0)+1}):Ve===(((_r=a==null?void 0:a.sections)==null?void 0:_r.length)??1)-1&&He===void 0&&h({sectionIndex:void 0,type:"footer"}))};if(!a)return A.jsx(Lr,{});const x=d.type==="header"||d.type==="footer"?"":d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((P=(N=(S=a.sections[d.sectionIndex])==null?void 0:S.subsections[d.subsectionIndex])==null?void 0:N.subSubsections[d.subSubsectionIndex])==null?void 0:P.content)||"":d.subsectionIndex!==void 0?(($=(B=a.sections[d.sectionIndex])==null?void 0:B.subsections[d.subsectionIndex])==null?void 0:$.content)||"":((V=a.sections[d.sectionIndex])==null?void 0:V.content)||"":"",C=d.type==="header"||d.type==="footer"?"":d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((q=(L=(M=a.sections[d.sectionIndex])==null?void 0:M.subsections[d.subsectionIndex])==null?void 0:L.subSubsections[d.subSubsectionIndex])==null?void 0:q.title)||"":d.subsectionIndex!==void 0?((H=(Q=a.sections[d.sectionIndex])==null?void 0:Q.subsections[d.subsectionIndex])==null?void 0:H.title)||"":((F=a.sections[d.sectionIndex])==null?void 0:F.title)||"":"",D=d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((ne=(R=(G=a.sections[d.sectionIndex])==null?void 0:G.subsections[d.subsectionIndex])==null?void 0:R.subSubsections[d.subSubsectionIndex])==null?void 0:ne.links)||[]:d.subsectionIndex!==void 0?((ie=(ue=a.sections[d.sectionIndex])==null?void 0:ue.subsections[d.subsectionIndex])==null?void 0:ie.links)||[]:((se=a.sections[d.sectionIndex])==null?void 0:se.links)||[]:[];return A.jsx(Pe,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:A.jsxs(Pe,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",mt:2,mx:2},children:[A.jsx(Pe,{sx:{width:"450px",ml:2,mt:2},children:A.jsx(pO,{})}),A.jsxs(Pe,{sx:{width:"450px",mr:2,mt:2,textAlign:"right"},children:[A.jsx(wt,{variant:"contained",onClick:async()=>{a&&(g(0),await Une(a,g),g(null))},sx:{padding:"10px 16px",backgroundColor:"#436850",color:"#FBFADA",border:"none",borderRadius:"8px",cursor:"pointer",fontFamily:"Gabarito","&:hover":{backgroundColor:"#365b40"},"&:disabled":{backgroundColor:"#A8BDA8",cursor:"not-allowed"}},disabled:p!==null,children:p!==null?"Generating...":"Download PDF"}),p!==null&&A.jsx(Pe,{sx:{width:"100%",mt:2},children:A.jsx(bg,{variant:"determinate",value:p})})]})]}),A.jsxs(Pe,{sx:{display:"flex",flexGrow:1},children:[A.jsx(Pe,{sx:{width:"450px",minWidth:"450px",maxWidth:"450px",borderRight:"1px solid #ddd",padding:2},children:A.jsx(fO,{sections:a.sections,selected:d,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:v,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),A.jsxs(Pe,{sx:{flexGrow:1,padding:3},children:[A.jsx("hr",{})," ",A.jsx(Pe,{sx:{borderRadius:1,padding:2,mb:2},children:A.jsx(je,{dangerouslySetInnerHTML:{__html:a.header.content.replace(/\n/g,"<br />")}})}),A.jsx("hr",{})," ",A.jsx(je,{variant:"h3",align:"center",gutterBottom:!0,children:a.title}),A.jsx("hr",{})," ",A.jsx(je,{variant:"h4",align:"center",gutterBottom:!0,children:C}),d.type!=="header"&&d.type!=="footer"&&A.jsx(Uk,{in:!0,timeout:400,children:A.jsxs(Pe,{children:[A.jsxs(Pe,{sx:{mb:2,borderRadius:1,padding:2},children:[A.jsx(je,{dangerouslySetInnerHTML:{__html:x.replace(/\n/g,"<br />")}}),A.jsx(Pe,{children:d.sectionIndex!==void 0&&A.jsx(A.Fragment,{children:d.subSubsectionIndex!==void 0?(((ae=(J=(Z=(_e=(re=(ye=a.sections[d.sectionIndex])==null?void 0:ye.subsections)==null?void 0:re[d.subsectionIndex])==null?void 0:_e.subSubsections)==null?void 0:Z[d.subSubsectionIndex])==null?void 0:J.images)==null?void 0:ae.length)||0)>0&&A.jsx(Rv,{images:((Ne=(xe=(Ie=(le=(fe=a.sections[d.sectionIndex])==null?void 0:fe.subsections)==null?void 0:le[d.subsectionIndex])==null?void 0:Ie.subSubsections)==null?void 0:xe[d.subSubsectionIndex])==null?void 0:Ne.images)||[]}):d.subsectionIndex!==void 0?(((ze=(Je=(Ge=(Qe=a.sections[d.sectionIndex])==null?void 0:Qe.subsections)==null?void 0:Ge[d.subsectionIndex])==null?void 0:Je.images)==null?void 0:ze.length)||0)>0&&A.jsx(Rv,{images:((he=(Ce=(X=a.sections[d.sectionIndex])==null?void 0:X.subsections)==null?void 0:Ce[d.subsectionIndex])==null?void 0:he.images)||[]}):(((pe=(be=a.sections[d.sectionIndex])==null?void 0:be.images)==null?void 0:pe.length)||0)>0&&A.jsx(Rv,{images:((Ae=a.sections[d.sectionIndex])==null?void 0:Ae.images)||[]})})})]}),A.jsx(Ate,{links:D})]})},b),A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between"},children:[A.jsx(xs,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:A.jsx("span",{children:A.jsx(Ln,{onClick:()=>k("prev"),disabled:d.sectionIndex===0&&d.subsectionIndex===void 0&&d.type==="header",children:A.jsx(_P,{})})})}),A.jsx(xs,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:A.jsx("span",{children:A.jsx(Ln,{onClick:()=>k("next"),disabled:d.sectionIndex===(((Oe=a.sections)==null?void 0:Oe.length)??1)-1&&(d.subsectionIndex===void 0||d.subsectionIndex===(((De=(Me=a.sections[d.sectionIndex])==null?void 0:Me.subsections)==null?void 0:De.length)??1)-1)&&d.type==="footer",children:A.jsx(CP,{})})})})]}),A.jsx("hr",{})," ",A.jsx(Pe,{sx:{borderRadius:1,padding:2,mt:2},children:A.jsx(je,{dangerouslySetInnerHTML:{__html:a.footer.content.replace(/\n/g,"<br />")}})}),A.jsx("hr",{})," "]})]})]})})},Bj=({value:t,onChange:r})=>{const[n,o]=Y.useState([]),{userDetails:a}=Ti();return Y.useEffect(()=>{if(a!=null&&a.classes){const l=Object.entries(a.classes).filter(([d,h])=>h.isCourseAdmin||a.isSuperAdmin).map(([d,h])=>({id:d,number:h.number,title:h.title}));o(l)}else o([])},[a]),A.jsxs(ld,{fullWidth:!0,sx:{mb:2},children:[A.jsx(cd,{id:"course-selector-label",children:"Course"}),A.jsx(bc,{labelId:"course-selector-label",value:t,onChange:l=>r(l.target.value),label:"Course",children:n.length>0?n.map(l=>A.jsx(Ir,{value:l.id,children:`${l.number} - ${l.title}`},l.id)):A.jsx(Ir,{disabled:!0,children:"No courses available"})}),!t&&A.jsx(DW,{children:"Please select a course"})]})},Vne=()=>{const[t,r]=Y.useState(""),[n,o]=Y.useState(""),[a,l]=Y.useState([{title:"",url:""}]),[d,h]=Y.useState(""),p=Vr(),g=Yn(),b=async()=>{if(!d){alert("Please select a course to post the message.");return}try{await la(Qn(g,"messages"),{title:t,description:n,links:a,course:d,postedOn:Eh(),isPinned:!1}),p("/")}catch(x){console.error("Error adding message: ",x)}},y=()=>p("/"),v=(x,C,D)=>{const S=[...a];S[x][C]=D,l(S)},k=()=>l([...a,{title:"",url:""}]);return A.jsx(SP,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:A.jsxs(Rn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[A.jsx(je,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Add New Message"}),A.jsx(na,{sx:{mb:3,backgroundColor:"#DADADA"}}),A.jsxs(Pe,{sx:{mt:4},children:[A.jsx(Bj,{value:d,onChange:h}),A.jsx(Jt,{label:"Subject",fullWidth:!0,value:t,onChange:x=>r(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),A.jsx(Jt,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:n,onChange:x=>o(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),A.jsx(je,{variant:"h6",sx:{mb:2},children:"ðŸ”—"}),a.map((x,C)=>A.jsxs(Pe,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[A.jsx(Jt,{label:`URL Title ${C+1}`,fullWidth:!0,value:x.title,onChange:D=>v(C,"title",D.target.value),sx:{mb:1}}),A.jsx(Jt,{label:`URL Link ${C+1}`,fullWidth:!0,value:x.url,onChange:D=>v(C,"url",D.target.value)})]},C)),A.jsx(wt,{variant:"outlined",onClick:k,startIcon:A.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),A.jsx(na,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between"},children:[A.jsx(wt,{variant:"outlined",onClick:y,className:"cancel-button",children:"Cancel"}),A.jsx(wt,{variant:"outlined",onClick:b,className:"save-button",children:"Save"})]})]})]})})},$ne=()=>{const{id:t}=J_(),[r,n]=Y.useState(""),[o,a]=Y.useState(""),[l,d]=Y.useState([{title:"",url:""}]),[h,p]=Y.useState(""),g=Vr(),b=Yn();Y.useEffect(()=>{(async()=>{try{const D=pn(b,"messages",t),S=await $o(D);if(S.exists()){const N=S.data();n(N.title),a(N.description),d(N.links||[{title:"",url:""}]),p(N.course||"")}}catch(D){console.error("Error fetching message: ",D)}})()},[b,t]);const y=async()=>{try{if(!h){alert("Please select a valid course to update the message.");return}const C=pn(b,"messages",t);await vr(C,{title:r,description:o,links:l,course:h,lastUpdatedOn:Eh()}),g("/")}catch(C){console.error("Error editing message: ",C)}},v=()=>g("/"),k=(C,D,S)=>{const N=[...l];N[C][D]=S,d(N)},x=()=>d([...l,{title:"",url:""}]);return A.jsx(SP,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:A.jsxs(Rn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[A.jsx(je,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Edit Message"}),A.jsx(na,{sx:{mb:3,backgroundColor:"#DADADA"}}),A.jsxs(Pe,{sx:{mt:4},children:[A.jsx(Bj,{value:h,onChange:p}),A.jsx(Jt,{label:"Subject",fullWidth:!0,value:r,onChange:C=>n(C.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),A.jsx(Jt,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:o,onChange:C=>a(C.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),A.jsx(je,{variant:"h6",sx:{mb:2},children:"ðŸ”—"}),l.map((C,D)=>A.jsxs(Pe,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[A.jsx(Jt,{label:`URL Title ${D+1}`,fullWidth:!0,value:C.title,onChange:S=>k(D,"title",S.target.value),sx:{mb:1}}),A.jsx(Jt,{label:`URL Link ${D+1}`,fullWidth:!0,value:C.url,onChange:S=>k(D,"url",S.target.value)})]},D)),A.jsx(wt,{variant:"outlined",onClick:x,startIcon:A.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),A.jsx(na,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between"},children:[A.jsx(wt,{variant:"outlined",onClick:v,className:"cancel-button",children:"Cancel"}),A.jsx(wt,{variant:"outlined",onClick:y,className:"save-button",children:"Save"})]})]})]})})},Hne=({users:t})=>{const r=(o,a)=>o?{backgroundColor:"#6a1b9a",color:"#fff"}:a?{backgroundColor:"#1976d2",color:"#fff"}:{backgroundColor:"#e0e0e0",color:"#000"},n=o=>o?Object.entries(o).map(([a,l])=>A.jsx(ni,{label:`${l.isCourseAdmin?"[Course Admin] ":""}${l.number||"N/A"} - ${l.title||"Untitled Course"}`,sx:{backgroundColor:l.isCourseAdmin?"#ffcccb":"#d4edda",color:l.isCourseAdmin?"#b71c1c":"#155724",margin:"4px",fontSize:"0.9rem",fontWeight:"bold",borderRadius:"8px",padding:"4px 8px"}},a)):"None";return A.jsx(gd,{component:Rn,children:A.jsxs(bd,{children:[A.jsx(kd,{children:A.jsxs(Co,{children:[A.jsx(It,{children:"ID"}),A.jsx(It,{children:"Status"}),A.jsx(It,{children:"Last Login"}),A.jsx(It,{children:"Courses"})]})}),A.jsx(wd,{children:t.map(o=>A.jsxs(Co,{sx:{"&:hover":{backgroundColor:"#f5f5f5",cursor:"pointer"}},children:[A.jsx(It,{children:A.jsx(ni,{label:o.id,color:o.isSuperAdmin?"secondary":o.isAdmin?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",...r(o.isSuperAdmin,o.isAdmin)}})}),A.jsx(It,{children:A.jsx(ni,{label:o.isSuperAdmin?"Super Admin":o.isAdmin?"Educator":"Student",color:o.isSuperAdmin?"secondary":o.isAdmin?"primary":"default"})}),A.jsx(It,{children:nd(o.lastLogin)}),A.jsx(It,{children:n(o.classes)||A.jsx(ni,{label:"No courses assigned",sx:{backgroundColor:"#e0e0e0",color:"#000"}})})]},o.id))})]})})},Wne=({userId:t,onUserDeleted:r})=>{const[n,o]=Y.useState(!1),[a,l]=Y.useState(!1),d=Yn(),h=()=>{o(!0)},p=()=>{o(!1)},g=async()=>{l(!0);try{const b=pn(d,"users",t);await Yg(b),r(!0)}catch(b){console.error("Error deleting user:",b),r(!1)}l(!1),o(!1)};return A.jsxs(A.Fragment,{children:[A.jsx(wt,{variant:"text",color:"error",onClick:h,children:"Delete User Account"}),A.jsxs(Qi,{open:n,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[A.jsx(Ji,{id:"alert-dialog-title",children:"Confirm Deletion"}),A.jsx(Zi,{children:A.jsx(Ds,{id:"alert-dialog-description",children:"Are you sure you want to delete this user account? This action cannot be undone."})}),A.jsxs(Xi,{children:[A.jsx(wt,{onClick:p,color:"primary",disabled:a,children:"Cancel"}),A.jsx(wt,{onClick:g,color:"error",autoFocus:!0,disabled:a,children:a?A.jsx(Lr,{size:24}):"Delete"})]})]})]})},Gne=({userId:t,userClasses:r,courses:n})=>{const[o,a]=Y.useState(""),[l,d]=Y.useState(!1),[h,p]=Y.useState(!1),[g,b]=Y.useState(""),[y,v]=Y.useState(!1),[k,x]=Y.useState(!1),C=Yn(),D=async()=>{if(!t||!o){b("Please enter a User ID and select a course."),v(!0);return}p(!0);try{const B=pn(C,"users",t),$=n.find(V=>V.id===o);$?(await vr(B,{[`classes.${o}`]:{number:$.number,title:$.title,isCourseAdmin:l}}),b(`Course ${$.title} assigned successfully to user ${t}${l?" as Course Admin.":"."}`)):b("Selected course not found.")}catch(B){console.error("Error assigning course:",B),b("Error assigning course.")}p(!1),v(!0)},S=()=>{v(!1)},N=()=>x(!0),P=()=>x(!1);return A.jsxs(A.Fragment,{children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",mt:2},children:[A.jsx(je,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Courses:"}),A.jsx(Pe,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r?Object.values(r).map((B,$)=>A.jsx(ni,{label:`${B.isCourseAdmin?"[Course Admin] ":""}${B.number} - ${B.title}`,style:{backgroundColor:B.isCourseAdmin?"#ffcccb":"#d4edda",color:B.isCourseAdmin?"#b71c1c":"#155724",margin:"4px"}},$)):A.jsx(je,{children:"No courses assigned."})}),A.jsxs(ld,{sx:{minWidth:200,mr:2},children:[A.jsx(cd,{children:"Course"}),A.jsx(bc,{value:o,onChange:B=>a(B.target.value),children:n.map(B=>A.jsx(Ir,{value:B.id,children:`${B.number} - ${B.title}`},B.id))})]}),A.jsxs(ld,{sx:{mr:2},children:[A.jsx(cd,{children:"Role"}),A.jsxs(bc,{value:l?"admin":"student",onChange:B=>d(B.target.value==="admin"),children:[A.jsx(Ir,{value:"admin",children:"Course Admin"}),A.jsx(Ir,{value:"student",children:"Student"})]})]}),A.jsx(wt,{variant:"contained",color:"primary",onClick:N,disabled:h||!o,children:h?A.jsx(Lr,{size:24}):"Assign Course"})]}),A.jsx(os,{open:y,autoHideDuration:6e3,onClose:S,children:A.jsx(pr,{onClose:S,severity:"info",children:g})}),A.jsxs(Qi,{open:k,onClose:P,"aria-labelledby":"assign-dialog-title",children:[A.jsx(Ji,{id:"assign-dialog-title",children:"Assign Course"}),A.jsx(Zi,{children:A.jsxs(Ds,{children:["Are you sure you want to assign the course ",o," to this user",l?" as a Course Admin?":"?"]})}),A.jsxs(Xi,{children:[A.jsx(wt,{onClick:P,color:"primary",children:"Cancel"}),A.jsx(wt,{onClick:D,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},Yne=()=>{const[t,r]=Y.useState(""),[n,o]=Y.useState(!1),[a,l]=Y.useState(!1),[d,h]=Y.useState(void 0),[p,g]=Y.useState(!1),[b,y]=Y.useState(""),[v,k]=Y.useState(!1),[x,C]=Y.useState(!1),[D,S]=Y.useState(!1),[N,P]=Y.useState([]),[B,$]=Y.useState(""),[V,M]=Y.useState([]),L=Yn(),[q,Q]=Y.useState(""),H=Vr(),F=()=>{H("/")};Y.useEffect(()=>{(async()=>{try{const fe=Qn(L,"courses"),Ie=(await xo(fe)).docs.map(xe=>({id:xe.id,number:xe.data().number,title:xe.data().title}));M(Ie)}catch(fe){console.error("Error fetching courses:",fe)}})()},[L]);const G=async()=>{if(t){g(!0),l(!1);try{const ae=pn(L,"users",t),fe=await $o(ae);if(fe.exists()){const le=fe.data();o(le.isAdmin),h(le.classes),l(!0)}else y("User not found."),k(!0)}catch(ae){console.error("Error fetching user:",ae),y("Error fetching user."),k(!0)}g(!1)}},R=Y.useCallback(async()=>{g(!0);try{const ae=Qn(L,"users"),le=(await xo(ae)).docs.map(Ie=>({id:Ie.id,...Ie.data()}));P(le)}catch(ae){console.error("Error fetching users:",ae),y("Error fetching users."),k(!0)}g(!1)},[L]);Y.useEffect(()=>{R()},[R]);const ne=async()=>{try{const ae=pn(L,"users",t);await vr(ae,{isAdmin:D}),y(`User ${D?"granted":"revoked"} admin privileges successfully.`),o(D);const fe=N.map(le=>le.id===t?{...le,isAdmin:D}:le);P(fe)}catch(ae){console.error("Error updating user:",ae),y("Error updating user.")}k(!0),C(!1)},ue=ae=>{ae.preventDefault(),a?(S(!n),C(!0)):(y("User not found."),k(!0))},ie=()=>{k(!1)},se=()=>{C(!1)},ye=ae=>{$(ae.target.value)},re=ae=>B?ae.classes&&B in ae.classes:!0,_e=ae=>q==="superAdmin"?ae.isSuperAdmin:q==="educator"?ae.isAdmin&&!ae.isSuperAdmin:q==="student"?!ae.isAdmin&&!ae.isSuperAdmin:!0,Z=ae=>ae.filter(fe=>re(fe)&&_e(fe)),J=ae=>{ae?(y("User account deleted successfully."),l(!1),r(""),R()):y("Error deleting user account."),k(!0)};return A.jsxs(Pe,{sx:{padding:3},children:[A.jsx(Pe,{sx:{display:"flex",alignItems:"center"},children:A.jsx(wt,{variant:"text",onClick:F,sx:{mr:2},children:"â† Home Page"})}),A.jsx(je,{variant:"h4",component:"h1",gutterBottom:!0,children:"User Management"}),A.jsx(je,{variant:"body1",gutterBottom:!0,children:"Use this page to view and manage user permissions. Enter the User ID to grant or revoke admin privileges, or delete user account."}),A.jsx(Pe,{sx:{display:"flex",justifyContent:"flex-start"},children:A.jsxs("form",{onSubmit:ue,children:[A.jsx(Jt,{label:"User ID",value:t,onChange:ae=>r(ae.target.value),fullWidth:!0,required:!0,margin:"normal",onKeyPress:ae=>{ae.key==="Enter"&&(G(),ae.preventDefault())},sx:{minWidth:"300px"}}),p?A.jsx(Lr,{}):a&&A.jsxs(Rn,{variant:"outlined",sx:{padding:2,borderRadius:"15px",mb:1},children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #e0e0e0",padding:"16px",borderRadius:"8px",backgroundColor:"#f9f9f9",mb:2},children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"center"},children:[A.jsx(je,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Status:"}),A.jsx(ni,{label:n?"Educator (Admin)":"Student (Non-Admin)",color:n?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",backgroundColor:n?"#1976d2":"#e0e0e0",color:n?"#fff":"#000"}})]}),A.jsx(wt,{type:"submit",variant:"contained",color:n?"secondary":"primary",sx:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",borderRadius:"8px",fontWeight:"bold",boxShadow:"none","&:hover":{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)"}},children:n?"Revoke Educator Access":"Grant Educator Access"})]}),A.jsx(Gne,{userId:t,userClasses:d,courses:V}),A.jsx(Wne,{userId:t,onUserDeleted:J})]})]})}),A.jsx(je,{variant:"h5",component:"h2",gutterBottom:!0,children:"Current Users"}),A.jsxs(ld,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[A.jsx(cd,{children:"Filter by Course"}),A.jsxs(bc,{value:B,onChange:ye,children:[A.jsx(Ir,{value:"",children:"All Courses"}),V.map(ae=>A.jsx(Ir,{value:ae.id,children:ae.number},ae.id))]})]}),A.jsxs(ld,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[A.jsx(cd,{children:"User Status"}),A.jsxs(bc,{value:q,onChange:ae=>Q(ae.target.value),children:[A.jsx(Ir,{value:"",children:"All Statuses"}),A.jsx(Ir,{value:"superAdmin",children:"Super Admin"}),A.jsx(Ir,{value:"educator",children:"Educator"}),A.jsx(Ir,{value:"student",children:"Student"})]})]}),A.jsx(Hne,{users:Z(N)}),A.jsxs(Qi,{open:x,onClose:se,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[A.jsx(Ji,{id:"alert-dialog-title",children:n?"Revoke Admin Privileges":"Grant Admin Privileges"}),A.jsx(Zi,{children:A.jsxs(Ds,{id:"alert-dialog-description",children:["Are you sure you want to ",n?"revoke":"grant"," admin privileges for this user?"]})}),A.jsxs(Xi,{children:[A.jsx(wt,{onClick:se,color:"primary",children:"Cancel"}),A.jsx(wt,{onClick:ne,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),A.jsx(os,{open:v,autoHideDuration:6e3,onClose:ie,children:A.jsx(pr,{onClose:ie,severity:"info",children:b})})]})},Kne=({onCourseAdded:t})=>{const[r,n]=Y.useState(""),{userDetails:o,setUserDetails:a}=Ti(),l=Yn(),d=p=>{n(p.target.value)},h=async()=>{try{const b=(await xo(Qn(l,"courses"))).docs.map(y=>({id:y.id,passcode:y.data().passcode,number:y.data().number,title:y.data().title})).find(y=>y.passcode===r);if(b){if(o)if((o.classes||{})[b.id])t(`Course access for ${b.number} is already added to your account!`,"info");else{const v=pn(l,"users",o.uid);await vr(v,{[`classes.${b.id}`]:{number:b.number,title:b.title,isCourseAdmin:!1}});const k=await $o(v);if(k.exists()){const x=k.data();a({...x,uid:o.uid})}t(`Course access for ${b.number} added to your account successfully!`,"success"),n("")}}else t("Invalid passcode. Course not found.","error")}catch(p){console.error("Error updating document: ",p),t("Error adding course access to your account.","error")}};return A.jsx("div",{children:A.jsxs(Pt,{container:!0,spacing:2,sx:{maxWidth:"50%"},children:[A.jsx(Pt,{item:!0,xs:10,children:A.jsx(Jt,{label:"Enter Course Passcode",value:r,onChange:d,fullWidth:!0,sx:{mb:2}})}),A.jsx(Pt,{item:!0,xs:2,sx:{display:"flex",alignItems:"center"},children:A.jsx(wt,{variant:"contained",onClick:h,children:"Add Course"})})]})})},Qne=({userDetails:t,getAccountStatus:r,renderCourses:n})=>A.jsxs(Rn,{elevation:3,sx:{padding:3,borderRadius:"12px",backgroundColor:"#ffffff",maxWidth:"500px",margin:"auto"},children:[A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",mb:2},children:A.jsx(IW,{sx:{width:72,height:72,bgcolor:"#1054c4"},children:A.jsx(TW,{sx:{fontSize:48,color:"#f8f4fc"}})})}),A.jsxs(Pe,{sx:{display:"flex",flexDirection:"column",gap:1,alignItems:"left"},children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(je,{sx:{fontWeight:"bold"},children:"User ID:"}),A.jsx(ni,{label:t.uid,variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#E3F2FD",color:"#1565C0"}})]}),A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(je,{sx:{fontWeight:"bold"},children:"Account Status:"}),A.jsx(ni,{label:r(),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#C8E6C9",color:"#2E7D32"}})]}),A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(je,{sx:{fontWeight:"bold"},children:"Last Login:"}),A.jsx(ni,{label:nd(t.lastLogin),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#FFF3E0",color:"#EF6C00"}})]})]}),A.jsx(na,{sx:{my:2}}),A.jsx(je,{sx:{fontWeight:"bold",mb:1},children:"Current Courses:"}),A.jsx(Pe,{sx:{display:"flex",flexWrap:"wrap"},children:n()})]}),Jne=()=>{const{userDetails:t,setUserDetails:r}=Ti(),[n,o]=Y.useState(!1),[a,l]=Y.useState(!1),[d,h]=Y.useState(!1),[p,g]=Y.useState(""),[b,y]=Y.useState("success"),v=Vr(),k=Yn(),x=()=>{v("/")},C=()=>{t!=null&&t.isAdmin||v("/request-educator-permissions")},D=(V,M)=>{h(!0),g(V),y(M),M==="success"&&t&&(async()=>{const q=pn(k,"users",t.uid),Q=await $o(q);if(Q.exists()){const H=Q.data();r({...H,uid:t.uid})}})()},S=()=>{o(!n)},N=()=>{l(!a)},P=()=>t!=null&&t.isSuperAdmin?"Super Admin":t!=null&&t.isAdmin?"Educator":"Student",B=()=>{h(!1)},$=()=>t!=null&&t.classes?Object.entries(t.classes).map(([V,M])=>A.jsx(ni,{label:`${M.number} - ${M.title}${M.isCourseAdmin?" (Admin)":""}`,variant:"outlined",sx:{margin:"4px",fontSize:"14px",fontWeight:"bold",bgcolor:M.isCourseAdmin?"#FFCDD2":"#E3F2FD",color:M.isCourseAdmin?"#C62828":"#1565C0"}},V)):"None";return A.jsxs(Pe,{className:"profile-container",children:[A.jsx(wt,{variant:"text",onClick:x,className:"profile-button",children:"â† Home Page"}),A.jsx(je,{className:"webpage_title",children:"My Account"}),t&&A.jsx(Qne,{userDetails:t,getAccountStatus:P,renderCourses:$}),!(t!=null&&t.isAdmin)&&A.jsxs(Pe,{className:"profile-switch-container",children:[A.jsx(tu,{control:A.jsx(nu,{checked:n,onChange:S}),label:"Enroll in a Course (As a Student)"}),n&&A.jsxs(Pe,{sx:{mt:2},children:[A.jsx(je,{variant:"body1",className:"profile-text",children:"Use the area below to add a course access to your account."}),A.jsx(Kne,{onCourseAdded:D})]})]}),A.jsxs(Pe,{className:"profile-advanced-section",children:[A.jsx(tu,{control:A.jsx(nu,{checked:a,onChange:N}),label:"Advanced"}),a&&A.jsx(A.Fragment,{children:A.jsx(Pe,{sx:{mt:2},children:A.jsx(wt,{variant:"text",onClick:C,disabled:t==null?void 0:t.isAdmin,className:"profile-button",children:t!=null&&t.isAdmin?A.jsx(je,{children:A.jsx("span",{className:"success-text",children:"âœ” Educator Account Approved"})}):"Request Educator Permissions"})})})]}),A.jsx(os,{open:d,autoHideDuration:6e3,onClose:B,children:A.jsx(pr,{onClose:B,severity:b,sx:{width:"100%"},children:p})})]})},Zne=({selectedCourse:t,selectedCourseDetails:r,onStudentChange:n})=>{const[o,a]=Y.useState(""),[l,d]=Y.useState(!1),[h,p]=Y.useState(""),[g,b]=Y.useState(!1),[y,v]=Y.useState(!1),k=Yn(),x=async()=>{if(!o||!t){p("Please enter a Student ID and select a course."),b(!0);return}d(!0);try{const N=pn(k,"users",o),P=await $o(N);if(P.exists()){const $=P.data().classes||{};t in $?v(!0):(p(`Student ${o} is not enrolled in course ${(r==null?void 0:r.number)||t}, cannot remove.`),b(!0))}else p(`Student ${o} does not exist.`),b(!0)}catch(N){console.error("Error checking student course:",N),p("Error checking student course."),b(!0)}d(!1)},C=async()=>{d(!0);try{const N=pn(k,"users",o);await vr(N,{[`classes.${t}`]:bG()}),p(`Student ${o} removed from course ${(r==null?void 0:r.number)||t}.`),a(""),n()}catch(N){console.error("Error updating student course:",N),p("Error updating student course.")}d(!1),b(!0),v(!1)},D=()=>{b(!1)},S=()=>{v(!1)};return A.jsxs(Pe,{sx:{mt:4},children:[A.jsxs(je,{variant:"h6",component:"h2",children:["Remove Students from ",r?`${r.number}`:t]}),A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",mt:2},children:[A.jsx(Jt,{label:"Student ID",value:o,onChange:N=>a(N.target.value),fullWidth:!0,required:!0,margin:"normal",sx:{mr:2}}),A.jsx(wt,{variant:"contained",color:"primary",onClick:x,disabled:l,children:l?A.jsx(Lr,{size:24}):"Remove"})]}),A.jsx(os,{open:g,autoHideDuration:6e3,onClose:D,children:A.jsx(pr,{onClose:D,severity:"info",children:h})}),A.jsxs(Qi,{open:y,onClose:S,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[A.jsx(Ji,{id:"confirm-dialog-title",children:"Confirm Removal"}),A.jsx(Zi,{children:A.jsx(Ds,{id:"confirm-dialog-description",children:"Are you sure you want to remove the student from the course? This action cannot be undone."})}),A.jsxs(Xi,{children:[A.jsx(wt,{onClick:S,color:"primary",children:"Cancel"}),A.jsx(wt,{onClick:C,color:"secondary",autoFocus:!0,children:"Confirm"})]})]})]})},Xne=({students:t,selectedCourse:r})=>{const n=()=>{if(t.length>0){const o=["User ID","Courses","Last Login"],a=t.map(g=>[`"${g.id||g.uid}"`,`"${g.classes?Object.values(g.classes).map(b=>`${b.number} - ${b.title}`).join(", "):"None"}"`,`"${nd(g.lastLogin)}"`]),l=[o.join(","),...a.map(g=>g.join(","))].join(`
`),d=new Blob([l],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(d),p=document.createElement("a");p.href=h,p.setAttribute("download",`${r}_students.csv`),document.body.appendChild(p),p.click(),document.body.removeChild(p)}};return A.jsx(Pe,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:A.jsx(wt,{variant:"contained",color:"primary",onClick:n,disabled:t.length===0,sx:{background:"linear-gradient(45deg, #3f51b5 30%, #1e88e5 90%)",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",padding:"0 30px",fontSize:"16px",fontWeight:"bold",textTransform:"none","&:hover":{background:"linear-gradient(45deg, #1e88e5 30%, #3f51b5 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)"}},children:"Export as CSV"})})},ere=({userClasses:t,selectedCourse:r,onCourseChange:n})=>A.jsx(Pe,{sx:{mb:3},children:A.jsxs(ld,{fullWidth:!0,variant:"outlined",children:[A.jsx(cd,{id:"course-selector-label",children:"Select a Course"}),A.jsx(bc,{"aria-label":"Select a course",labelId:"course-selector-label",value:r,onChange:o=>n(o.target.value),label:"Select a Course",children:Object.entries(t).map(([o,a])=>A.jsx(Ir,{value:o,children:`${a.number} - ${a.title}`},o))})]})}),tre=({selectedCourse:t,selectedCourseDetails:r,onCourseUpdate:n})=>{const[o,a]=Y.useState(!1),[l,d]=Y.useState(""),[h,p]=Y.useState(""),g=Yn(),{userDetails:b,refreshUserDetails:y}=Ti(),v=()=>{r&&(d(r.number||""),p(r.title||"")),a(!0)},k=()=>{a(!1),x()},x=()=>{d(""),p("")},C=async()=>{if(!t||!(b!=null&&b.uid)){console.error("Selected course or user details are missing.");return}try{const D=pn(g,"courses",t);await vr(D,{number:l,title:h});const S=pn(g,"users",b.uid),N=await $o(S);if(N.exists()){const P=N.data();if(P.classes&&P.classes[t]){const B=P.classes[t],$={...P.classes,[t]:{...B,number:l,title:h}};await vr(S,{classes:$})}}await y(),n(),k()}catch(D){console.error("Error updating course:",D)}};return A.jsxs(Pe,{sx:{mt:2},children:[A.jsx(wt,{variant:"outlined",onClick:v,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#4CAF50",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#388E3C",transform:"scale(1.03)"}},children:"Edit Course Details"}),A.jsxs(Qi,{open:o,onClose:k,children:[A.jsx(Ji,{children:"Edit Course Details"}),A.jsxs(Zi,{children:[A.jsx(Jt,{label:"Course Number",value:l,onChange:D=>d(D.target.value),fullWidth:!0,sx:{mb:2}}),A.jsx(Jt,{label:"Course Title",value:h,onChange:D=>p(D.target.value),fullWidth:!0})]}),A.jsxs(Xi,{children:[A.jsx(wt,{onClick:k,children:"Cancel"}),A.jsx(wt,{onClick:C,variant:"contained",color:"primary",disabled:!l||!h,children:"Save"})]})]})]})},nre=({selectedCourse:t,onInfoUpdate:r})=>{var G,R,ne,ue,ie,se,ye,re,_e,Z,J,ae,fe;const[n,o]=Y.useState(!1),[a,l]=Y.useState(!1),[d,h]=Y.useState(null),[p,g]=Y.useState({}),[b,y]=Y.useState("contact"),v=Yn();Y.useEffect(()=>{n&&t&&k()},[n,t]);const k=async()=>{try{l(!0);const le=pn(v,"courses",t),Ie=await $o(le);if(Ie.exists()){const xe=Ie.data();g(xe.additionalInfo||{})}}catch(le){console.error("Error fetching course info:",le),h("Failed to load course information")}finally{l(!1)}},x=()=>{o(!0),h(null)},C=()=>{o(!1),h(null)},D=async()=>{try{l(!0);const le=pn(v,"courses",t);await vr(le,{additionalInfo:{...p,lastUpdated:new Date}}),r(),C()}catch(le){console.error("Error updating course info:",le),h("Failed to save course information")}finally{l(!1)}},S=(le,Ie)=>{g(xe=>({...xe,contactInfo:{...xe.contactInfo,[le]:Ie}}))},N=(le,Ie)=>{g(xe=>({...xe,policies:{...xe.policies,[le]:Ie}}))},P=()=>{g(le=>({...le,textbooks:[...le.textbooks||[],{title:"",author:"",edition:"",isbn:"",required:!0}]}))},B=(le,Ie,xe)=>{g(Ne=>{var Qe;return{...Ne,textbooks:(Qe=Ne.textbooks)==null?void 0:Qe.map((Ge,Je)=>Je===le?{...Ge,[Ie]:xe}:Ge)}})},$=le=>{g(Ie=>{var xe;return{...Ie,textbooks:(xe=Ie.textbooks)==null?void 0:xe.filter((Ne,Qe)=>Qe!==le)}})},V=()=>{g(le=>({...le,gradingPolicy:[...le.gradingPolicy||[],{component:"",percentage:0,description:""}]}))},M=(le,Ie,xe)=>{g(Ne=>{var Qe;return{...Ne,gradingPolicy:(Qe=Ne.gradingPolicy)==null?void 0:Qe.map((Ge,Je)=>Je===le?{...Ge,[Ie]:xe}:Ge)}})},L=le=>{g(Ie=>{var xe;return{...Ie,gradingPolicy:(xe=Ie.gradingPolicy)==null?void 0:xe.filter((Ne,Qe)=>Qe!==le)}})},q=(le,Ie)=>{g(xe=>{var Ne;return{...xe,[le]:{...xe[le],[Ie]:[...((Ne=xe[le])==null?void 0:Ne[Ie])||[],""]}}})},Q=(le,Ie,xe,Ne)=>{g(Qe=>{var Ge;return{...Qe,[le]:{...Qe[le],[Ie]:(((Ge=Qe[le])==null?void 0:Ge[Ie])||[]).map((Je,ze)=>ze===xe?Ne:Je)}}})},H=(le,Ie,xe)=>{g(Ne=>{var Qe;return{...Ne,[le]:{...Ne[le],[Ie]:(((Qe=Ne[le])==null?void 0:Qe[Ie])||[]).filter((Ge,Je)=>Je!==xe)}}})},F=le=>(Ie,xe)=>{y(xe?le:!1)};return A.jsxs(Pe,{sx:{mt:2},children:[A.jsx(wt,{variant:"outlined",onClick:x,startIcon:A.jsx(pl,{}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#2196F3",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#1976D2",transform:"scale(1.03)"}},children:"Edit Additional Info"}),A.jsxs(Qi,{open:n,onClose:C,maxWidth:"md",fullWidth:!0,children:[A.jsx(Ji,{children:A.jsx(je,{variant:"h5",children:"Edit Additional Course Information"})}),A.jsxs(Zi,{sx:{minHeight:"500px"},children:[d&&A.jsx(pr,{severity:"error",sx:{mb:2},children:d}),A.jsxs(tc,{expanded:b==="contact",onChange:F("contact"),children:[A.jsx(nc,{expandIcon:A.jsx(ys,{}),children:A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(NW,{color:"primary"}),A.jsx(je,{variant:"h6",children:"Contact Information"})]})}),A.jsx(rc,{children:A.jsxs(Pt,{container:!0,spacing:2,children:[A.jsx(Pt,{item:!0,xs:12,md:6,children:A.jsx(Jt,{label:"Email",fullWidth:!0,value:((G=p.contactInfo)==null?void 0:G.email)||"",onChange:le=>S("email",le.target.value)})}),A.jsx(Pt,{item:!0,xs:12,md:6,children:A.jsx(Jt,{label:"Phone",fullWidth:!0,value:((R=p.contactInfo)==null?void 0:R.phone)||"",onChange:le=>S("phone",le.target.value)})}),A.jsx(Pt,{item:!0,xs:12,md:6,children:A.jsx(Jt,{label:"Office",fullWidth:!0,value:((ne=p.contactInfo)==null?void 0:ne.office)||"",onChange:le=>S("office",le.target.value)})}),A.jsx(Pt,{item:!0,xs:12,md:6,children:A.jsx(Jt,{label:"Office Hours",fullWidth:!0,value:((ue=p.contactInfo)==null?void 0:ue.officeHours)||"",onChange:le=>S("officeHours",le.target.value)})}),A.jsx(Pt,{item:!0,xs:12,children:A.jsx(Jt,{label:"Website",fullWidth:!0,value:((ie=p.contactInfo)==null?void 0:ie.website)||"",onChange:le=>S("website",le.target.value)})})]})})]}),A.jsxs(tc,{expanded:b==="textbooks",onChange:F("textbooks"),children:[A.jsx(nc,{expandIcon:A.jsx(ys,{}),children:A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(MW,{color:"primary"}),A.jsx(je,{variant:"h6",children:"Textbooks & Resources"})]})}),A.jsxs(rc,{children:[A.jsx(Pe,{sx:{mb:2},children:A.jsx(wt,{startIcon:A.jsx(mh,{}),onClick:P,variant:"outlined",children:"Add Textbook"})}),(se=p.textbooks)==null?void 0:se.map((le,Ie)=>A.jsx(Pe,{sx:{mb:3,p:2,border:"1px solid #ddd",borderRadius:1},children:A.jsxs(Pt,{container:!0,spacing:2,children:[A.jsx(Pt,{item:!0,xs:12,children:A.jsx(Jt,{label:"Title",fullWidth:!0,value:le.title,onChange:xe=>B(Ie,"title",xe.target.value)})}),A.jsx(Pt,{item:!0,xs:12,md:4,children:A.jsx(Jt,{label:"Author",fullWidth:!0,value:le.author||"",onChange:xe=>B(Ie,"author",xe.target.value)})}),A.jsx(Pt,{item:!0,xs:12,md:4,children:A.jsx(Jt,{label:"Edition",fullWidth:!0,value:le.edition||"",onChange:xe=>B(Ie,"edition",xe.target.value)})}),A.jsx(Pt,{item:!0,xs:12,md:4,children:A.jsx(Jt,{label:"ISBN",fullWidth:!0,value:le.isbn||"",onChange:xe=>B(Ie,"isbn",xe.target.value)})}),A.jsx(Pt,{item:!0,xs:12,children:A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsx(tu,{control:A.jsx(nu,{checked:le.required,onChange:xe=>B(Ie,"required",xe.target.checked)}),label:"Required"}),A.jsx(Ln,{onClick:()=>$(Ie),color:"error",children:A.jsx(Ks,{})})]})})]})},Ie))]})]}),A.jsxs(tc,{expanded:b==="grading",onChange:F("grading"),children:[A.jsx(nc,{expandIcon:A.jsx(ys,{}),children:A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(PW,{color:"primary"}),A.jsx(je,{variant:"h6",children:"Grading Policy"})]})}),A.jsxs(rc,{children:[A.jsx(Pe,{sx:{mb:2},children:A.jsx(wt,{startIcon:A.jsx(mh,{}),onClick:V,variant:"outlined",children:"Add Grading Component"})}),(ye=p.gradingPolicy)==null?void 0:ye.map((le,Ie)=>A.jsx(Pe,{sx:{mb:2,p:2,border:"1px solid #ddd",borderRadius:1},children:A.jsxs(Pt,{container:!0,spacing:2,children:[A.jsx(Pt,{item:!0,xs:12,md:4,children:A.jsx(Jt,{label:"Component",fullWidth:!0,value:le.component,onChange:xe=>M(Ie,"component",xe.target.value)})}),A.jsx(Pt,{item:!0,xs:12,md:3,children:A.jsx(Jt,{label:"Percentage",type:"number",fullWidth:!0,value:le.percentage,onChange:xe=>M(Ie,"percentage",parseInt(xe.target.value)||0),inputProps:{min:0,max:100}})}),A.jsx(Pt,{item:!0,xs:12,md:4,children:A.jsx(Jt,{label:"Description",fullWidth:!0,value:le.description||"",onChange:xe=>M(Ie,"description",xe.target.value)})}),A.jsx(Pt,{item:!0,xs:12,md:1,children:A.jsx(Ln,{onClick:()=>L(Ie),color:"error",children:A.jsx(Ks,{})})})]})},Ie))]})]}),A.jsxs(tc,{expanded:b==="policies",onChange:F("policies"),children:[A.jsx(nc,{expandIcon:A.jsx(ys,{}),children:A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(OW,{color:"primary"}),A.jsx(je,{variant:"h6",children:"Course Policies"})]})}),A.jsx(rc,{children:A.jsx(Pt,{container:!0,spacing:2,children:[{key:"attendance",label:"Attendance Policy"},{key:"lateWork",label:"Late Work Policy"},{key:"academicIntegrity",label:"Academic Integrity"},{key:"accommodations",label:"Accommodations"},{key:"communication",label:"Communication Policy"},{key:"safety",label:"Safety Policy"},{key:"groupWork",label:"Group Work Policy"},{key:"makeupPolicy",label:"Make-up Policy"}].map(({key:le,label:Ie})=>{var xe;return A.jsx(Pt,{item:!0,xs:12,children:A.jsx(Jt,{label:Ie,multiline:!0,rows:3,fullWidth:!0,value:((xe=p.policies)==null?void 0:xe[le])||"",onChange:Ne=>N(le,Ne.target.value)})},le)})})})]}),A.jsxs(tc,{expanded:b==="lab",onChange:F("lab"),children:[A.jsx(nc,{expandIcon:A.jsx(ys,{}),children:A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(jW,{color:"primary"}),A.jsx(je,{variant:"h6",children:"Laboratory Information"})]})}),A.jsx(rc,{children:A.jsxs(Pt,{container:!0,spacing:3,children:[A.jsxs(Pt,{item:!0,xs:12,children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1},children:"Safety Requirements"}),A.jsx(Pe,{sx:{mb:2},children:A.jsx(wt,{startIcon:A.jsx(mh,{}),onClick:()=>q("labSpecific","safetyRequirements"),size:"small",variant:"outlined",children:"Add Safety Requirement"})}),(_e=(re=p.labSpecific)==null?void 0:re.safetyRequirements)==null?void 0:_e.map((le,Ie)=>A.jsxs(Pe,{sx:{display:"flex",gap:1,mb:1},children:[A.jsx(Jt,{fullWidth:!0,size:"small",value:le,onChange:xe=>Q("labSpecific","safetyRequirements",Ie,xe.target.value),placeholder:"Safety requirement"}),A.jsx(Ln,{onClick:()=>H("labSpecific","safetyRequirements",Ie),color:"error",size:"small",children:A.jsx(Ks,{})})]},Ie))]}),A.jsxs(Pt,{item:!0,xs:12,md:6,children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1},children:"Required Equipment"}),A.jsx(Pe,{sx:{mb:2},children:A.jsx(wt,{startIcon:A.jsx(mh,{}),onClick:()=>q("labSpecific","requiredEquipment"),size:"small",variant:"outlined",children:"Add Equipment"})}),(J=(Z=p.labSpecific)==null?void 0:Z.requiredEquipment)==null?void 0:J.map((le,Ie)=>A.jsxs(Pe,{sx:{display:"flex",gap:1,mb:1},children:[A.jsx(Jt,{fullWidth:!0,size:"small",value:le,onChange:xe=>Q("labSpecific","requiredEquipment",Ie,xe.target.value),placeholder:"Equipment item"}),A.jsx(Ln,{onClick:()=>H("labSpecific","requiredEquipment",Ie),color:"error",size:"small",children:A.jsx(Ks,{})})]},Ie))]}),A.jsxs(Pt,{item:!0,xs:12,md:6,children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1},children:"Dress Code"}),A.jsx(Pe,{sx:{mb:2},children:A.jsx(wt,{startIcon:A.jsx(mh,{}),onClick:()=>q("labSpecific","dresscode"),size:"small",variant:"outlined",children:"Add Dress Code Item"})}),(fe=(ae=p.labSpecific)==null?void 0:ae.dresscode)==null?void 0:fe.map((le,Ie)=>A.jsxs(Pe,{sx:{display:"flex",gap:1,mb:1},children:[A.jsx(Jt,{fullWidth:!0,size:"small",value:le,onChange:xe=>Q("labSpecific","dresscode",Ie,xe.target.value),placeholder:"Dress code requirement"}),A.jsx(Ln,{onClick:()=>H("labSpecific","dresscode",Ie),color:"error",size:"small",children:A.jsx(Ks,{})})]},Ie))]})]})})]})]}),A.jsxs(Xi,{children:[A.jsx(wt,{onClick:C,children:"Cancel"}),A.jsx(wt,{onClick:D,variant:"contained",disabled:a,children:a?"Saving...":"Save Changes"})]})]})]})},rre=async(t,r,n)=>{const o=Pp(),a=t.name.split(".").pop()||"txt",l=`${t.name.replace(/\.[^/.]+$/,"")}_${Ys()}.${a}`,d=`syllabi/${r}/${l}`,h=Kg(o,d);try{const p=await C1(h,t),g=await Qg(p.ref),b={originalFilename:t.name,fileSize:t.size,fileType:t.type||"application/octet-stream",uploadedAt:new Date,uploadedBy:r,courseId:n};return console.log(`Successfully uploaded syllabus file: ${l}`,{size:t.size,type:t.type,url:g}),{url:g,path:p.ref.fullPath,metadata:b}}catch(p){throw console.error("Failed to upload syllabus file:",p),new Error(`Failed to upload syllabus file: ${p instanceof Error?p.message:"Unknown error"}`)}},k6=t=>{switch(t.toLowerCase()){case"application/pdf":return"PDF Document";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"Word Document";case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return"PowerPoint Presentation";case"text/plain":return"Text File";default:return"Document"}},w6=t=>{if(t===0)return"0 Bytes";const r=1024,n=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(t)/Math.log(r));return parseFloat((t/Math.pow(r,o)).toFixed(2))+" "+n[o]},ire=({courseId:t})=>{const[r,n]=Y.useState(null),[o,a]=Y.useState(!0),[l,d]=Y.useState(null),[h,p]=Y.useState(!1),g=Yn();Y.useEffect(()=>{t&&(async()=>{try{a(!0);const k=pn(g,"courses",t),x=await $o(k);if(x.exists()){const C=x.data();n(C.syllabusFile||null)}else d("Course not found")}catch(k){console.error("Error fetching syllabus file:",k),d("Failed to load syllabus file information")}finally{a(!1)}})()},[t,g]);const b=()=>{r!=null&&r.url&&window.open(r.url,"_blank")},y=()=>{p(!0)};return o?A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",p:2},children:A.jsx(Lr,{size:24})}):l?A.jsx(pr,{severity:"error",sx:{mb:2},children:l}):r?A.jsxs(Rn,{sx:{p:3,mb:3,backgroundColor:"info.50"},children:[A.jsxs(je,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[A.jsx(OA,{color:"primary"}),"Original Syllabus Document"]}),A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[A.jsx(je,{variant:"body1",sx:{flexGrow:1},children:A.jsx("strong",{children:r.metadata.originalFilename})}),A.jsxs(je,{variant:"body2",color:"text.secondary",children:[k6(r.metadata.fileType)," â€¢ ",w6(r.metadata.fileSize)]})]}),A.jsxs(je,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Uploaded: ",new Date(r.metadata.uploadedAt).toLocaleDateString()]}),A.jsxs(Pe,{sx:{display:"flex",gap:2},children:[A.jsx(wt,{variant:"outlined",startIcon:A.jsx($_,{}),onClick:y,size:"small",children:"View Details"}),A.jsx(wt,{variant:"contained",startIcon:A.jsx(Ng,{}),onClick:b,size:"small",children:"Download"})]}),A.jsxs(Qi,{open:h,onClose:()=>p(!1),maxWidth:"sm",fullWidth:!0,children:[A.jsxs(Ji,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(OA,{}),"Syllabus File Details"]}),A.jsx(Zi,{children:A.jsxs(Pe,{sx:{mb:2},children:[A.jsx(je,{variant:"body2",color:"text.secondary",children:A.jsx("strong",{children:"Filename:"})}),A.jsx(je,{variant:"body1",sx:{mb:2},children:r.metadata.originalFilename}),A.jsx(je,{variant:"body2",color:"text.secondary",children:A.jsx("strong",{children:"File Type:"})}),A.jsx(je,{variant:"body1",sx:{mb:2},children:k6(r.metadata.fileType)}),A.jsx(je,{variant:"body2",color:"text.secondary",children:A.jsx("strong",{children:"File Size:"})}),A.jsx(je,{variant:"body1",sx:{mb:2},children:w6(r.metadata.fileSize)}),A.jsx(je,{variant:"body2",color:"text.secondary",children:A.jsx("strong",{children:"Uploaded:"})}),A.jsx(je,{variant:"body1",sx:{mb:2},children:new Date(r.metadata.uploadedAt).toLocaleString()}),A.jsx(je,{variant:"body2",color:"text.secondary",children:A.jsx("strong",{children:"Storage Path:"})}),A.jsx(je,{variant:"body2",sx:{fontFamily:"monospace",backgroundColor:"grey.100",p:1,borderRadius:1},children:r.path})]})}),A.jsxs(Xi,{children:[A.jsx(wt,{onClick:()=>p(!1),children:"Close"}),A.jsx(wt,{onClick:b,variant:"contained",startIcon:A.jsx(Ng,{}),children:"Download File"})]})]})]}):null},ore=({selectedCourse:t,onCourseDelete:r})=>{const[n,o]=Y.useState(!1),a=Yn(),{refreshUserDetails:l}=Ti(),d=()=>o(!0),h=()=>o(!1),p=async()=>{if(t)try{const g=Y_(a),b=pn(a,"courses",t);g.delete(b);const y=Qn(a,"users");(await xo(y)).forEach(k=>{const x=pn(a,"users",k.id),C=k.data().classes||{};C&&C[t]&&(delete C[t],g.update(x,{classes:C}))}),await g.commit(),await l(),r(),h()}catch(g){console.error("Error deleting course:",g)}};return A.jsxs(Pe,{sx:{mt:2},children:[A.jsx(wt,{variant:"contained",onClick:d,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#F44336",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#D32F2F",transform:"scale(1.03)"}},children:"Delete Course"}),A.jsxs(Qi,{open:n,onClose:h,children:[A.jsx(Ji,{children:"Confirm Delete"}),A.jsx(Zi,{children:A.jsx(Ds,{children:"Are you sure you want to delete this course? This action cannot be undone."})}),A.jsxs(Xi,{children:[A.jsx(wt,{onClick:h,children:"Cancel"}),A.jsx(wt,{onClick:p,variant:"contained",color:"error",children:"Delete"})]})]})]})},sre=({text:t,tooltipText:r="Click to Copy",successText:n="Copied!"})=>{const[o,a]=Y.useState(!1),l=()=>{navigator.clipboard.writeText(t).then(()=>{a(!0),setTimeout(()=>a(!1),2e3)}).catch(d=>console.error("Could not copy text: ",d))};return A.jsx(xs,{title:o?n:r,enterDelay:300,leaveDelay:200,children:A.jsx(ni,{label:t,variant:"outlined",onClick:l,sx:{borderRadius:"15px",fontSize:"16px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",fontFamily:"Gabarito, sans-serif"}})})},are=()=>{const{userDetails:t}=Ti(),[r,n]=Y.useState(""),[o,a]=Y.useState([]),[l,d]=Y.useState(null),[h,p]=Y.useState(!1),[g,b]=Y.useState(""),[y,v]=Y.useState("success"),k=Yn();Y.useEffect(()=>{(async()=>{if(t!=null&&t.isAdmin){const S=Op(Qn(k,"courses"),Jg("courseAdmin","array-contains",t.uid)),P=(await xo(S)).docs.map(B=>({id:B.id,number:B.data().number,title:B.data().title,passcode:B.data().passcode}));a(P)}})()},[k,t]);const x=D=>{const S=D.target.value;n(S);const N=o.find(P=>P.id===S);N?(d(N.passcode),b(`Passcode for course "${N.number} - ${N.title}" retrieved successfully.`),v("success"),p(!0)):(d(null),b("Course not found."),v("error"),p(!0))},C=()=>{p(!1)};return A.jsxs(Pe,{sx:{mt:4},children:[A.jsx(je,{variant:"subtitle1",component:"h2",sx:{mb:2},children:"Retrieve Course Passcode"}),A.jsx(Pt,{container:!0,spacing:2,sx:{maxWidth:"75%"},children:A.jsxs(Pt,{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[A.jsx(Jt,{select:!0,label:"Select Course Number",value:r,onChange:x,fullWidth:!0,sx:{mb:2,mr:2},children:o.map(D=>A.jsx(Ir,{value:D.id,children:`${D.number} - ${D.title}`},D.id))}),l&&A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",ml:2},children:[A.jsx(je,{variant:"body1",sx:{mr:1},children:"Passcode:"}),A.jsx(sre,{text:`${l}`})]})]})}),A.jsx(os,{open:h,autoHideDuration:6e3,onClose:C,children:A.jsx(pr,{onClose:C,severity:y,sx:{width:"100%"},children:g})})]})},lre=()=>{const{userDetails:t}=Ti(),[r,n]=Y.useState([]),[o,a]=Y.useState(""),[l,d]=Y.useState(!1),[h,p]=Y.useState(!1),[g,b]=Y.useState(!1),y=Yn(),v=Vr(),x=t!=null&&t.classes?Object.entries(t.classes).filter(([B,$])=>$.isCourseAdmin).reduce((B,[$,V])=>({...B,[$]:V}),{}):{};Y.useEffect(()=>{x[o]||a(Object.keys(x)[0]||"")},[x,o]),Y.useEffect(()=>{(async()=>{if(o)try{const $=Op(Qn(y,"users"),Jg("isAdmin","==",!1)),L=(await xo($)).docs.map(q=>({uid:q.id,...q.data()})).filter(q=>q.classes&&q.classes[o]);n(L)}catch($){console.error("Error fetching students:",$)}})()},[o,y]);const C=B=>{a(B)},D=()=>{v("/request-new-course")},S=x[o],N=S?`${S.number} - ${S.title}`:"",P=!!(o&&S);return A.jsxs(Pe,{className:"profile-container",sx:{p:4},children:[A.jsx(Pe,{sx:{display:"flex",alignItems:"center",mb:2},children:A.jsx(wt,{variant:"text",onClick:()=>v("/"),className:"profile-button",children:"â† Home Page"})}),A.jsx(je,{className:"webpage_title",sx:{mb:2},children:"Course Management"}),A.jsxs(Pe,{sx:{mb:4,p:3,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[A.jsx(je,{variant:"h6",sx:{fontFamily:"Staatliches, sans-serif",mb:2,color:"#0B53C0"},children:"Select a Course"}),Object.keys(x).length>0?A.jsx(ere,{userClasses:x,selectedCourse:o,onCourseChange:C}):A.jsx(je,{variant:"body1",sx:{color:"#9E9E9E"},children:"No courses available for selection."})]}),A.jsx(Pe,{children:P&&A.jsxs(A.Fragment,{children:[A.jsx(ire,{courseId:o}),A.jsxs(Pe,{sx:{flex:2,display:"flex",justifyContent:"flex-end",gap:2},children:[A.jsx(tre,{selectedCourse:o,selectedCourseDetails:S,onCourseUpdate:()=>{}}),A.jsx(nre,{selectedCourse:o,onInfoUpdate:()=>{}}),A.jsx(ore,{selectedCourse:o,onCourseDelete:()=>a("")})]})]})}),P&&A.jsxs(Rn,{elevation:3,sx:{p:3,mb:4,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",backgroundColor:"#F9FAFB"},children:[A.jsx(je,{variant:"h6",component:"h2",sx:{fontFamily:"Staatliches, sans-serif",fontWeight:"bold",mb:2,color:"#0B53C0"},children:"Students Enrolled in a Course"}),r.length===0?A.jsxs(je,{sx:{color:"#757575",textAlign:"center",p:3},children:["No students are currently enrolled in ",A.jsx("strong",{children:N}),"."]}):A.jsxs(A.Fragment,{children:[A.jsx(gd,{component:Rn,children:A.jsxs(bd,{children:[A.jsx(kd,{children:A.jsxs(Co,{children:[A.jsx(It,{sx:{fontWeight:"bold"},children:"User ID"}),A.jsx(It,{sx:{fontWeight:"bold"},children:"Last Login"})]})}),A.jsx(wd,{children:r.map(B=>A.jsxs(Co,{children:[A.jsx(It,{children:B.uid}),A.jsx(It,{children:nd(B.lastLogin)})]},B.uid))})]})}),A.jsx(Xne,{students:r,selectedCourse:o})]}),r.length>0&&A.jsxs(Rn,{sx:{mt:4,p:3,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[A.jsx(tu,{control:A.jsx(nu,{checked:g,onChange:()=>b(B=>!B)}),label:"Remove Student(s) from the Course"}),g&&A.jsx(Zne,{selectedCourse:o,selectedCourseDetails:S,onStudentChange:()=>{}})]})]}),A.jsxs(Pe,{sx:{display:"flex",gap:4,mb:4},children:[A.jsxs(Pe,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[A.jsx(tu,{control:A.jsx(nu,{checked:h,onChange:()=>p(B=>!B)}),label:"Retrieve Course Passcode"}),h&&A.jsx(Pe,{sx:{mt:2},children:A.jsx(are,{})})]}),A.jsxs(Pe,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[A.jsx(tu,{control:A.jsx(nu,{checked:l,onChange:()=>d(B=>!B)}),label:"Request Creating a New Course"}),l&&A.jsx(Pe,{sx:{mt:2},children:A.jsx(wt,{variant:"contained",onClick:D,sx:{backgroundColor:"#4CAF50",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",textTransform:"none","&:hover":{backgroundColor:"#388E3C"}},children:"Request New Course"})})]})]})]})};class cre{constructor(r){yt(this,"genAI");yt(this,"model");this.genAI=new aO(r),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.1,topK:1,topP:.8,maxOutputTokens:16384}})}async processSyllabusText(r,n,o){return r.length>3e4?(console.log("Large document detected, using chunked processing"),this.processLargeDocument(r,n,o)):this.processSingleDocument(r,n,o)}async processSingleDocument(r,n,o){const a=this.buildSyllabusAnalysisPrompt(r,n);try{const h=(await(await this.model.generateContent(a)).response).text();if(!h||h.trim().length===0)throw new Error("Empty response from AI service");const p=h.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();let g;try{g=JSON.parse(p)}catch(b){throw console.error("JSON parsing failed:",b),console.error("Raw response text:",h),console.error("Cleaned text:",p),new Error("AI response format invalid - unable to parse JSON")}if(!g||typeof g!="object")throw new Error("AI response is not a valid object");return g.courseInfo||(console.warn("Missing courseInfo in AI response, using defaults"),g.courseInfo={}),this.validateAndSanitizeResponse(g)}catch(l){if(console.error("Gemini API Error:",l),l instanceof Error){if(l.message.includes("AI response")||l.message.includes("JSON parsing"))throw l;if(l.message.includes("API key"))throw new Error("Invalid or missing Gemini API key. Please check your environment configuration.");if(l.message.includes("quota")||l.message.includes("rate limit"))throw new Error("API rate limit exceeded. Please try again later.")}throw new Error(`Failed to process syllabus with AI: ${l instanceof Error?l.message:"Unknown error"}`)}}async processLargeDocument(r,n,o){const l=this.chunkText(r,35e3);console.log(`Processing ${l.length} chunks for large document`);const d=await this.processSingleDocument(l[0],n,o),h=await Promise.allSettled(l.slice(1).map(p=>this.processChunkForDetails(p,n)));return this.mergeChunkedResults(d,h)}chunkText(r,n){const o=[],a=r.split(`
`);let l="";const d=["schedule","session","unit","week","topic","assignment","objective","learning outcome","reading","textbook","prerequisite"];for(let h=0;h<a.length;h++){const p=a[h],g=a[h+1]||"",b=d.some(y=>p.toLowerCase().includes(y)||g.toLowerCase().includes(y));l.length+p.length>n&&l.length>0&&(b||l.length>n*.8)?(o.push(l.trim()),l=p):l+=`
`+p}return l.trim()&&o.push(l.trim()),o}async processChunkForDetails(r,n){const o=`
Extract additional course details from this syllabus section. Focus heavily on:
- ALL schedule items, sessions, units, weeks, and topics
- Session numbers, titles, and descriptions
- Learning outcomes for each session
- Reading assignments and resources
- Assignment details and due dates
- Any additional objectives or policies

IMPORTANT: Extract ALL schedule/session information - do not limit the number of items.
Convert session numbers to week numbers (Session 1 = Week 1, etc.).

Return JSON with only the fields you can extract from this section:
${r}
`;try{const h=(await(await this.model.generateContent(o)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(h)}catch(a){return console.warn("Failed to process chunk:",a),{}}}mergeChunkedResults(r,n){const o={...r};return n.forEach(a=>{if(a.status==="fulfilled"&&a.value){const l=a.value;if(l.learningObjectives&&(o.learningObjectives=[...o.learningObjectives,...l.learningObjectives]),l.schedule){const d=new Set(o.schedule.map(p=>`${p.week}-${p.topic}`)),h=l.schedule.filter(p=>!d.has(`${p.week}-${p.topic}`));o.schedule=[...o.schedule,...h]}l.assignments&&(o.assignments=[...o.assignments,...l.assignments]),l.prerequisites&&(o.prerequisites=[...o.prerequisites,...l.prerequisites]),l.contactInfo&&(o.contactInfo={...o.contactInfo,...l.contactInfo}),l.policies&&(o.policies={...o.policies,...l.policies}),l.additionalResources&&(o.additionalResources={...o.additionalResources,...l.additionalResources})}}),o.learningObjectives=[...new Set(o.learningObjectives)],o.prerequisites=[...new Set(o.prerequisites)],o.schedule=o.schedule.sort((a,l)=>a.week-l.week),o}buildSyllabusAnalysisPrompt(r,n){return`
You are an expert educational content analyzer. Analyze the following course syllabus and extract structured information in JSON format.

IMPORTANT INSTRUCTIONS:
1. Return ONLY valid JSON - no markdown, no explanations, no additional text
2. If information is not available, use null or empty arrays/objects
3. Be thorough but accurate - don't invent information
4. For percentages in grading, ensure they are numbers (not strings)
5. For week numbers, ensure they are integers
6. Extract all learning objectives, even if they're not numbered
7. Look for course schedules in various formats (weekly, by date, by topic, by session/unit)
8. IMPORTANT: Extract ALL schedule items, sessions, units, and topics - do not limit to just a few weeks
9. For session-based schedules, convert sessions to week numbers (e.g., Session 1 = Week 1)
10. LABORATORY COURSES: Pay special attention to safety requirements, lab equipment, dress codes, group work policies, and experiment-based schedules
11. Identify course type: determine if this is a lecture, lab, seminar, or hybrid course based on content

Required JSON structure:
{
  "courseInfo": {
    "title": "string",
    "number": "string (e.g., CS 350, BIOL 301, CHEM 315)",
    "description": "string",
    "instructor": "string or null",
    "department": "string or null",
    "institution": "string or null",
    "credits": "number or null",
    "meetingTimes": "string or null (include lab times if applicable)",
    "semester": "string or null",
    "year": "string or null",
    "courseType": "lecture|lab|seminar|hybrid",
    "location": "string or null (lab room, classroom, etc.)"
  },
  "learningObjectives": [
    "string (each objective as separate item)"
  ],
  "schedule": [
    {
      "week": "number",
      "topic": "string",
      "description": "string or null",
      "readings": ["string"] or null,
      "assignments": ["string"] or null,
      "dueDate": "string or null",
      "notes": "string or null",
      "experimentType": "string or null (for lab courses)",
      "equipmentNeeded": ["string"] or null
    }
  ],
  "prerequisites": [
    "string (each prerequisite course/requirement)"
  ],
  "textbooks": [
    {
      "title": "string",
      "author": "string or null",
      "edition": "string or null",
      "isbn": "string or null",
      "required": "boolean"
    }
  ],
  "gradingPolicy": [
    {
      "component": "string (e.g., Exams, Homework, Projects)",
      "percentage": "number (e.g., 40, not '40%')",
      "description": "string or null"
    }
  ],
  "assignments": [
    {
      "name": "string",
      "description": "string",
      "type": "string (exam|project|homework|quiz|presentation|lab_report|lab_practical)",
      "dueDate": "string or null",
      "points": "number or null",
      "weight": "number or null (for weighted assignments)"
    }
  ],
  "policies": {
    "attendance": "string or null",
    "lateWork": "string or null",
    "academicIntegrity": "string or null",
    "accommodations": "string or null",
    "communication": "string or null",
    "safety": "string or null (lab safety requirements)",
    "groupWork": "string or null (partner/group work policies)",
    "makeupPolicy": "string or null (make-up lab/exam policies)"
  },
  "contactInfo": {
    "email": "string or null",
    "phone": "string or null",
    "office": "string or null",
    "officeHours": "string or null",
    "website": "string or null"
  },
  "additionalResources": {
    "software": ["string"] or null,
    "equipment": ["string"] or null,
    "websites": ["string"] or null,
    "tutoring": "string or null",
    "learningPlatform": "string or null (Moodle, Blackboard, etc.)"
  },
  "labSpecific": {
    "safetyRequirements": ["string"] or null,
    "requiredEquipment": ["string"] or null,
    "dresscode": ["string"] or null,
    "notebookRequirements": "string or null",
    "groupWorkStructure": "string or null",
    "makeupPolicy": "string or null"
  }
}

${n?`File name: ${n}`:""}

Syllabus content to analyze:
${r}
`}validateAndSanitizeResponse(r){var o,a,l,d,h,p,g,b,y,v,k,x,C,D;const n={courseInfo:{title:"Course Title",number:"COURSE 101",description:"Course description not available"},learningObjectives:[],schedule:[],prerequisites:[],textbooks:[],gradingPolicy:[],assignments:[],policies:{},contactInfo:{},additionalResources:{}};try{return{courseInfo:{...n.courseInfo,...r.courseInfo},learningObjectives:Array.isArray(r.learningObjectives)?r.learningObjectives:[],schedule:Array.isArray(r.schedule)?r.schedule.map((N,P)=>({week:typeof N.week=="number"?N.week:P+1,topic:N.topic||`Week ${P+1} Topic`,description:N.description||null,readings:Array.isArray(N.readings)?N.readings:null,assignments:Array.isArray(N.assignments)?N.assignments:null,dueDate:N.dueDate||null,notes:N.notes||null})):[],prerequisites:Array.isArray(r.prerequisites)?r.prerequisites:[],textbooks:Array.isArray(r.textbooks)?r.textbooks.map(N=>({title:N.title||"Unknown Textbook",author:N.author||null,edition:N.edition||null,isbn:N.isbn||null,required:typeof N.required=="boolean"?N.required:!0})):[],gradingPolicy:Array.isArray(r.gradingPolicy)?r.gradingPolicy.map(N=>({component:N.component||"Unknown Component",percentage:typeof N.percentage=="number"?N.percentage:0,description:N.description||null})):[],assignments:Array.isArray(r.assignments)?r.assignments.map(N=>({name:N.name||"Assignment",description:N.description||"",type:N.type||"homework",dueDate:N.dueDate||null,points:typeof N.points=="number"?N.points:null})):[],policies:{attendance:((o=r.policies)==null?void 0:o.attendance)||null,lateWork:((a=r.policies)==null?void 0:a.lateWork)||null,academicIntegrity:((l=r.policies)==null?void 0:l.academicIntegrity)||null,accommodations:((d=r.policies)==null?void 0:d.accommodations)||null,communication:((h=r.policies)==null?void 0:h.communication)||null},contactInfo:{email:((p=r.contactInfo)==null?void 0:p.email)||null,phone:((g=r.contactInfo)==null?void 0:g.phone)||null,office:((b=r.contactInfo)==null?void 0:b.office)||null,officeHours:((y=r.contactInfo)==null?void 0:y.officeHours)||null,website:((v=r.contactInfo)==null?void 0:v.website)||null},additionalResources:{software:Array.isArray((k=r.additionalResources)==null?void 0:k.software)?r.additionalResources.software:null,equipment:Array.isArray((x=r.additionalResources)==null?void 0:x.equipment)?r.additionalResources.equipment:null,websites:Array.isArray((C=r.additionalResources)==null?void 0:C.websites)?r.additionalResources.websites:null,tutoring:((D=r.additionalResources)==null?void 0:D.tutoring)||null}}}catch(S){return console.error("Error validating AI response:",S),n}}async generateCourseMaterials(r,n){const o=`
Based on the following course information, generate detailed course materials in JSON format.

CRITICAL REQUIREMENTS:
1. Return ONLY valid JSON - absolutely NO explanatory text, comments, or additional content
2. Do not add any text before or after the JSON array
3. Do not include comments like "// ..." in the JSON
4. Generate materials for ALL available weeks/sessions from the course information

Create materials for:
1. Course Overview (with detailed description, objectives, and policies)  
2. Weekly/session materials for ALL weeks found in the schedule
3. Assignment descriptions where applicable

Course Information:
${JSON.stringify(r,null,2)}

Generate materials for ${(n==null?void 0:n.includeWeeks)||r.schedule.length} weeks/sessions.

Return ONLY a JSON array of materials with this structure:
[
  {
    "id": "unique-id",
    "title": "Material Title",
    "type": "overview|weekly|assignment|resource",
    "header": {"title": "string", "content": "string"},
    "sections": [
      {
        "id": "section-id",
        "title": "Section Title",
        "content": "HTML formatted content",
        "subsections": [
          {
            "id": "subsection-id",
            "title": "Subsection Title",
            "content": "HTML formatted content"
          }
        ]
      }
    ],
    "footer": {"title": "string", "content": "string"},
    "published": false,
    "scheduledTimestamp": "ISO date string or null"
  }
]
`;try{const d=(await(await this.model.generateContent(o)).response).text();if(!d||d.trim().length===0)return console.warn("Empty response from AI service for material generation"),[];let h=d.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();const p=h.lastIndexOf("]");p!==-1&&(h=h.substring(0,p+1));let g;try{g=JSON.parse(h)}catch(b){return console.error("JSON parsing failed for material generation:",b),console.error("Raw response text:",d),console.error("Cleaned text:",h),console.warn("Falling back to empty materials array"),[]}return Array.isArray(g)?g:(console.warn("AI response is not an array, wrapping in array:",g),g?[g]:[])}catch(a){return console.error("Error generating materials:",a),[]}}}let ok=null;const y6=t=>{const r="AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8";if(!ok&&r&&(ok=new cre(r)),!ok)throw new Error("Gemini service not initialized. Please configure VITE_GEMINI_API_KEY environment variable.");return ok},ch=()=>Math.random().toString(36).substr(2,9),ure=t=>t.length?`<ul>${t.map(n=>`<li>${n}</li>`).join("")}</ul>`:"<p>No objectives specified</p>",dre=t=>t.length?`<ul>${t.map(n=>`<li>${n}</li>`).join("")}</ul>`:"<p>No readings assigned</p>",Kh=tb()(E1(eO((t,r)=>({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null,setUploadedFile:n=>t({uploadedFile:n}),setUploadProgress:n=>t({uploadProgress:n}),setExtractedText:n=>t({extractedText:n}),setStoredSyllabusFile:n=>t({storedSyllabusFile:n}),setAIExtractedInfo:n=>t({aiExtractedInfo:n}),setUseAIProcessing:n=>t({useAIProcessing:n}),setParsedCourseInfo:n=>t({parsedCourseInfo:n}),setGeneratedMaterials:n=>t({generatedMaterials:n}),setCurrentStep:n=>t({currentStep:n}),setIsProcessing:n=>t({isProcessing:n}),setError:n=>t({error:n}),setProcessingProgress:n=>t({processingProgress:n}),uploadSyllabus:async(n,o)=>{const a=dO(n);if(!a.isValid){t({error:a.error,currentStep:"upload"});return}const l=OK(n);t({uploadedFile:n,uploadProgress:0,error:null,extractionMetadata:{fileName:n.name,fileSize:n.size,fileType:hO(n),estimatedProcessingTime:l},processingProgress:{stage:"uploading",percentage:0,currentOperation:"Preparing file for processing..."}});try{for(let d=0;d<=100;d+=20)t({uploadProgress:d,processingProgress:{stage:"uploading",percentage:d,currentOperation:d===100?"Upload complete, starting text extraction...":`Uploading file... ${d}%`}}),await new Promise(h=>setTimeout(h,100));if(t({currentStep:"processing",isProcessing:!0,processingProgress:{stage:"extracting",percentage:0,currentOperation:"Extracting text from document..."}}),await r().extractTextFromFile(),o)try{t({processingProgress:{stage:"uploading",percentage:90,currentOperation:"Storing syllabus file..."}});const d=await rre(n,o);t({storedSyllabusFile:d}),console.log("Syllabus file stored successfully:",d.url)}catch(d){console.warn("Failed to store syllabus file, continuing with processing:",d)}t({processingProgress:{stage:"analyzing",percentage:0,currentOperation:r().useAIProcessing?"Analyzing syllabus with AI...":"Parsing syllabus content..."}}),await r().parseSyllabus()}catch(d){t({error:d instanceof Error?d.message:"Failed to upload file",currentStep:"upload"})}},extractTextFromFile:async()=>{const{uploadedFile:n}=r();if(!n){t({error:"No file uploaded"});return}t({isProcessing:!0,error:null});try{const o=await uO(n);t({extractedText:o.text,extractionMetadata:{...r().extractionMetadata,...o.metadata},isProcessing:!1})}catch(o){t({error:o.message||"Failed to extract text from file",isProcessing:!1})}},parseSyllabus:async()=>{const{extractedText:n,uploadedFile:o,useAIProcessing:a}=r();if(!n){t({error:"No text to parse"});return}t({isProcessing:!0,error:null});try{let l;if(a)try{t({processingProgress:{stage:"analyzing",percentage:25,currentOperation:"Sending syllabus to AI for analysis..."}});const h=await y6().processSyllabusText(n,o==null?void 0:o.name);t({processingProgress:{stage:"analyzing",percentage:75,currentOperation:"Processing AI analysis results..."}}),t({aiExtractedInfo:h}),l={suggestedTitle:h.courseInfo.title||"Course Title",suggestedNumber:h.courseInfo.number||"COURSE 101",suggestedDescription:h.courseInfo.description||"Course description not available",objectives:h.learningObjectives.length>0?h.learningObjectives:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:h.schedule.map(p=>({week:p.week,topic:p.topic,description:p.description,readings:p.readings||[],assignments:p.assignments||[],date:p.dueDate?new Date(p.dueDate):void 0})),prerequisites:h.prerequisites,textbook:h.textbooks.length>0?h.textbooks[0].title:"",grading:h.gradingPolicy.map(p=>`${p.component}: ${p.percentage}%`).join(", "),instructor:h.courseInfo.instructor,department:h.courseInfo.department,institution:h.courseInfo.institution,credits:h.courseInfo.credits,semester:h.courseInfo.semester,year:h.courseInfo.year,contactInfo:h.contactInfo,policies:h.policies,textbooks:h.textbooks,gradingComponents:h.gradingPolicy,assignments:h.assignments}}catch(d){console.warn("AI processing failed, falling back to pattern-based parsing:",d),l=await r().fallbackParsing(n)}else l=await r().fallbackParsing(n);t({parsedCourseInfo:l}),t({processingProgress:{stage:"generating",percentage:0,currentOperation:"Generating course materials..."}}),await r().generateMaterials()}catch(l){t({error:l instanceof Error?l.message:"Failed to parse syllabus",isProcessing:!1})}},fallbackParsing:async n=>{var y,v;const o=n.split(`
`).filter(k=>k.trim()),a=o.find(k=>{const x=k.toLowerCase();return(x.includes("course")||x.includes("class"))&&(x.includes("title")||x.includes("name")||k.includes(":"))}),l=o.find(k=>{const x=k.toLowerCase();return x.includes("description")||x.includes("overview")||x.includes("about this course")}),d=o.find(k=>/[A-Z]{2,4}\s*\d{3,4}/.test(k)||k.toLowerCase().includes("course number")),h=o.findIndex(k=>{const x=k.toLowerCase();return x.includes("objective")||x.includes("learning outcome")||x.includes("goals")||x.includes("by the end of this course")}),p=[];if(h!==-1)for(let k=h+1;k<o.length&&k<h+15;k++){const x=o[k].trim();x&&(x.startsWith("-")||x.startsWith("â€¢")||x.match(/^\d+\./)||x.startsWith("*"))?p.push(x.replace(/^[-â€¢\d.*]\s*/,"")):x&&p.length===0&&p.push(x)}const g=[];for(let k=1;k<=16;k++){const x=new RegExp(`week\\s*${k}|${k}\\s*week`,"i"),C=o.find(D=>x.test(D));if(C){const D=C.replace(/week\s*\d+:?\s*/i,"").trim()||`Week ${k} Topic`;g.push({week:k,topic:D,description:`Content and activities for week ${k}`,readings:[],assignments:[]})}else g.push({week:k,topic:`Week ${k} Topic`,description:`Content for week ${k}`,readings:[],assignments:[]})}let b="COURSE 101";if(d){const k=d.match(/[A-Z]{2,4}\s*\d{3,4}/);k&&(b=k[0])}return{suggestedTitle:a&&((y=a.split(":").slice(-1)[0])==null?void 0:y.trim())||"Course Title",suggestedNumber:b,suggestedDescription:l&&((v=l.split(":").slice(-1)[0])==null?void 0:v.trim())||n.substring(0,300)+"...",objectives:p.length>0?p:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:g.slice(0,15),prerequisites:[],textbook:"",grading:""}},generateMaterials:async()=>{const{parsedCourseInfo:n,aiExtractedInfo:o,useAIProcessing:a}=r();if(!n){t({error:"No parsed course info available"});return}t({isProcessing:!0,error:null});try{let l=[];if(a&&o)try{const h=await y6().generateCourseMaterials(o,{includeWeeks:o.schedule.length,materialTypes:["overview","weekly","assignment"]});h&&h.length>0?l=h.map(p=>({id:p.id||ch(),title:p.title||"Generated Material",header:p.header||{title:"Header",content:`<p>${p.title||"Material"}</p>`},footer:p.footer||{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:p.sections||[],published:p.published||!1,scheduledTimestamp:p.scheduledTimestamp?new Date(p.scheduledTimestamp):void 0})):(console.warn("AI material generation returned empty results, using fallback"),l=r().generateFallbackMaterials(n))}catch(d){console.warn("AI material generation failed, using fallback:",d),l=r().generateFallbackMaterials(n)}else l=r().generateFallbackMaterials(n);t({generatedMaterials:l,isProcessing:!1,currentStep:"review",processingProgress:{stage:"complete",percentage:100,currentOperation:"Processing complete! Review your course materials below."}})}catch(l){t({error:l instanceof Error?l.message:"Failed to generate materials",isProcessing:!1})}},generateFallbackMaterials:n=>{const o=[];return o.push({id:ch(),title:`${n.suggestedNumber} - Course Overview`,header:{title:"Course Overview",content:`<p>${n.suggestedTitle}</p>`},footer:{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:[{id:ch(),title:"Course Description",content:`<p>${n.suggestedDescription}</p>`,subsections:[],images:[],links:[]},{id:ch(),title:"Learning Objectives",content:ure(n.objectives),subsections:[],images:[],links:[]}],published:!1}),n.schedule.slice(0,6).forEach(a=>{o.push({id:ch(),title:`Week ${a.week}: ${a.topic}`,header:{title:`Week ${a.week}`,content:`<p>${a.topic}</p>`},footer:{title:"Footer",content:"<p>Review materials before next class</p>"},sections:[{id:ch(),title:"Overview",content:`<p>${a.description||`Topics and activities for week ${a.week}`}</p>`,subsections:a.readings&&a.readings.length>0?[{id:ch(),title:"Required Readings",content:dre(a.readings),subSubsections:[],images:[],links:[]}]:[],images:[],links:[]}],published:!1,scheduledTimestamp:a.date})}),o},editMaterial:(n,o)=>{const{generatedMaterials:a}=r(),l=[...a];l[n]={...l[n],...o},t({generatedMaterials:l})},editCourseInfo:n=>{const{parsedCourseInfo:o}=r();o&&t({parsedCourseInfo:{...o,...n}})},reset:()=>t({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null})}),{name:"syllabus-store",partialize:t=>({extractedText:t.extractedText,extractionMetadata:t.extractionMetadata,storedSyllabusFile:t.storedSyllabusFile,aiExtractedInfo:t.aiExtractedInfo,useAIProcessing:t.useAIProcessing,parsedCourseInfo:t.parsedCourseInfo,generatedMaterials:t.generatedMaterials,currentStep:t.currentStep})}))),Xm={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"256599ed-a0a2-496f-990d-c51faaefd71a",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},eg={GEMINI_API_KEY:"VITE_GEMINI_API_KEY",ENABLE_AI_PROCESSING:"VITE_ENABLE_AI_PROCESSING",MAX_RETRIES:"VITE_AI_MAX_RETRIES",TIMEOUT:"VITE_AI_TIMEOUT",FALLBACK_TO_PATTERN:"VITE_AI_FALLBACK_TO_PATTERN"},hre=()=>({geminiApiKey:Xm[eg.GEMINI_API_KEY],enableAIProcessing:Xm[eg.ENABLE_AI_PROCESSING]!=="false",maxRetries:parseInt(Xm[eg.MAX_RETRIES]||"3",10),timeout:parseInt(Xm[eg.TIMEOUT]||"30000",10),fallbackToPatternParsing:Xm[eg.FALLBACK_TO_PATTERN]!=="false"}),Fj=t=>{const r=[];return t.enableAIProcessing&&!t.geminiApiKey&&r.push("Gemini API key is required when AI processing is enabled"),(t.maxRetries<0||t.maxRetries>10)&&r.push("Max retries must be between 0 and 10"),(t.timeout<1e3||t.timeout>12e4)&&r.push("Timeout must be between 1 second and 2 minutes"),{isValid:r.length===0,errors:r}},zj=()=>{const t=hre(),r=Fj(t);return{config:t,...r}},v6=({onUploadComplete:t,apiKey:r,educatorUid:n})=>{const{uploadedFile:o,uploadProgress:a,error:l,isProcessing:d,useAIProcessing:h,processingProgress:p,uploadSyllabus:g,setUploadedFile:b,setError:y}=Kh(),[v,k]=Y.useState(!1),x=Y.useMemo(()=>["text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],[]),C=Y.useMemo(()=>[".txt",".pdf",".docx"],[]),D=Y.useCallback(async L=>{const Q=(H=>{if(!x.includes(H.type))return`Unsupported file type. Please upload ${C.join(", ")} files.`;const F=10*1024*1024;return H.size>F?"File size too large. Please upload files smaller than 10MB.":null})(L);if(Q){y(Q);return}try{await g(L,n),t==null||t(L)}catch(H){console.error("Upload error:",H)}},[g,t,y,x,C,r,n]),S=Y.useCallback(L=>{L.preventDefault(),k(!1);const q=Array.from(L.dataTransfer.files);q.length>0&&D(q[0])},[D]),N=Y.useCallback(L=>{L.preventDefault(),k(!0)},[]),P=Y.useCallback(L=>{L.preventDefault(),k(!1)},[]),B=Y.useCallback(L=>{const q=L.target.files;q&&q.length>0&&D(q[0]),L.target.value=""},[D]),$=Y.useCallback(()=>{b(null),y(null)},[b,y]),V=L=>{if(L===0)return"0 Bytes";const q=1024,Q=["Bytes","KB","MB","GB"],H=Math.floor(Math.log(L)/Math.log(q));return parseFloat((L/Math.pow(q,H)).toFixed(2))+" "+Q[H]},M=()=>A.jsx(RW,{color:"primary"});return A.jsxs(Pe,{sx:{width:"100%",maxWidth:600,mx:"auto"},children:[!o&&A.jsxs(Rn,{sx:{p:4,border:"2px dashed",borderColor:v?"primary.main":"grey.300",backgroundColor:v?"primary.50":"background.paper",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center","&:hover":{borderColor:"primary.main",backgroundColor:"primary.50"}},onDragOver:N,onDragLeave:P,onDrop:S,onClick:()=>{var L;return(L=document.getElementById("syllabus-file-input"))==null?void 0:L.click()},children:[A.jsx(LW,{sx:{fontSize:48,color:v?"primary.main":"grey.400",mb:2}}),A.jsx(je,{variant:"h6",gutterBottom:!0,children:"Upload Your Syllabus"}),A.jsx(je,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Drag and drop your syllabus file here, or click to browse"}),A.jsx(Pe,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center"},children:C.map(L=>A.jsx(ni,{label:L.toUpperCase(),size:"small",variant:"outlined",color:"primary"},L))}),A.jsx(je,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Maximum file size: 10MB"}),A.jsx("input",{id:"syllabus-file-input",type:"file",accept:x.join(","),onChange:B,style:{display:"none"}})]}),o&&A.jsxs(Rn,{sx:{p:3,mb:2},children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:2},children:[M(),A.jsxs(Pe,{sx:{flexGrow:1},children:[A.jsx(je,{variant:"subtitle1",sx:{fontWeight:500},children:o.name}),A.jsx(je,{variant:"body2",color:"text.secondary",children:V(o.size)})]}),!d&&A.jsx(Ln,{onClick:$,color:"error",size:"small",children:A.jsx(Ks,{})})]}),a>0&&a<100&&A.jsxs(Pe,{sx:{mt:2},children:[A.jsx(bg,{variant:"determinate",value:a,sx:{height:6,borderRadius:3}}),A.jsxs(je,{variant:"caption",sx:{mt:1,display:"block"},children:["Uploading... ",a,"%"]})]}),d&&A.jsx(Pe,{sx:{mt:2},children:p?A.jsxs(A.Fragment,{children:[A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[A.jsx(ni,{label:p.stage.charAt(0).toUpperCase()+p.stage.slice(1),size:"small",color:"primary",variant:"outlined"}),A.jsxs(je,{variant:"caption",color:"text.secondary",children:[p.percentage,"%"]})]}),A.jsx(bg,{variant:"determinate",value:p.percentage,sx:{height:6,borderRadius:3,mb:1}}),A.jsx(je,{variant:"caption",sx:{display:"block",color:"text.secondary"},children:p.currentOperation})]}):A.jsxs(A.Fragment,{children:[A.jsx(bg,{sx:{height:6,borderRadius:3}}),A.jsx(je,{variant:"caption",sx:{mt:1,display:"block"},children:h?"AI is analyzing your syllabus...":"Processing syllabus..."})]})})]}),l&&A.jsx(pr,{severity:"error",sx:{mt:2},onClose:()=>y(null),children:l}),A.jsxs(Rn,{sx:{p:2,mt:2,backgroundColor:"info.50"},children:[A.jsx(je,{variant:"body2",color:"info.main",sx:{fontWeight:500,mb:1},children:"ðŸ’¡ Tips for best results:"}),A.jsxs(je,{variant:"body2",color:"text.secondary",component:"ul",sx:{m:0,pl:2},children:[A.jsx("li",{children:"Include course objectives and weekly schedule"}),A.jsx("li",{children:"List reading assignments and materials"}),A.jsx("li",{children:"Text files (.txt) work best for parsing"}),A.jsx("li",{children:"Ensure text is well-structured with clear headings"})]})]})]})},fre=({onContinue:t})=>{var N;const{parsedCourseInfo:r,editCourseInfo:n,error:o,isProcessing:a,currentStep:l}=Kh(),[d,h]=Y.useState(!1),[p,g]=Y.useState(null);if(!r)return A.jsx(pr,{severity:"warning",children:"No course information available. Please upload and process a syllabus first."});if(a||l==="processing")return A.jsx(pr,{severity:"info",children:A.jsx(je,{variant:"body2",children:"ðŸ“Š Processing complete! Preparing course information for review..."})});const b=()=>{g({...r}),h(!0)},y=()=>{p&&(n(p),h(!1),g(null))},v=()=>{h(!1),g(null)},k=()=>{p&&g({...p,objectives:[...p.objectives,"New objective"]})},x=P=>{if(p){const B=p.objectives.filter(($,V)=>V!==P);g({...p,objectives:B})}},C=(P,B)=>{if(p){const $=[...p.objectives];$[P]=B,g({...p,objectives:$})}},D=(P,B,$)=>{if(p){const V=[...p.schedule];V[P]={...V[P],[B]:$},g({...p,schedule:V})}},S=d?p:r;return S?A.jsx(Pe,{sx:{maxWidth:800,mx:"auto"},children:A.jsxs(Rn,{sx:{p:3},children:[A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[A.jsx(je,{variant:"h5",component:"h2",children:"Course Information Preview"}),d?A.jsxs(Pe,{sx:{display:"flex",gap:1},children:[A.jsx(wt,{startIcon:A.jsx(mk,{}),onClick:y,variant:"contained",color:"primary",children:"Save"}),A.jsx(wt,{startIcon:A.jsx(BW,{}),onClick:v,variant:"outlined",children:"Cancel"})]}):A.jsx(wt,{startIcon:A.jsx(pl,{}),onClick:b,variant:"outlined",children:"Edit Details"})]}),o&&A.jsx(pr,{severity:"error",sx:{mb:3},children:o}),A.jsxs(Pt,{container:!0,spacing:3,children:[A.jsx(Pt,{item:!0,xs:12,md:6,children:A.jsx(Jt,{fullWidth:!0,label:"Course Number",value:S.suggestedNumber,onChange:P=>d&&p&&g({...p,suggestedNumber:P.target.value}),disabled:!d,variant:d?"outlined":"filled"})}),A.jsx(Pt,{item:!0,xs:12,md:6,children:A.jsx(Jt,{fullWidth:!0,label:"Course Title",value:S.suggestedTitle,onChange:P=>d&&p&&g({...p,suggestedTitle:P.target.value}),disabled:!d,variant:d?"outlined":"filled"})}),A.jsx(Pt,{item:!0,xs:12,children:A.jsx(Jt,{fullWidth:!0,multiline:!0,rows:4,label:"Course Description",value:S.suggestedDescription,onChange:P=>d&&p&&g({...p,suggestedDescription:P.target.value}),disabled:!d,variant:d?"outlined":"filled"})})]}),A.jsx(na,{sx:{my:3}}),A.jsxs(Pe,{sx:{mb:3},children:[A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[A.jsxs(je,{variant:"h6",children:["Learning Objectives (",S.objectives.length,")"]}),d&&A.jsx(Ln,{onClick:k,color:"primary",children:A.jsx(mh,{})})]}),A.jsx(Pe,{sx:{display:"flex",flexDirection:"column",gap:2},children:S.objectives.map((P,B)=>A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsxs(je,{variant:"body2",sx:{minWidth:24,color:"text.secondary"},children:[B+1,"."]}),d?A.jsxs(A.Fragment,{children:[A.jsx(Jt,{fullWidth:!0,multiline:!0,value:P,onChange:$=>C(B,$.target.value),size:"small"}),A.jsx(Ln,{onClick:()=>x(B),color:"error",size:"small",children:A.jsx(Ks,{})})]}):A.jsx(je,{variant:"body2",children:P})]},B))})]}),A.jsx(na,{sx:{my:3}}),A.jsxs(tc,{children:[A.jsx(nc,{expandIcon:A.jsx(ys,{}),children:A.jsxs(je,{variant:"h6",children:["Course Schedule (",S.schedule.length," weeks)"]})}),A.jsx(rc,{children:A.jsx(Pe,{sx:{display:"flex",flexDirection:"column",gap:2},children:S.schedule.map((P,B)=>A.jsx(Rn,{sx:{p:2,backgroundColor:"grey.50"},children:A.jsxs(Pt,{container:!0,spacing:2,alignItems:"center",children:[A.jsx(Pt,{item:!0,xs:12,sm:1,children:A.jsx(ni,{label:`W${P.week}`,size:"small",color:"primary"})}),A.jsx(Pt,{item:!0,xs:12,sm:5,children:d?A.jsx(Jt,{fullWidth:!0,size:"small",label:"Topic",value:P.topic,onChange:$=>D(B,"topic",$.target.value)}):A.jsx(je,{variant:"body2",sx:{fontWeight:500},children:P.topic})}),A.jsx(Pt,{item:!0,xs:12,sm:6,children:d?A.jsx(Jt,{fullWidth:!0,size:"small",label:"Description",value:P.description||"",onChange:$=>D(B,"description",$.target.value)}):A.jsx(je,{variant:"body2",color:"text.secondary",children:P.description||"No description"})})]})},B))})})]}),(((N=S.prerequisites)==null?void 0:N.length)||S.textbook||S.grading)&&A.jsxs(A.Fragment,{children:[A.jsx(na,{sx:{my:3}}),A.jsx(je,{variant:"h6",sx:{mb:2},children:"Additional Information"}),A.jsxs(Pt,{container:!0,spacing:2,children:[S.prerequisites&&S.prerequisites.length>0&&A.jsxs(Pt,{item:!0,xs:12,md:4,children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1},children:"Prerequisites:"}),A.jsx(je,{variant:"body2",color:"text.secondary",children:S.prerequisites.join(", ")})]}),S.textbook&&A.jsxs(Pt,{item:!0,xs:12,md:4,children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1},children:"Textbook:"}),A.jsx(je,{variant:"body2",color:"text.secondary",children:S.textbook})]}),S.grading&&A.jsxs(Pt,{item:!0,xs:12,md:4,children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1},children:"Grading:"}),A.jsx(je,{variant:"body2",color:"text.secondary",children:S.grading})]})]})]}),t&&A.jsx(Pe,{sx:{mt:4,textAlign:"right"},children:A.jsx(wt,{variant:"contained",color:"primary",size:"large",onClick:t,disabled:d,children:"Continue to Materials Preview"})})]})}):null},pre=({onContinue:t,onBack:r})=>{const{generatedMaterials:n,editMaterial:o,error:a}=Kh(),[l,d]=Y.useState(null),[h,p]=Y.useState(null);if(!n.length)return A.jsx(pr,{severity:"warning",children:"No materials generated. Please go back and process a syllabus first."});const g=S=>{d({index:S,material:{...n[S]}})},b=()=>{l&&(o(l.index,l.material),d(null))},y=()=>{d(null)},v=S=>{p(S)},k=S=>{const N=n[S];o(S,{published:!N.published})},x=(S,N=150)=>{const P=S.replace(/<[^>]*>/g,"");return P.length>N?P.substring(0,N)+"...":P},C=S=>S.toLowerCase().includes("overview")?A.jsx(mI,{color:"primary"}):S.toLowerCase().includes("week")?A.jsx(zW,{color:"secondary"}):A.jsx(mI,{color:"action"}),D=n.filter(S=>S.published).length;return A.jsxs(Pe,{sx:{maxWidth:1e3,mx:"auto"},children:[A.jsxs(Rn,{sx:{p:3,mb:3},children:[A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[A.jsx(je,{variant:"h5",component:"h2",children:"Generated Course Materials"}),A.jsx(ni,{label:`${D}/${n.length} will be published`,color:"primary",variant:"outlined"})]}),A.jsx(je,{variant:"body2",color:"text.secondary",children:"Review and customize the course materials generated from your syllabus. You can edit content, toggle publication status, and organize materials before creating your course."}),a&&A.jsx(pr,{severity:"error",sx:{mt:2},children:a})]}),A.jsx(Pt,{container:!0,spacing:3,children:n.map((S,N)=>A.jsx(Pt,{item:!0,xs:12,md:6,lg:4,children:A.jsxs(Fk,{sx:{height:"100%",display:"flex",flexDirection:"column",border:S.published?"2px solid":"1px solid",borderColor:S.published?"success.main":"divider"},children:[A.jsxs(yP,{sx:{flexGrow:1},children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[C(S.title),A.jsxs(Pe,{sx:{flexGrow:1},children:[A.jsx(je,{variant:"h6",component:"h3",sx:{fontSize:"1rem",lineHeight:1.3,mb:1},children:S.title}),A.jsxs(Pe,{sx:{display:"flex",gap:1,alignItems:"center"},children:[A.jsx(tu,{control:A.jsx(nu,{checked:S.published,onChange:()=>k(N),size:"small"}),label:A.jsx(je,{variant:"caption",children:S.published?"Publish":"Draft"}),sx:{mr:0}}),S.scheduledTimestamp&&A.jsx(ni,{label:"Scheduled",size:"small",variant:"outlined",color:"info"})]})]})]}),A.jsxs(je,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[A.jsx("strong",{children:"Sections:"})," ",S.sections.length]}),S.sections[0]&&A.jsxs(Pe,{sx:{mb:2},children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1},children:S.sections[0].title}),A.jsx(je,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem",fontStyle:"italic"},children:x(S.sections[0].content)})]})]}),A.jsxs(FW,{children:[A.jsx(wt,{size:"small",startIcon:A.jsx($_,{}),onClick:()=>v(S),children:"Preview"}),A.jsx(wt,{size:"small",startIcon:A.jsx(pl,{}),onClick:()=>g(N),children:"Edit"})]})]})},S.id))}),A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[r&&A.jsx(wt,{variant:"outlined",onClick:r,size:"large",children:"Back to Course Info"}),t&&A.jsxs(wt,{variant:"contained",color:"primary",onClick:t,size:"large",disabled:D===0,children:["Create Course with ",D," Materials"]})]}),A.jsxs(Qi,{open:l!==null,onClose:y,maxWidth:"md",fullWidth:!0,children:[A.jsxs(Ji,{children:["Edit Material: ",l==null?void 0:l.material.title]}),A.jsx(Zi,{children:l&&A.jsxs(Pe,{sx:{pt:1},children:[A.jsx(Jt,{fullWidth:!0,label:"Material Title",value:l.material.title,onChange:S=>d({...l,material:{...l.material,title:S.target.value}}),sx:{mb:3}}),A.jsx(je,{variant:"h6",sx:{mb:2},children:"Header"}),A.jsx(Jt,{fullWidth:!0,label:"Header Title",value:l.material.header.title,onChange:S=>d({...l,material:{...l.material,header:{...l.material.header,title:S.target.value}}}),sx:{mb:2}}),A.jsx(Jt,{fullWidth:!0,multiline:!0,rows:2,label:"Header Content",value:l.material.header.content,onChange:S=>d({...l,material:{...l.material,header:{...l.material.header,content:S.target.value}}}),sx:{mb:3}}),A.jsx(je,{variant:"h6",sx:{mb:2},children:"Sections"}),l.material.sections.map((S,N)=>A.jsxs(tc,{sx:{mb:2},children:[A.jsx(nc,{expandIcon:A.jsx(ys,{}),children:A.jsx(je,{children:S.title})}),A.jsxs(rc,{children:[A.jsx(Jt,{fullWidth:!0,label:"Section Title",value:S.title,onChange:P=>{const B=[...l.material.sections];B[N]={...B[N],title:P.target.value},d({...l,material:{...l.material,sections:B}})},sx:{mb:2}}),A.jsx(Jt,{fullWidth:!0,multiline:!0,rows:4,label:"Section Content",value:S.content,onChange:P=>{const B=[...l.material.sections];B[N]={...B[N],content:P.target.value},d({...l,material:{...l.material,sections:B}})}})]})]},S.id))]})}),A.jsxs(Xi,{children:[A.jsx(wt,{onClick:y,children:"Cancel"}),A.jsx(wt,{onClick:b,variant:"contained",children:"Save Changes"})]})]}),A.jsxs(Qi,{open:h!==null,onClose:()=>p(null),maxWidth:"md",fullWidth:!0,children:[A.jsx(Ji,{children:h==null?void 0:h.title}),A.jsx(Zi,{children:h&&A.jsxs(Pe,{sx:{pt:1},children:[A.jsxs(Rn,{sx:{p:2,mb:3,backgroundColor:"primary.50"},children:[A.jsx(je,{variant:"h6",color:"primary",children:h.header.title}),A.jsx(je,{variant:"body2",sx:{mt:1},children:h.header.content.replace(/<[^>]*>/g,"")})]}),h.sections.map(S=>A.jsxs(Pe,{sx:{mb:3},children:[A.jsx(je,{variant:"h6",sx:{mb:2},children:S.title}),A.jsx(je,{variant:"body1",sx:{mb:2},children:S.content.replace(/<[^>]*>/g,"")}),S.subsections.map(N=>A.jsxs(Pe,{sx:{ml:2,mb:2},children:[A.jsx(je,{variant:"subtitle1",sx:{mb:1},children:N.title}),A.jsx(je,{variant:"body2",color:"text.secondary",children:N.content.replace(/<[^>]*>/g,"")})]},N.id))]},S.id)),A.jsx(Rn,{sx:{p:2,backgroundColor:"grey.50"},children:A.jsx(je,{variant:"body2",color:"text.secondary",children:h.footer.content.replace(/<[^>]*>/g,"")})})]})}),A.jsx(Xi,{children:A.jsx(wt,{onClick:()=>p(null),children:"Close"})})]})]})},mre=({onConfigChange:t,compact:r=!1})=>{const{useAIProcessing:n,setUseAIProcessing:o}=Kh(),[a,l]=Y.useState(null);Y.useEffect(()=>{const{config:b,isValid:y,errors:v}=zj();l({config:b,isValid:y,errors:v})},[]);const d=b=>{if(o(b),a){const y={...a.config,enableAIProcessing:b},v=Fj(y);l({config:y,...v}),t==null||t(y)}},h=()=>a?a.isValid&&n?A.jsx(H_,{color:"success"}):!a.isValid&&n?A.jsx(qW,{color:"error"}):A.jsx(gI,{color:"action"}):A.jsx(gI,{color:"action"}),p=()=>n?a?a.isValid?"AI processing ready - enhanced syllabus analysis enabled":`Configuration issues: ${a.errors.join(", ")}`:"Loading configuration...":"AI processing disabled - using pattern-based parsing",g=()=>n?a?a.isValid?"success":"error":"info":"warning";return r?A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:2},children:[h(),A.jsx(tu,{control:A.jsx(nu,{checked:n,onChange:b=>d(b.target.checked),size:"small"}),label:"AI Processing"}),A.jsx(xs,{title:p(),children:A.jsx(UW,{fontSize:"small",color:"action"})})]}):A.jsx(Rn,{sx:{p:2,mb:2},children:A.jsxs(tc,{children:[A.jsx(nc,{expandIcon:A.jsx(ys,{}),children:A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[h(),A.jsxs(Pe,{sx:{flexGrow:1},children:[A.jsx(je,{variant:"subtitle1",sx:{fontWeight:500},children:"AI-Powered Processing Settings"}),A.jsx(je,{variant:"caption",color:"text.secondary",children:p()})]}),A.jsx(ni,{label:n?"Enabled":"Disabled",color:n?"success":"default",size:"small"})]})}),A.jsx(rc,{children:A.jsxs(Pt,{container:!0,spacing:3,children:[A.jsx(Pt,{item:!0,xs:12,children:A.jsx(tu,{control:A.jsx(nu,{checked:n,onChange:b=>d(b.target.checked)}),label:A.jsxs(Pe,{children:[A.jsx(je,{variant:"body2",sx:{fontWeight:500},children:"Enable AI-Powered Analysis"}),A.jsx(je,{variant:"caption",color:"text.secondary",children:"Use Google Gemini to extract structured information from syllabi"})]})})}),n&&A.jsx(Pt,{item:!0,xs:12,children:A.jsxs(Rn,{sx:{p:2,backgroundColor:a!=null&&a.isValid?"success.50":"error.50",border:"1px solid",borderColor:a!=null&&a.isValid?"success.200":"error.200"},children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1,color:a!=null&&a.isValid?"success.main":"error.main"},children:a!=null&&a.isValid?"âœ… API Configuration":"âŒ API Configuration"}),A.jsx(je,{variant:"body2",color:"text.secondary",children:a!=null&&a.isValid?"Gemini API key is configured and ready for use.":"Gemini API key is required. Please add VITE_GEMINI_API_KEY to your environment variables."})]})}),A.jsx(Pt,{item:!0,xs:12,children:A.jsxs(pr,{severity:g(),sx:{mb:2},children:[A.jsx(je,{variant:"body2",children:p()}),(a==null?void 0:a.errors)&&a.errors.length>0&&A.jsx(Pe,{sx:{mt:1},children:a.errors.map((b,y)=>A.jsxs(je,{variant:"caption",display:"block",children:["â€¢ ",b]},y))})]})}),n&&(a==null?void 0:a.isValid)&&A.jsx(Pt,{item:!0,xs:12,children:A.jsxs(Rn,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200"},children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1,color:"primary.main"},children:"ðŸš€ Enhanced Features with AI:"}),A.jsxs(Pt,{container:!0,spacing:1,children:[A.jsxs(Pt,{item:!0,xs:12,sm:6,children:[A.jsx(je,{variant:"caption",display:"block",children:"âœ“ Intelligent course information extraction"}),A.jsx(je,{variant:"caption",display:"block",children:"âœ“ Automatic learning objectives identification"}),A.jsx(je,{variant:"caption",display:"block",children:"âœ“ Smart schedule parsing and organization"})]}),A.jsxs(Pt,{item:!0,xs:12,sm:6,children:[A.jsx(je,{variant:"caption",display:"block",children:"âœ“ Grading policy analysis"}),A.jsx(je,{variant:"caption",display:"block",children:"âœ“ Assignment and due date extraction"}),A.jsx(je,{variant:"caption",display:"block",children:"âœ“ Enhanced material generation"})]})]})]})}),!n&&A.jsx(Pt,{item:!0,xs:12,children:A.jsxs(Rn,{sx:{p:2,backgroundColor:"warning.50",border:"1px solid",borderColor:"warning.200"},children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1,color:"warning.main"},children:"ðŸ“ Pattern-Based Processing:"}),A.jsx(je,{variant:"caption",color:"text.secondary",children:"Using traditional text parsing methods. Results may be less accurate than AI processing. Enable AI processing for better extraction accuracy."})]})})]})})]})})},Uj=({onComplete:t,onCancel:r,educatorUid:n})=>{const{currentStep:o,setCurrentStep:a,parsedCourseInfo:l,generatedMaterials:d,isProcessing:h,error:p,useAIProcessing:g,processingProgress:b,reset:y}=Kh(),[v,k]=Y.useState(null);at.useEffect(()=>{const{config:V}=zj();k(V)},[]);const x=[{label:"Upload Syllabus",description:"Upload your syllabus document"},{label:"Review Course Info",description:"Verify and edit course information"},{label:"Review Materials",description:"Customize generated course materials"}],C=()=>{switch(o){case"upload":case"processing":return 0;case"review":return 1;case"editing":return 2;case"complete":return 2;default:return 0}},D=()=>{a("editing")},S=()=>{a("review")},N=()=>{if(l&&d.length>0){const V=d.filter(M=>M.published);t==null||t({courseInfo:l,materials:V})}},P=()=>{y(),r==null||r()},B=V=>{k(V)},$=()=>{switch(o){case"upload":case"processing":return A.jsx(v6,{onUploadComplete:()=>{},educatorUid:n});case"review":return A.jsx(fre,{onContinue:D});case"editing":case"complete":return A.jsx(pre,{onContinue:N,onBack:S});default:return A.jsx(v6,{onUploadComplete:()=>{},educatorUid:n})}};return A.jsxs(Pe,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:3},children:[A.jsxs(Rn,{sx:{p:3,mb:4},children:[A.jsx(je,{variant:"h4",component:"h1",gutterBottom:!0,children:"Import Course from Syllabus"}),A.jsx(je,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Upload your syllabus document and we'll automatically create a course structure with organized materials based on your content."}),A.jsx(VW,{activeStep:C(),alternativeLabel:!0,children:x.map(V=>A.jsx($W,{children:A.jsxs(HW,{children:[A.jsx(je,{variant:"body2",sx:{fontWeight:500},children:V.label}),A.jsx(je,{variant:"caption",color:"text.secondary",children:V.description})]})},V.label))})]}),o==="upload"&&A.jsx(mre,{onConfigChange:B,compact:!1}),p&&A.jsx(pr,{severity:"error",sx:{mb:3},onClose:()=>{},children:p}),h&&A.jsx(pr,{severity:"info",sx:{mb:3},children:A.jsx(je,{variant:"body2",children:g?"ðŸ¤– AI is analyzing your syllabus for enhanced data extraction... This usually takes 10-30 seconds.":"ðŸ”„ Processing your syllabus with pattern-based analysis... This usually takes a moment."})}),A.jsx(Pe,{sx:{minHeight:400},children:$()}),o!=="upload"&&r&&A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",mt:3},children:A.jsx(wt,{variant:"outlined",color:"secondary",onClick:P,size:"small",children:"Cancel & Return to Manual Entry"})}),!1]})},s1=t=>{if(t==null)return null;if(t instanceof Date)return t;if(Array.isArray(t))return t.map(s1).filter(r=>r!=null);if(typeof t=="object"){const r={};return Object.keys(t).forEach(n=>{const o=t[n];if(o!==void 0){const a=s1(o);a!=null&&(r[n]=a)}}),r}return t},gre=()=>{const{userDetails:t}=Ti(),r=Vr(),n=Yn(),[o,a]=Y.useState(""),[l,d]=Y.useState(""),[h,p]=Y.useState(""),[g,b]=Y.useState(""),[y,v]=Y.useState(""),[k,x]=Y.useState(""),[C,D]=Y.useState(""),[S,N]=Y.useState("primary"),[P,B]=Y.useState("manual"),{parsedCourseInfo:$,generatedMaterials:V,reset:M,currentStep:L}=Kh(),[q,Q]=Y.useState(!1),[H,F]=Y.useState(!1),[G,R]=Y.useState("");Y.useEffect(()=>{(P==="manual"||S==="co-instructor")&&M()},[P,S,M]),Y.useEffect(()=>{S==="primary"&&P==="syllabus"&&$&&(v($.suggestedNumber||""),x($.suggestedTitle||""),D($.suggestedDescription||""))},[S,P,$]);const ne=fe=>le=>{fe(le.target.value)},ue=fe=>{const le=fe.target.value;N(le),le==="co-instructor"&&(B("manual"),v(""),x(""),D(""))},ie=(fe,le)=>{le!==null&&(B(le),le==="syllabus"&&(v(""),x(""),D("")))},se=()=>{if(!o||!l||!h||!g||!y||!k)return"Please fill in all required fields.";if(S==="primary"){if(P==="manual"&&!C)return"Please provide a course description.";if(P==="syllabus"){if(!$)return"Please complete the syllabus import process first.";if(!C)return"Please ensure course description is properly filled from your syllabus."}}return null},ye=fe=>{console.log("Syllabus import completed for educator request:",fe)},re=async()=>{const fe=se();if(fe){R(fe),F(!0);return}Q(!0);try{const le={uid:(t==null?void 0:t.uid)||"",firstName:o||"",lastName:l||"",institution:h||"",email:g||"",courseNumber:y||"",courseTitle:k||"",courseDescription:S==="primary"?C||"":"CO-INSTRUCTOR REQUEST",requestType:S||"primary",status:"pending",timestamp:new Date,syllabusImported:!1};if(S==="primary"&&P==="syllabus"&&$&&V.length>0){const Qe={parsedCourseInfo:$,generatedMaterials:V.filter(Je=>Je.published)},Ge=s1(Qe);le.syllabusImported=!0,le.syllabusData=Ge}const Ie=s1(le);console.log("Submitting clean educator request document:",Ie);const xe=await la(Qn(n,"educatorRequests"),Ie),Ne={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Educator Request Submitted${S==="primary"&&P==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new educator request has been submitted:</p>
            <p><strong>Name:</strong> ${o} ${l}</p>
            <p><strong>Email:</strong> ${g}</p>
            <p><strong>Institution:</strong> ${h}</p>
            <p><strong>Course:</strong> ${y} - ${k}</p>
            <p><strong>Request Type:</strong> ${S}</p>
            ${S==="primary"?`<p><strong>Course Creation Method:</strong> ${P==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>`:""}
            ${S==="primary"&&P==="syllabus"&&V.length>0?`<p><strong>Generated Materials:</strong> ${V.filter(Qe=>Qe.published).length} materials ready for publication</p>`:""}
            <p><strong>Description:</strong> ${C}</p>
            <p><strong>Request ID:</strong> ${xe.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/educator-requests">
            Click here to review the request.
            </a></p>
          `}};await la(Qn(n,"mail"),Ne),R(S==="primary"&&P==="syllabus"&&V.length>0?`Your educator request has been submitted for review with ${V.filter(Qe=>Qe.published).length} auto-generated course materials.`:"Your request has been submitted for review."),a(""),d(""),p(""),b(""),v(""),x(""),D(""),N("primary"),B("manual"),P==="syllabus"&&M(),F(!0),setTimeout(()=>{r("/my-profile")},3e3)}catch(le){console.error("Error submitting request: ",le),le instanceof Error&&console.error("Error details:",{message:le.message,name:le.name,stack:le.stack}),R("Error submitting your request. Please try again."),F(!0)}finally{Q(!1)}},_e=()=>{F(!1)},Z=()=>{r("/my-profile")},J=S==="primary"&&P==="syllabus"&&L!=="upload"&&!$,ae=S==="primary"&&P==="syllabus"&&(L==="review"||L==="editing"||L==="complete")&&$;return A.jsxs(Pe,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[A.jsx(Pe,{sx:{display:"flex",alignItems:"center",mb:3},children:A.jsx(wt,{variant:"text",onClick:Z,className:"back-home-button",children:"â† My Account"})}),A.jsxs(Pe,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[A.jsx(je,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Educator Permissions"}),A.jsxs(Pt,{item:!0,xs:12,sx:{mb:3},children:[A.jsx(ul,{htmlFor:"request-type",required:!0,children:"Request Type"}),A.jsxs(bc,{id:"request-type",name:"request-type",value:S,onChange:ue,fullWidth:!0,required:!0,disabled:q,sx:{mt:1},children:[A.jsx(Ir,{value:"primary",children:"I am a primary course instructor, I want to create a new course"}),A.jsx(Ir,{value:"co-instructor",children:"I am a co-instructor, I want to be added to an existing course"})]})]}),A.jsx(je,{variant:"h6",component:"h2",sx:{mb:2},children:"Personal Information"}),A.jsxs(Pt,{container:!0,spacing:3,children:[A.jsxs(Pt,{item:!0,xs:12,md:6,children:[A.jsx(ul,{htmlFor:"first-name",required:!0,children:"First Name"}),A.jsx(Jl,{id:"first-name",name:"first-name",value:o,onChange:ne(a),placeholder:"John",fullWidth:!0,required:!0,disabled:q})]}),A.jsxs(Pt,{item:!0,xs:12,md:6,children:[A.jsx(ul,{htmlFor:"last-name",required:!0,children:"Last Name"}),A.jsx(Jl,{id:"last-name",name:"last-name",value:l,onChange:ne(d),placeholder:"Doe",fullWidth:!0,required:!0,disabled:q})]}),A.jsxs(Pt,{item:!0,xs:12,children:[A.jsx(ul,{htmlFor:"institution",required:!0,children:"Institution Affiliation"}),A.jsx(Jl,{id:"institution",name:"institution",value:h,onChange:ne(p),placeholder:"University Name",fullWidth:!0,required:!0,disabled:q})]}),A.jsxs(Pt,{item:!0,xs:12,children:[A.jsx(ul,{htmlFor:"email",required:!0,children:"Institutional Email"}),A.jsx(Jl,{id:"email",name:"email",value:g,onChange:ne(b),placeholder:"name@institution.edu",fullWidth:!0,required:!0,disabled:q}),A.jsx(je,{variant:"caption",sx:{mt:1},children:"Please use your institutional email to confirm your affiliation."})]})]}),A.jsx(na,{sx:{my:4}}),A.jsx(je,{variant:"h6",component:"h2",sx:{mb:2},children:S==="primary"?"New Course Details":"Existing Course Details"}),S==="primary"&&A.jsxs(Rn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[A.jsx(je,{variant:"subtitle1",sx:{mb:2},children:"How would you like to create your course?"}),A.jsxs(V_,{value:P,exclusive:!0,onChange:ie,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[A.jsxs(_p,{value:"manual","aria-label":"manual entry",children:[A.jsx(pl,{sx:{mr:1}}),"Manual Entry"]}),A.jsxs(_p,{value:"syllabus","aria-label":"syllabus import",children:[A.jsx(EP,{sx:{mr:1}}),"Import from Syllabus"]})]}),A.jsx(je,{variant:"body2",color:"text.secondary",children:P==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),S==="primary"&&P==="syllabus"&&A.jsx(Pe,{sx:{mb:4},children:A.jsx(Uj,{onComplete:ye,onCancel:()=>B("manual")})}),(S==="co-instructor"||S==="primary"&&P==="manual")&&A.jsxs(Pt,{container:!0,spacing:3,sx:{mb:4},children:[A.jsxs(Pt,{item:!0,xs:12,md:6,children:[A.jsx(ul,{htmlFor:"course-number",required:!0,children:"Course Number"}),A.jsx(Jl,{id:"course-number",name:"course-number",value:y,onChange:ne(v),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:q})]}),A.jsxs(Pt,{item:!0,xs:12,md:6,children:[A.jsx(ul,{htmlFor:"course-title",required:!0,children:"Course Title"}),A.jsx(Jl,{id:"course-title",name:"course-title",value:k,onChange:ne(x),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:q})]}),S==="primary"&&A.jsxs(Pt,{item:!0,xs:12,children:[A.jsx(ul,{htmlFor:"course-description",required:!0,children:"Course Description"}),A.jsx(Jl,{id:"course-description",name:"course-description",value:C,onChange:ne(D),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:q})]})]}),(S==="co-instructor"||S==="primary"&&P==="manual"||ae)&&A.jsxs(Pe,{sx:{mt:4},children:[A.jsx(wt,{variant:"contained",color:"primary",onClick:re,fullWidth:!0,className:"submit-button",sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},disabled:q||J,children:q?A.jsxs(A.Fragment,{children:[A.jsx(Lr,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${S==="primary"&&P==="syllabus"&&V.length>0?` with ${V.filter(fe=>fe.published).length} Materials`:""}`}),A.jsxs(je,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",A.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),A.jsxs(Qi,{open:H,onClose:_e,children:[A.jsx(Ji,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:A.jsx(H_,{sx:{color:"green",fontSize:50,marginRight:1}})}),A.jsx(Zi,{children:A.jsx(Ds,{sx:{textAlign:"center"},children:G})}),A.jsx(Xi,{children:A.jsx(wt,{onClick:_e,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},bre=()=>{const[t,r]=Y.useState([]),[n,o]=Y.useState([]),[a,l]=Y.useState(""),[d,h]=Y.useState(!1),[p,g]=Y.useState(""),[b,y]=Y.useState("success"),[v,k]=Y.useState(!1),[x,C]=Y.useState(null),[D,S]=Y.useState(null),[N,P]=Y.useState(null),B=Yn(),$=Vr();Y.useEffect(()=>{(async()=>{const ne=(await xo(Qn(B,"educatorRequests"))).docs.map(se=>({id:se.id,...se.data()})),ie=(await xo(Qn(B,"courses"))).docs.map(se=>({id:se.id,...se.data()}));r(ne),o(ie)})()},[B]);function V(){const G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let R="";for(let ne=0;ne<28;ne++)R+=G.charAt(Math.floor(Math.random()*G.length));return R}const M=async()=>{var G,R;if(!(!D||!N)){if(!N.courseNumber||!N.courseTitle){g("Course number or title is missing. Cannot approve request."),y("error"),h(!0);return}if(N.requestType==="co-instructor"&&!a){g("Please select a course for the co-instructor request."),y("error"),h(!0);return}if(N.status!=="pending"){g("This request has already been processed."),y("warning"),h(!0);return}try{const ne=pn(B,"users",N.uid);if(N.requestType==="primary"){const ue=V(),ie=await la(Qn(B,"courses"),{number:N.courseNumber,title:N.courseTitle,passcode:ue,courseAdmin:[N.uid]}),se=await $o(ne),ye=se.exists()?((G=se.data())==null?void 0:G.classes)||{}:{};await vr(ne,{isAdmin:!0,classes:{...ye,[ie.id]:{number:N.courseNumber,title:N.courseTitle,isCourseAdmin:!0}}}),await vr(pn(B,"educatorRequests",D),{status:"approved",courseId:ie.id,passcode:ue})}else if(N.requestType==="co-instructor"){if(!a){g("Please select a course for the co-instructor request."),y("error"),h(!0);return}const ue=pn(B,"courses",a);await vr(ue,{courseAdmin:kG(N.uid)});const ie=await $o(ne),se=ie.exists()?((R=ie.data())==null?void 0:R.classes)||{}:{};await vr(ne,{isAdmin:!0,classes:{...se,[a]:{number:N.courseNumber,title:N.courseTitle,isCourseAdmin:!0}}}),await vr(pn(B,"educatorRequests",D),{status:"approved",courseId:a})}g("Request approved, and user promoted to educator."),y("success"),r(ue=>ue.map(ie=>ie.id===D?{...ie,status:"approved"}:ie))}catch(ne){console.error("Error approving request: ",ne),g("Error approving the request. Please try again."),y("error")}h(!0),Q()}},L=async()=>{if(D){try{await vr(pn(B,"educatorRequests",D),{status:"denied"}),g("Request denied."),y("success"),r(t.map(G=>G.id===D?{...G,status:"denied"}:G))}catch(G){console.error("Error denying request: ",G),g("Error denying the request. Please try again."),y("error")}h(!0),Q()}},q=(G,R,ne)=>{C(G),S(R),P(ne),l(""),k(!0)},Q=()=>{k(!1),C(null),S(null),P(null)},H=()=>{h(!1)},F=()=>{$("/")};return A.jsxs(Pe,{sx:{padding:3},children:[A.jsx(Pe,{sx:{display:"flex",alignItems:"center"},children:A.jsx(wt,{variant:"text",onClick:F,sx:{mr:2},children:"â† Home Page"})}),A.jsx(je,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Educator Permission Requests"}),A.jsx(gd,{component:Rn,children:A.jsxs(bd,{children:[A.jsx(kd,{children:A.jsxs(Co,{children:[A.jsx(It,{children:"Name"}),A.jsx(It,{children:"User ID"}),A.jsx(It,{children:"Institution"}),A.jsx(It,{children:"Email"}),A.jsx(It,{children:"Course Number"}),A.jsx(It,{children:"Course Title"}),A.jsx(It,{children:"Course Description"}),A.jsx(It,{children:"Timestamp"}),A.jsx(It,{children:"Actions"})]})}),A.jsx(wd,{children:t.map(G=>A.jsxs(Co,{children:[A.jsx(It,{children:`${G.firstName} ${G.lastName}`}),A.jsx(It,{children:G.uid}),A.jsx(It,{children:G.institution}),A.jsx(It,{children:G.email}),A.jsx(It,{children:G.courseNumber}),A.jsx(It,{children:G.courseTitle}),A.jsx(It,{children:G.courseDescription}),A.jsx(It,{children:new Date(G.timestamp.seconds*1e3).toLocaleString()}),A.jsxs(It,{children:[G.status==="pending"&&A.jsxs(A.Fragment,{children:[A.jsx(wt,{variant:"contained",color:"primary",sx:{mr:1},onClick:()=>q("approve",G.id,G),children:"Approve"}),A.jsx(wt,{variant:"contained",color:"secondary",onClick:()=>q("deny",G.id,G),children:"Deny"})]}),G.status==="approved"&&A.jsx(je,{color:"success.main",children:"Approved"}),G.status==="denied"&&A.jsx(je,{color:"error.main",children:"Denied"})]})]},G.id))})]})}),A.jsx(os,{open:d,autoHideDuration:6e3,onClose:H,children:A.jsx(pr,{onClose:H,severity:b,sx:{width:"100%"},children:p})}),A.jsxs(Qi,{open:v,onClose:Q,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[A.jsx(Ji,{id:"confirmation-dialog-title",children:x==="approve"?"Confirm Approval":"Confirm Denial"}),A.jsxs(Zi,{children:[A.jsxs(Ds,{id:"confirmation-dialog-description",children:["Are you sure you want to ",x," this request for ",N==null?void 0:N.firstName," ",N==null?void 0:N.lastName,"?"]}),x==="approve"&&(N==null?void 0:N.requestType)==="co-instructor"&&A.jsxs(Pe,{sx:{mt:2},children:[A.jsx(je,{children:"Select Course:"}),A.jsx(bc,{fullWidth:!0,value:a,onChange:G=>l(G.target.value),children:n.map(G=>A.jsx(Ir,{value:G.id,children:`${G.number} - ${G.title}`},G.id))})]})]}),A.jsxs(Xi,{children:[A.jsx(wt,{onClick:Q,color:"primary",children:"Cancel"}),A.jsx(wt,{onClick:x==="approve"?M:L,color:"primary",variant:"contained",autoFocus:!0,disabled:(N==null?void 0:N.requestType)==="co-instructor"&&!a,children:"Confirm"})]})]})]})},a1=t=>{if(t==null)return null;if(t instanceof Date)return t;if(Array.isArray(t))return t.map(a1).filter(r=>r!=null);if(typeof t=="object"){const r={};return Object.keys(t).forEach(n=>{const o=t[n];if(o!==void 0){const a=a1(o);a!=null&&(r[n]=a)}}),r}return t},kre=()=>{const{userDetails:t}=Ti(),r=Vr(),n=Yn(),[o,a]=Y.useState("manual"),[l,d]=Y.useState(""),[h,p]=Y.useState(""),[g,b]=Y.useState(""),{parsedCourseInfo:y,generatedMaterials:v,aiExtractedInfo:k,storedSyllabusFile:x,reset:C,currentStep:D}=Kh(),[S,N]=Y.useState(!1),[P,B]=Y.useState(!1),[$,V]=Y.useState("");Y.useEffect(()=>{o==="manual"&&C()},[o,C]),Y.useEffect(()=>{o==="syllabus"&&y&&(d(y.suggestedNumber||""),p(y.suggestedTitle||""),b(y.suggestedDescription||""))},[o,y]);const M=ue=>ie=>{ue(ie.target.value)},L=(ue,ie)=>{ie!==null&&(a(ie),ie==="syllabus"&&(d(""),p(""),b("")))},q=()=>{if(o==="manual"){if(!l||!h||!g)return"Please fill in all required fields."}else if(o==="syllabus"){if(!y)return"Please complete the syllabus import process first.";if(!l||!h||!g)return"Please ensure course information is properly filled from your syllabus."}return null},Q=ue=>{console.log("Syllabus import completed:",ue),H()},H=async()=>{const ue=q();if(ue){V(ue),B(!0);return}N(!0);try{const ie={uid:(t==null?void 0:t.uid)||"",courseNumber:l||"",courseTitle:h||"",courseDescription:g||"",status:"pending",timestamp:new Date,syllabusImported:!1};if(o==="syllabus"&&y&&v.length>0){const _e={parsedCourseInfo:y,generatedMaterials:v.filter(J=>J.published),additionalInfo:k?{contactInfo:k.contactInfo,policies:k.policies,additionalResources:k.additionalResources,labSpecific:k.labSpecific,textbooks:k.textbooks,gradingPolicy:k.gradingPolicy,assignments:k.assignments,prerequisites:k.prerequisites}:null,syllabusFile:x?{url:x.url,path:x.path,metadata:x.metadata}:null},Z=a1(_e);ie.syllabusImported=!0,ie.syllabusData=Z}const se=a1(ie);console.log("Submitting clean request document:",se);const ye=await la(Qn(n,"courseRequests"),se),re={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Course Request Submitted${o==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new course request has been submitted:</p>
            <p><strong>Educator ID:</strong> ${(t==null?void 0:t.uid)||"Unknown"}</p>
            <p><strong>Course:</strong> ${l} - ${h}</p>
            <p><strong>Description:</strong> ${g}</p>
            <p><strong>Creation Method:</strong> ${o==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>
            ${o==="syllabus"&&v.length>0?`<p><strong>Generated Materials:</strong> ${v.filter(_e=>_e.published).length} materials ready for publication</p>`:""}
            <p><strong>Request ID:</strong> ${ye.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/course-requests">
            Click here to review the request.
            </a></p>
          `}};await la(Qn(n,"mail"),re),V(o==="syllabus"?`Your course request has been submitted for review with ${v.filter(_e=>_e.published).length} auto-generated materials.`:"Your course request has been submitted for review."),d(""),p(""),b(""),o==="syllabus"&&C(),B(!0),setTimeout(()=>{r("/course-management")},3e3)}catch(ie){console.error("Error submitting course request: ",ie),ie instanceof Error&&console.error("Error details:",{message:ie.message,name:ie.name,stack:ie.stack}),V("Error submitting your course request. Please try again."),B(!0)}finally{N(!1)}},F=()=>{B(!1)},G=()=>{r("/course-management")},R=o==="syllabus"&&D!=="upload"&&!y,ne=o==="syllabus"&&(D==="review"||D==="editing"||D==="complete")&&y;return A.jsxs(Pe,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[A.jsx(Pe,{sx:{display:"flex",alignItems:"center",mb:3},children:A.jsx(wt,{variant:"text",onClick:G,className:"back-home-button",children:"â† Course Management"})}),A.jsxs(Pe,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[A.jsx(je,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Creating a New Course"}),A.jsxs(Rn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[A.jsx(je,{variant:"h6",sx:{mb:2},children:"How would you like to create your course?"}),A.jsxs(V_,{value:o,exclusive:!0,onChange:L,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[A.jsxs(_p,{value:"manual","aria-label":"manual entry",children:[A.jsx(pl,{sx:{mr:1}}),"Manual Entry"]}),A.jsxs(_p,{value:"syllabus","aria-label":"syllabus import",children:[A.jsx(EP,{sx:{mr:1}}),"Import from Syllabus"]})]}),A.jsx(je,{variant:"body2",color:"text.secondary",children:o==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),o==="syllabus"&&A.jsx(Pe,{sx:{mb:4},children:A.jsx(Uj,{onComplete:Q,onCancel:()=>a("manual"),educatorUid:t==null?void 0:t.uid})}),o==="manual"&&A.jsxs(Pt,{container:!0,spacing:3,children:[A.jsxs(Pt,{item:!0,xs:12,md:6,children:[A.jsx(ul,{htmlFor:"course-number",required:!0,children:"Course Number"}),A.jsx(Jl,{id:"course-number",name:"course-number",value:l,onChange:M(d),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:S})]}),A.jsxs(Pt,{item:!0,xs:12,md:6,children:[A.jsx(ul,{htmlFor:"course-title",required:!0,children:"Course Title"}),A.jsx(Jl,{id:"course-title",name:"course-title",value:h,onChange:M(p),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:S})]}),A.jsxs(Pt,{item:!0,xs:12,children:[A.jsx(ul,{htmlFor:"course-description",required:!0,children:"Course Description"}),A.jsx(Jl,{id:"course-description",name:"course-description",value:g,onChange:M(b),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:S})]})]}),(o==="manual"||ne)&&A.jsxs(Pe,{sx:{mt:4},children:[A.jsx(wt,{variant:"contained",color:"primary",onClick:H,fullWidth:!0,className:"submit-button",disabled:S||R,sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},children:S?A.jsxs(A.Fragment,{children:[A.jsx(Lr,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${o==="syllabus"&&v.length>0?` with ${v.filter(ue=>ue.published).length} Materials`:""}`}),A.jsxs(je,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",A.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),A.jsxs(Qi,{open:P,onClose:F,children:[A.jsx(Ji,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:A.jsx(H_,{sx:{color:"green",fontSize:50,marginRight:1}})}),A.jsx(Zi,{children:A.jsx(Ds,{sx:{textAlign:"center"},children:$})}),A.jsx(Xi,{children:A.jsx(wt,{onClick:F,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},wre=()=>{var q,Q,H,F;const[t,r]=Y.useState([]),[n,o]=Y.useState(!1),[a,l]=Y.useState(""),[d,h]=Y.useState("success"),[p,g]=Y.useState(!1),[b,y]=Y.useState(null),[v,k]=Y.useState(null),[x,C]=Y.useState(null),D=Yn(),S=Vr();Y.useEffect(()=>{(async()=>{try{const ne=(await xo(Qn(D,"courseRequests"))).docs.map(ue=>({id:ue.id,...ue.data()}));ne.sort((ue,ie)=>ue.status==="pending"&&ie.status!=="pending"||ue.status==="approved"&&ie.status==="denied"?-1:ue.status==="denied"&&ie.status==="approved"?1:0),r(ne)}catch(R){console.error("Error fetching course requests: ",R)}})()},[D]);function N(){const G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let R="";for(let ne=0;ne<28;ne++)R+=G.charAt(Math.floor(Math.random()*G.length));return R}const P=async()=>{var G,R,ne,ue;if(!(!v||!x)){try{const ie=N(),se={number:x.courseNumber,title:x.courseTitle,description:x.courseDescription,passcode:ie,courseAdmin:[x.uid],createdAt:new Date};if(x.syllabusImported&&((G=x.syllabusData)!=null&&G.additionalInfo)){const fe=x.syllabusData.additionalInfo;se.additionalInfo={contactInfo:fe.contactInfo||{},policies:fe.policies||{},additionalResources:fe.additionalResources||{},labSpecific:fe.labSpecific||{},textbooks:fe.textbooks||[],gradingPolicy:fe.gradingPolicy||[],assignments:fe.assignments||[],prerequisites:fe.prerequisites||[],lastUpdated:new Date}}x.syllabusImported&&((R=x.syllabusData)!=null&&R.syllabusFile)&&(se.syllabusFile=x.syllabusData.syllabusFile);const ye=await la(Qn(D,"courses"),se),re=pn(D,"users",x.uid),_e=await $o(re),Z=_e.exists()?((ne=_e.data())==null?void 0:ne.classes)||{}:{};await vr(re,{classes:{...Z,[ye.id]:{number:x.courseNumber,title:x.courseTitle,isCourseAdmin:!0}}});let J=0;if(x.syllabusImported&&((ue=x.syllabusData)!=null&&ue.generatedMaterials)){const fe=Y_(D);x.syllabusData.generatedMaterials.forEach(le=>{const Ie=pn(Qn(D,"materials")),xe={title:le.title||"Untitled Material",header:le.header||{title:"",content:""},footer:le.footer||{title:"",content:""},sections:(le.sections||[]).map(Ne=>({...Ne,images:Ne.images||[],links:Ne.links||[],subsections:(Ne.subsections||[]).map(Qe=>({...Qe,images:Qe.images||[],links:Qe.links||[],subSubsections:(Qe.subSubsections||[]).map(Ge=>({...Ge,images:Ge.images||[],links:Ge.links||[]}))}))})),published:!0,course:ye.id,author:x.uid,timestamp:ap.now(),createdAt:new Date,updatedAt:new Date};le.scheduledTimestamp&&(xe.scheduledTimestamp=ap.fromDate(le.scheduledTimestamp)),fe.set(Ie,xe),J++}),await fe.commit(),console.log(`Created ${J} materials from syllabus`)}await vr(pn(D,"courseRequests",v),{status:"approved",courseId:ye.id,passcode:ie});const ae={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"Your Course Request Has Been Approved",html:`
            <p>Your course request has been approved:</p>
            <p><strong>Course:</strong> ${x.courseNumber} - ${x.courseTitle}</p>
            <p><strong>Passcode:</strong> ${ie}</p>
            ${x.syllabusImported&&J>0?`<p><strong>Materials Created:</strong> ${J} materials have been automatically added to your course from your syllabus import.</p>`:""}
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/supplemental-materials">
            Click here to view your course.
            </a></p>
          `}};await la(Qn(D,"mail"),ae),l(`Course request approved, course added${J>0?` with ${J} materials`:""}.`),h("success"),r(fe=>fe.map(le=>le.id===v?{...le,status:"approved"}:le))}catch(ie){console.error("Error approving request: ",ie),l("Error approving the request. Please try again."),h("error")}o(!0),V()}},B=async()=>{if(v){try{await vr(pn(D,"courseRequests",v),{status:"denied"}),l("Course request denied."),h("success"),r(t.map(G=>G.id===v?{...G,status:"denied"}:G))}catch(G){console.error("Error denying request: ",G),l("Error denying the request. Please try again."),h("error")}o(!0),V()}},$=(G,R,ne)=>{y(G),k(R),C(ne),g(!0)},V=()=>{g(!1),y(null),k(null),C(null)},M=()=>{o(!1)},L=()=>{S("/")};return A.jsxs(Pe,{sx:{padding:3},children:[A.jsx(Pe,{sx:{display:"flex",alignItems:"center"},children:A.jsx(wt,{variant:"text",onClick:L,sx:{mr:2},children:"â† Home Page"})}),A.jsx(je,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Course Creation Requests"}),A.jsx(gd,{component:Rn,children:A.jsxs(bd,{children:[A.jsx(kd,{children:A.jsxs(Co,{children:[A.jsx(It,{children:"Educator ID"}),A.jsx(It,{children:"Course Number"}),A.jsx(It,{children:"Course Title"}),A.jsx(It,{children:"Course Description"}),A.jsx(It,{children:"Creation Method"}),A.jsx(It,{children:"Timestamp"}),A.jsx(It,{children:"Actions"})]})}),A.jsx(wd,{children:t.map(G=>{var R,ne,ue,ie,se;return A.jsxs(Co,{children:[A.jsx(It,{children:G.uid}),A.jsx(It,{children:G.courseNumber}),A.jsx(It,{children:G.courseTitle}),A.jsx(It,{children:G.courseDescription.length>100?`${G.courseDescription.substring(0,100)}...`:G.courseDescription}),A.jsx(It,{children:G.syllabusImported?A.jsxs(Pe,{children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[A.jsx(je,{variant:"body2",color:"primary",sx:{fontWeight:"bold"},children:"Syllabus Import"}),((R=G.syllabusData)==null?void 0:R.syllabusFile)&&A.jsx(xs,{title:`Download: ${G.syllabusData.syllabusFile.metadata.originalFilename}`,children:A.jsx(Ln,{size:"small",onClick:()=>window.open(G.syllabusData.syllabusFile.url,"_blank"),sx:{color:"primary.main"},children:A.jsx(OA,{fontSize:"small"})})})]}),A.jsxs(je,{variant:"caption",color:"text.secondary",children:[((ue=(ne=G.syllabusData)==null?void 0:ne.generatedMaterials)==null?void 0:ue.length)||0," materials"]}),((ie=G.syllabusData)==null?void 0:ie.syllabusFile)&&A.jsx(je,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:G.syllabusData.syllabusFile.metadata.originalFilename})]}):A.jsx(je,{variant:"body2",color:"text.secondary",children:"Manual Entry"})}),A.jsx(It,{children:(se=G.timestamp)!=null&&se.seconds?new Date(G.timestamp.seconds*1e3).toLocaleString():"Invalid Date"}),A.jsxs(It,{children:[G.status==="pending"&&A.jsxs(A.Fragment,{children:[A.jsx(wt,{variant:"contained",color:"success",size:"small",onClick:()=>$("approve",G.id,G),sx:{mr:1},children:"Approve"}),A.jsx(wt,{variant:"outlined",color:"error",size:"small",onClick:()=>$("deny",G.id,G),children:"Deny"})]}),G.status==="approved"&&A.jsx(je,{variant:"body2",color:"success.main",sx:{fontWeight:"bold"},children:"Approved"}),G.status==="denied"&&A.jsx(je,{variant:"body2",color:"error.main",sx:{fontWeight:"bold"},children:"Denied"})]})]},G.id)})})]})}),A.jsxs(Qi,{open:p,onClose:V,children:[A.jsx(Ji,{children:b==="approve"?"Approve Course Request":"Deny Course Request"}),A.jsx(Zi,{children:A.jsx(Ds,{children:b==="approve"?A.jsxs(A.Fragment,{children:["Are you sure you want to approve this course request?",(x==null?void 0:x.syllabusImported)&&A.jsxs(Pe,{sx:{mt:2,p:2,backgroundColor:"#ECF4FE",borderRadius:1},children:[A.jsx(je,{variant:"body2",sx:{fontWeight:"bold"},children:"ðŸ“š Syllabus Import Detected"}),A.jsxs(je,{variant:"body2",children:["This request includes ",((Q=(q=x==null?void 0:x.syllabusData)==null?void 0:q.generatedMaterials)==null?void 0:Q.length)||0," auto-generated materials that will be added to the course."]}),((H=x==null?void 0:x.syllabusData)==null?void 0:H.syllabusFile)&&A.jsxs(Pe,{sx:{mt:1},children:[A.jsxs(je,{variant:"body2",sx:{mb:1},children:[A.jsx("strong",{children:"Syllabus File:"})," ",x.syllabusData.syllabusFile.metadata.originalFilename," ","(",(x.syllabusData.syllabusFile.metadata.fileSize/1024/1024).toFixed(2)," MB)"]}),A.jsx(wt,{size:"small",variant:"outlined",startIcon:A.jsx(Ng,{}),onClick:()=>window.open(x.syllabusData.syllabusFile.url,"_blank"),sx:{mt:.5},children:"View/Download Syllabus"})]}),((F=x==null?void 0:x.syllabusData)==null?void 0:F.additionalInfo)&&A.jsxs(je,{variant:"body2",sx:{mt:1},children:[A.jsx("strong",{children:"Additional Info:"})," Contact info, policies, textbooks, and other course details extracted"]})]})]}):"Are you sure you want to deny this course request?"})}),A.jsxs(Xi,{children:[A.jsx(wt,{onClick:V,color:"primary",children:"Cancel"}),A.jsx(wt,{onClick:b==="approve"?P:B,color:b==="approve"?"success":"error",variant:"contained",children:b==="approve"?"Approve":"Deny"})]})]}),A.jsx(os,{open:n,autoHideDuration:6e3,onClose:M,children:A.jsx(pr,{onClose:M,severity:d,sx:{width:"100%"},children:a})})]})},yre=()=>{const t=Yn(),{userDetails:r}=Ti(),[n,o]=Y.useState([]),[a,l]=Y.useState(!0),[d,h]=Y.useState(!1),[p,g]=Y.useState(""),[b,y]=Y.useState("info"),[v,k]=Y.useState(!1),[x,C]=Y.useState(""),[D,S]=Y.useState(""),N=Vr();Y.useEffect(()=>{(async()=>{l(!0);try{const F=(await xo(Qn(t,"courses"))).docs.map(G=>{const R=G.data();return{id:G.id,title:R.title||"Untitled",number:R.number||"N/A",courseAdmin:R.courseAdmin||[]}});o(F)}catch(H){console.error("Error fetching courses: ",H)}finally{l(!1)}})()},[t]);const P=async Q=>{if(!r){V("User details are not available.","error");return}const H=n.find(F=>F.id===Q);if(H&&r)try{if(H.courseAdmin.includes(r.uid)){V("You are already an admin for this course.","warning");return}const F=pn(t,"courses",Q),G=[...H.courseAdmin,r.uid];await vr(F,{courseAdmin:G});const R=pn(t,"users",r.uid);await vr(R,{[`classes.${Q}`]:{number:H.number,title:H.title,isCourseAdmin:!0}}),o(n.map(ne=>ne.id===Q?{...ne,courseAdmin:G}:ne)),V("You have been successfully added as an admin to this course.","success")}catch(F){console.error("Error adding super-admin to course: ",F),V("Failed to add admin to course.","error")}},B=Q=>{S(Q),k(!0)},$=async()=>{if(r&&x===r.uid){const Q=n.find(H=>H.id===D);if(Q&&Q.courseAdmin.includes(r.uid))try{await Yg(pn(t,"courses",D));const H=await xo(Qn(t,"users")),F=Y_(t);H.forEach(G=>{const R=pn(t,"users",G.id),ue={...G.data().classes};delete ue[D],F.update(R,{classes:ue})}),await F.commit(),o(n.filter(G=>G.id!==D)),V("Course deleted successfully.","success")}catch(H){console.error("Error deleting course: ",H),V("Failed to delete course.","error")}finally{k(!1),C("")}else V("You are not authorized to delete this course.","warning"),k(!1)}else V("User ID does not match. Please try again.","error")},V=(Q,H)=>{g(Q),y(H),h(!0)},M=(Q,H)=>{H!=="clickaway"&&h(!1)},L=()=>{k(!1),C("")},q=()=>{N("/")};return A.jsxs(Pe,{sx:{p:3},children:[A.jsx(Pe,{sx:{display:"flex",alignItems:"center",mb:2},children:A.jsx(wt,{variant:"text",onClick:q,sx:{mr:2},children:"â† Home Page"})}),A.jsx(je,{variant:"h4",gutterBottom:!0,children:"Super Admin Course Management"}),a?A.jsx(je,{children:"Loading courses..."}):A.jsx(gd,{component:Rn,children:A.jsxs(bd,{"aria-label":"courses table",children:[A.jsx(kd,{children:A.jsxs(Co,{children:[A.jsx(It,{sx:{fontWeight:"bold"},children:"Course ID"}),A.jsx(It,{sx:{fontWeight:"bold"},children:"Course Number"}),A.jsx(It,{sx:{fontWeight:"bold"},children:"Course Title"}),A.jsx(It,{sx:{fontWeight:"bold"},children:"Instructors"}),A.jsx(It,{align:"right",sx:{fontWeight:"bold"},children:"Actions"})]})}),A.jsx(wd,{children:n.map(Q=>{const H=!!(r!=null&&r.uid)&&Q.courseAdmin.includes(r.uid);return A.jsxs(Co,{sx:{backgroundColor:H?"#e0f7fa":"transparent"},children:[A.jsx(It,{children:Q.id}),A.jsx(It,{children:Q.number}),A.jsx(It,{children:Q.title}),A.jsx(It,{children:Q.courseAdmin.length>0?Q.courseAdmin.join(", "):"No admins assigned"}),A.jsxs(It,{align:"right",children:[A.jsx(xs,{title:"Add yourself as an instructor",children:A.jsx("span",{children:A.jsx(Ln,{edge:"end","aria-label":"add",onClick:()=>P(Q.id),disabled:H,children:A.jsx(mh,{})})})}),A.jsx(xs,{title:H?"Delete this course":"You are not authorized to delete this course",children:A.jsx("span",{children:A.jsx(Ln,{edge:"end","aria-label":"delete",onClick:()=>B(Q.id),disabled:!H,children:A.jsx(Ks,{})})})})]})]},Q.id)})})]})}),A.jsx(os,{open:d,autoHideDuration:6e3,onClose:M,children:A.jsx(pr,{onClose:M,severity:b,sx:{width:"100%"},children:p})}),A.jsxs(Qi,{open:v,onClose:L,children:[A.jsx(Ji,{children:"Confirm Delete"}),A.jsxs(Zi,{children:[A.jsx(Ds,{children:"To confirm the deletion of this course, please enter your User ID:"}),A.jsx(Jt,{autoFocus:!0,margin:"dense",id:"userId",label:"User ID",type:"text",fullWidth:!0,variant:"outlined",value:x,onChange:Q=>C(Q.target.value)})]}),A.jsxs(Xi,{children:[A.jsx(wt,{onClick:L,color:"primary",children:"Cancel"}),A.jsx(wt,{onClick:$,color:"primary",children:"Confirm"})]})]})]})},qj=({filePath:t,fileLabel:r})=>{const[n,o]=Y.useState(null),[a,l]=Y.useState(!0);return Y.useEffect(()=>{(async()=>{try{const h=Pp(),p=Kg(h,t),g=await Qg(p);o(g)}catch(h){console.error("Error fetching download URL:",h),alert("Failed to fetch file URL. Please check your permissions.")}finally{l(!1)}})()},[t]),a?A.jsx(Lr,{size:20}):n?A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(Tg,{href:n,target:"_blank",rel:"noopener noreferrer",sx:{textDecoration:"none",color:"#1976d2","&:hover":{textDecoration:"underline"}},children:r}),A.jsx(Ln,{component:"a",href:n,target:"_blank",rel:"noopener noreferrer","aria-label":"Open in new tab",size:"small",children:A.jsx(Ng,{})})]}):A.jsx(Pe,{children:A.jsx(je,{color:"error",children:"Failed to load file link"})})},vre=()=>{const{userDetails:t}=Ti(),[r,n]=Y.useState([]),[o,a]=Y.useState(!0);return Y.useEffect(()=>{(async()=>{if(!(t!=null&&t.uid))return;const d=Yn(),h=Qn(d,"chatbotRequests"),p=Op(h,Jg("educatorId","==",t.uid));try{const b=(await xo(p)).docs.map(y=>({id:y.id,...y.data()}));n(b)}catch(g){console.error("Error fetching chatbot requests:",g)}finally{a(!1)}})()},[t==null?void 0:t.uid]),o?A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:A.jsx(Lr,{})}):r.length===0?A.jsx(je,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):A.jsxs(Pe,{children:[A.jsx(je,{variant:"h6",sx:{mb:2},children:"Your Chatbot Requests"}),A.jsx(gd,{component:Rn,elevation:3,sx:{maxHeight:400},children:A.jsxs(bd,{stickyHeader:!0,children:[A.jsx(kd,{children:A.jsxs(Co,{children:[A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"})]})}),A.jsx(wd,{children:r.map((l,d)=>A.jsxs(Co,{sx:{backgroundColor:d%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[A.jsx(It,{children:l.title}),A.jsx(It,{children:`${l.courseNumber} - ${l.courseTitle}`}),A.jsx(It,{children:l.materialTitle||"N/A"}),A.jsx(It,{children:new Date(l.timestamp).toLocaleString()}),A.jsx(It,{children:A.jsx(je,{variant:"body2",sx:{color:l.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:l.status})}),A.jsx(It,{children:l.files.map((h,p)=>A.jsx(qj,{filePath:h,fileLabel:`File ${p+1}`},p))})]},l.id))})]})})]})},Are=()=>{const t=Vr();return A.jsxs(Pe,{className:"profile-container",sx:{p:4},children:[A.jsx(wt,{variant:"text",onClick:()=>t("/"),className:"profile-button",children:"â† Home Page"}),A.jsx(je,{className:"webpage_title",sx:{mb:2},children:"Chatbot Management"}),A.jsx(je,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Manage your chatbots or create new chatbot requests."}),A.jsx(wt,{variant:"contained",onClick:()=>t("/request-chatbot"),sx:{mt:2},className:"submit-button",children:"Request a New Chatbot"}),A.jsx(vre,{})]})},_re=({folderPath:t,onUploadComplete:r})=>{const[n,o]=Y.useState(!1),[a,l]=Y.useState([]),[d,h]=Y.useState(null),p=5*1024*1024,g=[".pdf",".ppt",".pptx",".doc",".docx",".txt"],b=async y=>{if(!y.target.files)return;const v=Array.from(y.target.files),k=Pp(),x=[];o(!0),h(null);try{for(const C of v){const D=C.name.slice(C.name.lastIndexOf(".")).toLowerCase();if(!g.includes(D)){h(`File ${C.name} is not a supported format.`);continue}if(C.size>p){h(`File ${C.name} exceeds the 5 MB limit and cannot be uploaded.`);continue}const S=Kg(k,`${t}/files/${C.name}`);await C1(S,C);const N=await Qg(S);x.push(N)}l(C=>[...C,...v]),r(x)}catch(C){console.error("Error uploading files:",C),h("Failed to upload files. Please try again.")}finally{o(!1)}};return A.jsxs(Pe,{children:[A.jsx("input",{type:"file",accept:".pdf,.ppt,.pptx,.doc,.docx,.txt",multiple:!0,onChange:b,style:{display:"none"},id:"file-upload"}),A.jsx("label",{htmlFor:"file-upload",children:A.jsx(wt,{variant:"contained",component:"span",disabled:n,startIcon:n?A.jsx(Lr,{size:20}):null,children:n?"Uploading...":"Select and Upload Files"})}),d&&A.jsx(pr,{severity:"error",sx:{mt:2},children:d}),A.jsx(Pe,{sx:{marginTop:2},children:a.map((y,v)=>A.jsx(je,{children:y.name},v))})]})},Cre=tb()(E1((t,r)=>({materials:[],selectedCourse:null,loading:!1,error:null,isEditing:!1,selectedMaterial:null,setMaterials:n=>t({materials:n}),addMaterial:n=>t(o=>({materials:[...o.materials,n]})),updateMaterial:(n,o)=>t(a=>({materials:a.materials.map(l=>l.id===n?{...l,...o}:l)})),deleteMaterial:n=>t(o=>({materials:o.materials.filter(a=>a.id!==n)})),setSelectedCourse:n=>t({selectedCourse:n}),setLoading:n=>t({loading:n}),setError:n=>t({error:n}),setIsEditing:n=>t({isEditing:n}),setSelectedMaterial:n=>t({selectedMaterial:n}),fetchMaterials:async n=>{t({loading:!0,error:null});try{const{db:o}=await Ki(async()=>{const{db:b}=await Promise.resolve().then(()=>up);return{db:b}},void 0),{collection:a,query:l,where:d,onSnapshot:h,orderBy:p}=await Ki(async()=>{const{collection:b,query:y,where:v,onSnapshot:k,orderBy:x}=await import("./firebase-DlMVyB9t.js").then(C=>C.A);return{collection:b,query:y,where:v,onSnapshot:k,orderBy:x}},[]),g=l(a(o,"materials"),d("course","==",n),p("timestamp","desc"));return new Promise(b=>{h(g,y=>{const v=y.docs.map(k=>({id:k.id,...k.data()}));t({materials:v,loading:!1}),b(void 0)})})}catch(o){t({error:o instanceof Error?o.message:"Failed to fetch materials",loading:!1})}},publishMaterial:async n=>{try{const{db:o}=await Ki(async()=>{const{db:d}=await Promise.resolve().then(()=>up);return{db:d}},void 0),{doc:a,updateDoc:l}=await Ki(async()=>{const{doc:d,updateDoc:h}=await import("./firebase-DlMVyB9t.js").then(p=>p.A);return{doc:d,updateDoc:h}},[]);await l(a(o,"materials",n),{published:!0}),r().updateMaterial(n,{published:!0})}catch{t({error:"Failed to publish material"})}},unpublishMaterial:async n=>{try{const{db:o}=await Ki(async()=>{const{db:d}=await Promise.resolve().then(()=>up);return{db:d}},void 0),{doc:a,updateDoc:l}=await Ki(async()=>{const{doc:d,updateDoc:h}=await import("./firebase-DlMVyB9t.js").then(p=>p.A);return{doc:d,updateDoc:h}},[]);await l(a(o,"materials",n),{published:!1}),r().updateMaterial(n,{published:!1})}catch{t({error:"Failed to unpublish material"})}}}))),xre=()=>{const{userDetails:t}=Ti(),r=Vr(),n=Yn(),[o,a]=Y.useState(""),[l,d]=Y.useState(""),[h,p]=Y.useState(""),[g,b]=Y.useState([]),[y,v]=Y.useState(!1),[k,x]=Y.useState(""),[C,D]=Y.useState("success"),{materials:S,loading:N,error:P,fetchMaterials:B}=Cre();Y.useEffect(()=>{p(""),l&&B(l)},[l,B]);const $=q=>{b(Q=>[...Q,...q])},V=async()=>{var R;if(!o||!l||!h||g.length===0){x("Please fill all required fields and upload at least one file."),D("error"),v(!0);return}const q=(R=t==null?void 0:t.classes)==null?void 0:R[l];if(!q||!q.isCourseAdmin){x("You are not authorized to request a chatbot for this course."),D("error"),v(!0);return}const Q=(q==null?void 0:q.number)??"N/A",H=(q==null?void 0:q.title)??"Untitled Course",F=S.find(ne=>ne.id===h);if(!F){x("Selected material details could not be found."),D("error"),v(!0);return}const{title:G}=F;try{const ne=await la(Qn(n,"chatbotRequests"),{educatorId:t==null?void 0:t.uid,courseId:l,courseNumber:Q,courseTitle:H,materialId:h,materialTitle:G,title:o,files:g,status:"pending",timestamp:new Date().toISOString()});await la(Qn(n,"mail"),{to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"New Chatbot Request Submitted",html:`
            <p>A new chatbot request has been submitted:</p>
            <p><strong>Title:</strong> ${o}</p>
            <p><strong>Educator ID:</strong> ${t==null?void 0:t.uid}</p>
            <p><strong>Course:</strong> ${Q} - ${H}</p>
            <p><strong>Material:</strong> ${G}</p>
            <p><strong>Request ID:</strong> ${ne.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/super-admin-chatbot-requests">
            Click here to review the request.
            </a></p>
          `}}),x("Chatbot request submitted successfully!"),D("success"),v(!0),setTimeout(()=>r("/chatbot-management"),1500)}catch(ne){console.error("Error submitting chatbot request:",ne),x("Failed to submit the chatbot request. Please try again."),D("error"),v(!0)}},M=()=>{r("/chatbot-management")},L=()=>{v(!1)};return A.jsxs(Pe,{className:"profile-container",sx:{p:4},children:[A.jsx(wt,{variant:"text",onClick:M,className:"profile-button",children:"â† Chatbot Management"}),A.jsx(je,{className:"webpage_title",sx:{mb:2},children:"Request to Create a Chatbot"}),A.jsx(je,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Fill out the form below to request a chatbot. Please upload all related materials for the chatbot's knowledge base."}),A.jsx(Jt,{label:"Chatbot Title",value:o,onChange:q=>a(q.target.value),fullWidth:!0,margin:"normal",required:!0,className:"form-field"}),A.jsx(Jt,{label:"Course ID",value:l,onChange:q=>d(q.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,helperText:"Only courses where you are an admin are available for chatbot requests.",className:"form-field",children:Object.keys((t==null?void 0:t.classes)||{}).filter(q=>{var Q,H;return(H=(Q=t==null?void 0:t.classes)==null?void 0:Q[q])==null?void 0:H.isCourseAdmin}).map(q=>{var Q,H;return A.jsx(Ir,{value:q,children:((H=(Q=t==null?void 0:t.classes)==null?void 0:Q[q])==null?void 0:H.title)||"Untitled Course"},q)})}),A.jsx(Jt,{label:"Material",value:h,onChange:q=>p(q.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,disabled:!l||N,helperText:l?P||(N?"Loading materials...":S.length===0?"No materials available for this course.":""):"Please select a course first.",children:l?N?A.jsxs(Ir,{disabled:!0,children:[A.jsx(Lr,{size:20,sx:{marginRight:2}}),"Loading..."]}):S.length===0?A.jsx(Ir,{disabled:!0,children:"No materials found"}):S.map(q=>A.jsx(Ir,{value:q.id,children:q.title},q.id)):A.jsx(Ir,{disabled:!0,children:"Please select a course first"})}),A.jsxs(Pe,{sx:{mt:3},children:[A.jsx(je,{variant:"body1",className:"profile-text",sx:{mb:2},children:"Upload your files below (PDF, PPT, DOC/DOCX, TXT formats only):"}),A.jsx(_re,{folderPath:`chatbotRequests/${t==null?void 0:t.uid}`,onUploadComplete:$})]}),A.jsx(wt,{variant:"contained",onClick:V,sx:{mt:4},className:"submit-button",children:"Submit Request"}),A.jsx(os,{open:y,autoHideDuration:6e3,onClose:L,children:A.jsx(pr,{severity:C,onClose:L,children:k})})]})};function Sre(t,...r){const n=new URL(`https://mui.com/production-error/?code=${t}`);return r.forEach(o=>n.searchParams.append("args[]",o)),`Minified MUI error #${t}; visit ${n} for the full message.`}function Ere(t,r){return W_(t,r)}function Dre(t,r){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=r(t.__emotion_styles))}const A6=[];function Oh(t){return A6[0]=t,DP(A6)}function kh(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Vj(t){if(Y.isValidElement(t)||qk.isValidElementType(t)||!kh(t))return t;const r={};return Object.keys(t).forEach(n=>{r[n]=Vj(t[n])}),r}function l1(t,r,n={clone:!0}){const o=n.clone?{...t}:t;return kh(t)&&kh(r)&&Object.keys(r).forEach(a=>{Y.isValidElement(r[a])||qk.isValidElementType(r[a])?o[a]=r[a]:kh(r[a])&&Object.prototype.hasOwnProperty.call(t,a)&&kh(t[a])?o[a]=l1(t[a],r[a],n):n.clone?o[a]=kh(r[a])?Vj(r[a]):r[a]:o[a]=r[a]}),o}const Ire=t=>{const r=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return r.sort((n,o)=>n.val-o.val),r.reduce((n,o)=>({...n,[o.key]:o.val}),{})};function Tre(t){const{values:r={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5,...a}=t,l=Ire(r),d=Object.keys(l);function h(v){return`@media (min-width:${typeof r[v]=="number"?r[v]:v}${n})`}function p(v){return`@media (max-width:${(typeof r[v]=="number"?r[v]:v)-o/100}${n})`}function g(v,k){const x=d.indexOf(k);return`@media (min-width:${typeof r[v]=="number"?r[v]:v}${n}) and (max-width:${(x!==-1&&typeof r[d[x]]=="number"?r[d[x]]:k)-o/100}${n})`}function b(v){return d.indexOf(v)+1<d.length?g(v,d[d.indexOf(v)+1]):h(v)}function y(v){const k=d.indexOf(v);return k===0?h(d[1]):k===d.length-1?p(d[k]):g(v,d[d.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:d,values:l,up:h,down:p,between:g,only:b,not:y,unit:n,...a}}function _6(t,r){if(!t.containerQueries)return r;const n=Object.keys(r).filter(o=>o.startsWith("@container")).sort((o,a)=>{var d,h;const l=/min-width:\s*([0-9.]+)/;return+(((d=o.match(l))==null?void 0:d[1])||0)-+(((h=a.match(l))==null?void 0:h[1])||0)});return n.length?n.reduce((o,a)=>{const l=r[a];return delete o[a],o[a]=l,o},{...r}):r}function Nre(t,r){return r==="@"||r.startsWith("@")&&(t.some(n=>r.startsWith(`@${n}`))||!!r.match(/^@\d/))}function Mre(t,r){const n=r.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,o,a]=n,l=Number.isNaN(+o)?o||0:+o;return t.containerQueries(a).up(l)}function Pre(t){const r=(l,d)=>l.replace("@media",d?`@container ${d}`:"@container");function n(l,d){l.up=(...h)=>r(t.breakpoints.up(...h),d),l.down=(...h)=>r(t.breakpoints.down(...h),d),l.between=(...h)=>r(t.breakpoints.between(...h),d),l.only=(...h)=>r(t.breakpoints.only(...h),d),l.not=(...h)=>{const p=r(t.breakpoints.not(...h),d);return p.includes("not all and")?p.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):p}}const o={},a=l=>(n(o,l),o);return n(a),{...t,containerQueries:a}}const Ore={borderRadius:4};function Ag(t,r){return r?l1(t,r,{clone:!1}):t}const F1={xs:0,sm:600,md:900,lg:1200,xl:1536},C6={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${F1[t]}px)`},jre={containerQueries:t=>({up:r=>{let n=typeof r=="number"?r:F1[r]||r;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function lu(t,r,n){const o=t.theme||{};if(Array.isArray(r)){const l=o.breakpoints||C6;return r.reduce((d,h,p)=>(d[l.up(l.keys[p])]=n(r[p]),d),{})}if(typeof r=="object"){const l=o.breakpoints||C6;return Object.keys(r).reduce((d,h)=>{if(Nre(l.keys,h)){const p=Mre(o.containerQueries?o:jre,h);p&&(d[p]=n(r[h],h))}else if(Object.keys(l.values||F1).includes(h)){const p=l.up(h);d[p]=n(r[h],h)}else{const p=h;d[p]=r[p]}return d},{})}return n(r)}function Lre(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((o,a)=>{const l=t.up(a);return o[l]={},o},{}))||{}}function x6(t,r){return t.reduce((n,o)=>{const a=n[o];return(!a||Object.keys(a).length===0)&&delete n[o],n},r)}function $j(t){if(typeof t!="string")throw new Error(Sre(7));return t.charAt(0).toUpperCase()+t.slice(1)}function z1(t,r,n=!0){if(!r||typeof r!="string")return null;if(t&&t.vars&&n){const o=`vars.${r}`.split(".").reduce((a,l)=>a&&a[l]?a[l]:null,t);if(o!=null)return o}return r.split(".").reduce((o,a)=>o&&o[a]!=null?o[a]:null,t)}function c1(t,r,n,o=n){let a;return typeof t=="function"?a=t(n):Array.isArray(t)?a=t[n]||o:a=z1(t,n)||o,r&&(a=r(a,o,t)),a}function Ni(t){const{prop:r,cssProperty:n=t.prop,themeKey:o,transform:a}=t,l=d=>{if(d[r]==null)return null;const h=d[r],p=d.theme,g=z1(p,o)||{};return lu(d,h,y=>{let v=c1(g,a,y);return y===v&&typeof y=="string"&&(v=c1(g,a,`${r}${y==="default"?"":$j(y)}`,y)),n===!1?v:{[n]:v}})};return l.propTypes={},l.filterProps=[r],l}function Rre(t){const r={};return n=>(r[n]===void 0&&(r[n]=t(n)),r[n])}const Bre={m:"margin",p:"padding"},Fre={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},S6={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},zre=Rre(t=>{if(t.length>2)if(S6[t])t=S6[t];else return[t];const[r,n]=t.split(""),o=Bre[r],a=Fre[n]||"";return Array.isArray(a)?a.map(l=>o+l):[o+a]}),yC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],vC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...yC,...vC];function ab(t,r,n,o){const a=z1(t,r,!0)??n;return typeof a=="number"||typeof a=="string"?l=>typeof l=="string"?l:typeof a=="string"?a.startsWith("var(")&&l===0?0:a.startsWith("var(")&&l===1?a:`calc(${l} * ${a})`:a*l:Array.isArray(a)?l=>{if(typeof l=="string")return l;const d=Math.abs(l),h=a[d];return l>=0?h:typeof h=="number"?-h:typeof h=="string"&&h.startsWith("var(")?`calc(-1 * ${h})`:`-${h}`}:typeof a=="function"?a:()=>{}}function Hj(t){return ab(t,"spacing",8)}function lb(t,r){return typeof r=="string"||r==null?r:t(r)}function Ure(t,r){return n=>t.reduce((o,a)=>(o[a]=lb(r,n),o),{})}function qre(t,r,n,o){if(!r.includes(n))return null;const a=zre(n),l=Ure(a,o),d=t[n];return lu(t,d,l)}function Wj(t,r){const n=Hj(t.theme);return Object.keys(t).map(o=>qre(t,r,o,n)).reduce(Ag,{})}function ci(t){return Wj(t,yC)}ci.propTypes={};ci.filterProps=yC;function ui(t){return Wj(t,vC)}ui.propTypes={};ui.filterProps=vC;function Vre(t=8,r=Hj({spacing:t})){if(t.mui)return t;const n=(...o)=>(o.length===0?[1]:o).map(l=>{const d=r(l);return typeof d=="number"?`${d}px`:d}).join(" ");return n.mui=!0,n}function U1(...t){const r=t.reduce((o,a)=>(a.filterProps.forEach(l=>{o[l]=a}),o),{}),n=o=>Object.keys(o).reduce((a,l)=>r[l]?Ag(a,r[l](o)):a,{});return n.propTypes={},n.filterProps=t.reduce((o,a)=>o.concat(a.filterProps),[]),n}function Ra(t){return typeof t!="number"?t:`${t}px solid`}function qa(t,r){return Ni({prop:t,themeKey:"borders",transform:r})}const $re=qa("border",Ra),Hre=qa("borderTop",Ra),Wre=qa("borderRight",Ra),Gre=qa("borderBottom",Ra),Yre=qa("borderLeft",Ra),Kre=qa("borderColor"),Qre=qa("borderTopColor"),Jre=qa("borderRightColor"),Zre=qa("borderBottomColor"),Xre=qa("borderLeftColor"),eie=qa("outline",Ra),tie=qa("outlineColor"),q1=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const r=ab(t.theme,"shape.borderRadius",4),n=o=>({borderRadius:lb(r,o)});return lu(t,t.borderRadius,n)}return null};q1.propTypes={};q1.filterProps=["borderRadius"];U1($re,Hre,Wre,Gre,Yre,Kre,Qre,Jre,Zre,Xre,q1,eie,tie);const V1=t=>{if(t.gap!==void 0&&t.gap!==null){const r=ab(t.theme,"spacing",8),n=o=>({gap:lb(r,o)});return lu(t,t.gap,n)}return null};V1.propTypes={};V1.filterProps=["gap"];const $1=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const r=ab(t.theme,"spacing",8),n=o=>({columnGap:lb(r,o)});return lu(t,t.columnGap,n)}return null};$1.propTypes={};$1.filterProps=["columnGap"];const H1=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const r=ab(t.theme,"spacing",8),n=o=>({rowGap:lb(r,o)});return lu(t,t.rowGap,n)}return null};H1.propTypes={};H1.filterProps=["rowGap"];const nie=Ni({prop:"gridColumn"}),rie=Ni({prop:"gridRow"}),iie=Ni({prop:"gridAutoFlow"}),oie=Ni({prop:"gridAutoColumns"}),sie=Ni({prop:"gridAutoRows"}),aie=Ni({prop:"gridTemplateColumns"}),lie=Ni({prop:"gridTemplateRows"}),cie=Ni({prop:"gridTemplateAreas"}),uie=Ni({prop:"gridArea"});U1(V1,$1,H1,nie,rie,iie,oie,sie,aie,lie,cie,uie);function bp(t,r){return r==="grey"?r:t}const die=Ni({prop:"color",themeKey:"palette",transform:bp}),hie=Ni({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:bp}),fie=Ni({prop:"backgroundColor",themeKey:"palette",transform:bp});U1(die,hie,fie);function Qs(t){return t<=1&&t!==0?`${t*100}%`:t}const pie=Ni({prop:"width",transform:Qs}),AC=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const r=n=>{var a,l,d,h,p;const o=((d=(l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.values)==null?void 0:d[n])||F1[n];return o?((p=(h=t.theme)==null?void 0:h.breakpoints)==null?void 0:p.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Qs(n)}};return lu(t,t.maxWidth,r)}return null};AC.filterProps=["maxWidth"];const mie=Ni({prop:"minWidth",transform:Qs}),gie=Ni({prop:"height",transform:Qs}),bie=Ni({prop:"maxHeight",transform:Qs}),kie=Ni({prop:"minHeight",transform:Qs});Ni({prop:"size",cssProperty:"width",transform:Qs});Ni({prop:"size",cssProperty:"height",transform:Qs});const wie=Ni({prop:"boxSizing"});U1(pie,AC,mie,gie,bie,kie,wie);const Gj={border:{themeKey:"borders",transform:Ra},borderTop:{themeKey:"borders",transform:Ra},borderRight:{themeKey:"borders",transform:Ra},borderBottom:{themeKey:"borders",transform:Ra},borderLeft:{themeKey:"borders",transform:Ra},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ra},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:q1},color:{themeKey:"palette",transform:bp},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:bp},backgroundColor:{themeKey:"palette",transform:bp},p:{style:ui},pt:{style:ui},pr:{style:ui},pb:{style:ui},pl:{style:ui},px:{style:ui},py:{style:ui},padding:{style:ui},paddingTop:{style:ui},paddingRight:{style:ui},paddingBottom:{style:ui},paddingLeft:{style:ui},paddingX:{style:ui},paddingY:{style:ui},paddingInline:{style:ui},paddingInlineStart:{style:ui},paddingInlineEnd:{style:ui},paddingBlock:{style:ui},paddingBlockStart:{style:ui},paddingBlockEnd:{style:ui},m:{style:ci},mt:{style:ci},mr:{style:ci},mb:{style:ci},ml:{style:ci},mx:{style:ci},my:{style:ci},margin:{style:ci},marginTop:{style:ci},marginRight:{style:ci},marginBottom:{style:ci},marginLeft:{style:ci},marginX:{style:ci},marginY:{style:ci},marginInline:{style:ci},marginInlineStart:{style:ci},marginInlineEnd:{style:ci},marginBlock:{style:ci},marginBlockStart:{style:ci},marginBlockEnd:{style:ci},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:V1},rowGap:{style:H1},columnGap:{style:$1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Qs},maxWidth:{style:AC},minWidth:{transform:Qs},height:{transform:Qs},maxHeight:{transform:Qs},minHeight:{transform:Qs},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function yie(...t){const r=t.reduce((o,a)=>o.concat(Object.keys(a)),[]),n=new Set(r);return t.every(o=>n.size===Object.keys(o).length)}function vie(t,r){return typeof t=="function"?t(r):t}function Aie(){function t(n,o,a,l){const d={[n]:o,theme:a},h=l[n];if(!h)return{[n]:o};const{cssProperty:p=n,themeKey:g,transform:b,style:y}=h;if(o==null)return null;if(g==="typography"&&o==="inherit")return{[n]:o};const v=z1(a,g)||{};return y?y(d):lu(d,o,x=>{let C=c1(v,b,x);return x===C&&typeof x=="string"&&(C=c1(v,b,`${n}${x==="default"?"":$j(x)}`,x)),p===!1?C:{[p]:C}})}function r(n){const{sx:o,theme:a={},nested:l}=n||{};if(!o)return null;const d=a.unstable_sxConfig??Gj;function h(p){let g=p;if(typeof p=="function")g=p(a);else if(typeof p!="object")return p;if(!g)return null;const b=Lre(a.breakpoints),y=Object.keys(b);let v=b;return Object.keys(g).forEach(k=>{const x=vie(g[k],a);if(x!=null)if(typeof x=="object")if(d[k])v=Ag(v,t(k,x,a,d));else{const C=lu({theme:a},x,D=>({[k]:D}));yie(C,x)?v[k]=r({sx:x,theme:a,nested:!0}):v=Ag(v,C)}else v=Ag(v,t(k,x,a,d))}),!l&&a.modularCssLayers?{"@layer sx":_6(a,x6(y,v))}:_6(a,x6(y,v))}return Array.isArray(o)?o.map(h):h(o)}return r}const u1=Aie();u1.filterProps=["sx"];function _ie(t,r){var o;const n=this;if(n.vars){if(!((o=n.colorSchemes)!=null&&o[t])||typeof n.getColorSchemeSelector!="function")return{};let a=n.getColorSchemeSelector(t);return a==="&"?r:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:r})}return n.palette.mode===t?r:{}}function Cie(t={},...r){const{breakpoints:n={},palette:o={},spacing:a,shape:l={},...d}=t,h=Tre(n),p=Vre(a);let g=l1({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...o},spacing:p,shape:{...Ore,...l}},d);return g=Pre(g),g.applyStyles=_ie,g=r.reduce((b,y)=>l1(b,y),g),g.unstable_sxConfig={...Gj,...d==null?void 0:d.unstable_sxConfig},g.unstable_sx=function(y){return u1({sx:y,theme:this})},g}function xie(t){const{variants:r,...n}=t,o={variants:r,style:Oh(n),isProcessed:!0};return o.style===n||r&&r.forEach(a=>{typeof a.style!="function"&&(a.style=Oh(a.style))}),o}const Sie=Cie();function Kv(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function _h(t,r){return r&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${r}{${String(t.styles)}}`),t}function Eie(t){return t?(r,n)=>n[t]:null}function Die(t,r,n){t.theme=Nie(t.theme)?n:t.theme[r]||t.theme}function Dk(t,r,n){const o=typeof r=="function"?r(t):r;if(Array.isArray(o))return o.flatMap(a=>Dk(t,a,n));if(Array.isArray(o==null?void 0:o.variants)){let a;if(o.isProcessed)a=n?_h(o.style,n):o.style;else{const{variants:l,...d}=o;a=n?_h(Oh(d),n):d}return Yj(t,o.variants,[a],n)}return o!=null&&o.isProcessed?n?_h(Oh(o.style),n):o.style:n?_h(Oh(o),n):o}function Yj(t,r,n=[],o=void 0){var l;let a;e:for(let d=0;d<r.length;d+=1){const h=r[d];if(typeof h.props=="function"){if(a??(a={...t,...t.ownerState,ownerState:t.ownerState}),!h.props(a))continue}else for(const p in h.props)if(t[p]!==h.props[p]&&((l=t.ownerState)==null?void 0:l[p])!==h.props[p])continue e;typeof h.style=="function"?(a??(a={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o?_h(Oh(h.style(a)),o):h.style(a))):n.push(o?_h(Oh(h.style),o):h.style)}return n}function Iie(t={}){const{themeId:r,defaultTheme:n=Sie,rootShouldForwardProp:o=Kv,slotShouldForwardProp:a=Kv}=t;function l(h){Die(h,r,n)}return(h,p={})=>{Dre(h,V=>V.filter(M=>M!==u1));const{name:g,slot:b,skipVariantsResolver:y,skipSx:v,overridesResolver:k=Eie(Pie(b)),...x}=p,C=g&&g.startsWith("Mui")||b?"components":"custom",D=y!==void 0?y:b&&b!=="Root"&&b!=="root"||!1,S=v||!1;let N=Kv;b==="Root"||b==="root"?N=o:b?N=a:Mie(h)&&(N=void 0);const P=Ere(h,{shouldForwardProp:N,label:Tie(),...x}),B=V=>{if(V.__emotion_real===V)return V;if(typeof V=="function")return function(L){return Dk(L,V,L.theme.modularCssLayers?C:void 0)};if(kh(V)){const M=xie(V);return function(q){return M.variants?Dk(q,M,q.theme.modularCssLayers?C:void 0):q.theme.modularCssLayers?_h(M.style,C):M.style}}return V},$=(...V)=>{const M=[],L=V.map(B),q=[];if(M.push(l),g&&k&&q.push(function(G){var ie,se;const ne=(se=(ie=G.theme.components)==null?void 0:ie[g])==null?void 0:se.styleOverrides;if(!ne)return null;const ue={};for(const ye in ne)ue[ye]=Dk(G,ne[ye],G.theme.modularCssLayers?"theme":void 0);return k(G,ue)}),g&&!D&&q.push(function(G){var ue,ie;const R=G.theme,ne=(ie=(ue=R==null?void 0:R.components)==null?void 0:ue[g])==null?void 0:ie.variants;return ne?Yj(G,ne,[],G.theme.modularCssLayers?"theme":void 0):null}),S||q.push(u1),Array.isArray(L[0])){const F=L.shift(),G=new Array(M.length).fill(""),R=new Array(q.length).fill("");let ne;ne=[...G,...F,...R],ne.raw=[...G,...F.raw,...R],M.unshift(ne)}const Q=[...M,...L,...q],H=P(...Q);return h.muiName&&(H.muiName=h.muiName),H};return P.withConfig&&($.withConfig=P.withConfig),$}}function Tie(t,r){return void 0}function Nie(t){for(const r in t)return!1;return!0}function Mie(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Pie(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const Rp=Iie(),tg=Rp(It)({fontWeight:"bold",color:"#fff",backgroundColor:"#123372",fontSize:"1rem",textAlign:"center"}),Oie=Rp(Co)({"& td, & th":{padding:"12px 16px"},"&:nth-of-type(odd)":{backgroundColor:"#f9f9f9"},"&:hover":{backgroundColor:"#e0e0e0"}}),E6=Rp(Ln)({width:40,height:40,padding:0,display:"flex",alignItems:"center",justifyContent:"center",textTransform:"capitalize",borderRadius:"8px",color:"#123372"}),jie=({conversations:t,onViewHistory:r,onDeleteConversation:n,loadingMap:o})=>t.length===0?A.jsx(je,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No conversations available to display."}):A.jsx(Pe,{sx:{mt:3},children:A.jsx(gd,{component:Rn,sx:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.1)",borderRadius:"10px"},children:A.jsxs(bd,{children:[A.jsx(kd,{children:A.jsxs(Co,{children:[A.jsx(tg,{children:"Conversation ID"}),A.jsx(tg,{children:"User ID"}),A.jsx(tg,{children:"Chatbot ID"}),A.jsx(tg,{children:"Timestamp (Started At)"}),A.jsx(tg,{children:"Actions"})]})}),A.jsx(wd,{children:t.length>0?t.map(a=>A.jsxs(Oie,{children:[A.jsx(It,{align:"center",children:a.id}),A.jsx(It,{align:"center",children:a.userId}),A.jsx(It,{align:"center",children:a.chatbotId}),A.jsx(It,{align:"center",children:a.startedAt?new Date(a.startedAt).toLocaleString():"Invalid date"}),A.jsx(It,{align:"center",children:A.jsxs(Pe,{sx:{display:"flex",justifyContent:"center",gap:1},children:[A.jsx(xs,{title:"View Data",children:A.jsx(E6,{onClick:()=>r(a.chatbotId,a.id,a.userId,a.startedAt),color:"primary",disabled:o[a.id],children:o[a.id]?A.jsx(Lr,{size:20,color:"inherit"}):A.jsx($_,{})})}),A.jsx(xs,{title:"Delete Conversation",children:A.jsx(E6,{onClick:()=>n(a.id),color:"error",children:A.jsx(Ks,{})})})]})})]},a.id)):A.jsx(Co,{children:A.jsx(It,{colSpan:5,align:"center",children:"No conversations available for the selected filters."})})})]})})});function Kj(t,r){return function(){return t.apply(r,arguments)}}const{toString:Lie}=Object.prototype,{getPrototypeOf:_C}=Object,{iterator:W1,toStringTag:Qj}=Symbol,G1=(t=>r=>{const n=Lie.call(r);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),wl=t=>(t=t.toLowerCase(),r=>G1(r)===t),Y1=t=>r=>typeof r===t,{isArray:Bp}=Array,zg=Y1("undefined");function Rie(t){return t!==null&&!zg(t)&&t.constructor!==null&&!zg(t.constructor)&&vs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Jj=wl("ArrayBuffer");function Bie(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&Jj(t.buffer),r}const Fie=Y1("string"),vs=Y1("function"),Zj=Y1("number"),K1=t=>t!==null&&typeof t=="object",zie=t=>t===!0||t===!1,Ik=t=>{if(G1(t)!=="object")return!1;const r=_C(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Qj in t)&&!(W1 in t)},Uie=wl("Date"),qie=wl("File"),Vie=wl("Blob"),$ie=wl("FileList"),Hie=t=>K1(t)&&vs(t.pipe),Wie=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||vs(t.append)&&((r=G1(t))==="formdata"||r==="object"&&vs(t.toString)&&t.toString()==="[object FormData]"))},Gie=wl("URLSearchParams"),[Yie,Kie,Qie,Jie]=["ReadableStream","Request","Response","Headers"].map(wl),Zie=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cb(t,r,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let o,a;if(typeof t!="object"&&(t=[t]),Bp(t))for(o=0,a=t.length;o<a;o++)r.call(null,t[o],o,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),d=l.length;let h;for(o=0;o<d;o++)h=l[o],r.call(null,t[h],h,t)}}function Xj(t,r){r=r.toLowerCase();const n=Object.keys(t);let o=n.length,a;for(;o-- >0;)if(a=n[o],r===a.toLowerCase())return a;return null}const Ch=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eL=t=>!zg(t)&&t!==Ch;function a_(){const{caseless:t}=eL(this)&&this||{},r={},n=(o,a)=>{const l=t&&Xj(r,a)||a;Ik(r[l])&&Ik(o)?r[l]=a_(r[l],o):Ik(o)?r[l]=a_({},o):Bp(o)?r[l]=o.slice():r[l]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&cb(arguments[o],n);return r}const Xie=(t,r,n,{allOwnKeys:o}={})=>(cb(r,(a,l)=>{n&&vs(a)?t[l]=Kj(a,n):t[l]=a},{allOwnKeys:o}),t),eoe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),toe=(t,r,n,o)=>{t.prototype=Object.create(r.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),n&&Object.assign(t.prototype,n)},noe=(t,r,n,o)=>{let a,l,d;const h={};if(r=r||{},t==null)return r;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)d=a[l],(!o||o(d,t,r))&&!h[d]&&(r[d]=t[d],h[d]=!0);t=n!==!1&&_C(t)}while(t&&(!n||n(t,r))&&t!==Object.prototype);return r},roe=(t,r,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=r.length;const o=t.indexOf(r,n);return o!==-1&&o===n},ioe=t=>{if(!t)return null;if(Bp(t))return t;let r=t.length;if(!Zj(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=t[r];return n},ooe=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&_C(Uint8Array)),soe=(t,r)=>{const o=(t&&t[W1]).call(t);let a;for(;(a=o.next())&&!a.done;){const l=a.value;r.call(t,l[0],l[1])}},aoe=(t,r)=>{let n;const o=[];for(;(n=t.exec(r))!==null;)o.push(n);return o},loe=wl("HTMLFormElement"),coe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,a){return o.toUpperCase()+a}),D6=(({hasOwnProperty:t})=>(r,n)=>t.call(r,n))(Object.prototype),uoe=wl("RegExp"),tL=(t,r)=>{const n=Object.getOwnPropertyDescriptors(t),o={};cb(n,(a,l)=>{let d;(d=r(a,l,t))!==!1&&(o[l]=d||a)}),Object.defineProperties(t,o)},doe=t=>{tL(t,(r,n)=>{if(vs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=t[n];if(vs(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},hoe=(t,r)=>{const n={},o=a=>{a.forEach(l=>{n[l]=!0})};return Bp(t)?o(t):o(String(t).split(r)),n},foe=()=>{},poe=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function moe(t){return!!(t&&vs(t.append)&&t[Qj]==="FormData"&&t[W1])}const goe=t=>{const r=new Array(10),n=(o,a)=>{if(K1(o)){if(r.indexOf(o)>=0)return;if(!("toJSON"in o)){r[a]=o;const l=Bp(o)?[]:{};return cb(o,(d,h)=>{const p=n(d,a+1);!zg(p)&&(l[h]=p)}),r[a]=void 0,l}}return o};return n(t,0)},boe=wl("AsyncFunction"),koe=t=>t&&(K1(t)||vs(t))&&vs(t.then)&&vs(t.catch),nL=((t,r)=>t?setImmediate:r?((n,o)=>(Ch.addEventListener("message",({source:a,data:l})=>{a===Ch&&l===n&&o.length&&o.shift()()},!1),a=>{o.push(a),Ch.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",vs(Ch.postMessage)),woe=typeof queueMicrotask<"u"?queueMicrotask.bind(Ch):typeof process<"u"&&process.nextTick||nL,yoe=t=>t!=null&&vs(t[W1]),lt={isArray:Bp,isArrayBuffer:Jj,isBuffer:Rie,isFormData:Wie,isArrayBufferView:Bie,isString:Fie,isNumber:Zj,isBoolean:zie,isObject:K1,isPlainObject:Ik,isReadableStream:Yie,isRequest:Kie,isResponse:Qie,isHeaders:Jie,isUndefined:zg,isDate:Uie,isFile:qie,isBlob:Vie,isRegExp:uoe,isFunction:vs,isStream:Hie,isURLSearchParams:Gie,isTypedArray:ooe,isFileList:$ie,forEach:cb,merge:a_,extend:Xie,trim:Zie,stripBOM:eoe,inherits:toe,toFlatObject:noe,kindOf:G1,kindOfTest:wl,endsWith:roe,toArray:ioe,forEachEntry:soe,matchAll:aoe,isHTMLForm:loe,hasOwnProperty:D6,hasOwnProp:D6,reduceDescriptors:tL,freezeMethods:doe,toObjectSet:hoe,toCamelCase:coe,noop:foe,toFiniteNumber:poe,findKey:Xj,global:Ch,isContextDefined:eL,isSpecCompliantForm:moe,toJSONObject:goe,isAsyncFn:boe,isThenable:koe,setImmediate:nL,asap:woe,isIterable:yoe};function _n(t,r,n,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}lt.inherits(_n,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:lt.toJSONObject(this.config),code:this.code,status:this.status}}});const rL=_n.prototype,iL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{iL[t]={value:t}});Object.defineProperties(_n,iL);Object.defineProperty(rL,"isAxiosError",{value:!0});_n.from=(t,r,n,o,a,l)=>{const d=Object.create(rL);return lt.toFlatObject(t,d,function(p){return p!==Error.prototype},h=>h!=="isAxiosError"),_n.call(d,t.message,r,n,o,a),d.cause=t,d.name=t.name,l&&Object.assign(d,l),d};const voe=null;function l_(t){return lt.isPlainObject(t)||lt.isArray(t)}function oL(t){return lt.endsWith(t,"[]")?t.slice(0,-2):t}function I6(t,r,n){return t?t.concat(r).map(function(a,l){return a=oL(a),!n&&l?"["+a+"]":a}).join(n?".":""):r}function Aoe(t){return lt.isArray(t)&&!t.some(l_)}const _oe=lt.toFlatObject(lt,{},null,function(r){return/^is[A-Z]/.test(r)});function Q1(t,r,n){if(!lt.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,n=lt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,D){return!lt.isUndefined(D[C])});const o=n.metaTokens,a=n.visitor||b,l=n.dots,d=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&lt.isSpecCompliantForm(r);if(!lt.isFunction(a))throw new TypeError("visitor must be a function");function g(x){if(x===null)return"";if(lt.isDate(x))return x.toISOString();if(lt.isBoolean(x))return x.toString();if(!p&&lt.isBlob(x))throw new _n("Blob is not supported. Use a Buffer instead.");return lt.isArrayBuffer(x)||lt.isTypedArray(x)?p&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function b(x,C,D){let S=x;if(x&&!D&&typeof x=="object"){if(lt.endsWith(C,"{}"))C=o?C:C.slice(0,-2),x=JSON.stringify(x);else if(lt.isArray(x)&&Aoe(x)||(lt.isFileList(x)||lt.endsWith(C,"[]"))&&(S=lt.toArray(x)))return C=oL(C),S.forEach(function(P,B){!(lt.isUndefined(P)||P===null)&&r.append(d===!0?I6([C],B,l):d===null?C:C+"[]",g(P))}),!1}return l_(x)?!0:(r.append(I6(D,C,l),g(x)),!1)}const y=[],v=Object.assign(_oe,{defaultVisitor:b,convertValue:g,isVisitable:l_});function k(x,C){if(!lt.isUndefined(x)){if(y.indexOf(x)!==-1)throw Error("Circular reference detected in "+C.join("."));y.push(x),lt.forEach(x,function(S,N){(!(lt.isUndefined(S)||S===null)&&a.call(r,S,lt.isString(N)?N.trim():N,C,v))===!0&&k(S,C?C.concat(N):[N])}),y.pop()}}if(!lt.isObject(t))throw new TypeError("data must be an object");return k(t),r}function T6(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return r[o]})}function CC(t,r){this._pairs=[],t&&Q1(t,this,r)}const sL=CC.prototype;sL.append=function(r,n){this._pairs.push([r,n])};sL.toString=function(r){const n=r?function(o){return r.call(this,o,T6)}:T6;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Coe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function aL(t,r,n){if(!r)return t;const o=n&&n.encode||Coe;lt.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(r,n):l=lt.isURLSearchParams(r)?r.toString():new CC(r,n).toString(o),l){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class N6{constructor(){this.handlers=[]}use(r,n,o){return this.handlers.push({fulfilled:r,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){lt.forEach(this.handlers,function(o){o!==null&&r(o)})}}const lL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xoe=typeof URLSearchParams<"u"?URLSearchParams:CC,Soe=typeof FormData<"u"?FormData:null,Eoe=typeof Blob<"u"?Blob:null,Doe={isBrowser:!0,classes:{URLSearchParams:xoe,FormData:Soe,Blob:Eoe},protocols:["http","https","file","blob","url","data"]},xC=typeof window<"u"&&typeof document<"u",c_=typeof navigator=="object"&&navigator||void 0,Ioe=xC&&(!c_||["ReactNative","NativeScript","NS"].indexOf(c_.product)<0),Toe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Noe=xC&&window.location.href||"http://localhost",Moe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xC,hasStandardBrowserEnv:Ioe,hasStandardBrowserWebWorkerEnv:Toe,navigator:c_,origin:Noe},Symbol.toStringTag,{value:"Module"})),Uo={...Moe,...Doe};function Poe(t,r){return Q1(t,new Uo.classes.URLSearchParams,Object.assign({visitor:function(n,o,a,l){return Uo.isNode&&lt.isBuffer(n)?(this.append(o,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},r))}function Ooe(t){return lt.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function joe(t){const r={},n=Object.keys(t);let o;const a=n.length;let l;for(o=0;o<a;o++)l=n[o],r[l]=t[l];return r}function cL(t){function r(n,o,a,l){let d=n[l++];if(d==="__proto__")return!0;const h=Number.isFinite(+d),p=l>=n.length;return d=!d&&lt.isArray(a)?a.length:d,p?(lt.hasOwnProp(a,d)?a[d]=[a[d],o]:a[d]=o,!h):((!a[d]||!lt.isObject(a[d]))&&(a[d]=[]),r(n,o,a[d],l)&&lt.isArray(a[d])&&(a[d]=joe(a[d])),!h)}if(lt.isFormData(t)&&lt.isFunction(t.entries)){const n={};return lt.forEachEntry(t,(o,a)=>{r(Ooe(o),a,n,0)}),n}return null}function Loe(t,r,n){if(lt.isString(t))try{return(r||JSON.parse)(t),lt.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(t)}const ub={transitional:lL,adapter:["xhr","http","fetch"],transformRequest:[function(r,n){const o=n.getContentType()||"",a=o.indexOf("application/json")>-1,l=lt.isObject(r);if(l&&lt.isHTMLForm(r)&&(r=new FormData(r)),lt.isFormData(r))return a?JSON.stringify(cL(r)):r;if(lt.isArrayBuffer(r)||lt.isBuffer(r)||lt.isStream(r)||lt.isFile(r)||lt.isBlob(r)||lt.isReadableStream(r))return r;if(lt.isArrayBufferView(r))return r.buffer;if(lt.isURLSearchParams(r))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let h;if(l){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Poe(r,this.formSerializer).toString();if((h=lt.isFileList(r))||o.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Q1(h?{"files[]":r}:r,p&&new p,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),Loe(r)):r}],transformResponse:[function(r){const n=this.transitional||ub.transitional,o=n&&n.forcedJSONParsing,a=this.responseType==="json";if(lt.isResponse(r)||lt.isReadableStream(r))return r;if(r&&lt.isString(r)&&(o&&!this.responseType||a)){const d=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(r)}catch(h){if(d)throw h.name==="SyntaxError"?_n.from(h,_n.ERR_BAD_RESPONSE,this,null,this.response):h}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Uo.classes.FormData,Blob:Uo.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};lt.forEach(["delete","get","head","post","put","patch"],t=>{ub.headers[t]={}});const Roe=lt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Boe=t=>{const r={};let n,o,a;return t&&t.split(`
`).forEach(function(d){a=d.indexOf(":"),n=d.substring(0,a).trim().toLowerCase(),o=d.substring(a+1).trim(),!(!n||r[n]&&Roe[n])&&(n==="set-cookie"?r[n]?r[n].push(o):r[n]=[o]:r[n]=r[n]?r[n]+", "+o:o)}),r},M6=Symbol("internals");function ng(t){return t&&String(t).trim().toLowerCase()}function Tk(t){return t===!1||t==null?t:lt.isArray(t)?t.map(Tk):String(t)}function Foe(t){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)r[o[1]]=o[2];return r}const zoe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Qv(t,r,n,o,a){if(lt.isFunction(o))return o.call(this,r,n);if(a&&(r=n),!!lt.isString(r)){if(lt.isString(o))return r.indexOf(o)!==-1;if(lt.isRegExp(o))return o.test(r)}}function Uoe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,o)=>n.toUpperCase()+o)}function qoe(t,r){const n=lt.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+n,{value:function(a,l,d){return this[o].call(this,r,a,l,d)},configurable:!0})})}let As=class{constructor(r){r&&this.set(r)}set(r,n,o){const a=this;function l(h,p,g){const b=ng(p);if(!b)throw new Error("header name must be a non-empty string");const y=lt.findKey(a,b);(!y||a[y]===void 0||g===!0||g===void 0&&a[y]!==!1)&&(a[y||p]=Tk(h))}const d=(h,p)=>lt.forEach(h,(g,b)=>l(g,b,p));if(lt.isPlainObject(r)||r instanceof this.constructor)d(r,n);else if(lt.isString(r)&&(r=r.trim())&&!zoe(r))d(Boe(r),n);else if(lt.isObject(r)&&lt.isIterable(r)){let h={},p,g;for(const b of r){if(!lt.isArray(b))throw TypeError("Object iterator must return a key-value pair");h[g=b[0]]=(p=h[g])?lt.isArray(p)?[...p,b[1]]:[p,b[1]]:b[1]}d(h,n)}else r!=null&&l(n,r,o);return this}get(r,n){if(r=ng(r),r){const o=lt.findKey(this,r);if(o){const a=this[o];if(!n)return a;if(n===!0)return Foe(a);if(lt.isFunction(n))return n.call(this,a,o);if(lt.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=ng(r),r){const o=lt.findKey(this,r);return!!(o&&this[o]!==void 0&&(!n||Qv(this,this[o],o,n)))}return!1}delete(r,n){const o=this;let a=!1;function l(d){if(d=ng(d),d){const h=lt.findKey(o,d);h&&(!n||Qv(o,o[h],h,n))&&(delete o[h],a=!0)}}return lt.isArray(r)?r.forEach(l):l(r),a}clear(r){const n=Object.keys(this);let o=n.length,a=!1;for(;o--;){const l=n[o];(!r||Qv(this,this[l],l,r,!0))&&(delete this[l],a=!0)}return a}normalize(r){const n=this,o={};return lt.forEach(this,(a,l)=>{const d=lt.findKey(o,l);if(d){n[d]=Tk(a),delete n[l];return}const h=r?Uoe(l):String(l).trim();h!==l&&delete n[l],n[h]=Tk(a),o[h]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return lt.forEach(this,(o,a)=>{o!=null&&o!==!1&&(n[a]=r&&lt.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const o=new this(r);return n.forEach(a=>o.set(a)),o}static accessor(r){const o=(this[M6]=this[M6]={accessors:{}}).accessors,a=this.prototype;function l(d){const h=ng(d);o[h]||(qoe(a,d),o[h]=!0)}return lt.isArray(r)?r.forEach(l):l(r),this}};As.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);lt.reduceDescriptors(As.prototype,({value:t},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(o){this[n]=o}}});lt.freezeMethods(As);function Jv(t,r){const n=this||ub,o=r||n,a=As.from(o.headers);let l=o.data;return lt.forEach(t,function(h){l=h.call(n,l,a.normalize(),r?r.status:void 0)}),a.normalize(),l}function uL(t){return!!(t&&t.__CANCEL__)}function Fp(t,r,n){_n.call(this,t??"canceled",_n.ERR_CANCELED,r,n),this.name="CanceledError"}lt.inherits(Fp,_n,{__CANCEL__:!0});function dL(t,r,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):r(new _n("Request failed with status code "+n.status,[_n.ERR_BAD_REQUEST,_n.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Voe(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function $oe(t,r){t=t||10;const n=new Array(t),o=new Array(t);let a=0,l=0,d;return r=r!==void 0?r:1e3,function(p){const g=Date.now(),b=o[l];d||(d=g),n[a]=p,o[a]=g;let y=l,v=0;for(;y!==a;)v+=n[y++],y=y%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),g-d<r)return;const k=b&&g-b;return k?Math.round(v*1e3/k):void 0}}function Hoe(t,r){let n=0,o=1e3/r,a,l;const d=(g,b=Date.now())=>{n=b,a=null,l&&(clearTimeout(l),l=null),t.apply(null,g)};return[(...g)=>{const b=Date.now(),y=b-n;y>=o?d(g,b):(a=g,l||(l=setTimeout(()=>{l=null,d(a)},o-y)))},()=>a&&d(a)]}const d1=(t,r,n=3)=>{let o=0;const a=$oe(50,250);return Hoe(l=>{const d=l.loaded,h=l.lengthComputable?l.total:void 0,p=d-o,g=a(p),b=d<=h;o=d;const y={loaded:d,total:h,progress:h?d/h:void 0,bytes:p,rate:g||void 0,estimated:g&&h&&b?(h-d)/g:void 0,event:l,lengthComputable:h!=null,[r?"download":"upload"]:!0};t(y)},n)},P6=(t,r)=>{const n=t!=null;return[o=>r[0]({lengthComputable:n,total:t,loaded:o}),r[1]]},O6=t=>(...r)=>lt.asap(()=>t(...r)),Woe=Uo.hasStandardBrowserEnv?((t,r)=>n=>(n=new URL(n,Uo.origin),t.protocol===n.protocol&&t.host===n.host&&(r||t.port===n.port)))(new URL(Uo.origin),Uo.navigator&&/(msie|trident)/i.test(Uo.navigator.userAgent)):()=>!0,Goe=Uo.hasStandardBrowserEnv?{write(t,r,n,o,a,l){const d=[t+"="+encodeURIComponent(r)];lt.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),lt.isString(o)&&d.push("path="+o),lt.isString(a)&&d.push("domain="+a),l===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Yoe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Koe(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function hL(t,r,n){let o=!Yoe(r);return t&&(o||n==!1)?Koe(t,r):r}const j6=t=>t instanceof As?{...t}:t;function qh(t,r){r=r||{};const n={};function o(g,b,y,v){return lt.isPlainObject(g)&&lt.isPlainObject(b)?lt.merge.call({caseless:v},g,b):lt.isPlainObject(b)?lt.merge({},b):lt.isArray(b)?b.slice():b}function a(g,b,y,v){if(lt.isUndefined(b)){if(!lt.isUndefined(g))return o(void 0,g,y,v)}else return o(g,b,y,v)}function l(g,b){if(!lt.isUndefined(b))return o(void 0,b)}function d(g,b){if(lt.isUndefined(b)){if(!lt.isUndefined(g))return o(void 0,g)}else return o(void 0,b)}function h(g,b,y){if(y in r)return o(g,b);if(y in t)return o(void 0,g)}const p={url:l,method:l,data:l,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:h,headers:(g,b,y)=>a(j6(g),j6(b),y,!0)};return lt.forEach(Object.keys(Object.assign({},t,r)),function(b){const y=p[b]||a,v=y(t[b],r[b],b);lt.isUndefined(v)&&y!==h||(n[b]=v)}),n}const fL=t=>{const r=qh({},t);let{data:n,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:l,headers:d,auth:h}=r;r.headers=d=As.from(d),r.url=aL(hL(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&d.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(lt.isFormData(n)){if(Uo.hasStandardBrowserEnv||Uo.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((p=d.getContentType())!==!1){const[g,...b]=p?p.split(";").map(y=>y.trim()).filter(Boolean):[];d.setContentType([g||"multipart/form-data",...b].join("; "))}}if(Uo.hasStandardBrowserEnv&&(o&&lt.isFunction(o)&&(o=o(r)),o||o!==!1&&Woe(r.url))){const g=a&&l&&Goe.read(l);g&&d.set(a,g)}return r},Qoe=typeof XMLHttpRequest<"u",Joe=Qoe&&function(t){return new Promise(function(n,o){const a=fL(t);let l=a.data;const d=As.from(a.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:g}=a,b,y,v,k,x;function C(){k&&k(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(b),a.signal&&a.signal.removeEventListener("abort",b)}let D=new XMLHttpRequest;D.open(a.method.toUpperCase(),a.url,!0),D.timeout=a.timeout;function S(){if(!D)return;const P=As.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),$={data:!h||h==="text"||h==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:P,config:t,request:D};dL(function(M){n(M),C()},function(M){o(M),C()},$),D=null}"onloadend"in D?D.onloadend=S:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(S)},D.onabort=function(){D&&(o(new _n("Request aborted",_n.ECONNABORTED,t,D)),D=null)},D.onerror=function(){o(new _n("Network Error",_n.ERR_NETWORK,t,D)),D=null},D.ontimeout=function(){let B=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const $=a.transitional||lL;a.timeoutErrorMessage&&(B=a.timeoutErrorMessage),o(new _n(B,$.clarifyTimeoutError?_n.ETIMEDOUT:_n.ECONNABORTED,t,D)),D=null},l===void 0&&d.setContentType(null),"setRequestHeader"in D&&lt.forEach(d.toJSON(),function(B,$){D.setRequestHeader($,B)}),lt.isUndefined(a.withCredentials)||(D.withCredentials=!!a.withCredentials),h&&h!=="json"&&(D.responseType=a.responseType),g&&([v,x]=d1(g,!0),D.addEventListener("progress",v)),p&&D.upload&&([y,k]=d1(p),D.upload.addEventListener("progress",y),D.upload.addEventListener("loadend",k)),(a.cancelToken||a.signal)&&(b=P=>{D&&(o(!P||P.type?new Fp(null,t,D):P),D.abort(),D=null)},a.cancelToken&&a.cancelToken.subscribe(b),a.signal&&(a.signal.aborted?b():a.signal.addEventListener("abort",b)));const N=Voe(a.url);if(N&&Uo.protocols.indexOf(N)===-1){o(new _n("Unsupported protocol "+N+":",_n.ERR_BAD_REQUEST,t));return}D.send(l||null)})},Zoe=(t,r)=>{const{length:n}=t=t?t.filter(Boolean):[];if(r||n){let o=new AbortController,a;const l=function(g){if(!a){a=!0,h();const b=g instanceof Error?g:this.reason;o.abort(b instanceof _n?b:new Fp(b instanceof Error?b.message:b))}};let d=r&&setTimeout(()=>{d=null,l(new _n(`timeout ${r} of ms exceeded`,_n.ETIMEDOUT))},r);const h=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),t=null)};t.forEach(g=>g.addEventListener("abort",l));const{signal:p}=o;return p.unsubscribe=()=>lt.asap(h),p}},Xoe=function*(t,r){let n=t.byteLength;if(n<r){yield t;return}let o=0,a;for(;o<n;)a=o+r,yield t.slice(o,a),o=a},ese=async function*(t,r){for await(const n of tse(t))yield*Xoe(n,r)},tse=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:n,value:o}=await r.read();if(n)break;yield o}}finally{await r.cancel()}},L6=(t,r,n,o)=>{const a=ese(t,r);let l=0,d,h=p=>{d||(d=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:g,value:b}=await a.next();if(g){h(),p.close();return}let y=b.byteLength;if(n){let v=l+=y;n(v)}p.enqueue(new Uint8Array(b))}catch(g){throw h(g),g}},cancel(p){return h(p),a.return()}},{highWaterMark:2})},J1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pL=J1&&typeof ReadableStream=="function",nse=J1&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),mL=(t,...r)=>{try{return!!t(...r)}catch{return!1}},rse=pL&&mL(()=>{let t=!1;const r=new Request(Uo.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),R6=64*1024,u_=pL&&mL(()=>lt.isReadableStream(new Response("").body)),h1={stream:u_&&(t=>t.body)};J1&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!h1[r]&&(h1[r]=lt.isFunction(t[r])?n=>n[r]():(n,o)=>{throw new _n(`Response type '${r}' is not supported`,_n.ERR_NOT_SUPPORT,o)})})})(new Response);const ise=async t=>{if(t==null)return 0;if(lt.isBlob(t))return t.size;if(lt.isSpecCompliantForm(t))return(await new Request(Uo.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(lt.isArrayBufferView(t)||lt.isArrayBuffer(t))return t.byteLength;if(lt.isURLSearchParams(t)&&(t=t+""),lt.isString(t))return(await nse(t)).byteLength},ose=async(t,r)=>{const n=lt.toFiniteNumber(t.getContentLength());return n??ise(r)},sse=J1&&(async t=>{let{url:r,method:n,data:o,signal:a,cancelToken:l,timeout:d,onDownloadProgress:h,onUploadProgress:p,responseType:g,headers:b,withCredentials:y="same-origin",fetchOptions:v}=fL(t);g=g?(g+"").toLowerCase():"text";let k=Zoe([a,l&&l.toAbortSignal()],d),x;const C=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let D;try{if(p&&rse&&n!=="get"&&n!=="head"&&(D=await ose(b,o))!==0){let $=new Request(r,{method:"POST",body:o,duplex:"half"}),V;if(lt.isFormData(o)&&(V=$.headers.get("content-type"))&&b.setContentType(V),$.body){const[M,L]=P6(D,d1(O6(p)));o=L6($.body,R6,M,L)}}lt.isString(y)||(y=y?"include":"omit");const S="credentials"in Request.prototype;x=new Request(r,{...v,signal:k,method:n.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:S?y:void 0});let N=await fetch(x,v);const P=u_&&(g==="stream"||g==="response");if(u_&&(h||P&&C)){const $={};["status","statusText","headers"].forEach(q=>{$[q]=N[q]});const V=lt.toFiniteNumber(N.headers.get("content-length")),[M,L]=h&&P6(V,d1(O6(h),!0))||[];N=new Response(L6(N.body,R6,M,()=>{L&&L(),C&&C()}),$)}g=g||"text";let B=await h1[lt.findKey(h1,g)||"text"](N,t);return!P&&C&&C(),await new Promise(($,V)=>{dL($,V,{data:B,headers:As.from(N.headers),status:N.status,statusText:N.statusText,config:t,request:x})})}catch(S){throw C&&C(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new _n("Network Error",_n.ERR_NETWORK,t,x),{cause:S.cause||S}):_n.from(S,S&&S.code,t,x)}}),d_={http:voe,xhr:Joe,fetch:sse};lt.forEach(d_,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const B6=t=>`- ${t}`,ase=t=>lt.isFunction(t)||t===null||t===!1,gL={getAdapter:t=>{t=lt.isArray(t)?t:[t];const{length:r}=t;let n,o;const a={};for(let l=0;l<r;l++){n=t[l];let d;if(o=n,!ase(n)&&(o=d_[(d=String(n)).toLowerCase()],o===void 0))throw new _n(`Unknown adapter '${d}'`);if(o)break;a[d||"#"+l]=o}if(!o){const l=Object.entries(a).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=r?l.length>1?`since :
`+l.map(B6).join(`
`):" "+B6(l[0]):"as no adapter specified";throw new _n("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:d_};function Zv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Fp(null,t)}function F6(t){return Zv(t),t.headers=As.from(t.headers),t.data=Jv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),gL.getAdapter(t.adapter||ub.adapter)(t).then(function(o){return Zv(t),o.data=Jv.call(t,t.transformResponse,o),o.headers=As.from(o.headers),o},function(o){return uL(o)||(Zv(t),o&&o.response&&(o.response.data=Jv.call(t,t.transformResponse,o.response),o.response.headers=As.from(o.response.headers))),Promise.reject(o)})}const bL="1.10.0",Z1={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{Z1[t]=function(o){return typeof o===t||"a"+(r<1?"n ":" ")+t}});const z6={};Z1.transitional=function(r,n,o){function a(l,d){return"[Axios v"+bL+"] Transitional option '"+l+"'"+d+(o?". "+o:"")}return(l,d,h)=>{if(r===!1)throw new _n(a(d," has been removed"+(n?" in "+n:"")),_n.ERR_DEPRECATED);return n&&!z6[d]&&(z6[d]=!0,console.warn(a(d," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(l,d,h):!0}};Z1.spelling=function(r){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${r}`),!0)};function lse(t,r,n){if(typeof t!="object")throw new _n("options must be an object",_n.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let a=o.length;for(;a-- >0;){const l=o[a],d=r[l];if(d){const h=t[l],p=h===void 0||d(h,l,t);if(p!==!0)throw new _n("option "+l+" must be "+p,_n.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new _n("Unknown option "+l,_n.ERR_BAD_OPTION)}}const Nk={assertOptions:lse,validators:Z1},Gl=Nk.validators;let jh=class{constructor(r){this.defaults=r||{},this.interceptors={request:new N6,response:new N6}}async request(r,n){try{return await this._request(r,n)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?l&&!String(o.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+l):o.stack=l}catch{}}throw o}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=qh(this.defaults,n);const{transitional:o,paramsSerializer:a,headers:l}=n;o!==void 0&&Nk.assertOptions(o,{silentJSONParsing:Gl.transitional(Gl.boolean),forcedJSONParsing:Gl.transitional(Gl.boolean),clarifyTimeoutError:Gl.transitional(Gl.boolean)},!1),a!=null&&(lt.isFunction(a)?n.paramsSerializer={serialize:a}:Nk.assertOptions(a,{encode:Gl.function,serialize:Gl.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Nk.assertOptions(n,{baseUrl:Gl.spelling("baseURL"),withXsrfToken:Gl.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=l&&lt.merge(l.common,l[n.method]);l&&lt.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),n.headers=As.concat(d,l);const h=[];let p=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(p=p&&C.synchronous,h.unshift(C.fulfilled,C.rejected))});const g=[];this.interceptors.response.forEach(function(C){g.push(C.fulfilled,C.rejected)});let b,y=0,v;if(!p){const x=[F6.bind(this),void 0];for(x.unshift.apply(x,h),x.push.apply(x,g),v=x.length,b=Promise.resolve(n);y<v;)b=b.then(x[y++],x[y++]);return b}v=h.length;let k=n;for(y=0;y<v;){const x=h[y++],C=h[y++];try{k=x(k)}catch(D){C.call(this,D);break}}try{b=F6.call(this,k)}catch(x){return Promise.reject(x)}for(y=0,v=g.length;y<v;)b=b.then(g[y++],g[y++]);return b}getUri(r){r=qh(this.defaults,r);const n=hL(r.baseURL,r.url,r.allowAbsoluteUrls);return aL(n,r.params,r.paramsSerializer)}};lt.forEach(["delete","get","head","options"],function(r){jh.prototype[r]=function(n,o){return this.request(qh(o||{},{method:r,url:n,data:(o||{}).data}))}});lt.forEach(["post","put","patch"],function(r){function n(o){return function(l,d,h){return this.request(qh(h||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:d}))}}jh.prototype[r]=n(),jh.prototype[r+"Form"]=n(!0)});let cse=class kL{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const o=this;this.promise.then(a=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](a);o._listeners=null}),this.promise.then=a=>{let l;const d=new Promise(h=>{o.subscribe(h),l=h}).then(a);return d.cancel=function(){o.unsubscribe(l)},d},r(function(l,d,h){o.reason||(o.reason=new Fp(l,d,h),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=o=>{r.abort(o)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new kL(function(a){r=a}),cancel:r}}};function use(t){return function(n){return t.apply(null,n)}}function dse(t){return lt.isObject(t)&&t.isAxiosError===!0}const h_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(h_).forEach(([t,r])=>{h_[r]=t});function wL(t){const r=new jh(t),n=Kj(jh.prototype.request,r);return lt.extend(n,jh.prototype,r,{allOwnKeys:!0}),lt.extend(n,r,null,{allOwnKeys:!0}),n.create=function(a){return wL(qh(t,a))},n}const Ii=wL(ub);Ii.Axios=jh;Ii.CanceledError=Fp;Ii.CancelToken=cse;Ii.isCancel=uL;Ii.VERSION=bL;Ii.toFormData=Q1;Ii.AxiosError=_n;Ii.Cancel=Ii.CanceledError;Ii.all=function(r){return Promise.all(r)};Ii.spread=use;Ii.isAxiosError=dse;Ii.mergeConfig=qh;Ii.AxiosHeaders=As;Ii.formToJSON=t=>cL(lt.isHTMLForm(t)?new FormData(t):t);Ii.getAdapter=gL.getAdapter;Ii.HttpStatusCode=h_;Ii.default=Ii;const{Axios:aye,AxiosError:lye,CanceledError:cye,isCancel:uye,CancelToken:dye,VERSION:hye,all:fye,Cancel:pye,isAxiosError:mye,spread:gye,toFormData:bye,AxiosHeaders:kye,HttpStatusCode:wye,formToJSON:yye,getAdapter:vye,mergeConfig:Aye}=Ii;function sk(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xv={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var U6;function hse(){return U6||(U6=1,function(t,r){(function(n){t.exports=n()})(function(){return function n(o,a,l){function d(g,b){if(!a[g]){if(!o[g]){var y=typeof sk=="function"&&sk;if(!b&&y)return y(g,!0);if(h)return h(g,!0);var v=new Error("Cannot find module '"+g+"'");throw v.code="MODULE_NOT_FOUND",v}var k=a[g]={exports:{}};o[g][0].call(k.exports,function(x){var C=o[g][1][x];return d(C||x)},k,k.exports,n,o,a,l)}return a[g].exports}for(var h=typeof sk=="function"&&sk,p=0;p<l.length;p++)d(l[p]);return d}({1:[function(n,o,a){var l=n("./utils"),d=n("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(p){for(var g,b,y,v,k,x,C,D=[],S=0,N=p.length,P=N,B=l.getTypeOf(p)!=="string";S<p.length;)P=N-S,y=B?(g=p[S++],b=S<N?p[S++]:0,S<N?p[S++]:0):(g=p.charCodeAt(S++),b=S<N?p.charCodeAt(S++):0,S<N?p.charCodeAt(S++):0),v=g>>2,k=(3&g)<<4|b>>4,x=1<P?(15&b)<<2|y>>6:64,C=2<P?63&y:64,D.push(h.charAt(v)+h.charAt(k)+h.charAt(x)+h.charAt(C));return D.join("")},a.decode=function(p){var g,b,y,v,k,x,C=0,D=0,S="data:";if(p.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");var N,P=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===h.charAt(64)&&P--,p.charAt(p.length-2)===h.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=d.uint8array?new Uint8Array(0|P):new Array(0|P);C<p.length;)g=h.indexOf(p.charAt(C++))<<2|(v=h.indexOf(p.charAt(C++)))>>4,b=(15&v)<<4|(k=h.indexOf(p.charAt(C++)))>>2,y=(3&k)<<6|(x=h.indexOf(p.charAt(C++))),N[D++]=g,k!==64&&(N[D++]=b),x!==64&&(N[D++]=y);return N}},{"./support":30,"./utils":32}],2:[function(n,o,a){var l=n("./external"),d=n("./stream/DataWorker"),h=n("./stream/Crc32Probe"),p=n("./stream/DataLengthProbe");function g(b,y,v,k,x){this.compressedSize=b,this.uncompressedSize=y,this.crc32=v,this.compression=k,this.compressedContent=x}g.prototype={getContentWorker:function(){var b=new d(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),y=this;return b.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),b},getCompressedWorker:function(){return new d(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(b,y,v){return b.pipe(new h).pipe(new p("uncompressedSize")).pipe(y.compressWorker(v)).pipe(new p("compressedSize")).withStreamInfo("compression",y)},o.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,o,a){var l=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,o,a){var l=n("./utils"),d=function(){for(var h,p=[],g=0;g<256;g++){h=g;for(var b=0;b<8;b++)h=1&h?3988292384^h>>>1:h>>>1;p[g]=h}return p}();o.exports=function(h,p){return h!==void 0&&h.length?l.getTypeOf(h)!=="string"?function(g,b,y,v){var k=d,x=v+y;g^=-1;for(var C=v;C<x;C++)g=g>>>8^k[255&(g^b[C])];return-1^g}(0|p,h,h.length,0):function(g,b,y,v){var k=d,x=v+y;g^=-1;for(var C=v;C<x;C++)g=g>>>8^k[255&(g^b.charCodeAt(C))];return-1^g}(0|p,h,h.length,0):0}},{"./utils":32}],5:[function(n,o,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,o,a){var l=null;l=typeof Promise<"u"?Promise:n("lie"),o.exports={Promise:l}},{lie:37}],7:[function(n,o,a){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=n("pako"),h=n("./utils"),p=n("./stream/GenericWorker"),g=l?"uint8array":"array";function b(y,v){p.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=v,this.meta={}}a.magic="\b\0",h.inherits(b,p),b.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(g,y.data),!1)},b.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},b.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},b.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(v){y.push({data:v,meta:y.meta})}},a.compressWorker=function(y){return new b("Deflate",y)},a.uncompressWorker=function(){return new b("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,o,a){function l(k,x){var C,D="";for(C=0;C<x;C++)D+=String.fromCharCode(255&k),k>>>=8;return D}function d(k,x,C,D,S,N){var P,B,$=k.file,V=k.compression,M=N!==g.utf8encode,L=h.transformTo("string",N($.name)),q=h.transformTo("string",g.utf8encode($.name)),Q=$.comment,H=h.transformTo("string",N(Q)),F=h.transformTo("string",g.utf8encode(Q)),G=q.length!==$.name.length,R=F.length!==Q.length,ne="",ue="",ie="",se=$.dir,ye=$.date,re={crc32:0,compressedSize:0,uncompressedSize:0};x&&!C||(re.crc32=k.crc32,re.compressedSize=k.compressedSize,re.uncompressedSize=k.uncompressedSize);var _e=0;x&&(_e|=8),M||!G&&!R||(_e|=2048);var Z=0,J=0;se&&(Z|=16),S==="UNIX"?(J=798,Z|=function(fe,le){var Ie=fe;return fe||(Ie=le?16893:33204),(65535&Ie)<<16}($.unixPermissions,se)):(J=20,Z|=function(fe){return 63&(fe||0)}($.dosPermissions)),P=ye.getUTCHours(),P<<=6,P|=ye.getUTCMinutes(),P<<=5,P|=ye.getUTCSeconds()/2,B=ye.getUTCFullYear()-1980,B<<=4,B|=ye.getUTCMonth()+1,B<<=5,B|=ye.getUTCDate(),G&&(ue=l(1,1)+l(b(L),4)+q,ne+="up"+l(ue.length,2)+ue),R&&(ie=l(1,1)+l(b(H),4)+F,ne+="uc"+l(ie.length,2)+ie);var ae="";return ae+=`
\0`,ae+=l(_e,2),ae+=V.magic,ae+=l(P,2),ae+=l(B,2),ae+=l(re.crc32,4),ae+=l(re.compressedSize,4),ae+=l(re.uncompressedSize,4),ae+=l(L.length,2),ae+=l(ne.length,2),{fileRecord:y.LOCAL_FILE_HEADER+ae+L+ne,dirRecord:y.CENTRAL_FILE_HEADER+l(J,2)+ae+l(H.length,2)+"\0\0\0\0"+l(Z,4)+l(D,4)+L+ne+H}}var h=n("../utils"),p=n("../stream/GenericWorker"),g=n("../utf8"),b=n("../crc32"),y=n("../signature");function v(k,x,C,D){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=C,this.encodeFileName=D,this.streamFiles=k,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(v,p),v.prototype.push=function(k){var x=k.meta.percent||0,C=this.entriesCount,D=this._sources.length;this.accumulate?this.contentBuffer.push(k):(this.bytesWritten+=k.data.length,p.prototype.push.call(this,{data:k.data,meta:{currentFile:this.currentFile,percent:C?(x+100*(C-D-1))/C:100}}))},v.prototype.openedSource=function(k){this.currentSourceOffset=this.bytesWritten,this.currentFile=k.file.name;var x=this.streamFiles&&!k.file.dir;if(x){var C=d(k,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:C.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(k){this.accumulate=!1;var x=this.streamFiles&&!k.file.dir,C=d(k,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(C.dirRecord),x)this.push({data:function(D){return y.DATA_DESCRIPTOR+l(D.crc32,4)+l(D.compressedSize,4)+l(D.uncompressedSize,4)}(k),meta:{percent:100}});else for(this.push({data:C.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var k=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var C=this.bytesWritten-k,D=function(S,N,P,B,$){var V=h.transformTo("string",$(B));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(S,2)+l(S,2)+l(N,4)+l(P,4)+l(V.length,2)+V}(this.dirRecords.length,C,k,this.zipComment,this.encodeFileName);this.push({data:D,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(k){this._sources.push(k);var x=this;return k.on("data",function(C){x.processChunk(C)}),k.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),k.on("error",function(C){x.error(C)}),this},v.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(k){var x=this._sources;if(!p.prototype.error.call(this,k))return!1;for(var C=0;C<x.length;C++)try{x[C].error(k)}catch{}return!0},v.prototype.lock=function(){p.prototype.lock.call(this);for(var k=this._sources,x=0;x<k.length;x++)k[x].lock()},o.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,o,a){var l=n("../compressions"),d=n("./ZipFileWorker");a.generateWorker=function(h,p,g){var b=new d(p.streamFiles,g,p.platform,p.encodeFileName),y=0;try{h.forEach(function(v,k){y++;var x=function(N,P){var B=N||P,$=l[B];if(!$)throw new Error(B+" is not a valid compression method !");return $}(k.options.compression,p.compression),C=k.options.compressionOptions||p.compressionOptions||{},D=k.dir,S=k.date;k._compressWorker(x,C).withStreamInfo("file",{name:v,dir:D,date:S,comment:k.comment||"",unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions}).pipe(b)}),b.entriesCount=y}catch(v){b.error(v)}return b}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,o,a){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new l;for(var h in this)typeof this[h]!="function"&&(d[h]=this[h]);return d}}(l.prototype=n("./object")).loadAsync=n("./load"),l.support=n("./support"),l.defaults=n("./defaults"),l.version="3.10.1",l.loadAsync=function(d,h){return new l().loadAsync(d,h)},l.external=n("./external"),o.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,o,a){var l=n("./utils"),d=n("./external"),h=n("./utf8"),p=n("./zipEntries"),g=n("./stream/Crc32Probe"),b=n("./nodejsUtils");function y(v){return new d.Promise(function(k,x){var C=v.decompressed.getContentWorker().pipe(new g);C.on("error",function(D){x(D)}).on("end",function(){C.streamInfo.crc32!==v.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):k()}).resume()})}o.exports=function(v,k){var x=this;return k=l.extend(k||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),b.isNode&&b.isStream(v)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",v,!0,k.optimizedBinaryString,k.base64).then(function(C){var D=new p(k);return D.load(C),D}).then(function(C){var D=[d.Promise.resolve(C)],S=C.files;if(k.checkCRC32)for(var N=0;N<S.length;N++)D.push(y(S[N]));return d.Promise.all(D)}).then(function(C){for(var D=C.shift(),S=D.files,N=0;N<S.length;N++){var P=S[N],B=P.fileNameStr,$=l.resolve(P.fileNameStr);x.file($,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:k.createFolders}),P.dir||(x.file($).unsafeOriginalName=B)}return D.zipComment.length&&(x.comment=D.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,o,a){var l=n("../utils"),d=n("../stream/GenericWorker");function h(p,g){d.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(g)}l.inherits(h,d),h.prototype._bindStream=function(p){var g=this;(this._stream=p).pause(),p.on("data",function(b){g.push({data:b,meta:{percent:0}})}).on("error",function(b){g.isPaused?this.generatedError=b:g.error(b)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},h.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,o,a){var l=n("readable-stream").Readable;function d(h,p,g){l.call(this,p),this._helper=h;var b=this;h.on("data",function(y,v){b.push(y)||b._helper.pause(),g&&g(v)}).on("error",function(y){b.emit("error",y)}).on("end",function(){b.push(null)})}n("../utils").inherits(d,l),d.prototype._read=function(){this._helper.resume()},o.exports=d},{"../utils":32,"readable-stream":16}],14:[function(n,o,a){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,d);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,d)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var d=new Buffer(l);return d.fill(0),d},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(n,o,a){function l($,V,M){var L,q=h.getTypeOf(V),Q=h.extend(M||{},b);Q.date=Q.date||new Date,Q.compression!==null&&(Q.compression=Q.compression.toUpperCase()),typeof Q.unixPermissions=="string"&&(Q.unixPermissions=parseInt(Q.unixPermissions,8)),Q.unixPermissions&&16384&Q.unixPermissions&&(Q.dir=!0),Q.dosPermissions&&16&Q.dosPermissions&&(Q.dir=!0),Q.dir&&($=S($)),Q.createFolders&&(L=D($))&&N.call(this,L,!0);var H=q==="string"&&Q.binary===!1&&Q.base64===!1;M&&M.binary!==void 0||(Q.binary=!H),(V instanceof y&&V.uncompressedSize===0||Q.dir||!V||V.length===0)&&(Q.base64=!1,Q.binary=!0,V="",Q.compression="STORE",q="string");var F=null;F=V instanceof y||V instanceof p?V:x.isNode&&x.isStream(V)?new C($,V):h.prepareContent($,V,Q.binary,Q.optimizedBinaryString,Q.base64);var G=new v($,F,Q);this.files[$]=G}var d=n("./utf8"),h=n("./utils"),p=n("./stream/GenericWorker"),g=n("./stream/StreamHelper"),b=n("./defaults"),y=n("./compressedObject"),v=n("./zipObject"),k=n("./generate"),x=n("./nodejsUtils"),C=n("./nodejs/NodejsStreamInputAdapter"),D=function($){$.slice(-1)==="/"&&($=$.substring(0,$.length-1));var V=$.lastIndexOf("/");return 0<V?$.substring(0,V):""},S=function($){return $.slice(-1)!=="/"&&($+="/"),$},N=function($,V){return V=V!==void 0?V:b.createFolders,$=S($),this.files[$]||l.call(this,$,null,{dir:!0,createFolders:V}),this.files[$]};function P($){return Object.prototype.toString.call($)==="[object RegExp]"}var B={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function($){var V,M,L;for(V in this.files)L=this.files[V],(M=V.slice(this.root.length,V.length))&&V.slice(0,this.root.length)===this.root&&$(M,L)},filter:function($){var V=[];return this.forEach(function(M,L){$(M,L)&&V.push(L)}),V},file:function($,V,M){if(arguments.length!==1)return $=this.root+$,l.call(this,$,V,M),this;if(P($)){var L=$;return this.filter(function(Q,H){return!H.dir&&L.test(Q)})}var q=this.files[this.root+$];return q&&!q.dir?q:null},folder:function($){if(!$)return this;if(P($))return this.filter(function(q,Q){return Q.dir&&$.test(q)});var V=this.root+$,M=N.call(this,V),L=this.clone();return L.root=M.name,L},remove:function($){$=this.root+$;var V=this.files[$];if(V||($.slice(-1)!=="/"&&($+="/"),V=this.files[$]),V&&!V.dir)delete this.files[$];else for(var M=this.filter(function(q,Q){return Q.name.slice(0,$.length)===$}),L=0;L<M.length;L++)delete this.files[M[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function($){var V,M={};try{if((M=h.extend($||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");h.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var L=M.comment||this.comment||"";V=k.generateWorker(this,M,L)}catch(q){(V=new p("error")).error(q)}return new g(V,M.type||"string",M.mimeType)},generateAsync:function($,V){return this.generateInternalStream($).accumulate(V)},generateNodeStream:function($,V){return($=$||{}).type||($.type="nodebuffer"),this.generateInternalStream($).toNodejsStream(V)}};o.exports=B},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,o,a){o.exports=n("stream")},{stream:void 0}],17:[function(n,o,a){var l=n("./DataReader");function d(h){l.call(this,h);for(var p=0;p<this.data.length;p++)h[p]=255&h[p]}n("../utils").inherits(d,l),d.prototype.byteAt=function(h){return this.data[this.zero+h]},d.prototype.lastIndexOfSignature=function(h){for(var p=h.charCodeAt(0),g=h.charCodeAt(1),b=h.charCodeAt(2),y=h.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===p&&this.data[v+1]===g&&this.data[v+2]===b&&this.data[v+3]===y)return v-this.zero;return-1},d.prototype.readAndCheckSignature=function(h){var p=h.charCodeAt(0),g=h.charCodeAt(1),b=h.charCodeAt(2),y=h.charCodeAt(3),v=this.readData(4);return p===v[0]&&g===v[1]&&b===v[2]&&y===v[3]},d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],18:[function(n,o,a){var l=n("../utils");function d(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var p,g=0;for(this.checkOffset(h),p=this.index+h-1;p>=this.index;p--)g=(g<<8)+this.byteAt(p);return this.index+=h,g},readString:function(h){return l.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},o.exports=d},{"../utils":32}],19:[function(n,o,a){var l=n("./Uint8ArrayReader");function d(h){l.call(this,h)}n("../utils").inherits(d,l),d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,o,a){var l=n("./DataReader");function d(h){l.call(this,h)}n("../utils").inherits(d,l),d.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},d.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},d.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],21:[function(n,o,a){var l=n("./ArrayReader");function d(h){l.call(this,h)}n("../utils").inherits(d,l),d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(n,o,a){var l=n("../utils"),d=n("../support"),h=n("./ArrayReader"),p=n("./StringReader"),g=n("./NodeBufferReader"),b=n("./Uint8ArrayReader");o.exports=function(y){var v=l.getTypeOf(y);return l.checkSupport(v),v!=="string"||d.uint8array?v==="nodebuffer"?new g(y):d.uint8array?new b(l.transformTo("uint8array",y)):new h(l.transformTo("array",y)):new p(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,o,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,o,a){var l=n("./GenericWorker"),d=n("../utils");function h(p){l.call(this,"ConvertWorker to "+p),this.destType=p}d.inherits(h,l),h.prototype.processChunk=function(p){this.push({data:d.transformTo(this.destType,p.data),meta:p.meta})},o.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(n,o,a){var l=n("./GenericWorker"),d=n("../crc32");function h(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(h,l),h.prototype.processChunk=function(p){this.streamInfo.crc32=d(p.data,this.streamInfo.crc32||0),this.push(p)},o.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,o,a){var l=n("../utils"),d=n("./GenericWorker");function h(p){d.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}l.inherits(h,d),h.prototype.processChunk=function(p){if(p){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+p.data.length}d.prototype.processChunk.call(this,p)},o.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(n,o,a){var l=n("../utils"),d=n("./GenericWorker");function h(p){d.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(b){g.dataIsReady=!0,g.data=b,g.max=b&&b.length||0,g.type=l.getTypeOf(b),g.isPaused||g._tickAndRepeat()},function(b){g.error(b)})}l.inherits(h,d),h.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,g);break;case"uint8array":p=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":p=this.data.slice(this.index,g)}return this.index=g,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(n,o,a){function l(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,h){return this._listeners[d].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,h){if(this._listeners[d])for(var p=0;p<this._listeners[d].length;p++)this._listeners[d][p].call(this,h)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var h=this;return d.on("data",function(p){h.processChunk(p)}),d.on("end",function(){h.end()}),d.on("error",function(p){h.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,h){return this.extraStreamInfo[d]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},o.exports=l},{}],29:[function(n,o,a){var l=n("../utils"),d=n("./ConvertWorker"),h=n("./GenericWorker"),p=n("../base64"),g=n("../support"),b=n("../external"),y=null;if(g.nodestream)try{y=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(x,C){return new b.Promise(function(D,S){var N=[],P=x._internalType,B=x._outputType,$=x._mimeType;x.on("data",function(V,M){N.push(V),C&&C(M)}).on("error",function(V){N=[],S(V)}).on("end",function(){try{var V=function(M,L,q){switch(M){case"blob":return l.newBlob(l.transformTo("arraybuffer",L),q);case"base64":return p.encode(L);default:return l.transformTo(M,L)}}(B,function(M,L){var q,Q=0,H=null,F=0;for(q=0;q<L.length;q++)F+=L[q].length;switch(M){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(H=new Uint8Array(F),q=0;q<L.length;q++)H.set(L[q],Q),Q+=L[q].length;return H;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+M+"'")}}(P,N),$);D(V)}catch(M){S(M)}N=[]}).resume()})}function k(x,C,D){var S=C;switch(C){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=C,this._mimeType=D,l.checkSupport(S),this._worker=x.pipe(new d(S)),x.lock()}catch(N){this._worker=new h("error"),this._worker.error(N)}}k.prototype={accumulate:function(x){return v(this,x)},on:function(x,C){var D=this;return x==="data"?this._worker.on(x,function(S){C.call(D,S.data,S.meta)}):this._worker.on(x,function(){l.delay(C,arguments,D)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},x)}},o.exports=k},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,o,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var l=new ArrayBuffer(0);try{a.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(l),a.blob=d.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,o,a){for(var l=n("./utils"),d=n("./support"),h=n("./nodejsUtils"),p=n("./stream/GenericWorker"),g=new Array(256),b=0;b<256;b++)g[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;g[254]=g[254]=1;function y(){p.call(this,"utf-8 decode"),this.leftOver=null}function v(){p.call(this,"utf-8 encode")}a.utf8encode=function(k){return d.nodebuffer?h.newBufferFrom(k,"utf-8"):function(x){var C,D,S,N,P,B=x.length,$=0;for(N=0;N<B;N++)(64512&(D=x.charCodeAt(N)))==55296&&N+1<B&&(64512&(S=x.charCodeAt(N+1)))==56320&&(D=65536+(D-55296<<10)+(S-56320),N++),$+=D<128?1:D<2048?2:D<65536?3:4;for(C=d.uint8array?new Uint8Array($):new Array($),N=P=0;P<$;N++)(64512&(D=x.charCodeAt(N)))==55296&&N+1<B&&(64512&(S=x.charCodeAt(N+1)))==56320&&(D=65536+(D-55296<<10)+(S-56320),N++),D<128?C[P++]=D:(D<2048?C[P++]=192|D>>>6:(D<65536?C[P++]=224|D>>>12:(C[P++]=240|D>>>18,C[P++]=128|D>>>12&63),C[P++]=128|D>>>6&63),C[P++]=128|63&D);return C}(k)},a.utf8decode=function(k){return d.nodebuffer?l.transformTo("nodebuffer",k).toString("utf-8"):function(x){var C,D,S,N,P=x.length,B=new Array(2*P);for(C=D=0;C<P;)if((S=x[C++])<128)B[D++]=S;else if(4<(N=g[S]))B[D++]=65533,C+=N-1;else{for(S&=N===2?31:N===3?15:7;1<N&&C<P;)S=S<<6|63&x[C++],N--;1<N?B[D++]=65533:S<65536?B[D++]=S:(S-=65536,B[D++]=55296|S>>10&1023,B[D++]=56320|1023&S)}return B.length!==D&&(B.subarray?B=B.subarray(0,D):B.length=D),l.applyFromCharCode(B)}(k=l.transformTo(d.uint8array?"uint8array":"array",k))},l.inherits(y,p),y.prototype.processChunk=function(k){var x=l.transformTo(d.uint8array?"uint8array":"array",k.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var C=x;(x=new Uint8Array(C.length+this.leftOver.length)).set(this.leftOver,0),x.set(C,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var D=function(N,P){var B;for((P=P||N.length)>N.length&&(P=N.length),B=P-1;0<=B&&(192&N[B])==128;)B--;return B<0||B===0?P:B+g[N[B]]>P?B:P}(x),S=x;D!==x.length&&(d.uint8array?(S=x.subarray(0,D),this.leftOver=x.subarray(D,x.length)):(S=x.slice(0,D),this.leftOver=x.slice(D,x.length))),this.push({data:a.utf8decode(S),meta:k.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=y,l.inherits(v,p),v.prototype.processChunk=function(k){this.push({data:a.utf8encode(k.data),meta:k.meta})},a.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,o,a){var l=n("./support"),d=n("./base64"),h=n("./nodejsUtils"),p=n("./external");function g(C){return C}function b(C,D){for(var S=0;S<C.length;++S)D[S]=255&C.charCodeAt(S);return D}n("setimmediate"),a.newBlob=function(C,D){a.checkSupport("blob");try{return new Blob([C],{type:D})}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return S.append(C),S.getBlob(D)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(C,D,S){var N=[],P=0,B=C.length;if(B<=S)return String.fromCharCode.apply(null,C);for(;P<B;)D==="array"||D==="nodebuffer"?N.push(String.fromCharCode.apply(null,C.slice(P,Math.min(P+S,B)))):N.push(String.fromCharCode.apply(null,C.subarray(P,Math.min(P+S,B)))),P+=S;return N.join("")},stringifyByChar:function(C){for(var D="",S=0;S<C.length;S++)D+=String.fromCharCode(C[S]);return D},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}}()}};function v(C){var D=65536,S=a.getTypeOf(C),N=!0;if(S==="uint8array"?N=y.applyCanBeUsed.uint8array:S==="nodebuffer"&&(N=y.applyCanBeUsed.nodebuffer),N)for(;1<D;)try{return y.stringifyByChunk(C,S,D)}catch{D=Math.floor(D/2)}return y.stringifyByChar(C)}function k(C,D){for(var S=0;S<C.length;S++)D[S]=C[S];return D}a.applyFromCharCode=v;var x={};x.string={string:g,array:function(C){return b(C,new Array(C.length))},arraybuffer:function(C){return x.string.uint8array(C).buffer},uint8array:function(C){return b(C,new Uint8Array(C.length))},nodebuffer:function(C){return b(C,h.allocBuffer(C.length))}},x.array={string:v,array:g,arraybuffer:function(C){return new Uint8Array(C).buffer},uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return h.newBufferFrom(C)}},x.arraybuffer={string:function(C){return v(new Uint8Array(C))},array:function(C){return k(new Uint8Array(C),new Array(C.byteLength))},arraybuffer:g,uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return h.newBufferFrom(new Uint8Array(C))}},x.uint8array={string:v,array:function(C){return k(C,new Array(C.length))},arraybuffer:function(C){return C.buffer},uint8array:g,nodebuffer:function(C){return h.newBufferFrom(C)}},x.nodebuffer={string:v,array:function(C){return k(C,new Array(C.length))},arraybuffer:function(C){return x.nodebuffer.uint8array(C).buffer},uint8array:function(C){return k(C,new Uint8Array(C.length))},nodebuffer:g},a.transformTo=function(C,D){if(D=D||"",!C)return D;a.checkSupport(C);var S=a.getTypeOf(D);return x[S][C](D)},a.resolve=function(C){for(var D=C.split("/"),S=[],N=0;N<D.length;N++){var P=D[N];P==="."||P===""&&N!==0&&N!==D.length-1||(P===".."?S.pop():S.push(P))}return S.join("/")},a.getTypeOf=function(C){return typeof C=="string"?"string":Object.prototype.toString.call(C)==="[object Array]"?"array":l.nodebuffer&&h.isBuffer(C)?"nodebuffer":l.uint8array&&C instanceof Uint8Array?"uint8array":l.arraybuffer&&C instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(C){if(!l[C.toLowerCase()])throw new Error(C+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(C){var D,S,N="";for(S=0;S<(C||"").length;S++)N+="\\x"+((D=C.charCodeAt(S))<16?"0":"")+D.toString(16).toUpperCase();return N},a.delay=function(C,D,S){setImmediate(function(){C.apply(S||null,D||[])})},a.inherits=function(C,D){function S(){}S.prototype=D.prototype,C.prototype=new S},a.extend=function(){var C,D,S={};for(C=0;C<arguments.length;C++)for(D in arguments[C])Object.prototype.hasOwnProperty.call(arguments[C],D)&&S[D]===void 0&&(S[D]=arguments[C][D]);return S},a.prepareContent=function(C,D,S,N,P){return p.Promise.resolve(D).then(function(B){return l.blob&&(B instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(B))!==-1)&&typeof FileReader<"u"?new p.Promise(function($,V){var M=new FileReader;M.onload=function(L){$(L.target.result)},M.onerror=function(L){V(L.target.error)},M.readAsArrayBuffer(B)}):B}).then(function(B){var $=a.getTypeOf(B);return $?($==="arraybuffer"?B=a.transformTo("uint8array",B):$==="string"&&(P?B=d.decode(B):S&&N!==!0&&(B=function(V){return b(V,l.uint8array?new Uint8Array(V.length):new Array(V.length))}(B))),B):p.Promise.reject(new Error("Can't read the data of '"+C+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,o,a){var l=n("./reader/readerFor"),d=n("./utils"),h=n("./signature"),p=n("./zipEntry"),g=n("./support");function b(y){this.files=[],this.loadOptions=y}b.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(v)+", expected "+d.pretty(y)+")")}},isSignature:function(y,v){var k=this.reader.index;this.reader.setIndex(y);var x=this.reader.readString(4)===v;return this.reader.setIndex(k),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),v=g.uint8array?"uint8array":"array",k=d.transformTo(v,y);this.zipComment=this.loadOptions.decodeFileName(k)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,v,k,x=this.zip64EndOfCentralSize-44;0<x;)y=this.reader.readInt(2),v=this.reader.readInt(4),k=this.reader.readData(v),this.zip64ExtensibleData[y]={id:y,length:v,value:k}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,v;for(y=0;y<this.files.length;y++)v=this.files[y],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(y=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var v=y;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var k=this.centralDirOffset+this.centralDirSize;this.zip64&&(k+=20,k+=12+this.zip64EndOfCentralSize);var x=v-k;if(0<x)this.isSignature(v,h.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(y){this.reader=l(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=b},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,o,a){var l=n("./reader/readerFor"),d=n("./utils"),h=n("./compressedObject"),p=n("./crc32"),g=n("./utf8"),b=n("./compressions"),y=n("./support");function v(k,x){this.options=k,this.loadOptions=x}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(k){var x,C;if(k.skip(22),this.fileNameLength=k.readInt(2),C=k.readInt(2),this.fileName=k.readData(this.fileNameLength),k.skip(C),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(D){for(var S in b)if(Object.prototype.hasOwnProperty.call(b,S)&&b[S].magic===D)return b[S];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,x,k.readData(this.compressedSize))},readCentralPart:function(k){this.versionMadeBy=k.readInt(2),k.skip(2),this.bitFlag=k.readInt(2),this.compressionMethod=k.readString(2),this.date=k.readDate(),this.crc32=k.readInt(4),this.compressedSize=k.readInt(4),this.uncompressedSize=k.readInt(4);var x=k.readInt(2);if(this.extraFieldsLength=k.readInt(2),this.fileCommentLength=k.readInt(2),this.diskNumberStart=k.readInt(2),this.internalFileAttributes=k.readInt(2),this.externalFileAttributes=k.readInt(4),this.localHeaderOffset=k.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");k.skip(x),this.readExtraFields(k),this.parseZIP64ExtraField(k),this.fileComment=k.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var k=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),k==0&&(this.dosPermissions=63&this.externalFileAttributes),k==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var k=l(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=k.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=k.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=k.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=k.readInt(4))}},readExtraFields:function(k){var x,C,D,S=k.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});k.index+4<S;)x=k.readInt(2),C=k.readInt(2),D=k.readData(C),this.extraFields[x]={id:x,length:C,value:D};k.setIndex(S)},handleUTF8:function(){var k=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var C=d.transformTo(k,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(C)}var D=this.findExtraFieldUnicodeComment();if(D!==null)this.fileCommentStr=D;else{var S=d.transformTo(k,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var k=this.extraFields[28789];if(k){var x=l(k.value);return x.readInt(1)!==1||p(this.fileName)!==x.readInt(4)?null:g.utf8decode(x.readData(k.length-5))}return null},findExtraFieldUnicodeComment:function(){var k=this.extraFields[25461];if(k){var x=l(k.value);return x.readInt(1)!==1||p(this.fileComment)!==x.readInt(4)?null:g.utf8decode(x.readData(k.length-5))}return null}},o.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,o,a){function l(x,C,D){this.name=x,this.dir=D.dir,this.date=D.date,this.comment=D.comment,this.unixPermissions=D.unixPermissions,this.dosPermissions=D.dosPermissions,this._data=C,this._dataBinary=D.binary,this.options={compression:D.compression,compressionOptions:D.compressionOptions}}var d=n("./stream/StreamHelper"),h=n("./stream/DataWorker"),p=n("./utf8"),g=n("./compressedObject"),b=n("./stream/GenericWorker");l.prototype={internalStream:function(x){var C=null,D="string";try{if(!x)throw new Error("No output type specified.");var S=(D=x.toLowerCase())==="string"||D==="text";D!=="binarystring"&&D!=="text"||(D="string"),C=this._decompressWorker();var N=!this._dataBinary;N&&!S&&(C=C.pipe(new p.Utf8EncodeWorker)),!N&&S&&(C=C.pipe(new p.Utf8DecodeWorker))}catch(P){(C=new b("error")).error(P)}return new d(C,D,"")},async:function(x,C){return this.internalStream(x).accumulate(C)},nodeStream:function(x,C){return this.internalStream(x||"nodebuffer").toNodejsStream(C)},_compressWorker:function(x,C){if(this._data instanceof g&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var D=this._decompressWorker();return this._dataBinary||(D=D.pipe(new p.Utf8EncodeWorker)),g.createWorkerFrom(D,x,C)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof b?this._data:new h(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},k=0;k<y.length;k++)l.prototype[y[k]]=v;o.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,o,a){(function(l){var d,h,p=l.MutationObserver||l.WebKitMutationObserver;if(p){var g=0,b=new p(x),y=l.document.createTextNode("");b.observe(y,{characterData:!0}),d=function(){y.data=g=++g%2}}else if(l.setImmediate||l.MessageChannel===void 0)d="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var C=l.document.createElement("script");C.onreadystatechange=function(){x(),C.onreadystatechange=null,C.parentNode.removeChild(C),C=null},l.document.documentElement.appendChild(C)}:function(){setTimeout(x,0)};else{var v=new l.MessageChannel;v.port1.onmessage=x,d=function(){v.port2.postMessage(0)}}var k=[];function x(){var C,D;h=!0;for(var S=k.length;S;){for(D=k,k=[],C=-1;++C<S;)D[C]();S=k.length}h=!1}o.exports=function(C){k.push(C)!==1||h||d()}}).call(this,typeof td<"u"?td:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,o,a){var l=n("immediate");function d(){}var h={},p=["REJECTED"],g=["FULFILLED"],b=["PENDING"];function y(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,S!==d&&C(this,S)}function v(S,N,P){this.promise=S,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function k(S,N,P){l(function(){var B;try{B=N(P)}catch($){return h.reject(S,$)}B===S?h.reject(S,new TypeError("Cannot resolve promise with itself")):h.resolve(S,B)})}function x(S){var N=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof N=="function")return function(){N.apply(S,arguments)}}function C(S,N){var P=!1;function B(M){P||(P=!0,h.reject(S,M))}function $(M){P||(P=!0,h.resolve(S,M))}var V=D(function(){N($,B)});V.status==="error"&&B(V.value)}function D(S,N){var P={};try{P.value=S(N),P.status="success"}catch(B){P.status="error",P.value=B}return P}(o.exports=y).prototype.finally=function(S){if(typeof S!="function")return this;var N=this.constructor;return this.then(function(P){return N.resolve(S()).then(function(){return P})},function(P){return N.resolve(S()).then(function(){throw P})})},y.prototype.catch=function(S){return this.then(null,S)},y.prototype.then=function(S,N){if(typeof S!="function"&&this.state===g||typeof N!="function"&&this.state===p)return this;var P=new this.constructor(d);return this.state!==b?k(P,this.state===g?S:N,this.outcome):this.queue.push(new v(P,S,N)),P},v.prototype.callFulfilled=function(S){h.resolve(this.promise,S)},v.prototype.otherCallFulfilled=function(S){k(this.promise,this.onFulfilled,S)},v.prototype.callRejected=function(S){h.reject(this.promise,S)},v.prototype.otherCallRejected=function(S){k(this.promise,this.onRejected,S)},h.resolve=function(S,N){var P=D(x,N);if(P.status==="error")return h.reject(S,P.value);var B=P.value;if(B)C(S,B);else{S.state=g,S.outcome=N;for(var $=-1,V=S.queue.length;++$<V;)S.queue[$].callFulfilled(N)}return S},h.reject=function(S,N){S.state=p,S.outcome=N;for(var P=-1,B=S.queue.length;++P<B;)S.queue[P].callRejected(N);return S},y.resolve=function(S){return S instanceof this?S:h.resolve(new this(d),S)},y.reject=function(S){var N=new this(d);return h.reject(N,S)},y.all=function(S){var N=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=S.length,B=!1;if(!P)return this.resolve([]);for(var $=new Array(P),V=0,M=-1,L=new this(d);++M<P;)q(S[M],M);return L;function q(Q,H){N.resolve(Q).then(function(F){$[H]=F,++V!==P||B||(B=!0,h.resolve(L,$))},function(F){B||(B=!0,h.reject(L,F))})}},y.race=function(S){var N=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=S.length,B=!1;if(!P)return this.resolve([]);for(var $=-1,V=new this(d);++$<P;)M=S[$],N.resolve(M).then(function(L){B||(B=!0,h.resolve(V,L))},function(L){B||(B=!0,h.reject(V,L))});var M;return V}},{immediate:36}],38:[function(n,o,a){var l={};(0,n("./lib/utils/common").assign)(l,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),o.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,o,a){var l=n("./zlib/deflate"),d=n("./utils/common"),h=n("./utils/strings"),p=n("./zlib/messages"),g=n("./zlib/zstream"),b=Object.prototype.toString,y=0,v=-1,k=0,x=8;function C(S){if(!(this instanceof C))return new C(S);this.options=d.assign({level:v,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:k,to:""},S||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var P=l.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(P!==y)throw new Error(p[P]);if(N.header&&l.deflateSetHeader(this.strm,N.header),N.dictionary){var B;if(B=typeof N.dictionary=="string"?h.string2buf(N.dictionary):b.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(P=l.deflateSetDictionary(this.strm,B))!==y)throw new Error(p[P]);this._dict_set=!0}}function D(S,N){var P=new C(N);if(P.push(S,!0),P.err)throw P.msg||p[P.err];return P.result}C.prototype.push=function(S,N){var P,B,$=this.strm,V=this.options.chunkSize;if(this.ended)return!1;B=N===~~N?N:N===!0?4:0,typeof S=="string"?$.input=h.string2buf(S):b.call(S)==="[object ArrayBuffer]"?$.input=new Uint8Array(S):$.input=S,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new d.Buf8(V),$.next_out=0,$.avail_out=V),(P=l.deflate($,B))!==1&&P!==y)return this.onEnd(P),!(this.ended=!0);$.avail_out!==0&&($.avail_in!==0||B!==4&&B!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(d.shrinkBuf($.output,$.next_out))):this.onData(d.shrinkBuf($.output,$.next_out)))}while((0<$.avail_in||$.avail_out===0)&&P!==1);return B===4?(P=l.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===y):B!==2||(this.onEnd(y),!($.avail_out=0))},C.prototype.onData=function(S){this.chunks.push(S)},C.prototype.onEnd=function(S){S===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},a.Deflate=C,a.deflate=D,a.deflateRaw=function(S,N){return(N=N||{}).raw=!0,D(S,N)},a.gzip=function(S,N){return(N=N||{}).gzip=!0,D(S,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,o,a){var l=n("./zlib/inflate"),d=n("./utils/common"),h=n("./utils/strings"),p=n("./zlib/constants"),g=n("./zlib/messages"),b=n("./zlib/zstream"),y=n("./zlib/gzheader"),v=Object.prototype.toString;function k(C){if(!(this instanceof k))return new k(C);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},C||{});var D=this.options;D.raw&&0<=D.windowBits&&D.windowBits<16&&(D.windowBits=-D.windowBits,D.windowBits===0&&(D.windowBits=-15)),!(0<=D.windowBits&&D.windowBits<16)||C&&C.windowBits||(D.windowBits+=32),15<D.windowBits&&D.windowBits<48&&(15&D.windowBits)==0&&(D.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var S=l.inflateInit2(this.strm,D.windowBits);if(S!==p.Z_OK)throw new Error(g[S]);this.header=new y,l.inflateGetHeader(this.strm,this.header)}function x(C,D){var S=new k(D);if(S.push(C,!0),S.err)throw S.msg||g[S.err];return S.result}k.prototype.push=function(C,D){var S,N,P,B,$,V,M=this.strm,L=this.options.chunkSize,q=this.options.dictionary,Q=!1;if(this.ended)return!1;N=D===~~D?D:D===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof C=="string"?M.input=h.binstring2buf(C):v.call(C)==="[object ArrayBuffer]"?M.input=new Uint8Array(C):M.input=C,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new d.Buf8(L),M.next_out=0,M.avail_out=L),(S=l.inflate(M,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&q&&(V=typeof q=="string"?h.string2buf(q):v.call(q)==="[object ArrayBuffer]"?new Uint8Array(q):q,S=l.inflateSetDictionary(this.strm,V)),S===p.Z_BUF_ERROR&&Q===!0&&(S=p.Z_OK,Q=!1),S!==p.Z_STREAM_END&&S!==p.Z_OK)return this.onEnd(S),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&S!==p.Z_STREAM_END&&(M.avail_in!==0||N!==p.Z_FINISH&&N!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=h.utf8border(M.output,M.next_out),B=M.next_out-P,$=h.buf2string(M.output,P),M.next_out=B,M.avail_out=L-B,B&&d.arraySet(M.output,M.output,P,B,0),this.onData($)):this.onData(d.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(Q=!0)}while((0<M.avail_in||M.avail_out===0)&&S!==p.Z_STREAM_END);return S===p.Z_STREAM_END&&(N=p.Z_FINISH),N===p.Z_FINISH?(S=l.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===p.Z_OK):N!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(M.avail_out=0))},k.prototype.onData=function(C){this.chunks.push(C)},k.prototype.onEnd=function(C){C===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},a.Inflate=k,a.inflate=x,a.inflateRaw=function(C,D){return(D=D||{}).raw=!0,x(C,D)},a.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,o,a){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(p){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var b=g.shift();if(b){if(typeof b!="object")throw new TypeError(b+"must be non-object");for(var y in b)b.hasOwnProperty(y)&&(p[y]=b[y])}}return p},a.shrinkBuf=function(p,g){return p.length===g?p:p.subarray?p.subarray(0,g):(p.length=g,p)};var d={arraySet:function(p,g,b,y,v){if(g.subarray&&p.subarray)p.set(g.subarray(b,b+y),v);else for(var k=0;k<y;k++)p[v+k]=g[b+k]},flattenChunks:function(p){var g,b,y,v,k,x;for(g=y=0,b=p.length;g<b;g++)y+=p[g].length;for(x=new Uint8Array(y),g=v=0,b=p.length;g<b;g++)k=p[g],x.set(k,v),v+=k.length;return x}},h={arraySet:function(p,g,b,y,v){for(var k=0;k<y;k++)p[v+k]=g[b+k]},flattenChunks:function(p){return[].concat.apply([],p)}};a.setTyped=function(p){p?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,d)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,h))},a.setTyped(l)},{}],42:[function(n,o,a){var l=n("./common"),d=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var p=new l.Buf8(256),g=0;g<256;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function b(y,v){if(v<65537&&(y.subarray&&h||!y.subarray&&d))return String.fromCharCode.apply(null,l.shrinkBuf(y,v));for(var k="",x=0;x<v;x++)k+=String.fromCharCode(y[x]);return k}p[254]=p[254]=1,a.string2buf=function(y){var v,k,x,C,D,S=y.length,N=0;for(C=0;C<S;C++)(64512&(k=y.charCodeAt(C)))==55296&&C+1<S&&(64512&(x=y.charCodeAt(C+1)))==56320&&(k=65536+(k-55296<<10)+(x-56320),C++),N+=k<128?1:k<2048?2:k<65536?3:4;for(v=new l.Buf8(N),C=D=0;D<N;C++)(64512&(k=y.charCodeAt(C)))==55296&&C+1<S&&(64512&(x=y.charCodeAt(C+1)))==56320&&(k=65536+(k-55296<<10)+(x-56320),C++),k<128?v[D++]=k:(k<2048?v[D++]=192|k>>>6:(k<65536?v[D++]=224|k>>>12:(v[D++]=240|k>>>18,v[D++]=128|k>>>12&63),v[D++]=128|k>>>6&63),v[D++]=128|63&k);return v},a.buf2binstring=function(y){return b(y,y.length)},a.binstring2buf=function(y){for(var v=new l.Buf8(y.length),k=0,x=v.length;k<x;k++)v[k]=y.charCodeAt(k);return v},a.buf2string=function(y,v){var k,x,C,D,S=v||y.length,N=new Array(2*S);for(k=x=0;k<S;)if((C=y[k++])<128)N[x++]=C;else if(4<(D=p[C]))N[x++]=65533,k+=D-1;else{for(C&=D===2?31:D===3?15:7;1<D&&k<S;)C=C<<6|63&y[k++],D--;1<D?N[x++]=65533:C<65536?N[x++]=C:(C-=65536,N[x++]=55296|C>>10&1023,N[x++]=56320|1023&C)}return b(N,x)},a.utf8border=function(y,v){var k;for((v=v||y.length)>y.length&&(v=y.length),k=v-1;0<=k&&(192&y[k])==128;)k--;return k<0||k===0?v:k+p[y[k]]>v?k:v}},{"./common":41}],43:[function(n,o,a){o.exports=function(l,d,h,p){for(var g=65535&l|0,b=l>>>16&65535|0,y=0;h!==0;){for(h-=y=2e3<h?2e3:h;b=b+(g=g+d[p++]|0)|0,--y;);g%=65521,b%=65521}return g|b<<16|0}},{}],44:[function(n,o,a){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,o,a){var l=function(){for(var d,h=[],p=0;p<256;p++){d=p;for(var g=0;g<8;g++)d=1&d?3988292384^d>>>1:d>>>1;h[p]=d}return h}();o.exports=function(d,h,p,g){var b=l,y=g+p;d^=-1;for(var v=g;v<y;v++)d=d>>>8^b[255&(d^h[v])];return-1^d}},{}],46:[function(n,o,a){var l,d=n("../utils/common"),h=n("./trees"),p=n("./adler32"),g=n("./crc32"),b=n("./messages"),y=0,v=4,k=0,x=-2,C=-1,D=4,S=2,N=8,P=9,B=286,$=30,V=19,M=2*B+1,L=15,q=3,Q=258,H=Q+q+1,F=42,G=113,R=1,ne=2,ue=3,ie=4;function se(X,Ce){return X.msg=b[Ce],Ce}function ye(X){return(X<<1)-(4<X?9:0)}function re(X){for(var Ce=X.length;0<=--Ce;)X[Ce]=0}function _e(X){var Ce=X.state,he=Ce.pending;he>X.avail_out&&(he=X.avail_out),he!==0&&(d.arraySet(X.output,Ce.pending_buf,Ce.pending_out,he,X.next_out),X.next_out+=he,Ce.pending_out+=he,X.total_out+=he,X.avail_out-=he,Ce.pending-=he,Ce.pending===0&&(Ce.pending_out=0))}function Z(X,Ce){h._tr_flush_block(X,0<=X.block_start?X.block_start:-1,X.strstart-X.block_start,Ce),X.block_start=X.strstart,_e(X.strm)}function J(X,Ce){X.pending_buf[X.pending++]=Ce}function ae(X,Ce){X.pending_buf[X.pending++]=Ce>>>8&255,X.pending_buf[X.pending++]=255&Ce}function fe(X,Ce){var he,be,pe=X.max_chain_length,Ae=X.strstart,Oe=X.prev_length,Me=X.nice_match,De=X.strstart>X.w_size-H?X.strstart-(X.w_size-H):0,qe=X.window,Ve=X.w_mask,He=X.prev,st=X.strstart+Q,Ue=qe[Ae+Oe-1],Ke=qe[Ae+Oe];X.prev_length>=X.good_match&&(pe>>=2),Me>X.lookahead&&(Me=X.lookahead);do if(qe[(he=Ce)+Oe]===Ke&&qe[he+Oe-1]===Ue&&qe[he]===qe[Ae]&&qe[++he]===qe[Ae+1]){Ae+=2,he++;do;while(qe[++Ae]===qe[++he]&&qe[++Ae]===qe[++he]&&qe[++Ae]===qe[++he]&&qe[++Ae]===qe[++he]&&qe[++Ae]===qe[++he]&&qe[++Ae]===qe[++he]&&qe[++Ae]===qe[++he]&&qe[++Ae]===qe[++he]&&Ae<st);if(be=Q-(st-Ae),Ae=st-Q,Oe<be){if(X.match_start=Ce,Me<=(Oe=be))break;Ue=qe[Ae+Oe-1],Ke=qe[Ae+Oe]}}while((Ce=He[Ce&Ve])>De&&--pe!=0);return Oe<=X.lookahead?Oe:X.lookahead}function le(X){var Ce,he,be,pe,Ae,Oe,Me,De,qe,Ve,He=X.w_size;do{if(pe=X.window_size-X.lookahead-X.strstart,X.strstart>=He+(He-H)){for(d.arraySet(X.window,X.window,He,He,0),X.match_start-=He,X.strstart-=He,X.block_start-=He,Ce=he=X.hash_size;be=X.head[--Ce],X.head[Ce]=He<=be?be-He:0,--he;);for(Ce=he=He;be=X.prev[--Ce],X.prev[Ce]=He<=be?be-He:0,--he;);pe+=He}if(X.strm.avail_in===0)break;if(Oe=X.strm,Me=X.window,De=X.strstart+X.lookahead,qe=pe,Ve=void 0,Ve=Oe.avail_in,qe<Ve&&(Ve=qe),he=Ve===0?0:(Oe.avail_in-=Ve,d.arraySet(Me,Oe.input,Oe.next_in,Ve,De),Oe.state.wrap===1?Oe.adler=p(Oe.adler,Me,Ve,De):Oe.state.wrap===2&&(Oe.adler=g(Oe.adler,Me,Ve,De)),Oe.next_in+=Ve,Oe.total_in+=Ve,Ve),X.lookahead+=he,X.lookahead+X.insert>=q)for(Ae=X.strstart-X.insert,X.ins_h=X.window[Ae],X.ins_h=(X.ins_h<<X.hash_shift^X.window[Ae+1])&X.hash_mask;X.insert&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[Ae+q-1])&X.hash_mask,X.prev[Ae&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=Ae,Ae++,X.insert--,!(X.lookahead+X.insert<q)););}while(X.lookahead<H&&X.strm.avail_in!==0)}function Ie(X,Ce){for(var he,be;;){if(X.lookahead<H){if(le(X),X.lookahead<H&&Ce===y)return R;if(X.lookahead===0)break}if(he=0,X.lookahead>=q&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+q-1])&X.hash_mask,he=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),he!==0&&X.strstart-he<=X.w_size-H&&(X.match_length=fe(X,he)),X.match_length>=q)if(be=h._tr_tally(X,X.strstart-X.match_start,X.match_length-q),X.lookahead-=X.match_length,X.match_length<=X.max_lazy_match&&X.lookahead>=q){for(X.match_length--;X.strstart++,X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+q-1])&X.hash_mask,he=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart,--X.match_length!=0;);X.strstart++}else X.strstart+=X.match_length,X.match_length=0,X.ins_h=X.window[X.strstart],X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+1])&X.hash_mask;else be=h._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++;if(be&&(Z(X,!1),X.strm.avail_out===0))return R}return X.insert=X.strstart<q-1?X.strstart:q-1,Ce===v?(Z(X,!0),X.strm.avail_out===0?ue:ie):X.last_lit&&(Z(X,!1),X.strm.avail_out===0)?R:ne}function xe(X,Ce){for(var he,be,pe;;){if(X.lookahead<H){if(le(X),X.lookahead<H&&Ce===y)return R;if(X.lookahead===0)break}if(he=0,X.lookahead>=q&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+q-1])&X.hash_mask,he=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),X.prev_length=X.match_length,X.prev_match=X.match_start,X.match_length=q-1,he!==0&&X.prev_length<X.max_lazy_match&&X.strstart-he<=X.w_size-H&&(X.match_length=fe(X,he),X.match_length<=5&&(X.strategy===1||X.match_length===q&&4096<X.strstart-X.match_start)&&(X.match_length=q-1)),X.prev_length>=q&&X.match_length<=X.prev_length){for(pe=X.strstart+X.lookahead-q,be=h._tr_tally(X,X.strstart-1-X.prev_match,X.prev_length-q),X.lookahead-=X.prev_length-1,X.prev_length-=2;++X.strstart<=pe&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+q-1])&X.hash_mask,he=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),--X.prev_length!=0;);if(X.match_available=0,X.match_length=q-1,X.strstart++,be&&(Z(X,!1),X.strm.avail_out===0))return R}else if(X.match_available){if((be=h._tr_tally(X,0,X.window[X.strstart-1]))&&Z(X,!1),X.strstart++,X.lookahead--,X.strm.avail_out===0)return R}else X.match_available=1,X.strstart++,X.lookahead--}return X.match_available&&(be=h._tr_tally(X,0,X.window[X.strstart-1]),X.match_available=0),X.insert=X.strstart<q-1?X.strstart:q-1,Ce===v?(Z(X,!0),X.strm.avail_out===0?ue:ie):X.last_lit&&(Z(X,!1),X.strm.avail_out===0)?R:ne}function Ne(X,Ce,he,be,pe){this.good_length=X,this.max_lazy=Ce,this.nice_length=he,this.max_chain=be,this.func=pe}function Qe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*M),this.dyn_dtree=new d.Buf16(2*(2*$+1)),this.bl_tree=new d.Buf16(2*(2*V+1)),re(this.dyn_ltree),re(this.dyn_dtree),re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(L+1),this.heap=new d.Buf16(2*B+1),re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*B+1),re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ge(X){var Ce;return X&&X.state?(X.total_in=X.total_out=0,X.data_type=S,(Ce=X.state).pending=0,Ce.pending_out=0,Ce.wrap<0&&(Ce.wrap=-Ce.wrap),Ce.status=Ce.wrap?F:G,X.adler=Ce.wrap===2?0:1,Ce.last_flush=y,h._tr_init(Ce),k):se(X,x)}function Je(X){var Ce=Ge(X);return Ce===k&&function(he){he.window_size=2*he.w_size,re(he.head),he.max_lazy_match=l[he.level].max_lazy,he.good_match=l[he.level].good_length,he.nice_match=l[he.level].nice_length,he.max_chain_length=l[he.level].max_chain,he.strstart=0,he.block_start=0,he.lookahead=0,he.insert=0,he.match_length=he.prev_length=q-1,he.match_available=0,he.ins_h=0}(X.state),Ce}function ze(X,Ce,he,be,pe,Ae){if(!X)return x;var Oe=1;if(Ce===C&&(Ce=6),be<0?(Oe=0,be=-be):15<be&&(Oe=2,be-=16),pe<1||P<pe||he!==N||be<8||15<be||Ce<0||9<Ce||Ae<0||D<Ae)return se(X,x);be===8&&(be=9);var Me=new Qe;return(X.state=Me).strm=X,Me.wrap=Oe,Me.gzhead=null,Me.w_bits=be,Me.w_size=1<<Me.w_bits,Me.w_mask=Me.w_size-1,Me.hash_bits=pe+7,Me.hash_size=1<<Me.hash_bits,Me.hash_mask=Me.hash_size-1,Me.hash_shift=~~((Me.hash_bits+q-1)/q),Me.window=new d.Buf8(2*Me.w_size),Me.head=new d.Buf16(Me.hash_size),Me.prev=new d.Buf16(Me.w_size),Me.lit_bufsize=1<<pe+6,Me.pending_buf_size=4*Me.lit_bufsize,Me.pending_buf=new d.Buf8(Me.pending_buf_size),Me.d_buf=1*Me.lit_bufsize,Me.l_buf=3*Me.lit_bufsize,Me.level=Ce,Me.strategy=Ae,Me.method=he,Je(X)}l=[new Ne(0,0,0,0,function(X,Ce){var he=65535;for(he>X.pending_buf_size-5&&(he=X.pending_buf_size-5);;){if(X.lookahead<=1){if(le(X),X.lookahead===0&&Ce===y)return R;if(X.lookahead===0)break}X.strstart+=X.lookahead,X.lookahead=0;var be=X.block_start+he;if((X.strstart===0||X.strstart>=be)&&(X.lookahead=X.strstart-be,X.strstart=be,Z(X,!1),X.strm.avail_out===0)||X.strstart-X.block_start>=X.w_size-H&&(Z(X,!1),X.strm.avail_out===0))return R}return X.insert=0,Ce===v?(Z(X,!0),X.strm.avail_out===0?ue:ie):(X.strstart>X.block_start&&(Z(X,!1),X.strm.avail_out),R)}),new Ne(4,4,8,4,Ie),new Ne(4,5,16,8,Ie),new Ne(4,6,32,32,Ie),new Ne(4,4,16,16,xe),new Ne(8,16,32,32,xe),new Ne(8,16,128,128,xe),new Ne(8,32,128,256,xe),new Ne(32,128,258,1024,xe),new Ne(32,258,258,4096,xe)],a.deflateInit=function(X,Ce){return ze(X,Ce,N,15,8,0)},a.deflateInit2=ze,a.deflateReset=Je,a.deflateResetKeep=Ge,a.deflateSetHeader=function(X,Ce){return X&&X.state?X.state.wrap!==2?x:(X.state.gzhead=Ce,k):x},a.deflate=function(X,Ce){var he,be,pe,Ae;if(!X||!X.state||5<Ce||Ce<0)return X?se(X,x):x;if(be=X.state,!X.output||!X.input&&X.avail_in!==0||be.status===666&&Ce!==v)return se(X,X.avail_out===0?-5:x);if(be.strm=X,he=be.last_flush,be.last_flush=Ce,be.status===F)if(be.wrap===2)X.adler=0,J(be,31),J(be,139),J(be,8),be.gzhead?(J(be,(be.gzhead.text?1:0)+(be.gzhead.hcrc?2:0)+(be.gzhead.extra?4:0)+(be.gzhead.name?8:0)+(be.gzhead.comment?16:0)),J(be,255&be.gzhead.time),J(be,be.gzhead.time>>8&255),J(be,be.gzhead.time>>16&255),J(be,be.gzhead.time>>24&255),J(be,be.level===9?2:2<=be.strategy||be.level<2?4:0),J(be,255&be.gzhead.os),be.gzhead.extra&&be.gzhead.extra.length&&(J(be,255&be.gzhead.extra.length),J(be,be.gzhead.extra.length>>8&255)),be.gzhead.hcrc&&(X.adler=g(X.adler,be.pending_buf,be.pending,0)),be.gzindex=0,be.status=69):(J(be,0),J(be,0),J(be,0),J(be,0),J(be,0),J(be,be.level===9?2:2<=be.strategy||be.level<2?4:0),J(be,3),be.status=G);else{var Oe=N+(be.w_bits-8<<4)<<8;Oe|=(2<=be.strategy||be.level<2?0:be.level<6?1:be.level===6?2:3)<<6,be.strstart!==0&&(Oe|=32),Oe+=31-Oe%31,be.status=G,ae(be,Oe),be.strstart!==0&&(ae(be,X.adler>>>16),ae(be,65535&X.adler)),X.adler=1}if(be.status===69)if(be.gzhead.extra){for(pe=be.pending;be.gzindex<(65535&be.gzhead.extra.length)&&(be.pending!==be.pending_buf_size||(be.gzhead.hcrc&&be.pending>pe&&(X.adler=g(X.adler,be.pending_buf,be.pending-pe,pe)),_e(X),pe=be.pending,be.pending!==be.pending_buf_size));)J(be,255&be.gzhead.extra[be.gzindex]),be.gzindex++;be.gzhead.hcrc&&be.pending>pe&&(X.adler=g(X.adler,be.pending_buf,be.pending-pe,pe)),be.gzindex===be.gzhead.extra.length&&(be.gzindex=0,be.status=73)}else be.status=73;if(be.status===73)if(be.gzhead.name){pe=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>pe&&(X.adler=g(X.adler,be.pending_buf,be.pending-pe,pe)),_e(X),pe=be.pending,be.pending===be.pending_buf_size)){Ae=1;break}Ae=be.gzindex<be.gzhead.name.length?255&be.gzhead.name.charCodeAt(be.gzindex++):0,J(be,Ae)}while(Ae!==0);be.gzhead.hcrc&&be.pending>pe&&(X.adler=g(X.adler,be.pending_buf,be.pending-pe,pe)),Ae===0&&(be.gzindex=0,be.status=91)}else be.status=91;if(be.status===91)if(be.gzhead.comment){pe=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>pe&&(X.adler=g(X.adler,be.pending_buf,be.pending-pe,pe)),_e(X),pe=be.pending,be.pending===be.pending_buf_size)){Ae=1;break}Ae=be.gzindex<be.gzhead.comment.length?255&be.gzhead.comment.charCodeAt(be.gzindex++):0,J(be,Ae)}while(Ae!==0);be.gzhead.hcrc&&be.pending>pe&&(X.adler=g(X.adler,be.pending_buf,be.pending-pe,pe)),Ae===0&&(be.status=103)}else be.status=103;if(be.status===103&&(be.gzhead.hcrc?(be.pending+2>be.pending_buf_size&&_e(X),be.pending+2<=be.pending_buf_size&&(J(be,255&X.adler),J(be,X.adler>>8&255),X.adler=0,be.status=G)):be.status=G),be.pending!==0){if(_e(X),X.avail_out===0)return be.last_flush=-1,k}else if(X.avail_in===0&&ye(Ce)<=ye(he)&&Ce!==v)return se(X,-5);if(be.status===666&&X.avail_in!==0)return se(X,-5);if(X.avail_in!==0||be.lookahead!==0||Ce!==y&&be.status!==666){var Me=be.strategy===2?function(De,qe){for(var Ve;;){if(De.lookahead===0&&(le(De),De.lookahead===0)){if(qe===y)return R;break}if(De.match_length=0,Ve=h._tr_tally(De,0,De.window[De.strstart]),De.lookahead--,De.strstart++,Ve&&(Z(De,!1),De.strm.avail_out===0))return R}return De.insert=0,qe===v?(Z(De,!0),De.strm.avail_out===0?ue:ie):De.last_lit&&(Z(De,!1),De.strm.avail_out===0)?R:ne}(be,Ce):be.strategy===3?function(De,qe){for(var Ve,He,st,Ue,Ke=De.window;;){if(De.lookahead<=Q){if(le(De),De.lookahead<=Q&&qe===y)return R;if(De.lookahead===0)break}if(De.match_length=0,De.lookahead>=q&&0<De.strstart&&(He=Ke[st=De.strstart-1])===Ke[++st]&&He===Ke[++st]&&He===Ke[++st]){Ue=De.strstart+Q;do;while(He===Ke[++st]&&He===Ke[++st]&&He===Ke[++st]&&He===Ke[++st]&&He===Ke[++st]&&He===Ke[++st]&&He===Ke[++st]&&He===Ke[++st]&&st<Ue);De.match_length=Q-(Ue-st),De.match_length>De.lookahead&&(De.match_length=De.lookahead)}if(De.match_length>=q?(Ve=h._tr_tally(De,1,De.match_length-q),De.lookahead-=De.match_length,De.strstart+=De.match_length,De.match_length=0):(Ve=h._tr_tally(De,0,De.window[De.strstart]),De.lookahead--,De.strstart++),Ve&&(Z(De,!1),De.strm.avail_out===0))return R}return De.insert=0,qe===v?(Z(De,!0),De.strm.avail_out===0?ue:ie):De.last_lit&&(Z(De,!1),De.strm.avail_out===0)?R:ne}(be,Ce):l[be.level].func(be,Ce);if(Me!==ue&&Me!==ie||(be.status=666),Me===R||Me===ue)return X.avail_out===0&&(be.last_flush=-1),k;if(Me===ne&&(Ce===1?h._tr_align(be):Ce!==5&&(h._tr_stored_block(be,0,0,!1),Ce===3&&(re(be.head),be.lookahead===0&&(be.strstart=0,be.block_start=0,be.insert=0))),_e(X),X.avail_out===0))return be.last_flush=-1,k}return Ce!==v?k:be.wrap<=0?1:(be.wrap===2?(J(be,255&X.adler),J(be,X.adler>>8&255),J(be,X.adler>>16&255),J(be,X.adler>>24&255),J(be,255&X.total_in),J(be,X.total_in>>8&255),J(be,X.total_in>>16&255),J(be,X.total_in>>24&255)):(ae(be,X.adler>>>16),ae(be,65535&X.adler)),_e(X),0<be.wrap&&(be.wrap=-be.wrap),be.pending!==0?k:1)},a.deflateEnd=function(X){var Ce;return X&&X.state?(Ce=X.state.status)!==F&&Ce!==69&&Ce!==73&&Ce!==91&&Ce!==103&&Ce!==G&&Ce!==666?se(X,x):(X.state=null,Ce===G?se(X,-3):k):x},a.deflateSetDictionary=function(X,Ce){var he,be,pe,Ae,Oe,Me,De,qe,Ve=Ce.length;if(!X||!X.state||(Ae=(he=X.state).wrap)===2||Ae===1&&he.status!==F||he.lookahead)return x;for(Ae===1&&(X.adler=p(X.adler,Ce,Ve,0)),he.wrap=0,Ve>=he.w_size&&(Ae===0&&(re(he.head),he.strstart=0,he.block_start=0,he.insert=0),qe=new d.Buf8(he.w_size),d.arraySet(qe,Ce,Ve-he.w_size,he.w_size,0),Ce=qe,Ve=he.w_size),Oe=X.avail_in,Me=X.next_in,De=X.input,X.avail_in=Ve,X.next_in=0,X.input=Ce,le(he);he.lookahead>=q;){for(be=he.strstart,pe=he.lookahead-(q-1);he.ins_h=(he.ins_h<<he.hash_shift^he.window[be+q-1])&he.hash_mask,he.prev[be&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=be,be++,--pe;);he.strstart=be,he.lookahead=q-1,le(he)}return he.strstart+=he.lookahead,he.block_start=he.strstart,he.insert=he.lookahead,he.lookahead=0,he.match_length=he.prev_length=q-1,he.match_available=0,X.next_in=Me,X.input=De,X.avail_in=Oe,he.wrap=Ae,k},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,o,a){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,o,a){o.exports=function(l,d){var h,p,g,b,y,v,k,x,C,D,S,N,P,B,$,V,M,L,q,Q,H,F,G,R,ne;h=l.state,p=l.next_in,R=l.input,g=p+(l.avail_in-5),b=l.next_out,ne=l.output,y=b-(d-l.avail_out),v=b+(l.avail_out-257),k=h.dmax,x=h.wsize,C=h.whave,D=h.wnext,S=h.window,N=h.hold,P=h.bits,B=h.lencode,$=h.distcode,V=(1<<h.lenbits)-1,M=(1<<h.distbits)-1;e:do{P<15&&(N+=R[p++]<<P,P+=8,N+=R[p++]<<P,P+=8),L=B[N&V];t:for(;;){if(N>>>=q=L>>>24,P-=q,(q=L>>>16&255)===0)ne[b++]=65535&L;else{if(!(16&q)){if((64&q)==0){L=B[(65535&L)+(N&(1<<q)-1)];continue t}if(32&q){h.mode=12;break e}l.msg="invalid literal/length code",h.mode=30;break e}Q=65535&L,(q&=15)&&(P<q&&(N+=R[p++]<<P,P+=8),Q+=N&(1<<q)-1,N>>>=q,P-=q),P<15&&(N+=R[p++]<<P,P+=8,N+=R[p++]<<P,P+=8),L=$[N&M];n:for(;;){if(N>>>=q=L>>>24,P-=q,!(16&(q=L>>>16&255))){if((64&q)==0){L=$[(65535&L)+(N&(1<<q)-1)];continue n}l.msg="invalid distance code",h.mode=30;break e}if(H=65535&L,P<(q&=15)&&(N+=R[p++]<<P,(P+=8)<q&&(N+=R[p++]<<P,P+=8)),k<(H+=N&(1<<q)-1)){l.msg="invalid distance too far back",h.mode=30;break e}if(N>>>=q,P-=q,(q=b-y)<H){if(C<(q=H-q)&&h.sane){l.msg="invalid distance too far back",h.mode=30;break e}if(G=S,(F=0)===D){if(F+=x-q,q<Q){for(Q-=q;ne[b++]=S[F++],--q;);F=b-H,G=ne}}else if(D<q){if(F+=x+D-q,(q-=D)<Q){for(Q-=q;ne[b++]=S[F++],--q;);if(F=0,D<Q){for(Q-=q=D;ne[b++]=S[F++],--q;);F=b-H,G=ne}}}else if(F+=D-q,q<Q){for(Q-=q;ne[b++]=S[F++],--q;);F=b-H,G=ne}for(;2<Q;)ne[b++]=G[F++],ne[b++]=G[F++],ne[b++]=G[F++],Q-=3;Q&&(ne[b++]=G[F++],1<Q&&(ne[b++]=G[F++]))}else{for(F=b-H;ne[b++]=ne[F++],ne[b++]=ne[F++],ne[b++]=ne[F++],2<(Q-=3););Q&&(ne[b++]=ne[F++],1<Q&&(ne[b++]=ne[F++]))}break}}break}}while(p<g&&b<v);p-=Q=P>>3,N&=(1<<(P-=Q<<3))-1,l.next_in=p,l.next_out=b,l.avail_in=p<g?g-p+5:5-(p-g),l.avail_out=b<v?v-b+257:257-(b-v),h.hold=N,h.bits=P}},{}],49:[function(n,o,a){var l=n("../utils/common"),d=n("./adler32"),h=n("./crc32"),p=n("./inffast"),g=n("./inftrees"),b=1,y=2,v=0,k=-2,x=1,C=852,D=592;function S(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(F){var G;return F&&F.state?(G=F.state,F.total_in=F.total_out=G.total=0,F.msg="",G.wrap&&(F.adler=1&G.wrap),G.mode=x,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new l.Buf32(C),G.distcode=G.distdyn=new l.Buf32(D),G.sane=1,G.back=-1,v):k}function B(F){var G;return F&&F.state?((G=F.state).wsize=0,G.whave=0,G.wnext=0,P(F)):k}function $(F,G){var R,ne;return F&&F.state?(ne=F.state,G<0?(R=0,G=-G):(R=1+(G>>4),G<48&&(G&=15)),G&&(G<8||15<G)?k:(ne.window!==null&&ne.wbits!==G&&(ne.window=null),ne.wrap=R,ne.wbits=G,B(F))):k}function V(F,G){var R,ne;return F?(ne=new N,(F.state=ne).window=null,(R=$(F,G))!==v&&(F.state=null),R):k}var M,L,q=!0;function Q(F){if(q){var G;for(M=new l.Buf32(512),L=new l.Buf32(32),G=0;G<144;)F.lens[G++]=8;for(;G<256;)F.lens[G++]=9;for(;G<280;)F.lens[G++]=7;for(;G<288;)F.lens[G++]=8;for(g(b,F.lens,0,288,M,0,F.work,{bits:9}),G=0;G<32;)F.lens[G++]=5;g(y,F.lens,0,32,L,0,F.work,{bits:5}),q=!1}F.lencode=M,F.lenbits=9,F.distcode=L,F.distbits=5}function H(F,G,R,ne){var ue,ie=F.state;return ie.window===null&&(ie.wsize=1<<ie.wbits,ie.wnext=0,ie.whave=0,ie.window=new l.Buf8(ie.wsize)),ne>=ie.wsize?(l.arraySet(ie.window,G,R-ie.wsize,ie.wsize,0),ie.wnext=0,ie.whave=ie.wsize):(ne<(ue=ie.wsize-ie.wnext)&&(ue=ne),l.arraySet(ie.window,G,R-ne,ue,ie.wnext),(ne-=ue)?(l.arraySet(ie.window,G,R-ne,ne,0),ie.wnext=ne,ie.whave=ie.wsize):(ie.wnext+=ue,ie.wnext===ie.wsize&&(ie.wnext=0),ie.whave<ie.wsize&&(ie.whave+=ue))),0}a.inflateReset=B,a.inflateReset2=$,a.inflateResetKeep=P,a.inflateInit=function(F){return V(F,15)},a.inflateInit2=V,a.inflate=function(F,G){var R,ne,ue,ie,se,ye,re,_e,Z,J,ae,fe,le,Ie,xe,Ne,Qe,Ge,Je,ze,X,Ce,he,be,pe=0,Ae=new l.Buf8(4),Oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return k;(R=F.state).mode===12&&(R.mode=13),se=F.next_out,ue=F.output,re=F.avail_out,ie=F.next_in,ne=F.input,ye=F.avail_in,_e=R.hold,Z=R.bits,J=ye,ae=re,Ce=v;e:for(;;)switch(R.mode){case x:if(R.wrap===0){R.mode=13;break}for(;Z<16;){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}if(2&R.wrap&&_e===35615){Ae[R.check=0]=255&_e,Ae[1]=_e>>>8&255,R.check=h(R.check,Ae,2,0),Z=_e=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&_e)<<8)+(_e>>8))%31){F.msg="incorrect header check",R.mode=30;break}if((15&_e)!=8){F.msg="unknown compression method",R.mode=30;break}if(Z-=4,X=8+(15&(_e>>>=4)),R.wbits===0)R.wbits=X;else if(X>R.wbits){F.msg="invalid window size",R.mode=30;break}R.dmax=1<<X,F.adler=R.check=1,R.mode=512&_e?10:12,Z=_e=0;break;case 2:for(;Z<16;){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}if(R.flags=_e,(255&R.flags)!=8){F.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){F.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=_e>>8&1),512&R.flags&&(Ae[0]=255&_e,Ae[1]=_e>>>8&255,R.check=h(R.check,Ae,2,0)),Z=_e=0,R.mode=3;case 3:for(;Z<32;){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}R.head&&(R.head.time=_e),512&R.flags&&(Ae[0]=255&_e,Ae[1]=_e>>>8&255,Ae[2]=_e>>>16&255,Ae[3]=_e>>>24&255,R.check=h(R.check,Ae,4,0)),Z=_e=0,R.mode=4;case 4:for(;Z<16;){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}R.head&&(R.head.xflags=255&_e,R.head.os=_e>>8),512&R.flags&&(Ae[0]=255&_e,Ae[1]=_e>>>8&255,R.check=h(R.check,Ae,2,0)),Z=_e=0,R.mode=5;case 5:if(1024&R.flags){for(;Z<16;){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}R.length=_e,R.head&&(R.head.extra_len=_e),512&R.flags&&(Ae[0]=255&_e,Ae[1]=_e>>>8&255,R.check=h(R.check,Ae,2,0)),Z=_e=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(ye<(fe=R.length)&&(fe=ye),fe&&(R.head&&(X=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),l.arraySet(R.head.extra,ne,ie,fe,X)),512&R.flags&&(R.check=h(R.check,ne,fe,ie)),ye-=fe,ie+=fe,R.length-=fe),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(ye===0)break e;for(fe=0;X=ne[ie+fe++],R.head&&X&&R.length<65536&&(R.head.name+=String.fromCharCode(X)),X&&fe<ye;);if(512&R.flags&&(R.check=h(R.check,ne,fe,ie)),ye-=fe,ie+=fe,X)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(ye===0)break e;for(fe=0;X=ne[ie+fe++],R.head&&X&&R.length<65536&&(R.head.comment+=String.fromCharCode(X)),X&&fe<ye;);if(512&R.flags&&(R.check=h(R.check,ne,fe,ie)),ye-=fe,ie+=fe,X)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;Z<16;){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}if(_e!==(65535&R.check)){F.msg="header crc mismatch",R.mode=30;break}Z=_e=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),F.adler=R.check=0,R.mode=12;break;case 10:for(;Z<32;){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}F.adler=R.check=S(_e),Z=_e=0,R.mode=11;case 11:if(R.havedict===0)return F.next_out=se,F.avail_out=re,F.next_in=ie,F.avail_in=ye,R.hold=_e,R.bits=Z,2;F.adler=R.check=1,R.mode=12;case 12:if(G===5||G===6)break e;case 13:if(R.last){_e>>>=7&Z,Z-=7&Z,R.mode=27;break}for(;Z<3;){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}switch(R.last=1&_e,Z-=1,3&(_e>>>=1)){case 0:R.mode=14;break;case 1:if(Q(R),R.mode=20,G!==6)break;_e>>>=2,Z-=2;break e;case 2:R.mode=17;break;case 3:F.msg="invalid block type",R.mode=30}_e>>>=2,Z-=2;break;case 14:for(_e>>>=7&Z,Z-=7&Z;Z<32;){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}if((65535&_e)!=(_e>>>16^65535)){F.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&_e,Z=_e=0,R.mode=15,G===6)break e;case 15:R.mode=16;case 16:if(fe=R.length){if(ye<fe&&(fe=ye),re<fe&&(fe=re),fe===0)break e;l.arraySet(ue,ne,ie,fe,se),ye-=fe,ie+=fe,re-=fe,se+=fe,R.length-=fe;break}R.mode=12;break;case 17:for(;Z<14;){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}if(R.nlen=257+(31&_e),_e>>>=5,Z-=5,R.ndist=1+(31&_e),_e>>>=5,Z-=5,R.ncode=4+(15&_e),_e>>>=4,Z-=4,286<R.nlen||30<R.ndist){F.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;Z<3;){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}R.lens[Oe[R.have++]]=7&_e,_e>>>=3,Z-=3}for(;R.have<19;)R.lens[Oe[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,he={bits:R.lenbits},Ce=g(0,R.lens,0,19,R.lencode,0,R.work,he),R.lenbits=he.bits,Ce){F.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;Ne=(pe=R.lencode[_e&(1<<R.lenbits)-1])>>>16&255,Qe=65535&pe,!((xe=pe>>>24)<=Z);){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}if(Qe<16)_e>>>=xe,Z-=xe,R.lens[R.have++]=Qe;else{if(Qe===16){for(be=xe+2;Z<be;){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}if(_e>>>=xe,Z-=xe,R.have===0){F.msg="invalid bit length repeat",R.mode=30;break}X=R.lens[R.have-1],fe=3+(3&_e),_e>>>=2,Z-=2}else if(Qe===17){for(be=xe+3;Z<be;){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}Z-=xe,X=0,fe=3+(7&(_e>>>=xe)),_e>>>=3,Z-=3}else{for(be=xe+7;Z<be;){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}Z-=xe,X=0,fe=11+(127&(_e>>>=xe)),_e>>>=7,Z-=7}if(R.have+fe>R.nlen+R.ndist){F.msg="invalid bit length repeat",R.mode=30;break}for(;fe--;)R.lens[R.have++]=X}}if(R.mode===30)break;if(R.lens[256]===0){F.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,he={bits:R.lenbits},Ce=g(b,R.lens,0,R.nlen,R.lencode,0,R.work,he),R.lenbits=he.bits,Ce){F.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,he={bits:R.distbits},Ce=g(y,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,he),R.distbits=he.bits,Ce){F.msg="invalid distances set",R.mode=30;break}if(R.mode=20,G===6)break e;case 20:R.mode=21;case 21:if(6<=ye&&258<=re){F.next_out=se,F.avail_out=re,F.next_in=ie,F.avail_in=ye,R.hold=_e,R.bits=Z,p(F,ae),se=F.next_out,ue=F.output,re=F.avail_out,ie=F.next_in,ne=F.input,ye=F.avail_in,_e=R.hold,Z=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;Ne=(pe=R.lencode[_e&(1<<R.lenbits)-1])>>>16&255,Qe=65535&pe,!((xe=pe>>>24)<=Z);){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}if(Ne&&(240&Ne)==0){for(Ge=xe,Je=Ne,ze=Qe;Ne=(pe=R.lencode[ze+((_e&(1<<Ge+Je)-1)>>Ge)])>>>16&255,Qe=65535&pe,!(Ge+(xe=pe>>>24)<=Z);){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}_e>>>=Ge,Z-=Ge,R.back+=Ge}if(_e>>>=xe,Z-=xe,R.back+=xe,R.length=Qe,Ne===0){R.mode=26;break}if(32&Ne){R.back=-1,R.mode=12;break}if(64&Ne){F.msg="invalid literal/length code",R.mode=30;break}R.extra=15&Ne,R.mode=22;case 22:if(R.extra){for(be=R.extra;Z<be;){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}R.length+=_e&(1<<R.extra)-1,_e>>>=R.extra,Z-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;Ne=(pe=R.distcode[_e&(1<<R.distbits)-1])>>>16&255,Qe=65535&pe,!((xe=pe>>>24)<=Z);){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}if((240&Ne)==0){for(Ge=xe,Je=Ne,ze=Qe;Ne=(pe=R.distcode[ze+((_e&(1<<Ge+Je)-1)>>Ge)])>>>16&255,Qe=65535&pe,!(Ge+(xe=pe>>>24)<=Z);){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}_e>>>=Ge,Z-=Ge,R.back+=Ge}if(_e>>>=xe,Z-=xe,R.back+=xe,64&Ne){F.msg="invalid distance code",R.mode=30;break}R.offset=Qe,R.extra=15&Ne,R.mode=24;case 24:if(R.extra){for(be=R.extra;Z<be;){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}R.offset+=_e&(1<<R.extra)-1,_e>>>=R.extra,Z-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){F.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(re===0)break e;if(fe=ae-re,R.offset>fe){if((fe=R.offset-fe)>R.whave&&R.sane){F.msg="invalid distance too far back",R.mode=30;break}le=fe>R.wnext?(fe-=R.wnext,R.wsize-fe):R.wnext-fe,fe>R.length&&(fe=R.length),Ie=R.window}else Ie=ue,le=se-R.offset,fe=R.length;for(re<fe&&(fe=re),re-=fe,R.length-=fe;ue[se++]=Ie[le++],--fe;);R.length===0&&(R.mode=21);break;case 26:if(re===0)break e;ue[se++]=R.length,re--,R.mode=21;break;case 27:if(R.wrap){for(;Z<32;){if(ye===0)break e;ye--,_e|=ne[ie++]<<Z,Z+=8}if(ae-=re,F.total_out+=ae,R.total+=ae,ae&&(F.adler=R.check=R.flags?h(R.check,ue,ae,se-ae):d(R.check,ue,ae,se-ae)),ae=re,(R.flags?_e:S(_e))!==R.check){F.msg="incorrect data check",R.mode=30;break}Z=_e=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;Z<32;){if(ye===0)break e;ye--,_e+=ne[ie++]<<Z,Z+=8}if(_e!==(4294967295&R.total)){F.msg="incorrect length check",R.mode=30;break}Z=_e=0}R.mode=29;case 29:Ce=1;break e;case 30:Ce=-3;break e;case 31:return-4;case 32:default:return k}return F.next_out=se,F.avail_out=re,F.next_in=ie,F.avail_in=ye,R.hold=_e,R.bits=Z,(R.wsize||ae!==F.avail_out&&R.mode<30&&(R.mode<27||G!==4))&&H(F,F.output,F.next_out,ae-F.avail_out)?(R.mode=31,-4):(J-=F.avail_in,ae-=F.avail_out,F.total_in+=J,F.total_out+=ae,R.total+=ae,R.wrap&&ae&&(F.adler=R.check=R.flags?h(R.check,ue,ae,F.next_out-ae):d(R.check,ue,ae,F.next_out-ae)),F.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(J==0&&ae===0||G===4)&&Ce===v&&(Ce=-5),Ce)},a.inflateEnd=function(F){if(!F||!F.state)return k;var G=F.state;return G.window&&(G.window=null),F.state=null,v},a.inflateGetHeader=function(F,G){var R;return F&&F.state?(2&(R=F.state).wrap)==0?k:((R.head=G).done=!1,v):k},a.inflateSetDictionary=function(F,G){var R,ne=G.length;return F&&F.state?(R=F.state).wrap!==0&&R.mode!==11?k:R.mode===11&&d(1,G,ne,0)!==R.check?-3:H(F,G,ne,ne)?(R.mode=31,-4):(R.havedict=1,v):k},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,o,a){var l=n("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(b,y,v,k,x,C,D,S){var N,P,B,$,V,M,L,q,Q,H=S.bits,F=0,G=0,R=0,ne=0,ue=0,ie=0,se=0,ye=0,re=0,_e=0,Z=null,J=0,ae=new l.Buf16(16),fe=new l.Buf16(16),le=null,Ie=0;for(F=0;F<=15;F++)ae[F]=0;for(G=0;G<k;G++)ae[y[v+G]]++;for(ue=H,ne=15;1<=ne&&ae[ne]===0;ne--);if(ne<ue&&(ue=ne),ne===0)return x[C++]=20971520,x[C++]=20971520,S.bits=1,0;for(R=1;R<ne&&ae[R]===0;R++);for(ue<R&&(ue=R),F=ye=1;F<=15;F++)if(ye<<=1,(ye-=ae[F])<0)return-1;if(0<ye&&(b===0||ne!==1))return-1;for(fe[1]=0,F=1;F<15;F++)fe[F+1]=fe[F]+ae[F];for(G=0;G<k;G++)y[v+G]!==0&&(D[fe[y[v+G]]++]=G);if(M=b===0?(Z=le=D,19):b===1?(Z=d,J-=257,le=h,Ie-=257,256):(Z=p,le=g,-1),F=R,V=C,se=G=_e=0,B=-1,$=(re=1<<(ie=ue))-1,b===1&&852<re||b===2&&592<re)return 1;for(;;){for(L=F-se,Q=D[G]<M?(q=0,D[G]):D[G]>M?(q=le[Ie+D[G]],Z[J+D[G]]):(q=96,0),N=1<<F-se,R=P=1<<ie;x[V+(_e>>se)+(P-=N)]=L<<24|q<<16|Q|0,P!==0;);for(N=1<<F-1;_e&N;)N>>=1;if(N!==0?(_e&=N-1,_e+=N):_e=0,G++,--ae[F]==0){if(F===ne)break;F=y[v+D[G]]}if(ue<F&&(_e&$)!==B){for(se===0&&(se=ue),V+=R,ye=1<<(ie=F-se);ie+se<ne&&!((ye-=ae[ie+se])<=0);)ie++,ye<<=1;if(re+=1<<ie,b===1&&852<re||b===2&&592<re)return 1;x[B=_e&$]=ue<<24|ie<<16|V-C|0}}return _e!==0&&(x[V+_e]=F-se<<24|64<<16|0),S.bits=ue,0}},{"../utils/common":41}],51:[function(n,o,a){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,o,a){var l=n("../utils/common"),d=0,h=1;function p(pe){for(var Ae=pe.length;0<=--Ae;)pe[Ae]=0}var g=0,b=29,y=256,v=y+1+b,k=30,x=19,C=2*v+1,D=15,S=16,N=7,P=256,B=16,$=17,V=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(v+2));p(H);var F=new Array(2*k);p(F);var G=new Array(512);p(G);var R=new Array(256);p(R);var ne=new Array(b);p(ne);var ue,ie,se,ye=new Array(k);function re(pe,Ae,Oe,Me,De){this.static_tree=pe,this.extra_bits=Ae,this.extra_base=Oe,this.elems=Me,this.max_length=De,this.has_stree=pe&&pe.length}function _e(pe,Ae){this.dyn_tree=pe,this.max_code=0,this.stat_desc=Ae}function Z(pe){return pe<256?G[pe]:G[256+(pe>>>7)]}function J(pe,Ae){pe.pending_buf[pe.pending++]=255&Ae,pe.pending_buf[pe.pending++]=Ae>>>8&255}function ae(pe,Ae,Oe){pe.bi_valid>S-Oe?(pe.bi_buf|=Ae<<pe.bi_valid&65535,J(pe,pe.bi_buf),pe.bi_buf=Ae>>S-pe.bi_valid,pe.bi_valid+=Oe-S):(pe.bi_buf|=Ae<<pe.bi_valid&65535,pe.bi_valid+=Oe)}function fe(pe,Ae,Oe){ae(pe,Oe[2*Ae],Oe[2*Ae+1])}function le(pe,Ae){for(var Oe=0;Oe|=1&pe,pe>>>=1,Oe<<=1,0<--Ae;);return Oe>>>1}function Ie(pe,Ae,Oe){var Me,De,qe=new Array(D+1),Ve=0;for(Me=1;Me<=D;Me++)qe[Me]=Ve=Ve+Oe[Me-1]<<1;for(De=0;De<=Ae;De++){var He=pe[2*De+1];He!==0&&(pe[2*De]=le(qe[He]++,He))}}function xe(pe){var Ae;for(Ae=0;Ae<v;Ae++)pe.dyn_ltree[2*Ae]=0;for(Ae=0;Ae<k;Ae++)pe.dyn_dtree[2*Ae]=0;for(Ae=0;Ae<x;Ae++)pe.bl_tree[2*Ae]=0;pe.dyn_ltree[2*P]=1,pe.opt_len=pe.static_len=0,pe.last_lit=pe.matches=0}function Ne(pe){8<pe.bi_valid?J(pe,pe.bi_buf):0<pe.bi_valid&&(pe.pending_buf[pe.pending++]=pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0}function Qe(pe,Ae,Oe,Me){var De=2*Ae,qe=2*Oe;return pe[De]<pe[qe]||pe[De]===pe[qe]&&Me[Ae]<=Me[Oe]}function Ge(pe,Ae,Oe){for(var Me=pe.heap[Oe],De=Oe<<1;De<=pe.heap_len&&(De<pe.heap_len&&Qe(Ae,pe.heap[De+1],pe.heap[De],pe.depth)&&De++,!Qe(Ae,Me,pe.heap[De],pe.depth));)pe.heap[Oe]=pe.heap[De],Oe=De,De<<=1;pe.heap[Oe]=Me}function Je(pe,Ae,Oe){var Me,De,qe,Ve,He=0;if(pe.last_lit!==0)for(;Me=pe.pending_buf[pe.d_buf+2*He]<<8|pe.pending_buf[pe.d_buf+2*He+1],De=pe.pending_buf[pe.l_buf+He],He++,Me===0?fe(pe,De,Ae):(fe(pe,(qe=R[De])+y+1,Ae),(Ve=M[qe])!==0&&ae(pe,De-=ne[qe],Ve),fe(pe,qe=Z(--Me),Oe),(Ve=L[qe])!==0&&ae(pe,Me-=ye[qe],Ve)),He<pe.last_lit;);fe(pe,P,Ae)}function ze(pe,Ae){var Oe,Me,De,qe=Ae.dyn_tree,Ve=Ae.stat_desc.static_tree,He=Ae.stat_desc.has_stree,st=Ae.stat_desc.elems,Ue=-1;for(pe.heap_len=0,pe.heap_max=C,Oe=0;Oe<st;Oe++)qe[2*Oe]!==0?(pe.heap[++pe.heap_len]=Ue=Oe,pe.depth[Oe]=0):qe[2*Oe+1]=0;for(;pe.heap_len<2;)qe[2*(De=pe.heap[++pe.heap_len]=Ue<2?++Ue:0)]=1,pe.depth[De]=0,pe.opt_len--,He&&(pe.static_len-=Ve[2*De+1]);for(Ae.max_code=Ue,Oe=pe.heap_len>>1;1<=Oe;Oe--)Ge(pe,qe,Oe);for(De=st;Oe=pe.heap[1],pe.heap[1]=pe.heap[pe.heap_len--],Ge(pe,qe,1),Me=pe.heap[1],pe.heap[--pe.heap_max]=Oe,pe.heap[--pe.heap_max]=Me,qe[2*De]=qe[2*Oe]+qe[2*Me],pe.depth[De]=(pe.depth[Oe]>=pe.depth[Me]?pe.depth[Oe]:pe.depth[Me])+1,qe[2*Oe+1]=qe[2*Me+1]=De,pe.heap[1]=De++,Ge(pe,qe,1),2<=pe.heap_len;);pe.heap[--pe.heap_max]=pe.heap[1],function(Ke,Ze){var _t,ht,sn,pt,$t,Bt,zt=Ze.dyn_tree,Qt=Ze.max_code,gn=Ze.stat_desc.static_tree,En=Ze.stat_desc.has_stree,Vn=Ze.stat_desc.extra_bits,Br=Ze.stat_desc.extra_base,Wr=Ze.stat_desc.max_length,Bn=0;for(pt=0;pt<=D;pt++)Ke.bl_count[pt]=0;for(zt[2*Ke.heap[Ke.heap_max]+1]=0,_t=Ke.heap_max+1;_t<C;_t++)Wr<(pt=zt[2*zt[2*(ht=Ke.heap[_t])+1]+1]+1)&&(pt=Wr,Bn++),zt[2*ht+1]=pt,Qt<ht||(Ke.bl_count[pt]++,$t=0,Br<=ht&&($t=Vn[ht-Br]),Bt=zt[2*ht],Ke.opt_len+=Bt*(pt+$t),En&&(Ke.static_len+=Bt*(gn[2*ht+1]+$t)));if(Bn!==0){do{for(pt=Wr-1;Ke.bl_count[pt]===0;)pt--;Ke.bl_count[pt]--,Ke.bl_count[pt+1]+=2,Ke.bl_count[Wr]--,Bn-=2}while(0<Bn);for(pt=Wr;pt!==0;pt--)for(ht=Ke.bl_count[pt];ht!==0;)Qt<(sn=Ke.heap[--_t])||(zt[2*sn+1]!==pt&&(Ke.opt_len+=(pt-zt[2*sn+1])*zt[2*sn],zt[2*sn+1]=pt),ht--)}}(pe,Ae),Ie(qe,Ue,pe.bl_count)}function X(pe,Ae,Oe){var Me,De,qe=-1,Ve=Ae[1],He=0,st=7,Ue=4;for(Ve===0&&(st=138,Ue=3),Ae[2*(Oe+1)+1]=65535,Me=0;Me<=Oe;Me++)De=Ve,Ve=Ae[2*(Me+1)+1],++He<st&&De===Ve||(He<Ue?pe.bl_tree[2*De]+=He:De!==0?(De!==qe&&pe.bl_tree[2*De]++,pe.bl_tree[2*B]++):He<=10?pe.bl_tree[2*$]++:pe.bl_tree[2*V]++,qe=De,Ue=(He=0)===Ve?(st=138,3):De===Ve?(st=6,3):(st=7,4))}function Ce(pe,Ae,Oe){var Me,De,qe=-1,Ve=Ae[1],He=0,st=7,Ue=4;for(Ve===0&&(st=138,Ue=3),Me=0;Me<=Oe;Me++)if(De=Ve,Ve=Ae[2*(Me+1)+1],!(++He<st&&De===Ve)){if(He<Ue)for(;fe(pe,De,pe.bl_tree),--He!=0;);else De!==0?(De!==qe&&(fe(pe,De,pe.bl_tree),He--),fe(pe,B,pe.bl_tree),ae(pe,He-3,2)):He<=10?(fe(pe,$,pe.bl_tree),ae(pe,He-3,3)):(fe(pe,V,pe.bl_tree),ae(pe,He-11,7));qe=De,Ue=(He=0)===Ve?(st=138,3):De===Ve?(st=6,3):(st=7,4)}}p(ye);var he=!1;function be(pe,Ae,Oe,Me){ae(pe,(g<<1)+(Me?1:0),3),function(De,qe,Ve,He){Ne(De),J(De,Ve),J(De,~Ve),l.arraySet(De.pending_buf,De.window,qe,Ve,De.pending),De.pending+=Ve}(pe,Ae,Oe)}a._tr_init=function(pe){he||(function(){var Ae,Oe,Me,De,qe,Ve=new Array(D+1);for(De=Me=0;De<b-1;De++)for(ne[De]=Me,Ae=0;Ae<1<<M[De];Ae++)R[Me++]=De;for(R[Me-1]=De,De=qe=0;De<16;De++)for(ye[De]=qe,Ae=0;Ae<1<<L[De];Ae++)G[qe++]=De;for(qe>>=7;De<k;De++)for(ye[De]=qe<<7,Ae=0;Ae<1<<L[De]-7;Ae++)G[256+qe++]=De;for(Oe=0;Oe<=D;Oe++)Ve[Oe]=0;for(Ae=0;Ae<=143;)H[2*Ae+1]=8,Ae++,Ve[8]++;for(;Ae<=255;)H[2*Ae+1]=9,Ae++,Ve[9]++;for(;Ae<=279;)H[2*Ae+1]=7,Ae++,Ve[7]++;for(;Ae<=287;)H[2*Ae+1]=8,Ae++,Ve[8]++;for(Ie(H,v+1,Ve),Ae=0;Ae<k;Ae++)F[2*Ae+1]=5,F[2*Ae]=le(Ae,5);ue=new re(H,M,y+1,v,D),ie=new re(F,L,0,k,D),se=new re(new Array(0),q,0,x,N)}(),he=!0),pe.l_desc=new _e(pe.dyn_ltree,ue),pe.d_desc=new _e(pe.dyn_dtree,ie),pe.bl_desc=new _e(pe.bl_tree,se),pe.bi_buf=0,pe.bi_valid=0,xe(pe)},a._tr_stored_block=be,a._tr_flush_block=function(pe,Ae,Oe,Me){var De,qe,Ve=0;0<pe.level?(pe.strm.data_type===2&&(pe.strm.data_type=function(He){var st,Ue=4093624447;for(st=0;st<=31;st++,Ue>>>=1)if(1&Ue&&He.dyn_ltree[2*st]!==0)return d;if(He.dyn_ltree[18]!==0||He.dyn_ltree[20]!==0||He.dyn_ltree[26]!==0)return h;for(st=32;st<y;st++)if(He.dyn_ltree[2*st]!==0)return h;return d}(pe)),ze(pe,pe.l_desc),ze(pe,pe.d_desc),Ve=function(He){var st;for(X(He,He.dyn_ltree,He.l_desc.max_code),X(He,He.dyn_dtree,He.d_desc.max_code),ze(He,He.bl_desc),st=x-1;3<=st&&He.bl_tree[2*Q[st]+1]===0;st--);return He.opt_len+=3*(st+1)+5+5+4,st}(pe),De=pe.opt_len+3+7>>>3,(qe=pe.static_len+3+7>>>3)<=De&&(De=qe)):De=qe=Oe+5,Oe+4<=De&&Ae!==-1?be(pe,Ae,Oe,Me):pe.strategy===4||qe===De?(ae(pe,2+(Me?1:0),3),Je(pe,H,F)):(ae(pe,4+(Me?1:0),3),function(He,st,Ue,Ke){var Ze;for(ae(He,st-257,5),ae(He,Ue-1,5),ae(He,Ke-4,4),Ze=0;Ze<Ke;Ze++)ae(He,He.bl_tree[2*Q[Ze]+1],3);Ce(He,He.dyn_ltree,st-1),Ce(He,He.dyn_dtree,Ue-1)}(pe,pe.l_desc.max_code+1,pe.d_desc.max_code+1,Ve+1),Je(pe,pe.dyn_ltree,pe.dyn_dtree)),xe(pe),Me&&Ne(pe)},a._tr_tally=function(pe,Ae,Oe){return pe.pending_buf[pe.d_buf+2*pe.last_lit]=Ae>>>8&255,pe.pending_buf[pe.d_buf+2*pe.last_lit+1]=255&Ae,pe.pending_buf[pe.l_buf+pe.last_lit]=255&Oe,pe.last_lit++,Ae===0?pe.dyn_ltree[2*Oe]++:(pe.matches++,Ae--,pe.dyn_ltree[2*(R[Oe]+y+1)]++,pe.dyn_dtree[2*Z(Ae)]++),pe.last_lit===pe.lit_bufsize-1},a._tr_align=function(pe){ae(pe,2,3),fe(pe,P,H),function(Ae){Ae.bi_valid===16?(J(Ae,Ae.bi_buf),Ae.bi_buf=0,Ae.bi_valid=0):8<=Ae.bi_valid&&(Ae.pending_buf[Ae.pending++]=255&Ae.bi_buf,Ae.bi_buf>>=8,Ae.bi_valid-=8)}(pe)}},{"../utils/common":41}],53:[function(n,o,a){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,o,a){(function(l){(function(d,h){if(!d.setImmediate){var p,g,b,y,v=1,k={},x=!1,C=d.document,D=Object.getPrototypeOf&&Object.getPrototypeOf(d);D=D&&D.setTimeout?D:d,p={}.toString.call(d.process)==="[object process]"?function(B){process.nextTick(function(){N(B)})}:function(){if(d.postMessage&&!d.importScripts){var B=!0,$=d.onmessage;return d.onmessage=function(){B=!1},d.postMessage("","*"),d.onmessage=$,B}}()?(y="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",P,!1):d.attachEvent("onmessage",P),function(B){d.postMessage(y+B,"*")}):d.MessageChannel?((b=new MessageChannel).port1.onmessage=function(B){N(B.data)},function(B){b.port2.postMessage(B)}):C&&"onreadystatechange"in C.createElement("script")?(g=C.documentElement,function(B){var $=C.createElement("script");$.onreadystatechange=function(){N(B),$.onreadystatechange=null,g.removeChild($),$=null},g.appendChild($)}):function(B){setTimeout(N,0,B)},D.setImmediate=function(B){typeof B!="function"&&(B=new Function(""+B));for(var $=new Array(arguments.length-1),V=0;V<$.length;V++)$[V]=arguments[V+1];var M={callback:B,args:$};return k[v]=M,p(v),v++},D.clearImmediate=S}function S(B){delete k[B]}function N(B){if(x)setTimeout(N,0,B);else{var $=k[B];if($){x=!0;try{(function(V){var M=V.callback,L=V.args;switch(L.length){case 0:M();break;case 1:M(L[0]);break;case 2:M(L[0],L[1]);break;case 3:M(L[0],L[1],L[2]);break;default:M.apply(h,L)}})($)}finally{S(B),x=!1}}}}function P(B){B.source===d&&typeof B.data=="string"&&B.data.indexOf(y)===0&&N(+B.data.slice(y.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof td<"u"?td:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Xv)),Xv.exports}var fse=hse();const pse=du(fse),mse=async(t,r,n)=>{const o=new pse,a=["timestamp,question,answer"];r.forEach(({timestamp:p,question:g,answer:b})=>{a.push(`"${new Date(p).toLocaleString()}","${g.replace(/"/g,'""')}","${b.replace(/"/g,'""')}"`)}),o.file(`${t}.csv`,a.join(`
`)),o.file(`${t}_metadata.json`,JSON.stringify(n,null,4));const l=await o.generateAsync({type:"blob"}),d=URL.createObjectURL(l),h=document.createElement("a");h.href=d,h.download=`${t}.zip`,document.body.appendChild(h),h.click(),document.body.removeChild(h)},gse=Rp(Pe)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"600px",maxHeight:"80vh",overflowY:"auto",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0px 5px 15px rgba(0,0,0,0.2)",padding:"20px"}),bse=Rp(Pe)({marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"}),kse=({open:t,onClose:r,conversationHistory:n,conversationId:o,conversationHistoryError:a,chatbotDetails:l,userId:d,startedAt:h})=>{const p=async()=>{const g={conversationId:o,userId:d,chatbotId:l.chatbotId,chatbotTitle:l.chatbotTitle,startedAt:new Date(h).toLocaleString(),courseTitle:l.courseTitle,courseId:l.courseId,materialTitle:l.materialTitle,materialId:l.materialId,materialLink:l.materialLink,chatbotCreatedBy:l.chatbotCreatedBy,chatbotCreatedAt:new Date(l.chatbotCreatedAt).toLocaleString()};await mse(o,n,g)};return A.jsx(WW,{open:t,onClose:r,children:A.jsxs(gse,{children:[A.jsxs(bse,{children:[A.jsxs(je,{variant:"h6",children:["Conversation History for ",o]}),A.jsx(xs,{title:"Download ZIP",children:A.jsx(Ln,{onClick:p,"aria-label":"Download as ZIP",children:A.jsx(Ng,{})})})]}),a&&A.jsx(je,{color:"error",sx:{marginBottom:"20px"},children:a}),n.length===0?A.jsx(je,{children:"No messages found in this conversation."}):A.jsx(pk,{children:n.map((g,b)=>A.jsx(np,{sx:{padding:"10px 0"},children:A.jsx(rp,{primary:`Q: ${g.question}`,secondary:`A: ${g.answer} (${new Date(g.timestamp).toLocaleString()})`})},b))}),A.jsx(wt,{variant:"contained",onClick:r,style:{marginTop:"20px",backgroundColor:"#000",color:"#fff"},children:"Close"})]})})},wse=({totalItems:t,itemsPerPage:r,currentPage:n,onPageChange:o})=>{const a=Math.ceil(t/r),l=()=>{n>1&&o(n-1)},d=()=>{n<a&&o(n+1)};return A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[A.jsx(wt,{variant:"outlined",disabled:n===1,onClick:l,children:"Previous"}),A.jsxs(je,{variant:"body1",children:["Page ",n," of ",a]}),A.jsx(wt,{variant:"outlined",disabled:n===a,onClick:d,children:"Next"})]})},yse=({chatbotId:t})=>{const r=Yn(),[n,o]=Y.useState(null),[a,l]=Y.useState(!0),[d,h]=Y.useState(null);if(Y.useEffect(()=>{t!=="All"&&(async()=>{l(!0),h(null);try{const N=Op(Qn(r,"chatbots"),Jg("chatbotId","==",t)),P=await xo(N);P.empty?h("Chatbot details not found!"):o(P.docs[0].data())}catch(N){console.error("Error fetching chatbot details:",N),h("Failed to fetch chatbot details.")}finally{l(!1)}})()},[r,t]),a)return A.jsx(Pe,{sx:{mt:3},children:A.jsx(Lr,{})});if(d)return A.jsx(je,{variant:"body1",color:"error",sx:{mt:3},children:d});if(!n)return null;const{title:p="N/A",courseId:g,createdBy:b="Unknown",timestamp:y,material:v}=n,k=(g==null?void 0:g.title)||"N/A",x=(v==null?void 0:v.title)||"N/A",C=(v==null?void 0:v.id)||"N/A",D=`https://institute-for-future-intelligence.github.io/nexlab/view-material/${C}`;return A.jsxs(Pe,{sx:{mt:3,p:2,border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[A.jsx(je,{variant:"h6",children:"Chatbot Details"}),A.jsxs(je,{variant:"body1",children:[A.jsx("strong",{children:"Title:"})," ",p]}),A.jsxs(je,{variant:"body1",children:[A.jsx("strong",{children:"Course:"})," ",k]}),A.jsxs(je,{variant:"body1",children:[A.jsx("strong",{children:"Material:"})," ",C!=="N/A"?A.jsx(Tg,{href:D,target:"_blank",rel:"noopener noreferrer",children:x}):x]}),A.jsx(na,{sx:{my:2}}),A.jsxs(je,{variant:"body1",children:[A.jsx("strong",{children:"Created By:"})," ",b]}),A.jsxs(je,{variant:"body1",children:[A.jsx("strong",{children:"Created At:"})," ",y?new Date(y).toLocaleString():"N/A"]})]})},q6=Rp(wt)({width:100,height:40,display:"flex",alignItems:"center",justifyContent:"center"}),vse=({open:t,onClose:r,onConfirm:n,conversationId:o,deleting:a})=>A.jsxs(Qi,{open:t,onClose:r,children:[A.jsx(Ji,{children:"Confirm Deletion"}),A.jsx(Zi,{children:A.jsxs(Ds,{children:["Are you sure you want to delete the conversation with ID: ",A.jsx("strong",{children:o}),"? This action cannot be undone."]})}),A.jsxs(Xi,{children:[A.jsx(q6,{onClick:r,color:"primary",variant:"outlined",children:"Cancel"}),A.jsx(q6,{onClick:n,color:"error",disabled:a,children:a?A.jsx(Lr,{size:20,color:"inherit"}):"Delete"})]})]}),Ase=()=>{const t=Yn(),r=Vr(),[n,o]=Y.useState([]),[a,l]=Y.useState([]),[d,h]=Y.useState(1),[p]=Y.useState(10),[g,b]=Y.useState(!0),[y,v]=Y.useState(null),[k,x]=Y.useState([]),[C,D]=Y.useState(null),[S,N]=Y.useState(!1),[P,B]=Y.useState(null),[$,V]=Y.useState({}),M="https://rag-flask-api.onrender.com",[L,q]=Y.useState([]),[Q,H]=Y.useState([]),[F,G]=Y.useState("All"),[R,ne]=Y.useState("All"),[ue,ie]=Y.useState(null),[se,ye]=Y.useState(null),[re,_e]=Y.useState(!1),[Z,J]=Y.useState(null),[ae,fe]=Y.useState(!1),[le,Ie]=Y.useState({open:!1,message:"",type:"success"}),xe=()=>{Ie(be=>({...be,open:!1}))};Y.useEffect(()=>{(async()=>{try{const Ae=(await xo(Qn(t,"conversations"))).docs.map(De=>({id:De.id,...De.data()}));o(Ae);const Oe=Array.from(new Set(Ae.map(De=>De.chatbotId)));q(Ae.length>0?["All",...Oe]:[]);const Me=Array.from(new Set(Ae.map(De=>De.userId)));H(Ae.length>0?["All",...Me]:[]),l(Ae)}catch(pe){console.error("Error fetching chatbot conversations:",pe),v("Failed to load conversations. Please try again later.")}finally{b(!1)}})()},[t]);const Ne=(be,pe)=>{be==="chatbot"?G(pe):ne(pe);const Ae=be==="chatbot"?pe:F,Oe=be==="user"?pe:R;let Me=n;Ae!=="All"&&(Me=Me.filter(De=>De.chatbotId===Ae)),Oe!=="All"&&(Me=Me.filter(De=>De.userId===Oe)),l(Me),Ae==="All"&&Oe==="All"&&l(n),h(1)},Qe=async(be,pe,Ae,Oe)=>{var Me,De,qe,Ve,He;V(st=>({...st,[pe]:!0})),D(null);try{const st=await Ii.get(`${M}/conversations/${be}/${pe}`);x(st.data);const Ze=(await(async()=>{try{const _t=new Map;return(await xo(Qn(t,"chatbots"))).forEach(sn=>{_t.set(sn.data().chatbotId,sn.data())}),_t}catch(_t){return console.error("Error fetching chatbots:",_t),new Map}})()).get(be);ie(Ze?{chatbotId:be,chatbotTitle:Ze.title||"N/A",courseTitle:((Me=Ze.courseId)==null?void 0:Me.title)||"N/A",courseId:((De=Ze.courseId)==null?void 0:De.id)||"N/A",materialTitle:((qe=Ze.material)==null?void 0:qe.title)||"N/A",materialId:((Ve=Ze.material)==null?void 0:Ve.id)||"N/A",materialLink:`https://institute-for-future-intelligence.github.io/nexlab/view-material/${((He=Ze.material)==null?void 0:He.id)||""}`,chatbotCreatedBy:Ze.createdBy||"Unknown",chatbotCreatedAt:Ze.timestamp||"N/A"}:null),ye({userId:Ae,startedAt:Oe}),B({chatbotId:be,conversationId:pe}),N(!0)}catch(st){console.error("Error fetching conversation or chatbot details:",st),D("Failed to fetch conversation history or chatbot details.")}finally{V(st=>({...st,[pe]:!1}))}},Ge=d*p,Je=Ge-p,ze=a.slice(Je,Ge);if(g)return A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:A.jsx(Lr,{})});if(y)return A.jsx(Pe,{sx:{textAlign:"center",mt:4},children:A.jsx(je,{variant:"h6",color:"error",children:y})});const X=be=>{J(be),_e(!0)},Ce=()=>{_e(!1),J(null)},he=async()=>{if(Z){fe(!0);try{await Yg(pn(t,"conversations",Z)),o(be=>be.filter(pe=>pe.id!==Z)),l(be=>be.filter(pe=>pe.id!==Z)),Ie({open:!0,message:"Conversation deleted successfully.",type:"success"}),Ce()}catch(be){console.error("Error deleting conversation:",be),Ie({open:!0,message:"Failed to delete the conversation. Please try again.",type:"error"})}finally{fe(!1),Ce()}}};return A.jsxs(Pe,{className:"profile-container",sx:{p:4},children:[A.jsx(wt,{variant:"text",onClick:()=>r("/"),className:"profile-button",children:"â† Home Page"}),A.jsx(je,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Conversations"}),A.jsxs(Pe,{sx:{display:"flex",gap:2,mb:3},children:[A.jsxs(ld,{sx:{minWidth:200},children:[A.jsx(cd,{id:"filter-chatbot-id",children:"Filter by Chatbot ID"}),A.jsx(bc,{labelId:"filter-chatbot-id",value:F,onChange:be=>Ne("chatbot",be.target.value),children:L.length>0?L.map(be=>A.jsx(Ir,{value:be,children:be},be)):A.jsx(Ir,{value:"",disabled:!0,children:"No Chatbots Available"})})]}),A.jsxs(ld,{sx:{minWidth:200},children:[A.jsx(cd,{id:"filter-user-id",children:"Filter by User ID"}),A.jsx(bc,{labelId:"filter-user-id",value:R,onChange:be=>Ne("user",be.target.value),children:Q.map(be=>A.jsx(Ir,{value:be,children:be},be))})]})]}),F!=="All"&&A.jsx(yse,{chatbotId:F}),A.jsxs(Pe,{className:"profile-container",sx:{p:4},children:[A.jsx(jie,{conversations:ze,onViewHistory:(be,pe,Ae,Oe)=>Qe(be,pe,Ae,Oe),onDeleteConversation:X,loadingMap:$}),A.jsx(vse,{open:re,onClose:Ce,onConfirm:he,conversationId:Z||"",deleting:ae})]}),A.jsx(wse,{totalItems:a.length,itemsPerPage:p,currentPage:d,onPageChange:h}),P&&ue&&se&&A.jsx(kse,{open:S,onClose:()=>{N(!1),B(null)},conversationHistory:k,conversationId:P.conversationId,conversationHistoryError:C,chatbotDetails:ue,userId:se.userId,startedAt:se.startedAt}),A.jsx(os,{open:le.open,autoHideDuration:3e3,onClose:xe,message:le.message,anchorOrigin:{vertical:"top",horizontal:"center"},ContentProps:{style:{backgroundColor:le.type==="success"?"#4caf50":"#f44336"}}})]})},_se=()=>{const[t,r]=Y.useState([]),[n,o]=Y.useState(!0),[a,l]=Y.useState({}),[d,h]=Y.useState(!1),[p,g]=Y.useState(""),[b,y]=Y.useState("success"),v=Vr();Y.useEffect(()=>{(async()=>{const M=Yn(),L=Qn(M,"chatbotRequests");try{const Q=(await xo(L)).docs.map(H=>({id:H.id,...H.data()}));r(Q)}catch(q){console.error("Error fetching chatbot requests:",q)}finally{o(!1)}})()},[]);const k=async V=>{const M=a[V];if(!M){g("Please assign a Chatbot ID before approving the request."),y("error"),h(!0);return}try{const L=Yn(),q=pn(L,"chatbotRequests",V),Q=await $o(q);if(!Q.exists()){g("Request not found. Please refresh the page."),y("error"),h(!0);return}const H=Q.data();if(H.status!=="pending"){g("This request has already been processed."),y("warning"),h(!0);return}await vr(q,{status:"approved",chatbotId:M});const F={chatbotId:M,title:H.title,courseId:{id:H.courseId,number:H.courseNumber,title:H.courseTitle},material:{id:H.materialId||null,title:H.materialTitle||"N/A"},createdBy:H.educatorId,files:H.files,timestamp:new Date().toISOString()};await la(Qn(L,"chatbots"),F),r(G=>G.map(R=>R.id===V?{...R,status:"approved",chatbotId:M}:R)),g("Chatbot request approved and chatbot created successfully!"),y("success"),h(!0)}catch(L){console.error("Error approving chatbot request or creating chatbot:",L),g("Failed to approve the request and create the chatbot. Please try again."),y("error"),h(!0)}},x=()=>{h(!1)},[C,D]=Y.useState(0),[S,N]=Y.useState(5),P=(V,M)=>D(M),B=V=>{N(parseInt(V.target.value,10)),D(0)},$=(V,M)=>{l(L=>({...L,[V]:M}))};return n?A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:A.jsx(Lr,{})}):t.length===0?A.jsx(je,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):A.jsxs(Pe,{className:"profile-container",sx:{p:4},children:[A.jsx(wt,{variant:"text",onClick:()=>v("/"),className:"profile-button",children:"â† Home Page"}),A.jsx(je,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Requests Management"}),A.jsx(je,{variant:"body1",sx:{mb:3},children:"Manage chatbot requests submitted by educators. Approve requests and assign Chatbot IDs."}),A.jsxs(gd,{component:Rn,elevation:3,sx:{maxHeight:"70vh",overflow:"auto"},children:[A.jsxs(bd,{stickyHeader:!0,children:[A.jsx(kd,{children:A.jsxs(Co,{children:[A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Educator ID"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course ID"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material ID"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Chatbot ID"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Action"})]})}),A.jsx(wd,{children:t.slice(C*S,C*S+S).map((V,M)=>{var L;return A.jsxs(Co,{sx:{backgroundColor:M%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[A.jsx(It,{children:V.title}),A.jsx(It,{children:`${V.courseNumber} - ${V.courseTitle}`}),A.jsx(It,{children:V.materialTitle||"N/A"}),A.jsx(It,{children:V.educatorId}),A.jsx(It,{children:V.courseId}),A.jsx(It,{children:V.materialId||"N/A"}),A.jsx(It,{children:new Date(V.timestamp).toLocaleString()}),A.jsx(It,{children:A.jsx(je,{variant:"body2",sx:{color:V.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:V.status})}),A.jsx(It,{children:(L=V.files)!=null&&L.length?V.files.map((q,Q)=>A.jsx(qj,{filePath:q,fileLabel:`File ${Q+1}`},Q)):A.jsx(je,{variant:"body2",children:"No files uploaded"})}),A.jsx(It,{children:V.status==="approved"?A.jsx(je,{variant:"body2",sx:{fontWeight:"bold"},children:V.chatbotId}):A.jsx(Jt,{size:"small",value:a[V.id]||"",onChange:q=>$(V.id,q.target.value),placeholder:"Enter Chatbot ID",sx:{width:"150px"}})}),A.jsx(It,{children:A.jsx(wt,{variant:"contained",color:"primary",onClick:()=>k(V.id),disabled:V.status==="approved",sx:{fontWeight:"bold"},children:V.status==="approved"?"Approved":"Approve"})})]},V.id)})})]}),A.jsx(GW,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:S,page:C,onPageChange:P,onRowsPerPageChange:B,"aria-label":"Chatbot requests pagination",sx:{mt:2}})]}),A.jsx(os,{open:d,autoHideDuration:6e3,onClose:x,children:A.jsx(pr,{onClose:x,severity:b,sx:{width:"100%"},children:p})})]})},Cse=Y.lazy(()=>Ki(()=>import("./index-DQ7KfWRq.js"),__vite__mapDeps([7,4,1,5]))),xse=Y.lazy(()=>Ki(()=>import("./index-DMozo7d_.js"),__vite__mapDeps([8,4,1,5,9]))),Sse=Y.lazy(()=>Ki(()=>import("./SupplementalMaterials-WwcC9LW8.js"),__vite__mapDeps([10,4,1,5]))),eA=({element:t})=>A.jsx(ZP,{children:A.jsx(ks,{element:t})}),Ese=({element:t})=>A.jsx(JP,{children:t}),Dse=(t,r)=>[{path:"/",element:t?A.jsx(ZP,{children:A.jsx($Y,{})}):A.jsx(Ese,{element:A.jsx(Cse,{})})},{path:"/laboratory-notebooks",element:A.jsx(eA,{element:xse})},{path:"/supplemental-materials",element:A.jsx(eA,{element:Sse})},{path:"/my-profile",element:A.jsx(eA,{element:Jne})},{path:"/add-material",element:A.jsx(ks,{element:aj})},{path:"/edit-material/:id",element:A.jsx(ks,{element:bte})},{path:"/view-material/:id",element:A.jsx(ks,{element:qne})},{path:"/add-message",element:A.jsx(ks,{element:Vne})},{path:"/edit-message/:id",element:A.jsx(ks,{element:$ne})},{path:"/chatbot-management",element:A.jsx(ks,{element:Are})},{path:"/course-management",element:A.jsx(ks,{element:lre})},{path:"/request-chatbot",element:A.jsx(ks,{element:xre})},{path:"/request-educator-permissions",element:A.jsx(ks,{element:gre})},{path:"/educator-requests",element:A.jsx(ks,{element:bre})},{path:"/request-new-course",element:A.jsx(kre,{})},{path:"/course-requests",element:A.jsx(wre,{})},{path:"/super-admin-course-management",element:A.jsx(yre,{})},{path:"/super-admin-chatbot-requests",element:A.jsx(ks,{element:_se})},...r?[{path:"/user-management",element:A.jsx(ks,{element:Yne})},{path:"/chatbot-conversations",element:A.jsx(ks,{element:Ase})}]:[],{path:"*",element:A.jsx(GP,{to:"/"})}],Ise=YW({breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}}),Tse=()=>{const t=KW(),r=yv(t.breakpoints.down("sm")),n=yv(t.breakpoints.between("sm","md")),o=yv(t.breakpoints.up("md"));return{isMobile:r,isTablet:n,isDesktop:o}},Nse=()=>{const{isMobile:t,isTablet:r,isDesktop:n}=Tse();return A.jsx(QW,{position:"static",className:"device-version-bar",children:A.jsx(JW,{className:"device-version-toolbar",children:A.jsxs(Pe,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[t&&A.jsx(je,{variant:"body1",className:"device-version-text",children:"NexLAB Mobile Version 1.0"}),r&&A.jsx(je,{variant:"body1",className:"device-version-text",children:"NexLAB Tablet Version 1.0"}),n&&A.jsx(je,{variant:"body1",className:"device-version-text",children:"NexLAB Desktop Version 1.0"})]})})})},Mse=at.forwardRef(function(r,n){return A.jsx(pr,{elevation:6,ref:n,variant:"filled",...r})}),Pse=()=>{const[t,r]=Y.useState(!1),[n,o]=Y.useState(!1),[a,l]=Y.useState(""),[d,h]=Y.useState(!1),p=Vr(),g=()=>{r(!0)},b=()=>{r(!1)},y=async()=>{if(!d){h(!0);try{await YP.signOut(),r(!1),o(!0),l("Logged out successfully"),p("/")}catch(v){r(!1),o(!0);const k=v instanceof Error?v.message:"Logout failed: An unexpected error occurred";l(k)}finally{h(!1)}}};return A.jsxs(A.Fragment,{children:[A.jsx(wt,{variant:"outlined",onClick:g,disabled:d,sx:{fontSize:"1rem",fontFamily:"Staatliches, sans-serif",textTransform:"none",minWidth:"120px",color:"#FBFADA",borderColor:"#FBFADA",borderRadius:"15px",backgroundColor:"transparent",boxShadow:"none","&:hover":{borderColor:"#FFFFFF",backgroundColor:"#ffcdd2",color:"#c62828",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.2)",transform:"scale(1.05)"},"&:disabled":{borderColor:"#ccc",color:"#999"},transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out"},children:d?"Logging out...":"Logout"}),A.jsxs(Qi,{open:t,onClose:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[A.jsx(Ji,{id:"alert-dialog-title",children:"Logging Out"}),A.jsx(Zi,{children:A.jsx(Ds,{id:"alert-dialog-description",children:"Are you sure you want to log out?"})}),A.jsxs(Xi,{children:[A.jsx(wt,{onClick:y,autoFocus:!0,disabled:d,children:d?"Please wait...":"Yes"}),A.jsx(wt,{onClick:b,disabled:d,children:"No"})]})]}),A.jsx(os,{open:n,autoHideDuration:6e3,onClose:()=>o(!1),children:A.jsx(Mse,{onClose:()=>o(!1),severity:"info",sx:{width:"100%"},children:a})})]})},Ose=at.memo(Pse),yL=at.memo(()=>{const{userDetails:t,isSuperAdmin:r}=Ti(),[n,o]=at.useState(!1),a=()=>{t!=null&&t.uid?navigator.clipboard.writeText(t.uid).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)}).catch(l=>console.error("Could not copy text: ",l)):console.error("User details are null or undefined")};return A.jsxs(Pe,{className:"header-box",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",backgroundColor:"#CDDAFF"},children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"center"},children:[A.jsx("img",{src:"/nexlab/nexlab-logo.png",alt:"ATE Logo",style:{width:300}}),A.jsx(Pe,{className:"divider",sx:{height:"40px",borderLeft:"2px solid #0B53C0",marginRight:"20px"}}),A.jsxs(je,{variant:"body1",component:"p",className:"subtitle",sx:{color:"#0B53C0",fontFamily:"Gabarito",maxWidth:"300px"},children:["Next-Generation Experiments and ",A.jsx("br",{}),"Learning for Advanced Biotech"]})]}),A.jsxs(Pe,{className:"user-info-box",sx:{display:"flex",alignItems:"center"},children:[r&&A.jsx(ni,{label:"Super-Admin",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),(t==null?void 0:t.isAdmin)&&!r&&A.jsx(ni,{label:"Educator",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),!(t!=null&&t.isAdmin)&&A.jsx(ni,{label:"Student",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#bbdefb",color:"#1e88e5",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),t&&A.jsx(xs,{title:n?"Copied!":"Click to Copy",enterDelay:300,leaveDelay:200,children:A.jsx(ni,{label:`User ID: ${t.uid}`,variant:"outlined",onClick:a,sx:{borderRadius:"15px",fontSize:"20px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",mr:2,fontFamily:"Staatliches, sans-serif"}})}),A.jsx(Ose,{})]})]})});yL.displayName="Header";const jse=()=>{const t=()=>{window.open("https://help.waveshi.org","_blank","noopener,noreferrer")};return A.jsx(wt,{onClick:t,className:"report-bug-button",startIcon:A.jsx(ZW,{}),children:"Provide Feedback"})};function Lse(){return A.jsxs(Pe,{component:"footer",className:"footer-container",children:[A.jsx(Pe,{className:"report-bug-container",children:A.jsx(jse,{})}),A.jsx(na,{}),A.jsxs(Pe,{className:"footer-content",children:[A.jsx("img",{src:"/nexlab/FooterLogoLong.png",alt:"Logo",className:"footer-logo"}),A.jsx(je,{variant:"body2",className:"footer-text",children:"The Institute for Future Intelligence (IFI) and Kapi'olani Community College (KCC) is funded in part by the National Science Foundation grant DUE 2300976."}),A.jsx(je,{variant:"body2",className:"footer-text",children:"Â© 2025 Institute for Future Intelligence and Kapi'olani Community College Antibody Engineering & Research Projects"})]})]})}const Ug={black:"#000",white:"#fff"},Wf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Gf={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Yf={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Kf={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Qf={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},rg={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Rse={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Vh(t){let r="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+r+" for the full message."}const Bse=Object.freeze(Object.defineProperty({__proto__:null,default:Vh},Symbol.toStringTag,{value:"Module"})),X1="$$material";function Fse(t,r){const n=XW({key:"css",prepend:t});if(r){const o=n.insert;n.insert=(...a)=>(a[1].styles.match(/^@layer\s+[^{]*$/)||(a[1].styles=`@layer mui {${a[1].styles}}`),o(...a))}return n}const tA=new Map;function zse(t){const{injectFirst:r,enableCssLayer:n,children:o}=t,a=Y.useMemo(()=>{const l=`${r}-${n}`;if(typeof document=="object"&&tA.has(l))return tA.get(l);const d=Fse(r,n);return tA.set(l,d),d},[r,n]);return r||n?A.jsx(IP,{value:a,children:o}):o}function Use(t){return t==null||Object.keys(t).length===0}function vL(t){const{styles:r,defaultTheme:n={}}=t,o=typeof r=="function"?a=>r(Use(a)?n:a):r;return A.jsx(TP,{styles:o})}function AL(t,r){return W_(t,r)}const qse=(t,r)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=r(t.__emotion_styles))},V6=[];function _L(t){return V6[0]=t,DP(V6)}const Vse=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:vL,StyledEngineProvider:zse,ThemeContext:G_,css:Wh,default:AL,internal_processStyles:qse,internal_serializeStyles:_L,keyframes:yc},Symbol.toStringTag,{value:"Module"}));function Xu(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function CL(t){if(Y.isValidElement(t)||!Xu(t))return t;const r={};return Object.keys(t).forEach(n=>{r[n]=CL(t[n])}),r}function ia(t,r,n={clone:!0}){const o=n.clone?We({},t):t;return Xu(t)&&Xu(r)&&Object.keys(r).forEach(a=>{Y.isValidElement(r[a])?o[a]=r[a]:Xu(r[a])&&Object.prototype.hasOwnProperty.call(t,a)&&Xu(t[a])?o[a]=ia(t[a],r[a],n):n.clone?o[a]=Xu(r[a])?CL(r[a]):r[a]:o[a]=r[a]}),o}const $se=Object.freeze(Object.defineProperty({__proto__:null,default:ia,isPlainObject:Xu},Symbol.toStringTag,{value:"Module"})),Hse=["values","unit","step"],Wse=t=>{const r=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return r.sort((n,o)=>n.val-o.val),r.reduce((n,o)=>We({},n,{[o.key]:o.val}),{})};function xL(t){const{values:r={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=t,a=vn(t,Hse),l=Wse(r),d=Object.keys(l);function h(v){return`@media (min-width:${typeof r[v]=="number"?r[v]:v}${n})`}function p(v){return`@media (max-width:${(typeof r[v]=="number"?r[v]:v)-o/100}${n})`}function g(v,k){const x=d.indexOf(k);return`@media (min-width:${typeof r[v]=="number"?r[v]:v}${n}) and (max-width:${(x!==-1&&typeof r[d[x]]=="number"?r[d[x]]:k)-o/100}${n})`}function b(v){return d.indexOf(v)+1<d.length?g(v,d[d.indexOf(v)+1]):h(v)}function y(v){const k=d.indexOf(v);return k===0?h(d[1]):k===d.length-1?p(d[k]):g(v,d[d.indexOf(v)+1]).replace("@media","@media not all and")}return We({keys:d,values:l,up:h,down:p,between:g,only:b,not:y,unit:n},a)}const Gse={borderRadius:4};function _g(t,r){return r?ia(t,r,{clone:!1}):t}const SC={xs:0,sm:600,md:900,lg:1200,xl:1536},$6={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${SC[t]}px)`};function cu(t,r,n){const o=t.theme||{};if(Array.isArray(r)){const l=o.breakpoints||$6;return r.reduce((d,h,p)=>(d[l.up(l.keys[p])]=n(r[p]),d),{})}if(typeof r=="object"){const l=o.breakpoints||$6;return Object.keys(r).reduce((d,h)=>{if(Object.keys(l.values||SC).indexOf(h)!==-1){const p=l.up(h);d[p]=n(r[h],h)}else{const p=h;d[p]=r[p]}return d},{})}return n(r)}function Yse(t={}){var r;return((r=t.keys)==null?void 0:r.reduce((o,a)=>{const l=t.up(a);return o[l]={},o},{}))||{}}function H6(t,r){return t.reduce((n,o)=>{const a=n[o];return(!a||Object.keys(a).length===0)&&delete n[o],n},r)}function tn(t){if(typeof t!="string")throw new Error(Vh(7));return t.charAt(0).toUpperCase()+t.slice(1)}const Kse=Object.freeze(Object.defineProperty({__proto__:null,default:tn},Symbol.toStringTag,{value:"Module"}));function ew(t,r,n=!0){if(!r||typeof r!="string")return null;if(t&&t.vars&&n){const o=`vars.${r}`.split(".").reduce((a,l)=>a&&a[l]?a[l]:null,t);if(o!=null)return o}return r.split(".").reduce((o,a)=>o&&o[a]!=null?o[a]:null,t)}function f1(t,r,n,o=n){let a;return typeof t=="function"?a=t(n):Array.isArray(t)?a=t[n]||o:a=ew(t,n)||o,r&&(a=r(a,o,t)),a}function Mi(t){const{prop:r,cssProperty:n=t.prop,themeKey:o,transform:a}=t,l=d=>{if(d[r]==null)return null;const h=d[r],p=d.theme,g=ew(p,o)||{};return cu(d,h,y=>{let v=f1(g,a,y);return y===v&&typeof y=="string"&&(v=f1(g,a,`${r}${y==="default"?"":tn(y)}`,y)),n===!1?v:{[n]:v}})};return l.propTypes={},l.filterProps=[r],l}function Qse(t){const r={};return n=>(r[n]===void 0&&(r[n]=t(n)),r[n])}const Jse={m:"margin",p:"padding"},Zse={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},W6={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Xse=Qse(t=>{if(t.length>2)if(W6[t])t=W6[t];else return[t];const[r,n]=t.split(""),o=Jse[r],a=Zse[n]||"";return Array.isArray(a)?a.map(l=>o+l):[o+a]}),EC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],DC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...EC,...DC];function db(t,r,n,o){var a;const l=(a=ew(t,r,!1))!=null?a:n;return typeof l=="number"?d=>typeof d=="string"?d:l*d:Array.isArray(l)?d=>typeof d=="string"?d:l[d]:typeof l=="function"?l:()=>{}}function SL(t){return db(t,"spacing",8)}function hb(t,r){if(typeof r=="string"||r==null)return r;const n=Math.abs(r),o=t(n);return r>=0?o:typeof o=="number"?-o:`-${o}`}function eae(t,r){return n=>t.reduce((o,a)=>(o[a]=hb(r,n),o),{})}function tae(t,r,n,o){if(r.indexOf(n)===-1)return null;const a=Xse(n),l=eae(a,o),d=t[n];return cu(t,d,l)}function EL(t,r){const n=SL(t.theme);return Object.keys(t).map(o=>tae(t,r,o,n)).reduce(_g,{})}function di(t){return EL(t,EC)}di.propTypes={};di.filterProps=EC;function hi(t){return EL(t,DC)}hi.propTypes={};hi.filterProps=DC;function nae(t=8){if(t.mui)return t;const r=SL({spacing:t}),n=(...o)=>(o.length===0?[1]:o).map(l=>{const d=r(l);return typeof d=="number"?`${d}px`:d}).join(" ");return n.mui=!0,n}function tw(...t){const r=t.reduce((o,a)=>(a.filterProps.forEach(l=>{o[l]=a}),o),{}),n=o=>Object.keys(o).reduce((a,l)=>r[l]?_g(a,r[l](o)):a,{});return n.propTypes={},n.filterProps=t.reduce((o,a)=>o.concat(a.filterProps),[]),n}function Ba(t){return typeof t!="number"?t:`${t}px solid`}function Va(t,r){return Mi({prop:t,themeKey:"borders",transform:r})}const rae=Va("border",Ba),iae=Va("borderTop",Ba),oae=Va("borderRight",Ba),sae=Va("borderBottom",Ba),aae=Va("borderLeft",Ba),lae=Va("borderColor"),cae=Va("borderTopColor"),uae=Va("borderRightColor"),dae=Va("borderBottomColor"),hae=Va("borderLeftColor"),fae=Va("outline",Ba),pae=Va("outlineColor"),nw=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const r=db(t.theme,"shape.borderRadius",4),n=o=>({borderRadius:hb(r,o)});return cu(t,t.borderRadius,n)}return null};nw.propTypes={};nw.filterProps=["borderRadius"];tw(rae,iae,oae,sae,aae,lae,cae,uae,dae,hae,nw,fae,pae);const rw=t=>{if(t.gap!==void 0&&t.gap!==null){const r=db(t.theme,"spacing",8),n=o=>({gap:hb(r,o)});return cu(t,t.gap,n)}return null};rw.propTypes={};rw.filterProps=["gap"];const iw=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const r=db(t.theme,"spacing",8),n=o=>({columnGap:hb(r,o)});return cu(t,t.columnGap,n)}return null};iw.propTypes={};iw.filterProps=["columnGap"];const ow=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const r=db(t.theme,"spacing",8),n=o=>({rowGap:hb(r,o)});return cu(t,t.rowGap,n)}return null};ow.propTypes={};ow.filterProps=["rowGap"];const mae=Mi({prop:"gridColumn"}),gae=Mi({prop:"gridRow"}),bae=Mi({prop:"gridAutoFlow"}),kae=Mi({prop:"gridAutoColumns"}),wae=Mi({prop:"gridAutoRows"}),yae=Mi({prop:"gridTemplateColumns"}),vae=Mi({prop:"gridTemplateRows"}),Aae=Mi({prop:"gridTemplateAreas"}),_ae=Mi({prop:"gridArea"});tw(rw,iw,ow,mae,gae,bae,kae,wae,yae,vae,Aae,_ae);function kp(t,r){return r==="grey"?r:t}const Cae=Mi({prop:"color",themeKey:"palette",transform:kp}),xae=Mi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:kp}),Sae=Mi({prop:"backgroundColor",themeKey:"palette",transform:kp});tw(Cae,xae,Sae);function Js(t){return t<=1&&t!==0?`${t*100}%`:t}const Eae=Mi({prop:"width",transform:Js}),IC=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const r=n=>{var o,a;const l=((o=t.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[n])||SC[n];return l?((a=t.theme)==null||(a=a.breakpoints)==null?void 0:a.unit)!=="px"?{maxWidth:`${l}${t.theme.breakpoints.unit}`}:{maxWidth:l}:{maxWidth:Js(n)}};return cu(t,t.maxWidth,r)}return null};IC.filterProps=["maxWidth"];const Dae=Mi({prop:"minWidth",transform:Js}),Iae=Mi({prop:"height",transform:Js}),Tae=Mi({prop:"maxHeight",transform:Js}),Nae=Mi({prop:"minHeight",transform:Js});Mi({prop:"size",cssProperty:"width",transform:Js});Mi({prop:"size",cssProperty:"height",transform:Js});const Mae=Mi({prop:"boxSizing"});tw(Eae,IC,Dae,Iae,Tae,Nae,Mae);const fb={border:{themeKey:"borders",transform:Ba},borderTop:{themeKey:"borders",transform:Ba},borderRight:{themeKey:"borders",transform:Ba},borderBottom:{themeKey:"borders",transform:Ba},borderLeft:{themeKey:"borders",transform:Ba},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ba},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:nw},color:{themeKey:"palette",transform:kp},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:kp},backgroundColor:{themeKey:"palette",transform:kp},p:{style:hi},pt:{style:hi},pr:{style:hi},pb:{style:hi},pl:{style:hi},px:{style:hi},py:{style:hi},padding:{style:hi},paddingTop:{style:hi},paddingRight:{style:hi},paddingBottom:{style:hi},paddingLeft:{style:hi},paddingX:{style:hi},paddingY:{style:hi},paddingInline:{style:hi},paddingInlineStart:{style:hi},paddingInlineEnd:{style:hi},paddingBlock:{style:hi},paddingBlockStart:{style:hi},paddingBlockEnd:{style:hi},m:{style:di},mt:{style:di},mr:{style:di},mb:{style:di},ml:{style:di},mx:{style:di},my:{style:di},margin:{style:di},marginTop:{style:di},marginRight:{style:di},marginBottom:{style:di},marginLeft:{style:di},marginX:{style:di},marginY:{style:di},marginInline:{style:di},marginInlineStart:{style:di},marginInlineEnd:{style:di},marginBlock:{style:di},marginBlockStart:{style:di},marginBlockEnd:{style:di},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:rw},rowGap:{style:ow},columnGap:{style:iw},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Js},maxWidth:{style:IC},minWidth:{transform:Js},height:{transform:Js},maxHeight:{transform:Js},minHeight:{transform:Js},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Pae(...t){const r=t.reduce((o,a)=>o.concat(Object.keys(a)),[]),n=new Set(r);return t.every(o=>n.size===Object.keys(o).length)}function Oae(t,r){return typeof t=="function"?t(r):t}function DL(){function t(n,o,a,l){const d={[n]:o,theme:a},h=l[n];if(!h)return{[n]:o};const{cssProperty:p=n,themeKey:g,transform:b,style:y}=h;if(o==null)return null;if(g==="typography"&&o==="inherit")return{[n]:o};const v=ew(a,g)||{};return y?y(d):cu(d,o,x=>{let C=f1(v,b,x);return x===C&&typeof x=="string"&&(C=f1(v,b,`${n}${x==="default"?"":tn(x)}`,x)),p===!1?C:{[p]:C}})}function r(n){var o;const{sx:a,theme:l={},nested:d}=n||{};if(!a)return null;const h=(o=l.unstable_sxConfig)!=null?o:fb;function p(g){let b=g;if(typeof g=="function")b=g(l);else if(typeof g!="object")return g;if(!b)return null;const y=Yse(l.breakpoints),v=Object.keys(y);let k=y;return Object.keys(b).forEach(x=>{const C=Oae(b[x],l);if(C!=null)if(typeof C=="object")if(h[x])k=_g(k,t(x,C,l,h));else{const D=cu({theme:l},C,S=>({[x]:S}));Pae(D,C)?k[x]=r({sx:C,theme:l,nested:!0}):k=_g(k,D)}else k=_g(k,t(x,C,l,h))}),!d&&l.modularCssLayers?{"@layer sx":H6(v,k)}:H6(v,k)}return Array.isArray(a)?a.map(p):p(a)}return r}const pb=DL();pb.filterProps=["sx"];function IL(t,r){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:r}:n.palette.mode===t?r:{}}const jae=["breakpoints","palette","spacing","shape"];function TC(t={},...r){const{breakpoints:n={},palette:o={},spacing:a,shape:l={}}=t,d=vn(t,jae),h=xL(n),p=nae(a);let g=ia({breakpoints:h,direction:"ltr",components:{},palette:We({mode:"light"},o),spacing:p,shape:We({},Gse,l)},d);return g.applyStyles=IL,g=r.reduce((b,y)=>ia(b,y),g),g.unstable_sxConfig=We({},fb,d==null?void 0:d.unstable_sxConfig),g.unstable_sx=function(y){return pb({sx:y,theme:this})},g}const Lae=Object.freeze(Object.defineProperty({__proto__:null,default:TC,private_createBreakpoints:xL,unstable_applyStyles:IL},Symbol.toStringTag,{value:"Module"}));function Rae(t){return Object.keys(t).length===0}function TL(t=null){const r=Y.useContext(G_);return!r||Rae(r)?t:r}const Bae=TC();function NC(t=Bae){return TL(t)}function nA(t){const r=_L(t);return t!==r&&r.styles?(r.styles.match(/^@layer\s+[^{]*$/)||(r.styles=`@layer global{${r.styles}}`),r):t}function Fae({styles:t,themeId:r,defaultTheme:n={}}){const o=NC(n),a=r&&o[r]||o;let l=typeof t=="function"?t(a):t;return a.modularCssLayers&&(Array.isArray(l)?l=l.map(d=>nA(typeof d=="function"?d(a):d)):l=nA(l)),A.jsx(vL,{styles:l})}const zae=["sx"],Uae=t=>{var r,n;const o={systemProps:{},otherProps:{}},a=(r=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?r:fb;return Object.keys(t).forEach(l=>{a[l]?o.systemProps[l]=t[l]:o.otherProps[l]=t[l]}),o};function MC(t){const{sx:r}=t,n=vn(t,zae),{systemProps:o,otherProps:a}=Uae(n);let l;return Array.isArray(r)?l=[o,...r]:typeof r=="function"?l=(...d)=>{const h=r(...d);return Xu(h)?We({},o,h):o}:l=We({},o,r),We({},a,{sx:l})}const qae=Object.freeze(Object.defineProperty({__proto__:null,default:pb,extendSxProp:MC,unstable_createStyleFunctionSx:DL,unstable_defaultSxConfig:fb},Symbol.toStringTag,{value:"Module"})),G6=t=>t,Vae=()=>{let t=G6;return{configure(r){t=r},generate(r){return t(r)},reset(){t=G6}}},NL=Vae(),$ae=["className","component"];function Hae(t={}){const{themeId:r,defaultTheme:n,defaultClassName:o="MuiBox-root",generateClassName:a}=t,l=AL("div",{shouldForwardProp:h=>h!=="theme"&&h!=="sx"&&h!=="as"})(pb);return Y.forwardRef(function(p,g){const b=NC(n),y=MC(p),{className:v,component:k="div"}=y,x=vn(y,$ae);return A.jsx(l,We({as:k,ref:g,className:Xt(v,a?a(o):o),theme:r&&b[r]||b},x))})}const Wae={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Rr(t,r,n="Mui"){const o=Wae[r];return o?`${n}-${o}`:`${NL.generate(t)}-${r}`}function Nr(t,r,n="Mui"){const o={};return r.forEach(a=>{o[a]=Rr(t,a,n)}),o}const Gae=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function ML(t){const r=`${t}`.match(Gae);return r&&r[1]||""}function PL(t,r=""){return t.displayName||t.name||ML(t)||r}function Y6(t,r,n){const o=PL(r);return t.displayName||(o!==""?`${n}(${o})`:n)}function Yae(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return PL(t,"Component");if(typeof t=="object")switch(t.$$typeof){case qk.ForwardRef:return Y6(t,t.render,"ForwardRef");case qk.Memo:return Y6(t,t.type,"memo");default:return}}}const Kae=Object.freeze(Object.defineProperty({__proto__:null,default:Yae,getFunctionName:ML},Symbol.toStringTag,{value:"Module"}));function qg(t,r){const n=We({},r);return Object.keys(t).forEach(o=>{if(o.toString().match(/^(components|slots)$/))n[o]=We({},t[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const a=t[o]||{},l=r[o];n[o]={},!l||!Object.keys(l)?n[o]=a:!a||!Object.keys(a)?n[o]=l:(n[o]=We({},l),Object.keys(a).forEach(d=>{n[o][d]=qg(a[d],l[d])}))}else n[o]===void 0&&(n[o]=t[o])}),n}function Qae(t){const{theme:r,name:n,props:o}=t;return!r||!r.components||!r.components[n]||!r.components[n].defaultProps?o:qg(r.components[n].defaultProps,o)}const pd=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;function Jae(t,r,n,o,a){const[l,d]=Y.useState(()=>a&&n?n(t).matches:o?o(t).matches:r);return pd(()=>{let h=!0;if(!n)return;const p=n(t),g=()=>{h&&d(p.matches)};return g(),p.addListener(g),()=>{h=!1,p.removeListener(g)}},[t,n]),l}const OL=Y.useSyncExternalStore;function Zae(t,r,n,o,a){const l=Y.useCallback(()=>r,[r]),d=Y.useMemo(()=>{if(a&&n)return()=>n(t).matches;if(o!==null){const{matches:b}=o(t);return()=>b}return l},[l,t,o,a,n]),[h,p]=Y.useMemo(()=>{if(n===null)return[l,()=>()=>{}];const b=n(t);return[()=>b.matches,y=>(b.addListener(y),()=>{b.removeListener(y)})]},[l,n,t]);return OL(p,h,d)}function K6(t,r={}){const n=TL(),o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:l=o?window.matchMedia:null,ssrMatchMedia:d=null,noSsr:h=!1}=Qae({name:"MuiUseMediaQuery",props:r,theme:n});let p=typeof t=="function"?t(n):t;return p=p.replace(/^@media( ?)/m,""),(OL!==void 0?Zae:Jae)(p,a,l,d,h)}function Xae(t,r=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(r,Math.min(t,n))}const ele=Object.freeze(Object.defineProperty({__proto__:null,default:Xae},Symbol.toStringTag,{value:"Module"}));function Q6(...t){return t.reduce((r,n)=>n==null?r:function(...a){r.apply(this,a),n.apply(this,a)},()=>{})}function jL(t,r=166){let n;function o(...a){const l=()=>{t.apply(this,a)};clearTimeout(n),n=setTimeout(l,r)}return o.clear=()=>{clearTimeout(n)},o}function rA(t,r){var n,o;return Y.isValidElement(t)&&r.indexOf((n=t.type.muiName)!=null?n:(o=t.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function oa(t){return t&&t.ownerDocument||document}function $h(t){return oa(t).defaultView||window}function f_(t,r){typeof t=="function"?t(r):t&&(t.current=r)}let J6=0;function tle(t){const[r,n]=Y.useState(t),o=t||r;return Y.useEffect(()=>{r==null&&(J6+=1,n(`mui-${J6}`))},[r]),o}const Z6=A1.useId;function LL(t){if(Z6!==void 0){const r=Z6();return t??r}return tle(t)}function X6({controlled:t,default:r,name:n,state:o="value"}){const{current:a}=Y.useRef(t!==void 0),[l,d]=Y.useState(r),h=a?t:l,p=Y.useCallback(g=>{a||d(g)},[]);return[h,p]}function xh(t){const r=Y.useRef(t);return pd(()=>{r.current=t}),Y.useRef((...n)=>(0,r.current)(...n)).current}function Ss(...t){return Y.useMemo(()=>t.every(r=>r==null)?null:r=>{t.forEach(n=>{f_(n,r)})},t)}const eN={};function nle(t,r){const n=Y.useRef(eN);return n.current===eN&&(n.current=t(r)),n}const rle=[];function ile(t){Y.useEffect(t,rle)}class sw{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new sw}start(r,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},r)}}function RL(){const t=nle(sw.create).current;return ile(t.disposeEffect),t}let aw=!0,p_=!1;const ole=new sw,sle={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ale(t){const{type:r,tagName:n}=t;return!!(n==="INPUT"&&sle[r]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function lle(t){t.metaKey||t.altKey||t.ctrlKey||(aw=!0)}function iA(){aw=!1}function cle(){this.visibilityState==="hidden"&&p_&&(aw=!0)}function ule(t){t.addEventListener("keydown",lle,!0),t.addEventListener("mousedown",iA,!0),t.addEventListener("pointerdown",iA,!0),t.addEventListener("touchstart",iA,!0),t.addEventListener("visibilitychange",cle,!0)}function dle(t){const{target:r}=t;try{return r.matches(":focus-visible")}catch{}return aw||ale(r)}function hle(){const t=Y.useCallback(a=>{a!=null&&ule(a.ownerDocument)},[]),r=Y.useRef(!1);function n(){return r.current?(p_=!0,ole.start(100,()=>{p_=!1}),r.current=!1,!0):!1}function o(a){return dle(a)?(r.current=!0,!0):!1}return{isFocusVisibleRef:r,onFocus:o,onBlur:n,ref:t}}function BL(t){const r=t.documentElement.clientWidth;return Math.abs(window.innerWidth-r)}function $r(t,r,n=void 0){const o={};return Object.keys(t).forEach(a=>{o[a]=t[a].reduce((l,d)=>{if(d){const h=r(d);h!==""&&l.push(h),n&&n[d]&&l.push(n[d])}return l},[]).join(" ")}),o}function p1(t){return typeof t=="string"}function fle(t,r,n){return t===void 0||p1(t)?r:We({},r,{ownerState:We({},r.ownerState,n)})}function FL(t,r=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(o=>o.match(/^on[A-Z]/)&&typeof t[o]=="function"&&!r.includes(o)).forEach(o=>{n[o]=t[o]}),n}function tN(t){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{r[n]=t[n]}),r}function ple(t){const{getSlotProps:r,additionalProps:n,externalSlotProps:o,externalForwardedProps:a,className:l}=t;if(!r){const k=Xt(n==null?void 0:n.className,l,a==null?void 0:a.className,o==null?void 0:o.className),x=We({},n==null?void 0:n.style,a==null?void 0:a.style,o==null?void 0:o.style),C=We({},n,a,o);return k.length>0&&(C.className=k),Object.keys(x).length>0&&(C.style=x),{props:C,internalRef:void 0}}const d=FL(We({},a,o)),h=tN(o),p=tN(a),g=r(d),b=Xt(g==null?void 0:g.className,n==null?void 0:n.className,l,a==null?void 0:a.className,o==null?void 0:o.className),y=We({},g==null?void 0:g.style,n==null?void 0:n.style,a==null?void 0:a.style,o==null?void 0:o.style),v=We({},g,n,p,h);return b.length>0&&(v.className=b),Object.keys(y).length>0&&(v.style=y),{props:v,internalRef:g.ref}}function mle(t,r,n){return typeof t=="function"?t(r,n):t}const gle=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Tp(t){var r;const{elementType:n,externalSlotProps:o,ownerState:a,skipResolvingSlotProps:l=!1}=t,d=vn(t,gle),h=l?{}:mle(o,a),{props:p,internalRef:g}=ple(We({},d,{externalSlotProps:h})),b=Ss(g,h==null?void 0:h.ref,(r=t.additionalProps)==null?void 0:r.ref);return fle(n,We({},p,{ref:b}),a)}function mb(t){if(parseInt(Y.version,10)>=19){var r;return(t==null||(r=t.props)==null?void 0:r.ref)||null}return(t==null?void 0:t.ref)||null}const ble=Y.createContext(),zL=()=>{const t=Y.useContext(ble);return t??!1},kle=Y.createContext(void 0);function wle(t){const{theme:r,name:n,props:o}=t;if(!r||!r.components||!r.components[n])return o;const a=r.components[n];return a.defaultProps?qg(a.defaultProps,o):!a.styleOverrides&&!a.variants?qg(a,o):o}function yle({props:t,name:r}){const n=Y.useContext(kle);return wle({props:t,name:r,theme:{components:n}})}function vle(t,r){return We({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},r)}var Xr={},oA={exports:{}},nN;function UL(){return nN||(nN=1,function(t){function r(n){return n&&n.__esModule?n:{default:n}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(oA)),oA.exports}const Ale=hu(Bse),_le=hu(ele);var rN;function Cle(){if(rN)return Xr;rN=1;var t=UL();Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.alpha=x,Xr.blend=V,Xr.colorChannel=void 0,Xr.darken=D,Xr.decomposeColor=d,Xr.emphasize=B,Xr.getContrastRatio=k,Xr.getLuminance=v,Xr.hexToRgb=a,Xr.hslToRgb=y,Xr.lighten=N,Xr.private_safeAlpha=C,Xr.private_safeColorChannel=void 0,Xr.private_safeDarken=S,Xr.private_safeEmphasize=$,Xr.private_safeLighten=P,Xr.recomposeColor=g,Xr.rgbToHex=b;var r=t(Ale),n=t(_le);function o(M,L=0,q=1){return(0,n.default)(M,L,q)}function a(M){M=M.slice(1);const L=new RegExp(`.{1,${M.length>=6?2:1}}`,"g");let q=M.match(L);return q&&q[0].length===1&&(q=q.map(Q=>Q+Q)),q?`rgb${q.length===4?"a":""}(${q.map((Q,H)=>H<3?parseInt(Q,16):Math.round(parseInt(Q,16)/255*1e3)/1e3).join(", ")})`:""}function l(M){const L=M.toString(16);return L.length===1?`0${L}`:L}function d(M){if(M.type)return M;if(M.charAt(0)==="#")return d(a(M));const L=M.indexOf("("),q=M.substring(0,L);if(["rgb","rgba","hsl","hsla","color"].indexOf(q)===-1)throw new Error((0,r.default)(9,M));let Q=M.substring(L+1,M.length-1),H;if(q==="color"){if(Q=Q.split(" "),H=Q.shift(),Q.length===4&&Q[3].charAt(0)==="/"&&(Q[3]=Q[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(H)===-1)throw new Error((0,r.default)(10,H))}else Q=Q.split(",");return Q=Q.map(F=>parseFloat(F)),{type:q,values:Q,colorSpace:H}}const h=M=>{const L=d(M);return L.values.slice(0,3).map((q,Q)=>L.type.indexOf("hsl")!==-1&&Q!==0?`${q}%`:q).join(" ")};Xr.colorChannel=h;const p=(M,L)=>{try{return h(M)}catch{return M}};Xr.private_safeColorChannel=p;function g(M){const{type:L,colorSpace:q}=M;let{values:Q}=M;return L.indexOf("rgb")!==-1?Q=Q.map((H,F)=>F<3?parseInt(H,10):H):L.indexOf("hsl")!==-1&&(Q[1]=`${Q[1]}%`,Q[2]=`${Q[2]}%`),L.indexOf("color")!==-1?Q=`${q} ${Q.join(" ")}`:Q=`${Q.join(", ")}`,`${L}(${Q})`}function b(M){if(M.indexOf("#")===0)return M;const{values:L}=d(M);return`#${L.map((q,Q)=>l(Q===3?Math.round(255*q):q)).join("")}`}function y(M){M=d(M);const{values:L}=M,q=L[0],Q=L[1]/100,H=L[2]/100,F=Q*Math.min(H,1-H),G=(ue,ie=(ue+q/30)%12)=>H-F*Math.max(Math.min(ie-3,9-ie,1),-1);let R="rgb";const ne=[Math.round(G(0)*255),Math.round(G(8)*255),Math.round(G(4)*255)];return M.type==="hsla"&&(R+="a",ne.push(L[3])),g({type:R,values:ne})}function v(M){M=d(M);let L=M.type==="hsl"||M.type==="hsla"?d(y(M)).values:M.values;return L=L.map(q=>(M.type!=="color"&&(q/=255),q<=.03928?q/12.92:((q+.055)/1.055)**2.4)),Number((.2126*L[0]+.7152*L[1]+.0722*L[2]).toFixed(3))}function k(M,L){const q=v(M),Q=v(L);return(Math.max(q,Q)+.05)/(Math.min(q,Q)+.05)}function x(M,L){return M=d(M),L=o(L),(M.type==="rgb"||M.type==="hsl")&&(M.type+="a"),M.type==="color"?M.values[3]=`/${L}`:M.values[3]=L,g(M)}function C(M,L,q){try{return x(M,L)}catch{return M}}function D(M,L){if(M=d(M),L=o(L),M.type.indexOf("hsl")!==-1)M.values[2]*=1-L;else if(M.type.indexOf("rgb")!==-1||M.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)M.values[q]*=1-L;return g(M)}function S(M,L,q){try{return D(M,L)}catch{return M}}function N(M,L){if(M=d(M),L=o(L),M.type.indexOf("hsl")!==-1)M.values[2]+=(100-M.values[2])*L;else if(M.type.indexOf("rgb")!==-1)for(let q=0;q<3;q+=1)M.values[q]+=(255-M.values[q])*L;else if(M.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)M.values[q]+=(1-M.values[q])*L;return g(M)}function P(M,L,q){try{return N(M,L)}catch{return M}}function B(M,L=.15){return v(M)>.5?D(M,L):N(M,L)}function $(M,L,q){try{return B(M,L)}catch{return M}}function V(M,L,q,Q=1){const H=(ne,ue)=>Math.round((ne**(1/Q)*(1-q)+ue**(1/Q)*q)**Q),F=d(M),G=d(L),R=[H(F.values[0],G.values[0]),H(F.values[1],G.values[1]),H(F.values[2],G.values[2])];return g({type:"rgb",values:R})}return Xr}var ea=Cle();const xle=["mode","contrastThreshold","tonalOffset"],iN={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ug.white,default:Ug.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},sA={text:{primary:Ug.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ug.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function oN(t,r,n,o){const a=o.light||o,l=o.dark||o*1.5;t[r]||(t.hasOwnProperty(n)?t[r]=t[n]:r==="light"?t.light=ea.lighten(t.main,a):r==="dark"&&(t.dark=ea.darken(t.main,l)))}function Sle(t="light"){return t==="dark"?{main:Yf[200],light:Yf[50],dark:Yf[400]}:{main:Yf[700],light:Yf[400],dark:Yf[800]}}function Ele(t="light"){return t==="dark"?{main:Gf[200],light:Gf[50],dark:Gf[400]}:{main:Gf[500],light:Gf[300],dark:Gf[700]}}function Dle(t="light"){return t==="dark"?{main:Wf[500],light:Wf[300],dark:Wf[700]}:{main:Wf[700],light:Wf[400],dark:Wf[800]}}function Ile(t="light"){return t==="dark"?{main:Kf[400],light:Kf[300],dark:Kf[700]}:{main:Kf[700],light:Kf[500],dark:Kf[900]}}function Tle(t="light"){return t==="dark"?{main:Qf[400],light:Qf[300],dark:Qf[700]}:{main:Qf[800],light:Qf[500],dark:Qf[900]}}function Nle(t="light"){return t==="dark"?{main:rg[400],light:rg[300],dark:rg[700]}:{main:"#ed6c02",light:rg[500],dark:rg[900]}}function Mle(t){const{mode:r="light",contrastThreshold:n=3,tonalOffset:o=.2}=t,a=vn(t,xle),l=t.primary||Sle(r),d=t.secondary||Ele(r),h=t.error||Dle(r),p=t.info||Ile(r),g=t.success||Tle(r),b=t.warning||Nle(r);function y(C){return ea.getContrastRatio(C,sA.text.primary)>=n?sA.text.primary:iN.text.primary}const v=({color:C,name:D,mainShade:S=500,lightShade:N=300,darkShade:P=700})=>{if(C=We({},C),!C.main&&C[S]&&(C.main=C[S]),!C.hasOwnProperty("main"))throw new Error(Vh(11,D?` (${D})`:"",S));if(typeof C.main!="string")throw new Error(Vh(12,D?` (${D})`:"",JSON.stringify(C.main)));return oN(C,"light",N,o),oN(C,"dark",P,o),C.contrastText||(C.contrastText=y(C.main)),C},k={dark:sA,light:iN};return ia(We({common:We({},Ug),mode:r,primary:v({color:l,name:"primary"}),secondary:v({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:h,name:"error"}),warning:v({color:b,name:"warning"}),info:v({color:p,name:"info"}),success:v({color:g,name:"success"}),grey:Rse,contrastThreshold:n,getContrastText:y,augmentColor:v,tonalOffset:o},k[r]),a)}const Ple=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Ole(t){return Math.round(t*1e5)/1e5}const sN={textTransform:"uppercase"},aN='"Roboto", "Helvetica", "Arial", sans-serif';function jle(t,r){const n=typeof r=="function"?r(t):r,{fontFamily:o=aN,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:d=400,fontWeightMedium:h=500,fontWeightBold:p=700,htmlFontSize:g=16,allVariants:b,pxToRem:y}=n,v=vn(n,Ple),k=a/14,x=y||(S=>`${S/g*k}rem`),C=(S,N,P,B,$)=>We({fontFamily:o,fontWeight:S,fontSize:x(N),lineHeight:P},o===aN?{letterSpacing:`${Ole(B/N)}em`}:{},$,b),D={h1:C(l,96,1.167,-1.5),h2:C(l,60,1.2,-.5),h3:C(d,48,1.167,0),h4:C(d,34,1.235,.25),h5:C(d,24,1.334,0),h6:C(h,20,1.6,.15),subtitle1:C(d,16,1.75,.15),subtitle2:C(h,14,1.57,.1),body1:C(d,16,1.5,.15),body2:C(d,14,1.43,.15),button:C(h,14,1.75,.4,sN),caption:C(d,12,1.66,.4),overline:C(d,12,2.66,1,sN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ia(We({htmlFontSize:g,pxToRem:x,fontFamily:o,fontSize:a,fontWeightLight:l,fontWeightRegular:d,fontWeightMedium:h,fontWeightBold:p},D),v,{clone:!1})}const Lle=.2,Rle=.14,Ble=.12;function Ur(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Lle})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Rle})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Ble})`].join(",")}const Fle=["none",Ur(0,2,1,-1,0,1,1,0,0,1,3,0),Ur(0,3,1,-2,0,2,2,0,0,1,5,0),Ur(0,3,3,-2,0,3,4,0,0,1,8,0),Ur(0,2,4,-1,0,4,5,0,0,1,10,0),Ur(0,3,5,-1,0,5,8,0,0,1,14,0),Ur(0,3,5,-1,0,6,10,0,0,1,18,0),Ur(0,4,5,-2,0,7,10,1,0,2,16,1),Ur(0,5,5,-3,0,8,10,1,0,3,14,2),Ur(0,5,6,-3,0,9,12,1,0,3,16,2),Ur(0,6,6,-3,0,10,14,1,0,4,18,3),Ur(0,6,7,-4,0,11,15,1,0,4,20,3),Ur(0,7,8,-4,0,12,17,2,0,5,22,4),Ur(0,7,8,-4,0,13,19,2,0,5,24,4),Ur(0,7,9,-4,0,14,21,2,0,5,26,4),Ur(0,8,9,-5,0,15,22,2,0,6,28,5),Ur(0,8,10,-5,0,16,24,2,0,6,30,5),Ur(0,8,11,-5,0,17,26,2,0,6,32,5),Ur(0,9,11,-5,0,18,28,2,0,7,34,6),Ur(0,9,12,-6,0,19,29,2,0,7,36,6),Ur(0,10,13,-6,0,20,31,3,0,8,38,7),Ur(0,10,13,-6,0,21,33,3,0,8,40,7),Ur(0,10,14,-6,0,22,35,3,0,8,42,7),Ur(0,11,14,-7,0,23,36,3,0,9,44,8),Ur(0,11,15,-7,0,24,38,3,0,9,46,8)],zle=["duration","easing","delay"],Ule={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},qle={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function lN(t){return`${Math.round(t)}ms`}function Vle(t){if(!t)return 0;const r=t/36;return Math.round((4+15*r**.25+r/5)*10)}function $le(t){const r=We({},Ule,t.easing),n=We({},qle,t.duration);return We({getAutoHeightDuration:Vle,create:(a=["all"],l={})=>{const{duration:d=n.standard,easing:h=r.easeInOut,delay:p=0}=l;return vn(l,zle),(Array.isArray(a)?a:[a]).map(g=>`${g} ${typeof d=="string"?d:lN(d)} ${h} ${typeof p=="string"?p:lN(p)}`).join(",")}},t,{easing:r,duration:n})}const Hle={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Wle=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function qL(t={},...r){const{mixins:n={},palette:o={},transitions:a={},typography:l={}}=t,d=vn(t,Wle);if(t.vars&&t.generateCssVars===void 0)throw new Error(Vh(18));const h=Mle(o),p=TC(t);let g=ia(p,{mixins:vle(p.breakpoints,n),palette:h,shadows:Fle.slice(),typography:jle(h,l),transitions:$le(a),zIndex:We({},Hle)});return g=ia(g,d),g=r.reduce((b,y)=>ia(b,y),g),g.unstable_sxConfig=We({},fb,d==null?void 0:d.unstable_sxConfig),g.unstable_sx=function(y){return pb({sx:y,theme:this})},g}const PC=qL();function VL(){const t=NC(PC);return t[X1]||t}var uh={},aA={exports:{}},cN;function Gle(){return cN||(cN=1,function(t){function r(){return t.exports=r=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var l in a)({}).hasOwnProperty.call(a,l)&&(n[l]=a[l])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,r.apply(null,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(aA)),aA.exports}var lA={exports:{}},uN;function Yle(){return uN||(uN=1,function(t){function r(n,o){if(n==null)return{};var a={};for(var l in n)if({}.hasOwnProperty.call(n,l)){if(o.indexOf(l)!==-1)continue;a[l]=n[l]}return a}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(lA)),lA.exports}const Kle=hu(Vse),Qle=hu($se),Jle=hu(Kse),Zle=hu(Kae),Xle=hu(Lae),ece=hu(qae);var dN;function tce(){if(dN)return uh;dN=1;var t=UL();Object.defineProperty(uh,"__esModule",{value:!0}),uh.default=$,uh.shouldForwardProp=x,uh.systemDefaultTheme=void 0;var r=t(Gle()),n=t(Yle()),o=y(Kle),a=Qle;t(Jle),t(Zle);var l=t(Xle),d=t(ece);const h=["ownerState"],p=["variants"],g=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function b(V){if(typeof WeakMap!="function")return null;var M=new WeakMap,L=new WeakMap;return(b=function(q){return q?L:M})(V)}function y(V,M){if(V&&V.__esModule)return V;if(V===null||typeof V!="object"&&typeof V!="function")return{default:V};var L=b(M);if(L&&L.has(V))return L.get(V);var q={__proto__:null},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var H in V)if(H!=="default"&&Object.prototype.hasOwnProperty.call(V,H)){var F=Q?Object.getOwnPropertyDescriptor(V,H):null;F&&(F.get||F.set)?Object.defineProperty(q,H,F):q[H]=V[H]}return q.default=V,L&&L.set(V,q),q}function v(V){return Object.keys(V).length===0}function k(V){return typeof V=="string"&&V.charCodeAt(0)>96}function x(V){return V!=="ownerState"&&V!=="theme"&&V!=="sx"&&V!=="as"}function C(V,M){return M&&V&&typeof V=="object"&&V.styles&&!V.styles.startsWith("@layer")&&(V.styles=`@layer ${M}{${String(V.styles)}}`),V}const D=uh.systemDefaultTheme=(0,l.default)(),S=V=>V&&V.charAt(0).toLowerCase()+V.slice(1);function N({defaultTheme:V,theme:M,themeId:L}){return v(M)?V:M[L]||M}function P(V){return V?(M,L)=>L[V]:null}function B(V,M,L){let{ownerState:q}=M,Q=(0,n.default)(M,h);const H=typeof V=="function"?V((0,r.default)({ownerState:q},Q)):V;if(Array.isArray(H))return H.flatMap(F=>B(F,(0,r.default)({ownerState:q},Q),L));if(H&&typeof H=="object"&&Array.isArray(H.variants)){const{variants:F=[]}=H;let R=(0,n.default)(H,p);return F.forEach(ne=>{let ue=!0;if(typeof ne.props=="function"?ue=ne.props((0,r.default)({ownerState:q},Q,q)):Object.keys(ne.props).forEach(ie=>{(q==null?void 0:q[ie])!==ne.props[ie]&&Q[ie]!==ne.props[ie]&&(ue=!1)}),ue){Array.isArray(R)||(R=[R]);const ie=typeof ne.style=="function"?ne.style((0,r.default)({ownerState:q},Q,q)):ne.style;R.push(L?C((0,o.internal_serializeStyles)(ie),L):ie)}}),R}return L?C((0,o.internal_serializeStyles)(H),L):H}function $(V={}){const{themeId:M,defaultTheme:L=D,rootShouldForwardProp:q=x,slotShouldForwardProp:Q=x}=V,H=F=>(0,d.default)((0,r.default)({},F,{theme:N((0,r.default)({},F,{defaultTheme:L,themeId:M}))}));return H.__mui_systemSx=!0,(F,G={})=>{(0,o.internal_processStyles)(F,xe=>xe.filter(Ne=>!(Ne!=null&&Ne.__mui_systemSx)));const{name:R,slot:ne,skipVariantsResolver:ue,skipSx:ie,overridesResolver:se=P(S(ne))}=G,ye=(0,n.default)(G,g),re=R&&R.startsWith("Mui")||ne?"components":"custom",_e=ue!==void 0?ue:ne&&ne!=="Root"&&ne!=="root"||!1,Z=ie||!1;let J,ae=x;ne==="Root"||ne==="root"?ae=q:ne?ae=Q:k(F)&&(ae=void 0);const fe=(0,o.default)(F,(0,r.default)({shouldForwardProp:ae,label:J},ye)),le=xe=>typeof xe=="function"&&xe.__emotion_real!==xe||(0,a.isPlainObject)(xe)?Ne=>{const Qe=N({theme:Ne.theme,defaultTheme:L,themeId:M});return B(xe,(0,r.default)({},Ne,{theme:Qe}),Qe.modularCssLayers?re:void 0)}:xe,Ie=(xe,...Ne)=>{let Qe=le(xe);const Ge=Ne?Ne.map(le):[];R&&se&&Ge.push(X=>{const Ce=N((0,r.default)({},X,{defaultTheme:L,themeId:M}));if(!Ce.components||!Ce.components[R]||!Ce.components[R].styleOverrides)return null;const he=Ce.components[R].styleOverrides,be={};return Object.entries(he).forEach(([pe,Ae])=>{be[pe]=B(Ae,(0,r.default)({},X,{theme:Ce}),Ce.modularCssLayers?"theme":void 0)}),se(X,be)}),R&&!_e&&Ge.push(X=>{var Ce;const he=N((0,r.default)({},X,{defaultTheme:L,themeId:M})),be=he==null||(Ce=he.components)==null||(Ce=Ce[R])==null?void 0:Ce.variants;return B({variants:be},(0,r.default)({},X,{theme:he}),he.modularCssLayers?"theme":void 0)}),Z||Ge.push(H);const Je=Ge.length-Ne.length;if(Array.isArray(xe)&&Je>0){const X=new Array(Je).fill("");Qe=[...xe,...X],Qe.raw=[...xe.raw,...X]}const ze=fe(Qe,...Ge);return F.muiName&&(ze.muiName=F.muiName),ze};return fe.withConfig&&(Ie.withConfig=fe.withConfig),Ie}}return uh}var nce=tce();const rce=du(nce);function $L(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const yl=t=>$L(t)&&t!=="classes",on=rce({themeId:X1,defaultTheme:PC,rootShouldForwardProp:yl}),hN=t=>{let r;return t<1?r=5.11916*t**2:r=4.5*Math.log(t+1)+2,(r/100).toFixed(2)};function Hr(t){return yle(t)}function ice(t){return Rr("MuiSvgIcon",t)}Nr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const oce=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],sce=t=>{const{color:r,fontSize:n,classes:o}=t,a={root:["root",r!=="inherit"&&`color${tn(r)}`,`fontSize${tn(n)}`]};return $r(a,ice,o)},ace=on("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.color!=="inherit"&&r[`color${tn(n.color)}`],r[`fontSize${tn(n.fontSize)}`]]}})(({theme:t,ownerState:r})=>{var n,o,a,l,d,h,p,g,b,y,v,k,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:r.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(o=n.create)==null?void 0:o.call(n,"fill",{duration:(a=t.transitions)==null||(a=a.duration)==null?void 0:a.shorter}),fontSize:{inherit:"inherit",small:((l=t.typography)==null||(d=l.pxToRem)==null?void 0:d.call(l,20))||"1.25rem",medium:((h=t.typography)==null||(p=h.pxToRem)==null?void 0:p.call(h,24))||"1.5rem",large:((g=t.typography)==null||(b=g.pxToRem)==null?void 0:b.call(g,35))||"2.1875rem"}[r.fontSize],color:(y=(v=(t.vars||t).palette)==null||(v=v[r.color])==null?void 0:v.main)!=null?y:{action:(k=(t.vars||t).palette)==null||(k=k.action)==null?void 0:k.active,disabled:(x=(t.vars||t).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[r.color]}}),m_=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiSvgIcon"}),{children:a,className:l,color:d="inherit",component:h="svg",fontSize:p="medium",htmlColor:g,inheritViewBox:b=!1,titleAccess:y,viewBox:v="0 0 24 24"}=o,k=vn(o,oce),x=Y.isValidElement(a)&&a.type==="svg",C=We({},o,{color:d,component:h,fontSize:p,instanceFontSize:r.fontSize,inheritViewBox:b,viewBox:v,hasSvgAsChild:x}),D={};b||(D.viewBox=v);const S=sce(C);return A.jsxs(ace,We({as:h,className:Xt(S.root,l),focusable:"false",color:g,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:n},D,k,x&&a.props,{ownerState:C,children:[x?a.props.children:a,y?A.jsx("title",{children:y}):null]}))});m_.muiName="SvgIcon";function lce(t,r){function n(o,a){return A.jsx(m_,We({"data-testid":`${r}Icon`,ref:a},o,{children:t}))}return n.muiName=m_.muiName,Y.memo(Y.forwardRef(n))}const HL=t=>t.scrollTop;function m1(t,r){var n,o;const{timeout:a,easing:l,style:d={}}=t;return{duration:(n=d.transitionDuration)!=null?n:typeof a=="number"?a:a[r.mode]||0,easing:(o=d.transitionTimingFunction)!=null?o:typeof l=="object"?l[r.mode]:l,delay:d.transitionDelay}}function cce(t){return Rr("MuiPaper",t)}Nr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const uce=["className","component","elevation","square","variant"],dce=t=>{const{square:r,elevation:n,variant:o,classes:a}=t,l={root:["root",o,!r&&"rounded",o==="elevation"&&`elevation${n}`]};return $r(l,cce,a)},hce=on("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.variant],!n.square&&r.rounded,n.variant==="elevation"&&r[`elevation${n.elevation}`]]}})(({theme:t,ownerState:r})=>{var n;return We({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!r.square&&{borderRadius:t.shape.borderRadius},r.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},r.variant==="elevation"&&We({boxShadow:(t.vars||t).shadows[r.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ea.alpha("#fff",hN(r.elevation))}, ${ea.alpha("#fff",hN(r.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[r.elevation]}))}),WL=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiPaper"}),{className:a,component:l="div",elevation:d=1,square:h=!1,variant:p="elevation"}=o,g=vn(o,uce),b=We({},o,{component:l,elevation:d,square:h,variant:p}),y=dce(b);return A.jsx(hce,We({as:l,ownerState:b,className:Xt(y.root,a),ref:n},g))});function fce(t){const{className:r,classes:n,pulsate:o=!1,rippleX:a,rippleY:l,rippleSize:d,in:h,onExited:p,timeout:g}=t,[b,y]=Y.useState(!1),v=Xt(r,n.ripple,n.rippleVisible,o&&n.ripplePulsate),k={width:d,height:d,top:-(d/2)+l,left:-(d/2)+a},x=Xt(n.child,b&&n.childLeaving,o&&n.childPulsate);return!h&&!b&&y(!0),Y.useEffect(()=>{if(!h&&p!=null){const C=setTimeout(p,g);return()=>{clearTimeout(C)}}},[p,h,g]),A.jsx("span",{className:v,style:k,children:A.jsx("span",{className:x})})}const ja=Nr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),pce=["center","classes","className"];let lw=t=>t,fN,pN,mN,gN;const g_=550,mce=80,gce=yc(fN||(fN=lw`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),bce=yc(pN||(pN=lw`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),kce=yc(mN||(mN=lw`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),wce=on("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),yce=on(fce,{name:"MuiTouchRipple",slot:"Ripple"})(gN||(gN=lw`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ja.rippleVisible,gce,g_,({theme:t})=>t.transitions.easing.easeInOut,ja.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,ja.child,ja.childLeaving,bce,g_,({theme:t})=>t.transitions.easing.easeInOut,ja.childPulsate,kce,({theme:t})=>t.transitions.easing.easeInOut),vce=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiTouchRipple"}),{center:a=!1,classes:l={},className:d}=o,h=vn(o,pce),[p,g]=Y.useState([]),b=Y.useRef(0),y=Y.useRef(null);Y.useEffect(()=>{y.current&&(y.current(),y.current=null)},[p]);const v=Y.useRef(!1),k=RL(),x=Y.useRef(null),C=Y.useRef(null),D=Y.useCallback(B=>{const{pulsate:$,rippleX:V,rippleY:M,rippleSize:L,cb:q}=B;g(Q=>[...Q,A.jsx(yce,{classes:{ripple:Xt(l.ripple,ja.ripple),rippleVisible:Xt(l.rippleVisible,ja.rippleVisible),ripplePulsate:Xt(l.ripplePulsate,ja.ripplePulsate),child:Xt(l.child,ja.child),childLeaving:Xt(l.childLeaving,ja.childLeaving),childPulsate:Xt(l.childPulsate,ja.childPulsate)},timeout:g_,pulsate:$,rippleX:V,rippleY:M,rippleSize:L},b.current)]),b.current+=1,y.current=q},[l]),S=Y.useCallback((B={},$={},V=()=>{})=>{const{pulsate:M=!1,center:L=a||$.pulsate,fakeElement:q=!1}=$;if((B==null?void 0:B.type)==="mousedown"&&v.current){v.current=!1;return}(B==null?void 0:B.type)==="touchstart"&&(v.current=!0);const Q=q?null:C.current,H=Q?Q.getBoundingClientRect():{width:0,height:0,left:0,top:0};let F,G,R;if(L||B===void 0||B.clientX===0&&B.clientY===0||!B.clientX&&!B.touches)F=Math.round(H.width/2),G=Math.round(H.height/2);else{const{clientX:ne,clientY:ue}=B.touches&&B.touches.length>0?B.touches[0]:B;F=Math.round(ne-H.left),G=Math.round(ue-H.top)}if(L)R=Math.sqrt((2*H.width**2+H.height**2)/3),R%2===0&&(R+=1);else{const ne=Math.max(Math.abs((Q?Q.clientWidth:0)-F),F)*2+2,ue=Math.max(Math.abs((Q?Q.clientHeight:0)-G),G)*2+2;R=Math.sqrt(ne**2+ue**2)}B!=null&&B.touches?x.current===null&&(x.current=()=>{D({pulsate:M,rippleX:F,rippleY:G,rippleSize:R,cb:V})},k.start(mce,()=>{x.current&&(x.current(),x.current=null)})):D({pulsate:M,rippleX:F,rippleY:G,rippleSize:R,cb:V})},[a,D,k]),N=Y.useCallback(()=>{S({},{pulsate:!0})},[S]),P=Y.useCallback((B,$)=>{if(k.clear(),(B==null?void 0:B.type)==="touchend"&&x.current){x.current(),x.current=null,k.start(0,()=>{P(B,$)});return}x.current=null,g(V=>V.length>0?V.slice(1):V),y.current=$},[k]);return Y.useImperativeHandle(n,()=>({pulsate:N,start:S,stop:P}),[N,S,P]),A.jsx(wce,We({className:Xt(ja.root,l.root,d),ref:C},h,{children:A.jsx(eG,{component:null,exit:!0,children:p})}))});function Ace(t){return Rr("MuiButtonBase",t)}const _ce=Nr("MuiButtonBase",["root","disabled","focusVisible"]),Cce=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],xce=t=>{const{disabled:r,focusVisible:n,focusVisibleClassName:o,classes:a}=t,d=$r({root:["root",r&&"disabled",n&&"focusVisible"]},Ace,a);return n&&o&&(d.root+=` ${o}`),d},Sce=on("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,r)=>r.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${_ce.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),GL=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiButtonBase"}),{action:a,centerRipple:l=!1,children:d,className:h,component:p="button",disabled:g=!1,disableRipple:b=!1,disableTouchRipple:y=!1,focusRipple:v=!1,LinkComponent:k="a",onBlur:x,onClick:C,onContextMenu:D,onDragLeave:S,onFocus:N,onFocusVisible:P,onKeyDown:B,onKeyUp:$,onMouseDown:V,onMouseLeave:M,onMouseUp:L,onTouchEnd:q,onTouchMove:Q,onTouchStart:H,tabIndex:F=0,TouchRippleProps:G,touchRippleRef:R,type:ne}=o,ue=vn(o,Cce),ie=Y.useRef(null),se=Y.useRef(null),ye=Ss(se,R),{isFocusVisibleRef:re,onFocus:_e,onBlur:Z,ref:J}=hle(),[ae,fe]=Y.useState(!1);g&&ae&&fe(!1),Y.useImperativeHandle(a,()=>({focusVisible:()=>{fe(!0),ie.current.focus()}}),[]);const[le,Ie]=Y.useState(!1);Y.useEffect(()=>{Ie(!0)},[]);const xe=le&&!b&&!g;Y.useEffect(()=>{ae&&v&&!b&&le&&se.current.pulsate()},[b,v,ae,le]);function Ne(Ze,_t,ht=y){return xh(sn=>(_t&&_t(sn),!ht&&se.current&&se.current[Ze](sn),!0))}const Qe=Ne("start",V),Ge=Ne("stop",D),Je=Ne("stop",S),ze=Ne("stop",L),X=Ne("stop",Ze=>{ae&&Ze.preventDefault(),M&&M(Ze)}),Ce=Ne("start",H),he=Ne("stop",q),be=Ne("stop",Q),pe=Ne("stop",Ze=>{Z(Ze),re.current===!1&&fe(!1),x&&x(Ze)},!1),Ae=xh(Ze=>{ie.current||(ie.current=Ze.currentTarget),_e(Ze),re.current===!0&&(fe(!0),P&&P(Ze)),N&&N(Ze)}),Oe=()=>{const Ze=ie.current;return p&&p!=="button"&&!(Ze.tagName==="A"&&Ze.href)},Me=Y.useRef(!1),De=xh(Ze=>{v&&!Me.current&&ae&&se.current&&Ze.key===" "&&(Me.current=!0,se.current.stop(Ze,()=>{se.current.start(Ze)})),Ze.target===Ze.currentTarget&&Oe()&&Ze.key===" "&&Ze.preventDefault(),B&&B(Ze),Ze.target===Ze.currentTarget&&Oe()&&Ze.key==="Enter"&&!g&&(Ze.preventDefault(),C&&C(Ze))}),qe=xh(Ze=>{v&&Ze.key===" "&&se.current&&ae&&!Ze.defaultPrevented&&(Me.current=!1,se.current.stop(Ze,()=>{se.current.pulsate(Ze)})),$&&$(Ze),C&&Ze.target===Ze.currentTarget&&Oe()&&Ze.key===" "&&!Ze.defaultPrevented&&C(Ze)});let Ve=p;Ve==="button"&&(ue.href||ue.to)&&(Ve=k);const He={};Ve==="button"?(He.type=ne===void 0?"button":ne,He.disabled=g):(!ue.href&&!ue.to&&(He.role="button"),g&&(He["aria-disabled"]=g));const st=Ss(n,J,ie),Ue=We({},o,{centerRipple:l,component:p,disabled:g,disableRipple:b,disableTouchRipple:y,focusRipple:v,tabIndex:F,focusVisible:ae}),Ke=xce(Ue);return A.jsxs(Sce,We({as:Ve,className:Xt(Ke.root,h),ownerState:Ue,onBlur:pe,onClick:C,onContextMenu:Ge,onFocus:Ae,onKeyDown:De,onKeyUp:qe,onMouseDown:Qe,onMouseLeave:X,onMouseUp:ze,onDragLeave:Je,onTouchEnd:he,onTouchMove:be,onTouchStart:Ce,ref:st,tabIndex:g?-1:F,type:ne},He,ue,{children:[d,xe?A.jsx(vce,We({ref:ye,center:l},G)):null]}))});function Ece(t){return Rr("MuiIconButton",t)}const Dce=Nr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Ice=["edge","children","className","color","disabled","disableFocusRipple","size"],Tce=t=>{const{classes:r,disabled:n,color:o,edge:a,size:l}=t,d={root:["root",n&&"disabled",o!=="default"&&`color${tn(o)}`,a&&`edge${tn(a)}`,`size${tn(l)}`]};return $r(d,Ece,r)},Nce=on(GL,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.color!=="default"&&r[`color${tn(n.color)}`],n.edge&&r[`edge${tn(n.edge)}`],r[`size${tn(n.size)}`]]}})(({theme:t,ownerState:r})=>We({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!r.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ea.alpha(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},r.edge==="start"&&{marginLeft:r.size==="small"?-3:-12},r.edge==="end"&&{marginRight:r.size==="small"?-3:-12}),({theme:t,ownerState:r})=>{var n;const o=(n=(t.vars||t).palette)==null?void 0:n[r.color];return We({},r.color==="inherit"&&{color:"inherit"},r.color!=="inherit"&&r.color!=="default"&&We({color:o==null?void 0:o.main},!r.disableRipple&&{"&:hover":We({},o&&{backgroundColor:t.vars?`rgba(${o.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ea.alpha(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),r.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},r.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Dce.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),b_=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiIconButton"}),{edge:a=!1,children:l,className:d,color:h="default",disabled:p=!1,disableFocusRipple:g=!1,size:b="medium"}=o,y=vn(o,Ice),v=We({},o,{edge:a,color:h,disabled:p,disableFocusRipple:g,size:b}),k=Tce(v);return A.jsx(Nce,We({className:Xt(k.root,d),centerRipple:!0,focusRipple:!g,disabled:p,ref:n},y,{ownerState:v,children:l}))});function Mce(t){return Rr("MuiTypography",t)}Nr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Pce=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Oce=t=>{const{align:r,gutterBottom:n,noWrap:o,paragraph:a,variant:l,classes:d}=t,h={root:["root",l,t.align!=="inherit"&&`align${tn(r)}`,n&&"gutterBottom",o&&"noWrap",a&&"paragraph"]};return $r(h,Mce,d)},jce=on("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.variant&&r[n.variant],n.align!=="inherit"&&r[`align${tn(n.align)}`],n.noWrap&&r.noWrap,n.gutterBottom&&r.gutterBottom,n.paragraph&&r.paragraph]}})(({theme:t,ownerState:r})=>We({margin:0},r.variant==="inherit"&&{font:"inherit"},r.variant!=="inherit"&&t.typography[r.variant],r.align!=="inherit"&&{textAlign:r.align},r.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r.gutterBottom&&{marginBottom:"0.35em"},r.paragraph&&{marginBottom:16})),bN={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Lce={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Rce=t=>Lce[t]||t,Lh=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiTypography"}),a=Rce(o.color),l=MC(We({},o,{color:a})),{align:d="inherit",className:h,component:p,gutterBottom:g=!1,noWrap:b=!1,paragraph:y=!1,variant:v="body1",variantMapping:k=bN}=l,x=vn(l,Pce),C=We({},l,{align:d,color:a,className:h,component:p,gutterBottom:g,noWrap:b,paragraph:y,variant:v,variantMapping:k}),D=p||(y?"p":k[v]||bN[v])||"span",S=Oce(C);return A.jsx(jce,We({as:D,ref:n,ownerState:C,className:Xt(S.root,h)},x))});function Bce(t){return typeof t=="function"?t():t}const Fce=Y.forwardRef(function(r,n){const{children:o,container:a,disablePortal:l=!1}=r,[d,h]=Y.useState(null),p=Ss(Y.isValidElement(o)?mb(o):null,n);if(pd(()=>{l||h(Bce(a)||document.body)},[a,l]),pd(()=>{if(d&&!l)return f_(n,d),()=>{f_(n,null)}},[n,d,l]),l){if(Y.isValidElement(o)){const g={ref:p};return Y.cloneElement(o,g)}return A.jsx(Y.Fragment,{children:o})}return A.jsx(Y.Fragment,{children:d&&AP.createPortal(o,d)})}),zce=["onChange","maxRows","minRows","style","value"];function ak(t){return parseInt(t,10)||0}const Uce={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function qce(t){for(const r in t)return!1;return!0}function kN(t){return qce(t)||t.outerHeightStyle===0&&!t.overflowing}const Vce=Y.forwardRef(function(r,n){const{onChange:o,maxRows:a,minRows:l=1,style:d,value:h}=r,p=vn(r,zce),{current:g}=Y.useRef(h!=null),b=Y.useRef(null),y=Ss(n,b),v=Y.useRef(null),k=Y.useRef(null),x=Y.useCallback(()=>{const P=b.current,B=k.current;if(!P||!B)return;const V=$h(P).getComputedStyle(P);if(V.width==="0px")return{outerHeightStyle:0,overflowing:!1};B.style.width=V.width,B.value=P.value||r.placeholder||"x",B.value.slice(-1)===`
`&&(B.value+=" ");const M=V.boxSizing,L=ak(V.paddingBottom)+ak(V.paddingTop),q=ak(V.borderBottomWidth)+ak(V.borderTopWidth),Q=B.scrollHeight;B.value="x";const H=B.scrollHeight;let F=Q;l&&(F=Math.max(Number(l)*H,F)),a&&(F=Math.min(Number(a)*H,F)),F=Math.max(F,H);const G=F+(M==="border-box"?L+q:0),R=Math.abs(F-Q)<=1;return{outerHeightStyle:G,overflowing:R}},[a,l,r.placeholder]),C=xh(()=>{const P=b.current,B=x();if(!P||!B||kN(B))return!1;const $=B.outerHeightStyle;return v.current!=null&&v.current!==$}),D=Y.useCallback(()=>{const P=b.current,B=x();if(!P||!B||kN(B))return;const $=B.outerHeightStyle;v.current!==$&&(v.current=$,P.style.height=`${$}px`),P.style.overflow=B.overflowing?"hidden":""},[x]),S=Y.useRef(-1);pd(()=>{const P=jL(D),B=b==null?void 0:b.current;if(!B)return;const $=$h(B);$.addEventListener("resize",P);let V;return typeof ResizeObserver<"u"&&(V=new ResizeObserver(()=>{C()&&(V.unobserve(B),cancelAnimationFrame(S.current),D(),S.current=requestAnimationFrame(()=>{V.observe(B)}))}),V.observe(B)),()=>{P.clear(),cancelAnimationFrame(S.current),$.removeEventListener("resize",P),V&&V.disconnect()}},[x,D,C]),pd(()=>{D()});const N=P=>{g||D(),o&&o(P)};return A.jsxs(Y.Fragment,{children:[A.jsx("textarea",We({value:h,onChange:N,ref:y,rows:l,style:d},p)),A.jsx("textarea",{"aria-hidden":!0,className:r.className,readOnly:!0,ref:k,tabIndex:-1,style:We({},Uce.shadow,d,{paddingTop:0,paddingBottom:0})})]})});function zp({props:t,states:r,muiFormControl:n}){return r.reduce((o,a)=>(o[a]=t[a],n&&typeof t[a]>"u"&&(o[a]=n[a]),o),{})}const OC=Y.createContext(void 0);function Up(){return Y.useContext(OC)}function $ce(t){return A.jsx(Fae,We({},t,{defaultTheme:PC,themeId:X1}))}function wN(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function g1(t,r=!1){return t&&(wN(t.value)&&t.value!==""||r&&wN(t.defaultValue)&&t.defaultValue!=="")}function Hce(t){return t.startAdornment}function Wce(t){return Rr("MuiInputBase",t)}const Np=Nr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Gce=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],cw=(t,r)=>{const{ownerState:n}=t;return[r.root,n.formControl&&r.formControl,n.startAdornment&&r.adornedStart,n.endAdornment&&r.adornedEnd,n.error&&r.error,n.size==="small"&&r.sizeSmall,n.multiline&&r.multiline,n.color&&r[`color${tn(n.color)}`],n.fullWidth&&r.fullWidth,n.hiddenLabel&&r.hiddenLabel]},uw=(t,r)=>{const{ownerState:n}=t;return[r.input,n.size==="small"&&r.inputSizeSmall,n.multiline&&r.inputMultiline,n.type==="search"&&r.inputTypeSearch,n.startAdornment&&r.inputAdornedStart,n.endAdornment&&r.inputAdornedEnd,n.hiddenLabel&&r.inputHiddenLabel]},Yce=t=>{const{classes:r,color:n,disabled:o,error:a,endAdornment:l,focused:d,formControl:h,fullWidth:p,hiddenLabel:g,multiline:b,readOnly:y,size:v,startAdornment:k,type:x}=t,C={root:["root",`color${tn(n)}`,o&&"disabled",a&&"error",p&&"fullWidth",d&&"focused",h&&"formControl",v&&v!=="medium"&&`size${tn(v)}`,b&&"multiline",k&&"adornedStart",l&&"adornedEnd",g&&"hiddenLabel",y&&"readOnly"],input:["input",o&&"disabled",x==="search"&&"inputTypeSearch",b&&"inputMultiline",v==="small"&&"inputSizeSmall",g&&"inputHiddenLabel",k&&"inputAdornedStart",l&&"inputAdornedEnd",y&&"readOnly"]};return $r(C,Wce,r)},dw=on("div",{name:"MuiInputBase",slot:"Root",overridesResolver:cw})(({theme:t,ownerState:r})=>We({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Np.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},r.multiline&&We({padding:"4px 0 5px"},r.size==="small"&&{paddingTop:1}),r.fullWidth&&{width:"100%"})),hw=on("input",{name:"MuiInputBase",slot:"Input",overridesResolver:uw})(({theme:t,ownerState:r})=>{const n=t.palette.mode==="light",o=We({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),a={opacity:"0 !important"},l=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return We({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Np.formControl} &`]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":l,"&:focus::-moz-placeholder":l,"&:focus:-ms-input-placeholder":l,"&:focus::-ms-input-placeholder":l},[`&.${Np.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},r.size==="small"&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},r.type==="search"&&{MozAppearance:"textfield"})}),Kce=A.jsx($ce,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),jC=Y.forwardRef(function(r,n){var o;const a=Hr({props:r,name:"MuiInputBase"}),{"aria-describedby":l,autoComplete:d,autoFocus:h,className:p,components:g={},componentsProps:b={},defaultValue:y,disabled:v,disableInjectingGlobalStyles:k,endAdornment:x,fullWidth:C=!1,id:D,inputComponent:S="input",inputProps:N={},inputRef:P,maxRows:B,minRows:$,multiline:V=!1,name:M,onBlur:L,onChange:q,onClick:Q,onFocus:H,onKeyDown:F,onKeyUp:G,placeholder:R,readOnly:ne,renderSuffix:ue,rows:ie,slotProps:se={},slots:ye={},startAdornment:re,type:_e="text",value:Z}=a,J=vn(a,Gce),ae=N.value!=null?N.value:Z,{current:fe}=Y.useRef(ae!=null),le=Y.useRef(),Ie=Y.useCallback(Ke=>{},[]),xe=Ss(le,P,N.ref,Ie),[Ne,Qe]=Y.useState(!1),Ge=Up(),Je=zp({props:a,muiFormControl:Ge,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Je.focused=Ge?Ge.focused:Ne,Y.useEffect(()=>{!Ge&&v&&Ne&&(Qe(!1),L&&L())},[Ge,v,Ne,L]);const ze=Ge&&Ge.onFilled,X=Ge&&Ge.onEmpty,Ce=Y.useCallback(Ke=>{g1(Ke)?ze&&ze():X&&X()},[ze,X]);pd(()=>{fe&&Ce({value:ae})},[ae,Ce,fe]);const he=Ke=>{if(Je.disabled){Ke.stopPropagation();return}H&&H(Ke),N.onFocus&&N.onFocus(Ke),Ge&&Ge.onFocus?Ge.onFocus(Ke):Qe(!0)},be=Ke=>{L&&L(Ke),N.onBlur&&N.onBlur(Ke),Ge&&Ge.onBlur?Ge.onBlur(Ke):Qe(!1)},pe=(Ke,...Ze)=>{if(!fe){const _t=Ke.target||le.current;if(_t==null)throw new Error(Vh(1));Ce({value:_t.value})}N.onChange&&N.onChange(Ke,...Ze),q&&q(Ke,...Ze)};Y.useEffect(()=>{Ce(le.current)},[]);const Ae=Ke=>{le.current&&Ke.currentTarget===Ke.target&&le.current.focus(),Q&&Q(Ke)};let Oe=S,Me=N;V&&Oe==="input"&&(ie?Me=We({type:void 0,minRows:ie,maxRows:ie},Me):Me=We({type:void 0,maxRows:B,minRows:$},Me),Oe=Vce);const De=Ke=>{Ce(Ke.animationName==="mui-auto-fill-cancel"?le.current:{value:"x"})};Y.useEffect(()=>{Ge&&Ge.setAdornedStart(!!re)},[Ge,re]);const qe=We({},a,{color:Je.color||"primary",disabled:Je.disabled,endAdornment:x,error:Je.error,focused:Je.focused,formControl:Ge,fullWidth:C,hiddenLabel:Je.hiddenLabel,multiline:V,size:Je.size,startAdornment:re,type:_e}),Ve=Yce(qe),He=ye.root||g.Root||dw,st=se.root||b.root||{},Ue=ye.input||g.Input||hw;return Me=We({},Me,(o=se.input)!=null?o:b.input),A.jsxs(Y.Fragment,{children:[!k&&Kce,A.jsxs(He,We({},st,!p1(He)&&{ownerState:We({},qe,st.ownerState)},{ref:n,onClick:Ae},J,{className:Xt(Ve.root,st.className,p,ne&&"MuiInputBase-readOnly"),children:[re,A.jsx(OC.Provider,{value:null,children:A.jsx(Ue,We({ownerState:qe,"aria-invalid":Je.error,"aria-describedby":l,autoComplete:d,autoFocus:h,defaultValue:y,disabled:Je.disabled,id:D,onAnimationStart:De,name:M,placeholder:R,readOnly:ne,required:Je.required,rows:ie,value:ae,onKeyDown:F,onKeyUp:G,type:_e},Me,!p1(Ue)&&{as:Oe,ownerState:We({},qe,Me.ownerState)},{ref:xe,className:Xt(Ve.input,Me.className,ne&&"MuiInputBase-readOnly"),onBlur:be,onChange:pe,onFocus:he}))}),x,ue?ue(We({},Je,{startAdornment:re})):null]}))]})});function Qce(t){return Rr("MuiInput",t)}const ig=We({},Np,Nr("MuiInput",["root","underline","input"]));function Jce(t){return Rr("MuiOutlinedInput",t)}const Ku=We({},Np,Nr("MuiOutlinedInput",["root","notchedOutline","input"]));function Zce(t){return Rr("MuiFilledInput",t)}const dh=We({},Np,Nr("MuiFilledInput",["root","underline","input"])),Xce=lce(A.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),eue=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],tue={entering:{opacity:1},entered:{opacity:1}},nue=Y.forwardRef(function(r,n){const o=VL(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:l,appear:d=!0,children:h,easing:p,in:g,onEnter:b,onEntered:y,onEntering:v,onExit:k,onExited:x,onExiting:C,style:D,timeout:S=a,TransitionComponent:N=NP}=r,P=vn(r,eue),B=Y.useRef(null),$=Ss(B,mb(h),n),V=R=>ne=>{if(R){const ue=B.current;ne===void 0?R(ue):R(ue,ne)}},M=V(v),L=V((R,ne)=>{HL(R);const ue=m1({style:D,timeout:S,easing:p},{mode:"enter"});R.style.webkitTransition=o.transitions.create("opacity",ue),R.style.transition=o.transitions.create("opacity",ue),b&&b(R,ne)}),q=V(y),Q=V(C),H=V(R=>{const ne=m1({style:D,timeout:S,easing:p},{mode:"exit"});R.style.webkitTransition=o.transitions.create("opacity",ne),R.style.transition=o.transitions.create("opacity",ne),k&&k(R)}),F=V(x),G=R=>{l&&l(B.current,R)};return A.jsx(N,We({appear:d,in:g,nodeRef:B,onEnter:L,onEntered:q,onEntering:M,onExit:H,onExited:F,onExiting:Q,addEndListener:G,timeout:S},P,{children:(R,ne)=>Y.cloneElement(h,We({style:We({opacity:0,visibility:R==="exited"&&!g?"hidden":void 0},tue[R],D,h.props.style),ref:$},ne))}))});function rue(t){return Rr("MuiBackdrop",t)}Nr("MuiBackdrop",["root","invisible"]);const iue=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],oue=t=>{const{classes:r,invisible:n}=t;return $r({root:["root",n&&"invisible"]},rue,r)},sue=on("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.invisible&&r.invisible]}})(({ownerState:t})=>We({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),aue=Y.forwardRef(function(r,n){var o,a,l;const d=Hr({props:r,name:"MuiBackdrop"}),{children:h,className:p,component:g="div",components:b={},componentsProps:y={},invisible:v=!1,open:k,slotProps:x={},slots:C={},TransitionComponent:D=nue,transitionDuration:S}=d,N=vn(d,iue),P=We({},d,{component:g,invisible:v}),B=oue(P),$=(o=x.root)!=null?o:y.root;return A.jsx(D,We({in:k,timeout:S},N,{children:A.jsx(sue,We({"aria-hidden":!0},$,{as:(a=(l=C.root)!=null?l:b.Root)!=null?a:g,className:Xt(B.root,p,$==null?void 0:$.className),ownerState:We({},P,$==null?void 0:$.ownerState),classes:B,ref:n,children:h}))}))}),lue=Nr("MuiBox",["root"]),cue=qL(),fl=Hae({themeId:X1,defaultTheme:cue,defaultClassName:lue.root,generateClassName:NL.generate});function uue(t){return Rr("MuiButton",t)}const lk=Nr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),due=Y.createContext({}),hue=Y.createContext(void 0),fue=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],pue=t=>{const{color:r,disableElevation:n,fullWidth:o,size:a,variant:l,classes:d}=t,h={root:["root",l,`${l}${tn(r)}`,`size${tn(a)}`,`${l}Size${tn(a)}`,`color${tn(r)}`,n&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${tn(a)}`],endIcon:["icon","endIcon",`iconSize${tn(a)}`]},p=$r(h,uue,d);return We({},d,p)},YL=t=>We({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),mue=on(GL,{shouldForwardProp:t=>yl(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.variant],r[`${n.variant}${tn(n.color)}`],r[`size${tn(n.size)}`],r[`${n.variant}Size${tn(n.size)}`],n.color==="inherit"&&r.colorInherit,n.disableElevation&&r.disableElevation,n.fullWidth&&r.fullWidth]}})(({theme:t,ownerState:r})=>{var n,o;const a=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],l=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return We({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":We({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ea.alpha(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},r.variant==="text"&&r.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[r.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ea.alpha(t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},r.variant==="outlined"&&r.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[r.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[r.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ea.alpha(t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},r.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:l,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},r.variant==="contained"&&r.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[r.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[r.color].main}}),"&:active":We({},r.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${lk.focusVisible}`]:We({},r.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${lk.disabled}`]:We({color:(t.vars||t).palette.action.disabled},r.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},r.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},r.variant==="text"&&{padding:"6px 8px"},r.variant==="text"&&r.color!=="inherit"&&{color:(t.vars||t).palette[r.color].main},r.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},r.variant==="outlined"&&r.color!=="inherit"&&{color:(t.vars||t).palette[r.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[r.color].mainChannel} / 0.5)`:`1px solid ${ea.alpha(t.palette[r.color].main,.5)}`},r.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(o=t.palette).getContrastText)==null?void 0:n.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:a,boxShadow:(t.vars||t).shadows[2]},r.variant==="contained"&&r.color!=="inherit"&&{color:(t.vars||t).palette[r.color].contrastText,backgroundColor:(t.vars||t).palette[r.color].main},r.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},r.size==="small"&&r.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},r.size==="large"&&r.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},r.size==="small"&&r.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},r.size==="large"&&r.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},r.size==="small"&&r.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},r.size==="large"&&r.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},r.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${lk.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${lk.disabled}`]:{boxShadow:"none"}}),gue=on("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.startIcon,r[`iconSize${tn(n.size)}`]]}})(({ownerState:t})=>We({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},YL(t))),bue=on("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.endIcon,r[`iconSize${tn(n.size)}`]]}})(({ownerState:t})=>We({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},YL(t))),Cg=Y.forwardRef(function(r,n){const o=Y.useContext(due),a=Y.useContext(hue),l=qg(o,r),d=Hr({props:l,name:"MuiButton"}),{children:h,color:p="primary",component:g="button",className:b,disabled:y=!1,disableElevation:v=!1,disableFocusRipple:k=!1,endIcon:x,focusVisibleClassName:C,fullWidth:D=!1,size:S="medium",startIcon:N,type:P,variant:B="text"}=d,$=vn(d,fue),V=We({},d,{color:p,component:g,disabled:y,disableElevation:v,disableFocusRipple:k,fullWidth:D,size:S,type:P,variant:B}),M=pue(V),L=N&&A.jsx(gue,{className:M.startIcon,ownerState:V,children:N}),q=x&&A.jsx(bue,{className:M.endIcon,ownerState:V,children:x}),Q=a||"";return A.jsxs(mue,We({ownerState:V,className:Xt(o.className,M.root,b,Q),component:g,disabled:y,focusRipple:!k,focusVisibleClassName:Xt(M.focusVisible,C),ref:n,type:P},$,{classes:M,children:[L,h,q]}))});function kue(t){return Rr("MuiCircularProgress",t)}Nr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const wue=["className","color","disableShrink","size","style","thickness","value","variant"];let fw=t=>t,yN,vN,AN,_N;const Qu=44,yue=yc(yN||(yN=fw`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),vue=yc(vN||(vN=fw`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Aue=t=>{const{classes:r,variant:n,color:o,disableShrink:a}=t,l={root:["root",n,`color${tn(o)}`],svg:["svg"],circle:["circle",`circle${tn(n)}`,a&&"circleDisableShrink"]};return $r(l,kue,r)},_ue=on("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.variant],r[`color${tn(n.color)}`]]}})(({ownerState:t,theme:r})=>We({display:"inline-block"},t.variant==="determinate"&&{transition:r.transitions.create("transform")},t.color!=="inherit"&&{color:(r.vars||r).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&Wh(AN||(AN=fw`
      animation: ${0} 1.4s linear infinite;
    `),yue)),Cue=on("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,r)=>r.svg})({display:"block"}),xue=on("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.circle,r[`circle${tn(n.variant)}`],n.disableShrink&&r.circleDisableShrink]}})(({ownerState:t,theme:r})=>We({stroke:"currentColor"},t.variant==="determinate"&&{transition:r.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&Wh(_N||(_N=fw`
      animation: ${0} 1.4s ease-in-out infinite;
    `),vue)),Sue=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiCircularProgress"}),{className:a,color:l="primary",disableShrink:d=!1,size:h=40,style:p,thickness:g=3.6,value:b=0,variant:y="indeterminate"}=o,v=vn(o,wue),k=We({},o,{color:l,disableShrink:d,size:h,thickness:g,value:b,variant:y}),x=Aue(k),C={},D={},S={};if(y==="determinate"){const N=2*Math.PI*((Qu-g)/2);C.strokeDasharray=N.toFixed(3),S["aria-valuenow"]=Math.round(b),C.strokeDashoffset=`${((100-b)/100*N).toFixed(3)}px`,D.transform="rotate(-90deg)"}return A.jsx(_ue,We({className:Xt(x.root,a),style:We({width:h,height:h},D,p),ownerState:k,ref:n,role:"progressbar"},S,v,{children:A.jsx(Cue,{className:x.svg,ownerState:k,viewBox:`${Qu/2} ${Qu/2} ${Qu} ${Qu}`,children:A.jsx(xue,{className:x.circle,style:C,ownerState:k,cx:Qu,cy:Qu,r:(Qu-g)/2,fill:"none",strokeWidth:g})})}))});function Eue(t){const r=oa(t);return r.body===t?$h(t).innerWidth>r.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function xg(t,r){r?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function CN(t){return parseInt($h(t).getComputedStyle(t).paddingRight,10)||0}function Due(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,o=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||o}function xN(t,r,n,o,a){const l=[r,n,...o];[].forEach.call(t.children,d=>{const h=l.indexOf(d)===-1,p=!Due(d);h&&p&&xg(d,a)})}function cA(t,r){let n=-1;return t.some((o,a)=>r(o)?(n=a,!0):!1),n}function Iue(t,r){const n=[],o=t.container;if(!r.disableScrollLock){if(Eue(o)){const d=BL(oa(o));n.push({value:o.style.paddingRight,property:"padding-right",el:o}),o.style.paddingRight=`${CN(o)+d}px`;const h=oa(o).querySelectorAll(".mui-fixed");[].forEach.call(h,p=>{n.push({value:p.style.paddingRight,property:"padding-right",el:p}),p.style.paddingRight=`${CN(p)+d}px`})}let l;if(o.parentNode instanceof DocumentFragment)l=oa(o).body;else{const d=o.parentElement,h=$h(o);l=(d==null?void 0:d.nodeName)==="HTML"&&h.getComputedStyle(d).overflowY==="scroll"?d:o}n.push({value:l.style.overflow,property:"overflow",el:l},{value:l.style.overflowX,property:"overflow-x",el:l},{value:l.style.overflowY,property:"overflow-y",el:l}),l.style.overflow="hidden"}return()=>{n.forEach(({value:l,el:d,property:h})=>{l?d.style.setProperty(h,l):d.style.removeProperty(h)})}}function Tue(t){const r=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&r.push(n)}),r}class Nue{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(r,n){let o=this.modals.indexOf(r);if(o!==-1)return o;o=this.modals.length,this.modals.push(r),r.modalRef&&xg(r.modalRef,!1);const a=Tue(n);xN(n,r.mount,r.modalRef,a,!0);const l=cA(this.containers,d=>d.container===n);return l!==-1?(this.containers[l].modals.push(r),o):(this.containers.push({modals:[r],container:n,restore:null,hiddenSiblings:a}),o)}mount(r,n){const o=cA(this.containers,l=>l.modals.indexOf(r)!==-1),a=this.containers[o];a.restore||(a.restore=Iue(a,n))}remove(r,n=!0){const o=this.modals.indexOf(r);if(o===-1)return o;const a=cA(this.containers,d=>d.modals.indexOf(r)!==-1),l=this.containers[a];if(l.modals.splice(l.modals.indexOf(r),1),this.modals.splice(o,1),l.modals.length===0)l.restore&&l.restore(),r.modalRef&&xg(r.modalRef,n),xN(l.container,r.mount,r.modalRef,l.hiddenSiblings,!1),this.containers.splice(a,1);else{const d=l.modals[l.modals.length-1];d.modalRef&&xg(d.modalRef,!1)}return o}isTopModal(r){return this.modals.length>0&&this.modals[this.modals.length-1]===r}}const Mue=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Pue(t){const r=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(r)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:r}function Oue(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const r=o=>t.ownerDocument.querySelector(`input[type="radio"]${o}`);let n=r(`[name="${t.name}"]:checked`);return n||(n=r(`[name="${t.name}"]`)),n!==t}function jue(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Oue(t))}function Lue(t){const r=[],n=[];return Array.from(t.querySelectorAll(Mue)).forEach((o,a)=>{const l=Pue(o);l===-1||!jue(o)||(l===0?r.push(o):n.push({documentOrder:a,tabIndex:l,node:o}))}),n.sort((o,a)=>o.tabIndex===a.tabIndex?o.documentOrder-a.documentOrder:o.tabIndex-a.tabIndex).map(o=>o.node).concat(r)}function Rue(){return!0}function Bue(t){const{children:r,disableAutoFocus:n=!1,disableEnforceFocus:o=!1,disableRestoreFocus:a=!1,getTabbable:l=Lue,isEnabled:d=Rue,open:h}=t,p=Y.useRef(!1),g=Y.useRef(null),b=Y.useRef(null),y=Y.useRef(null),v=Y.useRef(null),k=Y.useRef(!1),x=Y.useRef(null),C=Ss(mb(r),x),D=Y.useRef(null);Y.useEffect(()=>{!h||!x.current||(k.current=!n)},[n,h]),Y.useEffect(()=>{if(!h||!x.current)return;const P=oa(x.current);return x.current.contains(P.activeElement)||(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),k.current&&x.current.focus()),()=>{a||(y.current&&y.current.focus&&(p.current=!0,y.current.focus()),y.current=null)}},[h]),Y.useEffect(()=>{if(!h||!x.current)return;const P=oa(x.current),B=M=>{D.current=M,!(o||!d()||M.key!=="Tab")&&P.activeElement===x.current&&M.shiftKey&&(p.current=!0,b.current&&b.current.focus())},$=()=>{const M=x.current;if(M===null)return;if(!P.hasFocus()||!d()||p.current){p.current=!1;return}if(M.contains(P.activeElement)||o&&P.activeElement!==g.current&&P.activeElement!==b.current)return;if(P.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!k.current)return;let L=[];if((P.activeElement===g.current||P.activeElement===b.current)&&(L=l(x.current)),L.length>0){var q,Q;const H=!!((q=D.current)!=null&&q.shiftKey&&((Q=D.current)==null?void 0:Q.key)==="Tab"),F=L[0],G=L[L.length-1];typeof F!="string"&&typeof G!="string"&&(H?G.focus():F.focus())}else M.focus()};P.addEventListener("focusin",$),P.addEventListener("keydown",B,!0);const V=setInterval(()=>{P.activeElement&&P.activeElement.tagName==="BODY"&&$()},50);return()=>{clearInterval(V),P.removeEventListener("focusin",$),P.removeEventListener("keydown",B,!0)}},[n,o,a,d,h,l]);const S=P=>{y.current===null&&(y.current=P.relatedTarget),k.current=!0,v.current=P.target;const B=r.props.onFocus;B&&B(P)},N=P=>{y.current===null&&(y.current=P.relatedTarget),k.current=!0};return A.jsxs(Y.Fragment,{children:[A.jsx("div",{tabIndex:h?0:-1,onFocus:N,ref:g,"data-testid":"sentinelStart"}),Y.cloneElement(r,{ref:C,onFocus:S}),A.jsx("div",{tabIndex:h?0:-1,onFocus:N,ref:b,"data-testid":"sentinelEnd"})]})}function Fue(t){return typeof t=="function"?t():t}function zue(t){return t?t.props.hasOwnProperty("in"):!1}const Uue=new Nue;function que(t){const{container:r,disableEscapeKeyDown:n=!1,disableScrollLock:o=!1,manager:a=Uue,closeAfterTransition:l=!1,onTransitionEnter:d,onTransitionExited:h,children:p,onClose:g,open:b,rootRef:y}=t,v=Y.useRef({}),k=Y.useRef(null),x=Y.useRef(null),C=Ss(x,y),[D,S]=Y.useState(!b),N=zue(p);let P=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(P=!1);const B=()=>oa(k.current),$=()=>(v.current.modalRef=x.current,v.current.mount=k.current,v.current),V=()=>{a.mount($(),{disableScrollLock:o}),x.current&&(x.current.scrollTop=0)},M=xh(()=>{const ue=Fue(r)||B().body;a.add($(),ue),x.current&&V()}),L=Y.useCallback(()=>a.isTopModal($()),[a]),q=xh(ue=>{k.current=ue,ue&&(b&&L()?V():x.current&&xg(x.current,P))}),Q=Y.useCallback(()=>{a.remove($(),P)},[P,a]);Y.useEffect(()=>()=>{Q()},[Q]),Y.useEffect(()=>{b?M():(!N||!l)&&Q()},[b,Q,N,l,M]);const H=ue=>ie=>{var se;(se=ue.onKeyDown)==null||se.call(ue,ie),!(ie.key!=="Escape"||ie.which===229||!L())&&(n||(ie.stopPropagation(),g&&g(ie,"escapeKeyDown")))},F=ue=>ie=>{var se;(se=ue.onClick)==null||se.call(ue,ie),ie.target===ie.currentTarget&&g&&g(ie,"backdropClick")};return{getRootProps:(ue={})=>{const ie=FL(t);delete ie.onTransitionEnter,delete ie.onTransitionExited;const se=We({},ie,ue);return We({role:"presentation"},se,{onKeyDown:H(se),ref:C})},getBackdropProps:(ue={})=>{const ie=ue;return We({"aria-hidden":!0},ie,{onClick:F(ie),open:b})},getTransitionProps:()=>{const ue=()=>{S(!1),d&&d()},ie=()=>{S(!0),h&&h(),l&&Q()};return{onEnter:Q6(ue,p==null?void 0:p.props.onEnter),onExited:Q6(ie,p==null?void 0:p.props.onExited)}},rootRef:C,portalRef:q,isTopModal:L,exited:D,hasTransition:N}}function Vue(t){return Rr("MuiModal",t)}Nr("MuiModal",["root","hidden","backdrop"]);const $ue=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Hue=t=>{const{open:r,exited:n,classes:o}=t;return $r({root:["root",!r&&n&&"hidden"],backdrop:["backdrop"]},Vue,o)},Wue=on("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,!n.open&&n.exited&&r.hidden]}})(({theme:t,ownerState:r})=>We({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!r.open&&r.exited&&{visibility:"hidden"})),Gue=on(aue,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,r)=>r.backdrop})({zIndex:-1}),KL=Y.forwardRef(function(r,n){var o,a,l,d,h,p;const g=Hr({name:"MuiModal",props:r}),{BackdropComponent:b=Gue,BackdropProps:y,className:v,closeAfterTransition:k=!1,children:x,container:C,component:D,components:S={},componentsProps:N={},disableAutoFocus:P=!1,disableEnforceFocus:B=!1,disableEscapeKeyDown:$=!1,disablePortal:V=!1,disableRestoreFocus:M=!1,disableScrollLock:L=!1,hideBackdrop:q=!1,keepMounted:Q=!1,onBackdropClick:H,open:F,slotProps:G,slots:R}=g,ne=vn(g,$ue),ue=We({},g,{closeAfterTransition:k,disableAutoFocus:P,disableEnforceFocus:B,disableEscapeKeyDown:$,disablePortal:V,disableRestoreFocus:M,disableScrollLock:L,hideBackdrop:q,keepMounted:Q}),{getRootProps:ie,getBackdropProps:se,getTransitionProps:ye,portalRef:re,isTopModal:_e,exited:Z,hasTransition:J}=que(We({},ue,{rootRef:n})),ae=We({},ue,{exited:Z}),fe=Hue(ae),le={};if(x.props.tabIndex===void 0&&(le.tabIndex="-1"),J){const{onEnter:ze,onExited:X}=ye();le.onEnter=ze,le.onExited=X}const Ie=(o=(a=R==null?void 0:R.root)!=null?a:S.Root)!=null?o:Wue,xe=(l=(d=R==null?void 0:R.backdrop)!=null?d:S.Backdrop)!=null?l:b,Ne=(h=G==null?void 0:G.root)!=null?h:N.root,Qe=(p=G==null?void 0:G.backdrop)!=null?p:N.backdrop,Ge=Tp({elementType:Ie,externalSlotProps:Ne,externalForwardedProps:ne,getSlotProps:ie,additionalProps:{ref:n,as:D},ownerState:ae,className:Xt(v,Ne==null?void 0:Ne.className,fe==null?void 0:fe.root,!ae.open&&ae.exited&&(fe==null?void 0:fe.hidden))}),Je=Tp({elementType:xe,externalSlotProps:Qe,additionalProps:y,getSlotProps:ze=>se(We({},ze,{onClick:X=>{H&&H(X),ze!=null&&ze.onClick&&ze.onClick(X)}})),className:Xt(Qe==null?void 0:Qe.className,y==null?void 0:y.className,fe==null?void 0:fe.backdrop),ownerState:ae});return!Q&&!F&&(!J||Z)?null:A.jsx(Fce,{ref:re,container:C,disablePortal:V,children:A.jsxs(Ie,We({},Ge,{children:[!q&&b?A.jsx(xe,We({},Je)):null,A.jsx(Bue,{disableEnforceFocus:B,disableAutoFocus:P,disableRestoreFocus:M,isEnabled:_e,open:F,children:Y.cloneElement(x,le)})]}))})}),Yue=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Kue=t=>{const{classes:r,disableUnderline:n}=t,a=$r({root:["root",!n&&"underline"],input:["input"]},Zce,r);return We({},r,a)},Que=on(dw,{shouldForwardProp:t=>yl(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[...cw(t,r),!n.disableUnderline&&r.underline]}})(({theme:t,ownerState:r})=>{var n;const o=t.palette.mode==="light",a=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",l=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",d=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",h=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return We({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:l,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:d,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:l}},[`&.${dh.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:l},[`&.${dh.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:h}},!r.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[r.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${dh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${dh.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${dh.disabled}, .${dh.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${dh.disabled}:before`]:{borderBottomStyle:"dotted"}},r.startAdornment&&{paddingLeft:12},r.endAdornment&&{paddingRight:12},r.multiline&&We({padding:"25px 12px 8px"},r.size==="small"&&{paddingTop:21,paddingBottom:4},r.hiddenLabel&&{paddingTop:16,paddingBottom:17},r.hiddenLabel&&r.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Jue=on(hw,{name:"MuiFilledInput",slot:"Input",overridesResolver:uw})(({theme:t,ownerState:r})=>We({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},r.size==="small"&&{paddingTop:21,paddingBottom:4},r.hiddenLabel&&{paddingTop:16,paddingBottom:17},r.startAdornment&&{paddingLeft:0},r.endAdornment&&{paddingRight:0},r.hiddenLabel&&r.size==="small"&&{paddingTop:8,paddingBottom:9},r.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),LC=Y.forwardRef(function(r,n){var o,a,l,d;const h=Hr({props:r,name:"MuiFilledInput"}),{components:p={},componentsProps:g,fullWidth:b=!1,inputComponent:y="input",multiline:v=!1,slotProps:k,slots:x={},type:C="text"}=h,D=vn(h,Yue),S=We({},h,{fullWidth:b,inputComponent:y,multiline:v,type:C}),N=Kue(h),P={root:{ownerState:S},input:{ownerState:S}},B=k??g?ia(P,k??g):P,$=(o=(a=x.root)!=null?a:p.Root)!=null?o:Que,V=(l=(d=x.input)!=null?d:p.Input)!=null?l:Jue;return A.jsx(jC,We({slots:{root:$,input:V},componentsProps:B,fullWidth:b,inputComponent:y,multiline:v,ref:n,type:C},D,{classes:N}))});LC.muiName="Input";function Zue(t){return Rr("MuiFormControl",t)}Nr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Xue=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],ede=t=>{const{classes:r,margin:n,fullWidth:o}=t,a={root:["root",n!=="none"&&`margin${tn(n)}`,o&&"fullWidth"]};return $r(a,Zue,r)},tde=on("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},r)=>We({},r.root,r[`margin${tn(t.margin)}`],t.fullWidth&&r.fullWidth)})(({ownerState:t})=>We({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),nde=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiFormControl"}),{children:a,className:l,color:d="primary",component:h="div",disabled:p=!1,error:g=!1,focused:b,fullWidth:y=!1,hiddenLabel:v=!1,margin:k="none",required:x=!1,size:C="medium",variant:D="outlined"}=o,S=vn(o,Xue),N=We({},o,{color:d,component:h,disabled:p,error:g,fullWidth:y,hiddenLabel:v,margin:k,required:x,size:C,variant:D}),P=ede(N),[B,$]=Y.useState(()=>{let G=!1;return a&&Y.Children.forEach(a,R=>{if(!rA(R,["Input","Select"]))return;const ne=rA(R,["Select"])?R.props.input:R;ne&&Hce(ne.props)&&(G=!0)}),G}),[V,M]=Y.useState(()=>{let G=!1;return a&&Y.Children.forEach(a,R=>{rA(R,["Input","Select"])&&(g1(R.props,!0)||g1(R.props.inputProps,!0))&&(G=!0)}),G}),[L,q]=Y.useState(!1);p&&L&&q(!1);const Q=b!==void 0&&!p?b:L;let H;const F=Y.useMemo(()=>({adornedStart:B,setAdornedStart:$,color:d,disabled:p,error:g,filled:V,focused:Q,fullWidth:y,hiddenLabel:v,size:C,onBlur:()=>{q(!1)},onEmpty:()=>{M(!1)},onFilled:()=>{M(!0)},onFocus:()=>{q(!0)},registerEffect:H,required:x,variant:D}),[B,d,p,g,V,Q,y,v,H,x,C,D]);return A.jsx(OC.Provider,{value:F,children:A.jsx(tde,We({as:h,ownerState:N,className:Xt(P.root,l),ref:n},S,{children:a}))})});function rde(t){return Rr("MuiFormHelperText",t)}const SN=Nr("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var EN;const ide=["children","className","component","disabled","error","filled","focused","margin","required","variant"],ode=t=>{const{classes:r,contained:n,size:o,disabled:a,error:l,filled:d,focused:h,required:p}=t,g={root:["root",a&&"disabled",l&&"error",o&&`size${tn(o)}`,n&&"contained",h&&"focused",d&&"filled",p&&"required"]};return $r(g,rde,r)},sde=on("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.size&&r[`size${tn(n.size)}`],n.contained&&r.contained,n.filled&&r.filled]}})(({theme:t,ownerState:r})=>We({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${SN.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${SN.error}`]:{color:(t.vars||t).palette.error.main}},r.size==="small"&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})),ade=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiFormHelperText"}),{children:a,className:l,component:d="p"}=o,h=vn(o,ide),p=Up(),g=zp({props:o,muiFormControl:p,states:["variant","size","disabled","error","filled","focused","required"]}),b=We({},o,{component:d,contained:g.variant==="filled"||g.variant==="outlined",variant:g.variant,size:g.size,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required}),y=ode(b);return A.jsx(sde,We({as:d,ownerState:b,className:Xt(y.root,l),ref:n},h,{children:a===" "?EN||(EN=A.jsx("span",{className:"notranslate",children:"â€‹"})):a}))});function lde(t){return Rr("MuiFormLabel",t)}const Sg=Nr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),cde=["children","className","color","component","disabled","error","filled","focused","required"],ude=t=>{const{classes:r,color:n,focused:o,disabled:a,error:l,filled:d,required:h}=t,p={root:["root",`color${tn(n)}`,a&&"disabled",l&&"error",d&&"filled",o&&"focused",h&&"required"],asterisk:["asterisk",l&&"error"]};return $r(p,lde,r)},dde=on("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},r)=>We({},r.root,t.color==="secondary"&&r.colorSecondary,t.filled&&r.filled)})(({theme:t,ownerState:r})=>We({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Sg.focused}`]:{color:(t.vars||t).palette[r.color].main},[`&.${Sg.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Sg.error}`]:{color:(t.vars||t).palette.error.main}})),hde=on("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,r)=>r.asterisk})(({theme:t})=>({[`&.${Sg.error}`]:{color:(t.vars||t).palette.error.main}})),fde=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiFormLabel"}),{children:a,className:l,component:d="label"}=o,h=vn(o,cde),p=Up(),g=zp({props:o,muiFormControl:p,states:["color","required","focused","disabled","error","filled"]}),b=We({},o,{color:g.color||"primary",component:d,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required}),y=ude(b);return A.jsxs(dde,We({as:d,ownerState:b,className:Xt(y.root,l),ref:n},h,{children:[a,g.required&&A.jsxs(hde,{ownerState:b,"aria-hidden":!0,className:y.asterisk,children:["â€‰","*"]})]}))}),pde=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function k_(t){return`scale(${t}, ${t**2})`}const mde={entering:{opacity:1,transform:k_(1)},entered:{opacity:1,transform:"none"}},uA=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),QL=Y.forwardRef(function(r,n){const{addEndListener:o,appear:a=!0,children:l,easing:d,in:h,onEnter:p,onEntered:g,onEntering:b,onExit:y,onExited:v,onExiting:k,style:x,timeout:C="auto",TransitionComponent:D=NP}=r,S=vn(r,pde),N=RL(),P=Y.useRef(),B=VL(),$=Y.useRef(null),V=Ss($,mb(l),n),M=ne=>ue=>{if(ne){const ie=$.current;ue===void 0?ne(ie):ne(ie,ue)}},L=M(b),q=M((ne,ue)=>{HL(ne);const{duration:ie,delay:se,easing:ye}=m1({style:x,timeout:C,easing:d},{mode:"enter"});let re;C==="auto"?(re=B.transitions.getAutoHeightDuration(ne.clientHeight),P.current=re):re=ie,ne.style.transition=[B.transitions.create("opacity",{duration:re,delay:se}),B.transitions.create("transform",{duration:uA?re:re*.666,delay:se,easing:ye})].join(","),p&&p(ne,ue)}),Q=M(g),H=M(k),F=M(ne=>{const{duration:ue,delay:ie,easing:se}=m1({style:x,timeout:C,easing:d},{mode:"exit"});let ye;C==="auto"?(ye=B.transitions.getAutoHeightDuration(ne.clientHeight),P.current=ye):ye=ue,ne.style.transition=[B.transitions.create("opacity",{duration:ye,delay:ie}),B.transitions.create("transform",{duration:uA?ye:ye*.666,delay:uA?ie:ie||ye*.333,easing:se})].join(","),ne.style.opacity=0,ne.style.transform=k_(.75),y&&y(ne)}),G=M(v),R=ne=>{C==="auto"&&N.start(P.current||0,ne),o&&o($.current,ne)};return A.jsx(D,We({appear:a,in:h,nodeRef:$,onEnter:q,onEntered:Q,onEntering:L,onExit:F,onExited:G,onExiting:H,addEndListener:R,timeout:C==="auto"?null:C},S,{children:(ne,ue)=>Y.cloneElement(l,We({style:We({opacity:0,transform:k_(.75),visibility:ne==="exited"&&!h?"hidden":void 0},mde[ne],x,l.props.style),ref:V},ue))}))});QL.muiSupportAuto=!0;const gde=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],bde=t=>{const{classes:r,disableUnderline:n}=t,a=$r({root:["root",!n&&"underline"],input:["input"]},Qce,r);return We({},r,a)},kde=on(dw,{shouldForwardProp:t=>yl(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[...cw(t,r),!n.disableUnderline&&r.underline]}})(({theme:t,ownerState:r})=>{let o=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(o=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),We({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ig.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ig.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ig.disabled}, .${ig.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${o}`}},[`&.${ig.disabled}:before`]:{borderBottomStyle:"dotted"}})}),wde=on(hw,{name:"MuiInput",slot:"Input",overridesResolver:uw})({}),RC=Y.forwardRef(function(r,n){var o,a,l,d;const h=Hr({props:r,name:"MuiInput"}),{disableUnderline:p,components:g={},componentsProps:b,fullWidth:y=!1,inputComponent:v="input",multiline:k=!1,slotProps:x,slots:C={},type:D="text"}=h,S=vn(h,gde),N=bde(h),B={root:{ownerState:{disableUnderline:p}}},$=x??b?ia(x??b,B):B,V=(o=(a=C.root)!=null?a:g.Root)!=null?o:kde,M=(l=(d=C.input)!=null?d:g.Input)!=null?l:wde;return A.jsx(jC,We({slots:{root:V,input:M},slotProps:$,fullWidth:y,inputComponent:v,multiline:k,ref:n,type:D},S,{classes:N}))});RC.muiName="Input";function yde(t){return Rr("MuiInputLabel",t)}Nr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const vde=["disableAnimation","margin","shrink","variant","className"],Ade=t=>{const{classes:r,formControl:n,size:o,shrink:a,disableAnimation:l,variant:d,required:h}=t,p={root:["root",n&&"formControl",!l&&"animated",a&&"shrink",o&&o!=="normal"&&`size${tn(o)}`,d],asterisk:[h&&"asterisk"]},g=$r(p,yde,r);return We({},r,g)},_de=on(fde,{shouldForwardProp:t=>yl(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[{[`& .${Sg.asterisk}`]:r.asterisk},r.root,n.formControl&&r.formControl,n.size==="small"&&r.sizeSmall,n.shrink&&r.shrink,!n.disableAnimation&&r.animated,n.focused&&r.focused,r[n.variant]]}})(({theme:t,ownerState:r})=>We({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},r.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},r.size==="small"&&{transform:"translate(0, 17px) scale(1)"},r.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!r.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},r.variant==="filled"&&We({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},r.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},r.shrink&&We({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},r.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),r.variant==="outlined"&&We({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},r.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},r.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Cde=Y.forwardRef(function(r,n){const o=Hr({name:"MuiInputLabel",props:r}),{disableAnimation:a=!1,shrink:l,className:d}=o,h=vn(o,vde),p=Up();let g=l;typeof g>"u"&&p&&(g=p.filled||p.focused||p.adornedStart);const b=zp({props:o,muiFormControl:p,states:["size","variant","required","focused"]}),y=We({},o,{disableAnimation:a,formControl:p,shrink:g,size:b.size,variant:b.variant,required:b.required,focused:b.focused}),v=Ade(y);return A.jsx(_de,We({"data-shrink":g,ownerState:y,ref:n,className:Xt(v.root,d)},h,{classes:v}))});function xde(t){return Rr("MuiLinearProgress",t)}Nr("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Sde=["className","color","value","valueBuffer","variant"];let qp=t=>t,DN,IN,TN,NN,MN,PN;const w_=4,Ede=yc(DN||(DN=qp`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),Dde=yc(IN||(IN=qp`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),Ide=yc(TN||(TN=qp`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),Tde=t=>{const{classes:r,variant:n,color:o}=t,a={root:["root",`color${tn(o)}`,n],dashed:["dashed",`dashedColor${tn(o)}`],bar1:["bar",`barColor${tn(o)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${tn(o)}`,n==="buffer"&&`color${tn(o)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return $r(a,xde,r)},BC=(t,r)=>r==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${r}Bg`]:t.palette.mode==="light"?ea.lighten(t.palette[r].main,.62):ea.darken(t.palette[r].main,.5),Nde=on("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[`color${tn(n.color)}`],r[n.variant]]}})(({ownerState:t,theme:r})=>We({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:BC(r,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),Mde=on("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.dashed,r[`dashedColor${tn(n.color)}`]]}})(({ownerState:t,theme:r})=>{const n=BC(r,t.color);return We({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},Wh(NN||(NN=qp`
    animation: ${0} 3s infinite linear;
  `),Ide)),Pde=on("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.bar,r[`barColor${tn(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&r.bar1Indeterminate,n.variant==="determinate"&&r.bar1Determinate,n.variant==="buffer"&&r.bar1Buffer]}})(({ownerState:t,theme:r})=>We({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(r.vars||r).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${w_}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${w_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&Wh(MN||(MN=qp`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),Ede)),Ode=on("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.bar,r[`barColor${tn(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&r.bar2Indeterminate,n.variant==="buffer"&&r.bar2Buffer]}})(({ownerState:t,theme:r})=>We({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(r.vars||r).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:BC(r,t.color),transition:`transform .${w_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&Wh(PN||(PN=qp`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),Dde)),jde=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiLinearProgress"}),{className:a,color:l="primary",value:d,valueBuffer:h,variant:p="indeterminate"}=o,g=vn(o,Sde),b=We({},o,{color:l,variant:p}),y=Tde(b),v=zL(),k={},x={bar1:{},bar2:{}};if((p==="determinate"||p==="buffer")&&d!==void 0){k["aria-valuenow"]=Math.round(d),k["aria-valuemin"]=0,k["aria-valuemax"]=100;let C=d-100;v&&(C=-C),x.bar1.transform=`translateX(${C}%)`}if(p==="buffer"&&h!==void 0){let C=(h||0)-100;v&&(C=-C),x.bar2.transform=`translateX(${C}%)`}return A.jsxs(Nde,We({className:Xt(y.root,a),ownerState:b,role:"progressbar"},k,{ref:n},g,{children:[p==="buffer"?A.jsx(Mde,{className:y.dashed,ownerState:b}):null,A.jsx(Pde,{className:y.bar1,ownerState:b,style:x.bar1}),p==="determinate"?null:A.jsx(Ode,{className:y.bar2,ownerState:b,style:x.bar2})]}))}),Lde=Y.createContext({});function Rde(t){return Rr("MuiList",t)}Nr("MuiList",["root","padding","dense","subheader"]);const Bde=["children","className","component","dense","disablePadding","subheader"],Fde=t=>{const{classes:r,disablePadding:n,dense:o,subheader:a}=t;return $r({root:["root",!n&&"padding",o&&"dense",a&&"subheader"]},Rde,r)},zde=on("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,!n.disablePadding&&r.padding,n.dense&&r.dense,n.subheader&&r.subheader]}})(({ownerState:t})=>We({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Ude=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiList"}),{children:a,className:l,component:d="ul",dense:h=!1,disablePadding:p=!1,subheader:g}=o,b=vn(o,Bde),y=Y.useMemo(()=>({dense:h}),[h]),v=We({},o,{component:d,dense:h,disablePadding:p}),k=Fde(v);return A.jsx(Lde.Provider,{value:y,children:A.jsxs(zde,We({as:d,className:Xt(k.root,l),ref:n,ownerState:v},b,{children:[g,a]}))})}),qde=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function dA(t,r,n){return t===r?t.firstChild:r&&r.nextElementSibling?r.nextElementSibling:n?null:t.firstChild}function ON(t,r,n){return t===r?n?t.firstChild:t.lastChild:r&&r.previousElementSibling?r.previousElementSibling:n?null:t.lastChild}function JL(t,r){if(r===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:r.repeating?n[0]===r.keys[0]:n.indexOf(r.keys.join(""))===0}function og(t,r,n,o,a,l){let d=!1,h=a(t,r,r?n:!1);for(;h;){if(h===t.firstChild){if(d)return!1;d=!0}const p=o?!1:h.disabled||h.getAttribute("aria-disabled")==="true";if(!h.hasAttribute("tabindex")||!JL(h,l)||p)h=a(t,h,n);else return h.focus(),!0}return!1}const Vde=Y.forwardRef(function(r,n){const{actions:o,autoFocus:a=!1,autoFocusItem:l=!1,children:d,className:h,disabledItemsFocusable:p=!1,disableListWrap:g=!1,onKeyDown:b,variant:y="selectedMenu"}=r,v=vn(r,qde),k=Y.useRef(null),x=Y.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});pd(()=>{a&&k.current.focus()},[a]),Y.useImperativeHandle(o,()=>({adjustStyleForScrollbar:(P,{direction:B})=>{const $=!k.current.style.width;if(P.clientHeight<k.current.clientHeight&&$){const V=`${BL(oa(P))}px`;k.current.style[B==="rtl"?"paddingLeft":"paddingRight"]=V,k.current.style.width=`calc(100% + ${V})`}return k.current}}),[]);const C=P=>{const B=k.current,$=P.key,V=oa(B).activeElement;if($==="ArrowDown")P.preventDefault(),og(B,V,g,p,dA);else if($==="ArrowUp")P.preventDefault(),og(B,V,g,p,ON);else if($==="Home")P.preventDefault(),og(B,null,g,p,dA);else if($==="End")P.preventDefault(),og(B,null,g,p,ON);else if($.length===1){const M=x.current,L=$.toLowerCase(),q=performance.now();M.keys.length>0&&(q-M.lastTime>500?(M.keys=[],M.repeating=!0,M.previousKeyMatched=!0):M.repeating&&L!==M.keys[0]&&(M.repeating=!1)),M.lastTime=q,M.keys.push(L);const Q=V&&!M.repeating&&JL(V,M);M.previousKeyMatched&&(Q||og(B,V,!1,p,dA,M))?P.preventDefault():M.previousKeyMatched=!1}b&&b(P)},D=Ss(k,n);let S=-1;Y.Children.forEach(d,(P,B)=>{if(!Y.isValidElement(P)){S===B&&(S+=1,S>=d.length&&(S=-1));return}P.props.disabled||(y==="selectedMenu"&&P.props.selected||S===-1)&&(S=B),S===B&&(P.props.disabled||P.props.muiSkipListHighlight||P.type.muiSkipListHighlight)&&(S+=1,S>=d.length&&(S=-1))});const N=Y.Children.map(d,(P,B)=>{if(B===S){const $={};return l&&($.autoFocus=!0),P.props.tabIndex===void 0&&y==="selectedMenu"&&($.tabIndex=0),Y.cloneElement(P,$)}return P});return A.jsx(Ude,We({role:"menu",ref:D,className:h,onKeyDown:C,tabIndex:a?0:-1},v,{children:N}))});function $de(t){return Rr("MuiPopover",t)}Nr("MuiPopover",["root","paper"]);const Hde=["onEntering"],Wde=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Gde=["slotProps"];function jN(t,r){let n=0;return typeof r=="number"?n=r:r==="center"?n=t.height/2:r==="bottom"&&(n=t.height),n}function LN(t,r){let n=0;return typeof r=="number"?n=r:r==="center"?n=t.width/2:r==="right"&&(n=t.width),n}function RN(t){return[t.horizontal,t.vertical].map(r=>typeof r=="number"?`${r}px`:r).join(" ")}function hA(t){return typeof t=="function"?t():t}const Yde=t=>{const{classes:r}=t;return $r({root:["root"],paper:["paper"]},$de,r)},Kde=on(KL,{name:"MuiPopover",slot:"Root",overridesResolver:(t,r)=>r.root})({}),ZL=on(WL,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,r)=>r.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Qde=Y.forwardRef(function(r,n){var o,a,l;const d=Hr({props:r,name:"MuiPopover"}),{action:h,anchorEl:p,anchorOrigin:g={vertical:"top",horizontal:"left"},anchorPosition:b,anchorReference:y="anchorEl",children:v,className:k,container:x,elevation:C=8,marginThreshold:D=16,open:S,PaperProps:N={},slots:P,slotProps:B,transformOrigin:$={vertical:"top",horizontal:"left"},TransitionComponent:V=QL,transitionDuration:M="auto",TransitionProps:{onEntering:L}={},disableScrollLock:q=!1}=d,Q=vn(d.TransitionProps,Hde),H=vn(d,Wde),F=(o=B==null?void 0:B.paper)!=null?o:N,G=Y.useRef(),R=Ss(G,F.ref),ne=We({},d,{anchorOrigin:g,anchorReference:y,elevation:C,marginThreshold:D,externalPaperSlotProps:F,transformOrigin:$,TransitionComponent:V,transitionDuration:M,TransitionProps:Q}),ue=Yde(ne),ie=Y.useCallback(()=>{if(y==="anchorPosition")return b;const ze=hA(p),Ce=(ze&&ze.nodeType===1?ze:oa(G.current).body).getBoundingClientRect();return{top:Ce.top+jN(Ce,g.vertical),left:Ce.left+LN(Ce,g.horizontal)}},[p,g.horizontal,g.vertical,b,y]),se=Y.useCallback(ze=>({vertical:jN(ze,$.vertical),horizontal:LN(ze,$.horizontal)}),[$.horizontal,$.vertical]),ye=Y.useCallback(ze=>{const X={width:ze.offsetWidth,height:ze.offsetHeight},Ce=se(X);if(y==="none")return{top:null,left:null,transformOrigin:RN(Ce)};const he=ie();let be=he.top-Ce.vertical,pe=he.left-Ce.horizontal;const Ae=be+X.height,Oe=pe+X.width,Me=$h(hA(p)),De=Me.innerHeight-D,qe=Me.innerWidth-D;if(D!==null&&be<D){const Ve=be-D;be-=Ve,Ce.vertical+=Ve}else if(D!==null&&Ae>De){const Ve=Ae-De;be-=Ve,Ce.vertical+=Ve}if(D!==null&&pe<D){const Ve=pe-D;pe-=Ve,Ce.horizontal+=Ve}else if(Oe>qe){const Ve=Oe-qe;pe-=Ve,Ce.horizontal+=Ve}return{top:`${Math.round(be)}px`,left:`${Math.round(pe)}px`,transformOrigin:RN(Ce)}},[p,y,ie,se,D]),[re,_e]=Y.useState(S),Z=Y.useCallback(()=>{const ze=G.current;if(!ze)return;const X=ye(ze);X.top!==null&&(ze.style.top=X.top),X.left!==null&&(ze.style.left=X.left),ze.style.transformOrigin=X.transformOrigin,_e(!0)},[ye]);Y.useEffect(()=>(q&&window.addEventListener("scroll",Z),()=>window.removeEventListener("scroll",Z)),[p,q,Z]);const J=(ze,X)=>{L&&L(ze,X),Z()},ae=()=>{_e(!1)};Y.useEffect(()=>{S&&Z()}),Y.useImperativeHandle(h,()=>S?{updatePosition:()=>{Z()}}:null,[S,Z]),Y.useEffect(()=>{if(!S)return;const ze=jL(()=>{Z()}),X=$h(p);return X.addEventListener("resize",ze),()=>{ze.clear(),X.removeEventListener("resize",ze)}},[p,S,Z]);let fe=M;M==="auto"&&!V.muiSupportAuto&&(fe=void 0);const le=x||(p?oa(hA(p)).body:void 0),Ie=(a=P==null?void 0:P.root)!=null?a:Kde,xe=(l=P==null?void 0:P.paper)!=null?l:ZL,Ne=Tp({elementType:xe,externalSlotProps:We({},F,{style:re?F.style:We({},F.style,{opacity:0})}),additionalProps:{elevation:C,ref:R},ownerState:ne,className:Xt(ue.paper,F==null?void 0:F.className)}),Qe=Tp({elementType:Ie,externalSlotProps:(B==null?void 0:B.root)||{},externalForwardedProps:H,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:le,open:S},ownerState:ne,className:Xt(ue.root,k)}),{slotProps:Ge}=Qe,Je=vn(Qe,Gde);return A.jsx(Ie,We({},Je,!p1(Ie)&&{slotProps:Ge,disableScrollLock:q},{children:A.jsx(V,We({appear:!0,in:S,onEntering:J,onExited:ae,timeout:fe},Q,{children:A.jsx(xe,We({},Ne,{children:v}))}))}))});function Jde(t){return Rr("MuiMenu",t)}Nr("MuiMenu",["root","paper","list"]);const Zde=["onEntering"],Xde=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ehe={vertical:"top",horizontal:"right"},the={vertical:"top",horizontal:"left"},nhe=t=>{const{classes:r}=t;return $r({root:["root"],paper:["paper"],list:["list"]},Jde,r)},rhe=on(Qde,{shouldForwardProp:t=>yl(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,r)=>r.root})({}),ihe=on(ZL,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,r)=>r.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ohe=on(Vde,{name:"MuiMenu",slot:"List",overridesResolver:(t,r)=>r.list})({outline:0}),she=Y.forwardRef(function(r,n){var o,a;const l=Hr({props:r,name:"MuiMenu"}),{autoFocus:d=!0,children:h,className:p,disableAutoFocusItem:g=!1,MenuListProps:b={},onClose:y,open:v,PaperProps:k={},PopoverClasses:x,transitionDuration:C="auto",TransitionProps:{onEntering:D}={},variant:S="selectedMenu",slots:N={},slotProps:P={}}=l,B=vn(l.TransitionProps,Zde),$=vn(l,Xde),V=zL(),M=We({},l,{autoFocus:d,disableAutoFocusItem:g,MenuListProps:b,onEntering:D,PaperProps:k,transitionDuration:C,TransitionProps:B,variant:S}),L=nhe(M),q=d&&!g&&v,Q=Y.useRef(null),H=(se,ye)=>{Q.current&&Q.current.adjustStyleForScrollbar(se,{direction:V?"rtl":"ltr"}),D&&D(se,ye)},F=se=>{se.key==="Tab"&&(se.preventDefault(),y&&y(se,"tabKeyDown"))};let G=-1;Y.Children.map(h,(se,ye)=>{Y.isValidElement(se)&&(se.props.disabled||(S==="selectedMenu"&&se.props.selected||G===-1)&&(G=ye))});const R=(o=N.paper)!=null?o:ihe,ne=(a=P.paper)!=null?a:k,ue=Tp({elementType:N.root,externalSlotProps:P.root,ownerState:M,className:[L.root,p]}),ie=Tp({elementType:R,externalSlotProps:ne,ownerState:M,className:L.paper});return A.jsx(rhe,We({onClose:y,anchorOrigin:{vertical:"bottom",horizontal:V?"right":"left"},transformOrigin:V?ehe:the,slots:{paper:R,root:N.root},slotProps:{root:ue,paper:ie},open:v,ref:n,transitionDuration:C,TransitionProps:We({onEntering:H},B),ownerState:M},$,{classes:x,children:A.jsx(ohe,We({onKeyDown:F,actions:Q,autoFocus:d&&(G===-1||g),autoFocusItem:q,variant:S},b,{className:Xt(L.list,b.className),children:h}))}))});function ahe(t){return Rr("MuiNativeSelect",t)}const FC=Nr("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),lhe=["className","disabled","error","IconComponent","inputRef","variant"],che=t=>{const{classes:r,variant:n,disabled:o,multiple:a,open:l,error:d}=t,h={select:["select",n,o&&"disabled",a&&"multiple",d&&"error"],icon:["icon",`icon${tn(n)}`,l&&"iconOpen",o&&"disabled"]};return $r(h,ahe,r)},XL=({ownerState:t,theme:r})=>We({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":We({},r.vars?{backgroundColor:`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:r.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${FC.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(r.vars||r).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}}),uhe=on("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:yl,overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.select,r[n.variant],n.error&&r.error,{[`&.${FC.multiple}`]:r.multiple}]}})(XL),e8=({ownerState:t,theme:r})=>We({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(r.vars||r).palette.action.active,[`&.${FC.disabled}`]:{color:(r.vars||r).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),dhe=on("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.icon,n.variant&&r[`icon${tn(n.variant)}`],n.open&&r.iconOpen]}})(e8),hhe=Y.forwardRef(function(r,n){const{className:o,disabled:a,error:l,IconComponent:d,inputRef:h,variant:p="standard"}=r,g=vn(r,lhe),b=We({},r,{disabled:a,variant:p,error:l}),y=che(b);return A.jsxs(Y.Fragment,{children:[A.jsx(uhe,We({ownerState:b,className:Xt(y.select,o),disabled:a,ref:h||n},g)),r.multiple?null:A.jsx(dhe,{as:d,ownerState:b,className:y.icon})]})});var BN;const fhe=["children","classes","className","label","notched"],phe=on("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:yl})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),mhe=on("legend",{name:"MuiNotchedOutlined",shouldForwardProp:yl})(({ownerState:t,theme:r})=>We({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:r.transitions.create("width",{duration:150,easing:r.transitions.easing.easeOut})},t.withLabel&&We({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:r.transitions.create("max-width",{duration:50,easing:r.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:r.transitions.create("max-width",{duration:100,easing:r.transitions.easing.easeOut,delay:50})})));function ghe(t){const{className:r,label:n,notched:o}=t,a=vn(t,fhe),l=n!=null&&n!=="",d=We({},t,{notched:o,withLabel:l});return A.jsx(phe,We({"aria-hidden":!0,className:r,ownerState:d},a,{children:A.jsx(mhe,{ownerState:d,children:l?A.jsx("span",{children:n}):BN||(BN=A.jsx("span",{className:"notranslate",children:"â€‹"}))})}))}const bhe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],khe=t=>{const{classes:r}=t,o=$r({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Jce,r);return We({},r,o)},whe=on(dw,{shouldForwardProp:t=>yl(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:cw})(({theme:t,ownerState:r})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return We({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ku.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ku.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Ku.focused} .${Ku.notchedOutline}`]:{borderColor:(t.vars||t).palette[r.color].main,borderWidth:2},[`&.${Ku.error} .${Ku.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ku.disabled} .${Ku.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&We({padding:"16.5px 14px"},r.size==="small"&&{padding:"8.5px 14px"}))}),yhe=on(ghe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,r)=>r.notchedOutline})(({theme:t})=>{const r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}}),vhe=on(hw,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:uw})(({theme:t,ownerState:r})=>We({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},r.size==="small"&&{padding:"8.5px 14px"},r.multiline&&{padding:0},r.startAdornment&&{paddingLeft:0},r.endAdornment&&{paddingRight:0})),zC=Y.forwardRef(function(r,n){var o,a,l,d,h;const p=Hr({props:r,name:"MuiOutlinedInput"}),{components:g={},fullWidth:b=!1,inputComponent:y="input",label:v,multiline:k=!1,notched:x,slots:C={},type:D="text"}=p,S=vn(p,bhe),N=khe(p),P=Up(),B=zp({props:p,muiFormControl:P,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),$=We({},p,{color:B.color||"primary",disabled:B.disabled,error:B.error,focused:B.focused,formControl:P,fullWidth:b,hiddenLabel:B.hiddenLabel,multiline:k,size:B.size,type:D}),V=(o=(a=C.root)!=null?a:g.Root)!=null?o:whe,M=(l=(d=C.input)!=null?d:g.Input)!=null?l:vhe;return A.jsx(jC,We({slots:{root:V,input:M},renderSuffix:L=>A.jsx(yhe,{ownerState:$,className:N.notchedOutline,label:v!=null&&v!==""&&B.required?h||(h=A.jsxs(Y.Fragment,{children:[v,"â€‰","*"]})):v,notched:typeof x<"u"?x:!!(L.startAdornment||L.filled||L.focused)}),fullWidth:b,inputComponent:y,multiline:k,ref:n,type:D},S,{classes:We({},N,{notchedOutline:null})}))});zC.muiName="Input";function Ahe(t){return Rr("MuiSelect",t)}const sg=Nr("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var FN;const _he=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Che=on("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[{[`&.${sg.select}`]:r.select},{[`&.${sg.select}`]:r[n.variant]},{[`&.${sg.error}`]:r.error},{[`&.${sg.multiple}`]:r.multiple}]}})(XL,{[`&.${sg.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),xhe=on("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.icon,n.variant&&r[`icon${tn(n.variant)}`],n.open&&r.iconOpen]}})(e8),She=on("input",{shouldForwardProp:t=>$L(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,r)=>r.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function zN(t,r){return typeof r=="object"&&r!==null?t===r:String(t)===String(r)}function Ehe(t){return t==null||typeof t=="string"&&!t.trim()}const Dhe=t=>{const{classes:r,variant:n,disabled:o,multiple:a,open:l,error:d}=t,h={select:["select",n,o&&"disabled",a&&"multiple",d&&"error"],icon:["icon",`icon${tn(n)}`,l&&"iconOpen",o&&"disabled"],nativeInput:["nativeInput"]};return $r(h,Ahe,r)},Ihe=Y.forwardRef(function(r,n){var o;const{"aria-describedby":a,"aria-label":l,autoFocus:d,autoWidth:h,children:p,className:g,defaultOpen:b,defaultValue:y,disabled:v,displayEmpty:k,error:x=!1,IconComponent:C,inputRef:D,labelId:S,MenuProps:N={},multiple:P,name:B,onBlur:$,onChange:V,onClose:M,onFocus:L,onOpen:q,open:Q,readOnly:H,renderValue:F,SelectDisplayProps:G={},tabIndex:R,value:ne,variant:ue="standard"}=r,ie=vn(r,_he),[se,ye]=X6({controlled:ne,default:y,name:"Select"}),[re,_e]=X6({controlled:Q,default:b,name:"Select"}),Z=Y.useRef(null),J=Y.useRef(null),[ae,fe]=Y.useState(null),{current:le}=Y.useRef(Q!=null),[Ie,xe]=Y.useState(),Ne=Ss(n,D),Qe=Y.useCallback(pt=>{J.current=pt,pt&&fe(pt)},[]),Ge=ae==null?void 0:ae.parentNode;Y.useImperativeHandle(Ne,()=>({focus:()=>{J.current.focus()},node:Z.current,value:se}),[se]),Y.useEffect(()=>{b&&re&&ae&&!le&&(xe(h?null:Ge.clientWidth),J.current.focus())},[ae,h]),Y.useEffect(()=>{d&&J.current.focus()},[d]),Y.useEffect(()=>{if(!S)return;const pt=oa(J.current).getElementById(S);if(pt){const $t=()=>{getSelection().isCollapsed&&J.current.focus()};return pt.addEventListener("click",$t),()=>{pt.removeEventListener("click",$t)}}},[S]);const Je=(pt,$t)=>{pt?q&&q($t):M&&M($t),le||(xe(h?null:Ge.clientWidth),_e(pt))},ze=pt=>{pt.button===0&&(pt.preventDefault(),J.current.focus(),Je(!0,pt))},X=pt=>{Je(!1,pt)},Ce=Y.Children.toArray(p),he=pt=>{const $t=Ce.find(Bt=>Bt.props.value===pt.target.value);$t!==void 0&&(ye($t.props.value),V&&V(pt,$t))},be=pt=>$t=>{let Bt;if($t.currentTarget.hasAttribute("tabindex")){if(P){Bt=Array.isArray(se)?se.slice():[];const zt=se.indexOf(pt.props.value);zt===-1?Bt.push(pt.props.value):Bt.splice(zt,1)}else Bt=pt.props.value;if(pt.props.onClick&&pt.props.onClick($t),se!==Bt&&(ye(Bt),V)){const zt=$t.nativeEvent||$t,Qt=new zt.constructor(zt.type,zt);Object.defineProperty(Qt,"target",{writable:!0,value:{value:Bt,name:B}}),V(Qt,pt)}P||Je(!1,$t)}},pe=pt=>{H||[" ","ArrowUp","ArrowDown","Enter"].indexOf(pt.key)!==-1&&(pt.preventDefault(),Je(!0,pt))},Ae=ae!==null&&re,Oe=pt=>{!Ae&&$&&(Object.defineProperty(pt,"target",{writable:!0,value:{value:se,name:B}}),$(pt))};delete ie["aria-invalid"];let Me,De;const qe=[];let Ve=!1;(g1({value:se})||k)&&(F?Me=F(se):Ve=!0);const He=Ce.map(pt=>{if(!Y.isValidElement(pt))return null;let $t;if(P){if(!Array.isArray(se))throw new Error(Vh(2));$t=se.some(Bt=>zN(Bt,pt.props.value)),$t&&Ve&&qe.push(pt.props.children)}else $t=zN(se,pt.props.value),$t&&Ve&&(De=pt.props.children);return Y.cloneElement(pt,{"aria-selected":$t?"true":"false",onClick:be(pt),onKeyUp:Bt=>{Bt.key===" "&&Bt.preventDefault(),pt.props.onKeyUp&&pt.props.onKeyUp(Bt)},role:"option",selected:$t,value:void 0,"data-value":pt.props.value})});Ve&&(P?qe.length===0?Me=null:Me=qe.reduce((pt,$t,Bt)=>(pt.push($t),Bt<qe.length-1&&pt.push(", "),pt),[]):Me=De);let st=Ie;!h&&le&&ae&&(st=Ge.clientWidth);let Ue;typeof R<"u"?Ue=R:Ue=v?null:0;const Ke=G.id||(B?`mui-component-select-${B}`:void 0),Ze=We({},r,{variant:ue,value:se,open:Ae,error:x}),_t=Dhe(Ze),ht=We({},N.PaperProps,(o=N.slotProps)==null?void 0:o.paper),sn=LL();return A.jsxs(Y.Fragment,{children:[A.jsx(Che,We({ref:Qe,tabIndex:Ue,role:"combobox","aria-controls":sn,"aria-disabled":v?"true":void 0,"aria-expanded":Ae?"true":"false","aria-haspopup":"listbox","aria-label":l,"aria-labelledby":[S,Ke].filter(Boolean).join(" ")||void 0,"aria-describedby":a,onKeyDown:pe,onMouseDown:v||H?null:ze,onBlur:Oe,onFocus:L},G,{ownerState:Ze,className:Xt(G.className,_t.select,g),id:Ke,children:Ehe(Me)?FN||(FN=A.jsx("span",{className:"notranslate",children:"â€‹"})):Me})),A.jsx(She,We({"aria-invalid":x,value:Array.isArray(se)?se.join(","):se,name:B,ref:Z,"aria-hidden":!0,onChange:he,tabIndex:-1,disabled:v,className:_t.nativeInput,autoFocus:d,ownerState:Ze},ie)),A.jsx(xhe,{as:C,className:_t.icon,ownerState:Ze}),A.jsx(she,We({id:`menu-${B||""}`,anchorEl:Ge,open:Ae,onClose:X,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},N,{MenuListProps:We({"aria-labelledby":S,role:"listbox","aria-multiselectable":P?"true":void 0,disableListWrap:!0,id:sn},N.MenuListProps),slotProps:We({},N.slotProps,{paper:We({},ht,{style:We({minWidth:st},ht!=null?ht.style:null)})}),children:He}))]})}),The=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Nhe=["root"],Mhe=t=>{const{classes:r}=t;return r},UC={name:"MuiSelect",overridesResolver:(t,r)=>r.root,shouldForwardProp:t=>yl(t)&&t!=="variant",slot:"Root"},Phe=on(RC,UC)(""),Ohe=on(zC,UC)(""),jhe=on(LC,UC)(""),t8=Y.forwardRef(function(r,n){const o=Hr({name:"MuiSelect",props:r}),{autoWidth:a=!1,children:l,classes:d={},className:h,defaultOpen:p=!1,displayEmpty:g=!1,IconComponent:b=Xce,id:y,input:v,inputProps:k,label:x,labelId:C,MenuProps:D,multiple:S=!1,native:N=!1,onClose:P,onOpen:B,open:$,renderValue:V,SelectDisplayProps:M,variant:L="outlined"}=o,q=vn(o,The),Q=N?hhe:Ihe,H=Up(),F=zp({props:o,muiFormControl:H,states:["variant","error"]}),G=F.variant||L,R=We({},o,{variant:G,classes:d}),ne=Mhe(R),ue=vn(ne,Nhe),ie=v||{standard:A.jsx(Phe,{ownerState:R}),outlined:A.jsx(Ohe,{label:x,ownerState:R}),filled:A.jsx(jhe,{ownerState:R})}[G],se=Ss(n,mb(ie));return A.jsx(Y.Fragment,{children:Y.cloneElement(ie,We({inputComponent:Q,inputProps:We({children:l,error:F.error,IconComponent:b,variant:G,type:void 0,multiple:S},N?{id:y}:{autoWidth:a,defaultOpen:p,displayEmpty:g,labelId:C,MenuProps:D,onClose:P,onOpen:B,open:$,renderValue:V,SelectDisplayProps:We({id:y},M)},k,{classes:k?ia(ue,k.classes):ue},v?v.props.inputProps:{})},(S&&N||g)&&G==="outlined"?{notched:!0}:{},{ref:se,className:Xt(ie.props.className,h,ne.root)},!v&&{variant:G},q))})});t8.muiName="Select";function Lhe(t){return Rr("MuiTextField",t)}Nr("MuiTextField",["root"]);const Rhe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Bhe={standard:RC,filled:LC,outlined:zC},Fhe=t=>{const{classes:r}=t;return $r({root:["root"]},Lhe,r)},zhe=on(nde,{name:"MuiTextField",slot:"Root",overridesResolver:(t,r)=>r.root})({}),Uhe=Y.forwardRef(function(r,n){const o=Hr({props:r,name:"MuiTextField"}),{autoComplete:a,autoFocus:l=!1,children:d,className:h,color:p="primary",defaultValue:g,disabled:b=!1,error:y=!1,FormHelperTextProps:v,fullWidth:k=!1,helperText:x,id:C,InputLabelProps:D,inputProps:S,InputProps:N,inputRef:P,label:B,maxRows:$,minRows:V,multiline:M=!1,name:L,onBlur:q,onChange:Q,onFocus:H,placeholder:F,required:G=!1,rows:R,select:ne=!1,SelectProps:ue,type:ie,value:se,variant:ye="outlined"}=o,re=vn(o,Rhe),_e=We({},o,{autoFocus:l,color:p,disabled:b,error:y,fullWidth:k,multiline:M,required:G,select:ne,variant:ye}),Z=Fhe(_e),J={};ye==="outlined"&&(D&&typeof D.shrink<"u"&&(J.notched=D.shrink),J.label=B),ne&&((!ue||!ue.native)&&(J.id=void 0),J["aria-describedby"]=void 0);const ae=LL(C),fe=x&&ae?`${ae}-helper-text`:void 0,le=B&&ae?`${ae}-label`:void 0,Ie=Bhe[ye],xe=A.jsx(Ie,We({"aria-describedby":fe,autoComplete:a,autoFocus:l,defaultValue:g,fullWidth:k,multiline:M,name:L,rows:R,maxRows:$,minRows:V,type:ie,value:se,id:ae,inputRef:P,onBlur:q,onChange:Q,onFocus:H,placeholder:F,inputProps:S},J,N));return A.jsxs(zhe,We({className:Xt(Z.root,h),disabled:b,error:y,fullWidth:k,ref:n,required:G,color:p,variant:ye,ownerState:_e},re,{children:[B!=null&&B!==""&&A.jsx(Cde,We({htmlFor:ae,id:le},D,{children:B})),ne?A.jsx(t8,We({"aria-describedby":fe,id:ae,labelId:le,value:se,input:xe},ue,{children:d})):xe,x&&A.jsx(ade,We({id:fe},v,{children:x}))]}))}),UN=["http","https","mailto","tel"];function qhe(t){const r=(t||"").trim(),n=r.charAt(0);if(n==="#"||n==="/")return r;const o=r.indexOf(":");if(o===-1)return r;let a=-1;for(;++a<UN.length;){const l=UN[a];if(o===l.length&&r.slice(0,l.length).toLowerCase()===l)return r}return a=r.indexOf("?"),a!==-1&&o>a||(a=r.indexOf("#"),a!==-1&&o>a)?r:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var fA,qN;function Vhe(){return qN||(qN=1,fA=function(r){return r!=null&&r.constructor!=null&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}),fA}var $he=Vhe();const n8=du($he);function Eg(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?VN(t.position):"start"in t||"end"in t?VN(t):"line"in t||"column"in t?y_(t):""}function y_(t){return $N(t&&t.line)+":"+$N(t&&t.column)}function VN(t){return y_(t&&t.start)+"-"+y_(t&&t.end)}function $N(t){return t&&typeof t=="number"?t:1}class $a extends Error{constructor(r,n,o){const a=[null,null];let l={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(o=n,n=void 0),typeof o=="string"){const d=o.indexOf(":");d===-1?a[1]=o:(a[0]=o.slice(0,d),a[1]=o.slice(d+1))}n&&("type"in n||"position"in n?n.position&&(l=n.position):"start"in n||"end"in n?l=n:("line"in n||"column"in n)&&(l.start=n)),this.name=Eg(n)||"1:1",this.message=typeof r=="object"?r.message:r,this.stack="",typeof r=="object"&&r.stack&&(this.stack=r.stack),this.reason=this.message,this.fatal,this.line=l.start.line,this.column=l.start.column,this.position=l,this.source=a[0],this.ruleId=a[1],this.file,this.actual,this.expected,this.url,this.note}}$a.prototype.file="";$a.prototype.name="";$a.prototype.reason="";$a.prototype.message="";$a.prototype.stack="";$a.prototype.fatal=null;$a.prototype.column=null;$a.prototype.line=null;$a.prototype.source=null;$a.prototype.ruleId=null;$a.prototype.position=null;const Ql={basename:Hhe,dirname:Whe,extname:Ghe,join:Yhe,sep:"/"};function Hhe(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');gb(t);let n=0,o=-1,a=t.length,l;if(r===void 0||r.length===0||r.length>t.length){for(;a--;)if(t.charCodeAt(a)===47){if(l){n=a+1;break}}else o<0&&(l=!0,o=a+1);return o<0?"":t.slice(n,o)}if(r===t)return"";let d=-1,h=r.length-1;for(;a--;)if(t.charCodeAt(a)===47){if(l){n=a+1;break}}else d<0&&(l=!0,d=a+1),h>-1&&(t.charCodeAt(a)===r.charCodeAt(h--)?h<0&&(o=a):(h=-1,o=d));return n===o?o=d:o<0&&(o=t.length),t.slice(n,o)}function Whe(t){if(gb(t),t.length===0)return".";let r=-1,n=t.length,o;for(;--n;)if(t.charCodeAt(n)===47){if(o){r=n;break}}else o||(o=!0);return r<0?t.charCodeAt(0)===47?"/":".":r===1&&t.charCodeAt(0)===47?"//":t.slice(0,r)}function Ghe(t){gb(t);let r=t.length,n=-1,o=0,a=-1,l=0,d;for(;r--;){const h=t.charCodeAt(r);if(h===47){if(d){o=r+1;break}continue}n<0&&(d=!0,n=r+1),h===46?a<0?a=r:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||n<0||l===0||l===1&&a===n-1&&a===o+1?"":t.slice(a,n)}function Yhe(...t){let r=-1,n;for(;++r<t.length;)gb(t[r]),t[r]&&(n=n===void 0?t[r]:n+"/"+t[r]);return n===void 0?".":Khe(n)}function Khe(t){gb(t);const r=t.charCodeAt(0)===47;let n=Qhe(t,!r);return n.length===0&&!r&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),r?"/"+n:n}function Qhe(t,r){let n="",o=0,a=-1,l=0,d=-1,h,p;for(;++d<=t.length;){if(d<t.length)h=t.charCodeAt(d);else{if(h===47)break;h=47}if(h===47){if(!(a===d-1||l===1))if(a!==d-1&&l===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",o=0):(n=n.slice(0,p),o=n.length-1-n.lastIndexOf("/")),a=d,l=0;continue}}else if(n.length>0){n="",o=0,a=d,l=0;continue}}r&&(n=n.length>0?n+"/..":"..",o=2)}else n.length>0?n+="/"+t.slice(a+1,d):n=t.slice(a+1,d),o=d-a-1;a=d,l=0}else h===46&&l>-1?l++:l=-1}return n}function gb(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Jhe={cwd:Zhe};function Zhe(){return"/"}function v_(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function Xhe(t){if(typeof t=="string")t=new URL(t);else if(!v_(t)){const r=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw r.code="ERR_INVALID_ARG_TYPE",r}if(t.protocol!=="file:"){const r=new TypeError("The URL must be of scheme file");throw r.code="ERR_INVALID_URL_SCHEME",r}return efe(t)}function efe(t){if(t.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const r=t.pathname;let n=-1;for(;++n<r.length;)if(r.charCodeAt(n)===37&&r.charCodeAt(n+1)===50){const o=r.charCodeAt(n+2);if(o===70||o===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(r)}const pA=["history","path","basename","stem","extname","dirname"];class r8{constructor(r){let n;r?typeof r=="string"||tfe(r)?n={value:r}:v_(r)?n={path:r}:n=r:n={},this.data={},this.messages=[],this.history=[],this.cwd=Jhe.cwd(),this.value,this.stored,this.result,this.map;let o=-1;for(;++o<pA.length;){const l=pA[o];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let a;for(a in n)pA.includes(a)||(this[a]=n[a])}get path(){return this.history[this.history.length-1]}set path(r){v_(r)&&(r=Xhe(r)),gA(r,"path"),this.path!==r&&this.history.push(r)}get dirname(){return typeof this.path=="string"?Ql.dirname(this.path):void 0}set dirname(r){HN(this.basename,"dirname"),this.path=Ql.join(r||"",this.basename)}get basename(){return typeof this.path=="string"?Ql.basename(this.path):void 0}set basename(r){gA(r,"basename"),mA(r,"basename"),this.path=Ql.join(this.dirname||"",r)}get extname(){return typeof this.path=="string"?Ql.extname(this.path):void 0}set extname(r){if(mA(r,"extname"),HN(this.dirname,"extname"),r){if(r.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(r.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ql.join(this.dirname,this.stem+(r||""))}get stem(){return typeof this.path=="string"?Ql.basename(this.path,this.extname):void 0}set stem(r){gA(r,"stem"),mA(r,"stem"),this.path=Ql.join(this.dirname||"",r+(this.extname||""))}toString(r){return(this.value||"").toString(r||void 0)}message(r,n,o){const a=new $a(r,n,o);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}info(r,n,o){const a=this.message(r,n,o);return a.fatal=null,a}fail(r,n,o){const a=this.message(r,n,o);throw a.fatal=!0,a}}function mA(t,r){if(t&&t.includes(Ql.sep))throw new Error("`"+r+"` cannot be a path: did not expect `"+Ql.sep+"`")}function gA(t,r){if(!t)throw new Error("`"+r+"` cannot be empty")}function HN(t,r){if(!t)throw new Error("Setting `"+r+"` requires `path` to be set too")}function tfe(t){return n8(t)}function WN(t){if(t)throw t}var bA,GN;function nfe(){if(GN)return bA;GN=1;var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(g){return typeof Array.isArray=="function"?Array.isArray(g):r.call(g)==="[object Array]"},l=function(g){if(!g||r.call(g)!=="[object Object]")return!1;var b=t.call(g,"constructor"),y=g.constructor&&g.constructor.prototype&&t.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!b&&!y)return!1;var v;for(v in g);return typeof v>"u"||t.call(g,v)},d=function(g,b){n&&b.name==="__proto__"?n(g,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):g[b.name]=b.newValue},h=function(g,b){if(b==="__proto__")if(t.call(g,b)){if(o)return o(g,b).value}else return;return g[b]};return bA=function p(){var g,b,y,v,k,x,C=arguments[0],D=1,S=arguments.length,N=!1;for(typeof C=="boolean"&&(N=C,C=arguments[1]||{},D=2),(C==null||typeof C!="object"&&typeof C!="function")&&(C={});D<S;++D)if(g=arguments[D],g!=null)for(b in g)y=h(C,b),v=h(g,b),C!==v&&(N&&v&&(l(v)||(k=a(v)))?(k?(k=!1,x=y&&a(y)?y:[]):x=y&&l(y)?y:{},d(C,{name:b,newValue:p(N,x,v)})):typeof v<"u"&&d(C,{name:b,newValue:v}));return C},bA}var rfe=nfe();const YN=du(rfe);function A_(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function ife(){const t=[],r={run:n,use:o};return r;function n(...a){let l=-1;const d=a.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);h(null,...a);function h(p,...g){const b=t[++l];let y=-1;if(p){d(p);return}for(;++y<a.length;)(g[y]===null||g[y]===void 0)&&(g[y]=a[y]);a=g,b?ofe(b,h)(...g):d(null,...g)}}function o(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),r}}function ofe(t,r){let n;return o;function o(...d){const h=t.length>d.length;let p;h&&d.push(a);try{p=t.apply(this,d)}catch(g){const b=g;if(h&&n)throw b;return a(b)}h||(p&&p.then&&typeof p.then=="function"?p.then(l,a):p instanceof Error?a(p):l(p))}function a(d,...h){n||(n=!0,r(d,...h))}function l(d){a(null,d)}}const sfe=o8().freeze(),i8={}.hasOwnProperty;function o8(){const t=ife(),r=[];let n={},o,a=-1;return l.data=d,l.Parser=void 0,l.Compiler=void 0,l.freeze=h,l.attachers=r,l.use=p,l.parse=g,l.stringify=b,l.run=y,l.runSync=v,l.process=k,l.processSync=x,l;function l(){const C=o8();let D=-1;for(;++D<r.length;)C.use(...r[D]);return C.data(YN(!0,{},n)),C}function d(C,D){return typeof C=="string"?arguments.length===2?(yA("data",o),n[C]=D,l):i8.call(n,C)&&n[C]||null:C?(yA("data",o),n=C,l):n}function h(){if(o)return l;for(;++a<r.length;){const[C,...D]=r[a];if(D[0]===!1)continue;D[0]===!0&&(D[0]=void 0);const S=C.call(l,...D);typeof S=="function"&&t.use(S)}return o=!0,a=Number.POSITIVE_INFINITY,l}function p(C,...D){let S;if(yA("use",o),C!=null)if(typeof C=="function")$(C,...D);else if(typeof C=="object")Array.isArray(C)?B(C):P(C);else throw new TypeError("Expected usable value, not `"+C+"`");return S&&(n.settings=Object.assign(n.settings||{},S)),l;function N(V){if(typeof V=="function")$(V);else if(typeof V=="object")if(Array.isArray(V)){const[M,...L]=V;$(M,...L)}else P(V);else throw new TypeError("Expected usable value, not `"+V+"`")}function P(V){B(V.plugins),V.settings&&(S=Object.assign(S||{},V.settings))}function B(V){let M=-1;if(V!=null)if(Array.isArray(V))for(;++M<V.length;){const L=V[M];N(L)}else throw new TypeError("Expected a list of plugins, not `"+V+"`")}function $(V,M){let L=-1,q;for(;++L<r.length;)if(r[L][0]===V){q=r[L];break}q?(A_(q[1])&&A_(M)&&(M=YN(!0,q[1],M)),q[1]=M):r.push([...arguments])}}function g(C){l.freeze();const D=ag(C),S=l.Parser;return kA("parse",S),KN(S,"parse")?new S(String(D),D).parse():S(String(D),D)}function b(C,D){l.freeze();const S=ag(D),N=l.Compiler;return wA("stringify",N),QN(C),KN(N,"compile")?new N(C,S).compile():N(C,S)}function y(C,D,S){if(QN(C),l.freeze(),!S&&typeof D=="function"&&(S=D,D=void 0),!S)return new Promise(N);N(null,S);function N(P,B){t.run(C,ag(D),$);function $(V,M,L){M=M||C,V?B(V):P?P(M):S(null,M,L)}}}function v(C,D){let S,N;return l.run(C,D,P),JN("runSync","run",N),S;function P(B,$){WN(B),S=$,N=!0}}function k(C,D){if(l.freeze(),kA("process",l.Parser),wA("process",l.Compiler),!D)return new Promise(S);S(null,D);function S(N,P){const B=ag(C);l.run(l.parse(B),B,(V,M,L)=>{if(V||!M||!L)$(V);else{const q=l.stringify(M,L);q==null||(cfe(q)?L.value=q:L.result=q),$(V,L)}});function $(V,M){V||!M?P(V):N?N(M):D(null,M)}}}function x(C){let D;l.freeze(),kA("processSync",l.Parser),wA("processSync",l.Compiler);const S=ag(C);return l.process(S,N),JN("processSync","process",D),S;function N(P){D=!0,WN(P)}}}function KN(t,r){return typeof t=="function"&&t.prototype&&(afe(t.prototype)||r in t.prototype)}function afe(t){let r;for(r in t)if(i8.call(t,r))return!0;return!1}function kA(t,r){if(typeof r!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function wA(t,r){if(typeof r!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function yA(t,r){if(r)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function QN(t){if(!A_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function JN(t,r,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+r+"` instead")}function ag(t){return lfe(t)?t:new r8(t)}function lfe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function cfe(t){return typeof t=="string"||n8(t)}const ufe={};function dfe(t,r){const n=ufe,o=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return s8(t,o,a)}function s8(t,r,n){if(hfe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(r&&"alt"in t&&t.alt)return t.alt;if("children"in t)return ZN(t.children,r,n)}return Array.isArray(t)?ZN(t,r,n):""}function ZN(t,r,n){const o=[];let a=-1;for(;++a<t.length;)o[a]=s8(t[a],r,n);return o.join("")}function hfe(t){return!!(t&&typeof t=="object")}function wc(t,r,n,o){const a=t.length;let l=0,d;if(r<0?r=-r>a?0:a+r:r=r>a?a:r,n=n>0?n:0,o.length<1e4)d=Array.from(o),d.unshift(r,n),t.splice(...d);else for(n&&t.splice(r,n);l<o.length;)d=o.slice(l,l+1e4),d.unshift(r,0),t.splice(...d),l+=1e4,r+=1e4}function Fa(t,r){return t.length>0?(wc(t,t.length,0,r),t):r}const XN={}.hasOwnProperty;function ffe(t){const r={};let n=-1;for(;++n<t.length;)pfe(r,t[n]);return r}function pfe(t,r){let n;for(n in r){const a=(XN.call(t,n)?t[n]:void 0)||(t[n]={}),l=r[n];let d;if(l)for(d in l){XN.call(a,d)||(a[d]=[]);const h=l[d];mfe(a[d],Array.isArray(h)?h:h?[h]:[])}}}function mfe(t,r){let n=-1;const o=[];for(;++n<r.length;)(r[n].add==="after"?t:o).push(r[n]);wc(t,0,0,o)}const gfe=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,lc=vd(/[A-Za-z]/),ta=vd(/[\dA-Za-z]/),bfe=vd(/[#-'*+\--9=?A-Z^-~]/);function __(t){return t!==null&&(t<32||t===127)}const C_=vd(/\d/),kfe=vd(/[\dA-Fa-f]/),wfe=vd(/[!-/:-@[-`{-~]/);function fn(t){return t!==null&&t<-2}function _s(t){return t!==null&&(t<0||t===32)}function tr(t){return t===-2||t===-1||t===32}const yfe=vd(gfe),vfe=vd(/\s/);function vd(t){return r;function r(n){return n!==null&&t.test(String.fromCharCode(n))}}function Tr(t,r,n,o){const a=o?o-1:Number.POSITIVE_INFINITY;let l=0;return d;function d(p){return tr(p)?(t.enter(n),h(p)):r(p)}function h(p){return tr(p)&&l++<a?(t.consume(p),h):(t.exit(n),r(p))}}const Afe={tokenize:_fe};function _fe(t){const r=t.attempt(this.parser.constructs.contentInitial,o,a);let n;return r;function o(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Tr(t,r,"linePrefix")}function a(h){return t.enter("paragraph"),l(h)}function l(h){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,d(h)}function d(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return fn(h)?(t.consume(h),t.exit("chunkText"),l):(t.consume(h),d)}}const Cfe={tokenize:xfe},eM={tokenize:Sfe};function xfe(t){const r=this,n=[];let o=0,a,l,d;return h;function h(P){if(o<n.length){const B=n[o];return r.containerState=B[1],t.attempt(B[0].continuation,p,g)(P)}return g(P)}function p(P){if(o++,r.containerState._closeFlow){r.containerState._closeFlow=void 0,a&&N();const B=r.events.length;let $=B,V;for(;$--;)if(r.events[$][0]==="exit"&&r.events[$][1].type==="chunkFlow"){V=r.events[$][1].end;break}S(o);let M=B;for(;M<r.events.length;)r.events[M][1].end=Object.assign({},V),M++;return wc(r.events,$+1,0,r.events.slice(B)),r.events.length=M,g(P)}return h(P)}function g(P){if(o===n.length){if(!a)return v(P);if(a.currentConstruct&&a.currentConstruct.concrete)return x(P);r.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return r.containerState={},t.check(eM,b,y)(P)}function b(P){return a&&N(),S(o),v(P)}function y(P){return r.parser.lazy[r.now().line]=o!==n.length,d=r.now().offset,x(P)}function v(P){return r.containerState={},t.attempt(eM,k,x)(P)}function k(P){return o++,n.push([r.currentConstruct,r.containerState]),v(P)}function x(P){if(P===null){a&&N(),S(0),t.consume(P);return}return a=a||r.parser.flow(r.now()),t.enter("chunkFlow",{contentType:"flow",previous:l,_tokenizer:a}),C(P)}function C(P){if(P===null){D(t.exit("chunkFlow"),!0),S(0),t.consume(P);return}return fn(P)?(t.consume(P),D(t.exit("chunkFlow")),o=0,r.interrupt=void 0,h):(t.consume(P),C)}function D(P,B){const $=r.sliceStream(P);if(B&&$.push(null),P.previous=l,l&&(l.next=P),l=P,a.defineSkip(P.start),a.write($),r.parser.lazy[P.start.line]){let V=a.events.length;for(;V--;)if(a.events[V][1].start.offset<d&&(!a.events[V][1].end||a.events[V][1].end.offset>d))return;const M=r.events.length;let L=M,q,Q;for(;L--;)if(r.events[L][0]==="exit"&&r.events[L][1].type==="chunkFlow"){if(q){Q=r.events[L][1].end;break}q=!0}for(S(o),V=M;V<r.events.length;)r.events[V][1].end=Object.assign({},Q),V++;wc(r.events,L+1,0,r.events.slice(M)),r.events.length=V}}function S(P){let B=n.length;for(;B-- >P;){const $=n[B];r.containerState=$[1],$[0].exit.call(r,t)}n.length=P}function N(){a.write([null]),l=void 0,a=void 0,r.containerState._closeFlow=void 0}}function Sfe(t,r,n){return Tr(t,t.attempt(this.parser.constructs.document,r,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function tM(t){if(t===null||_s(t)||vfe(t))return 1;if(yfe(t))return 2}function qC(t,r,n){const o=[];let a=-1;for(;++a<t.length;){const l=t[a].resolveAll;l&&!o.includes(l)&&(r=l(r,n),o.push(l))}return r}const x_={name:"attention",tokenize:Dfe,resolveAll:Efe};function Efe(t,r){let n=-1,o,a,l,d,h,p,g,b;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(o=n;o--;)if(t[o][0]==="exit"&&t[o][1].type==="attentionSequence"&&t[o][1]._open&&r.sliceSerialize(t[o][1]).charCodeAt(0)===r.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[o][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[o][1].end.offset-t[o][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[o][1].end.offset-t[o][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const y=Object.assign({},t[o][1].end),v=Object.assign({},t[n][1].start);nM(y,-p),nM(v,p),d={type:p>1?"strongSequence":"emphasisSequence",start:y,end:Object.assign({},t[o][1].end)},h={type:p>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:v},l={type:p>1?"strongText":"emphasisText",start:Object.assign({},t[o][1].end),end:Object.assign({},t[n][1].start)},a={type:p>1?"strong":"emphasis",start:Object.assign({},d.start),end:Object.assign({},h.end)},t[o][1].end=Object.assign({},d.start),t[n][1].start=Object.assign({},h.end),g=[],t[o][1].end.offset-t[o][1].start.offset&&(g=Fa(g,[["enter",t[o][1],r],["exit",t[o][1],r]])),g=Fa(g,[["enter",a,r],["enter",d,r],["exit",d,r],["enter",l,r]]),g=Fa(g,qC(r.parser.constructs.insideSpan.null,t.slice(o+1,n),r)),g=Fa(g,[["exit",l,r],["enter",h,r],["exit",h,r],["exit",a,r]]),t[n][1].end.offset-t[n][1].start.offset?(b=2,g=Fa(g,[["enter",t[n][1],r],["exit",t[n][1],r]])):b=0,wc(t,o-1,n-o+3,g),n=o+g.length-b-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Dfe(t,r){const n=this.parser.constructs.attentionMarkers.null,o=this.previous,a=tM(o);let l;return d;function d(p){return l=p,t.enter("attentionSequence"),h(p)}function h(p){if(p===l)return t.consume(p),h;const g=t.exit("attentionSequence"),b=tM(p),y=!b||b===2&&a||n.includes(p),v=!a||a===2&&b||n.includes(o);return g._open=!!(l===42?y:y&&(a||!v)),g._close=!!(l===42?v:v&&(b||!y)),r(p)}}function nM(t,r){t.column+=r,t.offset+=r,t._bufferIndex+=r}const Ife={name:"autolink",tokenize:Tfe};function Tfe(t,r,n){let o=0;return a;function a(k){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(k),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),l}function l(k){return lc(k)?(t.consume(k),d):g(k)}function d(k){return k===43||k===45||k===46||ta(k)?(o=1,h(k)):g(k)}function h(k){return k===58?(t.consume(k),o=0,p):(k===43||k===45||k===46||ta(k))&&o++<32?(t.consume(k),h):(o=0,g(k))}function p(k){return k===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(k),t.exit("autolinkMarker"),t.exit("autolink"),r):k===null||k===32||k===60||__(k)?n(k):(t.consume(k),p)}function g(k){return k===64?(t.consume(k),b):bfe(k)?(t.consume(k),g):n(k)}function b(k){return ta(k)?y(k):n(k)}function y(k){return k===46?(t.consume(k),o=0,b):k===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(k),t.exit("autolinkMarker"),t.exit("autolink"),r):v(k)}function v(k){if((k===45||ta(k))&&o++<63){const x=k===45?v:y;return t.consume(k),x}return n(k)}}const pw={tokenize:Nfe,partial:!0};function Nfe(t,r,n){return o;function o(l){return tr(l)?Tr(t,a,"linePrefix")(l):a(l)}function a(l){return l===null||fn(l)?r(l):n(l)}}const a8={name:"blockQuote",tokenize:Mfe,continuation:{tokenize:Pfe},exit:Ofe};function Mfe(t,r,n){const o=this;return a;function a(d){if(d===62){const h=o.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(d),t.exit("blockQuoteMarker"),l}return n(d)}function l(d){return tr(d)?(t.enter("blockQuotePrefixWhitespace"),t.consume(d),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),r):(t.exit("blockQuotePrefix"),r(d))}}function Pfe(t,r,n){const o=this;return a;function a(d){return tr(d)?Tr(t,l,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):l(d)}function l(d){return t.attempt(a8,r,n)(d)}}function Ofe(t){t.exit("blockQuote")}const l8={name:"characterEscape",tokenize:jfe};function jfe(t,r,n){return o;function o(l){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(l),t.exit("escapeMarker"),a}function a(l){return wfe(l)?(t.enter("characterEscapeValue"),t.consume(l),t.exit("characterEscapeValue"),t.exit("characterEscape"),r):n(l)}}const rM=document.createElement("i");function VC(t){const r="&"+t+";";rM.innerHTML=r;const n=rM.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===r?!1:n}const c8={name:"characterReference",tokenize:Lfe};function Lfe(t,r,n){const o=this;let a=0,l,d;return h;function h(y){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),p}function p(y){return y===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(y),t.exit("characterReferenceMarkerNumeric"),g):(t.enter("characterReferenceValue"),l=31,d=ta,b(y))}function g(y){return y===88||y===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(y),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),l=6,d=kfe,b):(t.enter("characterReferenceValue"),l=7,d=C_,b(y))}function b(y){if(y===59&&a){const v=t.exit("characterReferenceValue");return d===ta&&!VC(o.sliceSerialize(v))?n(y):(t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),t.exit("characterReference"),r)}return d(y)&&a++<l?(t.consume(y),b):n(y)}}const iM={tokenize:Bfe,partial:!0},oM={name:"codeFenced",tokenize:Rfe,concrete:!0};function Rfe(t,r,n){const o=this,a={tokenize:$,partial:!0};let l=0,d=0,h;return p;function p(V){return g(V)}function g(V){const M=o.events[o.events.length-1];return l=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,h=V,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),b(V)}function b(V){return V===h?(d++,t.consume(V),b):d<3?n(V):(t.exit("codeFencedFenceSequence"),tr(V)?Tr(t,y,"whitespace")(V):y(V))}function y(V){return V===null||fn(V)?(t.exit("codeFencedFence"),o.interrupt?r(V):t.check(iM,C,B)(V)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(V))}function v(V){return V===null||fn(V)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),y(V)):tr(V)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Tr(t,k,"whitespace")(V)):V===96&&V===h?n(V):(t.consume(V),v)}function k(V){return V===null||fn(V)?y(V):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(V))}function x(V){return V===null||fn(V)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),y(V)):V===96&&V===h?n(V):(t.consume(V),x)}function C(V){return t.attempt(a,B,D)(V)}function D(V){return t.enter("lineEnding"),t.consume(V),t.exit("lineEnding"),S}function S(V){return l>0&&tr(V)?Tr(t,N,"linePrefix",l+1)(V):N(V)}function N(V){return V===null||fn(V)?t.check(iM,C,B)(V):(t.enter("codeFlowValue"),P(V))}function P(V){return V===null||fn(V)?(t.exit("codeFlowValue"),N(V)):(t.consume(V),P)}function B(V){return t.exit("codeFenced"),r(V)}function $(V,M,L){let q=0;return Q;function Q(ne){return V.enter("lineEnding"),V.consume(ne),V.exit("lineEnding"),H}function H(ne){return V.enter("codeFencedFence"),tr(ne)?Tr(V,F,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):F(ne)}function F(ne){return ne===h?(V.enter("codeFencedFenceSequence"),G(ne)):L(ne)}function G(ne){return ne===h?(q++,V.consume(ne),G):q>=d?(V.exit("codeFencedFenceSequence"),tr(ne)?Tr(V,R,"whitespace")(ne):R(ne)):L(ne)}function R(ne){return ne===null||fn(ne)?(V.exit("codeFencedFence"),M(ne)):L(ne)}}}function Bfe(t,r,n){const o=this;return a;function a(d){return d===null?n(d):(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l)}function l(d){return o.parser.lazy[o.now().line]?n(d):r(d)}}const vA={name:"codeIndented",tokenize:zfe},Ffe={tokenize:Ufe,partial:!0};function zfe(t,r,n){const o=this;return a;function a(g){return t.enter("codeIndented"),Tr(t,l,"linePrefix",5)(g)}function l(g){const b=o.events[o.events.length-1];return b&&b[1].type==="linePrefix"&&b[2].sliceSerialize(b[1],!0).length>=4?d(g):n(g)}function d(g){return g===null?p(g):fn(g)?t.attempt(Ffe,d,p)(g):(t.enter("codeFlowValue"),h(g))}function h(g){return g===null||fn(g)?(t.exit("codeFlowValue"),d(g)):(t.consume(g),h)}function p(g){return t.exit("codeIndented"),r(g)}}function Ufe(t,r,n){const o=this;return a;function a(d){return o.parser.lazy[o.now().line]?n(d):fn(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),a):Tr(t,l,"linePrefix",5)(d)}function l(d){const h=o.events[o.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?r(d):fn(d)?a(d):n(d)}}const qfe={name:"codeText",tokenize:Hfe,resolve:Vfe,previous:$fe};function Vfe(t){let r=t.length-4,n=3,o,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[r][1].type==="lineEnding"||t[r][1].type==="space")){for(o=n;++o<r;)if(t[o][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[r][1].type="codeTextPadding",n+=2,r-=2;break}}for(o=n-1,r++;++o<=r;)a===void 0?o!==r&&t[o][1].type!=="lineEnding"&&(a=o):(o===r||t[o][1].type==="lineEnding")&&(t[a][1].type="codeTextData",o!==a+2&&(t[a][1].end=t[o-1][1].end,t.splice(a+2,o-a-2),r-=o-a-2,o=a+2),a=void 0);return t}function $fe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Hfe(t,r,n){let o=0,a,l;return d;function d(y){return t.enter("codeText"),t.enter("codeTextSequence"),h(y)}function h(y){return y===96?(t.consume(y),o++,h):(t.exit("codeTextSequence"),p(y))}function p(y){return y===null?n(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),p):y===96?(l=t.enter("codeTextSequence"),a=0,b(y)):fn(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),p):(t.enter("codeTextData"),g(y))}function g(y){return y===null||y===32||y===96||fn(y)?(t.exit("codeTextData"),p(y)):(t.consume(y),g)}function b(y){return y===96?(t.consume(y),a++,b):a===o?(t.exit("codeTextSequence"),t.exit("codeText"),r(y)):(l.type="codeTextData",g(y))}}function u8(t){const r={};let n=-1,o,a,l,d,h,p,g;for(;++n<t.length;){for(;n in r;)n=r[n];if(o=t[n],n&&o[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(p=o[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(o[0]==="enter")o[1].contentType&&(Object.assign(r,Wfe(t,n)),n=r[n],g=!0);else if(o[1]._container){for(l=n,a=void 0;l--&&(d=t[l],d[1].type==="lineEnding"||d[1].type==="lineEndingBlank");)d[0]==="enter"&&(a&&(t[a][1].type="lineEndingBlank"),d[1].type="lineEnding",a=l);a&&(o[1].end=Object.assign({},t[a][1].start),h=t.slice(a,n),h.unshift(o),wc(t,a,n-a+1,h))}}return!g}function Wfe(t,r){const n=t[r][1],o=t[r][2];let a=r-1;const l=[],d=n._tokenizer||o.parser[n.contentType](n.start),h=d.events,p=[],g={};let b,y,v=-1,k=n,x=0,C=0;const D=[C];for(;k;){for(;t[++a][1]!==k;);l.push(a),k._tokenizer||(b=o.sliceStream(k),k.next||b.push(null),y&&d.defineSkip(k.start),k._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(b),k._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),y=k,k=k.next}for(k=n;++v<h.length;)h[v][0]==="exit"&&h[v-1][0]==="enter"&&h[v][1].type===h[v-1][1].type&&h[v][1].start.line!==h[v][1].end.line&&(C=v+1,D.push(C),k._tokenizer=void 0,k.previous=void 0,k=k.next);for(d.events=[],k?(k._tokenizer=void 0,k.previous=void 0):D.pop(),v=D.length;v--;){const S=h.slice(D[v],D[v+1]),N=l.pop();p.unshift([N,N+S.length-1]),wc(t,N,2,S)}for(v=-1;++v<p.length;)g[x+p[v][0]]=x+p[v][1],x+=p[v][1]-p[v][0]-1;return g}const Gfe={tokenize:Qfe,resolve:Kfe},Yfe={tokenize:Jfe,partial:!0};function Kfe(t){return u8(t),t}function Qfe(t,r){let n;return o;function o(h){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(h)}function a(h){return h===null?l(h):fn(h)?t.check(Yfe,d,l)(h):(t.consume(h),a)}function l(h){return t.exit("chunkContent"),t.exit("content"),r(h)}function d(h){return t.consume(h),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function Jfe(t,r,n){const o=this;return a;function a(d){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),Tr(t,l,"linePrefix")}function l(d){if(d===null||fn(d))return n(d);const h=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?r(d):t.interrupt(o.parser.constructs.flow,n,r)(d)}}function d8(t,r,n,o,a,l,d,h,p){const g=p||Number.POSITIVE_INFINITY;let b=0;return y;function y(S){return S===60?(t.enter(o),t.enter(a),t.enter(l),t.consume(S),t.exit(l),v):S===null||S===32||S===41||__(S)?n(S):(t.enter(o),t.enter(d),t.enter(h),t.enter("chunkString",{contentType:"string"}),C(S))}function v(S){return S===62?(t.enter(l),t.consume(S),t.exit(l),t.exit(a),t.exit(o),r):(t.enter(h),t.enter("chunkString",{contentType:"string"}),k(S))}function k(S){return S===62?(t.exit("chunkString"),t.exit(h),v(S)):S===null||S===60||fn(S)?n(S):(t.consume(S),S===92?x:k)}function x(S){return S===60||S===62||S===92?(t.consume(S),k):k(S)}function C(S){return!b&&(S===null||S===41||_s(S))?(t.exit("chunkString"),t.exit(h),t.exit(d),t.exit(o),r(S)):b<g&&S===40?(t.consume(S),b++,C):S===41?(t.consume(S),b--,C):S===null||S===32||S===40||__(S)?n(S):(t.consume(S),S===92?D:C)}function D(S){return S===40||S===41||S===92?(t.consume(S),C):C(S)}}function h8(t,r,n,o,a,l){const d=this;let h=0,p;return g;function g(k){return t.enter(o),t.enter(a),t.consume(k),t.exit(a),t.enter(l),b}function b(k){return h>999||k===null||k===91||k===93&&!p||k===94&&!h&&"_hiddenFootnoteSupport"in d.parser.constructs?n(k):k===93?(t.exit(l),t.enter(a),t.consume(k),t.exit(a),t.exit(o),r):fn(k)?(t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),b):(t.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===null||k===91||k===93||fn(k)||h++>999?(t.exit("chunkString"),b(k)):(t.consume(k),p||(p=!tr(k)),k===92?v:y)}function v(k){return k===91||k===92||k===93?(t.consume(k),h++,y):y(k)}}function f8(t,r,n,o,a,l){let d;return h;function h(v){return v===34||v===39||v===40?(t.enter(o),t.enter(a),t.consume(v),t.exit(a),d=v===40?41:v,p):n(v)}function p(v){return v===d?(t.enter(a),t.consume(v),t.exit(a),t.exit(o),r):(t.enter(l),g(v))}function g(v){return v===d?(t.exit(l),p(d)):v===null?n(v):fn(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),Tr(t,g,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),b(v))}function b(v){return v===d||v===null||fn(v)?(t.exit("chunkString"),g(v)):(t.consume(v),v===92?y:b)}function y(v){return v===d||v===92?(t.consume(v),b):b(v)}}function Dg(t,r){let n;return o;function o(a){return fn(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,o):tr(a)?Tr(t,o,n?"linePrefix":"lineSuffix")(a):r(a)}}function wp(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Zfe={name:"definition",tokenize:epe},Xfe={tokenize:tpe,partial:!0};function epe(t,r,n){const o=this;let a;return l;function l(k){return t.enter("definition"),d(k)}function d(k){return h8.call(o,t,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(k)}function h(k){return a=wp(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),k===58?(t.enter("definitionMarker"),t.consume(k),t.exit("definitionMarker"),p):n(k)}function p(k){return _s(k)?Dg(t,g)(k):g(k)}function g(k){return d8(t,b,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(k)}function b(k){return t.attempt(Xfe,y,y)(k)}function y(k){return tr(k)?Tr(t,v,"whitespace")(k):v(k)}function v(k){return k===null||fn(k)?(t.exit("definition"),o.parser.defined.push(a),r(k)):n(k)}}function tpe(t,r,n){return o;function o(h){return _s(h)?Dg(t,a)(h):n(h)}function a(h){return f8(t,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function l(h){return tr(h)?Tr(t,d,"whitespace")(h):d(h)}function d(h){return h===null||fn(h)?r(h):n(h)}}const npe={name:"hardBreakEscape",tokenize:rpe};function rpe(t,r,n){return o;function o(l){return t.enter("hardBreakEscape"),t.consume(l),a}function a(l){return fn(l)?(t.exit("hardBreakEscape"),r(l)):n(l)}}const ipe={name:"headingAtx",tokenize:spe,resolve:ope};function ope(t,r){let n=t.length-2,o=3,a,l;return t[o][1].type==="whitespace"&&(o+=2),n-2>o&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(o===n-1||n-4>o&&t[n-2][1].type==="whitespace")&&(n-=o+1===n?2:4),n>o&&(a={type:"atxHeadingText",start:t[o][1].start,end:t[n][1].end},l={type:"chunkText",start:t[o][1].start,end:t[n][1].end,contentType:"text"},wc(t,o,n-o+1,[["enter",a,r],["enter",l,r],["exit",l,r],["exit",a,r]])),t}function spe(t,r,n){let o=0;return a;function a(b){return t.enter("atxHeading"),l(b)}function l(b){return t.enter("atxHeadingSequence"),d(b)}function d(b){return b===35&&o++<6?(t.consume(b),d):b===null||_s(b)?(t.exit("atxHeadingSequence"),h(b)):n(b)}function h(b){return b===35?(t.enter("atxHeadingSequence"),p(b)):b===null||fn(b)?(t.exit("atxHeading"),r(b)):tr(b)?Tr(t,h,"whitespace")(b):(t.enter("atxHeadingText"),g(b))}function p(b){return b===35?(t.consume(b),p):(t.exit("atxHeadingSequence"),h(b))}function g(b){return b===null||b===35||_s(b)?(t.exit("atxHeadingText"),h(b)):(t.consume(b),g)}}const ape=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],sM=["pre","script","style","textarea"],lpe={name:"htmlFlow",tokenize:hpe,resolveTo:dpe,concrete:!0},cpe={tokenize:ppe,partial:!0},upe={tokenize:fpe,partial:!0};function dpe(t){let r=t.length;for(;r--&&!(t[r][0]==="enter"&&t[r][1].type==="htmlFlow"););return r>1&&t[r-2][1].type==="linePrefix"&&(t[r][1].start=t[r-2][1].start,t[r+1][1].start=t[r-2][1].start,t.splice(r-2,2)),t}function hpe(t,r,n){const o=this;let a,l,d,h,p;return g;function g(J){return b(J)}function b(J){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(J),y}function y(J){return J===33?(t.consume(J),v):J===47?(t.consume(J),l=!0,C):J===63?(t.consume(J),a=3,o.interrupt?r:re):lc(J)?(t.consume(J),d=String.fromCharCode(J),D):n(J)}function v(J){return J===45?(t.consume(J),a=2,k):J===91?(t.consume(J),a=5,h=0,x):lc(J)?(t.consume(J),a=4,o.interrupt?r:re):n(J)}function k(J){return J===45?(t.consume(J),o.interrupt?r:re):n(J)}function x(J){const ae="CDATA[";return J===ae.charCodeAt(h++)?(t.consume(J),h===ae.length?o.interrupt?r:F:x):n(J)}function C(J){return lc(J)?(t.consume(J),d=String.fromCharCode(J),D):n(J)}function D(J){if(J===null||J===47||J===62||_s(J)){const ae=J===47,fe=d.toLowerCase();return!ae&&!l&&sM.includes(fe)?(a=1,o.interrupt?r(J):F(J)):ape.includes(d.toLowerCase())?(a=6,ae?(t.consume(J),S):o.interrupt?r(J):F(J)):(a=7,o.interrupt&&!o.parser.lazy[o.now().line]?n(J):l?N(J):P(J))}return J===45||ta(J)?(t.consume(J),d+=String.fromCharCode(J),D):n(J)}function S(J){return J===62?(t.consume(J),o.interrupt?r:F):n(J)}function N(J){return tr(J)?(t.consume(J),N):Q(J)}function P(J){return J===47?(t.consume(J),Q):J===58||J===95||lc(J)?(t.consume(J),B):tr(J)?(t.consume(J),P):Q(J)}function B(J){return J===45||J===46||J===58||J===95||ta(J)?(t.consume(J),B):$(J)}function $(J){return J===61?(t.consume(J),V):tr(J)?(t.consume(J),$):P(J)}function V(J){return J===null||J===60||J===61||J===62||J===96?n(J):J===34||J===39?(t.consume(J),p=J,M):tr(J)?(t.consume(J),V):L(J)}function M(J){return J===p?(t.consume(J),p=null,q):J===null||fn(J)?n(J):(t.consume(J),M)}function L(J){return J===null||J===34||J===39||J===47||J===60||J===61||J===62||J===96||_s(J)?$(J):(t.consume(J),L)}function q(J){return J===47||J===62||tr(J)?P(J):n(J)}function Q(J){return J===62?(t.consume(J),H):n(J)}function H(J){return J===null||fn(J)?F(J):tr(J)?(t.consume(J),H):n(J)}function F(J){return J===45&&a===2?(t.consume(J),ue):J===60&&a===1?(t.consume(J),ie):J===62&&a===4?(t.consume(J),_e):J===63&&a===3?(t.consume(J),re):J===93&&a===5?(t.consume(J),ye):fn(J)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(cpe,Z,G)(J)):J===null||fn(J)?(t.exit("htmlFlowData"),G(J)):(t.consume(J),F)}function G(J){return t.check(upe,R,Z)(J)}function R(J){return t.enter("lineEnding"),t.consume(J),t.exit("lineEnding"),ne}function ne(J){return J===null||fn(J)?G(J):(t.enter("htmlFlowData"),F(J))}function ue(J){return J===45?(t.consume(J),re):F(J)}function ie(J){return J===47?(t.consume(J),d="",se):F(J)}function se(J){if(J===62){const ae=d.toLowerCase();return sM.includes(ae)?(t.consume(J),_e):F(J)}return lc(J)&&d.length<8?(t.consume(J),d+=String.fromCharCode(J),se):F(J)}function ye(J){return J===93?(t.consume(J),re):F(J)}function re(J){return J===62?(t.consume(J),_e):J===45&&a===2?(t.consume(J),re):F(J)}function _e(J){return J===null||fn(J)?(t.exit("htmlFlowData"),Z(J)):(t.consume(J),_e)}function Z(J){return t.exit("htmlFlow"),r(J)}}function fpe(t,r,n){const o=this;return a;function a(d){return fn(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):n(d)}function l(d){return o.parser.lazy[o.now().line]?n(d):r(d)}}function ppe(t,r,n){return o;function o(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(pw,r,n)}}const mpe={name:"htmlText",tokenize:gpe};function gpe(t,r,n){const o=this;let a,l,d;return h;function h(re){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(re),p}function p(re){return re===33?(t.consume(re),g):re===47?(t.consume(re),$):re===63?(t.consume(re),P):lc(re)?(t.consume(re),L):n(re)}function g(re){return re===45?(t.consume(re),b):re===91?(t.consume(re),l=0,x):lc(re)?(t.consume(re),N):n(re)}function b(re){return re===45?(t.consume(re),k):n(re)}function y(re){return re===null?n(re):re===45?(t.consume(re),v):fn(re)?(d=y,ie(re)):(t.consume(re),y)}function v(re){return re===45?(t.consume(re),k):y(re)}function k(re){return re===62?ue(re):re===45?v(re):y(re)}function x(re){const _e="CDATA[";return re===_e.charCodeAt(l++)?(t.consume(re),l===_e.length?C:x):n(re)}function C(re){return re===null?n(re):re===93?(t.consume(re),D):fn(re)?(d=C,ie(re)):(t.consume(re),C)}function D(re){return re===93?(t.consume(re),S):C(re)}function S(re){return re===62?ue(re):re===93?(t.consume(re),S):C(re)}function N(re){return re===null||re===62?ue(re):fn(re)?(d=N,ie(re)):(t.consume(re),N)}function P(re){return re===null?n(re):re===63?(t.consume(re),B):fn(re)?(d=P,ie(re)):(t.consume(re),P)}function B(re){return re===62?ue(re):P(re)}function $(re){return lc(re)?(t.consume(re),V):n(re)}function V(re){return re===45||ta(re)?(t.consume(re),V):M(re)}function M(re){return fn(re)?(d=M,ie(re)):tr(re)?(t.consume(re),M):ue(re)}function L(re){return re===45||ta(re)?(t.consume(re),L):re===47||re===62||_s(re)?q(re):n(re)}function q(re){return re===47?(t.consume(re),ue):re===58||re===95||lc(re)?(t.consume(re),Q):fn(re)?(d=q,ie(re)):tr(re)?(t.consume(re),q):ue(re)}function Q(re){return re===45||re===46||re===58||re===95||ta(re)?(t.consume(re),Q):H(re)}function H(re){return re===61?(t.consume(re),F):fn(re)?(d=H,ie(re)):tr(re)?(t.consume(re),H):q(re)}function F(re){return re===null||re===60||re===61||re===62||re===96?n(re):re===34||re===39?(t.consume(re),a=re,G):fn(re)?(d=F,ie(re)):tr(re)?(t.consume(re),F):(t.consume(re),R)}function G(re){return re===a?(t.consume(re),a=void 0,ne):re===null?n(re):fn(re)?(d=G,ie(re)):(t.consume(re),G)}function R(re){return re===null||re===34||re===39||re===60||re===61||re===96?n(re):re===47||re===62||_s(re)?q(re):(t.consume(re),R)}function ne(re){return re===47||re===62||_s(re)?q(re):n(re)}function ue(re){return re===62?(t.consume(re),t.exit("htmlTextData"),t.exit("htmlText"),r):n(re)}function ie(re){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(re),t.exit("lineEnding"),se}function se(re){return tr(re)?Tr(t,ye,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):ye(re)}function ye(re){return t.enter("htmlTextData"),d(re)}}const $C={name:"labelEnd",tokenize:Ape,resolveTo:vpe,resolveAll:ype},bpe={tokenize:_pe},kpe={tokenize:Cpe},wpe={tokenize:xpe};function ype(t){let r=-1;for(;++r<t.length;){const n=t[r][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(r+1,n.type==="labelImage"?4:2),n.type="data",r++)}return t}function vpe(t,r){let n=t.length,o=0,a,l,d,h;for(;n--;)if(a=t[n][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(d){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=n,a.type!=="labelLink")){o=2;break}}else a.type==="labelEnd"&&(d=n);const p={type:t[l][1].type==="labelLink"?"link":"image",start:Object.assign({},t[l][1].start),end:Object.assign({},t[t.length-1][1].end)},g={type:"label",start:Object.assign({},t[l][1].start),end:Object.assign({},t[d][1].end)},b={type:"labelText",start:Object.assign({},t[l+o+2][1].end),end:Object.assign({},t[d-2][1].start)};return h=[["enter",p,r],["enter",g,r]],h=Fa(h,t.slice(l+1,l+o+3)),h=Fa(h,[["enter",b,r]]),h=Fa(h,qC(r.parser.constructs.insideSpan.null,t.slice(l+o+4,d-3),r)),h=Fa(h,[["exit",b,r],t[d-2],t[d-1],["exit",g,r]]),h=Fa(h,t.slice(d+1)),h=Fa(h,[["exit",p,r]]),wc(t,l,t.length,h),t}function Ape(t,r,n){const o=this;let a=o.events.length,l,d;for(;a--;)if((o.events[a][1].type==="labelImage"||o.events[a][1].type==="labelLink")&&!o.events[a][1]._balanced){l=o.events[a][1];break}return h;function h(v){return l?l._inactive?y(v):(d=o.parser.defined.includes(wp(o.sliceSerialize({start:l.end,end:o.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),p):n(v)}function p(v){return v===40?t.attempt(bpe,b,d?b:y)(v):v===91?t.attempt(kpe,b,d?g:y)(v):d?b(v):y(v)}function g(v){return t.attempt(wpe,b,y)(v)}function b(v){return r(v)}function y(v){return l._balanced=!0,n(v)}}function _pe(t,r,n){return o;function o(y){return t.enter("resource"),t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),a}function a(y){return _s(y)?Dg(t,l)(y):l(y)}function l(y){return y===41?b(y):d8(t,d,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function d(y){return _s(y)?Dg(t,p)(y):b(y)}function h(y){return n(y)}function p(y){return y===34||y===39||y===40?f8(t,g,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):b(y)}function g(y){return _s(y)?Dg(t,b)(y):b(y)}function b(y){return y===41?(t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),t.exit("resource"),r):n(y)}}function Cpe(t,r,n){const o=this;return a;function a(h){return h8.call(o,t,l,d,"reference","referenceMarker","referenceString")(h)}function l(h){return o.parser.defined.includes(wp(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?r(h):n(h)}function d(h){return n(h)}}function xpe(t,r,n){return o;function o(l){return t.enter("reference"),t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),a}function a(l){return l===93?(t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),t.exit("reference"),r):n(l)}}const Spe={name:"labelStartImage",tokenize:Epe,resolveAll:$C.resolveAll};function Epe(t,r,n){const o=this;return a;function a(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),l}function l(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),d):n(h)}function d(h){return h===94&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):r(h)}}const Dpe={name:"labelStartLink",tokenize:Ipe,resolveAll:$C.resolveAll};function Ipe(t,r,n){const o=this;return a;function a(d){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelLink"),l}function l(d){return d===94&&"_hiddenFootnoteSupport"in o.parser.constructs?n(d):r(d)}}const AA={name:"lineEnding",tokenize:Tpe};function Tpe(t,r){return n;function n(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Tr(t,r,"linePrefix")}}const Mk={name:"thematicBreak",tokenize:Npe};function Npe(t,r,n){let o=0,a;return l;function l(g){return t.enter("thematicBreak"),d(g)}function d(g){return a=g,h(g)}function h(g){return g===a?(t.enter("thematicBreakSequence"),p(g)):o>=3&&(g===null||fn(g))?(t.exit("thematicBreak"),r(g)):n(g)}function p(g){return g===a?(t.consume(g),o++,p):(t.exit("thematicBreakSequence"),tr(g)?Tr(t,h,"whitespace")(g):h(g))}}const ws={name:"list",tokenize:Ope,continuation:{tokenize:jpe},exit:Rpe},Mpe={tokenize:Bpe,partial:!0},Ppe={tokenize:Lpe,partial:!0};function Ope(t,r,n){const o=this,a=o.events[o.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,d=0;return h;function h(k){const x=o.containerState.type||(k===42||k===43||k===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!o.containerState.marker||k===o.containerState.marker:C_(k)){if(o.containerState.type||(o.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),k===42||k===45?t.check(Mk,n,g)(k):g(k);if(!o.interrupt||k===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(k)}return n(k)}function p(k){return C_(k)&&++d<10?(t.consume(k),p):(!o.interrupt||d<2)&&(o.containerState.marker?k===o.containerState.marker:k===41||k===46)?(t.exit("listItemValue"),g(k)):n(k)}function g(k){return t.enter("listItemMarker"),t.consume(k),t.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||k,t.check(pw,o.interrupt?n:b,t.attempt(Mpe,v,y))}function b(k){return o.containerState.initialBlankLine=!0,l++,v(k)}function y(k){return tr(k)?(t.enter("listItemPrefixWhitespace"),t.consume(k),t.exit("listItemPrefixWhitespace"),v):n(k)}function v(k){return o.containerState.size=l+o.sliceSerialize(t.exit("listItemPrefix"),!0).length,r(k)}}function jpe(t,r,n){const o=this;return o.containerState._closeFlow=void 0,t.check(pw,a,l);function a(h){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,Tr(t,r,"listItemIndent",o.containerState.size+1)(h)}function l(h){return o.containerState.furtherBlankLines||!tr(h)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,d(h)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,t.attempt(Ppe,r,d)(h))}function d(h){return o.containerState._closeFlow=!0,o.interrupt=void 0,Tr(t,t.attempt(ws,r,n),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function Lpe(t,r,n){const o=this;return Tr(t,a,"listItemIndent",o.containerState.size+1);function a(l){const d=o.events[o.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===o.containerState.size?r(l):n(l)}}function Rpe(t){t.exit(this.containerState.type)}function Bpe(t,r,n){const o=this;return Tr(t,a,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const d=o.events[o.events.length-1];return!tr(l)&&d&&d[1].type==="listItemPrefixWhitespace"?r(l):n(l)}}const aM={name:"setextUnderline",tokenize:zpe,resolveTo:Fpe};function Fpe(t,r){let n=t.length,o,a,l;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){o=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!l&&t[n][1].type==="definition"&&(l=n);const d={type:"setextHeading",start:Object.assign({},t[a][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[a][1].type="setextHeadingText",l?(t.splice(a,0,["enter",d,r]),t.splice(l+1,0,["exit",t[o][1],r]),t[o][1].end=Object.assign({},t[l][1].end)):t[o][1]=d,t.push(["exit",d,r]),t}function zpe(t,r,n){const o=this;let a;return l;function l(g){let b=o.events.length,y;for(;b--;)if(o.events[b][1].type!=="lineEnding"&&o.events[b][1].type!=="linePrefix"&&o.events[b][1].type!=="content"){y=o.events[b][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||y)?(t.enter("setextHeadingLine"),a=g,d(g)):n(g)}function d(g){return t.enter("setextHeadingLineSequence"),h(g)}function h(g){return g===a?(t.consume(g),h):(t.exit("setextHeadingLineSequence"),tr(g)?Tr(t,p,"lineSuffix")(g):p(g))}function p(g){return g===null||fn(g)?(t.exit("setextHeadingLine"),r(g)):n(g)}}const Upe={tokenize:qpe};function qpe(t){const r=this,n=t.attempt(pw,o,t.attempt(this.parser.constructs.flowInitial,a,Tr(t,t.attempt(this.parser.constructs.flow,a,t.attempt(Gfe,a)),"linePrefix")));return n;function o(l){if(l===null){t.consume(l);return}return t.enter("lineEndingBlank"),t.consume(l),t.exit("lineEndingBlank"),r.currentConstruct=void 0,n}function a(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),r.currentConstruct=void 0,n}}const Vpe={resolveAll:m8()},$pe=p8("string"),Hpe=p8("text");function p8(t){return{tokenize:r,resolveAll:m8(t==="text"?Wpe:void 0)};function r(n){const o=this,a=this.parser.constructs[t],l=n.attempt(a,d,h);return d;function d(b){return g(b)?l(b):h(b)}function h(b){if(b===null){n.consume(b);return}return n.enter("data"),n.consume(b),p}function p(b){return g(b)?(n.exit("data"),l(b)):(n.consume(b),p)}function g(b){if(b===null)return!0;const y=a[b];let v=-1;if(y)for(;++v<y.length;){const k=y[v];if(!k.previous||k.previous.call(o,o.previous))return!0}return!1}}}function m8(t){return r;function r(n,o){let a=-1,l;for(;++a<=n.length;)l===void 0?n[a]&&n[a][1].type==="data"&&(l=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==l+2&&(n[l][1].end=n[a-1][1].end,n.splice(l+2,a-l-2),a=l+2),l=void 0);return t?t(n,o):n}}function Wpe(t,r){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const o=t[n-1][1],a=r.sliceStream(o);let l=a.length,d=-1,h=0,p;for(;l--;){const g=a[l];if(typeof g=="string"){for(d=g.length;g.charCodeAt(d-1)===32;)h++,d--;if(d)break;d=-1}else if(g===-2)p=!0,h++;else if(g!==-1){l++;break}}if(h){const g={type:n===t.length||p||h<2?"lineSuffix":"hardBreakTrailing",start:{line:o.end.line,column:o.end.column-h,offset:o.end.offset-h,_index:o.start._index+l,_bufferIndex:l?d:o.start._bufferIndex+d},end:Object.assign({},o.end)};o.end=Object.assign({},g.start),o.start.offset===o.end.offset?Object.assign(o,g):(t.splice(n,0,["enter",g,r],["exit",g,r]),n+=2)}n++}return t}function Gpe(t,r,n){let o=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const a={},l=[];let d=[],h=[];const p={consume:N,enter:P,exit:B,attempt:M($),check:M(V),interrupt:M(V,{interrupt:!0})},g={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:k,sliceSerialize:v,now:x,defineSkip:C,write:y};let b=r.tokenize.call(g,p);return r.resolveAll&&l.push(r),g;function y(H){return d=Fa(d,H),D(),d[d.length-1]!==null?[]:(L(r,0),g.events=qC(l,g.events,g),g.events)}function v(H,F){return Kpe(k(H),F)}function k(H){return Ype(d,H)}function x(){const{line:H,column:F,offset:G,_index:R,_bufferIndex:ne}=o;return{line:H,column:F,offset:G,_index:R,_bufferIndex:ne}}function C(H){a[H.line]=H.column,Q()}function D(){let H;for(;o._index<d.length;){const F=d[o._index];if(typeof F=="string")for(H=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===H&&o._bufferIndex<F.length;)S(F.charCodeAt(o._bufferIndex));else S(F)}}function S(H){b=b(H)}function N(H){fn(H)?(o.line++,o.column=1,o.offset+=H===-3?2:1,Q()):H!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===d[o._index].length&&(o._bufferIndex=-1,o._index++)),g.previous=H}function P(H,F){const G=F||{};return G.type=H,G.start=x(),g.events.push(["enter",G,g]),h.push(G),G}function B(H){const F=h.pop();return F.end=x(),g.events.push(["exit",F,g]),F}function $(H,F){L(H,F.from)}function V(H,F){F.restore()}function M(H,F){return G;function G(R,ne,ue){let ie,se,ye,re;return Array.isArray(R)?Z(R):"tokenize"in R?Z([R]):_e(R);function _e(le){return Ie;function Ie(xe){const Ne=xe!==null&&le[xe],Qe=xe!==null&&le.null,Ge=[...Array.isArray(Ne)?Ne:Ne?[Ne]:[],...Array.isArray(Qe)?Qe:Qe?[Qe]:[]];return Z(Ge)(xe)}}function Z(le){return ie=le,se=0,le.length===0?ue:J(le[se])}function J(le){return Ie;function Ie(xe){return re=q(),ye=le,le.partial||(g.currentConstruct=le),le.name&&g.parser.constructs.disable.null.includes(le.name)?fe():le.tokenize.call(F?Object.assign(Object.create(g),F):g,p,ae,fe)(xe)}}function ae(le){return H(ye,re),ne}function fe(le){return re.restore(),++se<ie.length?J(ie[se]):ue}}}function L(H,F){H.resolveAll&&!l.includes(H)&&l.push(H),H.resolve&&wc(g.events,F,g.events.length-F,H.resolve(g.events.slice(F),g)),H.resolveTo&&(g.events=H.resolveTo(g.events,g))}function q(){const H=x(),F=g.previous,G=g.currentConstruct,R=g.events.length,ne=Array.from(h);return{restore:ue,from:R};function ue(){o=H,g.previous=F,g.currentConstruct=G,g.events.length=R,h=ne,Q()}}function Q(){o.line in a&&o.column<2&&(o.column=a[o.line],o.offset+=a[o.line]-1)}}function Ype(t,r){const n=r.start._index,o=r.start._bufferIndex,a=r.end._index,l=r.end._bufferIndex;let d;if(n===a)d=[t[n].slice(o,l)];else{if(d=t.slice(n,a),o>-1){const h=d[0];typeof h=="string"?d[0]=h.slice(o):d.shift()}l>0&&d.push(t[a].slice(0,l))}return d}function Kpe(t,r){let n=-1;const o=[];let a;for(;++n<t.length;){const l=t[n];let d;if(typeof l=="string")d=l;else switch(l){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=r?" ":"	";break}case-1:{if(!r&&a)continue;d=" ";break}default:d=String.fromCharCode(l)}a=l===-2,o.push(d)}return o.join("")}const Qpe={42:ws,43:ws,45:ws,48:ws,49:ws,50:ws,51:ws,52:ws,53:ws,54:ws,55:ws,56:ws,57:ws,62:a8},Jpe={91:Zfe},Zpe={[-2]:vA,[-1]:vA,32:vA},Xpe={35:ipe,42:Mk,45:[aM,Mk],60:lpe,61:aM,95:Mk,96:oM,126:oM},eme={38:c8,92:l8},tme={[-5]:AA,[-4]:AA,[-3]:AA,33:Spe,38:c8,42:x_,60:[Ife,mpe],91:Dpe,92:[npe,l8],93:$C,95:x_,96:qfe},nme={null:[x_,Vpe]},rme={null:[42,95]},ime={null:[]},ome=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:rme,contentInitial:Jpe,disable:ime,document:Qpe,flow:Xpe,flowInitial:Zpe,insideSpan:nme,string:eme,text:tme},Symbol.toStringTag,{value:"Module"}));function sme(t){const n=ffe([ome,...(t||{}).extensions||[]]),o={defined:[],lazy:{},constructs:n,content:a(Afe),document:a(Cfe),flow:a(Upe),string:a($pe),text:a(Hpe)};return o;function a(l){return d;function d(h){return Gpe(o,l,h)}}}const lM=/[\0\t\n\r]/g;function ame(){let t=1,r="",n=!0,o;return a;function a(l,d,h){const p=[];let g,b,y,v,k;for(l=r+l.toString(d),y=0,r="",n&&(l.charCodeAt(0)===65279&&y++,n=void 0);y<l.length;){if(lM.lastIndex=y,g=lM.exec(l),v=g&&g.index!==void 0?g.index:l.length,k=l.charCodeAt(v),!g){r=l.slice(y);break}if(k===10&&y===v&&o)p.push(-3),o=void 0;else switch(o&&(p.push(-5),o=void 0),y<v&&(p.push(l.slice(y,v)),t+=v-y),k){case 0:{p.push(65533),t++;break}case 9:{for(b=Math.ceil(t/4)*4,p.push(-2);t++<b;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:o=!0,t=1}y=v+1}return h&&(o&&p.push(-5),r&&p.push(r),p.push(null)),p}}function lme(t){for(;!u8(t););return t}function g8(t,r){const n=Number.parseInt(t,r);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCharCode(n)}const cme=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ume(t){return t.replace(cme,dme)}function dme(t,r,n){if(r)return r;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),l=a===120||a===88;return g8(n.slice(l?2:1),l?16:10)}return VC(n)||t}const b8={}.hasOwnProperty,hme=function(t,r,n){return typeof r!="string"&&(n=r,r=void 0),fme(n)(lme(sme(n).document().write(ame()(t,r,!0))))};function fme(t){const r={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:h(Oe),autolinkProtocol:H,autolinkEmail:H,atxHeading:h(he),blockQuote:h(Ge),characterEscape:H,characterReference:H,codeFenced:h(Je),codeFencedFenceInfo:p,codeFencedFenceMeta:p,codeIndented:h(Je,p),codeText:h(ze,p),codeTextData:H,data:H,codeFlowValue:H,definition:h(X),definitionDestinationString:p,definitionLabelString:p,definitionTitleString:p,emphasis:h(Ce),hardBreakEscape:h(be),hardBreakTrailing:h(be),htmlFlow:h(pe,p),htmlFlowData:H,htmlText:h(pe,p),htmlTextData:H,image:h(Ae),label:p,link:h(Oe),listItem:h(De),listItemValue:x,listOrdered:h(Me,k),listUnordered:h(Me),paragraph:h(qe),reference:fe,referenceString:p,resourceDestinationString:p,resourceTitleString:p,setextHeading:h(he),strong:h(Ve),thematicBreak:h(st)},exit:{atxHeading:b(),atxHeadingSequence:M,autolink:b(),autolinkEmail:Qe,autolinkProtocol:Ne,blockQuote:b(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:Ie,characterReferenceMarkerNumeric:Ie,characterReferenceValue:xe,codeFenced:b(N),codeFencedFence:S,codeFencedFenceInfo:C,codeFencedFenceMeta:D,codeFlowValue:F,codeIndented:b(P),codeText:b(ie),codeTextData:F,data:F,definition:b(),definitionDestinationString:V,definitionLabelString:B,definitionTitleString:$,emphasis:b(),hardBreakEscape:b(R),hardBreakTrailing:b(R),htmlFlow:b(ne),htmlFlowData:F,htmlText:b(ue),htmlTextData:F,image:b(ye),label:_e,labelText:re,lineEnding:G,link:b(se),listItem:b(),listOrdered:b(),listUnordered:b(),paragraph:b(),referenceString:le,resourceDestinationString:Z,resourceTitleString:J,resource:ae,setextHeading:b(Q),setextHeadingLineSequence:q,setextHeadingText:L,strong:b(),thematicBreak:b()}};k8(r,(t||{}).mdastExtensions||[]);const n={};return o;function o(Ue){let Ke={type:"root",children:[]};const Ze={stack:[Ke],tokenStack:[],config:r,enter:g,exit:y,buffer:p,resume:v,setData:l,getData:d},_t=[];let ht=-1;for(;++ht<Ue.length;)if(Ue[ht][1].type==="listOrdered"||Ue[ht][1].type==="listUnordered")if(Ue[ht][0]==="enter")_t.push(ht);else{const sn=_t.pop();ht=a(Ue,sn,ht)}for(ht=-1;++ht<Ue.length;){const sn=r[Ue[ht][0]];b8.call(sn,Ue[ht][1].type)&&sn[Ue[ht][1].type].call(Object.assign({sliceSerialize:Ue[ht][2].sliceSerialize},Ze),Ue[ht][1])}if(Ze.tokenStack.length>0){const sn=Ze.tokenStack[Ze.tokenStack.length-1];(sn[1]||cM).call(Ze,void 0,sn[0])}for(Ke.position={start:Ju(Ue.length>0?Ue[0][1].start:{line:1,column:1,offset:0}),end:Ju(Ue.length>0?Ue[Ue.length-2][1].end:{line:1,column:1,offset:0})},ht=-1;++ht<r.transforms.length;)Ke=r.transforms[ht](Ke)||Ke;return Ke}function a(Ue,Ke,Ze){let _t=Ke-1,ht=-1,sn=!1,pt,$t,Bt,zt;for(;++_t<=Ze;){const Qt=Ue[_t];if(Qt[1].type==="listUnordered"||Qt[1].type==="listOrdered"||Qt[1].type==="blockQuote"?(Qt[0]==="enter"?ht++:ht--,zt=void 0):Qt[1].type==="lineEndingBlank"?Qt[0]==="enter"&&(pt&&!zt&&!ht&&!Bt&&(Bt=_t),zt=void 0):Qt[1].type==="linePrefix"||Qt[1].type==="listItemValue"||Qt[1].type==="listItemMarker"||Qt[1].type==="listItemPrefix"||Qt[1].type==="listItemPrefixWhitespace"||(zt=void 0),!ht&&Qt[0]==="enter"&&Qt[1].type==="listItemPrefix"||ht===-1&&Qt[0]==="exit"&&(Qt[1].type==="listUnordered"||Qt[1].type==="listOrdered")){if(pt){let gn=_t;for($t=void 0;gn--;){const En=Ue[gn];if(En[1].type==="lineEnding"||En[1].type==="lineEndingBlank"){if(En[0]==="exit")continue;$t&&(Ue[$t][1].type="lineEndingBlank",sn=!0),En[1].type="lineEnding",$t=gn}else if(!(En[1].type==="linePrefix"||En[1].type==="blockQuotePrefix"||En[1].type==="blockQuotePrefixWhitespace"||En[1].type==="blockQuoteMarker"||En[1].type==="listItemIndent"))break}Bt&&(!$t||Bt<$t)&&(pt._spread=!0),pt.end=Object.assign({},$t?Ue[$t][1].start:Qt[1].end),Ue.splice($t||_t,0,["exit",pt,Qt[2]]),_t++,Ze++}Qt[1].type==="listItemPrefix"&&(pt={type:"listItem",_spread:!1,start:Object.assign({},Qt[1].start),end:void 0},Ue.splice(_t,0,["enter",pt,Qt[2]]),_t++,Ze++,Bt=void 0,zt=!0)}}return Ue[Ke][1]._spread=sn,Ze}function l(Ue,Ke){n[Ue]=Ke}function d(Ue){return n[Ue]}function h(Ue,Ke){return Ze;function Ze(_t){g.call(this,Ue(_t),_t),Ke&&Ke.call(this,_t)}}function p(){this.stack.push({type:"fragment",children:[]})}function g(Ue,Ke,Ze){return this.stack[this.stack.length-1].children.push(Ue),this.stack.push(Ue),this.tokenStack.push([Ke,Ze]),Ue.position={start:Ju(Ke.start)},Ue}function b(Ue){return Ke;function Ke(Ze){Ue&&Ue.call(this,Ze),y.call(this,Ze)}}function y(Ue,Ke){const Ze=this.stack.pop(),_t=this.tokenStack.pop();if(_t)_t[0].type!==Ue.type&&(Ke?Ke.call(this,Ue,_t[0]):(_t[1]||cM).call(this,Ue,_t[0]));else throw new Error("Cannot close `"+Ue.type+"` ("+Eg({start:Ue.start,end:Ue.end})+"): itâ€™s not open");return Ze.position.end=Ju(Ue.end),Ze}function v(){return dfe(this.stack.pop())}function k(){l("expectingFirstListItemValue",!0)}function x(Ue){if(d("expectingFirstListItemValue")){const Ke=this.stack[this.stack.length-2];Ke.start=Number.parseInt(this.sliceSerialize(Ue),10),l("expectingFirstListItemValue")}}function C(){const Ue=this.resume(),Ke=this.stack[this.stack.length-1];Ke.lang=Ue}function D(){const Ue=this.resume(),Ke=this.stack[this.stack.length-1];Ke.meta=Ue}function S(){d("flowCodeInside")||(this.buffer(),l("flowCodeInside",!0))}function N(){const Ue=this.resume(),Ke=this.stack[this.stack.length-1];Ke.value=Ue.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),l("flowCodeInside")}function P(){const Ue=this.resume(),Ke=this.stack[this.stack.length-1];Ke.value=Ue.replace(/(\r?\n|\r)$/g,"")}function B(Ue){const Ke=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=Ke,Ze.identifier=wp(this.sliceSerialize(Ue)).toLowerCase()}function $(){const Ue=this.resume(),Ke=this.stack[this.stack.length-1];Ke.title=Ue}function V(){const Ue=this.resume(),Ke=this.stack[this.stack.length-1];Ke.url=Ue}function M(Ue){const Ke=this.stack[this.stack.length-1];if(!Ke.depth){const Ze=this.sliceSerialize(Ue).length;Ke.depth=Ze}}function L(){l("setextHeadingSlurpLineEnding",!0)}function q(Ue){const Ke=this.stack[this.stack.length-1];Ke.depth=this.sliceSerialize(Ue).charCodeAt(0)===61?1:2}function Q(){l("setextHeadingSlurpLineEnding")}function H(Ue){const Ke=this.stack[this.stack.length-1];let Ze=Ke.children[Ke.children.length-1];(!Ze||Ze.type!=="text")&&(Ze=He(),Ze.position={start:Ju(Ue.start)},Ke.children.push(Ze)),this.stack.push(Ze)}function F(Ue){const Ke=this.stack.pop();Ke.value+=this.sliceSerialize(Ue),Ke.position.end=Ju(Ue.end)}function G(Ue){const Ke=this.stack[this.stack.length-1];if(d("atHardBreak")){const Ze=Ke.children[Ke.children.length-1];Ze.position.end=Ju(Ue.end),l("atHardBreak");return}!d("setextHeadingSlurpLineEnding")&&r.canContainEols.includes(Ke.type)&&(H.call(this,Ue),F.call(this,Ue))}function R(){l("atHardBreak",!0)}function ne(){const Ue=this.resume(),Ke=this.stack[this.stack.length-1];Ke.value=Ue}function ue(){const Ue=this.resume(),Ke=this.stack[this.stack.length-1];Ke.value=Ue}function ie(){const Ue=this.resume(),Ke=this.stack[this.stack.length-1];Ke.value=Ue}function se(){const Ue=this.stack[this.stack.length-1];if(d("inReference")){const Ke=d("referenceType")||"shortcut";Ue.type+="Reference",Ue.referenceType=Ke,delete Ue.url,delete Ue.title}else delete Ue.identifier,delete Ue.label;l("referenceType")}function ye(){const Ue=this.stack[this.stack.length-1];if(d("inReference")){const Ke=d("referenceType")||"shortcut";Ue.type+="Reference",Ue.referenceType=Ke,delete Ue.url,delete Ue.title}else delete Ue.identifier,delete Ue.label;l("referenceType")}function re(Ue){const Ke=this.sliceSerialize(Ue),Ze=this.stack[this.stack.length-2];Ze.label=ume(Ke),Ze.identifier=wp(Ke).toLowerCase()}function _e(){const Ue=this.stack[this.stack.length-1],Ke=this.resume(),Ze=this.stack[this.stack.length-1];if(l("inReference",!0),Ze.type==="link"){const _t=Ue.children;Ze.children=_t}else Ze.alt=Ke}function Z(){const Ue=this.resume(),Ke=this.stack[this.stack.length-1];Ke.url=Ue}function J(){const Ue=this.resume(),Ke=this.stack[this.stack.length-1];Ke.title=Ue}function ae(){l("inReference")}function fe(){l("referenceType","collapsed")}function le(Ue){const Ke=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=Ke,Ze.identifier=wp(this.sliceSerialize(Ue)).toLowerCase(),l("referenceType","full")}function Ie(Ue){l("characterReferenceType",Ue.type)}function xe(Ue){const Ke=this.sliceSerialize(Ue),Ze=d("characterReferenceType");let _t;Ze?(_t=g8(Ke,Ze==="characterReferenceMarkerNumeric"?10:16),l("characterReferenceType")):_t=VC(Ke);const ht=this.stack.pop();ht.value+=_t,ht.position.end=Ju(Ue.end)}function Ne(Ue){F.call(this,Ue);const Ke=this.stack[this.stack.length-1];Ke.url=this.sliceSerialize(Ue)}function Qe(Ue){F.call(this,Ue);const Ke=this.stack[this.stack.length-1];Ke.url="mailto:"+this.sliceSerialize(Ue)}function Ge(){return{type:"blockquote",children:[]}}function Je(){return{type:"code",lang:null,meta:null,value:""}}function ze(){return{type:"inlineCode",value:""}}function X(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ce(){return{type:"emphasis",children:[]}}function he(){return{type:"heading",depth:void 0,children:[]}}function be(){return{type:"break"}}function pe(){return{type:"html",value:""}}function Ae(){return{type:"image",title:null,url:"",alt:null}}function Oe(){return{type:"link",title:null,url:"",children:[]}}function Me(Ue){return{type:"list",ordered:Ue.type==="listOrdered",start:null,spread:Ue._spread,children:[]}}function De(Ue){return{type:"listItem",spread:Ue._spread,checked:null,children:[]}}function qe(){return{type:"paragraph",children:[]}}function Ve(){return{type:"strong",children:[]}}function He(){return{type:"text",value:""}}function st(){return{type:"thematicBreak"}}}function Ju(t){return{line:t.line,column:t.column,offset:t.offset}}function k8(t,r){let n=-1;for(;++n<r.length;){const o=r[n];Array.isArray(o)?k8(t,o):pme(t,o)}}function pme(t,r){let n;for(n in r)if(b8.call(r,n)){if(n==="canContainEols"){const o=r[n];o&&t[n].push(...o)}else if(n==="transforms"){const o=r[n];o&&t[n].push(...o)}else if(n==="enter"||n==="exit"){const o=r[n];o&&Object.assign(t[n],o)}}}function cM(t,r){throw t?new Error("Cannot close `"+t.type+"` ("+Eg({start:t.start,end:t.end})+"): a different token (`"+r.type+"`, "+Eg({start:r.start,end:r.end})+") is open"):new Error("Cannot close document, a token (`"+r.type+"`, "+Eg({start:r.start,end:r.end})+") is still open")}function mme(t){Object.assign(this,{Parser:n=>{const o=this.data("settings");return hme(n,Object.assign({},o,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function gme(t,r){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(r),!0)};return t.patch(r,n),t.applyData(r,n)}function bme(t,r){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(r,n),[t.applyData(r,n),{type:"text",value:`
`}]}function kme(t,r){const n=r.value?r.value+`
`:"",o=r.lang?r.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,a={};o&&(a.className=["language-"+o]);let l={type:"element",tagName:"code",properties:a,children:[{type:"text",value:n}]};return r.meta&&(l.data={meta:r.meta}),t.patch(r,l),l=t.applyData(r,l),l={type:"element",tagName:"pre",properties:{},children:[l]},t.patch(r,l),l}function wme(t,r){const n={type:"element",tagName:"del",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}function yme(t,r){const n={type:"element",tagName:"em",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}function Vp(t){const r=[];let n=-1,o=0,a=0;for(;++n<t.length;){const l=t.charCodeAt(n);let d="";if(l===37&&ta(t.charCodeAt(n+1))&&ta(t.charCodeAt(n+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(d=String.fromCharCode(l));else if(l>55295&&l<57344){const h=t.charCodeAt(n+1);l<56320&&h>56319&&h<57344?(d=String.fromCharCode(l,h),a=1):d="ï¿½"}else d=String.fromCharCode(l);d&&(r.push(t.slice(o,n),encodeURIComponent(d)),o=n+a+1,d=""),a&&(n+=a,a=0)}return r.join("")+t.slice(o)}function w8(t,r){const n=String(r.identifier).toUpperCase(),o=Vp(n.toLowerCase()),a=t.footnoteOrder.indexOf(n);let l;a===-1?(t.footnoteOrder.push(n),t.footnoteCounts[n]=1,l=t.footnoteOrder.length):(t.footnoteCounts[n]++,l=a+1);const d=t.footnoteCounts[n],h={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fn-"+o,id:t.clobberPrefix+"fnref-"+o+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(r,h);const p={type:"element",tagName:"sup",properties:{},children:[h]};return t.patch(r,p),t.applyData(r,p)}function vme(t,r){const n=t.footnoteById;let o=1;for(;o in n;)o++;const a=String(o);return n[a]={type:"footnoteDefinition",identifier:a,children:[{type:"paragraph",children:r.children}],position:r.position},w8(t,{type:"footnoteReference",identifier:a,position:r.position})}function Ame(t,r){const n={type:"element",tagName:"h"+r.depth,properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}function _me(t,r){if(t.dangerous){const n={type:"raw",value:r.value};return t.patch(r,n),t.applyData(r,n)}return null}function y8(t,r){const n=r.referenceType;let o="]";if(n==="collapsed"?o+="[]":n==="full"&&(o+="["+(r.label||r.identifier)+"]"),r.type==="imageReference")return{type:"text",value:"!["+r.alt+o};const a=t.all(r),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const d=a[a.length-1];return d&&d.type==="text"?d.value+=o:a.push({type:"text",value:o}),a}function Cme(t,r){const n=t.definition(r.identifier);if(!n)return y8(t,r);const o={src:Vp(n.url||""),alt:r.alt};n.title!==null&&n.title!==void 0&&(o.title=n.title);const a={type:"element",tagName:"img",properties:o,children:[]};return t.patch(r,a),t.applyData(r,a)}function xme(t,r){const n={src:Vp(r.url)};r.alt!==null&&r.alt!==void 0&&(n.alt=r.alt),r.title!==null&&r.title!==void 0&&(n.title=r.title);const o={type:"element",tagName:"img",properties:n,children:[]};return t.patch(r,o),t.applyData(r,o)}function Sme(t,r){const n={type:"text",value:r.value.replace(/\r?\n|\r/g," ")};t.patch(r,n);const o={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(r,o),t.applyData(r,o)}function Eme(t,r){const n=t.definition(r.identifier);if(!n)return y8(t,r);const o={href:Vp(n.url||"")};n.title!==null&&n.title!==void 0&&(o.title=n.title);const a={type:"element",tagName:"a",properties:o,children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function Dme(t,r){const n={href:Vp(r.url)};r.title!==null&&r.title!==void 0&&(n.title=r.title);const o={type:"element",tagName:"a",properties:n,children:t.all(r)};return t.patch(r,o),t.applyData(r,o)}function Ime(t,r,n){const o=t.all(r),a=n?Tme(n):v8(r),l={},d=[];if(typeof r.checked=="boolean"){const b=o[0];let y;b&&b.type==="element"&&b.tagName==="p"?y=b:(y={type:"element",tagName:"p",properties:{},children:[]},o.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:r.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let h=-1;for(;++h<o.length;){const b=o[h];(a||h!==0||b.type!=="element"||b.tagName!=="p")&&d.push({type:"text",value:`
`}),b.type==="element"&&b.tagName==="p"&&!a?d.push(...b.children):d.push(b)}const p=o[o.length-1];p&&(a||p.type!=="element"||p.tagName!=="p")&&d.push({type:"text",value:`
`});const g={type:"element",tagName:"li",properties:l,children:d};return t.patch(r,g),t.applyData(r,g)}function Tme(t){let r=!1;if(t.type==="list"){r=t.spread||!1;const n=t.children;let o=-1;for(;!r&&++o<n.length;)r=v8(n[o])}return r}function v8(t){const r=t.spread;return r??t.children.length>1}function Nme(t,r){const n={},o=t.all(r);let a=-1;for(typeof r.start=="number"&&r.start!==1&&(n.start=r.start);++a<o.length;){const d=o[a];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:r.ordered?"ol":"ul",properties:n,children:t.wrap(o,!0)};return t.patch(r,l),t.applyData(r,l)}function Mme(t,r){const n={type:"element",tagName:"p",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}function Pme(t,r){const n={type:"root",children:t.wrap(t.all(r))};return t.patch(r,n),t.applyData(r,n)}function Ome(t,r){const n={type:"element",tagName:"strong",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}const HC=A8("start"),WC=A8("end");function jme(t){return{start:HC(t),end:WC(t)}}function A8(t){return r;function r(n){const o=n&&n.position&&n.position[t]||{};return{line:o.line||null,column:o.column||null,offset:o.offset>-1?o.offset:null}}}function Lme(t,r){const n=t.all(r),o=n.shift(),a=[];if(o){const d={type:"element",tagName:"thead",properties:{},children:t.wrap([o],!0)};t.patch(r.children[0],d),a.push(d)}if(n.length>0){const d={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},h=HC(r.children[1]),p=WC(r.children[r.children.length-1]);h.line&&p.line&&(d.position={start:h,end:p}),a.push(d)}const l={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(r,l),t.applyData(r,l)}function Rme(t,r,n){const o=n?n.children:void 0,l=(o?o.indexOf(r):1)===0?"th":"td",d=n&&n.type==="table"?n.align:void 0,h=d?d.length:r.children.length;let p=-1;const g=[];for(;++p<h;){const y=r.children[p],v={},k=d?d[p]:void 0;k&&(v.align=k);let x={type:"element",tagName:l,properties:v,children:[]};y&&(x.children=t.all(y),t.patch(y,x),x=t.applyData(r,x)),g.push(x)}const b={type:"element",tagName:"tr",properties:{},children:t.wrap(g,!0)};return t.patch(r,b),t.applyData(r,b)}function Bme(t,r){const n={type:"element",tagName:"td",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}const uM=9,dM=32;function Fme(t){const r=String(t),n=/\r?\n|\r/g;let o=n.exec(r),a=0;const l=[];for(;o;)l.push(hM(r.slice(a,o.index),a>0,!0),o[0]),a=o.index+o[0].length,o=n.exec(r);return l.push(hM(r.slice(a),a>0,!1)),l.join("")}function hM(t,r,n){let o=0,a=t.length;if(r){let l=t.codePointAt(o);for(;l===uM||l===dM;)o++,l=t.codePointAt(o)}if(n){let l=t.codePointAt(a-1);for(;l===uM||l===dM;)a--,l=t.codePointAt(a-1)}return a>o?t.slice(o,a):""}function zme(t,r){const n={type:"text",value:Fme(String(r.value))};return t.patch(r,n),t.applyData(r,n)}function Ume(t,r){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(r,n),t.applyData(r,n)}const qme={blockquote:gme,break:bme,code:kme,delete:wme,emphasis:yme,footnoteReference:w8,footnote:vme,heading:Ame,html:_me,imageReference:Cme,image:xme,inlineCode:Sme,linkReference:Eme,link:Dme,listItem:Ime,list:Nme,paragraph:Mme,root:Pme,strong:Ome,table:Lme,tableCell:Bme,tableRow:Rme,text:zme,thematicBreak:Ume,toml:ck,yaml:ck,definition:ck,footnoteDefinition:ck};function ck(){return null}const _8=function(t){if(t==null)return Wme;if(typeof t=="string")return Hme(t);if(typeof t=="object")return Array.isArray(t)?Vme(t):$me(t);if(typeof t=="function")return mw(t);throw new Error("Expected function, string, or object as test")};function Vme(t){const r=[];let n=-1;for(;++n<t.length;)r[n]=_8(t[n]);return mw(o);function o(...a){let l=-1;for(;++l<r.length;)if(r[l].call(this,...a))return!0;return!1}}function $me(t){return mw(r);function r(n){let o;for(o in t)if(n[o]!==t[o])return!1;return!0}}function Hme(t){return mw(r);function r(n){return n&&n.type===t}}function mw(t){return r;function r(n,...o){return!!(n&&typeof n=="object"&&"type"in n&&t.call(this,n,...o))}}function Wme(){return!0}const Gme=!0,fM=!1,Yme="skip",Kme=function(t,r,n,o){typeof r=="function"&&typeof n!="function"&&(o=n,n=r,r=null);const a=_8(r),l=o?-1:1;d(t,void 0,[])();function d(h,p,g){const b=h&&typeof h=="object"?h:{};if(typeof b.type=="string"){const v=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(h.type+(v?"<"+v+">":""))+")"})}return y;function y(){let v=[],k,x,C;if((!r||a(h,p,g[g.length-1]||null))&&(v=Qme(n(h,g)),v[0]===fM))return v;if(h.children&&v[0]!==Yme)for(x=(o?h.children.length:-1)+l,C=g.concat(h);x>-1&&x<h.children.length;){if(k=d(h.children[x],x,C)(),k[0]===fM)return k;x=typeof k[1]=="number"?k[1]:x+l}return v}}};function Qme(t){return Array.isArray(t)?t:typeof t=="number"?[Gme,t]:[t]}const GC=function(t,r,n,o){typeof r=="function"&&typeof n!="function"&&(o=n,n=r,r=null),Kme(t,r,a,o);function a(l,d){const h=d[d.length-1];return n(l,h?h.children.indexOf(l):null,h)}};function Jme(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const pM={}.hasOwnProperty;function Zme(t){const r=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return GC(t,"definition",o=>{const a=mM(o.identifier);a&&!pM.call(r,a)&&(r[a]=o)}),n;function n(o){const a=mM(o);return a&&pM.call(r,a)?r[a]:null}}function mM(t){return String(t||"").toUpperCase()}const b1={}.hasOwnProperty;function Xme(t,r){const n=r||{},o=n.allowDangerousHtml||!1,a={};return d.dangerous=o,d.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,d.footnoteLabel=n.footnoteLabel||"Footnotes",d.footnoteLabelTagName=n.footnoteLabelTagName||"h2",d.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},d.footnoteBackLabel=n.footnoteBackLabel||"Back to content",d.unknownHandler=n.unknownHandler,d.passThrough=n.passThrough,d.handlers={...qme,...n.handlers},d.definition=Zme(t),d.footnoteById=a,d.footnoteOrder=[],d.footnoteCounts={},d.patch=ege,d.applyData=tge,d.one=h,d.all=p,d.wrap=rge,d.augment=l,GC(t,"footnoteDefinition",g=>{const b=String(g.identifier).toUpperCase();b1.call(a,b)||(a[b]=g)}),d;function l(g,b){if(g&&"data"in g&&g.data){const y=g.data;y.hName&&(b.type!=="element"&&(b={type:"element",tagName:"",properties:{},children:[]}),b.tagName=y.hName),b.type==="element"&&y.hProperties&&(b.properties={...b.properties,...y.hProperties}),"children"in b&&b.children&&y.hChildren&&(b.children=y.hChildren)}if(g){const y="type"in g?g:{position:g};Jme(y)||(b.position={start:HC(y),end:WC(y)})}return b}function d(g,b,y,v){return Array.isArray(y)&&(v=y,y={}),l(g,{type:"element",tagName:b,properties:y||{},children:v||[]})}function h(g,b){return C8(d,g,b)}function p(g){return YC(d,g)}}function ege(t,r){t.position&&(r.position=jme(t))}function tge(t,r){let n=r;if(t&&t.data){const o=t.data.hName,a=t.data.hChildren,l=t.data.hProperties;typeof o=="string"&&(n.type==="element"?n.tagName=o:n={type:"element",tagName:o,properties:{},children:[]}),n.type==="element"&&l&&(n.properties={...n.properties,...l}),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function C8(t,r,n){const o=r&&r.type;if(!o)throw new Error("Expected node, got `"+r+"`");return b1.call(t.handlers,o)?t.handlers[o](t,r,n):t.passThrough&&t.passThrough.includes(o)?"children"in r?{...r,children:YC(t,r)}:r:t.unknownHandler?t.unknownHandler(t,r,n):nge(t,r)}function YC(t,r){const n=[];if("children"in r){const o=r.children;let a=-1;for(;++a<o.length;){const l=C8(t,o[a],r);if(l){if(a&&o[a-1].type==="break"&&(!Array.isArray(l)&&l.type==="text"&&(l.value=l.value.replace(/^\s+/,"")),!Array.isArray(l)&&l.type==="element")){const d=l.children[0];d&&d.type==="text"&&(d.value=d.value.replace(/^\s+/,""))}Array.isArray(l)?n.push(...l):n.push(l)}}}return n}function nge(t,r){const n=r.data||{},o="value"in r&&!(b1.call(n,"hProperties")||b1.call(n,"hChildren"))?{type:"text",value:r.value}:{type:"element",tagName:"div",properties:{},children:YC(t,r)};return t.patch(r,o),t.applyData(r,o)}function rge(t,r){const n=[];let o=-1;for(r&&n.push({type:"text",value:`
`});++o<t.length;)o&&n.push({type:"text",value:`
`}),n.push(t[o]);return r&&t.length>0&&n.push({type:"text",value:`
`}),n}function ige(t){const r=[];let n=-1;for(;++n<t.footnoteOrder.length;){const o=t.footnoteById[t.footnoteOrder[n]];if(!o)continue;const a=t.all(o),l=String(o.identifier).toUpperCase(),d=Vp(l.toLowerCase());let h=0;const p=[];for(;++h<=t.footnoteCounts[l];){const y={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+d+(h>1?"-"+h:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:"â†©"}]};h>1&&y.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(h)}]}),p.length>0&&p.push({type:"text",value:" "}),p.push(y)}const g=a[a.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const y=g.children[g.children.length-1];y&&y.type==="text"?y.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...p)}else a.push(...p);const b={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+d},children:t.wrap(a,!0)};t.patch(o,b),r.push(b)}if(r.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:t.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(r,!0)},{type:"text",value:`
`}]}}function x8(t,r){const n=Xme(t,r),o=n.one(t,null),a=ige(n);return a&&o.children.push({type:"text",value:`
`},a),Array.isArray(o)?{type:"root",children:o}:o}const oge=function(t,r){return t&&"run"in t?sge(t,r):age(t||r)};function sge(t,r){return(n,o,a)=>{t.run(x8(n,r),o,l=>{a(l)})}}function age(t){return r=>x8(r,t)}class bb{constructor(r,n,o){this.property=r,this.normal=n,o&&(this.space=o)}}bb.prototype.property={};bb.prototype.normal={};bb.prototype.space=null;function S8(t,r){const n={},o={};let a=-1;for(;++a<t.length;)Object.assign(n,t[a].property),Object.assign(o,t[a].normal);return new bb(n,o,r)}function S_(t){return t.toLowerCase()}class Ha{constructor(r,n){this.property=r,this.attribute=n}}Ha.prototype.space=null;Ha.prototype.boolean=!1;Ha.prototype.booleanish=!1;Ha.prototype.overloadedBoolean=!1;Ha.prototype.number=!1;Ha.prototype.commaSeparated=!1;Ha.prototype.spaceSeparated=!1;Ha.prototype.commaOrSpaceSeparated=!1;Ha.prototype.mustUseProperty=!1;Ha.prototype.defined=!1;let lge=0;const An=Qh(),Bi=Qh(),E8=Qh(),Tt=Qh(),Dr=Qh(),yp=Qh(),Hs=Qh();function Qh(){return 2**++lge}const E_=Object.freeze(Object.defineProperty({__proto__:null,boolean:An,booleanish:Bi,commaOrSpaceSeparated:Hs,commaSeparated:yp,number:Tt,overloadedBoolean:E8,spaceSeparated:Dr},Symbol.toStringTag,{value:"Module"})),_A=Object.keys(E_);class KC extends Ha{constructor(r,n,o,a){let l=-1;if(super(r,n),gM(this,"space",a),typeof o=="number")for(;++l<_A.length;){const d=_A[l];gM(this,_A[l],(o&E_[d])===E_[d])}}}KC.prototype.defined=!0;function gM(t,r,n){n&&(t[r]=n)}const cge={}.hasOwnProperty;function $p(t){const r={},n={};let o;for(o in t.properties)if(cge.call(t.properties,o)){const a=t.properties[o],l=new KC(o,t.transform(t.attributes||{},o),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(o)&&(l.mustUseProperty=!0),r[o]=l,n[S_(o)]=o,n[S_(l.attribute)]=o}return new bb(r,n,t.space)}const D8=$p({space:"xlink",transform(t,r){return"xlink:"+r.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),I8=$p({space:"xml",transform(t,r){return"xml:"+r.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function T8(t,r){return r in t?t[r]:r}function N8(t,r){return T8(t,r.toLowerCase())}const M8=$p({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:N8,properties:{xmlns:null,xmlnsXLink:null}}),P8=$p({transform(t,r){return r==="role"?r:"aria-"+r.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Bi,ariaAutoComplete:null,ariaBusy:Bi,ariaChecked:Bi,ariaColCount:Tt,ariaColIndex:Tt,ariaColSpan:Tt,ariaControls:Dr,ariaCurrent:null,ariaDescribedBy:Dr,ariaDetails:null,ariaDisabled:Bi,ariaDropEffect:Dr,ariaErrorMessage:null,ariaExpanded:Bi,ariaFlowTo:Dr,ariaGrabbed:Bi,ariaHasPopup:null,ariaHidden:Bi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Dr,ariaLevel:Tt,ariaLive:null,ariaModal:Bi,ariaMultiLine:Bi,ariaMultiSelectable:Bi,ariaOrientation:null,ariaOwns:Dr,ariaPlaceholder:null,ariaPosInSet:Tt,ariaPressed:Bi,ariaReadOnly:Bi,ariaRelevant:null,ariaRequired:Bi,ariaRoleDescription:Dr,ariaRowCount:Tt,ariaRowIndex:Tt,ariaRowSpan:Tt,ariaSelected:Bi,ariaSetSize:Tt,ariaSort:null,ariaValueMax:Tt,ariaValueMin:Tt,ariaValueNow:Tt,ariaValueText:null,role:null}}),uge=$p({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:N8,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:yp,acceptCharset:Dr,accessKey:Dr,action:null,allow:null,allowFullScreen:An,allowPaymentRequest:An,allowUserMedia:An,alt:null,as:null,async:An,autoCapitalize:null,autoComplete:Dr,autoFocus:An,autoPlay:An,blocking:Dr,capture:null,charSet:null,checked:An,cite:null,className:Dr,cols:Tt,colSpan:null,content:null,contentEditable:Bi,controls:An,controlsList:Dr,coords:Tt|yp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:An,defer:An,dir:null,dirName:null,disabled:An,download:E8,draggable:Bi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:An,formTarget:null,headers:Dr,height:Tt,hidden:An,high:Tt,href:null,hrefLang:null,htmlFor:Dr,httpEquiv:Dr,id:null,imageSizes:null,imageSrcSet:null,inert:An,inputMode:null,integrity:null,is:null,isMap:An,itemId:null,itemProp:Dr,itemRef:Dr,itemScope:An,itemType:Dr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:An,low:Tt,manifest:null,max:null,maxLength:Tt,media:null,method:null,min:null,minLength:Tt,multiple:An,muted:An,name:null,nonce:null,noModule:An,noValidate:An,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:An,optimum:Tt,pattern:null,ping:Dr,placeholder:null,playsInline:An,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:An,referrerPolicy:null,rel:Dr,required:An,reversed:An,rows:Tt,rowSpan:Tt,sandbox:Dr,scope:null,scoped:An,seamless:An,selected:An,shadowRootClonable:An,shadowRootDelegatesFocus:An,shadowRootMode:null,shape:null,size:Tt,sizes:null,slot:null,span:Tt,spellCheck:Bi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Tt,step:null,style:null,tabIndex:Tt,target:null,title:null,translate:null,type:null,typeMustMatch:An,useMap:null,value:Bi,width:Tt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Dr,axis:null,background:null,bgColor:null,border:Tt,borderColor:null,bottomMargin:Tt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:An,declare:An,event:null,face:null,frame:null,frameBorder:null,hSpace:Tt,leftMargin:Tt,link:null,longDesc:null,lowSrc:null,marginHeight:Tt,marginWidth:Tt,noResize:An,noHref:An,noShade:An,noWrap:An,object:null,profile:null,prompt:null,rev:null,rightMargin:Tt,rules:null,scheme:null,scrolling:Bi,standby:null,summary:null,text:null,topMargin:Tt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Tt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:An,disableRemotePlayback:An,prefix:null,property:null,results:Tt,security:null,unselectable:null}}),dge=$p({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:T8,properties:{about:Hs,accentHeight:Tt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Tt,amplitude:Tt,arabicForm:null,ascent:Tt,attributeName:null,attributeType:null,azimuth:Tt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Tt,by:null,calcMode:null,capHeight:Tt,className:Dr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Tt,diffuseConstant:Tt,direction:null,display:null,dur:null,divisor:Tt,dominantBaseline:null,download:An,dx:null,dy:null,edgeMode:null,editable:null,elevation:Tt,enableBackground:null,end:null,event:null,exponent:Tt,externalResourcesRequired:null,fill:null,fillOpacity:Tt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:yp,g2:yp,glyphName:yp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Tt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Tt,horizOriginX:Tt,horizOriginY:Tt,id:null,ideographic:Tt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Tt,k:Tt,k1:Tt,k2:Tt,k3:Tt,k4:Tt,kernelMatrix:Hs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Tt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Tt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Tt,overlineThickness:Tt,paintOrder:null,panose1:null,path:null,pathLength:Tt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Dr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Tt,pointsAtY:Tt,pointsAtZ:Tt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Hs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Hs,rev:Hs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Hs,requiredFeatures:Hs,requiredFonts:Hs,requiredFormats:Hs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Tt,specularExponent:Tt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Tt,strikethroughThickness:Tt,string:null,stroke:null,strokeDashArray:Hs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Tt,strokeOpacity:Tt,strokeWidth:null,style:null,surfaceScale:Tt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Hs,tabIndex:Tt,tableValues:null,target:null,targetX:Tt,targetY:Tt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Hs,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Tt,underlineThickness:Tt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Tt,values:null,vAlphabetic:Tt,vMathematical:Tt,vectorEffect:null,vHanging:Tt,vIdeographic:Tt,version:null,vertAdvY:Tt,vertOriginX:Tt,vertOriginY:Tt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Tt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),hge=/^data[-\w.:]+$/i,bM=/-[a-z]/g,fge=/[A-Z]/g;function pge(t,r){const n=S_(r);let o=r,a=Ha;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&hge.test(r)){if(r.charAt(4)==="-"){const l=r.slice(5).replace(bM,gge);o="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=r.slice(4);if(!bM.test(l)){let d=l.replace(fge,mge);d.charAt(0)!=="-"&&(d="-"+d),r="data"+d}}a=KC}return new a(o,r)}function mge(t){return"-"+t.toLowerCase()}function gge(t){return t.charAt(1).toUpperCase()}const kM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},bge=S8([I8,D8,M8,P8,uge],"html"),kge=S8([I8,D8,M8,P8,dge],"svg");function wge(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return r=>{GC(r,"element",(n,o,a)=>{const l=a;let d;if(t.allowedElements?d=!t.allowedElements.includes(n.tagName):t.disallowedElements&&(d=t.disallowedElements.includes(n.tagName)),!d&&t.allowElement&&typeof o=="number"&&(d=!t.allowElement(n,o,l)),d&&typeof o=="number")return t.unwrapDisallowed&&n.children?l.children.splice(o,1,...n.children):l.children.splice(o,1),o})}}var CA={exports:{}},or={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wM;function yge(){if(wM)return or;wM=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function C(D){if(typeof D=="object"&&D!==null){var S=D.$$typeof;switch(S){case t:switch(D=D.type,D){case n:case a:case o:case g:case b:return D;default:switch(D=D&&D.$$typeof,D){case h:case d:case p:case v:case y:case l:return D;default:return S}}case r:return S}}}return or.ContextConsumer=d,or.ContextProvider=l,or.Element=t,or.ForwardRef=p,or.Fragment=n,or.Lazy=v,or.Memo=y,or.Portal=r,or.Profiler=a,or.StrictMode=o,or.Suspense=g,or.SuspenseList=b,or.isAsyncMode=function(){return!1},or.isConcurrentMode=function(){return!1},or.isContextConsumer=function(D){return C(D)===d},or.isContextProvider=function(D){return C(D)===l},or.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},or.isForwardRef=function(D){return C(D)===p},or.isFragment=function(D){return C(D)===n},or.isLazy=function(D){return C(D)===v},or.isMemo=function(D){return C(D)===y},or.isPortal=function(D){return C(D)===r},or.isProfiler=function(D){return C(D)===a},or.isStrictMode=function(D){return C(D)===o},or.isSuspense=function(D){return C(D)===g},or.isSuspenseList=function(D){return C(D)===b},or.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===n||D===a||D===o||D===g||D===b||D===k||typeof D=="object"&&D!==null&&(D.$$typeof===v||D.$$typeof===y||D.$$typeof===l||D.$$typeof===d||D.$$typeof===p||D.$$typeof===x||D.getModuleId!==void 0)},or.typeOf=C,or}var yM;function vge(){return yM||(yM=1,CA.exports=yge()),CA.exports}var Age=vge();const _ge=du(Age);function Cge(t){const r=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof r=="string"&&r.replace(/[ \t\n\f\r]/g,"")===""}function xge(t){return t.join(" ").trim()}function Sge(t,r){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var uk={exports:{}},xA,vM;function Ege(){if(vM)return xA;vM=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,n=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,h=/^\s+|\s+$/g,p=`
`,g="/",b="*",y="",v="comment",k="declaration";xA=function(C,D){if(typeof C!="string")throw new TypeError("First argument must be a string");if(!C)return[];D=D||{};var S=1,N=1;function P(G){var R=G.match(r);R&&(S+=R.length);var ne=G.lastIndexOf(p);N=~ne?G.length-ne:N+G.length}function B(){var G={line:S,column:N};return function(R){return R.position=new $(G),L(),R}}function $(G){this.start=G,this.end={line:S,column:N},this.source=D.source}$.prototype.content=C;function V(G){var R=new Error(D.source+":"+S+":"+N+": "+G);if(R.reason=G,R.filename=D.source,R.line=S,R.column=N,R.source=C,!D.silent)throw R}function M(G){var R=G.exec(C);if(R){var ne=R[0];return P(ne),C=C.slice(ne.length),R}}function L(){M(n)}function q(G){var R;for(G=G||[];R=Q();)R!==!1&&G.push(R);return G}function Q(){var G=B();if(!(g!=C.charAt(0)||b!=C.charAt(1))){for(var R=2;y!=C.charAt(R)&&(b!=C.charAt(R)||g!=C.charAt(R+1));)++R;if(R+=2,y===C.charAt(R-1))return V("End of comment missing");var ne=C.slice(2,R-2);return N+=2,P(ne),C=C.slice(R),N+=2,G({type:v,comment:ne})}}function H(){var G=B(),R=M(o);if(R){if(Q(),!M(a))return V("property missing ':'");var ne=M(l),ue=G({type:k,property:x(R[0].replace(t,y)),value:ne?x(ne[0].replace(t,y)):y});return M(d),ue}}function F(){var G=[];q(G);for(var R;R=H();)R!==!1&&(G.push(R),q(G));return G}return L(),F()};function x(C){return C?C.replace(h,y):y}return xA}var AM;function Dge(){if(AM)return uk.exports;AM=1;var t=Ege();function r(n,o){var a=null;if(!n||typeof n!="string")return a;for(var l,d=t(n),h=typeof o=="function",p,g,b=0,y=d.length;b<y;b++)l=d[b],p=l.property,g=l.value,h?o(p,g,l):g&&(a||(a={}),a[p]=g);return a}return uk.exports=r,uk.exports.default=r,uk.exports}var Ige=Dge();const Tge=du(Ige),D_={}.hasOwnProperty,Nge=new Set(["table","thead","tbody","tfoot","tr"]);function O8(t,r){const n=[];let o=-1,a;for(;++o<r.children.length;)a=r.children[o],a.type==="element"?n.push(Mge(t,a,o,r)):a.type==="text"?(r.type!=="element"||!Nge.has(r.tagName)||!Cge(a))&&n.push(a.value):a.type==="raw"&&!t.options.skipHtml&&n.push(a.value);return n}function Mge(t,r,n,o){const a=t.options,l=a.transformLinkUri===void 0?qhe:a.transformLinkUri,d=t.schema,h=r.tagName,p={};let g=d,b;if(d.space==="html"&&h==="svg"&&(g=kge,t.schema=g),r.properties)for(b in r.properties)D_.call(r.properties,b)&&Oge(p,b,r.properties[b],t);(h==="ol"||h==="ul")&&t.listDepth++;const y=O8(t,r);(h==="ol"||h==="ul")&&t.listDepth--,t.schema=d;const v=r.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},k=a.components&&D_.call(a.components,h)?a.components[h]:h,x=typeof k=="string"||k===at.Fragment;if(!_ge.isValidElementType(k))throw new TypeError(`Component for name \`${h}\` not defined or is not renderable`);if(p.key=n,h==="a"&&a.linkTarget&&(p.target=typeof a.linkTarget=="function"?a.linkTarget(String(p.href||""),r.children,typeof p.title=="string"?p.title:null):a.linkTarget),h==="a"&&l&&(p.href=l(String(p.href||""),r.children,typeof p.title=="string"?p.title:null)),!x&&h==="code"&&o.type==="element"&&o.tagName!=="pre"&&(p.inline=!0),!x&&(h==="h1"||h==="h2"||h==="h3"||h==="h4"||h==="h5"||h==="h6")&&(p.level=Number.parseInt(h.charAt(1),10)),h==="img"&&a.transformImageUri&&(p.src=a.transformImageUri(String(p.src||""),String(p.alt||""),typeof p.title=="string"?p.title:null)),!x&&h==="li"&&o.type==="element"){const C=Pge(r);p.checked=C&&C.properties?!!C.properties.checked:null,p.index=SA(o,r),p.ordered=o.tagName==="ol"}return!x&&(h==="ol"||h==="ul")&&(p.ordered=h==="ol",p.depth=t.listDepth),(h==="td"||h==="th")&&(p.align&&(p.style||(p.style={}),p.style.textAlign=p.align,delete p.align),x||(p.isHeader=h==="th")),!x&&h==="tr"&&o.type==="element"&&(p.isHeader=o.tagName==="thead"),a.sourcePos&&(p["data-sourcepos"]=Rge(v)),!x&&a.rawSourcePos&&(p.sourcePosition=r.position),!x&&a.includeElementIndex&&(p.index=SA(o,r),p.siblingCount=SA(o)),x||(p.node=r),y.length>0?at.createElement(k,p,y):at.createElement(k,p)}function Pge(t){let r=-1;for(;++r<t.children.length;){const n=t.children[r];if(n.type==="element"&&n.tagName==="input")return n}return null}function SA(t,r){let n=-1,o=0;for(;++n<t.children.length&&t.children[n]!==r;)t.children[n].type==="element"&&o++;return o}function Oge(t,r,n,o){const a=pge(o.schema,r);let l=n;l==null||l!==l||(Array.isArray(l)&&(l=a.commaSeparated?Sge(l):xge(l)),a.property==="style"&&typeof l=="string"&&(l=jge(l)),a.space&&a.property?t[D_.call(kM,a.property)?kM[a.property]:a.property]=l:a.attribute&&(t[a.attribute]=l))}function jge(t){const r={};try{Tge(t,n)}catch{}return r;function n(o,a){const l=o.slice(0,4)==="-ms-"?`ms-${o.slice(4)}`:o;r[l.replace(/-([a-z])/g,Lge)]=a}}function Lge(t,r){return r.toUpperCase()}function Rge(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(String).join("")}const _M={}.hasOwnProperty,Bge="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",dk={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function QC(t){for(const l in dk)if(_M.call(dk,l)&&_M.call(t,l)){const d=dk[l];console.warn(`[react-markdown] Warning: please ${d.to?`use \`${d.to}\` instead of`:"remove"} \`${l}\` (see <${Bge}#${d.id}> for more info)`),delete dk[l]}const r=sfe().use(mme).use(t.remarkPlugins||[]).use(oge,{...t.remarkRehypeOptions,allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(wge,t),n=new r8;typeof t.children=="string"?n.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const o=r.runSync(r.parse(n),n);if(o.type!=="root")throw new TypeError("Expected a `root` node");let a=at.createElement(at.Fragment,{},O8({options:t,schema:bge,listDepth:0},o));return t.className&&(a=at.createElement("div",{className:t.className},a)),a}QC.propTypes={children:wn.string,className:wn.string,allowElement:wn.func,allowedElements:wn.arrayOf(wn.string),disallowedElements:wn.arrayOf(wn.string),unwrapDisallowed:wn.bool,remarkPlugins:wn.arrayOf(wn.oneOfType([wn.object,wn.func,wn.arrayOf(wn.oneOfType([wn.bool,wn.string,wn.object,wn.func,wn.arrayOf(wn.any)]))])),rehypePlugins:wn.arrayOf(wn.oneOfType([wn.object,wn.func,wn.arrayOf(wn.oneOfType([wn.bool,wn.string,wn.object,wn.func,wn.arrayOf(wn.any)]))])),sourcePos:wn.bool,rawSourcePos:wn.bool,skipHtml:wn.bool,includeElementIndex:wn.bool,transformLinkUri:wn.oneOfType([wn.func,wn.bool]),linkTarget:wn.oneOfType([wn.func,wn.string]),transformImageUri:wn.func,components:wn.object};function JC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fu(t){if(t.__esModule)return t;var r=t.default;if(typeof r=="function"){var n=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var a=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:function(){return t[o]}})}),n}var CM={exports:{}},lg={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xM;function Fge(){if(xM)return lg;xM=1;var t=at,r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,g){var b,y={},v=null,k=null;g!==void 0&&(v=""+g),p.key!==void 0&&(v=""+p.key),p.ref!==void 0&&(k=p.ref);for(b in p)o.call(p,b)&&!l.hasOwnProperty(b)&&(y[b]=p[b]);if(h&&h.defaultProps)for(b in p=h.defaultProps,p)y[b]===void 0&&(y[b]=p[b]);return{$$typeof:r,type:h,key:v,ref:k,props:y,_owner:a.current}}return lg.Fragment=n,lg.jsx=d,lg.jsxs=d,lg}var SM;function ZC(){return SM||(SM=1,CM.exports=Fge()),CM.exports}var mn=ZC(),cg={},EM={exports:{}},DM;function gw(){return DM||(DM=1,function(t){function r(n){return n&&n.__esModule?n:{default:n}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(EM)),EM.exports}var IM={};function Ar(){return Ar=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ar.apply(null,arguments)}function ed(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function j8(t){if(Y.isValidElement(t)||!ed(t))return t;const r={};return Object.keys(t).forEach(n=>{r[n]=j8(t[n])}),r}function mc(t,r,n={clone:!0}){const o=n.clone?Ar({},t):t;return ed(t)&&ed(r)&&Object.keys(r).forEach(a=>{Y.isValidElement(r[a])?o[a]=r[a]:ed(r[a])&&Object.prototype.hasOwnProperty.call(t,a)&&ed(t[a])?o[a]=mc(t[a],r[a],n):n.clone?o[a]=ed(r[a])?j8(r[a]):r[a]:o[a]=r[a]}),o}const zge=Object.freeze(Object.defineProperty({__proto__:null,default:mc,isPlainObject:ed},Symbol.toStringTag,{value:"Module"}));function Vg(t){let r="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+r+" for the full message."}const Uge=Object.freeze(Object.defineProperty({__proto__:null,default:Vg},Symbol.toStringTag,{value:"Module"}));var TM={exports:{}},yr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NM;function qge(){if(NM)return yr;NM=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),k=Symbol.for("react.client.reference");function x(C){if(typeof C=="object"&&C!==null){var D=C.$$typeof;switch(D){case t:switch(C=C.type,C){case n:case a:case o:case p:case g:return C;default:switch(C=C&&C.$$typeof,C){case d:case h:case y:case b:return C;case l:return C;default:return D}}case r:return D}}}return yr.ContextConsumer=l,yr.ContextProvider=d,yr.Element=t,yr.ForwardRef=h,yr.Fragment=n,yr.Lazy=y,yr.Memo=b,yr.Portal=r,yr.Profiler=a,yr.StrictMode=o,yr.Suspense=p,yr.SuspenseList=g,yr.isContextConsumer=function(C){return x(C)===l},yr.isContextProvider=function(C){return x(C)===d},yr.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},yr.isForwardRef=function(C){return x(C)===h},yr.isFragment=function(C){return x(C)===n},yr.isLazy=function(C){return x(C)===y},yr.isMemo=function(C){return x(C)===b},yr.isPortal=function(C){return x(C)===r},yr.isProfiler=function(C){return x(C)===a},yr.isStrictMode=function(C){return x(C)===o},yr.isSuspense=function(C){return x(C)===p},yr.isSuspenseList=function(C){return x(C)===g},yr.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===n||C===a||C===o||C===p||C===g||C===v||typeof C=="object"&&C!==null&&(C.$$typeof===y||C.$$typeof===b||C.$$typeof===d||C.$$typeof===l||C.$$typeof===h||C.$$typeof===k||C.getModuleId!==void 0)},yr.typeOf=x,yr}var MM;function Vge(){return MM||(MM=1,TM.exports=qge()),TM.exports}var PM=Vge();const $ge=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function L8(t){const r=`${t}`.match($ge);return r&&r[1]||""}function R8(t,r=""){return t.displayName||t.name||L8(t)||r}function OM(t,r,n){const o=R8(r);return t.displayName||(o!==""?`${n}(${o})`:n)}function Hge(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return R8(t,"Component");if(typeof t=="object")switch(t.$$typeof){case PM.ForwardRef:return OM(t,t.render,"ForwardRef");case PM.Memo:return OM(t,t.type,"memo");default:return}}}const Wge=Object.freeze(Object.defineProperty({__proto__:null,default:Hge,getFunctionName:L8},Symbol.toStringTag,{value:"Module"}));function md(t){if(typeof t!="string")throw new Error(Vg(7));return t.charAt(0).toUpperCase()+t.slice(1)}const Gge=Object.freeze(Object.defineProperty({__proto__:null,default:md},Symbol.toStringTag,{value:"Module"}));function Yge(...t){return t.reduce((r,n)=>n==null?r:function(...o){r.apply(this,o),n.apply(this,o)},()=>{})}function Kge(t,r=166){let n;function o(...a){const l=()=>{t.apply(this,a)};clearTimeout(n),n=setTimeout(l,r)}return o.clear=()=>{clearTimeout(n)},o}function Qge(t,r){return()=>null}function Jge(t,r){var n,o;return Y.isValidElement(t)&&r.indexOf((n=t.type.muiName)!=null?n:(o=t.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function B8(t){return t&&t.ownerDocument||document}function Zge(t){return B8(t).defaultView||window}function Xge(t,r){return()=>null}function F8(t,r){typeof t=="function"?t(r):t&&(t.current=r)}const z8=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;let jM=0;function ebe(t){const[r,n]=Y.useState(t),o=t||r;return Y.useEffect(()=>{r==null&&(jM+=1,n(`mui-${jM}`))},[r]),o}const LM=Y.useId;function tbe(t){if(LM!==void 0){const r=LM();return t??r}return ebe(t)}function nbe(t,r,n,o,a){return null}function rbe({controlled:t,default:r,name:n,state:o="value"}){const{current:a}=Y.useRef(t!==void 0),[l,d]=Y.useState(r),h=a?t:l,p=Y.useCallback(g=>{a||d(g)},[]);return[h,p]}function ibe(t){const r=Y.useRef(t);return z8(()=>{r.current=t}),Y.useRef((...n)=>(0,r.current)(...n)).current}function obe(...t){return Y.useMemo(()=>t.every(r=>r==null)?null:r=>{t.forEach(n=>{F8(n,r)})},t)}class XC{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new XC}start(r,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},r)}}let bw=!0,I_=!1;const sbe=new XC,abe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function lbe(t){const{type:r,tagName:n}=t;return!!(n==="INPUT"&&abe[r]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function cbe(t){t.metaKey||t.altKey||t.ctrlKey||(bw=!0)}function EA(){bw=!1}function ube(){this.visibilityState==="hidden"&&I_&&(bw=!0)}function dbe(t){t.addEventListener("keydown",cbe,!0),t.addEventListener("mousedown",EA,!0),t.addEventListener("pointerdown",EA,!0),t.addEventListener("touchstart",EA,!0),t.addEventListener("visibilitychange",ube,!0)}function hbe(t){const{target:r}=t;try{return r.matches(":focus-visible")}catch{}return bw||lbe(r)}function fbe(){const t=Y.useCallback(a=>{a!=null&&dbe(a.ownerDocument)},[]),r=Y.useRef(!1);function n(){return r.current?(I_=!0,sbe.start(100,()=>{I_=!1}),r.current=!1,!0):!1}function o(a){return hbe(a)?(r.current=!0,!0):!1}return{isFocusVisibleRef:r,onFocus:o,onBlur:n,ref:t}}function T_(t,r){const n=Ar({},r);return Object.keys(t).forEach(o=>{if(o.toString().match(/^(components|slots)$/))n[o]=Ar({},t[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const a=t[o]||{},l=r[o];n[o]={},!l||!Object.keys(l)?n[o]=a:!a||!Object.keys(a)?n[o]=l:(n[o]=Ar({},l),Object.keys(a).forEach(d=>{n[o][d]=T_(a[d],l[d])}))}else n[o]===void 0&&(n[o]=t[o])}),n}function pbe(t,r,n=void 0){const o={};return Object.keys(t).forEach(a=>{o[a]=t[a].reduce((l,d)=>{if(d){const h=r(d);h!==""&&l.push(h),n&&n[d]&&l.push(n[d])}return l},[]).join(" ")}),o}const RM=t=>t,mbe=()=>{let t=RM;return{configure(r){t=r},generate(r){return t(r)},reset(){t=RM}}},U8=mbe(),gbe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function q8(t,r,n="Mui"){const o=gbe[r];return o?`${n}-${o}`:`${U8.generate(t)}-${r}`}function bbe(t,r,n="Mui"){const o={};return r.forEach(a=>{o[a]=q8(t,a,n)}),o}function kbe(t,r=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(r,Math.min(t,n))}const wbe=Object.freeze(Object.defineProperty({__proto__:null,default:kbe},Symbol.toStringTag,{value:"Module"}));function Ad(t,r){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(r.includes(o))continue;n[o]=t[o]}return n}function V8(t){var r,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(n=V8(t[r]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function ybe(){for(var t,r,n=0,o="",a=arguments.length;n<a;n++)(t=arguments[n])&&(r=V8(t))&&(o&&(o+=" "),o+=r);return o}const vbe=Y.createContext(void 0);function Abe(t){const{theme:r,name:n,props:o}=t;if(!r||!r.components||!r.components[n])return o;const a=r.components[n];return a.defaultProps?T_(a.defaultProps,o):!a.styleOverrides&&!a.variants?T_(a,o):o}function _be({props:t,name:r}){const n=Y.useContext(vbe);return Abe({props:t,name:r,theme:{components:n}})}function Cbe(t){return _be(t)}var hh={},BM={exports:{}},FM;function xbe(){return FM||(FM=1,function(t){function r(){return t.exports=r=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var l in a)({}).hasOwnProperty.call(a,l)&&(n[l]=a[l])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,r.apply(null,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(BM)),BM.exports}var zM={exports:{}},UM;function Sbe(){return UM||(UM=1,function(t){function r(n,o){if(n==null)return{};var a={};for(var l in n)if({}.hasOwnProperty.call(n,l)){if(o.includes(l))continue;a[l]=n[l]}return a}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(zM)),zM.exports}function Ebe(t){if(t.sheet)return t.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===t)return document.styleSheets[r]}function Dbe(t){var r=document.createElement("style");return r.setAttribute("data-emotion",t.key),t.nonce!==void 0&&r.setAttribute("nonce",t.nonce),r.appendChild(document.createTextNode("")),r.setAttribute("data-s",""),r}var Ibe=function(){function t(n){var o=this;this._insertTag=function(a){var l;o.tags.length===0?o.insertionPoint?l=o.insertionPoint.nextSibling:o.prepend?l=o.container.firstChild:l=o.before:l=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(a,l),o.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var r=t.prototype;return r.hydrate=function(n){n.forEach(this._insertTag)},r.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Dbe(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=Ebe(o);try{a.insertRule(n,a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},r.flush=function(){this.tags.forEach(function(n){var o;return(o=n.parentNode)==null?void 0:o.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Bo="-ms-",k1="-moz-",Xn="-webkit-",$8="comm",e2="rule",t2="decl",Tbe="@import",H8="@keyframes",Nbe="@layer",Mbe=Math.abs,kw=String.fromCharCode,Pbe=Object.assign;function Obe(t,r){return _o(t,0)^45?(((r<<2^_o(t,0))<<2^_o(t,1))<<2^_o(t,2))<<2^_o(t,3):0}function W8(t){return t.trim()}function jbe(t,r){return(t=r.exec(t))?t[0]:t}function er(t,r,n){return t.replace(r,n)}function N_(t,r){return t.indexOf(r)}function _o(t,r){return t.charCodeAt(r)|0}function $g(t,r,n){return t.slice(r,n)}function ec(t){return t.length}function n2(t){return t.length}function hk(t,r){return r.push(t),t}function Lbe(t,r){return t.map(r).join("")}var ww=1,Mp=1,G8=0,Es=0,Fi=0,Hp="";function yw(t,r,n,o,a,l,d){return{value:t,root:r,parent:n,type:o,props:a,children:l,line:ww,column:Mp,length:d,return:""}}function ug(t,r){return Pbe(yw("",null,null,"",null,null,0),t,{length:-t.length},r)}function Rbe(){return Fi}function Bbe(){return Fi=Es>0?_o(Hp,--Es):0,Mp--,Fi===10&&(Mp=1,ww--),Fi}function sa(){return Fi=Es<G8?_o(Hp,Es++):0,Mp++,Fi===10&&(Mp=1,ww++),Fi}function gc(){return _o(Hp,Es)}function Pk(){return Es}function kb(t,r){return $g(Hp,t,r)}function Hg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Y8(t){return ww=Mp=1,G8=ec(Hp=t),Es=0,[]}function K8(t){return Hp="",t}function Ok(t){return W8(kb(Es-1,M_(t===91?t+2:t===40?t+1:t)))}function Fbe(t){for(;(Fi=gc())&&Fi<33;)sa();return Hg(t)>2||Hg(Fi)>3?"":" "}function zbe(t,r){for(;--r&&sa()&&!(Fi<48||Fi>102||Fi>57&&Fi<65||Fi>70&&Fi<97););return kb(t,Pk()+(r<6&&gc()==32&&sa()==32))}function M_(t){for(;sa();)switch(Fi){case t:return Es;case 34:case 39:t!==34&&t!==39&&M_(Fi);break;case 40:t===41&&M_(t);break;case 92:sa();break}return Es}function Ube(t,r){for(;sa()&&t+Fi!==57&&!(t+Fi===84&&gc()===47););return"/*"+kb(r,Es-1)+"*"+kw(t===47?t:sa())}function qbe(t){for(;!Hg(gc());)sa();return kb(t,Es)}function Vbe(t){return K8(jk("",null,null,null,[""],t=Y8(t),0,[0],t))}function jk(t,r,n,o,a,l,d,h,p){for(var g=0,b=0,y=d,v=0,k=0,x=0,C=1,D=1,S=1,N=0,P="",B=a,$=l,V=o,M=P;D;)switch(x=N,N=sa()){case 40:if(x!=108&&_o(M,y-1)==58){N_(M+=er(Ok(N),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:M+=Ok(N);break;case 9:case 10:case 13:case 32:M+=Fbe(x);break;case 92:M+=zbe(Pk()-1,7);continue;case 47:switch(gc()){case 42:case 47:hk($be(Ube(sa(),Pk()),r,n),p);break;default:M+="/"}break;case 123*C:h[g++]=ec(M)*S;case 125*C:case 59:case 0:switch(N){case 0:case 125:D=0;case 59+b:S==-1&&(M=er(M,/\f/g,"")),k>0&&ec(M)-y&&hk(k>32?VM(M+";",o,n,y-1):VM(er(M," ","")+";",o,n,y-2),p);break;case 59:M+=";";default:if(hk(V=qM(M,r,n,g,b,a,h,P,B=[],$=[],y),l),N===123)if(b===0)jk(M,r,V,V,B,l,y,h,$);else switch(v===99&&_o(M,3)===110?100:v){case 100:case 108:case 109:case 115:jk(t,V,V,o&&hk(qM(t,V,V,0,0,a,h,P,a,B=[],y),$),a,$,y,h,o?B:$);break;default:jk(M,V,V,V,[""],$,0,h,$)}}g=b=k=0,C=S=1,P=M="",y=d;break;case 58:y=1+ec(M),k=x;default:if(C<1){if(N==123)--C;else if(N==125&&C++==0&&Bbe()==125)continue}switch(M+=kw(N),N*C){case 38:S=b>0?1:(M+="\f",-1);break;case 44:h[g++]=(ec(M)-1)*S,S=1;break;case 64:gc()===45&&(M+=Ok(sa())),v=gc(),b=y=ec(P=M+=qbe(Pk())),N++;break;case 45:x===45&&ec(M)==2&&(C=0)}}return l}function qM(t,r,n,o,a,l,d,h,p,g,b){for(var y=a-1,v=a===0?l:[""],k=n2(v),x=0,C=0,D=0;x<o;++x)for(var S=0,N=$g(t,y+1,y=Mbe(C=d[x])),P=t;S<k;++S)(P=W8(C>0?v[S]+" "+N:er(N,/&\f/g,v[S])))&&(p[D++]=P);return yw(t,r,n,a===0?e2:h,p,g,b)}function $be(t,r,n){return yw(t,r,n,$8,kw(Rbe()),$g(t,2,-2),0)}function VM(t,r,n,o){return yw(t,r,n,t2,$g(t,0,o),$g(t,o+1,-1),o)}function vp(t,r){for(var n="",o=n2(t),a=0;a<o;a++)n+=r(t[a],a,t,r)||"";return n}function Hbe(t,r,n,o){switch(t.type){case Nbe:if(t.children.length)break;case Tbe:case t2:return t.return=t.return||t.value;case $8:return"";case H8:return t.return=t.value+"{"+vp(t.children,o)+"}";case e2:t.value=t.props.join(",")}return ec(n=vp(t.children,o))?t.return=t.value+"{"+n+"}":""}function Wbe(t){var r=n2(t);return function(n,o,a,l){for(var d="",h=0;h<r;h++)d+=t[h](n,o,a,l)||"";return d}}function Gbe(t){return function(r){r.root||(r=r.return)&&t(r)}}var Ybe=function(t,r,n){for(var o=0,a=0;o=a,a=gc(),o===38&&a===12&&(r[n]=1),!Hg(a);)sa();return kb(t,Es)},Kbe=function(t,r){var n=-1,o=44;do switch(Hg(o)){case 0:o===38&&gc()===12&&(r[n]=1),t[n]+=Ybe(Es-1,r,n);break;case 2:t[n]+=Ok(o);break;case 4:if(o===44){t[++n]=gc()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=kw(o)}while(o=sa());return t},Qbe=function(t,r){return K8(Kbe(Y8(t),r))},$M=new WeakMap,Jbe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,o=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!$M.get(n))&&!o){$M.set(t,!0);for(var a=[],l=Qbe(r,a),d=n.props,h=0,p=0;h<l.length;h++)for(var g=0;g<d.length;g++,p++)t.props[p]=a[h]?l[h].replace(/&\f/g,d[g]):d[g]+" "+l[h]}}},Zbe=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function Q8(t,r){switch(Obe(t,r)){case 5103:return Xn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Xn+t+k1+t+Bo+t+t;case 6828:case 4268:return Xn+t+Bo+t+t;case 6165:return Xn+t+Bo+"flex-"+t+t;case 5187:return Xn+t+er(t,/(\w+).+(:[^]+)/,Xn+"box-$1$2"+Bo+"flex-$1$2")+t;case 5443:return Xn+t+Bo+"flex-item-"+er(t,/flex-|-self/,"")+t;case 4675:return Xn+t+Bo+"flex-line-pack"+er(t,/align-content|flex-|-self/,"")+t;case 5548:return Xn+t+Bo+er(t,"shrink","negative")+t;case 5292:return Xn+t+Bo+er(t,"basis","preferred-size")+t;case 6060:return Xn+"box-"+er(t,"-grow","")+Xn+t+Bo+er(t,"grow","positive")+t;case 4554:return Xn+er(t,/([^-])(transform)/g,"$1"+Xn+"$2")+t;case 6187:return er(er(er(t,/(zoom-|grab)/,Xn+"$1"),/(image-set)/,Xn+"$1"),t,"")+t;case 5495:case 3959:return er(t,/(image-set\([^]*)/,Xn+"$1$`$1");case 4968:return er(er(t,/(.+:)(flex-)?(.*)/,Xn+"box-pack:$3"+Bo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xn+t+t;case 4095:case 3583:case 4068:case 2532:return er(t,/(.+)-inline(.+)/,Xn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ec(t)-1-r>6)switch(_o(t,r+1)){case 109:if(_o(t,r+4)!==45)break;case 102:return er(t,/(.+:)(.+)-([^]+)/,"$1"+Xn+"$2-$3$1"+k1+(_o(t,r+3)==108?"$3":"$2-$3"))+t;case 115:return~N_(t,"stretch")?Q8(er(t,"stretch","fill-available"),r)+t:t}break;case 4949:if(_o(t,r+1)!==115)break;case 6444:switch(_o(t,ec(t)-3-(~N_(t,"!important")&&10))){case 107:return er(t,":",":"+Xn)+t;case 101:return er(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Xn+(_o(t,14)===45?"inline-":"")+"box$3$1"+Xn+"$2$3$1"+Bo+"$2box$3")+t}break;case 5936:switch(_o(t,r+11)){case 114:return Xn+t+Bo+er(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Xn+t+Bo+er(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Xn+t+Bo+er(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Xn+t+Bo+t+t}return t}var Xbe=function(t,r,n,o){if(t.length>-1&&!t.return)switch(t.type){case t2:t.return=Q8(t.value,t.length);break;case H8:return vp([ug(t,{value:er(t.value,"@","@"+Xn)})],o);case e2:if(t.length)return Lbe(t.props,function(a){switch(jbe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vp([ug(t,{props:[er(a,/:(read-\w+)/,":"+k1+"$1")]})],o);case"::placeholder":return vp([ug(t,{props:[er(a,/:(plac\w+)/,":"+Xn+"input-$1")]}),ug(t,{props:[er(a,/:(plac\w+)/,":"+k1+"$1")]}),ug(t,{props:[er(a,/:(plac\w+)/,Bo+"input-$1")]})],o)}return""})}},e0e=[Xbe],t0e=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(x){var C=x.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var o=t.stylisPlugins||e0e,a={},l,d=[];l=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(x){for(var C=x.getAttribute("data-emotion").split(" "),D=1;D<C.length;D++)a[C[D]]=!0;d.push(x)});var h,p=[Jbe,Zbe];{var g,b=[Hbe,Gbe(function(x){g.insert(x)})],y=Wbe(p.concat(o,b)),v=function(x){return vp(Vbe(x),y)};h=function(x,C,D,S){g=D,v(x?x+"{"+C.styles+"}":C.styles),S&&(k.inserted[C.name]=!0)}}var k={key:r,sheet:new Ibe({key:r,container:l,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:h};return k.sheet.hydrate(d),k};let P_;typeof document=="object"&&(P_=t0e({key:"css",prepend:!0}));function n0e(t){const{injectFirst:r,children:n}=t;return r&&P_?mn.jsx(IP,{value:P_,children:n}):n}function r0e(t){return t==null||Object.keys(t).length===0}function i0e(t){const{styles:r,defaultTheme:n={}}=t,o=typeof r=="function"?a=>r(r0e(a)?n:a):r;return mn.jsx(TP,{styles:o})}/**
 * @mui/styled-engine v5.16.12
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function o0e(t,r){return W_(t,r)}const s0e=(t,r)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=r(t.__emotion_styles))},a0e=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:i0e,StyledEngineProvider:n0e,ThemeContext:G_,css:Wh,default:o0e,internal_processStyles:s0e,keyframes:yc},Symbol.toStringTag,{value:"Module"})),l0e=fu(a0e),c0e=fu(zge),u0e=fu(Gge),d0e=fu(Wge),h0e=["values","unit","step"],f0e=t=>{const r=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return r.sort((n,o)=>n.val-o.val),r.reduce((n,o)=>Ar({},n,{[o.key]:o.val}),{})};function J8(t){const{values:r={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=t,a=Ad(t,h0e),l=f0e(r),d=Object.keys(l);function h(v){return`@media (min-width:${typeof r[v]=="number"?r[v]:v}${n})`}function p(v){return`@media (max-width:${(typeof r[v]=="number"?r[v]:v)-o/100}${n})`}function g(v,k){const x=d.indexOf(k);return`@media (min-width:${typeof r[v]=="number"?r[v]:v}${n}) and (max-width:${(x!==-1&&typeof r[d[x]]=="number"?r[d[x]]:k)-o/100}${n})`}function b(v){return d.indexOf(v)+1<d.length?g(v,d[d.indexOf(v)+1]):h(v)}function y(v){const k=d.indexOf(v);return k===0?h(d[1]):k===d.length-1?p(d[k]):g(v,d[d.indexOf(v)+1]).replace("@media","@media not all and")}return Ar({keys:d,values:l,up:h,down:p,between:g,only:b,not:y,unit:n},a)}const p0e={borderRadius:4};function Ig(t,r){return r?mc(t,r,{clone:!1}):t}const r2={xs:0,sm:600,md:900,lg:1200,xl:1536},HM={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${r2[t]}px)`};function uu(t,r,n){const o=t.theme||{};if(Array.isArray(r)){const a=o.breakpoints||HM;return r.reduce((l,d,h)=>(l[a.up(a.keys[h])]=n(r[h]),l),{})}if(typeof r=="object"){const a=o.breakpoints||HM;return Object.keys(r).reduce((l,d)=>{if(Object.keys(a.values||r2).indexOf(d)!==-1){const h=a.up(d);l[h]=n(r[d],d)}else{const h=d;l[h]=r[h]}return l},{})}return n(r)}function m0e(t={}){var r;return((r=t.keys)==null?void 0:r.reduce((n,o)=>{const a=t.up(o);return n[a]={},n},{}))||{}}function g0e(t,r){return t.reduce((n,o)=>{const a=n[o];return(!a||Object.keys(a).length===0)&&delete n[o],n},r)}function vw(t,r,n=!0){if(!r||typeof r!="string")return null;if(t&&t.vars&&n){const o=`vars.${r}`.split(".").reduce((a,l)=>a&&a[l]?a[l]:null,t);if(o!=null)return o}return r.split(".").reduce((o,a)=>o&&o[a]!=null?o[a]:null,t)}function w1(t,r,n,o=n){let a;return typeof t=="function"?a=t(n):Array.isArray(t)?a=t[n]||o:a=vw(t,n)||o,r&&(a=r(a,o,t)),a}function Pi(t){const{prop:r,cssProperty:n=t.prop,themeKey:o,transform:a}=t,l=d=>{if(d[r]==null)return null;const h=d[r],p=d.theme,g=vw(p,o)||{};return uu(d,h,b=>{let y=w1(g,a,b);return b===y&&typeof b=="string"&&(y=w1(g,a,`${r}${b==="default"?"":md(b)}`,b)),n===!1?y:{[n]:y}})};return l.propTypes={},l.filterProps=[r],l}function b0e(t){const r={};return n=>(r[n]===void 0&&(r[n]=t(n)),r[n])}const k0e={m:"margin",p:"padding"},w0e={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},WM={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},y0e=b0e(t=>{if(t.length>2)if(WM[t])t=WM[t];else return[t];const[r,n]=t.split(""),o=k0e[r],a=w0e[n]||"";return Array.isArray(a)?a.map(l=>o+l):[o+a]}),i2=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],o2=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...i2,...o2];function wb(t,r,n,o){var a;const l=(a=vw(t,r,!1))!=null?a:n;return typeof l=="number"?d=>typeof d=="string"?d:l*d:Array.isArray(l)?d=>typeof d=="string"?d:l[d]:typeof l=="function"?l:()=>{}}function Z8(t){return wb(t,"spacing",8)}function yb(t,r){if(typeof r=="string"||r==null)return r;const n=Math.abs(r),o=t(n);return r>=0?o:typeof o=="number"?-o:`-${o}`}function v0e(t,r){return n=>t.reduce((o,a)=>(o[a]=yb(r,n),o),{})}function A0e(t,r,n,o){if(r.indexOf(n)===-1)return null;const a=y0e(n),l=v0e(a,o),d=t[n];return uu(t,d,l)}function X8(t,r){const n=Z8(t.theme);return Object.keys(t).map(o=>A0e(t,r,o,n)).reduce(Ig,{})}function fi(t){return X8(t,i2)}fi.propTypes={};fi.filterProps=i2;function pi(t){return X8(t,o2)}pi.propTypes={};pi.filterProps=o2;function _0e(t=8){if(t.mui)return t;const r=Z8({spacing:t}),n=(...o)=>(o.length===0?[1]:o).map(a=>{const l=r(a);return typeof l=="number"?`${l}px`:l}).join(" ");return n.mui=!0,n}function Aw(...t){const r=t.reduce((o,a)=>(a.filterProps.forEach(l=>{o[l]=a}),o),{}),n=o=>Object.keys(o).reduce((a,l)=>r[l]?Ig(a,r[l](o)):a,{});return n.propTypes={},n.filterProps=t.reduce((o,a)=>o.concat(a.filterProps),[]),n}function za(t){return typeof t!="number"?t:`${t}px solid`}function Wa(t,r){return Pi({prop:t,themeKey:"borders",transform:r})}const C0e=Wa("border",za),x0e=Wa("borderTop",za),S0e=Wa("borderRight",za),E0e=Wa("borderBottom",za),D0e=Wa("borderLeft",za),I0e=Wa("borderColor"),T0e=Wa("borderTopColor"),N0e=Wa("borderRightColor"),M0e=Wa("borderBottomColor"),P0e=Wa("borderLeftColor"),O0e=Wa("outline",za),j0e=Wa("outlineColor"),_w=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const r=wb(t.theme,"shape.borderRadius",4),n=o=>({borderRadius:yb(r,o)});return uu(t,t.borderRadius,n)}return null};_w.propTypes={};_w.filterProps=["borderRadius"];Aw(C0e,x0e,S0e,E0e,D0e,I0e,T0e,N0e,M0e,P0e,_w,O0e,j0e);const Cw=t=>{if(t.gap!==void 0&&t.gap!==null){const r=wb(t.theme,"spacing",8),n=o=>({gap:yb(r,o)});return uu(t,t.gap,n)}return null};Cw.propTypes={};Cw.filterProps=["gap"];const xw=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const r=wb(t.theme,"spacing",8),n=o=>({columnGap:yb(r,o)});return uu(t,t.columnGap,n)}return null};xw.propTypes={};xw.filterProps=["columnGap"];const Sw=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const r=wb(t.theme,"spacing",8),n=o=>({rowGap:yb(r,o)});return uu(t,t.rowGap,n)}return null};Sw.propTypes={};Sw.filterProps=["rowGap"];const L0e=Pi({prop:"gridColumn"}),R0e=Pi({prop:"gridRow"}),B0e=Pi({prop:"gridAutoFlow"}),F0e=Pi({prop:"gridAutoColumns"}),z0e=Pi({prop:"gridAutoRows"}),U0e=Pi({prop:"gridTemplateColumns"}),q0e=Pi({prop:"gridTemplateRows"}),V0e=Pi({prop:"gridTemplateAreas"}),$0e=Pi({prop:"gridArea"});Aw(Cw,xw,Sw,L0e,R0e,B0e,F0e,z0e,U0e,q0e,V0e,$0e);function Ap(t,r){return r==="grey"?r:t}const H0e=Pi({prop:"color",themeKey:"palette",transform:Ap}),W0e=Pi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ap}),G0e=Pi({prop:"backgroundColor",themeKey:"palette",transform:Ap});Aw(H0e,W0e,G0e);function Zs(t){return t<=1&&t!==0?`${t*100}%`:t}const Y0e=Pi({prop:"width",transform:Zs}),s2=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const r=n=>{var o,a;const l=((o=t.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[n])||r2[n];return l?((a=t.theme)==null||(a=a.breakpoints)==null?void 0:a.unit)!=="px"?{maxWidth:`${l}${t.theme.breakpoints.unit}`}:{maxWidth:l}:{maxWidth:Zs(n)}};return uu(t,t.maxWidth,r)}return null};s2.filterProps=["maxWidth"];const K0e=Pi({prop:"minWidth",transform:Zs}),Q0e=Pi({prop:"height",transform:Zs}),J0e=Pi({prop:"maxHeight",transform:Zs}),Z0e=Pi({prop:"minHeight",transform:Zs});Pi({prop:"size",cssProperty:"width",transform:Zs});Pi({prop:"size",cssProperty:"height",transform:Zs});const X0e=Pi({prop:"boxSizing"});Aw(Y0e,s2,K0e,Q0e,J0e,Z0e,X0e);const vb={border:{themeKey:"borders",transform:za},borderTop:{themeKey:"borders",transform:za},borderRight:{themeKey:"borders",transform:za},borderBottom:{themeKey:"borders",transform:za},borderLeft:{themeKey:"borders",transform:za},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:za},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:_w},color:{themeKey:"palette",transform:Ap},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ap},backgroundColor:{themeKey:"palette",transform:Ap},p:{style:pi},pt:{style:pi},pr:{style:pi},pb:{style:pi},pl:{style:pi},px:{style:pi},py:{style:pi},padding:{style:pi},paddingTop:{style:pi},paddingRight:{style:pi},paddingBottom:{style:pi},paddingLeft:{style:pi},paddingX:{style:pi},paddingY:{style:pi},paddingInline:{style:pi},paddingInlineStart:{style:pi},paddingInlineEnd:{style:pi},paddingBlock:{style:pi},paddingBlockStart:{style:pi},paddingBlockEnd:{style:pi},m:{style:fi},mt:{style:fi},mr:{style:fi},mb:{style:fi},ml:{style:fi},mx:{style:fi},my:{style:fi},margin:{style:fi},marginTop:{style:fi},marginRight:{style:fi},marginBottom:{style:fi},marginLeft:{style:fi},marginX:{style:fi},marginY:{style:fi},marginInline:{style:fi},marginInlineStart:{style:fi},marginInlineEnd:{style:fi},marginBlock:{style:fi},marginBlockStart:{style:fi},marginBlockEnd:{style:fi},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Cw},rowGap:{style:Sw},columnGap:{style:xw},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Zs},maxWidth:{style:s2},minWidth:{transform:Zs},height:{transform:Zs},maxHeight:{transform:Zs},minHeight:{transform:Zs},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function eke(...t){const r=t.reduce((o,a)=>o.concat(Object.keys(a)),[]),n=new Set(r);return t.every(o=>n.size===Object.keys(o).length)}function tke(t,r){return typeof t=="function"?t(r):t}function eR(){function t(n,o,a,l){const d={[n]:o,theme:a},h=l[n];if(!h)return{[n]:o};const{cssProperty:p=n,themeKey:g,transform:b,style:y}=h;if(o==null)return null;if(g==="typography"&&o==="inherit")return{[n]:o};const v=vw(a,g)||{};return y?y(d):uu(d,o,k=>{let x=w1(v,b,k);return k===x&&typeof k=="string"&&(x=w1(v,b,`${n}${k==="default"?"":md(k)}`,k)),p===!1?x:{[p]:x}})}function r(n){var o;const{sx:a,theme:l={}}=n||{};if(!a)return null;const d=(o=l.unstable_sxConfig)!=null?o:vb;function h(p){let g=p;if(typeof p=="function")g=p(l);else if(typeof p!="object")return p;if(!g)return null;const b=m0e(l.breakpoints),y=Object.keys(b);let v=b;return Object.keys(g).forEach(k=>{const x=tke(g[k],l);if(x!=null)if(typeof x=="object")if(d[k])v=Ig(v,t(k,x,l,d));else{const C=uu({theme:l},x,D=>({[k]:D}));eke(C,x)?v[k]=r({sx:x,theme:l}):v=Ig(v,C)}else v=Ig(v,t(k,x,l,d))}),g0e(y,v)}return Array.isArray(a)?a.map(h):h(a)}return r}const Ew=eR();Ew.filterProps=["sx"];function tR(t,r){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:r}:n.palette.mode===t?r:{}}const nke=["breakpoints","palette","spacing","shape"];function nR(t={},...r){const{breakpoints:n={},palette:o={},spacing:a,shape:l={}}=t,d=Ad(t,nke),h=J8(n),p=_0e(a);let g=mc({breakpoints:h,direction:"ltr",components:{},palette:Ar({mode:"light"},o),spacing:p,shape:Ar({},p0e,l)},d);return g.applyStyles=tR,g=r.reduce((b,y)=>mc(b,y),g),g.unstable_sxConfig=Ar({},vb,d==null?void 0:d.unstable_sxConfig),g.unstable_sx=function(b){return Ew({sx:b,theme:this})},g}const rke=Object.freeze(Object.defineProperty({__proto__:null,default:nR,private_createBreakpoints:J8,unstable_applyStyles:tR},Symbol.toStringTag,{value:"Module"})),ike=fu(rke),oke=["sx"],ske=t=>{var r,n;const o={systemProps:{},otherProps:{}},a=(r=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?r:vb;return Object.keys(t).forEach(l=>{a[l]?o.systemProps[l]=t[l]:o.otherProps[l]=t[l]}),o};function ake(t){const{sx:r}=t,n=Ad(t,oke),{systemProps:o,otherProps:a}=ske(n);let l;return Array.isArray(r)?l=[o,...r]:typeof r=="function"?l=(...d)=>{const h=r(...d);return ed(h)?Ar({},o,h):o}:l=Ar({},o,r),Ar({},a,{sx:l})}const lke=Object.freeze(Object.defineProperty({__proto__:null,default:Ew,extendSxProp:ake,unstable_createStyleFunctionSx:eR,unstable_defaultSxConfig:vb},Symbol.toStringTag,{value:"Module"})),cke=fu(lke);var GM;function uke(){if(GM)return hh;GM=1;var t=gw();Object.defineProperty(hh,"__esModule",{value:!0}),hh.default=B,hh.shouldForwardProp=x,hh.systemDefaultTheme=void 0;var r=t(xbe()),n=t(Sbe()),o=y(l0e),a=c0e;t(u0e),t(d0e);var l=t(ike),d=t(cke);const h=["ownerState"],p=["variants"],g=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function b($){if(typeof WeakMap!="function")return null;var V=new WeakMap,M=new WeakMap;return(b=function(L){return L?M:V})($)}function y($,V){if($&&$.__esModule)return $;if($===null||typeof $!="object"&&typeof $!="function")return{default:$};var M=b(V);if(M&&M.has($))return M.get($);var L={__proto__:null},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Q in $)if(Q!=="default"&&Object.prototype.hasOwnProperty.call($,Q)){var H=q?Object.getOwnPropertyDescriptor($,Q):null;H&&(H.get||H.set)?Object.defineProperty(L,Q,H):L[Q]=$[Q]}return L.default=$,M&&M.set($,L),L}function v($){return Object.keys($).length===0}function k($){return typeof $=="string"&&$.charCodeAt(0)>96}function x($){return $!=="ownerState"&&$!=="theme"&&$!=="sx"&&$!=="as"}const C=hh.systemDefaultTheme=(0,l.default)(),D=$=>$&&$.charAt(0).toLowerCase()+$.slice(1);function S({defaultTheme:$,theme:V,themeId:M}){return v(V)?$:V[M]||V}function N($){return $?(V,M)=>M[$]:null}function P($,V){let{ownerState:M}=V,L=(0,n.default)(V,h);const q=typeof $=="function"?$((0,r.default)({ownerState:M},L)):$;if(Array.isArray(q))return q.flatMap(Q=>P(Q,(0,r.default)({ownerState:M},L)));if(q&&typeof q=="object"&&Array.isArray(q.variants)){const{variants:Q=[]}=q;let H=(0,n.default)(q,p);return Q.forEach(F=>{let G=!0;typeof F.props=="function"?G=F.props((0,r.default)({ownerState:M},L,M)):Object.keys(F.props).forEach(R=>{(M==null?void 0:M[R])!==F.props[R]&&L[R]!==F.props[R]&&(G=!1)}),G&&(Array.isArray(H)||(H=[H]),H.push(typeof F.style=="function"?F.style((0,r.default)({ownerState:M},L,M)):F.style))}),H}return q}function B($={}){const{themeId:V,defaultTheme:M=C,rootShouldForwardProp:L=x,slotShouldForwardProp:q=x}=$,Q=H=>(0,d.default)((0,r.default)({},H,{theme:S((0,r.default)({},H,{defaultTheme:M,themeId:V}))}));return Q.__mui_systemSx=!0,(H,F={})=>{(0,o.internal_processStyles)(H,le=>le.filter(Ie=>!(Ie!=null&&Ie.__mui_systemSx)));const{name:G,slot:R,skipVariantsResolver:ne,skipSx:ue,overridesResolver:ie=N(D(R))}=F,se=(0,n.default)(F,g),ye=ne!==void 0?ne:R&&R!=="Root"&&R!=="root"||!1,re=ue||!1;let _e,Z=x;R==="Root"||R==="root"?Z=L:R?Z=q:k(H)&&(Z=void 0);const J=(0,o.default)(H,(0,r.default)({shouldForwardProp:Z,label:_e},se)),ae=le=>typeof le=="function"&&le.__emotion_real!==le||(0,a.isPlainObject)(le)?Ie=>P(le,(0,r.default)({},Ie,{theme:S({theme:Ie.theme,defaultTheme:M,themeId:V})})):le,fe=(le,...Ie)=>{let xe=ae(le);const Ne=Ie?Ie.map(ae):[];G&&ie&&Ne.push(Je=>{const ze=S((0,r.default)({},Je,{defaultTheme:M,themeId:V}));if(!ze.components||!ze.components[G]||!ze.components[G].styleOverrides)return null;const X=ze.components[G].styleOverrides,Ce={};return Object.entries(X).forEach(([he,be])=>{Ce[he]=P(be,(0,r.default)({},Je,{theme:ze}))}),ie(Je,Ce)}),G&&!ye&&Ne.push(Je=>{var ze;const X=S((0,r.default)({},Je,{defaultTheme:M,themeId:V})),Ce=X==null||(ze=X.components)==null||(ze=ze[G])==null?void 0:ze.variants;return P({variants:Ce},(0,r.default)({},Je,{theme:X}))}),re||Ne.push(Q);const Qe=Ne.length-Ie.length;if(Array.isArray(le)&&Qe>0){const Je=new Array(Qe).fill("");xe=[...le,...Je],xe.raw=[...le.raw,...Je]}const Ge=J(xe,...Ne);return H.muiName&&(Ge.muiName=H.muiName),Ge};return J.withConfig&&(fe.withConfig=J.withConfig),fe}}return hh}var dke=uke();const hke=JC(dke);function fke(t,r){return Ar({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},r)}var ei={};const pke=fu(Uge),mke=fu(wbe);var YM;function gke(){if(YM)return ei;YM=1;var t=gw();Object.defineProperty(ei,"__esModule",{value:!0}),ei.alpha=x,ei.blend=V,ei.colorChannel=void 0,ei.darken=D,ei.decomposeColor=d,ei.emphasize=B,ei.getContrastRatio=k,ei.getLuminance=v,ei.hexToRgb=a,ei.hslToRgb=y,ei.lighten=N,ei.private_safeAlpha=C,ei.private_safeColorChannel=void 0,ei.private_safeDarken=S,ei.private_safeEmphasize=$,ei.private_safeLighten=P,ei.recomposeColor=g,ei.rgbToHex=b;var r=t(pke),n=t(mke);function o(M,L=0,q=1){return(0,n.default)(M,L,q)}function a(M){M=M.slice(1);const L=new RegExp(`.{1,${M.length>=6?2:1}}`,"g");let q=M.match(L);return q&&q[0].length===1&&(q=q.map(Q=>Q+Q)),q?`rgb${q.length===4?"a":""}(${q.map((Q,H)=>H<3?parseInt(Q,16):Math.round(parseInt(Q,16)/255*1e3)/1e3).join(", ")})`:""}function l(M){const L=M.toString(16);return L.length===1?`0${L}`:L}function d(M){if(M.type)return M;if(M.charAt(0)==="#")return d(a(M));const L=M.indexOf("("),q=M.substring(0,L);if(["rgb","rgba","hsl","hsla","color"].indexOf(q)===-1)throw new Error((0,r.default)(9,M));let Q=M.substring(L+1,M.length-1),H;if(q==="color"){if(Q=Q.split(" "),H=Q.shift(),Q.length===4&&Q[3].charAt(0)==="/"&&(Q[3]=Q[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(H)===-1)throw new Error((0,r.default)(10,H))}else Q=Q.split(",");return Q=Q.map(F=>parseFloat(F)),{type:q,values:Q,colorSpace:H}}const h=M=>{const L=d(M);return L.values.slice(0,3).map((q,Q)=>L.type.indexOf("hsl")!==-1&&Q!==0?`${q}%`:q).join(" ")};ei.colorChannel=h;const p=(M,L)=>{try{return h(M)}catch{return M}};ei.private_safeColorChannel=p;function g(M){const{type:L,colorSpace:q}=M;let{values:Q}=M;return L.indexOf("rgb")!==-1?Q=Q.map((H,F)=>F<3?parseInt(H,10):H):L.indexOf("hsl")!==-1&&(Q[1]=`${Q[1]}%`,Q[2]=`${Q[2]}%`),L.indexOf("color")!==-1?Q=`${q} ${Q.join(" ")}`:Q=`${Q.join(", ")}`,`${L}(${Q})`}function b(M){if(M.indexOf("#")===0)return M;const{values:L}=d(M);return`#${L.map((q,Q)=>l(Q===3?Math.round(255*q):q)).join("")}`}function y(M){M=d(M);const{values:L}=M,q=L[0],Q=L[1]/100,H=L[2]/100,F=Q*Math.min(H,1-H),G=(ue,ie=(ue+q/30)%12)=>H-F*Math.max(Math.min(ie-3,9-ie,1),-1);let R="rgb";const ne=[Math.round(G(0)*255),Math.round(G(8)*255),Math.round(G(4)*255)];return M.type==="hsla"&&(R+="a",ne.push(L[3])),g({type:R,values:ne})}function v(M){M=d(M);let L=M.type==="hsl"||M.type==="hsla"?d(y(M)).values:M.values;return L=L.map(q=>(M.type!=="color"&&(q/=255),q<=.03928?q/12.92:((q+.055)/1.055)**2.4)),Number((.2126*L[0]+.7152*L[1]+.0722*L[2]).toFixed(3))}function k(M,L){const q=v(M),Q=v(L);return(Math.max(q,Q)+.05)/(Math.min(q,Q)+.05)}function x(M,L){return M=d(M),L=o(L),(M.type==="rgb"||M.type==="hsl")&&(M.type+="a"),M.type==="color"?M.values[3]=`/${L}`:M.values[3]=L,g(M)}function C(M,L,q){try{return x(M,L)}catch{return M}}function D(M,L){if(M=d(M),L=o(L),M.type.indexOf("hsl")!==-1)M.values[2]*=1-L;else if(M.type.indexOf("rgb")!==-1||M.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)M.values[q]*=1-L;return g(M)}function S(M,L,q){try{return D(M,L)}catch{return M}}function N(M,L){if(M=d(M),L=o(L),M.type.indexOf("hsl")!==-1)M.values[2]+=(100-M.values[2])*L;else if(M.type.indexOf("rgb")!==-1)for(let q=0;q<3;q+=1)M.values[q]+=(255-M.values[q])*L;else if(M.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)M.values[q]+=(1-M.values[q])*L;return g(M)}function P(M,L,q){try{return N(M,L)}catch{return M}}function B(M,L=.15){return v(M)>.5?D(M,L):N(M,L)}function $(M,L,q){try{return B(M,L)}catch{return M}}function V(M,L,q,Q=1){const H=(ne,ue)=>Math.round((ne**(1/Q)*(1-q)+ue**(1/Q)*q)**Q),F=d(M),G=d(L),R=[H(F.values[0],G.values[0]),H(F.values[1],G.values[1]),H(F.values[2],G.values[2])];return g({type:"rgb",values:R})}return ei}var O_=gke();const Wg={black:"#000",white:"#fff"},bke={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Jf={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Zf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},dg={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Xf={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},ep={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},tp={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},kke=["mode","contrastThreshold","tonalOffset"],KM={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Wg.white,default:Wg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},DA={text:{primary:Wg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Wg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function QM(t,r,n,o){const a=o.light||o,l=o.dark||o*1.5;t[r]||(t.hasOwnProperty(n)?t[r]=t[n]:r==="light"?t.light=O_.lighten(t.main,a):r==="dark"&&(t.dark=O_.darken(t.main,l)))}function wke(t="light"){return t==="dark"?{main:Xf[200],light:Xf[50],dark:Xf[400]}:{main:Xf[700],light:Xf[400],dark:Xf[800]}}function yke(t="light"){return t==="dark"?{main:Jf[200],light:Jf[50],dark:Jf[400]}:{main:Jf[500],light:Jf[300],dark:Jf[700]}}function vke(t="light"){return t==="dark"?{main:Zf[500],light:Zf[300],dark:Zf[700]}:{main:Zf[700],light:Zf[400],dark:Zf[800]}}function Ake(t="light"){return t==="dark"?{main:ep[400],light:ep[300],dark:ep[700]}:{main:ep[700],light:ep[500],dark:ep[900]}}function _ke(t="light"){return t==="dark"?{main:tp[400],light:tp[300],dark:tp[700]}:{main:tp[800],light:tp[500],dark:tp[900]}}function Cke(t="light"){return t==="dark"?{main:dg[400],light:dg[300],dark:dg[700]}:{main:"#ed6c02",light:dg[500],dark:dg[900]}}function xke(t){const{mode:r="light",contrastThreshold:n=3,tonalOffset:o=.2}=t,a=Ad(t,kke),l=t.primary||wke(r),d=t.secondary||yke(r),h=t.error||vke(r),p=t.info||Ake(r),g=t.success||_ke(r),b=t.warning||Cke(r);function y(x){return O_.getContrastRatio(x,DA.text.primary)>=n?DA.text.primary:KM.text.primary}const v=({color:x,name:C,mainShade:D=500,lightShade:S=300,darkShade:N=700})=>{if(x=Ar({},x),!x.main&&x[D]&&(x.main=x[D]),!x.hasOwnProperty("main"))throw new Error(Vg(11,C?` (${C})`:"",D));if(typeof x.main!="string")throw new Error(Vg(12,C?` (${C})`:"",JSON.stringify(x.main)));return QM(x,"light",S,o),QM(x,"dark",N,o),x.contrastText||(x.contrastText=y(x.main)),x},k={dark:DA,light:KM};return mc(Ar({common:Ar({},Wg),mode:r,primary:v({color:l,name:"primary"}),secondary:v({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:h,name:"error"}),warning:v({color:b,name:"warning"}),info:v({color:p,name:"info"}),success:v({color:g,name:"success"}),grey:bke,contrastThreshold:n,getContrastText:y,augmentColor:v,tonalOffset:o},k[r]),a)}const Ske=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Eke(t){return Math.round(t*1e5)/1e5}const JM={textTransform:"uppercase"},ZM='"Roboto", "Helvetica", "Arial", sans-serif';function Dke(t,r){const n=typeof r=="function"?r(t):r,{fontFamily:o=ZM,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:d=400,fontWeightMedium:h=500,fontWeightBold:p=700,htmlFontSize:g=16,allVariants:b,pxToRem:y}=n,v=Ad(n,Ske),k=a/14,x=y||(S=>`${S/g*k}rem`),C=(S,N,P,B,$)=>Ar({fontFamily:o,fontWeight:S,fontSize:x(N),lineHeight:P},o===ZM?{letterSpacing:`${Eke(B/N)}em`}:{},$,b),D={h1:C(l,96,1.167,-1.5),h2:C(l,60,1.2,-.5),h3:C(d,48,1.167,0),h4:C(d,34,1.235,.25),h5:C(d,24,1.334,0),h6:C(h,20,1.6,.15),subtitle1:C(d,16,1.75,.15),subtitle2:C(h,14,1.57,.1),body1:C(d,16,1.5,.15),body2:C(d,14,1.43,.15),button:C(h,14,1.75,.4,JM),caption:C(d,12,1.66,.4),overline:C(d,12,2.66,1,JM),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return mc(Ar({htmlFontSize:g,pxToRem:x,fontFamily:o,fontSize:a,fontWeightLight:l,fontWeightRegular:d,fontWeightMedium:h,fontWeightBold:p},D),v,{clone:!1})}const Ike=.2,Tke=.14,Nke=.12;function qr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Ike})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Tke})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Nke})`].join(",")}const Mke=["none",qr(0,2,1,-1,0,1,1,0,0,1,3,0),qr(0,3,1,-2,0,2,2,0,0,1,5,0),qr(0,3,3,-2,0,3,4,0,0,1,8,0),qr(0,2,4,-1,0,4,5,0,0,1,10,0),qr(0,3,5,-1,0,5,8,0,0,1,14,0),qr(0,3,5,-1,0,6,10,0,0,1,18,0),qr(0,4,5,-2,0,7,10,1,0,2,16,1),qr(0,5,5,-3,0,8,10,1,0,3,14,2),qr(0,5,6,-3,0,9,12,1,0,3,16,2),qr(0,6,6,-3,0,10,14,1,0,4,18,3),qr(0,6,7,-4,0,11,15,1,0,4,20,3),qr(0,7,8,-4,0,12,17,2,0,5,22,4),qr(0,7,8,-4,0,13,19,2,0,5,24,4),qr(0,7,9,-4,0,14,21,2,0,5,26,4),qr(0,8,9,-5,0,15,22,2,0,6,28,5),qr(0,8,10,-5,0,16,24,2,0,6,30,5),qr(0,8,11,-5,0,17,26,2,0,6,32,5),qr(0,9,11,-5,0,18,28,2,0,7,34,6),qr(0,9,12,-6,0,19,29,2,0,7,36,6),qr(0,10,13,-6,0,20,31,3,0,8,38,7),qr(0,10,13,-6,0,21,33,3,0,8,40,7),qr(0,10,14,-6,0,22,35,3,0,8,42,7),qr(0,11,14,-7,0,23,36,3,0,9,44,8),qr(0,11,15,-7,0,24,38,3,0,9,46,8)],Pke=["duration","easing","delay"],Oke={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},jke={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function XM(t){return`${Math.round(t)}ms`}function Lke(t){if(!t)return 0;const r=t/36;return Math.round((4+15*r**.25+r/5)*10)}function Rke(t){const r=Ar({},Oke,t.easing),n=Ar({},jke,t.duration);return Ar({getAutoHeightDuration:Lke,create:(o=["all"],a={})=>{const{duration:l=n.standard,easing:d=r.easeInOut,delay:h=0}=a;return Ad(a,Pke),(Array.isArray(o)?o:[o]).map(p=>`${p} ${typeof l=="string"?l:XM(l)} ${d} ${typeof h=="string"?h:XM(h)}`).join(",")}},t,{easing:r,duration:n})}const Bke={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Fke=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function zke(t={},...r){const{mixins:n={},palette:o={},transitions:a={},typography:l={}}=t,d=Ad(t,Fke);if(t.vars)throw new Error(Vg(18));const h=xke(o),p=nR(t);let g=mc(p,{mixins:fke(p.breakpoints,n),palette:h,shadows:Mke.slice(),typography:Dke(h,l),transitions:Rke(a),zIndex:Ar({},Bke)});return g=mc(g,d),g=r.reduce((b,y)=>mc(b,y),g),g.unstable_sxConfig=Ar({},vb,d==null?void 0:d.unstable_sxConfig),g.unstable_sx=function(b){return Ew({sx:b,theme:this})},g}const Uke=zke(),qke="$$material";function Vke(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const $ke=t=>Vke(t)&&t!=="classes",Hke=hke({themeId:qke,defaultTheme:Uke,rootShouldForwardProp:$ke});function Wke(t){return q8("MuiSvgIcon",t)}bbe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Gke=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Yke=t=>{const{color:r,fontSize:n,classes:o}=t,a={root:["root",r!=="inherit"&&`color${md(r)}`,`fontSize${md(n)}`]};return pbe(a,Wke,o)},Kke=Hke("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.color!=="inherit"&&r[`color${md(n.color)}`],r[`fontSize${md(n.fontSize)}`]]}})(({theme:t,ownerState:r})=>{var n,o,a,l,d,h,p,g,b,y,v,k,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:r.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(o=n.create)==null?void 0:o.call(n,"fill",{duration:(a=t.transitions)==null||(a=a.duration)==null?void 0:a.shorter}),fontSize:{inherit:"inherit",small:((l=t.typography)==null||(d=l.pxToRem)==null?void 0:d.call(l,20))||"1.25rem",medium:((h=t.typography)==null||(p=h.pxToRem)==null?void 0:p.call(h,24))||"1.5rem",large:((g=t.typography)==null||(b=g.pxToRem)==null?void 0:b.call(g,35))||"2.1875rem"}[r.fontSize],color:(y=(v=(t.vars||t).palette)==null||(v=v[r.color])==null?void 0:v.main)!=null?y:{action:(k=(t.vars||t).palette)==null||(k=k.action)==null?void 0:k.active,disabled:(x=(t.vars||t).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[r.color]}}),j_=Y.forwardRef(function(t,r){const n=Cbe({props:t,name:"MuiSvgIcon"}),{children:o,className:a,color:l="inherit",component:d="svg",fontSize:h="medium",htmlColor:p,inheritViewBox:g=!1,titleAccess:b,viewBox:y="0 0 24 24"}=n,v=Ad(n,Gke),k=Y.isValidElement(o)&&o.type==="svg",x=Ar({},n,{color:l,component:d,fontSize:h,instanceFontSize:t.fontSize,inheritViewBox:g,viewBox:y,hasSvgAsChild:k}),C={};g||(C.viewBox=y);const D=Yke(x);return mn.jsxs(Kke,Ar({as:d,className:ybe(D.root,a),focusable:"false",color:p,"aria-hidden":b?void 0:!0,role:b?"img":void 0,ref:r},C,v,k&&o.props,{ownerState:x,children:[k?o.props.children:o,b?mn.jsx("title",{children:b}):null]}))});j_.muiName="SvgIcon";function Qke(t,r){function n(o,a){return mn.jsx(j_,Ar({"data-testid":`${r}Icon`,ref:a},o,{children:t}))}return n.muiName=j_.muiName,Y.memo(Y.forwardRef(n))}const Jke={configure:t=>{U8.configure(t)}},Zke=Object.freeze(Object.defineProperty({__proto__:null,capitalize:md,createChainedFunction:Yge,createSvgIcon:Qke,debounce:Kge,deprecatedPropType:Qge,isMuiElement:Jge,ownerDocument:B8,ownerWindow:Zge,requirePropFactory:Xge,setRef:F8,unstable_ClassNameGenerator:Jke,unstable_useEnhancedEffect:z8,unstable_useId:tbe,unsupportedProp:nbe,useControlled:rbe,useEventCallback:ibe,useForkRef:obe,useIsFocusVisible:fbe},Symbol.toStringTag,{value:"Module"})),Xke=fu(Zke);var eP;function rR(){return eP||(eP=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=Xke}(IM)),IM}var tP;function e1e(){if(tP)return cg;tP=1;var t=gw();Object.defineProperty(cg,"__esModule",{value:!0}),cg.default=void 0;var r=t(rR()),n=ZC();return cg.default=(0,r.default)((0,n.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),cg}var t1e=e1e();const n1e=JC(t1e),IA={chatToggleButton:{position:"fixed",bottom:20,right:20,bgcolor:"#CDDAFF",color:"white",width:60,height:60,borderRadius:"50%",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.3)","&:hover":{bgcolor:"#0B53C0"},transition:"background-color 0.3s, transform 0.3s","&:active":{transform:"scale(0.95)"}},chatContainer:(t,r)=>({position:"fixed",bottom:t?0:20,right:t?0:20,width:t?"80%":r?"60%":650,height:t?"50%":r?"55%":700,padding:t?1:2,display:"flex",flexDirection:"column",borderRadius:t?0:"16px",backgroundColor:"#F0F4FF",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"}),chatHeader:{fontFamily:"Staatliches, Arial, sans-serif",fontWeight:"bold",color:"black",fontSize:"1.25rem"},chatMessageInput:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif",borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}},chatMessageBox:{maxWidth:"70%",borderRadius:"15px",padding:1,paddingX:2,boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)","&.user":{bgcolor:"#f0f0f0",color:"#555",alignSelf:"flex-end"},"&.bot":{bgcolor:"#CDDAFF",color:"black",alignSelf:"flex-start","&:hover":{bgcolor:"#0B53C0",color:"white"}}},chatButtons:{backgroundColor:"#CDDAFF",color:"black",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",color:"white"}}},r1e=({responses:t})=>mn.jsx(fl,{sx:{flexGrow:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:2,padding:2,backgroundColor:"transparent"},children:t.length>0?t.map((r,n)=>mn.jsxs(fl,{sx:{display:"flex",flexDirection:"column",alignItems:r.question?"flex-end":"flex-start"},children:[r.question&&mn.jsx(fl,{sx:{maxWidth:"70%",bgcolor:"#f0f0f0",color:"#555",borderRadius:"15px",p:1,px:2,mb:2,alignSelf:"flex-end",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},children:mn.jsx(Lh,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"#555"},children:r.question})}),(r.answer||r.text)&&mn.jsx(fl,{sx:{maxWidth:"70%",bgcolor:"#CDDAFF",color:"black",borderRadius:"15px",p:1,px:2,alignSelf:"flex-start",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",mb:.3,"&:hover":{bgcolor:"#0B53C0",color:"white"}},children:mn.jsx(Lh,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"inherit",transition:"color 0.3s ease"},children:mn.jsx(QC,{children:r.answer||r.text})})})]},n)):mn.jsx(Lh,{variant:"body2",sx:{textAlign:"center",color:"#6c757d",fontFamily:"Gabarito, Arial, sans-serif"},children:"No messages yet. Start the conversation!"})}),i1e=({onSendMessage:t,onStartConversation:r,onEndConversation:n,conversationId:o})=>{const[a,l]=Y.useState(""),d=()=>{a.trim()&&(t(a),l(""))},h=()=>{o||r()},p=()=>{o&&n()};return mn.jsxs(fl,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[mn.jsxs(fl,{sx:{display:"flex",gap:1},children:[mn.jsx(Uhe,{variant:"outlined",placeholder:"Type your message...",fullWidth:!0,size:"small",value:a,onChange:g=>l(g.target.value),onKeyDown:g=>{g.key==="Enter"&&d()},sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}}}),mn.jsx(Cg,{variant:"contained",onClick:d,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"Send"})]}),o?mn.jsx(Cg,{variant:"outlined",onClick:p,sx:{color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none",borderColor:"#CDDAFF","&:hover":{borderColor:"#0B53C0",color:"#0B53C0"}},children:"END CONVERSATION"}):mn.jsx(Cg,{variant:"contained",onClick:h,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"START CONVERSATION"})]})};var hg={},nP;function o1e(){if(nP)return hg;nP=1;var t=gw();Object.defineProperty(hg,"__esModule",{value:!0}),hg.default=void 0;var r=t(rR()),n=ZC();return hg.default=(0,r.default)((0,n.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),hg}var s1e=o1e();const a1e=JC(s1e);function iR(t,r){return function(){return t.apply(r,arguments)}}const{toString:l1e}=Object.prototype,{getPrototypeOf:a2}=Object,Dw=(t=>r=>{const n=l1e.call(r);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),vl=t=>(t=t.toLowerCase(),r=>Dw(r)===t),Iw=t=>r=>typeof r===t,{isArray:Wp}=Array,Gg=Iw("undefined");function c1e(t){return t!==null&&!Gg(t)&&t.constructor!==null&&!Gg(t.constructor)&&aa(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const oR=vl("ArrayBuffer");function u1e(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&oR(t.buffer),r}const d1e=Iw("string"),aa=Iw("function"),sR=Iw("number"),Tw=t=>t!==null&&typeof t=="object",h1e=t=>t===!0||t===!1,Lk=t=>{if(Dw(t)!=="object")return!1;const r=a2(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},f1e=vl("Date"),p1e=vl("File"),m1e=vl("Blob"),g1e=vl("FileList"),b1e=t=>Tw(t)&&aa(t.pipe),k1e=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||aa(t.append)&&((r=Dw(t))==="formdata"||r==="object"&&aa(t.toString)&&t.toString()==="[object FormData]"))},w1e=vl("URLSearchParams"),[y1e,v1e,A1e,_1e]=["ReadableStream","Request","Response","Headers"].map(vl),C1e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ab(t,r,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let o,a;if(typeof t!="object"&&(t=[t]),Wp(t))for(o=0,a=t.length;o<a;o++)r.call(null,t[o],o,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),d=l.length;let h;for(o=0;o<d;o++)h=l[o],r.call(null,t[h],h,t)}}function aR(t,r){r=r.toLowerCase();const n=Object.keys(t);let o=n.length,a;for(;o-- >0;)if(a=n[o],r===a.toLowerCase())return a;return null}const Sh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lR=t=>!Gg(t)&&t!==Sh;function L_(){const{caseless:t}=lR(this)&&this||{},r={},n=(o,a)=>{const l=t&&aR(r,a)||a;Lk(r[l])&&Lk(o)?r[l]=L_(r[l],o):Lk(o)?r[l]=L_({},o):Wp(o)?r[l]=o.slice():r[l]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Ab(arguments[o],n);return r}const x1e=(t,r,n,{allOwnKeys:o}={})=>(Ab(r,(a,l)=>{n&&aa(a)?t[l]=iR(a,n):t[l]=a},{allOwnKeys:o}),t),S1e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),E1e=(t,r,n,o)=>{t.prototype=Object.create(r.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),n&&Object.assign(t.prototype,n)},D1e=(t,r,n,o)=>{let a,l,d;const h={};if(r=r||{},t==null)return r;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)d=a[l],(!o||o(d,t,r))&&!h[d]&&(r[d]=t[d],h[d]=!0);t=n!==!1&&a2(t)}while(t&&(!n||n(t,r))&&t!==Object.prototype);return r},I1e=(t,r,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=r.length;const o=t.indexOf(r,n);return o!==-1&&o===n},T1e=t=>{if(!t)return null;if(Wp(t))return t;let r=t.length;if(!sR(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=t[r];return n},N1e=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&a2(Uint8Array)),M1e=(t,r)=>{const n=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=n.next())&&!o.done;){const a=o.value;r.call(t,a[0],a[1])}},P1e=(t,r)=>{let n;const o=[];for(;(n=t.exec(r))!==null;)o.push(n);return o},O1e=vl("HTMLFormElement"),j1e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),rP=(({hasOwnProperty:t})=>(r,n)=>t.call(r,n))(Object.prototype),L1e=vl("RegExp"),cR=(t,r)=>{const n=Object.getOwnPropertyDescriptors(t),o={};Ab(n,(a,l)=>{let d;(d=r(a,l,t))!==!1&&(o[l]=d||a)}),Object.defineProperties(t,o)},R1e=t=>{cR(t,(r,n)=>{if(aa(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=t[n];if(aa(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},B1e=(t,r)=>{const n={},o=a=>{a.forEach(l=>{n[l]=!0})};return Wp(t)?o(t):o(String(t).split(r)),n},F1e=()=>{},z1e=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r,TA="abcdefghijklmnopqrstuvwxyz",iP="0123456789",uR={DIGIT:iP,ALPHA:TA,ALPHA_DIGIT:TA+TA.toUpperCase()+iP},U1e=(t=16,r=uR.ALPHA_DIGIT)=>{let n="";const{length:o}=r;for(;t--;)n+=r[Math.random()*o|0];return n};function q1e(t){return!!(t&&aa(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const V1e=t=>{const r=new Array(10),n=(o,a)=>{if(Tw(o)){if(r.indexOf(o)>=0)return;if(!("toJSON"in o)){r[a]=o;const l=Wp(o)?[]:{};return Ab(o,(d,h)=>{const p=n(d,a+1);!Gg(p)&&(l[h]=p)}),r[a]=void 0,l}}return o};return n(t,0)},$1e=vl("AsyncFunction"),H1e=t=>t&&(Tw(t)||aa(t))&&aa(t.then)&&aa(t.catch),dR=((t,r)=>t?setImmediate:r?((n,o)=>(Sh.addEventListener("message",({source:a,data:l})=>{a===Sh&&l===n&&o.length&&o.shift()()},!1),a=>{o.push(a),Sh.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",aa(Sh.postMessage)),W1e=typeof queueMicrotask<"u"?queueMicrotask.bind(Sh):typeof process<"u"&&process.nextTick||dR,ut={isArray:Wp,isArrayBuffer:oR,isBuffer:c1e,isFormData:k1e,isArrayBufferView:u1e,isString:d1e,isNumber:sR,isBoolean:h1e,isObject:Tw,isPlainObject:Lk,isReadableStream:y1e,isRequest:v1e,isResponse:A1e,isHeaders:_1e,isUndefined:Gg,isDate:f1e,isFile:p1e,isBlob:m1e,isRegExp:L1e,isFunction:aa,isStream:b1e,isURLSearchParams:w1e,isTypedArray:N1e,isFileList:g1e,forEach:Ab,merge:L_,extend:x1e,trim:C1e,stripBOM:S1e,inherits:E1e,toFlatObject:D1e,kindOf:Dw,kindOfTest:vl,endsWith:I1e,toArray:T1e,forEachEntry:M1e,matchAll:P1e,isHTMLForm:O1e,hasOwnProperty:rP,hasOwnProp:rP,reduceDescriptors:cR,freezeMethods:R1e,toObjectSet:B1e,toCamelCase:j1e,noop:F1e,toFiniteNumber:z1e,findKey:aR,global:Sh,isContextDefined:lR,ALPHABET:uR,generateString:U1e,isSpecCompliantForm:q1e,toJSONObject:V1e,isAsyncFn:$1e,isThenable:H1e,setImmediate:dR,asap:W1e};function Cn(t,r,n,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}ut.inherits(Cn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ut.toJSONObject(this.config),code:this.code,status:this.status}}});const hR=Cn.prototype,fR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{fR[t]={value:t}});Object.defineProperties(Cn,fR);Object.defineProperty(hR,"isAxiosError",{value:!0});Cn.from=(t,r,n,o,a,l)=>{const d=Object.create(hR);return ut.toFlatObject(t,d,function(h){return h!==Error.prototype},h=>h!=="isAxiosError"),Cn.call(d,t.message,r,n,o,a),d.cause=t,d.name=t.name,l&&Object.assign(d,l),d};const G1e=null;function R_(t){return ut.isPlainObject(t)||ut.isArray(t)}function pR(t){return ut.endsWith(t,"[]")?t.slice(0,-2):t}function oP(t,r,n){return t?t.concat(r).map(function(o,a){return o=pR(o),!n&&a?"["+o+"]":o}).join(n?".":""):r}function Y1e(t){return ut.isArray(t)&&!t.some(R_)}const K1e=ut.toFlatObject(ut,{},null,function(t){return/^is[A-Z]/.test(t)});function Nw(t,r,n){if(!ut.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,n=ut.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,x){return!ut.isUndefined(x[k])});const o=n.metaTokens,a=n.visitor||g,l=n.dots,d=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&ut.isSpecCompliantForm(r);if(!ut.isFunction(a))throw new TypeError("visitor must be a function");function p(k){if(k===null)return"";if(ut.isDate(k))return k.toISOString();if(!h&&ut.isBlob(k))throw new Cn("Blob is not supported. Use a Buffer instead.");return ut.isArrayBuffer(k)||ut.isTypedArray(k)?h&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function g(k,x,C){let D=k;if(k&&!C&&typeof k=="object"){if(ut.endsWith(x,"{}"))x=o?x:x.slice(0,-2),k=JSON.stringify(k);else if(ut.isArray(k)&&Y1e(k)||(ut.isFileList(k)||ut.endsWith(x,"[]"))&&(D=ut.toArray(k)))return x=pR(x),D.forEach(function(S,N){!(ut.isUndefined(S)||S===null)&&r.append(d===!0?oP([x],N,l):d===null?x:x+"[]",p(S))}),!1}return R_(k)?!0:(r.append(oP(C,x,l),p(k)),!1)}const b=[],y=Object.assign(K1e,{defaultVisitor:g,convertValue:p,isVisitable:R_});function v(k,x){if(!ut.isUndefined(k)){if(b.indexOf(k)!==-1)throw Error("Circular reference detected in "+x.join("."));b.push(k),ut.forEach(k,function(C,D){(!(ut.isUndefined(C)||C===null)&&a.call(r,C,ut.isString(D)?D.trim():D,x,y))===!0&&v(C,x?x.concat(D):[D])}),b.pop()}}if(!ut.isObject(t))throw new TypeError("data must be an object");return v(t),r}function sP(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return r[n]})}function l2(t,r){this._pairs=[],t&&Nw(t,this,r)}const mR=l2.prototype;mR.append=function(t,r){this._pairs.push([t,r])};mR.toString=function(t){const r=t?function(n){return t.call(this,n,sP)}:sP;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function Q1e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gR(t,r,n){if(!r)return t;const o=n&&n.encode||Q1e;ut.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(r,n):l=ut.isURLSearchParams(r)?r.toString():new l2(r,n).toString(o),l){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class aP{constructor(){this.handlers=[]}use(r,n,o){return this.handlers.push({fulfilled:r,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ut.forEach(this.handlers,function(n){n!==null&&r(n)})}}const bR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},J1e=typeof URLSearchParams<"u"?URLSearchParams:l2,Z1e=typeof FormData<"u"?FormData:null,X1e=typeof Blob<"u"?Blob:null,ewe={isBrowser:!0,classes:{URLSearchParams:J1e,FormData:Z1e,Blob:X1e},protocols:["http","https","file","blob","url","data"]},c2=typeof window<"u"&&typeof document<"u",B_=typeof navigator=="object"&&navigator||void 0,twe=c2&&(!B_||["ReactNative","NativeScript","NS"].indexOf(B_.product)<0),nwe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rwe=c2&&window.location.href||"http://localhost",iwe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:c2,hasStandardBrowserEnv:twe,hasStandardBrowserWebWorkerEnv:nwe,navigator:B_,origin:rwe},Symbol.toStringTag,{value:"Module"})),qo={...iwe,...ewe};function owe(t,r){return Nw(t,new qo.classes.URLSearchParams,Object.assign({visitor:function(n,o,a,l){return qo.isNode&&ut.isBuffer(n)?(this.append(o,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},r))}function swe(t){return ut.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function awe(t){const r={},n=Object.keys(t);let o;const a=n.length;let l;for(o=0;o<a;o++)l=n[o],r[l]=t[l];return r}function kR(t){function r(n,o,a,l){let d=n[l++];if(d==="__proto__")return!0;const h=Number.isFinite(+d),p=l>=n.length;return d=!d&&ut.isArray(a)?a.length:d,p?(ut.hasOwnProp(a,d)?a[d]=[a[d],o]:a[d]=o,!h):((!a[d]||!ut.isObject(a[d]))&&(a[d]=[]),r(n,o,a[d],l)&&ut.isArray(a[d])&&(a[d]=awe(a[d])),!h)}if(ut.isFormData(t)&&ut.isFunction(t.entries)){const n={};return ut.forEachEntry(t,(o,a)=>{r(swe(o),a,n,0)}),n}return null}function lwe(t,r,n){if(ut.isString(t))try{return(r||JSON.parse)(t),ut.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(0,JSON.stringify)(t)}const _b={transitional:bR,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,a=ut.isObject(t);if(a&&ut.isHTMLForm(t)&&(t=new FormData(t)),ut.isFormData(t))return o?JSON.stringify(kR(t)):t;if(ut.isArrayBuffer(t)||ut.isBuffer(t)||ut.isStream(t)||ut.isFile(t)||ut.isBlob(t)||ut.isReadableStream(t))return t;if(ut.isArrayBufferView(t))return t.buffer;if(ut.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return owe(t,this.formSerializer).toString();if((l=ut.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Nw(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),lwe(t)):t}],transformResponse:[function(t){const r=this.transitional||_b.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(ut.isResponse(t)||ut.isReadableStream(t))return t;if(t&&ut.isString(t)&&(n&&!this.responseType||o)){const a=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?Cn.from(l,Cn.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qo.classes.FormData,Blob:qo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ut.forEach(["delete","get","head","post","put","patch"],t=>{_b.headers[t]={}});const cwe=ut.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uwe=t=>{const r={};let n,o,a;return t&&t.split(`
`).forEach(function(l){a=l.indexOf(":"),n=l.substring(0,a).trim().toLowerCase(),o=l.substring(a+1).trim(),!(!n||r[n]&&cwe[n])&&(n==="set-cookie"?r[n]?r[n].push(o):r[n]=[o]:r[n]=r[n]?r[n]+", "+o:o)}),r},lP=Symbol("internals");function fg(t){return t&&String(t).trim().toLowerCase()}function Rk(t){return t===!1||t==null?t:ut.isArray(t)?t.map(Rk):String(t)}function dwe(t){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)r[o[1]]=o[2];return r}const hwe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function NA(t,r,n,o,a){if(ut.isFunction(o))return o.call(this,r,n);if(a&&(r=n),!!ut.isString(r)){if(ut.isString(o))return r.indexOf(o)!==-1;if(ut.isRegExp(o))return o.test(r)}}function fwe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,o)=>n.toUpperCase()+o)}function pwe(t,r){const n=ut.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+n,{value:function(a,l,d){return this[o].call(this,r,a,l,d)},configurable:!0})})}class Cs{constructor(r){r&&this.set(r)}set(r,n,o){const a=this;function l(h,p,g){const b=fg(p);if(!b)throw new Error("header name must be a non-empty string");const y=ut.findKey(a,b);(!y||a[y]===void 0||g===!0||g===void 0&&a[y]!==!1)&&(a[y||p]=Rk(h))}const d=(h,p)=>ut.forEach(h,(g,b)=>l(g,b,p));if(ut.isPlainObject(r)||r instanceof this.constructor)d(r,n);else if(ut.isString(r)&&(r=r.trim())&&!hwe(r))d(uwe(r),n);else if(ut.isHeaders(r))for(const[h,p]of r.entries())l(p,h,o);else r!=null&&l(n,r,o);return this}get(r,n){if(r=fg(r),r){const o=ut.findKey(this,r);if(o){const a=this[o];if(!n)return a;if(n===!0)return dwe(a);if(ut.isFunction(n))return n.call(this,a,o);if(ut.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=fg(r),r){const o=ut.findKey(this,r);return!!(o&&this[o]!==void 0&&(!n||NA(this,this[o],o,n)))}return!1}delete(r,n){const o=this;let a=!1;function l(d){if(d=fg(d),d){const h=ut.findKey(o,d);h&&(!n||NA(o,o[h],h,n))&&(delete o[h],a=!0)}}return ut.isArray(r)?r.forEach(l):l(r),a}clear(r){const n=Object.keys(this);let o=n.length,a=!1;for(;o--;){const l=n[o];(!r||NA(this,this[l],l,r,!0))&&(delete this[l],a=!0)}return a}normalize(r){const n=this,o={};return ut.forEach(this,(a,l)=>{const d=ut.findKey(o,l);if(d){n[d]=Rk(a),delete n[l];return}const h=r?fwe(l):String(l).trim();h!==l&&delete n[l],n[h]=Rk(a),o[h]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return ut.forEach(this,(o,a)=>{o!=null&&o!==!1&&(n[a]=r&&ut.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const o=new this(r);return n.forEach(a=>o.set(a)),o}static accessor(r){const n=(this[lP]=this[lP]={accessors:{}}).accessors,o=this.prototype;function a(l){const d=fg(l);n[d]||(pwe(o,l),n[d]=!0)}return ut.isArray(r)?r.forEach(a):a(r),this}}Cs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ut.reduceDescriptors(Cs.prototype,({value:t},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(o){this[n]=o}}});ut.freezeMethods(Cs);function MA(t,r){const n=this||_b,o=r||n,a=Cs.from(o.headers);let l=o.data;return ut.forEach(t,function(d){l=d.call(n,l,a.normalize(),r?r.status:void 0)}),a.normalize(),l}function wR(t){return!!(t&&t.__CANCEL__)}function Gp(t,r,n){Cn.call(this,t??"canceled",Cn.ERR_CANCELED,r,n),this.name="CanceledError"}ut.inherits(Gp,Cn,{__CANCEL__:!0});function yR(t,r,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):r(new Cn("Request failed with status code "+n.status,[Cn.ERR_BAD_REQUEST,Cn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function mwe(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function gwe(t,r){t=t||10;const n=new Array(t),o=new Array(t);let a=0,l=0,d;return r=r!==void 0?r:1e3,function(h){const p=Date.now(),g=o[l];d||(d=p),n[a]=h,o[a]=p;let b=l,y=0;for(;b!==a;)y+=n[b++],b=b%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),p-d<r)return;const v=g&&p-g;return v?Math.round(y*1e3/v):void 0}}function bwe(t,r){let n=0,o=1e3/r,a,l;const d=(h,p=Date.now())=>{n=p,a=null,l&&(clearTimeout(l),l=null),t.apply(null,h)};return[(...h)=>{const p=Date.now(),g=p-n;g>=o?d(h,p):(a=h,l||(l=setTimeout(()=>{l=null,d(a)},o-g)))},()=>a&&d(a)]}const y1=(t,r,n=3)=>{let o=0;const a=gwe(50,250);return bwe(l=>{const d=l.loaded,h=l.lengthComputable?l.total:void 0,p=d-o,g=a(p),b=d<=h;o=d;const y={loaded:d,total:h,progress:h?d/h:void 0,bytes:p,rate:g||void 0,estimated:g&&h&&b?(h-d)/g:void 0,event:l,lengthComputable:h!=null,[r?"download":"upload"]:!0};t(y)},n)},cP=(t,r)=>{const n=t!=null;return[o=>r[0]({lengthComputable:n,total:t,loaded:o}),r[1]]},uP=t=>(...r)=>ut.asap(()=>t(...r)),kwe=qo.hasStandardBrowserEnv?((t,r)=>n=>(n=new URL(n,qo.origin),t.protocol===n.protocol&&t.host===n.host&&(r||t.port===n.port)))(new URL(qo.origin),qo.navigator&&/(msie|trident)/i.test(qo.navigator.userAgent)):()=>!0,wwe=qo.hasStandardBrowserEnv?{write(t,r,n,o,a,l){const d=[t+"="+encodeURIComponent(r)];ut.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),ut.isString(o)&&d.push("path="+o),ut.isString(a)&&d.push("domain="+a),l===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ywe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function vwe(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function vR(t,r){return t&&!ywe(r)?vwe(t,r):r}const dP=t=>t instanceof Cs?{...t}:t;function Hh(t,r){r=r||{};const n={};function o(g,b,y,v){return ut.isPlainObject(g)&&ut.isPlainObject(b)?ut.merge.call({caseless:v},g,b):ut.isPlainObject(b)?ut.merge({},b):ut.isArray(b)?b.slice():b}function a(g,b,y,v){if(ut.isUndefined(b)){if(!ut.isUndefined(g))return o(void 0,g,y,v)}else return o(g,b,y,v)}function l(g,b){if(!ut.isUndefined(b))return o(void 0,b)}function d(g,b){if(ut.isUndefined(b)){if(!ut.isUndefined(g))return o(void 0,g)}else return o(void 0,b)}function h(g,b,y){if(y in r)return o(g,b);if(y in t)return o(void 0,g)}const p={url:l,method:l,data:l,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:h,headers:(g,b,y)=>a(dP(g),dP(b),y,!0)};return ut.forEach(Object.keys(Object.assign({},t,r)),function(g){const b=p[g]||a,y=b(t[g],r[g],g);ut.isUndefined(y)&&b!==h||(n[g]=y)}),n}const AR=t=>{const r=Hh({},t);let{data:n,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:l,headers:d,auth:h}=r;r.headers=d=Cs.from(d),r.url=gR(vR(r.baseURL,r.url),t.params,t.paramsSerializer),h&&d.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(ut.isFormData(n)){if(qo.hasStandardBrowserEnv||qo.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((p=d.getContentType())!==!1){const[g,...b]=p?p.split(";").map(y=>y.trim()).filter(Boolean):[];d.setContentType([g||"multipart/form-data",...b].join("; "))}}if(qo.hasStandardBrowserEnv&&(o&&ut.isFunction(o)&&(o=o(r)),o||o!==!1&&kwe(r.url))){const g=a&&l&&wwe.read(l);g&&d.set(a,g)}return r},Awe=typeof XMLHttpRequest<"u",_we=Awe&&function(t){return new Promise(function(r,n){const o=AR(t);let a=o.data;const l=Cs.from(o.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:p}=o,g,b,y,v,k;function x(){v&&v(),k&&k(),o.cancelToken&&o.cancelToken.unsubscribe(g),o.signal&&o.signal.removeEventListener("abort",g)}let C=new XMLHttpRequest;C.open(o.method.toUpperCase(),o.url,!0),C.timeout=o.timeout;function D(){if(!C)return;const N=Cs.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),P={data:!d||d==="text"||d==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:N,config:t,request:C};yR(function(B){r(B),x()},function(B){n(B),x()},P),C=null}"onloadend"in C?C.onloadend=D:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(D)},C.onabort=function(){C&&(n(new Cn("Request aborted",Cn.ECONNABORTED,t,C)),C=null)},C.onerror=function(){n(new Cn("Network Error",Cn.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let N=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const P=o.transitional||bR;o.timeoutErrorMessage&&(N=o.timeoutErrorMessage),n(new Cn(N,P.clarifyTimeoutError?Cn.ETIMEDOUT:Cn.ECONNABORTED,t,C)),C=null},a===void 0&&l.setContentType(null),"setRequestHeader"in C&&ut.forEach(l.toJSON(),function(N,P){C.setRequestHeader(P,N)}),ut.isUndefined(o.withCredentials)||(C.withCredentials=!!o.withCredentials),d&&d!=="json"&&(C.responseType=o.responseType),p&&([y,k]=y1(p,!0),C.addEventListener("progress",y)),h&&C.upload&&([b,v]=y1(h),C.upload.addEventListener("progress",b),C.upload.addEventListener("loadend",v)),(o.cancelToken||o.signal)&&(g=N=>{C&&(n(!N||N.type?new Gp(null,t,C):N),C.abort(),C=null)},o.cancelToken&&o.cancelToken.subscribe(g),o.signal&&(o.signal.aborted?g():o.signal.addEventListener("abort",g)));const S=mwe(o.url);if(S&&qo.protocols.indexOf(S)===-1){n(new Cn("Unsupported protocol "+S+":",Cn.ERR_BAD_REQUEST,t));return}C.send(a||null)})},Cwe=(t,r)=>{const{length:n}=t=t?t.filter(Boolean):[];if(r||n){let o=new AbortController,a;const l=function(g){if(!a){a=!0,h();const b=g instanceof Error?g:this.reason;o.abort(b instanceof Cn?b:new Gp(b instanceof Error?b.message:b))}};let d=r&&setTimeout(()=>{d=null,l(new Cn(`timeout ${r} of ms exceeded`,Cn.ETIMEDOUT))},r);const h=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),t=null)};t.forEach(g=>g.addEventListener("abort",l));const{signal:p}=o;return p.unsubscribe=()=>ut.asap(h),p}},xwe=function*(t,r){let n=t.byteLength;if(n<r){yield t;return}let o=0,a;for(;o<n;)a=o+r,yield t.slice(o,a),o=a},Swe=async function*(t,r){for await(const n of Ewe(t))yield*xwe(n,r)},Ewe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:n,value:o}=await r.read();if(n)break;yield o}}finally{await r.cancel()}},hP=(t,r,n,o)=>{const a=Swe(t,r);let l=0,d,h=p=>{d||(d=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:g,value:b}=await a.next();if(g){h(),p.close();return}let y=b.byteLength;if(n){let v=l+=y;n(v)}p.enqueue(new Uint8Array(b))}catch(g){throw h(g),g}},cancel(p){return h(p),a.return()}},{highWaterMark:2})},Mw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",_R=Mw&&typeof ReadableStream=="function",Dwe=Mw&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),CR=(t,...r)=>{try{return!!t(...r)}catch{return!1}},Iwe=_R&&CR(()=>{let t=!1;const r=new Request(qo.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),fP=64*1024,F_=_R&&CR(()=>ut.isReadableStream(new Response("").body)),v1={stream:F_&&(t=>t.body)};Mw&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!v1[r]&&(v1[r]=ut.isFunction(t[r])?n=>n[r]():(n,o)=>{throw new Cn(`Response type '${r}' is not supported`,Cn.ERR_NOT_SUPPORT,o)})})})(new Response);const Twe=async t=>{if(t==null)return 0;if(ut.isBlob(t))return t.size;if(ut.isSpecCompliantForm(t))return(await new Request(qo.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ut.isArrayBufferView(t)||ut.isArrayBuffer(t))return t.byteLength;if(ut.isURLSearchParams(t)&&(t=t+""),ut.isString(t))return(await Dwe(t)).byteLength},Nwe=async(t,r)=>ut.toFiniteNumber(t.getContentLength())??Twe(r),Mwe=Mw&&(async t=>{let{url:r,method:n,data:o,signal:a,cancelToken:l,timeout:d,onDownloadProgress:h,onUploadProgress:p,responseType:g,headers:b,withCredentials:y="same-origin",fetchOptions:v}=AR(t);g=g?(g+"").toLowerCase():"text";let k=Cwe([a,l&&l.toAbortSignal()],d),x;const C=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let D;try{if(p&&Iwe&&n!=="get"&&n!=="head"&&(D=await Nwe(b,o))!==0){let $=new Request(r,{method:"POST",body:o,duplex:"half"}),V;if(ut.isFormData(o)&&(V=$.headers.get("content-type"))&&b.setContentType(V),$.body){const[M,L]=cP(D,y1(uP(p)));o=hP($.body,fP,M,L)}}ut.isString(y)||(y=y?"include":"omit");const S="credentials"in Request.prototype;x=new Request(r,{...v,signal:k,method:n.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:S?y:void 0});let N=await fetch(x);const P=F_&&(g==="stream"||g==="response");if(F_&&(h||P&&C)){const $={};["status","statusText","headers"].forEach(q=>{$[q]=N[q]});const V=ut.toFiniteNumber(N.headers.get("content-length")),[M,L]=h&&cP(V,y1(uP(h),!0))||[];N=new Response(hP(N.body,fP,M,()=>{L&&L(),C&&C()}),$)}g=g||"text";let B=await v1[ut.findKey(v1,g)||"text"](N,t);return!P&&C&&C(),await new Promise(($,V)=>{yR($,V,{data:B,headers:Cs.from(N.headers),status:N.status,statusText:N.statusText,config:t,request:x})})}catch(S){throw C&&C(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new Cn("Network Error",Cn.ERR_NETWORK,t,x),{cause:S.cause||S}):Cn.from(S,S&&S.code,t,x)}}),z_={http:G1e,xhr:_we,fetch:Mwe};ut.forEach(z_,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const pP=t=>`- ${t}`,Pwe=t=>ut.isFunction(t)||t===null||t===!1,xR={getAdapter:t=>{t=ut.isArray(t)?t:[t];const{length:r}=t;let n,o;const a={};for(let l=0;l<r;l++){n=t[l];let d;if(o=n,!Pwe(n)&&(o=z_[(d=String(n)).toLowerCase()],o===void 0))throw new Cn(`Unknown adapter '${d}'`);if(o)break;a[d||"#"+l]=o}if(!o){const l=Object.entries(a).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=r?l.length>1?`since :
`+l.map(pP).join(`
`):" "+pP(l[0]):"as no adapter specified";throw new Cn("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:z_};function PA(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Gp(null,t)}function mP(t){return PA(t),t.headers=Cs.from(t.headers),t.data=MA.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),xR.getAdapter(t.adapter||_b.adapter)(t).then(function(r){return PA(t),r.data=MA.call(t,t.transformResponse,r),r.headers=Cs.from(r.headers),r},function(r){return wR(r)||(PA(t),r&&r.response&&(r.response.data=MA.call(t,t.transformResponse,r.response),r.response.headers=Cs.from(r.response.headers))),Promise.reject(r)})}const SR="1.7.9",Pw={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{Pw[t]=function(n){return typeof n===t||"a"+(r<1?"n ":" ")+t}});const gP={};Pw.transitional=function(t,r,n){function o(a,l){return"[Axios v"+SR+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,d)=>{if(t===!1)throw new Cn(o(l," has been removed"+(r?" in "+r:"")),Cn.ERR_DEPRECATED);return r&&!gP[l]&&(gP[l]=!0,console.warn(o(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,l,d):!0}};Pw.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Owe(t,r,n){if(typeof t!="object")throw new Cn("options must be an object",Cn.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let a=o.length;for(;a-- >0;){const l=o[a],d=r[l];if(d){const h=t[l],p=h===void 0||d(h,l,t);if(p!==!0)throw new Cn("option "+l+" must be "+p,Cn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Cn("Unknown option "+l,Cn.ERR_BAD_OPTION)}}const Bk={assertOptions:Owe,validators:Pw},Yl=Bk.validators;class Rh{constructor(r){this.defaults=r,this.interceptors={request:new aP,response:new aP}}async request(r,n){try{return await this._request(r,n)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?l&&!String(o.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+l):o.stack=l}catch{}}throw o}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=Hh(this.defaults,n);const{transitional:o,paramsSerializer:a,headers:l}=n;o!==void 0&&Bk.assertOptions(o,{silentJSONParsing:Yl.transitional(Yl.boolean),forcedJSONParsing:Yl.transitional(Yl.boolean),clarifyTimeoutError:Yl.transitional(Yl.boolean)},!1),a!=null&&(ut.isFunction(a)?n.paramsSerializer={serialize:a}:Bk.assertOptions(a,{encode:Yl.function,serialize:Yl.function},!0)),Bk.assertOptions(n,{baseUrl:Yl.spelling("baseURL"),withXsrfToken:Yl.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=l&&ut.merge(l.common,l[n.method]);l&&ut.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),n.headers=Cs.concat(d,l);const h=[];let p=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(p=p&&x.synchronous,h.unshift(x.fulfilled,x.rejected))});const g=[];this.interceptors.response.forEach(function(x){g.push(x.fulfilled,x.rejected)});let b,y=0,v;if(!p){const x=[mP.bind(this),void 0];for(x.unshift.apply(x,h),x.push.apply(x,g),v=x.length,b=Promise.resolve(n);y<v;)b=b.then(x[y++],x[y++]);return b}v=h.length;let k=n;for(y=0;y<v;){const x=h[y++],C=h[y++];try{k=x(k)}catch(D){C.call(this,D);break}}try{b=mP.call(this,k)}catch(x){return Promise.reject(x)}for(y=0,v=g.length;y<v;)b=b.then(g[y++],g[y++]);return b}getUri(r){r=Hh(this.defaults,r);const n=vR(r.baseURL,r.url);return gR(n,r.params,r.paramsSerializer)}}ut.forEach(["delete","get","head","options"],function(t){Rh.prototype[t]=function(r,n){return this.request(Hh(n||{},{method:t,url:r,data:(n||{}).data}))}});ut.forEach(["post","put","patch"],function(t){function r(n){return function(o,a,l){return this.request(Hh(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Rh.prototype[t]=r(),Rh.prototype[t+"Form"]=r(!0)});class u2{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const o=this;this.promise.then(a=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](a);o._listeners=null}),this.promise.then=a=>{let l;const d=new Promise(h=>{o.subscribe(h),l=h}).then(a);return d.cancel=function(){o.unsubscribe(l)},d},r(function(a,l,d){o.reason||(o.reason=new Gp(a,l,d),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=o=>{r.abort(o)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new u2(function(n){r=n}),cancel:r}}}function jwe(t){return function(r){return t.apply(null,r)}}function Lwe(t){return ut.isObject(t)&&t.isAxiosError===!0}const U_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(U_).forEach(([t,r])=>{U_[r]=t});function ER(t){const r=new Rh(t),n=iR(Rh.prototype.request,r);return ut.extend(n,Rh.prototype,r,{allOwnKeys:!0}),ut.extend(n,r,null,{allOwnKeys:!0}),n.create=function(o){return ER(Hh(t,o))},n}const ri=ER(_b);ri.Axios=Rh;ri.CanceledError=Gp;ri.CancelToken=u2;ri.isCancel=wR;ri.VERSION=SR;ri.toFormData=Nw;ri.AxiosError=Cn;ri.Cancel=ri.CanceledError;ri.all=function(t){return Promise.all(t)};ri.spread=jwe;ri.isAxiosError=Lwe;ri.mergeConfig=Hh;ri.AxiosHeaders=Cs;ri.formToJSON=t=>kR(ut.isHTMLForm(t)?new FormData(t):t);ri.getAdapter=xR.getAdapter;ri.HttpStatusCode=U_;ri.default=ri;const Rwe=async t=>{const r=new FormData;r.append("chatbot_id",t);try{const n=await ri.post("https://rag-flask-api.onrender.com/start_conversation",r,{headers:{"Content-Type":"multipart/form-data"}}),{conversation_id:o,intro_message:a}=n.data;if(!o)throw new Error("Failed to retrieve conversation ID from server.");return{conversationId:o,introMessage:a}}catch(n){throw console.error("Error starting conversation:",n),n}},Bwe=async(t,r,n)=>{const o=new FormData;o.append("chatbot_id",t),o.append("conversation_id",r),o.append("question",n);try{return(await ri.post("https://rag-flask-api.onrender.com/ask",o,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error sending message:",a),a}},Fwe=async(t,r)=>{const n=new FormData;n.append("chatbot_id",t),n.append("conversation_id",r);try{await ri.post("https://rag-flask-api.onrender.com/end_conversation",n,{headers:{"Content-Type":"multipart/form-data"}})}catch(o){throw console.error("Error ending conversation:",o),o}},zwe=async t=>{try{const r=await ri.get(`https://rag-flask-api.onrender.com/summary/${t}`);if(r.status===200&&r.data.summary)return r.data.summary;throw new Error("Summary not found for this chatbot.")}catch(r){throw console.error("Error fetching summary:",r),r}},Uwe=({chatbotId:t,open:r,onClose:n})=>{const[o,a]=Y.useState(null),[l,d]=Y.useState(!1),[h,p]=Y.useState(null),g=async()=>{d(!0),p(null);try{const b=await zwe(t);a(b)}catch(b){p(b.message||"Failed to fetch summary. Please try again.")}finally{d(!1)}};return Y.useEffect(()=>{r&&g()},[r]),mn.jsx(KL,{open:r,onClose:n,"aria-labelledby":"summary-modal-title","aria-describedby":"summary-modal-description",children:mn.jsxs(fl,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:600,bgcolor:"background.paper",borderRadius:4,boxShadow:24,p:4},children:[mn.jsxs(fl,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[mn.jsx(Lh,{id:"summary-modal-title",variant:"h6",component:"h2",children:"Document Summary"}),mn.jsx(b_,{onClick:n,children:mn.jsx(a1e,{})})]}),l?mn.jsx(fl,{sx:{display:"flex",justifyContent:"center",my:4},children:mn.jsx(Sue,{})}):h?mn.jsx(Lh,{color:"error",children:h}):mn.jsx(fl,{sx:{maxHeight:300,overflowY:"auto",padding:2,border:"1px solid #ddd",borderRadius:2,backgroundColor:"#f9f9f9"},children:mn.jsx(QC,{children:o})}),mn.jsx(Cg,{variant:"contained",sx:{mt:2},onClick:n,fullWidth:!0,children:"Close"})]})})},qwe=Y.forwardRef(({chatbotId:t,onConversationStart:r},n)=>{const[o,a]=Y.useState(!1),[l,d]=Y.useState(()=>{const V=localStorage.getItem("responses");return V?JSON.parse(V):[]}),[h,p]=Y.useState(()=>localStorage.getItem("conversationId")||null),[g,b]=Y.useState(!1),[y,v]=Y.useState(null),[k,x]=Y.useState(!1),C=K6("(max-width:600px)"),D=K6("(min-width:601px) and (max-width:960px)"),S=Y.useRef(null);Y.useEffect(()=>{typeof r=="function"&&h&&r(h)},[h,r]),Y.useEffect(()=>{S.current&&S.current.scrollIntoView({behavior:"smooth"})},[l]);const N=async()=>{a(V=>!V),!o&&!h&&!g&&P()},P=async()=>{if(!h){b(!0),v(null);try{const V=await Rwe(t),{conversationId:M,introMessage:L}=V;p(M),localStorage.setItem("conversationId",M),d(q=>{const Q=[...q,{id:"intro",sender:"chatbot",text:L}];return localStorage.setItem("responses",JSON.stringify(Q)),Q})}catch(V){console.error("Error starting conversation:",V),v("Failed to start a conversation. Please try again.")}finally{b(!1)}}},B=async(V,M=h)=>{b(!0),v(null);try{const L=await Bwe(t,M,V);d(q=>{const Q=[...q,{question:V,answer:L.answer}];return localStorage.setItem("responses",JSON.stringify(Q)),Q})}catch(L){console.error("Error sending message:",L),v("Failed to send the message. Please try again.")}finally{b(!1)}},$=async()=>{b(!0),v(null);try{h&&await Fwe(t,h),p(null),d([]),localStorage.removeItem("conversationId"),localStorage.removeItem("responses")}catch(V){console.error("Error ending conversation:",V),v("Failed to end the conversation. Please try again.")}finally{b(!1)}};return Y.useImperativeHandle(n,()=>({endConversation:$})),mn.jsx(mn.Fragment,{children:o?mn.jsxs(WL,{elevation:3,sx:IA.chatContainer(C,D),children:[mn.jsxs(fl,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[mn.jsx(Lh,{sx:IA.chatHeader,children:"PAT (Personalized Academic Tutor)"}),mn.jsx(b_,{onClick:N,sx:{color:"black"},children:"X"})]}),mn.jsx(r1e,{responses:l}),mn.jsx("div",{ref:S}),g&&mn.jsx(jde,{sx:{position:"absolute",top:0,left:0,width:"100%"}}),y&&mn.jsx(Lh,{color:"error",children:y}),mn.jsx(i1e,{onSendMessage:B,onStartConversation:P,onEndConversation:$,conversationId:h}),mn.jsx(Cg,{variant:"outlined",onClick:()=>x(!0),sx:{mt:2},children:"View Summary"}),mn.jsx(Uwe,{chatbotId:t,open:k,onClose:()=>x(!1)})]}):mn.jsx(b_,{onClick:N,sx:IA.chatToggleButton,children:mn.jsx(n1e,{fontSize:"large"})})})});class Vwe extends Y.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(r){console.error("Error caught by ErrorBoundary:",r)}render(){return this.state.hasError?A.jsx("h2",{children:"Something went wrong while loading the Chatbot."}):this.props.children}}const DR=Y.forwardRef(({chatbotId:t},r)=>{const{userDetails:n}=Ti(),o=Y.useRef(null),a=async l=>{if(console.log("ðŸ¤– Chatbot started. Conversation ID:",l),n!=null&&n.uid)try{await MP(pn(KP,"conversations",l),{conversationId:l,chatbotId:t,userId:n.uid,startedAt:new Date().toISOString()},{merge:!0}),console.log("Conversation saved to Firestore")}catch(d){console.error("Failed to save conversation:",d)}};return Y.useImperativeHandle(r,()=>({endConversation:()=>{o.current&&(console.log("Ending chatbot conversation..."),o.current.endConversation())}})),A.jsx(Vwe,{children:A.jsx(qwe,{ref:o,chatbotId:t,onConversationStart:a})})});DR.displayName="ChatbotWrapper";const fk="256599ed-a0a2-496f-990d-c51faaefd71a",$we=()=>{const[t,r]=Y.useState(fk),[n]=S1(),o=Y.useRef(null);return Y.useEffect(()=>{const a=n.get("material");if(!a){t!==fk&&r(fk);return}(async()=>{var b;console.log("Fetching chatbot ID for material:",a);const d=Yn(),h=Qn(d,"chatbots"),p=Op(h,Jg("material.id","==",a)),g=await xo(p);if(g.empty)console.log("No chatbot found for material, using default."),r(fk);else{const y=g.docs[0].data();console.log("Found chatbot ID:",y.chatbotId),y.chatbotId!==t&&((b=o.current)==null||b.endConversation()),r(y.chatbotId)}})()},[n,t]),A.jsx(Pe,{sx:{position:"fixed",bottom:16,right:16,zIndex:1100},children:A.jsx(DR,{ref:o,chatbotId:t})})},Hwe=()=>{const{notifications:t,removeNotification:r}=XP();return t.length===0?null:A.jsx(Pe,{sx:{position:"fixed",top:16,right:16,zIndex:9999,maxWidth:400,display:"flex",flexDirection:"column",gap:1},children:t.map(n=>A.jsx(q_,{in:!0,timeout:300,children:A.jsx(Rn,{elevation:6,children:A.jsxs(pr,{severity:n.type,sx:{width:"100%","& .MuiAlert-action":{alignItems:"flex-start",padding:"4px 0 0 16px"}},action:A.jsx(Ln,{size:"small",onClick:()=>r(n.id),sx:{color:"inherit"},children:A.jsx(nG,{fontSize:"small"})}),children:[n.title&&A.jsx(tG,{sx:{fontWeight:"bold",mb:.5},children:n.title}),n.message,n.actions&&n.actions.length>0&&A.jsx(Pe,{sx:{mt:1.5,display:"flex",gap:1,flexWrap:"wrap"},children:n.actions.map((o,a)=>A.jsx(wt,{size:"small",variant:o.primary?"contained":"outlined",color:n.type==="error"?"error":"primary",onClick:()=>{o.action(),r(n.id)},sx:{minWidth:"auto",fontSize:"0.75rem",padding:"2px 8px"},children:o.label},a))})]})})},n.id))})},Wwe=()=>{const{userDetails:t,isSuperAdmin:r}=Ti(),n=Dse(t,r);return QG(n)},Gwe=()=>{const{userDetails:t,loading:r}=Ti();if(r)return A.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:A.jsx(Lr,{})});const n="/nexlab",o=!!(t!=null&&t.uid);return A.jsxs(rG,{theme:Ise,children:[A.jsx(iG,{}),A.jsxs(pY,{basename:n,children:[o&&A.jsx(yL,{}),A.jsx("div",{className:"content",children:A.jsx(Y.Suspense,{fallback:A.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:A.jsx(Lr,{})}),children:A.jsx(Wwe,{})})}),A.jsx(Lse,{}),A.jsx(Nse,{}),o&&A.jsx($we,{}),A.jsx(Hwe,{})]})]})},Ywe=document.getElementById("root"),Kwe=vG.createRoot(Ywe);Kwe.render(A.jsx(at.StrictMode,{children:A.jsx(AY,{children:A.jsx(Gwe,{})})}));export{pO as B,AO as C,Ki as _,YP as a,Ti as b,KP as c,vO as d,S1 as e,w6 as f,k6 as g,fr as h,jK as i,LK as j,hO as k,RK as l,tye as m,hse as r,Vr as u,dO as v};
